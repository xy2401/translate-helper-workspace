<html id="09248.V-SESSION.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="V$SESSION displays session information for each current session."></meta>
      <meta name="description" content="V$SESSION displays session information for each current session."></meta>
      <title>V $ SESSION</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Reference"></meta>
      <meta property="og:description" content="V$SESSION displays session information for each current session."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00"></meta>
      <meta name="dcterms.title" content="Database Reference"></meta>
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96196-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="V-SESS_TIME_MODEL.html" title="Previous" type="text/html"></link>
      <link rel="next" href="V-SESSION_BLOCKERS.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="V-SESS_TIME_MODEL.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="V-SESSION_BLOCKERS.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="dynamic-performance-views.html" property="item" typeof="WebPage"><span property="name">动态性能视图</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="dynamic-performance-v-views-3.html" property="item" typeof="WebPage"><span property="name">动态性能（V $）浏览次数：V $ SCHEDULER_RUNNING_JOBS至V $ ZONEMAP_USAGE_STATS</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">V $ SESSION</li>
            </ol>
            <a id="GUID-28E2DC75-E157-4C0A-94AB-117C205789B9" name="GUID-28E2DC75-E157-4C0A-94AB-117C205789B9"></a><a id="REFRN30223"></a>
            
            <h2 id="REFRN-GUID-28E2DC75-E157-4C0A-94AB-117C205789B9" class="sect2"><span class="enumeration_section">9.17</span> V $ SESSION</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='V-SESSION'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p><code class="codeph">V$SESSION</code>显示每个当前会话的会话信息。
               </p>
               <div class="tblformalwide" id="GUID-28E2DC75-E157-4C0A-94AB-117C205789B9__GUID-455E4BEF-C98D-4A01-9766-D56972C31F16">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="This table describes the columns for this database view" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="24%" id="d2035542e169">柱</th>
                           <th align="left" valign="bottom" width="18%" id="d2035542e172">数据类型</th>
                           <th align="left" valign="bottom" width="58%" id="d2035542e175">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e180" headers="d2035542e169 ">
                              <p><code class="codeph">SADDR</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e180 d2035542e172 ">
                              <p><code class="codeph">RAW（4 | 8）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e180 d2035542e175 ">
                              <p>会话地址</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e192" headers="d2035542e169 ">
                              <p><code class="codeph">SID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e192 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e192 d2035542e175 ">
                              <p>会话标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e204" headers="d2035542e169 ">
                              <p><code class="codeph">SERIAL＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e204 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e204 d2035542e175 ">
                              <p>会话序列号。用于唯一标识会话的对象。如果会话结束且另一个会话以相同的会话ID开始，则保证会话级命令应用于正确的会话对象。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e216" headers="d2035542e169 ">
                              <p><code class="codeph">AUDSID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e216 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e216 d2035542e175 ">
                              <p>审核会话ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e228" headers="d2035542e169 ">
                              <p><code class="codeph">PADDR</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e228 d2035542e172 ">
                              <p><code class="codeph">RAW（4 | 8）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e228 d2035542e175 ">
                              <p>拥有会话的进程的地址</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e240" headers="d2035542e169 ">
                              <p><code class="codeph">用户＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e240 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e240 d2035542e175 ">
                              <p>Oracle用户标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e252" headers="d2035542e169 ">
                              <p><code class="codeph">用户名</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e252 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e252 d2035542e175 ">
                              <p>Oracle用户名</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e264" headers="d2035542e169 ">
                              <p><code class="codeph">命令</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e264 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e264 d2035542e175 ">
                              <p>正在进行的命令（解析最后一个语句）。</p>
                              <p>您可以通过运行此SQL查询找到此<code class="codeph">COMMAND</code>列中返回的任何值<span class="italic">n</span>的命令名称：</p><pre class="oac_no_warn" dir="ltr">SELECT command_name FROM v $ sqlcommand WHERE command_type = <span class="italic"><code class="codeph">n</code></span> ;</pre><p>此<code class="codeph">COMMAND</code>列中的值为<code class="codeph">0</code>表示该命令未记录在<code class="codeph">V$SESSION</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e301" headers="d2035542e169 ">
                              <p><code class="codeph">OWNERID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e301 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e301 d2035542e175 ">
                              <p>拥有可迁移会话的用户的标识符;如果值为<code class="codeph">2147483644</code>则列内容无效</p>
                              <p>对于使用Parallel Slaves的操作，将此值解释为4字节值。低位2字节表示会话编号，高位字节表示查询协调器的实例ID。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e317" headers="d2035542e169 ">
                              <p><code class="codeph">TADDR</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e317 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（16）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e317 d2035542e175 ">
                              <p>事务状态对象的地址</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e329" headers="d2035542e169 ">
                              <p><code class="codeph">LOCKWAIT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e329 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（16）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e329 d2035542e175 ">
                              <p>会话等待的锁的地址;如果没有则为NULL</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e342" headers="d2035542e169 ">
                              <p><code class="codeph">状态</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e342 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（8）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e342 d2035542e175 ">
                              <p>会议状况：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ACTIVE</code> - 当前正在执行SQL的会话</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">INACTIVE</code> - 非活动且没有配置限制或尚未超出配置限制的会话</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">KILLED</code> - 会话标记为已杀死</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">CACHED</code> - 会话临时缓存以供Oracle * XA使用</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SNIPED</code> - 超出某些已配置限制的非活动会话（例如，为资源管理器使用者组指定的资源限制或用户配置文件中指定的idle_time）。此类会议将不再允许再次活动。
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e380" headers="d2035542e169 ">
                              <p><code class="codeph">服务器</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e380 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（9）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e380 d2035542e175 ">
                              <p>服务器类型：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">专用</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">共享</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">伪</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">POOLED</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">没有</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e413" headers="d2035542e169 ">
                              <p><code class="codeph">SCHEMA＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e413 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e413 d2035542e175 ">
                              <p>架构用户标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e425" headers="d2035542e169 ">
                              <p><code class="codeph">SCHEMANAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e425 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e425 d2035542e175 ">
                              <p>架构用户名</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e437" headers="d2035542e169 ">
                              <p><code class="codeph">OSUSER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e437 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e437 d2035542e175 ">
                              <p>操作系统客户端用户名</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e449" headers="d2035542e169 ">
                              <p><code class="codeph">处理</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e449 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（24）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e449 d2035542e175 ">
                              <p>操作系统客户端进程ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e461" headers="d2035542e169 ">
                              <p><code class="codeph">机</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e461 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e461 d2035542e175 ">
                              <p>操作系统机器名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e473" headers="d2035542e169 ">
                              <p><code class="codeph">港口</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e473 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e473 d2035542e175 ">
                              <p>客户端端口号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e485" headers="d2035542e169 ">
                              <p><code class="codeph">终奌站</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e485 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（30）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e485 d2035542e175 ">
                              <p>操作系统终端名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e497" headers="d2035542e169 ">
                              <p><code class="codeph">程序</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e497 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（48）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e497 d2035542e175 ">
                              <p>操作系统程序名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e509" headers="d2035542e169 ">
                              <p><code class="codeph">类型</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e509 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（10）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e509 d2035542e175 ">
                              <p>会话类型</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e522" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_ADDRESS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e522 d2035542e172 ">
                              <p><code class="codeph">RAW（4 | 8）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e522 d2035542e175 ">
                              <p>与<code class="codeph">SQL_HASH_VALUE</code>一起<code class="codeph">SQL_HASH_VALUE</code>以标识当前正在执行的SQL语句</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e537" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_HASH_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e537 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e537 d2035542e175 ">
                              <p>与<code class="codeph">SQL_ADDRESS</code>一起<code class="codeph">SQL_ADDRESS</code>以标识当前正在执行的SQL语句</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e552" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e552 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（13）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e552 d2035542e175 ">
                              <p>当前正在执行的SQL语句的SQL标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e564" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_CHILD_NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e564 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e564 d2035542e175 ">
                              <p>当前正在执行的SQL语句的子编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e576" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_EXEC_START</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e576 d2035542e172 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e576 d2035542e175 ">
                              <p>此会话当前执行的SQL执行开始的时间;如果<code class="codeph">SQL_ID</code>为NULL，则为NULL</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e591" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_EXEC_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e591 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e591 d2035542e175 ">
                              <p>SQL执行标识符;如果<code class="codeph">SQL_ID</code>为NULL或者尚未启动该SQL的执行，则为NULL（请参阅<code class="codeph">V$SQL_MONITOR</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e609" headers="d2035542e169 ">
                              <p><code class="codeph">PREV_SQL_ADDR</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e609 d2035542e172 ">
                              <p><code class="codeph">RAW（4 | 8）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e609 d2035542e175 ">
                              <p>与<code class="codeph">PREV_HASH_VALUE</code>一起使用以标识最后执行的SQL语句</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e624" headers="d2035542e169 ">
                              <p><code class="codeph">PREV_HASH_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e624 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e624 d2035542e175 ">
                              <p>与<code class="codeph">SQL_HASH_VALUE</code>一起<code class="codeph">SQL_HASH_VALUE</code>以标识最后执行的SQL语句</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e639" headers="d2035542e169 ">
                              <p><code class="codeph">PREV_SQL_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e639 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（13）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e639 d2035542e175 ">
                              <p>执行的最后一个SQL语句的SQL标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e651" headers="d2035542e169 ">
                              <p><code class="codeph">PREV_CHILD_NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e651 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e651 d2035542e175 ">
                              <p>执行的最后一个SQL语句的子编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e663" headers="d2035542e169 ">
                              <p><code class="codeph">PREV_EXEC_START</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e663 d2035542e172 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e663 d2035542e175 ">
                              <p>SQL执行开始执行最后一次执行的SQL语句</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e676" headers="d2035542e169 ">
                              <p><code class="codeph">PREV_EXEC_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e676 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e676 d2035542e175 ">
                              <p>上次执行的SQL语句的SQL执行标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e688" headers="d2035542e169 ">
                              <p><code class="codeph">PLSQL_ENTRY_OBJECT_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e688 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e688 d2035542e175 ">
                              <p>堆栈中最顶层PL / SQL子程序的对象ID;如果堆栈上没有PL / SQL子程序，则为NULL</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e700" headers="d2035542e169 ">
                              <p><code class="codeph">PLSQL_ENTRY_SUBPROGRAM_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e700 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e700 d2035542e175 ">
                              <p>堆栈中最顶层PL / SQL子程序的子程序ID;如果堆栈上没有PL / SQL子程序，则为NULL</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e712" headers="d2035542e169 ">
                              <p><code class="codeph">PLSQL_OBJECT_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e712 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e712 d2035542e175 ">
                              <p>当前正在执行的PL / SQL子程序的对象ID;执行SQL时为NULL</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e724" headers="d2035542e169 ">
                              <p><code class="codeph">PLSQL_SUBPROGRAM_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e724 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e724 d2035542e175 ">
                              <p>当前正在执行的PL / SQL对象的子程序ID;执行SQL时为NULL</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e736" headers="d2035542e169 ">
                              <p><code class="codeph">MODULE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e736 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e736 d2035542e175 ">
                              <p>通过调用<code class="codeph">DBMS_APPLICATION_INFO.SET_MODULE</code>过程设置的当前正在执行的模块的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e751" headers="d2035542e169 ">
                              <p><code class="codeph">MODULE_HASH</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e751 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e751 d2035542e175 ">
                              <p><code class="codeph">MODULE</code>列的哈希值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e766" headers="d2035542e169 ">
                              <p><code class="codeph">行动</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e766 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e766 d2035542e175 ">
                              <p>通过调用<code class="codeph">DBMS_APPLICATION_INFO.SET_ACTION</code>过程设置的当前正在执行的操作的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e781" headers="d2035542e169 ">
                              <p><code class="codeph">ACTION_HASH</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e781 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e781 d2035542e175 ">
                              <p><code class="codeph">ACTION</code>列的哈希值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e796" headers="d2035542e169 ">
                              <p><code class="codeph">CLIENT_INFO</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e796 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e796 d2035542e175 ">
                              <p>由<code class="codeph">DBMS_APPLICATION_INFO.SET_CLIENT_INFO</code>过程设置的信息</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e811" headers="d2035542e169 ">
                              <p><code class="codeph">FIXED_TABLE_SEQUENCE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e811 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e811 d2035542e175 ">
                              <p>这包含一个数字，每次会话完成对数据库的调用时都会增加，并且从动态性能表中进行了干预选择。性能监视器可以使用此列来监视数据库中的统计信息。每次性能监视器查看数据库时，它只需要查看当前活动的会话或此列中的值高于性能监视器上次查看的最高值。自上次性能监视器查看数据库以来，所有其他会话一直处于空闲状态。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e824" headers="d2035542e169 ">
                              <p><code class="codeph">ROW_WAIT_OBJ＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e824 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e824 d2035542e175 ">
                              <p>包含<code class="codeph">ROW_WAIT_ROW#</code>指定的行的表的对象ID <code class="codeph">ROW_WAIT_ROW#</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e838" headers="d2035542e169 ">
                              <p><code class="codeph">ROW_WAIT_FILE＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e838 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e838 d2035542e175 ">
                              <p>包含<code class="codeph">ROW_WAIT_ROW#</code>指定的行的数据文件的标识符。仅当会话当前正在等待另一个事务提交且<code class="codeph">ROW_WAIT_OBJ#</code>的值不为<code class="codeph">-1</code>此列才有效。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e859" headers="d2035542e169 ">
                              <p><code class="codeph">ROW_WAIT_BLOCK＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e859 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e859 d2035542e175 ">
                              <p>包含<code class="codeph">ROW_WAIT_ROW#</code>指定的行的块的标识符。仅当会话当前正在等待另一个事务提交且<code class="codeph">ROW_WAIT_OBJ#</code>的值不为<code class="codeph">-1</code>此列才有效。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e880" headers="d2035542e169 ">
                              <p><code class="codeph">ROW_WAIT_ROW＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e880 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e880 d2035542e175 ">
                              <p>当前行被锁定。仅当会话当前正在等待另一个事务提交且<code class="codeph">ROW_WAIT_OBJ#</code>的值不为<code class="codeph">-1</code>此列才有效。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e898" headers="d2035542e169 ">
                              <p><code class="codeph">TOP_LEVEL_CALL＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e898 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e898 d2035542e175 ">
                              <p>Oracle顶级电话号码</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e910" headers="d2035542e169 ">
                              <p><code class="codeph">LOGON_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e910 d2035542e172 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e910 d2035542e175 ">
                              <p>登录时间</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e922" headers="d2035542e169 ">
                              <p><code class="codeph">LAST_CALL_ET</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e922 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e922 d2035542e175 ">
                              <p>如果会话<code class="codeph">STATUS</code>当前为<code class="codeph">ACTIVE</code> ，则该值表示自会话变为活动以来经过的时间（以秒为单位）。
                              </p>
                              <p>如果会话<code class="codeph">STATUS</code>当前为<code class="codeph">INACTIVE</code> ，则该值表示自会话变为非活动状态以来经过的时间（以秒为单位）。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e948" headers="d2035542e169 ">
                              <p><code class="codeph">PDML_ENABLED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e948 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e948 d2035542e175 ">
                              <p>此列已被<code class="codeph">PDML_STATUS</code>列替换</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e963" headers="d2035542e169 ">
                              <p><code class="codeph">FAILOVER_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e963 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（13）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e963 d2035542e175 ">
                              <p>指示是否以及在何种程度上为会话启用透明应用程序故障转移（TAF）：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">NONE</code> - 此会话禁用故障转移</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SESSION</code> - 客户端可以在断开连接后对其会话进行故障转移</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SELECT</code> - 客户端也可以对正在进行的查询进行故障转移</p>
                                 </li>
                              </ul>
                              <p><span class="bold">也可以看看：</span></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关TAF的更多信息，请参见<a href="../netag/identifying-and-accessing-database.html#NETAG180" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a></p>
                                 </li>
                                 <li>
                                    <p>有关配置TAF的信息，请参见<a href="../netag/enabling-advanced-features.html#NETAG455" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1011" headers="d2035542e169 ">
                              <p><code class="codeph">FAILOVER_METHOD</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1011 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（10）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1011 d2035542e175 ">
                              <p>表示会话的透明应用程序故障转移方法：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">NONE</code> - 此会话禁用故障转移</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">BASIC</code> - 客户端本身在断开连接后重新连接</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">PRECONNECT</code> - 备份实例可以支持来自备份的每个实例的所有连接</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1039" headers="d2035542e169 ">
                              <p><code class="codeph">FAILED_OVER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1039 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1039 d2035542e175 ">
                              <p>指示会话是在故障转移模式下运行还是已发生故障转移（ <code class="codeph">YES</code> ）或否（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1058" headers="d2035542e169 ">
                              <p><code class="codeph">RESOURCE_CONSUMER_GROUP</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1058 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（32）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1058 d2035542e175 ">
                              <p>会话的当前资源使用者组的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1070" headers="d2035542e169 ">
                              <p><code class="codeph">PDML_STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1070 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（8）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1070 d2035542e175 ">
                              <p>如果<code class="codeph">ENABLED</code> ，则会话处于启用<code class="codeph">PARALLEL</code> <code class="codeph">DML</code>模式。如果<code class="codeph">DISABLED</code> ，则会话不支持<code class="codeph">PARALLEL</code> <code class="codeph">DML</code>启用模式。如果<code class="codeph">FORCED</code> ，会话已被更改为强制<code class="codeph">PARALLEL</code> <code class="codeph">DML</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1110" headers="d2035542e169 ">
                              <p><code class="codeph">PDDL_STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1110 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（8）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1110 d2035542e175 ">
                              <p>如果<code class="codeph">ENABLED</code> ，则会话处于启用<code class="codeph">PARALLEL</code> <code class="codeph">DDL</code>模式。如果<code class="codeph">DISABLED</code> ，则会话不支持<code class="codeph">PARALLEL</code> <code class="codeph">DDL</code>启用模式。如果<code class="codeph">FORCED</code> ，会话已被更改为强制<code class="codeph">PARALLEL</code> <code class="codeph">DDL</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1150" headers="d2035542e169 ">
                              <p><code class="codeph">PQ_STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1150 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（8）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1150 d2035542e175 ">
                              <p>如果<code class="codeph">ENABLED</code> ，则会话处于启用<code class="codeph">PARALLEL</code> <code class="codeph">QUERY</code>模式。如果<code class="codeph">DISABLED</code> ，则会话不支持<code class="codeph">PARALLEL</code> <code class="codeph">QUERY</code>启用模式。如果<code class="codeph">FORCED</code> ，会话已被更改为强制<code class="codeph">PARALLEL</code> <code class="codeph">QUERY</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1190" headers="d2035542e169 ">
                              <p><code class="codeph">CURRENT_QUEUE_DURATION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1190 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1190 d2035542e175 ">
                              <p>如果排队（ <code class="codeph">1</code> ），则会话已排队的当前时间量。如果当前未排队，则值为<code class="codeph">0</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1208" headers="d2035542e169 ">
                              <p><code class="codeph">CLIENT_IDENTIFIER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1208 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1208 d2035542e175 ">
                              <p>会话的客户端标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1220" headers="d2035542e169 ">
                              <p><code class="codeph">BLOCKING_SESSION_STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1220 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（11）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1220 d2035542e175 ">
                              <p>此列提供有关是否存在阻止会话的详细信息：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">VALID</code> - 有一个阻塞会话，它在<code class="codeph">BLOCKING_INSTANCE</code>和<code class="codeph">BLOCKING_SESSION</code>列中标识</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NO HOLDER</code> - 没有会话阻止此会话</p>
                                 </li>
                                 <li>
                                    <p>不在<code class="codeph">NOT IN WAIT</code> - 这个会话不是在等待</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">UNKNOWN</code> - 阻止会话未知</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1259" headers="d2035542e169 ">
                              <p><code class="codeph">BLOCKING_INSTANCE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1259 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1259 d2035542e175 ">
                              <p>阻塞会话的实例标识符。仅当<code class="codeph">BLOCKING_SESSION_STATUS</code>的值为<code class="codeph">VALID</code>此列才<code class="codeph">VALID</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1277" headers="d2035542e169 ">
                              <p><code class="codeph">BLOCKING_SESSION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1277 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1277 d2035542e175 ">
                              <p>阻塞会话的会话标识符。仅当<code class="codeph">BLOCKING_SESSION_STATUS</code>的值为<code class="codeph">VALID</code>此列才<code class="codeph">VALID</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1295" headers="d2035542e169 ">
                              <p><code class="codeph">FINAL_BLOCKING_SESSION_STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1295 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（11）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1295 d2035542e175 ">
                              <p>最后的阻塞会话是等待链中的最后一个元素，它是通过跟随从此会话开始被彼此阻塞的会话构建的。在循环等待链的情况下，等待链中的一个会话将被选为最终阻止者。</p>
                              <p>此列提供有关是否存在最终阻止会话的详细信息：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">VALID</code> - 有一个最终的阻塞会话，它在<code class="codeph">FINAL_BLOCKING_INSTANCE</code>和<code class="codeph">FINAL_BLOCKING_SESSION</code>列中标识</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NO HOLDER</code> - 没有会话阻止此会话</p>
                                 </li>
                                 <li>
                                    <p>不在<code class="codeph">NOT IN WAIT</code> - 这个会话不是在等待</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">UNKNOWN</code> - 最后的阻止会话未知</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1336" headers="d2035542e169 ">
                              <p><code class="codeph">FINAL_BLOCKING_INSTANCE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1336 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1336 d2035542e175 ">
                              <p>最终阻塞会话的实例标识符。仅当<code class="codeph">FINAL_BLOCKING_SESSION_STATUS</code>的值为<code class="codeph">VALID</code>此列才<code class="codeph">VALID</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1355" headers="d2035542e169 ">
                              <p><code class="codeph">FINAL_BLOCKING_SESSION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1355 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1355 d2035542e175 ">
                              <p>阻塞会话的会话标识符。仅当<code class="codeph">FINAL_BLOCKING_SESSION_STATUS</code>的值为<code class="codeph">VALID</code>此列才<code class="codeph">VALID</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1373" headers="d2035542e169 ">
                              <p><code class="codeph">SEQ＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1373 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1373 d2035542e175 ">
                              <p>唯一标识当前或最后等待的数字（每次等待递增）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1385" headers="d2035542e169 ">
                              <p><code class="codeph">事件＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1385 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1385 d2035542e175 ">
                              <p>如果会话当前正在等待，则会话正在等待的资源或事件的编号。如果会话未处于等待状态，则会话最近等待的资源或事件的编号。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1397" headers="d2035542e169 ">
                              <p><code class="codeph">事件</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1397 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1397 d2035542e175 ">
                              <p>如果会话当前正在等待，则会话正在等待的资源或事件。如果会话未处于等待状态，则会话最近等待的资源或事件。</p>
                              <p><span class="bold">另请参阅：</span> <span class="q">“ <a href="oracle-wait-events.html#GUID-03BFEEFB-1020-4F3F-8CF8-A23E7026684B" title="本附录描述了Oracle等待事件。">Oracle等待事件</a> ”</span></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1419" headers="d2035542e169 ">
                              <p><code class="codeph">P1TEXT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1419 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1419 d2035542e175 ">
                              <p>第一个等待事件参数的描述</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1431" headers="d2035542e169 ">
                              <p><code class="codeph">P1</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1431 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1431 d2035542e175 ">
                              <p>第一个等待事件参数（十进制）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1443" headers="d2035542e169 ">
                              <p><code class="codeph">P1RAW</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1443 d2035542e172 ">
                              <p><code class="codeph">RAW（8）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1443 d2035542e175 ">
                              <p>第一个等待事件参数（十六进制） <a id="GUID-28E2DC75-E157-4C0A-94AB-117C205789B9__CJAEBHFB" name="GUID-28E2DC75-E157-4C0A-94AB-117C205789B9__CJAEBHFB" href="#GUID-28E2DC75-E157-4C0A-94AB-117C205789B9__CJAEBHFB" the="" p1raw,="" p2raw,="" and="" p3raw="" columns="" display="" same="" values="" as="" p1,="" p2,="" p3="" columns,="" except="" that="" numbers="" are="" displayed="" in="" hexadecimal=")" ="" onclick="footdisplay(1, "><sup>脚1</sup></a></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1477" headers="d2035542e169 ">
                              <p><code class="codeph">P2TEXT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1477 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1477 d2035542e175 ">
                              <p>第二个等待事件参数的描述</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1489" headers="d2035542e169 ">
                              <p><code class="codeph">P2</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1489 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1489 d2035542e175 ">
                              <p>第二个等待事件参数（十进制）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1501" headers="d2035542e169 ">
                              <p><code class="codeph">P2RAW</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1501 d2035542e172 ">
                              <p><code class="codeph">RAW（8）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1501 d2035542e175 ">
                              <p>第二个等待事件参数（十六进制） <a id="fnsrc_d2035542e1512" name="fnsrc_d2035542e1512" href="#fnsrc_d2035542e1512" the="" p1raw,="" p2raw,="" and="" p3raw="" columns="" display="" same="" values="" as="" p1,="" p2,="" p3="" columns,="" except="" that="" numbers="" are="" displayed="" in="" hexadecimal=")" ="" onclick="footdisplay(1, "><sup>Footref 1</sup></a></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1515" headers="d2035542e169 ">
                              <p><code class="codeph">P3TEXT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1515 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1515 d2035542e175 ">
                              <p>第三个等待事件参数的描述</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1528" headers="d2035542e169 ">
                              <p><code class="codeph">P3</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1528 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1528 d2035542e175 ">
                              <p>第三个等待事件参数（十进制）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1540" headers="d2035542e169 ">
                              <p><code class="codeph">P3RAW</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1540 d2035542e172 ">
                              <p><code class="codeph">RAW（8）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1540 d2035542e175 ">
                              <p>第三个等待事件参数（十六进制） <a id="fnsrc_d2035542e1551" name="fnsrc_d2035542e1551" href="#fnsrc_d2035542e1551" the="" p1raw,="" p2raw,="" and="" p3raw="" columns="" display="" same="" values="" as="" p1,="" p2,="" p3="" columns,="" except="" that="" numbers="" are="" displayed="" in="" hexadecimal=")" ="" onclick="footdisplay(1, "><sup>Footref 1</sup></a></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1554" headers="d2035542e169 ">
                              <p><code class="codeph">WAIT_CLASS_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1554 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1554 d2035542e175 ">
                              <p>等待事件类的标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1566" headers="d2035542e169 ">
                              <p><code class="codeph">WAIT_CLASS＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1566 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1566 d2035542e175 ">
                              <p>等待事件的类的编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1578" headers="d2035542e169 ">
                              <p><code class="codeph">WAIT_CLASS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1578 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1578 d2035542e175 ">
                              <p>等待事件的类的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1590" headers="d2035542e169 ">
                              <p><code class="codeph">等待时间</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1590 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1590 d2035542e175 ">
                              <p>如果会话当前正在等待，则该值为<code class="codeph">0</code> 。如果会话未处于等待状态，则值如下：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>&gt; <code class="codeph">0</code> - 值是最后一次等待的持续时间，以百分之一秒为单位</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">-1</code> - 上次等待的持续时间不到百分之一秒</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">-2</code> - 参数<code class="codeph">TIMED_STATISTICS</code>设置为<code class="codeph">false</code></p>
                                 </li>
                              </ul>
                              <p>不推荐使用此列，而是使用<code class="codeph">WAIT_TIME_MICRO</code>和<code class="codeph">STATE</code>列。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1635" headers="d2035542e169 ">
                              <p><code class="codeph">SECONDS_IN_WAIT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1635 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1635 d2035542e175 ">
                              <p>如果会话当前正在等待，则该值是等待当前等待的时间量。如果会话未处于等待状态，则该值是自上次等待开始以来的时间量。</p>
                              <p>不推荐使用此列，而是使用<code class="codeph">WAIT_TIME_MICRO</code>和<code class="codeph">TIME_SINCE_LAST_WAIT_MICRO</code>列。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1655" headers="d2035542e169 ">
                              <p><code class="codeph">州</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1655 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（19）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1655 d2035542e175 ">
                              <p>等待状态：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">WAITING</code> - 会话正在等待</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">WAITED UNKNOWN TIME</code> - 上次等待的持续时间未知;这是参数<code class="codeph">TIMED_STATISTICS</code>设置为<code class="codeph">false</code>时的值</p>
                                 </li>
                                 <li>
                                    <p>等待<code class="codeph">WAITED SHORT TIME</code> - 最后等待不到百分之一秒</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">WAITED KNOWN TIME</code> - <code class="codeph">WAIT_TIME</code>列中指定的最后一次等待的持续时间</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1696" headers="d2035542e169 ">
                              <p><code class="codeph">WAIT_TIME_MICRO</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1696 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1696 d2035542e175 ">
                              <p>等待的时间量（以微秒为单位）。如果会话当前正在等待，则该值是在当前等待中花费的时间。如果会话当前未处于等待状态，则该值是在上次等待中等待的时间量。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1708" headers="d2035542e169 ">
                              <p><code class="codeph">TIME_REMAINING_MICRO</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1708 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1708 d2035542e175 ">
                              <p>值的解释如下：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>&gt; <code class="codeph">0</code> - 当前等待的剩余时间（以微秒为单位）</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">0</code> - 当前等待已超时</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">-1</code> - 会话可以无限期地等待当前的等待</p>
                                 </li>
                                 <li>
                                    <p>NULL  - 会话当前未在等待</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1740" headers="d2035542e169 ">
                              <p><code class="codeph">TIME_SINCE_LAST_WAIT_MICRO</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1740 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1740 d2035542e175 ">
                              <p>自上次等待结束后经过的时间（以微秒为单位）。如果会话当前处于等待状态，则该值为<code class="codeph">0</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1756" headers="d2035542e169 ">
                              <p><code class="codeph">服务名称</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1756 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1756 d2035542e175 ">
                              <p>会话的服务名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1768" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_TRACE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1768 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（8）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1768 d2035542e175 ">
                              <p>指示SQL跟踪是启用（ <code class="codeph">ENABLED</code> ）还是禁用（ <code class="codeph">DISABLED</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1786" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_TRACE_WAITS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1786 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（5）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1786 d2035542e175 ">
                              <p>指示是否启用等待跟踪（ <code class="codeph">TRUE</code> ）（ <code class="codeph">FALSE</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1804" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_TRACE_BINDS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1804 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（5）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1804 d2035542e175 ">
                              <p>指示绑定跟踪是否已启用（ <code class="codeph">TRUE</code> ）（ <code class="codeph">FALSE</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1822" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_TRACE_PLAN_STATS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1822 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（10）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1822 d2035542e175 ">
                              <p>行源统计信息在每个游标的跟踪文件中转储的频率：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">决不</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">first_execution</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">all_executions</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1847" headers="d2035542e169 ">
                              <p><code class="codeph">SESSION_EDITION_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1847 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1847 d2035542e175 ">
                              <p>显示会话中<code class="codeph">sys_context('USERENV', 'SESSION_EDITION_ID')</code>报告的<code class="codeph">sys_context('USERENV', 'SESSION_EDITION_ID')</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1861" headers="d2035542e169 ">
                              <p><code class="codeph">CREATOR_ADDR</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1861 d2035542e172 ">
                              <p><code class="codeph">RAW（4 | 8）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1861 d2035542e175 ">
                              <p>创建过程或电路的地址</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1873" headers="d2035542e169 ">
                              <p><code class="codeph">CREATOR_SERIAL＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1873 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1873 d2035542e175 ">
                              <p>创建过程或电路的序列号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1885" headers="d2035542e169 ">
                              <p><code class="codeph">ECID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1885 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1885 d2035542e175 ">
                              <p>执行上下文标识符（由Application Server发送）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1897" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_TRANSLATION_PROFILE_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1897 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1897 d2035542e175 ">
                              <p>SQL转换配置文件的对象编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1909" headers="d2035542e169 ">
                              <p><code class="codeph">PGA_TUNABLE_MEM</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1909 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1909 d2035542e175 ">
                              <p>可调PGA内存量（以字节为单位）。</p>
                              <p>不可调节内存<code class="codeph">PGA_ALLOC_MEM</code>从<code class="codeph">V$PROCESS</code>减去<code class="codeph">PGA_TUNABLE_MEM</code>从<code class="codeph">V$SESSION</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1936" headers="d2035542e169 ">
                              <p><code class="codeph">SHARD_DDL_STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1936 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（8）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1936 d2035542e175 ">
                              <p>指示是否在当前会话（ <code class="codeph">ENABLED</code> ）中启用了shard DDL（ <code class="codeph">DISABLED</code> ）。
                              </p>
                              <p>该值仅与分片目录数据库相关。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1956" headers="d2035542e169 ">
                              <p><code class="codeph">CON_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1956 d2035542e172 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1956 d2035542e175 ">
                              <p>数据所属容器的ID。可能的值包括：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">0</code> ：此值用于包含与整个CDB相关的数据的行。此值还用于非CDB中的行。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">1</code> ：此值用于包含仅与根有关的数据的行</p>
                                 </li>
                                 <li>
                                    <p><span class="italic">n</span> ：其中<span class="italic">n</span>是包含数据的行的适用容器ID</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1987" headers="d2035542e169 ">
                              <p><code class="codeph">EXTERNAL_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1987 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（1024）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1987 d2035542e175 ">
                              <p>数据库用户的外部名称。对于企业用户，返回Oracle Internet Directory DN。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1999" headers="d2035542e169 ">
                              <p><code class="codeph">PLSQL_DEBUGGER_CONNECTED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1999 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2（5）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1999 d2035542e175 ">
                              <div class="p">指示会话是否连接到PL / SQL调试器。可能的值：<ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">真正</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">假</code></p>
                                    </li>
                                 </ul>
                              </div>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <p class="tablefootnote"><sup class="tablefootnote">脚注1</sup></p><p><code class="codeph">P1RAW</code> ， <code class="codeph">P2RAW</code>和<code class="codeph">P3RAW</code>列显示与<code class="codeph">P1</code> ， <code class="codeph">P2</code>和<code class="codeph">P3</code>列相同的值，但数字以十六进制显示。
                  </p>
               <p></p>
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-28E2DC75-E157-4C0A-94AB-117C205789B9__GUID-8171BF1F-9696-4392-A360-C6524AF3D2E7">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../tgdba/instance-tuning-using-performance-views.html#TGDBA-GUID-03401D0F-DB3E-49E5-89E0-2F2A6164A5C0" target="_blank"><span><cite>“Oracle数据库性能调整指南”</cite></span></a> ，以获取使用<code class="codeph">V$SESSION</code>来帮助识别正在等待缓冲区忙等待的对象的示例</p>
                        </li>
                        <li>
                           <p><a href="../tgdba/instance-tuning-using-performance-views.html#TGDBA-GUID-E8F12EF9-B4A8-441F-9814-763BB793FAF9" target="_blank"><span><cite>“Oracle数据库性能调整指南”</cite></span></a> ，以获取使用<code class="codeph">V$SESSION</code>确定哪些会话正在等待I / O的示例</p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">DBMS_APPLICATION_INFO</code>包的更多信息，请<a href="../arpls/DBMS_APPLICATION_INFO.html#ARPLS003" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="13038.designing-and-developing-for-performance.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>设计和开发性能</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Performance Tuning Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Performance Tuning Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-performance-tuning-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-12T22:26:14-07:00"></meta>
      <meta name="dcterms.title" content="Database Performance Tuning Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96347-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="performance-tuning-overview.html" title="Previous" type="text/html"></link>
      <link rel="next" href="performance-improvement-methods.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TGDBA"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="performance-tuning-overview.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="performance-improvement-methods.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库性能调优指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-I-database-performance-fundamentals.html" property="item" typeof="WebPage"><span property="name">数据库性能基础</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">设计和开发性能</li>
            </ol>
            <a id="GUID-CF4C8C89-9FFA-474F-B0F8-79049B8EB5FC" name="GUID-CF4C8C89-9FFA-474F-B0F8-79049B8EB5FC"></a><a id="TGDBA030"></a>
            
            <h2 id="TGDBA-GUID-CF4C8C89-9FFA-474F-B0F8-79049B8EB5FC" class="sect2"><span class="enumeration_chapter">2</span>设计和开发性能</h2>
         </header>
         <div class="ind">
            <div>
               <p>最佳系统性能始于设计，并贯穿系统的整个生命周期。在初始设计阶段仔细考虑性能问题，以便在生产过程中更轻松地调整系统。</p>
               <p>本章包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="designing-and-developing-for-performance.html#GUID-30C7065F-C099-4D3A-AA43-D61991FA5883">Oracle方法论</a></p>
                  </li>
                  <li>
                     <p><a href="designing-and-developing-for-performance.html#GUID-7521343A-F41D-4A5A-873F-ECB29E4E5083">了解投资选择</a></p>
                  </li>
                  <li>
                     <p><a href="designing-and-developing-for-performance.html#GUID-A0BA6C45-EF2B-4171-B716-51E7595F7DCD" title="可伸缩性是系统处理更多工作负载的能力，系统资源使用量成比例增加。可通过Internet访问的应用程序具有更复杂的性能和可用性要求。在构建应用程序时，设计人员和架构师应尽可能接近完美的可扩展性。这有时称为线性可扩展性，其中系统吞吐量与CPU数量成正比。">了解可伸缩性</a></p>
                  </li>
                  <li>
                     <p><a href="designing-and-developing-for-performance.html#GUID-F8511B21-9EEA-4F1D-A1A0-C7CCEF914503">系统架构</a></p>
                  </li>
                  <li>
                     <p><a href="designing-and-developing-for-performance.html#GUID-FB81D395-1940-49A2-925A-5AD3E1DBB570">应用设计原则</a></p>
                  </li>
                  <li>
                     <p><a href="designing-and-developing-for-performance.html#GUID-E6DFD7FD-E2E8-4C34-A81A-D25366F69594">工作负载测试，建模和实现</a></p>
                  </li>
                  <li>
                     <p><a href="designing-and-developing-for-performance.html#GUID-2E491D68-37F1-4D6B-B6E8-841A2C050E76">部署新应用程序</a></p>
                  </li>
               </ul>
            </div><a id="TGDBA94087"></a><div class="props_rev_3"><a id="GUID-30C7065F-C099-4D3A-AA43-D61991FA5883" name="GUID-30C7065F-C099-4D3A-AA43-D61991FA5883"></a><h3 id="TGDBA-GUID-30C7065F-C099-4D3A-AA43-D61991FA5883" class="sect3"><span class="enumeration_section">2.1</span> Oracle方法论</h3>
               <div>
                  <p>随着互联网在商业应用中发挥更大作用，计算机系统变得越来越大，越来越复杂，系统性能变得越来越重要。为了实现这一目标，Oracle基于多年的设计和性能经验制定了一种性能方法。此方法解释了可以显着提高系统性能的简单明了的活动。</p>
                  <p>绩效战略的有效性各不相同，具有不同目的的系统（如运营系统和决策支持系统）需要不同的绩效技能。本书探讨了任何数据库设计人员，管理员或性能专家应该集中精力的注意事项。</p>
                  <p>系统性能被设计并构建到系统中。它不仅仅发生。性能问题通常是某些系统资源争用或耗尽的结果。当系统资源耗尽时，系统无法扩展到更高级别的性能。这种新的性能方法基于对数据库的仔细规划和设计，以防止系统资源耗尽并导致停机。通过消除资源冲突，可以使系统可扩展到业务所需的级别。</p>
               </div>
            </div><a id="TGDBA94088"></a><div class="props_rev_3"><a id="GUID-7521343A-F41D-4A5A-873F-ECB29E4E5083" name="GUID-7521343A-F41D-4A5A-873F-ECB29E4E5083"></a><h3 id="TGDBA-GUID-7521343A-F41D-4A5A-873F-ECB29E4E5083" class="sect3"><span class="enumeration_section">2.2</span>了解投资选择</h3>
               <div>
                  <p>随着相对便宜，高性能处理器，内存和磁盘驱动器的出现，人们倾向于购买更多系统资源来提高性能。在许多情况下，新的CPU，内存或更多磁盘驱动器确实可以立即提供性能改进。但是，通过添加硬件实现的任何性能提升都应被视为对即时问题的短期缓解。如果应用程序的需求和负载率继续增长，那么很快就会出现同样问题的可能性。</p>
                  <p>在其他情况下，额外的硬件根本不会提高系统的性能。设计不良的系统无论分配多少额外硬件都表现不佳。在购买其他硬件之前，请确保应用程序中未发生序列化或单线程。从长期来看，就每个业务事务使用的物理资源数量而言，提高应用程序的效率通常更有价值。</p>
               </div>
            </div><a id="TGDBA94089"></a><div class="props_rev_3"><a id="GUID-A0BA6C45-EF2B-4171-B716-51E7595F7DCD" name="GUID-A0BA6C45-EF2B-4171-B716-51E7595F7DCD"></a><h3 id="TGDBA-GUID-A0BA6C45-EF2B-4171-B716-51E7595F7DCD" class="sect3"><span class="enumeration_section">2.3</span>了解可伸缩性</h3>
               <div>
                  <p><span class="italic">可伸缩性</span>这个词在开发环境中的许多上下文中使用。以下部分提供了针对应用程序设计人员和性能专家的可伸缩性说明。
                  </p>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-8168998B-9EC1-4AC2-8176-AFEFCAF7F155" title="可伸缩性是系统处理更多工作负载的能力，系统资源使用量成比例增加。">什么是可伸缩性？</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-5D62A34F-3A74-496A-A4F6-28CBC64BF0A3" title="可通过Internet访问的应用程序具有更复杂的性能和可用性要求。">系统可扩展性</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-8C0104E0-B20B-475A-9F03-93063D05A4E2" title="在构建应用程序时，设计人员和架构师应尽可能接近完美的可扩展性。这有时称为线性可扩展性，其中系统吞吐量与CPU数量成正比。">影响可伸缩性的因素</a></p>
                     </li>
                  </ul>
               </div><a id="TGDBA94090"></a><div class="props_rev_3"><a id="GUID-8168998B-9EC1-4AC2-8176-AFEFCAF7F155" name="GUID-8168998B-9EC1-4AC2-8176-AFEFCAF7F155"></a><h4 id="TGDBA-GUID-8168998B-9EC1-4AC2-8176-AFEFCAF7F155" class="sect4"><span class="enumeration_section">2.3.1</span>什么是可伸缩性？
                  </h4>
                  <div>
                     <p>可伸缩性是系统处理更多工作负载的能力，系统资源使用量成比例增加。</p>
                     <p>在可伸缩系统中，如果将工作负载加倍，则系统使用两倍的系统资源。这听起来很明显，但由于系统内部存在冲突，资源使用量可能会超过原始工作负载的两倍。</p>
                     <p>由于资源冲突导致可扩展性差的示例包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>随着用户群增加，需要大量并发管理的应用程序</p>
                        </li>
                        <li>
                           <p>锁定活动增加</p>
                        </li>
                        <li>
                           <p>增加了数据一致性工作量</p>
                        </li>
                        <li>
                           <p>增加了操作系统的工作量</p>
                        </li>
                        <li>
                           <p>随着数据量的增加，需要增加数据访问的事务</p>
                        </li>
                        <li>
                           <p>糟糕的SQL和索引设计导致返回相同行数的逻辑I / O数量更多</p>
                        </li>
                        <li>
                           <p>可用性降低，因为数据库对象需要更长的维护时间</p>
                        </li>
                     </ul>
                     <p>如果应用程序将系统资源耗尽到其工作负载增加时无法实现吞吐量的程度，则称应用程序是不可扩展的。这样的应用导致固定的吞吐量和较差的响应时间。</p>
                     <p>资源耗尽的示例包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>硬件耗尽</p>
                        </li>
                        <li>
                           <p>表扫描大量事务，导致不可避免的磁盘I / O短缺</p>
                        </li>
                        <li>
                           <p>网络请求过多，导致网络和调度瓶颈</p>
                        </li>
                        <li>
                           <p>内存分配导致分页和交换</p>
                        </li>
                        <li>
                           <p>过多的进程和线程分配导致操作系统抖动</p>
                        </li>
                     </ul>
                     <p>这意味着应用程序设计人员必须创建一个使用相同资源的设计，而不管用户群和数据量如何，并且不会将系统资源上的负载超出其限制。</p>
                  </div>
               </div><a id="TGDBA94092"></a><a id="TGDBA94091"></a><div class="props_rev_3"><a id="GUID-5D62A34F-3A74-496A-A4F6-28CBC64BF0A3" name="GUID-5D62A34F-3A74-496A-A4F6-28CBC64BF0A3"></a><h4 id="TGDBA-GUID-5D62A34F-3A74-496A-A4F6-28CBC64BF0A3" class="sect4"><span class="enumeration_section">2.3.2</span>系统可扩展性</h4>
                  <div>
                     <p>可通过Internet访问的应用程序具有更复杂的性能和可用性要求。</p>
                     <p>某些应用程序的设计和编写仅供Internet使用，但即使是典型的后台应用程序（如总帐应用程序），也可能需要在线提供部分或全部数据。</p>
                     <p>互联网时代应用的特征包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>可用性一年365天，每天24小时</p>
                        </li>
                        <li>
                           <p>不可预测且不精确的并发用户数</p>
                        </li>
                        <li>
                           <p>容量规划困难</p>
                        </li>
                        <li>
                           <p>任何类型的查询的可用性</p>
                        </li>
                        <li>
                           <p>多层架构</p>
                        </li>
                        <li>
                           <p>无状态中间件</p>
                        </li>
                        <li>
                           <p>快速开发时间表</p>
                        </li>
                        <li>
                           <p>最短的测试时间</p>
                        </li>
                     </ul>
                     <p>下图说明了经典的工作负载增长曲线，需求以不断增长的速度增长。应用程序必须随着工作负载的增加而扩展，并且还需要添加额外的硬件以支持不断增长的需无论额外的硬件资源或重新设计工作如何，设计错误都可能导致实现达到最大值。</p>
                     <div class="figure" id="GUID-5D62A34F-3A74-496A-A4F6-28CBC64BF0A3__I27836">
                        <p class="titleinfigure">图2-1工作量增长曲线</p><img src="img/figure_021_workload_growth_curve.gif" alt="下面描述图2-1" title="下面描述图2-1" longdesc="img_text/figure_021_workload_growth_curve.html"><br><a href="img_text/figure_021_workload_growth_curve.html">“图2-1工作量增长曲线”的描述</a></div>
                     <!-- class="figure" -->
                     <p>应用程序受到非常短的开发时间框架的挑战，测试和评估的时间有限。但是，糟糕的设计通常意味着您必须稍后重新架构并重新实现系统。如果在Internet上部署具有已知体系结构和实现限制的应用程序，并且如果工作负载超出预期需求，则失败是一种可能的现实。从业务角度来看，糟糕的表现可能意味着客户流失。如果Web用户在七秒内没有得到响应，那么用户的注意力可能会永远丢失。</p>
                     <p>在许多情况下，在迁移到新实现时重新设计具有相关停机成本的系统的成本超过了正确构建原始系统的成本。故事的寓意很简单：从一开始就考虑到可扩展性的设计和实现。</p>
                  </div>
               </div><a id="TGDBA94093"></a><div class="props_rev_3"><a id="GUID-8C0104E0-B20B-475A-9F03-93063D05A4E2" name="GUID-8C0104E0-B20B-475A-9F03-93063D05A4E2"></a><h4 id="TGDBA-GUID-8C0104E0-B20B-475A-9F03-93063D05A4E2" class="sect4"><span class="enumeration_section">2.3.3</span>阻止可扩展性的因素</h4>
                  <div>
                     <p>在构建应用程序时，设计人员和架构师应尽可能接近完美的可扩展性。这有时称为<span class="italic">线性</span>可扩展性，其中系统吞吐量与CPU数量成正比。
                     </p>
                     <p></p>
                     <p>在现实世界中，由于设计师无法控制的原因，线性可扩展性是不可能的。但是，尽可能使应用程序设计和实现具有可扩展性，应确保通过扩展硬件组件和CPU技术的发展来实现当前和未来的性能目标。</p>
                     <p>可能妨碍线性可扩展性的因素包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>应用程序设计，实现和配置不佳</p>
                           <p>该应用程序对可伸缩性的影响最大。例如：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>糟糕的架构设计可能导致昂贵的SQL无法扩展。</p>
                              </li>
                              <li>
                                 <p>糟糕的事务设计可能导致锁定和序列化问题。</p>
                              </li>
                              <li>
                                 <p>连接管理不良可能导致响应时间较短和系统不可靠。</p>
                              </li>
                           </ul>
                           <p>但是，设计并不是唯一的问题。应用程序的物理实现可能是薄弱环节。例如：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>系统可以迁移到具有错误I / O策略的生产环境。</p>
                              </li>
                              <li>
                                 <p>生产环境可能与测试中生成的执行计划不同。</p>
                              </li>
                              <li>
                                 <p>内存密集型应用程序分配大量内存而不考虑在运行时释放内存可能会导致内存使用过多。</p>
                              </li>
                              <li>
                                 <p>低效的内存使用和内存泄漏给操作虚拟内存子系统带来了很大的压力。这会影响性能和可用性。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>硬件组件的大小调整不正确</p>
                           <p>随着相对硬件价格的下降，所有硬件组件的不良容量规划变得越来越不成问题。但是，当系统上的工作负载增加时，过多的容量会掩盖可扩展性问题。</p>
                        </li>
                        <li>
                           <p>软件组件的局限性</p>
                           <p>所有软件组件都具有可伸缩性和资源使用限制。这适用于应用程序服务器，数据库服务器和操作系统。应用程序设计不应对软件提出超出其可处理范围的要求。</p>
                        </li>
                        <li>
                           <p>硬件组件的局限性</p>
                           <p>硬件不是完全可扩展的。大多数多处理器计算机可以通过有限数量的CPU接近线性扩展，但在某一点之后，每个额外的CPU可以提高整体性能，但不是成比例的。可能有一段时间，额外的CPU不会提高性能，甚至会降低性能。此行为与工作负载和操作系统设置密切相关。</p>
                           <div class="infoboxnote" id="GUID-8C0104E0-B20B-475A-9F03-93063D05A4E2__GUID-9B8138ED-49D3-4A7D-AA8A-5577CE843FBD">
                              <p class="notep1">注意：</p>
                              <p>这些因素基于Oracle Server Performance组调整不可扩展系统的经验。</p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="TGDBA94094"></a><div class="props_rev_3"><a id="GUID-F8511B21-9EEA-4F1D-A1A0-C7CCEF914503" name="GUID-F8511B21-9EEA-4F1D-A1A0-C7CCEF914503"></a><h3 id="TGDBA-GUID-F8511B21-9EEA-4F1D-A1A0-C7CCEF914503" class="sect3"><span class="enumeration_section">2.4</span>系统架构</h3>
               <div>
                  <p><a id="d5548e672" class="indexterm-anchor"></a>系统架构有两个主要部分：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-066F374E-35CE-4884-82C8-4F12BE61D727">硬件和软件组件</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-8537D484-BF0E-4D6B-A37E-32797B66AE09">根据您的要求配置正确的系统架构</a></p>
                     </li>
                  </ul>
               </div><a id="TGDBA94095"></a><div class="props_rev_3"><a id="GUID-066F374E-35CE-4884-82C8-4F12BE61D727" name="GUID-066F374E-35CE-4884-82C8-4F12BE61D727"></a><h4 id="TGDBA-GUID-066F374E-35CE-4884-82C8-4F12BE61D727" class="sect4"><span class="enumeration_section">2.4.1</span>硬件和软件组件</h4>
                  <div>
                     <p>系统架构主要包含硬件和软件组件。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="designing-and-developing-for-performance.html#GUID-97E036C1-B8CF-4CF8-BCE6-2E9AE10D3D1B">硬件组件</a></p>
                        </li>
                        <li>
                           <p><a href="designing-and-developing-for-performance.html#GUID-9D533999-8218-4895-A914-382EEC08B6A9">软件组件</a></p>
                        </li>
                     </ul>
                  </div><a id="TGDBA94096"></a><div class="props_rev_3"><a id="GUID-97E036C1-B8CF-4CF8-BCE6-2E9AE10D3D1B" name="GUID-97E036C1-B8CF-4CF8-BCE6-2E9AE10D3D1B"></a><h5 id="TGDBA-GUID-97E036C1-B8CF-4CF8-BCE6-2E9AE10D3D1B" class="sect5"><span class="enumeration_section">2.4.1.1</span>硬件组件</h5>
                     <div>
                        <p>今天的设计师和架构师负责在多层环境中每层的硬件规模和容量规划。建筑师有责任实现平衡设计。这类似于桥梁设计师，他必须考虑桥梁的所有各种有效载荷和结构要求。桥梁只有最薄弱的部分才有力量。因此，桥梁设计平衡，使所有组件同时达到其设计极限。</p>
                        <p>以下是系统的主要硬件组件。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-97E036C1-B8CF-4CF8-BCE6-2E9AE10D3D1B__GUID-9669160A-54D2-4888-BC7F-52976D08C512">中央处理器</p>
                           <p><a id="d5548e819" class="indexterm-anchor"></a><a id="d5548e825" class="indexterm-anchor"></a>可以有一个或多个CPU，它们的处理能力可以从手持设备中的简单CPU到高功率服务器CPU。其他硬件组件的大小通常是系统上CPU的多个。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-97E036C1-B8CF-4CF8-BCE6-2E9AE10D3D1B__GUID-5F989B02-9AE8-4B95-9D61-685BAC4A559C">记忆</p>
                           <p><a id="d5548e832" class="indexterm-anchor"></a><a id="d5548e838" class="indexterm-anchor"></a>数据库和应用程序服务器需要大量内存来缓存数据并避免耗时的磁盘访问。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-97E036C1-B8CF-4CF8-BCE6-2E9AE10D3D1B__GUID-370E3734-8A26-48D7-8C3F-6A15067B4CC6">I / O子系统</p>
                           <p><a id="d5548e847" class="indexterm-anchor"></a> I / O子系统可以在客户端PC上的硬盘和高性能磁盘阵列之间变化。磁盘阵列每秒可以执行数千个I / O，并通过多个I / O路径和热插拔镜像磁盘的冗余提供可用性。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-97E036C1-B8CF-4CF8-BCE6-2E9AE10D3D1B__GUID-D0ACD511-C48C-4795-B342-1531CBD73425">网络</p>
                           <p><a id="d5548e858" class="indexterm-anchor"></a><a id="d5548e864" class="indexterm-anchor"></a>系统中的所有计算机都连接到网络，从调制解调器线路到高速内部LAN。网络规范的主要问题是带宽（卷）和延迟（速度）。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TGDBA94101"></a><div class="props_rev_3"><a id="GUID-9D533999-8218-4895-A914-382EEC08B6A9" name="GUID-9D533999-8218-4895-A914-382EEC08B6A9"></a><h5 id="TGDBA-GUID-9D533999-8218-4895-A914-382EEC08B6A9" class="sect5"><span class="enumeration_section">2.4.1.2</span>软件组件</h5>
                     <div>
                        <p>计算机具有通用硬件组件的方式相同，应用程序具有通用功能组件。通过将软件开发划分为功能组件，可以更好地理解应用程序设计和体系结构。系统的某些组件由购买的现有软件执行，以加速应用程序实现，或避免重新开发通用组件。</p>
                        <p>软件组件和硬件组件之间的区别在于，虽然硬件组件仅执行一项任务，但一个软件可以执行各种软件组件的角色。例如，磁盘驱动器仅存储和检索数据，但客户端程序可以管理用户界面并执行业务逻辑。</p>
                        <p>大多数应用程序涉及以下软件组件：</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-9D533999-8218-4895-A914-382EEC08B6A9__GUID-2234C6B9-58B4-414C-BC61-5BB089F631C9">用户界面</p>
                           <p><a id="d5548e942" class="indexterm-anchor"></a><a id="d5548e948" class="indexterm-anchor"></a>该组件对应用程序用户最为明显，包括以下功能：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>向用户显示屏幕</p>
                              </li>
                              <li>
                                 <p>收集用户数据并将其传输到业务逻辑</p>
                              </li>
                              <li>
                                 <p>验证数据输入</p>
                              </li>
                              <li>
                                 <p>浏览应用程序的级别或状态</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9D533999-8218-4895-A914-382EEC08B6A9__GUID-F3208F93-01BE-484A-A92D-BE5639E37484">商业逻辑</p>
                           <p><a id="d5548e968" class="indexterm-anchor"></a><a id="d5548e974" class="indexterm-anchor"></a><a id="d5548e976" class="indexterm-anchor"></a>该组件实现了应用程序功能的核心业务规则。修复此组件中的错误可能非常昂贵。该组件通过声明和程序方法的混合实现。声明性活动的一个示例是定义唯一键和外键。基于过程的逻辑的一个示例是实施折扣策略。
                           </p>
                           <p>该组件的常见功能包括：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>将数据模型移动到关系表结构</p>
                              </li>
                              <li>
                                 <p>在关系表结构中定义约束</p>
                              </li>
                              <li>
                                 <p>编写程序逻辑以实现业务规则</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9D533999-8218-4895-A914-382EEC08B6A9__GUID-8CF7611D-B97F-47EB-87A7-642E37C7D6D9">用于管理用户请求的资源</p>
                           <p><a id="d5548e995" class="indexterm-anchor"></a><a id="d5548e1001" class="indexterm-anchor"></a>该组件在所有软件中实现。但是，有些请求和资源可能会受到应用程序设计的影响，而有些则不能。
                           </p>
                           <p>在多用户应用程序中，用户请求的大多数资源分配由数据库服务器或操作系统处理。但是，在用户数量及其使用模式未知或快速增长的大型应用程序中，系统架构师必须主动确保没有单个软件组件过载和不稳定。</p>
                           <p>该组件的常见功能包括：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>与数据库的连接管理</p>
                              </li>
                              <li>
                                 <p>有效执行SQL（游标和SQL共享）</p>
                              </li>
                              <li>
                                 <p>管理客户端状态信息</p>
                              </li>
                              <li>
                                 <p>平衡跨硬件资源的用户请求负载</p>
                              </li>
                              <li>
                                 <p>设置硬件和软件组件的操作目标</p>
                              </li>
                              <li>
                                 <p>持久排队以执行异步任务</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9D533999-8218-4895-A914-382EEC08B6A9__GUID-8100FF86-0A9E-46FE-A288-A9BDC4ECDB3F">数据和交易</p>
                           <p><a id="d5548e1033" class="indexterm-anchor"></a><a id="d5548e1039" class="indexterm-anchor"></a><a id="d5548e1043" class="indexterm-anchor"></a>该组件主要由数据库服务器和操作系统负责。
                           </p>
                           <p>该组件的常见功能包括：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>使用锁和事务语义提供对数据的并发访问</p>
                              </li>
                              <li>
                                 <p>使用索引和内存缓存提供对数据的优化访问</p>
                              </li>
                              <li>
                                 <p>确保在发生硬件故障时记录数据更改</p>
                              </li>
                              <li>
                                 <p>执行为数据定义的任何规则</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="TGDBA94106"></a><div class="props_rev_3"><a id="GUID-8537D484-BF0E-4D6B-A37E-32797B66AE09" name="GUID-8537D484-BF0E-4D6B-A37E-32797B66AE09"></a><h4 id="TGDBA-GUID-8537D484-BF0E-4D6B-A37E-32797B66AE09" class="sect4"><span class="enumeration_section">2.4.2</span>根据需求配置正确的系统架构</h4>
                  <div>
                     <p><a id="d5548e1111" class="indexterm-anchor"></a>配置初始系统架构是一个很大程度上是迭代的过程。系统架构师必须在预算和进度约束内满足系统要求。如果系统要求交互式用户根据数据库的内容处理业务决策，那么用户需求就会驱动架构。如果系统上的交互式用户很少，那么该体系结构是由流程驱动的。
                     </p>
                     <p>交互式用户应用程序示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>会计和簿记应用程序</p>
                        </li>
                        <li>
                           <p>订单输入系统</p>
                        </li>
                        <li>
                           <p>电邮服务器</p>
                        </li>
                        <li>
                           <p>基于Web的零售应用程序</p>
                        </li>
                        <li>
                           <p>交易系统</p>
                        </li>
                     </ul>
                     <p>流程驱动的应用程序示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>效用计费系统</p>
                        </li>
                        <li>
                           <p>欺诈检测系统</p>
                        </li>
                        <li>
                           <p>直邮</p>
                        </li>
                     </ul>
                     <p>在许多方面，流程驱动的应用程序比多用户应用程序更容易设计，因为消除了用户界面元素。但是，由于目标是面向过程的，因此不习惯处理大量数据和不同成功因素的系统架构师可能会感到困惑。流程驱动的应用程序来自基于用户的应用程序和数据仓库中使用的技能集。因此，本书侧重于为交互式用户不断发展的系统架构。</p>
                     <div class="infoboxnote" id="GUID-8537D484-BF0E-4D6B-A37E-32797B66AE09__GUID-594CDD81-8D52-4AAA-B7E2-07E66313B64A">
                        <p class="notep1">注意：</p>
                        <p>生成系统架构不是一个确定性过程。它需要仔细考虑业务需求，技术选择，现有基础设施和系统以及实际物理资源，如预算和人力。</p>
                     </div>
                     <p>以下问题应该激发对系统架构的思考，尽管它们不是系统架构的权威指南。这些问题演示了业务需求如何影响体系结构，易于实现以及系统的整体性能和可用性。例如：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a id="d5548e1156" class="indexterm-anchor"></a>系统必须支持多少用户？
                           </p>
                           <p>大多数应用程序属于以下类别之一：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在一台使用不当或专用的计算机上用户很少</p>
                                 <p>对于这种类型的应用程序，通常有一个用户。应用程序设计的重点是通过提供良好的响应时间使单个用户尽可能高效，同时使应用程序需要最少的管理。这些应用程序的用户很少相互干扰，并且资源冲突最小。</p>
                              </li>
                              <li>
                                 <p>使用共享应用程序的公司中的大量中型用户</p>
                                 <p>对于这种类型的应用程序，用户受到公司中通过系统实际交易业务的员工数量的限制。因此，用户数量是可预测的。但是，提供可靠的服务对业务至关重要。用户必须共享资源，因此设计工作必须解决在繁重的系统负载下的响应时间，每个会话使用的资源升级以及未来增长的空间。</p>
                              </li>
                              <li>
                                 <p>在Internet上分发的无限用户群</p>
                                 <p>对于此类应用，需要额外的工程工作以确保没有系统组件超出其设计限制。这就产生了一个瓶颈，使系统停止或不稳定。这些应用程序需要复杂的负载平衡，无状态应用程序服务器和高效的数据库连接管此外，如果数据库由于系统过载而无法满足其请求，则使用统计信息和调控器来确保用户收到反馈。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><a id="d5548e1181" class="indexterm-anchor"></a>什么是用户交互方法？
                           </p>
                           <p>用户界面的选择范围从简单的Web浏览器到自定义客户端程序。</p>
                        </li>
                        <li>
                           <p><a id="d5548e1190" class="indexterm-anchor"></a>用户在哪里？
                           </p>
                           <p>用户之间的距离会影响应用程序的设计方式，以应对网络延迟。当无法执行批处理或系统维护功能时，该位置还会影响一天中的哪些时间繁忙。</p>
                        </li>
                        <li>
                           <p><a id="d5548e1199" class="indexterm-anchor"></a><a id="d5548e1203" class="indexterm-anchor"></a>什么是网络速度？
                           </p>
                           <p>网络速度会影响数据量以及与应用程序和数据库服务器的用户界面的对话性质。高度对话的用户界面可以在每次击键或场级验证时与后端服务器通信。较少会话的界面适用于屏幕发送和屏幕接收模型。在慢速网络上，使用高度对话的用户界面无法实现高数据输入速度。</p>
                        </li>
                        <li>
                           <p>用户可以访问多少数据，以及有多少数据基本上只读？</p>
                           <p><a id="d5548e1214" class="indexterm-anchor"></a><a id="d5548e1218" class="indexterm-anchor"></a><a id="d5548e1222" class="indexterm-anchor"></a>在线查询的数据量会影响设计的所有方面，从表格和索引设计到表示层。设计工作必须确保用户响应时间不是数据库大小的函数。如果应用程序基本上是只读的，那么复制和数据分发到应用程序服务器中的本地缓存将成为可行的选择。这还减少了核心事务服务器上的工作负载。
                           </p>
                        </li>
                        <li>
                           <p><a id="d5548e1229" class="indexterm-anchor"></a><a id="d5548e1233" class="indexterm-anchor"></a>用户响应时间要求是什么？
                           </p>
                           <p>考虑用户类型很重要。如果用户是需要准确信息做出拆分决策的执行人员，那么用户响应时间就不会受到影响。其他类型的用户（例如执行数据输入活动的用户）可能不需要如此高的性能水平。</p>
                        </li>
                        <li>
                           <p><a id="d5548e1240" class="indexterm-anchor"></a><a id="d5548e1242" class="indexterm-anchor"></a>用户是否期望24小时服务？
                           </p>
                           <p>这对于今天24小时进行交易的互联网应用是强制性的。但是，在单个时区中运行的企业系统可能能够容忍非工作时间的停机时间。您可以使用此非工作时间停机时间来运行批处理或执行系统管理。在这种情况下，运行完全可用的系统可能更经济。</p>
                        </li>
                        <li>
                           <p>所有变更都必须实时进行吗？</p>
                           <p>确定是否必须在用户响应时间内执行事务，或者是否可以将它们排队等待异步执行非常重要。</p>
                        </li>
                     </ul>
                     <p>以下是次要问题，这些问题也可能影响设计，但实际上对预算和易于实施的影响更大。例如：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a id="d5548e1257" class="indexterm-anchor"></a>数据库有多大？
                           </p>
                           <p>这会影响数据库服务器的大小。在具有非常大的数据库的服务器上，可能需要具有比工作负载所指定的更大的计算机。这是因为大型数据库的管理开销很大程度上取决于数据库大小。随着表和索引的增长，需要更多的CPU来允许表重组和索引构建在可接受的时间限制内完成。</p>
                        </li>
                        <li>
                           <p>业务交易所需的吞吐量是多少？</p>
                        </li>
                        <li>
                           <p>有哪些可用性要求？</p>
                        </li>
                        <li>
                           <p>是否存在构建和管理此应用程序的技能？</p>
                        </li>
                        <li>
                           <p>预算限制迫使哪些妥协？</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="TGDBA94107"></a><div class="props_rev_3"><a id="GUID-FB81D395-1940-49A2-925A-5AD3E1DBB570" name="GUID-FB81D395-1940-49A2-925A-5AD3E1DBB570"></a><h3 id="TGDBA-GUID-FB81D395-1940-49A2-925A-5AD3E1DBB570" class="sect3"><span class="enumeration_section">2.5</span>应用设计原则</h3>
               <div>
                  <p><a id="d5548e1326" class="indexterm-anchor"></a><a id="d5548e1330" class="indexterm-anchor"></a>本节介绍构建应用程序时涉及的以下设计决策：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-FEF689B9-9D3B-4671-BBA7-AF9F0DB3B596">应用程序设计的简单性</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-BCFE8E0F-E08E-4D4A-8AD8-73C5342ACE47">数据建模</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-99A7FD1B-CEFD-4E91-9486-2CBBFC2B7A1D">表和索引设计</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-5262FB3D-4473-47A6-BDAE-F996192F9F21">使用视图</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-B95920ED-53C2-42A7-A53D-9083974A7A1D">SQL执行效率</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-D322A76C-FBFF-4A54-BD32-FFEA7A3C414F">实施应用程序</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-AA42DCCB-193C-4ED3-A6B6-D3059B6F4ED2">应用程序开发的趋势</a></p>
                     </li>
                  </ul>
               </div><a id="TGDBA94108"></a><div class="props_rev_3"><a id="GUID-FEF689B9-9D3B-4671-BBA7-AF9F0DB3B596" name="GUID-FEF689B9-9D3B-4671-BBA7-AF9F0DB3B596"></a><h4 id="TGDBA-GUID-FEF689B9-9D3B-4671-BBA7-AF9F0DB3B596" class="sect4"><span class="enumeration_section">2.5.1</span>应用程序设计的简单性</h4>
                  <div>
                     <p>应用程序与任何其他设计和工程产品没有什么不同。精心设计的结构，计算机和工具通常可靠，易于使用和维护，并且概念简单。用最一般的术语来说，如果设计看起来正确，那么可能就是这样。在构建应用程序时，应始终牢记这一原则。</p>
                     <p>请考虑以下设计问题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果桌面设计如此复杂以至于没有人能够完全理解它，那么桌子可能设计得很差。</p>
                        </li>
                        <li>
                           <p>如果SQL语句太长且涉及到任何优化器都无法实时有效地优化它，那么可能存在错误的语句，底层事务或表设计。</p>
                        </li>
                        <li>
                           <p>如果表上有索引并且重复索引相同的列，则索引设计可能很差。</p>
                        </li>
                        <li>
                           <p>如果提交的查询没有适当的资格来对在线用户进行快速响应，则可能存在较差的用户界面或交易设计。</p>
                        </li>
                        <li>
                           <p>如果通过多层软件将对数据库的调用从应用程序逻辑中抽象出来，那么可能存在一种糟糕的软件开发方法。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="TGDBA94109"></a><div class="props_rev_3"><a id="GUID-BCFE8E0F-E08E-4D4A-8AD8-73C5342ACE47" name="GUID-BCFE8E0F-E08E-4D4A-8AD8-73C5342ACE47"></a><h4 id="TGDBA-GUID-BCFE8E0F-E08E-4D4A-8AD8-73C5342ACE47" class="sect4"><span class="enumeration_section">2.5.2</span>数据建模</h4>
                  <div>
                     <p><a id="d5548e1488" class="indexterm-anchor"></a><a id="d5548e1492" class="indexterm-anchor"></a>数据建模对于成功的关系应用程序设计很重要。您必须以快速表示业务实践的方式执行此建模。关于正确的数据模型可能会出现激烈的争论。重要的是将最大的建模工作应用于受最频繁的业务事务影响的实体。在建模阶段，很有可能花费太多时间来建模非核心数据元素，这会导致开发前置时间的增加。然后，使用建模工具可以快速生成模式定义，并且在需要快速原型时非常有用。
                     </p>
                  </div>
               </div><a id="TGDBA94110"></a><div class="props_rev_3"><a id="GUID-99A7FD1B-CEFD-4E91-9486-2CBBFC2B7A1D" name="GUID-99A7FD1B-CEFD-4E91-9486-2CBBFC2B7A1D"></a><h4 id="TGDBA-GUID-99A7FD1B-CEFD-4E91-9486-2CBBFC2B7A1D" class="sect4"><span class="enumeration_section">2.5.3</span>表和索引设计</h4>
                  <div>
                     <p><a id="d5548e1548" class="indexterm-anchor"></a>表设计主要是核心交易的灵活性和性能之间的折衷。为了保持数据库的灵活性并能够适应不可预见的工作负载，表格设计应该与数据模型非常相似，并且应该将其标准化为至少第3范式。但是，用户所需的某些核心事务可能需要选择性非规范化以实现性能目的。
                     </p>
                     <p>此技术的示例包括存储预先连接的表，添加派生列和聚合值。Oracle数据库通过群集和物化视图功能提供了许多用于存储聚合和预加入数据的选项。这些功能允许最初采用更简单的表格设计。</p>
                     <p>同样，应将重点和资源用于业务关键表，以便实现最佳性能。对于非关键表，可以采用设计中的快捷方式来实现更快速的应用程序开发。但是，如果原型设计和测试非核心表成为性能问题，则应立即应用补救设计工作。</p>
                     <p><a id="d5548e1558" class="indexterm-anchor"></a>基于应用程序设计者生成的SQL，索引设计也是一个很大程度上是迭代的过程。但是，通过构建强制主键约束的索引和已知访问模式的索引（例如人名），可以明智地开始。随着应用程序的发展，当您对实际数据量进行测试时，您可能需要通过构建更好的索引来提高特定查询的性能。在构建新索引时，请考虑以下索引设计思路列表：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="designing-and-developing-for-performance.html#GUID-474426C8-9CE1-4BE2-B922-F77F35444FD9">将列附加到索引或使用索引组织表</a></p>
                        </li>
                        <li>
                           <p><a href="designing-and-developing-for-performance.html#GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC">使用不同的索引类型</a></p>
                        </li>
                        <li>
                           <p><a href="designing-and-developing-for-performance.html#GUID-D2F5B6B1-4A75-42D4-8DB7-793C6BACB335">寻找指数的成本</a></p>
                        </li>
                        <li>
                           <p><a href="designing-and-developing-for-performance.html#GUID-914D618C-022A-4517-BBD0-C1D91D60272C">在索引中序列化</a></p>
                        </li>
                        <li>
                           <p><a href="designing-and-developing-for-performance.html#GUID-667C9B46-3D71-427E-BEDF-218718CF2038">订购索引中的列</a></p>
                        </li>
                     </ul>
                  </div><a id="TGDBA94111"></a><div class="props_rev_3"><a id="GUID-474426C8-9CE1-4BE2-B922-F77F35444FD9" name="GUID-474426C8-9CE1-4BE2-B922-F77F35444FD9"></a><h5 id="TGDBA-GUID-474426C8-9CE1-4BE2-B922-F77F35444FD9" class="sect5"><span class="enumeration_section">2.5.3.1</span>将列附加到索引或使用索引组织表</h5>
                     <div>
                        <p><a id="d5548e1639" class="indexterm-anchor"></a><a id="d5548e1643" class="indexterm-anchor"></a>加速查询的最简单方法之一是通过消除执行计划中的表访问来减少逻辑I / O的数量。这可以通过将查询引用的所有列附加到索引来完成。这些列是选择列表列，以及任何所需的连接或排序列。当耗时的I / O减少时，此技术对于加快在线应用程序响应时间特别有用。这在首次使用适当大小的数据测试应用程序时最佳应用。
                        </p>
                        <p>这种技术最积极的形式是构建索引组织表（IOT）。但是，您必须小心，IOT增加的叶子大小不会削弱减少I / O的努力。</p>
                     </div>
                  </div><a id="TGDBA94112"></a><div class="props_rev_3"><a id="GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC" name="GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC"></a><h5 id="TGDBA-GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC" class="sect5"><span class="enumeration_section">2.5.3.2</span>使用不同的索引类型</h5>
                     <div>
                        <p>有几种可用的索引类型，每种索引都可以为某些情况带来好处。以下列表提供了与每种索引类型相关的性能想法。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC__GUID-D48B6E6C-0C1E-4E68-ACC6-45DD823F6787">B树索引</p>
                           <p><a id="d5548e1705" class="indexterm-anchor"></a><a id="d5548e1707" class="indexterm-anchor"></a>这些索引是标准索引类型，它们非常适合主键和高选择性索引。用作连接索引，数据库可以使用B树索引来检索按索引列排序的数据。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC__GUID-F41DC082-F6C9-4807-ACC1-43B1C37E53CA">位图索引</p>
                           <p><a id="d5548e1716" class="indexterm-anchor"></a><a id="d5548e1718" class="indexterm-anchor"></a>这些索引适用于具有相对较少的不同值的列，其中添加B树索引的好处可能是有限的。这些索引适用于DML活动较少且临时过滤模式较低的数据仓库应用程序。在列上组合位图索引允许以最小的I / O进行有效的<code class="codeph">AND</code>和<code class="codeph">OR</code>操作。此外，通过压缩技术，它们可以生成大量具有最小I / O的rowid。位图索引在使用<code class="codeph">COUNT()</code>查询中特别有效，因为可以在索引中满足查询。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC__GUID-77D4DD35-18F4-447D-9889-7227B79FC2F6">基于函数的索引</p>
                           <p><a id="d5548e1736" class="indexterm-anchor"></a><a id="d5548e1738" class="indexterm-anchor"></a>这些索引允许通过B树访问从基础数据上的函数派生的值。基于函数的索引在使用空值方面有一些限制，它们要求您启用查询优化器。
                           </p>
                           <p>在查询复合列以生成派生结果或克服数据存储在数据库中的方式的限制时，基于函数的索引特别有用。例如，查询订单中的订单项超过从（销售价格 - 折扣）x数量派生的特定值，其中这些是表格中的列。另一个示例是将<code class="codeph">UPPER</code>函数应用于数据以允许不区分大小写的搜索。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC__GUID-B87EB95E-4FF5-43F5-A906-01EDEF1A27E9">分区索引</p>
                           <p><a id="d5548e1752" class="indexterm-anchor"></a><a id="d5548e1756" class="indexterm-anchor"></a>对全局索引进行分区允许在索引访问中进行分区修剪，从而导致I / O减少。通过定义好范围或列表分区，对正确索引分区的快速索引扫描可以导致非常快的查询时间。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC__GUID-71C2F820-80AF-4C13-BB71-380C100E6734">反向键索引</p>
                           <p><a id="d5548e1763" class="indexterm-anchor"></a><a id="d5548e1767" class="indexterm-anchor"></a>这些索引旨在消除插入应用程序上的索引热点。这些索引非常适合插入性能，但它们受到限制，因为数据库无法将它们用于索引范围扫描。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TGDBA94118"></a><div class="props_rev_3"><a id="GUID-D2F5B6B1-4A75-42D4-8DB7-793C6BACB335" name="GUID-D2F5B6B1-4A75-42D4-8DB7-793C6BACB335"></a><h5 id="TGDBA-GUID-D2F5B6B1-4A75-42D4-8DB7-793C6BACB335" class="sect5"><span class="enumeration_section">2.5.3.3</span>查找指数成本</h5>
                     <div>
                        <p><a id="d5548e1821" class="indexterm-anchor"></a>构建和维护索引结构可能很昂贵，并且可能消耗诸如磁盘空间，CPU和I / O容量之类的资源。设计师必须确保任何指数的好处都超过指数维护的负面影响。
                        </p>
                        <p>使用这个简单的估算指南来获取索引维护的成本：由索引键的<code class="codeph">INSERT</code> ， <code class="codeph">DELETE</code>或<code class="codeph">UPDATE</code>维护的每个索引所需的资源大约是表上实际DML操作的三倍。因此，如果您使用三个索引<code class="codeph">INSERT</code>到一个表中，那么插入比<code class="codeph">INSERT</code>慢大约10倍于没有索引的表。对于DML，特别是<code class="codeph">INSERT</code> -heavy应用程序，应仔细检查索引设计，这可能需要在查询和<code class="codeph">INSERT</code>性能之间进行折衷。
                        </p>
                        <div class="infoboxnotealso" id="GUID-D2F5B6B1-4A75-42D4-8DB7-793C6BACB335__GUID-233AD9CD-BE68-4917-81E9-79B170934E36">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../admin/managing-indexes.html#ADMIN11735" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a> ，了解如何监控索引使用情况</p>
                        </div>
                     </div>
                  </div><a id="TGDBA94119"></a><div class="props_rev_3"><a id="GUID-914D618C-022A-4517-BBD0-C1D91D60272C" name="GUID-914D618C-022A-4517-BBD0-C1D91D60272C"></a><h5 id="TGDBA-GUID-914D618C-022A-4517-BBD0-C1D91D60272C" class="sect5"><span class="enumeration_section">2.5.3.4</span>在索引中序列化</h5>
                     <div>
                        <p>使用序列或时间戳生成自身索引的键值可能会导致数据库热点问题，从而影响响应时间和吞吐量。这通常是单调增长密钥的结果，导致正确增长的指数。要避免此问题，请尝试生成插入索引的整个范围的键，以使工作负载更具可伸缩性。您可以使用以下任何方法来实现此目的：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用反向键索引</p>
                           </li>
                           <li>
                              <p>使用散列分区索引</p>
                           </li>
                           <li>
                              <p>使用循环序列为序列值添加前缀</p>
                           </li>
                           <li>
                              <p>使用可伸缩序列</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-914D618C-022A-4517-BBD0-C1D91D60272C__GUID-93CF383D-787E-4796-B899-117BBA28BFFA">
                           <p class="notep1">也可以看看：</p>
                           <p>有关可伸缩序列的更多信息，请参见<a href="../admin/managing-views-sequences-and-synonyms.html#ADMIN-GUID-700340BB-7517-4994-B9DA-348E6113DD57" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </div>
                     </div>
                  </div><a id="TGDBA94120"></a><div class="props_rev_3"><a id="GUID-667C9B46-3D71-427E-BEDF-218718CF2038" name="GUID-667C9B46-3D71-427E-BEDF-218718CF2038"></a><h5 id="TGDBA-GUID-667C9B46-3D71-427E-BEDF-218718CF2038" class="sect5"><span class="enumeration_section">2.5.3.5</span>对索引中的列进行排序</h5>
                     <div>
                        <p><a id="d5548e1988" class="indexterm-anchor"></a><a id="d5548e1992" class="indexterm-anchor"></a><a id="d5548e1996" class="indexterm-anchor"></a><a id="d5548e2000" class="indexterm-anchor"></a>设计人员应该灵活地定义索引构建的任何规则。根据您的具体情况，使用以下两种方法之一来对索引中的键进行排序：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>最多订购列<a id="d5548e2009" class="indexterm-anchor"></a>选择性第一。此方法是最常用的方法，因为它提供了最快的访问速度，并且对所需的实际rowid的I / O最小。该技术主要用于主键和非常有选择性的范围扫描。
                              </p>
                           </li>
                           <li>
                              <p>通过对数据进行聚类或排序来对列进行排序以减少I / O.在大范围扫描中，通常可以通过以最小选择顺序对列进行排序，或者以按照应该检索的方式对数据进行排序的方式来减少I / O.</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="TGDBA94121"></a><div class="props_rev_3"><a id="GUID-5262FB3D-4473-47A6-BDAE-F996192F9F21" name="GUID-5262FB3D-4473-47A6-BDAE-F996192F9F21"></a><h4 id="TGDBA-GUID-5262FB3D-4473-47A6-BDAE-F996192F9F21" class="sect4"><span class="enumeration_section">2.5.4</span>使用视图</h4>
                  <div>
                     <p><a id="d5548e2067" class="indexterm-anchor"></a>视图可以加速并简化应用程序设计。简单的视图定义可以掩盖数据模型的复杂性，这些复杂性来自程序员，其优先级是检索，显示，收集和存储数据。
                     </p>
                     <p>但是，虽然视图提供了干净的编程接口，但它们可能会导致次优的资源密集型查询。最糟糕的视图使用类型是视图引用其他视图以及它们在查询中连接时的情况。在许多情况下，开发人员可以直接从表中满足查询而无需使用视图。通常，由于视图的固有属性，视图使优化器难以生成最佳执行计划。</p>
                  </div>
               </div><a id="TGDBA94122"></a><div class="props_rev_3"><a id="GUID-B95920ED-53C2-42A7-A53D-9083974A7A1D" name="GUID-B95920ED-53C2-42A7-A53D-9083974A7A1D"></a><h4 id="TGDBA-GUID-B95920ED-53C2-42A7-A53D-9083974A7A1D" class="sect4"><span class="enumeration_section">2.5.5</span> SQL执行效率</h4>
                  <div>
                     <p>在任何系统开发的设计和架构阶段，都应注意确保应用程序开发人员了解SQL执行效率。为实现此目标，开发环境必须支持以下特征：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>良好的数据库连接管理</p>
                           <p>连接到数据库是一项昂贵的操作，非常不可扩展。因此，应尽可能减少与数据库的并发连接数。用户在应用程序初始化时连接的简单系统是理想的。但是，在基于Web或多层应用程序中，应用程序服务器用于将数据库连接多路复用到用户，这可能很困难。对于这些类型的应用程序，设计工作应确保池化数据库连接，并且不会为每个用户请求重新建立。</p>
                        </li>
                        <li>
                           <p>良好的游标使用和管理</p>
                           <p>维护用户连接对于最小化系统上的解析活动同样重要。解析是解释SQL语句并为其创建执行计划的过程。此过程有许多阶段，包括语法检查，安全检查，执行计划生成以及将共享结构加载到共享池中。有两种类型的解析操作：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a id="d5548e2137" class="indexterm-anchor"></a><a id="d5548e2139" class="indexterm-anchor"></a>难以解析</p>
                                 <p>首次提交SQL语句，并且在共享池中找不到匹配项。硬解析是资源最密集且不可扩展的，因为它们执行解析中涉及的所有操作。</p>
                              </li>
                              <li>
                                 <p><a id="d5548e2148" class="indexterm-anchor"></a><a id="d5548e2150" class="indexterm-anchor"></a>软解析</p>
                                 <p>SQL语句被提交首次，并找到<span class="italic">匹配</span>的共享池。匹配可以是其他用户先前执行的结果。SQL语句是共享的，这有利于提高性能。但是，软解析并不理想，因为它们仍然需要语法和安全检查，这会消耗系统资源。
                                 </p>
                              </li>
                           </ul>
                           <p>因为解析应该尽可能地最小化，所以应用程序开发人员应该设计他们的应用程序来解析一次SQL语句并多次执行它们。这是通过游标完成的。经验丰富的SQL程序员应该熟悉打开和重新执行游标的概念。</p>
                           <p>应用程序开发人员还必须确保在共享池中共享SQL语句。要实现此目标，请使用绑定变量来表示从执行更改为执行的查询部分。如果不这样做，则SQL语句可能会被解析一次，并且永远不会被其他用户重用。要确保共享SQL，请使用绑定变量，不要将字符串文字与SQL语句一起使用。例如：</p>
                           <p>字符串文字的声明：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees WHERE last_name LIKE'KING';</pre><p>绑定变量的语句：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees WHERE last_name LIKE：1;</pre><p>以下示例显示了对简单OLTP应用程序的某些测试的结果：</p><pre class="oac_no_warn" dir="ltr">测试#Users支持否解析所有语句270软解析所有语句150硬解析所有语句60重新连接每个事务30</pre><p>这些测试是在四CPU计算机上进行的。随着系统上CPU数量的增加，差异会增加。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="TGDBA94123"></a><div class="props_rev_3"><a id="GUID-D322A76C-FBFF-4A54-BD32-FFEA7A3C414F" name="GUID-D322A76C-FBFF-4A54-BD32-FFEA7A3C414F"></a><h4 id="TGDBA-GUID-D322A76C-FBFF-4A54-BD32-FFEA7A3C414F" class="sect4"><span class="enumeration_section">2.5.6</span>实施应用程序</h4>
                  <div>
                     <p><a id="d5548e2230" class="indexterm-anchor"></a><a id="d5548e2234" class="indexterm-anchor"></a><a id="d5548e2236" class="indexterm-anchor"></a>开发环境和编程语言的选择在很大程度上取决于开发团队中可用的技能以及指定应用程序时所做的架构决策。但是，有一些简单的性能管理规则可以实现可扩展的高性能应用程序。
                     </p>
                     <ol>
                        <li>
                           <p>选择适合软件组件的开发环境，不要让它限制您的设计以进行性能决策。如果是，那么您可能选择了错误的语言或环境。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a id="d5548e2246" class="indexterm-anchor"></a>用户界面</p>
                                 <p>编程模型可以在HTML生成和直接调用窗口系统之间变化。开发方法应该关注用户界面代码的响应时间。如果通过网络发送HTML或Java，请尝试最小化网络卷和交互。</p>
                              </li>
                              <li>
                                 <p><a id="d5548e2255" class="indexterm-anchor"></a>商业逻辑</p>
                                 <p>解释语言（如Java和PL / SQL）是编码业务逻辑的理想选择。它们完全便携，这使得升级逻辑相对容易。两种语言在语法上都很丰富，以允许易于阅读和解释的代码。如果业务逻辑需要复杂的数学函数，则可能需要编译的二进制语言。业务逻辑代码可以位于客户端计算机，应用程序服务器和数据库服务器上。但是，应用程序服务器是业务逻辑的最常见位置。</p>
                              </li>
                              <li>
                                 <p><a id="d5548e2262" class="indexterm-anchor"></a><a id="d5548e2266" class="indexterm-anchor"></a>用户请求和资源分配</p>
                                 <p>其中大多数不受编程语言的影响，但掩盖数据库连接和游标管理的工具和第四代语言可能使用低效的机制。在评估这些工具和环境时，请检查其数据库连接模型及其对游标和绑定变量的使用。</p>
                              </li>
                              <li>
                                 <p>数据管理和交易</p>
                                 <p>其中大部分不受编程语言的影响。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>实现软件组件时，请实现其功能，而不是与其他组件关联的功能。实现另一个组件的功能会导致次优设计和实现。这适用于所有组件。</p>
                        </li>
                        <li>
                           <p>不要在功能上留下空白或在设计，实现或测试中对软件组件进行研究。在许多情况下，在应用程序推出或在实际卷上进行测试之前，不会发现差距。这通常是架构不良或初始系统规范的标志。在初始系统设计，构建和实现过程中，数据存档和清除模块最常被忽略。</p>
                        </li>
                        <li>
                           <p>在实现过程逻辑时，使用过程语言实现，例如C，Java或PL / SQL。在实现数据访问（查询）或数据更改（DML）时，请使用SQL。此规则特定于代码的业务逻辑模块，其中过程代码与数据访问（非过程SQL）代码混合。将过程逻辑放入SQL访问中有很大的诱惑力。这往往会导致资源密集的SQL不佳。带有<code class="codeph">DECODE</code> case语句的SQL语句通常是优化的候选者，具有大量<code class="codeph">OR</code>谓词或集合运算符的语句（如<code class="codeph">UNION</code>和<code class="codeph">MINUS</code> 。</p>
                        </li>
                        <li>
                           <p>缓存频繁访问，很少更改重复检索昂贵的数据。但是，使这个缓存机制易于使用，并确保它确实比访问原始方法中的数据便宜。这适用于应在本地缓存或存储常用数据值的所有模块，而不是从远程或昂贵的数据存储中重复检索。</p>
                           <p>最常见的本地缓存候选者示例包括：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>今天的日期。<code class="codeph">SELECT</code> <code class="codeph">SYSDATE</code> <code class="codeph">FROM</code> <code class="codeph">DUAL</code>可占数据库工作负载的60％以上。
                                 </p>
                              </li>
                              <li>
                                 <p>当前用户名。</p>
                              </li>
                              <li>
                                 <p>重复的应用程序变量和常量，例如税率，折扣率或位置信息。</p>
                              </li>
                              <li>
                                 <p>本地缓存数据可以进一步扩展到在应用服务器中间层中构建本地数据缓存。这有助于减轻中央数据库服务器的负担。但是，在构建本地缓存时应小心谨慎，这样它们就不会变得如此复杂，以至于它们不再能够提高性能。</p>
                              </li>
                              <li>
                                 <p>本地序列生成。</p>
                              </li>
                           </ul>
                           <p>应考虑使用缓存的设计含义。例如，如果用户在午夜连接并且日期被缓存，则用户的日期值将变为无效。</p>
                        </li>
                        <li>
                           <p>优化组件之间的接口，并确保在最可扩展的配置中使用所有组件。此规则需要最少的解释并适用于所有模块及其接口。</p>
                        </li>
                        <li>
                           <p>使用外键引用。通过应用程序实现引用完整性是昂贵的。您可以通过从父级中选择子级的列值并确保它存在来维护外键引用。由Oracle提供的不使用SQL的外键约束实施快速，易于声明，并且不会创建网络流量。</p>
                        </li>
                        <li>
                           <p>考虑在要使用的应用程序中设置操作和模块名称<a id="d5548e2343" class="indexterm-anchor"></a>端到端应用程序跟踪。这样可以更灵活地跟踪工作负载问题。
                           </p>
                        </li>
                     </ol>
                  </div>
               </div><a id="TGDBA94124"></a><div class="props_rev_3"><a id="GUID-AA42DCCB-193C-4ED3-A6B6-D3059B6F4ED2" name="GUID-AA42DCCB-193C-4ED3-A6B6-D3059B6F4ED2"></a><h4 id="TGDBA-GUID-AA42DCCB-193C-4ED3-A6B6-D3059B6F4ED2" class="sect4"><span class="enumeration_section">2.5.7</span>应用程序开发趋势</h4>
                  <div>
                     <p><a id="d5548e2398" class="indexterm-anchor"></a>当今应用程序开发面临的两大挑战是Java越来越多地使用Java来替换已编译的C或C ++应用程序，并且增加了面向对象技术的使用，从而影响了架构设计。
                     </p>
                     <p>Java为程序员提供了更好的代码可用性和可用性。但是，Java存在一些与性能相关的问题。因为Java是一种解释型语言，所以执行类似逻辑的速度比编译语言（例如C）慢。结果，客户端计算机的资源使用量增加。这需要在客户端或中间层计算机中应用更强大的CPU，并且程序员需要更加小心地生成有效的代码。</p>
                     <p>因为Java是一种面向对象的语言，所以它鼓励将数据访问绝缘到不执行业务逻辑的类中。结果，程序员可能在不知道所使用的数据访问方法的效率的情况下调用方法。这往往导致最小的数据库访问，并使用最简单和最粗糙的数据库接口。</p>
                     <p>使用这种类型的软件设计，查询并不总是包含所有<code class="codeph">WHERE</code>谓词都是有效的，并且行过滤在Java程序中执行。这是非常低效的。此外，对于DML操作 - 特别是对于<code class="codeph">INSERT</code> ，执行单个<code class="codeph">INSERT</code> ，无法使用阵列接口。在某些情况下，过程调用会使效率降低。与实际数据库调用相比，使用更多资源将数据移入和移出数据库。
                     </p>
                     <p>通常，最好将数据访问调用放在业务逻辑旁边，以实现最佳的整体事务设计。</p>
                     <p><a id="d5548e2421" class="indexterm-anchor"></a>在编程层面接受面向对象已经导致在Oracle Server中创建面向对象的数据库。这在许多方面表现出来，从在<code class="codeph">BLOB</code>存储对象结构，并且仅将数据库有效地用作索引卡文件到使用Oracle数据库对象关系特征。
                     </p>
                     <p>如果采用面向对象的方法进行模式设计，那么请确保不会失去关系存储模型的灵活性。在许多情况下，面向对象的模式设计方法最终导致严重非规范化的数据结构，需要相当多的维护和与对象关联的<code class="codeph">REF</code>指针。通常，这些设计代表了用关系存储方法取代的分层和网络数据库设计的一个倒退。
                     </p>
                     <p>总之，如果您将数据长期存储在数据库中，并且如果您预期在同一模式上进行一定程度的即席查询或应用程序开发，那么关系存储方法可能会提供最佳性能和灵活性。</p>
                  </div>
               </div>
            </div><a id="TGDBA94125"></a><div class="props_rev_3"><a id="GUID-E6DFD7FD-E2E8-4C34-A81A-D25366F69594" name="GUID-E6DFD7FD-E2E8-4C34-A81A-D25366F69594"></a><h3 id="TGDBA-GUID-E6DFD7FD-E2E8-4C34-A81A-D25366F69594" class="sect3"><span class="enumeration_section">2.6</span>工作负载测试，建模和实现</h3>
               <div>
                  <p>本节介绍工作负载估计，建模，实现和测试。本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-436CDBC3-D9ED-424E-B06B-429777C12F3A">调整数据大小</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-8CD59302-6016-4A0A-A198-D216341927C6">估算工作量</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-04661179-051C-4F56-992B-DE8C08ECF2EA">应用程序建模</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-03D24516-86DF-407A-814A-2C5FE6629E4D">测试，调试和验证设计</a></p>
                     </li>
                  </ul>
               </div><a id="TGDBA94126"></a><div class="props_rev_3"><a id="GUID-436CDBC3-D9ED-424E-B06B-429777C12F3A" name="GUID-436CDBC3-D9ED-424E-B06B-429777C12F3A"></a><h4 id="TGDBA-GUID-436CDBC3-D9ED-424E-B06B-429777C12F3A" class="sect4"><span class="enumeration_section">2.6.1</span>调整数据大小</h4>
                  <div>
                     <p>如果使用较差的样本集，在处理可变长度数据时，您可能会遇到大小估计中的错误。随着数据量的增长，您的密钥长度可能会大幅增长，从而改变您对列大小的假设。</p>
                     <p>当系统运行时，预测数据库增长变得更加困难，特别是对于索引。表随着时间的推移而增长，并且索引在密钥生成，插入模式和行删除方面受到应用程序的个别行为的影响。最糟糕的情况是使用升序键插入，然后从左侧删除大多数行但不删除所有行。这留下了空隙和浪费的空间。如果你有这样的索引使用，那么请确保你知道如何使用在线索引重建工具。</p>
                     <p>DBA应监视每个对象的空间分配，并查找可能失控的对象。对应用程序的良好理解可以突出可能快速或不可预测地增长的对象。这是任何系统的性能和可用性规划的关键部分。在实现生产数据库时，设计应尝试确保在交互式用户使用应用程序时进行最小的空间管理。这适用于所有数据，临时和回滚段。</p>
                  </div>
               </div><a id="TGDBA94127"></a><div class="props_rev_3"><a id="GUID-8CD59302-6016-4A0A-A198-D216341927C6" name="GUID-8CD59302-6016-4A0A-A198-D216341927C6"></a><h4 id="TGDBA-GUID-8CD59302-6016-4A0A-A198-D216341927C6" class="sect4"><span class="enumeration_section">2.6.2</span>估算工作量</h4>
                  <div>
                     <p><a id="d5548e2612" class="indexterm-anchor"></a><a id="d5548e2614" class="indexterm-anchor"></a>考虑到所涉及的变量数量，估计容量规划和测试目的的工作量非常困难。但是，设计人员必须指定具有CPU，内存和磁盘驱动器的计算机，并最终推出应用程序。有几种技术用于确定尺寸，每种技术都有其优点。在调整大小时，最好使用以下方法来验证您的决策过程并提供支持文档。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8CD59302-6016-4A0A-A198-D216341927C6__GUID-C68628BE-1E63-42EF-AFAD-897D2403E3E9">从类似系统推断</p>
                        <p><a id="d5548e2621" class="indexterm-anchor"></a><a id="d5548e2623" class="indexterm-anchor"></a><a id="d5548e2627" class="indexterm-anchor"></a>这是一种完全经验的方法，其中具有相似特征和已知性能的现有系统被用作基础系统。然后，尺寸专家根据已知的差异修改该系统的规格。这种方法的优点在于它与现有系统相关，但在处理差异时几乎没有提供帮助。
                        </p>
                        <p>在准备工程项目（例如大型建筑物，船舶，桥梁或石油钻井平台）的成本时，这种方法几乎用于所有大型工程学科。如果参考系统的大小与预期系统的大小不同，则某些组件可能已超出其设计限制。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8CD59302-6016-4A0A-A198-D216341927C6__GUID-B83FDFAD-884F-4A1D-B1B7-270EF66EE103">标杆</p>
                        <p><a id="d5548e2636" class="indexterm-anchor"></a><a id="d5548e2638" class="indexterm-anchor"></a><a id="d5548e2642" class="indexterm-anchor"></a>基准测试过程既耗费资源又耗时，并且可能无法产生正确的结果。通过在早期开发或原型中模拟应用程序，存在测量与实际生产系统无关的事物的危险。这听起来很奇怪，但在多年来使用数据库开发组织对客户应用程序进行基准测试时，Oracle尚未看到基准应用程序与实际生产系统之间的可靠关联。这主要是由于开发过程中引入的应用程序效率低下的数量。
                        </p>
                        <p>但是，基准测试已成功用于将系统规模调整到可接受的准确度。特别是，基准测试非常擅长确定系统满载时的实际I / O要求和测试恢复过程。</p>
                        <p>基准性质本质上强调所有系统组件的极限。由于基准测试强调所有组件，因此请准备好在基准测试时看到应用程序设计和实现中的所有错误。基准测试还测试数据库，操作系统和硬件组件。由于大多数基准测试都是匆忙执行的，因此在系统组件发生故障时会出现挫折和问题。基准测试是一项压力很大的活动，需要相当多的经验才能充分利用基准测试练习。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TGDBA94130"></a><div class="props_rev_3"><a id="GUID-04661179-051C-4F56-992B-DE8C08ECF2EA" name="GUID-04661179-051C-4F56-992B-DE8C08ECF2EA"></a><h4 id="TGDBA-GUID-04661179-051C-4F56-992B-DE8C08ECF2EA" class="sect4"><span class="enumeration_section">2.6.3</span>应用程序建模</h4>
                  <div>
                     <p><a id="d5548e2700" class="indexterm-anchor"></a><a id="d5548e2702" class="indexterm-anchor"></a>应用程序建模的范围可以从复杂的数学建模练习到在信封背面执行的经典简单计算。这两种方法都有其优点，一种方法试图非常精确，另一种方法估计总量。这两种方法的缺点是它们不允许实现错误和低效率。
                     </p>
                     <p>估算和尺寸调整过程是一项不精确的科学。但是，通过调查过程，可以进行一些智能估算。整个估算过程不允许因不良SQL，索引设计或游标管理引入的应用程序低效。规模调整工程师应该为应用程序效率低下建立边际。性能工程师应该发现效率低下并使估算看起来很现实。Oracle性能方法描述了如何发现应用程序的低效率。</p>
                  </div>
               </div><a id="TGDBA94131"></a><div class="props_rev_3"><a id="GUID-03D24516-86DF-407A-814A-2C5FE6629E4D" name="GUID-03D24516-86DF-407A-814A-2C5FE6629E4D"></a><h4 id="TGDBA-GUID-03D24516-86DF-407A-814A-2C5FE6629E4D" class="sect4"><span class="enumeration_section">2.6.4</span>测试，调试和验证设计</h4>
                  <div>
                     <p><a id="d5548e2759" class="indexterm-anchor"></a><a id="d5548e2761" class="indexterm-anchor"></a><a id="d5548e2763" class="indexterm-anchor"></a><a id="d5548e2767" class="indexterm-anchor"></a><a id="d5548e2769" class="indexterm-anchor"></a><a id="d5548e2773" class="indexterm-anchor"></a><a id="d5548e2775" class="indexterm-anchor"></a>测试过程主要包括功能和稳定性测试。在该过程中的某个时刻，执行性能测试。
                     </p>
                     <p>以下列表描述了一些用于性能测试应用程序的简单规则。如果记录正确，则此列表在应用程序上线后为生产应用程序和容量规划过程提供重要信息。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用自动数据库诊断监视器（ADDM）和SQL Tuning Advisor进行设计验证</p>
                        </li>
                        <li>
                           <p>使用实际数据量和分布进行测试</p>
                           <p>所有测试必须使用完全填充的表格完成。测试数据库应包含代表生产系统的数据，包括表格之间的数据量和基数。应构建所有生产索引，并正确填充模式统计信息。</p>
                        </li>
                        <li>
                           <p>使用正确的优化程序模式</p>
                           <p>使用您计划在生产中使用的优化程序模式执行所有测试。所有Oracle数据库研究和开发工作都集中在查询优化器上。因此，建议使用查询优化器。</p>
                        </li>
                        <li>
                           <p>测试单个用户性能</p>
                           <p>在空闲或轻度使用的数据库上测试单个用户以获得可接受的性能。如果单个用户在理想条件下无法达到可接受的性能，则多个用户在实际条件下无法实现可接受的性能。</p>
                        </li>
                        <li>
                           <p>获取并记录所有SQL语句的计划</p>
                           <p>获取每个SQL语句的执行计划。使用此过程验证优化程序是否正在获取最佳执行计划，并且可以根据CPU时间和物理I / O来理解SQL语句的相对成本。此过程有助于识别将来需要进行最多调整和性能工作的大量使用事务。</p>
                        </li>
                        <li>
                           <p>尝试多用户测试</p>
                           <p>此过程难以准确执行，因为用户工作负载和配置文件可能无法完全量化。但是，应测试执行DML语句的事务以确保不存在锁定冲突或序列化问题。</p>
                        </li>
                        <li>
                           <p>使用正确的硬件配置进行测试</p>
                           <p>使用尽可能靠近生产系统的配置进行测试。使用真实的系统对于网络延迟，I / O子系统带宽以及处理器类型和速度尤为重要。如果不使用此方法，可能会导致对潜在性能问题的错误分析。</p>
                        </li>
                        <li>
                           <p>测量稳态性能</p>
                           <p>在进行基准测试时，在稳态条件下测量性能非常重要。每个基准测试运行应该有一个提升阶段，用户连接到应用程序并逐渐开始执行应用程序的工作。此过程允许将频繁缓存的数据初始化到缓存中，并且单个执行操作（例如解析）在稳态条件之前完成。同样，在基准测试运行结束时，应该有一个减速期，资源从系统中释放出来，用户停止工作和断开连接。</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="TGDBA94132"></a><div class="props_rev_3"><a id="GUID-2E491D68-37F1-4D6B-B6E8-841A2C050E76" name="GUID-2E491D68-37F1-4D6B-B6E8-841A2C050E76"></a><h3 id="TGDBA-GUID-2E491D68-37F1-4D6B-B6E8-841A2C050E76" class="sect3"><span class="enumeration_section">2.7</span>部署新应用程序</h3>
               <div>
                  <p><a id="d5548e2871" class="indexterm-anchor"></a><a id="d5548e2875" class="indexterm-anchor"></a>以下是部署应用程序时涉及的关键设计决策：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-BF4B19B8-B09A-40EE-B453-F31A98D003F5">推出策略</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-DFCECF0D-152F-4892-9B17-24BD0744444E">绩效核对表</a></p>
                     </li>
                  </ul>
               </div><a id="TGDBA94133"></a><div class="props_rev_3"><a id="GUID-BF4B19B8-B09A-40EE-B453-F31A98D003F5" name="GUID-BF4B19B8-B09A-40EE-B453-F31A98D003F5"></a><h4 id="TGDBA-GUID-BF4B19B8-B09A-40EE-B453-F31A98D003F5" class="sect4"><span class="enumeration_section">2.7.1</span>推出策略</h4>
                  <div>
                     <p>在推出新应用程序时，通常采用两种策略：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a id="d5548e2943" class="indexterm-anchor"></a><a id="d5548e2947" class="indexterm-anchor"></a> Big Bang方法 - 所有用户立即迁移到新系统</p>
                        </li>
                        <li>
                           <p><a id="d5548e2952" class="indexterm-anchor"></a><a id="d5548e2956" class="indexterm-anchor"></a>涓流方法 - 用户从现有系统慢慢迁移到新系统</p>
                        </li>
                     </ul>
                     <p>这两种方法都有优点和缺点。Big Bang方法依赖于以所需规模对应用程序进行可靠测试，但具有最小化数据转换和与旧系统同步的优势，因为它只是关闭。Trickle方法允许在工作负载增加时调试可伸缩性问题，但可能意味着必须在迁移发生时将数据迁移到遗留系统和从遗留系统迁移。</p>
                     <p>很难推荐一种方法而不是另一种方法，因为每种方法都存在相关风险，可能会在转换发生时导致系统中断。当然，Trickle方法允许在引入新应用程序时对真实用户进行概要分析，并允许重新配置系统，同时仅影响迁移的用户。这种方法会影响早期采用者的工作，但会限制支持服务的负担。这意味着计划外中断仅影响一小部分用户群。</p>
                     <p>关于如何推出新应用程序的决定是针对每个业务的。任何采用的方法都有其独特的压力和压力。您从测试过程中获得的测试和知识越多，您就越了解什么是最适合推出的产品。</p>
                  </div>
               </div><a id="TGDBA94134"></a><div class="props_rev_3"><a id="GUID-DFCECF0D-152F-4892-9B17-24BD0744444E" name="GUID-DFCECF0D-152F-4892-9B17-24BD0744444E"></a><h4 id="TGDBA-GUID-DFCECF0D-152F-4892-9B17-24BD0744444E" class="sect4"><span class="enumeration_section">2.7.2</span>性能检查表</h4>
                  <div>
                     <div class="section">
                        <p>为了帮助推出，请构建一个任务列表，以增加生产中最佳性能的可能性，并实现应用程序的快速调试。请执行下列操作：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>为生产数据库创建控制文件时，通过将<code class="codeph">MAXINSTANCES</code> ， <code class="codeph">MAXDATAFILES</code> ， <code class="codeph">MAXLOGFILES</code> ， <code class="codeph">MAXLOGMEMBERS</code>和<code class="codeph">MAXLOGHISTORY</code>为高于您预期的卷展栏的值来允许增长。此技术会导致更多的磁盘空间使用和更大的控制文件，但如果在紧急情况下需要扩展，则可以节省时间。</span></li>
                        <li><span>将块大小设置为用于开发应用程序的值。如果在代表性数据卷上执行测试并且当前SQL执行计划正确，则将架构统计信息从开发或测试环境导出到生产数据库。</span></li>
                        <li><span>设置最小数量的初始化参数。理想情况下，大多数其他参数应保留为默认值。如果要执行更多调整，则在系统处于负载状态时会出现此调整。</span></li>
                        <li><span>准备通过设置数据库对象的存储选项来管理块争用。应使用自动段空间管理创建经历高<code class="codeph">INSERT</code> / <code class="codeph">UPDATE</code> / <code class="codeph">DELETE</code>速率的表和索引。要避免回滚段的争用，请使用自动撤消管理。</span></li>
                        <li><span>应验证所有SQL语句是否最佳并理解其资源使用情况。</span></li>
                        <li><span>验证连接到数据库的中间件和程序在连接管理中是否有效，并且不会重复登录或注销。</span></li>
                        <li><span>验证SQL语句是否有效地使用游标。数据库应解析每个SQL语句一次，然后多次执行。这种情况最常见的原因是没有正确使用绑定变量， <code class="codeph">WHERE</code>子句谓词作为字符串文字发送。如果使用预编译器开发应用程序，请确保在预编译应用程序之前从默认值重置参数<code class="codeph">MAXOPENCURSORS</code> ， <code class="codeph">HOLD_CURSOR</code>和<code class="codeph">RELEASE_CURSOR</code> 。</span></li>
                        <li><span>验证所有模式对象是否已从开发环境正确迁移到生产数据库。这包括表，索引，序列，触发器，包，过程，函数，Java对象，同义词，授权和视图。确保对生产系统进行任何测试修改。</span></li>
                        <li><span>系统推出后，立即从数据库和操作系统建立一组基准统计信息。第一组统计信息验证或更正在设计和部署过程中所做的任何假设。</span></li>
                        <li><span>开始预测第一个瓶颈（这是不可避免的）并遵循Oracle性能方法来提高性能。</span></li>
                     </ol>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="05156.CREATE-TRIGGER-statement.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>CREATE TRIGGER声明</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database PL/SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database PL/SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-13T20:26:20-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96448-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="CREATE-PROCEDURE-statement.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CREATE-TYPE-statement.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="LNPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CREATE-PROCEDURE-statement.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CREATE-TYPE-statement.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库PL / SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="sql-statements-for-stored-plsql-units.html" property="item" typeof="WebPage"><span property="name">存储的PL / SQL单元的SQL语句</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CREATE TRIGGER声明</li>
            </ol>
            <a id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B" name="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B"></a><a id="LNPLS2006"></a><a id="LNPLS1542"></a><a id="LNPLS2183"></a><a id="LNPLS1543"></a><a id="LNPLS2009"></a><a id="LNPLS1544"></a><a id="LNPLS1545"></a><a id="LNPLS1549"></a><a id="LNPLS1550"></a><a id="LNPLS1547"></a><a id="LNPLS1548"></a><a id="LNPLS1546"></a><a id="LNPLS1551"></a><a id="LNPLS1552"></a><a id="LNPLS2015"></a><a id="LNPLS1553"></a><a id="LNPLS2017"></a><a id="LNPLS2018"></a><a id="LNPLS2019"></a><a id="LNPLS2020"></a><a id="LNPLS2021"></a><a id="LNPLS2022"></a><a id="LNPLS2023"></a><a id="LNPLS2024"></a><a id="LNPLS2025"></a><a id="LNPLS2026"></a><a id="LNPLS2027"></a><a id="LNPLS2028"></a><a id="LNPLS2029"></a><a id="LNPLS2031"></a><a id="LNPLS2032"></a><a id="LNPLS2033"></a><a id="LNPLS2034"></a><a id="LNPLS2035"></a><a id="LNPLS2036"></a><a id="LNPLS2037"></a><a id="LNPLS2038"></a><a id="LNPLS2039"></a><a id="LNPLS2040"></a><a id="LNPLS2041"></a><a id="LNPLS2042"></a><a id="LNPLS2043"></a><a id="LNPLS2044"></a><a id="LNPLS2045"></a><a id="LNPLS2046"></a><a id="LNPLS2047"></a><a id="LNPLS2048"></a><a id="LNPLS2049"></a><a id="LNPLS2050"></a><a id="LNPLS2051"></a><a id="LNPLS2052"></a><a id="LNPLS2075"></a><a id="LNPLS2076"></a><a id="LNPLS2077"></a><a id="LNPLS1985"></a><a id="LNPLS1986"></a><a id="LNPLS2078"></a><a id="LNPLS2080"></a><a id="LNPLS2081"></a><a id="LNPLS2082"></a><a id="LNPLS2083"></a><a id="LNPLS2084"></a><a id="LNPLS2085"></a><a id="LNPLS2086"></a><a id="LNPLS2087"></a><a id="LNPLS2088"></a><a id="LNPLS2089"></a><a id="LNPLS2090"></a><a id="LNPLS2091"></a><a id="LNPLS2092"></a><a id="LNPLS2093"></a><a id="LNPLS2094"></a><a id="LNPLS2095"></a><a id="LNPLS2096"></a><a id="LNPLS2097"></a><a id="LNPLS2098"></a><a id="LNPLS2099"></a><a id="LNPLS2100"></a><a id="LNPLS2101"></a><a id="LNPLS2102"></a><a id="LNPLS2103"></a><a id="LNPLS2104"></a><a id="LNPLS2106"></a><a id="LNPLS2107"></a><a id="LNPLS2108"></a><a id="LNPLS2109"></a><a id="LNPLS2110"></a><a id="LNPLS2111"></a><a id="LNPLS2112"></a><a id="LNPLS2113"></a><a id="LNPLS2114"></a><a id="LNPLS2115"></a><a id="LNPLS2116"></a><a id="LNPLS2117"></a><a id="LNPLS2118"></a><a id="LNPLS01374"></a>
            
            <h2 id="LNPLS-GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B" class="sect2"><span class="enumeration_section">14.12</span> CREATE TRIGGER声明</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p><code class="codeph">CREATE</code> <code class="codeph">TRIGGER</code>语句创建或替换<span class="bold">数据库触发器</span> ，其中包括以下任一项：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>与表，视图，模式或数据库关联的存储PL / SQL块</p>
                     </li>
                     <li>
                        <p>匿名PL / SQL块或在PL / SQL或Java中实现的过程的调用</p>
                     </li>
                  </ul>
                  <p>当指定的条件发生时，数据库会自动运行触发器。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-470877EC-51A1-4D8D-9909-7946B15773EF">话题</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABHJFGH">先决条件</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABBJHHG">句法</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABFGAHF">语义</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHEICEC">例子</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABCHGAE">相关话题</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABHJFGH">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-D3E48616-0D85-4B73-A78F-9BB01C4B73C9">先决条件</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>要在架构中的表或架构（ <code class="codeph">SCHEMA</code> ）上的架构<code class="codeph">SCHEMA</code> <code class="codeph">CREATE</code> <code class="codeph">TRIGGER</code> ，您必须具有<code class="codeph">CREATE</code> <code class="codeph">TRIGGER</code>系统特权。
                        </p>
                     </li>
                     <li>
                        <p>在任何模式中的表或任何其他用户的模式（ <span class="italic"><code class="codeph">schema</code></span>上的任何模式中创建触发器。<code class="codeph">SCHEMA</code> ），您必须拥有<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">TRIGGER</code>系统特权。
                        </p>
                     </li>
                     <li>
                        <p>除了上述特权之外，要在<code class="codeph">DATABASE</code>上创建触发器，您必须具有<code class="codeph">ADMINISTER</code> <code class="codeph">DATABASE</code> <code class="codeph">TRIGGER</code>系统特权。
                        </p>
                     </li>
                     <li>
                        <p>要在可插拔数据库（PDB）上创建触发器，您必须连接到该PDB并具有<code class="codeph">ADMINISTER</code> <code class="codeph">DATABASE</code> <code class="codeph">TRIGGER</code>系统特权。有关PDB的信息，请参见“ <a href="../multi/overview-of-managing-a-multitenant-environment.html#ADMIN13508" target="_blank"><span class="italic">Oracle数据库管理员指南”</span></a> 。
                        </p>
                     </li>
                     <li>
                        <p>除了上述权限之外，要创建交叉触发器，还必须为版本启用。有关为用户启用版本的信息，请参阅“ <a href="../adfns/editions.html#ADFNS99878" target="_blank"><span class="italic">Oracle数据库开发指南”</span></a> 。
                        </p>
                     </li>
                  </ul>
                  <p>如果触发器发出SQL语句或调用过程或函数，则触发器的所有者必须具有执行这些操作所需的特权。必须直接向所有者授予这些权限，而不是通过角色获取。</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABBJHHG">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0D030104-ACBD-419E-92A1-E514368B5599">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0D40F3D8-BA67-4210-AB8E-089D0EDBC8C9"><span class="italic">create_trigger</span> :: =</p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-2FB5D80A-9EA8-4B6C-8D81-0132A3FF48B5"><img src="img/create_trigger.gif" alt="下面是create_trigger.eps的描述" title="下面是create_trigger.eps的描述" longdesc="img_text/create_trigger.html"><br><a href="img_text/create_trigger.html">说明create_trigger.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-73A62AD5-0427-41FA-BA3A-0BB8E3C784EF"><span class="italic">plsql_trigger_source</span> :: =</p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-DB5D282B-39D8-409E-987D-9A0B8E089CA9"><img src="img/plsql_trigger_source.gif" alt="下面是plsql_trigger_source.eps的描述" title="下面是plsql_trigger_source.eps的描述" longdesc="img_text/plsql_trigger_source.html"><br><a href="img_text/plsql_trigger_source.html">说明plsql_trigger_source.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <a href="SHARING-clause.html#GUID-3C830338-8B7E-43C0-9EA0-4E292AA1A97B__SHARING_CLAUSE-5ADB7CDA">sharing_clause :: =</a> ， <a href="DEFAULT-COLLATION-clause.html#GUID-453FC0EA-7B83-407B-A991-87A48017B358__DEFAULT_COLLATION_CLAUSE-FE9CA794">default_collation_clause :: =</a> ， <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABDFIFA">compound_dml_trigger :: =</a> ， <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHGIFBD">instead_of_dml_trigger :: =</a> ， <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABHEFGE">system_trigger :: =</a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-4D87FD30-647C-49F9-A458-43B8B011CF6E"><span class="italic">simple_dml_trigger</span> :: =</p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0FFC782D-3800-4DE0-959F-E27D19D9FE3D"><img src="img/simple_dml_trigger.gif" alt="下面是simple_dml_trigger.eps的描述" title="下面是simple_dml_trigger.eps的描述" longdesc="img_text/simple_dml_trigger.html"><br><a href="img_text/simple_dml_trigger.html">插图说明simple_dml_trigger.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABGDFBI">dml_event_clause :: =</a> ， <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">referencing_clause :: =</a> ， <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAJBHAA">trigger_body :: =</a> ， <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJABEJEA">trigger_edition_clause :: =</a> ， <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAEJAFB">trigger_ordering_clause :: =</a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHGIFBD">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-4271BD4C-D569-4553-8390-C9D1C0381C62"><span class="italic">instead_of_dml_trigger</span> :: =</p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-C25FEF05-66FA-4BEA-BF58-04680DFA4670"><img src="img/instead_of_trigger.gif" alt="下面是instead_of_trigger.eps的描述" title="下面是instead_of_trigger.eps的描述" longdesc="img_text/instead_of_trigger.html"><br><a href="img_text/instead_of_trigger.html">插图描述为instead_of_trigger.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">referencing_clause :: =</a> ， <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAJBHAA">trigger_body :: =</a> ， <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJABEJEA">trigger_edition_clause :: =</a> ， <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAEJAFB">trigger_ordering_clause :: =</a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABDFIFA">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0670D658-418D-41BD-82C2-541BA6F20528"><span class="italic">compound_dml_trigger</span> :: =</p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-B30D02D7-22B6-44AA-865F-58D1AA0097BE"><img src="img/compound_dml_trigger.gif" alt="下面是compound_dml_trigger.eps的描述" title="下面是compound_dml_trigger.eps的描述" longdesc="img_text/compound_dml_trigger.html"><br><a href="img_text/compound_dml_trigger.html">说明compound_dml_trigger.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJACFCDJ">compound_trigger_block :: =</a> ， <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABGDFBI">dml_event_clause :: =</a> ， <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">referencing_clause :: =</a> ， <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJABEJEA">trigger_edition_clause :: =</a> ， <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAEJAFB">trigger_ordering_clause :: =</a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABHEFGE">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-1775D6A6-B116-45D5-9FF9-48C6FBFAA543"><span class="italic">system_trigger</span> :: =</p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-491DEC83-F2DC-47B9-B23D-FA08CF9F6E5E"><img src="img/system_trigger.gif" alt="下面是system_trigger.eps的描述" title="下面是system_trigger.eps的描述" longdesc="img_text/system_trigger.html"><br><a href="img_text/system_trigger.html">说明system_trigger.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAJBHAA">trigger_body :: =</a> ， <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAEJAFB">trigger_ordering_clause :: =</a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABGDFBI">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-C4CF43AA-5BE9-4FB1-AC49-59C9D11BCABD"><span class="italic">dml_event_clause</span> :: =</p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-B124581A-C7F4-4FA5-ACB6-1B1210D2426F"><img src="img/dml_event_clause.gif" alt="下面是dml_event_clause.eps的描述" title="下面是dml_event_clause.eps的描述" longdesc="img_text/dml_event_clause.html"><br><a href="img_text/dml_event_clause.html">说明dml_event_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-17252FBE-8509-4557-A5B6-31D38A283880"><span class="italic">referencing_clause</span> :: =</p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0CE04351-853D-42C1-B47F-1F8FA714DD61"><img src="img/referencing_clause.gif" alt="下面是referencing_clause.eps的描述" title="下面是referencing_clause.eps的描述" longdesc="img_text/referencing_clause.html"><br><a href="img_text/referencing_clause.html">说明referencing_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJABEJEA">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-AADD7859-7354-4A5A-BC85-CFB4EB09F465"><span class="italic">trigger_edition_clause</span> :: =</p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-2C042923-3EB9-4916-8376-114B7474E4EC"><img src="img/trigger_edition_clause.gif" alt="下面是trigger_edition_clause.eps的描述" title="下面是trigger_edition_clause.eps的描述" longdesc="img_text/trigger_edition_clause.html"><br><a href="img_text/trigger_edition_clause.html">说明trigger_edition_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAEJAFB">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-3A7201D1-B445-4C9A-80EF-3EBA31331D7E"><span class="italic">trigger_ordering_clause</span> :: =</p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-73C287EF-6F2C-414E-A95B-68FD5F1A38D9"><img src="img/trigger_ordering_clause.gif" alt="下面是trigger_ordering_clause.eps的描述" title="下面是trigger_ordering_clause.eps的描述" longdesc="img_text/trigger_ordering_clause.html"><br><a href="img_text/trigger_ordering_clause.html">说明trigger_ordering_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAJBHAA">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-2831898B-104A-44CA-A5C1-F6B18ECEDD77"><span class="italic">trigger_body</span> :: =</p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-57025E1E-A1C6-4A1A-8CE7-45628C45B06B"><img src="img/trigger_body.gif" alt="下面是trigger_body.eps的描述" title="下面是trigger_body.eps的描述" longdesc="img_text/trigger_body.html"><br><a href="img_text/trigger_body.html">说明trigger_body.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <a href="block.html#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CJACBIJG">plsql_block :: =</a> ，</p>
                  <p><a href="../sqlrf/CALL.html#SQLRF01108" target="_blank"><span class="italic">Oracle数据库SQL语言参考中的</span></a> <span class="italic"><code class="codeph">routine_clause</code></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJACFCDJ">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-70E42155-A031-4460-ACA0-66F9A82D5403"><span class="italic">compound_trigger_block</span> :: =</p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0B04C668-7FA2-4D2F-8EBF-2DDD2E96286C"><img src="img/compound_trigger_block.gif" alt="下面是compound_trigger_block.eps的描述" title="下面是compound_trigger_block.eps的描述" longdesc="img_text/compound_trigger_block.html"><br><a href="img_text/compound_trigger_block.html">图示说明compound_trigger_block.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <a href="block.html#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CJAIABJJ">declare_section :: =</a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-2CD49225-7507-458B-8BDF-21C56AFC3527"><span class="italic">timing_point_section</span> :: =</p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-288E7D55-B22D-4556-BA23-1C6F68F8E4DC"><img src="img/timing_point_section.gif" alt="下面是timing_point_section.eps的描述" title="下面是timing_point_section.eps的描述" longdesc="img_text/timing_point_section.html"><br><a href="img_text/timing_point_section.html">说明timing_point_section.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-141A757D-925B-4ABC-9FCA-3E582EA1C454"><span class="italic">timing_point</span> :: =</p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-7C111CAB-DDD2-4ED3-BDEF-13C234735390"><img src="img/timing_point.gif" alt="接下来说明timing_point.eps" title="接下来说明timing_point.eps" longdesc="img_text/timing_point.html"><br><a href="img_text/timing_point.html">说明timing_point.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-AE7DA075-4B74-4780-9480-7D4D74E61105"><span class="italic">tps_body</span> :: =</p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-58877B2D-4E98-48E6-91A7-E30953A786E2"><img src="img/tps_body.gif" alt="下面是tps_body.eps的描述" title="下面是tps_body.eps的描述" longdesc="img_text/tps_body.html"><br><a href="img_text/tps_body.html">说明tps_body.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <a href="exception-handler.html#GUID-3FECF29B-A240-4191-A635-92C612D00C4D__CJAEIGAB">exception_handler :: =</a> ， <a href="block.html#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CJACJBCH">statement :: =</a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABFGAHF">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-3F64BA06-A311-419C-BBE5-4CD739C08D72">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-23C59D45-9318-4F96-9D64-8F879D818589"><span class="italic">create_trigger</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">或替换</span></p>
                  <p>如果存在，则重新创建触发器，然后重新编译它。</p>
                  <p>在重新定义触发器之前被授予权限的用户仍然可以访问该过程而无需重新授予权限。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">[版权所有|不可挽回的]</span></p>
                  <p>指定触发器是否是editioned或noneditioned对象，如果editioning为架构对象类型启用<code class="codeph">TRIGGER</code>的<span class="italic"><code class="codeph">schema</code></span> 。<span class="bold">默认值：</span> <code class="codeph">EDITIONABLE</code> 。有关已编辑和未编辑的对象的信息，请参见“ <a href="../adfns/editions.html#ADFNS99923" target="_blank"><span class="italic">Oracle数据库开发指南”</span></a> 。
                  </p>
                  <p><span class="bold">对不可接受的限制</span></p>
                  <p>您不能为交叉触发器指定<code class="codeph">NONEDITIONABLE</code> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">create_trigger的</span>限制</span></p>
                  <p>请参阅<span class="q">“ <a href="plsql-triggers.html#GUID-5B3A43E2-B9E1-4015-9A6C-0BE696853F3F">触发限制</a> ”</span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-A1E511F2-6B17-499A-8458-5036F19D5EAE"><span class="italic">plsql_trigger_source</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">模式</span></span></p>
                  <p>要创建的触发器的模式的名称。<span class="bold">默认值：</span>您的架构。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">触发</span></span></p>
                  <p>要创建的触发器的名称。</p>
                  <p>同一模式中的触发器不能具有相同的名称。触发器可以与其他架构对象具有相同的名称 - 例如，表和触发器可以具有相同的名称 - 但是，为避免混淆，建议不要这样做。</p>
                  <p>如果触发器产生编译错误，那么它仍然会被创建，但它在执行时失败。执行失败的触发器会有效阻止所有触发DML语句，直到它被禁用，替换为没有编译错误或删除的版本。您可以使用SQL * Plus命令<code class="codeph">SHOW</code> <code class="codeph">ERRORS</code>查看关联的编译器错误消息。</p>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-4D2D916A-0DA1-420C-B109-439E5897604C">
                     <p class="notep1">注意：</p>
                     <p>如果在实例化视图的基表上创建触发器，则必须确保在刷新实例化视图期间不触发触发器。在刷新期间， <code class="codeph">DBMS_MVIEW</code>过程<code class="codeph">I_AM_A_REFRESH</code>返回<code class="codeph">TRUE</code> 。</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-E8457579-0187-455E-8E45-FA3136DC1742"><span class="italic">simple_dml_trigger</span></p>
                  <p>创建一个简单的DML触发器（在<span class="q">“ <a href="plsql-triggers.html#GUID-E76C8044-6942-4573-B7DB-3502FB96CF6F" title="在表或视图上创建DML触发器，其触发事件由DML语句DELETE，INSERT和UPDATE组成。">DML触发器</a> ”中</span>描述）。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">之前</span></p>
                  <p>使数据库在运行触发事件之前触发触发器。对于行触发器，触发器会在每个受影响的行更改之前触发。</p>
                  <p><span class="bold">对BEFORE的限制</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>除非是版本视图，否则无法在视图上指定<code class="codeph">BEFORE</code>触发器。
                        </p>
                     </li>
                     <li>
                        <p>在<code class="codeph">BEFORE</code>语句触发器中，触发器主体无法读取<code class="codeph">:NEW</code>或<code class="codeph">:OLD</code> 。 （在<code class="codeph">BEFORE</code>行触发器中，触发器主体可以读取和写入<code class="codeph">:OLD</code>和<code class="codeph">:NEW</code>字段。）
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">后</span></p>
                  <p>使数据库在运行触发事件后触发触发器。对于行触发器，触发器会在每个受影响的行更改后触发。</p>
                  <p><span class="bold">对AFTER的限制</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>除非是版本视图，否则无法在视图上指定<code class="codeph">AFTER</code>触发器。
                        </p>
                     </li>
                     <li>
                        <p>在<code class="codeph">AFTER</code>语句触发器中，触发器主体无法读取<code class="codeph">:NEW</code>或<code class="codeph">:OLD</code> 。 （在<code class="codeph">AFTER</code>行触发器中，触发器主体可以读取但不能写入<code class="codeph">:OLD</code>和<code class="codeph">:NEW</code>字段。）
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-EC2CBA46-60C8-4CF1-899E-7577C4682BFC">
                     <p class="notep1">注意：</p>
                     <p>为表创建<code class="codeph">AFTER</code>化视图日志时，数据库会在表上隐式创建<code class="codeph">AFTER</code>行触发器。只要<code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>语句修改主表中的数据，此触发器就会在物化视图日志中插入一行。您无法控制多行触发器触发的顺序。因此，不要编写旨在影响物化视图内容的触发器。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-EC787185-E26B-40EF-980D-E7E106A0F08F">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关物化视图日志的详细信息，请<a href="../sqlrf/CREATE-MATERIALIZED-VIEW-LOG.html#SQLRF01303" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                        </li>
                        <li>
                           <p>有关版本视图的信息，请参见<a href="../adfns/editions.html#ADFNS0202" target="_blank"><span class="italic">“Oracle数据库开发指南</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">对于每一行</span></p>
                  <p>将触发器创建为行触发器。数据库为受触发语句影响的每一行触发行触发器，并满足<code class="codeph">WHEN</code>条件中定义的可选触发器约束。
                  </p>
                  <p>如果省略此子句，则触发器是语句触发器。仅当满足可选触发器约束时，才会在发出触发语句时触发语句触发器。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">[ENABLE |禁用]</span></p>
                  <p>以启用（默认）或禁用状态创建触发器。在禁用状态下创建触发器可以确保在启用触发器之前编译没有错误。</p>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-62B802FB-993F-45FF-A4D3-1B002131A248">
                     <p class="notep1">注意：</p>
                     <p>如果要创建交叉触发器，则<code class="codeph">DISABLE</code>特别有用，如果发生编译错误，则会影响重新定义的在线应用程序。
                     </p>
                  </div><code class="codeph"></code><p><span class="bold">什么时候（ <span class="italic">条件</span> ）</span></p>
                  <p>指定数据库为触发语句影响的每一行计算的SQL条件。如果受影响的行的<span class="italic">条件</span>值为<code class="codeph">TRUE</code> ，则<span class="italic">trigger_body</span>将针对该行运行;否则， <span class="italic">trigger_body</span>不会为该行运行。无论<span class="italic">条件</span>的值如何，触发语句都会运行。
                  </p>
                  <p><span class="italic">条件</span>可以包含相关名称（请参阅<span class="q">“ <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">referencing_clause :: =</a> ”</span> ）。
                  </p>
                  <p>在<span class="italic"><code class="codeph">condition</code></span> ，不要在相关名称<code class="codeph">NEW</code> ， <code class="codeph">OLD</code>或<code class="codeph">PARENT</code>之前放置冒号（:)（在此上下文中，它不是绑定变量的占位符）。
                  </p>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-6AA2DA87-9C42-4B23-B422-B1472F6AA0DC">
                     <p class="notep1">也可以看看：</p>
                     <p>有关SQL条件的信息，请<a href="../sqlrf/Conditions.html#SQLRF005" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                  </div>
                  <p><span class="bold">对WHEN（ <span class="italic">条件</span> ）的限制</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果指定此子句，则还必须指定<code class="codeph">FOR</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code> 。</p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">condition</code></span>不能包含子查询或PL / SQL表达式（例如，调用用户定义的函数）。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">trigger_body</span></span></p>
                  <p>数据库运行以触发触发器的PL / SQL块或<code class="codeph">CALL</code>子程序。<code class="codeph">CALL</code>子程序是PL / SQL子程序或PL / SQL包装器中的Java子程序。
                  </p>
                  <p>如果<span class="italic">trigger_body</span>是PL / SQL块并且它包含错误，则<code class="codeph">CREATE</code> [ <code class="codeph">OR</code> <code class="codeph">REPLACE</code> ]语句将失败。
                  </p>
                  <p><span class="bold">对<span class="italic">trigger_body的</span>限制</span></p>
                  <p><span class="italic">declare_section</span>不能声明数据类型<code class="codeph">LONG</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code>变量。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-E0627771-3545-4CB6-9CFA-BA07AED7E994"><span class="italic">instead_of_dml_trigger</span></p>
                  <p>创建一个<code class="codeph">INSTEAD</code> <code class="codeph">OF</code> DML触发器（在<span class="q">“ <a href="plsql-triggers.html#GUID-9F06D45C-7C60-434E-A597-114A0C445671" title="INSTEAD OF DML触发器是在非编辑视图或非编辑视图的嵌套表列上创建的DML触发器。数据库触发INSTEAD OF触发器而不是运行触发DML语句。">INSTEAD OF DML触发器</a> ”中描述</span> ）。
                  </p>
                  <p><span class="bold">对INSTEAD OF的限制</span></p>
                  <p><code class="codeph">INSTEAD</code> <code class="codeph">OF</code>触发器可以读取<code class="codeph">:OLD</code>和<code class="codeph">:NEW</code>值，但不能更改它们。
                  </p>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-17506563-E024-4861-B60D-D9D73A386D44">
                     <p class="notep1">注意：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果视图本质上是可更新的并且具有<code class="codeph">INSTEAD</code> <code class="codeph">OF</code>触发器，则触发器优先：数据库触发触发器而不是在视图上执行DML。
                           </p>
                        </li>
                        <li>
                           <p>如果视图属于层次结构，则子视图不会继承触发器。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">INSTEAD</code> <code class="codeph">OF</code>触发器对视图进行插入或更新时，不会强制执行<code class="codeph">WITH</code> <code class="codeph">CHECK</code> <code class="codeph">OPTION</code> for views。<code class="codeph">INSTEAD</code> <code class="codeph">OF</code>触发器主体必须强制执行检查。有关<code class="codeph">WITH</code> <code class="codeph">CHECK</code> <code class="codeph">OPTION</code> ，请参阅<a href="../sqlrf/CREATE-VIEW.html#SQLRF54786" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>数据库细粒度访问控制允许您在视图上定义行级安全策略。这些策略强制执行指定的规则以响应DML操作。如果还在视图上定义了<code class="codeph">INSTEAD</code> <code class="codeph">OF</code>触发器，则数据库不会强制执行行级安全策略，因为数据库会触发<code class="codeph">INSTEAD</code> <code class="codeph">OF</code>触发器而不是在视图上运行DML。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">删除</span></p>
                  <p>如果在非分段视图上创建触发器，则<code class="codeph">DELETE</code>会导致数据库在<code class="codeph">DELETE</code>语句从定义了非分段视图的表中删除行时触发该触发器。
                  </p>
                  <p>如果在非编辑视图的嵌套表列上创建触发器，则<code class="codeph">DELETE</code>会导致数据库在<code class="codeph">DELETE</code>语句从嵌套表中删除元素时触发该触发器。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">插入</span></p>
                  <p>如果在非编辑视图上创建触发器，则只要<code class="codeph">INSERT</code>语句向定义了非编辑视图的表添加行， <code class="codeph">INSERT</code>就会使数据库触发该触发器。
                  </p>
                  <p>如果在非编辑视图的嵌套表列上创建触发器，则只要<code class="codeph">INSERT</code>语句将元素添加到嵌套表， <code class="codeph">INSERT</code>就会使数据库触发该触发器。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">UPDATE</span></p>
                  <p>如果在非分区视图上创建触发器，则只要<code class="codeph">UPDATE</code>语句更改了定义了非分段视图的表的列中的值， <code class="codeph">UPDATE</code>就会使数据库触发该触发器。
                  </p>
                  <p>如果在非编辑视图的嵌套表列上创建触发器，则只要<code class="codeph">UPDATE</code>语句更改嵌套表的列中的值， <code class="codeph">UPDATE</code>就会使数据库触发该触发器。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">nested_table_column</span></span></p>
                  <p><span class="italic"><code class="codeph">nested_table_column</code></span>在其上创建触发器的<span class="italic"><code class="codeph">nested_table_column</code></span>名称。仅当DML对嵌套表的元素进行操作时，触发器才会触发。直接在嵌套表列上执行DML操作不会导致数据库触发在包含嵌套表列的表上定义的触发器。有关更多信息，请参阅<span class="q">“ <a href="plsql-triggers.html#GUID-9F06D45C-7C60-434E-A597-114A0C445671" title="INSTEAD OF DML触发器是在非编辑视图或非编辑视图的嵌套表列上创建的DML触发器。数据库触发INSTEAD OF触发器而不是运行触发DML语句。">INSTEAD OF DML触发器</a> ”</span> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-8DB457D7-2B14-4043-90CE-9F40502FC522">
                     <p class="notep1">也可以看看：</p>
                     <p><code class="codeph">AS</code> <span class="italic">数据库SQL语言参考中</span>的<a href="../sqlrf/CREATE-VIEW.html#SQLRF01504" target="_blank"><code class="codeph">CREATE</code> <code class="codeph">VIEW</code></a> <code class="codeph">AS</code> <span class="italic"><code class="codeph">subquery</code></span>子句，其中包含阻止视图上的插入，更新或删除的构造的列表</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">模式</span></span></p>
                  <p>包含非编辑视图的模式的名称。<span class="bold">默认值：</span>您的架构。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">noneditioning_view</span></span></p>
                  <p>如果指定<span class="italic"><code class="codeph">nested_table_column</code></span> ，则<span class="italic"><code class="codeph">noneditioning_view</code></span>是包含<span class="italic"><code class="codeph">nested_table_column</code></span>的非编辑视图的名称。否则， <span class="italic"><code class="codeph">noneditioning_view</code></span>是要在其上创建触发器的非编辑视图的名称。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">对于每一行</span></p>
                  <p>仅供参考，因为<code class="codeph">INSTEAD OF</code>触发器始终是行触发器。
                  </p>
                  <p><code class="codeph">ENABLE</code></p>
                  <p><span class="bold">（默认）</span>在启用状态下创建触发器。
                  </p>
                  <p><code class="codeph">DISABLE</code></p>
                  <p>在禁用状态下创建触发器，使您可以在启用它之前确保触发器编译时没有错误。</p>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-4009ED2A-B1E5-48F4-9BB0-A4FD23F4A59D">
                     <p class="notep1">注意：</p>
                     <p>如果要创建交叉触发器，则<code class="codeph">DISABLE</code>特别有用，如果发生编译错误，则会影响重新定义的在线应用程序。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">trigger_body</span></span></p>
                  <p>数据库运行以触发触发器的PL / SQL块或<code class="codeph">CALL</code>子程序。<code class="codeph">CALL</code>子程序是PL / SQL子程序或PL / SQL包装器中的Java子程序。
                  </p>
                  <p>如果<span class="italic">trigger_body</span>是PL / SQL块并且它包含错误，则<code class="codeph">CREATE</code> [ <code class="codeph">OR</code> <code class="codeph">REPLACE</code> ]语句将失败。
                  </p>
                  <p><span class="bold">对<span class="italic">trigger_body的</span>限制</span></p>
                  <p><span class="italic"><code class="codeph">declare_section</code></span>不能声明数据类型<code class="codeph">LONG</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code>变量。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0C3BD5F3-42C4-4E21-98BB-EE11E661833C"><span class="italic">compound_dml_trigger</span></p>
                  <p>创建复合DML触发器（在<span class="q">“ <a href="plsql-triggers.html#GUID-8A0DA171-BE6A-4798-A1A4-677B88EA16A0">Compound DML Triggers</a> ”中</span>描述）。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">ENABLE</span></p>
                  <p><span class="bold">（默认）</span>在启用状态下创建触发器。
                  </p>
                  <p><span class="bold">DISABLE</span></p>
                  <p>在禁用状态下创建触发器，使您可以在启用它之前确保触发器编译时没有错误。</p>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-CCBC2D89-A58A-4392-8E0A-21BCA967D9A4">
                     <p class="notep1">注意：</p>
                     <p>如果要创建交叉触发器，则<code class="codeph">DISABLE</code>特别有用，如果发生编译错误，则会影响重新定义的在线应用程序。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">什么时候（ <span class="italic">条件</span> ）</span></p>
                  <p>指定数据库为触发语句影响的每一行计算的SQL条件。如果受影响的行的<span class="italic">条件</span>值为<code class="codeph">TRUE</code> ，则<span class="italic">tps_body</span>将针对该行运行;否则， <span class="italic">tps_body</span>不会为该行运行。无论<span class="italic">条件</span>的值如何，触发语句都会运行。
                  </p>
                  <p><span class="italic">条件</span>可以包含相关名称（请参阅<span class="q">“ <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">referencing_clause :: =</a> ”</span> ）。在<span class="italic">条件中</span> ，不要在相关名称<code class="codeph">NEW</code> ， <code class="codeph">OLD</code>或<code class="codeph">PARENT</code>之前放置冒号（:)（在此上下文中，它不是绑定变量的占位符）。
                  </p>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-16619403-F909-46E1-B13B-4451183A62BB">
                     <p class="notep1">也可以看看：</p>
                     <p>有关SQL条件的信息，请<a href="../sqlrf/Conditions.html#SQLRF005" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                  </div>
                  <p><span class="bold">对WHEN（ <span class="italic">条件</span> ）的限制</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果指定此子句，则还必须至少指定其中一个时间点：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">BEFORE</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">AFTER</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">INSTEAD</code> <code class="codeph">OF</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code></p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">condition</code></span>不能包含子查询或PL / SQL表达式（例如，调用用户定义的函数）。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-69554901-1419-4DD4-806F-33233E2FD9A5"><span class="italic">system_trigger</span></p>
                  <p>定义系统触发器（在<span class="q">“ <a href="plsql-triggers.html#GUID-FE23FCE8-DE36-41EF-80A9-6B4B49E80E5B" title="在架构或数据库上创建系统触发器。">系统触发器</a> ”中</span>描述）。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">之前</span></p>
                  <p>使数据库在运行触发事件之前触发触发器。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">后</span></p>
                  <p>使数据库在运行触发事件后触发触发器。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">代替</span></p>
                  <p>创建一个<code class="codeph">INSTEAD</code> <code class="codeph">OF</code>触发器。
                  </p>
                  <p><span class="bold">对INSTEAD OF的限制</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>触发事件必须是<code class="codeph">CREATE</code>语句。
                        </p>
                     </li>
                     <li>
                        <p>您最多可以创建一个<code class="codeph">INSTEAD</code> <code class="codeph">OF</code> DDL触发器（ <span class="italic">non_dml_trigger</span> ）。
                        </p>
                        <p>例如，您可以在数据库或模式上创建<code class="codeph">INSTEAD</code> <code class="codeph">OF</code>触发器，但不能在数据库和模式上创建。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHBDEFD">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-CA24E3AA-D985-4709-9B64-6F95D0FBA9EA"><span class="italic">ddl_event</span></p>
                  <p>一种或多种可能导致触发器触发的DDL SQL语句。</p>
                  <p>除非另有说明，否则您可以在<code class="codeph">DATABASE</code>或<code class="codeph">SCHEMA</code>上为这些事件创建触发器。您可以为任何这些事件创建<code class="codeph">BEFORE</code>和<code class="codeph">AFTER</code>触发器，但是您只能为<code class="codeph">CREATE</code>事件创建<code class="codeph">INSTEAD</code> <code class="codeph">OF</code>触发器。数据库触发现有用户事务中的触发器。
                  </p>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-30AF467C-51A4-4288-AFE6-C2A81BA7A0B4">
                     <p class="notep1">注意：</p>
                     <p>使用PL / SQL API创建，更改和删除某些对象（例如，调度程序作业由<code class="codeph">DBMS_SCHEDULER</code>包中的子程序维护）。这样的PL / SQL子程序不会触发DDL触发器。
                     </p>
                  </div>
                  <p>以下<span class="italic">ddl_event</span>值有效：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">改变</code></p>
                        <p>只要<code class="codeph">ALTER</code>语句修改数据字典中的数据库对象，就会导致数据库触发触发器。<code class="codeph">ALTER</code> <code class="codeph">DATABASE</code>语句不会触发触发器。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">分析</code></p>
                        <p>每当数据库收集或删除统计信息或验证数据库对象的结构时，都会导致数据库触发触发器。</p>
                        <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-5C00ABF5-4CB3-49FF-96E3-6A12F39752BC">
                           <p class="notep1">也可以看看：</p>
                           <p>有关使用SQL语句<code class="codeph">ANALYZE</code>收集统计信息的信息，请<a href="../sqlrf/ANALYZE.html#SQLRF01105" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                        </div>
                     </li>
                     <li>
                        <p><code class="codeph">ASSOCIATE</code> <code class="codeph">STATISTICS</code></p>
                        <p>只要数据库将统计信息类型与数据库对象关联，就会使数据库触发触发器。</p>
                     </li>
                     <li>
                        <p><code class="codeph">审计</code></p>
                        <p>每当发出<code class="codeph">AUDIT</code>语句时，数据库都会触发触发器。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">评论</code></p>
                        <p>只要将数据库对象的注释添加到数据字典，就会使数据库触发触发器。</p>
                     </li>
                     <li>
                        <p><code class="codeph">创建</code></p>
                        <p>只要<code class="codeph">CREATE</code>语句将数据库对象添加到数据字典，就会使数据库触发该触发器。<code class="codeph">CREATE</code> <code class="codeph">DATABASE</code>或<code class="codeph">CREATE</code> <code class="codeph">CONTROLFILE</code>语句不会触发触发器。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DISASSOCIATE</code> <code class="codeph">STATISTICS</code></p>
                        <p>只要数据库从数据库对象中取消关联统计信息类型，就会使数据库触发该触发器。</p>
                     </li>
                     <li>
                        <p><code class="codeph">下降</code></p>
                        <p>每当<code class="codeph">DROP</code>语句从数据字典中删除数据库对象时，都会导致数据库触发该触发器。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">GRANT</code></p>
                        <p>只要用户向另一个用户或角色授予系统特权或角色或对象特权，就会使数据库触发该触发器。</p>
                     </li>
                     <li>
                        <p><code class="codeph">NOAUDIT</code></p>
                        <p>每当发出<code class="codeph">NOAUDIT</code>语句时，数据库都会触发触发器。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">改名</code></p>
                        <p>每当<code class="codeph">RENAME</code>语句更改数据库对象的名称时，都会使数据库触发该触发器。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">撤消</code></p>
                        <p>只要<code class="codeph">REVOKE</code>语句从用户或角色中删除系统特权或角色或对象特权，就会使数据库触发触发器。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">截短</code></p>
                        <p>只要<code class="codeph">TRUNCATE</code>语句从表或集群中删除行并重置其存储特征，就会使数据库触发触发器。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DDL</code></p>
                        <p>导致数据库在发出任何前面的DDL语句时触发触发器。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHBABAH">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-2F5D81F4-CE11-4432-8628-A1F7AC59FE6E"><span class="italic">database_event</span></p>
                  <p>以下数据库事件之一。除非另有说明，否则您可以在<code class="codeph">DATABASE</code>或<code class="codeph">SCHEMA</code>上为这些事件创建触发器。对于每个触发事件，数据库将打开一个自治事务范围，触发触发器，并提交任何单独的事务（无论任何现有的用户事务）。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">AFTER</code> <code class="codeph">STARTUP</code></p>
                        <p>使数据库在打开数据库时触发触发器。此事件仅对<code class="codeph">DATABASE</code>有效，而不对<code class="codeph">SCHEMA</code> 。</p>
                     </li>
                     <li>
                        <p><code class="codeph">BEFORE</code> <code class="codeph">SHUTDOWN</code></p>
                        <p>使数据库在关闭数据库实例时触发触发器。此事件仅对<code class="codeph">DATABASE</code>有效，而不对<code class="codeph">SCHEMA</code> 。</p>
                     </li>
                     <li>
                        <p><code class="codeph">AFTER</code> <code class="codeph">DB_ROLE_CHANGE</code></p>
                        <p>在Oracle Data Guard配置中，只要角色从待机状态更改为主要状态或从主要状态更改为备用状态，数据库就会触发触发器。此事件仅对<code class="codeph">DATABASE</code>有效，而不对<code class="codeph">SCHEMA</code> 。</p>
                        <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-036AB0DB-0BC5-422F-99D7-09C7C2E48C78">
                           <p class="notep1">注意：</p>
                           <p>您无法在PDB上创建<code class="codeph">AFTER</code> <code class="codeph">DB_ROLE_CHANGE</code>触发器。</p>
                        </div>
                     </li>
                     <li>
                        <p><code class="codeph">AFTER</code> <code class="codeph">SERVERERROR</code></p>
                        <p>只要满足以下两个条件，数据库就会触发触发器：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将记录服务器错误消息。</p>
                           </li>
                           <li>
                              <p>Oracle关系数据库管理系统（RDBMS）确定触发错误触发器是安全的。</p>
                              <p>触发错误触发器不安全的示例包括：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>RDBMS正在启动。</p>
                                 </li>
                                 <li>
                                    <p>发生了严重错误。</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><code class="codeph">AFTER</code> <code class="codeph">LOGON</code></p>
                        <p>每当客户端应用程序登录到数据库时，都会使数据库触发该触发器。</p>
                     </li>
                     <li>
                        <p><code class="codeph">BEFORE</code> <code class="codeph">LOGOFF</code> <code class="codeph">BEFORE</code></p>
                        <p>每当客户端应用程序注销数据库时，都会使数据库触发该触发器。</p>
                     </li>
                     <li>
                        <p><code class="codeph">AFTER</code> <code class="codeph">SUSPEND</code></p>
                        <p>当服务器错误导致事务被挂起时，导致数据库触发触发器。</p>
                     </li>
                     <li>
                        <p><code class="codeph">AFTER</code> <code class="codeph">CLONE</code></p>
                        <p>只有在指定了<code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code>才能指定。复制（克隆）PDB后，数据库将触发新PDB中的触发器，然后删除触发器。如果触发器失败，则复制操作失败。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">BEFORE</code> <code class="codeph">UNPLUG</code> <code class="codeph">BEFORE</code></p>
                        <p>只有在指定了<code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code>才能指定。在拔出PDB之前，数据库会触发该触发器，然后将其删除。如果触发器失败，则拔出操作失败。
                        </p>
                     </li>
                     <li>
                        <p>[ <code class="codeph">BEFORE</code> | <code class="codeph">AFTER</code> ] <code class="codeph">SET</code> <code class="codeph">CONTAINER</code></p>
                        <p>导致数据库在<code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">CONTAINER</code>语句执行之前或之后触发触发器。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-05BA2556-9BB9-40A5-8E9C-D3D306C6C81C">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="plsql-triggers.html#GUID-2951D8A6-6C80-428F-840D-13A76A97E365">有关发布事件的触发器</a> ”</span> ，以获取有关通过触发器响应数据库事件的更多信息</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">[ <span class="italic">架构</span> 。]SCHEMA</span></p>
                  <p>定义指定模式的触发器。<span class="bold">默认值：</span>当前架构。只要任何以指定模式连接的用户启动触发事件，触发器就会触发。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">[可插入]数据库</span></p>
                  <p><code class="codeph">DATABASE</code>定义根上的触发器。在多租户容器数据库（CDB）中，只有连接到根的公共用户才能在整个数据库上创建触发器。
                  </p>
                  <p><code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code>定义您所连接的PDB上的触发器。
                  </p>
                  <p>只要指定数据库或PDB的任何用户启动触发事件，就会触发触发器。</p>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-19464708-B5D1-4543-BAC1-2047D06D776C">
                     <p class="notep1">注意：</p>
                     <p>如果连接到PDB，则指定<code class="codeph">DATABASE</code>等同于指定<code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code>除非您要指定仅适用于PDB的选项（例如<code class="codeph">CLONE</code>或<code class="codeph">UNPLUG</code> ）。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">ENABLE</span></p>
                  <p><span class="bold">（默认）</span>在启用状态下创建触发器。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">DISABLE</span></p>
                  <p>在禁用状态下创建触发器，使您可以在启用它之前确保触发器编译时没有错误。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">什么时候（ <span class="italic">条件</span> ）</span></p>
                  <p>指定数据库计算的SQL条件。如果<span class="italic"><code class="codeph">condition</code></span>值为<code class="codeph">TRUE</code> ，那么<span class="italic"><code class="codeph">trigger_body</code></span>将为该行运行;否则， <span class="italic"><code class="codeph">trigger_body</code></span>不会为该行运行。无论<span class="italic"><code class="codeph">condition</code></span>的值如何，触发语句都会运行。
                  </p>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-9C417E30-7AE1-4084-AA3D-0902AE0FEC1E">
                     <p class="notep1">也可以看看：</p>
                     <p>有关SQL条件的信息，请<a href="../sqlrf/Conditions.html#SQLRF005" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                  </div>
                  <p><span class="bold">对WHEN（ <span class="italic">条件</span> ）的限制</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能为<code class="codeph">STARTUP</code> ， <code class="codeph">SHUTDOWN</code>或<code class="codeph">DB_ROLE_CHANGE</code>触发器指定此子句。
                        </p>
                     </li>
                     <li>
                        <p>如果为<code class="codeph">SERVERERROR</code>触发器指定此子句，则<span class="italic"><code class="codeph">condition</code></span>必须为<code class="codeph">ERRNO</code> <code class="codeph">=</code> <span class="italic"><code class="codeph">error_code</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">condition</code></span>不能包括子查询，PL / SQL表达式（例如，用户定义函数的调用）或相关名称。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">trigger_body</span></span></p>
                  <p>数据库运行以触发触发器的PL / SQL块或<code class="codeph">CALL</code>子程序。<code class="codeph">CALL</code>子程序是PL / SQL子程序或PL / SQL包装器中的Java子程序。
                  </p>
                  <p>如果<span class="italic"><code class="codeph">trigger_body</code></span>是PL / SQL块并且它包含错误，则<code class="codeph">CREATE</code> [ <code class="codeph">OR</code> <code class="codeph">REPLACE</code> ]语句将失败。
                  </p>
                  <p><span class="bold">对<span class="italic">trigger_body的</span>限制</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic"><code class="codeph">declare_section</code></span>不能声明数据类型<code class="codeph">LONG</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code>变量。</p>
                     </li>
                     <li>
                        <p>触发器主体无法指定<code class="codeph">:NEW</code>或<code class="codeph">:OLD</code> 。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-B2A99C89-37DF-4E6D-BA57-850FA0ED85C9"><span class="italic">dml_event_clause</span></p>
                  <p>指定<span class="italic">simple_dml_trigger</span>或<span class="italic">compound_dml_trigger</span>的触发语句。数据库触发现有用户事务中的触发器。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">删除</span></p>
                  <p>只要<code class="codeph">DELETE</code>语句从<span class="italic"><code class="codeph">table</code></span>或定义了<span class="italic"><code class="codeph">view</code></span>的表中删除行，就会导致数据库触发触发器。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">插入</span></p>
                  <p>只要<code class="codeph">INSERT</code>语句向<span class="italic"><code class="codeph">table</code></span>或定义了<span class="italic"><code class="codeph">view</code></span>的表添加行，就会使数据库触发触发器。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">更新[ <span class="italic">列</span> [， <span class="italic">列</span> ]]</span></p>
                  <p>每当<code class="codeph">UPDATE</code>语句更改指定列中的值时，都会导致数据库触发该触发器。<span class="bold">默认值：</span>只要<code class="codeph">UPDATE</code>语句更改了<span class="italic"><code class="codeph">table</code></span>任何列或定义了<span class="italic"><code class="codeph">view</code></span>的表中的值，数据库就会触发该触发器。
                  </p>
                  <p>如果指定<span class="italic"><code class="codeph">column</code></span> ，则无法在触发器的主体中更改其值。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">模式</span></span></p>
                  <p>包含要在其上创建触发器的数据库对象的模式的名称。<span class="bold">默认值：</span>您的架构。
                  </p>
                  <p><span class="bold"><span class="italic">表</span></span></p>
                  <p>要在其上创建触发器的数据库表或对象表的名称。</p>
                  <p><span class="bold"><span class="italic">schema.table的</span>限制</span></p>
                  <p>您无法在架构<code class="codeph">SYS</code>的表上创建触发器。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">视图</span></span></p>
                  <p>要在其上创建触发器的数据库视图或对象视图的名称。</p>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-B4246E30-6A5B-4FA3-8AEE-8E5939C5D8F1">
                     <p class="notep1">注意：</p>
                     <p>在非专用视图上创建的复合DML触发器实际上并不复合，因为它只有一个定时点部分。</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-DA1FF910-C87A-4032-94A8-4ED128E10072"><span class="italic">referencing_clause</span></p>
                  <p>指定相关名称，该名称引用当前行的旧值，新值和父值。<span class="bold">默认值：</span> <code class="codeph">OLD</code> ， <code class="codeph">NEW</code>和<code class="codeph">PARENT</code> 。</p>
                  <p>如果触发器与名为<code class="codeph">OLD</code> ， <code class="codeph">NEW</code>或<code class="codeph">PARENT</code>的表关联，则使用此子句指定不同的相关名，以避免表名与相关名之间的混淆。
                  </p>
                  <p>如果在嵌套表上定义了触发器，则<code class="codeph">OLD</code>和<code class="codeph">NEW</code>引用嵌套表的当前行，而<code class="codeph">PARENT</code>引用父表的当前行。如果在数据库表或视图上定义了触发器，则<code class="codeph">OLD</code>和<code class="codeph">NEW</code>引用数据库表或视图的当前行，并且未定义<code class="codeph">PARENT</code> 。
                  </p>
                  <p><span class="bold">对<span class="italic">referencing_clause的</span>限制</span></p>
                  <p>如果<span class="italic">trigger_body</span>是<code class="codeph">CALL</code> <span class="italic">例程，</span>则<span class="italic">referencing_clause</span>无效。
                  </p>
                  <p>DML行级触发器不能引用OLD / NEW / PARENT伪记录（相关名称）的字段，这些字段对应于除<code class="codeph">USING_NLS_COMP</code>之外的<code class="codeph">USING_NLS_COMP</code>声明归类的列。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-817C65AB-118A-4DEA-A2F5-9CBAF860719F"><span class="italic">trigger_edition_clause</span></p>
                  <p>将触发器创建为交叉触发器。</p>
                  <p>在在线应用程序的基于版本的重新定义（EBR）期间处理DML更改可能需要多个步骤。因此，虽然不是必需的，但是交叉触发也可能是<span class="bold">复合触发器</span> 。
                  </p>
                  <p><span class="bold"><span class="italic">trigger_edition_clause的</span>限制</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您无法在视图上定义交叉触发器。</p>
                     </li>
                     <li>
                        <p>您不能为交叉触发器指定<code class="codeph">NONEDITIONABLE</code> 。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">向前</span></p>
                  <p><span class="bold">（默认）</span>将触发器创建为前向交叉触发器。当使用数据库进行DML更改而使用EBR修补或升级使用数据库的在线应用程序时，前向交叉触发器将被触发。交叉触发器的主体旨在处理这些DML更改，以便在完成对应用程序代码的更改后适当地应用它们。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">相反</span></p>
                  <p>将触发器创建为反向交叉触发器，用于在应用程序在使用EBR进行修补或升级后进行DML更改时触发。此触发器将数据传播到应用程序在修补或升级之前使用的列或表。</p>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-DC2CEEA6-B466-4500-9A1D-8D441842A342">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../adfns/editions.html#ADFNS0203" target="_blank"><span class="italic">Oracle数据库开发指南</span></a> ，了解更多信息交叉触发器</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-05C5E448-7286-4687-BA5A-227BB299A1B8"><span class="italic">trigger_ordering_clause</span></p>
                  <p id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHDEBEI"><span class="bold">跟进| PRECEDES</span></p>
                  <p>指定具有相同时间点的触发器的相对触发。在创建交叉触发器时尤其有用，交叉触发器必须以特定顺序触发才能实现其目的。</p>
                  <p>使用<code class="codeph">FOLLOWS</code>指示正在创建的触发器必须在指定的触发器之后触发。您可以为常规触发器或前向交叉触发器指定<code class="codeph">FOLLOWS</code> 。
                  </p>
                  <p>使用<code class="codeph">PRECEDES</code>指示正在创建的触发器必须在指定的触发器之前触发。您只能为反向交叉触发指定<code class="codeph">PRECEDES</code> 。
                  </p>
                  <p>指定的触发器必须存在，并且必须已成功编译。他们不需要启用。</p>
                  <p>如果要创建非串行触发器，则指定的触发器必须满足以下所有条件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>非交叉触发</p>
                     </li>
                     <li>
                        <p>与创建的触发器在同一个表中定义</p>
                     </li>
                     <li>
                        <p>在与创建的触发器相同的版本中可见</p>
                     </li>
                  </ul>
                  <p>如果要创建crossedition触发器，则指定的触发器必须全部满足以下条件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Crossedition触发器</p>
                     </li>
                     <li>
                        <p>除非您指定<code class="codeph">FOLLOWS</code>或<code class="codeph">PRECEDES</code> ，否则在与创建的触发器相同的表或版本视图中定义。</p>
                        <p>如果指定<code class="codeph">FOLLOWS</code> ，则指定的触发器必须是正向交叉触发器，如果指定<code class="codeph">PRECEDES</code> ，则指定的触发器必须是反向交叉触发器。但是，指定的触发器不必与正在创建的触发器位于同一个表或版本视图中。
                        </p>
                     </li>
                     <li>
                        <p>在与创建的触发器相同的版本中可见</p>
                     </li>
                  </ul>
                  <p>在以下定义中，A，B，C和D是非交叉触发器或前向交叉触发器：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果B在其<code class="codeph">FOLLOWS</code>子句中指定A，则B <span class="bold">直接跟随</span> A.</p>
                     </li>
                     <li>
                        <p>如果C直接跟随B，并且B直接跟随A，则C <span class="bold">间接跟随</span> A.</p>
                     </li>
                     <li>
                        <p>如果D直接跟随C，并且C间接跟随A，则D间接跟随A.</p>
                     </li>
                     <li>
                        <p>如果B直接或间接跟随A，则B <span class="bold">明确遵循</span> A（即，B和A的触发顺序由一个或多个<code class="codeph">FOLLOWS</code>子句明确指定）。
                        </p>
                     </li>
                  </ul>
                  <p>在以下定义中，A，B，C和D是反向交叉触发：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果A在其<code class="codeph">PRECEDES</code>子句中指定B，则A <span class="bold">直接在</span> B <span class="bold">之前</span> 。</p>
                     </li>
                     <li>
                        <p>如果A直接在B之前，而B直接在C之前，则A <span class="bold">间接在</span> C <span class="bold">之前</span> 。</p>
                     </li>
                     <li>
                        <p>如果A直接在B之前，而B间接在D之前，则A间接在D之前。</p>
                     </li>
                     <li>
                        <p>如果A直接或间接在B之前，那么A <span class="bold">明确地在</span> B <span class="bold">之前</span> （即，A和B的触发顺序由一个或多个<code class="codeph">PRECEDES</code>子句明确指定）。
                        </p>
                     </li>
                  </ul>
                  <p>属于<span class="italic">compound_dml_trigger</span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0DB4CB3A-005D-46BD-81CD-1F4CFAFF1D1C"><span class="italic">compound_trigger_block</span></p>
                  <p>如果在非编辑视图上创建触发器，则<span class="italic">compound_trigger_block</span>必须仅具有<code class="codeph">INSTEAD</code> <code class="codeph">OF</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code>部分。
                  </p>
                  <p>如果在表格或版本视图上创建触发器，则时间点部分可以按任何顺序排列，但不能重复任何部分。<span class="italic">compound_trigger_block</span>不能具有<code class="codeph">INSTEAD</code> <code class="codeph">OF</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code>部分。
                  </p>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-FEAF2170-2223-490B-B92F-C6F059F8F136">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="plsql-triggers.html#GUID-B42FDBCD-55F4-47E9-90BB-12B71D63D225">复合DML触发器结构</a> ”</span></p>
                  </div>
                  <p><span class="bold">对<span class="italic">compound_trigger_block的</span>限制</span></p>
                  <p><span class="italic">compound_trigger_block</span>的<span class="italic">declare_section</span>不能包括<code class="codeph">PRAGMA</code> <code class="codeph">AUTONOMOUS_TRANSACTION</code> 。</p>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-F7C67C08-F973-42DF-95A2-A2F5D616DDEF">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="plsql-triggers.html#GUID-67299530-50F0-4D99-B212-956A7E679CDC">复合DML触发限制</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-2ED355A9-A725-469E-B30C-D771AFEC76D7"><span class="italic">timing_point</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">在声明之前</span></p>
                  <p>指定表或编辑视图上的<span class="italic">compound_dml_trigger</span>的<code class="codeph">BEFORE</code> <code class="codeph">STATEMENT</code>部分。此部分使数据库在运行触发事件之前触发触发器。
                  </p>
                  <p><span class="bold">对前声明的限制</span></p>
                  <p>本节不能指定<code class="codeph">:NEW</code>或<code class="codeph">:OLD</code> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">每次行之前</span></p>
                  <p>指定表或版本视图上<span class="italic">compound_dml_trigger</span>的<code class="codeph">BEFORE</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code>部分。此部分使数据库在运行触发事件之前触发触发器。触发器在每个受影响的行更改之前触发。
                  </p>
                  <p>本节可以读写<code class="codeph">:OLD</code>和<code class="codeph">:NEW</code>字段。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">发言后</span></p>
                  <p>指定表或版本视图上的<span class="italic">compound_dml_trigger</span>的<code class="codeph">AFTER</code> <code class="codeph">STATEMENT</code>部分。此部分使数据库在运行触发事件后触发触发器。
                  </p>
                  <p><span class="bold">对声明后的限制</span></p>
                  <p>本节不能指定<code class="codeph">:NEW</code>或<code class="codeph">:OLD</code> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">每次行之后</span></p>
                  <p>指定表或版本视图上<span class="italic">compound_dml_trigger</span>的<code class="codeph">AFTER</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code>部分。此部分使数据库在运行触发事件后触发触发器。每个受影响的行更改后触发器触发。
                  </p>
                  <p>本节可以阅读但不能写<code class="codeph">:OLD</code>和<code class="codeph">:NEW</code>字段。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">每个行的INSTEAD</span></p>
                  <p>指定<code class="codeph">INSTEAD</code> <code class="codeph">OF</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code>一个<span class="italic">compound_dml_trigger</span>的上noneditioning视图部分（唯一的定时点部分）。数据库运行<span class="italic">tps_body</span>而不是运行触发DML语句。有关更多信息，请参阅<span class="q">“ <a href="plsql-triggers.html#GUID-9F06D45C-7C60-434E-A597-114A0C445671" title="INSTEAD OF DML触发器是在非编辑视图或非编辑视图的嵌套表列上创建的DML触发器。数据库触发INSTEAD OF触发器而不是运行触发DML语句。">INSTEAD OF DML触发器</a> ”</span> 。
                  </p>
                  <p><span class="bold">限制每行的INSTEAD</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>本节只能在出现<span class="italic"><code class="codeph">compound_dml_trigger</code></span>上noneditioning视图。
                        </p>
                     </li>
                     <li>
                        <p>此部分可以读取但不能写入<code class="codeph">:OLD</code>和<code class="codeph">:NEW</code>值。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-71BE335F-CC7B-4A9A-A08B-6543BD3D41CF"><span class="italic">tps_body</span></p>
                  <p>数据库运行以触发触发器的PL / SQL块或<code class="codeph">CALL</code>子程序。<code class="codeph">CALL</code>子程序是PL / SQL子程序或PL / SQL包装器中的Java子程序。
                  </p>
                  <p>如果<span class="italic"><code class="codeph">tps_body</code></span>是PL / SQL块并且它包含错误，则<code class="codeph">CREATE</code> [ <code class="codeph">OR</code> <code class="codeph">REPLACE</code> ]语句将失败。
                  </p>
                  <p><span class="bold">对<span class="italic">tps_body的</span>限制</span></p>
                  <p><span class="italic"><code class="codeph">declare_section</code></span>不能声明数据类型<code class="codeph">LONG</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code>变量。</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHEICEC">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-9B1B11C7-C08C-464C-AD1A-8F855E003C48">例子</p>
                  <p>DML触发器</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="plsql-triggers.html#GUID-EC6A8FA1-9E60-4374-9905-639F4F100D83__CIHBCDJH">例9-1</a> ， <span class="q">“触发器使用条件谓词检测触发语句”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-9F06D45C-7C60-434E-A597-114A0C445671__CIHFGDJG">例9-2</a> ， <span class="q">“INSTEAD OF Trigger”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-9F06D45C-7C60-434E-A597-114A0C445671__CIHFBGDC">例9-3</a> ， <span class="q">“嵌套表视图上的触发器的INSTEAD OF”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-B5E654D9-5875-40EC-AE24-E3A8CB37C9C5__CIHGJFAB">例9-4</a> ， <span class="q">“复合触发器记录对另一个表中一个表的更改”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-E1150933-9B5F-4AA3-9F49-C222A1618BE5__CHDFGDAH">例9-5</a> ， <span class="q">“复合触发器避免变异表错误”</span></p>
                     </li>
                  </ul>
                  <p>确保参考完整性的触发因素</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="plsql-triggers.html#GUID-2DC16B21-35B1-4D09-BD4E-02797AA278EA__BCFGAHIB">例9-6</a> ， <span class="q">“子表的外键触发器”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-DB24A169-3CB1-427E-AA2B-646B878FA20C__BCFCCBAF">例9-7</a> ， <span class="q">“父表的更新和删除限制触发器”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-58AD982C-22E6-4A62-A2CE-643BE8C4E821__BCFBGFDJ">例9-8</a> ， <span class="q">“为父表更新和删除SET NULL触发器”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-2B9DF77A-171D-472B-A8F0-FF9730261D07__BCFHHHBD">例9-9</a> ， <span class="q">“删除父表的CASCADE触发器”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-193F9DBB-80B5-49FC-83D2-2FB533880833__BCFDBJDA">例9-10</a> ， <span class="q">“父表的UPDATE CASCADE触发器”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-BF2DDD06-E6B4-4EB5-945F-89FFA8468D6F__BCFECGBI">例9-11</a> ， <span class="q">“触发器检查复杂约束”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-9E6E59EF-F402-4B11-A4FF-268D9C0521EB__BCFGEBAA">例9-12</a> ， <span class="q">“触发器强制执行安全授权”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-BD042B88-E2E7-4A7D-8FA2-8D0185F6455F__BCFDEHHE">例9-13</a> ， <span class="q">“触发器导出新列值”</span></p>
                     </li>
                  </ul>
                  <p>使用相关名称和伪记录的触发器</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="plsql-triggers.html#GUID-4CF74E99-8859-4AB1-96E7-07898A2ABB9E__BCFBDJEC">例9-14</a> ， <span class="q">“触发器记录对EMPLOYEES.SALARY的更改”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-4CF74E99-8859-4AB1-96E7-07898A2ABB9E__CIHHEJCD">例9-15</a> ， <span class="q">“条件触发器打印薪资变更信息”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-4CF74E99-8859-4AB1-96E7-07898A2ABB9E__BCFJDBEH">例9-16</a> ， <span class="q">“触发器修改CLOB列”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-4CF74E99-8859-4AB1-96E7-07898A2ABB9E__BCFIAABG">例9-17</a> ， <span class="q">“使用REFERENCING子句触发”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-C42CC16B-EAC1-4093-85C8-6359D08C912F__BCFFIBBA">例9-18</a> ， <span class="q">“触发器引用OBJECT_VALUE Pseudocolumn”</span></p>
                     </li>
                  </ul>
                  <p>系统触发器</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="plsql-triggers.html#GUID-6CF3A208-0BE7-45FF-928C-A755526933D0__CIHFGGEH">例9-19</a> ， <span class="q">“BEFORE语句触发样本模式HR”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-AC093015-E9EA-47B1-8B0C-51A1860AB12D__CIHEBJDD">例9-20</a> ， <span class="q">“语句触发数据库后”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-AC093015-E9EA-47B1-8B0C-51A1860AB12D__CIHEFABC">例9-21</a> ， <span class="q">“触发监视器登录”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-7B32FE4B-AB8E-48B0-A74C-599584A485A7__CIHBJFDG">例9-22</a> ， <span class="q">“在模式上创建触发器的INSTEAD”</span></p>
                     </li>
                  </ul>
                  <p>其他触发器示例</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="plsql-triggers.html#GUID-E11CFB2F-064F-42EB-8390-F025564AD107__CIHGEEIC">例9-23</a> ， <span class="q">“触发器调用Java子程序”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-FA7A16B6-F94D-4E4C-A326-F602FE9FE3E8__BCFDBDJH">例9-24</a> ， <span class="q">“如果远程数据库不可用</span> ，则<span class="q">触发器无法处理异常”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-FA7A16B6-F94D-4E4C-A326-F602FE9FE3E8__BCFEHHDA">例9-25</a> ， <span class="q">“如果远程数据库不可用，触发器的解决方法无法处理异常”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-73B70893-9E45-4C08-B327-13ECBE4BE920__BCFHJBBE">例9-26</a> ， <span class="q">“触发器导致变异表错误”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-73B70893-9E45-4C08-B327-13ECBE4BE920__BCFEFDIA">例9-27</a> ， <span class="q">“更新级联”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-F843EE28-6D46-4AA2-B3B3-7CB5485B96CE__BCFHCBGE">例9-28</a> ， <span class="q">“查看有关触发器的信息”</span></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABCHGAE">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-8F89FBB2-BFD5-4A71-8B8F-F9C5685C8D8D">相关话题</p>
                  <p>在这一章当中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="ALTER-TRIGGER-statement.html#GUID-BC319647-2D94-46D1-BF69-16CDFB507725" title="ALTER TRIGGER语句启用，禁用，编译或重命名数据库触发器。">ALTER TRIGGER声明</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="DROP-TRIGGER-statement.html#GUID-C664FDA9-656B-49D4-A86D-D08B615137E9" title="DROP TRIGGER语句从数据库中删除数据库触发器。">DROP TRIGGER声明</a> ”</span></p>
                     </li>
                  </ul>
                  <p>在其他章节中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="plsql-triggers.html#GUID-217E8B13-29EF-45F3-8D0F-2384F9F1D231" title="触发器就像Oracle Database在发生指定事件时自动调用的存储过程。">PL / SQL触发器</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-D07ED78E-3188-43BD-842A-ED7DACD9CC41">
                     <p class="notep1">也可以看看：</p>
                     <p>有关交叉触发的更多信息，请参见<a href="../adfns/editions.html#ADFNS0203" target="_blank"><span class="italic">“Oracle数据库开发指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="04829.streams-advanced-queueing-and-publish-subscribe-functions.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Lists and describes the Database Advanced Queuing and publish-subscribe functions."></meta>
      <meta name="description" content="Lists and describes the Database Advanced Queuing and publish-subscribe functions."></meta>
      <title>数据库高级排队和发布 - 订阅功能</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="Lists and describes the Database Advanced Queuing and publish-subscribe functions."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="lob-functions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="direct-path-loading-functions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="lob-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="direct-path-loading-functions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="more-database-access-c-api.html" property="item" typeof="WebPage"><span property="name">更多Oracle Database Access C API</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">数据库高级排队和发布 - 订阅功能</li>
            </ol>
            <a id="GUID-4D7FFF56-38DE-4DBF-80E8-48BF19C2B2D3" name="GUID-4D7FFF56-38DE-4DBF-80E8-48BF19C2B2D3"></a><a id="LNOCI17225"></a><a id="LNOCI163"></a>
            
            <h2 id="LNOCI-GUID-4D7FFF56-38DE-4DBF-80E8-48BF19C2B2D3" class="sect2"><span class="enumeration_section">26.4</span>数据库高级排队和发布 - 订阅功能</h2>
         </header>
         <div class="ind">
            <div>
               <p>列出并描述数据库高级队列和发布 - 订阅功能。</p>
               <div class="section">
                  <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-4D7FFF56-38DE-4DBF-80E8-48BF19C2B2D3__G731077" title="该表有2列。第1列是OCI函数名称，第2列描述其目的。">表26-3</a>列出了本节中描述的数据库高级队列和发布 - 订阅功能。对于所有新应用程序，请使用以“2”结尾的函数。
                  </p>
                  <div class="infoboxnotealso" id="GUID-4D7FFF56-38DE-4DBF-80E8-48BF19C2B2D3__GUID-6147DD62-1929-4D77-9F1C-A64AB9CAA17C">
                     <p class="notep1">也可以看看：</p>
                     <p>数据库高级排队程序的<a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26__CACCAHCE" title="该表有2列。第1列是OCI演示程序名称，第2列描述了所示的相应功能。">表B-1</a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-4D7FFF56-38DE-4DBF-80E8-48BF19C2B2D3__G731077">
                  <p class="titleintable">表26-3高级队列和发布 - 订阅功能</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="高级排队和发布 - 订阅功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the OCI function name and column 2 describes its purpose. " frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="64%" id="d213367e222">功能</th>
                           <th align="left" valign="bottom" width="36%" id="d213367e225">目的</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e230" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C">OCIAQDeq（）</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e230 d213367e225 ">
                              <p>执行高级队列出列操作</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e239" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A" title="从队列中取消一组消息。">OCIAQDeqArray（）</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e239 d213367e225 ">
                              <p>出列一组消息</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e251" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4" title="使用数据库高级队列执行入队操作。">OCIAQEnq（）</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e251 d213367e225 ">
                              <p>执行高级队列排队操作</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e263" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C" title="将一组消息排入队列。">OCIAQEnqArray（）</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e263 d213367e225 ">
                              <p>排队一组消息</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e275" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="代表代理列表侦听一个或多个队列。">OCIAQListen2（）</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e275 d213367e225 ">
                              <p>代表代理列表收听一个或多个队列。支持缓冲消息传递和持久队列。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e287" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-72C51789-C48C-4F36-800B-EECC1AD98E00" title="禁用订阅注册以关闭所有通知。">OCISubscriptionDisable（）</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e287 d213367e225 ">
                              <p>禁用订阅注册以关闭通知</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e299" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-5C04A301-8564-46AF-A758-9DE7246F0F53" title="启用已禁用的订阅注册。">OCISubscriptionEnable（）</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e299 d213367e225 ">
                              <p>启用订阅通知</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e311" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-EFD815F0-D669-4E01-AA54-E1499E302430" title="发布到订阅，允许所有注册订阅的客户端收到通知。">OCISubscriptionPost（）</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e311 d213367e225 ">
                              <p>发布到订阅以接收通知</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e323" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" title="注册消息通知的回调。">OCISubscriptionRegister（）</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e323 d213367e225 ">
                              <p>注册订阅</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e335" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" title="取消注册关闭通知的订阅。">OCISubscriptionUnRegister（）</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e335 d213367e225 ">
                              <p>取消注册订阅</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNOCI17226"></a><div class="props_rev_3"><a id="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C" name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C"></a><h3 id="LNOCI-GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C" class="sect3"><span class="enumeration_section">26.4.1</span> OCIAQDeq（）</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-54720B83-831A-4CD6-AB08-949AF1F54844">目的</p>
                     <p>使用带有OCI的数据库高级队列执行出列操作。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-CE5CD062-4A8E-474D-9E1B-8B2920E45DA3">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAQDeq（OCISvcCtx * svch，OCIError * errh，OraText * queue_name，OCIAQDeqOptions * dequeue_options，OCIAQMsgProperties * message_properties，OCIType * payload_tdo，void ** payload，void ** payload_ind，OCIRaw ** msgid，ub4 flags）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-A4E13214-81B9-4DFC-8C60-C80AD225B839">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-1D38A8D4-7525-408E-A026-C8CD42837FF4"><!-- --></a> <span class="bold">svch</span> （IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-CA2D010A-7569-4403-A12C-C90F10835321"><!-- --></a> <span class="bold">errh</span> （IN）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-D5236559-A57B-4AAB-9D33-16272AB41AA8"><!-- --></a> <span class="bold">queue_name</span> （IN）</dt>
                        <dd>
                           <p>出队操作的目标队列。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-897A68EF-CB07-4D81-891B-EC1C224BE53B"><!-- --></a> <span class="bold">dequeue_options</span> （IN）</dt>
                        <dd>
                           <p>出列经营的选择;存储在<code class="codeph">OCIAQDeqOptions</code>描述符中，与OCI型恒定<code class="codeph">OCI_DTYPE_AQDEQ_OPTIONS</code> 。</p>
                           <p><code class="codeph">OCI_DTYPE_AQDEQ_OPTIONS</code>具有附加属性<code class="codeph">OCI_ATTR_MSG_DELIVERY_MODE</code> （Oracle数据库引入<span class="italic">10g</span>第2版）具有以下值：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">OCI_MSG_PERSISTENT</code> （默认）</p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_MSG_BUFFERED</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_MSG_PERSISTENT_OR_BUFFERED</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-22F1AEB2-CE5C-4503-B9DA-2DDE76AB007D"><!-- --></a> <span class="bold">message_properties</span> （OUT）</dt>
                        <dd>
                           <p>消息的消息属性;的属性被存储在一个<code class="codeph">OCIAQMsgProperties</code>描述符中，与OCI型恒定<code class="codeph">OCI_DTYPE_AQMSG_PROPERTIES</code> ，其可具有以下值：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">OCI_AQ_PERSISTENT</code> （默认）</p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_AQ_BUFFERED</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-0BD63E75-5D16-4E35-B56C-C5E41BC45C51"><!-- --></a> <span class="bold">payload_tdo</span> （IN）</dt>
                        <dd>
                           <p>对象类型的TDO（类型描述符对象）。对于原始队列，此参数应指向<code class="codeph">SYS.RAW</code>的TDO。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-3850FEB4-A899-4355-99BB-F3676D02064F"><!-- --></a> <span class="bold">有效载荷</span> （IN / OUT）</dt>
                        <dd>
                           <p>指向程序变量缓冲区指针的指针，该缓冲区是对象类型的实例。对于原始队列，此参数应指向<code class="codeph">OCIRaw</code>的实例。
                           </p>
                           <p>有效负载的内存在对象缓存中动态分配。应用程序可以选择调用<code class="codeph">OCIObjectFree()</code>以在不再需要时释放有效负载实例。如果指向程序变量缓冲区（ <code class="codeph">*payload</code> ）的指针作为<code class="codeph">NULL</code>传递，则缓冲区将在缓存中隐式分配。
                           </p>
                           <p>应用程序可以选择在第一次<code class="codeph">OCIAQDeq()</code>时为<code class="codeph">payload</code>传递<code class="codeph">NULL</code> ，并让OCI为有效负载分配内存。然后，它可以在后续调用<code class="codeph">OCIAQDeq()</code>使用指向先前分配的内存的指针。
                           </p>
                           <p>要获取有效负载的TDO，请使用<code class="codeph">OCITypeByName()</code>或<code class="codeph">OCITypeByRef()</code> 。
                           </p>
                           <p>OCI提供允许用户设置有效载荷属性的功能，例如其文本。有关设置这些属性的信息，请参阅<span class="q">“ <a href="oci-object-relational-programming.html#GUID-BA775817-78E4-4C49-A3C2-C867C50509B2" title="固定对象后，OCI应用程序可以修改其属性。">操作对象属性</a> ”</span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-6AB15CF3-BC01-4BAD-9CFE-A3BEB5F0D8C6"><!-- --></a> <span class="bold">payload_ind</span> （IN / OUT）</dt>
                        <dd>
                           <p>指向程序变量缓冲区指针的指针，该缓冲区包含对象类型的并行指示符结构。</p>
                           <p><code class="codeph">payload_ind</code>的内存分配规则与<code class="codeph">payload</code>的内存分配规则相同。
                           </p>
                        </dd>
                        <dt class="dlterm"><span class="bold">msgstr</span> （OUT） <a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-47DB28EA-C3ED-4F9F-AAB6-ADB54CB5B632"><!-- --></a></dt>
                        <dd>
                           <p>消息ID。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-67F7E071-546B-4D0B-A459-4DDA34E4113D"><!-- --></a> <span class="bold">标志</span> （IN）</dt>
                        <dd>
                           <p>目前尚未使用;传递为<code class="codeph">OCI_DEFAULT</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-42E931B3-A93A-4B2A-A205-685EE000F4A7">评论</p>
                     <p>用户必须具有<code class="codeph">AQ_USER_ROLE</code>或特权才能执行<code class="codeph">DBMS_AQ</code>程序包以使用此调用。所述OCI环境必须在对象模式（使用被初始化<code class="codeph">OCIEnvCreate()</code> <code class="codeph">OCIEnvNlsCreate()</code>或<code class="codeph">OCIInitialize()</code>已弃用）以使用该呼叫。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744" title="释放和取消对象实例。">OCIObjectFree（）</a></li>
                        <li><a href="oci-type-information-accessor-functions.html#GUID-3534AABC-E347-4BC7-B220-0CAECDC9ECE7" title="获取现有TDO的最新版本。">OCITypeByName（）</a></li>
                        <li><a href="oci-type-information-accessor-functions.html#GUID-5613CAA6-D547-4267-8891-0E1DA213B7AB" title="给定引用时获取TDO。">OCITypeByRef（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4" title="使用数据库高级队列执行入队操作。">OCIAQEnq（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="代表代理列表侦听一个或多个队列。">OCIAQListen2（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-BAF2F2C3-0E5E-4C7C-9963-3B229C234E54">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="notification-streams-advanced-queuing.html#GUID-FF4165B2-A44C-4F76-AC26-DA860F340CA8" title="OCI提供了数据库高级队列（Database AQ）功能的接口。数据库高级队列将消息队列作为Oracle数据库的集成部分提供。">OCI和数据库高级排队</a> 
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=ADQUE0100" target="_blank"><span><cite>Oracle数据库高级队列用户指南</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17227"></a><div class="props_rev_3"><a id="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A" name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A"></a><h3 id="LNOCI-GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A" class="sect3"><span class="enumeration_section">26.4.2</span> OCIAQDeqArray（）</h3>
               <div>
                  <p>从队列中取消一组消息。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-A4B1F248-1577-4601-AF21-0B672706A835">目的</p>
                     <p>阵列中的所有消息都使用相同的选项出列，并具有相同的队列表有效负载列TDO。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-741AE2A1-9662-4727-A6C0-DA90268C376E">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAQDeqArray（OCISvcCtx * svchp，OCIError * errhp，OraText * queue_name，OCIAQDeqOptions * deqopt，ub4 * iters，OCIAQMsgProperties ** msgprop，OCIType * payload_tdo，void ** payload，void ** payload_ind，OCIRaw ** msgid，void * ctxp ，OCICallbackAQDeq（cbfp）（void * ctxp，void ** payload，void ** payload_ind），ub4 flags）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-F67364E7-BB56-4F23-8CE3-4B42C8E721D0">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-FE67870B-AA38-4CAD-8DB5-D9E7A04A774C"><!-- --></a> <span class="bold">svchp</span> （IN）</dt>
                        <dd>
                           <p>OCI服务上下文（与<code class="codeph">OCIAQDeq()</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-78524540-C509-4898-9538-3C324FF390B4"><!-- --></a> <span class="bold">errhp</span> （IN）</dt>
                        <dd>
                           <p>一个错误句柄，当出现错误时可以传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息（与<code class="codeph">OCIAQDeq()</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-822C0974-CB34-4943-A31F-486EA2E99994"><!-- --></a> queue_name（IN）</dt>
                        <dd>
                           <p>消息出队的队列名称（与<code class="codeph">OCIAQDeq()</code></p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-0F2EBE21-903B-4D36-A475-1FF8E19462AF"><!-- --></a> deqopt（IN）</dt>
                        <dd>
                           <p>指向<code class="codeph">OCIAQDeqOptions</code>描述符的指针（与<code class="codeph">OCIAQDeq()</code> ）。
                           </p>
                           <p><code class="codeph">OCI_DTYPE_AQDEQ_OPTIONS</code> OCI类型常数具有附加属性<code class="codeph">OCI_ATTR_MSG_DELIVERY_MODE</code> （Oracle数据库引入<span class="italic">10g</span>第2版）具有以下值：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">OCI_MSG_PERSISTENT</code> （默认）</p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_MSG_BUFFERED</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_MSG_PERSISTENT_OR_BUFFERED</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-69376E78-014C-4C6A-881B-955999989F88"><!-- --></a> iters（IN / OUT）</dt>
                        <dd>
                           <p>输入时，要出列的消息数。在输出时，消息的数量成功出列。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-9D1FFDCE-5AAF-4ADC-B6C6-0947407E4C9C"><!-- --></a> msgprop（OUT）</dt>
                        <dd>
                           <p>指针数组以<code class="codeph">OCIAQMsgProperties</code>描述符，OCI型恒定的<code class="codeph">OCI_DTYPE_AQMSG_PROPERTIES</code> ，其可具有以下值：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">OCI_AQ_PERSISTENT</code> （默认）</p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_AQ_BUFFERED</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-950AA448-82FC-44CA-B07C-7EEFA251CD7C"><!-- --></a> payload_tdo（OUT）</dt>
                        <dd>
                           <p>指向队列表的有效负载列的TDO的指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-3AF55F5C-5625-4F94-B180-D5F6E3A56BE1"><!-- --></a>有效载荷（OUT）</dt>
                        <dd>
                           <p>一组指向出列消息的指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-151A419D-1D51-411A-929C-8F2B24DF1D47"><!-- --></a> payload_ind（OUT）</dt>
                        <dd>
                           <p>一系列指针指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-ED01C445-10CE-4E5A-AE68-B1F85BE8946C"><!-- --></a> msgid（OUT）</dt>
                        <dd>
                           <p>指向出列消息的消息ID的指针数组。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-3AAC5583-A05C-4747-BE6F-1319E7D5995E"><!-- --></a> ctxp（IN）</dt>
                        <dd>
                           <p>传递给回调函数的上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-92AAA8DE-9E7C-41C2-9A8D-6DF148D65327"><!-- --></a> cbfp（IN）</dt>
                        <dd>
                           <p>可以注册的回调，以提供放入出列消息的缓冲区指针。如果为<code class="codeph">NULL</code> ，则消息将出列到<code class="codeph">payload</code>指向的缓冲区中。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-B7790A0D-EDED-4121-921D-A4DF6296EC7C"><!-- --></a>标志（IN）</dt>
                        <dd>
                           <p>目前尚未使用;传递为<code class="codeph">OCI_DEFAULT</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-E48F17D7-EB38-4C67-9BF7-0958B385DF25">评论</p>
                     <p>用户必须具有<code class="codeph">AQ_USER_ROLE</code>或特权才能执行<code class="codeph">DBMS_AQ</code>程序包以使用此调用。所述OCI环境必须在对象模式（使用被初始化<code class="codeph">OCIEnvCreate()</code> <code class="codeph">OCIEnvNlsCreate()</code>或<code class="codeph">OCIInitialize()</code>已弃用）以使用该呼叫。
                     </p>
                     <p>只有在队列中没有消息时，才会识别<code class="codeph">OCIAQDeqOptions</code>指定的非零等待时间。如果队列包含有资格进行出列的消息，则<code class="codeph">OCIAQDeqArray()</code>函数会出列到<code class="codeph">iters</code>消息并立即返回。
                     </p>
                     <p>非阻塞模式不支持此功能。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C">OCIAQDeq（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C" title="将一组消息排入队列。">OCIAQEnqArray（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="代表代理列表侦听一个或多个队列。">OCIAQListen2（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-F06324D3-0E5C-42E2-8D11-8F94FE6B6113">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="notification-streams-advanced-queuing.html#GUID-FF4165B2-A44C-4F76-AC26-DA860F340CA8" title="OCI提供了数据库高级队列（Database AQ）功能的接口。数据库高级队列将消息队列作为Oracle数据库的集成部分提供。">OCI和数据库高级排队</a></p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=ADQUE0100" target="_blank"><span><cite>Oracle数据库高级队列用户指南</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17228"></a><div class="props_rev_3"><a id="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4" name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4"></a><h3 id="LNOCI-GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4" class="sect3"><span class="enumeration_section">26.4.3</span> OCIAQEnq（）</h3>
               <div>
                  <p>使用数据库高级队列执行入队操作。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-169380F8-F0F9-4D59-9900-C1573D1F54B9">目的</p>
                     <p>使用数据库高级队列执行入队操作。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-421944AF-3DF8-4BE1-A87A-739124D8C106">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAQEnq（OCISvcCtx * svch，OCIError * errh，OraText * queue_name，OCIAQEnqOptions * enqueue_options，OCIAQMsgProperties * message_properties，OCIType * payload_tdo，void ** payload，void ** payload_ind，OCIRaw ** msgid，ub4 flags）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-6FF8E72F-64C9-4948-9D29-93D2B52B3DF6">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-AC349031-3A20-416A-B1F1-0F35A5D9C382"><!-- --></a> <span class="bold">svch</span> （IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-5612C271-F770-43F3-9C10-B6B247EF3B3A"><!-- --></a> <span class="bold">errh</span> （IN）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-DA33A2E7-F5CE-430D-B909-19C2579521CD"><!-- --></a> <span class="bold">queue_name</span> （IN）</dt>
                        <dd>
                           <p>排队操作的目标队列。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-3C553A78-5A7C-42AC-9E29-EFB8DA43A5A3"><!-- --></a> <span class="bold">enqueue_options</span> （IN）</dt>
                        <dd>
                           <p>入队操作的选项;存储在<code class="codeph">OCIAQEnqOptions</code>描述符中。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-A7D1D068-FA79-4B53-A76C-76CCEBD0CA6B"><!-- --></a> <span class="bold">message_properties</span> （IN）</dt>
                        <dd>
                           <p>消息的消息属性。的属性被存储在一个<code class="codeph">OCIAQMsgProperties</code>描述符，OCI型恒定的<code class="codeph">OCI_DTYPE_AQMSG_PROPERTIES</code> ，在Oracle数据库<span class="italic">10g</span> 2版中引入。
                           </p>
                           <p>描述符<code class="codeph">OCI_DTYPE_AQMSG_PROPERTIES</code>具有属性<code class="codeph">OCI_ATTR_MSG_DELIVERY_MODE</code> ，其具有以下的值：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">OCI_MSG_PERSISTENT</code> （默认）</p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_MSG_BUFFERED</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-2E8A37EF-6513-44A0-8E77-ABD0EECF60DA"><!-- --></a> <span class="bold">payload_tdo</span> （IN）</dt>
                        <dd>
                           <p>对象类型的TDO（类型描述符对象）。对于原始队列，此参数应指向<code class="codeph">SYS.RAW</code>的TDO。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-42064A61-C6DF-405A-83F3-52A90CAFB06E"><!-- --></a> <span class="bold">有效载荷</span> （IN）</dt>
                        <dd>
                           <p>指向对象类型实例的指针的指针。对于原始队列，此参数应指向<code class="codeph">OCIRaw</code>的实例。
                           </p>
                           <p>OCI提供允许用户设置有效负载属性的功能，例如其文本。</p>
                           <div class="infoboxnotealso" id="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-F5DC8817-28A7-4899-BD48-211D599C5E19">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="oci-object-relational-programming.html#GUID-BA775817-78E4-4C49-A3C2-C867C50509B2" title="固定对象后，OCI应用程序可以修改其属性。">操作对象属性</a>以获取有关设置这些属性的信息</p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-199058D7-52BD-49A2-A14C-51F119092673"><!-- --></a> <span class="bold">payload_ind</span> （IN）</dt>
                        <dd>
                           <p>指向程序变量缓冲区指针的指针，该缓冲区包含对象类型的并行指示符结构。</p>
                        </dd>
                        <dt class="dlterm"><span class="bold">msgstr</span> （OUT） <a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-EA6C8A33-7CED-422E-8F6A-79BF966092BA"><!-- --></a></dt>
                        <dd>
                           <p>消息ID。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-E7988859-DEBF-4633-BBCC-9E90FF0CDB2D"><!-- --></a> <span class="bold">标志</span> （IN）</dt>
                        <dd>
                           <p>目前尚未使用;传递为<code class="codeph">OCI_DEFAULT</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-D34CCF40-0795-48E6-942F-A505B1D858A3">评论</p>
                     <p>用户必须具有<code class="codeph">AQ_USER_ROLE</code>或特权才能执行<code class="codeph">DBMS_AQ</code>程序包以使用此调用。
                     </p>
                     <p>所述OCI环境必须在对象模式（使用被初始化<code class="codeph">OCIEnvCreate()</code> <code class="codeph">OCIEnvNlsCreate()</code>或<code class="codeph">OCIInitialize()</code>已弃用）以使用该呼叫。
                     </p>
                     <div class="infoboxnotealso" id="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-89AD77B9-987E-4809-9F41-A1005F6A6FCC">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="notification-streams-advanced-queuing.html#GUID-FF4165B2-A44C-4F76-AC26-DA860F340CA8" title="OCI provides an interface to the Database Advanced Queuing (Database AQ) feature. Database Advanced Queuing provides message queuing as an integrated part of Oracle Database.">有关OCI和高级队列</a>的更多信息，请参见<a href="notification-streams-advanced-queuing.html#GUID-FF4165B2-A44C-4F76-AC26-DA860F340CA8" title="OCI提供了数据库高级队列（Database AQ）功能的接口。数据库高级队列将消息队列作为Oracle数据库的集成部分提供。">OCI和数据库</a>高级队列</p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=ADQUE0100" target="_blank"><span><cite>Oracle数据库高级队列用户指南</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <p>要获取有效负载的TDO，请使用<code class="codeph">OCITypeByName()</code>或<code class="codeph">OCITypeByRef()</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-type-information-accessor-functions.html#GUID-3534AABC-E347-4BC7-B220-0CAECDC9ECE7" title="获取现有TDO的最新版本。">OCITypeByName（）</a></li>
                        <li><a href="oci-type-information-accessor-functions.html#GUID-5613CAA6-D547-4267-8891-0E1DA213B7AB" title="给定引用时获取TDO。">OCITypeByRef（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C">OCIAQDeq（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="代表代理列表侦听一个或多个队列。">OCIAQListen2（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17229"></a><div class="props_rev_3"><a id="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C" name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C"></a><h3 id="LNOCI-GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C" class="sect3"><span class="enumeration_section">26.4.4</span> OCIAQEnqArray（）</h3>
               <div>
                  <p>将一组消息排入队列。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-8A5EBFA8-7D99-4D27-9004-8B62B9B5CA70">目的</p>
                     <p>消息数组使用相同的选项排队，并具有相同的有效负载列TDO。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-EDEE2BEA-9365-4530-B552-9F6C425CA206">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAQEnqArray（OCISvcCtx * svchp，OCIError * errhp，OraText * queue_name，OCIAQEnqOptions * enqopt，ub4 * iters，OCIAQMsgProperties ** msgprop，OCIType * payload_tdo，void ** payload，void ** payload_ind，OCIRaw ** msgid，void * ctxp ，OCICallbackAQEnq（cbfp）（void * ctxp，void ** payload，void ** payload_ind），ub4 flags）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-CC63C899-C195-4E60-867F-3AE5938B3D94">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-85324FB0-2D79-4E22-805C-19FBBAD5CF30"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>服务上下文（与<code class="codeph">OCIAQEnq()</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-67D10F8B-35E6-4FCA-BFAB-05E5EB5FFE7D"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>错误句柄（与<code class="codeph">OCIAQEnq()</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-EF585F95-8EEA-4C96-8CBB-87651B75168E"><!-- --></a> queue_name（IN）</dt>
                        <dd>
                           <p>消息入队的队列名称（与<code class="codeph">OCIAQEnq()</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-991BA9CC-27DC-4BAD-AC5A-75356F08A2B5"><!-- --></a> enqopt（IN）</dt>
                        <dd>
                           <p>指向<code class="codeph">OCIAQEnqOptions</code>描述符的指针（与<code class="codeph">OCIAQEnq()</code> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-5EE1CA18-EC11-48D1-8134-B6E53385C6B6"><!-- --></a> iters（IN / OUT）</dt>
                        <dd>
                           <p>输入时，要排队的消息数。在输出时，成功排队的消息数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-48D64633-8CA3-44BE-93C3-E255BB00EDF9"><!-- --></a> msgprop（IN）</dt>
                        <dd>
                           <p>指针数组以<code class="codeph">OCIAQMsgProperties</code>描述符，OCI型恒定的<code class="codeph">OCI_DTYPE_AQMSG_PROPERTIES</code> ，在Oracle数据库<span class="italic">10g</span> 2版中引入。
                           </p>
                           <p><code class="codeph">OCI_DTYPE_AQMSG_PROPERTIES</code>具有属性<code class="codeph">OCI_ATTR_MSG_DELIVERY_MODE</code> ，其具有以下的值：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">OCI_MSG_PERSISTENT</code> （默认）</p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_MSG_BUFFERED</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-984C8CEC-0F2B-4E59-A814-36093CC79D5B"><!-- --></a> payload_tdo（IN）</dt>
                        <dd>
                           <p>指向队列表的有效负载列的TDO的指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-A0136128-4ADD-4CD5-BBD7-FE37C9C91DB2"><!-- --></a>有效载荷（IN）</dt>
                        <dd>
                           <p>指向要排队的消息的指针数组。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-B32B8C9E-7CA2-4923-9712-50441D42F471"><!-- --></a> payload_ind（IN）</dt>
                        <dd>
                           <p>指向指针的指针数组，如果未使用指示符变量，则为<code class="codeph">NULL</code>指针。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-D2D353FB-EC48-472A-BF06-0F38350958DB"><!-- --></a> msgid（OUT）</dt>
                        <dd>
                           <p>指向排队消息的消息ID的指针数组，如果没有返回消息ID，则返回<code class="codeph">NULL</code>指针。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-8A036745-1963-481E-835D-9680FB53BB5F"><!-- --></a> ctxp（IN）</dt>
                        <dd>
                           <p>传递给已注册回调函数的上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-B7EC0E3D-95E3-420D-80A7-CB970A9252B5"><!-- --></a> cbfp（IN）</dt>
                        <dd>
                           <p>可以注册以动态提供消息的回调。如果为<code class="codeph">NULL</code> ，则在调用<code class="codeph">OCIAQEnqArray()</code>之前必须实现所有消息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-C860698C-78A8-49E6-8008-4ECB5B3FF3A2"><!-- --></a>标志（IN）</dt>
                        <dd>
                           <p>目前尚未使用;传递为<code class="codeph">OCI_DEFAULT</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-AD4CFBDF-4425-4E9C-9A47-2A0C09FBCA61">评论</p>
                     <p>非阻塞模式不支持此功能。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4" title="使用数据库高级队列执行入队操作。">OCIAQEnq（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A" title="从队列中取消一组消息。">OCIAQDeqArray（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="代表代理列表侦听一个或多个队列。">OCIAQListen2（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17231"></a><div class="props_rev_3"><a id="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1"></a><h3 id="LNOCI-GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" class="sect3"><span class="enumeration_section">26.4.5</span> OCIAQListen2（）</h3>
               <div>
                  <p>代表代理列表侦听一个或多个队列。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-8C440C98-3822-47E9-BA41-9380163A5E54">目的</p>
                     <p>支持缓冲消息传递和持久队列。在Oracle数据库<span class="italic">10g</span>第2版中引入。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-FC0AD334-6EF9-4EFD-AC25-0CA4B7A3E400">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAQListen2（OCISvcCtx * svchp，OCIError * errhp，OCIAQAgent ** agent_list，ub4 num_agents，OCIAQListenOpts * lopts，OCIAQAgent **代理，OCIAQLisMsgProps * lmops，ub4标志）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-C7E6FB2C-63BB-4FAD-9552-38429FA9802E">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-53F8EBC9-26EC-4C18-B004-DB144D0D8C92"><!-- --></a> <span class="bold">svchpp</span> （IN / OUT）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-516CEFEE-5977-4BA7-9EDF-57121A6438AD"><!-- --></a> <span class="bold">errhp</span> （输入/输出）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-5AA8E79A-77E0-4D10-AD4A-5A71C35C94AB"><!-- --></a> agent_list（IN）</dt>
                        <dd>
                           <p>要监视消息的代理列表。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-FC4BB41A-9698-40E2-B958-E1F3E37E3509"><!-- --></a> num_agents（IN）</dt>
                        <dd>
                           <p>代理列表中的代理数量。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-D8315033-AD7A-46ED-A047-F7F3780AB935"><!-- --></a> lopts（IN）</dt>
                        <dd>
                           <p>类型常量<code class="codeph">OCI_DTYPE_AQLIS_OPTIONS</code>具有以下属性：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">OCI_ATTR_WAIT</code> - 侦听呼叫的最长等待时间（以秒为单位）</p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_ATTR_MSG_DELIVERY_MODE</code> - 具有以下值之一：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">OCI_MSG_PERSISTENT</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_MSG_BUFFERED</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_MSG_PERSISTENT_OR_BUFFERED</code></p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-D137465D-5BB6-4BE2-9E47-07F3F1018636"><!-- --></a>代理（OUT）</dt>
                        <dd>
                           <p>有消息的代理。<code class="codeph">OCIAgent</code>是OCI描述符。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-C724ABB6-069A-458A-8ACC-2A6C3C77678A"><!-- --></a> lmops（OUT）</dt>
                        <dd>
                           <p><code class="codeph">OCI_DTYPE_AQLIS_MSG_PROPERTIES</code> （侦听消息属性）有一个属性<code class="codeph">OCI_ATTR_MSG_DELIVERY_MODE</code> ，它具有以下值：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">OCI_MSG_PERSISTENT</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_MSG_BUFFERED</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-D9211207-808E-4F99-A675-F60E1C947F2B"><!-- --></a>标志（IN）</dt>
                        <dd>
                           <p>目前尚未使用;传递为<code class="codeph">OCI_DEFAULT</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-7038248A-977E-4B0E-8536-4DC61158EA99">评论</p>
                     <p>这是一个阻塞调用，当有消息准备好为列表中的代理程序使用时返回。如果在等待时间到期时没有找到消息，则返回错误。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4" title="使用数据库高级队列执行入队操作。">OCIAQEnq（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C">OCIAQDeq（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-FDA9A842-DA80-4FE5-AAFA-662D14C550A8" title="在V8或更高版本的服务上下文句柄和V7 Lda_Def之间切换。">OCISvcCtxToLda（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-5C04A301-8564-46AF-A758-9DE7246F0F53" title="启用已禁用的订阅注册。">OCISubscriptionEnable（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-EFD815F0-D669-4E01-AA54-E1499E302430" title="发布到订阅，允许所有注册订阅的客户端收到通知。">OCISubscriptionPost（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" title="注册消息通知的回调。">OCISubscriptionRegister（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" title="取消注册关闭通知的订阅。">OCISubscriptionUnRegister（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17232"></a><div class="props_rev_3"><a id="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00" name="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00"></a><h3 id="LNOCI-GUID-72C51789-C48C-4F36-800B-EECC1AD98E00" class="sect3"><span class="enumeration_section">26.4.6</span> OCISubscriptionDisable（）</h3>
               <div>
                  <p>禁用订阅注册以关闭所有通知。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00__GUID-96FDD6D7-8DC5-4AC3-8CE6-2DAB68A971E5">目的</p>
                     <p>禁用订阅注册以关闭所有通知。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00__GUID-08968B40-CA94-49DA-AB97-AFD46A7245C6">句法</p><pre class="oac_no_warn" dir="ltr">ub4 OCISubscriptionDisable（OCISubscription * subscrhp，OCIError * errhp ub4模式）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00__GUID-13486512-A393-40BC-93D6-58FA68318A86">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00__GUID-DB92F8B8-32C2-41B3-B5D4-6465DA7FC70D"><!-- --></a> subscrhp（IN）</dt>
                        <dd>
                           <p>设置了<code class="codeph">OCI_ATTR_SUBSCR_NAME</code>和<code class="codeph">OCI_ATTR_SUBSCR_NAMESPACE</code>属性的订阅句柄。
                           </p>
                           <div class="infoboxnotealso" id="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00__GUID-623333D3-087F-4713-9113-B7A5F75B8CCC">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-A76BBB38-8F77-40B8-B5A6-1F9C9166C71C" title="列出并描述订阅句柄属性。">订阅句柄属性</a> 
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00__GUID-73FE215F-9226-4954-89EF-C6473F8B1046"><!-- --></a> errhp（OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00__GUID-D41D5A14-4D42-4D05-9D21-99B144AEFBA4"><!-- --></a>模式（IN）</dt>
                        <dd>
                           <p>呼叫专用模式。唯一有效的值是<code class="codeph">OCI_DEFAULT</code> <span>。</span> <code class="codeph">OCI_DEFAULT</code>执行默认调用，该调用将丢弃此订阅上的所有通知，直到启用订阅。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00__GUID-0D2C5E97-8FD6-4F3F-BE7C-7675136DE9A0">评论</p>
                     <p>此调用用于暂时关闭通知。当应用程序运行代码的关键部分且不应中断时，这非常有用。</p>
                     <p>无需连接或验证用户即可执行此操作。在进行此调用之前，必须已对订阅句柄指定的订阅执行注册。</p>
                     <p><code class="codeph">OCISubscriptionDisable()</code>之后的所有通知都将被系统丢弃，直到执行<code class="codeph">OCISubscriptionEnable()</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="代表代理列表侦听一个或多个队列。">OCIAQListen2（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-5C04A301-8564-46AF-A758-9DE7246F0F53" title="启用已禁用的订阅注册。">OCISubscriptionEnable（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-EFD815F0-D669-4E01-AA54-E1499E302430" title="发布到订阅，允许所有注册订阅的客户端收到通知。">OCISubscriptionPost（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" title="注册消息通知的回调。">OCISubscriptionRegister（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" title="取消注册关闭通知的订阅。">OCISubscriptionUnRegister（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17233"></a><div class="props_rev_3"><a id="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53" name="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53"></a><h3 id="LNOCI-GUID-5C04A301-8564-46AF-A758-9DE7246F0F53" class="sect3"><span class="enumeration_section">26.4.7</span> OCISubscriptionEnable（）</h3>
               <div>
                  <p>启用已禁用的订阅注册。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53__GUID-28D6BD2D-4CC7-485D-BC87-856AAFEEC076">目的</p>
                     <p>这会打开所有通知。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53__GUID-F66E8442-151D-4E03-A1C2-C83FB171F6B9">句法</p><pre class="oac_no_warn" dir="ltr">ub4 OCISubscriptionEnable（OCISubscription * subscrhp，OCIError * errhp ub4 mode）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53__GUID-E08AC839-32CC-4BE3-BE59-E375AD2B9C4E">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53__GUID-29DFB62D-F1D5-4F71-B69B-BA11E3A575FD"><!-- --></a> subscrhp（IN）</dt>
                        <dd>
                           <p>设置了<code class="codeph">OCI_ATTR_SUBSCR_NAME</code>和<code class="codeph">OCI_ATTR_SUBSCR_NAMESPACE</code>属性的订阅句柄。
                           </p>
                           <div class="infoboxnotealso" id="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53__GUID-06383871-6CE2-483A-9FBD-54B036633CF6">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-A76BBB38-8F77-40B8-B5A6-1F9C9166C71C" title="列出并描述订阅句柄属性。">订阅句柄属性</a> 
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53__GUID-4A1916FC-6543-452C-9C5E-CFA5FB5B714C"><!-- --></a> errhp（OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53__GUID-D9814DFD-83CE-4C47-8E53-89D51195BCF2"><!-- --></a>模式（IN）</dt>
                        <dd>
                           <p>呼叫专用模式。唯一有效的值是OCI_DEFAULT。此值执行默认调用，该调用将缓冲此订阅上的所有通知，直到执行后续启用。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53__GUID-0245CC0C-B573-4495-B831-26FDB3EF233B">评论</p>
                     <p>此调用用于在禁用订阅注册后打开通知。</p>
                     <p>无需连接或验证用户即可执行此操作。在进行此调用之前，必须已对指定的订阅进行了注册。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="代表代理列表侦听一个或多个队列。">OCIAQListen2（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-FDA9A842-DA80-4FE5-AAFA-662D14C550A8" title="在V8或更高版本的服务上下文句柄和V7 Lda_Def之间切换。">OCISvcCtxToLda（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" title="注册消息通知的回调。">OCISubscriptionRegister（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" title="取消注册关闭通知的订阅。">OCISubscriptionUnRegister（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17234"></a><div class="props_rev_3"><a id="GUID-EFD815F0-D669-4E01-AA54-E1499E302430" name="GUID-EFD815F0-D669-4E01-AA54-E1499E302430"></a><h3 id="LNOCI-GUID-EFD815F0-D669-4E01-AA54-E1499E302430" class="sect3"><span class="enumeration_section">26.4.8</span> OCISubscriptionPost（）</h3>
               <div>
                  <p>发布到订阅，允许所有注册订阅的客户端收到通知。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-BB1465DE-6B02-43FC-A0E2-45D5F2895C39">目的</p>
                     <p>发布到订阅，允许所有注册订阅的客户端收到通知。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-8C047CC7-ECB7-4BFD-A336-23E89ECC876C">句法</p><pre class="oac_no_warn" dir="ltr">ub4 OCISubscriptionPost（OCISvcCtx * svchp，OCISubscription ** subscrhpp，ub2 count，OCIError * errhp ub4 mode）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-E9C797B0-A962-4D49-A6DA-EB7B57D7CD4F">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-A6890A6E-E071-42BE-BA81-59A2D3C5294C"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文（在第7版之后）。此服务上下文应具有有效的经过身份验证的用户句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-C4DCD001-1FD3-4C31-9865-9117342884E5"><!-- --></a> subscrhpp（IN）</dt>
                        <dd>
                           <p>一组订阅句柄。此数组的每个元素都应该是一个订阅句柄，并设置了<code class="codeph">OCI_ATTR_SUBSCR_NAME</code>和<code class="codeph">OCI_ATTR_SUBSCR_NAMESPACE</code>属性。
                           </p>
                           <div class="infoboxnotealso" id="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-2547B37D-E188-4FE5-B0BF-85914EB1D4E5">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-A76BBB38-8F77-40B8-B5A6-1F9C9166C71C" title="列出并描述订阅句柄属性。">订阅句柄属性</a> 
                              </p>
                           </div>
                           <p>在此调用之前，必须为每个订阅句柄设置<code class="codeph">OCI_ATTR_SUBSCR_PAYLOAD</code>属性。如果未设置，则假定有效负载为<code class="codeph">NULL</code>并且当已注册感兴趣的客户端收到通知时，不会传递有效负载。请注意，调用程序必须保留有效负载，直到完成后，因为<code class="codeph">OCIAttrSet()</code>调用会跟踪对有效内容的引用，但不会复制内容。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-AA602FBF-A5F5-4767-AA61-AE3CE7B9ECD4"><!-- --></a>次数（IN）</dt>
                        <dd>
                           <p>订阅句柄数组中的元素数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-DA50CA9D-7FE1-4D00-951B-75B897D22331"><!-- --></a> errhp（OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-9E385696-09C8-4DFF-9E40-B9AC6481EF43"><!-- --></a>模式（IN）</dt>
                        <dd>
                           <p>呼叫专用模式。唯一有效的值是OCI_DEFAULT。该值执行默认调用。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-DA09CD37-D249-4F37-AB37-D8D8F013F315">评论</p>
                     <p>发布订阅涉及在需要时识别订阅名称和有效负载。如果没有关联有效负载，则有效负载长度可以设置为0。</p>
                     <p>此呼叫提供<span class="italic">尽力而为的</span>保证。最多只有一次通知注册客户。
                     </p>
                     <p>此调用主要用于非持久通知，对多个系统事件很有用。如果应用程序需要更严格的保证，它可以通过入队到队列来使用高级队列功能。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="代表代理列表侦听一个或多个队列。">OCIAQListen2（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-FDA9A842-DA80-4FE5-AAFA-662D14C550A8" title="在V8或更高版本的服务上下文句柄和V7 Lda_Def之间切换。">OCISvcCtxToLda（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-5C04A301-8564-46AF-A758-9DE7246F0F53" title="启用已禁用的订阅注册。">OCISubscriptionEnable（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" title="注册消息通知的回调。">OCISubscriptionRegister（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" title="取消注册关闭通知的订阅。">OCISubscriptionUnRegister（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17235"></a><div class="props_rev_3"><a id="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" name="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930"></a><h3 id="LNOCI-GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" class="sect3"><span class="enumeration_section">26.4.9</span> OCISubscriptionRegister（）</h3>
               <div>
                  <p>注册消息通知的回调。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-2C98BED3-ABF5-483D-86CB-4876FCE8F810">目的</p>
                     <p>注册消息通知的回调。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-81179E35-D6CB-4AE4-98D2-C590FC6032F6">句法</p><pre class="oac_no_warn" dir="ltr">ub4 OCISubscriptionRegister（OCISvcCtx * svchp，OCISubscription ** subscrhpp，ub2 count，OCIError * errhp ub4 mode）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-E10805B3-175E-4553-BFF5-D45598A9AE2A">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-30D23903-B3DA-4333-A49A-977F9398D1BD"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文（在第7版之后）。此服务上下文应具有有效的经过身份验证的用户句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-327C333E-F6BB-4CD0-83D4-F858C7E75D65"><!-- --></a> subscrhpp（IN）</dt>
                        <dd>
                           <p>一组订阅句柄。此数组的每个元素都应该是一个订阅句柄，并设置了以下所有属性：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_ATTR_SUBSCR_NAME</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_ATTR_SUBSCR_NAMESPACE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_ATTR_SUBSCR_RECPTPROTO</code></p>
                        </li>
                     </ul>
                     <p>否则，返回错误。</p>
                     <p>还必须设置以下属性之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_ATTR_SUBSCR_CALLBACK</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_ATTR_SUBSCR_CTX</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_ATTR_SUBSCR_RECPT</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-54DF7DFB-6914-4DCE-9DB3-1889C6D4B5EF">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="handle-and-descriptor-attributes.html#GUID-A76BBB38-8F77-40B8-B5A6-1F9C9166C71C" title="Lists and describes subscription handle attributes.">订阅句柄属性</a>以获取有关<a href="handle-and-descriptor-attributes.html#GUID-A76BBB38-8F77-40B8-B5A6-1F9C9166C71C" title="列出并描述订阅句柄属性。">句柄属性</a>的信息</p>
                     </div>
                     <p>当接收到用于由表示的登记通知<code class="codeph">subscrhpp[i]</code>或者是用户定义的回调函数（ <code class="codeph">OCI_ATTR_SUBSCR_CALLBACK</code>用于设置） <code class="codeph">subscrhpp[i]</code>被调用与上下文（ <code class="codeph">OCI_ATTR_SUBSCR_CTX</code>用于设置） <code class="codeph">subscrhpp[i]</code>或电子邮件是发送到（ <code class="codeph">OCI_ATTR_SUBSCR_RECPT</code> ）设置为<code class="codeph">subscrhpp[i]</code> ，或者在数据库中调用为<code class="codeph">subscrhpp[i]</code>设置的PL / SQL过程（ <code class="codeph">OCI_ATTR_SUBSCR_RECPT</code> ），前提是<code class="codeph">subscrhpp[i]</code>的订户对该过程具有适当的权限。
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-21DF370C-B8CE-43EC-B881-00ED47ACB955"><!-- --></a>计数（IN）</dt>
                        <dd>
                           <p>订阅句柄数组中的元素数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-1405BAD0-824A-4678-AAD3-190E0C97D60D"><!-- --></a> errhp（OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-0D04C658-C4BF-4C6A-A801-AA44BD5F1A46"><!-- --></a>模式（IN）</dt>
                        <dd>
                           <p>呼叫专用模式。有效值为：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_DEFAULT</code> - 在服务器DN描述符中只有一个服务器DN时使用。注册请求被发送到数据库。如果数据库连接不可用，则注册请求将绕过LDAP服务器。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_REG_LDAPONLY</code> - 注册请求直接发送到LDAP服务器。当服务器DN描述符中有多个服务器DN时，或者您确定数据库连接不可用时，请使用此模式。
                           </p>
                        </li>
                     </ul>
                     <p>每当一个新的客户端进程出现，或者旧的客户端进程出现故障并重新启动时，它必须注册所有感兴趣的订阅。如果客户端保持运行状态并且服务器首先停机然后重新启动，则客户端将继续接收已断开连接的注册通知。但是，客户端不会收到CONNECTED注册的通知，因为它们在服务器关闭并重新启动后丢失。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-AFA7D6CF-9EE4-49BB-98B2-D9C371B475EB">评论</p>
                     <p>调用此调用以注册到订阅，该订阅标识感兴趣的订阅名称和要调用的关联回调。可以同时注册对多个订阅的兴趣。</p>
                     <p>此接口仅对消息传递的异步模式有效。在此模式下，订户发出指定回叫的注册呼叫。收到与订阅条件匹配的消息时，将调用回调。然后，回调可以发出显式<code class="codeph">message_receive</code> （出队）以检索消息。
                     </p>
                     <p>用户必须在注册时指定订阅句柄，并将namespace属性设置为<code class="codeph">OCI_SUBSCR_NAMESPACE_AQ</code> 。</p>
                     <p>订阅名称是字符串<code class="codeph">SCHEMA.QUEUE</code> <span class="italic"> </span>如果注册是针对单个消费者队列的， <code class="codeph">SCHEMA.QUEUE:CONSUMER_NAME</code>如果注册是针对多<code class="codeph">SCHEMA.QUEUE:CONSUMER_NAME</code>队列的。字符串应为大写。
                     </p>
                     <p>每个命名空间都有自己的权限模型。如果执行注册的用户无权在指定订阅的命名空间中注册，则会返回错误。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="代表代理列表侦听一个或多个队列。">OCIAQListen2（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-FDA9A842-DA80-4FE5-AAFA-662D14C550A8" title="在V8或更高版本的服务上下文句柄和V7 Lda_Def之间切换。">OCISvcCtxToLda（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-5C04A301-8564-46AF-A758-9DE7246F0F53" title="启用已禁用的订阅注册。">OCISubscriptionEnable（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-EFD815F0-D669-4E01-AA54-E1499E302430" title="发布到订阅，允许所有注册订阅的客户端收到通知。">OCISubscriptionPost（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" title="取消注册关闭通知的订阅。">OCISubscriptionUnRegister（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17236"></a><div class="props_rev_3"><a id="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" name="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0"></a><h3 id="LNOCI-GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" class="sect3"><span class="enumeration_section">26.4.10</span> OCISubscriptionUnRegister（）</h3>
               <div>
                  <p>取消注册关闭通知的订阅。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-953C7AA6-8167-4A47-8B6B-4A532F3F9C89">目的</p>
                     <p>取消注册关闭通知的订阅。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-E9B22D02-AAB5-4136-9134-8AFF87DE675C">句法</p><pre class="oac_no_warn" dir="ltr">ub4 OCISubscriptionUnRegister（OCISvcCtx * svchp，OCISubscription * subscrhp，OCIError * errhp ub4模式）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-E858B4C1-98E6-481C-82A0-A58ED939A2EC">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-9D54B460-A2CD-4730-AE46-E8325848402A"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文（在第7版之后）。此服务上下文应具有有效的经过身份验证的用户句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-1A7CF6D0-241A-4362-A4FC-4DC5C18C869B"><!-- --></a> subscrhp（IN）</dt>
                        <dd>
                           <p>设置了<code class="codeph">OCI_ATTR_SUBSCR_NAME</code>和<code class="codeph">OCI_ATTR_SUBSCR_NAMESPACE</code>属性的订阅句柄。
                           </p>
                           <div class="infoboxnotealso" id="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-EEC36B2B-B91A-42EF-92C6-C943FF58FDB5">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-A76BBB38-8F77-40B8-B5A6-1F9C9166C71C" title="列出并描述订阅句柄属性。">订阅句柄属性</a> 
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-1AF2825E-F89D-4606-9290-47711D3A8464"><!-- --></a> errhp（OUT）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-8E891325-1F4F-469B-A80B-241ECC9F21B1"><!-- --></a>模式（IN）</dt>
                        <dd>
                           <p>呼叫专用模式。有效值为：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_DEFAULT</code> - 在服务器DN描述符中只有一个服务器DN时使用。注册请求被发送到数据库。如果数据库连接不可用，则注册请求将绕过LDAP服务器。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_REG_LDAPONLY</code> - 注册请求直接发送到LDAP服务器。当服务器DN描述符中有多个服务器DN时，或者您确定数据库连接不可用时，请使用此模式。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-1316B302-E0C5-48BD-8A81-FF3672E11871">评论</p>
                     <p>取消注册订阅可确保用户将来不会收到有关指定订阅的通知。如果用户想要恢复通知，则唯一的选择是重新注册订阅。</p>
                     <p>由于用户不再位于感兴趣的客户列表中，因此在执行后续注册后不会传递本来已交付的所有通知。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="代表代理列表侦听一个或多个队列。">OCIAQListen2（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-FDA9A842-DA80-4FE5-AAFA-662D14C550A8" title="在V8或更高版本的服务上下文句柄和V7 Lda_Def之间切换。">OCISvcCtxToLda（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-5C04A301-8564-46AF-A758-9DE7246F0F53" title="启用已禁用的订阅注册。">OCISubscriptionEnable（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-EFD815F0-D669-4E01-AA54-E1499E302430" title="发布到订阅，允许所有注册订阅的客户端收到通知。">OCISubscriptionPost（）</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" title="注册消息通知的回调。">OCISubscriptionRegister（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="01084.DBMS_REPAIR.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_REPAIR package contains data corruption repair procedures that enable you to detect and repair corrupt blocks in tables and indexes. You can address corruptions where possible and continue to use objects while you attempt to rebuild or repair them."></meta>
      <meta name="description" content="The DBMS_REPAIR package contains data corruption repair procedures that enable you to detect and repair corrupt blocks in tables and indexes. You can address corruptions where possible and continue to use objects while you attempt to rebuild or repair them."></meta>
      <title>DBMS_REPAIR</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_REPAIR package contains data corruption repair procedures that enable you to detect and repair corrupt blocks in tables and indexes. You can address corruptions where possible and continue to use objects while you attempt to rebuild or repair them."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_REFRESH.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_RESCONFIG.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_REFRESH.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_RESCONFIG.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_REPAIR</li>
            </ol>
            <a id="GUID-B8EC4AB3-4D6A-46C9-857F-4ED53CD9C948" name="GUID-B8EC4AB3-4D6A-46C9-857F-4ED53CD9C948"></a><a id="ARPLS044"></a><a id="ARPLS044"></a>
            
            <h2 id="ARPLS-GUID-B8EC4AB3-4D6A-46C9-857F-4ED53CD9C948" class="sect2"><span class="enumeration_chapter">134</span> DBMS_REPAIR</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_REPAIR</code>程序包包含数据损坏修复过程，使您可以检测和修复表和索引中的损坏块。您可以尽可能地解决损坏，并在尝试重建或修复对象时继续使用对象。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_REPAIR.html#GUID-F428BED1-B578-4C4E-9801-FBF35CDCD5DD" title="DBMS_REPAIR程序包仅供数据库管理员使用。它不适合应用程序开发人员使用。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_REPAIR.html#GUID-43DCD8EA-71C8-44A1-81A5-ADBC6B7C39E3" title="该软件包归SYS所有。执行权限未授予其他用户。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="DBMS_REPAIR包定义了几个应该用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_REPAIR.TABLE_OBJECT。">常量</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_REPAIR.html#GUID-E1E44AB5-EBBB-4E61-BE8B-D218B5EC6F0F" title="创建ORPHAN_KEYS_TABLE的过程类似于用于创建REPAIR_TABLE的过程。">操作说明</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_REPAIR.html#GUID-0F286D82-EA77-470C-900E-7B46408B228F" title="本主题中的表描述了DDBMS_REPAIR子程序引发的异常。">例外</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_REPAIR.html#GUID-4FEBF61D-D86F-47E7-ACDC-8CED36352FD9" title="本主题显示DBMS_REPAIR用法的示例。">例子</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_REPAIR.html#GUID-D136544C-8027-4CA5-825D-6B9FFA884841" title="该表列出了DBMS_REPAIR子程序并简要描述了它们。">DBMS_REPAIR子程序摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-B8EC4AB3-4D6A-46C9-857F-4ED53CD9C948__GUID-B7C7ECB6-AB09-4CD6-8058-C7B5A888F85A">
                  <p class="notep1">也可以看看：</p>
                  <p>有关使用<code class="codeph">DBMS_REPAIR</code>程序包的详细信息，请参见“ <a href="../admin/repairing-corrupted-data.html#ADMIN-GUID-21282FF3-1E98-478E-8111-0A7CAFCFCD97" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a></p>
               </div>
            </div><a id="ARPLS67537"></a><a id="ARPLS67537"></a><div class="props_rev_3"><a id="GUID-F428BED1-B578-4C4E-9801-FBF35CDCD5DD" name="GUID-F428BED1-B578-4C4E-9801-FBF35CDCD5DD"></a><h3 id="ARPLS-GUID-F428BED1-B578-4C4E-9801-FBF35CDCD5DD" class="sect3"><span class="enumeration_section">134.1</span> DBMS_REPAIR概述</h3>
               <div>
                  <p><code class="codeph">DBMS_REPAIR</code>程序包仅供数据库管理员使用。它不适合应用程序开发人员使用。
                  </p>
               </div>
            </div><a id="ARPLS67538"></a><a id="ARPLS67538"></a><div class="props_rev_3"><a id="GUID-43DCD8EA-71C8-44A1-81A5-ADBC6B7C39E3" name="GUID-43DCD8EA-71C8-44A1-81A5-ADBC6B7C39E3"></a><h3 id="ARPLS-GUID-43DCD8EA-71C8-44A1-81A5-ADBC6B7C39E3" class="sect3"><span class="enumeration_section">134.2</span> DBMS_REPAIR安全模型</h3>
               <div>
                  <p>该软件包归<code class="codeph">SYS</code> 。执行权限未授予其他用户。
                  </p>
               </div>
            </div><a id="ARPLS67539"></a><a id="ARPLS67540"></a><a id="ARPLS67540"></a><a id="ARPLS67539"></a><div class="props_rev_3"><a id="GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" name="GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B"></a><h3 id="ARPLS-GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" class="sect3"><span class="enumeration_section">134.3</span> DBMS_REPAIR常量</h3>
               <div>
                  <p><code class="codeph">DBMS_REPAIR</code>包定义了几个应该用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如， <code class="codeph">DBMS_REPAIR</code> 。 <code class="codeph">TABLE_OBJECT</code> 。</p>
                  <div class="section">
                     <p>下表列出了参数和枚举常量。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B__CHDFDJEE">
                     <p class="titleintable">表134-1具有枚举常量的DBMS_REPAIR参数</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="具有枚举常量的DBMS_REPAIR参数" width="100%" border="1" summary="This table describes the enumerated constants of DBMS_REPAIR parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d708593e472">参数</th>
                              <th align="left" valign="bottom" width="26%" id="d708593e475">选项</th>
                              <th align="left" valign="bottom" width="16%" id="d708593e478">类型</th>
                              <th align="left" valign="bottom" width="41%" id="d708593e481">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d708593e486" headers="d708593e472 ">
                                 <p><code class="codeph">OBJECT_TYPE</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d708593e486 d708593e475 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">TABLE_OBJECT</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">INDEX_OBJECT</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CLUSTER_OBJECT</code> 
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d708593e486 d708593e478 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d708593e486 d708593e481 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d708593e513" headers="d708593e472 ">
                                 <p><code class="codeph">行动</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d708593e513 d708593e475 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">CREATE_ACTION</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">DROP_ACTION</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">PURGE_ACTION</code> 
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d708593e513 d708593e478 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d708593e513 d708593e481 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d708593e540" headers="d708593e472 ">
                                 <p><code class="codeph">TABLE_TYPE</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d708593e540 d708593e475 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">REPAIR_TABLE</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">ORPHAN_TABLE</code></p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d708593e540 d708593e478 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d708593e540 d708593e481 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d708593e562" headers="d708593e472 ">
                                 <p><code class="codeph">旗</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d708593e562 d708593e475 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">的skip_flag</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">NOSKIP_FLAG</code></p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d708593e562 d708593e478 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d708593e562 d708593e481 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d708593e584" headers="d708593e472 ">
                                 <p><code class="codeph">OBJECT_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d708593e584 d708593e475 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">ALL_INDEX_ID：= 0</code></p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d708593e584 d708593e478 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d708593e584 d708593e481 ">
                                 <p>清理所有符合条件的物品</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d708593e602" headers="d708593e472 ">
                                 <p><code class="codeph">wait_for_lock</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d708593e602 d708593e475 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">LOCK_WAIT：= 1</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">LOCK_NOWAIT：= 0</code></p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d708593e602 d708593e478 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d708593e602 d708593e481 ">
                                 <p>指定是否尝试在基础表[[sub] partition]对象上获取DML锁</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B__GUID-B8B3FE69-52C6-4378-B1C6-577DB60BF403">
                        <p class="notep1">注意：</p>
                        <p>默认的<code class="codeph">table_name</code>会<code class="codeph">REPAIR_TABLE</code>时<code class="codeph">table_type</code>是<code class="codeph">REPAIR_TABLE</code> ，并将于<code class="codeph">ORPHAN_KEY_TABLE</code>时<code class="codeph">table_type</code>是<code class="codeph">ORPHAN_TABLE</code> 。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67541"></a><a id="ARPLS67541"></a><div class="props_rev_3"><a id="GUID-E1E44AB5-EBBB-4E61-BE8B-D218B5EC6F0F" name="GUID-E1E44AB5-EBBB-4E61-BE8B-D218B5EC6F0F"></a><h3 id="ARPLS-GUID-E1E44AB5-EBBB-4E61-BE8B-D218B5EC6F0F" class="sect3"><span class="enumeration_section">134.4</span> DBMS_REPAIR操作说明</h3>
               <div>
                  <p>创建<code class="codeph">ORPHAN_KEYS_TABLE</code>过程类似于用于创建<code class="codeph">REPAIR_TABLE</code> 。</p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">CONNECT / AS SYSDBA; EXEC DBMS_REPAIR.ADMIN_TABLES（'ORPHAN_KEYS_TABLE'，DBMS_REPAIR.ORPHAN_TABLE，DBMS_REPAIR.CREATE_ACTION）; EXEC DBMS_REPAIR.ADMIN_TABLES（'REPAIR_TABLE'，DBMS_REPAIR.REPAIR_TABLE，DBMS_REPAIR.CREATE_ACTION）; DESCRIBE ORPHAN_KEYS_TABLE; DESCRIBE REPAIR_TABLE; SELECT * FROM ORPHAN_KEYS_TABLE; SELECT * FROM REPAIR_TABLE;</pre><p>DBA将创建一次修复和孤立密钥表。后续执行<a href="DBMS_REPAIR.html#GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49" title="此过程检查指定的对象，并使用有关损坏和修复指令的信息填充修复表。">CHECK_OBJECT过程</a>会在相应的表中添加行，指示找到的错误类型。
                     </p>
                     <p>用户可以选择修复和孤立密钥表的名称，但有以下限制：修复表的名称必须以“ <code class="codeph">REPAIR_</code> ”前缀开头，并且孤立密钥表的名称必须以“ <code class="codeph">ORPHAN_</code> ” <code class="codeph">ORPHAN_</code> ' 字首。以下代码也是合法的：</p><pre class="oac_no_warn" dir="ltr">CONNECT / AS SYSDBA; EXEC DBMS_REPAIR.ADMIN_TABLES（'ORPHAN_FOOBAR'，DBMS_REPAIR.ORPHAN_TABLE，DBMS_REPAIR.CREATE_ACTION）; EXEC DBMS_REPAIR.ADMIN_TABLES（'REPAIR_ABCD'，DBMS_REPAIR.REPAIR_TABLE，DBMS_REPAIR.CREATE_ACTION）; DESCRIBE ORPHAN_FOOBAR; DESCRIBE REPAIR_ABCD; SELECT * FROM ORPHAN_FOOBAR; SELECT * FROM REPAIR_ABCD;</pre><p>调用<a href="DBMS_REPAIR.html#GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49" title="此过程检查指定的对象，并使用有关损坏和修复指令的信息填充修复表。">CHECK_OBJECT过程时</a> ，应正确指定已创建的修复和孤立键表的名称，尤其是在<a href="DBMS_REPAIR.html#GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303" title="此过程为DBMS_REPAIR程序包修复和孤立密钥表提供管理功能。">ADMIN_TABLES过程</a>或<code class="codeph">CREATE_ACTION</code>中未使用缺省值时。</p>
                     <p><a href="DBMS_REPAIR.html#GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303" title="此过程为DBMS_REPAIR程序包修复和孤立密钥表提供管理功能。">ADMIN_TABLES过程</a>中的其他操作可用于清除/删除<code class="codeph">REPAIR_TABLE</code>和<code class="codeph">ORPHAN_KEYS_TABLE</code> 。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67542"></a><a id="ARPLS67543"></a><a id="ARPLS67543"></a><a id="ARPLS67542"></a><div class="props_rev_3"><a id="GUID-0F286D82-EA77-470C-900E-7B46408B228F" name="GUID-0F286D82-EA77-470C-900E-7B46408B228F"></a><h3 id="ARPLS-GUID-0F286D82-EA77-470C-900E-7B46408B228F" class="sect3"><span class="enumeration_section">134.5</span> DBMS_REPAIR例外</h3>
               <div>
                  <p>本主题中的表描述了DDBMS_REPAIR子程序引发的异常。</p>
                  <div class="tblformal" id="GUID-0F286D82-EA77-470C-900E-7B46408B228F__GUID-A0B723C0-97ED-4175-985C-B302433B9BA5">
                     <p class="titleintable">表134-2 DBMS_REPAIR例外</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_REPAIR例外" width="100%" border="1" summary="This table describes the Exceptions raised by the DDBMS_REPAIR subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="15%" id="d708593e903">例外</th>
                              <th align="left" valign="bottom" width="42%" id="d708593e906">描述</th>
                              <th align="left" valign="bottom" width="44%" id="d708593e909">行动</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e914" headers="d708593e903 ">
                                 <p><code class="codeph">942</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e914 d708593e906 ">
                                 <p>当指定的表不存在时，在<code class="codeph">DROP_ACTION</code>期间由<code class="codeph">DBMS_REPAIR.ADMIN_TABLES</code>报告。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e914 d708593e909 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e931" headers="d708593e903 ">
                                 <p><code class="codeph">955</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e931 d708593e906 ">
                                 <p>由<code class="codeph">DBMS_REPAIR</code>报告。指定的表已存在时的<code class="codeph">CREATE_ACTION</code> 。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e931 d708593e909 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e948" headers="d708593e903 ">
                                 <p><code class="codeph">24120</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e948 d708593e906 ">
                                 <p>将无效参数传递给指定的<code class="codeph">DBMS_REPAIR</code>过程。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e948 d708593e909 ">
                                 <p>指定有效参数值或使用参数的默认值。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e962" headers="d708593e903 ">
                                 <p><code class="codeph">24122</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e962 d708593e906 ">
                                 <p>指定了不正确的块范围。</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e962 d708593e909 ">
                                 <p>为<code class="codeph">BLOCK_START</code>和<code class="codeph">BLOCK_END</code>参数指定正确的值。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e979" headers="d708593e903 ">
                                 <p><code class="codeph">24123</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e979 d708593e906 ">
                                 <p>尝试使用指定的功能，但尚未实现该功能。</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e979 d708593e909 ">
                                 <p>请勿尝试使用此功能。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e990" headers="d708593e903 ">
                                 <p><code class="codeph">24124</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e990 d708593e906 ">
                                 <p>指定了无效的<code class="codeph">ACTION</code>参数。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e990 d708593e909 ">
                                 <p>为<code class="codeph">ACTION</code>参数指定<code class="codeph">CREATE_ACTION</code> ， <code class="codeph">PURGE_ACTION</code>或<code class="codeph">DROP_ACTION</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e1016" headers="d708593e903 ">
                                 <p><code class="codeph">24125</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e1016 d708593e906 ">
                                 <p>尝试修复自<code class="codeph">DBMS_REPAIR</code>以来已丢弃或截断的对象上的损坏块。 <code class="codeph">CHECK_OBJECT</code>运行了。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e1016 d708593e909 ">
                                 <p>使用<code class="codeph">DBMS_REPAIR</code> 。 <code class="codeph">ADMIN_TABLES</code>清除修复表并运行<code class="codeph">DBMS_REPAIR</code> 。 <code class="codeph">CHECK_OBJECT</code>确定是否有任何损坏的块要修复。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e1045" headers="d708593e903 ">
                                 <p><code class="codeph">24127</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e1045 d708593e906 ">
                                 <p>使用除<code class="codeph">CREATE_ACTION</code>之外的<code class="codeph">ACTION</code>指定的<code class="codeph">TABLESPACE</code>参数。</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e1045 d708593e909 ">
                                 <p>执行<code class="codeph">CREATE_ACTION</code>以外的操作时，请勿指定<code class="codeph">TABLESPACE</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e1070" headers="d708593e903 ">
                                 <p><code class="codeph">24128</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e1070 d708593e906 ">
                                 <p>为未分区的对象指定了分区名称。</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e1070 d708593e909 ">
                                 <p>仅在对象已分区时指定分区名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e1081" headers="d708593e903 ">
                                 <p><code class="codeph">24129</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e1081 d708593e906 ">
                                 <p>尝试传递没有指定前缀的表名参数。</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e1081 d708593e909 ">
                                 <p>传递有效的表名参数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e1092" headers="d708593e903 ">
                                 <p><code class="codeph">24130</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e1092 d708593e906 ">
                                 <p>尝试指定不存在的修复或孤立表。</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e1092 d708593e909 ">
                                 <p>指定有效的表名参数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e1104" headers="d708593e903 ">
                                 <p><code class="codeph">24131</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e1104 d708593e906 ">
                                 <p>尝试指定没有正确定义的修复或孤立表。</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e1104 d708593e909 ">
                                 <p>指定引用正确创建的表的表名。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e1115" headers="d708593e903 ">
                                 <p><code class="codeph">24132</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e1115 d708593e906 ">
                                 <p>尝试指定表名长度超过30个字符。</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e1115 d708593e909 ">
                                 <p>指定有效的表名参数。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS67544"></a><a id="ARPLS67544"></a><div class="props_rev_3"><a id="GUID-4FEBF61D-D86F-47E7-ACDC-8CED36352FD9" name="GUID-4FEBF61D-D86F-47E7-ACDC-8CED36352FD9"></a><h3 id="ARPLS-GUID-4FEBF61D-D86F-47E7-ACDC-8CED36352FD9" class="sect3"><span class="enumeration_section">134.6</span> DBMS_REPAIR示例</h3>
               <div>
                  <p>本主题显示DBMS_REPAIR用法的示例。</p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">/ *修复模块sys * / EXECUTE DBMS_REPAIR.SEGMENT_FIX_STATUS（'SYS'，'MYTAB'）中表mytab中所有块的位图状态; / *标记块号45，sys模式中的表mytab的文件号1为FULL。* / EXECUTE DBMS_REPAIR.SEGMENT_FIX_STATUS（'SYS'，'MYTAB'，TABLE_OBJECT，1,45,1）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67545"></a><a id="ARPLS67546"></a><a id="ARPLS67546"></a><a id="ARPLS67545"></a><div class="props_rev_3"><a id="GUID-D136544C-8027-4CA5-825D-6B9FFA884841" name="GUID-D136544C-8027-4CA5-825D-6B9FFA884841"></a><h3 id="ARPLS-GUID-D136544C-8027-4CA5-825D-6B9FFA884841" class="sect3"><span class="enumeration_section">134.7</span> DBMS_REPAIR子程序摘要</h3>
               <div>
                  <p>该表列出了<code class="codeph">DBMS_REPAIR</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-D136544C-8027-4CA5-825D-6B9FFA884841__GUID-32A331F9-EC68-45BD-8B74-502C3D468454">
                     <p class="titleintable">表134-3 DBMS_REPAIR包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_REPAIR包子程序" width="100%" border="1" summary="This table lists the DBMS_REPAIR subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d708593e1315">子程序</th>
                              <th align="left" valign="bottom" width="65%" id="d708593e1318">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d708593e1323" headers="d708593e1315 ">
                                 <p><a href="DBMS_REPAIR.html#GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303" title="此过程为DBMS_REPAIR程序包修复和孤立密钥表提供管理功能。">ADMIN_TABLES过程</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d708593e1323 d708593e1318 ">
                                 <p>为<code class="codeph">DBMS_REPAIR</code>包修复和孤立密钥表提供管理功能，包括创建，清除和删除功能</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d708593e1341" headers="d708593e1315 ">
                                 <p><a href="DBMS_REPAIR.html#GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49" title="此过程检查指定的对象，并使用有关损坏和修复指令的信息填充修复表。">CHECK_OBJECT程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d708593e1341 d708593e1318 ">
                                 <p>检测并报告表或索引中的损坏</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d708593e1353" headers="d708593e1315 ">
                                 <p><a href="DBMS_REPAIR.html#GUID-9ACFAE34-3B8D-4A7F-8671-509353B959B9" title="此过程报告指向损坏数据块中的行的索引条目。对于遇到的每个此类索引条目，将在指定的孤立表中插入一行。">DUMP_ORPHAN_KEYS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d708593e1353 d708593e1318 ">
                                 <p>报告指向损坏数据块中的行的索引条目</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d708593e1365" headers="d708593e1315 ">
                                 <p><a href="DBMS_REPAIR.html#GUID-D594524A-57CC-4D7F-8801-2057070512F3" title="此过程根据先前由CHECK_OBJECT过程生成的修复表中的信息修复指定对象中的损坏块。">FIX_CORRUPT_BLOCKS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d708593e1365 d708593e1318 ">
                                 <p>标记阻止先前已被<code class="codeph">CHECK_OBJECT</code>检测为已损坏的软件损坏</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d708593e1379" headers="d708593e1315 ">
                                 <p><a href="DBMS_REPAIR.html#GUID-05BE0402-6B4F-479E-8B91-3E3031E0CBF5" title="此函数执行手动清除失败或中断的联机索引构建或重建。">ONLINE_INDEX_CLEAN函数</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d708593e1379 d708593e1318 ">
                                 <p>执行手动清除失败或中断的联机索引构建或重建</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d708593e1391" headers="d708593e1315 ">
                                 <p><a href="DBMS_REPAIR.html#GUID-1F9B7342-ADD5-43F8-BD20-38E629D21E8F" title="此过程重建指定对象的空闲列表。">REBUILD_FREELISTS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d708593e1391 d708593e1318 ">
                                 <p>重建对象的freelists</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d708593e1403" headers="d708593e1315 ">
                                 <p><a href="DBMS_REPAIR.html#GUID-1EFF2D5F-7764-4A80-803D-AB0A4D9C8A2F" title="使用此过程，您可以修复位图条目的损坏状态。该过程要么根据相应块的当前内容重新计算状态，要么将状态设置为特定值。">SEGMENT_FIX_STATUS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d708593e1403 d708593e1318 ">
                                 <p>修复位图条目的损坏状态</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d708593e1415" headers="d708593e1315 ">
                                 <p><a href="DBMS_REPAIR.html#GUID-F86D3785-6305-4429-9DC4-082BF530312C" title="此过程启用或禁用在指定对象的索引和表扫描期间跳过损坏的块。">SKIP_CORRUPT_BLOCKS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d708593e1415 d708593e1318 ">
                                 <p>设置是否在表和索引扫描期间忽略标记为损坏的块，或者在遇到标记为损坏的块时报告<code class="codeph">ORA-1578</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS67547"></a><a id="ARPLS67548"></a><a id="ARPLS67548"></a><a id="ARPLS67547"></a><div class="props_rev_3"><a id="GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303" name="GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303"></a><h4 id="ARPLS-GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303" class="sect4"><span class="enumeration_section">134.7.1</span> ADMIN_TABLES过程</h4>
                  <div>
                     <p>此过程为<code class="codeph">DBMS_REPAIR</code>程序包修复和孤立密钥表提供管理功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303__GUID-3B424FD1-A657-468E-B2EE-830AD6045517">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_REPAIR.ADMIN_TABLES（table_name IN VARCHAR2，table_type IN BINARY_INTEGER，action IN BINARY_INTEGER，tablespace IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303__GUID-9427D68D-5829-4EF0-8485-658319AC8722">参数</p>
                        <div class="tblformal" id="GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303__GUID-773A12B8-4ED3-45AA-9109-2CD8232D9F4B">
                           <p class="titleintable">表134-4 ADMIN_TABLES过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADMIN_TABLES过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_REPAIR.ADMIN_TABLES subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d708593e1542">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d708593e1545">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1550" headers="d708593e1542 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1550 d708593e1545 ">
                                       <p>要处理的表的名称。根据指定的<code class="codeph">table_type</code>默认为<code class="codeph">ORPHAN_KEY_TABLE</code>或<code class="codeph">REPAIR_TABLE</code> 。指定时，表名必须具有相应的前缀： <code class="codeph">ORPHAN_</code>或<code class="codeph">REPAIR_</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1573" headers="d708593e1542 ">
                                       <p><code class="codeph">TABLE_TYPE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1573 d708593e1545 ">
                                       <p>表格类型;必须是<code class="codeph">ORPHAN_TABLE</code>或<code class="codeph">REPAIR_TABLE</code> 。</p>
                                       <p>请参阅<span class="q">“ <a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="DBMS_REPAIR包定义了几个应该用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_REPAIR.TABLE_OBJECT。">常量</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1606" headers="d708593e1542 ">
                                       <p><code class="codeph">行动</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1606 d708593e1545 ">
                                       <p>指示要执行的管理操作。</p>
                                       <p>必须是<code class="codeph">CREATE_ACTION</code> ， <code class="codeph">PURGE_ACTION</code>或<code class="codeph">DROP_ACTION</code> 。如果表已存在，并且指定了<code class="codeph">CREATE_ACTION</code> ，则返回错误。<code class="codeph">PURGE_ACTION</code>表示删除表中与不存在的对象关联的所有行。如果该表不存在，并且指定了<code class="codeph">DROP_ACTION</code> ，则返回错误。
                                       </p>
                                       <p>指定<code class="codeph">CREATE_ACTION</code>和<code class="codeph">DROP_ACTION</code> ，将分别创建和删除名为<code class="codeph">DBA_&lt;table_name&gt;</code>的关联视图。定义视图，以便消除与不存在的对象关联的行。
                                       </p>
                                       <p>在<code class="codeph">SYS</code>架构中创建。
                                       </p>
                                       <p>请参阅<span class="q">“ <a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="DBMS_REPAIR包定义了几个应该用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_REPAIR.TABLE_OBJECT。">常量</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1670" headers="d708593e1542 ">
                                       <p><code class="codeph">表空间</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1670 d708593e1545 ">
                                       <p>表示创建表时要使用的表空间。</p>
                                       <p>默认情况下，使用<code class="codeph">SYS</code>默认表空间。如果指定了表空间且操作不是<code class="codeph">CREATE_ACTION</code> ，则会返回错误。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67549"></a><a id="ARPLS67550"></a><a id="ARPLS67550"></a><a id="ARPLS67549"></a><div class="props_rev_3"><a id="GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49" name="GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49"></a><h4 id="ARPLS-GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49" class="sect4"><span class="enumeration_section">134.7.2</span> CHECK_OBJECT程序</h4>
                  <div>
                     <p>此过程检查指定的对象，并使用有关损坏和修复指令的信息填充修复表。</p>
                     <div class="section">
                        <p>验证包括块检查对象中的所有块。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49__GUID-196C86B9-4ADD-4ABD-8969-E30AF44BCFE6">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_REPAIR.CHECK_OBJECT（schema_name IN VARCHAR2，object_name IN VARCHAR2，partition_name IN VARCHAR2 DEFAULT NULL，object_type IN BINARY_INTEGER DEFAULT TABLE_OBJECT，repair_table_name IN VARCHAR2 DEFAULT'RECAIR_TABLE'，flags IN BINARY_INTEGER DEFAULT NULL，relative_fno IN BINARY_INTEGER DEFAULT NULL，block_start IN BINARY_INTEGER DEFAULT NULL， block_end IN BINARY_INTEGER DEFAULT NULL，corrupt_count OUT BINARY_INTEGER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49__GUID-1A6C132A-7B01-4FA9-A9A8-CEC783D0D744">参数</p>
                        <div class="tblformal" id="GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49__GUID-146216BD-D398-4D75-A038-249753A2EB51">
                           <p class="titleintable">表134-5 CHECK_OBJECT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CHECK_OBJECT过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_REPAIR.CHECK_OBJECT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d708593e1799">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d708593e1802">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1807" headers="d708593e1799 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1807 d708593e1802 ">
                                       <p>要检查的对象的模式名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1815" headers="d708593e1799 ">
                                       <p><code class="codeph">OBJECT_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1815 d708593e1802 ">
                                       <p>要检查的表或索引的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1823" headers="d708593e1799 ">
                                       <p><code class="codeph">的partition_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1823 d708593e1802 ">
                                       <p>要检查的分区或子分区名称。</p>
                                       <p>如果这是一个分区对象，如果<code class="codeph">partition_name</code>没有指定，那么所有分区和子进行检查。如果这是分区对象，并且指定的分区包含子分区，则检查所有子分区。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1836" headers="d708593e1799 ">
                                       <p><code class="codeph">OBJECT_TYPE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1836 d708593e1802 ">
                                       <p>要处理的对象的类型。这必须是<code class="codeph">TABLE_OBJECT</code> （默认值）或<code class="codeph">INDEX_OBJECT</code> 。</p>
                                       <p>请参阅<span class="q">“ <a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="DBMS_REPAIR包定义了几个应该用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_REPAIR.TABLE_OBJECT。">常量</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1869" headers="d708593e1799 ">
                                       <p><code class="codeph">repair_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1869 d708593e1802 ">
                                       <p>要填充的修复表的名称。</p>
                                       <p>该表必须存在于<code class="codeph">SYS</code>模式中。使用<code class="codeph">ADMIN_TABLES</code>过程创建修复表。默认名称为<code class="codeph">REPAIR_TABLE</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1888" headers="d708593e1799 ">
                                       <p><code class="codeph">旗</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1888 d708593e1802 ">
                                       <p>保留供将来使用。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1896" headers="d708593e1799 ">
                                       <p><code class="codeph">relative_fno</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1896 d708593e1802 ">
                                       <p>相对文件号：指定块范围时使用。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1904" headers="d708593e1799 ">
                                       <p><code class="codeph">BLOCK_START</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1904 d708593e1802 ">
                                       <p>如果指定块范围，则首先处理块。仅当对象是单个表，分区或子分区时才可以指定。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1912" headers="d708593e1799 ">
                                       <p><code class="codeph">block_end</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1912 d708593e1802 ">
                                       <p>如果指定块范围，则处理的最后一个块。仅当对象是单个表，分区或子分区时才可以指定。如果只指定了<code class="codeph">block_start</code>或<code class="codeph">block_end</code>一个，则另一个默认分别为文件中的第一个或最后一个块。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1926" headers="d708593e1799 ">
                                       <p><code class="codeph">corrupt_count</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1926 d708593e1802 ">
                                       <p>报告的腐败数量。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49__GUID-DA4D40EA-B65A-4D43-9DC8-A948BA280B08">使用说明</p>
                        <p>如果要检查对象的一部分，可以选择指定DBA范围，分区名称或子分区名称。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67551"></a><a id="ARPLS67552"></a><a id="ARPLS67552"></a><a id="ARPLS67551"></a><div class="props_rev_3"><a id="GUID-9ACFAE34-3B8D-4A7F-8671-509353B959B9" name="GUID-9ACFAE34-3B8D-4A7F-8671-509353B959B9"></a><h4 id="ARPLS-GUID-9ACFAE34-3B8D-4A7F-8671-509353B959B9" class="sect4"><span class="enumeration_section">134.7.3</span> DUMP_ORPHAN_KEYS过程</h4>
                  <div>
                     <p>此过程报告指向损坏数据块中的行的索引条目。对于遇到的每个此类索引条目，将在指定的孤立表中插入一行。</p>
                     <div class="section">
                        <p>如果指定了修复表，则除了标记为软件损坏的所有数据块之外，还将处理与基表关联的任何损坏块。否则，仅处理标记为损坏的块。</p>
                        <p>此信息可用于重建表中丢失的行以及用于诊断目的。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9ACFAE34-3B8D-4A7F-8671-509353B959B9__GUID-F16F0F7A-0767-420A-8EF0-48FA9DE3BEF9">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_REPAIR.DUMP_ORPHAN_KEYS（schema_name IN VARCHAR2，object_name IN VARCHAR2，partition_name IN VARCHAR2 DEFAULT NULL，object_type IN BINARY_INTEGER DEFAULT INDEX_OBJECT，repair_table_name IN VARCHAR2 DEFAULT'RECAIR_TABLE'，orphan_table_name IN VARCHAR2 DEFAULT'ORPHAN_KEYS_TABLE'，标志IN BINARY_INTEGER DEFAULT NULL，key_count OUT BINARY_INTEGER） ;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9ACFAE34-3B8D-4A7F-8671-509353B959B9__GUID-24E7946E-74B6-479E-91C6-4C7D37320103">参数</p>
                        <div class="tblformal" id="GUID-9ACFAE34-3B8D-4A7F-8671-509353B959B9__GUID-AA758C48-AAFD-4D8B-8286-9BAE0539835E">
                           <p class="titleintable">表134-6 DUMP_ORPHAN_KEYS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DUMP_ORPHAN_KEYS过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_REPAIR.DUMP_ORPHAN_KEYS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d708593e2053">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d708593e2056">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2061" headers="d708593e2053 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2061 d708593e2056 ">
                                       <p>架构名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2069" headers="d708593e2053 ">
                                       <p><code class="codeph">OBJECT_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2069 d708593e2056 ">
                                       <p>对象名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2077" headers="d708593e2053 ">
                                       <p><code class="codeph">的partition_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2077 d708593e2056 ">
                                       <p>要处理的分区或子分区名称。</p>
                                       <p>如果这是一个分区对象，并且如果<code class="codeph">partition_name</code>未指定，则所有分区和子进行处理。如果这是分区对象，并且指定的分区包含子分区，则处理所有子分区。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2090" headers="d708593e2053 ">
                                       <p><code class="codeph">OBJECT_TYPE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2090 d708593e2056 ">
                                       <p>要处理的对象的类型。默认值为<code class="codeph">INDEX_OBJECT</code> 
                                       </p>
                                       <p>请参阅<span class="q">“ <a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="DBMS_REPAIR包定义了几个应该用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_REPAIR.TABLE_OBJECT。">常量</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2120" headers="d708593e2053 ">
                                       <p><code class="codeph">repair_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2120 d708593e2056 ">
                                       <p>包含有关基表中损坏块的信息的修复表的名称。</p>
                                       <p>指定的表必须存在于<code class="codeph">SYS</code>模式中。<code class="codeph">ADMIN_TABLES</code>过程用于创建表。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2136" headers="d708593e2053 ">
                                       <p><code class="codeph">orphan_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2136 d708593e2056 ">
                                       <p>要填充有关引用损坏数据块中的行的每个索引条目的信息的孤立密钥表的名称。</p>
                                       <p>指定的表必须存在于<code class="codeph">SYS</code>模式中。<code class="codeph">ADMIN_TABLES</code>过程用于创建表。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2152" headers="d708593e2053 ">
                                       <p><code class="codeph">旗</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2152 d708593e2056 ">
                                       <p>保留供将来使用。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2160" headers="d708593e2053 ">
                                       <p><code class="codeph">key_count</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2160 d708593e2056 ">
                                       <p>处理的索引条目数。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67553"></a><a id="ARPLS67554"></a><a id="ARPLS67554"></a><a id="ARPLS67553"></a><div class="props_rev_3"><a id="GUID-D594524A-57CC-4D7F-8801-2057070512F3" name="GUID-D594524A-57CC-4D7F-8801-2057070512F3"></a><h4 id="ARPLS-GUID-D594524A-57CC-4D7F-8801-2057070512F3" class="sect4"><span class="enumeration_section">134.7.4</span> FIX_CORRUPT_BLOCKS过程</h4>
                  <div>
                     <p>此过程根据先前由CHECK_OBJECT过程生成的修复表中的信息修复指定对象中的损坏块。</p>
                     <div class="section">
                        <p>在对块进行任何更改之前，将检查块以确保块仍然损坏。通过标记块软件损坏来修复损坏的块。进行修复时，修复表中的关联行将使用修复时间戳进行更新。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D594524A-57CC-4D7F-8801-2057070512F3__GUID-A241F751-DA60-4E57-9D1B-E7739B462BB1">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_REPAIR.FIX_CORRUPT_BLOCKS（schema_name IN VARCHAR2，object_name IN VARCHAR2，partition_name IN VARCHAR2 DEFAULT NULL，object_type IN BINARY_INTEGER DEFAULT TABLE_OBJECT，repair_table_name IN VARCHAR2 DEFAULT'RECAIR_TABLE'，标志IN BINARY_INTEGER DEFAULT NULL，fix_count OUT BINARY_INTEGER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D594524A-57CC-4D7F-8801-2057070512F3__GUID-71BD66E7-815A-4086-A9E7-59979921A83A">参数</p>
                        <div class="tblformal" id="GUID-D594524A-57CC-4D7F-8801-2057070512F3__GUID-6D5F60AC-4712-4FFE-B8DB-ECFEB004CDCD">
                           <p class="titleintable">表134-7 FIX_CORRUPT_BLOCKS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="FIX_CORRUPT_BLOCKS过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_REPAIR.FIX_CORRUPT_BLOCKS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d708593e2280">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d708593e2283">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2288" headers="d708593e2280 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2288 d708593e2283 ">
                                       <p>架构名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2296" headers="d708593e2280 ">
                                       <p><code class="codeph">OBJECT_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2296 d708593e2283 ">
                                       <p>具有要修复的损坏块的对象的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2304" headers="d708593e2280 ">
                                       <p><code class="codeph">的partition_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2304 d708593e2283 ">
                                       <p>要处理的分区或子分区名称。</p>
                                       <p>如果这是一个分区对象，并且如果<code class="codeph">partition_name</code>未指定，则所有分区和子进行处理。如果这是分区对象，并且指定的分区包含子分区，则处理所有子分区。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2317" headers="d708593e2280 ">
                                       <p><code class="codeph">OBJECT_TYPE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2317 d708593e2283 ">
                                       <p>要处理的对象的类型。这必须是<code class="codeph">TABLE_OBJECT</code> （默认值）或<code class="codeph">INDEX_OBJECT</code> 。</p>
                                       <p>请参阅<span class="q">“ <a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="DBMS_REPAIR包定义了几个应该用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_REPAIR.TABLE_OBJECT。">常量</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2350" headers="d708593e2280 ">
                                       <p><code class="codeph">repair_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2350 d708593e2283 ">
                                       <p>带修复指令的修复表的名称。</p>
                                       <p>必须存在于<code class="codeph">SYS</code>架构中。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2363" headers="d708593e2280 ">
                                       <p><code class="codeph">旗</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2363 d708593e2283 ">
                                       <p>保留供将来使用。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2371" headers="d708593e2280 ">
                                       <p><code class="codeph">fix_count</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2371 d708593e2283 ">
                                       <p>固定的块数。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_REPAIR.html#GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49" title="此过程检查指定的对象，并使用有关损坏和修复指令的信息填充修复表。">CHECK_OBJECT程序</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS67555"></a><a id="ARPLS67556"></a><a id="ARPLS67556"></a><a id="ARPLS67555"></a><div class="props_rev_3"><a id="GUID-05BE0402-6B4F-479E-8B91-3E3031E0CBF5" name="GUID-05BE0402-6B4F-479E-8B91-3E3031E0CBF5"></a><h4 id="ARPLS-GUID-05BE0402-6B4F-479E-8B91-3E3031E0CBF5" class="sect4"><span class="enumeration_section">134.7.5</span> ONLINE_INDEX_CLEAN函数</h4>
                  <div>
                     <p>此函数执行手动清除失败或中断的联机索引构建或重建。</p>
                     <div class="section">
                        <p>无论用户启动的清理如何，SMON也会定期执行此操作。</p>
                        <p>如果指定的所有索引都已清除，则此函数返回<code class="codeph">TRUE</code>如果无法清除一个或多个索引，则此函数返回<code class="codeph">FALSE</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-05BE0402-6B4F-479E-8B91-3E3031E0CBF5__GUID-9D607683-8125-4CA3-869E-E2226AE4BD50">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_REPAIR.ONLINE_INDEX_CLEAN（object_id IN BINARY_INTEGER DEFAULT ALL_INDEX_ID，wait_for_lock IN BINARY_INTEGER DEFAULT LOCK_WAIT）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-05BE0402-6B4F-479E-8B91-3E3031E0CBF5__GUID-6C0E2ACE-66B4-4E9A-A3CD-09E21F34133F">参数</p>
                        <div class="tblformal" id="GUID-05BE0402-6B4F-479E-8B91-3E3031E0CBF5__GUID-6B764D50-0E52-4EE6-97B5-8B4E8B89A327">
                           <p class="titleintable">表134-8 ONLINE_INDEX_CLEAN函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ONLINE_INDEX_CLEAN函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_REPAIR.ONLINE_INDEX_CLEAN subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d708593e2508">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d708593e2511">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2516" headers="d708593e2508 ">
                                       <p><code class="codeph">OBJECT_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2516 d708593e2511 ">
                                       <p>要清理的索引的对象ID。默认情况下会清除所有符合条件的对象ID。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2524" headers="d708593e2508 ">
                                       <p><code class="codeph">wait_for_lock</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2524 d708593e2511 ">
                                       <p>此参数指定是否尝试在基础表[[sub] partition]对象上获取DML锁。默认重试最多为内部重试限制，之后锁定get将放弃。如果指定了<code class="codeph">LOCK_NOWAIT</code> ，则lock get不会重试。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67557"></a><a id="ARPLS67558"></a><a id="ARPLS67558"></a><a id="ARPLS67557"></a><div class="props_rev_3"><a id="GUID-1F9B7342-ADD5-43F8-BD20-38E629D21E8F" name="GUID-1F9B7342-ADD5-43F8-BD20-38E629D21E8F"></a><h4 id="ARPLS-GUID-1F9B7342-ADD5-43F8-BD20-38E629D21E8F" class="sect4"><span class="enumeration_section">134.7.6</span> REBUILD_FREELISTS程序</h4>
                  <div>
                     <p>此过程重建指定对象的空闲列表。</p>
                     <div class="section">
                        <p>所有空闲块都放在主空闲列表上。所有其他空闲列表都归零。</p>
                        <p>如果对象具有多个空闲列表组，则空闲块在所有空闲列表中分布，以循环方式分配给不同的组。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F9B7342-ADD5-43F8-BD20-38E629D21E8F__GUID-5465D0B9-C0F7-49FD-B7DE-F038D9B59A61">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_REPAIR.REBUILD_FREELISTS（schema_name IN VARCHAR2，object_name IN VARCHAR2，partition_name IN VARCHAR2 DEFAULT NULL，object_type IN BINARY_INTEGER DEFAULT TABLE_OBJECT）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F9B7342-ADD5-43F8-BD20-38E629D21E8F__GUID-C633AE91-8C34-4028-A790-0F830B747878">参数</p>
                        <div class="tblformal" id="GUID-1F9B7342-ADD5-43F8-BD20-38E629D21E8F__GUID-E76DB711-2EFD-46CA-BB08-48A58D3AB8F8">
                           <p class="titleintable">表134-9 REBUILD_FREELISTS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REBUILD_FREELISTS过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_REPAIR.REBUILD_FREELISTS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d708593e2649">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d708593e2652">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2657" headers="d708593e2649 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2657 d708593e2652 ">
                                       <p>架构名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2665" headers="d708593e2649 ">
                                       <p><code class="codeph">OBJECT_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2665 d708593e2652 ">
                                       <p>要重建其freelist的对象的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2673" headers="d708593e2649 ">
                                       <p><code class="codeph">的partition_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2673 d708593e2652 ">
                                       <p>要重建其空闲列表的分区或子分区名称。</p>
                                       <p>如果这是分区对象，并且未指定partition_name，则处理所有分区和子分区。如果这是分区对象，并且指定的分区包含子分区，则处理所有子分区。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2683" headers="d708593e2649 ">
                                       <p><code class="codeph">OBJECT_TYPE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2683 d708593e2652 ">
                                       <p>要处理的对象的类型。这必须是<code class="codeph">TABLE_OBJECT</code> （默认值）或<code class="codeph">INDEX_OBJECT</code> 。</p>
                                       <p>请参阅<span class="q">“ <a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="DBMS_REPAIR包定义了几个应该用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_REPAIR.TABLE_OBJECT。">常量</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67559"></a><a id="ARPLS67560"></a><a id="ARPLS67560"></a><a id="ARPLS67559"></a><div class="props_rev_3"><a id="GUID-1EFF2D5F-7764-4A80-803D-AB0A4D9C8A2F" name="GUID-1EFF2D5F-7764-4A80-803D-AB0A4D9C8A2F"></a><h4 id="ARPLS-GUID-1EFF2D5F-7764-4A80-803D-AB0A4D9C8A2F" class="sect4"><span class="enumeration_section">134.7.7</span> SEGMENT_FIX_STATUS程序</h4>
                  <div>
                     <p>使用此过程，您可以修复位图条目的损坏状态。该过程要么根据相应块的当前内容重新计算状态，要么将状态设置为特定值。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1EFF2D5F-7764-4A80-803D-AB0A4D9C8A2F__GUID-CB1A2329-00F7-4360-9EA1-F980ACAB6CEA">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_REPAIR.SEGMENT_FIX_STATUS（segment_owner IN VARCHAR2，segment_name IN VARCHAR2，segment_type IN BINARY_INTEGER DEFAULT TABLE_OBJECT，file_number IN BINARY_INTEGER DEFAULT NULL，block_number IN BINARY_INTEGER DEFAULT NULL，status_value IN BINARY_INTEGER DEFAULT NULL，partition_name IN VARCHAR2 DEFAULT NULL，）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1EFF2D5F-7764-4A80-803D-AB0A4D9C8A2F__GUID-61E255F9-755F-41D5-858C-9D95F6C67224">参数</p>
                        <div class="tblformal" id="GUID-1EFF2D5F-7764-4A80-803D-AB0A4D9C8A2F__GUID-058104C6-36AB-46D8-96BA-A03A33BBDA66">
                           <p class="titleintable">表134-10 SEGMENT_FIX_STATUS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SEGMENT_FIX_STATUS过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_REPAIR.SEGMENT_FIX_STATUS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d708593e2825">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d708593e2828">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2833" headers="d708593e2825 ">
                                       <p><code class="codeph">schema_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2833 d708593e2828 ">
                                       <p>段的架构名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2841" headers="d708593e2825 ">
                                       <p><code class="codeph">SEGMENT_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2841 d708593e2828 ">
                                       <p>细分名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2849" headers="d708593e2825 ">
                                       <p><code class="codeph">的partition_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2849 d708593e2828 ">
                                       <p>可选的。单个分区的名称。非分区对象为<code class="codeph">NULL</code> 。默认值为<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2863" headers="d708593e2825 ">
                                       <p><code class="codeph">段类型</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2863 d708593e2828 ">
                                       <p>可选的段类型（例如， <code class="codeph">TABLE_OBJECT</code>或<code class="codeph">INDEX_OBJECT</code> ）。默认值为<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2880" headers="d708593e2825 ">
                                       <p><code class="codeph">文件编号</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2880 d708593e2828 ">
                                       <p>（可选）必须修复其状态的数据块的表空间相对文件号。如果省略，将检查段中的所有块的状态正确性并修复。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2888" headers="d708593e2825 ">
                                       <p><code class="codeph">段号</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2888 d708593e2828 ">
                                       <p>（可选）必须修复其状态的数据块的文件相关块编号。如果省略，将检查段中的所有块的状态正确性并修复。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2896" headers="d708593e2825 ">
                                       <p><code class="codeph">STATUS_VALUE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2896 d708593e2828 ">
                                       <p>（可选）将设置<code class="codeph">file_number</code>和<code class="codeph">block_number</code>描述的块状态的值。如果省略，将根据块的当前状态设置状态。这几乎总是如此，但如果计算算法中存在错误，则可以手动设置该值。状态值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>1 =块已满</p>
                                          </li>
                                          <li>
                                             <p>2 =块是0-25％免费</p>
                                          </li>
                                          <li>
                                             <p>3 =块是免费的25-50％</p>
                                          </li>
                                          <li>
                                             <p>4 =阻止50-75％免费</p>
                                          </li>
                                          <li>
                                             <p>5 =块是75-100％免费</p>
                                          </li>
                                       </ul>
                                       <p>位图块，段标题和范围映射块的状态不能更改。无法更改固定哈希区域中块的状态。对于索引块，只有两种可能的状态：1 =块已满，3 =块有可用空间。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67561"></a><a id="ARPLS67562"></a><a id="ARPLS67562"></a><a id="ARPLS67561"></a><div class="props_rev_3"><a id="GUID-F86D3785-6305-4429-9DC4-082BF530312C" name="GUID-F86D3785-6305-4429-9DC4-082BF530312C"></a><h4 id="ARPLS-GUID-F86D3785-6305-4429-9DC4-082BF530312C" class="sect4"><span class="enumeration_section">134.7.8</span> SKIP_CORRUPT_BLOCKS过程</h4>
                  <div>
                     <p>此过程启用或禁用在指定对象的索引和表扫描期间跳过损坏的块。</p>
                     <div class="section">
                        <p>当对象是表时，skip将应用于表及其索引。当对象是群集时，它将应用于群集中的所有表及其各自的索引。</p>
                        <div class="infoboxnote" id="GUID-F86D3785-6305-4429-9DC4-082BF530312C__GUID-FD81204C-311A-435C-B535-2452E63B644A">
                           <p class="notep1">注意：</p>
                           <p>当Oracle在为基表设置DBMS_REPAIR.SKIP_CORRUPT_BLOCKS后对损坏的索引执行索引范围扫描时，不会跳过损坏的分支块和根块。仅跳过损坏的非根叶块。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F86D3785-6305-4429-9DC4-082BF530312C__GUID-264D6B59-6279-48A7-A540-985A4DBEA1C5">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_REPAIR.SKIP_CORRUPT_BLOCKS（schema_name IN VARCHAR2，object_name IN VARCHAR2，object_type IN BINARY_INTEGER DEFAULT TABLE_OBJECT，标记IN BINARY_INTEGER DEFAULT SKIP_FLAG）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F86D3785-6305-4429-9DC4-082BF530312C__GUID-0E8F7587-6DF4-495D-81D2-7FB5915F7476">参数</p>
                        <div class="tblformal" id="GUID-F86D3785-6305-4429-9DC4-082BF530312C__GUID-489A7C8F-5BD2-46F9-BD4C-5CDC30579580">
                           <p class="titleintable">表134-11 SKIP_CORRUPT_BLOCKS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SKIP_CORRUPT_BLOCKS过程参数" width="100%" border="1" summary="This table describes the parameters used by the DBMS_REPAIR.SKIP_CORRUPT_BLOCKS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d708593e3044">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d708593e3047">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e3052" headers="d708593e3044 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e3052 d708593e3047 ">
                                       <p>要处理的对象的模式名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e3060" headers="d708593e3044 ">
                                       <p><code class="codeph">OBJECT_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e3060 d708593e3047 ">
                                       <p>对象的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e3068" headers="d708593e3044 ">
                                       <p><code class="codeph">OBJECT_TYPE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e3068 d708593e3047 ">
                                       <p>要处理的对象的类型。这必须是<code class="codeph">TABLE_OBJECT</code> （默认）或<code class="codeph">CLUSTER_OBJECT</code> 。</p>
                                       <p>请参阅<span class="q">“ <a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="DBMS_REPAIR包定义了几个应该用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_REPAIR.TABLE_OBJECT。">常量</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e3101" headers="d708593e3044 ">
                                       <p><code class="codeph">旗</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e3101 d708593e3047 ">
                                       <p>如果指定了<code class="codeph">SKIP_FLAG</code> ，则它会在索引和表扫描期间打开对象的软件损坏块的跳过。如果指定了<code class="codeph">NOSKIP_FLAG</code> ，则遇到软件损坏块的扫描将返回<code class="codeph">ORA</code> - <code class="codeph">1578</code> 。
                                       </p>
                                       <p>请参阅<span class="q">“ <a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="DBMS_REPAIR包定义了几个应该用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_REPAIR.TABLE_OBJECT。">常量</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01557.troubleshooting-rman-operations.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>RMAN操作疑难解答</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Backup and Recovery User&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Backup and Recovery User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-backup-and-recovery-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T05:20:45-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96241-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="tuning-rman-performance.html" title="Previous" type="text/html"></link>
      <link rel="next" href="part-transfering-data-rman.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="BRADV"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="tuning-rman-performance.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="part-transfering-data-rman.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">备份和恢复用户指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-rman-tuning-troubleshooting.html" property="item" typeof="WebPage"><span property="name">调整和故障排除</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">RMAN操作疑难解答</li>
            </ol>
            <a id="GUID-ABFD58BD-5D3B-4A6C-AA46-E085AE234D73" name="GUID-ABFD58BD-5D3B-4A6C-AA46-E085AE234D73"></a><a id="BRADV012"></a>
            
            <h2 id="BRADV-GUID-ABFD58BD-5D3B-4A6C-AA46-E085AE234D73" class="sect2"><span class="enumeration_chapter">24</span> RMAN操作疑难解答</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何对Recovery Manager进行故障排除。本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="troubleshooting-rman-operations.html#GUID-FC95B894-86E6-414C-A0A7-69D9768CDDFC" title="Recovery Manager提供详细的错误消息，可帮助解决问题。">解释RMAN消息输出</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-rman-operations.html#GUID-AD353573-E722-4D76-9361-9C0CA4C29FEB" title="当LIST，REPORT和SHOW不提供RMAN操作所需的所有信息时，某些V $视图可以提供有用的详细信息。">使用V $视图进行RMAN故障排除</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-rman-operations.html#GUID-B1E9715D-BD07-4B80-8158-33981138E679" title="在某些平台上，Oracle提供了一个名为sbttest的诊断工具。该实用程序通过充当Oracle数据库服务器并尝试与媒体管理器通信来执行对媒体管理软件的简单测试。">测试Media Management API</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-rman-operations.html#GUID-772C8583-7763-48AB-B404-747188EC718A" title="有几种方法可以在执行过程中终止RMAN命令。">终止RMAN命令</a></p>
                  </li>
               </ul>
            </div><a id="BRADV174"></a><div class="props_rev_3"><a id="GUID-FC95B894-86E6-414C-A0A7-69D9768CDDFC" name="GUID-FC95B894-86E6-414C-A0A7-69D9768CDDFC"></a><h3 id="BRADV-GUID-FC95B894-86E6-414C-A0A7-69D9768CDDFC" class="sect3"><span class="enumeration_section">24.1</span>解释RMAN消息输出</h3>
               <div>
                  <p>Recovery Manager提供详细的错误消息，可帮助解决问题。</p>
                  <p>此外，Oracle数据库和第三方媒体供应商生成自己的有用调试输出。以下讨论说明了如何识别和解释您可能遇到的不同错误。</p>
               </div><a id="BRADV411"></a><a id="BRADV89865"></a><div class="props_rev_3"><a id="GUID-19A3AA88-4778-4127-A10E-1BD9F2F5D9F8" name="GUID-19A3AA88-4778-4127-A10E-1BD9F2F5D9F8"></a><h4 id="BRADV-GUID-19A3AA88-4778-4127-A10E-1BD9F2F5D9F8" class="sect4"><span class="enumeration_section">24.1.1</span>识别RMAN消息输出的类型</h4>
                  <div>
                     <p>对故障排除失败或无响应的RMAN作业有用的输出位于几个不同的位置。</p>
                     <p>下表概述了可用于解决RMAN备份问题的消息输出的位置。</p>
                     <div class="tblformalwide" id="GUID-19A3AA88-4778-4127-A10E-1BD9F2F5D9F8__BGBBABDH">
                        <p class="titleintable">表24-1消息输出的类型</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="消息输出的类型" width="100%" border="1" summary="This table lists places to look for different message output useful in troubleshooting RMAN backup problems." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="12%" id="d105110e294">输出类型</th>
                                 <th align="left" valign="bottom" width="12%" id="d105110e298">由。。。生产</th>
                                 <th align="left" valign="bottom" width="38%" id="d105110e301">地点</th>
                                 <th align="left" valign="bottom" width="38%" id="d105110e304">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d105110e309" headers="d105110e294 ">
                                    <p>RMAN消息</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d105110e309 d105110e298 ">
                                    <p>RMAN</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e309 d105110e301 ">
                                    <p>已完成的职位信息位于<code class="codeph">V$RMAN_STATUS</code>和<code class="codeph">RC_RMAN_STATUS</code> 。当前的职位信息是<code class="codeph">V$RMAN_OUTPUT</code> 。</p>
                                    <p>从命令行运行RMAN时，可以将输出定向到以下位置：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>标准输出</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">LOG</code>在命令行或<code class="codeph">SPOOL</code> <code class="codeph">LOG</code>命令中指定的日志文件</p>
                                       </li>
                                       <li>
                                          <p>通过重定向RMAN输出创建的文件（例如，在UNIX中，使用' <code class="codeph">&gt;</code> '运算符）</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e309 d105110e304 ">
                                    <p>包含与RMAN作业相关的操作以及RMAN，数据库服务器和媒体供应商生成的错误消息。RMAN错误消息具有<code class="codeph">RMAN-</code>前缀。正常操作描述没有前缀。
                                    </p>
                                    <p>您可以执行以下PL / SQL以从<code class="codeph">V$RMAN_STATUS</code>删除所有条目：</p><pre class="oac_no_warn" dir="ltr">update node set high_rsr_recid = 0其中db_key = <span class="italic">our_target_database_db_ke</span> y;</pre><p>上述功能删除所有与作业相关的条目。在<code class="codeph">V$RMAN_BACKUP_JOB_DETAILS</code>中显示新的备份作业之前，没有行可见。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d105110e373" headers="d105110e294 ">
                                    <p><code class="codeph">alert_</code> <span class="italic">SID</span> <code class="codeph">.log</code></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d105110e373 d105110e298 ">
                                    <p>Oracle数据库</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e373 d105110e301 ">
                                    <p><a href="glossary.html#GUID-BDCE90D1-13B7-4D2C-A761-1583A238A247"><span class="xrefglossterm">自动诊断信息库（ADR）</span></a>主目录的<code class="codeph">alert</code>子目录</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e373 d105110e304 ">
                                    <p>包含按时间顺序排列的错误日志，初始化参数设置和管理操作。记录覆盖的控制文件记录的值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d105110e397" headers="d105110e294 ">
                                    <p>Oracle跟踪文件</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d105110e397 d105110e298 ">
                                    <p>Oracle数据库</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e397 d105110e301 ">
                                    <p>ADR主目录的<code class="codeph">trace</code>子目录</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e397 d105110e304 ">
                                    <p>包含Oracle数据库进程生成的详细输出。发生<code class="codeph">ORA-600</code>或<code class="codeph">ORA-3113</code>错误消息时，只要RMAN无法分配通道，并且数据库无法加载媒体管理库，就会创建此文件。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d105110e419" headers="d105110e294 ">
                                    <p><code class="codeph">sbtio.log</code></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d105110e419 d105110e298 ">
                                    <p>第三方媒体管理软件</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e419 d105110e301 ">
                                    <p>ADR主目录的<code class="codeph">trace</code>子目录</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e419 d105110e304 ">
                                    <p>包含由媒体管理软件编写的特定于供应商的信息。此日志不包含Oracle数据库或RMAN错误。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d105110e436" headers="d105110e294 ">
                                    <p>媒体管理器日志文件</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d105110e436 d105110e298 ">
                                    <p>第三方媒体管理软件</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e436 d105110e301 ">
                                    <p>除<code class="codeph">sbtio.log</code>之外的任何媒体管理器日志的文件名由媒体管理软件确定。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e436 d105110e304 ">
                                    <p>包含有关媒体管理设备功能的信息</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-908BC873-9AC8-402B-9B13-4ECBD1A50F80" name="GUID-908BC873-9AC8-402B-9B13-4ECBD1A50F80"></a><h4 id="BRADV-GUID-908BC873-9AC8-402B-9B13-4ECBD1A50F80" class="sect4"><span class="enumeration_section">24.1.2</span>对长时间运行的RMAN操作进行故障诊断</h4>
                  <div>
                     <p>RMAN消息输出提供有关备份和恢复操作进度的信息。使用此信息可以采取任何必要的操作来解决卡住或等待资源的操作。</p>
                     <p>大型数据库的某些操作（如备份，还原，恢复和复制）通常需要很长时间才能完成。但是，并不总是清楚操作是在进行还是在等待某些资源。从Oracle Database Release 18c开始，RMAN消息输出包含指示作业是否在等待资源的其他日志记录信息。每隔10分钟，RMAN会检查处理的块数是否有变化。如果处理的块没有变化，则RMAN显示带有相关等待事件的消息。</p>
                     <p>以下是<code class="codeph">RESTORE</code>操作的RMAN输出示例：</p><pre class="pre codeblock"><code>已分配通道：c1通道c1：SID = 123设备类型= SBT_TAPE通道c1：警告：Oracle Test Disk API在18-JAN-18通道c1开始还原：启动数据文件备份集还原通道c1：指定要从中还原的数据文件备份集通道c1：将数据文件00002还原到/ade/b/2776899351/oracle/dbs/tbs_ax1.f通道c1：从备份片01sov1t4_1_1读取*****在2018-01-18 04检测到挂起***** ：11：23表示通道c1，INSTID：1，SID：123，串行：35831读取块没有变化，因此显示等待事件[总块数= 192000，块读取/恢复= 41530] Seq_No事件等待时间（mirco秒） 602备份：MML读取备份件38094371 *****检测到挂起在2018-01-18 04:11:33通道c1，INSTID：1，SID：123，序列号：35831读取没有变化块，因此显示等待事件[总块= 192000，块读取/恢复= 41530] Seq_No事件等待时间（mirco秒）602备份：MML读取备份片48106104通道c1：片句句柄= 01sov1t4_1_1标签= TAG20180118T 040804通道c1：恢复备份1通道c1：恢复完成，经过时间：00：02：35完成恢复18-JAN-18发布通道：c1</code></pre><p>输出表明由于媒体管理器读取操作出现问题而导致恢复被卡住。读取操作完成后，RMAN还原成功。</p>
                  </div>
               </div><a id="BRADV412"></a><a id="BRADV89866"></a><div class="props_rev_3"><a id="GUID-A2497F34-9030-4A43-AE3A-248B514D7FAA" name="GUID-A2497F34-9030-4A43-AE3A-248B514D7FAA"></a><h4 id="BRADV-GUID-A2497F34-9030-4A43-AE3A-248B514D7FAA" class="sect4"><span class="enumeration_section">24.1.3</span>识别RMAN错误消息堆栈</h4>
                  <div>
                     <p>RMAN会在发生错误时报告错误。如果错误无法检索，即，如果RMAN无法执行故障转移到另一个通道以完成特定作业步骤，则RMAN还会在所有作业集完成后报告错误摘要。此功能称为延迟错误报告。</p>
                     <div class="section">
                        <p>确定RMAN是否遇到错误的一种方法是检查其返回码。第二种方法是在RMAN输出中搜索字符串<code class="codeph">RMAN-00569</code> ，该字符串是错误堆栈<code class="codeph">RMAN-00569</code>的消息号。所有RMAN错误都以此错误消息开头。如果在输出中没有看到<code class="codeph">RMAN-00569</code>消息，则表示没有错误。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A2497F34-9030-4A43-AE3A-248B514D7FAA__BGBIHGBB">
                        <p class="titleinexample">例24-1 RMAN语法错误</p>
                        <p>此示例显示RMAN语法错误。<code class="codeph">RMAN-00569</code>消息后面跟着指示错误原因的其他错误消息。
                        </p><pre class="oac_no_warn" dir="ltr">RMAN-00571：============================================== ============= RMAN-00569：===============错误信息堆栈跟踪============== = RMAN-00571：============================================= ============== RMAN-00558：解析输入命令时遇到错误RMAN-01005：语法错误：找到“）”：期望以下之一：“archivelog，backup，backupset，controlfilecopy，current ，数据库，数据文件，datafilecopy，（加上，;，表空间“RMAN-01007：第1行第18列文件：标准输入</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-A2497F34-9030-4A43-AE3A-248B514D7FAA__GUID-F16E72D2-3B86-46AE-97BF-92D10B0099B5">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="troubleshooting-rman-operations.html#GUID-52F92FE9-4C46-4380-97CB-454E5C784E01" title="确定RMAN是否遇到错误的一种方法是检查其返回代码或退出状态。如果没有发生错误，RMAN客户端将0返回到调用它的shell，否则返回非零错误值。">识别RMAN返回代码</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89867"></a><div class="props_rev_3"><a id="GUID-86207589-FA0F-4F24-BEEE-A212E0059C7F" name="GUID-86207589-FA0F-4F24-BEEE-A212E0059C7F"></a><h4 id="BRADV-GUID-86207589-FA0F-4F24-BEEE-A212E0059C7F" class="sect4"><span class="enumeration_section">24.1.4</span>识别RMAN错误代码</h4>
                  <div>
                     <p>您可以使用RMAN消息堆栈中的错误代码来解决RMAN命令的问题。</p>
                     <p>通常，您在RMAN消息堆栈中找到以下类型的错误代码：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>以<code class="codeph">RMAN-</code>为前缀的错误 -</p>
                           <p>这些是RMAN错误。</p>
                        </li>
                        <li>
                           <p>以<code class="codeph">ORA-</code>为前缀的错误</p>
                           <p>媒体管理器错误使用<code class="codeph">ORA-</code>前缀。
                           </p>
                        </li>
                        <li>
                           <p>行前面的错误<code class="codeph">Additional information:</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-86207589-FA0F-4F24-BEEE-A212E0059C7F__GUID-2F0273F7-25AC-4D6D-AFCE-A5BD4117B9C0">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="troubleshooting-rman-operations.html#GUID-122ADB82-E15B-4104-B7C6-DE1752D8466E" title="RMAN error messages are prefixed with RMAN-.">RMAN错误消息数字</a>表示<a href="troubleshooting-rman-operations.html#GUID-122ADB82-E15B-4104-B7C6-DE1752D8466E" title="RMAN错误消息以RMAN-为前缀。">RMAN错误</a>的错误范围</p>
                           </li>
                           <li>
                              <p><a href="troubleshooting-rman-operations.html#GUID-B23435DA-149D-4BFF-BF03-0FA4B68D5020" title="如果发生媒体管理器错误，则发出ORA-19511信号，并且媒体管理器应该向RMAN提供描述性错误。RMAN显示媒体管理器传回给它的错误。">ORA-19511：介质管理器错误</a>的介质管理器错误的介质管理器错误</p>
                           </li>
                           <li>
                              <p><a href="../errmg/index.html" target="_blank"><span><cite>Oracle数据库错误消息参考，</cite></span></a>用于解释<code class="codeph">RMAN</code>和<code class="codeph">ORA</code>错误代码</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="BRADV413"></a><a id="BRADV89868"></a><div class="props_rev_3"><a id="GUID-122ADB82-E15B-4104-B7C6-DE1752D8466E" name="GUID-122ADB82-E15B-4104-B7C6-DE1752D8466E"></a><h5 id="BRADV-GUID-122ADB82-E15B-4104-B7C6-DE1752D8466E" class="sect5"><span class="enumeration_section">24.1.4.1</span> RMAN错误消息号</h5>
                     <div>
                        <p>RMAN错误消息以RMAN-为前缀。</p>
                        <p>下表显示了常见RMAN错误消息的错误范围，所有这些消息都在<a href="../errmg/RMAN-00201.html#ERRMG-GUID-8CF36220-DF1E-4BC7-A0B7-A95824301C2A" target="_blank"><span><cite>Oracle数据库错误消息参考中</cite></span></a>进行了描述。
                        </p>
                        <div class="tblformal" id="GUID-122ADB82-E15B-4104-B7C6-DE1752D8466E__G1014492">
                           <p class="titleintable">表24-2 RMAN错误消息范围</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RMAN错误消息范围" width="100%" border="1" summary="This table lists error number ranges associated with RMAN error messages and their likely causes." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d105110e879">误差范围</th>
                                    <th align="left" valign="bottom" width="80%" id="d105110e882">原因</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e887" headers="d105110e879 ">
                                       <p>0550-0999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e887 d105110e882 ">
                                       <p>命令行解释器</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e894" headers="d105110e879 ">
                                       <p>1000-1999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e894 d105110e882 ">
                                       <p>关键字分析器</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e901" headers="d105110e879 ">
                                       <p>2000-2999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e901 d105110e882 ">
                                       <p>语法分析器</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e908" headers="d105110e879 ">
                                       <p>3000-3999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e908 d105110e882 ">
                                       <p>主层</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e915" headers="d105110e879 ">
                                       <p>4000-4999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e915 d105110e882 ">
                                       <p>服务层</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e922" headers="d105110e879 ">
                                       <p>5000-5499</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e922 d105110e882 ">
                                       <p>编译<code class="codeph">RESTORE</code>或<code class="codeph">RECOVER</code>命令</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e935" headers="d105110e879 ">
                                       <p>5500-5999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e935 d105110e882 ">
                                       <p>编译<code class="codeph">DUPLICATE</code>命令</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e945" headers="d105110e879 ">
                                       <p>6000-6999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e945 d105110e882 ">
                                       <p>一般编译</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e952" headers="d105110e879 ">
                                       <p>7000-7999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e952 d105110e882 ">
                                       <p>一般执行</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e959" headers="d105110e879 ">
                                       <p>8000-8999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e959 d105110e882 ">
                                       <p>PL / SQL程序</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e966" headers="d105110e879 ">
                                       <p>9000-9999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e966 d105110e882 ">
                                       <p>低级关键字分析器</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e974" headers="d105110e879 ">
                                       <p>10000-10999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e974 d105110e882 ">
                                       <p>服务器端执行</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e981" headers="d105110e879 ">
                                       <p>11000-11999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e981 d105110e882 ">
                                       <p>PL / SQL和RMAN之间的相间错误</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e988" headers="d105110e879 ">
                                       <p>12000-12999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e988 d105110e882 ">
                                       <p>恢复目录包</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="BRADV414"></a><a id="BRADV89869"></a><div class="props_rev_3"><a id="GUID-B23435DA-149D-4BFF-BF03-0FA4B68D5020" name="GUID-B23435DA-149D-4BFF-BF03-0FA4B68D5020"></a><h5 id="BRADV-GUID-B23435DA-149D-4BFF-BF03-0FA4B68D5020" class="sect5"><span class="enumeration_section">24.1.4.2</span> ORA-19511：介质管理器错误</h5>
                     <div>
                        <p>如果发生媒体管理器错误，则发出<code class="codeph">ORA-19511</code>信号，并且媒体管理器应该向RMAN提供描述性错误。RMAN显示媒体管理器传回给它的错误。
                        </p>
                        <p>例如，您可能会看到：</p><pre class="oac_no_warn" dir="ltr">ORA-19511：从媒体管理器层收到错误，错误文本：sbtpvt_open_input：file。*不存在或无法访问，errno = 2</pre><p>来自媒体管理器的消息应该为您提供足够的信息，以便您解决根本问题。如果没有，请参阅媒体管理器的文档或与媒体管理供应商支持代表联系以获取更多信息。<code class="codeph">ORA-19511</code>错误源自媒体管理器，而不是Oracle数据库。数据库只传递来自媒体管理器的消息。原因只能由媒体管理供应商解决。
                        </p>
                        <p>如果您仍在使用符合SBT 1.1的媒体管理层，则可能会看到一些其他错误消息文本。符合SBT 1.1的媒体管理层的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">ORA-19507：无法检索顺序文件，handle =“c-140148591-20031014-06”，parms =“”ORA-27007：无法打开文件附加信息：7000附加信息：2 ORA-19511：从媒体收到错误管理器层，错误文本：SBT错误= 7000，错误= 0，sbtopen：找不到备份文件</pre><p>提供的“附加信息”使用特定于SBT 1.1的错误代码。显示的值对应于<a href="troubleshooting-rman-operations.html#GUID-B23435DA-149D-4BFF-BF03-0FA4B68D5020__G1014541" title="此表列出了SBT 1.1错误消息编号和相应的错误文本。">表24-3中</a>列出的媒体管理器消息编号和错误文本。RMAN再次发出错误信号，如<code class="codeph">Error received from media manager layer</code>的ORA-19511 <code class="codeph">Error received from media manager layer</code> ，然后显示与介质管理器返回的错误代码相关的一般错误消息，包括SBT 1.1错误编号。
                        </p>
                        <p>此处列出了SBT 1.1错误消息供您参考。<a href="troubleshooting-rman-operations.html#GUID-B23435DA-149D-4BFF-BF03-0FA4B68D5020__G1014541" title="此表列出了SBT 1.1错误消息编号和相应的错误文本。">表24-3</a>列出了介质管理器消息编号及其相应的错误文本。在错误代码中， <span class="italic"><code class="codeph">O/S</code></span>代表<span class="italic">操作系统</span> 。标有星号（*）的错误是内部错误，通常在正常操作期间看不到。
                        </p>
                        <div class="tblformal" id="GUID-B23435DA-149D-4BFF-BF03-0FA4B68D5020__G1014541">
                           <p class="titleintable">表24-3介质管理器错误消息范围</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="媒体管理器错误消息范围" width="100%" border="1" summary="This table lists SBT 1.1 error message numbers and corresponding error text.." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d105110e1129">原因</th>
                                    <th align="left" valign="bottom" width="20%" id="d105110e1132">没有。</th>
                                    <th align="left" valign="bottom" width="60%" id="d105110e1135">信息</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e1140" headers="d105110e1129 ">
                                       <p>sbtopen</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d105110e1140 d105110e1132 ">
                                       <p>7000</p>
                                       <p>7001</p>
                                       <p>7002 *</p>
                                       <p>7003</p>
                                       <p>7004</p>
                                       <p>7005</p>
                                       <p>7006</p>
                                       <p>7007</p>
                                       <p>7008</p>
                                       <p>7009</p>
                                       <p>7010</p>
                                       <p>7011</p>
                                       <p>7012 *</p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d105110e1140 d105110e1135 ">
                                       <p>找不到备份文件（仅返回读取）</p>
                                       <p>文件存在（仅返回写入）</p>
                                       <p>指定了错误模式</p>
                                       <p>指定的块大小无效</p>
                                       <p>找不到磁带设备</p>
                                       <p>找到设备，但很忙;稍后再试</p>
                                       <p>未找到磁带卷</p>
                                       <p>磁带卷正在使用中</p>
                                       <p>I / O错误</p>
                                       <p>无法与媒体管理器连接</p>
                                       <p>没有权限</p>
                                       <p>O / S错误，例如malloc，fork错误</p>
                                       <p>sbtopen的参数无效</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e1200" headers="d105110e1129 ">
                                       <p>sbtclose</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d105110e1200 d105110e1132 ">
                                       <p>7020 *</p>
                                       <p>7021 *</p>
                                       <p>7022</p>
                                       <p>7023</p>
                                       <p>7024 *</p>
                                       <p>7025</p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d105110e1200 d105110e1135 ">
                                       <p>无效的文件句柄或文件未打开</p>
                                       <p>sbtclose的标志无效</p>
                                       <p>I / O错误</p>
                                       <p>O / S错误</p>
                                       <p>sbtclose的参数无效</p>
                                       <p>无法与媒体管理器连接</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e1230" headers="d105110e1129 ">
                                       <p>sbtwrite</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d105110e1230 d105110e1132 ">
                                       <p>7040 *</p>
                                       <p>7041</p>
                                       <p>7042</p>
                                       <p>7043</p>
                                       <p>7044 *</p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d105110e1230 d105110e1135 ">
                                       <p>无效的文件句柄或文件未打开</p>
                                       <p>达到成交量</p>
                                       <p>I / O错误</p>
                                       <p>O / S错误</p>
                                       <p>sbtwrite的参数无效</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e1256" headers="d105110e1129 ">
                                       <p>sbtread</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d105110e1256 d105110e1132 ">
                                       <p>7060 *</p>
                                       <p>7061</p>
                                       <p>7062</p>
                                       <p>7063</p>
                                       <p>7064</p>
                                       <p>7065 *</p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d105110e1256 d105110e1135 ">
                                       <p>无效的文件句柄或文件未打开</p>
                                       <p>EOF遇到了</p>
                                       <p>达到成交量</p>
                                       <p>I / O错误</p>
                                       <p>O / S错误</p>
                                       <p>sbtread的参数无效</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e1286" headers="d105110e1129 ">
                                       <p>sbtremove</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d105110e1286 d105110e1132 ">
                                       <p>7080</p>
                                       <p>7081</p>
                                       <p>7082</p>
                                       <p>7083</p>
                                       <p>7084</p>
                                       <p>7085</p>
                                       <p>7086 *</p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d105110e1286 d105110e1135 ">
                                       <p>找不到备份文件</p>
                                       <p>正在使用的备份文件</p>
                                       <p>I / O错误</p>
                                       <p>无法与媒体管理器连接</p>
                                       <p>没有权限</p>
                                       <p>O / S错误</p>
                                       <p>sbtremove的参数无效</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e1320" headers="d105110e1129 ">
                                       <p>sbtinfo</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d105110e1320 d105110e1132 ">
                                       <p>7090</p>
                                       <p>7091</p>
                                       <p>7092</p>
                                       <p>7093</p>
                                       <p>7094</p>
                                       <p>7095 *</p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d105110e1320 d105110e1135 ">
                                       <p>找不到备份文件</p>
                                       <p>I / O错误</p>
                                       <p>无法与媒体管理器连接</p>
                                       <p>没有权限</p>
                                       <p>O / S错误</p>
                                       <p>sbtinfo的参数无效</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e1350" headers="d105110e1129 ">
                                       <p>sbtinit</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d105110e1350 d105110e1132 ">
                                       <p>7110 *</p>
                                       <p>7111</p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d105110e1350 d105110e1135 ">
                                       <p>sbtinit的参数无效</p>
                                       <p>O / S错误</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div><a id="BRADV89870"></a><div class="props_rev_3"><a id="GUID-018EEA85-F7B0-48EC-A688-FDF6B537CE3E" name="GUID-018EEA85-F7B0-48EC-A688-FDF6B537CE3E"></a><h4 id="BRADV-GUID-018EEA85-F7B0-48EC-A688-FDF6B537CE3E" class="sect4"><span class="enumeration_section">24.1.5</span>解释RMAN错误堆栈</h4>
                  <div>
                     <p>在RMAN错误堆栈中标识相关消息非常重要。</p>
                     <div class="section">
                        <p>在解释RMAN消息时，请注意以下提示和建议：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>从下往上阅读消息，因为这是RMAN发出消息的顺序。堆栈中显示的最后一个或两个错误通常是提供最多信息的。</p>
                           </li>
                           <li>
                              <p>当您使用SBT 1.1媒体管理层并且出现包含“ <code class="codeph">Additional information:</code> ”数字错误代码的SBT 1.1样式错误消息时，请查找<code class="codeph">ORA-19511</code>的<code class="codeph">ORA-19511</code>消息，以获取传递回RMAN的错误消息的文本由媒体经理。这些消息标识媒体管理层中的真实故障。
                              </p>
                           </li>
                           <li>
                              <p>在错误标题后面立即查找<code class="codeph">RMAN-03002</code>或<code class="codeph">RMAN-03009</code>消息（ <code class="codeph">RMAN-03009</code>等于<code class="codeph">RMAN-03002</code>但包括通道ID）。这些消息指示哪个命令失败。语法错误生成<code class="codeph">RMAN-00558</code> 。
                              </p>
                           </li>
                           <li>
                              <p>根据<a href="troubleshooting-rman-operations.html#GUID-122ADB82-E15B-4104-B7C6-DE1752D8466E__G1014492" title="此表列出了与RMAN错误消息及其可能原因相关的错误号范围。">表24-2中</a>的错误范围图表确定基本类型的错误，然后参阅错误消息以获取有关最重要消息的信息。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-018EEA85-F7B0-48EC-A688-FDF6B537CE3E__GUID-3D2CB4D8-1920-451F-A936-A447C8E4D11B">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="troubleshooting-rman-operations.html#GUID-3F0A6F9D-1FD0-4507-8E2B-B1A205690BCC" title="由RMAN作为前缀的错误表示由RMAN命令引起的错误。">解释RMAN错误：示例</a>和<a href="troubleshooting-rman-operations.html#GUID-1143EB66-0ACB-4E32-9AC4-66031A889095" title="Errors from the server are prefixed with ORA-.">解释服务器错误：</a> RMAN错误消息<a href="troubleshooting-rman-operations.html#GUID-1143EB66-0ACB-4E32-9AC4-66031A889095" title="来自服务器的错误以ORA-为前缀。">示例</a>的示例</p>
                              </li>
                              <li>
                                 <p><a href="troubleshooting-rman-operations.html#GUID-EB1FDC10-6B32-41DC-A1F5-B4EC149B2337" title="此示例显示如何解释在媒体管理器级别导致的错误。">解释SBT 2.0介质管理错误：示例</a>和<a href="troubleshooting-rman-operations.html#GUID-37D6BF25-3EEF-473A-A500-D13F0FD9FC87" title="此示例显示具有错误介质管理错误的备份作业的输出。">解释SBT 1.1介质管理错误：</a>解释介质管理错误的示例示例</p>
                              </li>
                              <li>
                                 <p>有关错误消息的<a href="../errmg/index.html" target="_blank"><span class="italic">信息</span></a> ，请参阅<a href="../errmg/index.html" target="_blank"><span class="italic">Oracle数据库错误</span></a>消息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="BRADV89871"></a><div class="props_rev_3"><a id="GUID-3F0A6F9D-1FD0-4507-8E2B-B1A205690BCC" name="GUID-3F0A6F9D-1FD0-4507-8E2B-B1A205690BCC"></a><h5 id="BRADV-GUID-3F0A6F9D-1FD0-4507-8E2B-B1A205690BCC" class="sect5"><span class="enumeration_section">24.1.5.1</span>解释RMAN错误：示例</h5>
                     <div>
                        <p>由RMAN作为前缀的错误表示由RMAN命令引起的错误。</p>
                        <p>您尝试备份表空间<code class="codeph">users</code>并收到以下消息：</p><pre class="oac_no_warn" dir="ltr">使用频道ORA_DISK_1 RMAN-00571在29-AUG-13开始备份：=================================== ======================== RMAN-00569：=============== ERROR MESSAGE STACK跟踪=== ============ RMAN-00571：================================== ========================= RMAN-03002：备份命令失败于08/29/2013 15:14:03 RMAN-20202：表空间没有在恢复目录中找到RMAN-06019：无法翻译表空间名称“USESR”</pre><p><code class="codeph">RMAN-03002</code>错误表示<code class="codeph">BACKUP</code>命令失败。您首先读取堆栈中的最后两条消息，然后立即看到问题：恢复目录中没有表空间<code class="codeph">users</code> ，因为您将该名称<code class="codeph">usesr</code>错误用作<code class="codeph">usesr</code> 。
                        </p>
                     </div>
                  </div><a id="BRADV89872"></a><div class="props_rev_3"><a id="GUID-1143EB66-0ACB-4E32-9AC4-66031A889095" name="GUID-1143EB66-0ACB-4E32-9AC4-66031A889095"></a><h5 id="BRADV-GUID-1143EB66-0ACB-4E32-9AC4-66031A889095" class="sect5"><span class="enumeration_section">24.1.5.2</span>解释服务器错误：示例</h5>
                     <div>
                        <p>来自服务器的错误以ORA-为前缀。</p>
                        <p>假设您尝试恢复表空间并收到以下错误：</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; RECOVER TABLESPACE用户;使用渠道ORA_DISK_1在29-AUG-13开始恢复启动介质恢复介质恢复失败RMAN-00571：============================= ============================== RMAN-00569：===============错误消息堆栈如下：=============== RMAN-00571：============================ =============================== RMAN-03002：恢复命令失败于08/29/2013 15:18:43 RMAN-11003：解析/执行SQL语句时失败：如果需要，更改数据库恢复表空间USERS ORA-00283：由于错误而取消恢复会话ORA-01124：无法恢复数据文件8  - 文件正在使用或恢复ORA-01110：数据文件8：'/ oracle/oradata/trgt/users01.dbf'</pre><p>如建议的那样，你开始从下往上阅读。<code class="codeph">ORA-01110</code>消息说明恢复数据文件<code class="codeph">users01.dbf</code> 。第二个错误表示数据库无法恢复数据文件，因为它正在使用或正在恢复。剩余的RMAN错误表示由于服务器错误而取消了恢复会话。因此，您得出结论，因为您没有恢复此数据文件，问题必须是数据文件处于联机状态，您必须使其脱机并恢复备份。
                        </p>
                     </div>
                  </div><a id="BRADV89873"></a><div class="props_rev_3"><a id="GUID-EB1FDC10-6B32-41DC-A1F5-B4EC149B2337" name="GUID-EB1FDC10-6B32-41DC-A1F5-B4EC149B2337"></a><h5 id="BRADV-GUID-EB1FDC10-6B32-41DC-A1F5-B4EC149B2337" class="sect5"><span class="enumeration_section">24.1.5.3</span>解释SBT 2.0介质管理错误：示例</h5>
                     <div>
                        <p>此示例显示如何解释在媒体管理器级别导致的错误。</p>
                        <p>假设您在备份作业期间使用磁带驱动器并查看以下输出：</p><pre class="oac_no_warn" dir="ltr">RMAN-00571：============================================== ============= RMAN-00569：===============错误信息堆栈跟踪============== = RMAN-00571：============================================= ============== ORA-19624：操作失败，重试可能ORA-19507：无法检索顺序文件，handle =“/ tmp / mydir”，parms =“”ORA-27029： skgfrtrv：sbtrestore返回错误ORA-19511：从媒体管理器层收到错误，错误文本：sbtpvt_open_input：file / tmp / mydir不存在或无法访问，errno = 2</pre><p><code class="codeph">ORA-19511</code>错误后显示的错误文本由媒体管理器生成，描述了失败的真正原因。请参阅媒体管理器文档以解释此错误。
                        </p>
                     </div>
                  </div><a id="BRADV89874"></a><div class="props_rev_3"><a id="GUID-37D6BF25-3EEF-473A-A500-D13F0FD9FC87" name="GUID-37D6BF25-3EEF-473A-A500-D13F0FD9FC87"></a><h5 id="BRADV-GUID-37D6BF25-3EEF-473A-A500-D13F0FD9FC87" class="sect5"><span class="enumeration_section">24.1.5.4</span>解释SBT 1.1媒体管理错误：示例</h5>
                     <div>
                        <p>此示例显示具有错误介质管理错误的备份作业的输出。</p>
                        <p>假设您在备份作业期间使用磁带驱动器并查看以下输出：</p><pre class="oac_no_warn" dir="ltr">RMAN-00571：============================================== ============= RMAN-00569：===============错误信息堆栈跟踪============== = RMAN-00571：============================================= ============== RMAN-03009：c1频道上的备份命令失败于09/04/2013 13:18:19 ORA-19506：无法创建顺序文件，name =“07d36ecp_1_1 “，parms =”“ORA-27007：无法打开文件SVR4错误：2：没有此类文件或目录附加信息：7005附加信息：1 ORA-19511：从介质管理器层收到错误，错误文本：SBT错误= 7005 ，errno = 2，sbtopen：系统错误</pre><p>SBT 1.1媒体经理返回的主要信息是“附加信息”行中的错误代码：</p><pre class="oac_no_warn" dir="ltr">其他信息：7005</pre><p><a href="troubleshooting-rman-operations.html#GUID-B23435DA-149D-4BFF-BF03-0FA4B68D5020__G1014541" title="此表列出了SBT 1.1错误消息编号和相应的错误文本。">参见表24-3</a> ，您发现错误<code class="codeph">7005</code>表示媒体管理设备正忙。因此，媒体管理软件无法写入设备，因为它正在使用或存在问题。
                        </p>
                        <div class="infoboxnote" id="GUID-37D6BF25-3EEF-473A-A500-D13F0FD9FC87__GUID-1818CCDC-CEC3-48D7-9538-864C5A0B3FDA">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">sbtio.log</code>包含由媒体管理软件<span class="italic">而不是</span> Oracle数据库编写的信息。因此，您必须查阅媒体供应商文档以解释错误代码和消息。如果没有信息写入<code class="codeph">sbtio.log</code> ，请联系您的媒体管理器支持，询问他们是否在其他位置编写错误消息，或者是否必须采取措施才能在<code class="codeph">sbtio.log</code>显示媒体管理器错误。
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="BRADV89875"></a><div class="props_rev_3"><a id="GUID-52F92FE9-4C46-4380-97CB-454E5C784E01" name="GUID-52F92FE9-4C46-4380-97CB-454E5C784E01"></a><h4 id="BRADV-GUID-52F92FE9-4C46-4380-97CB-454E5C784E01" class="sect4"><span class="enumeration_section">24.1.6</span>识别RMAN返回码</h4>
                  <div>
                     <p>确定RMAN是否遇到错误的一种方法是检查其返回代码或退出状态。如果没有发生错误，RMAN客户端将0返回到调用它的shell，否则返回非零错误值。</p>
                     <div class="section">
                        <p>如何访问此返回代码取决于您从中调用RMAN客户端的环境。例如，如果使用C shell运行UNIX，则在RMAN完成时，返回代码将放在名为<code class="codeph">$status</code>的shell变量中。返回退出状态的方法是特定于主机操作系统而不是RMAN客户端的细节。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="BRADV415"></a><a id="BRADV177"></a><div class="props_rev_3"><a id="GUID-AD353573-E722-4D76-9361-9C0CA4C29FEB" name="GUID-AD353573-E722-4D76-9361-9C0CA4C29FEB"></a><h3 id="BRADV-GUID-AD353573-E722-4D76-9361-9C0CA4C29FEB" class="sect3"><span class="enumeration_section">24.2</span>使用V $视图进行RMAN故障排除</h3>
               <div>
                  <p>当<code class="codeph">LIST</code> ， <code class="codeph">REPORT</code>和<code class="codeph">SHOW</code>不提供RMAN操作所需的所有信息时，某些V $视图可以提供有用的详细信息。
                  </p>
                  <p>有时，确切地确定执行备份和恢复作业的服务器会话正在执行的操作很有用。下表中描述的视图对于获取有关RMAN作业的信息非常有用。</p>
                  <div class="tblformal" id="GUID-AD353573-E722-4D76-9361-9C0CA4C29FEB__CHDCJGIE">
                     <p class="titleintable">表24-4有用的V $视图以进行故障排除</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="用于故障排除的有用V $视图" width="100%" border="1" summary="This table describes views that can assist in monitoring or obtaining information about RMAN jobs." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d105110e2097">视图</th>
                              <th align="left" valign="bottom" width="74%" id="d105110e2100">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d105110e2105" headers="d105110e2097 ">
                                 <p><code class="codeph">V $ PROCESS</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d105110e2105 d105110e2100 ">
                                 <p>标识当前活动的进程</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d105110e2113" headers="d105110e2097 ">
                                 <p><code class="codeph">V $ SESSION</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d105110e2113 d105110e2100 ">
                                 <p>标识当前活动的会话。使用此视图可确定哪些数据库服务器会话与哪些RMAN分配的通道相对应。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d105110e2121" headers="d105110e2097 ">
                                 <p><code class="codeph">V $ SESSION_WAIT</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d105110e2121 d105110e2100 ">
                                 <p>列出会话等待的事件或资源</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>您可以使用上述视图执行以下任务：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="troubleshooting-rman-operations.html#GUID-6B323AE8-1E76-45E6-8434-3DCC5CE2E873" title="您可以使用动态性能事件视图中的事件名称来监视对媒体管理API的RMAN调用。事件名称与SBT功能一一对应。">监视RMAN与媒体管理器的交互</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting-rman-operations.html#GUID-A73F567C-1F2D-403B-BED9-90B78B4CA7CD" title="要识别哪些服务器会话对应于哪些RMAN通道，您可以查询V $ SESSION和V $ PROCESS。">将服务器会话与RMAN通道相关联</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV89876"></a><div class="props_rev_3"><a id="GUID-6B323AE8-1E76-45E6-8434-3DCC5CE2E873" name="GUID-6B323AE8-1E76-45E6-8434-3DCC5CE2E873"></a><h4 id="BRADV-GUID-6B323AE8-1E76-45E6-8434-3DCC5CE2E873" class="sect4"><span class="enumeration_section">24.2.1</span>监控RMAN与媒体管理器的交互</h4>
                  <div>
                     <p>您可以使用动态性能事件视图中的事件名称来监视对媒体管理API的RMAN调用。事件名称与SBT功能一一对应。</p>
                     <div class="section">
                        <p>请参阅以下示例：</p><pre class="oac_no_warn" dir="ltr">备份：MML v1打开备份片备份：MML v1读备份片备份：MML v1写备份片备份：MML v1查询备份片备份：MML v1删除备份片备份：MML v1关闭备份片。。。</pre><p>要获取SBT事件的完整列表，可以使用以下查询：</p><pre class="oac_no_warn" dir="ltr">从V $ EVENT_NAME中选择名称，其名称类似于'％MML％';</pre><p>在调用媒体管理API中的任何函数之前，服务器在<code class="codeph">V$SESSION_WAIT</code>添加一行，其中<code class="codeph">STATE</code>列包含字符串<code class="codeph">WAITING</code> 。 <code class="codeph">V$SESSION_WAIT.SECONDS_IN_WAIT</code>列显示服务器等待此调用返回的秒数。从媒体管理器返回SBT功能后，该行消失。
                        </p>
                        <p><code class="codeph">V$SESSION_WAIT</code>与SBT事件名称对应的行不表示存在问题，因为服务器在运行时更新这些行。在进行调用并返回时，行会显示和消失。但是，如果<code class="codeph">SECONDS_IN_WAIT</code>高，则可能会暂停媒体管理器。
                        </p>
                        <p>要监视SBT事件，可以运行以下SQL查询：</p><pre class="oac_no_warn" dir="ltr">列事件格式a17列SECONDS_IN_WAIT格式999列状态格式a15列CLIENT_INFO格式a30选择p。SPID，s。事件，s。SECONDS_IN_WAIT作为SEC_WAIT，sw。状态。CLIENT_INFO来自V $ SESSION_WAIT sw，V $ SESSION s，V $ PROCESS p WHERE sw。事件就像'％MML％'和s。SID = SW。SID和s。PADDR = P。ADDR;</pre><p>检查SQL输出以确定正在等待的SBT功能。例如，以下输出表明RMAN一直在等待<code class="codeph">sbtbackup</code>函数返回10分钟：</p><pre class="oac_no_warn" dir="ltr">SPID EVENT SEC_WAIT STATE CLIENT_INFO ---- ----------------- ---------- -------------- -  ------------------------------ 8642备份：MML creat 600 WAITING rman channel = ORA_SBT_TAPE_1</pre><div class="infoboxnote" id="GUID-6B323AE8-1E76-45E6-8434-3DCC5CE2E873__GUID-163B8CB1-180E-484A-BE88-B3421F31A3E7">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">V$SESSION_WAIT</code>视图仅显示数据库事件，而不显示媒体管理器事件。
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-6B323AE8-1E76-45E6-8434-3DCC5CE2E873__GUID-9D1639EC-F414-4E6E-8842-7D9C93C288B2">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../refrn/V-SESSION_WAIT.html#REFRN30229" target="_blank"><span><cite>Oracle Database Reference，</cite></span></a>用于描述<code class="codeph">V$SESSION_WAIT</code>视图。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89877"></a><div class="props_rev_3"><a id="GUID-A73F567C-1F2D-403B-BED9-90B78B4CA7CD" name="GUID-A73F567C-1F2D-403B-BED9-90B78B4CA7CD"></a><h4 id="BRADV-GUID-A73F567C-1F2D-403B-BED9-90B78B4CA7CD" class="sect4"><span class="enumeration_section">24.2.2将</span>服务器会话与RMAN通道关联</h4>
                  <div>
                     <p>要识别哪些服务器会话对应于哪些RMAN通道，您可以查询<code class="codeph">V$SESSION</code>和<code class="codeph">V$PROCESS</code> 。</p>
                     <p><code class="codeph">V$PROCESS</code>的<code class="codeph">SPID</code>列标识进程或线程的操作系统标识号。例如，在UNIX上， <code class="codeph">SPID</code>列显示进程ID，而在Windows上， <code class="codeph">SPID</code>列显示线程ID。您有两种获取此信息的基本方法，具体取决于您是否同时激活多个RMAN会话。
                     </p>
                     <p>本节包含以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="troubleshooting-rman-operations.html#GUID-3324872D-0863-42B1-89A0-A576CDC8C3CA" title="当只有一个RMAN会话处于活动状态时，确定RMAN通道的服务器会话ID的最简单方法是查询目标数据库。">当一个RMAN会话处于活动状态时，将服务器会话与通道匹配</a></p>
                        </li>
                        <li>
                           <p><a href="troubleshooting-rman-operations.html#GUID-CD0BD414-F561-4518-A2B3-4CCD36B7EBB1" title="如果多个RMAN会话处于活动状态，则V $ SESSION.CLIENT_INFO列可以为每个会话中的通道生成相同的信息。">在多个RMAN会话中将服务器会话与通道匹配</a></p>
                        </li>
                     </ul>
                  </div><a id="BRADV89878"></a><div class="props_rev_3"><a id="GUID-3324872D-0863-42B1-89A0-A576CDC8C3CA" name="GUID-3324872D-0863-42B1-89A0-A576CDC8C3CA"></a><h5 id="BRADV-GUID-3324872D-0863-42B1-89A0-A576CDC8C3CA" class="sect5"><span class="enumeration_section">24.2.2.1</span>当一个RMAN会话<span class="enumeration_section">处于活动状态时，将</span>服务器会话与通道匹配</h5>
                     <div>
                        <p>当只有一个RMAN会话处于活动状态时，确定RMAN通道的服务器会话ID的最简单方法是查询目标数据库。</p>
                        <div class="section">
                           <p>在执行RMAN作业时，在目标数据库上运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN CLIENT_INFO FORMAT a30 COLUMN SID FORMAT 999 COLUMN SPID FORMAT 9999 SELECT s。SID，p。SPID，s。CLIENT_INFO FROM V $ PROCESS p，V $ SESSION s WHERE p。ADDR = s。PADDR和CLIENT_INFO喜欢'rman％';</pre><p>以下显示了示例输出：</p><pre class="oac_no_warn" dir="ltr">SID SPID CLIENT_INFO ---- ------------ ------------------------------ 14 8374 rman channel = ORA_SBT_TAPE_1</pre><p>如果使用RMAN <code class="codeph">SET COMMAND ID</code>命令而不是使用系统生成的默认ID设置ID，则在<code class="codeph">CLIENT_INFO</code>列中搜索该值，而不是<code class="codeph">'rman%'</code> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="BRADV89879"></a><div class="props_rev_3"><a id="GUID-CD0BD414-F561-4518-A2B3-4CCD36B7EBB1" name="GUID-CD0BD414-F561-4518-A2B3-4CCD36B7EBB1"></a><h5 id="BRADV-GUID-CD0BD414-F561-4518-A2B3-4CCD36B7EBB1" class="sect5"><span class="enumeration_section">24.2.2.2</span>在多个RMAN会话中匹配具有通道的服务器会话</h5>
                     <div>
                        <p>如果多个RMAN会话处于活动状态，则<code class="codeph">V$SESSION.CLIENT_INFO</code>列可以为每个会话中的通道生成相同的信息。
                        </p>
                        <div class="section">
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">SID SPID CLIENT_INFO ---- ------------ ------------------------------ 14 8374 rman channel = ORA_SBT_TAPE_1 9 8642 rman channel = ORA_SBT_TAPE_1</pre><p>在这种情况下，您可以使用以下方法确定哪个通道对应于哪个<code class="codeph">SID</code>值。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div><a id="BRADV89880"></a><div class="props_rev_3"><a id="GUID-B4AD9177-6648-426C-9978-26BEAD00FBB6" name="GUID-B4AD9177-6648-426C-9978-26BEAD00FBB6"></a><h6 id="BRADV-GUID-B4AD9177-6648-426C-9978-26BEAD00FBB6" class="sect6"><span class="enumeration_section">24.2.2.2.1</span>从RMAN输出中获取通道ID</h6>
                        <div>
                           <p>您必须首先从RMAN输出中获取<code class="codeph">sid</code>值，然后在SQL查询中使用这些值。
                           </p>
                           <div class="section">
                              <p><span class="bold">在备份期间将进程与通道关联：</span></p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>在活动会话中，像往常一样运行RMAN作业并检查输出以获取通道的SID。例如，输出可能显示：</span><div><pre class="oac_no_warn" dir="ltr"><code class="codeph">Starting backup at 21-AUG-13</code> <code class="codeph">allocated channel: ORA_SBT_TAPE_1</code> <code class="codeph">Starting backup at 21-AUG-13</code> <code class="codeph">channel ORA_SBT_TAPE_1: sid=14 devtype=SBT_TAPE</code>
</pre></div>
                              </li>
                              <li class="stepexpand"><span>启动SQL * Plus会话，然后在<span class="italic">执行RMAN作业时</span>查询已加入的<code class="codeph">V$SESSION</code>和<code class="codeph">V$PROCESS</code>视图。例如，输入：</span><div><pre class="oac_no_warn" dir="ltr">COLUMN CLIENT_INFO FORMAT a30 COLUMN SID FORMAT 999 COLUMN SPID FORMAT 9999 SELECT s。SID，p。SPID，s。CLIENT_INFO FROM V $ PROCESS p，V $ SESSION s WHERE p。ADDR = s。PADDR和CLIENT_INFO就像'rman％'/</pre><p>使用从第一步获得的<code class="codeph">sid</code>值来确定哪个通道对应于哪个服务器会话：</p><pre class="oac_no_warn" dir="ltr">SID SPID CLIENT_INFO ---------- ------------ ------------------------- ----- 14 2036 rman channel = ORA_SBT_TAPE_1 12 2066 rman channel = ORA_SBT_TAPE_1</pre></div>
                              </li>
                           </ol>
                        </div>
                     </div><a id="BRADV89881"></a><div class="props_rev_3"><a id="GUID-21C49BC3-2505-481F-83B9-5474948614DF" name="GUID-21C49BC3-2505-481F-83B9-5474948614DF"></a><h6 id="BRADV-GUID-21C49BC3-2505-481F-83B9-5474948614DF" class="sect6"><span class="enumeration_section">24.2.2.2.2</span>使用SET COMMAND ID将服务器会话与通道关联</h6>
                        <div>
                           <p>您在RMAN备份脚本中指定命令ID字符串。然后，您可以查询此字符串的<code class="codeph">V$SESSION.CLIENT_INFO</code> 。
                           </p>
                           <div class="section">
                              <p><span class="bold">在备份期间将进程与通道关联：</span></p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>在每个会话中， <span class="italic">在</span>分配通道<span class="italic">后将</span> <code class="codeph">COMMAND</code> <code class="codeph">ID</code>设置为不同的值，然后备份所需的对象。例如，在会话1中输入以下内容：</span><div><pre class="oac_no_warn" dir="ltr">运行{ALLOCATE CHANNEL c1 TYPE磁盘;将命令ID设置为'sess1';备份数据库<code class="codeph">;</code> <code class="codeph">}</code>
</pre><p>在会话2中运行的作业中将命令ID设置为字符串，例如<code class="codeph">sess2</code> ：</p><pre class="oac_no_warn" dir="ltr">RUN {ALLOCATE CHANNEL c1 TYPE sbt;将命令ID设置为'sess2';备份数据库<code class="codeph">;</code> <code class="codeph">}</code>
</pre></div>
                              </li>
                              <li class="stepexpand"><span>启动SQL * Plus会话，然后在<span class="italic">执行RMAN作业时</span>查询已加入的<code class="codeph">V$SESSION</code>和<code class="codeph">V$PROCESS</code>视图。例如，输入：</span><div><pre class="oac_no_warn" dir="ltr">SELECT SID，SPID，CLIENT_INFO FROM V $ PROCESS p，V $ SESSION s WHERE p。ADDR = s。PADDR和CLIENT_INFO类似'％id = sess％';</pre><p>如果在RMAN作业中运行<code class="codeph">SET</code> <code class="codeph">COMMAND</code> <code class="codeph">ID</code>命令，则<code class="codeph">CLIENT_INFO</code>列将以以下格式显示：</p><pre class="oac_no_warn" dir="ltr">id = <span class="italic">command_id</span> ，rman channel = <span class="italic">channel_id</span>
</pre><p>例如，以下显示了示例输出：</p><pre class="oac_no_warn" dir="ltr">SID SPID CLIENT_INFO ---- ------------ ------------------------------ 11 8358 id = sess1 15 8638 id = sess2 14 8374 id = sess1，rman channel = c1 9 8642 id = sess2，rman channel = c1</pre><p>包含字符串<code class="codeph">rman channel</code>的行显示执行备份的通道。其余行用于连接目标数据库。
                                    </p>
                                 </div>
                              </li>
                           </ol>
                           <div class="section">
                              <div class="infoboxnotealso" id="GUID-21C49BC3-2505-481F-83B9-5474948614DF__GUID-80936436-48E3-41A5-AF39-C16A09EDC7BE">
                                 <p class="notep1">也可以看看：</p>
                                 <p>有关<code class="codeph">V$SESSION</code>和<code class="codeph">V$PROCESS</code>更多信息，请参阅<code class="codeph">SET COMMAND ID</code>语法和<a href="../refrn/V-SESSION.html#REFRN-GUID-28E2DC75-E157-4C0A-94AB-117C205789B9" target="_blank"><span><cite>Oracle数据库参考的</cite></span></a> <a href="../rcmrf/SET.html#RCMRF153" target="_blank"><span><cite>Oracle数据库备份和恢复参考</cite></span></a></p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="BRADV175"></a><div class="props_rev_3"><a id="GUID-B1E9715D-BD07-4B80-8158-33981138E679" name="GUID-B1E9715D-BD07-4B80-8158-33981138E679"></a><h3 id="BRADV-GUID-B1E9715D-BD07-4B80-8158-33981138E679" class="sect3"><span class="enumeration_section">24.3</span>测试Media Management API</h3>
               <div>
                  <p>在某些平台上，Oracle提供了一个名为<code class="codeph">sbttest</code>的诊断工具。该实用程序通过充当Oracle数据库服务器并尝试与媒体管理器通信来执行对媒体管理软件的简单测试。
                  </p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="troubleshooting-rman-operations.html#GUID-0780A6E4-4E5A-44CE-B083-F952597E72A7" title="sbttest实用程序的默认位置取决于平台。">获取sbttest实用程序</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting-rman-operations.html#GUID-E29B9686-2435-47D1-8619-5DA3B6232376" title="使用不带参数的sbttest命令列出此程序的各种参数。">获取sbttest实用程序的在线文档</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting-rman-operations.html#GUID-9396687F-2BE5-4998-9DB1-BC5F8AB50ECC" title="使用sbttest对媒体管理器进行快速测试。">使用sbttest实用程序</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV89882"></a><div class="props_rev_3"><a id="GUID-0780A6E4-4E5A-44CE-B083-F952597E72A7" name="GUID-0780A6E4-4E5A-44CE-B083-F952597E72A7"></a><h4 id="BRADV-GUID-0780A6E4-4E5A-44CE-B083-F952597E72A7" class="sect4"><span class="enumeration_section">24.3.1</span>获得的sbttest工具</h4>
                  <div>
                     <p><code class="codeph">sbttest</code>实用程序的默认位置取决于平台。
                     </p>
                     <div class="section">
                        <p>在UNIX上， <code class="codeph">sbttest</code>实用程序通常位于<code class="codeph">$ORACLE_HOME/bin</code> 。如果由于某种原因该实用程序未包含在您的平台中，请联系Oracle支持服务以获取该程序的C版本。您可以在所有UNIX平台上编译此版本的程序。
                        </p>
                        <p>在Solaris等平台上，使用<code class="codeph">sbttest</code>时不必重新链接。在其他平台上，可能需要重新连接。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89883"></a><div class="props_rev_3"><a id="GUID-E29B9686-2435-47D1-8619-5DA3B6232376" name="GUID-E29B9686-2435-47D1-8619-5DA3B6232376"></a><h4 id="BRADV-GUID-E29B9686-2435-47D1-8619-5DA3B6232376" class="sect4"><span class="enumeration_section">24.3.2</span>获取sbttest实用程序的在线文档</h4>
                  <div>
                     <p>使用不带参数的<code class="codeph">sbttest</code>命令列出此程序的各种参数。
                     </p>
                     <div class="section">
                        <p>有关<code class="codeph">sbttest</code>在线文档， <code class="codeph">sbttest</code>在命令行上发出以下命令：</p><pre class="oac_no_warn" dir="ltr">％sbttest</pre><p>该程序显示该程序的可能参数列表：</p><pre class="oac_no_warn" dir="ltr">错误：必须指定备份文件名用法：sbttest backup_file_name＃这是唯一必需的参数&lt;-dbname database_name&gt; &lt;-trace trace_file_name&gt; &lt;-remove_before&gt; &lt;-no_remove_after&gt; &lt;-read_only&gt; &lt;-no_regular_backup_restore&gt; &lt;-no_proxy_backup&gt; &lt; -no_proxy_restore&gt; &lt;-file_type n&gt; &lt;-copy_number n&gt; &lt;-media_pool n&gt; &lt;-os_res_size n&gt; &lt;-pl_res_size n&gt; &lt;-block_size block_size&gt; &lt;-block_count block_count&gt; &lt;-proxy_file os_file_name bk_file_name [os_res_size pl_res_size block_size block_count]&gt; &lt;-libname sbt_library_name&gt;</pre><p>显示屏还指示每个参数的含义。例如，以下是两个可选参数的说明：</p><pre class="oac_no_warn" dir="ltr">可选参数：-dbname指定SBT用于标识备份文件的数据库名称。默认值为“sbtdb”-trace指定介质管理软件将写入诊断消息的文件的名称。</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89884"></a><div class="props_rev_3"><a id="GUID-9396687F-2BE5-4998-9DB1-BC5F8AB50ECC" name="GUID-9396687F-2BE5-4998-9DB1-BC5F8AB50ECC"></a><h4 id="BRADV-GUID-9396687F-2BE5-4998-9DB1-BC5F8AB50ECC" class="sect4"><span class="enumeration_section">24.3.3</span>使用sbttest实用程序</h4>
                  <div>
                     <p>使用<code class="codeph">sbttest</code>对媒体管理器进行快速测试。
                     </p>
                     <div class="section">
                        <p>如果<code class="codeph">sbttest</code>返回0，则测试运行时没有错误，这意味着媒体管理器已正确安装并且可以接受数据流并在请求时返回相同的数据。如果<code class="codeph">sbttest</code>返回非零值，则表示未安装介质管理器或未正确配置。
                        </p>
                        <p><span class="bold">要使用sbttest：</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>通过在命令行键入<code class="codeph">sbttest</code>确认程序已安装并包含在系统路径中：</span><div><pre class="oac_no_warn" dir="ltr">％sbttest</pre><p>如果程序可以运行，那么您会看到在线文档的显示。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>执行程序，指定在线文档中描述的任何参数。例如，输入以下内容以创建测试文件<code class="codeph">some_file.f</code>并将输出写入<code class="codeph">sbtio.log</code> ：</span><div><pre class="oac_no_warn" dir="ltr">％sbttest some_file.f -trace sbtio.log</pre><p>您还可以测试现有数据文件的备份。例如，此命令测试数据库<code class="codeph">prod</code>数据文件<code class="codeph">tbs_33.f</code> ：</p><pre class="oac_no_warn" dir="ltr">％sbttest tbs_33.f -dbname prod</pre></div>
                        </li>
                        <li class="stepexpand"><span>检查输出。如果程序遇到错误，则它会提供描述失败的消息。例如，如果数据库找不到库，您会看到：</span><div><pre class="oac_no_warn" dir="ltr">libobk.so无法加载。检查它是否已正确安装，并且LD_LIBRARY_PATH环境变量（或您的平台上的等效项）包含可以找到此文件的目录。以下是有关此错误原因的一些其他信息：ld.so.1：sbttest：致命：libobk.so：打开失败：没有此类文件或目录</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>在某些情况下， <code class="codeph">sbttest</code>可以工作，但RMAN备份不能。原因可能如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>启动<code class="codeph">sbttest</code>的用户不是Oracle数据库进程的所有者。
                              </p>
                           </li>
                           <li>
                              <p>如果数据库服务器未与媒体管理库链接或无法在需要时动态加载它，则对媒体管理器的RMAN备份将失败，但<code class="codeph">sbttest</code>仍可能正常工作。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">sbttest</code>程序传递来自shell的所有环境参数，但RMAN没有。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="BRADV176"></a><div class="props_rev_3"><a id="GUID-772C8583-7763-48AB-B404-747188EC718A" name="GUID-772C8583-7763-48AB-B404-747188EC718A"></a><h3 id="BRADV-GUID-772C8583-7763-48AB-B404-747188EC718A" class="sect3"><span class="enumeration_section">24.4</span>终止RMAN命令</h3>
               <div>
                  <p>有几种方法可以在执行过程中终止RMAN命令。</p>
                  <div class="section">
                     <p>它们包括以下内容：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>首选方法是在RMAN界面中按Ctrl + C（或系统的等效“注意”组合键）。这也会终止分配的通道，除非它们被暂停在介质管理代码中，例如，当它们等待磁带安装时。</p>
                        </li>
                        <li>
                           <p>您可以通过运行SQL <code class="codeph">ALTER SYSTEM KILL SESSION</code>语句来结束与RMAN通道对应的服务器会话，如<a href="troubleshooting-rman-operations.html#GUID-73F87310-9DDF-4775-9049-658E0A06BADC" title="要使用ALTER SYSTEM语句终止RMAN会话，您需要RMAN通道的Oracle会话ID和序列号。此信息包含在消息的RMAN日志中。">使用ALTER SYSTEM KILL SESSION终止会话中</a>所述。</p>
                        </li>
                        <li>
                           <p>您可以终止操作系统上与RMAN通道对应的服务器会话，如在<a href="troubleshooting-rman-operations.html#GUID-4C499544-02C9-40AA-94DC-03261D7F2B3E" title="查找和终止与服务器会话关联的进程是特定于操作系统的。在某些平台上，服务器会话根本不与任何进程相关联。有关更多信息，请参阅特定于操作系统的文档。">操作系统级别终止会话中所述</a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="BRADV89885"></a><div class="props_rev_3"><a id="GUID-73F87310-9DDF-4775-9049-658E0A06BADC" name="GUID-73F87310-9DDF-4775-9049-658E0A06BADC"></a><h4 id="BRADV-GUID-73F87310-9DDF-4775-9049-658E0A06BADC" class="sect4"><span class="enumeration_section">24.4.1</span>使用ALTER SYSTEM KILL SESSION终止会话</h4>
                  <div>
                     <p>要使用ALTER SYSTEM语句终止RMAN会话，您需要RMAN通道的Oracle会话ID和序列号。此信息包含在消息的RMAN日志中。</p>
                     <div class="section">
                        <p>使用以下示例中显示的格式搜索消息：</p><pre class="oac_no_warn" dir="ltr">通道ch1：sid = 15 devtype = SBT_TAPE</pre><p>为每个分配的通道显示<code class="codeph">sid</code>和<code class="codeph">devtype</code> 。Oracle数据库<code class="codeph">sid</code>与操作系统进程ID不同。您可以使用SQL <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">KILL</code> <code class="codeph">SESSION</code>语句结束会话。
                        </p>
                        <p><code class="codeph">ALTER SYSTEM KILL SESSION</code>有两个参数，即在RMAN消息中打印的<code class="codeph">sid</code>和一个序列号，这两个参数都可以通过查询<code class="codeph">V$SESSION</code> 。</p>
                        <p>例如，运行以下语句，其中<span class="italic"><code class="codeph">sid_in_rman_output</code></span>是RMAN消息中的数字：</p><pre class="oac_no_warn" dir="ltr">SELECT SERIAL＃FROM V $ SESSION WHERE SID = <span class="italic"><code class="codeph">sid_in_rman_output</code></span> ;</pre><p>然后，运行以下语句，替换从查询中获取的<span class="italic"><code class="codeph">sid_in_rman_output</code></span>和序列号：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM KILL <span class="italic"><code class="codeph">sid_in_rman_output</code></span> <span class="italic">，</span> <span class="italic"><code class="codeph">serial#</code></span> ';</pre><p>如果会话在媒体管理器代码中停止，则此语句对会话没有影响。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89886"></a><div class="props_rev_3"><a id="GUID-4C499544-02C9-40AA-94DC-03261D7F2B3E" name="GUID-4C499544-02C9-40AA-94DC-03261D7F2B3E"></a><h4 id="BRADV-GUID-4C499544-02C9-40AA-94DC-03261D7F2B3E" class="sect4"><span class="enumeration_section">24.4.2</span>在操作系统级别终止会话</h4>
                  <div>
                     <p>查找和终止与服务器会话关联的进程是特定于操作系统的。在某些平台上，服务器会话根本不与任何进程相关联。有关更多信息，请参阅特定于操作系统的文档。</p>
                  </div>
               </div><a id="BRADV89887"></a><div class="props_rev_3"><a id="GUID-60B8AE45-4484-4926-811F-BBCA23CB19D2" name="GUID-60B8AE45-4484-4926-811F-BBCA23CB19D2"></a><h4 id="BRADV-GUID-60B8AE45-4484-4926-811F-BBCA23CB19D2" class="sect4"><span class="enumeration_section">24.4.3</span>终止在媒体管理器中没有响应的RMAN会话</h4>
                  <div>
                     <p>您有时可能需要终止在媒体管理器中没有响应的RMAN作业。当媒体管理器中的通道连接没有响应时，终止RMAN的最佳方法是终止媒体管理器中的会话。</p>
                     <p>如果此操作无法解决问题，那么在某些平台（如Linux）上，您可以终止连接的Oracle数据库进程。（终止Oracle进程可能会导致媒体管理器出现问题。有关详细信息，请参阅媒体经理文档。）</p>
                     <div class="p">本节包含以下主题：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="troubleshooting-rman-operations.html#GUID-56D3592A-B975-4DAE-A02C-6E6693C3D471" title="RMAN会话的性质取决于操作系统。">RMAN会话的组件</a></p>
                           </li>
                           <li>
                              <p><a href="troubleshooting-rman-operations.html#GUID-4C2B84BF-D7FA-4137-B31C-8D02E5100405" title="RMAN通常会停止响应，因为通道连接正在磁带资源的介质管理器代码中等待。目录连接和默认通道似乎挂起，因为它们正在等待RMAN告诉它们要做什么。在RMAN进程的控制下轮询RPC时，轮询连接似乎处于无限循环中。">暂停作业期间的过程行为</a></p>
                           </li>
                           <li><a href="troubleshooting-rman-operations.html#GUID-8DE355DD-8001-482D-8453-AEF64BA72F3B" title="在终止媒体管理器代码中的无响应信道之后，RMAN进程检测到该终止并退出，移除除了仍在媒体管理层中操作的目标连接之外的所有连接。">终止RMAN会话：基本步骤</a></li>
                        </ul>
                     </div>
                  </div><a id="BRADV89888"></a><div class="props_rev_3"><a id="GUID-56D3592A-B975-4DAE-A02C-6E6693C3D471" name="GUID-56D3592A-B975-4DAE-A02C-6E6693C3D471"></a><h5 id="BRADV-GUID-56D3592A-B975-4DAE-A02C-6E6693C3D471" class="sect5"><span class="enumeration_section">24.4.3.1</span> RMAN会话的组件</h5>
                     <div>
                        <p>RMAN会话的性质取决于操作系统。</p>
                        <p>在UNIX中，RMAN会话具有以下与之关联的进程：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="italic">RMAN客户端进程</span>本身</p>
                           </li>
                           <li>
                              <p><span class="italic">默认通道</span> ，即与目标数据库的初始连接</p>
                           </li>
                           <li>
                              <p>与每个分配的通道对应的目标数据库的一个<span class="italic">目标连接</span></p>
                           </li>
                           <li>
                              <p>如果使用恢复目录，则与恢复目录数据库的<span class="italic">目录连接</span></p>
                           </li>
                           <li>
                              <p>在<code class="codeph">DUPLICATE</code>或TSPITR操作期间到辅助实例的<span class="italic">辅助连接</span></p>
                           </li>
                           <li>
                              <p>与目标数据库的<span class="italic">轮询连接</span> ，用于监视各种分配通道上的RMAN命令执行。默认情况下，RMAN进行一次轮询连接。如果在<code class="codeph">ALLOCATE CHANNEL</code>或<code class="codeph">CONFIGURE CHANNEL</code>命令中使用不同的连接字符串，RMAN将进行其他轮询连接。对于<code class="codeph">ALLOCATE CHANNEL</code>或<code class="codeph">CONFIGURE CHANNEL</code>命令中使用的每个不同连接字符串，存在一个轮询连接。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="BRADV89889"></a><div class="props_rev_3"><a id="GUID-4C2B84BF-D7FA-4137-B31C-8D02E5100405" name="GUID-4C2B84BF-D7FA-4137-B31C-8D02E5100405"></a><h5 id="BRADV-GUID-4C2B84BF-D7FA-4137-B31C-8D02E5100405" class="sect5"><span class="enumeration_section">24.4.3.2</span>暂停作业期间的过程行为</h5>
                     <div>
                        <p>RMAN通常会停止响应，因为通道连接正在磁带资源的介质管理器代码中等待。目录连接和默认通道似乎挂起，因为它们正在等待RMAN告诉它们要做什么。在RMAN进程的控制下轮询RPC时，轮询连接似乎处于无限循环中。</p>
                        <p>如果您自己终止RMAN进程，则还终止目录连接，辅助连接，默认通道和轮询连接。如果目标和辅助连接被挂起但在执行媒体管理器代码时没有，它们也会终止。如果目标连接或任何辅助连接正在介质管理层中执行，则它们不会终止，直到在操作系统级别手动终止进程。</p>
                        <p>并非所有媒体经理都能检测到Oracle数据库进程的终止。那些不能保持资源忙或继续处理的人。有关详细信息，请参阅媒体经理文档</p>
                        <p>终止目录连接不会导致RMAN进程终止，因为RMAN在备份或还原过程中未执行目录操作。删除默认通道和轮询连接会导致RMAN进程检测到通道不再存在然后退出。在这种情况下，如前所述，与无响应信道的连接保持活动状态。</p>
                     </div>
                  </div><a id="BRADV89890"></a><div class="props_rev_3"><a id="GUID-8DE355DD-8001-482D-8453-AEF64BA72F3B" name="GUID-8DE355DD-8001-482D-8453-AEF64BA72F3B"></a><h5 id="BRADV-GUID-8DE355DD-8001-482D-8453-AEF64BA72F3B" class="sect5"><span class="enumeration_section">24.4.3.3</span>终止RMAN会话：基本步骤</h5>
                     <div>
                        <p>在终止媒体管理器代码中的无响应信道之后，RMAN进程检测到该终止并退出，移除除了仍在媒体管理层中操作的目标连接之外的所有连接。</p>
                        <div class="section">
                           <p>在这种情况下，有关媒体管理器资源的警告仍然适用。</p>
                           <p><span class="bold">要终止在媒体管理器中没有响应的Oracle数据库进程：</span></p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>查询<code class="codeph">V$SESSION</code>和<code class="codeph">V$SESSION_WAIT</code> ，如<span class="q">“ <a href="troubleshooting-rman-operations.html#GUID-AD353573-E722-4D76-9361-9C0CA4C29FEB" title="当LIST，REPORT和SHOW不提供RMAN操作所需的所有信息时，某些V $视图可以提供有用的详细信息。">使用V $视图进行RMAN故障排除</a> ”中所述</span> 。例如，执行以下查询：</span><div><pre class="oac_no_warn" dir="ltr">列事件格式a17列SECONDS_IN_WAIT格式999列状态格式a10列CLIENT_INFO格式a30选择p。SPID，s。事件，s。SECONDS_IN_WAIT作为SEC_WAIT，sw。状态。CLIENT_INFO来自V $ SESSION_WAIT sw，V $ SESSION s，V $ PROCESS p WHERE sw。事件就像'％MML％'和s。SID = SW。SID和s。PADDR = P。ADDR;</pre><p>检查SQL输出以确定正在等待的SBT功能。例如，输出可能如下：</p><pre class="oac_no_warn" dir="ltr">SPID EVENT SEC_WAIT STATE CLIENT_INFO ---- ----------------- ---------- ---------- ---- ------------------------- 8642备份：MML写600等待rman通道= ORA_SBT_TAPE_1 8374备份：MML写600等待rman通道= ORA_SBT_TAPE_2</pre></div>
                           </li>
                           <li class="stepexpand"><span>使用适合您平台的操作系统级工具，结束无响应的会话。例如，在Linux上执行<code class="codeph">kill</code> <code class="codeph">-9</code>命令：</span><div><pre class="oac_no_warn" dir="ltr">％kill -9 8642 8374</pre><p>某些平台包含一个名为<code class="codeph">orakill</code>的命令行实用程序，可以使您终止特定的线程。在命令提示符下，运行以下命令，其中<span class="italic"><code class="codeph">sid</code></span>标识要定位的数据库实例， <span class="italic"><code class="codeph">thread_id</code></span>是步骤1中查询的<code class="codeph">SPID</code>值：</p><pre class="oac_no_warn" dir="ltr">orakill <span class="italic">sid</span> <span class="italic">thread_id</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>检查媒体管理器是否也清除其进程。如果仍有，则由于备份或还原操作中的先前问题，下一次备份或还原操作可能会再次冻结。在某些媒体管理器中，唯一的解决方案是关闭并重新启动媒体管理器。如果媒体管理器提供的文档未提供所需信息，请联系媒体经理的技术支持。</span><div>
                                 <div class="infoboxnotealso" id="GUID-8DE355DD-8001-482D-8453-AEF64BA72F3B__GUID-779D91FE-19C1-4007-9A50-04351F833C75">
                                    <p class="notep1">也可以看看：</p>
                                    <p>相关命令的操作系统特定文档</p>
                                 </div>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04996.embedded-SQL.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>嵌入式SQL</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="c-c-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T03:52:01-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96467-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="advanced-topics.html" title="Previous" type="text/html"></link>
      <link rel="next" href="embedded-PL-SQL.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Pro*C/C++ Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNPCC"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="advanced-topics.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="embedded-PL-SQL.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="introduction-and-concepts.html" property="item" typeof="WebPage"><span property="name">介绍和概念</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">嵌入式SQL</li>
            </ol>
            <a id="GUID-C671CABF-202A-4503-A16B-DC78D3F1AB13" name="GUID-C671CABF-202A-4503-A16B-DC78D3F1AB13"></a><a id="LNPCC3339"></a>
            
            <h2 id="LNPCC-GUID-C671CABF-202A-4503-A16B-DC78D3F1AB13" class="sect2"><span class="enumeration_chapter">6</span>嵌入式SQL</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章帮助您理解和应用嵌入式SQL编程的基本技术。本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="embedded-SQL.html#GUID-71AF7FEC-9236-4D73-BD1D-BFA8B4EA63C2">主机变量</a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C">指标变量</a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-431532CF-1652-4EB6-AD2A-7E695744FADE">基本SQL语句</a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-A44FA873-61D5-42AF-A93E-1CA2041D9A3D">DML返回条款</a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-E53CD1B7-9E49-44E0-89DA-9A567E7CD7A8">游标</a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-EE1C3E7B-AEE5-4514-9D57-36C71E35D829">可滚动游标</a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-F6C600D0-D49D-4C24-910E-A4153C8818CD">优化器提示</a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-BA6FB717-6577-45D7-87A9-ECC60FECD9AA">修复执行计划</a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-CB61E704-AA77-4F5F-BF67-A3E4F58C63C6">条款的当前条款</a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-6D0BC220-1DE8-49E9-AB54-F39182E33ECD">游标语句</a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-58F44B5B-4F08-4853-AF71-C2995F48E2ED">使用不可滚动游标的完整示例</a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-08073F0A-E663-4D3A-9DB4-92BF47CA6560">使用可滚动游标的完整示例</a> 
                     </p>
                  </li>
               </ul>
            </div><a id="LNPCC3340"></a><div class="props_rev_3"><a id="GUID-71AF7FEC-9236-4D73-BD1D-BFA8B4EA63C2" name="GUID-71AF7FEC-9236-4D73-BD1D-BFA8B4EA63C2"></a><h3 id="LNPCC-GUID-71AF7FEC-9236-4D73-BD1D-BFA8B4EA63C2" class="sect3"><span class="enumeration_section">6.1</span>主机变量</h3>
               <div>
                  <p>Oracle使用主机变量将数据和状态信息传递给您的程序;您的程序使用主机变量将数据传递给Oracle。 <a id="d30526e83" class="indexterm-anchor"></a> 
                  </p>
               </div><a id="LNPCC3341"></a><div class="props_rev_3"><a id="GUID-F292197E-ED6D-48E6-80E0-7E7161BE5E29" name="GUID-F292197E-ED6D-48E6-80E0-7E7161BE5E29"></a><h4 id="LNPCC-GUID-F292197E-ED6D-48E6-80E0-7E7161BE5E29" class="sect4"><span class="enumeration_section">6.1.1</span>输出与输入主机变量</h4>
                  <div>
                     <p>根据它们的使用方式，主变量称为输出或输入主变量。 <a id="d30526e99" class="indexterm-anchor"></a><a id="d30526e103" class="indexterm-anchor"></a> 
                     </p>
                     <p>SELECT或FETCH语句的INTO子句中的主机变量称为<span class="italic">输出</span>主机变量，因为它们包含Oracle输出的列值。Oracle将列值分配给INTO子句中的相应输出主机变量。 <a id="d30526e111" class="indexterm-anchor"></a><a id="d30526e115" class="indexterm-anchor"></a><a id="d30526e119" class="indexterm-anchor"></a> 
                     </p>
                     <p>SQL语句中的所有其他主机变量都称为<span class="italic">输入</span>主机变量，因为您的程序将其值输入到Oracle。例如，您在INSERT语句的VALUES子句和UPDATE语句的SET子句中使用输入主机变量。它们也用在WHERE，HAVING和FOR子句中。只要允许值或表达式，输入主变量就可以出现在SQL语句中。 <a id="d30526e129" class="indexterm-anchor"></a><a id="d30526e133" class="indexterm-anchor"></a><a id="d30526e137" class="indexterm-anchor"></a> 
                     </p>
                     <div class="infoboxnote" id="GUID-F292197E-ED6D-48E6-80E0-7E7161BE5E29__GUID-D9FEB047-E376-41FB-98AE-94C48AF75F02">
                        <p class="notep1">注意：</p>
                        <p>在ORDER BY子句中，您<span class="italic">可以</span>使用主机变量，但它被视为常量或文字，因此主机变量的内容无效。例如，SQL语句</p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT ename，empno INTO：name，：number FROM emp ORDER BY：ord;</pre><p>似乎包含输入主机变量<span class="italic">：ord</span> 。但是，在这种情况下，host变量被视为常量，并且无论<span class="italic">ord</span>的值如何，都不会进行排序。
                        </p>
                     </div>
                     <p>您不能使用输入主机变量来提供SQL关键字或数据库对象的名称。因此，您不能在数据定义语句（如ALTER，CREATE和DROP）中使用输入主机变量。在以下示例中，DROP TABLE语句<span class="italic">无效</span> ： <a id="d30526e163" class="indexterm-anchor"></a><a id="d30526e167" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">char table_name [30]; printf（“表名？“）; gets（table_name）; EXEC SQL DROP TABLE：table_name;  - 不允许主机变量</pre><p>如果需要在运行时更改数据库对象名，请使用动态SQL。</p>
                     <p>在Oracle执行包含输入主机变量的SQL语句之前，程序必须为它们分配值。一个例子如下： <a id="d30526e178" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">int emp_number; char temp [20]; VARCHAR emp_name [20]; / *获取输入主变量的值* / printf（“员工编号？“）; gets（temp）; emp_number = atoi（temp）; printf（”员工姓名？“）; gets（emp_name.arr）; emp_name.len = strlen（emp_name.arr）; EXEC SQL INSERT INTO EMP（EMPNO，ENAME）VALUES（：emp_number，：emp_name）;</pre><p>请注意，INSERT语句的VALUES子句中的输入主机变量以冒号为前缀。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="Oracle-dynamic-SQL.html#GUID-3B9E253A-F03D-431D-A77E-84C02C43F494">Oracle动态SQL</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
            </div><a id="LNPCC3343"></a><a id="LNPCC3344"></a><a id="LNPCC3342"></a><div class="props_rev_3"><a id="GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C" name="GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C"></a><h3 id="LNPCC-GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C" class="sect3"><span class="enumeration_section">6.2</span>指标变量</h3>
               <div>
                  <p>您可以将任何主机变量与可选的指示符变量相关联。每次在SQL语句中使用主机变量时，结果代码都存储在其关联的指示符变量中。因此，指标变量可让您监控主变量。 <a id="d30526e209" class="indexterm-anchor"></a><a id="d30526e213" class="indexterm-anchor"></a><a id="d30526e217" class="indexterm-anchor"></a><a id="d30526e221" class="indexterm-anchor"></a> 
                  </p>
                  <div class="infoboxnote" id="GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C__GUID-2BA1EC06-94C1-4EB9-AA75-B3158A1C473D">
                     <p class="notep1">注意：</p>
                     <p>您不能在PL / SQL块中使用单个主机变量的多个指示符变量。这样做会导致“并非所有变量绑定”错误。</p>
                  </div>
                  <p>您可以在VALUES或SET子句中使用指示符变量为输入主变量分配NULL。使用INTO子句中的指示符变量来检测输出主机变量中的NULL或截断值。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C__GUID-FA5E61C6-5C4B-4E1D-8ECE-290AF3ED8F0F">在输入上</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>程序可以赋给指标变量的值具有以下含义：</p>
                     <div class="tblformal" id="GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C__GUID-EC9F1503-AFEC-46E0-9500-33EF29B17CE3">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Variables" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d30526e245">变量</th>
                                 <th align="left" valign="bottom" width="71%" id="d30526e248">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d30526e253" headers="d30526e245 ">
                                    <p>-1</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d30526e253 d30526e248 ">
                                    <p>Oracle将为列分配NULL，忽略主机变量的值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d30526e260" headers="d30526e245 ">
                                    <p>&gt; = 0</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d30526e260 d30526e248 ">
                                    <p>Oracle会将主机变量的值分配给列。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C__GUID-A4ECAC5A-C258-4678-80FA-2DF8A151D754">关于输出</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Oracle可以分配给指标变量的值具有以下含义：</p>
                     <div class="tblformal" id="GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C__GUID-498465C5-100D-4E77-B258-4D650A0EFADD">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variables" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d30526e280">变量</th>
                                 <th align="left" valign="bottom" width="71%" id="d30526e284">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d30526e289" headers="d30526e280 ">
                                    <p>-1</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d30526e289 d30526e284 ">
                                    <p>列值为NULL，因此宿主变量的值是不确定的。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d30526e296" headers="d30526e280 ">
                                    <p>0</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d30526e296 d30526e284 ">
                                    <p>Oracle为主变量分配了完整的列值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d30526e303" headers="d30526e280 ">
                                    <p>&gt; 0</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d30526e303 d30526e284 ">
                                    <p>Oracle为主变量分配了截断的列值。指示符变量返回的整数是列值的原始长度，SQLCA中的SQLCODE设置为零。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d30526e310" headers="d30526e280 ">
                                    <p>-2</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d30526e310 d30526e284 ">
                                    <p>Oracle将截断的列变量分配给主变量，但无法确定原始列值（例如，LONG列）。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>请记住，指示符变量必须定义为2字节整数，并且在SQL语句中，必须以冒号为前缀，并且必须紧跟其主变量。 <a id="d30526e318" class="indexterm-anchor"></a><a id="d30526e322" class="indexterm-anchor"></a><a id="d30526e326" class="indexterm-anchor"></a><a id="d30526e330" class="indexterm-anchor"></a><a id="d30526e334" class="indexterm-anchor"></a> 
                     </p>
                  </div>
                  <!-- class="section" -->
               </div><a id="LNPCC3345"></a><div class="props_rev_3"><a id="GUID-C19A3CDD-92FE-4F00-AEBB-6F14C477BEB6" name="GUID-C19A3CDD-92FE-4F00-AEBB-6F14C477BEB6"></a><h4 id="LNPCC-GUID-C19A3CDD-92FE-4F00-AEBB-6F14C477BEB6" class="sect4"><span class="enumeration_section">6.2.1</span>插入NULL</h4>
                  <div>
                     <p>您可以使用指示符变量来INSERT NULL。在INSERT之前，对于要为NULL的每个列，将相应的指示符变量设置为-1，如以下示例所示： <a id="d30526e350" class="indexterm-anchor"></a><a id="d30526e354" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">设置ind_comm = -1; EXEC SQL INSERT INTO emp（empno，comm）VALUES（：emp_number，：commission：ind_comm）;</pre><p>指示符变量<span class="italic">ind_comm</span>指定将NULL存储在COMM列中。
                     </p>
                     <p>您可以改为对NULL进行硬编码，如下所示： <a id="d30526e368" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL INSERT INTO emp（empno，comm）VALUES（：emp_number，NULL）;</pre><p>虽然这不太灵活，但可能更具可读性。通常，您有条件地插入NULL，如下一个示例所示：</p><pre class="oac_no_warn" dir="ltr">printf（“输入员工编号，如果不可用则输入0：”）; scanf（“％d”，＆emp_number）; if（emp_number == 0）ind_empnum = -1;否则ind_empnum = 0; EXEC SQL INSERT INTO emp（empno，sal）VALUES（：emp_number：ind_empnum，：salary）;</pre></div>
               </div><a id="LNPCC3346"></a><div class="props_rev_3"><a id="GUID-EAF89001-C305-40CB-AB3F-B2401E41F890" name="GUID-EAF89001-C305-40CB-AB3F-B2401E41F890"></a><h4 id="LNPCC-GUID-EAF89001-C305-40CB-AB3F-B2401E41F890" class="sect4"><span class="enumeration_section">6.2.2</span>返回NULL</h4>
                  <div>
                     <p>您还可以使用指示符变量来处理返回的NULL，如以下示例所示： <a id="d30526e390" class="indexterm-anchor"></a><a id="d30526e394" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT ename，sal，comm INTO：emp_name，：salary，：commission：ind_comm FROM emp WHERE empno =：emp_number; if（ind_comm == -1）pay = salary; / *佣金为NULL;忽略它* /否支付=工资+佣金;</pre></div>
               </div><a id="LNPCC3347"></a><div class="props_rev_3"><a id="GUID-1560EFD0-EF58-45B1-AF97-4110307D7501" name="GUID-1560EFD0-EF58-45B1-AF97-4110307D7501"></a><h4 id="LNPCC-GUID-1560EFD0-EF58-45B1-AF97-4110307D7501" class="sect4"><span class="enumeration_section">6.2.3</span>获取NULL</h4>
                  <div>
                     <p>当DBMS = V7或DBMS = V8时，如果将SELECT或FETCH NULL转换为与指示符变量无关的主变量，Oracle会发出以下错误消息：</p><pre class="oac_no_warn" dir="ltr">ORA-01405：获取的列值为NULL</pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="precompiler-options.html#GUID-D85972A8-FA08-4BBC-B543-3F0BADBA0236">DBMS</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC3348"></a><div class="props_rev_3"><a id="GUID-0B9CE29C-E139-450D-9973-7A2B36B42928" name="GUID-0B9CE29C-E139-450D-9973-7A2B36B42928"></a><h4 id="LNPCC-GUID-0B9CE29C-E139-450D-9973-7A2B36B42928" class="sect4"><span class="enumeration_section">6.2.4</span>测试NULL</h4>
                  <div>
                     <p>您可以在WHERE子句中使用指示符变量来测试NULL，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT ename，sal INTO：emp_name ,: salary FROM emp WHERE：commission INDICATOR：ind_comm IS NULL ...
</pre><p>但是，您不能使用关系运算符来将NULL彼此或与其他值进行比较。例如，如果COMM列包含一个或多个NULL，则以下SELECT语句将失败： <a id="d30526e439" class="indexterm-anchor"></a><a id="d30526e443" class="indexterm-anchor"></a><a id="d30526e447" class="indexterm-anchor"></a><a id="d30526e451" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT ename，sal INTO：emp_name，：salary FROM emp WHERE comm =：commission;</pre><p>下一个示例显示了当一些值可能为NULL时如何比较相等的值：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT ename，sal INTO：emp_name ,: salary FROM emp WHERE（comm =：commission）OR（（comm IS NULL）AND（：commission INDICATOR：ind_comm IS NULL））;</pre></div>
               </div><a id="LNPCC3349"></a><div class="props_rev_3"><a id="GUID-E43563FD-F158-4A46-8769-DF2214A08E70" name="GUID-E43563FD-F158-4A46-8769-DF2214A08E70"></a><h4 id="LNPCC-GUID-E43563FD-F158-4A46-8769-DF2214A08E70" class="sect4"><span class="enumeration_section">6.2.5</span>截断值</h4>
                  <div>
                     <p>当DBMS = V7或V8时，如果SELECT或FETCH将截断的列值转换为与指示符变量无关的主变量，则会生成警告而不是错误。<a id="d30526e473" class="indexterm-anchor"></a></p>
                  </div>
               </div>
            </div><a id="LNPCC3350"></a><div class="props_rev_3"><a id="GUID-431532CF-1652-4EB6-AD2A-7E695744FADE" name="GUID-431532CF-1652-4EB6-AD2A-7E695744FADE"></a><h3 id="LNPCC-GUID-431532CF-1652-4EB6-AD2A-7E695744FADE" class="sect3"><span class="enumeration_section">6.3</span>基本SQL语句</h3>
               <div>
                  <p>可执行的SQL语句使您可以查询，操作和控制Oracle数据，以及创建，定义和维护Oracle对象，例如表，视图和索引。本章重点介绍查询和操作数据的语句。 <a id="d30526e489" class="indexterm-anchor"></a> 
                  </p>
                  <p>在执行INSERT，UPDATE或DELETE等数据操作语句时，除了设置任何输入主机变量的值之外，唯一需要考虑的是语句是成功还是失败。要找到答案，您只需查看SQLCA即可。 （执行任何SQL语句都会设置SQLCA变量。）您可以通过以下两种方式办理登机手续： <a id="d30526e496" class="indexterm-anchor"></a> 
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用WHENEVER语句进行隐式检查</p>
                     </li>
                     <li>
                        <p>显式检查SQLCA变量</p>
                     </li>
                  </ul>
                  <p>但是，在执行SELECT语句（查询）时，还必须处理它返回的数据行。查询可分为以下几类： <a id="d30526e510" class="indexterm-anchor"></a> 
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>不返回任何行的查询（即仅检查是否存在）</p>
                     </li>
                     <li>
                        <p>仅返回一行的查询</p>
                     </li>
                     <li>
                        <p>返回多行的查询</p>
                     </li>
                  </ul>
                  <p>返回多行的查询需要显式声明游标或使用<span class="italic">主机数组</span> （主机变量声明为数组）。 <a id="d30526e530" class="indexterm-anchor"></a><a id="d30526e535" class="indexterm-anchor"></a> 
                  </p>
                  <div class="infoboxnote" id="GUID-431532CF-1652-4EB6-AD2A-7E695744FADE__GUID-1C5997BA-6EDD-45DA-BCD5-2509DB898D3A">
                     <p class="notep1">注意：</p>
                     <p>主机阵列允许您处理行的“批次”。</p>
                  </div>
                  <p>本章假定使用标量主变量。</p>
                  <p>以下嵌入式SQL语句允许您查询和操作Oracle数据：</p>
                  <div class="tblformal" id="GUID-431532CF-1652-4EB6-AD2A-7E695744FADE__GUID-27C40AE6-5BE6-4CAE-ADF1-DA5BD62841D4">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Embedded SQL statements" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d30526e555">嵌入式SQL语句</th>
                              <th align="left" valign="bottom" width="71%" id="d30526e558">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d30526e563" headers="d30526e555 ">
                                 <p>选择</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d30526e563 d30526e558 ">
                                 <p>返回一个或多个表中的行。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d30526e570" headers="d30526e555 ">
                                 <p>插入</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d30526e570 d30526e558 ">
                                 <p>向表中添加新行。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d30526e577" headers="d30526e555 ">
                                 <p>UPDATE</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d30526e577 d30526e558 ">
                                 <p>修改表中的行。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d30526e584" headers="d30526e555 ">
                                 <p>删除</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d30526e584 d30526e558 ">
                                 <p>从表中删除不需要的行。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>以下嵌入式SQL语句允许您定义和操作显式游标：</p>
                  <div class="tblformal" id="GUID-431532CF-1652-4EB6-AD2A-7E695744FADE__GUID-427C3849-3DED-42EA-A988-61E22AFACDE2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Embedded SQL statements" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d30526e601">嵌入式SQL语句</th>
                              <th align="left" valign="bottom" width="71%" id="d30526e604">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d30526e609" headers="d30526e601 ">
                                 <p>宣布</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d30526e609 d30526e604 ">
                                 <p>命名游标并将其与查询相关联。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d30526e616" headers="d30526e601 ">
                                 <p>打开</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d30526e616 d30526e604 ">
                                 <p>执行查询并标识活动集。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d30526e623" headers="d30526e601 ">
                                 <p>取</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d30526e623 d30526e604 ">
                                 <p>前进游标并逐个检索活动集中的每一行。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d30526e630" headers="d30526e601 ">
                                 <p>关</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d30526e630 d30526e604 ">
                                 <p>禁用游标（活动集变为未定义）。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p><a id="d30526e637" class="indexterm-anchor"></a>以下部分首先介绍如何编写INSERT，UPDATE，DELETE和单行SELECT语句的代码。然后，您将进入多行SELECT语句。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="handling-run-time-errors.html#GUID-1ADFD2EB-B332-4362-9A85-F56FEDD4F72A">处理运行时错误</a></li>
                        <li><a href="host-arrays.html#GUID-6B57FBAE-0303-41B9-9056-5C20384442B7">主机阵列</a></li>
                        <li><a href="embedded-SQL-statements-and-directives.html#GUID-0ABBFB3E-F2BA-4906-8DEF-53EA78D758B5">嵌入式SQL语句和指令</a></li>
                        <li><a href="../sqlrf/index.html" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></li>
                     </ul>
                  </div>
               </div><a id="LNPCC3351"></a><div class="props_rev_3"><a id="GUID-F5BFD130-7C06-447A-965C-D0D76A9EDC21" name="GUID-F5BFD130-7C06-447A-965C-D0D76A9EDC21"></a><h4 id="LNPCC-GUID-F5BFD130-7C06-447A-965C-D0D76A9EDC21" class="sect4"><span class="enumeration_section">6.3.1</span> SELECT语句</h4>
                  <div>
                     <p>查询数据库是一种常见的SQL操作。要发出查询，请使用SELECT语句。在以下示例中，您将查询EMP表： <a id="d30526e679" class="indexterm-anchor"></a><a id="d30526e683" class="indexterm-anchor"></a><a id="d30526e687" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT ename，job，sal + 2000 INTO：emp_name，：job_title，：salary FROM emp WHERE empno =：emp_number;</pre><p>关键字SELECT后面的列名和表达式构成<span class="italic">选择列表</span> 。我们示例中的选择列表包含三个项目。在WHERE子句（以及以下子句，如果存在）中指定的条件下，Oracle将列值返回到INTO子句中的主变量。 <a id="d30526e697" class="indexterm-anchor"></a><a id="d30526e701" class="indexterm-anchor"></a><a id="d30526e705" class="indexterm-anchor"></a><a id="d30526e709" class="indexterm-anchor"></a><a id="d30526e713" class="indexterm-anchor"></a> 
                     </p>
                     <p>选择列表中的项目数应该等于INTO子句中的主机变量数，因此可以存储每个返回的值。 <a id="d30526e720" class="indexterm-anchor"></a> 
                     </p>
                     <p>在最简单的情况下，当查询返回一行时，其形式如上一个示例所示。但是，如果查询可以返回多行，则必须使用游标对行进行FETCH或将它们选择为主机变量数组。游标和FETCH语句将在本章后面讨论。</p>
                     <p>如果编写查询只返回一行但实际上可能返回多行，则SELECT的结果是不确定的。这是否会导致错误取决于您指定SELECT_ERROR选项的方式。如果返回多行，则默认值YES会生成错误。 <a id="d30526e729" class="indexterm-anchor"></a><a id="d30526e733" class="indexterm-anchor"></a> 
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="embedded-PL-SQL.html#GUID-4C56DC0E-B857-405D-B88E-93B19DD9FCF2">主机阵列</a></li>
                        </ul>
                     </div>
                  </div>
                  <a id="LNPCC3352"></a><div class="props_rev_3"><a id="GUID-0E4E7CD9-6451-4C24-85E4-B7CF5E5AD592" name="GUID-0E4E7CD9-6451-4C24-85E4-B7CF5E5AD592"></a><h5 id="LNPCC-GUID-0E4E7CD9-6451-4C24-85E4-B7CF5E5AD592" class="sect5"><span class="enumeration_section">6.3.1.1</span>可用条款</h5>
                     <div>
                        <p>您可以使用以下所有标准SQL子句</p>
                        <p>SELECT语句： <a id="d30526e760" class="indexterm-anchor"></a> 
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>INTO</p>
                           </li>
                           <li>
                              <p>从</p>
                           </li>
                           <li>
                              <p>哪里</p>
                           </li>
                           <li>
                              <p>连接</p>
                           </li>
                           <li>
                              <p>从...开始</p>
                           </li>
                           <li>
                              <p>通过...分组</p>
                           </li>
                           <li>
                              <p>HAVING</p>
                           </li>
                           <li>
                              <p>订购</p>
                           </li>
                           <li>
                              <p>更新</p>
                           </li>
                        </ul>
                        <p>除INTO子句外，可以使用SQL * Plus以交互方式执行和测试嵌入式SELECT语句的文本。在SQL * Plus中，您使用替换变量或常量而不是输入主机变量。 <a id="d30526e795" class="indexterm-anchor"></a><a id="d30526e799" class="indexterm-anchor"></a> 
                        </p>
                     </div>
                  </div>
               </div><a id="LNPCC3353"></a><div class="props_rev_3"><a id="GUID-5EED62A3-6FEE-4B0C-A6B5-B65D9206C51B" name="GUID-5EED62A3-6FEE-4B0C-A6B5-B65D9206C51B"></a><h4 id="LNPCC-GUID-5EED62A3-6FEE-4B0C-A6B5-B65D9206C51B" class="sect4"><span class="enumeration_section">6.3.2</span> INSERT语句</h4>
                  <div>
                     <p>使用INSERT语句向表或视图添加行。在以下示例中，您向EMP表添加一行： <a id="d30526e816" class="indexterm-anchor"></a><a id="d30526e820" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL INSERT INTO emp（empno，ename，sal，deptno）VALUES（：emp_number，：emp_name，：salary，：dept_number）;</pre><p>您在<span class="italic">列列表中</span>指定的每个列都必须属于INTO子句中指定的表。VALUES子句指定要插入的值行。值可以是常量，主变量，SQL表达式，SQL函数（如USER和SYSDATE）或用户定义的PL / SQL函数。
                     </p>
                     <p>VALUES子句中的值数必须等于列列表中的名称数。但是，如果VALUES子句包含表中每列的值（按表中定义的顺序），则可以省略列列表。<a id="d30526e834" class="indexterm-anchor"></a><a id="d30526e838" class="indexterm-anchor"></a><a id="d30526e842" class="indexterm-anchor"></a><a id="d30526e846" class="indexterm-anchor"></a><a id="d30526e850" class="indexterm-anchor"></a><a id="d30526e854" class="indexterm-anchor"></a><a id="d30526e858" class="indexterm-anchor"></a><a id="d30526e862" class="indexterm-anchor"></a></p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="embedded-SQL-statements-and-directives.html#GUID-EEF8462A-C5BE-46C8-AB35-700C748AAD96">INSERT（可执行嵌入式SQL）</a></li>
                        </ul>
                     </div>
                  </div>
                  <a id="LNPCC3354"></a><div class="props_rev_3"><a id="GUID-6C61194D-E824-47F8-B246-30C9045B815F" name="GUID-6C61194D-E824-47F8-B246-30C9045B815F"></a><h5 id="LNPCC-GUID-6C61194D-E824-47F8-B246-30C9045B815F" class="sect5"><span class="enumeration_section">6.3.2.1</span>关于使用子查询</h5>
                     <div>
                        <p><span class="italic">子查询</span>是嵌套的SELECT语句。子查询允许您进行多部分搜索。他们可以习惯<a id="d30526e889" class="indexterm-anchor"></a><a id="d30526e893" class="indexterm-anchor"></a> 
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>提供SELECT，UPDATE和DELETE语句的WHERE，HAVING和START WITH子句中的比较值</p>
                           </li>
                           <li>
                              <p>定义要由CREATE TABLE或INSERT语句插入的行集</p>
                           </li>
                           <li>
                              <p>定义UPDATE语句的SET子句的值</p>
                           </li>
                        </ul>
                        <p>以下示例使用INSERT语句中的子查询将行从一个表复制到另一个表： <a id="d30526e910" class="indexterm-anchor"></a><a id="d30526e914" class="indexterm-anchor"></a><a id="d30526e918" class="indexterm-anchor"></a> 
                        </p><pre class="oac_no_warn" dir="ltr">EXEC SQL INSERT INTO emp2（empno，ename，sal，deptno）SELECT empno，ename，sal，deptno FROM emp <a id="d30526e925" class="indexterm-anchor"></a><a id="d30526e929" class="indexterm-anchor"></a> WHERE job =：job_title;</pre><p>此INSERT语句使用子查询来获取中间结果。</p>
                     </div>
                  </div>
               </div><a id="LNPCC3355"></a><div class="props_rev_3"><a id="GUID-AA9A2949-19FA-44DD-865F-26B8371C35BF" name="GUID-AA9A2949-19FA-44DD-865F-26B8371C35BF"></a><h4 id="LNPCC-GUID-AA9A2949-19FA-44DD-865F-26B8371C35BF" class="sect4"><span class="enumeration_section">6.3.3</span>更新声明</h4>
                  <div>
                     <p>使用UPDATE语句更改表或视图中指定列的值。在以下示例中，我们更新<code class="codeph">EMP</code>表中的<code class="codeph">SAL</code>和<code class="codeph">COMM</code>列：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL UPDATE emp SET sal =：salary，comm =：commission WHERE empno =：emp_number;</pre><p>使用可选的WHERE子句指定更新行的条件。 <a id="d30526e960" class="indexterm-anchor"></a><a id="d30526e964" class="indexterm-anchor"></a> 
                     </p>
                     <p>SET子句列出了必须为其提供值的一个或多个列的名称。您可以使用子查询来提供值，如以下示例所示： <a id="d30526e971" class="indexterm-anchor"></a><a id="d30526e975" class="indexterm-anchor"></a><a id="d30526e979" class="indexterm-anchor"></a><a id="d30526e983" class="indexterm-anchor"></a><a id="d30526e987" class="indexterm-anchor"></a><a id="d30526e991" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL UPDATE emp SET sal =（SELECT AVG（sal）* 1.1 FROM emp WHERE deptno = 20）WHERE empno =：emp_number;</pre><p><a id="d30526e999" class="indexterm-anchor"></a> UPDATE语句有一个可选的<code class="codeph">returning clause</code> ，如INSERT和DELETE语句。只有在可选的WHERE条件之后才允许它。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="embedded-SQL.html#GUID-F9163C22-9785-42F2-B3B5-24C2D90976DF">WHERE子句</a></li>
                           <li><a href="embedded-SQL-statements-and-directives.html#GUID-1B941180-02B8-483F-B2F9-4A7563494922">更新（可执行的嵌入式SQL）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC3356"></a><div class="props_rev_3"><a id="GUID-FF282C49-097A-468E-81B8-64D1B4C78D30" name="GUID-FF282C49-097A-468E-81B8-64D1B4C78D30"></a><h4 id="LNPCC-GUID-FF282C49-097A-468E-81B8-64D1B4C78D30" class="sect4"><span class="enumeration_section">6.3.4</span> DELETE语句</h4>
                  <div>
                     <p>使用DELETE语句从表或视图中删除行。在以下示例中，您将从EMP表中删除给定部门中的所有员工： <a id="d30526e1033" class="indexterm-anchor"></a><a id="d30526e1037" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL DELETE FROM emp WHERE deptno =：dept_number;</pre><p>我们使用了可选的WHERE子句来指定删除行的条件。 <a id="d30526e1046" class="indexterm-anchor"></a><a id="d30526e1050" class="indexterm-anchor"></a>  
                     </p>
                     <p><a id="d30526e1056" class="indexterm-anchor"></a> <code class="codeph">returning clause</code>选项也可以在DELETE语句中使用。在可选的WHERE条件之后允许它。在前面的示例中，最好记录每个已删除员工的字段值。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="embedded-SQL-statements-and-directives.html#GUID-3CBB8492-128D-4234-8172-FAB5B599A67E">DELETE（可执行嵌入式SQL）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC3357"></a><div class="props_rev_3"><a id="GUID-F9163C22-9785-42F2-B3B5-24C2D90976DF" name="GUID-F9163C22-9785-42F2-B3B5-24C2D90976DF"></a><h4 id="LNPCC-GUID-F9163C22-9785-42F2-B3B5-24C2D90976DF" class="sect4"><span class="enumeration_section">6.3.5</span> WHERE子句</h4>
                  <div>
                     <p>使用WHERE子句仅对表或视图中符合搜索条件的行进行SELECT，UPDATE或DELETE操作。WHERE子句<span class="italic">搜索条件</span>是一个布尔表达式，可以包括标量主变量，主机数组（不在SELECT语句中），子查询和用户定义的存储函数。 <a id="d30526e1088" class="indexterm-anchor"></a><a id="d30526e1092" class="indexterm-anchor"></a><a id="d30526e1096" class="indexterm-anchor"></a><a id="d30526e1100" class="indexterm-anchor"></a><a id="d30526e1104" class="indexterm-anchor"></a> 
                     </p>
                     <p>如果省略WHERE子句，则处理表或视图中的所有行。如果省略UPDATE或DELETE语句中的WHERE子句，Oracle <code class="codeph">sqlwarn[4]</code> SQLCA中的<code class="codeph">sqlwarn[4]</code>设置为“W”，以警告所有行都已处理。 <a id="d30526e1114" class="indexterm-anchor"></a> 
                     </p>
                  </div>
               </div>
            </div><a id="LNPCC3358"></a><div class="props_rev_3"><a id="GUID-A44FA873-61D5-42AF-A93E-1CA2041D9A3D" name="GUID-A44FA873-61D5-42AF-A93E-1CA2041D9A3D"></a><h3 id="LNPCC-GUID-A44FA873-61D5-42AF-A93E-1CA2041D9A3D" class="sect3"><span class="enumeration_section">6.4</span> DML返还条款</h3>
               <div>
                  <p>INSERT，UPDATE和DELETE语句可以有一个可选项<a id="d30526e1136" class="indexterm-anchor"></a> <span class="italic">DML</span> returns <span class="italic">子句</span> ，它将列值表达式<span class="italic">expr</span>返回到主变量<span class="italic">hv</span> ，带有主机指示变量<span class="italic">iv。</span> DML返回子句如下所示：</p><pre class="oac_no_warn" dir="ltr">{返回| RETURN} {expr [，expr]} INTO {：hv [[INDICATOR]：iv] [，：hv [[INDICATOR]：iv]]}</pre><p>表达式的数量必须等于主机变量的数量。此子句消除了在INSERT或UPDATE之后以及在您需要为应用程序记录该信息时在DELETE之前选择行的需要。<code class="codeph">returning clause</code>消除了低效的网络往返，额外处理和服务器内存。
                  </p>
                  <p>Oracle Dynamic SQL方法4不支持DML返回子句;但ANSI动态SQL方法4。ANSI DYNAMIC SQL不支持使用影响多行的DML返回子句的DML语句。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="ANSI-dynamic-SQL.html#GUID-BF450DA3-B05F-403E-B5DF-C967A20524BF">ANSI动态SQL</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNPCC3359"></a><div class="props_rev_3"><a id="GUID-E53CD1B7-9E49-44E0-89DA-9A567E7CD7A8" name="GUID-E53CD1B7-9E49-44E0-89DA-9A567E7CD7A8"></a><h3 id="LNPCC-GUID-E53CD1B7-9E49-44E0-89DA-9A567E7CD7A8" class="sect3"><span class="enumeration_section">6.5</span>游标</h3>
               <div>
                  <p>当查询返回多行时，您可以显式定义游标<a id="d30526e1181" class="indexterm-anchor"></a><a id="d30526e1185" class="indexterm-anchor"></a></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>处理超出查询返回的第一行</p>
                     </li>
                     <li>
                        <p>跟踪当前正在处理的行</p>
                     </li>
                  </ul>
                  <p>或者，您可以使用主机阵列。</p>
                  <p>游标标识查询返回的行集中的当前行。这允许您的程序一次处理一行。以下语句允许您定义和操作游标： <a id="d30526e1200" class="indexterm-anchor"></a><a id="d30526e1204" class="indexterm-anchor"></a> 
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>DECLARE CURSOR</p>
                     </li>
                     <li>
                        <p>打开</p>
                     </li>
                     <li>
                        <p>取</p>
                     </li>
                     <li>
                        <p>关</p>
                     </li>
                  </ul>
                  <p>首先，使用DECLARE CURSOR语句命名游标并将其与查询相关联。 <a id="d30526e1224" class="indexterm-anchor"></a><a id="d30526e1228" class="indexterm-anchor"></a><a id="d30526e1232" class="indexterm-anchor"></a><a id="d30526e1236" class="indexterm-anchor"></a> 
                  </p>
                  <p>OPEN语句执行查询并标识满足查询搜索条件的所有行。这些行形成一个称为光标活动集的集合。打开游标后，您可以使用它来检索其关联查询返回的行。 <a id="d30526e1243" class="indexterm-anchor"></a><a id="d30526e1247" class="indexterm-anchor"></a> 
                  </p>
                  <p>逐个检索活动集的行（除非您使用主机数组）。您使用FETCH语句来检索活动集中的当前行。您可以重复执行FETCH，直到检索到所有行。 <a id="d30526e1254" class="indexterm-anchor"></a><a id="d30526e1258" class="indexterm-anchor"></a> 
                  </p>
                  <p>从活动集完成FETCHing行时，使用CLOSE语句禁用游标，并且活动集变为未定义。 <a id="d30526e1265" class="indexterm-anchor"></a><a id="d30526e1269" class="indexterm-anchor"></a> 
                  </p>
                  <p>以下部分介绍如何在应用程序中使用这些游标控制语句。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="embedded-PL-SQL.html#GUID-4C56DC0E-B857-405D-B88E-93B19DD9FCF2">主机阵列</a></li>
                     </ul>
                  </div>
               </div>
               <a id="LNPCC3360"></a><div class="props_rev_3"><a id="GUID-8B708FFD-6BAE-464E-A165-1DFB194B408C" name="GUID-8B708FFD-6BAE-464E-A165-1DFB194B408C"></a><h4 id="LNPCC-GUID-8B708FFD-6BAE-464E-A165-1DFB194B408C" class="sect4"><span class="enumeration_section">6.5.1</span> DECLARE CURSOR声明</h4>
                  <div>
                     <p>您可以使用DECLARE CURSOR语句通过为游标指定名称并将其与查询相关联来定义游标，如以下示例所示： <a id="d30526e1296" class="indexterm-anchor"></a><a id="d30526e1300" class="indexterm-anchor"></a><a id="d30526e1304" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE emp_cursor CURSOR FOR SELECT ename，empno，sal FROM emp WHERE deptno =：dept_number;</pre><p>游标名称是预编译器使用的标识符， <span class="italic">而不是</span>主机或程序变量，不应在声明部分中定义。因此，游标名称不能从一个预编译单元传递到另一个预编译单元。游标名称不能连字符。它们可以是任意长度，但只有前31个字符才有意义。对于ANSI兼容性，请使用不超过18个字符的游标名称。 <a id="d30526e1316" class="indexterm-anchor"></a><a id="d30526e1320" class="indexterm-anchor"></a> 
                     </p>
                     <p>提供预编译器选项CLOSE_ON_COMMIT以在命令行或配置文件中使用。当CLOSE_ON_COMMIT = YES时，任何未使用WITH HOLD子句声明的游标在COMMIT或ROLLBACK后关闭。<a id="d30526e1327" class="indexterm-anchor"></a><a id="d30526e1331" class="indexterm-anchor"></a></p>
                     <p>如果MODE的指定级别高于CLOSE_ON_COMMIT，则MODE优先。默认值为MODE = ORACLE，CLOSE_ON_COMMIT = NO。如果指定MODE = ANSI，则在COMMIT上将关闭不使用WITH HOLD子句的任何游标。应用程序将运行得更慢，因为游标已关闭并重新打开多次。当MODE = ANSI时设置CLOSE_ON_COMMIT = NO会导致性能提高。要查看MODE等宏选项如何影响微选项（如CLOSE_ON_COMMIT），请参阅<span class="q">“ <a href="precompiler-options.html#GUID-30E45A7E-6EDA-420E-BF53-9E52861BB708">选项值的优先顺序</a> ”</span> 。
                     </p>
                     <p>与游标关联的SELECT语句不能包含INTO子句。相反，INTO子句和输出主机变量列表是FETCH语句的一部分。 <a id="d30526e1344" class="indexterm-anchor"></a> 
                     </p>
                     <p>因为它是声明性的，所以DECLARE CURSOR语句必须在物理上（不仅仅是逻辑上）在引用游标的所有其他SQL语句之前。也就是说，不允许对游标的前向引用。在以下示例中，OPEN语句放错了位置： <a id="d30526e1351" class="indexterm-anchor"></a><a id="d30526e1355" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">...EXEC SQL OPEN emp_cursor; *  -  MISPLACED OPEN STATEMENT EXEC SQL DECLARE emp_cursor CURSOR FOR SELECT ename，empno，sal FROM emp WHERE ename =：emp_name;</pre><p>游标控制语句（DECLARE，OPEN，FETCH，CLOSE）必须全部出现在同一预编译单元中。例如，您不能在文件A中声明游标，然后在文件B中打开它。 <a id="d30526e1364" class="indexterm-anchor"></a><a id="d30526e1368" class="indexterm-anchor"></a> 
                     </p>
                     <p>您的宿主程序可以根据需要DECLARE尽可能多的游标。但是，在给定文件中，每个DECLARE语句都必须是唯一的。也就是说，您不能在一个预编译单元中使用相同的名称来声明两个游标，即使是跨块或过程也是如此，因为游标的范围在文件中是全局的。 <a id="d30526e1375" class="indexterm-anchor"></a><a id="d30526e1379" class="indexterm-anchor"></a> 
                     </p>
                     <p> <a id="d30526e1386" class="indexterm-anchor"></a>对于MODE = ANSI或CLOSE_ON_COMMIT = YES的用户，可以在DECLARE部分中使用WITH HOLD子句来覆盖由这两个选项定义的行为。设置这些选项后，将在发出COMMIT时关闭所有游标的行为。由于重新打开游标以继续处理的开销，这可能会对性能产生影响。仔细使用WITH HOLD可以加速在大多数方面需要符合ANSI标准的预编译程序。
                     </p>
                     <p>如果您将使用多个游标，则可能需要指定MAXOPENCURSORS选项。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="database-concepts.html#GUID-D244BF2E-4CC6-4353-9C8F-F7035DB2EE28">DECLARE CURSOR语句中的WITH HOLD子句</a></li>
                           <li><a href="precompiler-options.html#GUID-198ADD9B-90D5-4562-AD98-5BCF25216CF2">CLOSE_ON_COMMIT</a></li>
                           <li><a href="precompiler-options.html#GUID-FC726DCD-2AAE-4A4B-A293-C8C23382A9B5">预编译器选项</a></li>
                           <li><a href="performance-tuning.html#GUID-70BC5747-18C2-4017-AC44-500891008097">性能调优</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC3361"></a><div class="props_rev_3"><a id="GUID-52B5D251-CEE1-44C8-A1CF-B52ABFF28460" name="GUID-52B5D251-CEE1-44C8-A1CF-B52ABFF28460"></a><h4 id="LNPCC-GUID-52B5D251-CEE1-44C8-A1CF-B52ABFF28460" class="sect4"><span class="enumeration_section">6.5.2</span> OPEN声明</h4>
                  <div>
                     <p>您使用OPEN语句来执行查询并识别活动集。在以下示例中，您将打开名为<span class="italic">emp_cursor</span>的游标： <a id="d30526e1436" class="indexterm-anchor"></a><a id="d30526e1440" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL OPEN emp_cursor;</pre><p>OPEN将SQLCA中SQLERRD的第三个元素保留的行处理计数归零。但是，此时应用程序不会看到任何行。这由FETCH语句处理。</p>
                     <p>OPEN将光标定位在活动集的第一行之前。它还将SQLCA中SQLERRD的第三个元素保留的行处理计数归零。但是，此时实际上没有检索到任何行。这将由FETCH语句完成。 <a id="d30526e1451" class="indexterm-anchor"></a> 
                     </p>
                     <p>打开游标后，在重新打开游标之前，不会重新检查查询的输入主变量。因此，活动集不会改变。要更改活动集，必须重新打开光标。 <a id="d30526e1458" class="indexterm-anchor"></a><a id="d30526e1462" class="indexterm-anchor"></a> 
                     </p>
                     <p>通常，您应该在重新打开之前关闭游标。但是，如果指定MODE = ORACLE（默认值），则无需在重新打开游标之前关闭游标。这可以提高性能。</p>
                     <p>OPEN完成的工作量取决于三个预编译器选项的值：HOLD_CURSOR，RELEASE_CURSOR和MAXOPENCURSORS。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="precompiler-options.html#GUID-1FB02C5F-DCC0-453C-A6AB-246421712F74">关于使用预编译器选项</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC3362"></a><div class="props_rev_3"><a id="GUID-7FF86597-BB63-40C2-BFE4-09C618672EBA" name="GUID-7FF86597-BB63-40C2-BFE4-09C618672EBA"></a><h4 id="LNPCC-GUID-7FF86597-BB63-40C2-BFE4-09C618672EBA" class="sect4"><span class="enumeration_section">6.5.3</span> FETCH声明</h4>
                  <div>
                     <p>您可以使用FETCH语句从活动集中检索行，并指定将包含结果的输出主机变量。回想一下，与游标关联的SELECT语句不能包含INTO子句。相反，INTO子句和输出主机变量列表是FETCH语句的一部分。在以下示例中，您将FETCH INTO三个主机变量： <a id="d30526e1491" class="indexterm-anchor"></a><a id="d30526e1495" class="indexterm-anchor"></a><a id="d30526e1499" class="indexterm-anchor"></a><a id="d30526e1503" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL FETCH emp_cursor INTO：emp_name，：emp_number，：salary;</pre><p>游标必须先前已被DECLAREd和OPENed。第一次执行FETCH时，光标从活动集中的第一行之前移动到第一行。该行成为当前行。FETCH的每次后续执行都会将光标前进到活动集中的下一行，从而更改当前行。光标只能在活动集中向前移动。要返回已经被FETCHed的行，必须重新打开光标，然后在活动集的第一行再次开始。 <a id="d30526e1512" class="indexterm-anchor"></a><a id="d30526e1516" class="indexterm-anchor"></a><a id="d30526e1520" class="indexterm-anchor"></a><a id="d30526e1524" class="indexterm-anchor"></a> 
                     </p>
                     <p>如果要更改活动集，则必须将新值分配给与游标关联的查询中的输入主机变量，然后重新打开游标。当MODE = ANSI时，必须在重新打开之前关闭光标。 <a id="d30526e1531" class="indexterm-anchor"></a> 
                     </p>
                     <p>如下一个示例所示，您可以使用不同的输出主机变量集从同一个游标进行FETCH。但是，每个FETCH语句的INTO子句中的相应主机变量必须具有相同的数据类型。</p><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE emp_cursor CURSOR FOR SELECT ename，sal FROM emp WHERE deptno = 20; ...EXEC SQL OPEN emp_cursor; EXEC SQL WHENEVER未找到GOTO ......for（;;）{EXEC SQL FETCH emp_cursor INTO：emp_name1，：salary1; EXEC SQL FETCH emp_cursor INTO：emp_name2，：salary2; EXEC SQL FETCH emp_cursor INTO：emp_name3，：salary3; ...}</pre><p>如果活动集为空或不包含更多行，则FETCH将“找不到数据”错误代码返回到SQLCA中的<span class="italic">sqlcode</span> ，或SQLCODE或SQLSTATE状态变量。输出主机变量的状态是不确定的。（在典型程序中，WHENEVER NOT FOUND语句检测到此错误。）要重用光标，必须重新打开它。 <a id="d30526e1545" class="indexterm-anchor"></a><a id="d30526e1549" class="indexterm-anchor"></a>  
                     </p>
                     <p>在以下条件下，游标上的FETCH是错误的：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在打开光标之前</p>
                        </li>
                        <li>
                           <p>在“没有数据发现”的情况下</p>
                        </li>
                        <li>
                           <p>关闭它之后</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNPCC3363"></a><div class="props_rev_3"><a id="GUID-F7148B26-C699-4924-8C18-A5451F199A11" name="GUID-F7148B26-C699-4924-8C18-A5451F199A11"></a><h4 id="LNPCC-GUID-F7148B26-C699-4924-8C18-A5451F199A11" class="sect4"><span class="enumeration_section">6.5.4</span> CLOSE声明</h4>
                  <div>
                     <p>当从活动集完成FETCHing行时，您关闭游标以释放通过打开游标获取的资源，例如存储。关闭游标时，将释放解析锁。释放的资源取决于您指定HOLD_CURSOR和RELEASE_CURSOR选项的方式。在以下示例中，您将关闭名为<span class="italic">emp_cursor</span>的游标： <a id="d30526e1580" class="indexterm-anchor"></a><a id="d30526e1584" class="indexterm-anchor"></a><a id="d30526e1588" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL CLOSE emp_cursor;</pre><p>您无法从关闭的游标进行FETCH，因为其活动集未定义。如有必要，您可以重新打开游标（例如，输入主机变量的新值）。</p>
                     <p>当MODE = ORACLE时，发出COMMIT或ROLLBACK将关闭CURRENT OF子句中引用的游标。其他游标不受COMMIT或ROLLBACK的影响，如果打开，则保持打开状态。但是，当MODE = ANSI时，发出COMMIT或ROLLBACK会关闭<span class="italic">所有</span>显式游标。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="database-concepts.html#GUID-54B5B0C8-CB28-4E84-A52C-F05CEBA92539">数据库概念</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
            </div><a id="LNPCC3364"></a><div class="props_rev_3"><a id="GUID-EE1C3E7B-AEE5-4514-9D57-36C71E35D829" name="GUID-EE1C3E7B-AEE5-4514-9D57-36C71E35D829"></a><h3 id="LNPCC-GUID-EE1C3E7B-AEE5-4514-9D57-36C71E35D829" class="sect3"><span class="enumeration_section">6.6可</span>滚动游标</h3>
               <div>
                  <p>可滚动游标是Oracle执行SQL语句并存储在执行期间处理的信息的工作区。</p>
                  <p>执行游标时，查询结果将放入一组称为结果集的行中。结果集可以按顺序或非顺序获取。非顺序结果集称为可滚动游标。</p>
                  <p>可滚动游标使用户能够以前向，后向和随机方式访问数据库结果集的行。这使程序能够获取结果集中的任何行。请参阅<span class="italic">Oracle调用接口程序员指南</span> 9.2.0版。
                  </p>
               </div><a id="LNPCC3365"></a><div class="props_rev_3"><a id="GUID-A492A864-B7B7-4154-A309-1759C16BFE57" name="GUID-A492A864-B7B7-4154-A309-1759C16BFE57"></a><h4 id="LNPCC-GUID-A492A864-B7B7-4154-A309-1759C16BFE57" class="sect4"><span class="enumeration_section">6.6.1</span>关于使用可滚动游标</h4>
                  <div>
                     <p>以下语句允许您定义和操作可滚动游标。</p>
                  </div><a id="LNPCC3366"></a><div class="props_rev_3"><a id="GUID-6454C7D0-C2B1-490E-A9EB-6C213E9824E8" name="GUID-6454C7D0-C2B1-490E-A9EB-6C213E9824E8"></a><h5 id="LNPCC-GUID-6454C7D0-C2B1-490E-A9EB-6C213E9824E8" class="sect5"><span class="enumeration_section">6.6.1.1</span> DECLARE SCROLL CURSOR</h5>
                     <div>
                        <p>您可以使用DECLARE &lt;游标名称&gt; SCROLL CURSOR语句来命名可滚动游标并将其与查询相关联。</p>
                     </div>
                  </div><a id="LNPCC3367"></a><div class="props_rev_3"><a id="GUID-DEAA1B55-99AF-4663-8D90-0030298737C5" name="GUID-DEAA1B55-99AF-4663-8D90-0030298737C5"></a><h5 id="LNPCC-GUID-DEAA1B55-99AF-4663-8D90-0030298737C5" class="sect5"><span class="enumeration_section">6.6.1.2</span>可滚动游标的OPEN</h5>
                     <div>
                        <p>您可以使用与不可滚动游标相同的方式使用OPEN语句。</p>
                     </div>
                  </div><a id="LNPCC3368"></a><div class="props_rev_3"><a id="GUID-4A83493B-A718-4D37-A1C5-35C0F1633B9F" name="GUID-4A83493B-A718-4D37-A1C5-35C0F1633B9F"></a><h5 id="LNPCC-GUID-4A83493B-A718-4D37-A1C5-35C0F1633B9F" class="sect5"><span class="enumeration_section">6.6.1.3</span>可滚动游标的FETCH</h5>
                     <div>
                        <p>您可以使用FETCH语句以随机方式获取所需的行。应用程序可以直接向上或向下获取行，第一行或最后一行，或以随机方式获取任何一行。</p>
                        <p>FETCH语句提供以下选项。</p>
                        <ol>
                           <li>
                              <p>FETCH FIRST</p>
                              <p>从结果集中获取第一行。</p>
                           </li>
                           <li>
                              <p>FETCH PRIOR</p>
                              <p>获取当前行之前的行。</p>
                           </li>
                           <li>
                              <p>FETCH NEXT</p>
                              <p>从当前位置获取下一行。这与不可滚动的游标FETCH相同。</p>
                           </li>
                           <li>
                              <p>FETCH LAST</p>
                              <p>从结果集中获取最后一行。</p>
                           </li>
                           <li>
                              <p>FETCH CURRENT</p>
                              <p>获取当前行。</p>
                           </li>
                           <li>
                              <p>FETCH RELATIVE <span class="italic">n</span> 
                              </p>
                              <p>取相对于当前行，其中<span class="italic">n</span>是偏移量的第<span class="italic">n</span>行。
                              </p>
                           </li>
                           <li>
                              <p>FETCH ABSOLUTE <span class="italic">n</span></p>
                              <p>获取第<span class="italic">n</span>行，其中<span class="italic">n</span>是结果集开头的偏移量。
                              </p>
                           </li>
                        </ol>
                        <p>以下示例描述如何从结果集中FETCH最后一条记录。</p><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE emp_cursor用于SELECT ename的SCROLL CURSOR，sal FROM emp WHERE deptno = 20; ...EXEC SQL OPEN emp_cursor; EXEC SQL FETCH LAST emp_cursor INTO：emp_name，：sal; EXEC SQL CLOSE emp_cursor;</pre></div>
                  </div><a id="LNPCC3369"></a><div class="props_rev_3"><a id="GUID-6E4D1E96-351E-4CB8-8B96-45C98417C2F8" name="GUID-6E4D1E96-351E-4CB8-8B96-45C98417C2F8"></a><h5 id="LNPCC-GUID-6E4D1E96-351E-4CB8-8B96-45C98417C2F8" class="sect5"><span class="enumeration_section">6.6.1.4</span>关闭可滚动游标</h5>
                     <div>
                        <p>您可以使用CLOSE语句，方法与不可滚动游标的情况相同。</p>
                        <div class="infoboxnote" id="GUID-6E4D1E96-351E-4CB8-8B96-45C98417C2F8__GUID-C4852387-5ACD-4E60-B3B8-810B67DD23F5">
                           <p class="notep1">注意：</p>
                           <p>您不能将可滚动游标用于REF游标。</p>
                        </div>
                     </div>
                  </div>
               </div><a id="LNPCC3370"></a><div class="props_rev_3"><a id="GUID-7532E1DD-B2BF-4935-93AF-5413D02B2F54" name="GUID-7532E1DD-B2BF-4935-93AF-5413D02B2F54"></a><h4 id="LNPCC-GUID-7532E1DD-B2BF-4935-93AF-5413D02B2F54" class="sect4"><span class="enumeration_section">6.6.2</span> CLOSE_ON_COMMIT预编译器选项</h4>
                  <div>
                     <p>CLOSE_ON_COMMIT微预编译器选项提供了在执行COMMIT时选择是否关闭所有游标以及宏选项MODE = ANSI的功能。当MODE = ANSI时，CLOSE_ON_COMMIT具有默认值YES。显式设置CLOSE_ON_COMMIT = NO会带来更好的性能，因为执行COMMIT时不会关闭游标，无需重新打开游标并产生额外的解析。</p>
                  </div>
               </div><a id="LNPCC3371"></a><div class="props_rev_3"><a id="GUID-C8C8A9BF-DDC8-44D8-9DF8-87476A268EC9" name="GUID-C8C8A9BF-DDC8-44D8-9DF8-87476A268EC9"></a><h4 id="LNPCC-GUID-C8C8A9BF-DDC8-44D8-9DF8-87476A268EC9" class="sect4"><span class="enumeration_section">6.6.3</span> PREFETCH预编译器选项</h4>
                  <div>
                     <p>预编译器选项PREFETCH通过预取给定数量的行来允许更有效的查询。这减少了所需的服务器往返次数并减少了总体内存使用量。PREFETCH选项值设置的行数用于涉及显式游标的所有查询，受标准优先级规则的约束。在内联使用时，PREFETCH选项必须位于以下任何游标语句之前：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>EXEC SQL OPEN <span class="italic">游标</span></p>
                        </li>
                        <li>
                           <p>EXEC SQL OPEN <span class="italic">游标</span>使用<span class="italic">host_var_list</span></p>
                        </li>
                        <li>
                           <p>EXEC SQL OPEN <span class="italic">游标</span>使用DESCRIPTOR <span class="italic">desc_name</span></p>
                        </li>
                     </ul>
                     <p>执行OPEN时，PREFETCH的值给出执行查询时要预取的行数。您可以将值设置为0（无预取）到65535。默认值为1。</p>
                     <div class="infoboxnote" id="GUID-C8C8A9BF-DDC8-44D8-9DF8-87476A268EC9__GUID-2BAB62C1-9A91-4E6A-A386-2F31449220BD">
                        <p class="notep1">注意：</p>
                        <p>PREFETCH选项的默认值为1  - 每次往返返回一行。如果选择不使用PREFETCH选项，则必须使用命令行，通过将PREFETCH选项设置为0来显式禁用它。</p>
                        <p>检索LONG或LOB列时会自动禁用PREFETCH。</p>
                     </div>
                     <div class="infoboxnote" id="GUID-C8C8A9BF-DDC8-44D8-9DF8-87476A268EC9__GUID-5FFB8216-BFD9-4DBF-B4C7-20B5157537E6">
                        <p class="notep1">注意：</p>
                        <p>PREFETCH主要用于增强单行读取的性能。使用数组提取时，PREFETCH无效。</p>
                     </div>
                     <div class="infoboxnote" id="GUID-C8C8A9BF-DDC8-44D8-9DF8-87476A268EC9__GUID-48787400-709D-4AC6-AB88-26FC5FE6CDF2">
                        <p class="notep1">注意：</p>
                        <p>应明智地使用PREFETCH选项，并根据具体情况使用。选择适当的PREFETCH值，以优化特定FETCH语句的性能。要完成此操作，请使用内联预取选项而不是命令行预取选项。</p>
                     </div>
                     <div class="infoboxnote" id="GUID-C8C8A9BF-DDC8-44D8-9DF8-87476A268EC9__GUID-47928E09-90F6-4EC2-AD11-C5965F3B0ECD">
                        <p class="notep1">注意：</p>
                        <p>通过在FETCH语句中使用带有主变量的指示符变量，可以简化许多大型应用程序的性能。</p>
                        <p>要使预编译器应用程序在单行读取时使用PREFETCH选项获得最大优势，强烈建议您使用指示符变量。</p>
                     </div>
                  </div>
               </div>
            </div><a id="LNPCC3372"></a><div class="props_rev_3"><a id="GUID-F6C600D0-D49D-4C24-910E-A4153C8818CD" name="GUID-F6C600D0-D49D-4C24-910E-A4153C8818CD"></a><h3 id="LNPCC-GUID-F6C600D0-D49D-4C24-910E-A4153C8818CD" class="sect3"><span class="enumeration_section">6.7</span>优化器提示</h3>
               <div>
                  <p>Pro * C / C ++预编译器支持SQL语句中的优化器提示。<span class="italic">优化器提示</span>是对Oracle SQL优化器的建议，可以覆盖通常采用的优化方法。您可以使用提示来指定</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>SQL语句的优化方法</p>
                     </li>
                     <li>
                        <p>每个引用表的访问路径</p>
                     </li>
                     <li>
                        <p>加入加入订单</p>
                     </li>
                     <li>
                        <p>用于连接表的方法</p>
                     </li>
                  </ul>
                  <p>提示允许您在基于规则和基于成本的优化之间进行选择。通过基于成本的优化，您可以使用进一步的提示来最大化吞吐量或响应时间。</p>
               </div><a id="LNPCC3373"></a><div class="props_rev_3"><a id="GUID-9A0463A4-8321-40DA-B6BB-78E0C1629E7C" name="GUID-9A0463A4-8321-40DA-B6BB-78E0C1629E7C"></a><h4 id="LNPCC-GUID-9A0463A4-8321-40DA-B6BB-78E0C1629E7C" class="sect4"><span class="enumeration_section">6.7.1</span>发布提示</h4>
                  <div>
                     <p>您可以在SELECT，DELETE或UPDATE命令之后立即在C或C ++样式注释中发出优化程序提示。您通过在注释开启器后面加上加号来指示注释包含一个或多个提示，在开启者和“+”之间不留空格。例如，以下语句使用ALL_ROWS提示让基于成本的方法优化语句以实现最佳吞吐量目标：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT / * + ALL_ROWS（基于成本）* / empno，ename，sal，job INTO：emp_rec FROM emp WHERE deptno =：dept_number;</pre><p>如此语句所示，注释可以包含优化器提示以及其他注释。</p>
                  </div>
               </div>
            </div><a id="LNPCC3375"></a><a id="LNPCC3374"></a><div class="props_rev_3"><a id="GUID-BA6FB717-6577-45D7-87A9-ECC60FECD9AA" name="GUID-BA6FB717-6577-45D7-87A9-ECC60FECD9AA"></a><h3 id="LNPCC-GUID-BA6FB717-6577-45D7-87A9-ECC60FECD9AA" class="sect3"><span class="enumeration_section">6.8</span>修复执行计划</h3>
               <div>
                  <p>在一个环境中开发模块，然后集成并部署到另一个环境中的应用程序开发环境中，应用程序的性能会受到影响。有时，预编译器应用程序的性能会受到数据库环境变化的影响。这些可能包括优化程序统计信息的更改，优化程序设置的更改或影响内存结构大小的参数更改。</p>
                  <p>要在开发环境中修复Pro * C / C ++中使用的SQL的执行计划，您需要在预编译时使用Oracle的大纲功能。大纲实现为一组与SQL语句关联的优化程序提示。如果您为语句启用了大纲，Oracle会自动考虑存储的提示，并尝试根据这些提示生成执行计划。通过这种方式，您可以确保在将模块集成或部署到不同环境时不会影响性能。</p>
                  <p>您可以使用以下SQL语句在Pro * C / C ++中创建轮廓：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">选择</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">删除</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">UPDATE</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">插入 ...选择</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">创建表...选择</code></p>
                     </li>
                  </ul>
                  <p>如果设置了outline选项，则预编译器会在成功预编译结束时生成两个文件，一个SQL文件和一个LOG文件。命令行选项<code class="codeph">outline</code>和<code class="codeph">outlnprefix</code>控制<code class="codeph">outline</code>的生成。
                  </p>
                  <p>每个生成的大纲名称都是唯一的由于应用程序中使用的文件名是唯一的，因此此信息用于生成大纲名称。此外，类别名称也是前缀。</p>
                  <div class="infoboxnote" id="GUID-BA6FB717-6577-45D7-87A9-ECC60FECD9AA__GUID-F13DF40D-4FCD-48ED-83E9-860AB54AA8BC">
                     <p class="notep1">警告：</p>
                     <p>Oracle仅允许128个字节的大纲名称。如果超出限制，预编译器将标记错误。您可以使用<code class="codeph">outlnprefix</code>选项限制大纲名称的长度。
                     </p>
                  </div>
                  <div class="example" id="GUID-BA6FB717-6577-45D7-87A9-ECC60FECD9AA__GUID-25EFF081-46E9-43CA-9BE0-D62B9BF457F2">
                     <p class="titleinexample">示例6-1生成包含轮廓的SQL文件</p>
                     <p>您需要使用outline选项预编译以下程序，以生成包含此程序中所有支持大纲的SQL语句的大纲的SQL文件。</p><pre class="oac_no_warn" dir="ltr">/ * * outlndemo.pc * *将为以下SQL操作创建轮廓，* 1。创建 ...SELECT * 2。插入 ...SELECT * 3。更新* 4。删除* 5。SELECT * / #include &lt;stdio.h&gt; #include &lt;string.h&gt; #include &lt;stdlib.h&gt; #include &lt;sqlda.h&gt; #include &lt;sqlcpr.h&gt; #include &lt;sqlca.h&gt; / *错误处理函数。* / void sql_error（char * msg）{exec sql每当sqlerror继续; printf（“\ n％s \ n”，msg）; printf（“％。70s \ n”，sqlca.sqlerrm.sqlerrmc）; exec sql rollback release;出口（EXIT_FAILURE）; } int main（）{varchar ename [10]; varchar job [9]; float sal，comm; exec sql begin declare section; char * uid =“scott / tiger”; exec sql end declare section; exeler sql每当sqlerror执行sql_error（“ORACLE error  -  \ n”）; exec sql connect：uid; exec sql insert into bonus select ename，job，sal，comm from emp where where'SALESMAN'; exec sql update bonus set sal = sal * 1.1其中sal &lt;1500; exec sql声明c1游标，用于选择ename，job，sal，comm来自sal的奖励顺序; exec sql open c1; printf（“更新的BONUS表的内容\ n \ n”）; printf（“ENAME JOB SALARY COMMISSION \ n \ n”）; exec sql什么都没找到做破坏; while（1）{exec sql fetch c1 into：ename，：job，：sal，：comm; ename.arr [ename.len] = '\ 0'; job.arr [job.len] = '\ 0'; printf（“％-9s％-9s％8.2f％8.2f \ n”，ename.arr，job.arr，sal，comm）; } exec sql close c1; exec sql什么都没找到做sql_error（“ORACLE error  -  \ n”）; exec sql从奖金中删除; exec sql create table outlndemo_tab as select empno，ename，sal from emp where deptno = 10; / *不会为此DDL语句创建大纲* / exec sql drop table outlndemo_tab; exec sql rollback工作版;出口（EXIT_SUCCESS）; }</pre></div>
                  <!-- class="example" -->
               </div><a id="LNPCC3377"></a><a id="LNPCC3376"></a><div class="props_rev_3"><a id="GUID-04D280DC-CE7E-4CC6-9D9A-98377F9ADFA2" name="GUID-04D280DC-CE7E-4CC6-9D9A-98377F9ADFA2"></a><h4 id="LNPCC-GUID-04D280DC-CE7E-4CC6-9D9A-98377F9ADFA2" class="sect4"><span class="enumeration_section">6.8.1</span> SQL文件</h4>
                  <div>
                     <p>生成的文件名具有以下格式：</p><pre class="oac_no_warn" dir="ltr">&lt;文件名&gt; _ &lt;文件类型&gt; .SQL</pre><p>在Pro * C中，对于文件“abc.pc”，生成的SQL文件将为abc_pc.sql。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-04D280DC-CE7E-4CC6-9D9A-98377F9ADFA2__GUID-43529950-B141-4772-BF1E-0F2AE68CBBE8">生成的文件格式</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果未使用outlnprefix选项，则用作大纲名称和注释的唯一标识符的格式为：</p><pre class="oac_no_warn" dir="ltr">&lt;category_name&gt; _ &lt;filename&gt; _ &lt;filetype&gt; _ &lt;序列号&gt;</pre><p>如果使用outlnprefix选项（outlnprefix = &lt;prefix_name&gt;），则用作大纲名称和注释的唯一标识符的格式为：</p><pre class="oac_no_warn" dir="ltr">&lt;prefix_name&gt; _ &lt;序列号&gt;</pre><p>如果outline = yes，这是默认类别，则&lt;category_name&gt;将为DEFAULT，大纲名称将为：</p><pre class="oac_no_warn" dir="ltr">DEFAULT_ &lt;文件名&gt; _ &lt;文件类型&gt; _ &lt;序列号&gt;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">&lt;prefix_name&gt; _ &lt;序列号&gt;</pre><p><code class="codeph">&lt;sequence no.&gt;</code>的允许范围是0000到9999。
                        </p>
                        <p>生成的预编译文件中的SQL将附加注释，因为它出现在该SQL的大纲中。</p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNPCC3379"></a><a id="LNPCC3380"></a><a id="LNPCC3381"></a><a id="LNPCC3382"></a><a id="LNPCC3383"></a><a id="LNPCC3384"></a><a id="LNPCC3385"></a><a id="LNPCC3386"></a><a id="LNPCC3387"></a><a id="LNPCC3378"></a><div class="props_rev_3"><a id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54" name="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54"></a><h5 id="LNPCC-GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54" class="sect5"><span class="enumeration_section">6.8.1.1</span>示例</h5>
                     <div>
                        <p>请考虑以下示例。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-05A02C02-F79C-43FE-9CA8-E80215C661B2">例1</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>如果abc.pc有语句</p><pre class="oac_no_warn" dir="ltr">EXEC SQL select * from emp其中empno =：var; EXEC SQL select * from dept;</pre><p>如果未使用outline = mycat1和outlnprefix，则：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-6ADBA2DA-7805-4814-B872-FF920B660730">abc_pc.sql的内容</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>在<code class="codeph">select * from emp where empno=:b1 /* mycat1_abc_pc_0000 */</code>为mycat1类别创建或替换大纲mycat1_abc_pc_0000， <code class="codeph">select * from emp where empno=:b1 /* mycat1_abc_pc_0000 */</code> <code class="codeph">;</code></p>
                           <p>在<code class="codeph">select * from dept /* mycat1_abc_pc_0001 */;</code>上为类别mycat1创建或替换大纲mycat1_abc_pc_0001 <code class="codeph">select * from dept /* mycat1_abc_pc_0001 */;</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-7BC0DF8B-D9D8-42C9-9F21-78E131EF4804">abc.c的内容</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">sqlstm.stmt = select * from emp其中empno =：b1 / * mycat1_abc_pc_0000 * /; sqlstm.stmt = select * from dept / * mycat1_abc_pc_0001 * /;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-C82E7C58-B085-4DCC-A53C-A331341F5357">例2</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>如果abc.pc有语句</p><pre class="oac_no_warn" dir="ltr">EXEC SQL select * from emp其中empno =：var; EXEC SQL select * from dept;</pre><p>如果outline = mycat1和outlnprefix = myprefix，则：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-04599602-B443-4E59-A730-AD674ED4D6A3">abc_pc.sql的内容</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>在<code class="codeph">select * from emp where empno=:b1 /* myprefix_0000 */;</code>为类别mycat1创建或替换大纲myprefix_0000， <code class="codeph">select * from emp where empno=:b1 /* myprefix_0000 */;</code></p>
                           <p>在<code class="codeph">select * from dept /* myprefix_0001 */;</code>上为类别mycat1创建或替换大纲myprefix_0001 <code class="codeph">select * from dept /* myprefix_0001 */;</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-9FAB2A28-5418-4344-9C0B-7AA43149A0D9">abc.c的内容</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">sqlstm.stmt = select * from emp其中empno =：b1 / * myprefix_0000 * /; sqlstm.stmt = select * from dept / * myprefix_0001 * /;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-B6AB7B18-54E2-4CEC-B436-047960CC2E5A">例3</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>如果abc.pc有语句</p><pre class="oac_no_warn" dir="ltr">EXEC SQL select * from emp其中empno =：var; EXEC SQL select * from dept;</pre><p>如果outline = yes和outlnprefix = myprefix，则：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-D49F0F6D-D470-431B-A6A1-15811B94A2D3">abc_pc.sql的内容</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>在<code class="codeph">select * from emp where empno=:b1 /* myprefix_0000 */;</code>创建或替换大纲myprefix_0000， <code class="codeph">select * from emp where empno=:b1 /* myprefix_0000 */;</code></p>
                           <p>在<code class="codeph">select * from dept /* myprefix_0001 */;</code>上创建或替换outline myprefix_0001 <code class="codeph">select * from dept /* myprefix_0001 */;</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-6318BB75-3D9A-41BB-A1CD-9DC51FA5DFC1">abc.c的内容</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">sqlstm.stmt =“select * from emp where empno =：b1 / * myprefix_0000 * /; sqlstm.stmt =”select * from dept / * myprefix_0001 * /“;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="LNPCC3389"></a><a id="LNPCC3390"></a><a id="LNPCC3388"></a><div class="props_rev_3"><a id="GUID-CAEDB406-ED5D-4A0A-A3FB-2A4AE1830414" name="GUID-CAEDB406-ED5D-4A0A-A3FB-2A4AE1830414"></a><h4 id="LNPCC-GUID-CAEDB406-ED5D-4A0A-A3FB-2A4AE1830414" class="sect4"><span class="enumeration_section">6。6。2</span>日志文件</h4>
                  <div>
                     <p>生成的文件名具有以下格式：</p><pre class="oac_no_warn" dir="ltr">&lt;文件名&gt; _ &lt;文件类型&gt; .log中</pre><p>在Pro * C中，对于文件“abc.pc”，生成的LOG文件将为abc_pc.log。</p>
                     <p>请考虑以下示例。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CAEDB406-ED5D-4A0A-A3FB-2A4AE1830414__GUID-99308A40-BC12-43BE-B18E-7ACAAE88746B">例1</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果abc.pc有语句</p><pre class="oac_no_warn" dir="ltr">EXEC SQL select * from emp;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CAEDB406-ED5D-4A0A-A3FB-2A4AE1830414__GUID-7A983199-20EF-4007-9EF3-2A5831CC8A96">abc_pc.log的内容</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">CATEGORY &lt;Category_name&gt;源SQL_0 SELECT * FROM emp OUTLINE NAME abc_pc_0000 OUTLINE SQL_0选择* from emp / * abc_pc_0000 * /</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNPCC3391"></a><div class="props_rev_3"><a id="GUID-CB61E704-AA77-4F5F-BF67-A3E4F58C63C6" name="GUID-CB61E704-AA77-4F5F-BF67-A3E4F58C63C6"></a><h3 id="LNPCC-GUID-CB61E704-AA77-4F5F-BF67-A3E4F58C63C6" class="sect3"><span class="enumeration_section">6.9</span>当前条款</h3>
               <div>
                  <p>您可以在DELETE或UPDATE语句中使用CURRENT OF <span class="italic">cursor_name</span>子句来引用指定游标中的最新行FETCHed。光标必须打开并放在一行上。如果未执行FETCH或游标未打开，则CURRENT OF子句将导致错误并且不处理任何行。 <a id="d30526e2145" class="indexterm-anchor"></a><a id="d30526e2149" class="indexterm-anchor"></a> 
                  </p>
                  <p>当您DECLARE UPDATE或DELETE语句的CURRENT OF子句中引用的游标时，FOR UPDATE OF子句是可选的。CURRENT OF子句指示预编译器在必要时添加FOR UPDATE子句。</p>
                  <p>在以下示例中，您使用CURRENT OF子句来引用名为<span class="italic">emp_cursor</span>的游标中的最新行<span class="italic">FETCHed</span> ： <a id="d30526e2161" class="indexterm-anchor"></a> 
                  </p><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE emp_cursor CURSOR FOR SELECT ename，sal FROM emp WHERE job ='CLERK'for saldate of sal; ...EXEC SQL OPEN emp_cursor; EXEC SQL WHENEVER未找到GOTO ......for（;;）{EXEC SQL FETCH emp_cursor INTO：emp_name，：salary; ...EXEC SQL UPDATE emp SET sal =：new_salary WHERE CURRENT OF emp_cursor; }</pre></div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="database-concepts.html#GUID-B44AF482-9E22-4C39-AC53-D9C4E5F61D96">使用FOR UPDATE OF</a></li>
                     </ul>
                  </div>
               </div>
               <a id="LNPCC3392"></a><div class="props_rev_3"><a id="GUID-9CAF3199-6834-428D-BCD3-001292F465E2" name="GUID-9CAF3199-6834-428D-BCD3-001292F465E2"></a><h4 id="LNPCC-GUID-9CAF3199-6834-428D-BCD3-001292F465E2" class="sect4"><span class="enumeration_section">6.9.1</span>限制（更新）</h4>
                  <div>
                     <p>您不能在索引组织表上使用CURRENT OF子句。</p>
                     <p>显式FOR UPDATE OF子句或隐式FOR UPDATE子句获取独占行锁。所有行都在OPEN处锁定，而不是因为它们是FETCHed，并且在COMMIT或ROLLBACK时释放。因此，在COMMIT之后，您无法从FOR UPDATE游标进行FETCH。如果您尝试这样做，Oracle将返回1002错误代码。 <a id="d30526e2190" class="indexterm-anchor"></a><a id="d30526e2194" class="indexterm-anchor"></a> 
                     </p>
                     <p>此外，您不能将主机数组与CURRENT OF子句一起使用。有关替代方案，另请参阅<span class="q">“ <a href="host-arrays.html#GUID-DBA71301-C6C4-47C0-BAB5-1B6B221AB46E">关于模仿CURRENT OF</a> ”</span> 。
                     </p>
                     <p>此外，您不能在关联的FOR UPDATE OF子句中引用多个表，这意味着您无法与CURRENT OF子句进行连接。 <a id="d30526e2208" class="indexterm-anchor"></a> 
                     </p>
                     <p>最后，您不能将动态SQL与CURRENT OF子句一起使用。 <a id="d30526e2215" class="indexterm-anchor"></a> 
                     </p>
                  </div>
               </div>
            </div><a id="LNPCC3393"></a><div class="props_rev_3"><a id="GUID-6D0BC220-1DE8-49E9-AB54-F39182E33ECD" name="GUID-6D0BC220-1DE8-49E9-AB54-F39182E33ECD"></a><h3 id="LNPCC-GUID-6D0BC220-1DE8-49E9-AB54-F39182E33ECD" class="sect3"><span class="enumeration_section">6.10</span>游标语句</h3>
               <div>
                  <p>以下示例显示了应用程序中光标控制语句的典型顺序： <a id="d30526e2231" class="indexterm-anchor"></a> 
                  </p><pre class="oac_no_warn" dir="ltr">.../ *定义一个游标* / EXEC SQL DECLARE emp_cursor CURSOR FOR SELECT ename，job FROM emp WHERE empno =：emp_number FOR UPDATE OF job; / *打开游标并识别活动集* / EXEC SQL OPEN emp_cursor; / *如果最后一行已被提取则中断* / EXEC SQL WHENEVER NOT FOUND DO break; / *在循环中获取和处理数据* / for（;;）{EXEC SQL FETCH emp_cursor INTO：emp_name，：job_title; / *对FETCHed数据进行操作的可选主机语言语句* / EXEC SQL UPDATE emp SET job =：new_job_title WHERE CURRENT OF emp_cursor; } .../ *禁用游标* / EXEC SQL CLOSE emp_cursor; EXEC SQL COMMIT WORK RELEASE; ...</pre></div>
            </div><a id="LNPCC3394"></a><div class="props_rev_3"><a id="GUID-58F44B5B-4F08-4853-AF71-C2995F48E2ED" name="GUID-58F44B5B-4F08-4853-AF71-C2995F48E2ED"></a><h3 id="LNPCC-GUID-58F44B5B-4F08-4853-AF71-C2995F48E2ED" class="sect3"><span class="enumeration_section">6.11</span>使用不可滚动游标的完整示例</h3>
               <div>
                  <p>以下完整程序说明了游标和FETCH语句的使用。程序会提示输入部门编号，然后显示该部门中所有员工的姓名。</p>
                  <p>除最后一个之外的所有FETCH都返回一行，如果在FETCH期间没有检测到错误，则返回成功状态代码。最终的FETCH失败并将“无数据发现”Oracle错误代码返回给<span class="italic">sqlca.sqlcode</span> 。实际<code class="codeph">sqlerrd[2]</code>的累计行数在SQLCA的<code class="codeph">sqlerrd[2]</code>中找到。</p><pre class="oac_no_warn" dir="ltr">#include &lt;stdio.h&gt; / *声明主变量* / char userid [12] =“SCOTT / TIGER”; char emp_name [10]; int emp_number; int dept_number; char temp [32]; void sql_error（）; / *包括SQL通讯区* / #include &lt;sqlca.h&gt; main（）{emp_number = 7499; / *处理错误* / EXEC SQL WHENEVER SQLERROR执行sql_error（“Oracle错误”）; / *连接到Oracle * / EXEC SQL CONNECT：userid;的printf（ “连接\ n”）; / *声明一个游标* / EXEC SQL DECLARE emp_cursor CURSOR FOR SELECT ename FROM emp WHERE deptno =：dept_number; printf（“部门号码？“）; gets（temp）; dept_number = atoi（temp）; / *打开游标并识别活动集* / EXEC SQL OPEN emp_cursor; printf（”Employee Name \ n“）; printf（”----- -------- \ n“）; / *在没有更多数据的情况下在循环出口中获取和处理数据* / EXEC SQL WHENEVER NOT FOUND DO break; while（1）{EXEC SQL FETCH emp_cursor INTO：emp_name; printf（“％s \ n”，emp_name）;} EXEC SQL CLOSE emp_cursor; EXEC SQL COMMIT WORK RELEASE; exit（0）;} void sql_error（msg）char * msg; {char buf [500]; int buflen，msglen ; EXEC SQL WHENEVER SQLERROR CONTINUE; EXEC SQL ROLLBACK WORK RELEASE; buflen = sizeof（buf）; sqlglm（buf，＆buflen，＆msglen）; printf（“％s \ n”，msg）; printf（“％*。s \ n “，msglen，buf）; exit（1）;}</pre></div>
            </div><a id="LNPCC3395"></a><div class="props_rev_3"><a id="GUID-08073F0A-E663-4D3A-9DB4-92BF47CA6560" name="GUID-08073F0A-E663-4D3A-9DB4-92BF47CA6560"></a><h3 id="LNPCC-GUID-08073F0A-E663-4D3A-9DB4-92BF47CA6560" class="sect3"><span class="enumeration_section">6.12</span>使用可滚动游标的完整示例</h3>
               <div>
                  <p>以下程序说明了可滚动游标的使用以及FETCH语句使用的各种选项。</p><pre class="oac_no_warn" dir="ltr">#include &lt;stdio.h&gt; / *声明主变量* / char userid [12] =“SCOTT / TIGER”; char emp_name [10]; void sql_error（）; / *包括SQL通讯区* / #include &lt;sqlca.h&gt; main（）{/ *句柄错误* / EXEC SQL WHENEVER SQLERROR做sql_error（“Oracle错误”）; / *连接到Oracle * / EXEC SQL CONNECT：userid;的printf（ “连接\ n”）; / *声明一个可滚动的游标* / EXEC SQL DECLARE emp_cursor SCROLL CURSOR FOR SELECT ename FROM emp; / *打开游标并识别活动集* / EXEC SQL OPEN emp_cursor; / *获取最后一行* / EXEC SQL FETCH LAST emp_cursor INTO：emp_name; / *获取行号5 * / EXEC SQL FETCH ABSOLUTE 5 emp_cursor INTO：emp_name; / *获取行号10 * / EXEC SQL FETCH RELATIVE 5 emp_cursor INTO：emp_name; / *获取行号7 * / EXEC SQl FETCH RELATIVE -3 emp_cursor INTO：emp_name; / *获取第一行* / EXEC SQL FETCH FIRST emp_cursor INTO：emp_name; / *获取行号2 * / EXEC SQL FETCH my_cursor INTO：emp_name; / *获取行号3 * / EXEC SQL FETCH NEXT my_cursor INTO：emp_name; / *获取行号3 * / EXEC SQL FETCH CURRENT my_cursor INTO：emp_name; / *获取行号2 * / EXEC SQL FETCH PRIOR my_cursor INTO：emp_name; } void sql_error（msg）char * msg; {char buf [500]; int buflen，msglen; EXEC SQL WHENEVER SQLERROR CONTINUE; EXEC SQL ROLLBACK TRANSACTION; buflen = sizeof（buf）; sqlglm（buf，＆buflen，＆mesglen）;的printf（ “％S \ n” 个，MSG）;的printf（ “％* S \ n”。，msglen，BUF）;出口（1）; }</pre></div>
            </div><a id="LNPCC3396"></a><div class="props_rev_3"><a id="GUID-1A65920B-74ED-41FB-B120-C46A8EA86018" name="GUID-1A65920B-74ED-41FB-B120-C46A8EA86018"></a><h3 id="LNPCC-GUID-1A65920B-74ED-41FB-B120-C46A8EA86018" class="sect3"><span class="enumeration_section">6.13</span>定位更新</h3>
               <div>
                  <p>以下骨架示例演示使用通用ROWID定位更新。</p><pre class="oac_no_warn" dir="ltr">#include &lt;oci.h&gt; ...OCIRowid * urowid; ...EXEC SQL ALLOCATE：urowid; EXEC SQL DECLARE cur CURSOR FOR SELECT rowid，...来自my_table FOR更新...; EXEC SQL OPEN cur; EXEC SQL FETCH cur INTO：urowid，...; /* 处理数据 */ ...EXEC SQL UPDATE my_table SET ...当前的曲线; EXEC SQL CLOSE cur; EXEC SQL FREE：urowid; ...

</pre><p></p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="datatypes-and-host-variables.html#GUID-F78340AF-531F-4D1F-8D59-5C5860E7C367">通用ROWID</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="10455.CREATE-TABLESPACE.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>创建TABLESPACE</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="CREATE-TABLE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CREATE-TABLESPACE-SET.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CREATE-TABLE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CREATE-TABLESPACE-SET.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-CREATE-SEQUENCE-to-DROP-CLUSTER.html" property="item" typeof="WebPage"><span property="name">SQL语句：创建顺序到DROP CLUSTER</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">创建TABLESPACE</li>
            </ol>
            <a id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9" name="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9"></a><a id="SQLRF54667"></a><a id="SQLRF54668"></a><a id="SQLRF54669"></a><a id="SQLRF54670"></a><a id="SQLRF56773"></a><a id="SQLRF56954"></a><a id="SQLRF56955"></a><a id="SQLRF56956"></a><a id="SQLRF56957"></a><a id="SQLRF56958"></a><a id="SQLRF54672"></a><a id="SQLRF54673"></a><a id="SQLRF54674"></a><a id="SQLRF54675"></a><a id="SQLRF54676"></a><a id="SQLRF54677"></a><a id="SQLRF54678"></a><a id="SQLRF54679"></a><a id="SQLRF54680"></a><a id="SQLRF54681"></a><a id="SQLRF54682"></a><a id="SQLRF54683"></a><a id="SQLRF54684"></a><a id="SQLRF54685"></a><a id="SQLRF54686"></a><a id="SQLRF54687"></a><a id="SQLRF54688"></a><a id="SQLRF54689"></a><a id="SQLRF54690"></a><a id="SQLRF54691"></a><a id="SQLRF54692"></a><a id="SQLRF54693"></a><a id="SQLRF55615"></a><a id="SQLRF54694"></a><a id="SQLRF56775"></a><a id="SQLRF56776"></a><a id="SQLRF56777"></a><a id="SQLRF54695"></a><a id="SQLRF54696"></a><a id="SQLRF54697"></a><a id="SQLRF54698"></a><a id="SQLRF54700"></a><a id="SQLRF54701"></a><a id="SQLRF54702"></a><a id="SQLRF54703"></a><a id="SQLRF54704"></a><a id="SQLRF54705"></a><a id="SQLRF54706"></a><a id="SQLRF54707"></a><a id="SQLRF54708"></a><a id="SQLRF54709"></a><a id="SQLRF54710"></a><a id="SQLRF54711"></a><a id="SQLRF56621"></a><a id="SQLRF54712"></a><a id="SQLRF54713"></a><a id="SQLRF54714"></a><a id="SQLRF54715"></a><a id="SQLRF54716"></a><a id="SQLRF54717"></a><a id="SQLRF54718"></a><a id="SQLRF54719"></a><a id="SQLRF54720"></a><a id="SQLRF54721"></a><a id="SQLRF54722"></a><a id="SQLRF54723"></a><a id="SQLRF01403"></a>
            
            <h2 id="SQLRF-GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9" class="sect2">创建TABLESPACE</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-D03AE175-CC3B-4845-A374-CE41F1715E37">目的</p>
                  <p><a id="d372237e265" class="indexterm-anchor"></a>使用<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>语句创建<span class="bold">表空间</span> ，该<span class="bold">表</span>空间是数据库中可包含模式对象的空间分配。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">永久表空间</span>包含持久模式对象。永久表空间中的对象存储在<span class="bold">数据文件中</span> 。
                        </p>
                     </li>
                     <li>
                        <p>如果在自动撤消管理模式下运行数据库，则<span class="bold">撤消表空间</span>是Oracle数据库用于管理撤消数据的一种永久表空间。Oracle强烈建议您使用自动撤消管理模式，而不是使用回滚段进行撤消。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">临时表空间</span>仅在会话期间包含架构对象。临时表空间中的对象存储在<span class="bold">临时文件中</span> 。
                        </p>
                     </li>
                  </ul>
                  <p>创建表空间时，它最初是一个读/写表空间。随后可以使用<code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code>语句使表空间脱机或联机，向其添加数据文件或临时文件，或使其成为只读表空间。
                  </p>
                  <p>您还可以使用<code class="codeph">DROP</code> <code class="codeph">TABLESPACE</code>语句从数据库中删除表空间。
                  </p>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-5B057B15-7245-434E-9C8F-6EA42892034A">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关表空间的信息，请参见<a href="../cncpt/introduction-to-oracle-database.html#CNCPT003" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                        </li>
                        <li>
                           <p>有关修改和删除表空间的信息，请使用<a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D">ALTER TABLESPACE</a>和<a href="DROP-TABLESPACE.html#GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11">DROP TABLESPACE</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2063185">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-63DBF106-446B-47DB-88C5-0C859C63CAF3">先决条件</p>
                  <p>您必须具有<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>系统特权。要创建<code class="codeph">SYSAUX</code>表空间，您必须具有<code class="codeph">SYSDBA</code>系统特权。
                  </p>
                  <p>在创建表空间之前，必须创建一个包含它的数据库，并且必须打开数据库。</p>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-E98475C5-8B55-4EBE-9F99-4EBD1331182C">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C">创建数据库</a></p>
                  </div>
                  <p>要在<code class="codeph">SYSTEM</code>表空间以外的表空间中使用对象：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果以自动撤消管理模式运行数据库，则至少有一个<code class="codeph">UNDO</code>表空间必须联机。
                        </p>
                     </li>
                     <li>
                        <p>如果以手动撤消管理模式运行数据库，则<code class="codeph">SYSTEM</code>回滚段以外的至少一个回滚段必须处于联机状态。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-60077486-B1AC-4EF1-92D6-5DCEE3C4AB5B">
                     <p class="notep1">注意：</p>
                     <p>Oracle强烈建议您以自动撤消管理模式运行数据库。有关更多信息，请参阅<a href="../admin/managing-undo.html#ADMIN013" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a> 。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2132654">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-C277E0A1-459F-4A75-B934-90F558E4F591">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-8280A312-248C-4929-A8E9-54119E73FCFD"><span class="italic">create_tablespace</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-7F5C4C26-6A5D-4776-A288-3DE836F470D6"><img src="img/create_tablespace.gif" alt="下面是create_tablespace.eps的描述" title="下面是create_tablespace.eps的描述" longdesc="img_text/create_tablespace.html"><br><a href="img_text/create_tablespace.html">说明create_tablespace.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CJABIGJI">permanent_tablespace_clause :: =</a></span> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CJAFDEIF">temporary_tablespace_clause :: =</a></span> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CJAJHGDA">undo_tablespace_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CJABIGJI">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-E11FC306-01AF-4574-9B93-69F7391404C6"><span class="italic">permanent_tablespace_clause</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-B30E9AC6-B9C3-407C-87B6-861D886DBD18"><img src="img/permanent_tablespace_clause.gif" alt="下面是permanent_tablespace_clause.eps的描述" title="下面是permanent_tablespace_clause.eps的描述" longdesc="img_text/permanent_tablespace_clause.html"><br><a href="img_text/permanent_tablespace_clause.html">插图说明permanent_tablespace_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__CJADEBBF">file_specification :: =</a></span> <a id="d372237e424" class="indexterm-anchor"></a><a id="d372237e428" class="indexterm-anchor"></a> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__PERMANENT_TABLESPACE_ATTRS-54281ED5">permanent_tablespace_attrs :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__PERMANENT_TABLESPACE_ATTRS-54281ED5">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-4A67C3A2-D6D3-4BDD-B549-5F7FB8A2DF92"><span class="italic">permanent_tablespace_attrs</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-3E54C7EC-8996-4A3C-9CFB-C11425E5D2E0"><img src="img/permanent_tablespace_attrs.gif" alt="下面是permanent_tablespace_attrs.eps的描述" title="下面是permanent_tablespace_attrs.eps的描述" longdesc="img_text/permanent_tablespace_attrs.html"><br><a href="img_text/permanent_tablespace_attrs.html">插图说明permanent_tablespace_attrs.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause :: =</a></span> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2146497">logging_clause :: =</a></span> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_ENCRYPTION_CLAUSE-5ADA8599">tablespace_encryption_clause :: =</a></span> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_TABLESPACE_PARAMS-5ADA60FC">default_tablespace_params :: =</a></span> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2150446">extent_management_clause :: =</a></span> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2146541">segment_management_clause :: =</a></span> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2185336">flashback_mode_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2146497">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-A53933FB-CF9B-4ABE-960A-85AF432C95A3"><span class="italic">logging_clause</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-FDABF6DD-E9FA-46F8-A656-3629CF601C36"><img src="img/logging_clause.gif" alt="logging_clause.eps的描述如下" title="logging_clause.eps的描述如下" longdesc="img_text/logging_clause.html"><br><a href="img_text/logging_clause.html">说明logging_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_ENCRYPTION_CLAUSE-5ADA8599">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-0ADDD2AE-278B-40B5-B221-9102BD3AF468"><span class="italic">tablespace_encryption_clause</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-1694691A-8BF9-4E54-9A58-21710ED8B9AE"><img src="img/tablespace_encryption_clause.gif" alt="下面是tablespace_encryption_clause.eps的说明" title="下面是tablespace_encryption_clause.eps的说明" longdesc="img_text/tablespace_encryption_clause.html"><br><a href="img_text/tablespace_encryption_clause.html">说明tablespace_encryption_clause.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__BABEGDAG">tablespace_encryption_spec :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__BABEGDAG">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-0224092C-183A-4F0B-8F07-E2397EC388FC"><span class="italic">tablespace_encryption_spec</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-FBD89652-54DE-4980-8630-8ED4FD74EF35"><img src="img/tablespace_encryption_spec.gif" alt="下面是tablespace_encryption_spec.eps的说明" title="下面是tablespace_encryption_spec.eps的说明" longdesc="img_text/tablespace_encryption_spec.html"><br><a href="img_text/tablespace_encryption_spec.html">说明tablespace_encryption_spec.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_TABLESPACE_PARAMS-5ADA60FC">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-3578E602-E015-450F-BBA1-D0B01639BD1B"><span class="italic">default_tablespace_params</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-C0A10964-045B-44E1-8D61-411A9F382037"><img src="img/default_tablespace_params.gif" alt="下面是default_tablespace_params.eps的描述" title="下面是default_tablespace_params.eps的描述" longdesc="img_text/default_tablespace_params.html"><br><a href="img_text/default_tablespace_params.html">说明default_tablespace_params.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_TABLE_COMPRESSION-5AD66540">default_table_compression :: =</a></span> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_INDEX_COMPRESSION-5AD66895">default_index_compression :: =</a></span> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGCADBG">inmemory_clause :: =</a></span> ， <span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__CJAIDBJE">ilm_clause :: =</a></span> -part of <code class="codeph">CREATE</code> <code class="codeph">TABLE</code>语法， <span class="italic"><a href="storage_clause.html#GUID-C5A67610-3160-41E9-8D48-03206BD5ED15__CJACEJGB">storage_clause :: =</a></span> ）</p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-20D17E63-EE0A-4832-86F1-73EC0EE166C4">
                     <p class="notep1">注意：</p>
                     <p>如果指定<code class="codeph">DEFAULT</code>子句，则必须至少指定一个子句<span class="italic"><code class="codeph">default_table_compression</code></span> ， <span class="italic"><code class="codeph">default_index_compression</code></span> ， <span class="italic"><code class="codeph">inmemory_clause</code></span> ， <span class="italic"><code class="codeph">ilm_clause</code></span>或<span class="italic"><code class="codeph">storage_clause</code></span> 。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_TABLE_COMPRESSION-5AD66540">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-1504A5F9-D067-4B07-816D-1F6139565C22"><span class="italic">default_table_compression</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-86C899A9-608F-4BD4-9FCF-CA862FEBC7E6"><img src="img/default_table_compression.gif" alt="下面是default_table_compression.eps的说明" title="下面是default_table_compression.eps的说明" longdesc="img_text/default_table_compression.html"><br><a href="img_text/default_table_compression.html">说明default_table_compression.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_INDEX_COMPRESSION-5AD66895">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-3B49D197-0317-40BD-BD02-F090D03BDD02"><span class="italic">default_index_compression</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-7077BDAC-C355-4E84-BBD1-A2763ADC01E7"><img src="img/default_index_compression.gif" alt="下面是default_index_compression.eps的描述" title="下面是default_index_compression.eps的描述" longdesc="img_text/default_index_compression.html"><br><a href="img_text/default_index_compression.html">说明default_index_compression.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGCADBG">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-B0440AA7-CD85-4001-921D-0EF519957B3F"><span class="italic">inmemory_clause</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-25BC72ED-44CD-4D5B-A615-3FC65276D6D2"><img src="img/inmemory_clause.gif" alt="下面是inmemory_clause.eps的描述" title="下面是inmemory_clause.eps的描述" longdesc="img_text/inmemory_clause.html"><br><a href="img_text/inmemory_clause.html">inmemory_clause.eps中插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-B4665817-6A8E-4F3F-AA59-6F8341036D06"><span class="italic">inmemory_attributes</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-B32742D7-2DF2-488B-A628-1391ADBE78D8"><img src="img/inmemory_attributes.gif" alt="inmemory_attributes.eps的描述如下" title="inmemory_attributes.eps的描述如下" longdesc="img_text/inmemory_attributes.html"><br><a href="img_text/inmemory_attributes.html">inmemory_attributes.eps中插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGJJJAB">inmemory_memcompress :: =</a></span> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGDFFIE">inmemory_priority :: =</a></span> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGCBAGJ">inmemory_distribute_tablespace :: =</a></span> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGDFFCJ">inmemory_duplicate :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGJJJAB">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-6C8C1101-1AAC-4CF2-B776-ECECCA8D5A5D"><span class="italic">inmemory_memcompress</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-34815F2C-5D88-42F6-9C34-2BF138F9D47E"><img src="img/inmemory_memcompress.gif" alt="inmemory_memcompress.eps的描述如下" title="inmemory_memcompress.eps的描述如下" longdesc="img_text/inmemory_memcompress.html"><br><a href="img_text/inmemory_memcompress.html">inmemory_memcompress.eps中插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGDFFIE">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-80EA66FC-3E94-477A-BEE1-9738D6448174"><span class="italic">inmemory_priority</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-A4A18810-3FA0-43E4-94AC-8AE75DC412D0"><img src="img/inmemory_priority.gif" alt="下面是inmemory_priority.eps的描述" title="下面是inmemory_priority.eps的描述" longdesc="img_text/inmemory_priority.html"><br><a href="img_text/inmemory_priority.html">Inmemory_priority.eps中插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGCBAGJ">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-D00E200B-605D-4C82-A17D-84CDC9DB121C"><span class="italic">inmemory_distribute_tablespace</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-AE9E81E4-B64C-469E-97C5-B4D65AC2626D"><img src="img/inmemory_distribute_tablespace.gif" alt="下面是inmemory_distribute_tablespace.eps的描述" title="下面是inmemory_distribute_tablespace.eps的描述" longdesc="img_text/inmemory_distribute_tablespace.html"><br><a href="img_text/inmemory_distribute_tablespace.html">inmemory_distribute_tablespace.eps中插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGDFFCJ">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-21D319A9-4BB0-412E-86B7-84848D366C0C"><span class="italic">inmemory_duplicate</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-A326A71E-A268-44C8-B838-FF9D17D59C37"><img src="img/inmemory_duplicate.gif" alt="下面是inmemory_duplicate.eps的描述" title="下面是inmemory_duplicate.eps的描述" longdesc="img_text/inmemory_duplicate.html"><br><a href="img_text/inmemory_duplicate.html">inmemory_duplicate.eps中插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2150446">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-CA9E8B81-6F5B-4049-ACF7-81A6B3B4B3F9"><span class="italic">extent_management_clause</span> :: =</p><a id="d372237e658" class="indexterm-anchor"></a><div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-32340B86-889A-431F-9EB9-795199867648"><img src="img/extent_management_clause.gif" alt="下面是extent_management_clause.eps的描述" title="下面是extent_management_clause.eps的描述" longdesc="img_text/extent_management_clause.html"><br><a href="img_text/extent_management_clause.html">说明extent_management_clause.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2146541">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-733476AD-1E06-4C70-8125-6589B136F1A5"><span class="italic">segment_management_clause</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-C9CBCA0F-A105-45FA-BF6E-D0C0FE73B873"><img src="img/segment_management_clause.gif" alt="下面是segment_management_clause.eps的说明" title="下面是segment_management_clause.eps的说明" longdesc="img_text/segment_management_clause.html"><br><a href="img_text/segment_management_clause.html">段落描述segment_management_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2185336">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-D241576F-8CCB-46AA-BF30-D4316BA5A346"><span class="italic">flashback_mode_clause</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-429B6608-C1D8-4CC1-8375-C95A752214F0"><img src="img/flashback_mode_clause.gif" alt="下面是flashback_mode_clause.eps的说明" title="下面是flashback_mode_clause.eps的说明" longdesc="img_text/flashback_mode_clause.html"><br><a href="img_text/flashback_mode_clause.html">说明flashback_mode_clause.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CJAJHGDA">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-C97C52B1-42BB-41A0-AD94-3806D7D70DB6"><span class="italic">undo_tablespace_clause</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-AE57218D-715E-4742-A2FC-C95403FDA3B6"><img src="img/undo_tablespace_clause.gif" alt="undo_tablespace_clause.eps的描述如下" title="undo_tablespace_clause.eps的描述如下" longdesc="img_text/undo_tablespace_clause.html"><br><a href="img_text/undo_tablespace_clause.html">说明undo_tablespace_clause.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__CJADEBBF">file_specification :: =</a></span> <a id="d372237e700" class="indexterm-anchor"></a><a id="d372237e704" class="indexterm-anchor"></a> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2150446">extent_management_clause :: =</a></span> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2215512">tablespace_retention_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2215512">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-44C87856-5ECD-48CB-BD0F-621989ED3FB5"><span class="italic">tablespace_retention_clause</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-D4216024-B800-49B3-A68D-13D1E7BD24E8"><img src="img/tablespace_retention_clause.gif" alt="下面是tablespace_retention_clause.eps的描述" title="下面是tablespace_retention_clause.eps的描述" longdesc="img_text/tablespace_retention_clause.html"><br><a href="img_text/tablespace_retention_clause.html">tablespace_retention_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CJAFDEIF">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-745AB933-CAB2-4307-A540-0D3CD3D4C6F0"><span class="italic">temporary_tablespace_clause</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-14CEC26F-9BA5-4AE6-AE52-B1C392987233"><img src="img/temporary_tablespace_clause.gif" alt="下面是temporary_tablespace_clause.eps的描述" title="下面是temporary_tablespace_clause.eps的描述" longdesc="img_text/temporary_tablespace_clause.html"><br><a href="img_text/temporary_tablespace_clause.html">插图说明temporary_tablespace_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__CJADEBBF">file_specification :: =</a></span> <a id="d372237e739" class="indexterm-anchor"></a><a id="d372237e743" class="indexterm-anchor"></a> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_GROUP_CLAUSE-5ADB7EF9">tablespace_group_clause :: =</a></span> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2150446">extent_management_clause :: =</a></span> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_ENCRYPTION_CLAUSE-5ADA8599">tablespace_encryption_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_GROUP_CLAUSE-5ADB7EF9">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-9879FF09-CB9D-42A9-8BD7-F5AD07C68D33"><span class="italic">tablespace_group_clause</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-2B1BC158-99B0-489F-8CA9-62E777A23980"><img src="img/tablespace_group_clause.gif" alt="下面是tablespace_group_clause.eps的描述" title="下面是tablespace_group_clause.eps的描述" longdesc="img_text/tablespace_group_clause.html"><br><a href="img_text/tablespace_group_clause.html">说明tablespace_group_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-786E59A9-5E9B-4CC5-A893-E8858745355C"><span class="italic">lost_write_protection</span> :: =</p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-738C5426-12D2-43DE-BD8A-4A9CACB48819"><img src="img/lost_write_protection.gif" alt="lost_write_protection.eps的描述如下" title="lost_write_protection.eps的描述如下" longdesc="img_text/lost_write_protection.html"><br><a href="img_text/lost_write_protection.html">说明lost_write_protection.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2215114">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-50F229CA-DF8C-4B5E-9D19-5D89052CB856">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2194039">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-59D53153-619F-4B38-BD25-87A35F707CA8">BIGFILE | SMALLFILE</p>
                  <p><a id="d372237e783" class="indexterm-anchor"></a><a id="d372237e787" class="indexterm-anchor"></a>使用此子句确定表空间是bigfile还是smallfile表空间。此子句将覆盖数据库的任何默认表空间类型设置。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">bigfile表空间</span>只包含一个数据文件或临时文件，最多可包含大约40亿（2 <sup>32</sup> ）个块。对于具有32K块的表空间，单个数据文件或临时文件的最小大小为12兆字节（MB），对于具有8K块的表空间，最小大小为7MB。对于具有32K块的表空间，单个数据文件或临时文件的最大大小为128太字节（TB），对于具有8K块的表空间，最大大小为32TB。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">smallfile表空间</span>是一个传统的Oracle表空间，它可以包含1022个数据文件或临时文件，每个文件最多可包含大约4百万（2 <sup>22</sup> ）个块。
                        </p>
                     </li>
                  </ul>
                  <p>如果省略此子句，则Oracle数据库使用为数据库设置的当前默认表空间类型的永久或临时表空间。如果为永久表空间指定<code class="codeph">BIGFILE</code> ，则默认情况下数据库会创建一个具有自动段空间管理的本地管理表空间。
                  </p>
                  <p>对Bigfile表空间的限制</p>
                  <p>您只能在<code class="codeph">DATAFILE</code>子句中指定一个数据文件，或在<code class="codeph">TEMPFILE</code>子句中指定一个临时文件。
                  </p>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-11F749B2-0EE6-4E21-8BB6-829E87F9F7B7">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关使用bigfile表空间的更多信息，请参见<a href="../admin/managing-tablespaces.html#ADMIN01102" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2202470">创建Bigfile表空间：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__PERMANENT_TABLESPACE_CLAUSE-3E6FC35A">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-35FCE9C2-ED45-42DF-8ABD-7D408A514B70"><span class="italic">permanent_tablespace_clause</span></p>
                  <p>使用以下子句创建永久表空间。（其中一些子句也用于创建临时或撤消表空间。）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-394D84AB-0745-43FB-920D-01EA8E8413CA"><span class="italic">表空间</span></p>
                  <p>指定要创建的表空间的名称。该名称必须满足<span class="q">“ <a href="Database-Object-Names-and-Qualifiers.html#GUID-75337742-67FD-4EC0-985F-741C93D918DA">数据库对象命名规则</a> ”中</span>列出的要求。
                  </p>
                  <p><span class="bold">关于SYSAUX表空间的注意事项</span></p>
                  <p><code class="codeph">SYSAUX</code>是必需的辅助系统表空间。您必须使用<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>语句创建<code class="codeph">SYSAUX</code>表空间，如果你是从更早释放比Oracle数据库<span class="italic">11克</span>升级。您必须具有<code class="codeph">SYSDBA</code>系统特权才能指定此子句，并且必须以<code class="codeph">UPGRADE</code>模式打开数据库。
                  </p>
                  <p>您必须为<code class="codeph">SYSAUX</code>表空间指定<code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">LOCAL</code>和<code class="codeph">SEGMENT</code> <code class="codeph">SPACE</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">AUTO</code> 。只有启用了Oracle托管文件， <code class="codeph">DATAFILE</code>子句才是可选的。有关<code class="codeph">DATAFILE</code>子句的行为，请参阅<span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2171920">DATAFILE | TEMPFILE子句</a> ”</span> 。
                  </p>
                  <p>注意为<code class="codeph">SYSAUX</code>表空间分配足够的空间。有关创建此表空间的指南，请参阅“ <a href="../upgrd/upgrading-oracle-database.html#UPGRD003" target="_blank"><span class="italic">Oracle数据库升级指南”</span></a> 。
                  </p>
                  <p><span class="bold">SYSAUX表空间的限制</span></p>
                  <p>您不能为<code class="codeph">SYSAUX</code>表空间指定<code class="codeph">OFFLINE</code>或<code class="codeph">TEMPORARY</code> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2171920">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-38FA57FA-7084-4285-9CDF-3E86B347C0DC">DATAFILE | TEMPFILE条款</p>
                  <p><a id="d372237e947" class="indexterm-anchor"></a><a id="d372237e953" class="indexterm-anchor"></a><a id="d372237e959" class="indexterm-anchor"></a>指定构成永久表空间的数据文件或构成临时表空间的临时文件。使用<span class="italic"><code class="codeph">file_specification</code></span>的<span class="italic"><code class="codeph">datafile_tempfile_spec</code></span>形式在操作系统文件系统中创建常规数据文件和临时文件，或者创建Oracle自动存储管理（Oracle ASM）磁盘组文件。
                  </p>
                  <p>除非已通过设置<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数的值启用了Oracle Managed Files，否则必须指定<code class="codeph">DATAFILE</code>或<code class="codeph">TEMPFILE</code>子句。对于Oracle ASM磁盘组文件，该参数必须设置为Oracle ASM文件名的多文件创建形式。如果设置了此参数，则数据库将在参数中指定的缺省文件目标中创建系统命名的100 MB文件。该文件已启用<code class="codeph">AUTOEXTEND</code>且无限制的最大大小。
                  </p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-1672F5DB-79B2-4379-8524-3D5D99C52D17">
                     <p class="notep1">注意：</p>
                     <p>介质恢复无法识别临时文件。</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-6E509D1B-E76C-4C81-8176-6921448EE146">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关使用Oracle ASM的详细信息，请参见<a href="../ostmg/asm-intro.html#OSTMG036" target="_blank"><span class="italic">“Oracle自动存储管理管理员指南”</span></a></p>
                        </li>
                        <li>
                           <p><span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688">file_specification</a></span>以获取完整描述，包括<code class="codeph">AUTOEXTEND</code>参数和Oracle ASM文件名的多文件创建形式</p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">有关指定数据文件和临时文件的说明</span></p>
                  <p></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您可以通过在<span class="italic"><code class="codeph">datafile_tempfile_spec</code></span>仅提供磁盘组名称来在Oracle ASM磁盘组中创建表空间。在这种情况下，Oracle ASM使用系统生成的文件名在指定的磁盘组中创建数据文件。数据文件是可自动扩展的，具有无限制的最大大小和默认大小100 MB。您可以使用<span class="italic"><code class="codeph">autoextend_clause</code></span>覆盖默认大小。
                        </p>
                     </li>
                     <li>
                        <p>如果使用<span class="italic"><code class="codeph">ASM_filename</code></span>的引用形式之一（引用现有文件），则还必须指定<code class="codeph">REUSE</code> 。</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-DD1B219F-90B6-4B35-B8C5-376EAAC5B6A1">
                     <p class="notep1">注意：</p>
                     <p>在某些操作系统上，在实际访问临时文件块之前，Oracle不会为临时文件分配空间。空间分配的这种延迟导致更快地创建和调整临时文件的大小，但是当稍后使用临时文件时，它需要足够的磁盘空间。为避免潜在问题，在创建临时文件或调整其大小之前，请确保可用磁盘空间超过新临时文件的大小或调整大小的临时文件的大小。多余的空间应该允许不相关的操作预期增加磁盘空间的使用。然后继续创建或调整大小操作。</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-FA58FCA3-F449-47F4-913C-2A887D10BB6E">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688">file_specification</a></span>获取完整描述，包括<code class="codeph">AUTOEXTEND</code>参数</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153424">为表空间启用自动扩展：示例</a> ”</span>和<span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2082522">创建Oracle托管文件：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__PERMANENT_TABLESPACE_ATTRS-2B5BC183">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-537AEAD6-2196-4E43-8973-71403B7B248D"><span class="italic">permanent_tablespace_attrs</span></p>
                  <p>使用<span class="italic"><code class="codeph">permanent_tablespace_attrs</code></span>子句设置表空间的属性。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-65BCE1CA-310A-4528-A28C-175ED4DACFE2">MINIMUM EXTENT条款</p>
                  <p><a id="d372237e1072" class="indexterm-anchor"></a><a id="d372237e1076" class="indexterm-anchor"></a>该子句仅对字典管理的表空间有效。指定表空间中范围的最小大小。此子句允许您通过确保表空间中每个已使用或可用空间的大小至少与<span class="italic"><code class="codeph">size_clause</code></span>指定的值一样大，并且是其倍数来控制表空间中的空闲空间碎片。
                  </p>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-49E3E9A0-726B-438E-837E-7B7A94795E08">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517">size_clause</a></span>有关该子句和<a href="../vldbg/using-parallel.html#VLDBG010" target="_blank"><span class="italic">Oracle Database VLDB和分区指南</span></a>的信息，以获取有关使用<code class="codeph">MINIMUM</code> <code class="codeph">EXTENT</code>控制碎片的更多信息</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-705D1102-729B-4875-8ED4-27D727708BF8">BLOCKSIZE条款</p>
                  <p><a id="d372237e1107" class="indexterm-anchor"></a><a id="d372237e1111" class="indexterm-anchor"></a>使用<code class="codeph">BLOCKSIZE</code>子句为表空间指定非标准块大小。要指定此子句，必须设置<code class="codeph">DB_CACHE_SIZE</code>和至少一个<code class="codeph">DB_</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">K_CACHE_SIZE</code>参数，并且在此子句中指定的整数必须与一个<code class="codeph">DB_</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">K_CACHE_SIZE</code>参数设置的设置相对应。
                  </p>
                  <p><span class="bold">对BLOCKSIZE的限制</span></p>
                  <p>您不能为临时表空间指定非标准块大小，或者您打算将此表空间指定为任何用户的临时表空间。</p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-D2262818-5D64-4A29-94BD-2F1F33254F41">
                     <p class="notep1">注意：</p>
                     <p>Oracle建议您不要在4K扇区大小的磁盘上存储具有2K块大小的表空间，因为可能会导致性能下降。</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-34472106-468F-4EF1-B052-0C2710744C74">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">DB_</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">K_CACHE_SIZE</code>参数和<a href="../cncpt/logical-storage-structures.html#CNCPT250" target="_blank"><span class="italic">Oracle数据库概念</span></a>的信息，请<code class="codeph">DB_</code> <a href="../refrn/DB_nK_CACHE_SIZE.html#REFRN10027" target="_blank"><span class="italic">Oracle数据库参考</span></a> ，以获取有关多个块大小的信息</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CJAICHIG">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-158E5259-7C3F-4CF5-9140-06CFF915F6F0"><span class="italic">logging_clause</span></p>
                  <p>指定表空间中所有表，索引，物化视图，物化视图日志和分区的缺省日志记录属性。该子句对临时表或撤消表空间无效。</p>
                  <p>如果省略此子句，则默认为<code class="codeph">LOGGING</code> 。例外是在PDB中创建表空间。在这种情况下，如果省略此子句，则表空间使用PDB的logging属性。有关更多信息，请参阅<code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code>的<span class="italic"><a href="CREATE-PLUGGABLE-DATABASE.html#GUID-F2DBA8DD-EEA8-4BB7-A07F-78DC04DB1FFC__CACJIEBE">logging_clause</a></span> 。
                  </p>
                  <p>表空间级日志记录属性可以通过记录表，索引，物化视图，物化视图日志和分区级别的规范来覆盖。</p>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-191AB390-9B1B-44D7-827F-6E51DCAED153">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E">logging_clause</a></span>获取此子句的完整描述</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-9BA7C0D3-A874-40DB-95F8-55C9571B9925">强制记录</p>
                  <p><a id="d372237e1205" class="indexterm-anchor"></a><a id="d372237e1209" class="indexterm-anchor"></a>使用此子句将表空间置于<code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>模式。Oracle数据库将记录对表空间中所有对象的所有更改，但对临时段的更改除外，从而覆盖单个对象的任何<code class="codeph">NOLOGGING</code>设置。数据库必须处于打开状态且处于<code class="codeph">READ</code> <code class="codeph">WRITE</code>模式。
                  </p>
                  <p>此设置不排除<code class="codeph">NOLOGGING</code>属性。您可以指定<code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>和<code class="codeph">NOLOGGING</code> 。在这种情况下， <code class="codeph">NOLOGGING</code>是随后在表空间中创建的对象的缺省日志记录模式，但只要表空间或数据库处于<code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>模式，数据库就会忽略此缺省值。如果随后将表空间从<code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>模式中取出，则再次强制执行<code class="codeph">NOLOGGING</code>默认值。
                  </p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-57760FB1-E475-44AE-B05D-F0B72F746C44">
                     <p class="notep1">注意：</p>
                     <p><code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>模式可以产生性能影响。有关何时使用此设置的信息，请参阅<a href="../admin/managing-tablespaces.html#ADMIN011" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a> 。
                     </p>
                  </div>
                  <p><span class="bold">对强制记录的限制</span></p>
                  <p>您不能为撤消或临时表空间指定<code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_ENCRYPTION_CLAUSE-2B5A7953">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-66A448F2-4FC7-4808-A503-0C964D77E4B1"><span class="italic">tablespace_encryption_clause</span></p>
                  <p>使用此子句指定是否创建加密或未加密的表空间。如果创建加密表空间，则透明数据加密（TDE）将应用于表空间的所有数据文件。</p><code class="codeph"><span class="bold">加密| DECRYPT</span></code><p>指定<code class="codeph">ENCRYPT</code>以创建加密表空间。指定<code class="codeph">DECRYPT</code>以创建未加密的表空间。
                  </p>
                  <p>如果省略此子句，则<code class="codeph">ENCRYPT_NEW_TABLESPACES</code>初始化参数的值将确定表空间是否在创建时加密。有关<code class="codeph">ENCRYPT_NEW_TABLESPACES</code>初始化参数的更多信息，请参阅<a href="../refrn/ENCRYPT_NEW_TABLESPACES.html#REFRN-GUID-44EF2AAC-1313-4437-B0F3-A427F45016F2" target="_blank"><span class="italic">Oracle数据库参考</span></a> 。
                  </p>
                  <p>在发出此子句之前，您必须已将TDE主密钥加载到数据库内存中或建立与HSM的连接。欲了解更多信息，请参阅<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__OPEN_KEYSTORE-2C9ED408">open_keystore</a>的条款<code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code>或<span class="q">“ <a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__BABFBJBI">SET加密钱夹条款</a></span>的<span class="q">”</span> <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_ENCRYPTION_SPEC-2C08191C">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-90C2FF5A-7CAD-4EA5-B136-DE46BE81A067"><span class="italic">tablespace_encryption_spec</span></p>
                  <p>指定<code class="codeph">USING</code> “ <span class="italic"><code class="codeph">encrypt_algorithm</code></span> ”表明要使用的加密算法的名称。有效算法是<code class="codeph">AES256</code> ， <code class="codeph">AES192</code> ， <code class="codeph">AES128</code>和<code class="codeph">3DES168</code> 。如果<code class="codeph">COMPATIBLE</code>初始化参数设置为<code class="codeph">12</code> 。 <code class="codeph">2</code>或更高，则以下算法也有效： <code class="codeph">ARIA128</code> ， <code class="codeph">ARIA192</code> ， <code class="codeph">ARIA256</code> ， <code class="codeph">GOST256</code>和<code class="codeph">SEED128</code> ..如果省略此子句，则数据库使用<code class="codeph">AES128</code> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-8D63AA74-7454-474D-8D95-D6775A978D6D">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__BABBGEEE">创建加密表空间：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_TABLESPACE_PARAMS-2D0A685E">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-11B94FF7-491F-498D-842B-65DB8BCCCEA9"><span class="italic">default_tablespace_params</span></p>
                  <p><code class="codeph">DEFAULT</code>子句允许您指定表空间的默认参数。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_TABLE_COMPRESSION-2C0AE686">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-86E45BC0-8D0A-4317-B0F6-A44C1E3EC4AC"><span class="italic">default_table_compression</span></p>
                  <p>使用此子句为表空间中创建的所有表指定默认的数据压缩。该子句对临时表空间无效。该子句的子句与<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>语句的<span class="italic"><code class="codeph">table_compression</code></span>子句具有相同的语义，但有一个例外：此处的<code class="codeph">COMPRESS</code> <code class="codeph">FOR</code> <code class="codeph">OLTP</code>子句等同于<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>的<code class="codeph">ROW</code> <code class="codeph">STORE</code> <code class="codeph">COMPRESS</code> <code class="codeph">ADVANCED</code>子句。有关这些子条款的完整语义，请参阅<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>的<a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2128733">table_compression</a>子句。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_INDEX_COMPRESSION-5B86AD76">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-4A1FD031-CB60-4D17-A4F2-E52F44C0C310"><span class="italic">default_index_compression</span></p>
                  <p>使用此子句为表空间中创建的所有索引指定数据的默认压缩。该子句对临时表空间无效。此子句的子句与<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>语句的<span class="italic"><code class="codeph">advanced_index_compression</code></span>子句具有相同的语义。有关这些子条款的完整语义，请参阅<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>的<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__CACIEEBC">advanced_index_compression</a>子句。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGCFHJD">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-9AAF4C97-91CF-4172-A2B5-D71BACFDC75B"><span class="italic">inmemory_clause</span></p>
                  <p>使用<span class="italic"><code class="codeph">inmemory_clause</code></span>为表空间中创建的所有表和物化视图指定默认的内存中列存储（IM列存储）设置。该子句对临时表空间无效。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">INMEMORY</code>以启用IM列存储的所有表和<code class="codeph">INMEMORY</code>化视图。
                        </p>
                        <p>您可以选择使用<span class="italic"><code class="codeph">inmemory_attributes</code></span>子句指定表或物化视图数据在IM列存储中的存储方式。<span class="italic"><code class="codeph">inmemory_attributes</code></span>子句在<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>和<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>具有相同的语义。有关此子句的完整语义，请参阅<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>的<span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__CEGIDFIC">inmemory_attributes</a></span>子句。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">NO</code> <code class="codeph">INMEMORY</code>以禁用IM列存储的所有表和<code class="codeph">INMEMORY</code>化视图。这是默认值。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-279BFD19-5AD9-4E13-96A9-5B1C3418EE71"><span class="italic">ilm_clause</span></p>
                  <p>使用<span class="italic"><code class="codeph">ilm_clause</code></span>为表空间中创建的所有表指定默认的自动数据优化设置。该子句对临时表空间无效。有关此子句的完整语义，请参阅<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>的<a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__CJAIIDEA">ilm_clause</a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-E0B4607A-F7E6-4391-AF00-B40350902270"><span class="italic">storage_clause</span></p>
                  <p>使用<span class="italic"><code class="codeph">storage_clause</code></span>为表空间中创建的所有对象指定存储参数。此子句对临时表空间或本地管理的表空间无效。对于字典管理的表空间，您可以使用以下子句指定以下存储参数： <code class="codeph">ENCRYPT</code> ， <code class="codeph">INITIAL</code> ， <code class="codeph">NEXT</code> ， <code class="codeph">MINEXTENTS</code> ， <code class="codeph">MAXEXTENTS</code> ， <code class="codeph">MAXSIZE</code>和<code class="codeph">PCTINCREASE</code> 。有关更多信息，请参阅<span class="italic"><a href="storage_clause.html#GUID-C5A67610-3160-41E9-8D48-03206BD5ED15">storage_clause</a></span> 。
                  </p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-039E5D6B-148C-40FB-B916-FC25361594C8">
                     <p class="notep1">注意：</p>
                     <p>支持<span class="italic"><code class="codeph">storage_clause</code></span>的<code class="codeph">ENCRYPT</code>子句以实现向后兼容性。但是，从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，您可以在<span class="italic"><code class="codeph">tablespace_encryption_clause</code></span>指定<code class="codeph">ENCRYPT</code> 。有关更多信息，请参阅<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_ENCRYPTION_CLAUSE-2B5A7953">tablespace_encryption_clause</a> 。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-9B917F64-343E-4129-92A6-9F93D4D49535">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153401">创建基本表空间：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-EE8499EE-D828-4B3C-BD46-FDDF20919468">在线|离线条款</p>
                  <p>使用这些子句确定表空间是联机还是脱机。该子句对临时表空间无效。</p>
                  <p><span class="bold">线上</span> <a id="d372237e1643" class="indexterm-anchor"></a><a id="d372237e1647" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">ONLINE</code>以使表空间在创建后立即可用于已被授予对表空间的访问权限的用户。这是默认值。
                  </p>
                  <p><span class="bold">离线</span> <a id="d372237e1660" class="indexterm-anchor"></a><a id="d372237e1664" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">OFFLINE</code>以在创建后立即使表空间不可用。
                  </p>
                  <p>数据字典视图<code class="codeph">DBA_TABLESPACES</code>指示每个表空间是联机还是脱机。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2063392">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-25FE2347-2881-49B4-A95C-749FDEFB8B1C"><span class="italic">extent_management_clause</span></p>
                  <p><span class="italic"><code class="codeph">extent_management_clause</code></span>允许您指定如何管理表空间的范围。
                  </p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-EB401CC9-25B5-45DC-9AE9-0CCC80C28790">
                     <p class="notep1">注意：</p>
                     <p>使用此子句指定扩展区管理后，只能通过迁移表空间来更改扩展区管理。</p>
                  </div>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold"></span> <code class="codeph">AUTOALLOCATE</code>指定表空间是系统管理的。用户无法指定范围大小。您不能为临时表空间指定<code class="codeph">AUTOALLOCATE</code> 。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold"></span> <code class="codeph">UNIFORM</code>指定使用统一的<code class="codeph">SIZE</code>字节范围管理表空间。默认<code class="codeph">SIZE</code>为1兆字节。临时表空间的所有范围都是统一的大小，因此对于临时表空间，此关键字是可选的。但是，您必须指定<code class="codeph">UNIFORM</code>才能指定<code class="codeph">SIZE</code> 。您不能为撤消表空间指定<code class="codeph">UNIFORM</code> 。
                        </p>
                     </li>
                  </ul>
                  <p>如果未指定<code class="codeph">AUTOALLOCATE</code>或<code class="codeph">UNIFORM</code> ，则默认值为临时表空间的<code class="codeph">UNIFORM</code> ，所有其他类型的表空间的默认值为<code class="codeph">AUTOALLOCATE</code> 。
                  </p>
                  <p>如果未指定<span class="italic"><code class="codeph">extent_management_clause</code></span> ，则Oracle数据库会解释<code class="codeph">MINIMUM</code> <code class="codeph">EXTENT</code>子句和<code class="codeph">DEFAULT</code> <span class="italic"><code class="codeph">storage_clause</code></span>以确定范围管理。
                  </p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-83D9E1D7-B882-4614-ACD8-81858780CC2C">
                     <p class="notep1">注意：</p>
                     <p><a id="d372237e1758" class="indexterm-anchor"></a>不推荐使用<code class="codeph">DICTIONARY</code>关键字。它仍然支持向后兼容性。但是，Oracle建议您创建本地管理的表空间。本地管理的表空间比字典管理的表空间管理得更有效。新的字典管理的表空间的创建计划用于desupport。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-BBE41137-4165-4119-BF13-9A16DFDA224B">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../cncpt/logical-storage-structures.html#CNCPT402" target="_blank"><span class="italic">Oracle Database Concepts，</span></a>用于讨论本地管理的表空间</p>
                  </div>
                  <p><span class="bold">范围管理的限制</span></p>
                  <p>范围管理受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>永久本地管理的表空间只能包含永久对象。如果需要本地管理的表空间来存储临时对象，例如，如果要将其指定为用户的临时表空间，则使用<span class="italic"><code class="codeph">temporary_tablespace_clause</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>如果指定此子句，则无法指定<code class="codeph">DEFAULT</code> <span class="italic"><code class="codeph">storage_clause,</code></span> <code class="codeph">MINIMUM</code> <code class="codeph">EXTENT</code>或<span class="italic"><code class="codeph">temporary_tablespace_clause</code></span> 。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-0F6612A3-45ED-4809-AA0B-2900197AEC50">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../admin/managing-tablespaces.html#ADMIN011" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> ，了解有关通过迁移表空间和<span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153447">创建本地托管表空间：示例</a> ”</span>来更改扩展区管理的信息</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2096553">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-340B7C0D-EBBD-4E0B-A333-40670A7EF0FE"><span class="italic">segment_management_clause</span></p>
                  <p><span class="italic"><code class="codeph">segment_management_clause</code></span>仅与永久的本地管理表空间相关。它允许您指定Oracle数据库是否应使用空闲列表或位图跟踪表空间段中的已用空间和可用空间。该子句对临时表空间无效。
                  </p>
                  <p><span class="bold">汽车</span> <a id="d372237e1831" class="indexterm-anchor"></a><a id="d372237e1833" class="indexterm-anchor"></a></p>
                  <p>如果希望数据库使用位图管理表空间中段的可用空间，请指定<code class="codeph">AUTO</code> 。如果指定<code class="codeph">AUTO</code> ，则数据库将忽略此表空间中对象的后续存储规范中的<code class="codeph">PCTUSED</code> ， <code class="codeph">FREELIST</code>和<code class="codeph">FREELIST</code> <code class="codeph">GROUPS</code>任何规范。此设置称为<span class="bold">自动段空间管理</span> ，是默认设置。
                  </p>
                  <p><span class="bold">手册</span></p>
                  <p>如果希望数据库使用空闲列表管理表空间中段的可用空间，请指定<code class="codeph">MANUAL</code> 。Oracle强烈建议您不要使用此设置，并且要创建具有自动段空间管理的表空间。
                  </p>
                  <p>要确定现有表空间的段管理，请查询<code class="codeph">DBA_TABLESPACES</code>或<code class="codeph">USER_TABLESPACES</code>数据字典视图的<code class="codeph">SEGMENT_SPACE_MANAGEMENT</code>列。
                  </p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-2FB39547-6EBD-456D-8B52-0EF57A743F79">
                     <p class="notep1">注意：</p>
                     <p>如果指定<code class="codeph">AUTO</code>段管理，则：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果将扩展区管理设置为<code class="codeph">LOCAL</code> <code class="codeph">UNIFORM</code> ，则必须确保每个扩展区包含至少5个数据库块。
                           </p>
                        </li>
                        <li>
                           <p>如果将<code class="codeph">AUTOALLOCATE</code>管理设置为<code class="codeph">LOCAL</code> <code class="codeph">AUTOALLOCATE</code> ，并且数据库块大小为16K或更大，则Oracle通过创建最小为5个块的扩展区来管理段空间，最大为64K。</p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">自动段空间管理的限制</span></p>
                  <p>本条款受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您只能为永久的本地管理表空间指定此子句。</p>
                     </li>
                     <li>
                        <p>您不能为<code class="codeph">SYSTEM</code>表空间指定此子句。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-892CC975-F00B-4AAD-B914-B3A80E32DFFE">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../ostmg/asm-intro.html#OSTMG036" target="_blank"><span class="italic">“Oracle自动存储管理管理员指南”</span></a> ，了解有关自动段空间管理以及何时使用它的信息</p>
                        </li>
                        <li>
                           <p>有关数据字典视图的信息，请参阅<a href="../refrn/about-static-data-dictionary-views.html#REFRN002" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153459">为表空间指定段空间管理：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-5697A141-80CC-4586-B045-D17BA4BBF33C"><span class="italic">flashback_mode_clause</span></p>
                  <p>将此子句与<code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">FLASHBACK</code>子句一起使用，以指定表空间是否可以参与<code class="codeph">FLASHBACK</code> <code class="codeph">DATABASE</code>操作。如果数据库处于<code class="codeph">FLASHBACK</code>模式但您不希望Oracle数据库维护此表空间的闪回日志数据，则此子句非常有用。
                  </p>
                  <p>此子句对临时表或撤消表空间无效。</p>
                  <p><span class="bold">闪回</span></p>
                  <p>指定<code class="codeph">FLASHBACK</code> <code class="codeph">ON</code>以将表空间置于<code class="codeph">FLASHBACK</code>模式。Oracle数据库将保存此表空间的闪回日志数据，表空间可以参与<code class="codeph">FLASHBACK</code> <code class="codeph">DATABASE</code>操作。如果省略<span class="italic"><code class="codeph">flashback_mode_clause</code></span> ，则<code class="codeph">FLASHBACK</code> <code class="codeph">ON</code>是默认值。
                  </p>
                  <p><span class="bold">闪回关闭</span></p>
                  <p>指定<code class="codeph">FLASHBACK</code> <code class="codeph">OFF</code>以使表空间退出<code class="codeph">FLASHBACK</code>模式。Oracle数据库不会保存此表空间的任何闪回日志数据。您必须使此表空间中的数据文件脱机或在任何后续<code class="codeph">FLASHBACK</code> <code class="codeph">DATABASE</code>操作之前删除它们。或者，您可以使整个表空间脱机。在任何一种情况下，数据库都不会丢弃现有的闪回日志。
                  </p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-A65A9DCC-D1C5-4A82-A027-AC7FDC84D004">
                     <p class="notep1">注意：</p>
                     <p>所述<code class="codeph">FLASHBACK</code>表空间的模式独立于的<code class="codeph">FLASHBACK</code>单个表的模式。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-BDC6372C-3580-41B2-8997-DA64EB74A2B4">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关Oracle闪回数据库的信息，请参见<a href="../bradv/using-flasback-database-restore-points.html#BRADV595" target="_blank"><span class="italic">“Oracle数据库备份和恢复用户指南”</span></a></p>
                        </li>
                        <li>
                           <p><a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986">ALTER DATABASE</a>和<a href="FLASHBACK-DATABASE.html#GUID-BE0ACF9A-BC13-4810-B08B-33326440258B">FLASHBACK DATABASE</a>有关设置整个数据库的<code class="codeph">FLASHBACK</code>模式以及将数据库恢复为早期版本的信息</p>
                        </li>
                        <li>
                           <p><a href="FLASHBACK-TABLE.html#GUID-FA9AF2FD-2DAD-4387-9E62-14AFC26EA85C">FLASHBACK TABLE</a>和<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2112818">flashback_query_clause</a></span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-4D1EF7F1-A5A6-4286-8B14-0EDFA2881B0C"><span class="italic">lost_write_protection</span></p>
                  <p>指定<code class="codeph">lost_write_protection</code>子句以为丢失的写入记录创建存储区域。必须先创建此存储区域或影子表空间，然后才能对数据文件和数据库启用丢失的写保护。
                  </p>
                  <p>您可以根据需要创建任意数量的影子表空间，并将其命名为任何其他表空间。</p>
                  <p><span class="bold">创建一个Shadow Tablespace：示例</span></p><pre class="oac_no_warn" dir="ltr">CREATE BIGFILE TABLESPACE &lt;shadow_tablespace_name&gt; DATAFILE &lt;datafile_name&gt; SIZE 100000000 BLOCKSIZE 8K LOST WRITE PROTECTION</pre><p>此命令创建影子表空间。要在数据文件和数据库上启用丢失的写保护，必须使用<code class="codeph">ALTER TABLESPACE</code> ， <code class="codeph">ALTER DATABASE</code>和<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句指定<code class="codeph">lost_write_protection</code>子句。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-BCDC490A-3CC1-44F2-8BEB-A414B380BD71"><span class="italic">undo_tablespace_clause</span></p>
                  <p><a id="d372237e2092" class="indexterm-anchor"></a><a id="d372237e2096" class="indexterm-anchor"></a><a id="d372237e2102" class="indexterm-anchor"></a>指定<code class="codeph">UNDO</code>以创建撤消表空间。在自动撤消管理模式下运行数据库时，Oracle数据库使用撤消表空间而不是回滚段来管理撤消空间。如果您现在在自动撤消管理模式下运行但是您的数据库未在自动撤消管理模式下创建，则此子句很有用。
                  </p>
                  <p>在自动撤消管理模式下启动数据库时，Oracle数据库始终会分配撤消表空间。如果没有为此实例分配撤消表空间，则数据库使用<code class="codeph">SYSTEM</code>回滚段。您可以通过创建撤消表空间来避免这种情况，如果当前未分配其他撤消表空间，则数据库将隐式分配给该实例。
                  </p>
                  <p><code class="codeph">DATAFILE</code>子句在<span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2171920">DATAFILE | TEMPFILE子句</a> ”中描述</span> 。
                  </p>
                  <p><span class="bold"><span class="italic">extent_management_clause</span></span></p>
                  <p>创建撤消表空间时不必指定<span class="italic"><code class="codeph">extent_management_clause</code></span> ，因为撤消表空间必须是使用<code class="codeph">AUTOALLOCATE</code>管理的本地管理表空间。如果确实指定了此子句，则必须指定<code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">LOCAL</code>或<code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">LOCAL</code> <code class="codeph">AUTOALLOCATE</code> ，这两者都与省略此子句相同。有关此子句的完整语义，请参阅<span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2063392">extent_management_clause</a></span> 。
                  </p>
                  <p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2209531"><span class="bold"><span class="italic">tablespace_retention_clause</span></span></p>
                  <p>该子句仅对撤消表空间有效。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">RETENTION</code> <code class="codeph">GUARANTEE</code>指定Oracle数据库应保留<span class="italic"><code class="codeph">tablespace</code></span>所有还原段中未过期的还原数据，即使这样做也会强制在这些段中需要还原空间的正在进行的操作失败。如果您需要发出Oracle闪回查询或Oracle闪回事务查询来诊断和更正数据问题，则此设置非常有用。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">RETENTION</code> <code class="codeph">NOGUARANTEE</code>将撤消行为恢复为正常。如果正在进行的事务需要，可以使用撤消段中未到期的撤消数据占用的空间。这是默认值。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-F3D0AA7B-9B15-49A7-A61F-6D7EF7DBAA10"><span class="italic">tablespace_encryption_clause</span></p>
                  <p>此子句与撤消表空间的语义与永久表空间的语义相同。请参阅<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_ENCRYPTION_CLAUSE-2B5A7953">tablespace_encryption_clause</a>上的完整信息，永久表空间的文件中。
                  </p>
                  <p><span class="bold">撤消表空间的限制</span></p>
                  <p>撤消表空间受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您无法在此表空间中创建数据库对象。它保留用于系统管理的撤消数据。</p>
                     </li>
                     <li>
                        <p>您可以为撤消表空间指定的唯一子句是<code class="codeph">DATAFILE</code>子句， <span class="italic"><code class="codeph">tablespace_retention_clause</code></span> ， <span class="italic"><code class="codeph">tablespace_encryption_clause</code></span>和<span class="italic"><code class="codeph">extent_management_clause</code></span>用于指定本地<code class="codeph">AUTOALLOCATE</code>范围管理。您无法使用<span class="italic"><code class="codeph">extent_management_clause</code></span>指定本地<code class="codeph">UNIFORM</code> <span class="italic"><code class="codeph">extent_management_clause</code></span>管理或字典范围管理。所有撤消表空间都创建为永久，读/写和记录模式。<code class="codeph">MINIMUM</code> <code class="codeph">EXTENT</code>和<code class="codeph">DEFAULT</code> <code class="codeph">STORAGE</code>是系统生成的。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-AA440DD6-EEDF-4F4A-A5E9-095B1143F374">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关<code class="codeph">UNDO_MANAGEMENT</code>参数的信息，请<code class="codeph">UNDO_MANAGEMENT</code> <a href="../admin/managing-undo.html#ADMIN013" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> ，了解有关自动撤消管理和撤消表空间的信息以及<a href="../refrn/UNDO_MANAGEMENT.html#REFRN10224" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                        </li>
                        <li>
                           <p><a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C">CREATE DATABASE</a>有关在数据库创建期间创建撤消表空间的信息，以及<a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D">ALTER TABLESPACE</a>和<a href="DROP-TABLESPACE.html#GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11">DROP TABLESPACE</a></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153390">创建撤消表空间：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TEMPORARY_TABLESPACE_CLAUSE-493FC811">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-937F7959-E6FA-495C-896E-0BC97D6DA60D"><span class="italic">temporary_tablespace_clause</span></p>
                  <p><a id="d372237e2286" class="indexterm-anchor"></a><a id="d372237e2290" class="indexterm-anchor"></a><a id="d372237e2294" class="indexterm-anchor"></a>使用此子句可以创建临时表空间，该表空间是数据库中的空间分配，可以包含仅在会话期间保留的瞬态数据。在过程或实例故障后无法恢复此瞬态数据。
                  </p>
                  <p>瞬态数据可以是用户生成的模式对象，例如临时表或系统生成的数据，例如散列连接和排序操作使用的临时空间。当临时表空间或此表空间所属的表空间组分配给特定用户时，Oracle数据库使用表空间对该用户启动的事务中的操作进行排序。</p>
                  <p>您可以创建两种类型的临时表空间：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您可以通过指定<code class="codeph">TEMPORARY</code> <code class="codeph">TABLESPACE</code>子句来创建共享临时表空间。共享临时表空间将临时文件存储在共享磁盘上，以便所有数据库实例都可以访问临时空间。先前版本的Oracle数据库中提供了共享临时表空间，称为“临时表空间”。在本指南的其他地方，术语“临时表空间”指的是共享临时表空间，除非另有说明。
                        </p>
                     </li>
                     <li>
                        <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，您可以通过指定<code class="codeph">LOCAL</code> <code class="codeph">TEMPORARY</code> <code class="codeph">TABLESPACE</code>子句来创建本地临时表空间。本地临时表空间在Oracle Clusterware环境中很有用。它们为每个数据库实例存储单独的非共享临时文件，这可以提高I / O性能。本地临时表空间必须是<code class="codeph">BIGFILE</code>表空间。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>指定<code class="codeph">FOR</code> <code class="codeph">ALL</code>以指示数据库为所有HUB和LEAF节点创建单独的非共享临时文件。
                              </p>
                           </li>
                           <li>
                              <p>指定<code class="codeph">FOR</code> <code class="codeph">LEAF</code>以指示数据库仅为LEAF节点创建单独的非共享临时文件。
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p><span class="bold">TEMPFILE</span></p>
                  <p><code class="codeph">TEMPFILE</code>子句在<span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2171920">DATAFILE | TEMPFILE子句</a> ”中描述</span> 。
                  </p>
                  <p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CJAIBAFI"><span class="italic"><span class="bold">tablespace_group_clause</span></span></p>
                  <p>该子句仅适用于临时表空间。使用此子句可确定<span class="italic"><code class="codeph">tablespace</code></span>是否为表空间组的成员。表空间组允许您为单个用户分配多个临时表空间，并增加临时表空间的可寻址性。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定组名称以指示<span class="italic"><code class="codeph">tablespace</code></span>是此表空间组的成员。组名称不能与<span class="italic"><code class="codeph">tablespace</code></span>或任何其他现有表空间相同。如果表空间组已存在，则Oracle数据库会将新表空间添加到该组。如果表空间组不存在，则数据库将创建该组并将新表空间添加到该组。
                        </p>
                     </li>
                     <li>
                        <p>指定一个空字符串（''）以指示<span class="italic"><code class="codeph">tablespace</code></span>不是任何表空间组的成员。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">对表空间组的限制</span></p>
                  <p>表空间组仅支持共享临时表空间。您无法将本地临时表空间添加到表空间组。</p>
                  <p><span class="bold"><span class="italic">extent_management_clause</span></span></p>
                  <p><span class="italic"><code class="codeph">extent_management_clause</code></span>在<span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2063392">extent_management_clause中</a></span>描述。
                  </p>
                  <p><span class="bold"><span class="italic">tablespace_encryption_clause</span></span></p>
                  <p>此子句与临时表空间的语义与永久表空间的语义相同。请参阅<span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_ENCRYPTION_CLAUSE-2B5A7953">tablespace_encryption_clause</a></span>上的完整信息，永久表空间的文件中。
                  </p>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-0B2FB6A7-BEC6-4A80-BE96-464C86335BF6">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D">ALTER TABLESPACE</a>和<span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2204334">将临时表空间添加到表空间组：示例</a> ”，</span>以获取有关向表空间组添加表空间的信息</p>
                        </li>
                        <li>
                           <p><a href="CREATE-USER.html#GUID-F0246961-558F-480B-AC0F-14B50134621C">CREATE USER</a>以获取有关为用户分配临时表空间的信息</p>
                        </li>
                        <li>
                           <p>有关表空间组的更多信息，请参见<a href="../admin/managing-tablespaces.html#ADMIN01103" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">临时表空间的限制</span></p>
                  <p>存储在临时表空间中的数据仅在会话期间持续存在。因此，只有<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>子句的子集与临时表空间相关。您可以为临时表空间指定的唯一子句是<code class="codeph">TEMPFILE</code>子句， <span class="italic"><code class="codeph">tablespace_group_clause</code></span> ， <span class="italic"><code class="codeph">extent_management_clause</code></span>和<span class="italic"><code class="codeph">tablespace_encryption_clause</code></span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2202468">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-DF1697A8-1099-4C8F-B849-52F3272C4D2A">例子</p>
                  <p>这些示例假定您的数据库使用8K块。</p>
                  <p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2202470"><span class="bold">创建Bigfile表空间：示例</span></p>
                  <p>以下示例创建一个<code class="codeph">bigtbs_01</code>表空间<code class="codeph">bigtbs_01</code> ，其数据文件<code class="codeph">bigtbs_f1.dbf</code>为20 MB：</p><pre class="oac_no_warn" dir="ltr">创建BIGFILE TABLESPACE bigtbs_01 DATAFILE'bigbbs_f1.dbf'SIZE 20M AUTOEXTEND ON;</pre><p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153390"><span class="bold">创建撤消表空间：示例</span></p>
                  <p>以下示例创建一个10 MB的撤消表空间<code class="codeph">undots1</code> ：</p><pre class="oac_no_warn" dir="ltr">创建UNDO TABLESPACE undots1 DATAFILE'undotbs_1a.dbf'尺寸10M自动延伸保留保证;</pre><p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2204579"><span class="bold">创建临时表空间：示例</span></p>
                  <p>此语句显示如何创建用作示例数据库中数据库用户的默认临时表空间的临时表空间：</p><pre class="oac_no_warn" dir="ltr">CREATE TEMPORARY TABLESPACE temp_demo TEMPFILE'timp01.dbf'SIZE 5M AUTOEXTEND ON;</pre><p>假设默认数据库块大小为2K，并且映射中的每个位代表一个范围，则每个位映射2,500个块。</p>
                  <p>以下示例设置数据文件创建的默认位置，然后在默认位置创建一个包含Oracle管理的临时文件的表空间。临时文件为100 M，可自动扩展，最大大小不受限制。这些是Oracle Managed Files的默认值：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET DB_CREATE_FILE_DEST ='$ ORACLE_HOME / rdbms / dbs'; CREATE TEMPORARY TABLESPACE tbs_05;</pre><p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2204334"><span class="bold">将临时表空间添加到表空间组：示例</span></p>
                  <p>下面的语句创建<code class="codeph">tbs_temp_02</code>临时表空间作为成员<code class="codeph">tbs_grp_01</code>表空间组。如果表空间组尚不存在，则Oracle Database会在执行此语句期间创建它：</p><pre class="oac_no_warn" dir="ltr">CREATE TEMPORARY TABLESPACE tbs_temp_02 TEMPFILE'temp02.dbf'SIZE 5M AUTOEXTEND ON TABLESPACE GROUP tbs_grp_01;</pre><p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153401"><span class="bold">创建基本表空间：示例</span></p>
                  <p>此语句创建一个名为<code class="codeph">tbs_01</code>的表空间，其中包含一个数据文件：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE tbs_01 DATAFILE'tbs_f2.dbf'SIZE 40M ONLINE;</pre><p>此语句创建具有一个数据文件的表空间<code class="codeph">tbs_03</code> ，并将每个范围分配为500K的倍数：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE tbs_03 DATAFILE'tbs_f03.dbf'SIZE 20M LOGGING;</pre><p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153424"><span class="bold">为表空间启用自动扩展：示例</span></p>
                  <p>此语句创建一个名为<code class="codeph">tbs_02</code>的表空间，其中包含一个数据文件。当需要更多空间时，将添加500千字节范围，最大大小为100兆字节：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE tbs_02 DATAFILE'diskb：tbs_f5.dbf'SIZE 500K REUSE AUTOEXTEND ON NEXT 500K MAXSIZE 100M;</pre><p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153447"><span class="bold">创建本地管理的表空间：示例</span></p>
                  <p>以下语句假定数据库块大小为2K。</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE tbs_04 DATAFILE'file_1.dbf'SIZE 10M EXTENT MANAGEMENT LOCAL UNIFORM SIZE 128K;</pre><p>此语句创建一个本地管理的表空间，其中每个范围都是128K，位图中的每个位描述64个块。</p>
                  <p>以下语句创建具有统一扩展区的本地管理表空间，并显示存储在该表空间中的表的示例：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE lmt1 DATAFILE'lmt_file2.dbf'SIZE 100m REUSE EXTENT MANAGEMENT LOCAL UNIFORM SIZE 1M; CREATE TABLE lmt_table1（col1 NUMBER，col2 VARCHAR2（20））TABLESPACE lmt1 STORAGE（INITIAL 2m）;</pre><p>表的初始段大小为2M。</p>
                  <p>以下示例创建一个没有统一扩展区的本地管理的表空间：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE lmt2 DATAFILE'lmt_file3.dbf'SIZE 100m REUSE EXTENT MANAGEMENT LOCAL; CREATE TABLE lmt_table2（col1 NUMBER，col2 VARCHAR2（20））TABLESPACE lmt2 STORAGE（INITIAL 2m MAXSIZE 100m）;</pre><p>表的初始段大小为2M。 Oracle数据库确定每个扩展区的大小以及为满足初始段大小而分配的扩展区总数。该细分市场的最大规模限制为100M。</p>
                  <p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__BABBGEEE"><span class="bold">创建加密表空间：示例</span></p>
                  <p>在以下示例中，第一个语句通过打开钱包来启用数据库加密。第二个语句创建一个加密的表空间。</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET ENCRYPTION WALLET由“ <span class="italic"><code class="codeph">wallet_password</code></span> ”识别; CREATE TABLESPACE encrypt_ts DATAFILE'$ ORACLE_HOME / dbs / encrypt_df.dbf'SIZE 1M ENCRYPTION使用'AES256'ENCRYPT;</pre><p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153459"><span class="bold">指定表空间的段空间管理：示例</span></p>
                  <p>以下示例创建一个具有自动段空间管理的表空间：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE auto_seg_ts DATAFILE'file_2.dbf'SIZE 1M EXTENT MANAGEMENT LOCAL SATERMENT SPACE MANAGEMENT AUTO;</pre><p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2082522"><span class="bold">创建Oracle托管文件：示例</span></p>
                  <p>以下示例设置数据文件创建的默认位置，并在默认位置创建包含数据文件的表空间。数据文件为100M，可自动扩展，最大大小不限：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET DB_CREATE_FILE_DEST ='$ ORACLE_HOME / rdbms / dbs'; CREATE TABLESPACE omf_ts1;</pre><p>以下示例创建一个表空间，其中Oracle管理的数据文件为100M，不可自动扩展：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE omf_ts2 DATAFILE AUTOEXTEND OFF;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="05900.advanced-topics-in-oracle-label-security.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle provides advanced functionality for Oracle Label Security, such as the ability to analyze relationships between labels."></meta>
      <meta name="description" content="Oracle provides advanced functionality for Oracle Label Security, such as the ability to analyze relationships between labels."></meta>
      <title>Oracle Label Security中的高级主题</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content="Oracle provides advanced functionality for Oracle Label Security, such as the ability to analyze relationships between labels."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="label-security-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-11T09:39:52-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96303-05"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="disabling-and-enabling-oracle-label-security.html" title="Previous" type="text/html"></link>
      <link rel="next" href="command-line-tools-for-label-security-using-oracle-internet-directory.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Label Security Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OLSAG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="disabling-and-enabling-oracle-label-security.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="command-line-tools-for-label-security-using-oracle-internet-directory.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part4.html" property="item" typeof="WebPage"><span property="name">附录</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Label Security中的高级主题</li>
            </ol>
            <a id="GUID-DD9C39EF-7A77-4C5D-9E2A-1A9E635A558A" name="GUID-DD9C39EF-7A77-4C5D-9E2A-1A9E635A558A"></a><a id="OLSAG104"></a>
            
            <h2 id="OLSAG-GUID-DD9C39EF-7A77-4C5D-9E2A-1A9E635A558A" class="sect2"><span class="enumeration_appendix">B</span> Oracle Label Security中的高级主题</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle为Oracle Label Security提供了高级功能，例如分析标签之间关系的功能。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-0E58615C-8F37-487E-8278-E506647BB867">分析标签之间的关系</a><br>您可以分析标签之间的关系。
                  </li>
                  <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-1637D81B-96F3-4F15-B9B7-54251DD637F8">查询经过审核的Oracle Label Security会话标签</a><br>您可以使用统一审计跟踪来捕获来自各种审计源的信息，包括Oracle Label Security。
                  </li>
                  <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-47F6AC12-04B5-4934-B921-A0A403B7CA63">用于设置会话标签的Oracle调用接口</a><br>您可以使用Oracle调用接口（OCI）来设置会话标签。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part4.html" title="第IV部分包含使用Oracle Label Security的参考资料。">附录</a></p>
                  </div>
               </div>
            </div>
            <a id="OLSAG3689"></a><div class="props_rev_3"><a id="GUID-0E58615C-8F37-487E-8278-E506647BB867" name="GUID-0E58615C-8F37-487E-8278-E506647BB867"></a><h3 id="OLSAG-GUID-0E58615C-8F37-487E-8278-E506647BB867" class="sect3">分析标签之间的关系</h3>
               <div>
                  <p>您可以分析标签之间的关系。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-C936CEF5-B3F6-4BC5-AD41-00D925CC190C">关于主导和支配标签</a><br>两个标签之间的关系可以用<span class="italic">优势</span>来描述<span class="italic">。</span> 
                     </li>
                     <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-A75CF0EF-E0C6-4EBC-B7CC-11C0AB498EEF">不可比标签</a><br>重要的是要了解标签如何在优势方面进行比较。
                     </li>
                     <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84">使用优势函数</a><br>Oracle Label Security提供了控制优势的功能。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-DD9C39EF-7A77-4C5D-9E2A-1A9E635A558A" title="Oracle为Oracle Label Security提供了高级功能，例如分析标签之间关系的功能。">Oracle Label Security中的高级主题</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG3691"></a><a id="OLSAG3690"></a><div class="props_rev_3"><a id="GUID-C936CEF5-B3F6-4BC5-AD41-00D925CC190C" name="GUID-C936CEF5-B3F6-4BC5-AD41-00D925CC190C"></a><h4 id="OLSAG-GUID-C936CEF5-B3F6-4BC5-AD41-00D925CC190C" class="sect4">关于主导和支配标签</h4>
                  <div>
                     <p>两个标签之间的关系可以用<span class="italic">优势</span>来描述<span class="italic">。</span> 
                     </p>
                     <p>用户访问对象的能力取决于用户的标签是否支配对象的标签。如果用户的标签不支配对象的标签，则不允许用户访问该对象。</p>
                     <p>根据其所有组件分析标签优势：级别，隔室和组。</p>
                     <div class="tblformal" id="GUID-C936CEF5-B3F6-4BC5-AD41-00D925CC190C__GUID-A8ACFCD9-D39B-428E-BDDB-159565520F09">
                        <p class="titleintable">表B-1标签比较中的优势</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="标签比较中的优势" width="100%" border="1" summary="This table describes what dominance means in each component of a label. Columns are Factor and Criteria for Dominance." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="38%" id="d58750e252">因子</th>
                                 <th align="left" valign="bottom" width="62%" id="d58750e255">支配标准</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d58750e260" headers="d58750e252 ">
                                    <p>水平</p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d58750e260 d58750e255 ">
                                    <p>对于<code class="codeph">label1</code>主宰<code class="codeph">label2</code> ，水平<code class="codeph">label1</code>必须大于或等于的<code class="codeph">label2</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d58750e279" headers="d58750e252 ">
                                    <p>隔室</p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d58750e279 d58750e255 ">
                                    <p>对于<code class="codeph">label1</code>支配<code class="codeph">label2</code> ， <code class="codeph">label1</code>的隔室必须包含<code class="codeph">label2</code> <span class="italic">所有</span>隔室。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d58750e301" headers="d58750e252 ">
                                    <p>组</p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d58750e301 d58750e255 ">
                                    <p>对于<code class="codeph">label1</code>支配<code class="codeph">label2</code> ， <code class="codeph">label1</code>必须<span class="italic">至少</span>包含<span class="italic">一个</span> <code class="codeph">label2</code>组。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>如果一个标签的所有组件都<span class="italic">支配</span>另一个标签的组件，则该标签<span class="italic">占据</span>另一个标签。例如，标签<code class="codeph">HIGHLY_SENSITIVE</code> ： <code class="codeph">FINANCE</code> ， <code class="codeph">OPERATIONS</code>在标签<code class="codeph">HIGHLY_SENSITIVE:FINANCE</code>占主导地位。类似地，标签<code class="codeph">HIGHLY_SENSITIVE::WR_AP</code>支配标签<code class="codeph">HIGHLY_SENSITIVE::WR_AP, WR_AR</code> 。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="releasability-using-inverse-groups.html#GUID-4F86EA80-3ACE-4D33-AC1D-1B62BC012C5E" title="您应该了解优势规则如何适用于Oracle标签和反向组。">具有逆群的标签的优势规则</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-0E58615C-8F37-487E-8278-E506647BB867" title="您可以分析标签之间的关系。">分析标签之间的关系</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="OLSAG3692"></a><div class="props_rev_3"><a id="GUID-A75CF0EF-E0C6-4EBC-B7CC-11C0AB498EEF" name="GUID-A75CF0EF-E0C6-4EBC-B7CC-11C0AB498EEF"></a><h4 id="OLSAG-GUID-A75CF0EF-E0C6-4EBC-B7CC-11C0AB498EEF" class="sect4">不可比标签</h4>
                  <div>
                     <p>重要的是要了解标签如何在优势方面进行比较。</p>
                     <p>两个标签之间的关系并不总是由优势来定义。如果两个标签都不是另一个标签，则两个标签是<span class="italic">不可比</span>的。
                     </p>
                     <p>如果两个标签之间的任何隔室不同（如<code class="codeph">HS:A</code>和<code class="codeph">HS:B</code> ），那么它们是不可比较的。类似地，标签<code class="codeph">HS:A</code>和<code class="codeph">S:B</code>是不可比较的。
                     </p>
                     <p>您可以通过查询<span class="apiname" translate="no">DBA_SA_LABELS</span>数据字典视图来查找现有标签。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-0E58615C-8F37-487E-8278-E506647BB867" title="您可以分析标签之间的关系。">分析标签之间的关系</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3693"></a><div class="props_rev_3"><a id="GUID-CD606D67-78AE-427D-B397-627C68E77B84" name="GUID-CD606D67-78AE-427D-B397-627C68E77B84"></a><h4 id="OLSAG-GUID-CD606D67-78AE-427D-B397-627C68E77B84" class="sect4">使用优势函数</h4>
                  <div>
                     <p>Oracle Label Security提供了控制优势的功能。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-8C9E2135-6636-4101-BDC8-BC42C1CF56EF">关于优势功能</a><br>您可以使用优势函数来指定查询中的范围。
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596">OLS_DOMINATES独立功能</a><br>如果<code class="codeph">label1</code>支配<code class="codeph">label2</code> ，则<code class="codeph">OLS_DOMINATES</code> （ <code class="codeph">OLS_DOM</code> ）函数返回<code class="codeph">1</code> （ <code class="codeph">TRUE</code> ），否则返回<code class="codeph">0</code> （ <code class="codeph">FALSE</code> ）。
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE">OLS_LABEL_DOMINATES独立函数</a><br>独立的<code class="codeph">OLS_LABEL_DOMINATES</code>函数检查会话标签的优势。
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5">OLS_STRICTLY_DOMINATES独立函数</a><br>如果<code class="codeph">label1</code>支配<code class="codeph">label2</code>并且不等于它，则<code class="codeph">OLS_STRICTLY_DOMINATES</code> （ <code class="codeph">OLS_S_DOM</code> ）函数返回<code class="codeph">1</code> （ <code class="codeph">TRUE</code> ）。
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D">OLS_DOMINATED_BY独立功能</a><br>如果<code class="codeph">label1</code>由<code class="codeph">label2</code>支配，则<code class="codeph">OLS_DOMINATED_BY</code> （ <code class="codeph">OLS_DOM_BY</code> ）函数返回<code class="codeph">1</code> （ <code class="codeph">TRUE</code> ）。
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F">OLS_STRICTLY_DOMINATED_BY独立功能</a><br>如果<code class="codeph">label1</code>由<code class="codeph">label2</code>支配并且不等于它，则<code class="codeph">OLS_STRICTLY_DOMINATED_BY</code> （ <code class="codeph">OLS_S_DOM_BY</code> ）函数返回<code class="codeph">1</code> （ <code class="codeph">TRUE</code> ）。
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8">SA_UTL.DOMINATES</a><br>如果<code class="codeph">label1</code>支配<code class="codeph">label2</code>或者给定OLS策略的会话标签支配<code class="codeph">label</code>则<code class="codeph">SA_UTL.DOMINATES</code>函数返回<code class="codeph">TRUE</code> 。
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652">SA_UTL.STRICTLY_DOMINATES</a><br>如果<code class="codeph">label1</code>支配<code class="codeph">label2</code>并且不等于它，则<code class="codeph">SA_UTL.STRICTLY_DOMINATES</code>函数返回<code class="codeph">TRUE</code> 。
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A">SA_UTL.DOMINATED_BY</a><br>如果<code class="codeph">label1</code>由<code class="codeph">label2</code>支配，则<code class="codeph">SA_UTL.DOMINATED_BY</code>函数返回<code class="codeph">TRUE</code> 。
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE">SA_UTL.STRICTLY_DOMINATED_BY</a><br>如果<code class="codeph">label1</code>由<code class="codeph">label2</code>支配并且不等于它，则<code class="codeph">SA_UTL.STRICTLY_DOMINATED_BY</code>函数返回<code class="codeph">TRUE</code> 。
                        </li>
                     </ul>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="working-with-labeled-data.html#GUID-9D6DF3AA-C487-4FE0-8FB8-6D9173A23A93" title="SELECT语句的ORDER BY子句可用于通过数字标签标记对行进行排序。">订购标记数据行</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-0E58615C-8F37-487E-8278-E506647BB867" title="您可以分析标签之间的关系。">分析标签之间的关系</a></p>
                        </div>
                     </div>
                  </div><a id="OLSAG3694"></a><a id="OLSAG4146"></a><div class="props_rev_3"><a id="GUID-8C9E2135-6636-4101-BDC8-BC42C1CF56EF" name="GUID-8C9E2135-6636-4101-BDC8-BC42C1CF56EF"></a><h5 id="OLSAG-GUID-8C9E2135-6636-4101-BDC8-BC42C1CF56EF" class="sect5">关于优势功能</h5>
                     <div>
                        <p>您可以使用优势函数来指定查询中的范围。</p>
                        <p>以下函数使您可以指示指定标签之间的优势关系。</p>
                        <div class="tblformal" id="GUID-8C9E2135-6636-4101-BDC8-BC42C1CF56EF__GUID-D22A9249-B0BA-482A-8AF6-DA770686E5F2">
                           <p class="titleintable">表B-2确定优势的功能</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="确定优势的功能" width="100%" border="1" summary="This table lists the functions you can use to indicate dominance relationships between specified labels, listing each individual function and its meaning." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="48%" id="d58750e813">功能</th>
                                    <th align="left" valign="bottom" width="52%" id="d58750e816">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d58750e821" headers="d58750e813 ">
                                       <p><code class="codeph">OLS_DOMINATES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d58750e821 d58750e816 ">
                                       <p><code class="codeph">label1</code>的值支配或等于<code class="codeph">label2</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d58750e835" headers="d58750e813 ">
                                       <p><code class="codeph">OLS_LABEL_DOMINATES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d58750e835 d58750e816 ">
                                       <p>相应<code class="codeph">policy_name</code>的会话标签的值支配或等于<code class="codeph">label</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d58750e849" headers="d58750e813 ">
                                       <p><code class="codeph">OLS_STRICTLY_DOMINATES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d58750e849 d58750e816 ">
                                       <p><code class="codeph">label1</code>的值支配<code class="codeph">label2</code>的值，并且不等于它。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d58750e863" headers="d58750e813 ">
                                       <p><code class="codeph">OLS_DOMINATED_BY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d58750e863 d58750e816 ">
                                       <p><code class="codeph">label1</code>的值由<code class="codeph">label2</code>的值控制。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d58750e877" headers="d58750e813 ">
                                       <p><code class="codeph">OLS_STRICTLY_DOMINATED_BY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d58750e877 d58750e816 ">
                                       <p><code class="codeph">label1</code>的值由<code class="codeph">label2</code>的值控制，并且不等于它。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>请注意，有两种类型的支配函数。当<code class="codeph">SA_UTL</code>优势函数返回<code class="codeph">BOOLEAN</code>值时，独立优势函数返回整数。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security提供了控制优势的功能。">使用Dominance函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3799"></a><a id="OLSAG4155"></a><a id="OLSAG4156"></a><a id="OLSAG4157"></a><a id="OLSAG3695"></a><div class="props_rev_3"><a id="GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596" name="GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596"></a><h5 id="OLSAG-GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596" class="sect5">OLS_DOMINATES独立功能</h5>
                     <div>
                        <p>如果<code class="codeph">label1</code>支配<code class="codeph">label2</code> ，则<code class="codeph">OLS_DOMINATES</code> （ <code class="codeph">OLS_DOM</code> ）函数返回<code class="codeph">1</code> （ <code class="codeph">TRUE</code> ），否则返回<code class="codeph">0</code> （ <code class="codeph">FALSE</code> ）。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596__GUID-32ECDADE-6579-4527-8398-B73773DB3EB7">句法</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">OLS_DOMINATES（label1 IN NUMBER，label2 IN NUMBER）RETURN INTEGER;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596__GUID-2BBFA7F3-956B-4D2D-9DBA-A60760E82D43">参数</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596__GUID-1CA17D30-4B08-4CEE-B5A6-B1A8D1821CEE">
                           <p class="titleintable">表B-3 OLS_DOMINATES参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OLS_DOMINATES参数" width="100%" border="1" summary="OLS_DOMINATES Parameters. Columns are Parameter and Descriptions." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e1011">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e1014">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1019" headers="d58750e1011 ">
                                       <p><code class="codeph">LABEL1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1019 d58750e1014 ">
                                       <p>要检查的第一个标签。要查找现有标签值，请查询<code class="codeph">ALL_SA_LABELS</code>视图的<code class="codeph">LABEL</code>和<code class="codeph">TAG</code>列。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1036" headers="d58750e1011 ">
                                       <p><code class="codeph">LABEL2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1036 d58750e1014 ">
                                       <p>要检查的第二个标签</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596__GUID-2924C58F-1C15-48C8-93BE-0DE513DFB5B0">例</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下示例比较现有标签标签<code class="codeph">1111</code>和<code class="codeph">1112</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT OLS_DOMINATES（'1111'，'1112'）FROM DUAL; OLS_DOMINATES（'1111'，'1112'）---------------------------- 0</pre><div class="infoboxnote" id="GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596__GUID-C9203716-FD0F-498E-B275-C31CC684FC5B">
                              <p class="notep1">注意：</p>
                              <p>旧的OLS函数<code class="codeph">DOMINATES</code>和<code class="codeph">DOM</code>已在Oracle Database 12 <span class="italic">c第</span> 1版（12.1）中弃用。
                              </p>
                              <p>您仍然可以使用此版本中的旧功能，但Oracle建议您改为使用<code class="codeph">OLS_LABEL_DOMINATES</code>和<code class="codeph">OLS_DOM</code>函数。使用新函数名称可避免与其他数据库组件发生潜在的名称冲突。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security提供了控制优势的功能。">使用Dominance函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG4148"></a><a id="OLSAG4158"></a><a id="OLSAG4159"></a><a id="OLSAG4160"></a><a id="OLSAG4147"></a><div class="props_rev_3"><a id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE" name="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE"></a><h5 id="OLSAG-GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE" class="sect5">OLS_LABEL_DOMINATES独立函数</h5>
                     <div>
                        <p>独立的<code class="codeph">OLS_LABEL_DOMINATES</code>函数检查会话标签的优势。
                        </p>
                        <div class="section">
                           <p>如果指定<code class="codeph">policy_name</code>值的会话标签支配或等于<code class="codeph">label</code>参数指定的标签，则返回<code class="codeph">1</code> （ <code class="codeph">TRUE</code> ）。否则，此函数返回<code class="codeph">0</code> （ <code class="codeph">FALSE</code> ）。此功能是公开的。
                           </p>
                           <div class="infoboxnote" id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE__GUID-57CDCA59-3C52-4707-86BC-F4C4EDDA1CDD">
                              <p class="notep1">注意：</p>
                              <p>从Oracle Database 12 <span class="italic">c第</span> 1版（12.1.0.2）开始提供此功能。
                              </p>
                           </div>
                           <p>除Oracle Label Security策略外，您还可以将此功能与Oracle Data Redaction和Oracle Database Vault策略配合使用。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE__GUID-6063788F-FAFF-426C-B440-7E20BF033BF7">句法</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">OLS_LABEL_DOMINATES（policy_name IN VARCHAR2，label IN VARCHAR2）RETURN INTEGER;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE__GUID-F79425A0-DD85-4EE2-9778-8642DA497C3D">参数</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE__GUID-5F0F7977-D44D-4BE6-B16C-0854FBDB51D7">
                           <p class="titleintable">表B-4 OLS_LABEL_DOMINATES参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OLS_LABEL_DOMINATES参数" width="100%" border="1" summary="OLS_LABEL_DOMINATES Parameters. Columns are Parameters and Description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e1215">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e1218">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1223" headers="d58750e1215 ">
                                       <p><code class="codeph">POLICY_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1223 d58750e1218 ">
                                       <p>必须检查其会话标签的优先级的Oracle Label Security策略的名称。要查找策略的现有标签值，请查询<code class="codeph">ALL_SA_LABELS</code>视图的<code class="codeph">POLICY_NAME</code>和<code class="codeph">LABEL</code>列。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1240" headers="d58750e1215 ">
                                       <p><code class="codeph">标签</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1240 d58750e1218 ">
                                       <p>必须检查优势的基准标签</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE__GUID-F146083A-02A3-4188-AC93-39640A34234A">例子</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下示例检查<code class="codeph">hr_ols_pol</code>策略的会话标签是否支配或等于<code class="codeph">hs</code>标签。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT OLS_LABEL_DOMINATES（'hr_ols_pol'，'hs'）FROM DUAL; OLS_LABEL_DOMINATES（'HR_OLS_POL'，'HS'）-------------------------------------- 0</pre><p>此示例显示如何在Oracle Data Redaction策略中使用<code class="codeph">OLS_LABEL_DOMINATES</code>函数：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ADD_POLICY（object_schema =&gt;'oe'，object_name =&gt;'customers'，column_name =&gt;'customer_id'，policy_name =&gt;'redact_cust_user_ids'，function_type =&gt; DBMS_REDACT.FULL，expression =&gt;'OLS_LABEL_DOMINATES（''hr_ols_pol' '，''hs''）= 0'）;结束; /</pre><p>以下示例说明如何在Oracle Database Vault规则定义中使用<code class="codeph">OLS_LABEL_DOMINATES</code>函数：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.CREATE_RULE（'检查OLS因子'，'OLS_LABEL_DOMINATES（''hr_ols_pol''，''hs''）= 1'）;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE__GUID-39C38224-C4D9-476C-A9DE-FED91EE276E8">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关数据编辑的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/olsag&amp;id=ASOAG596" target="_blank"><span><cite>“Oracle数据库高级安全指南</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关Database Vault领域的详细信息，请参见<a href="../dvadm/configuring-realms.html#DVADM71155" target="_blank"><span><cite>“Oracle Database Vault管理员指南”</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security提供了控制优势的功能。">使用Dominance函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3800"></a><a id="OLSAG4161"></a><a id="OLSAG4162"></a><a id="OLSAG4163"></a><a id="OLSAG3696"></a><div class="props_rev_3"><a id="GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5" name="GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5"></a><h5 id="OLSAG-GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5" class="sect5">OLS_STRICTLY_DOMINATES独立函数</h5>
                     <div>
                        <p>如果<code class="codeph">label1</code>支配<code class="codeph">label2</code>并且不等于它，则<code class="codeph">OLS_STRICTLY_DOMINATES</code> （ <code class="codeph">OLS_S_DOM</code> ）函数返回<code class="codeph">1</code> （ <code class="codeph">TRUE</code> ）。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5__GUID-AB05AB82-475C-4FBC-B23F-C98E5FDB779D">句法</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">OLS_STRICTLY_DOMINATES（标签1 IN NUMBER，label2 IN NUMBER）RETURN INTEGER;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5__GUID-B82FF1CE-0FC4-4696-8E57-0BE41F750FBB">参数</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5__GUID-2A84F58C-07CC-46E6-B980-661399ED35D3">
                           <p class="titleintable">表B-5 OLS_STRICTLY_DOMINATES参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OLS_STRICTLY_DOMINATES参数" width="100%" border="1" summary="OLS_STRICTLY_DOMINATES Parameters. Columns are Parameter and Description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e1399">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e1402">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1407" headers="d58750e1399 ">
                                       <p><code class="codeph">LABEL1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1407 d58750e1402 ">
                                       <p>要检查的第一个标签。要查找现有标签值，请查询<code class="codeph">ALL_SA_LABELS</code>视图的<code class="codeph">LABEL</code>和<code class="codeph">TAG</code>列。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1424" headers="d58750e1399 ">
                                       <p><code class="codeph">LABEL2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1424 d58750e1402 ">
                                       <p>要检查的第二个标签</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5__GUID-D6ECFD57-1F1E-48C3-A398-3E708250D01B">例子</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下示例比较现有标签标签<code class="codeph">1111</code>和<code class="codeph">1112</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT OLS_STRICTLY_DOMINATES（'1111'，'1112'）FROM DUAL; OLS_STRICTLY_DOMINATES（'1111'，'1112'）------------------------------------- 0</pre><div class="infoboxnote" id="GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5__GUID-186DFE7E-08A5-4B82-ADA5-64D600FE9F6E">
                              <p class="notep1">注意：</p>
                              <p>旧OLS功能， <code class="codeph">STRICTLY_DOMINATES</code>和<code class="codeph">S_DOM</code>已弃用Oracle数据库12 <span class="italic">c</span>释放1（12.1）。
                              </p>
                              <p>您仍然可以使用此版本中的旧功能，但Oracle建议您改为使用<code class="codeph">OLS_STRICTLY_DOMINATES</code>和<code class="codeph">OLS_S_DOM</code>函数。使用新函数名称可避免与其他数据库组件发生潜在的名称冲突。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security提供了控制优势的功能。">使用Dominance函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3801"></a><a id="OLSAG4164"></a><a id="OLSAG4165"></a><a id="OLSAG4166"></a><a id="OLSAG3697"></a><div class="props_rev_3"><a id="GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D" name="GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D"></a><h5 id="OLSAG-GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D" class="sect5">OLS_DOMINATED_BY独立功能</h5>
                     <div>
                        <p>如果<code class="codeph">label1</code>由<code class="codeph">label2</code>支配，则<code class="codeph">OLS_DOMINATED_BY</code> （ <code class="codeph">OLS_DOM_BY</code> ）函数返回<code class="codeph">1</code> （ <code class="codeph">TRUE</code> ）。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D__GUID-BEA65484-C259-4688-A19B-EF054A0048BF">句法</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">OLS_DOMINATED_BY（label1 IN NUMBER，label2 IN NUMBER）RETURN INTEGER;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D__GUID-5F14CAD7-DFAF-47FC-AB77-70D75173F3A1">参数</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D__GUID-FC2A5009-ED30-488A-85B8-298DEBC4B98F">
                           <p class="titleintable">表B-6 OLS_STRICTLY_DOMINATES参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OLS_STRICTLY_DOMINATES参数" width="100%" border="1" summary="OLS_STRICTLY_DOMINATES Parameters. Columns are Parameter and Description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e1572">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e1575">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1580" headers="d58750e1572 ">
                                       <p><code class="codeph">LABEL1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1580 d58750e1575 ">
                                       <p>要检查的第一个标签。要查找现有标签值，请查询<code class="codeph">ALL_SA_LABELS</code>视图的<code class="codeph">LABEL</code>和<code class="codeph">TAG</code>列。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1597" headers="d58750e1572 ">
                                       <p><code class="codeph">LABEL2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1597 d58750e1575 ">
                                       <p>要检查的第二个标签</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D__GUID-DDCD7424-4355-4680-9C87-23E6AAC74FDF">例</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下示例比较现有标签标签<code class="codeph">1111</code>和<code class="codeph">1112</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT OLS_DOMINATED_BY（'1111'，'1112'）FROM DUAL; OLS_DOMINATED_BY（'1111'，'1112'）------------------------------- 1</pre><div class="infoboxnote" id="GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D__GUID-6D007E85-C8E8-401A-8FC7-86C1202A9A8A">
                              <p class="notep1">注意：</p>
                              <p>旧OLS功能， <code class="codeph">DOMINATED_BY</code>和<code class="codeph">DOM_BY</code>已弃用在Oracle数据库12 <span class="italic">c</span>释放1（12.1）。
                              </p>
                              <p>您仍然可以使用此版本中的旧功能，但Oracle建议您改为使用<code class="codeph">OLS_DOMINATED_BY</code>和<code class="codeph">OLS_DOM_BY</code>函数。使用新函数名称可避免与其他数据库组件发生潜在的名称冲突。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security提供了控制优势的功能。">使用Dominance函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3802"></a><a id="OLSAG4167"></a><a id="OLSAG4168"></a><a id="OLSAG4169"></a><a id="OLSAG3698"></a><div class="props_rev_3"><a id="GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F" name="GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F"></a><h5 id="OLSAG-GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F" class="sect5">OLS_STRICTLY_DOMINATED_BY独立功能</h5>
                     <div>
                        <p>如果<code class="codeph">label1</code>由<code class="codeph">label2</code>支配并且不等于它，则<code class="codeph">OLS_STRICTLY_DOMINATED_BY</code> （ <code class="codeph">OLS_S_DOM_BY</code> ）函数返回<code class="codeph">1</code> （ <code class="codeph">TRUE</code> ）。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F__GUID-31FB84F8-A7F7-42BD-9380-4BA21ECC2B7B">句法</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">OLS_STRICTLY_DOMINATED_BY（label1 IN NUMBER，label2 IN NUMBER）RETURN INTEGER;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F__GUID-20861D50-421B-4DD5-89B3-430FC7640359">参数</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F__GUID-46BAD4C6-F35E-4E2B-8313-66F4607580E9">
                           <p class="titleintable">表B-7 OLS_DOMINATES参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OLS_DOMINATES参数" width="100%" border="1" summary="OLS_DOMINATES Parameters. Columns are Parameter and Description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e1744">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e1747">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1752" headers="d58750e1744 ">
                                       <p><code class="codeph">LABEL1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1752 d58750e1747 ">
                                       <p>要检查的第一个标签。要查找现有标签值，请查询<code class="codeph">ALL_SA_LABELS</code>视图的<code class="codeph">LABEL</code>和<code class="codeph">TAG</code>列。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1769" headers="d58750e1744 ">
                                       <p><code class="codeph">LABEL2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1769 d58750e1747 ">
                                       <p>要检查的第二个标签</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F__GUID-BF720A74-7103-4E0E-BFDF-CA7F36A6BD08">例</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下示例比较现有标签标签<code class="codeph">1111</code>和<code class="codeph">1112</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT OLS_STRICTLY_DOMINATES（'1111'，'1112'）FROM DUAL; OLS_STRICTLY_DOMINATES（'1111'，'1112'）------------------------------------- 0</pre><div class="infoboxnote" id="GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F__GUID-953B9693-F2FC-4AE5-BF3A-BB4AB3E90383">
                              <p class="notep1">注意：</p>
                              <p>旧OLS功能， <code class="codeph">STRICTLY_DOMINATED_BY</code>和<code class="codeph">S_DOM_BY</code>已弃用在Oracle数据库12 <span class="italic">c</span>释放1（12.1）。
                              </p>
                              <p>您仍然可以使用此版本中的旧功能，但Oracle建议您改为使用<code class="codeph">OLS_STRICTLY_DOMINATED_BY</code>和<code class="codeph">OLS_S_DOM_BY</code>函数。使用新函数名称可避免与其他数据库组件发生潜在的名称冲突。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security提供了控制优势的功能。">使用Dominance函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3803"></a><a id="OLSAG3804"></a><a id="OLSAG4170"></a><a id="OLSAG4171"></a><a id="OLSAG4172"></a><a id="OLSAG3699"></a><div class="props_rev_3"><a id="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8" name="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8"></a><h5 id="OLSAG-GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8" class="sect5">SA_UTL.DOMINATES</h5>
                     <div>
                        <p>如果<code class="codeph">label1</code>支配<code class="codeph">label2</code>或者给定OLS策略的会话标签支配<code class="codeph">label</code>则<code class="codeph">SA_UTL.DOMINATES</code>函数返回<code class="codeph">TRUE</code> 。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8__GUID-2A488CF9-0674-4404-B1B9-86B4AA1F2122">句法</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SA_UTL.DOMINATES（标签1 IN NUMBER，label2 IN NUMBER）RETURN BOOLEAN;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8__GUID-40C23E87-8E61-4071-B3FA-2D6205FB28E2">句法</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SA_UTL.DOMINATES（ols_policy_name IN VARCHAR2，label IN VARCHAR2）RETURN BOOLEAN;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8__GUID-6419B527-81AE-41D3-B718-CBB672E22C29">参数</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8__GUID-871DF2AF-18A6-43FD-89FB-E8358E19C133">
                           <p class="titleintable">表B-8 SA_UTL.DOMINATES参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SA_UTL.DOMINATES参数" width="100%" border="1" summary="SA_UTL.DOMINATES Parameters. Columns are Parameter and Description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e1922">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e1925">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1930" headers="d58750e1922 ">
                                       <p><code class="codeph">LABEL1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1930 d58750e1925 ">
                                       <p>要检查的第一个标签。要查找现有标签值，请查询<code class="codeph">ALL_SA_LABELS</code>视图的<code class="codeph">LABEL</code>和<code class="codeph">TAG</code>列。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1947" headers="d58750e1922 ">
                                       <p><code class="codeph">LABEL2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1947 d58750e1925 ">
                                       <p>要检查的第二个标签</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8__GUID-A618CB21-BA37-4FAD-A219-8B3B4F6C70C1">例</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下示例比较现有标签标签<code class="codeph">1111</code>和<code class="codeph">1112</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT开启如果SA_UTL.DOMINATES（1111,1112）那么DBMS_OUTPUT.PUT_LINE（'标签1111支配标签1112。“）; ELSE DBMS_OUTPUT.PUT_LINE（'标签1112支配标签1111。“）;万一;结束; / Label 1112在标签1111中占主导地位。</pre><div class="infoboxnote" id="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8__GUID-E48519F9-3081-4AFF-B455-715D65576532">
                              <p class="notep1">注意：</p>
                              <p>Oracle Database 12 <span class="italic">c第</span> 1版（12.1）中已弃用第二个<code class="codeph">SA_UTL.DOMINATES</code>函数，该函数将Oracle Label Security策略名称和标签作为输入。
                              </p>
                              <p>您仍然可以使用此功能，但不能使用Oracle Data Redaction和Oracle Database Vault条件。Oracle建议您改为使用<code class="codeph">OLS_LABEL_DOMINATES</code>函数。
                              </p>
                              <p>不推荐使用第一个使用<code class="codeph">NUMBER</code>数据类型的<code class="codeph">SA_UTL.DOMINATES</code>函数。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security提供了控制优势的功能。">使用Dominance函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3805"></a><a id="OLSAG4173"></a><a id="OLSAG4174"></a><a id="OLSAG4175"></a><a id="OLSAG3700"></a><div class="props_rev_3"><a id="GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652" name="GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652"></a><h5 id="OLSAG-GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652" class="sect5">SA_UTL.STRICTLY_DOMINATES</h5>
                     <div>
                        <p>如果<code class="codeph">label1</code>支配<code class="codeph">label2</code>并且不等于它，则<code class="codeph">SA_UTL.STRICTLY_DOMINATES</code>函数返回<code class="codeph">TRUE</code> 。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652__GUID-D7589B14-9A11-40B7-958F-984699BAF4DF">句法</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SA_UTL.STRICTLY_DOMINATES（label1 IN NUMBER，label2 IN NUMBER）RETURN BOOLEAN;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652__GUID-AF937C65-1C45-4DD2-A7DB-70E2D34FE6F1">参数</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652__GUID-1F69215B-E32A-488C-9522-4F1E08FCE83B">
                           <p class="titleintable">表B-9 SA_UTL.STRICTLY_DOMINATES参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SA_UTL.STRICTLY_DOMINATES参数" width="100%" border="1" summary="SA_UTL.STRICTLY_DOMINATES Parameters. Columns are Parameter and Description. " frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e2090">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e2093">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e2098" headers="d58750e2090 ">
                                       <p><code class="codeph">LABEL1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e2098 d58750e2093 ">
                                       <p>要检查的第一个标签。要查找现有标签值，请查询<code class="codeph">ALL_SA_LABELS</code>视图的<code class="codeph">LABEL</code>和<code class="codeph">TAG</code>列。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e2115" headers="d58750e2090 ">
                                       <p><code class="codeph">LABEL2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e2115 d58750e2093 ">
                                       <p>要检查的第二个标签</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652__GUID-D342F196-2299-43F1-9F50-F7C1399DE8B2">例</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下示例比较现有标签标签<code class="codeph">1111</code>和<code class="codeph">1112</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT开启如果SA_UTL.STRICTLY_DOMINATES（1111,1112）那么DBMS_OUTPUT.PUT_LINE（'标签1111严格控制标签1112。“）; ELSE DBMS_OUTPUT.PUT_LINE（'标签1112严格支配标签1111。“）;万一;结束; / Label 1112严格控制标签1111。</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security提供了控制优势的功能。">使用Dominance函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3806"></a><a id="OLSAG4176"></a><a id="OLSAG4177"></a><a id="OLSAG4178"></a><a id="OLSAG3701"></a><div class="props_rev_3"><a id="GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A" name="GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A"></a><h5 id="OLSAG-GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A" class="sect5">SA_UTL.DOMINATED_BY</h5>
                     <div>
                        <p>如果<code class="codeph">label1</code>由<code class="codeph">label2</code>支配，则<code class="codeph">SA_UTL.DOMINATED_BY</code>函数返回<code class="codeph">TRUE</code> 。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A__GUID-A66F1F1E-86EA-4605-89CF-47A4BA4C2F4E">句法</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SA_UTL.DOMINATED_BY（label1 IN NUMBER，label2 IN NUMBER）RETURN BOOLEAN;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A__GUID-60DAB736-95C9-4C39-8229-2ADAFFE1E13E">参数</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A__GUID-F403402D-98A4-4B04-88DE-AE8D5B3AEDF5">
                           <p class="titleintable">表B-10 SA_UTL.DOMINATED_BY参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SA_UTL.DOMINATED_BY参数" width="100%" border="1" summary="SA_UTL.DOMINATED_BY Parameters. Columns are Parameter and Description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e2235">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e2238">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e2243" headers="d58750e2235 ">
                                       <p><code class="codeph">LABEL1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e2243 d58750e2238 ">
                                       <p>要检查的第一个标签。要查找现有标签值，请查询<code class="codeph">ALL_SA_LABELS</code>视图的<code class="codeph">LABEL</code>和<code class="codeph">TAG</code>列。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e2260" headers="d58750e2235 ">
                                       <p><code class="codeph">LABEL2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e2260 d58750e2238 ">
                                       <p>要检查的第二个标签</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A__GUID-E2F5684F-5ECE-45F0-97AB-665D35C13E87">例</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下示例比较现有标签标签<code class="codeph">1111</code>和<code class="codeph">1112</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON BEGIN如果SA_UTL.DOMINATED_BY（1111,1112）那么DBMS_OUTPUT.PUT_LINE（'标签1111由标签1112支配。“）; ELSE DBMS_OUTPUT.PUT_LINE（'标签1112由标签1111支配。“）;万一;结束; /标签1111由标签1112支配。</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security提供了控制优势的功能。">使用Dominance函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3807"></a><a id="OLSAG4179"></a><a id="OLSAG4180"></a><a id="OLSAG4181"></a><a id="OLSAG3702"></a><div class="props_rev_3"><a id="GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE" name="GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE"></a><h5 id="OLSAG-GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE" class="sect5">SA_UTL.STRICTLY_DOMINATED_BY</h5>
                     <div>
                        <p>如果<code class="codeph">label1</code>由<code class="codeph">label2</code>支配并且不等于它，则<code class="codeph">SA_UTL.STRICTLY_DOMINATED_BY</code>函数返回<code class="codeph">TRUE</code> 。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE__GUID-559FB9A3-8549-49D1-8382-1A6A0A7F2E88">句法</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SA_UTL.STRICTLY_DOMINATED_BY（label1 IN NUMBER，label2 IN NUMBER）RETURN BOOLEAN;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE__GUID-65C64618-568F-420A-934E-2CAC0ABF352E">参数</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE__GUID-642FE7F0-B841-4DC3-9051-D19C5AE5E27B">
                           <p class="titleintable">表B-11 SA_UTL.STRICTLY_DOMINATED_BY参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SA_UTL.STRICTLY_DOMINATED_BY参数" width="100%" border="1" summary="OLS_DOMINATES Parameters. Columns are Parameter and Description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e2380">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e2383">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e2388" headers="d58750e2380 ">
                                       <p><code class="codeph">LABEL1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e2388 d58750e2383 ">
                                       <p>要检查的第一个标签。要查找现有标签值，请查询<code class="codeph">ALL_SA_LABELS</code>视图的<code class="codeph">LABEL</code>和<code class="codeph">TAG</code>列。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e2405" headers="d58750e2380 ">
                                       <p><code class="codeph">LABEL2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e2405 d58750e2383 ">
                                       <p>要检查的第二个标签</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE__GUID-22203FFD-FC49-4C5D-945E-2DE4F3D0B83F">例</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下示例比较现有标签标签<code class="codeph">1111</code>和<code class="codeph">1112</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON BEGIN如果SA_UTL.STRICTLY_DOMINATED_BY（1111,1112）那么DBMS_OUTPUT.PUT_LINE（'标签1111严格由标签1112支配。“）; ELSE DBMS_OUTPUT.PUT_LINE（'标签1112严格由标签1111支配。“）;万一;结束; /标签1111严格地由标签1112支配。</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="working-with-labeled-data.html#GUID-65D855D9-2DE3-4EB8-83CE-2B0D78E56F35" title="Oracle Label Security提供的函数可确定两个或多个标签的最小上限或最大下限。">确定标签的上下界</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security提供了控制优势的功能。">使用Dominance函数</a></p>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="OLSAG3677"></a><div class="props_rev_3"><a id="GUID-1637D81B-96F3-4F15-B9B7-54251DD637F8" name="GUID-1637D81B-96F3-4F15-B9B7-54251DD637F8"></a><h3 id="OLSAG-GUID-1637D81B-96F3-4F15-B9B7-54251DD637F8" class="sect3">查询经过审核的Oracle Label Security会话标签</h3>
               <div>
                  <p>您可以使用统一审计跟踪来捕获来自各种审计源的信息，包括Oracle Label Security。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-1FF304B3-4701-49AA-8D1C-42C02620243A">关于审核Oracle Label Security会话标签的查询</a><br>您必须通过创建统一的审核策略来配置Oracle Label Security审核。
                     </li>
                     <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-5205C294-237E-474B-8CDC-EAB7DDB24298">ORA_GET_AUDITED_LABEL功能</a><br><code class="codeph">ORA_GET_AUDITED_LABEL</code>函数返回指定OLS策略和<code class="codeph">APPLICATION_CONTEXTS</code>列值的审计会话标签。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-DD9C39EF-7A77-4C5D-9E2A-1A9E635A558A" title="Oracle为Oracle Label Security提供了高级功能，例如分析标签之间关系的功能。">Oracle Label Security中的高级主题</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-1FF304B3-4701-49AA-8D1C-42C02620243A" name="GUID-1FF304B3-4701-49AA-8D1C-42C02620243A"></a><h4 id="OLSAG-GUID-1FF304B3-4701-49AA-8D1C-42C02620243A" class="sect4">关于审核Oracle Label Security会话标签的查询</h4>
                  <div>
                     <p>您必须通过创建统一的审核策略来配置Oracle Label Security审核。</p>
                     <p>OLS审核使您可以审核其他事件，例如启用和禁用OLS策略。</p>
                     <p>审计跟踪捕获的会话标签存储在<code class="codeph">UNIFIED_AUDIT_TRAIL</code>视图的<code class="codeph">APPLICATION_CONTEXTS</code>列中。您可以使用<code class="codeph">LBACSYS.ORA_GET_AUDITED_LABEL</code>函数来检索存储在<code class="codeph">APPLICATION_CONTEXTS</code>列中的会话标签。此函数接受<code class="codeph">UNIFIED_AUDIT_TRAIL.APPLICATION_CONTEXTS</code>列值和Oracle Label Security策略名称作为参数，然后返回存储在指定策略的列中的会话标签。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1FF304B3-4701-49AA-8D1C-42C02620243A__GUID-FF6AF9B5-0BB6-4F02-A099-B0423168ED1C">
                        <p class="notep1">也可以看看：</p>有关在统一审计跟踪中配置和使用OLS审计的详细信息，请参见<a href="../dbseg/configuring-audit-policies.html#DBSEG454" target="_blank"><span><cite>“Oracle数据库安全指南”</cite></span></a></div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-1637D81B-96F3-4F15-B9B7-54251DD637F8" title="您可以使用统一审计跟踪来捕获来自各种审计源的信息，包括Oracle Label Security。">已审计的Oracle Label Security会话标签的查询</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3808"></a><a id="OLSAG4182"></a><a id="OLSAG4183"></a><a id="OLSAG4184"></a><a id="OLSAG3678"></a><div class="props_rev_3"><a id="GUID-5205C294-237E-474B-8CDC-EAB7DDB24298" name="GUID-5205C294-237E-474B-8CDC-EAB7DDB24298"></a><h4 id="OLSAG-GUID-5205C294-237E-474B-8CDC-EAB7DDB24298" class="sect4">ORA_GET_AUDITED_LABEL功能</h4>
                  <div>
                     <p><code class="codeph">ORA_GET_AUDITED_LABEL</code>函数返回指定OLS策略和<code class="codeph">APPLICATION_CONTEXTS</code>列值的审计会话标签。
                     </p>
                     <div class="section">
                        <p><code class="codeph">AUDIT_VIEWER</code>角色对<code class="codeph">ORA_GET_AUDITED_LABEL</code>函数具有<code class="codeph">EXECUTE</code>特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5205C294-237E-474B-8CDC-EAB7DDB24298__GUID-06355C61-52DE-4514-9C0D-05F528053771">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">ORA_GET_AUDITED_LABEL（appctx_col_value IN VARCHAR2，ols_policy_name IN VARCHAR2）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5205C294-237E-474B-8CDC-EAB7DDB24298__GUID-4ABD449D-75A7-4621-87AA-00C52336FC67">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-5205C294-237E-474B-8CDC-EAB7DDB24298__GUID-22B86EA2-7BCB-45CC-B7AB-E92033193EB4">
                        <p class="titleintable">表B-12 ORA_GET_AUDITED_LABEL参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="ORA_GET_AUDITED_LABEL参数" width="100%" border="1" summary="ORA_GET_AUDITED_LABEL Parameters. Columns are Parameter and Description." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d58750e2703">参数</th>
                                 <th align="left" valign="bottom" width="69%" id="d58750e2706">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d58750e2711" headers="d58750e2703 ">
                                    <p><code class="codeph">appctx_col_value</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d58750e2711 d58750e2706 ">
                                    <p><code class="codeph">UNIFIED_AUDIT_TRAIL.APPLICATION_CONTEXTS</code>列中的值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d58750e2722" headers="d58750e2703 ">
                                    <p><code class="codeph">POLICY_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d58750e2722 d58750e2706 ">
                                    <p>标签安全策略名称</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5205C294-237E-474B-8CDC-EAB7DDB24298__GUID-EABB34F9-7007-47BA-93C0-1AD0E1D9D713">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下示例返回<code class="codeph">hr_ols_pol</code>策略的审计会话标签。
                        </p><pre class="oac_no_warn" dir="ltr">SELECT ORA_GET_AUDITED_LABEL（'cust_ctx'，'hr_ols_pol'）FROM DUAL; ORA_GET_AUDITED_LABEL（'X'，'HR_OLS_POL'）--------------------------------------- HS</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-1637D81B-96F3-4F15-B9B7-54251DD637F8" title="您可以使用统一审计跟踪来捕获来自各种审计源的信息，包括Oracle Label Security。">已审计的Oracle Label Security会话标签的查询</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="OLSAG106"></a><div class="props_rev_3"><a id="GUID-47F6AC12-04B5-4934-B921-A0A403B7CA63" name="GUID-47F6AC12-04B5-4934-B921-A0A403B7CA63"></a><h3 id="OLSAG-GUID-47F6AC12-04B5-4934-B921-A0A403B7CA63" class="sect3">用于设置会话标签的Oracle调用接口</h3>
               <div>
                  <p>您可以使用Oracle调用接口（OCI）来设置会话标签。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-F6FE05C0-3AD6-4280-B46A-0B1C041DFDB5">关于使用Oracle调用接口设置会话标签</a><br>使用Oracle调用接口（OCI）进行连接时，可以使用<code class="codeph">SYS_CONTEXT</code>变量初始化会话标签和行标签。
                     </li>
                     <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-2D9081FE-EBF0-4E35-9680-44C96576D522">使用Oracle调用接口设置会话标签</a><br>您可以使用Oracle Call Interface设置会话标签。
                     </li>
                     <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-19AE9173-45F0-448E-B9E9-C6CB150F3DC4">示例：将Oracle调用接口与SYS_CONTEXT函数一起使用</a><br>您可以创建一个OCI调用，该调用使用带有Oracle Label Security的外部化<code class="codeph">SYS_CONTEXT</code>函数。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-DD9C39EF-7A77-4C5D-9E2A-1A9E635A558A" title="Oracle为Oracle Label Security提供了高级功能，例如分析标签之间关系的功能。">Oracle Label Security中的高级主题</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-F6FE05C0-3AD6-4280-B46A-0B1C041DFDB5" name="GUID-F6FE05C0-3AD6-4280-B46A-0B1C041DFDB5"></a><h4 id="OLSAG-GUID-F6FE05C0-3AD6-4280-B46A-0B1C041DFDB5" class="sect4">关于使用Oracle调用接口设置会话标签</h4>
                  <div>
                     <p>使用Oracle调用接口（OCI）进行连接时，可以使用<code class="codeph">SYS_CONTEXT</code>变量初始化会话标签和行标签。
                     </p>
                     <p>您可以使用<code class="codeph">OCIAttrSet</code>函数设置变量，以初始化<span class="italic">外部初始化的</span> <code class="codeph">SYS_CONTEXT</code>变量。启用Oracle Label Security时可以使用这些选项。
                     </p>
                     <p>每个策略都有一个名为<code class="codeph">SA$</code> <span class="italic"><code class="codeph">policy_name</code></span> <code class="codeph">_X</code>的<code class="codeph">SYS_CONTEXT</code> 。您可以设置这两个变量<code class="codeph">INITIAL_LABEL</code>和<code class="codeph">INITIAL_ROW_LABEL</code> 。</p>
                     <p>当新值设置为用户授权中的有效标签时，将使用它们而不是为用户存储的默认值。这与远程连接使用的机制相同。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-21087442-8EFA-4118-A5A5-A108249F7A9A" title="您应该了解在分布式配置中使用Oracle Label Security的特殊注意事项。">将Oracle Label Security与分布式数据库配合使用</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-47F6AC12-04B5-4934-B921-A0A403B7CA63" title="您可以使用Oracle调用接口（OCI）来设置会话标签。">用于设置会话标签的Oracle调用接口</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-2D9081FE-EBF0-4E35-9680-44C96576D522" name="GUID-2D9081FE-EBF0-4E35-9680-44C96576D522"></a><h4 id="OLSAG-GUID-2D9081FE-EBF0-4E35-9680-44C96576D522" class="sect4">使用Oracle调用接口设置会话标签</h4>
                  <div>
                     <p>您可以使用Oracle Call Interface设置会话标签。</p>
                     <ol>
                        <li class="stepexpand"><span>使用<code class="codeph">OCI_ATTR_APPCTX_SIZE</code>调用<code class="codeph">OCIAttrSet</code>以使用所需数量的上下文属性初始化上下文数组大小：</span><div><pre class="oac_no_warn" dir="ltr">OCIAttrSet（session，OCI_HTYPE_SESSION，（dvoid *）＆size，（ub4）0，OCI_ATTR_APPCTX_SIZE，error_handle）;</pre><p>这为<code class="codeph">OCIAttrSet</code>定义了其他属性。
                              </p>
                              <p>请注意，大小是<code class="codeph">ub4</code>类型。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用<code class="codeph">OCI_ATTR_APPCTX_LIST</code>调用<code class="codeph">OCIAttrGet</code>以获取会话的应用程序上下文列表描述符的句柄：</span><div><pre class="oac_no_warn" dir="ltr">OCIAttrGet（session，OCI_HTYPE_SESSION，（dvoid *）＆ctxl_desc，（ub4）0，OCI_ATTR_APPCTX_LIST，error_handle）;</pre><p>请注意， <code class="codeph">ctxl_desc</code>是（ <code class="codeph">OCIParam *</code> ）类型。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用应用程序上下文列表描述符调用<code class="codeph">OCIParamGet</code>以获取第i <span class="italic">个</span>应用程序上下文的单个描述符：</span><div><pre class="oac_no_warn" dir="ltr">OCIParamGet（ctxl_desc，OCI_DTYPE_PARAM，error_handle，（dvoid **）＆ctx_desc，i）;</pre><p>请注意， <code class="codeph">ctx_desc</code>是（ <code class="codeph">OCIParam *</code> ）类型。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用三个新属性<code class="codeph">OCI_ATTR_APPCTX_NAME</code> ， <code class="codeph">OCI_ATTR_APPCTX_ATTR</code>和<code class="codeph">OCI_ATTR_APPCTX_VALUE</code>每一个调用<code class="codeph">OCIAttrSet</code> ，以在应用程序上下文中设置正确的值：</span><div><pre class="oac_no_warn" dir="ltr">OCIAttrSet（ctx_desc，OCI_DTYPE_PARAM，（dvoid *）ctx_name，sizeof（ctx_name），OCI_ATTR_APPCTX_NAME，error_handle）; OCIAttrSet（ctx_desc，OCI_DTYPE_PARAM，（dvoid *）attr_name，sizeof（attr_name），OCI_ATTR_APPCTX_ATTR，error_handle）; OCIAttrSet（ctx_desc，OCI_DTYPE_PARAM，（dvoid *）value，sizeof（value），OCI_ATTR_APPCTX_VALUE，error_handle）;</pre><p>请注意，仅支持字符类型，因为应用程序上下文操作基于<code class="codeph">VARCHAR2</code>类型。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-47F6AC12-04B5-4934-B921-A0A403B7CA63" title="您可以使用Oracle调用接口（OCI）来设置会话标签。">用于设置会话标签的Oracle调用接口</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3811"></a><a id="OLSAG3501"></a><div class="props_rev_3"><a id="GUID-19AE9173-45F0-448E-B9E9-C6CB150F3DC4" name="GUID-19AE9173-45F0-448E-B9E9-C6CB150F3DC4"></a><h4 id="OLSAG-GUID-19AE9173-45F0-448E-B9E9-C6CB150F3DC4" class="sect4">示例：将Oracle调用接口与SYS_CONTEXT函数一起使用</h4>
                  <div>
                     <p>您可以创建一个OCI调用，该调用使用带有Oracle Label Security的外部化<code class="codeph">SYS_CONTEXT</code>函数。
                     </p>
                     <p><a href="advanced-topics-in-oracle-label-security.html#GUID-19AE9173-45F0-448E-B9E9-C6CB150F3DC4__CDEECEAF">例B-1</a>显示了如何实现这一点。
                     </p>
                     <div class="example" id="GUID-19AE9173-45F0-448E-B9E9-C6CB150F3DC4__CDEECEAF">
                        <p class="titleinexample">示例B-1使用OCI将SYS_CONTEXT外部化为OLS</p><pre class="oac_no_warn" dir="ltr">#ifdef RCSID static char * RCSid =“$ Header：ext_mls.c 09-may-00.10：07：08 jdoe Exp $”; #endif / * RCSID * / / *版权所有（c）Oracle Corporation 1999,2000。版权所有。* / / *名称ext_mls.c  - 带标签安全性的外部化SYS_CONTEXT描述在执行此示例之前运行olsdemo.sql脚本。用法：&lt;使用.c文件获取的可执行文件&gt; &lt;user_name&gt; &lt;password&gt; &lt;session-initial-label示例：avg_sal sa_demo sa_demo L3：M，E：D10 PUBLIC FUNCTION（S）&lt;声明/定义的外部函数列表 - 一个-line描述&gt; PRIVATE FUNCTION（S）&lt;.c文件中定义的静态函数列表 - 带有单行描述&gt; RETURNS SA_DEMO模式的EMP表中的平均工资查询为具有指定会话标签的指定用户。注释&lt;其他有用的评论，资格等&gt;修改（MM / DD / YY）jlev 09/18/03  - 清理jdoe 05/09/00  - 清理jdoe 10/13/99  - 测试MLS SYS_CONTEXT的独立OCI程序jdoe 10/13/99  -  Creation * / #include &lt;stdio.h&gt; #include &lt;stdlib.h&gt; #include &lt;string.h&gt; #include &lt;oci.h&gt; static OCIEnv * envhp; static OCIError * errhp; int main（/ * _ int argc，char * argv [] _ * /）; / * get和print error * / static void checkerr（/ * _ OCIError * errhp，sword status _ * /）; / * print error * / static void printerr（char * call）;静态剑状态; / *返回员工工资的平均值* /静态CONST文本* const selectstmt =（text *）“从sa_demo.emp中选择avg（sal）”; int main（argc，argv）int argc; char * argv []; {OCISession * authp =（OCISession *）0; OCIServer * srvhp; OCISvcCtx * svchp; OCIDefine * defnp =（OCIDefine *）0; dvoid * parmdp; ub4 ctxsize; OCIParam * ctxldesc; OCIParam * ctxedesc; OCIStmt * stmtp =（OCIStmt *）0; ub4 avg_sal = 0;剑的地位; if（OCIInitialize（（ub4）OCI_DEFAULT，（dvoid *）0，（dvoid *（*）（dvoid *，size_t））0，（dvoid *（*）（dvoid *，dvoid *，size_t））0，（void （*）（dvoid *，dvoid *））0））printerr（“OCIInitialize”）; if（OCIEnvInit（（OCIEnv **）＆envhp，OCI_DEFAULT，（size_t）0，（dvoid **）0））printerr（“OCIEnvInit”）; if（OCIHandleAlloc（（dvoid *）envhp，（dvoid **）＆errhp，OCI_HTYPE_ERROR，（size_t）0，（dvoid **）0））printerr（“OCIHandleAlloc：OCI_HTYPE_ERROR”）; if（OCIHandleAlloc（（dvoid *）envhp，（dvoid **）＆srvhp，OCI_HTYPE_SERVER，（size_t）0，（dvoid **）0））printerr（“OCIHandleAlloc：OCI_HTYPE_SERVER”）; if（OCIHandleAlloc（（dvoid *）envhp，（dvoid **）＆svchp，OCI_HTYPE_SVCCTX，（size_t）0，（dvoid **）0））printerr（“OCIHandleAlloc：OCI_HTYPE_SVCCTX”）; if（OCIServerAttach（srvhp，errhp，（text *）“”，strlen（“”），0））printerr（“OCIServerAttach”）; / *在服务上下文中设置属性服务器上下文* / if（OCIAttrSet（（dvoid *）svchp，OCI_HTYPE_SVCCTX，（dvoid *）srvhp，（ub4）0，OCI_ATTR_SERVER，（OCIError *）errhp））printerr（“OCIAttrSet：OCI_HTYPE_SVCCTX “）; if（OCIHandleAlloc（（dvoid *）envhp，（dvoid **）＆authp，（ub4）OCI_HTYPE_SESSION，（size_t）0，（dvoid **）0））printerr（“OCIHandleAlloc：OCI_HTYPE_SESSION”）; / *将应用程序上下文设置为1 * / ctxsize = 1; / *设置app ctx buffer * / if（OCIAttrSet（（dvoid *）authp，（ub4）OCI_HTYPE_SESSION，（dvoid *）＆ctxsize，（ub4）0，（ub4）OCI_ATTR_APPCTX_SIZE，errhp））printerr（“OCIAttrSet：OCI_ATTR_APPCTX_SIZE” ）; / *检索列表描述符* / if（OCIAttrGet（（dvoid *）authp，（ub4）OCI_HTYPE_SESSION，（dvoid *）＆ctxldesc，0，OCI_ATTR_APPCTX_LIST，errhp））printerr（“OCIAttrGet：OCI_ATTR_APPCTX_LIST”）; if（status = OCIParamGet（ctxldesc，OCI_DTYPE_PARAM，errhp，（dvoid **）＆ctxedesc，1））{if（status == OCI_NO_DATA）{printf（“找不到数据！\ n“）; exit（1）;}} / *将上下文命名空间设置为SA $ &lt;pol_name&gt; _X * / if（OCIAttrSet（（dvoid *）ctxedesc，（ub4）OCI_DTYPE_PARAM，（dvoid *）”SA $ HUMAN_RESOURCES_X“ ，（ub4）strlen（（char *）“SA $ HUMAN_RESOURCES_X”），（ub4）OCI_ATTR_APPCTX_NAME，errhp））printerr（“OCIAttrSet：OCI_ATTR_APPCTX_NAME：SA $ HUMAN_RESOURCES_X”）; / *将上下文属性设置为INITIAL_LABEL * / if（OCIAttrSet） （（dvoid *）ctxedesc，（ub4）OCI_DTYPE_PARAM，（dvoid *）“INITIAL_LABEL”，（ub4）strlen（（char *）“INITIAL_LABEL”），（ub4）OCI_ATTR_APPCTX_ATTR，errhp））printerr（“OCIAttrSet：OCI_DTYPE_PARAM：INITIAL_LABEL “）; / *将上下文值设置为argv [3]  - 初始标签* / if（OCIAttrSet（（dvoid *）ctxedesc，（ub4）OCI_DTYPE_PARAM，（dvoid *）argv [3]，（ub4）strlen（（char *） ）argv [3]），（ub4）OCI_ATTR_APPCTX_VALUE，errhp））printerr（“OCIAttrSet：argv [3]”）; / *用户名第一个命令行参数* / if（OCIAttrSet（（dvoid *）authp，（ub4）OCI_HTYPE_SESSION ，（dvoid *）argv [1]，（ub4）strlen（（char *）argv [1]），（ub4）OCI_ATTR_USERNAME，errhp））printerr（“OCIAttrSet” ：用户名”）; / * password第二个命令行参数* / if（OCIAttrSet（（dvoid *）authp，（ub4）OCI_HTYPE_SESSION，（dvoid *）argv [2]，（ub4）strlen（（char *）argv [2]），（ub4 ）OCI_ATTR_PASSWORD，errhp））printerr（“OCIAttrSet：password”）; if（OCISessionBegin（svchp，errhp，authp，OCI_CRED_RDBMS，（ub4）OCI_DEFAULT））printerr（“OCISessionBegin”）; if（OCIAttrSet（（dvoid *）svchp，（ub4）OCI_HTYPE_SVCCTX，（dvoid *）authp，（ub4）0，（ub4）OCI_ATTR_SESSION，errhp））printerr（“OCIAttrSet：OCI_ATTR_SESSION”）; if（OCIHandleAlloc（（dvoid *）envhp，（dvoid **）＆stmtp，OCI_HTYPE_STMT，0,0））printerr（“OCIHandleAlloc：OCI_HTYPE_STMT”）; if（OCIStmtPrepare（stmtp，errhp，（CONST OraText *）selectstmt，（ub4）strlen（（const char *）selectstmt），（ub4）OCI_NTV_SYNTAX，（ub4）OCI_DEFAULT））printerr（“OCIStmtPrepare”）; if（OCIDefineByPos（stmtp，＆defnp，errhp，（ub4）1，（dvoid *）＆avg_sal，（sb4）sizeof（avg_sal），SQLT_INT，0,0,0，OCI_DEFAULT））printerr（“OCIDefineByPos”）; if（status = OCIStmtExecute（svchp，stmtp，errhp，1,0，NULL，NULL，OCI_DEFAULT））{if（status == OCI_NO_DATA）{printf（“找不到数据！\ n“）; exit（1）;}} if（OCISessionEnd（svchp，errhp，authp，OCI_DEFAULT））printerr（”OCISessionEnd“）; printf（”平均工资是：％d \ n“，avg_sal）;} void checkerr（errhp，status）OCIError * errhp;剑状态; {text errbuf [512]; sb4 errcode = 0; switch（status）{case OCI_ERROR：（void）OCIErrorGet（（dvoid *）errhp，1，NULL，＆errcode， errbuf，（ub4）sizeof（errbuf），OCI_HTYPE_ERROR）; printf（“Error  - ％。* s \ n”，512，errbuf）; break; default：break;}} void printerr（call）char * call; {printf （“错误：％s \ n”，调用）;} / *文件末尾ext_mls.c * /</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-47F6AC12-04B5-4934-B921-A0A403B7CA63" title="您可以使用Oracle调用接口（OCI）来设置会话标签。">用于设置会话标签的Oracle调用接口</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>