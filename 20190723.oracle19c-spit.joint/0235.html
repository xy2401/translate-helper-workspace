<html id="00624.PLSQL-APIs-for-XMLType.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="There are several PL/SQL packages that provide APIs for XMLType."></meta>
      <meta name="description" content="There are several PL/SQL packages that provide APIs for XMLType."></meta>
      <title>XMLType的PL / SQL API</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="There are several PL/SQL packages that provide APIs for XMLType."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96222-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="XMLType-APIs.html" title="Previous" type="text/html"></link>
      <link rel="next" href="PLSQL-package-DBMS_XMLSTORE.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADXDB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="XMLType-APIs.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="PLSQL-package-DBMS_XMLSTORE.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XMLType-APIs.html" property="item" typeof="WebPage"><span property="name">XMLType API</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">XMLType的PL / SQL API</li>
            </ol>
            <a id="GUID-2D5B2D47-9CFF-49D0-9BD8-114BBE48A289" name="GUID-2D5B2D47-9CFF-49D0-9BD8-114BBE48A289"></a><a id="ADXDB1100"></a>
            
            <h2 id="ADXDB-GUID-2D5B2D47-9CFF-49D0-9BD8-114BBE48A289" class="sect2"><span class="enumeration_chapter">11个</span>用于XMLType的PL / SQL API</h2>
         </header>
         <div class="ind">
            <div>
               <p>有几个PL / SQL包为<code class="codeph">XMLType</code>提供API。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-F0B8E95C-E73D-475E-B4E3-DB9D753DA274">XMLType的PL / SQL API概述</a><br><code class="codeph">XMLType</code>的PL / SQL应用程序接口（API）包括DOM API，解析器API和处理器API。</li>
                  <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198">用于XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a><br><code class="codeph">XMLType</code>的PL / SQL DOM API， <code class="codeph">DBMS_XMLDOM</code>允许您使用DOM操作<code class="codeph">XMLType</code>实例。</li>
                  <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-3EA684A3-2149-4550-924A-35CD5246ED90">XMLType的PL / SQL Parser API（DBMS_XMLPARSER）</a><br>用于<code class="codeph">XMLType</code>的PL / SQL Parser API（ <code class="codeph">DBMS_XMLPARSER</code> ）构建可由PL / SQL API访问的解析结果树。如果解析失败，则会引发错误。
                  </li>
                  <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-0E3358AF-0819-4B17-AF0B-793E96DA5EB9">用于XMLType的PL / SQL XSLT处理器（DBMS_XSLPROCESSOR）</a><br>您可以使用PL / SQL包<code class="codeph">DBMS_XSLPROCESSOR</code>将一个XML文档转换为另一个XML文档，或将XML数据转换为HTML，PDF或其他格式。该包遍历文档的DOM树，并对其应用可扩展样式表语言转换（XSLT）语句以生成转换后的文档。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="XMLType-APIs.html#GUID-6209297F-DBE4-4F31-85F1-4083BF5BDE01" title="您可以使用Oracle XML DB XMLType PL / SQL，Java，C API和Oracle Data Provider for .NET（ODP.NET）来访问和操作XML数据。">XMLType API</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB4870"></a><div class="props_rev_3"><a id="GUID-F0B8E95C-E73D-475E-B4E3-DB9D753DA274" name="GUID-F0B8E95C-E73D-475E-B4E3-DB9D753DA274"></a><h3 id="ADXDB-GUID-F0B8E95C-E73D-475E-B4E3-DB9D753DA274" class="sect3"><span class="enumeration_section">11.1</span> XMLType的PL / SQL API概述</h3>
               <div>
                  <p><code class="codeph">XMLType</code>的PL / SQL应用程序接口（API）包括DOM API，解析器API和处理器API。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">XMLType</code> PL / SQL文档对象模型（DOM）API（包<code class="codeph">DBMS_XMLDOM</code> ）：用于访问<code class="codeph">XMLType</code>对象。您可以访问基于XML架构的文档和基于非架构的文档。
                        </p>
                        <p><strong class="term">DOM</strong>是动态内存中XML文档的基于树的对象表示。它支持以编程方式访问其元素和属性。DOM对象及其接口是W3C推荐。它指定XML文档的文档对象模型，包括用于编程访问的API。DOM将解析的文档视为对象树。
                        </p>
                     </li>
                     <li>
                        <p>用于<code class="codeph">XMLType</code> PL / SQL XML Parser API（包<code class="codeph">DBMS_XMLPARSER</code> ）：用于创建DOM并访问XML文档的内容和结构。
                        </p>
                     </li>
                     <li>
                        <p>用于<code class="codeph">XMLType</code> PL / SQL XSLT处理器（包<code class="codeph">DBMS_XSLPROCESSOR</code> ）：用于使用XSLT将XML文档转换为其他格式。</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-CF14A19A-A284-4CA3-8103-8D7713CE8BDC">XMLType的PL / SQL API：功能</a><br>您可以使用PLType for <code class="codeph">XMLType</code>来创建<code class="codeph">XMLType</code>表，列和视图;从以不同字符集编码的数据构造<code class="codeph">XMLType</code>实例;并以各种方式访问和操作<code class="codeph">XMLType</code> 。
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39">XMLType的PL / SQL API：参考</a><br>描述了<code class="codeph">XMLType</code>的PL / SQL应用程序编程接口（API）。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-2D5B2D47-9CFF-49D0-9BD8-114BBE48A289" title="有几个PL / SQL包为XMLType提供API。">XMLType的PL / SQL API</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4871"></a><div class="props_rev_3"><a id="GUID-CF14A19A-A284-4CA3-8103-8D7713CE8BDC" name="GUID-CF14A19A-A284-4CA3-8103-8D7713CE8BDC"></a><h4 id="ADXDB-GUID-CF14A19A-A284-4CA3-8103-8D7713CE8BDC" class="sect4"><span class="enumeration_section">11.1.1</span> XMLType的PL / SQL API：功能</h4>
                  <div>
                     <p>您可以使用PLType for <code class="codeph">XMLType</code>来创建<code class="codeph">XMLType</code>表，列和视图;从以不同字符集编码的数据构造<code class="codeph">XMLType</code>实例;并以各种方式访问和操作<code class="codeph">XMLType</code> 。
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-CC88AF77-83DA-4AA5-B7B9-AC7C67DAFA74">XML数据的延迟加载（惰性表现）</a><br>延迟XML加载仅在请求时加载数据行，从而增强涉及大型XML文档和许多并发用户的应用程序的可伸缩性。
                        </li>
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-57B7D074-7870-4CE3-8EDA-515485742595">XMLType数据类型支持XML模式</a><br>SQL数据类型<code class="codeph">XMLType</code>支持XML Schema。
                        </li>
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-01ACFBC7-9C51-4D27-8CC9-5377C8426AD2">XMLType支持不同字符集中的数据</a><br>您可以使用PL / SQL从任何Oracle支持的字符集中编码的数据创建<code class="codeph">XMLType</code>实例。为此，您使用PL / SQL <code class="codeph">XMLType</code>构造函数或<code class="codeph">XMLType</code>方法<code class="codeph">createXML()</code> 。
                        </li>
                     </ul>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="intro-to-XML-DB.html#GUID-E5AC647D-E48C-4D2F-A528-D03CD911ED3A" title="Oracle XML DB提供标准数据库功能，如事务控制，数据完整性，复制，可靠性，可用性，安全性和可伸缩性，同时还允许以XML为中心的方式对XML文档进行有效的索引，查询，更新和搜索。">Oracle XML DB功能</a></li>
                           <li><a href="query-and-update-XML.html#GUID-01C75289-804F-4BAA-AE7C-DFA73198581E" title="应用程序有许多方法可以查询和更新Oracle数据库中的XML数据，包括基于XML模式和非基于模式的数据。">查询和更新XML数据</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-F0B8E95C-E73D-475E-B4E3-DB9D753DA274" title="XMLType的PL / SQL应用程序接口（API）包括DOM API，解析器API和处理器API。">XMLType的PL / SQL API概述</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADXDB4872"></a><div class="props_rev_3"><a id="GUID-CC88AF77-83DA-4AA5-B7B9-AC7C67DAFA74" name="GUID-CC88AF77-83DA-4AA5-B7B9-AC7C67DAFA74"></a><h5 id="ADXDB-GUID-CC88AF77-83DA-4AA5-B7B9-AC7C67DAFA74" class="sect5"><span class="enumeration_section">11.1.1.1</span> XML数据的延迟加载（惰性表现）</h5>
                     <div>
                        <p>延迟XML加载仅在请求时加载数据行，从而增强涉及大型XML文档和许多并发用户的应用程序的可伸缩性。</p>
                        <p>因为<code class="codeph">XMLType</code>提供动态内存或虚拟文档对象模型（DOM），所以它可以使用称为<span class="bold">延迟XML加载</span>的内存保存过程，有时也称为<span class="bold">惰性表现形式</span> 。此过程通过仅在请求时加载数据行来优化内存使用。如果内存使用量过大，它会丢弃文档中先前引用的部分。延迟XML加载支持高度可伸缩的应用程序，其中有许多并发用户需要访问大型XML文档。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-CF14A19A-A284-4CA3-8103-8D7713CE8BDC" title="您可以使用PLType for XMLType来创建XMLType表，列和视图;从以不同字符集编码的数据构造XMLType实例;并以各种方式访问和操作XMLType。">XMLType的PL / SQL API：功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB4873"></a><div class="props_rev_3"><a id="GUID-57B7D074-7870-4CE3-8EDA-515485742595" name="GUID-57B7D074-7870-4CE3-8EDA-515485742595"></a><h5 id="ADXDB-GUID-57B7D074-7870-4CE3-8EDA-515485742595" class="sect5"><span class="enumeration_section">11.1.1.2</span> XMLType数据类型支持XML模式</h5>
                     <div>
                        <p>SQL数据类型<code class="codeph">XMLType</code>支持XML Schema。
                        </p>
                        <p>您可以创建XML模式，并使用从XML到对象关系存储的映射来注释它。要利用PL / SQL DOM API，首先要创建一个XML模式并进行注册。然后，在创建<code class="codeph">XMLType</code>表和列时，可以指定这些表符合已注册的XML模式。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-CF14A19A-A284-4CA3-8103-8D7713CE8BDC" title="您可以使用PLType for XMLType来创建XMLType表，列和视图;从以不同字符集编码的数据构造XMLType实例;并以各种方式访问和操作XMLType。">XMLType的PL / SQL API：功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB4874"></a><div class="props_rev_3"><a id="GUID-01ACFBC7-9C51-4D27-8CC9-5377C8426AD2" name="GUID-01ACFBC7-9C51-4D27-8CC9-5377C8426AD2"></a><h5 id="ADXDB-GUID-01ACFBC7-9C51-4D27-8CC9-5377C8426AD2" class="sect5"><span class="enumeration_section">11.1.1.3</span> XMLType支持不同字符集中的数据</h5>
                     <div>
                        <p>您可以使用PL / SQL从任何Oracle支持的字符集中编码的数据创建<code class="codeph">XMLType</code>实例。为此，您使用PL / SQL <code class="codeph">XMLType</code>构造函数或<code class="codeph">XMLType</code>方法<code class="codeph">createXML()</code> 。
                        </p>
                        <p>必须使用数据类型<code class="codeph">BFILE</code>或<code class="codeph">BLOB</code>提供源XML数据。数据的编码通过参数<code class="codeph">csid</code>指定。当此参数为零（ <code class="codeph">0</code> ）时，源数据的编码由XML prolog确定，如XML 1.0 Reference的附录F中所指定。
                        </p>
                        <div class="infoboxnote" id="GUID-01ACFBC7-9C51-4D27-8CC9-5377C8426AD2__GUID-18C5E9C4-EF02-43D3-8D53-7907613E821F">
                           <p class="notep1">警告：</p>
                           <p> <span class="italic">AL32UTF8</span>是适用于<code class="codeph">XMLType</code>数据的Oracle数据库字符集。它等同于IANA注册的标准UTF-8编码，该编码支持所有有效的XML字符。
                           </p>
                           <p>不要将Oracle数据库数据库字符集UTF8（无连字符）与数据库字符集AL32UTF8或字符<span class="italic">编码</span> UTF-8混淆。数据库字符集UTF8已被AL32UTF8 <span class="italic">取代</span> 。<span class="italic">不要</span>使用UTF8 XML数据。字符集UTF8仅支持Unicode 3.1及更早版本。它不支持所有有效的XML字符。AL32UTF8没有这样的限制。
                           </p>
                           <p>对XML数据使用数据库字符集UTF8可能会<span class="italic">阻止系统或对安全性产生负面影响</span> 。如果数据库字符集不支持的字符出现在输入文档元素名称中，则替换字符（通常为“ <code class="codeph">?</code>“）代替它。这会终止解析并引发异常。它可能导致无法恢复的错误。
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-CF14A19A-A284-4CA3-8103-8D7713CE8BDC" title="您可以使用PLType for XMLType来创建XMLType表，列和视图;从以不同字符集编码的数据构造XMLType实例;并以各种方式访问和操作XMLType。">XMLType的PL / SQL API：功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADXDB3955"></a><a id="ADXDB0110"></a><div class="props_rev_3"><a id="GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39" name="GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39"></a><h4 id="ADXDB-GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39" class="sect4"><span class="enumeration_section">11.1.2</span> XMLType的PL / SQL API：参考</h4>
                  <div>
                     <p>描述了<code class="codeph">XMLType</code>的PL / SQL应用程序编程接口（API）。
                     </p>
                     <div class="section">
                        <p><a href="PLSQL-APIs-for-XMLType.html#GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39__CHDFJDFJ" title="此表列出了可用于操作XML数据的PL / SQL API的参考文档。">表11-1</a>列出了可用于操作XML数据的PL / SQL API的参考文档。PL / SQL API的主要参考是<a href="../arpls/index.html" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a> 。
                        </p>
                        <div class="infoboxnotealso" id="GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39__GUID-E55DD7EB-69C5-45AA-80D1-A5CB97191BF4">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关适用于<a href="../jaxml/index.html" target="_blank"><span><cite>XML的Java API</cite></span></a>的信息，请参阅<a href="../jaxml/index.html" target="_blank"><span><cite>Oracle数据库XML Java API参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关适用于<a href="../caxml/index.html" target="_blank"><span><cite>XML的C API</cite></span></a>的信息，请参阅<a href="../caxml/index.html" target="_blank"><span><cite>Oracle数据库XML C API参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="../cpxml/index.html" target="_blank"><span><cite>有关XML的C ++ API</cite></span></a>的信息，请参阅<a href="../cpxml/index.html" target="_blank"><span><cite>Oracle Database XML C ++ API参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformalwide" id="GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39__CHDFJDFJ">
                        <p class="titleintable">表11-1与XML相关的PL / SQL API</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="与XML相关的PL / SQL API" width="100%" border="1" summary="This table lists the reference documentation for the PL/SQL APIs that you can use to manipulate XML data. " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d66991e616">API</th>
                                 <th align="left" valign="bottom" width="33%" id="d66991e619">文档</th>
                                 <th align="left" valign="bottom" width="37%" id="d66991e622">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e627" headers="d66991e616 ">
                                    <p><code class="codeph">的XMLType</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e627 d66991e619 ">
                                    <p><a href="../arpls/XMLTYPE.html#ARPLS369" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“XMLType”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e627 d66991e622 ">
                                    <p>对<code class="codeph">XMLType</code>数据执行XML操作的PL / SQL API  - 验证，转换。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e646" headers="d66991e616 ">
                                    <p>数据库URI类型</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e646 d66991e619 ">
                                    <p><a href="../arpls/Database-URI-TYPEs.html#ARPLS800" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“数据库URI类型”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e646 d66991e622 ">
                                    <p>用于各种URI类型的函数。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e661" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_METADATA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e661 d66991e619 ">
                                    <p><a href="../arpls/DBMS_METADATA.html#ARPLS026" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_METADATA”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e661 d66991e622 ">
                                    <p>PL / SQL API，用于从XML数据库字典中检索元数据，或检索创建DDL并提交XML以重新创建关联对象。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e677" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_RESCONFIG</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e677 d66991e619 ">
                                    <p><a href="../arpls/DBMS_RESCONFIG.html#ARPLS199" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_RESCONFIG”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e677 d66991e622 ">
                                    <p>PL / SQL API，用于在资源配置列表上运行，以及检索资源的侦听器信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e693" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XDB_ADMIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e693 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XDB_ADMIN.html#ARPLS214" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_XDB_ADMIN”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e693 d66991e622 ">
                                    <p>PL / SQL API，用于由数据库管理员管理Oracle XML DB存储库。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e709" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XDB_CONFIG</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e709 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XDB_CONFIG.html#ARPLS73564" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_XDB_CONFIG”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e709 d66991e622 ">
                                    <p>用于管理Oracle XML DB配置会话的PL / SQL API。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e725" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XDB_CONSTANTS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e725 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XDB_CONSTANTS.html#ARPLS73572" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_XDB_CONSTANTS”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e725 d66991e622 ">
                                    <p>用于Oracle XML DB的PL / SQL常量</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e741" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XDB_REPOS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e741 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XDB_REPOS.html#ARPLS74188" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_XDB_REPOS”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e741 d66991e622 ">
                                    <p>PL / SQL API，供应用程序开发人员使用Oracle XML DB Repository。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e757" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XDBRESOURCE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e757 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XDBRESOURCE.html#ARPLS230" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_XDBRESOURCE”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e757 d66991e622 ">
                                    <p>用于操作存储库资源元数据和内容的PL / SQL API。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e773" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XDBT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e773 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XDBT.html#ARPLS372" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_XDBT”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e773 d66991e622 ">
                                    <p>PL / SQL API，用于在存储库资源上创建文本索引。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e789" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XDB_VERSION</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e789 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XDB_VERSION.html#ARPLS373" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_XDB_VERSION”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e789 d66991e622 ">
                                    <p>用于存储库资源的版本管理的PL / SQL API。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e806" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XDBZ</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e806 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XDBZ.html#ARPLS805" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_XDBZ”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e806 d66991e622 ">
                                    <p>Oracle XML DB Repository基于ACL的安全性。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e822" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XEVENT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e822 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XEVENT.html#ARPLS210" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_XEVENT”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e822 d66991e622 ">
                                    <p>PL / SQL API提供与事件相关的类型和支持接口..</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e838" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XMLDOM</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e838 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XMLDOM.html#ARPLS399" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_XMLDOM”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e838 d66991e622 ">
                                    <p>用于<code class="codeph">XMLType</code>的DOM API的PL / SQL实现。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e857" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XMLGEN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e857 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XMLGEN.html#ARPLS374" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_XMLGEN”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e857 d66991e622 ">
                                    <p>用于将SQL查询结果转换为规范XML格式的PL / SQL API。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e873" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XMLINDEX</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e873 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XMLINDEX.html#ARPLS212" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_XMLINDEX”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e873 d66991e622 ">
                                    <p>用于<code class="codeph">XMLIndex</code> PL / SQL API。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e892" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XMLPARSER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e892 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XMLPARSER.html#ARPLS375" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_XMLPARSER”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e892 d66991e622 ">
                                    <p>用于<code class="codeph">XMLType</code>的DOM Parser API的PL / SQL实现。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e911" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XMLSCHEMA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e911 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XMLSCHEMA.html#ARPLS377" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_XMLSCHEMA”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e911 d66991e622 ">
                                    <p>用于管理Oracle数据库中的XML模式的PL / SQL API  - 模式注册，删除。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e927" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XMLSCHEMA_ANNOTATE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e927 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XMLSCHEMA_ANNOTATE.html#ARPLS73580" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a> ，“DBMS_XMLSCHEMA_ANNOTATE”一章</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e927 d66991e622 ">
                                    <p>PL / SQL API，用于添加和管理特定于Oracle的XML Schema注释。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e943" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XMLSTORAGE_MANAGE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e943 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XMLSTORAGE_MANAGE.html#ARPLS73588" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a> ，“DBMS_XMLSTORAGE_MANAGE”一章</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e943 d66991e622 ">
                                    <p>PL /。SQL API在XML模式注册后管理和修改XML数据的存储。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e959" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XMLSTORE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e959 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XMLSTORE.html#ARPLS801" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_XMLSTORE”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e959 d66991e622 ">
                                    <p>PL / SQL API，用于在关系表中存储XML数据。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66991e975" headers="d66991e616 ">
                                    <p><code class="codeph">DBMS_XSLPROCESSOR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d66991e975 d66991e619 ">
                                    <p><a href="../arpls/DBMS_XSLPROCESSOR.html#ARPLS379" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span> ，“DBMS_XSLPROCESSOR”一章</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d66991e975 d66991e622 ">
                                    <p>XSLT处理器的PL / SQL实现。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-F0B8E95C-E73D-475E-B4E3-DB9D753DA274" title="XMLType的PL / SQL应用程序接口（API）包括DOM API，解析器API和处理器API。">XMLType的PL / SQL API概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4875"></a><div class="props_rev_3"><a id="GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" name="GUID-C8B6BD89-F267-46C3-8656-99CFA052A198"></a><h3 id="ADXDB-GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" class="sect3"><span class="enumeration_section">11.2</span> XMLType的PL / SQL DOM API（DBMS_XMLDOM）</h3>
               <div>
                  <p><code class="codeph">XMLType</code>的PL / SQL DOM API， <code class="codeph">DBMS_XMLDOM</code>允许您使用DOM操作<code class="codeph">XMLType</code>实例。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-F1FAD45D-0C4D-4037-9676-F126EAAB2F87">W3C文档对象模型（DOM）建议概述</a><br>万维网联盟（W3C）推荐的文档对象模型（DOM）是用于访问XML文档结构的通用API。
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-629DC11A-283C-4A89-AB96-DE142E5FF34B">用于XMLType的PL / SQL DOM API（DBMS_XMLDOM）：功能</a><br>Oracle XML DB扩展了Oracle数据库XML开发平台，超越了SQL支持，用于存储和检索XML数据。它允许您使用PL / SQL，Java和C中的DOM操作<code class="codeph">XMLType</code>实例。</li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-1395CFCB-6CDC-4FC6-9AA3-81443805E0C4">使用Oracle XML Developer Kit和Oracle XML DB进行应用程序设计</a><br>在基于Oracle XML DB构建应用程序时，您不需要Oracle XML Developer's Kit（XDK）提供的其他组件。但是，您可以将XDK组件与Oracle XML DB一起使用，以部署端到端运行的一整套支持XML的应用程序。
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-0DAAFA6D-6EDD-465B-999A-D9011FA46230">准备XML数据以将PL / SQL DOM API用于XMLType</a><br>创建XML模式，对其进行注释以将XML映射到SQL对象，并注册XML模式。
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-92017A80-EA34-4ED4-8B8A-EB222D404867">XML模式类型映射到SQL对象类型</a><br>必须先向Oracle XML DB注册XML模式，然后才能由XML文档引用它。注册XML模式时，它声明的元素和属性将映射到数据库中相应SQL对象类型的属性。
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-10C47D9D-A6CD-4E37-B9D8-9E0B75ACADB2">使用XMLType视图将现有数据包装为XML</a><br>要使现有的关系数据和对象关系数据可用于XML应用程序，可以基于它创建<code class="codeph">XMLType</code>视图。然后，您可以使用PL / SQL DOM API访问生成的XML数据。</li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-7E32FE20-2471-4FA2-BF90-3036E4A73991">Oracle XML DB支持的DBMS_XMLDOM方法</a><br>Oracle XML DB支持所有<code class="codeph">DBMS_XMLDOM</code>方法，但有一些例外。
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-33EBF3B7-B804-4A2B-A4EF-0F40FFC742F6">用于XMLType的PL / SQL DOM API：节点类型</a><br>DOM指定XML文档中的元素用于创建基于对象的树结构的方式。它定义和公开接口以管理和使用存储在XML文档中的对象。DOM支持在不同系统中存储文档。
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-DD35C504-C429-49AC-A6A7-3001BA96C1F5">PL / SQL函数NEWDOMDOCUMENT和DOMDOCUMENT节点</a><br>PL / SQL函数<code class="codeph">newDOMDocument</code>在给定<code class="codeph">XMLType</code>值的<code class="codeph">newDOMDocument</code>构造DOM文档句柄。生成的句柄是<code class="codeph">DOMDocument</code>类型。
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-11900518-CC1D-4344-9ABE-CE3F67D8C71F">DOM NodeList和NamedNodeMap对象</a><br>当您更改<code class="codeph">DOMDocument</code>实例下的文档结构时，更改将反映在所有相关的<code class="codeph">NodeList</code>和<code class="codeph">NamedNodeMap</code>对象中。
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-378E17DE-EE95-4D4B-96B3-8F181B235CFD">使用PL / SQL DOM API for XMLType（DBMS_XMLDOM）概述</a><br>使用PL / SQL包<code class="codeph">DBMS_XMLDOM</code>通常涉及创建DOM文档，遍历或扩展DOM树，以及创建和操作节点。
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F">用于XMLType的PL / SQL DOM API  - 示例</a><br>提供了使用PL / SQL DOM API for <code class="codeph">XMLType</code>示例。
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-27F60B86-33DC-4E4B-B870-DDCBCF7819F6">使用DBMS_XMLDOM进行大型节点处理</a><br>Oracle XML DB提供了抽象流和流操作方法，可用于处理大于64 K字节的XML节点。
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-F9CC00ED-132E-451F-94D4-953161F87482">用于大型节点处理的Get-Push模型</a><br>在此模型中，使用处于推送模式的解析器检索DOM节点的值。Oracle XML DB将节点数据写入解析器读取的输出流。
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57">用于大型节点处理的Get-Pull模型</a><br>在此模型中，使用处于拉模式的解析器检索DOM节点的值。Oracle XML DB从解析器编写的输入流中读取事件数据。
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-43443083-4ED7-4E62-A450-E60CE2524AD7">用于大型节点处理的Set-Pull模型</a><br>在此模型中，使用处于拉模式的解析器设置DOM节点的值。Oracle XML DB从解析器编写的输入流中读取事件数据。
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-DCBCC32B-3529-49A0-BF23-1BFF9062367D">用于大型节点处理的Set-Push模型</a><br>在此模型中，使用处于推送模式的解析器设置DOM节点的值。Oracle XML DB将节点数据写入解析器读取的输出流。
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-A0C33052-CAEA-4678-B3AA-C0D2EA7A56F7">确定大型节点处理的二进制流或字符流</a><br>您可以使用子程序<code class="codeph">DBMS_XMLDOM.useBinaryStream</code>来确定是使用字符流还是二进制流来访问大型节点的内容。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-C8B6BD89-F267-46C3-8656-99CFA052A198__GUID-4B885720-FBB0-4890-8FA5-1CEA3DEFF892">
                     <p class="notep1">也可以看看：</p>
                     <p> <a href="../arpls/DBMS_XMLDOM.html#ARPLS399" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>用于描述各个<code class="codeph">DBMS_XMLDOM</code>方法</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-2D5B2D47-9CFF-49D0-9BD8-114BBE48A289" title="有几个PL / SQL包为XMLType提供API。">XMLType的PL / SQL API</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4876"></a><div class="props_rev_3"><a id="GUID-F1FAD45D-0C4D-4037-9676-F126EAAB2F87" name="GUID-F1FAD45D-0C4D-4037-9676-F126EAAB2F87"></a><h4 id="ADXDB-GUID-F1FAD45D-0C4D-4037-9676-F126EAAB2F87" class="sect4"><span class="enumeration_section">11.2.1</span> W3C文档对象模型（DOM）建议概述</h4>
                  <div>
                     <p>万维网联盟（W3C）推荐的文档对象模型（DOM）是用于访问XML文档结构的通用API。</p>
                     <p>DOM是用于访问XML文档结构的通用API。它最初开发用于形式化动态HTML，用于动画，交互和动态更新网页。DOM为Web页面和XML文档提供了与语言无关且与平台无关的对象模型。DOM描述了与语言无关且与平台无关的接口，用于访问和操作XML组件和元素。它以通用，内容中立的方式表达XML文档的结构。可以编写应用程序来动态删除，添加和编辑XML文档的内容，属性和样式。DOM可以创建在所有浏览器，服务器和平台上正常运行的应用程序。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-27EFF9BC-8944-45D2-AAA0-B4B398E28318">Oracle XML Developer的W3C DOM标准套件扩展</a><br>Oracle XML Developer's Kit（XDK）扩展了W3C DOM API。 Oracle XML DB支持这些扩展，但与数据库中不适用的客户端操作相关的扩展除外。请参阅Oracle XML Developer的Kit Java和C组件中的Simple API for XML（SAX）接口。
                        </li>
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-70263FE1-8B79-4A10-A7DC-83CC2E4194DE">支持的W3C DOM建议</a><br>用于访问和操作XML数据的所有Oracle XML DB API均符合W3C批准的标准XML处理要求。 PL / SQL DOM支持W3C DOM规范的第1级和第2级。
                        </li>
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-47252A61-464B-418C-83AA-5CE2AD5A3310">DOM和SAX之间的区别</a><br>DOM是XML的主要通用基于树的API。 SAX（XML的简单API）是XML解析器和XML应用程序之间的主要基于事件的通用编程接口。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADXDB4877"></a><div class="props_rev_3"><a id="GUID-27EFF9BC-8944-45D2-AAA0-B4B398E28318" name="GUID-27EFF9BC-8944-45D2-AAA0-B4B398E28318"></a><h5 id="ADXDB-GUID-27EFF9BC-8944-45D2-AAA0-B4B398E28318" class="sect5"><span class="enumeration_section">11.2.1.1</span> Oracle XML Developer的W3C DOM标准套件扩展</h5>
                     <div>
                        <p>Oracle XML Developer's Kit（XDK）扩展了W3C DOM API。 Oracle XML DB支持这些扩展，但与数据库中不适用的客户端操作相关的扩展除外。请参阅Oracle XML Developer的Kit Java和C组件中的Simple API for XML（SAX）接口。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-27EFF9BC-8944-45D2-AAA0-B4B398E28318__GUID-1D59D2DA-F49D-4A53-A3A6-F82C8BE6B3F9">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=ADXDK" target="_blank"><span><cite>Oracle XML Developer's Kit程序员指南</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-F1FAD45D-0C4D-4037-9676-F126EAAB2F87" title="万维网联盟（W3C）推荐的文档对象模型（DOM）是用于访问XML文档结构的通用API。">W3C文档对象模型（DOM）建议概述</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB4878"></a><div class="props_rev_3"><a id="GUID-70263FE1-8B79-4A10-A7DC-83CC2E4194DE" name="GUID-70263FE1-8B79-4A10-A7DC-83CC2E4194DE"></a><h5 id="ADXDB-GUID-70263FE1-8B79-4A10-A7DC-83CC2E4194DE" class="sect5"><span class="enumeration_section">11.2.1.2</span>支持的W3C DOM建议</h5>
                     <div>
                        <p>用于访问和操作XML数据的所有Oracle XML DB API均符合W3C批准的标准XML处理要求。 PL / SQL DOM支持W3C DOM规范的第1级和第2级。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">DOM Level 1.0  -</span> DOM规范的第一个正式级别，于1998年10月完成。Level 1.0定义了对XML 1.0和HTML的支持。</p>
                           </li>
                           <li>
                              <p><span class="bold">DOM Level 2.0  -</span> 2000年11月完成，Level 2.0扩展了1.0级，支持带有命名空间的XML 1.0，并增加了对层叠样式表（CSS）和事件（用户界面事件和树操作事件）的支持，并增强了树操作（树范围和遍历机制）。CSS是一种向Web文档添加样式（字体，颜色，间距等）的简单机制。
                              </p>
                           </li>
                        </ul>
                        <p>Oracle对DOM的支持如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在Oracle9i第1版（9.0.1）中，Oracle XML Developer的PL / SQL工具包实现了DOM Level 1.0和部分DOM Level 2.0。</p>
                           </li>
                           <li>
                              <p>在Oracle9i第2版（9.2）和Oracle数据库10g第1版（10.1）中， <code class="codeph">XMLType</code>的PL / SQL API实现了DOM Levels 1.0和Level 2.0 Core，并通过<code class="codeph">XMLType</code> API的扩展完全集成在数据库中。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-F1FAD45D-0C4D-4037-9676-F126EAAB2F87" title="万维网联盟（W3C）推荐的文档对象模型（DOM）是用于访问XML文档结构的通用API。">W3C文档对象模型（DOM）建议概述</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB4879"></a><div class="props_rev_3"><a id="GUID-47252A61-464B-418C-83AA-5CE2AD5A3310" name="GUID-47252A61-464B-418C-83AA-5CE2AD5A3310"></a><h5 id="ADXDB-GUID-47252A61-464B-418C-83AA-5CE2AD5A3310" class="sect5"><span class="enumeration_section">11.2.1.3</span> DOM和SAX之间的区别</h5>
                     <div>
                        <p>DOM是XML的主要通用基于树的API。 SAX（XML的简单API）是XML解析器和XML应用程序之间的主要基于事件的通用编程接口。</p>
                        <p>DOM通过创建对象来工作。这些对象具有子对象和属性。子对象具有自己的子对象和属性，依此类推。通过向下移动对象层次结构或通过显式为HTML元素提供ID属性来引用对象。例如：</p><pre class="pre codeblock"><code>&lt;img src =“employee_jdoe.gif”ID =“0123jdoe”&gt;</code></pre><p>结构操作的例子是：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>重新排序元素</p>
                           </li>
                           <li>
                              <p>添加或删除元素</p>
                           </li>
                           <li>
                              <p>添加或删除属性</p>
                           </li>
                           <li>
                              <p>重命名元素</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-47252A61-464B-418C-83AA-5CE2AD5A3310__GUID-5E8B118C-2782-4AE4-87D2-45B8AEA9C0FF">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=w3_org_dom" target="_blank">文档对象模型（ <span class="bold">DOM</span> <span class="bold">）</span></a></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=sax_project_org" target="_blank">SAX项目</a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-F1FAD45D-0C4D-4037-9676-F126EAAB2F87" title="万维网联盟（W3C）推荐的文档对象模型（DOM）是用于访问XML文档结构的通用API。">W3C文档对象模型（DOM）建议概述</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADXDB4880"></a><div class="props_rev_3"><a id="GUID-629DC11A-283C-4A89-AB96-DE142E5FF34B" name="GUID-629DC11A-283C-4A89-AB96-DE142E5FF34B"></a><h4 id="ADXDB-GUID-629DC11A-283C-4A89-AB96-DE142E5FF34B" class="sect4"><span class="enumeration_section">11.2.2</span> XMLType的PL / SQL DOM API（DBMS_XMLDOM）：功能</h4>
                  <div>
                     <p>Oracle XML DB扩展了Oracle数据库XML开发平台，超越了SQL支持，用于存储和检索XML数据。它允许您使用PL / SQL，Java和C中的DOM操作<code class="codeph">XMLType</code>实例。</p>
                     <p><code class="codeph">XMLType</code> （ <code class="codeph">DBMS_XMLDOM</code> ）的PL / SQL DOM API的<span class="italic">默认</span>操作执行以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>生成可由DOM API访问的解析树。</p>
                        </li>
                        <li>
                           <p>如果找到DTD，则验证。否则，请勿验证。</p>
                        </li>
                        <li>
                           <p>如果解析失败，则引发应用程序错误。</p>
                        </li>
                     </ul>
                     <p>在显示对象文档时发生DTD验证。如果使用惰性表现形式，则在使用文档时验证该文档。</p>
                     <p>PL / SQL DOM API利用服务器中基于C的XML表示，并在基于XML模式的XML实例上运行。<code class="codeph">XMLType</code>的PL / SQL，Java和C DOM API符合W3C DOM建议，用于在关系列或对象关系列中定义和实现XML数据的对象关系存储，以及<code class="codeph">XMLType</code>动态内存实例。有关W3C DOM建议的说明，请参阅<a href="PLSQL-APIs-for-XMLType.html#GUID-0DAAFA6D-6EDD-465B-999A-D9011FA46230" title="创建XML模式，对其进行注释以将XML映射到SQL对象，并注册XML模式。">准备XML数据以将PL / SQL DOM API用于XMLType</a> 。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-46089A58-2DAA-4D13-8989-F59B1CE68406">PL / SQL DOM API支持XML模式</a><br><code class="codeph">XMLType</code>的PL / SQL DOM API支持XML Schema。Oracle XML DB使用XML模式中的注释作为元数据来确定XML文档的结构以及文档到数据库模式的映射。
                        </li>
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-2EF9BD1C-1EBF-43D5-838E-73261791081A">增强的DOM性能</a><br>Oracle XML DB使用DOM提供在XML和多个后端数据源之间转换数据的标准方法。这样就无需为环境中的不同数据源使用单独的XML转换技术。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADXDB6003"></a><div class="props_rev_3"><a id="GUID-46089A58-2DAA-4D13-8989-F59B1CE68406" name="GUID-46089A58-2DAA-4D13-8989-F59B1CE68406"></a><h5 id="ADXDB-GUID-46089A58-2DAA-4D13-8989-F59B1CE68406" class="sect5"><span class="enumeration_section">11.2.2.1</span> PL / SQL DOM API对XML模式的支持</h5>
                     <div>
                        <p><code class="codeph">XMLType</code>的PL / SQL DOM API支持XML Schema。Oracle XML DB使用XML模式中的注释作为元数据来确定XML文档的结构以及文档到数据库模式的映射。
                        </p>
                        <div class="infoboxnote" id="GUID-46089A58-2DAA-4D13-8989-F59B1CE68406__GUID-509DFEAE-DC3D-4B83-BEF4-9AAD1386551F">
                           <p class="notep1">注意：</p>
                           <p>为了向后兼容性和灵活性，PL / SQL DOM支持基于XML模式的文档和基于非模式的文档。</p>
                        </div>
                        <p>在向XML XML DB注册XML模式后， <code class="codeph">XMLType</code>的PL / SQL DOM API在动态内存中构建关联XML文档的树表示，作为节点对象的层次结构，每个节点对象都有自己的专用接口。大多数节点对象类型可以具有子节点类型，这些子节点类型又实现了更多，更专用的接口。某些节点类型的节点可以具有各种类型的子节点，而其他节点类型的节点必须是叶节点，它们没有子节点。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-629DC11A-283C-4A89-AB96-DE142E5FF34B" title="Oracle XML DB扩展了Oracle数据库XML开发平台，超越了SQL支持，用于存储和检索XML数据。它允许您使用PL / SQL，Java和C中的DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）：功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB4882"></a><div class="props_rev_3"><a id="GUID-2EF9BD1C-1EBF-43D5-838E-73261791081A" name="GUID-2EF9BD1C-1EBF-43D5-838E-73261791081A"></a><h5 id="ADXDB-GUID-2EF9BD1C-1EBF-43D5-838E-73261791081A" class="sect5"><span class="enumeration_section">11.2.2.2</span>增强的DOM性能</h5>
                     <div>
                        <p>Oracle XML DB使用DOM提供在XML和多个后端数据源之间转换数据的标准方法。这样就无需为环境中的不同数据源使用单独的XML转换技术。</p>
                        <p>需要交换XML数据的应用程序可以使用单个本机XML数据库来缓存XML文档。因此，Oracle XML DB可以充当Web应用程序和后端数据源之间的中间缓存，无论它们位于关系数据库还是文件系统中，都可以提高应用程序性能。</p>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="Java-DOM-API-for-XMLType.html#GUID-4C510052-8A31-4917-8567-0E2825927C54" title="XMLType的Java DOM API允许您使用DOM操作XMLType实例。您可以使用它来操作Java中的XML数据，包括通过Java数据库连接（JDBC）获取它。">用于XMLType的Java DOM API</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-629DC11A-283C-4A89-AB96-DE142E5FF34B" title="Oracle XML DB扩展了Oracle数据库XML开发平台，超越了SQL支持，用于存储和检索XML数据。它允许您使用PL / SQL，Java和C中的DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）：功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADXDB4883"></a><div class="props_rev_3"><a id="GUID-1395CFCB-6CDC-4FC6-9AA3-81443805E0C4" name="GUID-1395CFCB-6CDC-4FC6-9AA3-81443805E0C4"></a><h4 id="ADXDB-GUID-1395CFCB-6CDC-4FC6-9AA3-81443805E0C4" class="sect4"><span class="enumeration_section">11.2.3</span>使用Oracle XML Developer Kit和Oracle XML DB进行应用程序设计</h4>
                  <div>
                     <p>在基于Oracle XML DB构建应用程序时，您不需要Oracle XML Developer's Kit（XDK）提供的其他组件。但是，您可以将XDK组件与Oracle XML DB一起使用，以部署端到端运行的一整套支持XML的应用程序。</p>
                     <p>这些XDK功能对于开发基于Oracle XML DB的XML应用程序特别有用。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>用于XML（SAX）接口处理的简单API。SAX是XML解析器提供的XML标准接口，由程序和基于事件的应用程序使用。</p>
                        </li>
                        <li>
                           <p>DOM接口处理，用于结构和递归的基于对象的处理。</p>
                        </li>
                     </ul>
                     <p>Oracle XML Developer's Kit包含用于创建在客户端，浏览器或插件中运行的应用程序的基本构建块。此类应用程序通常读取，操作，转换和查看XML文档。为了提供各种各样的部署选项，Oracle XML Developer's Kit可用于Java，C和C ++。Oracle XML Developer's Kit完全受支持，并附带商业再发行许可证。</p>
                     <p>Oracle XML Developer's Kit for Java包含以下组件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">XML Parsers  -</span>使用行业标准DOM和SAX接口创建和解析XML。支持Java，C，C ++和用于XML处理的Java API（JAXP）。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">XSL处理器 -</span>将XML转换或呈现为其他基于文本的格式，如HTML。支持Java，C和C ++。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">XML Schema Processor  -</span>使用XML简单和复杂的数据类型。支持Java，C和C ++。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">XML类生成器，Oracle JAXB类生成器 -</span>分别从DTD和XML模式自动生成C ++和Java类，以从Web表单或应用程序发送XML数据。类生成器接受输入文件并创建一组具有相应功能的输出类。对于XML类生成器，输入文件是DTD，输出是一系列类，可用于创建符合DTD的XML文档。</p>
                        </li>
                        <li>
                           <p><span class="bold">XML SQL实用程序 -</span>从SQL查询生成XML文档，DTD和XML模式。支持Java。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">TransX Utility  -</span>将封装在XML中的数据加载到数据库中。具有对安装有用的附加功能。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">XML Pipeline Processor  -</span>通过XML控制文件调用Java进程。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">XSLT VM和编译器 -</span>提供使用已编译的XSL样式表的高性能基于C的XSLT转换引擎。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">XML Java Bean  -</span>使用Java组件解析，转换，比较，检索和压缩XML文档。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1395CFCB-6CDC-4FC6-9AA3-81443805E0C4__GUID-8167ACA7-0E49-40F4-A796-C78FEBEAF452">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../adxdk/index.html" target="_blank"><span><cite>Oracle XML Developer's Kit程序员指南</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4884"></a><div class="props_rev_3"><a id="GUID-0DAAFA6D-6EDD-465B-999A-D9011FA46230" name="GUID-0DAAFA6D-6EDD-465B-999A-D9011FA46230"></a><h4 id="ADXDB-GUID-0DAAFA6D-6EDD-465B-999A-D9011FA46230" class="sect4"><span class="enumeration_section">11.2.4</span>准备XML数据以将PL / SQL DOM API用于XMLType</h4>
                  <div>
                     <p>创建XML模式，对其进行注释以将XML映射到SQL对象，并注册XML模式。</p>
                     <div class="section">
                        <p>准备在Oracle XML DB中使用PL / SQL DOM API的数据：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>创建标准XML架构。</span></li>
                        <li><span>使用您使用的SQL对象的定义来注释XML模式。</span></li>
                        <li><span>注册XML模式，以生成必要的数据库映射。</span></li>
                     </ol>
                     <div class="section">
                        <p>然后，您可以执行以下任何操作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">XMLType</code>视图以XML格式包装现有的关系数据或对象关系数据，使其以XML格式提供给您的应用程序。请参阅<a href="PLSQL-APIs-for-XMLType.html#GUID-10C47D9D-A6CD-4E37-B9D8-9E0B75ACADB2" title="要使现有的关系数据和对象关系数据可用于XML应用程序，可以基于它创建XMLType视图。然后，您可以使用PL / SQL DOM API访问生成的XML数据。">使用XMLType视图将现有数据包装为XML</a> 。
                              </p>
                           </li>
                           <li>
                              <p>将XML数据插入<code class="codeph">XMLType</code>列。
                              </p>
                           </li>
                           <li>
                              <p>使用Oracle XML DB PL / SQL和Java DOM API来处理存储在<code class="codeph">XMLType</code>列和表中的XML数据。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4885"></a><div class="props_rev_3"><a id="GUID-92017A80-EA34-4ED4-8B8A-EB222D404867" name="GUID-92017A80-EA34-4ED4-8B8A-EB222D404867"></a><h4 id="ADXDB-GUID-92017A80-EA34-4ED4-8B8A-EB222D404867" class="sect4"><span class="enumeration_section">11.2.5</span> XML模式类型映射到SQL对象类型</h4>
                  <div>
                     <p>必须先向Oracle XML DB注册XML模式，然后才能由XML文档引用它。注册XML模式时，它声明的元素和属性将映射到数据库中相应SQL对象类型的属性。</p>
                     <p>在XML模式注册之后，符合XML模式并引用它的XML文档可以由Oracle XML DB管理。可以为XML模式定义的根元素创建用于存储符合文档的表和列。</p>
                     <p>通过使用PL / SQL包<code class="codeph">DBMS_XMLSCHEMA</code>并指定模式文档及其<span class="italic">模式位置URL</span>来注册XML模式。此URL是唯一标识数据库中已注册模式的名称。它不需要对应任何实际位置 - 特别是，它不需要指示架构文档的位置。
                     </p>
                     <p>架构的<span class="italic">目标命名空间</span>是XML架构中使用的另一个URL。它为XML模式元素和类型指定名称空间。XML文档应指定根元素的名称空间和标识定义此元素的模式的模式位置URL。
                     </p>
                     <p>使用基于路径的协议（如HTTP（S）和FTP）将文档插入Oracle XML DB时，如果指定了其名称和位置且尚未注册，则会<span class="italic">隐式注册</span>文档符合的XML模式。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-21ABBFB2-3961-4706-BD1A-0F71FA5CB09A">XML模式映射的DOM保真度</a><br>在XML模式中声明的元素和属性将映射到相应SQL对象类型的单独属性。XML文档中编码的其他信息（例如注释，处理指令，命名空间声明和前缀定义以及空格）不直接表示。
                        </li>
                     </ul>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="XML-Schema-and-query-basic.html#GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" title="XML Schema是用于描述XML文档的内容和结构的标准。您可以注册，更新和删除与Oracle XML DB一起使用的XML架构。您可以定义用于基于XML模式的数据的存储结构，并将XML模式数据类型映射到SQL数据类型。">XML模式存储和查询：基本</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-92017A80-EA34-4ED4-8B8A-EB222D404867__GUID-1BDA6F6B-EB95-44BE-B06C-46F4DC3C9F9B">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=ARPLS377" target="_blank"><span><cite>Oracle Database PL / SQL包和类型</cite></span></a>各个<code class="codeph">DBMS_XMLSCHEMA</code>方法的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=ARPLS377" target="_blank"><span><cite>参考</cite></span></a>描述</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADXDB4886"></a><div class="props_rev_3"><a id="GUID-21ABBFB2-3961-4706-BD1A-0F71FA5CB09A" name="GUID-21ABBFB2-3961-4706-BD1A-0F71FA5CB09A"></a><h5 id="ADXDB-GUID-21ABBFB2-3961-4706-BD1A-0F71FA5CB09A" class="sect5"><span class="enumeration_section">11.2.5.1</span> XML模式映射的DOM保真度</h5>
                     <div>
                        <p>在XML模式中声明的元素和属性将映射到相应SQL对象类型的单独属性。XML文档中编码的其他信息（例如注释，处理指令，命名空间声明和前缀定义以及空格）不直接表示。</p>
                        <p>要存储此附加信息，二进制属性<code class="codeph">SYS_XDBPD$</code>将出现在所有生成的SQL对象类型中。此数据库属性存储原始XML文档中未使用其他数据库属性存储的所有信息。保留此附件信息可确保存储在Oracle XML DB中的XML文档的<span class="italic">DOM保真度</span> ：从数据库检索的XML文档与存储的原始文档相同。
                        </p>
                        <div class="infoboxnote" id="GUID-21ABBFB2-3961-4706-BD1A-0F71FA5CB09A__GUID-08227380-74C9-436C-AE44-6215756510D6">
                           <p class="notep1">注意：</p>
                           <p>在本书中，为简单起见，大多数示例中省略了属性<code class="codeph">SYS_XDBPD$</code> 。但是，该属性始终存在于由模式注册生成的SQL对象类型中。
                           </p>
                        </div>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="XML-Schema-and-query-object-relational-storage.html#GUID-AF8651CF-49C5-4B13-A198-0AE1F0770439" title="为了提供以对象关系存储的XML数据的DOM保真度，Oracle XML DB使用系统定义的二进制对象属性SYS_XDBPD $将所有无法存储在任何其他对象属性中的信息记录为实例级元数据（位置描述符或PD）。">对象关系存储的SYS_XDBPD $和DOM保真度</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-92017A80-EA34-4ED4-8B8A-EB222D404867" title="必须先向Oracle XML DB注册XML模式，然后才能由XML文档引用它。注册XML模式时，它声明的元素和属性将映射到数据库中相应SQL对象类型的属性。">XML模式类型映射到SQL对象类型</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADXDB4887"></a><div class="props_rev_3"><a id="GUID-10C47D9D-A6CD-4E37-B9D8-9E0B75ACADB2" name="GUID-10C47D9D-A6CD-4E37-B9D8-9E0B75ACADB2"></a><h4 id="ADXDB-GUID-10C47D9D-A6CD-4E37-B9D8-9E0B75ACADB2" class="sect4"><span class="enumeration_section">11.2.6</span>使用XMLType视图将现有数据包装为XML</h4>
                  <div>
                     <p>要使现有的关系数据和对象关系数据可用于XML应用程序，可以基于它创建<code class="codeph">XMLType</code>视图。然后，您可以使用PL / SQL DOM API访问生成的XML数据。</p>
                     <p>注册包含表示XML类型和SQL对象类型之间映射的注释的XML模式后，可以创建符合XML模式的<code class="codeph">XMLType</code>视图。
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="XMLType-views.html#GUID-9F0A7B1F-269B-411F-AD8B-8F1CB2E2A671" title="您可以在关系数据和对象关系数据上创建XMLType视图。">XMLType视图</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4888"></a><div class="props_rev_3"><a id="GUID-7E32FE20-2471-4FA2-BF90-3036E4A73991" name="GUID-7E32FE20-2471-4FA2-BF90-3036E4A73991"></a><h4 id="ADXDB-GUID-7E32FE20-2471-4FA2-BF90-3036E4A73991" class="sect4"><span class="enumeration_section">11.2.7</span> Oracle XML DB支持的DBMS_XMLDOM方法</h4>
                  <div>
                     <p>Oracle XML DB支持所有<code class="codeph">DBMS_XMLDOM</code>方法，但有一些例外。
                     </p>
                     <div class="section">
                        <p>Oracle XML DB <span class="italic">不</span>支持这些方法：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">writeExternalDTDToFile（）</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">writeExternalDTDToBuffer（）</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">writeExternalDTDToClob（）</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-7E32FE20-2471-4FA2-BF90-3036E4A73991__GUID-918F3952-EE17-4B6B-B72A-4D19C4F30CC6">
                        <p class="notep1">也可以看看：</p>
                        <p> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=ARPLS399" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>用于描述各个<code class="codeph">DBMS_XMLDOM</code>方法</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4890"></a><a id="ADXDB4889"></a><div class="props_rev_3"><a id="GUID-33EBF3B7-B804-4A2B-A4EF-0F40FFC742F6" name="GUID-33EBF3B7-B804-4A2B-A4EF-0F40FFC742F6"></a><h4 id="ADXDB-GUID-33EBF3B7-B804-4A2B-A4EF-0F40FFC742F6" class="sect4"><span class="enumeration_section">11.2.8</span> XMLType的PL / SQL DOM API：节点类型</h4>
                  <div>
                     <p>DOM指定XML文档中的元素用于创建基于对象的树结构的方式。它定义和公开接口以管理和使用存储在XML文档中的对象。DOM支持在不同系统中存储文档。</p>
                     <p>在DOM规范中，术语“ <span class="bold">文档</span> ”描述了用于许多不同类型的信息或数据的容器，DOM实现了这些容器。
                     </p>
                     <p>当调用诸如<code class="codeph">getNodeType(myNode)</code>类的请求时，它返回<code class="codeph">myNodeType</code> ，这是父节点支持的节点类型。以下常量表示节点可以采用的不同类型：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ELEMENT_NODE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ATTRIBUTE_NODE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">TEXT_NODE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CDATA_SECTION_NODE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ENTITY_REFERENCE_NODE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ENTITY_NODE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">PROCESSING_INSTRUCTION_NODE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">COMMENT_NODE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DOCUMENT_NODE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DOCUMENT_TYPE_NODE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DOCUMENT_FRAGMENT_NODE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NOTATION_NODE</code></p>
                        </li>
                     </ul>
                     <p><a href="PLSQL-APIs-for-XMLType.html#GUID-33EBF3B7-B804-4A2B-A4EF-0F40FFC742F6__G1047756" title="此表描述了DBMS_XMLDOM中支持的XML和HTML DOM节点类型以及子节点类型。">表11-2</a>显示了XML和HTML的节点类型，以及允许的相应子节点类型。
                     </p>
                     <div class="tblformalwide" id="GUID-33EBF3B7-B804-4A2B-A4EF-0F40FFC742F6__G1047756">
                        <p class="titleintable">表11-2 XML和HTML DOM节点类型及其子节点类型</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="XML和HTML DOM节点类型及其子节点类型" width="100%" border="1" summary="This table describes the XML and HTML DOM node types and child node types supported in DBMS_XMLDOM." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d66991e2350">节点类型</th>
                                 <th align="left" valign="bottom" width="75%" id="d66991e2353">儿童节点类型</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2358" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">文献</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2358 d66991e2353 ">
                                    <p><code class="codeph">Element</code> （最多一个）， <code class="codeph">ProcessingInstruction</code> ， <code class="codeph">Comment</code> ， <code class="codeph">DocumentType</code> （最多一个）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2376" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">的DocumentFragment</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2376 d66991e2353 ">
                                    <p><code class="codeph">Element</code> ， <code class="codeph">ProcessingInstruction</code> ， <code class="codeph">Comment</code> ， <code class="codeph">Text</code> ， <code class="codeph">CDATASection</code> ， <code class="codeph">EntityReference</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2399" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">DocumentType</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2399 d66991e2353 ">
                                    <p>没有小孩</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2406" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">的EntityReference</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2406 d66991e2353 ">
                                    <p><code class="codeph">Element</code> ， <code class="codeph">ProcessingInstruction</code> ， <code class="codeph">Comment</code> ， <code class="codeph">Text</code> ， <code class="codeph">CDATASection</code> ， <code class="codeph">EntityReference</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2429" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">元件</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2429 d66991e2353 ">
                                    <p><code class="codeph">Element</code> ， <code class="codeph">Text</code> ， <code class="codeph">Comment</code> ， <code class="codeph">ProcessingInstruction</code> ， <code class="codeph">CDATASection</code> ， <code class="codeph">EntityReference</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2452" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">ATTR</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2452 d66991e2353 ">
                                    <p><code class="codeph">Text</code> ， <code class="codeph">EntityReference</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2463" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">的ProcessingInstruction</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2463 d66991e2353 ">
                                    <p>没有小孩</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2470" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">评论</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2470 d66991e2353 ">
                                    <p>没有小孩</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2477" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">文本</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2477 d66991e2353 ">
                                    <p>没有小孩</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2484" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">的CDATASection</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2484 d66991e2353 ">
                                    <p>没有小孩</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2491" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">实体</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2491 d66991e2353 ">
                                    <p><code class="codeph">Element</code> ， <code class="codeph">ProcessingInstruction</code> ， <code class="codeph">Comment</code> ， <code class="codeph">Text</code> ， <code class="codeph">CDATASection</code> ， <code class="codeph">EntityReference</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d66991e2515" headers="d66991e2350 "><pre class="oac_no_warn" dir="ltr">符号</pre></td>
                                 <td align="left" valign="top" width="75%" headers="d66991e2515 d66991e2353 ">
                                    <p>没有小孩</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>用于<code class="codeph">XMLType</code> Oracle XML DB DOM API还指定了以下接口：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">的</span> <span class="bold">NodeList</span> <span class="bold">接口</span>来处理节点的有序列表，例如：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Node的子节点</p>
                              </li>
                              <li>
                                 <p>元素接口的方法<code class="codeph">getElementsByTagName()</code>返回的元素</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><span class="bold">甲</span> <span class="bold">的NamedNodeMap</span> <span class="bold">接口</span>来处理无序节点集，可以通过名称属性引用，例如元素的属性。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4891"></a><div class="props_rev_3"><a id="GUID-DD35C504-C429-49AC-A6A7-3001BA96C1F5" name="GUID-DD35C504-C429-49AC-A6A7-3001BA96C1F5"></a><h4 id="ADXDB-GUID-DD35C504-C429-49AC-A6A7-3001BA96C1F5" class="sect4"><span class="enumeration_section">11.2.9</span> PL / SQL函数NEWDOMDOCUMENT和DOMDOCUMENT节点</h4>
                  <div>
                     <p>PL / SQL函数<code class="codeph">newDOMDocument</code>在给定<code class="codeph">XMLType</code>值的<code class="codeph">newDOMDocument</code>构造DOM文档句柄。生成的句柄是<code class="codeph">DOMDocument</code>类型。
                     </p>
                     <p>PL / SQL应用程序的典型使用场景是：</p>
                     <ol>
                        <li>
                           <p>获取或构造<code class="codeph">XMLType</code>实例</p>
                        </li>
                        <li>
                           <p>在<code class="codeph">XMLType</code>实例上构造<code class="codeph">DOMDocument</code>节点</p>
                        </li>
                        <li>
                           <p>使用DOM API访问和操作XML数据</p>
                           <div class="infoboxnote" id="GUID-DD35C504-C429-49AC-A6A7-3001BA96C1F5__GUID-CD1A0F5D-8284-4511-A7D0-6A0F9192490E">
                              <p class="notep1">注意：</p>
                              <p>对于<code class="codeph">DOMDocument</code> ，节点类型表示XML片段的句柄，但不表示数据本身。
                              </p>
                              <p>例如，如果复制节点值， <code class="codeph">DOMDocument</code>句柄克隆到相同的基础数据。当其他句柄访问时，由其中一个句柄修改的任何数据都是可见的。构造<code class="codeph">DOMDocument</code>句柄的<code class="codeph">XMLType</code>值是数据，并反映其上所有DOM操作的结果。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4892"></a><div class="props_rev_3"><a id="GUID-11900518-CC1D-4344-9ABE-CE3F67D8C71F" name="GUID-11900518-CC1D-4344-9ABE-CE3F67D8C71F"></a><h4 id="ADXDB-GUID-11900518-CC1D-4344-9ABE-CE3F67D8C71F" class="sect4"><span class="enumeration_section">11.2.10</span> DOM NodeList和NamedNodeMap对象</h4>
                  <div>
                     <p>当您更改<code class="codeph">DOMDocument</code>实例下的文档结构时，更改将反映在所有相关的<code class="codeph">NodeList</code>和<code class="codeph">NamedNodeMap</code>对象中。
                     </p>
                     <p>例如，如果DOM用户获取包含元素子元素的<code class="codeph">NodeList</code>对象，然后随后向该元素添加更多子元素（或删除子元素或修改现有子元素），则这些更改会自动传播到<code class="codeph">NodeList</code>而无需执行其他操作。用户。同样，对树中节点的更改将在<code class="codeph">NodeList</code>和<code class="codeph">NamedNodeMap</code>对象中对该节点的所有引用中传播。
                     </p>
                     <p>接口： <code class="codeph">Text</code> ， <code class="codeph">Comment</code>和<code class="codeph">CDATASection,</code>都继承自<code class="codeph">CharacterData</code>接口。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4894"></a><a id="ADXDB4893"></a><div class="props_rev_3"><a id="GUID-378E17DE-EE95-4D4B-96B3-8F181B235CFD" name="GUID-378E17DE-EE95-4D4B-96B3-8F181B235CFD"></a><h4 id="ADXDB-GUID-378E17DE-EE95-4D4B-96B3-8F181B235CFD" class="sect4"><span class="enumeration_section">11.2.11</span>为XMLType使用PL / SQL DOM API概述（DBMS_XMLDOM）</h4>
                  <div>
                     <p>使用PL / SQL包<code class="codeph">DBMS_XMLDOM</code>通常涉及创建DOM文档，遍历或扩展DOM树，以及创建和操作节点。
                     </p>
                     <div class="section">
                        <p><a href="PLSQL-APIs-for-XMLType.html#GUID-378E17DE-EE95-4D4B-96B3-8F181B235CFD__I1043435">图11-1</a>说明了PL / SQL DOM API for <code class="codeph">XMLType</code> （ <code class="codeph">DBMS_XMLDOM</code> ）的使用。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您可以从现有<code class="codeph">XMLType</code>或作为空文档创建DOM文档（ <code class="codeph">DOMDocument</code> ）。过程<code class="codeph">newDOMDocument</code>处理<code class="codeph">XMLType</code>实例或空文档。
                              </p>
                              <p>这将创建一个<code class="codeph">DOMDocument</code>实例。
                              </p>
                           </li>
                           <li>
                              <p>您可以使用DOM API PL / SQL方法（如<code class="codeph">createElement()</code> ， <code class="codeph">createText()</code> ， <code class="codeph">createAttribute()</code>和<code class="codeph">createComment()</code>来遍历和扩展DOM树。
                              </p>
                           </li>
                           <li>
                              <p>PL / SQL方法（如<code class="codeph">DOMElement()</code>和<code class="codeph">DOMText()</code>也可以传递给PL / SQL函数<code class="codeph">makeNode</code>以获取<code class="codeph">DOMNode</code>接口。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="figure" id="GUID-378E17DE-EE95-4D4B-96B3-8F181B235CFD__I1043435">
                           <p class="titleinfigure">图11-1为XMLType使用PL / SQL DOM API</p><img src="img/adxdb014.gif" width="457" alt="下面是图11-1的描述" title="下面是图11-1的描述" longdesc="img_text/adxdb014.html"><br><a href="img_text/adxdb014.html">“图11-1为XMLType使用PL / SQL DOM API”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4896"></a><a id="ADXDB4897"></a><a id="ADXDB4895"></a><div class="props_rev_3"><a id="GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F" name="GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F"></a><h4 id="ADXDB-GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F" class="sect4"><span class="enumeration_section">11.2.12</span> XMLType的PL / SQL DOM API  - 示例</h4>
                  <div>
                     <p>提供了使用PL / SQL DOM API for <code class="codeph">XMLType</code>示例。
                     </p>
                     <div class="section">
                        <p>在完成实例时，请记住为<span class="italic">每个</span> <code class="codeph">DOMDocument</code>实例调用过程<code class="codeph">freeDocument</code> 。此过程释放文档及其所有节点。即使在释放<code class="codeph">DOMDocument</code>实例之后，您仍然可以访问构建<code class="codeph">DOMDocument</code>实例的<code class="codeph">XMLType</code>实例。
                        </p>
                        <p><a href="PLSQL-APIs-for-XMLType.html#GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F__CHDHAJEC">例11-1</a>在动态存储器中创建XML文档的分层表示：DOM文档。
                        </p>
                        <p><a href="PLSQL-APIs-for-XMLType.html#GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F__CHDHAJEC">例11-1</a>使用DOM文档的<span class="italic">句柄</span>来操作它：打印它，更改它的一部分，并在更改后再次打印它。通过其句柄操作DOM文档也间接影响文档表示的XML数据，因此在更改后查询该数据会显示更改的结果。
                        </p>
                        <p>DOM文档是使用PL / SQL函数<code class="codeph">newDOMDocument</code>从<code class="codeph">XMLType</code>变量创建的。使用函数<code class="codeph">makeNode</code>创建此文档的句柄。使用函数<code class="codeph">writeToBuffer</code>将文档写入<code class="codeph">VARCHAR2</code>缓冲区，并使用<code class="codeph">DBMS_OUTPUT.put_line</code>打印缓冲区。
                        </p>
                        <p>在使用各种<code class="codeph">DBMS_XMLDOM</code>过程操作文档之后，将<code class="codeph">XMLType</code>变量中的（已更改的）数据插入到表中并进行查询，以显示更改。只有当数据插入到数据库表中时才会变为持久性。在那之前，它只存在于内存中。数据库查询是在文档（ <code class="codeph">DOMDocument</code>实例）从动态内存中释放之后进行的，这一事实表明了这种持久性。
                        </p>
                        <p><a href="PLSQL-APIs-for-XMLType.html#GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F__BEIDGEJC">示例11-2</a>创建一个空DOM文档，然后将一个元素节点（ <code class="codeph">&lt;ELEM&gt;</code> ）添加到文档中。<code class="codeph">DBMS_XMLDOM</code> API节点过程用于获取元素节点的名称（ <code class="codeph">&lt;ELEM&gt;</code> ），值（ <code class="codeph">NULL</code> ）和类型（ <code class="codeph">1</code> =元素节点）。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F__CHDHAJEC">
                        <p class="titleinexample">示例11-1创建和操作DOM文档</p><pre class="pre codeblock"><code>CREATE TABLE person OF XMLType; DECLARE var XMLType; doc DBMS_XMLDOM.DOMDocument; ndoc DBMS_XMLDOM.DOMNode; docelem DBMS_XMLDOM.DOMElement; node DBMS_XMLDOM.DOMNode; childnode DBMS_XMLDOM.DOMNode; nodelist DBMS_XMLDOM.DOMNodelist; buf VARCHAR2（2000）; BEGIN var：= XMLType（'&lt;PERSON&gt; &lt;NAME&gt; <span class="bold">ramesh</span> &lt;/ NAME&gt; &lt;/ PERSON&gt;'）; - 创建DOMDocument句柄doc：= DBMS_XMLDOM.newDOMDocument（var）; ndoc：= DBMS_XMLDOM.makeNode（doc）; DBMS_XMLDOM.writeToBuffer（ndoc，buf）; DBMS_OUTPUT.put_line（' <span class="bold">Before：</span> '|| buf）; docelem：= DBMS_XMLDOM.getDocumentElement（doc）; - 访问元素nodelist：= DBMS_XMLDOM.getElementsByTagName（docelem，' <span class="bold">NAME</span> '）; node：= DBMS_XMLDOM.item（nodelist，0）; childnode：= DBMS_XMLDOM.getFirstChild（node）; - 操作元素DBMS_XMLDOM.setNodeValue（childnode，' <span class="bold">raj</span> '）; DBMS_XMLDOM.writeToBuffer（ndoc，buf）; DBMS_OUTPUT.put_line（' <span class="bold">After：</span> '|| buf）; DBMS_XMLDOM.freeDocument（DOC）; INSERT INTO VALUES（var）;结束; /</code></pre><p>这会产生以下输出：</p><pre class="oac_no_warn" dir="ltr">之前：&lt;PERSON&gt; &lt;NAME&gt; <span class="bold">ramesh</span> &lt;/ NAME&gt; &lt;/ PERSON&gt;之后：&lt;PERSON&gt; &lt;NAME&gt; <span class="bold">raj</span> &lt;/ NAME&gt; &lt;/ PERSON&gt;</pre><p>此查询确认数据已更改：</p><pre class="pre codeblock"><code>SELECT * FROM person; SYS_NC_ROWINFO $ --------------- &lt;PERSON&gt; &lt;NAME&gt; <span class="bold">raj</span> &lt;/ NAME&gt; &lt;/ PERSON&gt;选择了1行。
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-4B7856FD-9104-497C-81F1-0B3C3F7DE81F__BEIDGEJC">
                        <p class="titleinexample">示例11-2创建元素节点并获取相关信息</p><pre class="pre codeblock"><code>DECLARE doc DBMS_XMLDOM.DOMDocument; elem DBMS_XMLDOM.DOMElement; nelem DBMS_XMLDOM.DOMNode; BEGIN doc：= DBMS_XMLDOM.newDOMDocument; elem：= DBMS_XMLDOM.createElement（doc，'ELEM'）; nelem：= DBMS_XMLDOM.makeNode（elem）; DBMS_OUTPUT.put_line（'Node name ='|| DBMS_XMLDOM.getNodeName（nelem））; DBMS_OUTPUT.put_line（'Node value ='|| DBMS_XMLDOM.getNodeValue（nelem））; DBMS_OUTPUT.put_line（'Node type ='|| DBMS_XMLDOM.getNodeType（nelem））; DBMS_XMLDOM.freeDocument（DOC）;结束; /</code></pre><p>这会产生以下输出：</p><pre class="pre codeblock"><code>节点名称= ELEM节点值=节点类型= 1</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4898"></a><div class="props_rev_3"><a id="GUID-27F60B86-33DC-4E4B-B870-DDCBCF7819F6" name="GUID-27F60B86-33DC-4E4B-B870-DDCBCF7819F6"></a><h4 id="ADXDB-GUID-27F60B86-33DC-4E4B-B870-DDCBCF7819F6" class="sect4"><span class="enumeration_section">11.2.13</span>使用DBMS_XMLDOM进行大型节点处理</h4>
                  <div>
                     <p>Oracle XML DB提供了抽象流和流操作方法，可用于处理大于64 K字节的XML节点。</p>
                     <p>在Oracle Database 11g第1版（11.1）之前，Oracle XML DB处理的每个文本节点或属性值的大小限制为64 K字节。从版本11.1开始，此限制不再适用。</p>
                     <p>要克服此大小限制并允许节点包含图形文件，PDF文件和多字节字符编码，可以使用以下抽象流。这些抽象的PL / SQL流类似于相应的Java流。每个输入流都有一个关联的编写器或数据生成器，每个输出流都有一个关联的读取器或数据使用者。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">二进制输入流：</span>这为数据使用者提供对源数据的只读访问，作为顺序（非数组）线性字节空间。消费者以二进制格式对底层源数据（无论什么表示）进行迭代读访问，即以未转换的“原始”格式对源数据进行读访问。消费者看到节点中存在的字节序列。没有规定源数据的格式或表示。特别是，没有相关的字符集。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">二进制输出流：</span>这为数据生成者提供了对目标数据的只写访问，作为顺序（非数组）线性字节空间。生产者对二进制格式的目标数据进行迭代写访问，即以纯二进制格式对目标数据进行写访问，完全没有数据语义。生产者传递一系列字节，目标数据被这些字节替换。不会发生数据转换。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">字符输入流：</span>这提供了对源数据的数据消费者迭代只读访问，作为字符的顺序（非数组）线性空间，与源数据的表示和格式无关。源数据的转换可能会也可能不会发生。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">字符输出流：</span>这为数据生成者提供了对目标数据的迭代只写访问，作为字符的顺序（非数组）线性空间。生产者传递一系列字符，目标数据被这个字符序列替换。传递的数据的转换可能会也可能不会发生。
                           </p>
                        </li>
                     </ul>
                     <p>每个输入流都有以下抽象方法：打开，读取和关闭。每个输出流都有以下抽象方法：open，write，flush和close。对于输出流，必须在物理写入任何节点之前关闭流。</p>
                     <p>有四种通用节点访问模型，用于读写。每种访问模型都有二进制和字符版本。在数据类型<code class="codeph">DOMNode</code>上定义的二进制和字符流方法实现了这些访问模型。
                     </p>
                     <p>您的应用程序充当客户端，解析器作为其服务提供者。解析器模式确定解析器或应用程序是否驱动流数据流。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>对于处于推送模式的解析器，您的应用程序将数据推送到输出流中的解析器，解析器返回所请求操作的结果。</p>
                        </li>
                        <li>
                           <p>对于处于拉模式的解析器，您的应用程序会从输入流中的解析器中提取数据。流中的每个数据项都是解析事件的结果。</p>
                        </li>
                     </ul>
                     <p>每个访问模型都在一个单独的部分中描述，并解释了在大型节点上运行的<code class="codeph">DBMS_XMLDOM</code>包中的PL / SQL函数和过程。每个子程序的名称反映它是读取（“获取”）还是写入（“设置”）数据，以及解析器是用于推（“推”）还是拉（拉）模式。
                     </p>
                     <p>除了get-push和set-pull访问模型（无论是二进制还是字符）之外，Oracle提供了一个可以使用的具体流（隐式）。对于get-push和set-pull，您必须定义Oracle提供的抽象流类型的子类型，并且必须实现其访问方法（打开，关闭等）。对于get-push和set-pull，然后实例化您的流类型并将您的流作为访问方法的参数提供。因此，例如，您可以使用<code class="codeph">my_node.getNodeValueAsCharacterStream(my-stream)</code>进行get-push，但只使用<code class="codeph">my_node.getNodeValueAsCharacterStream()</code>进行get-pull。后者不需要显式的流参数，因为使用了Oracle提供的具体流。
                     </p>
                     <div class="infoboxnote" id="GUID-27F60B86-33DC-4E4B-B870-DDCBCF7819F6__GUID-B6406E01-9925-490E-B062-02B9C26E18E6">
                        <p class="notep1">注意：</p>
                        <p>访问字符数据流时，您使用的访问方法确定所访问节点的明显字符集。如果使用Java访问流，则Java程序看到的字符集是UCS2（或应用程序指定的字符集）。如果使用PL / SQL访问流，则PL / SQL程序看到的字符集是数据库会话字符集（或应用程序指定的字符集）。但是，在所有情况下，XML数据都存储在数据库字符集的数据库中。</p>
                        <p>在以下描述中，C1是存储在数据库中的节点的字符集，C2是程序看到的节点的字符集。</p>
                     </div>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="PLSQL-APIs-for-XMLType.html#GUID-F9CC00ED-132E-451F-94D4-953161F87482" title="在此模型中，使用处于推送模式的解析器检索DOM节点的值。Oracle XML DB将节点数据写入解析器读取的输出流。">用于大型节点处理的Get-Push模型</a></li>
                           <li><a href="PLSQL-APIs-for-XMLType.html#GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57" title="在此模型中，使用处于拉模式的解析器检索DOM节点的值。Oracle XML DB从解析器编写的输入流中读取事件数据。">用于大型节点处理的Get-Pull模型</a></li>
                           <li><a href="PLSQL-APIs-for-XMLType.html#GUID-43443083-4ED7-4E62-A450-E60CE2524AD7" title="在此模型中，使用处于拉模式的解析器设置DOM节点的值。Oracle XML DB从解析器编写的输入流中读取事件数据。">用于大型节点处理的Set-Pull模型</a></li>
                           <li><a href="PLSQL-APIs-for-XMLType.html#GUID-DCBCC32B-3529-49A0-BF23-1BFF9062367D" title="在此模型中，使用处于推送模式的解析器设置DOM节点的值。Oracle XML DB将节点数据写入解析器读取的输出流。">用于大型节点处理的Set-Push模型</a></li>
                           <li><a href="Java-DOM-API-for-XMLType.html#GUID-292AD380-743C-4E36-BDD1-039A279006C0" title="Oracle XML DB提供了抽象流和流操作方法，可用于处理大于64 K字节的XML节点。使用Java类XMLNode和XMLAttr以及thick或kprb连接来操作大型节点。">使用Java进行大型XML节点处理</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-27F60B86-33DC-4E4B-B870-DDCBCF7819F6__GUID-561B5F2B-5CE8-42C6-AD4A-5C48A675ACC8">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=ARPLS399" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关用于处理大型节点的Java函数的信息，请参阅<a href="../jaxml/index.html" target="_blank"><span><cite>Oracle数据库XML Java API参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关用于处理大型节点的C函数的信息，请参阅<a href="../caxml/package-DOM-API.html#CAXML-GUID-1A4B5DBB-1B8C-4963-AEC4-C5DC0709C325" target="_blank"><span><cite>Oracle Database XML C API参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4900"></a><a id="ADXDB4901"></a><a id="ADXDB4899"></a><div class="props_rev_3"><a id="GUID-F9CC00ED-132E-451F-94D4-953161F87482" name="GUID-F9CC00ED-132E-451F-94D4-953161F87482"></a><h4 id="ADXDB-GUID-F9CC00ED-132E-451F-94D4-953161F87482" class="sect4"><span class="enumeration_section">11.2.14</span>用于大型节点处理的Get-Push模型</h4>
                  <div>
                     <p>在此模型中，使用处于推送模式的解析器检索DOM节点的值。Oracle XML DB将节点数据写入解析器读取的输出流。</p>
                     <p>要读取此模型中的节点值，应用程序将创建二进制输出流或<span>字符输出流</span> ，并将其传递给Oracle XML DB。在这种情况下，源数据是节点值。Oracle XML DB通过将节点数据添加到流来填充输出流。如果流是<span>字符输出流</span> ，则字符集C2是会话字符集，并且如果需要，节点数据从C1转换为C2。此外，节点的数据类型可以是Oracle XML DB支持的任何数据类型。如果节点数据类型不是字符数据，则首先将节点数据转换为C2中的字符数据。如果是<span>二进制输出流</span> ，则节点的数据类型必须是<code class="codeph">RAW</code>或<code class="codeph">BLOB</code> 。</p>
                     <p>在这种情况下使用的<code class="codeph">DBMS_XMLDOM</code>包的过程是：</p><pre class="pre codeblock"><code>PROCEDURE getNodeValueAsBinaryStream（n IN DBMS_XMLDOM.domnode，value IN SYS.utl_BinaryOutputStream）;</code></pre><p>应用程序传递<code class="codeph">SYS.utl_BinaryOutputStream</code>的实现，Oracle XML DB将该节点的内容写入其中。节点的数据类型必须是<code class="codeph">RAW</code>或<code class="codeph">CLOB</code> ，否则引发异常。
                     </p><pre class="pre codeblock"><code>PROCEDURE getNodeValueAsCharacterStream（n IN DBMS_XMLDOM.domnode，value IN SYS.utl_CharacterOutputStream）;</code></pre><p>必要时，节点数据将转换为会话字符集，然后“推送”到<code class="codeph">SYS.utl_CharacterOutputStream</code> 。
                     </p>
                     <p>以下示例片段说明了将节点值读取为二进制数据并在用户定义的<code class="codeph">SYS.utl_BinaryOutPutStream</code>子类型中驱动write方法，该子类型称为<code class="codeph">MyBinaryOutputStream</code> ：</p>
                     <div class="example" id="GUID-F9CC00ED-132E-451F-94D4-953161F87482__GUID-B18213EB-09FC-4CEE-B98F-61F3C7B32D06">
                        <p class="titleinexample">示例11-3创建SYS.util_BinaryOutputStream（）的用户定义子类型</p><pre class="pre codeblock"><code>在SYS.utl_BinaryOutputStream下创建类型MyBinaryOutputStream（构造函数MyBinaryOutputStream（）返回自身结果，成员函数写入（字节IN RAW）返回INTEGER，成员程序写入（字节IN RAW，偏移IN INTEGER，长度IN OUT INTEGER），成员函数冲洗（）RETURN BOOLEAN，会员功能close（）RETURN BOOLEAN）; ）; - 在这里放置实现这些方法的代码......</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-F9CC00ED-132E-451F-94D4-953161F87482__GUID-11572A36-0C31-41B8-A3A6-691A218EC1F5">
                        <p class="titleinexample">示例11-4使用用户定义的流检索节点值</p><pre class="pre codeblock"><code>DECLARE ostream MyBinaryOutputStream = MyBinaryOutputStream（）; node DBMS_XMLDOM.domnode; ...开始 ...- 这将驱动MyBinaryOutputStream中的写入方法， - 刷新数据，并在完全写入值后关闭流。DBMS_XMLDOM.getNodeValueAsBinaryStream（node，ostream）; ...结束;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4903"></a><a id="ADXDB4904"></a><a id="ADXDB4902"></a><div class="props_rev_3"><a id="GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57" name="GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57"></a><h4 id="ADXDB-GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57" class="sect4"><span class="enumeration_section">11.2.15</span>大节点处理的Get-Pull模型</h4>
                  <div>
                     <p>在此模型中，使用处于拉模式的解析器检索DOM节点的值。Oracle XML DB从解析器编写的输入流中读取事件数据。</p>
                     <p>要读取此模型中节点的值，Oracle XML DB会创建<span>二进制输入流</span>或字符输入流，并将其返回给调用者。<span>字符输入流</span>的字符集C2是当前会话字符集。当调用者从流中提取节点数据时，Oracle XML DB会填充输入流，因此Oracle XML DB再次成为数据的生产者。如果流是<span>字符输入流</span> ，则节点数据类型可以是Oracle XML DB支持的任何节点数据类型，并且如果必要，则将节点数据从C1转换为C2。如果节点数据是非字符的，则将其转换为C2中的字符。如果是<span>二进制输入流</span> ，则节点的数据类型必须是<code class="codeph">RAW</code>或<code class="codeph">BLOB</code> 。</p>
                     <p>在这种情况下使用的<code class="codeph">DBMS_XMLDOM</code>包的功能是<code class="codeph">getNodeValueAsBinaryStream</code>和<code class="codeph">getNodeValueAsCharacterStream</code> 。
                     </p><pre class="oac_no_warn" dir="ltr">FUNCTION getNodeValueAsBinaryStream（n IN DBMS_XMLDOM.domnode）RETURN SYS.utl_BinaryInputStream;</pre><p>此函数返回新PL / SQL <code class="codeph">SYS.utl_BinaryInputStream</code>的实例，该实例可使用定义的方法读取，如<a href="PLSQL-APIs-for-XMLType.html#GUID-43443083-4ED7-4E62-A450-E60CE2524AD7" title="在此模型中，使用处于拉模式的解析器设置DOM节点的值。Oracle XML DB从解析器编写的输入流中读取事件数据。">“大型节点处理的Set-Pull模型</a> ”一节中所述。节点数据类型必须是<code class="codeph">RAW</code>或<code class="codeph">BLOB</code> ，否则引发异常。
                     </p><pre class="oac_no_warn" dir="ltr">FUNCTION getNodeValueAsCharacterStream（n IN DBMS_XMLDOM.domnode）RETURN SYS.utl_CharacterInputStream;</pre><p>此函数返回可使用已定义方法读取的新PL / SQL <code class="codeph">SYS.utl_CharacterInputStream</code>的实例。如果节点数据是字符，则将其转换为当前会话字符集。如果节点数据不是字符数据，则首先将其转换为字符数据。
                     </p>
                     <p><a href="PLSQL-APIs-for-XMLType.html#GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57__CHDBFEGJ">例11-5</a>说明了以50字节为增量读取节点值作为二进制数据：</p>
                     <p><a href="PLSQL-APIs-for-XMLType.html#GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57__CHDBIJAC">例11-6</a>说明了以50个字符为增量读取节点值作为字符数据：</p>
                     <div class="example" id="GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57__CHDBFEGJ">
                        <p class="titleinexample">例11-5二进制数据的获取</p><pre class="oac_no_warn" dir="ltr">DECLARE istream SYS.utl_BinaryInputStream; node DBMS_XMLDOM.domnode;缓冲原料（50）; numBytes pls_integer; ...开始 ...istream：= DBMS_XMLDOM.getNodeValueAsBinaryStream（node）; - 以50字节块的形式读取流LOOP numBytes：= 50; istream.read（buffer，numBytes）;如果numBytes &lt;= 0则退出;万一; - 在缓冲区END LOOP中处理下一个50字节的节点值...结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-44A8FF6E-4CE5-4FEA-AC55-AAEACE8CCC57__CHDBIJAC">
                        <p class="titleinexample">例11-6字符数据的获取</p><pre class="oac_no_warn" dir="ltr">DECLARE istream SYS.utl_CharacterInputStream; node DBMS_XMLDOM.domnode; buffer varchar2（50）; numChars pls_integer; ...开始 ...istream：= DBMS_XMLDOM.getNodeValueAsCharacterStream（node）; - 以50个字符的块读取流LOOP numChars：= 50; istream.read（buffer，numChars）;如果numChars &lt;= 0则退出;万一; - 在缓冲区END LOOP中处理接下来的50个字符的节点值...结束;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4906"></a><a id="ADXDB4905"></a><div class="props_rev_3"><a id="GUID-43443083-4ED7-4E62-A450-E60CE2524AD7" name="GUID-43443083-4ED7-4E62-A450-E60CE2524AD7"></a><h4 id="ADXDB-GUID-43443083-4ED7-4E62-A450-E60CE2524AD7" class="sect4"><span class="enumeration_section">11.2.16</span>大型节点处理的集拉模型</h4>
                  <div>
                     <p>在此模型中，使用处于拉模式的解析器设置DOM节点的值。Oracle XML DB从解析器编写的输入流中读取事件数据。</p>
                     <p>要在此模式下编写节点值，应用程序将创建<span>二进制输入流</span>或<span>字符输入流</span> ，并将其传递给Oracle XML DB。</p>
                     <p><span>字符输入流</span> C2的字符集是会话字符集。Oracle XML DB从输入流中提取数据并填充节点。如果流是<span>字符输入流</span> ，则该节点的数据类型可以是Oracle XML DB支持的任何数据类型。如果节点的数据类型不是字符，则首先将流数据转换为节点数据类型。如果节点数据类型是字符，则不进行转换，因此节点数据保留在字符集C2中。如果流是<code class="codeph">binary input stream</code> ，则节点的数据类型必须是<code class="codeph">RAW</code>或<code class="codeph">BLOB</code>并且不进行转换。
                     </p>
                     <p>在这种情况下使用的<code class="codeph">DBMS_XMLDOM</code>包的过程是<code class="codeph">setNodeValueAsBinaryStream</code>和<code class="codeph">setNodeValueAsCharacterStream</code> 。
                     </p><pre class="pre codeblock"><code>PROCEDURE setNodeValueAsBinaryStream（ <span class="italic">n</span> IN DBMS_XMLDOM.domnode， <span class="italic">value</span> IN SYS.utl_BinaryInputStream）;</code></pre><p>应用程序传递<code class="codeph">SYS.utl_BinaryInputStream</code>的实现，Oracle XML DB从该实现中读取数据以填充节点。节点的数据类型必须是<code class="codeph">RAW</code>或<code class="codeph">BLOB</code> ，否则引发异常。
                     </p><pre class="pre codeblock"><code>PROCEDURE setNodeValueAsCharacterStream（ <span class="italic">n</span> IN DBMS_XMLDOM.domnode， <span class="italic">value</span> IN SYS.utl_CharacterInputStream）;</code></pre><p>应用程序传递<code class="codeph">SYS.utl_CharacterInputStream</code>的实现，Oracle XML DB从该实现中读取以填充节点。节点的数据类型可以是Oracle XML DB支持的任何有效类型。如果它是非字符数据类型，则从流中读取的字符数据将转换为节点的数据类型。如果节点的数据类型是字符或<code class="codeph">CLOB</code> ，则不会发生转换，并且节点的字符集将成为PL / SQL会话的字符集。
                     </p>
                     <p><a href="PLSQL-APIs-for-XMLType.html#GUID-43443083-4ED7-4E62-A450-E60CE2524AD7__CHDFDBIG">例11-7</a>说明了将节点值设置为由用户定义的<code class="codeph">SYS.utl_BinaryInputStream</code>子类型中定义的读取方法生成的二进制数据，该子类型称为<code class="codeph">MyBinaryInputStream</code> ：</p>
                     <p>您可以使用<code class="codeph">MyBinaryInputStream</code>类型的对象来设置节点的值，如下所示：</p><pre class="pre codeblock"><code>DECLARE istream MyBinaryInputStream = MyBinaryInputStream（）; node DBMS_XMLDOM.domnode; ...开始 ...- 这将驱动MyBinaryInputStream中的读取方法DBMS_XMLDOM.setNodeValueAsBinaryStream（node，istream）; ...结束;</code></pre><div class="example" id="GUID-43443083-4ED7-4E62-A450-E60CE2524AD7__CHDFDBIG">
                        <p class="titleinexample">例11-7二进制数据的设置 - 拉取</p><pre class="pre codeblock"><code>在SYS.utl_BinaryInputStream下创建类型MyBinaryInputStream（构造函数MyBinaryInputStream（）返回自身结果，成员函数read（）RETURN RAW，成员程序读取（字节IN OUT RAW，numbytes IN OUT INTEGER），成员程序读取（字节IN OUT RAW， offset IN INTEGER，length IN OUT INTEGER），MEMBER FUNCTION close（）RETURN BOOLEAN）;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4908"></a><a id="ADXDB4907"></a><div class="props_rev_3"><a id="GUID-DCBCC32B-3529-49A0-BF23-1BFF9062367D" name="GUID-DCBCC32B-3529-49A0-BF23-1BFF9062367D"></a><h4 id="ADXDB-GUID-DCBCC32B-3529-49A0-BF23-1BFF9062367D" class="sect4"><span class="enumeration_section">11.2.17</span>用于大型节点处理的Set-Push模型</h4>
                  <div>
                     <p>在此模型中，使用处于推送模式的解析器设置DOM节点的值。Oracle XML DB将节点数据写入解析器读取的输出流。</p>
                     <p>要在此模式下写入新节点值，Oracle XML DB会创建<span>二进制输出流</span>或<span>字符输出流</span> ，并将其返回给调用者。<span>字符输出流</span> C2的字符集是当前会话字符集。调用者将数据推送到输出流，然后Oracle XML DB将其写入Oracle XML DB节点。如果流是<span>字符输出流</span> ，则节点的数据类型可以是Oracle XML DB支持的任何类型。在这种情况下，字符数据被转换为节点数据类型。如果节点数据类型是字符，则字符集C1变为C2。不会发生数据转换。如果流是<span>二进制输入流</span> ，则节点的数据类型必须是<code class="codeph">RAW</code>或<code class="codeph">BLOB</code> 。在这种情况下，在没有数据转换的情况下读取流。
                     </p>
                     <p>在这种情况下使用的<code class="codeph">DBMS_XMLDOM</code>包的过程是<code class="codeph">setNodeValueAsBinaryStream</code>和<code class="codeph">setNodeValueAsCharacterStream</code> 。
                     </p><pre class="pre codeblock"><code>FUNCTION setNodeValueAsBinaryStream（n IN DBMS_XMLDOM.domnode）RETURN SYS.utl_BinaryOutputStream;</code></pre><p>此函数返回<code class="codeph">SYS.utl_BinaryOutputStream</code>的实例，调用者可以将该节点值写入其中。节点的数据类型必须是<code class="codeph">RAW</code>或<code class="codeph">BLOB</code> ，否则引发异常。
                     </p><pre class="pre codeblock"><code>FUNCTION setNodeValueAsCharacterStream（n IN DBMS_XMLDOM.domnode）RETURN SYS.utl_CharacterOutputStream;</code></pre><p>此函数返回PL / SQL <code class="codeph">SYS.utl_CharacterOutputStream</code>类型的实例，调用者可以将该节点值写入该实例。节点的数据类型可以是任何有效的Oracle XML DB数据类型。如果类型不是字符或<code class="codeph">CLOB</code> ，则写入流的字符数据将转换为节点数据类型。如果节点的数据类型是字符或<code class="codeph">CLOB</code> ，则写入流的字符数据将从PL / SQL会话字符集转换为节点的字符集</p>
                     <p><a href="PLSQL-APIs-for-XMLType.html#GUID-DCBCC32B-3529-49A0-BF23-1BFF9062367D__CHDCEHBB">例11-8</a>说明了通过将50个字节的段写入<code class="codeph">SYS.utl_BinaryOutputStream</code> ，将节点的值设置为二进制数据：</p>
                     <div class="example" id="GUID-DCBCC32B-3529-49A0-BF23-1BFF9062367D__CHDCEHBB">
                        <p class="titleinexample">例11-8二进制数据的Set-Push</p><pre class="pre codeblock"><code>DECLARE ostream SYS.utl_BinaryOutputStream; node DBMS_XMLDOM.domnode;缓冲原料（500）;段生（50）; numBytes pls_integer; offset pls_integer; ...开始 ...ostream：= DBMS_XMLDOM.setNodeValueAsBinaryStream（node）; offset：= 0;长度：= 500; - 以50字节块的形式写入流LOOP numBytes：= 50; - 获取下一个50字节的缓冲区ostream.write（segment，offset，numBytes）; length：= length  -  numBytes; IF长度&lt;= 0然后退出;万一; END LOOP ostream.close（）; ...结束;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4909"></a><div class="props_rev_3"><a id="GUID-A0C33052-CAEA-4678-B3AA-C0D2EA7A56F7" name="GUID-A0C33052-CAEA-4678-B3AA-C0D2EA7A56F7"></a><h4 id="ADXDB-GUID-A0C33052-CAEA-4678-B3AA-C0D2EA7A56F7" class="sect4"><span class="enumeration_section">11.2.18</span>确定大型节点处理的二进制流或字符流</h4>
                  <div>
                     <p>您可以使用子程序<code class="codeph">DBMS_XMLDOM.useBinaryStream</code>来确定是使用字符流还是二进制流来访问大型节点的内容。
                     </p>
                     <div class="section"><pre class="pre codeblock"><code>功能useBinaryStream（n IN DBMS_XMLDOM.domnode）RETURN BOOLEAN;</code></pre><p>如果节点的数据类型是<code class="codeph">RAW</code>或<code class="codeph">BLOB</code> ，则此函数返回<code class="codeph">TRUE</code> ，以便可以使用<code class="codeph">SYS.utl_BinaryInputStream</code>或<code class="codeph">SYS.utl_BinaryOutputStream</code>读取或写入节点值。如果返回值<code class="codeph">FALSE</code> ，则只能使用<code class="codeph">SYS.utl_CharacterInputStream</code>或<code class="codeph">SYS.utl_CharacterOutputStream</code>访问节点值。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-C8B6BD89-F267-46C3-8656-99CFA052A198" title="XMLType的PL / SQL DOM API，DBMS_XMLDOM允许您使用DOM操作XMLType实例。">XMLType的PL / SQL DOM API（DBMS_XMLDOM）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4913"></a><a id="ADXDB4914"></a><a id="ADXDB4910"></a><div class="props_rev_3"><a id="GUID-3EA684A3-2149-4550-924A-35CD5246ED90" name="GUID-3EA684A3-2149-4550-924A-35CD5246ED90"></a><h3 id="ADXDB-GUID-3EA684A3-2149-4550-924A-35CD5246ED90" class="sect3"><span class="enumeration_section">11.3</span>用于XMLType的PL / SQL分析器API（DBMS_XMLPARSER）</h3>
               <div>
                  <p>用于<code class="codeph">XMLType</code>的PL / SQL Parser API（ <code class="codeph">DBMS_XMLPARSER</code> ）构建可由PL / SQL API访问的解析结果树。如果解析失败，则会引发错误。
                  </p>
                  <p>称为XML解析器或处理器的软件模块读取XML文档并提供对其内容和结构的访问。XML解析器通常代表另一个模块（通常是应用程序）执行其工作。</p>
                  <p>XML文档由称为<span class="italic">实体</span>的存储单元<span class="italic">组成</span> ，包含已解析或未解析的数据。解析数据由字符组成，其中一些字符构成字符数据，其中一些字符作为标记。标记编码文档存储布局和逻辑结构的描述。XML提供了一种对存储布局和逻辑结构施加约束的机制。
                  </p>
                  <p><a href="PLSQL-APIs-for-XMLType.html#GUID-3EA684A3-2149-4550-924A-35CD5246ED90__I1043623">图11-2</a>说明了如何使用PL / SQL Parser for <code class="codeph">XMLType</code> （ <code class="codeph">DBMS_XMLPARSER</code> ）。这些是步骤：</p>
                  <ol>
                     <li>
                        <p>使用PL / SQL方法<code class="codeph">newParser()</code>构造解析器实例。
                        </p>
                     </li>
                     <li>
                        <p>使用PL / SQL方法解析XML文档，例如<code class="codeph">parseBuffer()</code> ， <code class="codeph">parseClob()</code>和<code class="codeph">parse(URI)</code> 。如果输入不是有效的XML文档，则会引发错误。
                        </p>
                     </li>
                     <li>
                        <p>在解析器上调用PL / SQL函数<code class="codeph">getDocument</code>以获取<code class="codeph">DOMDocument</code>接口。
                        </p>
                     </li>
                  </ol>
                  <div class="figure" id="GUID-3EA684A3-2149-4550-924A-35CD5246ED90__I1043623">
                     <p class="titleinfigure">图11-2为XMLType使用PL / SQL Parser API</p><img src="img/adxdb015.gif" width="188" alt="下面是图11-2的描述" title="下面是图11-2的描述" longdesc="img_text/adxdb015.html"><br><a href="img_text/adxdb015.html">“图11-2为XMLType使用PL / SQL Parser API”的说明</a></div>
                  <!-- class="figure" -->
                  <p><a href="PLSQL-APIs-for-XMLType.html#GUID-3EA684A3-2149-4550-924A-35CD5246ED90__BEIGFDHI">例11-9</a>解析一个简单的XML文档。它创建了一个XML解析器（ <code class="codeph">DBMS_XMLPARSER.parser</code>实例），并使用它来解析变量<code class="codeph">indoc</code>的XML文档（文本）。解析创建一个DOM文档，使用<code class="codeph">DBMS_XMLPARSER.getDocument</code>从解析器中检索该文档。创建包含整个文档的DOM节点，并打印节点。在释放（销毁）DOM文档之后，使用<code class="codeph">DBMS_XMLPARSER.freeParser</code>释放解析器实例。
                  </p>
                  <div class="infoboxnote" id="GUID-3EA684A3-2149-4550-924A-35CD5246ED90__GUID-DEB9E8FE-378C-483A-8490-B3573CC7FCB5">
                     <p class="notep1">注意：</p>
                     <p>方法不支持<code class="codeph">DBMS_XMLPARSER.setErrorLog()</code> 。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-3EA684A3-2149-4550-924A-35CD5246ED90__GUID-CAB21705-BD3A-438B-A983-82FD20A2FED4">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../arpls/DBMS_XMLPARSER.html#ARPLS375" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>用于描述各个<code class="codeph">DBMS_XMLPARSER</code>方法</p>
                  </div>
                  <div class="example" id="GUID-3EA684A3-2149-4550-924A-35CD5246ED90__BEIGFDHI">
                     <p class="titleinexample">示例11-9解析XML文档</p><pre class="oac_no_warn" dir="ltr">DECLARE indoc VARCHAR2（2000）; indomdoc DBMS_XMLDOM.DOMDocument; innode DBMS_XMLDOM.DOMNode; myparser DBMS_XMLPARSER.parser; buf VARCHAR2（2000）; BEGIN indoc：='&lt;emp&gt; &lt;name&gt; De Selby &lt;/ name&gt; &lt;/ emp&gt;'; myParser：= DBMS_XMLPARSER.newParser; DBMS_XMLPARSER.parseBuffer（myParser，indoc）; indomdoc：= DBMS_XMLPARSER.getDocument（myParser）; innode：= DBMS_XMLDOM.makeNode（indomdoc）; DBMS_XMLDOM.writeToBuffer（innode，buf）; DBMS_OUTPUT.PUT_LINE（BUF）; DBMS_XMLDOM.freeDocument（indomdoc）; DBMS_XMLPARSER.freeParser（myParser）;结束; /</pre><p>这会产生以下输出：</p><pre class="oac_no_warn" dir="ltr">&lt;emp&gt; &lt;name&gt; De Selby &lt;/ name&gt; &lt;/ emp&gt;</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-2D5B2D47-9CFF-49D0-9BD8-114BBE48A289" title="有几个PL / SQL包为XMLType提供API。">XMLType的PL / SQL API</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB4915"></a><div class="props_rev_3"><a id="GUID-0E3358AF-0819-4B17-AF0B-793E96DA5EB9" name="GUID-0E3358AF-0819-4B17-AF0B-793E96DA5EB9"></a><h3 id="ADXDB-GUID-0E3358AF-0819-4B17-AF0B-793E96DA5EB9" class="sect3"><span class="enumeration_section">11.4</span>用于XMLType的PL / SQL XSLT处理器（DBMS_XSLPROCESSOR）</h3>
               <div>
                  <p>您可以使用PL / SQL包<code class="codeph">DBMS_XSLPROCESSOR</code>将一个XML文档转换为另一个XML文档，或将XML数据转换为HTML，PDF或其他格式。该包遍历文档的DOM树，并对其应用可扩展样式表语言转换（XSLT）语句以生成转换后的文档。
                  </p>
                  <p>W3C XSL建议书描述了将源树转换为结果树的规则。在XSL中表示的转换称为<strong class="term">XSLT样式表</strong> 。指定的转换是通过将模式与XSLT样式表中定义的模板相关联来实现的。实例化模板以创建结果树的一部分。XSLT广泛用于将XML数据转换为HTML以进行Web浏览器显示。
                  </p>
                  <div class="infoboxnote" id="GUID-0E3358AF-0819-4B17-AF0B-793E96DA5EB9__GUID-FB8722D7-BA31-4BF7-AF82-334277CA24FF">
                     <p class="notep1">注意：</p>
                     <p>Oracle XML DB应用程序不需要单独的XML解析器。但是，需要外部处理的应用程序仍然可以首先使用XML Parser for PL / SQL来公开文档结构。Oracle XML Developer's Kit中的PL / SQL XML解析器解析XML文档（或独立的DTD），以便XML文档可以由应用程序处理，通常在客户端上运行。<code class="codeph">XMLType</code> PL / SQL API用于在服务器上运行并本机集成在数据库中的应用程序。在服务器上运行应用程序的好处包括性能改进和增强的访问和操作选项。
                     </p>
                  </div>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-A12D2387-0268-4766-80B2-1BBDDDC77C8D">用于XMLType的PL / SQL XSLT处理器：功能</a><br>用于<code class="codeph">XMLType</code> PL / SQL XSLT处理器（ <code class="codeph">DBMS_XSLPROCESSOR</code> ）遵循W3C XSLT最终建议（REC-xslt-19991116）。它提供了一种方便有效的方法，可以将单个XSL样式表应用于多个文档。
                     </li>
                     <li class="ulchildlink"><a href="PLSQL-APIs-for-XMLType.html#GUID-0C886A80-A2C1-4E02-8E80-B13D577F4AC3">为XMLType使用PL / SQL XSLT处理器API（DBMS_XSLPROCESSOR）</a><br>您可以创建一个XSLT处理器，从DOM文档构建<code class="codeph">STYLESHEET</code>对象，使用处理器和样式表转换文档，并使用<code class="codeph">STYLESHEET</code> API for <code class="codeph">XMLType</code>来操作XSLT处理的结果。
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="transformation-and-validation-of-XMLType-data.html#GUID-EC4E2212-67EF-425C-AB5E-D48E62EAB9A7" title="有几个Oracle SQL函数和XMLType API，用于使用XSLT样式表转换XMLType数据，以及根据XML模式验证XMLType实例。">XMLType数据的转换和验证</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-2D5B2D47-9CFF-49D0-9BD8-114BBE48A289" title="有几个PL / SQL包为XMLType提供API。">XMLType的PL / SQL API</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4917"></a><div class="props_rev_3"><a id="GUID-A12D2387-0268-4766-80B2-1BBDDDC77C8D" name="GUID-A12D2387-0268-4766-80B2-1BBDDDC77C8D"></a><h4 id="ADXDB-GUID-A12D2387-0268-4766-80B2-1BBDDDC77C8D" class="sect4"><span class="enumeration_section">11.4.1</span>用于XMLType的PL / SQL XSLT处理器：功能</h4>
                  <div>
                     <p>用于<code class="codeph">XMLType</code> PL / SQL XSLT处理器（ <code class="codeph">DBMS_XSLPROCESSOR</code> ）遵循W3C XSLT最终建议（REC-xslt-19991116）。它提供了一种方便有效的方法，可以将单个XSL样式表应用于多个文档。
                     </p>
                     <p>PL / SQL包<code class="codeph">DBMS_XSLPROCESSOR</code>使用PL / SQL数据类型<code class="codeph">PROCESSOR</code>和<code class="codeph">STYLESHEET</code> ，它们特定于XSL处理器实现。Oracle XML DB支持所有<code class="codeph">DBMS_XSLPROCESSOR</code>方法， <span class="italic">但</span>方法<code class="codeph">setErrorLog()</code> 。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A12D2387-0268-4766-80B2-1BBDDDC77C8D__GUID-8D89DEF2-2483-46D6-8CC6-D2C19BE12EB0">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../arpls/DBMS_XSLPROCESSOR.html#ARPLS379" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>用于描述各个<code class="codeph">DBMS_XSLPROCESSOR</code>方法</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-0E3358AF-0819-4B17-AF0B-793E96DA5EB9" title="您可以使用PL / SQL包DBMS_XSLPROCESSOR将一个XML文档转换为另一个XML文档，或将XML数据转换为HTML，PDF或其他格式。该包遍历文档的DOM树，并对其应用可扩展样式表语言转换（XSLT）语句以生成转换后的文档。">用于XMLType的PL / SQL XSLT处理器（DBMS_XSLPROCESSOR）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4919"></a><a id="ADXDB4920"></a><a id="ADXDB4918"></a><div class="props_rev_3"><a id="GUID-0C886A80-A2C1-4E02-8E80-B13D577F4AC3" name="GUID-0C886A80-A2C1-4E02-8E80-B13D577F4AC3"></a><h4 id="ADXDB-GUID-0C886A80-A2C1-4E02-8E80-B13D577F4AC3" class="sect4"><span class="enumeration_section">11.4.2</span>对XMLType使用PL / SQL XSLT处理器API（DBMS_XSLPROCESSOR）</h4>
                  <div>
                     <p>您可以创建一个XSLT处理器，从DOM文档构建<code class="codeph">STYLESHEET</code>对象，使用处理器和样式表转换文档，并使用<code class="codeph">STYLESHEET</code> API for <code class="codeph">XMLType</code>来操作XSLT处理的结果。
                     </p>
                     <div class="section">
                        <p><a href="PLSQL-APIs-for-XMLType.html#GUID-0C886A80-A2C1-4E02-8E80-B13D577F4AC3__BEIJAGBB">图11-3</a>说明了如何使用XSLT Processor for <code class="codeph">XMLType</code> （ <code class="codeph">DBMS_XSLPROCESSOR</code> ）。
                        </p>
                        <div class="figure" id="GUID-0C886A80-A2C1-4E02-8E80-B13D577F4AC3__BEIJAGBB">
                           <p class="titleinfigure">图11-3为XMLType使用PL / SQL XSLT处理器</p><img src="img/adxdb016.gif" width="323" alt="下面是图11-3的描述" title="下面是图11-3的描述" longdesc="img_text/adxdb016.html"><br><a href="img_text/adxdb016.html">“图11-3为XMLType使用PL / SQL XSLT处理器”的描述</a></div>
                        <!-- class="figure" -->
                        <p>这些是步骤：</p>
                        <ol>
                           <li>
                              <p>使用<code class="codeph">newProcessor</code>构造XSLT处理器。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">newStylesheet</code>从DOM文档构建<code class="codeph">STYLESHEET</code>对象。
                              </p>
                           </li>
                           <li>
                              <p>（可选）您可以使用<code class="codeph">setParams</code>为<code class="codeph">STYLESHEET</code>对象设置参数。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">processXSL</code>使用处理器和<code class="codeph">STYLESHEET</code>对象转换DOM文档。
                              </p>
                           </li>
                           <li>
                              <p>使用PL / SQL DOM API for <code class="codeph">XMLType</code>来操作XSLT处理的结果。
                              </p>
                           </li>
                        </ol>
                        <p><a href="PLSQL-APIs-for-XMLType.html#GUID-0C886A80-A2C1-4E02-8E80-B13D577F4AC3__BEIFDEJB">例11-10</a>使用过程<code class="codeph">processXSL</code>转换XML文档。它使用相同的解析器实例来创建两个不同的DOM文档：要转换的XML文本和XSLT样式表。创建一个XSL处理器实例，它将样式表应用于源XML以生成新的DOM片段。从该片段创建DOM节点（ <code class="codeph">outnode</code> ），并打印节点内容。使用<code class="codeph">freeDocFrag</code> ， <code class="codeph">freeParser</code>和<code class="codeph">freeProcessor</code>程序分别释放输出DOM片段，解析器和XSLT处理器实例。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-0C886A80-A2C1-4E02-8E80-B13D577F4AC3__BEIFDEJB">
                        <p class="titleinexample">示例11-10使用XSL样式表转换XML文档</p><pre class="pre codeblock"><code>DECLARE indoc VARCHAR2（2000）; xsldoc VARCHAR2（2000）; myParser DBMS_XMLPARSER.parser; indomdoc DBMS_XMLDOM.DOMDocument; xsltdomdoc DBMS_XMLDOM.DOMDocument; xsl DBMS_XSLPROCESSOR.stylesheet; outdomdocf DBMS_XMLDOM.DOMDocumentFragment; outnode DBMS_XMLDOM.DOMNode; proc DBMS_XSLPROCESSOR.processor; buf VARCHAR2（2000）; BEGIN indoc：='&lt;emp&gt; &lt;empno&gt; 1 &lt;/ empno&gt; &lt;fname&gt; robert &lt;/ fname&gt; &lt;lname&gt; smith &lt;/ lname&gt; &lt;sal&gt; 1000 &lt;/ sal&gt; &lt;job&gt; engineer &lt;/ job&gt; &lt;/ EMP&gt;'; xsldoc：='&lt;？xml版本=“1.0”？&gt; &lt;xsl：stylesheet version =“1.0”xmlns：xsl =“http://www.w3.org/1999/XSL/Transform”&gt; &lt;xsl：output encoding =“utf-8”/&gt; &lt;！ -  alphabetizes xml树 - &gt; &lt;xsl：template match =“*”&gt; &lt;xsl：copy&gt; &lt;xsl：apply-templates select =“* | text（）”&gt; &lt;xsl：sort select =“name（。）”data -type =“text”order =“ascending”/&gt; &lt;/ xsl：apply-templates&gt; &lt;/ xsl：copy&gt; &lt;/ xsl：template&gt; &lt;xsl：template match =“text（）”&gt; &lt;xsl：value- of select =“normalize-space（。）”/&gt; &lt;/ xsl：template&gt; &lt;/ xsl：stylesheet&gt;'; myParser：= DBMS_XMLPARSER.newParser; DBMS_XMLPARSER.parseBuffer（myParser，indoc）; indomdoc：= DBMS_XMLPARSER.getDocument（myParser）; DBMS_XMLPARSER.parseBuffer（myParser，xsldoc）; xsltdomdoc：= DBMS_XMLPARSER.getDocument（myParser）; xsl：= DBMS_XSLPROCESSOR.newStyleSheet（xsltdomdoc，''）; proc：= DBMS_XSLPROCESSOR.newProcessor; - 将样式表应用于DOM文档outdomdocf：= DBMS_XSLPROCESSOR.processXSL（proc，xsl，indomdoc）; outnode：= DBMS_XMLDOM.makeNode（outdomdocf）; - 这里可以使用XMLType的PL / SQL DOM API DBMS_XMLDOM.writeToBuffer（outnode，buf）; DBMS_OUTPUT.PUT_LINE（BUF）; DBMS_XMLDOM.freeDocument（indomdoc）; DBMS_XMLDOM.freeDocument（xsltdomdoc）; DBMS_XMLDOM.freeDocFrag（outdomdocf）; DBMS_XMLPARSER.freeParser（myParser）; DBMS_XSLPROCESSOR.freeProcessor（PROC）;结束; /</code></pre><p>这会产生以下输出：</p><pre class="pre codeblock"><code>&lt;emp&gt; &lt;empno&gt; 1 &lt;/ empno&gt; &lt;fname&gt; robert &lt;/ fname&gt; &lt;job&gt; engineer &lt;/ job&gt; &lt;lname&gt; smith &lt;/ lname&gt; &lt;sal&gt; 1000 &lt;/ sal&gt; &lt;/ emp&gt;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="PLSQL-APIs-for-XMLType.html#GUID-0E3358AF-0819-4B17-AF0B-793E96DA5EB9" title="您可以使用PL / SQL包DBMS_XSLPROCESSOR将一个XML文档转换为另一个XML文档，或将XML数据转换为HTML，PDF或其他格式。该包遍历文档的DOM树，并对其应用可扩展样式表语言转换（XSLT）语句以生成转换后的文档。">用于XMLType的PL / SQL XSLT处理器（DBMS_XSLPROCESSOR）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00389.managing-the-oracle-instance.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter provides background information about the Oracle instance and instructions for managing the instance."></meta>
      <meta name="description" content="This chapter provides background information about the Oracle instance and instructions for managing the instance."></meta>
      <title>管理Oracle实例</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="2 Day DBA"></meta>
      <meta property="og:description" content="This chapter provides background information about the Oracle instance and instructions for managing the instance."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="2 Day DBA"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="2-day-dba.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T23:13:13-07:00"></meta>
      <meta name="dcterms.title" content="2 Day DBA"></meta>
      <meta name="dcterms.dateCopyrighted" content="2004, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96197-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-the-network-environment.html" title="Previous" type="text/html"></link>
      <link rel="next" href="managing-database-storage-structures.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADMQS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-the-network-environment.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="managing-database-storage-structures.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">2天DBA</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理Oracle实例</li>
            </ol>
            <a id="GUID-579B4CD1-8A8D-4F6B-BBDF-EEC4DFEC98CD" name="GUID-579B4CD1-8A8D-4F6B-BBDF-EEC4DFEC98CD"></a><a id="ADMQS005"></a>
            
            <h2 id="ADMQS-GUID-579B4CD1-8A8D-4F6B-BBDF-EEC4DFEC98CD" class="sect2"><span class="enumeration_chapter">5</span>管理Oracle实例</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章提供有关Oracle实例的背景信息以及管理实例的说明。</p>
               <p>本章包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="managing-the-oracle-instance.html#GUID-14750ABA-B503-410A-BA61-0536452032EB" title="Oracle数据库系统由Oracle数据库和Oracle实例组成（在Oracle Real Application Clusters环境中，可以有多个实例）。">Oracle实例和实例管理概述</a></p>
                  </li>
                  <li>
                     <p><a href="managing-the-oracle-instance.html#GUID-C2CFFCE3-95F7-4D3D-B388-294DBBF25793" title="本节提供有关可用于启动或关闭Oracle实例的两种方法的说明。">关闭并启动Oracle实例</a></p>
                  </li>
                  <li id="GUID-579B4CD1-8A8D-4F6B-BBDF-EEC4DFEC98CD__CACCGIJH">
                     <p><a href="managing-the-oracle-instance.html#GUID-358561B0-EF88-4092-B447-562E2F7AA209" title="本节提供有关查看数据库的初始化参数设置和修改这些参数的说明。">查看和修改初始化参数</a></p>
                  </li>
                  <li>
                     <p><a href="managing-the-oracle-instance.html#GUID-8BDFF6EB-2EDE-4307-9393-D159E2F1E84F" title="本节提供有关管理Oracle实例内存的背景信息，并包含有关如何调整Oracle实例的内存分配的说明。">管理记忆</a></p>
                  </li>
                  <li>
                     <p><a href="managing-the-oracle-instance.html#GUID-6980EA34-EF9A-46BD-BE45-A84FC9673CDF" title="Oracle示例（OBE）有一系列关于Oracle Database 2 Day DBA指南的系列文章。本OBE将引导您完成本章中的任务，并包含带注释的屏幕截图。">管理Oracle实例：Oracle示例系列</a></p>
                  </li>
               </ul>
            </div><a id="ADMQS051"></a><div class="props_rev_3"><a id="GUID-14750ABA-B503-410A-BA61-0536452032EB" name="GUID-14750ABA-B503-410A-BA61-0536452032EB"></a><h3 id="ADMQS-GUID-14750ABA-B503-410A-BA61-0536452032EB" class="sect3"><span class="enumeration_section">5.1</span> Oracle实例和实例管理概述</h3>
               <div>
                  <p>Oracle数据库系统由Oracle数据库和Oracle实例组成（在Oracle Real Application Clusters环境中，可以有多个实例）。</p>
                  <p><span class="bold">数据库</span>由一组存储用户数据和元数据的磁盘文件组成。<span class="bold">元数据</span>或“有关数据的数据”包括有关数据库的结构，配置和控制信息。
                  </p>
                  <p><a id="d14121e96" class="indexterm-anchor"></a><a id="d14121e100" class="indexterm-anchor"></a><a id="d14121e104" class="indexterm-anchor"></a> <span class="bold">Oracle实例</span> （也称为<span class="bold">数据库实例</span> ）包含对存储数据进行操作的Oracle数据库后台进程集以及这些进程用于执行其工作的共享已分配内存。
                  </p>
                  <p>每个实例都有一个实例ID，也称为系统ID（SID）。由于主机上可能有多个Oracle数据库，每个数据库都有自己的数据文件集，因此必须标识要连接的实例。对于本地连接，可以通过设置操作系统环境变量<code class="codeph">ORACLE_SID</code>和<code class="codeph">ORACLE_HOME</code>标识实例。对于远程连接，可以通过指定网络地址和数据库服务名来标识实例。
                  </p>
                  <p>必须启动Oracle实例才能读取和写入数据库的信息。Oracle实例在收到Oracle Database Configuration Assistant（DBCA）实用程序或<code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> SQL语句的指令后<code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> 。
                  </p>
                  <p>当Oracle实例不可用时，您的数据在数据库中是安全的，但任何用户或应用程序都无法访问它。</p>
                  <p><a id="d14121e134" class="indexterm-anchor"></a><a id="d14121e138" class="indexterm-anchor"></a><a id="d14121e140" class="indexterm-anchor"></a>使用实例初始化参数指定Oracle实例的属性。启动实例时，将读取初始化参数文件，并相应地配置实例。
                  </p>
                  <p><a id="d14121e146" class="indexterm-anchor"></a>本节介绍Oracle实例及其管理的一些概念。它包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="managing-the-oracle-instance.html#GUID-EFF3CCE9-DD06-4755-B2DA-32CDD26F7A18" title="管理Oracle实例包括配置影响Oracle实例基本操作的参数。这些参数称为初始化参数。">关于初始化参数</a></p>
                     </li>
                     <li>
                        <p><a href="managing-the-oracle-instance.html#GUID-9E50C7A8-0230-4074-AD61-2DB17DC2AB78" title="Oracle实例的后台进程管理内存结构，异步执行I / O以将数据写入磁盘上的文件，并执行常规维护任务。">关于后台进程</a></p>
                     </li>
                     <li>
                        <p><a href="managing-the-oracle-instance.html#GUID-615AC224-FAEB-43C6-8A3E-B776B3A90534" title="除后台进程外，Oracle数据库还会创建处理用户或客户端进程的连接请求的服务器进程。">关于服务器和客户端进程</a></p>
                     </li>
                     <li>
                        <p><a href="managing-the-oracle-instance.html#GUID-5B7510F1-C811-4B74-A847-7C9D67CA933E" title="实例内存结构的大小会影响数据库性能，并由初始化参数控制。">关于实例内存结构</a></p>
                     </li>
                     <li>
                        <p><a href="managing-the-oracle-instance.html#GUID-B77B8907-632A-4CF4-BA61-B17EF62E64BC" title="安装后，将启动Oracle实例，并打开数据库以供具有数据库帐户的用户访问。在某些时候，您可能希望关闭并重新启动实例。">关于实例启动和关闭</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-14750ABA-B503-410A-BA61-0536452032EB__GUID-E75CF23D-00A8-4C20-8C4E-C11188DC094D">
                     <p class="notep1">也可以看看：</p>
                     <p>有关Oracle数据库实例概述的<a href="../cncpt/oracle-instance-architecture.html#CNCPT89030" target="_blank"><span><cite>Oracle数据库概念</cite></span></a></p>
                  </div>
               </div><a id="ADMQS0511"></a><div class="props_rev_3"><a id="GUID-EFF3CCE9-DD06-4755-B2DA-32CDD26F7A18" name="GUID-EFF3CCE9-DD06-4755-B2DA-32CDD26F7A18"></a><h4 id="ADMQS-GUID-EFF3CCE9-DD06-4755-B2DA-32CDD26F7A18" class="sect4"><span class="enumeration_section">5.1.1</span>关于初始化参数</h4>
                  <div>
                     <div><span>管理Oracle实例包括配置影响Oracle实例基本操作的参数。这些参数称为初始化参数。</span> Oracle实例在启动时从文件中读取初始化参数。
                     </div>
                     <p>在安装期间，当您选择Database Configuration Assistant（DBCA）中提供的预配置数据库工作负载时，初始化参数将针对您指定的环境中的典型用途进行优化。随着数据库用户数量的增加和工作负载的增加，您可能必须更改一些初始化参数。您可以使用Oracle Enterprise Manager Database Express（EM Express）中的“初始化参数”页面，或使用Oracle数据库提供的顾问程序（如Memory Advisor）进行这些更改。有关详细信息，请参阅<span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-9EC479AF-E92A-4868-9D0E-156D7F7B64AB" title="本节包含有关内存顾问的信息。">使用Memory Advisors优化内存使用情况</a> ”</span> 。
                     </p>
                     <p>从文件中读取后，初始化参数将保留在内存中，其中许多参数值可以动态更改。有两种类型的参数文件。用于启动实例的文件类型确定动态初始化参数更改是否在数据库关闭和启动期间持续存在。参数文件类型是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>服务器参数文件</p>
                           <p><span class="bold">服务器参数文件</span> （通常称为SPFILE）是初始化参数文件的首选形式，是一个可以写入数据库并由数据库读取的二进制文件。<span class="italic">不得</span>手动编辑。它存储在运行Oracle数据库的主机上。使用EM Express或SQL * Plus修改一个或多个初始化参数时，或者Oracle数据库本身为自我调整目的进行更改时，会进行更改。对数据库关闭和启动操作的任何更改都会持续存在。
                           </p>
                           <div class="infoboxnote" id="GUID-EFF3CCE9-DD06-4755-B2DA-32CDD26F7A18__GUID-C60A981B-D771-4870-AE0C-EB2AF3C8E699">
                              <p class="notep1">注意：</p>
                              <p>更改服务器参数文件中的初始化参数时，还可以指定更改内存中的值，以便您的更改立即反映在当前实例中。如果不更改内存中的值，则在关闭并重新启动数据库之前，更改不会生效。</p>
                           </div>
                        </li>
                        <li>
                           <p>文本初始化参数文件</p>
                           <p><span class="bold">文本初始化参数文件</span>是可以由Oracle实例读取的文本文件，但实例不会写入该文件。您可以使用文本编辑器更改文本初始化参数文件，但更改只有在重新启动Oracle实例后才会生效。使用此类型的文件启动实例时，仍可以使用EM Express动态更改许多初始化参数，但仅适用于当前实例。除非您还编辑文本初始化参数文件并进行相同的更改，否则重新启动数据库实例时更改将丢失。
                           </p>
                        </li>
                     </ul>
                     <p>您可以使用SQL语句创建以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>来自文本初始化文件的服务器参数文件</p>
                        </li>
                        <li>
                           <p>来自所有初始化参数的当前（内存中）值的服务器参数文件</p>
                        </li>
                        <li>
                           <p>来自服务器参数文件的文本初始化参数文件</p>
                        </li>
                     </ul>
                     <p>使用DBCA创建数据库时，将创建服务器参数文件。然后每次启动数据库时都使用此文件。</p>
                     <div class="infoboxnotealso" id="GUID-EFF3CCE9-DD06-4755-B2DA-32CDD26F7A18__GUID-AD2F38CF-97B6-4012-8549-E85879C60EA2">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="managing-the-oracle-instance.html#GUID-358561B0-EF88-4092-B447-562E2F7AA209" title="本节提供有关查看数据库的初始化参数设置和修改这些参数的说明。">查看和修改初始化参数</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN00202" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关服务器参数文件的默认名称和位置的信息，以及用于创建服务器参数文件或文本初始化参数文件的命令的信息</p>
                           </li>
                           <li>
                              <p>有关参数文件概述的<a href="../cncpt/oracle-database-instance.html#CNCPT1290" target="_blank"><span><cite>Oracle数据库概念</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADMQS12329"></a><a id="ADMQS0513"></a><div class="props_rev_3"><a id="GUID-9E50C7A8-0230-4074-AD61-2DB17DC2AB78" name="GUID-9E50C7A8-0230-4074-AD61-2DB17DC2AB78"></a><h4 id="ADMQS-GUID-9E50C7A8-0230-4074-AD61-2DB17DC2AB78" class="sect4"><span class="enumeration_section">5.1.2</span>关于后台进程</h4>
                  <div>
                     <div><span>Oracle实例的后台进程管理内存结构，异步执行I / O以将数据写入磁盘上的文件，并执行常规维护任务。</span> 后台进程整合了由每个用户进程运行的多个Oracle数据库程序处理的函数。它们监视其他Oracle数据库进程，以提供更高的并行性，从而提高性能和可靠性。
                     </div>
                     <p>存在的后台进程取决于数据库中使用的功能。<a href="managing-the-oracle-instance.html#GUID-9E50C7A8-0230-4074-AD61-2DB17DC2AB78__CIAFCDCF" title="此表列出并描述了Oracle后台进程。">表5-1</a>中描述了一些基本的后台进程。
                     </p>
                     <div class="tblformal" id="GUID-9E50C7A8-0230-4074-AD61-2DB17DC2AB78__CIAFCDCF">
                        <p class="titleintable">表5-1 Oracle数据库后台进程</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle数据库后台进程" width="100%" border="1" summary="This table lists and describes Oracle background processes." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d14121e358">背景过程</th>
                                 <th align="left" valign="bottom" id="d14121e361">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14121e366" headers="d14121e358 ">
                                    <p><a id="d14121e368" class="indexterm-anchor"></a><a id="d14121e372" class="indexterm-anchor"></a>数据库编写器（DBWn）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14121e366 d14121e361 ">
                                    <p>数据库写程序将修改后的块从数据库缓冲区高速缓存写入磁盘上的文件。Oracle数据库最多允许36个数据库写程序进程。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14121e379" headers="d14121e358 ">
                                    <p><a id="d14121e381" class="indexterm-anchor"></a><a id="d14121e385" class="indexterm-anchor"></a>日志写入器（LGWR）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14121e379 d14121e361 ">
                                    <p>日志写入器进程将重做日志条目写入磁盘。重做日志条目在系统全局区域（SGA）的重做日志缓冲区中生成，并且日志写入器进程将重做日志条目按顺序写入联机重做日志文件。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14121e392" headers="d14121e358 ">
                                    <p><a id="d14121e394" class="indexterm-anchor"></a><a id="d14121e398" class="indexterm-anchor"></a>检查站（CKPT）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14121e392 d14121e361 ">
                                    <p><a id="d14121e403" class="indexterm-anchor"></a><a id="d14121e407" class="indexterm-anchor"></a>在特定时间，SGA中的所有已修改数据库缓冲区都由数据库写入器进程（DBW <span class="italic">n</span> ）写入数据文件。此事件称为<span class="bold">检查点</span> 。检查点进程向DBW <span class="italic">n</span>发送信号，更新数据文件和控制数据库文件，并记录此更新的时间。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14121e420" headers="d14121e358 ">
                                    <p><a id="d14121e422" class="indexterm-anchor"></a><a id="d14121e426" class="indexterm-anchor"></a>系统监视器（SMON）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14121e420 d14121e361 ">
                                    <p>重新启动失败的实例时，系统监视器将执行实例恢复。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14121e433" headers="d14121e358 ">
                                    <p><a id="d14121e435" class="indexterm-anchor"></a><a id="d14121e439" class="indexterm-anchor"></a>过程监控器（PMON）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14121e433 d14121e361 ">
                                    <p>当用户进程失败时，进程监视器执行恢复。它清理缓存并释放失败进程正在使用的资源。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14121e446" headers="d14121e358 ">
                                    <p><a id="d14121e448" class="indexterm-anchor"></a><a id="d14121e452" class="indexterm-anchor"></a> Archiver（ARCn）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14121e446 d14121e361 ">
                                    <p>当日志文件已满或发生日志切换时，Archiver进程会将联机重做日志文件复制到归档存储。数据库必须处于归档日志模式才能运行归档进程。有关更多信息，请参阅<span class="q">“ <a href="performing-backup-and-recovery.html#GUID-C6EEB732-9548-4814-8558-8B903DD74759" title="本章将向您介绍使用Oracle Recovery Manager（RMAN）进行Oracle数据库备份和恢复。阅读本章后，您应熟悉Oracle数据库备份和恢复操作的基本概念，了解如何实施基于磁盘的备份策略，以及对数据库文件执行简单修复。">执行备份和恢复</a> ”</span> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14121e466" headers="d14121e358 ">
                                    <p><a id="d14121e468" class="indexterm-anchor"></a><a id="d14121e472" class="indexterm-anchor"></a>可管理性监视器（MMON）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14121e466 d14121e361 ">
                                    <p>此过程执行各种与管理相关的后台任务，例如：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>每当给定指标违反其阈值时发出警报</p>
                                       </li>
                                       <li>
                                          <p>通过生成其他进程来拍摄快照</p>
                                       </li>
                                       <li>
                                          <p>捕获最近修改过的SQL对象的统计值</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14121e489" headers="d14121e358 ">
                                    <p>作业队列进程（CJQ0和Jnnn）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14121e489 d14121e361 ">
                                    <p>作业队列进程通常以批处理模式运行用户作业。<span class="bold">作业</span>是计划运行一次或多次的用户定义任务。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-9E50C7A8-0230-4074-AD61-2DB17DC2AB78__GUID-4FDBA30B-92DC-4C22-843B-2BF27CF46A07">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../refrn/background-processes.html#REFRN104" target="_blank"><span><cite>Oracle数据库参考</cite></span></a> ，以获取Oracle数据库后台进程的完整列表</p>
                           </li>
                           <li>
                              <p><a href="../cncpt/process-architecture.html#CNCPT1249" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> ，了解后台进程概述</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADMQS05142"></a><div class="props_rev_3"><a id="GUID-615AC224-FAEB-43C6-8A3E-B776B3A90534" name="GUID-615AC224-FAEB-43C6-8A3E-B776B3A90534"></a><h4 id="ADMQS-GUID-615AC224-FAEB-43C6-8A3E-B776B3A90534" class="sect4"><span class="enumeration_section">5.1.3</span>关于服务器和客户端进程</h4>
                  <div>
                     <div><span>除后台进程外，Oracle数据库还会创建处理用户或客户端进程的连接请求的服务器进程。</span> 用户连接由以下不同部分组成：</div>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>代表用户执行的客户端程序，例如Oracle Enterprise Manager（企业管理器），SQL * Plus或应用程序</p>
                        </li>
                        <li>
                           <p>一个服务器进程，代表客户端程序处理与数据库的连接，并为客户端程序执行大部分工作，例如解析和运行SQL语句，以及检索结果并将结果返回给客户端程序</p>
                        </li>
                     </ul>
                     <p>服务器<a id="d14121e557" class="indexterm-anchor"></a><a id="d14121e559" class="indexterm-anchor"></a>流程可以是专用的也可以是共享的。当服务器进程专用时，Oracle数据库以<span class="bold">专用服务器模式运行</span> 。共享服务器进程时，Oracle数据库以<span class="bold">共享服务器模式运行</span> 。在专用服务器模式下，每个客户端进程都有自己的服务器进程。虽然专用服务器进程适用于长时间运行的查询和管理任务，但空闲进程或太多专用进程可能导致资源使用效率低下。
                     </p>
                     <p>使用共享服务器模式消除了对每个用户连接的专用服务器进程的需要，每个用户连接需要更少的内存，并允许更多用户访问数据库。共享服务器模式更有效地支持多个客户端程序进行频繁的短期运行查询。</p>
                  </div>
               </div><a id="ADMQS0512"></a><div class="props_rev_3"><a id="GUID-5B7510F1-C811-4B74-A847-7C9D67CA933E" name="GUID-5B7510F1-C811-4B74-A847-7C9D67CA933E"></a><h4 id="ADMQS-GUID-5B7510F1-C811-4B74-A847-7C9D67CA933E" class="sect4"><span class="enumeration_section">5.1.4</span>关于实例内存结构</h4>
                  <div>
                     <p>实例内存结构的大小会影响数据库性能，并由初始化参数控制。</p>
                     <p><a id="d14121e605" class="indexterm-anchor"></a>安装后，您可以让数据库自动为您管理内存，也可以选择手动配置实例内存结构。如果选择手动内存管理，则Oracle数据库会提供顾问程序以帮助您确定内存参数的适当值。
                     </p>
                     <p>以下部分描述了可以监视和调整的两个重要内存区域：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="managing-the-oracle-instance.html#GUID-A3319550-AB7A-4429-9A58-4B90E4B3D0F5" title="系统全局区域（SGA）是一组共享内存结构，称为SGA组件，包含一个Oracle数据库实例的数据和控制信息。SGA由所有服务器和后台进程共享。">系统全球区</a></p>
                        </li>
                        <li>
                           <p><a href="managing-the-oracle-instance.html#GUID-78E9CAFD-D0AD-4E2E-9B73-D2AA1CF22772" title="程序全局区域（PGA）是包含服务器进程的数据和控制信息的存储区域。">计划全球区域</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-5B7510F1-C811-4B74-A847-7C9D67CA933E__GUID-A8EFA9B2-4E53-45BD-87A6-C454F113DF83">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="managing-the-oracle-instance.html#GUID-8BDFF6EB-2EDE-4307-9393-D159E2F1E84F" title="本节提供有关管理Oracle实例内存的背景信息，并包含有关如何调整Oracle实例的内存分配的说明。">管理记忆</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关Oracle数据库内存体系结构的更多信息，请参见<a href="../admin/managing-memory.html#ADMIN11198" target="_blank"><span><cite>“</cite></span></a> <a href="../cncpt/memory-architecture.html#CNCPT007" target="_blank"><span><cite>Oracle数据库概念”</cite></span></a>和“ <a href="../admin/managing-memory.html#ADMIN11198" target="_blank"><span><cite>Oracle数据库管</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="ADMQS12330"></a><a id="ADMQS05121"></a><div class="props_rev_3"><a id="GUID-A3319550-AB7A-4429-9A58-4B90E4B3D0F5" name="GUID-A3319550-AB7A-4429-9A58-4B90E4B3D0F5"></a><h5 id="ADMQS-GUID-A3319550-AB7A-4429-9A58-4B90E4B3D0F5" class="sect5"><span class="enumeration_section">5.1.4.1</span>系统全局区域</h5>
                     <div>
                        <div><span>系统全局区域（SGA）是一组共享内存结构，称为SGA组件，包含一个Oracle数据库实例的数据和控制信息。SGA由所有服务器和后台进程共享。</span> 存储在SGA中的数据的示例包括高速缓存的数据块和共享的SQL区域。
                        </div>
                        <p><a id="d14121e692" class="indexterm-anchor"></a> <a href="managing-the-oracle-instance.html#GUID-A3319550-AB7A-4429-9A58-4B90E4B3D0F5__BBAFBHEI" title="该表列出并描述了SGA组件。">表5-2</a>列出了SGA的组件。</p>
                        <div class="tblformal" id="GUID-A3319550-AB7A-4429-9A58-4B90E4B3D0F5__BBAFBHEI">
                           <p class="titleintable">表5-2 SGA组件</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SGA组件" width="100%" border="1" summary="This table lists and describes SGA components." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d14121e711">零件</th>
                                    <th align="left" valign="bottom" id="d14121e714">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d14121e719" headers="d14121e711 ">
                                       <p>数据库缓冲缓存</p>
                                    </td>
                                    <td align="left" valign="top" headers="d14121e719 d14121e714 ">
                                       <p>在可以查询或修改存储在数据库中的数据之前，必须从磁盘读取数据并将其存储在缓冲区高速缓存中。连接到数据库的所有用户进程共享对缓冲区高速缓存的访问。为获得最佳性能，缓冲区缓存应足够大，以避免频繁的磁盘I / O操作。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d14121e726" headers="d14121e711 ">
                                       <p>共享池</p>
                                    </td>
                                    <td align="left" valign="top" headers="d14121e726 d14121e714 ">
                                       <p>共享池缓存用户之间共享的信息：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>可以重用的SQL语句</p>
                                          </li>
                                          <li>
                                             <p>来自数据字典的信息，例如用户帐户数据，表和索引描述以及权限</p>
                                          </li>
                                          <li>
                                             <p>存储过程，是存储在数据库中的可执行代码</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d14121e743" headers="d14121e711 ">
                                       <p>重做日志缓冲区</p>
                                    </td>
                                    <td align="left" valign="top" headers="d14121e743 d14121e714 ">
                                       <p>此缓冲区通过缓存重做信息来提高性能，直到可以将其写入存储在磁盘上的物理联机重做日志文件。<span class="q">“ <a href="managing-database-storage-structures.html#GUID-AC77A1A5-6633-4F21-BD82-CC75C660EC40" title="每个Oracle数据库都有一组两个或多个联机重做日志文件。联机重做日志文件集合统称为数据库的重做日志。">关于联机重做日志文件</a> ”</span>中讨论了重做信息和联机重做日志文件。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d14121e760" headers="d14121e711 ">
                                       <p>大型游泳池</p>
                                    </td>
                                    <td align="left" valign="top" headers="d14121e760 d14121e714 ">
                                       <p>此可选区域用于缓冲各种服务器进程的大I / O请求。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d14121e767" headers="d14121e711 ">
                                       <p>记忆区</p>
                                    </td>
                                    <td align="left" valign="top" headers="d14121e767 d14121e714 ">
                                       <p>此可选组件包含内存中列存储（IM列存储）。</p>
                                       <p>IM列存储包含以快速扫描优化的柱状格式的表，分区和物化视图的副本。IM列存储库补充了数据库缓冲区缓存，它以传统的行格式存储数据。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d14121e776" headers="d14121e711 ">
                                       <p>Memoptimize Pool</p>
                                    </td>
                                    <td align="left" valign="top" headers="d14121e776 d14121e714 ">
                                       <p>此可选组件包含用于MEMOPTIMIZE FOR READ功能的缓冲区，用于快速查找。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d14121e783" headers="d14121e711 ">
                                       <p>Java池</p>
                                    </td>
                                    <td align="left" valign="top" headers="d14121e783 d14121e714 ">
                                       <p>Java池是一个内存区域，用于Java虚拟机（JVM）中的所有特定于会话的Java代码和数据。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d14121e790" headers="d14121e711 ">
                                       <p>溪流池</p>
                                    </td>
                                    <td align="left" valign="top" headers="d14121e790 d14121e714 ">
                                       <p>Streams池是Oracle Replication功能使用的内存区域。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d14121e797" headers="d14121e711 ">
                                       <p>结果缓存</p>
                                    </td>
                                    <td align="left" valign="top" headers="d14121e797 d14121e714 ">
                                       <p>结果缓存缓存查询结果。如果运行结果存储在结果缓存中的查询，则数据库将从结果缓存中返回查询结果，而不是重新运行查询。此SGA组件可加快频繁运行查询的执行速度。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-A3319550-AB7A-4429-9A58-4B90E4B3D0F5__GUID-5490C3F3-C9FB-4ED6-B151-86E35E5AB465">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="managing-the-oracle-instance.html#GUID-5B7510F1-C811-4B74-A847-7C9D67CA933E" title="实例内存结构的大小会影响数据库性能，并由初始化参数控制。">关于实例内存结构</a> ”</span></p>
                              </li>
                              <li>
                                 <p>有关SGA的更多信息，请参见<a href="../cncpt/memory-architecture.html#CNCPT802" target="_blank"><span><cite>Oracle数据库概念</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关内存区域的更多信息，请<a href="../inmem/in-memory-column-store-architecture.html#INMEM-GUID-EEA265EE-8FBA-4457-8C3F-315B9EEA2224" target="_blank"><span><cite>参见“Oracle数据库内存指南”</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="../tgdba/tuning-system-global-area.html#TGDBA-GUID-9752E93D-55A7-4584-B09B-9623B33B5CCF" target="_blank"><span><cite>Oracle数据库性能调整指南</cite></span></a> ，了解有关Memoptimize Pool和MEMOPTIMIZE FOR READ功能的更多信息，以便快速查找</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="ADMQS05122"></a><div class="props_rev_3"><a id="GUID-78E9CAFD-D0AD-4E2E-9B73-D2AA1CF22772" name="GUID-78E9CAFD-D0AD-4E2E-9B73-D2AA1CF22772"></a><h5 id="ADMQS-GUID-78E9CAFD-D0AD-4E2E-9B73-D2AA1CF22772" class="sect5"><span class="enumeration_section">5.1.4.2</span>全球计划领域</h5>
                     <div>
                        <div><span><span class="bold">程序全局区域（PGA）</span>是包含服务器进程的数据和控制信息的存储区域。</span> 它是服务器进程启动时由Oracle数据库创建的非共享内存。访问PGA是服务器进程独有的。每个服务器进程都有一个PGA。后台进程还分配自己的PGA。为连接到Oracle数据库实例的所有后台和服务器进程分配的总PGA内存称为<span class="bold">总实例PGA内存</span> ，所有单个PGA的集合称为<span class="bold">总实例PGA</span> ，或仅称为<span class="bold">实例PGA</span> 。</div>
                        <p>使用的PGA内存量和PGA的内容取决于实例是以专用服务器还是共享服务器模式运行。</p>
                        <p>PGA用于处理SQL语句并保存登录和其他会话信息。PGA的很大一部分专用于<span class="bold">SQL工作区</span> ，这些区域是用于排序和其他SQL操作的工作内存区域。
                        </p>
                        <div class="infoboxnotealso" id="GUID-78E9CAFD-D0AD-4E2E-9B73-D2AA1CF22772__GUID-E10406D6-F203-4166-AC54-4F190B109CDE">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关专用服务器和共享服务器模式的详细信息，请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-615AC224-FAEB-43C6-8A3E-B776B3A90534" title="除后台进程外，Oracle数据库还会创建处理用户或客户端进程的连接请求的服务器进程。">关于服务器和客户端进程</a> ”</span></p>
                              </li>
                              <li>
                                 <p>有关PGA的更多信息，请参见<a href="../cncpt/memory-architecture.html#CNCPT803" target="_blank"><span><cite>Oracle数据库概念</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="ADMQS0514"></a><div class="props_rev_3"><a id="GUID-B77B8907-632A-4CF4-BA61-B17EF62E64BC" name="GUID-B77B8907-632A-4CF4-BA61-B17EF62E64BC"></a><h4 id="ADMQS-GUID-B77B8907-632A-4CF4-BA61-B17EF62E64BC" class="sect4"><span class="enumeration_section">5.1.5</span>关于实例启动和关闭</h4>
                  <div>
                     <div><span>安装后，将启动Oracle实例，并打开数据库以供具有数据库帐户的用户访问。在某些时候，您可能希望关闭并重新启动实例。</span> 本节介绍启动和关闭过程。
                     </div>
                     <p>“启动和关闭Oracle实例”这两个短语经常与“启动和关闭数据库”互换使用。</p>
                     <p>本节包含以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="managing-the-oracle-instance.html#GUID-1F5838DC-57B2-4690-BB70-D8E8ECF179D5" title="要启动或关闭Oracle实例，必须使用特殊连接权限连接到实例。">关于启动和关闭的管理权限</a></p>
                        </li>
                        <li>
                           <p><a href="managing-the-oracle-instance.html#GUID-4C4D478C-3C3D-420D-9BD6-CBF96A04EFA3" title="启动Oracle实例时，通常启动它以使数据库的状态为OPEN并为用户连接做好准备。">关于实例启动</a></p>
                        </li>
                        <li>
                           <p><a href="managing-the-oracle-instance.html#GUID-8BF59F32-016F-44DE-9BCA-C2BCCE8A95FB" title="实例关闭与实例启动相反。关闭Oracle实例时，默认模式为NORMAL关闭，这意味着不允许用户创建与数据库的新连接，但关闭过程会等待所有当前连接的用户退出其会话。">关于实例关闭</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-B77B8907-632A-4CF4-BA61-B17EF62E64BC__GUID-1A98C141-5E6A-45A4-9627-F94D2FB14E7C">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="managing-the-oracle-instance.html#GUID-C2CFFCE3-95F7-4D3D-B388-294DBBF25793" title="本节提供有关可用于启动或关闭Oracle实例的两种方法的说明。">关闭并启动Oracle实例</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../cncpt/oracle-database-instance.html#CNCPT955" target="_blank"><span><cite>Oracle数据库概念</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="ADMQS05141"></a><div class="props_rev_3"><a id="GUID-1F5838DC-57B2-4690-BB70-D8E8ECF179D5" name="GUID-1F5838DC-57B2-4690-BB70-D8E8ECF179D5"></a><h5 id="ADMQS-GUID-1F5838DC-57B2-4690-BB70-D8E8ECF179D5" class="sect5"><span class="enumeration_section">5.1.5.1</span>关于启动和关闭的管理权限</h5>
                     <div>
                        <div><span>要启动或关闭Oracle实例，必须使用特殊连接权限连接到实例。</span> 这些权限有两个： <code class="codeph">SYSDBA</code>用于完全授权的数据库管理员， <code class="codeph">SYSOPER</code>用于启动和关闭数据库但没有访问用户对象权限的用户。
                        </div>
                        <p>创建Oracle数据库时，会自动创建两个主要的管理用户帐户： <code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code> 。这两个用户都具有完全数据库管理权限，但最初，只有用户<code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code>才能使用<code class="codeph">SYSOPER</code>权限进行连接。因此，在将<code class="codeph">SYSOPER</code>权限授予其他用户之前，必须以<code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code>用户身份连接到Oracle实例以启动和关闭实例。以用户<code class="codeph">SYS</code>连接（登录）时，必须始终指定要连接<code class="codeph">AS</code> <code class="codeph">SYSDBA</code> 。</p>
                        <div class="infoboxnotealso" id="GUID-1F5838DC-57B2-4690-BB70-D8E8ECF179D5__GUID-01BA3296-6FAA-4377-8DDA-AB19087E7459">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code>用户以及<code class="codeph">SYSDBA</code>权限的详细信息，请参阅<span class="q">“ <a href="administering-user-accounts-and-security.html#GUID-3C78F89D-3616-48FA-B2B8-CE6988D78939" title="管理帐户和权限使您可以执行管理功能，例如管理用户，管理数据库内存以及启动和关闭数据库。">关于管理帐户和权限</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="administering-user-accounts-and-security.html#GUID-CF1CD853-AF15-41EC-BC80-61918C73FDB5" title="安装Oracle数据库时会自动创建SYS和SYSTEM管理用户帐户。它们都是使用您在安装时提供的密码创建的，并且它们都自动被授予DBA角色。">SYS和SYSTEM用户</a> ”</span> ，了解有关使用<code class="codeph">SYSTEM</code>帐户进行日常管理任务的建议替代方法的信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="ADMQS05144"></a><div class="props_rev_3"><a id="GUID-4C4D478C-3C3D-420D-9BD6-CBF96A04EFA3" name="GUID-4C4D478C-3C3D-420D-9BD6-CBF96A04EFA3"></a><h5 id="ADMQS-GUID-4C4D478C-3C3D-420D-9BD6-CBF96A04EFA3" class="sect5"><span class="enumeration_section">5.1.5.2</span>关于实例启动</h5>
                     <div>
                        <div><span>启动Oracle实例时，通常启动它以使数据库的状态为<code class="codeph">OPEN</code>并为用户连接做好准备。</span> 但是，在某些情况下，您可能希望在数据库处于<code class="codeph">MOUNTED</code>状态的情况下启动实例，但不能打开。也可以在没有安装或打开数据库的情况下启动实例。因此，启动实例有三个阶段：</div>
                        <ol>
                           <li>
                              <p>您使用以下方法之一启动实例：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>使用SQL * Plus <code class="codeph">STARTUP</code>命令。请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-CE7EF896-BB8A-4D4F-869C-BF4FE0D85470" title="您可以使用SQL * Plus关闭并启动Oracle实例。">使用SQL * Plus关闭和启动</a> ”</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>在Microsoft Windows上，使用“控制面板”中的“服务”程序启动Oracle数据库服务。请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-06A0DC57-50BC-453F-8E81-FF2DEDF93467" title="在Microsoft Windows上，您还可以使用“控制面板”中的“服务”程序启动和关闭Oracle数据库。">使用Windows服务程序关闭和启动</a> ”</span> 。
                                    </p>
                                 </li>
                              </ul>
                              <p>实例读取初始化参数文件，分配系统全局区域（SGA）内存，并启动后台进程。</p>
                           </li>
                           <li>
                              <p>如果装入数据库，则Oracle实例将打开数据库的控制文件，但不会打开数据文件。现在认为数据库处于<code class="codeph">MOUNT</code>状态。此状态使您可以执行某些管理功能，这些功能在其他用户访问数据库时无法执行。此类功能的一个示例是启用或禁用联机重做日志文件的归档。有关联机重做日志文件归档的信息，请参阅<span class="q">“ <a href="managing-database-storage-structures.html#GUID-0797E509-E7D7-4069-A2CB-AE01FA7A45B0" title="启用联机重做日志的归档后，Oracle数据库会将联机重做日志文件复制到其他位置，然后再覆盖它们。这些复制的文件称为归档重做日志文件。">关于归档重做日志文件</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>如果打开数据库，则在读取参数文件和控制文件后，还会打开数据库的联机重做日志文件和数据文件。数据库的状态现在是<code class="codeph">OPEN</code> ，用户可以访问数据。
                              </p>
                           </li>
                        </ol>
                        <p>数据库的默认启动模式（OPEN）按顺序完成三个阶段。除非您另行明确指定，否则将启动实例，装入数据库，然后打开数据库。</p>
                     </div>
                  </div><a id="ADMQS05145"></a><div class="props_rev_3"><a id="GUID-8BF59F32-016F-44DE-9BCA-C2BCCE8A95FB" name="GUID-8BF59F32-016F-44DE-9BCA-C2BCCE8A95FB"></a><h5 id="ADMQS-GUID-8BF59F32-016F-44DE-9BCA-C2BCCE8A95FB" class="sect5"><span class="enumeration_section">5.1.5.3</span>关于实例关闭</h5>
                     <div>
                        <div><span>实例关闭与实例启动相反。关闭Oracle实例时，默认模式为<code class="codeph">NORMAL</code>关闭，这意味着不允许用户创建与数据库的新连接，但关闭过程会等待所有当前连接的用户退出其会话。</span> 在所有用户断开连接后，将已提交的事务写入磁盘，关闭数据库文件，并停止实例。但是，在某些情况下，您可能不希望等待用户自行断开连接（ <code class="codeph">IMMEDIATE</code>模式），或者您希望在断开连接之前让每个用户的当前事务完成（ <code class="codeph">TRANSACTIONAL</code>模式）。在紧急情况下，您甚至可以关闭数据库，而无需等待已提交的事务写入磁盘（ <code class="codeph">ABORT</code>模式）。
                        </div>
                        <p>关闭实例将经历以下阶段：</p>
                        <ol>
                           <li>
                              <p>在所有用户退出会话或断开连接后，Oracle数据库会将系统全局区域（SGA）中的数据写入数据文件和联机重做日志文件。对数据文件执行检查点，并且它们的标头在实例关闭时标记为当前。然后关闭数据文件和联机重做日志文件，并将数据库的状态更改为<code class="codeph">CLOSED</code> 。控件文件对实例保持打开状态。
                              </p>
                           </li>
                           <li>
                              <p>Oracle实例卸载数据库并更新控制文件中的相关条目以记录干净关闭。控制文件已关闭。数据库现已关闭并卸载。该实例处于<code class="codeph">NOMOUNT</code>状态。
                              </p>
                           </li>
                           <li>
                              <p>Oracle实例停止后台进程并释放SGA使用的共享内存。</p>
                           </li>
                        </ol>
                        <p>如果发生<code class="codeph">SHUTDOWN ABORT</code>或异常终止，则打开数据库的实例将立即关闭并关闭数据库。Oracle数据库不会将SGA缓冲区中的数据写入数据文件和重做日志文件。随后重新打开数据库需要实例恢复，Oracle Database会自动执行该实例。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="ADMQS052"></a><div class="props_rev_3"><a id="GUID-C2CFFCE3-95F7-4D3D-B388-294DBBF25793" name="GUID-C2CFFCE3-95F7-4D3D-B388-294DBBF25793"></a><h3 id="ADMQS-GUID-C2CFFCE3-95F7-4D3D-B388-294DBBF25793" class="sect3"><span class="enumeration_section">5.2</span>关闭并启动Oracle实例</h3>
               <div>
                  <p>本节提供有关可用于启动或关闭Oracle实例的两种方法的说明。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="managing-the-oracle-instance.html#GUID-CE7EF896-BB8A-4D4F-869C-BF4FE0D85470" title="您可以使用SQL * Plus关闭并启动Oracle实例。">使用SQL * Plus关闭和启动</a></p>
                     </li>
                     <li>
                        <p><a href="managing-the-oracle-instance.html#GUID-06A0DC57-50BC-453F-8E81-FF2DEDF93467" title="在Microsoft Windows上，您还可以使用“控制面板”中的“服务”程序启动和关闭Oracle数据库。">使用Windows服务程序关闭和启动</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-C2CFFCE3-95F7-4D3D-B388-294DBBF25793__GUID-CE606020-8B38-43A9-AF4A-8E055C70A727">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="managing-the-oracle-instance.html#GUID-B77B8907-632A-4CF4-BA61-B17EF62E64BC" title="安装后，将启动Oracle实例，并打开数据库以供具有数据库帐户的用户访问。在某些时候，您可能希望关闭并重新启动实例。">关于实例启动和关闭</a> ”</span></p>
                  </div>
               </div><a id="ADMQS12152"></a><a id="ADMQS12037"></a><div class="props_rev_3"><a id="GUID-CE7EF896-BB8A-4D4F-869C-BF4FE0D85470" name="GUID-CE7EF896-BB8A-4D4F-869C-BF4FE0D85470"></a><h4 id="ADMQS-GUID-CE7EF896-BB8A-4D4F-869C-BF4FE0D85470" class="sect4"><span class="enumeration_section">5.2.1</span>使用SQL * Plus关闭和启动</h4>
                  <div>
                     <p>您可以使用SQL * Plus关闭并启动Oracle实例。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CE7EF896-BB8A-4D4F-869C-BF4FE0D85470__GUID-4C06954E-0BE5-460E-A5E6-4B3D134DB0A4">要使用SQL * Plus关闭并启动Oracle实例，请执行以下操作：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>启动SQL * Plus并连接到数据库。</span><div>
                              <p>请参阅<span class="q">“ <a href="configuring-the-network-environment.html#GUID-1A15D322-B3AC-426A-86A1-EB7590930687" title="本节介绍如何使用SQL * Plus和简单连接命名方法从客户端计算机连接到Oracle数据库。">从客户端计算机连接到Oracle数据库</a> ”</span> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>发出SQL * Plus <code class="codeph">SHUTDOWN</code>命令：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SHUTDOWN</pre><p>数据库实例已关闭。</p>
                              <p><code class="codeph">SHUTDOWN</code>命令的<code class="codeph">NORMAL</code>子句是可选的，因为这是默认的关闭方法。
                              </p>
                              <p>有关何时使用其他<code class="codeph">SHUTDOWN</code>命令选项的详细信息，请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-8BF59F32-016F-44DE-9BCA-C2BCCE8A95FB" title="实例关闭与实例启动相反。关闭Oracle实例时，默认模式为NORMAL关闭，这意味着不允许用户创建与数据库的新连接，但关闭过程会等待所有当前连接的用户退出其会话。">关于实例关闭</a> ”</span> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>通过发出SQL * Plus <code class="codeph">STARTUP</code>命令重新启动数据库：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; STARTUP</pre><p>数据库实例重新启动。</p>
                              <p>有关何时使用其他<code class="codeph">STARTUP</code>命令选项的详细信息，请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-4C4D478C-3C3D-420D-9BD6-CBF96A04EFA3" title="启动Oracle实例时，通常启动它以使数据库的状态为OPEN并为用户连接做好准备。">关于实例启动</a> ”</span> 。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADMQS12153"></a><a id="ADMQS0521"></a><div class="props_rev_3"><a id="GUID-06A0DC57-50BC-453F-8E81-FF2DEDF93467" name="GUID-06A0DC57-50BC-453F-8E81-FF2DEDF93467"></a><h4 id="ADMQS-GUID-06A0DC57-50BC-453F-8E81-FF2DEDF93467" class="sect4"><span class="enumeration_section">5.2.2</span>使用Windows服务程序关闭和启动</h4>
                  <div>
                     <div><span>在Microsoft Windows上，您还可以使用“控制面板”中的“服务”程序启动和关闭Oracle数据库。</span> 您必须启动或停止以下服务：</div>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">OracleService</code> <span class="italic"><code class="codeph">SID</code></span> ，它是您的Oracle实例。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">Oracle</code> <span class="italic"><code class="codeph"><span class="codeinlineitalic"><code class="codeph">ORACLE_HOME</code></span></code></span> <code class="codeph">TNSListener</code> ，它是您的监听器。客户端需要侦听器才能连接到您的数据库。
                              </p>
                           </li>
                        </ul>
                        <p>在前面的服务名称中， <span class="italic"><code class="codeph">SID</code></span>表示实例的系统标识符， <span class="italic"><code class="codeph">ORACLE_HOME</code></span>表示Oracle主目录名称。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-06A0DC57-50BC-453F-8E81-FF2DEDF93467__GUID-5ED4ADB2-D47E-49DC-9A8C-CF0ED534DB9A">要启动或停止Oracle数据库服务：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>单击<span class="bold">开始</span> ，然后选择<span class="bold">控制面板</span> 。
                              </p>
                              <p>“控制面板”窗口打开。</p>
                           </li>
                           <li>
                              <p>双击“ <span class="bold">管理工具”</span>图标，然后双击“ <span class="bold">服务”</span>图标。
                              </p>
                              <p>将打开“服务”窗口，其中显示系统上可用的所有Windows服务。</p>
                           </li>
                           <li>
                              <p>找到本节开头列出的Oracle数据库服务。例如，如果您的SID是<code class="codeph">orcl</code> ，那么找到以下服务：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">OracleServiceORCL的</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OracleOraDb11g_home1TNSListener</code></p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>启动或停止服务，对每项服务使用以下步骤：</p>
                              <ol type="a">
                                 <li>
                                    <p>选择服务名称。</p>
                                 </li>
                                 <li>
                                    <p>在“操作”菜单中，单击“ <span class="bold">启动”</span>或“ <span class="bold">停止”</span>
                                    </p>
                                 </li>
                              </ol>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADMQS12154"></a><a id="ADMQS053"></a><div class="props_rev_3"><a id="GUID-358561B0-EF88-4092-B447-562E2F7AA209" name="GUID-358561B0-EF88-4092-B447-562E2F7AA209"></a><h3 id="ADMQS-GUID-358561B0-EF88-4092-B447-562E2F7AA209" class="sect3"><span class="enumeration_section">5.3</span>查看和修改初始化参数</h3>
               <div>
                  <div><span>本节提供有关查看数据库的初始化参数设置和修改这些参数的说明。</span> 您可以通过以下三种方式之一修改数据库的初始化参数：</div>
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在实例关闭之前：初始化参数的新值将应用于当前运行的实例，但是，重新启动数据库时，初始化参数值将恢复为先前的设置。</p>
                        </li>
                        <li>
                           <p>从现在开始直到再次更改初始化参数：更改将应用于当前运行的实例，并且还存储在服务器参数文件中。重新启动数据库时，对初始化参数所做的更改将保持不变。</p>
                        </li>
                        <li>
                           <p>重新启动数据库时：初始化参数的新值记录在服务器参数文件中，但不会应用于当前运行的实例。只有在重新启动数据库时，更改才会生效。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-358561B0-EF88-4092-B447-562E2F7AA209__GUID-7D0F6EBA-270C-4822-BD5C-EB3B0F9EEA0C">
                        <p class="notep1">注意：</p>
                        <p>当您使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句更改初始化参数时，这三个方案分别对应于使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> SQL语句的<code class="codeph">SCOPE=MEMORY</code> ， <code class="codeph">SCOPE=BOTH</code>和<code class="codeph">SCOPE=SPFILE</code>子句。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-358561B0-EF88-4092-B447-562E2F7AA209__GUID-2D37996B-B6C6-4205-B0EB-E7FB955C3C59">要查看或修改初始化参数：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ol>
                        <li>
                           <p>在Oracle Enterprise Manager Database Express（EM Express）中，从“ <span class="bold">配置”</span>菜单中选择“ <span class="bold">初始化参数”</span> 。
                           </p>
                           <p>将出现“初始化参数”页面。</p>
                           <div class="figure" id="GUID-358561B0-EF88-4092-B447-562E2F7AA209__GUID-0A45C076-2415-4BDD-B08A-9415CCF60BAF"><img src="img/exp_init_params_page.gif" width="502" alt="exp_init_params_page.gif的描述如下" title="exp_init_params_page.gif的描述如下" longdesc="img_text/exp_init_params_page.html"><br><a href="img_text/exp_init_params_page.html">说明exp_init_params_page.gif的说明</a></div>
                           <!-- class="figure" -->
                           <p>“初始化参数”页面有两个选项卡：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="bold">当前</span> - 此选项卡（默认值）显示Oracle实例当前处于活动状态（内存中）的所有初始化参数值。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">SPFile</span> - 此选项卡显示服务器参数文件（SPFILE）中的初始化参数设置。仅当使用服务器参数文件启动当前实例时，才会显示此选项卡。文件位置显示在选项卡的顶部。
                                 </p>
                                 <div class="infoboxnote" id="GUID-358561B0-EF88-4092-B447-562E2F7AA209__GUID-C9D0CADF-6A1D-4EC8-95EA-BF69845A865F">
                                    <p class="notep1">注意：</p>
                                    <p>在可插拔数据库（PDB）中，“初始化参数”页面包含PDB可修改列。可以在PDB级别修改的每个初始化参数在PDB可修改列中都有一个复选标记。</p>
                                    <p>PDB中没有复选标记的PDB中的任何初始化参数只能在根中设置和修改，并且根中设置的值适用于多租户容器数据库（CDB）中的各个PDB。</p>
                                 </div>
                              </li>
                           </ul>
                           <p>有关各个初始化参数的详细信息，请参阅<a href="../refrn/basic-initialization-parameters.html#REFRN00101" target="_blank"><span><cite>Oracle数据库参考</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>（可选）在任一选项卡上，通过执行以下一项或两项操作来减少显示的初始化参数的数量：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在搜索字段中，输入文本。</p>
                              </li>
                              <li>
                                 <p>选择搜索字段旁边的“ <span class="bold">修改”</span>或“ <span class="bold">基本”</span>选项，将显示限制为已修改或基本初始化参数。
                                 </p>
                              </li>
                           </ul>
                           <p>例如，要仅查看参数名称中任何位置具有文本<code class="codeph">DEST</code>初始化参数，请在“搜索”字段中输入<code class="codeph">dest</code> 。然后EM Express相应地限制初始化参数列表。
                           </p>
                        </li>
                        <li>
                           <p>要仅修改当前正在运行的实例的初始化参数（重新启动实例时修改将不会保留），请完成以下步骤：</p>
                           <ol type="a">
                              <li>
                                 <p>在“当前”选项卡上，选择要修改其值的初始化参数。</p>
                                 <div class="infoboxnote" id="GUID-358561B0-EF88-4092-B447-562E2F7AA209__GUID-0723FAE1-1C99-467A-B012-ABC8BDF7CAD3">
                                    <p class="notep1">注意：</p>
                                    <p>如果在选择参数时“ <span class="bold">设置”</span>按钮不可用，则该参数不是动态的 - 也就是说，不能为当前实例更改该参数。
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p>单击“ <span class="bold">设置”</span>按钮。
                                 </p>
                                 <p>将出现“设置初始化参数”页面。</p>
                              </li>
                              <li>
                                 <p>在“ <span class="bold">值”</span>列中，输入初始化参数的新值。
                                 </p>
                              </li>
                              <li>
                                 <p>对于“ <span class="bold">范围”</span>字段，请确保选中“ <span class="bold">内存”</span> 。重新启动实例时，您设置的值将不会保留。
                                 </p>
                              </li>
                              <li>
                                 <p>（可选）在“ <span class="bold">注释”</span>列中，输入说明更改原因的文本。
                                 </p>
                              </li>
                              <li>
                                 <p>单击<span class="bold">确定</span> 。</p>
                                 <p>出现确认消息。</p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>要修改当前正在运行的实例的初始化参数，并在服务器参数文件中记录将在重新启动数据库实例时保留的修改，请完成以下步骤：</p>
                           <ol type="a">
                              <li>
                                 <p>在“当前”选项卡上，选择要修改其值的初始化参数。</p>
                                 <div class="infoboxnote" id="GUID-358561B0-EF88-4092-B447-562E2F7AA209__GUID-3EAB0CA3-8D9C-46FC-90DC-D7A17023F7DD">
                                    <p class="notep1">注意：</p>
                                    <p>如果在选择参数时“ <span class="bold">设置”</span>按钮不可用，则该参数不是动态的 - 也就是说，不能为当前实例更改该参数。
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p>单击“ <span class="bold">设置”</span>按钮。
                                 </p>
                                 <p>将出现“设置初始化参数”页面。</p>
                              </li>
                              <li>
                                 <p>对于<span class="bold">Scope</span>字段，请确保选择<span class="bold">Memory</span>和<span class="bold">SPFile</span> 。重新启动数据库实例时，您设置的值将保持不变。
                                 </p>
                                 <div class="infoboxnote" id="GUID-358561B0-EF88-4092-B447-562E2F7AA209__GUID-7B17A2FF-4C17-403E-8E4C-94F53270E8EF">
                                    <p class="notep1">注意：</p>
                                    <p>如果<span class="bold">SPFile</span>选项不可用，则数据库实例没有SPFILE，并且在重新启动实例时，对实例所做的更改将不会保留。
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p>（可选）在“ <span class="bold">注释”</span>列中，输入说明更改原因的文本。
                                 </p>
                              </li>
                              <li>
                                 <p>单击<span class="bold">确定</span> 。</p>
                                 <p>出现确认消息。该消息包括Show SQL按钮。单击“显示SQL”按钮以查看已执行的SQL语句。</p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>要仅修改服务器参数文件中的初始化参数，以使当前实例不受影响且更改仅在下次重新启动数据库时生效，请完成以下步骤：</p>
                           <ol type="a">
                              <li>
                                 <p>单击“ <span class="bold">SPFile”</span>以查看SPFile选项卡。
                                 </p>
                              </li>
                              <li>
                                 <p>选择要修改其值的初始化参数。如果初始化参数未出现在SPFile选项卡上，则选择“当前”选项卡上的初始化参数。</p>
                              </li>
                              <li>
                                 <p>单击“ <span class="bold">设置”</span>按钮。
                                 </p>
                                 <p>将出现“设置初始化参数”页面。</p>
                              </li>
                              <li>
                                 <p>在“ <span class="bold">范围”</span>字段中，选择“ <span class="bold">SPFile”</span> 。
                                 </p>
                                 <p>对于无法在不重新启动数据库的情况下重置的初始化参数，“ <span class="bold">范围”</span>字段默认为<span class="bold">SPFile</span> ，并且不显示“ <span class="bold">内存”</span>选项。
                                 </p>
                              </li>
                              <li>
                                 <p>在“ <span class="bold">值”</span>列中，输入初始化参数的新值。
                                 </p>
                              </li>
                              <li>
                                 <p>（可选）在“ <span class="bold">注释”</span>列中，输入说明更改原因的文本。
                                 </p>
                              </li>
                              <li>
                                 <p>单击“ <span class="bold">应用”</span>
                                 </p>
                                 <p>出现确认消息。</p>
                              </li>
                           </ol>
                        </li>
                     </ol>
                     <div class="infoboxnote" id="GUID-358561B0-EF88-4092-B447-562E2F7AA209__GUID-94B4958A-40F7-4198-BDD1-39A3CEA8433F">
                        <p class="notep1">注意：</p>
                        <p>初始化参数的更改将记录在警报日志中<a id="d14121e1914" class="indexterm-anchor"></a> <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句。有关警报日志的信息，请参见“ <a href="../admin/diagnosing-and-resolving-problems.html#ADMIN11007" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-358561B0-EF88-4092-B447-562E2F7AA209__GUID-88546DF9-8830-4B02-84C3-68583F59B3FE">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="managing-the-oracle-instance.html#GUID-EFF3CCE9-DD06-4755-B2DA-32CDD26F7A18" title="管理Oracle实例包括配置影响Oracle实例基本操作的参数。这些参数称为初始化参数。">关于初始化参数</a> ”</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADMQS054"></a><div class="props_rev_3"><a id="GUID-8BDFF6EB-2EDE-4307-9393-D159E2F1E84F" name="GUID-8BDFF6EB-2EDE-4307-9393-D159E2F1E84F"></a><h3 id="ADMQS-GUID-8BDFF6EB-2EDE-4307-9393-D159E2F1E84F" class="sect3"><span class="enumeration_section">5.4</span>管理记忆</h3>
               <div>
                  <div><span>本节提供有关管理Oracle实例内存的背景信息，并包含有关如何调整Oracle实例的内存分配的说明。</span> 它包含以下主题：</div>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="managing-the-oracle-instance.html#GUID-2D1989A3-0922-48D6-8B97-3721141CC3BA" title="内存管理涉及在数据库更改需求时保持Oracle实例内存结构的最佳大小。">关于内存管理</a></p>
                     </li>
                     <li>
                        <p><a href="managing-the-oracle-instance.html#GUID-E6784230-0A0C-443D-8537-36FFA08A7E75" title="如果在安装和配置数据库时未启用自动内存管理，则Oracle建议您在安装后执行此操作，除非您是经验丰富的DBA，并且具有手动调整内存大小的特定原因。">启用自动内存管理</a></p>
                     </li>
                     <li>
                        <p><a href="managing-the-oracle-instance.html#GUID-6ADFFF05-1FFC-42CB-91FD-679A7B767C0D" title="在修改自动内存管理的内存设置之前，请使用Oracle Enterprise Manager Database Express（EM Express）中的Memory Advisor图来预测使用不同目标内存大小设置所节省的时间百分比。">修改内存设置 - 自动内存管理</a></p>
                     </li>
                     <li>
                        <p><a href="managing-the-oracle-instance.html#GUID-5740E372-F950-4A99-A3F8-4D3FF5D0D62D" title="本节介绍如果当前为数据库实例启用了自动内存管理或手动共享内存管理，如何更改为自动共享内存管理。">启用自动共享内存管理</a></p>
                     </li>
                     <li>
                        <p><a href="managing-the-oracle-instance.html#GUID-5C8A0A90-28C9-444A-A382-9D5445F0A7D9">修改内存设置 - 自动共享内存管理</a></p>
                     </li>
                     <li>
                        <p><a href="managing-the-oracle-instance.html#GUID-47B7DE62-CF0B-45B7-8235-FCEF6193FC99" title="本节介绍如何启用手动共享内存管理。">启用手动共享内存管理</a></p>
                     </li>
                     <li>
                        <p><a href="managing-the-oracle-instance.html#GUID-0DBFE80D-826B-43FF-AE92-1C4B710807B2">修改内存设置 - 手动共享内存管理</a></p>
                     </li>
                     <li>
                        <p><a href="managing-the-oracle-instance.html#GUID-E357EFB6-898F-47BF-9362-F8E954D0847B" title="修改自动程序全局区域（PGA）内存管理的内存设置涉及使用Oracle Enterprise Manager Database Express（EM Express）中的PGA Advisor图来修改实例PGA大小。本节假定已禁用自动内存管理，并且已启用自动PGA内存管理。">修改内存设置 - 自动PGA内存管理</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-8BDFF6EB-2EDE-4307-9393-D159E2F1E84F__GUID-0902D66D-25F2-4E31-BF63-12A76A11DA2B">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="managing-the-oracle-instance.html#GUID-5B7510F1-C811-4B74-A847-7C9D67CA933E" title="实例内存结构的大小会影响数据库性能，并由初始化参数控制。">关于实例内存结构</a> ”</span></p>
                  </div>
               </div><a id="ADMQS12331"></a><a id="ADMQS12038"></a><div class="props_rev_3"><a id="GUID-2D1989A3-0922-48D6-8B97-3721141CC3BA" name="GUID-2D1989A3-0922-48D6-8B97-3721141CC3BA"></a><h4 id="ADMQS-GUID-2D1989A3-0922-48D6-8B97-3721141CC3BA" class="sect4"><span class="enumeration_section">5.4.1</span>关于内存管理</h4>
                  <div>
                     <div><span>内存管理涉及在数据库更改需求时保持Oracle实例内存结构的最佳大小。</span> 必须管理的内存是系统全局区（SGA）内存和实例程序全局区（PGA）内存。实例PGA存储器是所有单个PGA的存储器分配的集合。
                     </div>
                     <p>从Oracle Database <span class="italic">11g</span>第1版（11.1）开始，您可以让数据库完全管理SGA内存和实例PGA内存。您只指定实例使用的总内存大小，Oracle Database根据需要动态地在SGA和实例PGA之间交换内存以满足处理需求。此功能称为<a id="d14121e2069" class="indexterm-anchor"></a> <span class="bold">自动内存管理</span> 。在此内存管理模式下，数据库还会动态调整各个SGA组件和实例PGA的大小。</p>
                     <p><a id="d14121e2075" class="indexterm-anchor"></a>要更直接地控制SGA和实例PGA的大小，可以禁用自动内存管理并启用自动共享内存管理。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>通过<span class="bold">自动共享内存管理</span> ，您可以为SGA设置目标和最大大小。然后，Oracle数据库将SGA的总大小调整到您指定的目标，并动态调整所有SGA组件的大小。
                           </p>
                        </li>
                        <li>
                           <p>启用自动共享内存管理时，还可以启用自动PGA内存管理。通过<span class="bold">自动PGA内存管理</span> ，Oracle数据库自动执行实例PGA的内存管理。 （可选）您可以为实例PGA设置目标大小，然后数据库将实例PGA的大小调整到目标，并动态调整各个PGA的大小。
                           </p>
                        </li>
                     </ul>
                     <p>如果要完全控制各个SGA组件大小，可以禁用自动内存管理和自动共享内存管理。这称为<span class="bold">手动共享内存管理</span> 。在此模式下，您可以设置多个单独SGA组件的大小，从而确定整体SGA大小。然后，您可以持续手动调整这些单独的SGA组件。
                     </p>
                     <p>手动共享内存管理模式仅适用于有经验的DBA。请注意，在此模式下，自动PGA内存管理仍保持启用状态。</p>
                     <div class="infoboxnote" id="GUID-2D1989A3-0922-48D6-8B97-3721141CC3BA__GUID-909A8009-EC31-4D22-A49E-20A3442D8BCD">
                        <p class="notep1">注意：</p>
                        <p>尽管可以禁用自动PGA内存管理，但不建议这样做，本手册中未对其进行描述。</p>
                     </div>
                     <p><a href="managing-the-oracle-instance.html#GUID-2D1989A3-0922-48D6-8B97-3721141CC3BA__CHDFFHGH" title="此表有3列：内存管理模式，您设置和Oracle管理。它有3行，每个管理模式一行。对于每种模式，行都提供模式名称，您设置的参数以及Oracle数据库管理的参数。">表5-3</a>总结了可以为数据库实例设置的各种内存管理模式。
                     </p>
                     <div class="tblformal" id="GUID-2D1989A3-0922-48D6-8B97-3721141CC3BA__CHDFFHGH">
                        <p class="titleintable">表5-3 Oracle数据库内存管理模式</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle数据库内存管理模式" width="100%" border="1" summary="This table has 3 columns: Memory Management Mode, You Set, and Oracle Manages. It has 3 rows, one for each management mode. For each mode, a row gives the mode name, the parameters that you set, and the parameters that Oracle Database manages." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="37%" id="d14121e2118">内存管理模式</th>
                                 <th align="left" valign="bottom" width="26%" id="d14121e2121">你设置</th>
                                 <th align="left" valign="bottom" width="37%" id="d14121e2124">Oracle数据库自动调整</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d14121e2129" headers="d14121e2118 ">
                                    <p>自动内存管理</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d14121e2129 d14121e2121 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>此实例的总内存大小</p>
                                       </li>
                                       <li>
                                          <p>（可选）此实例的最大内存大小</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d14121e2129 d14121e2124 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>总SGA大小</p>
                                       </li>
                                       <li>
                                          <p>SGA组件尺寸</p>
                                       </li>
                                       <li>
                                          <p>实例PGA大小</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d14121e2152" headers="d14121e2118 ">
                                    <p>自动共享内存管理和自动PGA内存管理</p>
                                    <p>（禁用自动内存管理）</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d14121e2152 d14121e2121 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>SGA目标大小</p>
                                       </li>
                                       <li>
                                          <p>（可选）SGA最大尺寸</p>
                                       </li>
                                       <li>
                                          <p>（可选）实例PGA目标大小</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d14121e2152 d14121e2124 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>SGA组件尺寸</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d14121e2174" headers="d14121e2118 ">
                                    <p>手动共享内存管理和自动PGA内存管理</p>
                                    <p>（禁用自动内存管理和自动共享内存管理）</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d14121e2174 d14121e2121 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>共享池大小</p>
                                       </li>
                                       <li>
                                          <p>缓冲区缓存大小</p>
                                       </li>
                                       <li>
                                          <p>Java池大小</p>
                                       </li>
                                       <li>
                                          <p>大泳池大小</p>
                                       </li>
                                       <li>
                                          <p>（可选）实例PGA目标大小</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d14121e2174 d14121e2124 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>实例PGA大小</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-2D1989A3-0922-48D6-8B97-3721141CC3BA__GUID-89F9E75B-72FC-4ED6-B10A-3608C85D4F49">
                        <p class="notep1">注意：</p>
                        <p>并非所有平台都提供自动内存管理。有关支持的平台的详细信息，请参见“ <a href="../admin/managing-memory.html#ADMIN11236" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                        </p>
                     </div>
                     <p>如果在安装数据库时选择基本安装选项，则会启用自动内存管理。如果选择高级安装，则可以使用Database Configuration Assistant（DBCA）从三种内存管理模式中进行选择。Oracle建议您启用自动内存管理。</p>
                     <p>无论您选择哪种内存管理模式，您都可能有机会根据数据库或其主机上的需求进行调整来调整内存设置。调整内存设置的原因包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您收到与内存相关的警报或错误消息。</p>
                        </li>
                        <li>
                           <p>您将收到自动数据库诊断监视器（ADDM）中与内存相关的建议。</p>
                        </li>
                        <li>
                           <p>您希望更改分配的内存量，以适应未来内存需求的增长。</p>
                        </li>
                     </ul>
                     <p>您可以使用<span class="italic">内存顾问程序</span>来帮助您调整内存大小。有关使用内存顾问的示例，请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-5C8A0A90-28C9-444A-A382-9D5445F0A7D9">修改内存设置 - 自动共享内存管理</a> ”</span> 。
                     </p>
                     <div class="infoboxnote" id="GUID-2D1989A3-0922-48D6-8B97-3721141CC3BA__GUID-4356078A-3A72-4B5C-ADFC-1D2275148160">
                        <p class="notep1">注意：</p>
                        <p>用于管理内存的初始化参数在多租户容器数据库（CDB）的根目录中设置，并且为这些参数设置的值将应用于CDB中的所有可插入数据库（PDB）。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-2D1989A3-0922-48D6-8B97-3721141CC3BA__GUID-CEEDD739-3AA1-4909-B416-16A5E65D68E8">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="managing-the-oracle-instance.html#GUID-E6784230-0A0C-443D-8537-36FFA08A7E75" title="如果在安装和配置数据库时未启用自动内存管理，则Oracle建议您在安装后执行此操作，除非您是经验丰富的DBA，并且具有手动调整内存大小的特定原因。">启用自动内存管理</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="managing-the-oracle-instance.html#GUID-6ADFFF05-1FFC-42CB-91FD-679A7B767C0D" title="在修改自动内存管理的内存设置之前，请使用Oracle Enterprise Manager Database Express（EM Express）中的Memory Advisor图来预测使用不同目标内存大小设置所节省的时间百分比。">修改内存设置 - 自动内存管理</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="managing-the-oracle-instance.html#GUID-E357EFB6-898F-47BF-9362-F8E954D0847B" title="修改自动程序全局区域（PGA）内存管理的内存设置涉及使用Oracle Enterprise Manager Database Express（EM Express）中的PGA Advisor图来修改实例PGA大小。本节假定已禁用自动内存管理，并且已启用自动PGA内存管理。">修改内存设置 - 自动PGA内存管理</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADMQS12155"></a><a id="ADMQS12039"></a><div class="props_rev_3"><a id="GUID-E6784230-0A0C-443D-8537-36FFA08A7E75" name="GUID-E6784230-0A0C-443D-8537-36FFA08A7E75"></a><h4 id="ADMQS-GUID-E6784230-0A0C-443D-8537-36FFA08A7E75" class="sect4"><span class="enumeration_section">5.4.2</span>启用自动内存管理</h4>
                  <div>
                     <div><span>如果在安装和配置数据库时未启用自动内存管理，则Oracle建议您在安装后执行此操作，除非您是经验丰富的DBA，并且具有手动调整内存大小的特定原因。</span> 通过自动内存管理，Oracle实例可以动态调整所有内存组件，以便在工作负载发生变化时优化性能。
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-E6784230-0A0C-443D-8537-36FFA08A7E75__GUID-E2DE3BF9-CC1A-4F4E-8F5B-1BFE4D180DF4">要启用自动内存管理：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>启动SQL * Plus并以<code class="codeph">SYSDBA</code>身份连接到数据库。</p>
                           </li>
                           <li id="GUID-E6784230-0A0C-443D-8537-36FFA08A7E75__CACDDFGE">
                              <p>计算<code class="codeph">MEMORY_TARGET</code>的最小值，如下所示：</p>
                              <ol type="a">
                                 <li>
                                    <p>通过输入以下SQL * Plus命令确定<code class="codeph">SGA_TARGET</code>和<code class="codeph">PGA_AGGREGATE_TARGET</code>的当前大小：</p><pre class="oac_no_warn" dir="ltr">显示参数目标</pre><p>SQL * Plus使用参数名称中的字符串TARGET显示所有初始化参数的值。</p><pre class="oac_no_warn" dir="ltr">NAME TYPE VALUE ------------------------------ ----------- ------ ---------- archive_lag_target整数0 db_flashback_retention_target整数1440 fast_start_io_target整数0 fast_start_mttr_target整数0 memory_max_target大整数0 memory_target大整数0 parallel_servers_target整数32 pga_aggregate_target大整数29M sga_target大整数356M</pre><p>或者，在Oracle Enterprise Manager Database Express（EM Express）的“初始化参数”页面上，您可以在“搜索”字段中输入“TARGET”，以在参数名称中显示字符串TARGET的所有初始化参数的值，如<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-358561B0-EF88-4092-B447-562E2F7AA209" title="本节提供有关查看数据库的初始化参数设置和修改这些参数的说明。">查看和修改初始化参数</a> 。“</span></p>
                                 </li>
                                 <li id="GUID-E6784230-0A0C-443D-8537-36FFA08A7E75__CACBGIAG">
                                    <p>运行以下查询以确定自数据库启动以来分配的最大实例程序全局区域（PGA）：</p><pre class="oac_no_warn" dir="ltr">SQL&gt;从v $ pgastat中选择值，其中name ='最大PGA已分配'; VALUE ---------- 246844416</pre><p>246844416字节大约是235M。</p>
                                 </li>
                                 <li>
                                    <p>计算步骤<a href="managing-the-oracle-instance.html#GUID-E6784230-0A0C-443D-8537-36FFA08A7E75__CACBGIAG">2.b</a>和<code class="codeph">PGA_AGGREGATE_TARGET</code>的查询结果之间的最大值。将<code class="codeph">SGA_TARGET</code>添加到此值。
                                    </p><pre class="oac_no_warn" dir="ltr">memory_target = sga_target + max（pga_aggregate_target，分配的最大PGA）</pre><p>例如，如果<code class="codeph">SGA_TARGET</code>为356M且<code class="codeph">PGA_AGGREGATE_TARGET</code>为29M，如上所示，并且如果确定分配的最大PGA为235M，则<code class="codeph">MEMORY_TARGET</code>应至少为591M（356M + 235M）。
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li id="GUID-E6784230-0A0C-443D-8537-36FFA08A7E75__CACJBDIG">
                              <p>选择要使用的<code class="codeph">MEMORY_TARGET</code>的值。
                              </p>
                              <p>这可以是您在步骤<a href="managing-the-oracle-instance.html#GUID-E6784230-0A0C-443D-8537-36FFA08A7E75__CACDDFGE">2中</a>计算的最小值，或者如果您有足够的可用物理内存，则可以选择使用更大的值。
                              </p>
                           </li>
                           <li id="GUID-E6784230-0A0C-443D-8537-36FFA08A7E75__CACGICDB">
                              <p>对于<code class="codeph">MEMORY_MAX_TARGET</code>初始化参数，确定在可预见的将来您希望分配给数据库的最大内存量。也就是说，确定系统全局区域（SGA）和实例PGA大小之和的最大值。此数字可以大于或<code class="codeph">MEMORY_TARGET</code>您在上一步中选择的<code class="codeph">MEMORY_TARGET</code>值。
                              </p>
                           </li>
                           <li>
                              <p>执行以下操作之一：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果使用服务器参数文件启动Oracle数据库实例，如果使用Database Configuration Assistant（DBCA）创建数据库，则这是缺省值，请输入以下SQL * Plus命令：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET MEMORY_MAX_TARGET = <span class="italic"><code class="codeph">n</code></span> M SCOPE = SPFILE;</pre><p>其中<span class="italic">n</span>是您在步骤<a href="managing-the-oracle-instance.html#GUID-E6784230-0A0C-443D-8537-36FFA08A7E75__CACGICDB">4中</a>计算的值。
                                    </p>
                                    <p><code class="codeph">SCOPE = SPFILE</code>子句仅在服务器参数文件中设置值，而不是为正在运行的实例设置值。您必须包含此<code class="codeph">SCOPE</code>子句，因为<code class="codeph">MEMORY_MAX_TARGET</code>不是动态初始化参数。
                                    </p>
                                    <p>或者，您也可以在EM Express的“初始化参数”页面上选择<code class="codeph">MEMORY_MAX_TARGET</code>初始化参数，单击“设置”，指定SPFile的范围，然后设置新值，如<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-358561B0-EF88-4092-B447-562E2F7AA209" title="本节提供有关查看数据库的初始化参数设置和修改这些参数的说明。">查看和修改初始化参数</a> ”中所述。</span></p>
                                 </li>
                                 <li>
                                    <p>如果使用文本初始化参数文件启动实例，请手动编辑该文件，使其包含以下语句：</p><pre class="oac_no_warn" dir="ltr">memory_max_target = <span class="italic"><code class="codeph">n</code></span> M（本例为650M）memory_target = <span class="italic"><code class="codeph">m</code></span> M（本例为591M）</pre><p>其中<span class="italic">n</span>是您在步骤<a href="managing-the-oracle-instance.html#GUID-E6784230-0A0C-443D-8537-36FFA08A7E75__CACGICDB">4中</a>确定的值， <span class="italic">m</span>是您在步骤<a href="managing-the-oracle-instance.html#GUID-E6784230-0A0C-443D-8537-36FFA08A7E75__CACJBDIG">3中</a>确定的值。
                                    </p>
                                    <div class="infoboxnote" id="GUID-E6784230-0A0C-443D-8537-36FFA08A7E75__GUID-2F0C3D33-D9DB-4C1B-B990-A6AFB54F4493">
                                       <p class="notep1">注意：</p>
                                       <p>在一个文本初始化参数文件，如果省略行<code class="codeph">MEMORY_MAX_TARGET</code>并包括一个价值<code class="codeph">MEMORY_TARGET</code> ，数据库会自动设置<code class="codeph">MEMORY_MAX_TARGET</code>到的值<code class="codeph">MEMORY_TARGET</code> 。如果省略行<code class="codeph">MEMORY_TARGET</code> ，包括一个值<code class="codeph">MEMORY_MAX_TARGET</code>时， <code class="codeph">MEMORY_TARGET</code>参数的默认值为零。启动后，你就可以动态地改变<code class="codeph">MEMORY_TARGET</code>为非零值，只要不超过价值<code class="codeph">MEMORY_MAX_TARGET</code> 。</p>
                                    </div>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>关闭并重新启动数据库。</p>
                              <p>请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-C2CFFCE3-95F7-4D3D-B388-294DBBF25793" title="本节提供有关可用于启动或关闭Oracle实例的两种方法的说明。">关闭并启动Oracle实例</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>在EM Express中，从“ <span class="bold">配置”</span>菜单中选择“ <span class="bold">内存”</span> 。
                              </p>
                              <p>将出现“内存管理”页面。在“内存设置”部分中，“ <span class="bold">内存管理”</span>值为“ <span class="bold">自动”</span> 。这表示已为数据库启用了“自动内存管理”。此页面上显示的初始化参数值是除<code class="codeph">MEMORY_MAX_TARGET</code>之外已指定的值。</p>
                              <div class="figure" id="GUID-E6784230-0A0C-443D-8537-36FFA08A7E75__GUID-E5045CA6-60C2-41B0-BF99-841EE8CAEBFF"><img src="img/auto_memory_mgmt_crop.gif" width="240" alt="auto_memory_mgmt_crop.gif的描述如下" title="auto_memory_mgmt_crop.gif的描述如下" longdesc="img_text/auto_memory_mgmt_crop.html"><br><a href="img_text/auto_memory_mgmt_crop.html">插图说明auto_memory_mgmt_crop.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>如果使用服务器参数文件启动Oracle数据库实例，请对以下初始化参数值进行以下更改：</p><pre class="oac_no_warn" dir="ltr">MEMORY_TARGET = <span class="italic"><code class="codeph">n</code></span> M; （本例为591M）SGA_TARGET = 0; PGA_AGGREGATE_TARGET = 0;</pre><p>您还可以使用EM Express中的“初始化参数”页面设置这些初始化参数值，并指定SPFile的范围。有关详细信息，请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-358561B0-EF88-4092-B447-562E2F7AA209" title="本节提供有关查看数据库的初始化参数设置和修改这些参数的说明。">查看和修改初始化参数</a> ”</span> 。
                              </p>
                              <div class="infoboxnote" id="GUID-E6784230-0A0C-443D-8537-36FFA08A7E75__GUID-F7FA156A-A599-4820-BC1D-36B0CB3434B4">
                                 <p class="notep1">注意：</p>
                                 <p>前面的步骤指示您将<code class="codeph">SGA_TARGET</code>和<code class="codeph">PGA_AGGREGATE_TARGET</code>设置为零，以便根据需要上下调整SGA和实例PGA的大小，没有任何限制。您可以省略将这些参数值设置为零的语句，并将其中一个或两个值保留为正数。在这种情况下，这些值充当SGA或实例PGA的大小的最小值。</p>
                              </div>
                           </li>
                        </ol>
                        <div class="infoboxnotealso" id="GUID-E6784230-0A0C-443D-8537-36FFA08A7E75__GUID-5521992D-E193-4E9A-A783-49381D4F69BA">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="managing-the-oracle-instance.html#GUID-2D1989A3-0922-48D6-8B97-3721141CC3BA" title="内存管理涉及在数据库更改需求时保持Oracle实例内存结构的最佳大小。">关于内存管理</a> ”</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADMQS12400"></a><a id="ADMQS12101"></a><div class="props_rev_3"><a id="GUID-6ADFFF05-1FFC-42CB-91FD-679A7B767C0D" name="GUID-6ADFFF05-1FFC-42CB-91FD-679A7B767C0D"></a><h4 id="ADMQS-GUID-6ADFFF05-1FFC-42CB-91FD-679A7B767C0D" class="sect4"><span class="enumeration_section">5.4.3</span>修改内存设置 - 自动内存管理</h4>
                  <div>
                     <div><span>在修改自动内存管理的内存设置之前，请使用Oracle Enterprise Manager Database Express（EM Express）中的Memory Advisor图来预测使用不同目标内存大小设置所节省的时间百分比。</span> 所涉及的步骤要求您必须首先启用自动内存管理。请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-E6784230-0A0C-443D-8537-36FFA08A7E75" title="如果在安装和配置数据库时未启用自动内存管理，则Oracle建议您在安装后执行此操作，除非您是经验丰富的DBA，并且具有手动调整内存大小的特定原因。">启用自动内存管理</a> ”</span> 。
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-6ADFFF05-1FFC-42CB-91FD-679A7B767C0D__GUID-F81F4777-5772-44E5-B3BD-EC06ACA88E79">要预测为不同目标内存大小节省的时间百分比：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>在EM Express中，从“ <span class="bold">配置”</span>菜单中选择“ <span class="bold">内存”</span> 。
                              </p>
                              <p>将出现“内存管理”页面。在“内存设置”部分中，“ <span class="bold">内存管理”</span>值为“ <span class="bold">自动”</span> 。这表示已为数据库启用了“自动内存管理”。
                              </p>
                           </li>
                           <li>
                              <p>使用Memory Advisor图形（显示在“内存设置”部分的右侧）来预测为潜在目标内存大小节省的时间百分比。</p>
                              <div class="figure" id="GUID-6ADFFF05-1FFC-42CB-91FD-679A7B767C0D__GUID-9966F608-DB15-49FD-B6D3-C09F90FDB763"><img src="img/memory_advisor_graph.gif" width="380" alt="memory_advisor_graph.gif的描述如下" title="memory_advisor_graph.gif的描述如下" longdesc="img_text/memory_advisor_graph.html"><br><a href="img_text/memory_advisor_graph.html">插图描述memory_advisor_graph.gif</a></div>
                              <!-- class="figure" -->
                              <p>在Memory Advisor图中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">MEMORY_TARGET</code>初始化参数的潜在值（以MB为单位）表示在图表的水平轴上。<code class="codeph">MEMORY_TARGET</code>初始化参数的当前设置用蓝点表示。
                                    </p>
                                 </li>
                                 <li>
                                    <p>保存的相应时间值表示在图表的垂直轴上。绘制的值表示为相对于<code class="codeph">MEMORY_TARGET</code>初始化参数的当前设置的百分比。
                                    </p>
                                    <p>负值表示消耗的时间增加的百分比（当分配给Oracle的内存小于当前设置时），而正值表示消耗的时间减少的百分比（当分配给Oracle的内存大于当前设置时） 。</p>
                                 </li>
                              </ul>
                              <p>图表上的橙色线绘制了可以为<code class="codeph">MEMORY_TARGET</code>初始化参数指定的不同值。单击橙色线上的任何点以查看该点表示的<code class="codeph">MEMORY_TARGET</code>值所消耗的时间减少的预测。
                              </p>
                              <p>在此图中，Memory Advisor图表指示增加<code class="codeph">MEMORY_TARGET</code>初始化参数的当前值不会减少保存的时间百分比。
                              </p>
                           </li>
                           <li>
                              <p>要更改<code class="codeph">MEMORY_TARGET</code>初始化参数的值，请执行<code class="codeph">MEMORY_TARGET</code> ：</p>
                              <ol type="a">
                                 <li>
                                    <p>单击Memory Management页面上的<span class="bold">Configure Memory</span> 。
                                    </p>
                                    <p>将出现“初始化参数”页面。</p>
                                 </li>
                                 <li>
                                    <p>选择<code class="codeph">MEMORY_TARGET</code>初始化参数，然后单击“ <span class="bold">设置”</span> 。
                                    </p>
                                    <p>将出现“设置初始化参数”页面。</p>
                                 </li>
                                 <li>
                                    <p>在“ <span class="bold">范围”</span>字段中，输入此更改的范围。
                                    </p>
                                    <p>有关指定Memory或SPFile范围或两者的详细信息，请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-358561B0-EF88-4092-B447-562E2F7AA209" title="本节提供有关查看数据库的初始化参数设置和修改这些参数的说明。">查看和修改初始化参数</a> ”</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>在“ <span class="bold">值”</span>字段中，输入<code class="codeph">MEMORY_TARGET</code>初始化参数的新值。
                                    </p>
                                 </li>
                                 <li>
                                    <p>单击<span class="bold">确定</span> 。</p>
                                    <p>出现确认消息。</p>
                                 </li>
                              </ol>
                           </li>
                        </ol>
                        <div class="infoboxnotealso" id="GUID-6ADFFF05-1FFC-42CB-91FD-679A7B767C0D__GUID-0B869677-E3B6-4F97-8A24-2A7A227A6325">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关内存管理方法的详细信息，请<a href="../tgdba/database-memory-allocation.html#TGDBA505" target="_blank"><span><cite>参见“Oracle数据库性能调整指南</cite></span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-9EC479AF-E92A-4868-9D0E-156D7F7B64AB" title="本节包含有关内存顾问的信息。">使用Memory Advisor优化内存使用</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-the-oracle-instance.html#GUID-2D1989A3-0922-48D6-8B97-3721141CC3BA" title="内存管理涉及在数据库更改需求时保持Oracle实例内存结构的最佳大小。">关于内存管理</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADMQS12402"></a><a id="ADMQS12403"></a><a id="ADMQS12401"></a><div class="props_rev_3"><a id="GUID-5740E372-F950-4A99-A3F8-4D3FF5D0D62D" name="GUID-5740E372-F950-4A99-A3F8-4D3FF5D0D62D"></a><h4 id="ADMQS-GUID-5740E372-F950-4A99-A3F8-4D3FF5D0D62D" class="sect4"><span class="enumeration_section">5.4.4</span>启用自动共享内存管理</h4>
                  <div>
                     <p>本节介绍如果当前为数据库实例启用了自动内存管理或手动共享内存管理，如何更改为自动共享内存管理。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5740E372-F950-4A99-A3F8-4D3FF5D0D62D__GUID-96D9F9CD-2A55-46FA-8DA6-98B8E4BB0782">如果当前启用了自动内存管理，则更改为自动共享内存管理：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果当前启用了自动内存管理，但您希望更直接地控制系统全局区域（SGA）和实例程序全局区域（PGA）的大小，则可以禁用自动内存管理并启用自动共享内存管理。跟着这些步骤：</p>
                        <ol>
                           <li>
                              <p>在Oracle Enterprise Manager Database Express（EM Express）中，从“ <span class="bold">配置”</span>菜单中选择“ <span class="bold">初始化参数”</span> 。
                              </p>
                              <p>将显示“初始化参数”页面，并显示“当前”选项卡。</p>
                           </li>
                           <li>
                              <p>在“搜索”字段中，输入<code class="codeph">MEMORY_TARGET</code> 。</p>
                           </li>
                           <li>
                              <p>选择<code class="codeph">MEMORY_TARGET</code> ，然后单击“ <span class="bold">设置”</span> 。
                              </p>
                              <p>将出现“设置初始化参数”页面。</p>
                           </li>
                           <li>
                              <p>在“ <span class="bold">值”</span>字段中，输入0，指定“ <span class="bold">内存</span> <span class="bold">范围</span> ”，然后单击“ <span class="bold">确定”</span> 。</p>
                              <p>出现确认消息。</p>
                              <div class="infoboxnote" id="GUID-5740E372-F950-4A99-A3F8-4D3FF5D0D62D__GUID-C49AD616-C5A7-4A15-B9EB-D37D1386479E">
                                 <p class="notep1">注意：</p>
                                 <p>此步骤将自动内存管理更改为当前会话的自动共享内存管理。要将自动内存管理更改为自动共享内存管理，并在重新启动数据库后使其保持有效：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>如果数据库使用服务器参数文件，请在“设置初始化参数”页面上指定“范围SPFile”和“内存范围”。</p>
                                    </li>
                                    <li>
                                       <p>如果数据库使用文本初始化参数文件，请在该文件中手动将<code class="codeph">MEMORY_TARGET</code>的值设置为0。
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <p>从“ <span class="bold">配置”</span>菜单中，选择“ <span class="bold">内存”</span> 。
                              </p>
                              <p>请注意，在“内存设置”部分的“SGA内存”子部分中，“ <span class="bold">管理模式”</span>值现在为“ <span class="bold">自动”</span> 。这表示已启用自动共享内存管理。此页面上显示的初始化参数值是除<code class="codeph">MEMORY_TARGET</code>之外已指定的<code class="codeph">MEMORY_TARGET</code> 。</p>
                              <div class="figure" id="GUID-5740E372-F950-4A99-A3F8-4D3FF5D0D62D__GUID-280EC098-B096-4DE4-AAB1-DFFB98BD5037"><img src="img/auto_shared_mem_crop.gif" width="240" alt="auto_shared_mem_crop.gif的描述如下" title="auto_shared_mem_crop.gif的描述如下" longdesc="img_text/auto_shared_mem_crop.html"><br><a href="img_text/auto_shared_mem_crop.html">说明auto_shared_mem_crop.gif的说明</a></div>
                              <!-- class="figure" -->
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5740E372-F950-4A99-A3F8-4D3FF5D0D62D__GUID-87504994-A975-486B-BB0C-34D52BFBEE85">要在当前启用手动共享内存管理的情况下更改为自动共享内存管理：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果当前启用了手动共享内存管理，但您希望Oracle数据库帮助您确定SGA和实例PGA的最佳大小，则可以禁用手动共享内存管理并启用自动共享内存管理。跟着这些步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand" id="GUID-5740E372-F950-4A99-A3F8-4D3FF5D0D62D__CACGECFC"><span>在SQL * Plus中，在数据库中运行以下查询以获取<code class="codeph">SGA_TARGET</code>的值：</span><div><pre class="oac_no_warn" dir="ltr">SELECT（（SELECT SUM（value）FROM V $ SGA） - （SELECT CURRENT_SIZE FROM V $ SGA_DYNAMIC_FREE_MEMORY））“SGA_TARGET”FROM DUAL; SGA_TARGET ---------- 371654656</pre><p>该值约为354M。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在EM Express中，从“ <span class="bold">配置”</span>菜单中选择“ <span class="bold">初始化参数”</span> 。</span><div>
                              <p>将出现“初始化参数”页面。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在“搜索”字段中，输入<code class="codeph">SGA_TARGET</code> 。</span></li>
                        <li class="stepexpand"><span>选择<code class="codeph">SGA_TARGET</code> ，然后单击“ <span class="bold">设置”</span> 。</span><div>
                              <p>将出现“设置初始化参数”页面。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在“ <span class="bold">值”</span>字段中，输入上面步骤1中的<code class="codeph">SGA_TARGET</code>值（本例中为354M），指定“内存范围”，然后单击“ <span class="bold">确定”</span> 。</span><div>
                              <p>出现确认消息。</p>
                              <div class="infoboxnote" id="GUID-5740E372-F950-4A99-A3F8-4D3FF5D0D62D__GUID-2AAFDA56-5294-438E-B501-7DC7C46D77F8">
                                 <p class="notep1">注意：</p>
                                 <p>此步骤将手动共享内存管理更改为当前会话的自动共享内存管理。要将手动共享内存管理更改为自动共享内存管理，并在重新启动数据库后使其保持有效：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>如果数据库使用服务器参数文件，请在“设置初始化参数”页面上指定“范围SPFile”和“内存范围”。</p>
                                    </li>
                                    <li>
                                       <p>如果数据库使用文本初始化参数文件，请在该文件中手动将<code class="codeph">MEMORY_TARGET</code>的值设置为0。
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>从“ <span class="bold">配置”</span>菜单中，选择“ <span class="bold">内存”</span> 。</span><div>
                              <p>请注意，在“内存设置”部分的“SGA内存”子部分中，“ <span class="bold">管理模式”</span>值现在为“ <span class="bold">自动”</span> 。这表示已启用自动共享内存管理。
                              </p>
                              <div class="figure" id="GUID-5740E372-F950-4A99-A3F8-4D3FF5D0D62D__GUID-3BAE50F9-0836-46AF-AA8F-D5D111EBC8DF"><img src="img/auto_shared_mem_crop.gif" width="240" alt="auto_shared_mem_crop.gif的描述如下" title="auto_shared_mem_crop.gif的描述如下" longdesc="img_text/auto_shared_mem_crop.html"><br><a href="img_text/auto_shared_mem_crop.html">说明auto_shared_mem_crop.gif的说明</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>执行以下操作之一：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>要进行更完整的自动调整，请在“初始化参数”页面上将下表中列出的自动调整大小的SGA组件的值设置为零：</p>
                                    <div class="tblformal" id="GUID-5740E372-F950-4A99-A3F8-4D3FF5D0D62D__GUID-D105A153-FB21-4824-93DD-CCA8BFA31440">
                                       <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This table shows the SGA Components whose initialization parameters should be set to 0 when changing to automatic shared memory management from manual shared memory management" frame="hsides" rules="rows">
                                          <thead>
                                             <tr align="left" valign="top">
                                                <th align="left" valign="bottom" width="43%" id="d14121e2979">SGA组件</th>
                                                <th align="left" valign="bottom" width="57%" id="d14121e2982">初始化参数</th>
                                             </tr>
                                          </thead>
                                          <tbody>
                                             <tr align="left" valign="top">
                                                <td align="left" valign="top" width="43%" id="d14121e2987" headers="d14121e2979 ">
                                                   <p>共享池</p>
                                                </td>
                                                <td align="left" valign="top" width="57%" headers="d14121e2987 d14121e2982 ">
                                                   <p><code class="codeph">SHARED_POOL_SIZE</code></p>
                                                </td>
                                             </tr>
                                             <tr align="left" valign="top">
                                                <td align="left" valign="top" width="43%" id="d14121e2995" headers="d14121e2979 ">
                                                   <p>大型游泳池</p>
                                                </td>
                                                <td align="left" valign="top" width="57%" headers="d14121e2995 d14121e2982 ">
                                                   <p><code class="codeph">LARGE_POOL_SIZE</code></p>
                                                </td>
                                             </tr>
                                             <tr align="left" valign="top">
                                                <td align="left" valign="top" width="43%" id="d14121e3003" headers="d14121e2979 ">
                                                   <p>Java池</p>
                                                </td>
                                                <td align="left" valign="top" width="57%" headers="d14121e3003 d14121e2982 ">
                                                   <p><code class="codeph">JAVA_POOL_SIZE</code></p>
                                                </td>
                                             </tr>
                                             <tr align="left" valign="top">
                                                <td align="left" valign="top" width="43%" id="d14121e3011" headers="d14121e2979 ">
                                                   <p>缓冲区缓存</p>
                                                </td>
                                                <td align="left" valign="top" width="57%" headers="d14121e3011 d14121e2982 ">
                                                   <p><code class="codeph">DB_CACHE_SIZE</code></p>
                                                </td>
                                             </tr>
                                             <tr align="left" valign="top">
                                                <td align="left" valign="top" width="43%" id="d14121e3019" headers="d14121e2979 ">
                                                   <p>Streams游泳池</p>
                                                </td>
                                                <td align="left" valign="top" width="57%" headers="d14121e3019 d14121e2982 ">
                                                   <p><code class="codeph">STREAMS_POOL_SIZE</code></p>
                                                </td>
                                             </tr>
                                          </tbody>
                                       </table>
                                    </div>
                                    <!-- class="inftblhruleinformal" -->
                                 </li>
                                 <li>
                                    <p>要控制一个或多个自动调整大小的SGA组件的最小大小，请将这些组件大小设置为所需的值，如“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”中所述</cite></span></a> 。在“初始化参数”页面上将其他自动调整大小的SGA组件的值设置为零。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADMQS12404"></a><a id="ADMQS0541"></a><div class="props_rev_3"><a id="GUID-5C8A0A90-28C9-444A-A382-9D5445F0A7D9" name="GUID-5C8A0A90-28C9-444A-A382-9D5445F0A7D9"></a><h4 id="ADMQS-GUID-5C8A0A90-28C9-444A-A382-9D5445F0A7D9" class="sect4"><span class="enumeration_section">5.4.5</span>修改内存设置 - 自动共享内存管理</h4>
                  <div>
                     <div class="section">
                        <p><a id="d14121e3061" class="indexterm-anchor"></a>在修改自动共享内存管理的内存设置之前，请使用Oracle Enterprise Manager Database Express（EM Express）中的SGA Advisor图来预测使用不同的系统全局区域（SGA）总大小节省的时间百分比。本节假定已禁用自动内存管理，并且已启用自动共享内存管理。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5C8A0A90-28C9-444A-A382-9D5445F0A7D9__GUID-8E87CC0E-36E2-4C26-BFF6-28C1A3433316">要预测为不同SGA内存大小节省的时间百分比：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>在EM Express中，从“ <span class="bold">配置”</span>菜单中选择“ <span class="bold">内存”</span> 。
                              </p>
                              <p>将出现“内存管理”页面。在“内存设置”部分中，“ <span class="bold">管理模式”</span>值在“SGA内存”子部分中为“ <span class="bold">自动</span> ”。这表示已为数据库启用了自动共享内存管理。
                              </p>
                           </li>
                           <li>
                              <p>使用SGA Advisor图形（显示在“内存设置”部分的右侧）来预测可能的SGA内存大小节省的时间百分比。</p>
                              <div class="figure" id="GUID-5C8A0A90-28C9-444A-A382-9D5445F0A7D9__GUID-4A5042AC-DF4B-4BB1-9DAF-5375758F0FBA"><img src="img/sga_advisor_graph.gif" width="299" alt="下面是sga_advisor_graph.gif的描述" title="下面是sga_advisor_graph.gif的描述" longdesc="img_text/sga_advisor_graph.html"><br><a href="img_text/sga_advisor_graph.html">插图描述sga_advisor_graph.gif</a></div>
                              <!-- class="figure" -->
                              <p>在SGA Advisor图表中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">SGA_TARGET</code>初始化参数的潜在值（以MB为单位）表示在图表的水平轴上。<code class="codeph">SGA_TARGET</code>初始化参数的当前设置用蓝点表示。
                                    </p>
                                 </li>
                                 <li>
                                    <p>保存的相应时间值表示在图表的垂直轴上。绘制的值表示为相对于<code class="codeph">SGA_TARGET</code>初始化参数的当前设置的百分比。
                                    </p>
                                    <p>负值表示消耗的时间增加的百分比（当分配给Oracle的内存小于当前设置时），而正值表示消耗的时间减少的百分比（当分配给Oracle的内存大于当前设置时） 。</p>
                                 </li>
                              </ul>
                              <p>图表上的橙色线绘制了可以为<code class="codeph">SGA_TARGET</code>初始化参数指定的不同值。单击橙色线上的任何点以查看该点表示的<code class="codeph">SGA_TARGET</code>值所消耗的时间减少的预测。
                              </p>
                              <p>在此图中，SGA Advisor图表指示增加<code class="codeph">SGA_TARGET</code>初始化参数的当前值不会减少节省的时间百分比。
                              </p>
                           </li>
                           <li>
                              <p>要更改<code class="codeph">SGA_TARGET</code>初始化参数的值，请执行以下操作：</p>
                              <ol type="a">
                                 <li>
                                    <p>单击Memory Management页面上的<span class="bold">Configure Memory</span> 。
                                    </p>
                                    <p>将出现“初始化参数”页面。</p>
                                 </li>
                                 <li>
                                    <p>选择<code class="codeph">SGA_TARGET</code>初始化参数，然后单击“ <span class="bold">设置”</span> 。
                                    </p>
                                    <p>将出现“设置初始化参数”页面。</p>
                                 </li>
                                 <li>
                                    <p>在“ <span class="bold">范围”</span>字段中，输入此更改的范围。
                                    </p>
                                    <p>有关设置Memory或SPFile范围或两者的范围的详细信息，请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-358561B0-EF88-4092-B447-562E2F7AA209" title="本节提供有关查看数据库的初始化参数设置和修改这些参数的说明。">查看和修改初始化参数</a> ”</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>在“ <span class="bold">值”</span>字段中，输入<code class="codeph">SGA_TARGET</code>初始化参数的新值。
                                    </p>
                                 </li>
                                 <li>
                                    <p>单击<span class="bold">确定</span> 。</p>
                                    <p>出现确认消息。</p>
                                 </li>
                              </ol>
                           </li>
                        </ol>
                        <div class="infoboxnotealso" id="GUID-5C8A0A90-28C9-444A-A382-9D5445F0A7D9__GUID-1FA81C6E-3D66-49F2-8928-A27CC6658875">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关内存管理模式的详细信息，请<a href="../tgdba/database-memory-allocation.html#TGDBA505" target="_blank"><span><cite>参见“Oracle数据库性能调整指南</cite></span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-9EC479AF-E92A-4868-9D0E-156D7F7B64AB" title="本节包含有关内存顾问的信息。">使用Memory Advisor优化内存使用</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-the-oracle-instance.html#GUID-2D1989A3-0922-48D6-8B97-3721141CC3BA" title="内存管理涉及在数据库更改需求时保持Oracle实例内存结构的最佳大小。">关于内存管理</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADMQS12405"></a><div class="props_rev_3"><a id="GUID-47B7DE62-CF0B-45B7-8235-FCEF6193FC99" name="GUID-47B7DE62-CF0B-45B7-8235-FCEF6193FC99"></a><h4 id="ADMQS-GUID-47B7DE62-CF0B-45B7-8235-FCEF6193FC99" class="sect4"><span class="enumeration_section">5.4.6</span>启用手动共享内存管理</h4>
                  <div>
                     <p>本节介绍如何启用手动共享内存管理。</p>
                     <div class="section">
                        <p>请按照以下步骤启用手动共享内存管理：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在Oracle Enterprise Manager Database Express（EM Express）中，从“ <span class="bold">配置”</span>菜单中选择“ <span class="bold">初始化参数”</span> 。</span><div>
                              <p>将出现“初始化参数”页面。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在“搜索”字段中，输入<code class="codeph">SGA_TARGET</code> 。</span></li>
                        <li class="stepexpand"><span>选择<code class="codeph">SGA_TARGET</code> ，然后单击“ <span class="bold">设置”</span> 。</span><div>
                              <p>将出现“设置初始化参数”页面。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在“ <span class="bold">值”</span>字段中，输入0，指定“ <span class="bold">内存</span> <span class="bold">范围</span> ”，然后单击“ <span class="bold">确定”</span> 。</span><div>
                              <p>出现确认消息。</p>
                              <div class="infoboxnote" id="GUID-47B7DE62-CF0B-45B7-8235-FCEF6193FC99__GUID-8AB7098A-6A1C-4AC6-87FC-4A5F510FE790">
                                 <p class="notep1">注意：</p>
                                 <p>此步骤为当前会话将<code class="codeph">SGA_TARGET</code>设置为0。将<code class="codeph">SGA_TARGET</code>设置为0并在重新启动数据库后使其保持有效：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>如果数据库使用服务器参数文件，请在“设置初始化参数”页面上指定“范围SPFile”和“内存范围”。</p>
                                    </li>
                                    <li>
                                       <p>如果数据库使用文本初始化参数文件，请在该文件中手动将<code class="codeph">SGA_TARGET</code>的值<code class="codeph">SGA_TARGET</code>为0。
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在“搜索”字段中，输入<code class="codeph">MEMORY_TARGET</code> 。</span></li>
                        <li class="stepexpand"><span>选择<code class="codeph">MEMORY_TARGET</code> ，然后单击“ <span class="bold">设置”</span> 。</span><div>
                              <p>将出现“设置初始化参数”页面。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在“ <span class="bold">值”</span>字段中，输入0，指定“内存范围”，然后单击“ <span class="bold">确定”</span> 。</span><div>
                              <p>出现确认消息。</p>
                              <div class="infoboxnote" id="GUID-47B7DE62-CF0B-45B7-8235-FCEF6193FC99__GUID-753D071E-E134-44E8-8CBB-C665D7AF6D66">
                                 <p class="notep1">注意：</p>
                                 <p>此步骤为当前会话将<code class="codeph">MEMORY_TARGET</code>设置为0。要将<code class="codeph">MEMORY_TARGET</code>设置为0并在重新启动数据库后使其保持有效：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>如果数据库使用服务器参数文件，请在“设置初始化参数”页面上指定“范围SPFile”和“内存范围”。</p>
                                    </li>
                                    <li>
                                       <p>如果数据库使用文本初始化参数文件，请在该文件中手动将<code class="codeph">MEMORY_TARGET</code>的值设置为0。
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>从“ <span class="bold">配置”</span>菜单中，选择“ <span class="bold">内存”</span> 。</span><div>
                              <p>请注意，在SGA内存部分下， <span class="bold">管理模式</span>值现在是<span class="bold">手动</span> 。这表示已启用手动共享内存管理。
                              </p>
                              <div class="figure" id="GUID-47B7DE62-CF0B-45B7-8235-FCEF6193FC99__GUID-3A9AC5AE-7A34-49F6-A1E5-E59BA6507FBF"><img src="img/man_mem_mgmt_crop.gif" width="241" alt="man_mem_mgmt_crop.gif的描述如下" title="man_mem_mgmt_crop.gif的描述如下" longdesc="img_text/man_mem_mgmt_crop.html"><br><a href="img_text/man_mem_mgmt_crop.html">插图说明man_mem_mgmt_crop.gif</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>有关为各种SGA组件设置值的详细信息，请参见“ <a href="../admin/managing-memory.html#ADMIN11219" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。</span></li>
                     </ol>
                  </div>
               </div><a id="ADMQS12407"></a><a id="ADMQS12406"></a><div class="props_rev_3"><a id="GUID-0DBFE80D-826B-43FF-AE92-1C4B710807B2" name="GUID-0DBFE80D-826B-43FF-AE92-1C4B710807B2"></a><h4 id="ADMQS-GUID-0DBFE80D-826B-43FF-AE92-1C4B710807B2" class="sect4"><span class="enumeration_section">5.4.7</span>修改内存设置 - 手动共享内存管理</h4>
                  <div>
                     <div class="section">
                        <p><a id="d14121e3410" class="indexterm-anchor"></a>在修改手动共享内存管理的内存设置之前，请使用Oracle Enterprise Manager Database Express（EM Express）中的Buffer Cache Advisor图来预测使用不同数据库缓存大小保存的读取的估计百分比。本节假定已禁用自动内存管理，并且已启用手动共享内存管理。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0DBFE80D-826B-43FF-AE92-1C4B710807B2__GUID-5FC87DFA-9AE2-4DFE-9BB8-1E66CD560133">要预测为不同数据库缓存大小保存的读取百分比：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>在EM Express中，从“ <span class="bold">配置”</span>菜单中选择“ <span class="bold">内存”</span> 。
                              </p>
                              <p>将出现“内存管理”页面。在“内存设置”部分中，“ <span class="bold">管理模式”</span>值在“SGA内存”子部分中为“ <span class="bold">手动</span> ”。这表示已为数据库启用了手动共享内存管理。
                              </p>
                           </li>
                           <li>
                              <p>使用Buffer Cache Advisor图（显示在Memory Settings部分右侧）来预测为潜在数据库缓存大小保存的读取百分比。</p>
                              <div class="figure" id="GUID-0DBFE80D-826B-43FF-AE92-1C4B710807B2__GUID-FE503590-EFA6-441E-B88B-20E5B05DF395"><img src="img/buffer_cache_advisor_graph.gif" width="301" alt="buffer_cache_advisor_graph.gif的描述如下" title="buffer_cache_advisor_graph.gif的描述如下" longdesc="img_text/buffer_cache_advisor_graph.html"><br><a href="img_text/buffer_cache_advisor_graph.html">插图描述buffer_cache_advisor_graph.gif</a></div>
                              <!-- class="figure" -->
                              <p>在Buffer Cache Advisor图中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">DB_CACHE_SIZE</code>初始化参数的潜在值（以MB为单位）表示在图形的水平轴上。<code class="codeph">DB_CACHE_SIZE</code>初始化参数的当前设置由蓝点表示。
                                    </p>
                                 </li>
                                 <li>
                                    <p>保存的相应读取值表示在图表的垂直轴上。绘制的值表示为相对于<code class="codeph">DB_CACHE_SIZE</code>初始化参数的当前设置的百分比。
                                    </p>
                                    <p>负值表示读取增加的百分比（当分配给Oracle的内存小于当前设置时），而正值表示读取减少的百分比（当分配给Oracle的内存大于当前设置时）。</p>
                                 </li>
                              </ul>
                              <p>图表上的橙色线绘制了可以为<code class="codeph">DB_CACHE_SIZE</code>初始化参数指定的不同值。单击橙色线上的任何点以查看为该点表示的<code class="codeph">DB_CACHE_SIZE</code>值保存的读取百分比的预测。
                              </p>
                              <p>在此图中，Buffer Cache Advisor图表指示增加<code class="codeph">DB_CACHE_SIZE</code>初始化参数的当前值不会增加保存的读取百分比。
                              </p>
                           </li>
                           <li>
                              <p>要更改<code class="codeph">DB_CACHE_SIZE</code>初始化参数的值，请执行以下操作：</p>
                              <ol type="a">
                                 <li>
                                    <p>单击Memory Management页面上的<span class="bold">Configure Memory</span> 。
                                    </p>
                                    <p>将出现“初始化参数”页面。</p>
                                 </li>
                                 <li>
                                    <p>选择<code class="codeph">DB_CACHE_SIZE</code>初始化参数，然后单击“ <span class="bold">设置”</span> 。
                                    </p>
                                    <p>将出现“设置初始化参数”页面。</p>
                                 </li>
                                 <li>
                                    <p>在“ <span class="bold">范围”</span>字段中，输入此更改的范围。
                                    </p>
                                    <p>有关指定MEMORY或SPFile或两者的范围的详细信息，请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-358561B0-EF88-4092-B447-562E2F7AA209" title="本节提供有关查看数据库的初始化参数设置和修改这些参数的说明。">查看和修改初始化参数</a> ”</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>在“ <span class="bold">值”</span>字段中，输入<code class="codeph">DB_CACHE_SIZE</code>初始化参数的新值。
                                    </p>
                                 </li>
                                 <li>
                                    <p>单击<span class="bold">确定</span> 。</p>
                                    <p>出现确认消息。</p>
                                 </li>
                              </ol>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADMQS12159"></a><a id="ADMQS12102"></a><div class="props_rev_3"><a id="GUID-E357EFB6-898F-47BF-9362-F8E954D0847B" name="GUID-E357EFB6-898F-47BF-9362-F8E954D0847B"></a><h4 id="ADMQS-GUID-E357EFB6-898F-47BF-9362-F8E954D0847B" class="sect4"><span class="enumeration_section">5.4.8</span>修改内存设置 - 自动PGA内存管理</h4>
                  <div>
                     <p>修改自动程序全局区域（PGA）内存管理的内存设置涉及使用Oracle Enterprise Manager Database Express（EM Express）中的PGA Advisor图来修改实例PGA大小。本节假定已禁用自动内存管理，并且已启用自动PGA内存管理。</p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-E357EFB6-898F-47BF-9362-F8E954D0847B__GUID-9FBC4EC8-4397-4845-9A81-01B536D1ECA9">
                           <p class="notep1">注意：</p>
                           <p>禁用自动内存管理时，默认情况下仍会启用自动PGA内存管理。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E357EFB6-898F-47BF-9362-F8E954D0847B__GUID-071AEC2E-657F-416C-A965-C682620B171A">要修改实例PGA大小：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>在EM Express中，从“ <span class="bold">配置”</span>菜单中选择“ <span class="bold">内存”</span> 。
                              </p>
                              <p>将出现“内存管理”页面。如果数据库启用了自动共享内存管理或手动共享内存管理，则PGA Advisor Graph将显示为“内存设置”部分右侧的第二个图表。</p>
                           </li>
                           <li>
                              <p>使用PGA Advisor图预测潜在数据库缓存大小的估计缓存命中百分比。</p>
                              <div class="figure" id="GUID-E357EFB6-898F-47BF-9362-F8E954D0847B__GUID-BD3DBD69-9ADF-4A6A-A743-BADC75BC76E9"><img src="img/pga_advisor_graph.gif" width="300" alt="pga_advisor_graph.gif的描述如下" title="pga_advisor_graph.gif的描述如下" longdesc="img_text/pga_advisor_graph.html"><br><a href="img_text/pga_advisor_graph.html">插图描述pga_advisor_graph.gif</a></div>
                              <!-- class="figure" -->
                              <p>在PGA Advisor图表中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">PGA_AGGREGATE_TARGET</code>初始化参数的潜在值表示在图表的水平轴上。单位尺寸（例如， <code class="codeph">MB</code>或<code class="codeph">GB</code> ）也在水平轴上指示。<code class="codeph">PGA_AGGREGATE_TARGET</code>初始化参数的当前设置由蓝点表示。
                                    </p>
                                 </li>
                                 <li>
                                    <p>相应的估计高速缓存命中百分比值表示在图的垂直轴上。绘制的值表示为相对于<code class="codeph">PGA_AGGREGATE_TARGET</code>初始化参数的当前设置的百分比。
                                    </p>
                                 </li>
                              </ul>
                              <p>图表上的橙色线绘制了可以为<code class="codeph">PGA_AGGREGATE_TARGET</code>初始化参数指定的不同值。单击橙色线上的任何点以查看该点表示的<code class="codeph">PGA_AGGREGATE_TARGET</code>值的缓存命中百分比的估计值。
                              </p>
                              <p>在此图中，PGA Advisor图表指示增加<code class="codeph">PGA_AGGREGATE_TARGET</code>初始化参数的当前值不会增加缓存命中的百分比。
                              </p>
                           </li>
                           <li>
                              <p>要更改<code class="codeph">PGA_AGGREGATE_TARGET</code>初始化参数的值，请执行以下操作：</p>
                              <ol type="a">
                                 <li>
                                    <p>单击Memory Management页面上的<span class="bold">Configure Memory</span> 。
                                    </p>
                                    <p>将出现“初始化参数”页面。</p>
                                 </li>
                                 <li>
                                    <p>选择<code class="codeph">PGA_AGGREGATE_TARGET</code>初始化参数，然后单击“ <span class="bold">设置”</span> 。
                                    </p>
                                    <p>将出现“设置初始化参数”页面。</p>
                                 </li>
                                 <li>
                                    <p>在“ <span class="bold">范围”</span>字段中，输入此更改的范围。
                                    </p>
                                    <p>有关指定Memory或SPFile范围或两者的详细信息，请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-358561B0-EF88-4092-B447-562E2F7AA209" title="本节提供有关查看数据库的初始化参数设置和修改这些参数的说明。">查看和修改初始化参数</a> ”</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>在“ <span class="bold">值”</span>字段中，输入<code class="codeph">PGA_AGGREGATE_TARGET</code>初始化参数的新值。
                                    </p>
                                 </li>
                                 <li>
                                    <p>单击<span class="bold">确定</span> 。</p>
                                    <p>出现确认消息。</p>
                                 </li>
                              </ol>
                           </li>
                        </ol>
                        <div class="infoboxnotealso" id="GUID-E357EFB6-898F-47BF-9362-F8E954D0847B__GUID-5CC9B17D-5021-4ADE-9F52-A177B8066E9D">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关内存管理模式的详细信息，请<a href="../tgdba/database-memory-allocation.html#TGDBA505" target="_blank"><span><cite>参见“Oracle数据库性能调整指南</cite></span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-the-oracle-instance.html#GUID-2D1989A3-0922-48D6-8B97-3721141CC3BA" title="内存管理涉及在数据库更改需求时保持Oracle实例内存结构的最佳大小。">关于内存管理</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADMQS055"></a><div class="props_rev_3"><a id="GUID-6980EA34-EF9A-46BD-BE45-A84FC9673CDF" name="GUID-6980EA34-EF9A-46BD-BE45-A84FC9673CDF"></a><h3 id="ADMQS-GUID-6980EA34-EF9A-46BD-BE45-A84FC9673CDF" class="sect3"><span class="enumeration_section">5.5</span>管理Oracle实例：Oracle示例系列</h3>
               <div>
                  <p>Oracle示例（OBE）有一系列关于<span class="italic">Oracle Database 2 Day DBA</span>指南的系列文章。本OBE将引导您完成本章中的任务，并包含带注释的屏幕截图。
                  </p>
                  <div class="section">
                     <p>要查看管理Oracle实例OBE，请在Web浏览器中输入以下URL：</p>
                     <p><a href="https://apexapps.oracle.com/pls/apex/f?p=44785:24:::NO:24:P24_CONTENT_ID:16828" target="_blank"><code class="codeph">https://apexapps.oracle.com/pls/apex/f?p=44785:24:::NO:24:P24_CONTENT_ID:16828</code></a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01098.DBMS_SESSION.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This package provides access to SQL ALTER SESSION and SET ROLE statements, and other session information, from PL/SQL. You can use DBMS_SESSION to set preferences and security levels."></meta>
      <meta name="description" content="This package provides access to SQL ALTER SESSION and SET ROLE statements, and other session information, from PL/SQL. You can use DBMS_SESSION to set preferences and security levels."></meta>
      <title>DBMS_SESSION</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="This package provides access to SQL ALTER SESSION and SET ROLE statements, and other session information, from PL/SQL. You can use DBMS_SESSION to set preferences and security levels."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_SERVICE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_SFW_ACL_ADMIN.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_SERVICE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_SFW_ACL_ADMIN.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_SESSION</li>
            </ol>
            <a id="GUID-CD7AE975-F4F4-4C12-B080-3DABD2D1194E" name="GUID-CD7AE975-F4F4-4C12-B080-3DABD2D1194E"></a><a id="ARPLS054"></a><a id="ARPLS054"></a>
            
            <h2 id="ARPLS-GUID-CD7AE975-F4F4-4C12-B080-3DABD2D1194E" class="sect2"><span class="enumeration_chapter">148</span> DBMS_SESSION</h2>
         </header>
         <div class="ind">
            <div>
               <p>此包提供对来自PL / SQL的SQL <code class="codeph">ALTER SESSION</code>和<code class="codeph">SET ROLE</code>语句以及其他会话信息的访问。您可以使用<code class="codeph">DBMS_SESSION</code>设置首选项和安全级别。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_SESSION.html#GUID-8DB98328-A478-41E8-85BC-DBFD5CA58A17" title="此程序包使用调用用户的权限运行，而不是程序包所有者SYS。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SESSION.html#GUID-040EF335-3E50-48AB-94C5-6B4871FCCB76" title="您不应该尝试打开或关闭close_cached_open_cursors。">操作说明</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SESSION.html#GUID-D9C7ADF3-8E33-4516-8D14-A0A124F2E95C" title="DBMS_SESSION包定义TABLE类型。">数据结构</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SESSION.html#GUID-E69B52AC-D122-49A1-9ADF-0A421C86D371" title="此表按字母顺序列出DBMS_SESSION子程序，并简要描述它们。">DBMS_SESSION子程序摘要</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS68033"></a><a id="ARPLS68033"></a><div class="props_rev_3"><a id="GUID-8DB98328-A478-41E8-85BC-DBFD5CA58A17" name="GUID-8DB98328-A478-41E8-85BC-DBFD5CA58A17"></a><h3 id="ARPLS-GUID-8DB98328-A478-41E8-85BC-DBFD5CA58A17" class="sect3"><span class="enumeration_section">148.1</span> DBMS_SESSION安全模型</h3>
               <div>
                  <p>此程序包使用调用用户的权限运行，而不是程序包所有者<code class="codeph">SYS</code> 。</p>
               </div>
            </div><a id="ARPLS68034"></a><a id="ARPLS68034"></a><div class="props_rev_3"><a id="GUID-040EF335-3E50-48AB-94C5-6B4871FCCB76" name="GUID-040EF335-3E50-48AB-94C5-6B4871FCCB76"></a><h3 id="ARPLS-GUID-040EF335-3E50-48AB-94C5-6B4871FCCB76" class="sect3"><span class="enumeration_section">148.2</span> DBMS_SESSION操作说明</h3>
               <div>
                  <p>您不应该尝试打开或关闭<code class="codeph">close_cached_open_cursors</code> 。
                  </p>
               </div>
            </div><a id="ARPLS72662"></a><a id="ARPLS72662"></a><div class="props_rev_3"><a id="GUID-D9C7ADF3-8E33-4516-8D14-A0A124F2E95C" name="GUID-D9C7ADF3-8E33-4516-8D14-A0A124F2E95C"></a><h3 id="ARPLS-GUID-D9C7ADF3-8E33-4516-8D14-A0A124F2E95C" class="sect3"><span class="enumeration_section">148.3</span> DBMS_SESSION数据结构</h3>
               <div>
                  <p><code class="codeph">DBMS_SESSION</code>包定义<code class="codeph">TABLE</code>类型。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-D9C7ADF3-8E33-4516-8D14-A0A124F2E95C__GUID-5151C5B1-F428-4C49-8498-5F6F998D732D">表类型</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBMS_SESSION.html#GUID-5F71F5F1-8141-40BC-8CC8-92F3D34B0F11" title="INTEGER_ARRAY是BINARY_INTEGER的表类型。">INTEGER_ARRAY表类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_SESSION.html#GUID-D94E5815-06D9-4F40-9FFB-7B5D13EA12EF" title="LNAME_ARRAY是VARCHAR2的表类型。">LNAME_ARRAY表类型</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ARPLS72663"></a><a id="ARPLS72663"></a><div class="props_rev_3"><a id="GUID-5F71F5F1-8141-40BC-8CC8-92F3D34B0F11" name="GUID-5F71F5F1-8141-40BC-8CC8-92F3D34B0F11"></a><h4 id="ARPLS-GUID-5F71F5F1-8141-40BC-8CC8-92F3D34B0F11" class="sect4"><span class="enumeration_section">148.3.1</span> DBMS_SERVICE INTEGER_ARRAY表类型</h4>
                  <div>
                     <p><code class="codeph">INTEGER_ARRAY</code>是<code class="codeph">BINARY_INTEGER</code>的表类型。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5F71F5F1-8141-40BC-8CC8-92F3D34B0F11__GUID-83A1E6A2-7BBC-434A-BA40-C2C64998B309">句法</p><pre class="oac_no_warn" dir="ltr">TYPE integer_array是BINARY_INTEGER INDEX BY BINARY_INTEGER的表;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72664"></a><a id="ARPLS72664"></a><div class="props_rev_3"><a id="GUID-D94E5815-06D9-4F40-9FFB-7B5D13EA12EF" name="GUID-D94E5815-06D9-4F40-9FFB-7B5D13EA12EF"></a><h4 id="ARPLS-GUID-D94E5815-06D9-4F40-9FFB-7B5D13EA12EF" class="sect4"><span class="enumeration_section">148.3.2</span> DBMS_SERVICE LNAME_ARRAY表类型</h4>
                  <div>
                     <p><code class="codeph">LNAME_ARRAY</code>是<code class="codeph">VARCHAR2</code>的表类型。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D94E5815-06D9-4F40-9FFB-7B5D13EA12EF__GUID-CAD26EEA-B13A-40C2-B03E-B52545E8C255">句法</p><pre class="oac_no_warn" dir="ltr">TYPE lname_array IS TABLE OF VARCHAR2（4000）INDEX BY BINARY_INTEGER;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ARPLS68035"></a><a id="ARPLS68036"></a><a id="ARPLS68036"></a><a id="ARPLS68035"></a><div class="props_rev_3"><a id="GUID-E69B52AC-D122-49A1-9ADF-0A421C86D371" name="GUID-E69B52AC-D122-49A1-9ADF-0A421C86D371"></a><h3 id="ARPLS-GUID-E69B52AC-D122-49A1-9ADF-0A421C86D371" class="sect3"><span class="enumeration_section">148.4</span> DBMS_SESSION子程序摘要</h3>
               <div>
                  <p>此表按字母顺序列出DBMS_SESSION子程序，并简要描述它们。</p>
                  <div class="tblformal" id="GUID-E69B52AC-D122-49A1-9ADF-0A421C86D371__GUID-1464FE65-E656-4352-A7A8-5D526E0BD7E1">
                     <p class="titleintable">表148-1 <span class="italic"><span class="bold">DBMS_SESSION包子程序</span></span></p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SESSION包子程序" width="100%" border="1" summary="This table lists the DBMS_SESSION subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="40%" id="d829761e746">子程序</th>
                              <th align="left" valign="bottom" width="60%" id="d829761e749">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e754" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-D89A115F-309E-41F8-A4C6-8505826389FA" title="此过程清除指定命名空间中的应用程序上下文信息。">CLEAR_ALL_CONTEXT程序</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e754 d829761e749 ">
                                 <p>清除所有上下文信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e765" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-44636CFD-6404-41CE-B628-BB489B42E600" title="此过程清除指定命名空间中的应用程序上下文。">CLEAR_CONTEXT程序</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e765 d829761e749 ">
                                 <p>清除上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e776" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-F9852716-3AD8-4469-8B3F-0E3684BB5408" title="此过程将删除会话中的set_client_id。">CLEAR_IDENTIFIER程序</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e776 d829761e749 ">
                                 <p>清除标识符</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e790" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-610D3996-E929-4247-9ADC-DEC7A5C8E9B1" title="此过程将关闭打开的数据库链接。它等效于以下SQL语句：ALTER SESSION CLOSE DATABASE LINK &lt;name&gt;">CLOSE_DATABASE_LINK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e790 d829761e749 ">
                                 <p>关闭数据库链接</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e803" headers="d829761e746 "><a href="DBMS_SESSION.html#GUID-283809E8-CDBC-4F55-98ED-465134C689F1" title="此函数确定当前是否启用了命名角色。">CURRENT_IS_ROLE_ENABLED函数</a></td>
                              <td align="left" valign="top" width="60%" headers="d829761e803 d829761e749 ">
                                 <p>确定当前是否已启用命名角色。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e813" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-D93DFC75-3E0F-46DE-A81E-70FE44DE18B5" title="执行需要大量内存（超过100K）的操作后，此过程将回收未使用的内存。">FREE_UNUSED_USER_MEMORY程序</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e813 d829761e749 ">
                                 <p>允许您在执行需要大量内存的操作后回收未使用的内存</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e824" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-BEB98648-836A-41BD-8D79-70F229090EC3" title="此过程描述静态包内存使用情况。">GET_PACKAGE_MEMORY_UTILIZATION过程</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e824 d829761e749 ">
                                 <p>描述静态包内存使用情况</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e835" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-14DD5376-A640-422C-B358-224E445A748B" title="此函数确定是否为此会话启用了命名角色。">IS_ROLE_ENABLED函数</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e835 d829761e749 ">
                                 <p>确定是否为会话启用了命名角色。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e846" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-EE8A8304-EDA4-4D83-BF6F-D07E12A3EAA6" title="此函数确定指定的会话是否处于活动状态。">IS_SESSION_ALIVE函数</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e846 d829761e749 ">
                                 <p>确定指定的会话是否处于活动状态</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e857" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-A01AD9BB-0A96-4C67-BDB0-231A9D707AE9" title="此过程返回当前会话的活动命名空间和上下文的列表。">LIST_CONTEXT程序</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e857 d829761e749 ">
                                 <p>返回当前会话的活动命名空间和上下文的列表</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e868" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-4B2ABC0D-1370-4C70-A539-0841D7B9339C" title="此过程用于对会话中活动的所有PL / SQL程序单元的会话状态执行各种操作（由action_flags参数指定）。这在使当前调用完成运行的PL / SQL调用之后生效。">MODIFY_PACKAGE_STATE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e868 d829761e749 ">
                                 <p>用于对会话中活动的所有PL / SQL程序单元的会话状态执行各种操作（由<code class="codeph">action_flags</code>参数指定）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e886" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-CEC0FC4B-6520-4A79-A0C9-32C1ACAC552A" title="此过程取消实例化此会话中的所有包。它释放了包状态。">RESET_PACKAGE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e886 d829761e749 ">
                                 <p>取消实例化会话中的所有包</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e897" headers="d829761e746 "><a href="DBMS_SESSION.html#GUID-D890B42B-C19D-4E03-978D-242011D397A7" title="此函数确定是否为当前会话启用了命名角色。">SESSION_IS_ROLE_ENABLED函数</a></td>
                              <td align="left" valign="top" width="60%" headers="d829761e897 d829761e749 ">确定是否在会话级别启用了命名角色。</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e906" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-64B4E483-32E9-4C43-8FED-CEA034B05910" title="此过程将重置调用它的会话的会话级SQL跟踪。客户端ID和服务/模块/操作跟踪不受影响。">SESSION_TRACE_DISABLE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e906 d829761e749 ">
                                 <p>重置调用它的会话的会话级SQL跟踪。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e917" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-0EF8429F-B552-40D0-885C-3C560A66152D" title="此过程为调用会话启用会话级SQL跟踪。调用此过程将导致对会话发出的每个SQL语句进行SQL跟踪。">SESSION _TRACE_ENABLE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e917 d829761e749 ">
                                 <p>为调用会话启用会话级SQL跟踪</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e928" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-395C622C-ED79-44CC-9157-6A320934F2A9" title="此过程设置上下文，其中有四种类型：会话本地，全局初始化，外部初始化和全局访问。">SET_CONTEXT过程</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e928 d829761e749 ">
                                 <p>设置或重置上下文属性的值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e939" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-D0A69F10-8137-4BCC-B318-4F48A25C163F" title="此过程请求切换到指定的版本。交换机在当前客户端呼叫结束时生效。">SET_EDITION_DEFERRED程序</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e939 d829761e749 ">
                                 <p>请求切换到指定版本</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e950" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-988EA930-BDFE-4205-A806-E54F05333562" title="此过程在会话中设置客户端ID。">SET_IDENTIFIER过程</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e950 d829761e749 ">
                                 <p>设置标识符</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e961" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-0EEDE81B-FFA3-4719-A1E6-B779B54A5379" title="此过程设置您的全球化支持（NLS）。它等同于SQL语句：ALTER SESSION SET &lt;nls_parameter&gt; = &lt;value&gt;。">SET_NLS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e961 d829761e749 ">
                                 <p>设置全球化支持（NLS）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e975" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-C4C84E06-96CD-4360-AB4F-E8D13DDFF35F" title="此过程启用和禁用角色。它等同于SET ROLE SQL语句。">SET_ROLE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e975 d829761e749 ">
                                 <p>设定角色</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e992" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-E4110F86-9985-4741-AFF4-6C8CE44CDD32" title="此过程打开或关闭跟踪。它相当于SQL语句ALTER SESSION SET SQL_TRACE ....">SET_SQL_TRACE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e992 d829761e749 ">
                                 <p>打开或关闭跟踪</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e1006" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-27CCC2F7-6564-41D2-8C42-CFFBF25A69B5" title="此过程将会话暂停指定的时间段。">睡眠程序</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e1006 d829761e749 ">
                                 <p>暂停会话一段指定的时间。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e1018" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-AAD961A1-841C-4D77-B28A-576E6EFD4964" title="此过程更改用户当前会话的当前资源使用者组。">SWITCH_CURRENT_CONSUMER_GROUP过程</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e1018 d829761e749 ">
                                 <p>便于更改用户当前会话的当前资源使用者组</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d829761e1029" headers="d829761e746 ">
                                 <p><a href="DBMS_SESSION.html#GUID-5818F785-8102-43F5-A49D-78E0D4D22EB2" title="此函数返回对当前连接到此数据库的所有会话唯一的标识符。在同一会话期间多次调用此函数始终返回相同的结果。">UNIQUE_SESSION_ID函数</a></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d829761e1029 d829761e749 ">
                                 <p>返回当前连接到此数据库的所有会话唯一的标识符</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div class="sect3"><a id="GUID-AF3D28D8-E194-48D0-ADA6-887BFC8CB1A4" name="GUID-AF3D28D8-E194-48D0-ADA6-887BFC8CB1A4"></a><h4 id="ARPLS-GUID-AF3D28D8-E194-48D0-ADA6-887BFC8CB1A4" class="sect4"><span class="enumeration_section">148.4.1</span> ADD_SQL_CONNECTION_TEST过程</h4>
                  <div>
                     <p>此过程添加了一个新的连接测试，该测试在计划维护开始之前在排空会话期间使用。当标准测试未涵盖SQL连接测试时，请使用此过程。添加时启用测试。如果提供了可选服务名称限定符，则测试仅适用于该服务名称。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-AF3D28D8-E194-48D0-ADA6-887BFC8CB1A4__GUID-C7FFD22A-E5ED-4DBB-B918-B9AA0ECF8FF1">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.ADD_SQL_CONNECTION_TEST（connection_test IN VARCHAR2 service_name IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AF3D28D8-E194-48D0-ADA6-887BFC8CB1A4__GUID-43960098-8144-4E3A-8953-D6ADDC4BB677">参数</p>
                        <div class="tblformal" id="GUID-AF3D28D8-E194-48D0-ADA6-887BFC8CB1A4__GUID-0E22BBF8-C052-470B-9E67-995B5B9389C3">
                           <p class="titleintable">表148-2 ADD_SQL_CONNECTION_TEST过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADD_SQL_CONNECTION_TEST过程参数" border="1" summary="This table describes the parameters of DBMS_SESSION.ADD_SQL_CONNECTION_TEST." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d829761e1145">参数</th>
                                    <th align="left" valign="bottom" id="d829761e1148">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d829761e1153" headers="d829761e1145 ">
                                       <p><code class="codeph">CONNECTION_TEST</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d829761e1153 d829761e1148 ">
                                       <p>用于测试和排空连接的SQL文本。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d829761e1161" headers="d829761e1145 ">
                                       <p><code class="codeph">服务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d829761e1161 d829761e1148 ">
                                       <p>可选的服务名称限定符。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AF3D28D8-E194-48D0-ADA6-887BFC8CB1A4__GUID-7028A579-81B7-4469-9FFB-6F84533ACA07">使用说明</p>
                        <p><code class="codeph">ADD_SQL_CONNECTION_TEST Procedure</code>添加连接测试，以便在计划维护开始之前排空会话。应用程序使用连接测试来测试标记为排空的连接。会话设置为停止并重新定位服务或PDB的操作。设置时，RDBMS会在耗尽时关闭连接，以便应用程序在计划维护期间看不到任何错误。您可以根据需要输入任意数量的CONNECTION TEST。它们仅在计划维护期间使用。测试适用于所有RAC实例。
                        </p>
                        <p>有关服务限定符可用性的最新更新，请查看联机文档。</p>
                        <p>通过查询视图<code class="codeph">DBA_CONNECTION_TESTS</code>可以查看添加的连接。</p>
                        <p>此过程由<code class="codeph">SYS</code>拥有，并授予用户在<code class="codeph">CDB$ROOT</code>或<code class="codeph">PDB</code>级别执行，或者在不是多租户时，在字典级别执行。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68037"></a><a id="ARPLS68038"></a><a id="ARPLS68038"></a><a id="ARPLS68037"></a><div class="props_rev_3"><a id="GUID-D89A115F-309E-41F8-A4C6-8505826389FA" name="GUID-D89A115F-309E-41F8-A4C6-8505826389FA"></a><h4 id="ARPLS-GUID-D89A115F-309E-41F8-A4C6-8505826389FA" class="sect4"><span class="enumeration_section">148.4.2</span> CLEAR_ALL_CONTEXT过程</h4>
                  <div>
                     <p>此过程清除指定命名空间中的应用程序上下文信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D89A115F-309E-41F8-A4C6-8505826389FA__GUID-39DFDE17-2B87-4010-91EE-A64B0BFE1EDE">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.CLEAR_ALL_CONTEXT命名空间VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D89A115F-309E-41F8-A4C6-8505826389FA__GUID-49D49CB8-488B-4542-B7CA-43929C15165E">参数</p>
                        <div class="tblformal" id="GUID-D89A115F-309E-41F8-A4C6-8505826389FA__GUID-F7F84555-A5B9-4EDB-B840-57926215AD2C">
                           <p class="titleintable">表148-3 CLEAR_ALL_CONTEXT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CLEAR_ALL_CONTEXT过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SESSION.CLEAR_ALL_CONTEXT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d829761e1305">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d829761e1308">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e1313" headers="d829761e1305 ">
                                       <p><code class="codeph">命名空间</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e1313 d829761e1308 ">
                                       <p>要清除应用程序上下文信息的命名空间。需要。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D89A115F-309E-41F8-A4C6-8505826389FA__GUID-81989776-9124-4FBF-81A8-A3827142A6CC">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>必须由受信任的包直接或间接调用此过程。</p>
                           </li>
                           <li>
                              <p>上下文值的任何更改都会立即反映，后续通过<code class="codeph">SYS_CONTEXT</code>访问该值的调用将返回最新值。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68039"></a><a id="ARPLS68040"></a><a id="ARPLS68040"></a><a id="ARPLS68039"></a><div class="props_rev_3"><a id="GUID-44636CFD-6404-41CE-B628-BB489B42E600" name="GUID-44636CFD-6404-41CE-B628-BB489B42E600"></a><h4 id="ARPLS-GUID-44636CFD-6404-41CE-B628-BB489B42E600" class="sect4"><span class="enumeration_section">148.4.3</span> CLEAR_CONTEXT过程</h4>
                  <div>
                     <p>此过程清除指定命名空间中的应用程序上下文。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-44636CFD-6404-41CE-B628-BB489B42E600__GUID-A8862657-2526-4C9E-930A-EE70BC29645E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.CLEAR_CONTEXT命名空间VARCHAR2，client_identifier VARCHAR2属性VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-44636CFD-6404-41CE-B628-BB489B42E600__GUID-27246B8C-2AF6-4C7E-ABBE-7CFD8BC06AAF">参数</p>
                        <div class="tblformal" id="GUID-44636CFD-6404-41CE-B628-BB489B42E600__GUID-C288DB18-4E75-45F1-A380-272DC65095DF">
                           <p class="titleintable">表148-4 CLEAR_CONTEXT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CLEAR_CONTEXT过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SESSION.CLEAR_CONTEXT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d829761e1443">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d829761e1446">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e1451" headers="d829761e1443 ">
                                       <p><code class="codeph">命名空间</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e1451 d829761e1446 ">
                                       <p>要清除应用程序上下文的名称空间。需要。</p>
                                       <p>对于会话本地上下文，必须指定<code class="codeph">namespace</code> 。如果将<code class="codeph">namespace</code>定义为<code class="codeph">Session Local Context</code> ，则<code class="codeph">client_identifier</code>是可选的，因为它仅与全局访问的上下文相关联。
                                       </p>
                                       <p>对于全局访问的上下文，必须指定<code class="codeph">namespace</code> 。<code class="codeph">NULL</code>是<code class="codeph">client_identifier</code>的有效值，因为没有标识符集的会话可以看到使用<code class="codeph">SET_CONTEXT</code>设置的（ <code class="codeph">namespace, attribute, value, username, null</code> ）上下文。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e1490" headers="d829761e1443 ">
                                       <p><code class="codeph">CLIENT_IDENTIFIER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e1490 d829761e1446 ">
                                       <p>适用于全局上下文，对于其他类型的上下文是可选的;最大64字节</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e1498" headers="d829761e1443 ">
                                       <p><code class="codeph">属性</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e1498 d829761e1446 ">
                                       <p>要清除的命名空间中的特定属性。可选的。默认值为<code class="codeph">NULL</code> 。如果将<code class="codeph">attribute</code>指定为<code class="codeph">NULL</code> ，则会从该会话中清除该命名空间的（ <code class="codeph">namespace, attribute, value</code> ）。如果未指定<code class="codeph">attribute</code> ，则清除具有<code class="codeph">namespace</code>和<code class="codeph">client_identifier</code>参数的所有上下文信息。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-44636CFD-6404-41CE-B628-BB489B42E600__GUID-D45B4051-3429-4B4A-AA82-1349B02449EA">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>必须由受信任的包直接或间接调用此过程。</p>
                           </li>
                           <li>
                              <p>上下文值的任何更改都会立即反映，后续通过<code class="codeph">SYS_CONTEXT</code>访问该值的调用将返回最新值。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68041"></a><a id="ARPLS68041"></a><div class="props_rev_3"><a id="GUID-F9852716-3AD8-4469-8B3F-0E3684BB5408" name="GUID-F9852716-3AD8-4469-8B3F-0E3684BB5408"></a><h4 id="ARPLS-GUID-F9852716-3AD8-4469-8B3F-0E3684BB5408" class="sect4"><span class="enumeration_section">148.4.4</span> CLEAR_IDENTIFIER程序</h4>
                  <div>
                     <p>此过程将删除会话中的<code class="codeph">set_client_id</code> 。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F9852716-3AD8-4469-8B3F-0E3684BB5408__GUID-AA60115F-8554-4ABD-ABC7-5B0F453A1440">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.CLEAR_IDENTIFIER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F9852716-3AD8-4469-8B3F-0E3684BB5408__GUID-9A3DE1EC-6393-435C-B38B-CD859691A646">使用说明</p>
                        <p>此过程可由公共执行。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68042"></a><a id="ARPLS68043"></a><a id="ARPLS68043"></a><a id="ARPLS68042"></a><div class="props_rev_3"><a id="GUID-610D3996-E929-4247-9ADC-DEC7A5C8E9B1" name="GUID-610D3996-E929-4247-9ADC-DEC7A5C8E9B1"></a><h4 id="ARPLS-GUID-610D3996-E929-4247-9ADC-DEC7A5C8E9B1" class="sect4"><span class="enumeration_section">148.4.5</span> CLOSE_DATABASE_LINK过程</h4>
                  <div>
                     <p>此过程将关闭打开的数据库链接。它等效于以下SQL语句： <code class="codeph">ALTER SESSION CLOSE DATABASE LINK &lt;name&gt;</code></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-610D3996-E929-4247-9ADC-DEC7A5C8E9B1__GUID-52D59B5A-FD6E-4205-A334-FF31EB9116F9">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.CLOSE_DATABASE_LINK（dblink VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-610D3996-E929-4247-9ADC-DEC7A5C8E9B1__GUID-424D6CC5-09FE-40D0-872B-D713C9ADA81F">参数</p>
                        <div class="tblformal" id="GUID-610D3996-E929-4247-9ADC-DEC7A5C8E9B1__GUID-057C7D44-C1AA-45C4-A69E-6BBAC9F4ECEE">
                           <p class="titleintable">表148-5 CLOSE_DATABASE_LINK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CLOSE_DATABASE_LINK过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SESSION.CLOSE_DATABASE_LINK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d829761e1756">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d829761e1759">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d829761e1764" headers="d829761e1756 ">
                                       <p><code class="codeph">DBLINK</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d829761e1764 d829761e1759 ">
                                       <p>要关闭的数据库链接的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-283809E8-CDBC-4F55-98ED-465134C689F1" name="GUID-283809E8-CDBC-4F55-98ED-465134C689F1"></a><h4 id="ARPLS-GUID-283809E8-CDBC-4F55-98ED-465134C689F1" class="sect4"><span class="enumeration_section">148.4.6</span> CURRENT_IS_ROLE_ENABLED函数</h4>
                  <div>
                     <p>此函数确定当前是否启用了命名角色。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-283809E8-CDBC-4F55-98ED-465134C689F1__GUID-B6BB3DF7-9CDA-4030-B4B9-5E86319E25BA">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.CURRENT_IS_ROLE_ENABLED（rolename VARCHAR2）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-283809E8-CDBC-4F55-98ED-465134C689F1__GUID-E35EBE3D-C9A9-4821-88CB-C8D9209AC5FC">参数</p>
                        <div class="tblformal" id="GUID-283809E8-CDBC-4F55-98ED-465134C689F1__GUID-0B598E86-8F76-41B7-ADEF-A42340236580">
                           <p class="titleintable">表148-6 CURRENT_IS_ROLE_ENABLED函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CURRENT_IS_ROLE_ENABLED函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SESSION.CURRENT_IS_ROLE_ENABLED subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d829761e1877">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d829761e1880">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e1885" headers="d829761e1877 ">
                                       <p><code class="codeph">角色名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e1885 d829761e1880 ">
                                       <p>角色的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-283809E8-CDBC-4F55-98ED-465134C689F1__GUID-BFC7B9D7-C269-4E24-9A88-F01529D8AE44">返回值</p>
                        <ul id="GUID-283809E8-CDBC-4F55-98ED-465134C689F1__UL_ODK_T3H_CHB" style="list-style-type:disc">
                           <li>如果角色已启用，则为<code class="codeph">TRUE</code> 。
                           </li>
                           <li><code class="codeph">FALSE</code> - 如果未启用该角色。
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C3A57192-E500-4C66-AC36-325B3D395FE2" name="GUID-C3A57192-E500-4C66-AC36-325B3D395FE2"></a><h4 id="ARPLS-GUID-C3A57192-E500-4C66-AC36-325B3D395FE2" class="sect4"><span class="enumeration_section">148.4.7</span> DELETE_SQL_CONNECTION_TEST过程</h4>
                  <div>
                     <p>此过程将删除计划排空不再需要的连接测试。删除测试会立即应用于PDB处于打开状态的所有RAC实例。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C3A57192-E500-4C66-AC36-325B3D395FE2__GUID-BF80F6F8-1339-4A71-854C-E5797DBFA429">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.DELETE_SQL_CONNECTION_TEST（connection_test IN VARCHAR2 service_name IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C3A57192-E500-4C66-AC36-325B3D395FE2__GUID-5A433BDE-339B-4EFB-AB6A-5090C7335249">参数</p>
                        <div class="tblformal" id="GUID-C3A57192-E500-4C66-AC36-325B3D395FE2__GUID-65B683CB-EE46-4B40-912F-717739122B5B">
                           <p class="titleintable">表148-7 DELETE_SQL_CONNECTION_TEST过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_SQL_CONNECTION_TEST过程参数" border="1" summary="This table describes Parameters used by the DBMS_SESSION.DELETE_SQL_CONNECTION_TEST subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d829761e2010">参数</th>
                                    <th align="left" valign="bottom" id="d829761e2013">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d829761e2018" headers="d829761e2010 ">
                                       <p><code class="codeph">CONNECTION_TEST</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d829761e2018 d829761e2013 ">
                                       <p>用于测试和排空连接的SQL文本。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d829761e2026" headers="d829761e2010 ">
                                       <p><code class="codeph">服务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d829761e2026 d829761e2013 ">
                                       <p>可选的服务名称限定符。</p>
                                       <p>如果提供了可选的<code class="codeph">SERVICE_NAME</code>限定符，则仅删除该服务名称的测试。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C3A57192-E500-4C66-AC36-325B3D395FE2__GUID-ED499282-ECA2-4975-A3E6-3C75C1D5CFAF">使用说明</p>
                        <p>如果您不确定是否应删除测试，可以使用<code class="codeph">DISABLE_CONNECTION_TEST</code>过程禁用测试。只能删除自定义SQL测试。无法删除预定义的测试。检查服务限定符可用性的最新更新。
                        </p>
                        <p>这个过程是由拥有<code class="codeph">SYS</code>在<code class="codeph">CDB$ROOT</code>或<code class="codeph">PDB</code>水平，或<code class="codeph">SYS</code>的时候不要多租户。
                        </p>
                        <p>可以通过查询视图<code class="codeph">DBA_CONNECTION_TESTS</code>来检查连接测试及其状态。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-1F2402B9-3FE4-4CF4-85D5-0649ED140634" name="GUID-1F2402B9-3FE4-4CF4-85D5-0649ED140634"></a><h4 id="ARPLS-GUID-1F2402B9-3FE4-4CF4-85D5-0649ED140634" class="sect4"><span class="enumeration_section">148.4.8</span> DISABLE_CONNECTION_TEST过程</h4>
                  <div>
                     <p>此过程在会话耗尽期间禁用连接测试。禁用测试会立即应用于PDB处于打开状态的所有RAC实例。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1F2402B9-3FE4-4CF4-85D5-0649ED140634__GUID-4C1EE86A-C69E-4407-8C92-DD3C7E54B1C7">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.DISABLE_CONNECTION_TEST（connection_test_type IN VARCHAR2，connection_test IN VARCHAR2，service_name IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F2402B9-3FE4-4CF4-85D5-0649ED140634__GUID-226F32C8-CDDB-43B1-90A9-543EAE24FCBC">参数</p>
                        <div class="tblformal" id="GUID-1F2402B9-3FE4-4CF4-85D5-0649ED140634__GUID-494716CE-F58D-4B1E-A9A6-7E482153FD66">
                           <p class="titleintable">表148-8 DISABLE_CONNECTION_TEST过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DISABLE_CONNECTION_TEST过程参数" border="1" summary="This table describes the parameters of DBMS_SESSION.DISABLE_CONNECTION_TEST Procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d829761e2172">参数</th>
                                    <th align="left" valign="bottom" id="d829761e2175">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d829761e2180" headers="d829761e2172 ">
                                       <p><code class="codeph">CONNECTION_TEST_TYPE</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d829761e2180 d829761e2175 ">
                                       <p>允许的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">DBMS_SESSION.SQL_TEST</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DBMS_SESSION.PING_TEST</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DBMS_SESSION.ENDREQUEST_TEST</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d829761e2201" headers="d829761e2172 ">
                                       <p><code class="codeph">CONNECTION_TEST</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d829761e2201 d829761e2175 ">
                                       <p>用于测试和排空连接的SQL文本。</p>
                                       <p>仅当<code class="codeph">CONNECTION_TEST_TYPE</code>值为<code class="codeph">SQL_TEST</code>才允许使用此参数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d829761e2217" headers="d829761e2172 ">
                                       <p><code class="codeph">服务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d829761e2217 d829761e2175 ">
                                       <p>可选的服务名称限定符。如果提供了可选的服务名称限定符，则仅启用该服务名称的测试。服务名称级别的禁用优先于<code class="codeph">PDB</code>级别的启用。也就是说，可以启用<code class="codeph">PDB</code> ，并禁用该服务。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F2402B9-3FE4-4CF4-85D5-0649ED140634__GUID-E50E4681-FAD4-4C9C-8E5D-8A489535B699">使用说明</p>
                        <p>此过程由<code class="codeph">SYS</code>拥有，并授予用户在<code class="codeph">CDB$ROOT</code>或<code class="codeph">PDB</code>级别执行，或者在不是多租户时，在字典级别执行。
                        </p>
                        <p>可以通过查询视图<code class="codeph">DBA_CONNECTION_TESTS</code>来检查连接测试及其状态。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-A28F7F54-94B4-4163-9CA5-7645AA3AAFE7" name="GUID-A28F7F54-94B4-4163-9CA5-7645AA3AAFE7"></a><h4 id="ARPLS-GUID-A28F7F54-94B4-4163-9CA5-7645AA3AAFE7" class="sect4"><span class="enumeration_section">148.4.9</span> ENABLE_CONNECTION_TEST过程</h4>
                  <div>
                     <p>此过程允许在计划维护之前使用连接测试来排空数据库会话。启用测试会立即应用于PDB处于打开状态的所有RAC实例。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A28F7F54-94B4-4163-9CA5-7645AA3AAFE7__GUID-7635E072-28D8-41E2-9D08-E76EEA53608A">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.ENABLE_CONNECTION_TEST（connection_test_type IN VARCHAR2，connection_test IN VARCHAR2，service_name IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A28F7F54-94B4-4163-9CA5-7645AA3AAFE7__GUID-7D59A7F1-4961-4F90-8664-19CB7DF5C2A9">参数</p>
                        <div class="tblformal" id="GUID-A28F7F54-94B4-4163-9CA5-7645AA3AAFE7__GUID-70A60C2B-ED7E-43DF-86A7-422784F91A8E">
                           <p class="titleintable">表148-9 ENABLE_CONNECTION_TEST过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ENABLE_CONNECTION_TEST过程参数" border="1" summary="This table describes the parameters of DBMS_SESSION.ENABLE_CONNECTION_TEST procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d829761e2355">参数</th>
                                    <th align="left" valign="bottom" id="d829761e2358">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d829761e2363" headers="d829761e2355 ">
                                       <p><code class="codeph">CONNECTION_TEST_TYPE</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d829761e2363 d829761e2358 ">
                                       <p>在计划维护之前管理连接测试以排空时使用的连接类型。请参阅连接测试的ADD，DELETE，ENABLE，DISABLE过程。</p>
                                       <p>允许的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">DBMS_SESSION.SQL_TEST</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DBMS_SESSION.PING_TEST</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DBMS_SESSION.ENDREQUEST_TEST</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d829761e2386" headers="d829761e2355 ">
                                       <p><code class="codeph">CONNECTION_TEST</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d829761e2386 d829761e2358 ">
                                       <p>用于在计划维护开始之前测试和排空RDBMS上的连接的SQL文本。</p>
                                       <p>仅当<code class="codeph">CONNECTION_TEST_TYPE</code>值为<code class="codeph">SQL_TEST</code>才允许使用此参数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d829761e2402" headers="d829761e2355 ">
                                       <p><code class="codeph">服务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d829761e2402 d829761e2358 ">
                                       <p>可选的服务名称限定符。如果提供了可选的服务名称限定符，则仅启用该服务名称的测试。服务名称级别的启用将覆盖任何更高级别的禁用。也就是说，可以禁用PDB，并启用服务。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A28F7F54-94B4-4163-9CA5-7645AA3AAFE7__GUID-EBC2FA8C-FAE2-4227-85DC-C9B94A90F8B2">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>此过程由<code class="codeph">SYS</code>拥有，并授予用户在<code class="codeph">CDB$ROOT</code>或<code class="codeph">PDB</code>级别执行，或者在不是多租户时，在字典级别执行</p>
                           </li>
                           <li>
                              <p><code class="codeph">ENABLE_CONNECTION_TEST</code>在计划维护期间启用连接测试以排空会话。启用操作适用于<code class="codeph">PDB</code>处于打开状态的所有RAC实例。它会在数据库重新启动后持续存在。
                              </p>
                           </li>
                           <li>
                              <p>此过程由<code class="codeph">SYS</code>拥有，并授予用户在<code class="codeph">CDB$ROOT</code>或<code class="codeph">PDB</code>级别执行，或者在不是多租户时，在字典级别执行。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68044"></a><a id="ARPLS68044"></a><div class="props_rev_3"><a id="GUID-D93DFC75-3E0F-46DE-A81E-70FE44DE18B5" name="GUID-D93DFC75-3E0F-46DE-A81E-70FE44DE18B5"></a><h4 id="ARPLS-GUID-D93DFC75-3E0F-46DE-A81E-70FE44DE18B5" class="sect4"><span class="enumeration_section">148.4.10</span> FREE_UNUSED_USER_MEMORY程序</h4>
                  <div>
                     <p>执行需要大量内存（超过100K）的操作后，此过程将回收未使用的内存。</p>
                     <div class="section">
                        <p>使用大量内存的操作示例包括：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>大型排序，其中使用整个<code class="codeph">sort_area_size</code>并且<code class="codeph">sort_area_size</code>是数百KB。</p>
                           </li>
                           <li>
                              <p>编译大型PL / SQL包，过程或函数。</p>
                           </li>
                           <li>
                              <p>在PL / SQL索引表中存储数百KB的数据。</p>
                           </li>
                        </ul>
                        <p>您可以通过跟踪<code class="codeph">v$sesstat</code>或<code class="codeph">v$statname</code>固定视图中的统计信息“session UGA memory”和“session PGA memory”来监视用户内存。监视这些统计信息还会显示此过程释放的内存量。
                        </p>
                        <div class="infoboxnote" id="GUID-D93DFC75-3E0F-46DE-A81E-70FE44DE18B5__GUID-F20C1A0C-1B96-4687-B33D-25BDAF80D421">
                           <p class="notep1">注意：</p>
                           <p>此过程仅应用于内存非常宝贵的情况。它应该不经常使用并明智地使用。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D93DFC75-3E0F-46DE-A81E-70FE44DE18B5__GUID-EEC4FF11-970C-4047-8135-618D13588B06">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.FREE_UNUSED_USER_MEMORY;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D93DFC75-3E0F-46DE-A81E-70FE44DE18B5__GUID-0719799A-9F30-4CD9-963B-D6013A5C86FC">返回值</p>
                        <p>此过程的行为取决于代表客户端运行的服务器的配置：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">专用服务器</span> ：将未使用的PGA内存和会话内存返回给操作系统。会话内存在此配置中从PGA分配。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">共享服务器</span> ：这会将未使用的会话内存返回给<code class="codeph">shared_pool</code> 。会话内存在此配置中从<code class="codeph">shared_pool</code>分配。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D93DFC75-3E0F-46DE-A81E-70FE44DE18B5__GUID-216CB7A1-D83A-4E1B-A91B-0EC0073832C6">使用说明</p>
                        <p>为了使用此过程释放内存，不得使用内存。</p>
                        <p>在操作分配内存后，只有相同类型的操作可以重用分配的内存。例如，在为sort分配内存之后，即使排序已完成且内存不再使用，只有另一种排序可以重用已排序的内存。对于排序和编译，在操作完成后，内存不再使用，用户可以调用此过程来释放未使用的内存。</p>
                        <p>索引表隐式分配内存以存储分配给索引表元素的值。因此，索引表中的元素越多，RDBMS分配给索引表的内存就越多。只要索引表中有元素，就会使用与索引表关联的内存。</p>
                        <p>索引表的范围决定了它们的内存使用时间。全局声明的索引表是在包或包体中声明的索引表。它们从会话内存中分配内存。对于全局声明的索引表，内存在用户登录的生命周期（用户会话的生命周期）内保持使用，并在用户断开与ORACLE的连接后释放。</p>
                        <p>在本地声明的索引表是在函数，过程或匿名块中声明的索引表。这些索引表从PGA内存分配内存。对于在本地声明的索引表，只要用户仍在运行声明索引表的过程，函数或匿名块，内存就会保持使用状态。在过程，函数或匿名块完成运行之后，内存可用于其他本地声明的索引表（换句话说，内存不再使用）。</p>
                        <p>将未初始化的“空”索引表分配给现有索引表是一种显式重新初始化索引表和与索引表关联的内存的方法。执行此操作后，与索引表关联的内存不再使用，从而可以通过调用此过程释放它。此方法对于全局声明的索引表特别有用，只要用户不再需要索引表的内容，该索引表就可以在用户会话的生命周期内增长。</p>
                        <p>与索引表的范围相关联的内存规则仍然适用;但是，此方法和此过程允许用户进行干预并显式释放与索引表关联的内存。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D93DFC75-3E0F-46DE-A81E-70FE44DE18B5__GUID-C7ABB4B0-52EF-405C-8B19-BD61A839A651">例子</p>
                        <p>以下PL / SQL说明了<code class="codeph">FREE_UNUSED_USER_MEMORY</code>过程的方法和<code class="codeph">FREE_UNUSED_USER_MEMORY</code> 。</p><pre class="oac_no_warn" dir="ltr">CREATE PACKAGE foobar类型number_idx_tbl是由binary_integer索引的数字表; store1_table number_idx_tbl; -  PL / SQL索引表store2_table number_idx_tbl; -  PL / SQL索引表store3_table number_idx_tbl; -  PL / SQL索引表...结束; -  foobar DECLARE结束......empty_table number_idx_tbl; - 未初始化（“空”）版本BEGIN FOR i in 1..1000000 loop store1_table（i）：= i; - 加载数据END LOOP; ...store1_table：= empty_table; - “截断”索引表...-  dbms_session.free_unused_user_memory; - 将内存返回给系统store1_table（1）：= 100; - 仍然声明索引表; store2_table（2）：= 200; - 但被截断了。...结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72665"></a><a id="ARPLS72666"></a><a id="ARPLS72666"></a><a id="ARPLS72665"></a><div class="props_rev_3"><a id="GUID-BEB98648-836A-41BD-8D79-70F229090EC3" name="GUID-BEB98648-836A-41BD-8D79-70F229090EC3"></a><h4 id="ARPLS-GUID-BEB98648-836A-41BD-8D79-70F229090EC3" class="sect4"><span class="enumeration_section">148.4.11</span> GET_PACKAGE_MEMORY_UTILIZATION过程</h4>
                  <div>
                     <p>此过程描述静态包内存使用情况。</p>
                     <div class="section">
                        <p>输出集合描述每个实例化包中的内存使用情况。每个包都由其所有者名称，包名称，已用内存量和未使用的已分配内存量来描述。由于内存碎片，未使用的内存量大于零，并且因为一旦使用了空闲内存块，最初会转到包内存堆拥有的空闲列表。只有在调用<a href="DBMS_SESSION.html#GUID-D93DFC75-3E0F-46DE-A81E-70FE44DE18B5" title="执行需要大量内存（超过100K）的操作后，此过程将回收未使用的内存。">FREE_UNUSED_USER_MEMORY过程</a>时，它们才会释放回父堆。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BEB98648-836A-41BD-8D79-70F229090EC3__GUID-A530AD72-EA6B-4AB7-8A59-075665D08C4F">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.GET_PACKAGE_MEMORY_UTILIZATION（owner_names OUT NOCOPY LNAME_ARRAY，unit_names OUT NOCOPY LNAME_ARRAY，unit_types OUT NOCOPY INTEGER_ARRAY，used_amounts OUT NOCOPY INTEGER_ARRAY，free_amounts OUT NOCOPY INTEGER_ARRAY）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BEB98648-836A-41BD-8D79-70F229090EC3__GUID-790B6D1B-83B3-4FDC-B3FA-A4D8DFCB7BC1">参数</p>
                        <div class="tblformal" id="GUID-BEB98648-836A-41BD-8D79-70F229090EC3__GUID-9BCED8B8-4FB8-4DCD-9C58-FBEAA6D00491">
                           <p class="titleintable">表148-10 GET_PACKAGE_MEMORY_UTILIZATION函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_PACKAGE_MEMORY_UTILIZATION函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SESSION.GET_PACKAGE_MEMORY_UTILIZATION subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d829761e2740">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d829761e2743">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e2748" headers="d829761e2740 ">
                                       <p><code class="codeph">OWNER_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e2748 d829761e2743 ">
                                       <p>包的所有者</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e2756" headers="d829761e2740 ">
                                       <p><code class="codeph">UNIT_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e2756 d829761e2743 ">
                                       <p>包裹名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e2764" headers="d829761e2740 ">
                                       <p><code class="codeph">unit_types</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e2764 d829761e2743 ">
                                       <p>字典表<code class="codeph">obj$</code>的<code class="codeph">type#</code>列的值</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e2777" headers="d829761e2740 ">
                                       <p><code class="codeph">used_amounts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e2777 d829761e2743 ">
                                       <p>以字节为单位指定的已分配内存量</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e2785" headers="d829761e2740 ">
                                       <p><code class="codeph">free_amounts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e2785 d829761e2743 ">
                                       <p>以字节为单位指定的可用内存量</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68045"></a><a id="ARPLS68046"></a><a id="ARPLS68047"></a><a id="ARPLS68046"></a><a id="ARPLS68047"></a><a id="ARPLS68045"></a><div class="props_rev_3"><a id="GUID-14DD5376-A640-422C-B358-224E445A748B" name="GUID-14DD5376-A640-422C-B358-224E445A748B"></a><h4 id="ARPLS-GUID-14DD5376-A640-422C-B358-224E445A748B" class="sect4"><span class="enumeration_section">148.4.12</span> IS_ROLE_ENABLED函数</h4>
                  <div>
                     <p>此函数确定是否为此会话启用了命名角色。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-14DD5376-A640-422C-B358-224E445A748B__GUID-B6BB3DF7-9CDA-4030-B4B9-5E86319E25BA">句法</p>
                        <div class="infoboxnote" id="GUID-14DD5376-A640-422C-B358-224E445A748B__GUID-BA76AA97-2F8F-41F1-A71F-6D539271FF9D">
                           <p class="notep1">注意：</p>从Oracle Database 19c开始，不推荐使用此函数。请改用<code class="codeph">DBMS_SESSION.CURRENT_IS_ROLE_ENABLED</code>或<code class="codeph">DBMS_SESSION.SESSION_IS_ROLE_ENABLED</code> 。
                        </div><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.IS_ROLE_ENABLED（rolename VARCHAR2）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-14DD5376-A640-422C-B358-224E445A748B__GUID-E35EBE3D-C9A9-4821-88CB-C8D9209AC5FC">参数</p>
                        <div class="tblformal" id="GUID-14DD5376-A640-422C-B358-224E445A748B__GUID-0B598E86-8F76-41B7-ADEF-A42340236580">
                           <p class="titleintable">表148-11 IS_ROLE_ENABLED函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IS_ROLE_ENABLED函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SESSION.IS_ROLE_ENABLED subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d829761e2912">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d829761e2915">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e2920" headers="d829761e2912 ">
                                       <p><code class="codeph">角色名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e2920 d829761e2915 ">
                                       <p>角色的名称。\</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-14DD5376-A640-422C-B358-224E445A748B__GUID-BFC7B9D7-C269-4E24-9A88-F01529D8AE44">返回值</p>
                        <div class="tblformal" id="GUID-14DD5376-A640-422C-B358-224E445A748B__GUID-CABE46F0-B2D1-4ACF-8F4F-65D1A5A57C3C">
                           <p class="titleintable">表148-12 IS_ROLE_ENABLED函数返回值</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IS_ROLE_ENABLED函数返回值" width="100%" border="1" summary="This table decribes Values Returned by the IS_ROLE_ENABLED subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d829761e2940">返回</th>
                                    <th align="left" valign="bottom" width="74%" id="d829761e2943">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e2948" headers="d829761e2940 ">
                                       <p><code class="codeph">is_role_enabled</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e2948 d829761e2943 ">
                                       <p><code class="codeph">TRUE</code>或<code class="codeph">FALSE</code> ，具体取决于角色是否已启用</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68048"></a><a id="ARPLS68049"></a><a id="ARPLS68050"></a><a id="ARPLS68049"></a><a id="ARPLS68050"></a><a id="ARPLS68048"></a><div class="props_rev_3"><a id="GUID-EE8A8304-EDA4-4D83-BF6F-D07E12A3EAA6" name="GUID-EE8A8304-EDA4-4D83-BF6F-D07E12A3EAA6"></a><h4 id="ARPLS-GUID-EE8A8304-EDA4-4D83-BF6F-D07E12A3EAA6" class="sect4"><span class="enumeration_section">148.4.13</span> IS_SESSION_ALIVE函数</h4>
                  <div>
                     <p>此函数确定指定的会话是否处于活动状态。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EE8A8304-EDA4-4D83-BF6F-D07E12A3EAA6__GUID-A585DD1C-8A87-4330-B483-B138CDCE98D7">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.IS_SESSION_ALIVE（uniqueid VARCHAR2）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE8A8304-EDA4-4D83-BF6F-D07E12A3EAA6__GUID-F82A5062-C956-4A47-8894-67DE8BF10445">参数</p>
                        <div class="tblformal" id="GUID-EE8A8304-EDA4-4D83-BF6F-D07E12A3EAA6__GUID-6572B6DE-5060-49E4-A885-2A2B3662F6F1">
                           <p class="titleintable">表148-13 IS_SESSION_ALIVE函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IS_SESSION_ALIVE函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SESSION.IS_SESSION_ALIVE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d829761e3072">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d829761e3075">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e3080" headers="d829761e3072 ">
                                       <p><code class="codeph">唯一身份</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e3080 d829761e3075 ">
                                       <p>会话的唯一ID：这与<code class="codeph">UNIQUE_SESSION_ID</code>返回的ID相同。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE8A8304-EDA4-4D83-BF6F-D07E12A3EAA6__GUID-EC8C23C4-D6BE-4E52-A13F-8E59766EBDDA">返回值</p>
                        <div class="tblformal" id="GUID-EE8A8304-EDA4-4D83-BF6F-D07E12A3EAA6__GUID-4BF0804F-303F-4BC0-820D-4422581B8167">
                           <p class="titleintable">表148-14 IS_SESSION_ALIVE函数返回值</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IS_SESSION_ALIVE函数返回值" width="100%" border="1" summary="This table decribes Values Returned by the IS_SESSION_ALIVE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d829761e3103">返回</th>
                                    <th align="left" valign="bottom" width="74%" id="d829761e3106">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e3111" headers="d829761e3103 ">
                                       <p><code class="codeph">is_session_alive</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e3111 d829761e3106 ">
                                       <p><code class="codeph">TRUE</code>或<code class="codeph">FALSE</code> ，具体取决于会话是否处于活动状态</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68051"></a><a id="ARPLS68052"></a><a id="ARPLS68053"></a><a id="ARPLS68052"></a><a id="ARPLS68053"></a><a id="ARPLS68051"></a><div class="props_rev_3"><a id="GUID-A01AD9BB-0A96-4C67-BDB0-231A9D707AE9" name="GUID-A01AD9BB-0A96-4C67-BDB0-231A9D707AE9"></a><h4 id="ARPLS-GUID-A01AD9BB-0A96-4C67-BDB0-231A9D707AE9" class="sect4"><span class="enumeration_section">148.4.14</span> LIST_CONTEXT程序</h4>
                  <div>
                     <p>此过程返回当前会话的活动命名空间和上下文的列表。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A01AD9BB-0A96-4C67-BDB0-231A9D707AE9__GUID-E23BB97F-AAC7-4A6D-8EE5-5270C467D862">句法</p><pre class="oac_no_warn" dir="ltr">TYPE AppCtxRecTyp IS RECORD（名称空间VARCHAR2（30），属性VARCHAR2（30），值VARCHAR2（256））; TYPE AppCtxTabTyp是BINARY_INTEGER的AppCtxRecTyp索引表; DBMS_SESSION.LIST_CONTEXT（列出OUT AppCtxTabTyp，大小OUT NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A01AD9BB-0A96-4C67-BDB0-231A9D707AE9__GUID-DAED4F00-D450-4A8E-90D7-D0A60BA3CCA3">参数</p>
                        <div class="tblformal" id="GUID-A01AD9BB-0A96-4C67-BDB0-231A9D707AE9__GUID-B5F10809-7A1D-49E1-9093-66975DC5DBCF">
                           <p class="titleintable">表148-15 LIST_CONTEXT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="LIST_CONTEXT过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SESSION.LIST_CONTEXT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d829761e3236">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d829761e3239">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e3244" headers="d829761e3236 ">
                                       <p><code class="codeph">名单</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e3244 d829761e3239 ">
                                       <p>缓冲区，用于存储当前会话中设置的应用程序上下文列表</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A01AD9BB-0A96-4C67-BDB0-231A9D707AE9__GUID-682CE0DA-1455-4E76-A28F-1FD4D81846AA">返回值</p>
                        <div class="tblformal" id="GUID-A01AD9BB-0A96-4C67-BDB0-231A9D707AE9__GUID-FBA8572B-628C-400D-9F16-8FC7CCB28F7B">
                           <p class="titleintable">表148-16 LIST_CONTEXT过程返回值</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="LIST_CONTEXT过程返回值" width="100%" border="1" summary="This table decribes Values Returned by the LIST_CONTEXT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d829761e3264">返回</th>
                                    <th align="left" valign="bottom" width="69%" id="d829761e3267">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d829761e3272" headers="d829761e3264 ">
                                       <p><code class="codeph">名单</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d829761e3272 d829761e3267 ">
                                       <p>当前会话中设置的（名称空间，属性，值）列表</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d829761e3280" headers="d829761e3264 ">
                                       <p><code class="codeph">尺寸</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d829761e3280 d829761e3267 ">
                                       <p>返回返回的缓冲区中的条目数</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A01AD9BB-0A96-4C67-BDB0-231A9D707AE9__GUID-5622A4A6-F8B2-4867-9AC3-6C4C7F1432D0">使用说明</p>
                        <p>列表中的上下文信息显示为一系列&lt; <code class="codeph">namespace</code> &gt; &lt; <code class="codeph">attribute</code> &gt; &lt; <code class="codeph">value</code> &gt;。因为<code class="codeph">list</code>是表类型变量，所以它的大小会动态调整为返回列表的大小。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68054"></a><a id="ARPLS68055"></a><a id="ARPLS68056"></a><a id="ARPLS68055"></a><a id="ARPLS68056"></a><a id="ARPLS68054"></a><div class="props_rev_3"><a id="GUID-4B2ABC0D-1370-4C70-A539-0841D7B9339C" name="GUID-4B2ABC0D-1370-4C70-A539-0841D7B9339C"></a><h4 id="ARPLS-GUID-4B2ABC0D-1370-4C70-A539-0841D7B9339C" class="sect4"><span class="enumeration_section">148.4.15</span> MODIFY_PACKAGE_STATE过程</h4>
                  <div>
                     <p>此过程用于对会话中活动的所有PL / SQL程序单元的会话状态执行各种操作（由<code class="codeph">action_flags</code>参数指定）。这在使当前调用完成运行的PL / SQL调用之后生效。
                     </p>
                     <div class="section">
                        <p>该过程使用<a href="DBMS_SESSION.html#GUID-4B2ABC0D-1370-4C70-A539-0841D7B9339C__CEGFIFFA" title="此表描述了MODIFY_PACKAGE_STATE子程序的Action_flags常量。">表148-18中</a>列出的<code class="codeph">DBMS_SESSION</code>常量。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4B2ABC0D-1370-4C70-A539-0841D7B9339C__GUID-A44F271B-8452-4E0D-995A-7B53641A3435">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.MODIFY_PACKAGE_STATE（action_flags IN PLS_INTEGER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4B2ABC0D-1370-4C70-A539-0841D7B9339C__GUID-547A9DCF-E88A-4C31-BE4F-B1557689134B">参数</p>
                        <div class="tblformal" id="GUID-4B2ABC0D-1370-4C70-A539-0841D7B9339C__GUID-16096075-CCB7-4D42-B728-E0D4F1413ACC">
                           <p class="titleintable">表148-17 MODIFY_PACKAGE_STATE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="MODIFY_PACKAGE_STATE过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SESSION.MODIFY_PACKAGE_STATE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d829761e3430">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d829761e3433">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d829761e3438" headers="d829761e3430 ">
                                       <p><code class="codeph">action_flags</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d829761e3438 d829761e3433 ">
                                       <p>位标志，用于确定对PL / SQL程序单元采取的操作：</p>
                                       <p><code class="codeph">DBMS_SESSION.FREE_ALL_RESOURCES</code> （或<code class="codeph">1</code> ） - 与会话中每个先前运行的PL / SQL程序相关联的所有内存。清除任何包全局变量的当前值并关闭缓存的游标。在后续使用中，PL / SQL程序单元被重新实例化并且包全局变量被重新初始化。使用<code class="codeph">DBMS_SESSION.FREE_ALL_RESOURCES</code>参数调用<code class="codeph">MODIFY_PACKAGE_STATE</code>提供与<code class="codeph">DBMS_SESSION.RESET_PACKAGE()</code>接口相同的功能。
                                       </p>
                                       <p><code class="codeph">DBMS_SESSION.REINITIALIZE</code> （或<code class="codeph">2</code> ） - 重新初始化包而不实际释放并从头开始重新创建。而是重用包内存。就程序语义而言， <code class="codeph">DBMS_SESSION.REINITIALIZE</code>标志类似于<code class="codeph">DBMS_SESSION.FREE_ALL_RESOURCES</code>标志，因为它们都具有重新初始化所有包的效果。
                                       </p>
                                       <p>但是， <code class="codeph">DBMS_SESSION.REINITIALIZE</code>应该表现出比<code class="codeph">DBMS_SESSION.FREE_ALL_RESOURCES</code>选项更好的性能，因为：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>软件包重新初始化，而不是实际释放并从头开始重新创建。相反，包内存被重用。</p>
                                          </li>
                                          <li>
                                             <p>从语义上讲，任何打开的游标都是封闭的。但是，实际上没有释放游标资源。它只是返回到PL / SQL游标缓存。未刷新游标缓存。因此，与PL / SQL中经常访问的静态SQL相对应的游标仍然缓存在PL / SQL游标缓存中，并且应用程序不会产生在后续使用时打开，解析和关闭这些语句的新游标的开销。</p>
                                          </li>
                                          <li>
                                             <p>没有全局状态的PL / SQL模块的会话内存（例如类型，存储过程）不会被释放和重新创建。</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4B2ABC0D-1370-4C70-A539-0841D7B9339C__GUID-E407E933-4539-4C91-950E-8FB6F23896A3">使用说明</p>
                        <p>有关标志之间的差异以及为什么<code class="codeph">DBMS_SESSION.REINITIALIZE</code>表现出比<code class="codeph">DBMS_SESSION.FREE_ALL_RESOURCES</code>更好的性能，请参阅<a href="DBMS_SESSION.html#GUID-0EF8429F-B552-40D0-885C-3C560A66152D__BHCHABJJ" title="此表描述了DBMS_SESSION.SESSION_TRACE_ENABLE子程序使用的参数。">表148-20中</a>的参数说明。</p>
                        <div class="tblformal" id="GUID-4B2ABC0D-1370-4C70-A539-0841D7B9339C__CEGFIFFA">
                           <p class="titleintable">表148-18 MODIFY_PACKAGE_STATE的Action_flags常量</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Action_flags MODIFY_PACKAGE_STATE的常量" width="100%" border="1" summary="This table describes Action_flags Constants for the MODIFY_PACKAGE_STATE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d829761e3518">不变</th>
                                    <th align="left" valign="bottom" width="70%" id="d829761e3521">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d829761e3526" headers="d829761e3518 ">
                                       <p><code class="codeph">FREE_ALL_RESOURCES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d829761e3526 d829761e3521 ">
                                       <p><code class="codeph">PLS_INTEGER：= 1</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d829761e3535" headers="d829761e3518 ">
                                       <p><code class="codeph">重新初始化</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d829761e3535 d829761e3521 ">
                                       <p><code class="codeph">PLS_INTEGER：= 2</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <ul style="list-style-type:disc">
                           <li>
                              <p>重新初始化是指将所有包变量重置为其初始值并在包体中运行初始化块（如果有）的过程。考虑一下这个包：</p>
                           </li>
                        </ul><pre class="oac_no_warn" dir="ltr">包P是n数; m number：= P2.foo; d date：= SYSDATE; cursor c是select * from emp;程序栏;结束P; / package body P是v varchar2（20）：='hello';程序栏开始......结束;程序init_pkg开始....结束; begin  - 初始化块init_pkg; ......结束P; /</pre><p>对于包P，重新初始化涉及：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将<code class="codeph">Pn</code>设置为<code class="codeph">NULL</code></p>
                           </li>
                           <li>
                              <p>调用函数<code class="codeph">P2.foo</code>并将<code class="codeph">Pm</code>设置为从<code class="codeph">P2.foo</code>返回的值</p>
                           </li>
                           <li>
                              <p>将<code class="codeph">Pd</code>设置为内置的<code class="codeph">SYSDATE</code>的返回值</p>
                           </li>
                           <li>
                              <p>关闭光标<code class="codeph">Pc</code>如果之前已打开）</p>
                           </li>
                           <li>
                              <p>将<code class="codeph">Pv</code>设为'hello'</p>
                           </li>
                           <li>
                              <p>在包体中运行初始化块</p>
                           </li>
                        </ul>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>只有在随后实际引用包时才会重新初始化包。此外，包随后按照它们被引用的顺序重新初始化。</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">FREE_ALL_RESOURCES</code>或<code class="codeph">REINITIALIZE</code> ，请确保重置包变量值不会影响应用程序。
                              </p>
                           </li>
                           <li>
                              <p>因为<code class="codeph">DBMS_SESSION.REINITIALIZE</code>实际上不会释放所有包状态，所以在某些情况下，应用程序可以使用比使用<code class="codeph">FREE_ALL_RESOURCES</code>标志或<code class="codeph">RESET_PACKAGE</code>过程多得多的会话内存。例如，在执行<code class="codeph">DBMS_SESSION.MODIFY_PACKAGE_STATE(DBMS_SESSION.REINITIALIZE)</code> ，如果应用程序未引用先前引用的许多包，则这些包的会话内存将保留到会话结束（或直到<code class="codeph">DBMS_SESSION.RESET_PACKAGE</code>叫做）。
                              </p>
                           </li>
                           <li>
                              <p>由于客户端PL / SQL代码无法引用远程包变量或常量，因此必须显式使用常量的值。例如， <code class="codeph">DBMS_SESSION.MODIFY_PACKAGE_STATE(DBMS_SESSION.REINITIALIZE)</code>不在客户端上编译，因为它使用常量<code class="codeph">DBMS_SESSION.REINITIALIZE</code> 。</p>
                              <p>而是在客户端上使用<code class="codeph">DBMS_SESSION.MODIFY_PACKAGE_STATE(2)</code> ，因为显式提供了参数。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4B2ABC0D-1370-4C70-A539-0841D7B9339C__GUID-2440EDB2-09B8-443B-A252-645970D19951">例子</p>
                        <p>此示例说明了<code class="codeph">DBMS_SESSION.MODIFY_PACKAGE_STATE</code> 。考虑具有某种全局状态的包<code class="codeph">P</code> （光标<code class="codeph">c</code>和数字<code class="codeph">cnt</code> ）。首次初始化包时，包变量<code class="codeph">cnt</code>为<code class="codeph">0</code> ，游标<code class="codeph">c</code>为<code class="codeph">CLOSED</code> 。然后，在会话中，将<code class="codeph">cnt</code>的值更改为<code class="codeph">111</code> ，并对光标执行<code class="codeph">OPEN</code>操作。如果调用<code class="codeph">print_status</code>来显示包的状态，则会看到<code class="codeph">cnt</code>为<code class="codeph">111</code>且游标为<code class="codeph">OPEN</code> 。接下来，调用<code class="codeph">DBMS_SESSION.MODIFY_PACKAGE_STATE</code> 。如果使用<code class="codeph">print_status</code>再次打印包<code class="codeph">P</code>的状态，则会看到<code class="codeph">cnt</code>再次为<code class="codeph">0</code>且光标处于<code class="codeph">CLOSED</code> 。如果尚未调用<code class="codeph">DBMS_SESSION.MODIFY_PACKAGE_STATE</code> ，则第二个<code class="codeph">print_status</code>将打印<code class="codeph">111</code>并<code class="codeph">OPEN</code> 。</p><pre class="oac_no_warn" dir="ltr">创建或替换包P是cnt号：= 0; cursor c是select * from emp;程序print_status;结束P; /显示错误;创建或替换包体P是程序print_status是开始dbms_output.put_line（'P.cnt ='|| cnt）;如果c％ISOPEN则为dbms_output.put_line（'Pc为OPEN'）; else dbms_output.put_line（'Pc is CLOSED'）;万一;结束;结束P; /显示错误; SQL&gt; set serveroutput on; SQL&gt; begin 2 P.cnt：= 111; 3开pc; 4 P.print_status; 5结束; 6 / P.cnt = 111 Pc是OPEN PL / SQL过程成功完成的。SQL&gt; begin 2 dbms_session.modify_package_state（dbms_session.reinitialize）; 3结束; 4 / PL / SQL过程成功完成。SQL&gt; set serveroutput on; SQL&gt; SQL&gt; begin 2 P.print_status; 3结束; 4 / P.cnt = 0 Pc已成功完成CLOSED PL / SQL过程。</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68060"></a><a id="ARPLS68060"></a><div class="props_rev_3"><a id="GUID-CEC0FC4B-6520-4A79-A0C9-32C1ACAC552A" name="GUID-CEC0FC4B-6520-4A79-A0C9-32C1ACAC552A"></a><h4 id="ARPLS-GUID-CEC0FC4B-6520-4A79-A0C9-32C1ACAC552A" class="sect4"><span class="enumeration_section">148.4.16</span> RESET_PACKAGE过程</h4>
                  <div>
                     <p>此过程取消实例化此会话中的所有包。它释放了包状态。</p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-CEC0FC4B-6520-4A79-A0C9-32C1ACAC552A__GUID-5E9CECCD-8B35-441E-BECD-5C7FBF2FF490">
                           <p class="notep1">注意：</p>
                           <p>请参阅<span class="q">“ <a href="DBMS_SESSION.html#GUID-0EF8429F-B552-40D0-885C-3C560A66152D" title="此过程为调用会话启用会话级SQL跟踪。调用此过程将导致对会话发出的每个SQL语句进行SQL跟踪。">SESSION _TRACE_ENABLE过程</a> ”</span> 。Oracle9i中引入的MODIFY_PACKAGE_STATE接口提供了RESET_PACKAGE功能的等效功能。它是一种高效，轻量级的变体，用于重新初始化会话中所有PL / SQL包的状态。
                           </p>
                        </div>
                        <p>用于缓存执行状态的内存与在会话中运行的所有PL / SQL函数，过程和包相关联。</p>
                        <p>对于包，此内存集合保存包变量的当前值，并控制由相应PL / SQL程序打开的游标的缓存。对<code class="codeph">RESET_PACKAGE</code>的调用释放与会话中每个先前运行的PL / SQL程序关联的内存，因此，清除任何包全局变量的当前值并关闭所有缓存的游标。
                        </p>
                        <p><code class="codeph">RESET_PACKAGE</code>还可用于可靠地重新启动会话中的失败程序。如果包含包变量的程序失败，则很难确定哪些变量需要重新初始化。<code class="codeph">RESET_PACKAGE</code>保证所有包变量都重置为其初始值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CEC0FC4B-6520-4A79-A0C9-32C1ACAC552A__GUID-422BCBB0-4B21-4F1C-97D4-0C0A6915CD2A">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.RESET_PACKAGE;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CEC0FC4B-6520-4A79-A0C9-32C1ACAC552A__GUID-EE8293E3-F23C-47DD-ACDB-F7396F4F77E2">使用说明</p>
                        <p>由于所有执行的PL / SQL消耗的内存量可能会变大，因此您可以使用<code class="codeph">RESET_PACKAGE</code>来减少数据库应用程序中某些点的会话内存占用量。但是，请确保重置包变量值不会影响应用程序。此外，请记住，以后执行丢失缓存内存和游标的程序将执行速度较慢，因为它们需要重新创建释放的内存和游标。
                        </p>
                        <p><code class="codeph">RESET_PACKAGE</code>在调用时不会立即释放内存，游标和包变量。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-CEC0FC4B-6520-4A79-A0C9-32C1ACAC552A__GUID-9378B100-E5E6-42B0-B8A9-CFAA86A4ECD8">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">RESET_PACKAGE</code>仅在使调用完成运行的PL / SQL调用之后释放内存，游标和包变量。
                           </p>
                        </div>
                        <p>例如，PL / SQL过程<code class="codeph">P1</code>调用PL / SQL过程<code class="codeph">P2</code> ， <code class="codeph">P2</code>调用<code class="codeph">RESET_PACKAGE</code> 。在过程<code class="codeph">P1</code>完成执行（PL / SQL调用结束）之前，不会发生<code class="codeph">RESET_PACKAGE</code>效果。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CEC0FC4B-6520-4A79-A0C9-32C1ACAC552A__GUID-57051D4E-0461-45A7-887F-E3948ADEA33C">例子</p>
                        <p>此SQL * Plus脚本运行一个包含许多PL / SQL程序单元的大型程序，这些程序单元可能使用也可能不使用全局变量，但除此执行之外不需要它们：</p><pre class="oac_no_warn" dir="ltr">EXCECUTE large_plsql_program1;</pre><p>释放PL / SQL缓存会话内存：</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SESSION.RESET_PACKAGE;</pre><p>要运行另一个大型程序：</p><pre class="oac_no_warn" dir="ltr">执行large_plsql_program2;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-D890B42B-C19D-4E03-978D-242011D397A7" name="GUID-D890B42B-C19D-4E03-978D-242011D397A7"></a><h4 id="ARPLS-GUID-D890B42B-C19D-4E03-978D-242011D397A7" class="sect4"><span class="enumeration_section">148.4.17</span> SESSION_IS_ROLE_ENABLED函数</h4>
                  <div>
                     <p>此函数确定是否为当前会话启用了命名角色。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D890B42B-C19D-4E03-978D-242011D397A7__GUID-B6BB3DF7-9CDA-4030-B4B9-5E86319E25BA">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.SESSION_IS_ROLE_ENABLED（rolename VARCHAR2）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D890B42B-C19D-4E03-978D-242011D397A7__GUID-E35EBE3D-C9A9-4821-88CB-C8D9209AC5FC">参数</p>
                        <div class="tblformal" id="GUID-D890B42B-C19D-4E03-978D-242011D397A7__GUID-0B598E86-8F76-41B7-ADEF-A42340236580">
                           <p class="titleintable">表148-19 SESSION_IS_ROLE_ENABLED函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SESSION_IS_ROLE_ENABLED函数参数" width="100%" border="1" summary="This table describes the parameters used by the DBMS_SESSION.SESSION_IS_ROLE_ENABLED subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d829761e4008">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d829761e4011">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e4016" headers="d829761e4008 ">
                                       <p><code class="codeph">角色名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e4016 d829761e4011 ">
                                       <p>角色的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D890B42B-C19D-4E03-978D-242011D397A7__GUID-BFC7B9D7-C269-4E24-9A88-F01529D8AE44">返回值</p>
                        <ul id="GUID-D890B42B-C19D-4E03-978D-242011D397A7__UL_ODK_T3H_CHB" style="list-style-type:disc">
                           <li>如果角色已启用，则为<code class="codeph">TRUE</code> 。
                           </li>
                           <li><code class="codeph">FALSE</code> - 如果未启用该角色。
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68057"></a><a id="ARPLS68057"></a><div class="props_rev_3"><a id="GUID-64B4E483-32E9-4C43-8FED-CEA034B05910" name="GUID-64B4E483-32E9-4C43-8FED-CEA034B05910"></a><h4 id="ARPLS-GUID-64B4E483-32E9-4C43-8FED-CEA034B05910" class="sect4"><span class="enumeration_section">148.4.18</span> SESSION_TRACE_DISABLE过程</h4>
                  <div>
                     <p>此过程将重置调用它的会话的会话级SQL跟踪。客户端ID和服务/模块/操作跟踪不受影响。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-64B4E483-32E9-4C43-8FED-CEA034B05910__GUID-E53C93BE-DFDE-4E28-81C6-B325E59A0B59">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.SESSION_TRACE_DISABLE;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68058"></a><a id="ARPLS68059"></a><a id="ARPLS68059"></a><a id="ARPLS68058"></a><div class="props_rev_3"><a id="GUID-0EF8429F-B552-40D0-885C-3C560A66152D" name="GUID-0EF8429F-B552-40D0-885C-3C560A66152D"></a><h4 id="ARPLS-GUID-0EF8429F-B552-40D0-885C-3C560A66152D" class="sect4"><span class="enumeration_section">148.4.19</span>会话_TRACE_ENABLE程序</h4>
                  <div>
                     <p>此过程为调用会话启用会话级SQL跟踪。调用此过程将导致对会话发出的每个SQL语句进行SQL跟踪。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0EF8429F-B552-40D0-885C-3C560A66152D__GUID-7EEDC0E7-838E-4259-BF40-C058E6121AA6">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.SESSION_TRACE_ENABLE（等待IN BOOLEAN DEFAULT TRUE，绑定IN BOOLEAN DEFAULT FALSE，plan_stat IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0EF8429F-B552-40D0-885C-3C560A66152D__GUID-FBE7F92B-318B-4AF1-8DD8-88649FC09D53">参数</p>
                        <div class="tblformal" id="GUID-0EF8429F-B552-40D0-885C-3C560A66152D__BHCHABJJ">
                           <p class="titleintable">表148-20 SESSION_TRACE_ENABLE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SESSION_TRACE_ENABLE过程参数" width="100%" border="1" summary="This table describes parameters used by the DBMS_SESSION.SESSION_TRACE_ENABLE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d829761e4240">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d829761e4243">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d829761e4248" headers="d829761e4240 ">
                                       <p><code class="codeph">等待</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d829761e4248 d829761e4243 ">
                                       <p>指定是否跟踪等待信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d829761e4256" headers="d829761e4240 ">
                                       <p><code class="codeph">结合</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d829761e4256 d829761e4243 ">
                                       <p>指定是否跟踪绑定信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d829761e4264" headers="d829761e4240 ">
                                       <p><code class="codeph">plan_stat</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d829761e4264 d829761e4243 ">
                                       <p>我们转储行源统计信息的频率。值应该是' <code class="codeph">NEVER</code> '，' <code class="codeph">FIRST_EXECUTION</code> '（相当于<code class="codeph">NULL</code> ）或' <code class="codeph">ALL_EXECUTIONS</code> '。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68061"></a><a id="ARPLS68062"></a><a id="ARPLS68062"></a><a id="ARPLS68061"></a><div class="props_rev_3"><a id="GUID-395C622C-ED79-44CC-9157-6A320934F2A9" name="GUID-395C622C-ED79-44CC-9157-6A320934F2A9"></a><h4 id="ARPLS-GUID-395C622C-ED79-44CC-9157-6A320934F2A9" class="sect4"><span class="enumeration_section">148.4.20</span> SET_CONTEXT程序</h4>
                  <div>
                     <p>此过程设置上下文，其中有四种类型：会话本地，全局初始化，外部初始化和全局访问。</p>
                     <div class="section">
                        <p>在其五个参数中，只需要前三个;最后两个参数是可选的，仅在全局访问的上下文中使用。进一步的参数信息显示在参数表和使用说明中。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-395C622C-ED79-44CC-9157-6A320934F2A9__GUID-19C1570E-56D0-471A-AF10-070594FD0A06">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.SET_CONTEXT（名称空间VARCHAR2，属性VARCHAR2，值VARCHAR2，用户名VARCHAR2，client_id VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-395C622C-ED79-44CC-9157-6A320934F2A9__GUID-010435B5-552A-4F49-8AC2-B372B152A0DD">参数</p>
                        <div class="tblformal" id="GUID-395C622C-ED79-44CC-9157-6A320934F2A9__GUID-410A9841-4D68-4F5F-8383-8B3013939ACC">
                           <p class="titleintable">表148-21 SET_CONTEXT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_CONTEXT过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SESSION.SET_CONTEXT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d829761e4397">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d829761e4400">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e4405" headers="d829761e4397 ">
                                       <p><code class="codeph">命名空间</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e4405 d829761e4400 ">
                                       <p>要设置的应用程序上下文的命名空间，限制为30个字节</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e4413" headers="d829761e4397 ">
                                       <p><code class="codeph">属性</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e4413 d829761e4400 ">
                                       <p>要设置的应用程序上下文的属性，限制为30个字节</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e4421" headers="d829761e4397 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e4421 d829761e4400 ">
                                       <p>要设置的应用程序上下文的值，限制为4千字节。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e4429" headers="d829761e4397 ">
                                       <p><code class="codeph">用户名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e4429 d829761e4400 ">
                                       <p>应用程序上下文的数据库username属性。</p>
                                       <p>默认值：NULL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e4439" headers="d829761e4397 ">
                                       <p><code class="codeph">CLIENT_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e4439 d829761e4400 ">
                                       <p>应用程序上下文的特定于应用程序的client_id属性（最大64字节）。</p>
                                       <p>默认值：NULL</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-395C622C-ED79-44CC-9157-6A320934F2A9__GUID-2962EDAE-743B-41A1-9821-DAFAC1419C7B">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>所有类型的上下文都需要前三个参数。</p>
                           </li>
                           <li>
                              <p><code class="codeph">username</code>参数必须是有效的SQL标识符。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">client_id</code>参数必须是最多64个字节的字符串。它区分大小写，必须与为<code class="codeph">set_identifier</code>提供的参数匹配。
                              </p>
                           </li>
                           <li>
                              <p>如果namespace参数是全局上下文命名空间，则<code class="codeph">username</code>参数与会话中的当前数据库用户名匹配， <code class="codeph">client_id</code>参数与会话中的当前<code class="codeph">client_id</code>匹配。如果未设置这些参数，则假定为NULL，允许任何用户查看上下文值。
                              </p>
                           </li>
                           <li>
                              <p>必须由受信任的包直接或间接调用此过程。</p>
                           </li>
                           <li>
                              <p>SET_CONTEXT的调用者必须位于通过<code class="codeph">CREATE</code> <code class="codeph">CONTEXT</code>语句与上下文命名空间关联的过程的调用堆栈中。检查调用堆栈不会跨越DBMS边界。
                              </p>
                           </li>
                           <li>
                              <p>对名称空间中可以设置的属性数量没有限制。除非用户重置，否则属性会在用户会话期间保留其值。</p>
                           </li>
                           <li>
                              <p>如果已设置命名空间中参数的值，则<code class="codeph">SET_CONTEXT</code>覆盖此值。
                              </p>
                           </li>
                           <li>
                              <p>上下文值的任何更改都会立即反映，后续通过<code class="codeph">SYS_CONTEXT</code>访问该值的调用将返回最新值。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-395C622C-ED79-44CC-9157-6A320934F2A9__GUID-D00AC33B-35EE-4B94-8C07-B94CAFEBCAD9">
                           <p class="notep1">也可以看看：</p>
                           <p>有关的更多信息，请<span class="italic">参见Oracle数据库安</span></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../dbseg/using-application-contexts-to-retrieve-user-information.html#DBSEG77432" target="_blank">“设置用户名和客户端ID”</a></p>
                              </li>
                              <li>
                                 <p><a href="../dbseg/using-application-contexts-to-retrieve-user-information.html#DBSEG79745" target="_blank">“示例：创建使用客户端会话ID的全局应用程序上下文”</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72968"></a><a id="ARPLS72969"></a><a id="ARPLS72969"></a><a id="ARPLS72968"></a><div class="props_rev_3"><a id="GUID-D0A69F10-8137-4BCC-B318-4F48A25C163F" name="GUID-D0A69F10-8137-4BCC-B318-4F48A25C163F"></a><h4 id="ARPLS-GUID-D0A69F10-8137-4BCC-B318-4F48A25C163F" class="sect4"><span class="enumeration_section">148.4.21</span> SET_EDITION_DEFERRED过程</h4>
                  <div>
                     <p>此过程请求切换到指定的版本。交换机在当前客户端呼叫结束时生效。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D0A69F10-8137-4BCC-B318-4F48A25C163F__GUID-F8BAC8BB-BE22-44D5-936D-DF24D905D8F1">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.SET_EDITION_DEFERRED（版本IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D0A69F10-8137-4BCC-B318-4F48A25C163F__GUID-FE9805DB-C934-4BAF-B00A-7430FD2CEDDB">参数</p>
                        <div class="tblformal" id="GUID-D0A69F10-8137-4BCC-B318-4F48A25C163F__GUID-E537B0F7-350C-4554-8789-A410049DBFCF">
                           <p class="titleintable">表148-22 SET_EDITION_DEFERRED过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_EDITION_DEFERRED过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SESSION.SET_EDITION_DEFERRED subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d829761e4635">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d829761e4638">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e4643" headers="d829761e4635 ">
                                       <p><code class="codeph">版</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e4643 d829761e4638 ">
                                       <p>要切换的版本的名称。字符串的内容作为SQL标识符处理;如果版本的实际名称中包含特殊字符或小写字符，则双引号必须包围字符串的其余部分，如果未使用双引号，则内容将以大写形式设置。呼叫者必须具有指定版本的<code class="codeph">USE</code>权限。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68063"></a><a id="ARPLS68064"></a><a id="ARPLS68064"></a><a id="ARPLS68063"></a><div class="props_rev_3"><a id="GUID-988EA930-BDFE-4205-A806-E54F05333562" name="GUID-988EA930-BDFE-4205-A806-E54F05333562"></a><h4 id="ARPLS-GUID-988EA930-BDFE-4205-A806-E54F05333562" class="sect4"><span class="enumeration_section">148.4.22</span> SET_IDENTIFIER过程</h4>
                  <div>
                     <p>此过程在会话中设置客户端ID。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-988EA930-BDFE-4205-A806-E54F05333562__GUID-8A1A8D5A-1D9E-4765-99AB-CF54A2C7AF89">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.SET_IDENTIFIER（client_id VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-988EA930-BDFE-4205-A806-E54F05333562__GUID-9561B346-313A-4670-B953-29562190ED95">参数</p>
                        <div class="tblformal" id="GUID-988EA930-BDFE-4205-A806-E54F05333562__GUID-2305F772-5A26-4020-9199-819D851CBF5F">
                           <p class="titleintable">表148-23 SET_IDENTIFIER过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_IDENTIFIER过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SESSION.SET_IDENTIFIER subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d829761e4763">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d829761e4766">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e4771" headers="d829761e4763 ">
                                       <p><code class="codeph">CLIENT_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e4771 d829761e4766 ">
                                       <p>当前数据库会话的区分大小写的应用程序特定标识符。</p>
                                       <p>此参数的最大字节数为64个字节。如果输入超过64个字节，则会截断其他字节。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-988EA930-BDFE-4205-A806-E54F05333562__GUID-72EBD238-83A3-4600-A843-CF5479B5B0B6">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SET_IDENTIFIER</code>的客户端ID设置为给定值。此值可用于通过<code class="codeph">v$session.client_identifier</code>在<code class="codeph">v$session</code>标识会话。它还可以用于通过<code class="codeph">sys_context('USERENV','CLIENT_IDENTIFIER').</code>识别会话<code class="codeph">sys_context('USERENV','CLIENT_IDENTIFIER').</code></p>
                           </li>
                           <li>
                              <p>此过程可由<code class="codeph">PUBLIC</code> 。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68065"></a><a id="ARPLS68066"></a><a id="ARPLS68066"></a><a id="ARPLS68065"></a><div class="props_rev_3"><a id="GUID-0EEDE81B-FFA3-4719-A1E6-B779B54A5379" name="GUID-0EEDE81B-FFA3-4719-A1E6-B779B54A5379"></a><h4 id="ARPLS-GUID-0EEDE81B-FFA3-4719-A1E6-B779B54A5379" class="sect4"><span class="enumeration_section">148.4.23</span> SET_NLS过程</h4>
                  <div>
                     <p>此过程设置您的全球化支持（NLS）。它等同于SQL语句： <code class="codeph">ALTER SESSION SET &lt;nls_parameter&gt; = &lt;value&gt;</code> 。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0EEDE81B-FFA3-4719-A1E6-B779B54A5379__GUID-2F2C5532-5E83-42F5-85E9-E85AA4E1D590">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.SET_NLS（param VARCHAR2，value VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0EEDE81B-FFA3-4719-A1E6-B779B54A5379__GUID-804351F9-07DD-4786-9AFD-D4F0ECADF471">参数</p>
                        <div class="tblformal" id="GUID-0EEDE81B-FFA3-4719-A1E6-B779B54A5379__GUID-FF6C0A5F-E422-4B97-8D74-05CE3C4B7467">
                           <p class="titleintable">表148-24 SET_NLS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_NLS过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SESSION.SET_NLS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d829761e4917">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d829761e4920">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e4925" headers="d829761e4917 ">
                                       <p><code class="codeph">PARAM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e4925 d829761e4920 ">
                                       <p>全球化支持参数。参数名称必须以“NLS”开头。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e4933" headers="d829761e4917 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e4933 d829761e4920 ">
                                       <p>参数值。</p>
                                       <p>如果参数是文本文字，那么它需要嵌入的单引号。例如，“ <code class="codeph">set_nls</code> （' <code class="codeph">nls_date_format</code> '，''' <code class="codeph">DD-MON-YY</code> '''）”。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68067"></a><a id="ARPLS68068"></a><a id="ARPLS68068"></a><a id="ARPLS68067"></a><div class="props_rev_3"><a id="GUID-C4C84E06-96CD-4360-AB4F-E8D13DDFF35F" name="GUID-C4C84E06-96CD-4360-AB4F-E8D13DDFF35F"></a><h4 id="ARPLS-GUID-C4C84E06-96CD-4360-AB4F-E8D13DDFF35F" class="sect4"><span class="enumeration_section">148.4.24</span> SET_ROLE过程</h4>
                  <div>
                     <p>此过程启用和禁用角色。它等同于<code class="codeph">SET</code> <code class="codeph">ROLE</code> SQL语句。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C4C84E06-96CD-4360-AB4F-E8D13DDFF35F__GUID-89B5F81B-BFDD-44AA-9530-1D1F6C10618E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.SET_ROLE（role_cmd VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C4C84E06-96CD-4360-AB4F-E8D13DDFF35F__GUID-627FF7FD-6850-4FB2-8AB9-C9B99057FD31">参数</p>
                        <div class="tblformal" id="GUID-C4C84E06-96CD-4360-AB4F-E8D13DDFF35F__GUID-434A5870-7468-4C82-AF82-C017E1BE347F">
                           <p class="titleintable">表148-25 SET_ROLE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_ROLE过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SESSION.SET_ROLE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d829761e5067">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d829761e5070">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d829761e5075" headers="d829761e5067 ">
                                       <p><code class="codeph">role_cmd</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d829761e5075 d829761e5070 ">
                                       <p>文本附加到“set role”，然后作为SQL运行</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C4C84E06-96CD-4360-AB4F-E8D13DDFF35F__GUID-1FDE5D9F-BC0A-458C-AFFB-0BAD0300A392">使用说明</p>
                        <p>请注意，如果未从现有事务中调用该事务，则该过程将创建新事务。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68069"></a><a id="ARPLS68070"></a><a id="ARPLS68070"></a><a id="ARPLS68069"></a><div class="props_rev_3"><a id="GUID-E4110F86-9985-4741-AFF4-6C8CE44CDD32" name="GUID-E4110F86-9985-4741-AFF4-6C8CE44CDD32"></a><h4 id="ARPLS-GUID-E4110F86-9985-4741-AFF4-6C8CE44CDD32" class="sect4"><span class="enumeration_section">148.4.25</span> SET_SQL_TRACE过程</h4>
                  <div>
                     <p>此过程打开或关闭跟踪。它相当于SQL语句<code class="codeph">ALTER SESSION SET SQL_TRACE ...</code>
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E4110F86-9985-4741-AFF4-6C8CE44CDD32__GUID-56B8A7A9-1CF0-4884-985B-9015FD03DDAE">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.SET_SQL_TRACE（sql_trace boolean）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E4110F86-9985-4741-AFF4-6C8CE44CDD32__GUID-6C44B911-7F2E-4A97-8ED6-ADACE782E1A8">参数</p>
                        <div class="tblformal" id="GUID-E4110F86-9985-4741-AFF4-6C8CE44CDD32__GUID-B0E028AD-0900-4EDB-B731-390D5A91282B">
                           <p class="titleintable">表148-26 SET_SQL_TRACE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_SQL_TRACE过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SESSION.SET_SQL_TRACE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d829761e5200">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d829761e5203">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d829761e5208" headers="d829761e5200 ">
                                       <p><code class="codeph">SQL_TRACE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d829761e5208 d829761e5203 ">
                                       <p><code class="codeph">TRUE</code>打开跟踪， <code class="codeph">FALSE</code>关闭跟踪</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-27CCC2F7-6564-41D2-8C42-CFFBF25A69B5" name="GUID-27CCC2F7-6564-41D2-8C42-CFFBF25A69B5"></a><h4 id="ARPLS-GUID-27CCC2F7-6564-41D2-8C42-CFFBF25A69B5" class="sect4"><span class="enumeration_section">148.4.26</span>睡眠程序</h4>
                  <div>
                     <p>此过程将会话暂停指定的时间段。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-27CCC2F7-6564-41D2-8C42-CFFBF25A69B5__GUID-7315FCFA-F373-4E7F-A843-D951FC403884">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.SLEEP（秒数）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-27CCC2F7-6564-41D2-8C42-CFFBF25A69B5__GUID-8EFF2FF1-E619-4426-8F58-219F96C34BE4">参数</p>
                        <div class="tblformal" id="GUID-27CCC2F7-6564-41D2-8C42-CFFBF25A69B5__GUID-4BBD3EF3-FA54-4A3E-96F9-4B57B2F8BF16">
                           <p class="titleintable">表148-27 SLEEP过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SLEEP程序参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SESSION.SLEEP subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d829761e5327">参数</th>
                                    <th align="left" valign="bottom" id="d829761e5330">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d829761e5335" headers="d829761e5327 ">
                                       <p><code class="codeph">秒</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d829761e5335 d829761e5330 ">
                                       <p>暂停会话的时间（以秒为单位）。</p>
                                       <p>最小的增量可以百分之一秒输入;例如，1.95是合法时间值。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68071"></a><a id="ARPLS68072"></a><a id="ARPLS68073"></a><a id="ARPLS68072"></a><a id="ARPLS68073"></a><a id="ARPLS68071"></a><div class="props_rev_3"><a id="GUID-AAD961A1-841C-4D77-B28A-576E6EFD4964" name="GUID-AAD961A1-841C-4D77-B28A-576E6EFD4964"></a><h4 id="ARPLS-GUID-AAD961A1-841C-4D77-B28A-576E6EFD4964" class="sect4"><span class="enumeration_section">148.4.27</span> SWITCH_CURRENT_CONSUMER_GROUP过程</h4>
                  <div>
                     <p>此过程更改用户当前会话的当前资源使用者组。</p>
                     <div class="section">
                        <p>如果您拥有该特定组的切换权限，则可以切换到使用者组。如果调用者是另一个过程，则这使用户能够切换到该过程的所有者具有切换权限的使用者组。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AAD961A1-841C-4D77-B28A-576E6EFD4964__GUID-0EA0DC26-D42F-48DE-9D46-96B2E562FE5C">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.switch_current_consumer_group（new_consumer_group IN VARCHAR2，old_consumer_group OUT VARCHAR2，initial_group_on_error IN BOOLEAN）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AAD961A1-841C-4D77-B28A-576E6EFD4964__GUID-43C2F620-41D3-4C1F-BC9E-777C5A16B0D2">参数</p>
                        <div class="tblformal" id="GUID-AAD961A1-841C-4D77-B28A-576E6EFD4964__GUID-804CC1C7-B36F-4807-B472-E41D054B6E5B">
                           <p class="titleintable">表148-28 SWITCH_CURRENT_CONSUMER_GROUP过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SWITCH_CURRENT_CONSUMER_GROUP过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SESSION.SWITCH_CURRENT_CONSUMER_GROUP subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d829761e5459">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d829761e5462">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d829761e5467" headers="d829761e5459 ">
                                       <p><code class="codeph">new_consumer_group</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d829761e5467 d829761e5462 ">
                                       <p>要切换到的使用者组的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d829761e5475" headers="d829761e5459 ">
                                       <p><code class="codeph">old_consumer_group</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d829761e5475 d829761e5462 ">
                                       <p>刚从中切换出来的用户组的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d829761e5483" headers="d829761e5459 ">
                                       <p><code class="codeph">initial_group_on_error</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d829761e5483 d829761e5462 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，则在发生错误时将调用者的当前使用者组设置为他/她的初始使用者组</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AAD961A1-841C-4D77-B28A-576E6EFD4964__GUID-6BB6AB84-5917-48B2-95CC-83D80E992B85">返回值</p>
                        <p>此过程在参数<code class="codeph">old_consumer_group</code>输出用户的旧使用者组。
                        </p>
                        <div class="infoboxnote" id="GUID-AAD961A1-841C-4D77-B28A-576E6EFD4964__GUID-1327AF1A-2FD6-4C3C-962A-DD548918481D">
                           <p class="notep1">注意：</p>
                           <p>您可以稍后使用<code class="codeph">old_consumer_group</code>返回的值切换回旧的使用者组。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AAD961A1-841C-4D77-B28A-576E6EFD4964__GUID-E585D617-BBC4-4BEF-9CEA-463F1E2D3044">例外</p>
                        <div class="tblformal" id="GUID-AAD961A1-841C-4D77-B28A-576E6EFD4964__GUID-52A70630-0D25-4027-BB6B-3976063D220D">
                           <p class="titleintable">表148-29 SWITCH_CURRENT_CONSUMER_GROUP过程异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SWITCH_CURRENT_CONSUMER_GROUP过程异常" width="100%" border="1" summary="This table describes the Exceptions raised by the SWITCH_CURRENT_CONSUMER_GROUP subprograms." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d829761e5520">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d829761e5523">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d829761e5528" headers="d829761e5520 ">
                                       <p><code class="codeph">29368</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d829761e5528 d829761e5523 ">
                                       <p>不存在的消费者群体</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d829761e5536" headers="d829761e5520 ">
                                       <p><code class="codeph">1031</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d829761e5536 d829761e5523 ">
                                       <p>权限不足</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d829761e5544" headers="d829761e5520 ">
                                       <p><code class="codeph">29396</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d829761e5544 d829761e5523 ">
                                       <p>无法切换到<code class="codeph">OTHER_GROUPS</code>消费者群组</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AAD961A1-841C-4D77-B28A-576E6EFD4964__GUID-969DA735-8D08-4CB1-B3B4-A17AFE811490">使用说明</p>
                        <p>过程的所有者必须具有切换用户的组（ <code class="codeph">old_consumer_group</code> ）的权限才能将其切换回来。有一个例外：该过程始终可以将用户切换回他/她的初始使用者组（跳过权限检查）。
                        </p>
                        <p>通过将<code class="codeph">initial_group_on_error</code>设置为<code class="codeph">TRUE</code> ， <code class="codeph">SWITCH_CURRENT_CONSUMER_GROUP</code>将当前会话置于默认组中，如果它不能将其放入<code class="codeph">new_consumer_group</code>指定的组中。即使当前使用者组已更改为初始使用者组，也会引发与尝试将会话移动到<code class="codeph">new_consumer_group</code>相关的错误。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AAD961A1-841C-4D77-B28A-576E6EFD4964__GUID-71FA168A-B7D5-4E35-8627-2C3DE21D1A52">例子</p><pre class="oac_no_warn" dir="ltr">创建或替换过程high_priority_task是old_group varchar2（30）; prev_group varchar2（30）; curr_user varchar2（30）; BEGIN  - 将调用者切换到特权消费者群体。如果我们不这样做，则会抛出 - 错误，但是消费者组不会更改 - 因为'initial_group_on_error'设置为FALSE dbms_session.switch_current_consumer_group（'tkrogrp1'，old_group，FALSE）; - 设置异常处理程序（如果发生错误，我们不希望 - 在将会话保留在特权组中时返回调用者）BEGIN  - 在特权组EXCEPTION之后执行某些操作 - 过程所有者可能没有权限 - 在old_group上。 'initial_group_on_error'设置为TRUE以确保 - 在这种情况下用户被移出特权组 - 情况dbms_session.switch_current_consumer_group（old_group，prev_group，TRUE）;提高;结束; - 我们成功了。现在切换到old_group，或者如果不能这样做，切换到调用者的初始使用者组dbms_session.switch_current_consumer_group（old_group，prev_group，TRUE）;结束high_priority_task; /</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68074"></a><a id="ARPLS68075"></a><a id="ARPLS68075"></a><a id="ARPLS68074"></a><div class="props_rev_3"><a id="GUID-5818F785-8102-43F5-A49D-78E0D4D22EB2" name="GUID-5818F785-8102-43F5-A49D-78E0D4D22EB2"></a><h4 id="ARPLS-GUID-5818F785-8102-43F5-A49D-78E0D4D22EB2" class="sect4"><span class="enumeration_section">148.4.28</span> UNIQUE_SESSION_ID函数</h4>
                  <div>
                     <p>此函数返回对当前连接到此数据库的所有会话唯一的标识符。在同一会话期间多次调用此函数始终返回相同的结果。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5818F785-8102-43F5-A49D-78E0D4D22EB2__GUID-D00D6E09-A4FD-488A-83FA-CBBFA94F0323">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.UNIQUE_SESSION_ID RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5818F785-8102-43F5-A49D-78E0D4D22EB2__GUID-EC2DBB80-8F84-4DA1-B192-710FC1094636">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（unique_session_id，WNDS，RNDS，WNPS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5818F785-8102-43F5-A49D-78E0D4D22EB2__GUID-715682C1-68C2-4911-8C6D-8D96800EA2CC">返回值</p>
                        <div class="tblformal" id="GUID-5818F785-8102-43F5-A49D-78E0D4D22EB2__GUID-189039C6-F30B-4CFA-B495-364ACAAB66A1">
                           <p class="titleintable">表148-30 UNIQUE_SESSION_ID函数返回值</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UNIQUE_SESSION_ID函数返回值" width="100%" border="1" summary="This table decribes Values Returned by the UNIQUE_SESSION_ID subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d829761e5699">返回</th>
                                    <th align="left" valign="bottom" width="70%" id="d829761e5702">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d829761e5707" headers="d829761e5699 ">
                                       <p><code class="codeph">unique_session_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d829761e5707 d829761e5702 ">
                                       <p>最多返回24个字节</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00235.using-oracle-LOBs-storage.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle LOB storage has two types, SecureFiles LOB storage and BasicFiles LOB storage, which are used with different types of tablespaces."></meta>
      <meta name="description" content="Oracle LOB storage has two types, SecureFiles LOB storage and BasicFiles LOB storage, which are used with different types of tablespaces."></meta>
      <title>使用Oracle LOB存储</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database SecureFiles and Large Objects Developer&#39;s Guide"></meta>
      <meta property="og:description" content="Oracle LOB storage has two types, SecureFiles LOB storage and BasicFiles LOB storage, which are used with different types of tablespaces."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database SecureFiles and Large Objects Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="securefiles-and-large-objects-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T02:58:18-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96333-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="working-with-LOBs.html" title="Previous" type="text/html"></link>
      <link rel="next" href="operations-specific-to-persistent-and-temporary-LOBs.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SecureFiles and Large Objects Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADLOB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="working-with-LOBs.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="operations-specific-to-persistent-and-temporary-LOBs.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database SecureFiles和Large Objects Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="getting-started.html" property="item" typeof="WebPage"><span property="name">入门</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用Oracle LOB存储</li>
            </ol>
            <a id="GUID-EC76077B-3EE9-491E-AC6D-171DA919B84C" name="GUID-EC76077B-3EE9-491E-AC6D-171DA919B84C"></a><a id="ADLOB4444"></a>
            
            <h2 id="ADLOB-GUID-EC76077B-3EE9-491E-AC6D-171DA919B84C" class="sect2"><span class="enumeration_chapter">3</span>使用Oracle LOB存储</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle LOB存储有两种类型，SecureFiles LOB存储和BasicFiles LOB存储，它们与不同类型的表空间一起使用。</p>
               <p>您可以使用LOB列类型设计，创建和修改表。</p>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="using-oracle-LOBs-storage.html#GUID-F93D1E80-E141-49E4-ADD7-AC6AD3E70316" title="早期的Oracle数据库版本仅支持一种类型的LOB存储。在Oracle Database 11g中，引入了SecureFiles LOB存储;原始存储类型的名称为BasicFiles LOB存储，并成为默认存储类型。">LOB存储</a></p>
                  </li>
                  <li>
                     <p><a href="using-oracle-LOBs-storage.html#GUID-D4B9A527-6DF8-4451-B88B-B973E961D9F7" title="CREATE TABLE语句使用特定于SecureFiles或BasicFiles LOB存储或两者的参数来使用LOB存储。">使用LOB存储创建表</a></p>
                  </li>
                  <li>
                     <p><a href="using-oracle-LOBs-storage.html#GUID-E82DC080-8AA0-46F5-B6C6-DDAB7105BC9F" title="您可以使用ALTER TABLE语句和特定的LOB相关参数修改LOB存储。">带有LOB存储的ALTER TABLE</a></p>
                  </li>
                  <li>
                     <p><a href="using-oracle-LOBs-storage.html#GUID-5D305904-4685-45AE-A60F-4C491AFD98BD" title="您必须使用适当的兼容性参数执行LOB初始化。">Initialization_ Compatibility_和Upgrading</a></p>
                  </li>
                  <li>
                     <p><a href="using-oracle-LOBs-storage.html#GUID-95FB6968-59BA-436F-ABEB-F6FA6DD5584F" title="迁移BasicFiles LOB列会生成重做数据，这可能会导致性能问题。在线重新定义是将BasicFiles LOB迁移到SecureFiles LOB的推荐方法。您可以使用Online Redefinition迁移表。如果系统具有足够的并行执行资源，则可以并行重新定义SecureFiles LOB列。">将列从BasicFiles LOB迁移到SecureFiles LOB</a></p>
                  </li>
                  <li>
                     <p><a href="using-oracle-LOBs-storage.html#GUID-DD9F53E4-3A56-43BF-AAA0-9BE2692DC81A" title="有一些PL / SQL包可以与BasicFiles LOB和SecureFiles LOB一起使用。">LOB和DBFS的PL / SQL包</a></p>
                  </li>
               </ul>
            </div><a id="ADLOB45162"></a><div class="props_rev_2"><a id="GUID-F93D1E80-E141-49E4-ADD7-AC6AD3E70316" name="GUID-F93D1E80-E141-49E4-ADD7-AC6AD3E70316"></a><h3 id="ADLOB-GUID-F93D1E80-E141-49E4-ADD7-AC6AD3E70316" class="sect3">LOB存储</h3>
               <div>
                  <p>早期的Oracle数据库版本仅支持一种类型的LOB存储。在Oracle Database <span class="italic">11g中</span> ，引入了SecureFiles LOB存储;原始存储类型的名称为BasicFiles LOB存储，并成为默认存储类型。
                  </p>
                  <p>使用BasicFiles LOB存储创建的LOB称为BasicFiles LOB，使用SecureFiles LOB存储创建的LOB称为SecureFiles LOB。<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>语句添加了新关键字以指示差异： <code class="codeph">BASICFILE</code>指定BasicFiles LOB存储， <code class="codeph">SECUREFILE</code>指定SecureFiles LOB存储。
                  </p>
                  <p>从Oracle Database 12 <span class="italic">c开始</span> ，SecureFiles LOB存储成为<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>语句中的缺省值。如果未显式指定存储类型，则新LOB列将使用SecureFiles LOB存储。
                  </p>
                  <p>术语LOB可以表示任一存储类型的LOB，除非通过名称或通过引用归档或链接（仅适用于SecureFiles LOB存储类型）明确指示存储类型。</p>
                  <div class="infoboxnotealso" id="GUID-F93D1E80-E141-49E4-ADD7-AC6AD3E70316__INITIALIZATION_COMPATIBILITY_ANDUPG-DCBE5BFE">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="using-oracle-LOBs-storage.html#GUID-5D305904-4685-45AE-A60F-4C491AFD98BD" title="您必须使用适当的兼容性参数执行LOB初始化。">初始化，兼容性和升级</a>有关初始化和兼容性的更多信息。
                     </p>
                  </div>
                  <p>以下部分详细讨论了两种存储类型：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="using-oracle-LOBs-storage.html#GUID-39201489-F035-4AA4-BE66-8FA199628F55" title="必须将BasicFiles LOB存储用于未使用自动段空间管理（ASSM）管理的表空间中的LOB存储。">BasicFiles LOB存储</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-LOBs-storage.html#GUID-A65C0BA7-BA2A-4DDE-A577-4670CCCC60C0" title="与BasicFiles LOB存储不同，SecureFiles LOB只能在使用自动段空间管理（ASSM）管理的表空间中创建。">SecureFiles LOB存储</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB46175"></a><div class="props_rev_3"><a id="GUID-39201489-F035-4AA4-BE66-8FA199628F55" name="GUID-39201489-F035-4AA4-BE66-8FA199628F55"></a><h4 id="ADLOB-GUID-39201489-F035-4AA4-BE66-8FA199628F55" class="sect4">BasicFiles LOB存储</h4>
                  <div>
                     <p>必须将BasicFiles LOB存储用于未使用自动段空间管理（ASSM）管理的表空间中的LOB存储。</p>
                  </div>
               </div><a id="ADLOB46176"></a><div class="props_rev_3"><a id="GUID-A65C0BA7-BA2A-4DDE-A577-4670CCCC60C0" name="GUID-A65C0BA7-BA2A-4DDE-A577-4670CCCC60C0"></a><h4 id="ADLOB-GUID-A65C0BA7-BA2A-4DDE-A577-4670CCCC60C0" class="sect4">SecureFiles LOB存储</h4>
                  <div>
                     <p>与BasicFiles LOB存储不同，SecureFiles LOB只能在使用自动段空间管理（ASSM）管理的表空间中创建。</p>
                     <p>与BasicFiles LOB相比，SecureFiles LOB存储旨在提供更好的性能和可伸缩性，并且可以满足或超越传统网络文件系统的性能。</p>
                     <p>SecureFiles LOB存储支持BasicFiles LOB存储选项不具备的三项功能：压缩，重复数据删除和加密。</p>
                     <p>Oracle建议您通过<code class="codeph">CREATE TABLE</code>语句启用压缩，重复数据删除和加密。如果通过<code class="codeph">ALTER TABLE</code>语句启用这些功能，则<code class="codeph">ALTER TABLE</code>中的<span class="italic">所有</span> SecureFiles LOB数据都将被读取，修改和写入;这可能导致数据库在可能很长的操作期间锁定表，尽管<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>语句中有联机功能可以帮助您避免此问题。
                     </p>
                     <p>话题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="using-oracle-LOBs-storage.html#GUID-F74C5330-91F7-4C0E-BB83-6FAA8D0FCCBE" title="高级LOB压缩透明地分析和压缩SecureFiles LOB数据，以节省磁盘空间并提高性能。">关于高级LOB压缩</a></p>
                        </li>
                        <li>
                           <p><a href="using-oracle-LOBs-storage.html#GUID-6DF3DA9B-3406-4B15-B173-559472B65C16" title="高级LOB重复数据删除使Oracle数据库能够自动检测LOB列或分区中的重复LOB数据，并通过仅存储一个数据副本来节省空间。">关于高级LOB重复数据删除</a></p>
                        </li>
                        <li>
                           <p><a href="using-oracle-LOBs-storage.html#GUID-36592CEE-0C08-46A4-8218-D6CB1EB9EA12" title="SecureFiles Encryption为LOB引入了新的加密工具。使用透明数据加密（TDE）对数据进行加密，该数据允许安全地存储数据，并且仍允许随机读写访问。">关于SecureFiles加密</a></p>
                        </li>
                     </ul>
                  </div><a id="ADLOB46109"></a><div class="props_rev_3"><a id="GUID-F74C5330-91F7-4C0E-BB83-6FAA8D0FCCBE" name="GUID-F74C5330-91F7-4C0E-BB83-6FAA8D0FCCBE"></a><h5 id="ADLOB-GUID-F74C5330-91F7-4C0E-BB83-6FAA8D0FCCBE" class="sect5">关于高级LOB压缩</h5>
                     <div>
                        <p>高级LOB压缩透明地分析和压缩SecureFiles LOB数据，以节省磁盘空间并提高性能。</p>
                        <p><span class="bold">许可证要求：</span>您必须拥有Oracle Advanced Compression选件的许可证才能实现高级LOB压缩。
                        </p>
                        <div class="infoboxnotealso" id="GUID-F74C5330-91F7-4C0E-BB83-6FAA8D0FCCBE__GUID-565D4723-5297-4ACE-B001-2402C35E9EE0">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="using-oracle-LOBs-storage.html#GUID-89992EE0-4939-42BD-8B48-443AC2E02E9A" title="在某些情况下，您可以使用高级LOB压缩和CREATE TABLE语句。">使用高级LOB压缩创建表</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="using-oracle-LOBs-storage.html#GUID-3DE5B204-7398-43AC-930C-5956A86AFFAD" title="高级LOB压缩与ALTER TABLE语句一起使用。">具有高级LOB压缩的ALTER TABLE</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="ADLOB46110"></a><div class="props_rev_3"><a id="GUID-6DF3DA9B-3406-4B15-B173-559472B65C16" name="GUID-6DF3DA9B-3406-4B15-B173-559472B65C16"></a><h5 id="ADLOB-GUID-6DF3DA9B-3406-4B15-B173-559472B65C16" class="sect5">关于高级LOB重复数据删除</h5>
                     <div>
                        <p>高级LOB重复数据删除使Oracle数据库能够自动检测LOB列或分区中的重复LOB数据，并通过仅存储一个数据副本来节省空间。</p>
                        <p><span class="bold">许可证要求：</span>您必须拥有Oracle Advanced Compression选件的许可证才能实施高级LOB重复数据删除。
                        </p>
                        <div class="infoboxnotealso" id="GUID-6DF3DA9B-3406-4B15-B173-559472B65C16__GUID-0493AA13-018A-45D1-88D8-5ED2ECD21BF9">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="using-oracle-LOBs-storage.html#GUID-5D574777-C7A8-44F8-B9E2-91B2FF51D3DC" title="您可以将高级LOB重复数据删除与CREATE TABLE语句一起使用。">使用高级LOB重复数据删除创建表</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="using-oracle-LOBs-storage.html#GUID-457FC42E-B70D-4A06-8AE0-0B1319957050" title="高级LOB重复数据删除适用于ALTER TABLE语句。">具有高级LOB重复数据删除功能的ALTER TABLE</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="ADLOB46111"></a><div class="props_rev_3"><a id="GUID-36592CEE-0C08-46A4-8218-D6CB1EB9EA12" name="GUID-36592CEE-0C08-46A4-8218-D6CB1EB9EA12"></a><h5 id="ADLOB-GUID-36592CEE-0C08-46A4-8218-D6CB1EB9EA12" class="sect5">关于SecureFiles加密</h5>
                     <div>
                        <p>SecureFiles Encryption为LOB引入了新的加密工具。使用透明数据加密（TDE）对数据进行加密，该数据允许安全地存储数据，并且仍允许随机读写访问。</p>
                        <p><span class="bold">许可证要求：</span>您必须拥有Oracle Advanced Security Option的许可证才能实施SecureFiles加密。
                        </p>
                        <div class="infoboxnotealso" id="GUID-36592CEE-0C08-46A4-8218-D6CB1EB9EA12__GUID-FDA63A93-FC1B-432D-99E1-B6AF60E3280C">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="using-oracle-LOBs-storage.html#GUID-43C83F15-745A-4C22-AF53-7C102A740DDB" title="您可以将SecureFiles Encryption与CREATE TABLE语句一起使用。">使用SecureFiles加密创建表</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="using-oracle-LOBs-storage.html#GUID-73E64636-83C4-4B2D-A6F1-563A17FE7990" title="SecureFiles Encryption与ALTER TABLE语句一起使用。">使用SecureFiles加密的ALTER TABLE</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="ADLOB46226"></a><a id="ADLOB45944"></a><div class="props_rev_3"><a id="GUID-D4B9A527-6DF8-4451-B88B-B973E961D9F7" name="GUID-D4B9A527-6DF8-4451-B88B-B973E961D9F7"></a><h3 id="ADLOB-GUID-D4B9A527-6DF8-4451-B88B-B973E961D9F7" class="sect3">使用LOB存储创建表</h3>
               <div>
                  <p><code class="codeph">CREATE</code> <code class="codeph">TABLE</code>语句使用特定于SecureFiles或BasicFiles LOB存储或两者的参数来使用LOB存储。
                  </p>
                  <div class="section">
                     <p><a href="using-oracle-LOBs-storage.html#GUID-D4B9A527-6DF8-4451-B88B-B973E961D9F7__BABCFJBF">示例3-1</a>提供了Backus Naur（BNF）表示法中<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>的语法，其中LOB特定参数以粗体显示。
                     </p>
                     <p>SecureFiles LOB不支持<code class="codeph">SHRINK</code>选项。
                     </p>
                     <div class="infoboxnotealso" id="GUID-D4B9A527-6DF8-4451-B88B-B973E961D9F7__NOTE-1414-DCBF2692">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C" title="The CREATE TABLE statement uses parameters relating to LOB storage, and more specifically to either BasicFiles LOB or SecureFiles LOB.">CREATE TABLE LOB</a>参数描述和<code class="codeph">CREATE TABLE</code> <span>语句的</span> <a href="using-oracle-LOBs-storage.html#GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C" title="CREATE TABLE语句使用与LOB存储相关的参数，更具体地说，使用与BasicFiles LOB或SecureFiles LOB相关的参数。">存储参数</a></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-D4B9A527-6DF8-4451-B88B-B973E961D9F7__BABCFJBF">
                     <p class="titleinexample">例3-1 BNF for CREATE TABLE</p><pre class="pre codeblock"><code><span class="bold">CREATE</span> [ <span class="bold">GLOBAL</span> <span class="bold">TEMPORARY</span> ] <span class="bold">TABLE</span> [schema。] table OF [schema。] object_type [（relational_properties）] [ <span class="bold">ON</span> <span class="bold">COMMIT</span> { <span class="bold">DELETE</span> | <span class="bold">PRESERVE</span> } <span class="bold">ROWS</span> ] [OID_clause] [OID_index_clause] [physical_properties] [table_properties]; &lt;relational_properties&gt; :: = {column_definition | {out_of_line_constraint | out_of_line_ref_constraint | supplemental_logging_props}} [，{column_definition | {out_of_line_constraint | out_of_line_ref_constraint | supplemental_logging_props}] ......&lt;column_definition&gt; :: = column data_type [ <span class="bold">SORT</span> ] [ <span class="bold">DEFAULT</span> expr] [ <span class="bold">ENCRYPT</span> encryption_spec] [（inline_constraint [inline_constraint] ...）| inline_ref_constraint] &lt;data_type&gt; :: = {Oracle_built_in_datatypes | ANSI_supported_datatypes | user_defined_types | Oracle_supplied_types} &lt;Oracle_built_in_datatypes&gt; :: = {character_datatypes | number_datatypes | long_and_raw_datatypes | datetime_datatypes | large_object_datatypes | rowid_datatypes} &lt;large_object_datatypes&gt; :: = { <span class="bold">BLOB</span> | <span class="bold">CLOB</span> | <span class="bold">NCLOB</span> | <span class="bold">BFILE</span> } &lt;table_properties&gt; :: = [column_properties] [table_partitioning_clauses] [ <span class="bold">CACHE</span> | <span class="bold">NOCACHE</span> ] [parallel_clause] [ <span class="bold">ROWDEPENDENCIES</span> | <span class="bold">NOROWDEPENDENCIES</span> ] [enable_disable_clause] [enable_disable_clause] ...[row_movement_clause] [AS子查询] &lt;column_properties&gt; :: = {object_type_col_properties | nested_table_col_properties | {varray_col_properties | LOB_storage_clause} [（LOB_partition_storage [，LOB_partition_storage] ......）] | XMLType_column_properties} [{object_type_col_properties | nested_table_col_properties | {varray_col_properties | LOB_storage_clause} [（LOB_partition_storage [，LOB_partition_storage] ......）] | XMLType_column_properties}] ...&lt;LOB_partition_storage&gt; :: = <span class="bold">PARTITION</span> partition {LOB_storage_clause | varray_col_properties} [LOB_storage_clause | varray_col_properties] ......[（ <span class="bold">SUBPARTITION</span>子分区{LOB_storage_clause | varray_col_properties} [LOB_storage_clause | varray_col_properties] ...）] &lt;LOB_storage_clause&gt; :: = LOB {（LOB_item [，LOB_item] ......）
      <span class="bold">STORE</span> <span class="bold">AS</span> <span class="bold">[SECUREFILE</span> | <span class="bold">BASICFILE</span> ]（LOB_storage_parameters）| （LOB_item） <span class="bold">STORE</span> <span class="bold">AS</span> [ <span class="bold">SECUREFILE</span> | <span class="bold">BASICFILE</span> ] {LOB_segname（LOB_storage_parameters）| LOB_segname | （LOB_storage_parameters）}} &lt;LOB_storage_parameters&gt; :: = { <span class="bold">TABLESPACE</span> tablespace | {LOB_parameters [storage_clause]} | storage_clause} [ <span class="bold">TABLESPACE</span>表空间| {LOB_parameters [storage_clause]}] ...&lt;LOB_parameters&gt; :: = [{ <span class="bold">ENABLE</span> | <span class="bold">DISABLE}</span> <span class="bold">STORAGE</span> <span class="bold">IN</span> <span class="bold">ROW</span> | <span class="bold">CHUNK</span>整数| <span class="bold">PCTVERSION</span>整数| <span class="bold">保留</span> [{ <span class="bold">MAX</span> | <span class="bold">MIN</span>整数| <span class="bold">自动</span> | <span class="bold">无</span> }] | <span class="bold">FREEPOOLS</span>整数| LOB_deduplicate_clause | LOB_compression_clause | LOB_encryption_clause | { <span class="bold">CACHE</span> | <span class="bold">NOCACHE</span> | <span class="bold">CACHE</span> <span class="bold">READS</span> } [logging_clause]}}] &lt;logging_clause&gt; :: = { <span class="bold">LOGGING</span> | <span class="bold">NOLOGGING</span> | <span class="bold">FILESYSTEM_LIKE_LOGGING</span> } &lt;storage_clause&gt; :: = <span class="bold">STORAGE</span> （{ <span class="bold">INITIAL</span>整数[K | M] | <span class="bold">NEXT</span>整数[K | M] | <span class="bold">MINEXTENTS</span>整数| <span class="bold">MAXEXTENTS</span> {integer | UNLIMITED} | <span class="bold">PCTINCREASE</span>整数| <span class="bold">FREELISTS</span>整数| <span class="bold">FREELIST</span> <span class="bold">GROUPS</span>整数| <span class="bold">OPTIMAL</span> [整数] [K | M] | NULL] | <span class="bold">BUFFER_POOL</span> { <span class="bold">KEEP</span> | <span class="bold">RECYCLE</span> | <span class="bold">DEFAULT</span> }} [ <span class="bold">INITIAL</span>整数[K | M] | <span class="bold">NEXT</span>整数[K | M] | <span class="bold">MINEXTENTS</span>整数| <span class="bold">MAXEXTENTS</span> {integer | <span class="bold">UNLIMITED</span> } | <span class="bold">MAXSIZE</span> {{integer { K | M | G | T | P}} | <span class="bold">UNLIMITED</span> } | <span class="bold">PCTINCREASE</span>整数| <span class="bold">FREELISTS</span>整数| <span class="bold">FREELIST</span> <span class="bold">GROUPS</span>整数| <span class="bold">OPTIMAL</span> [整数[K | M] | NULL] | <span class="bold">BUFFER_POOL</span> { <span class="bold">KEEP</span> | <span class="bold">RECYCLE</span> | <span class="bold">DEFAULT</span> }] ...）&lt;LOB_deduplicate_clause&gt; :: = { <span class="bold">删除重复</span> | <span class="bold">KEEP_DUPLICATES</span> } &lt;LOB_compression_clause&gt; :: = { <span class="bold">COMPRESS</span> [ <span class="bold">HIGH</span> | <span class="bold">MEDIUM</span> | <span class="bold">低</span> ] | <span class="bold">NOCOMPRESS}</span> &lt;LOB_encryption_clause&gt; :: = <span class="bold">{ENCRYPT</span> <span class="bold">[USING</span> 'encrypt_algorithm'] <span class="bold">[IDENTIFIED BY</span>密码] | <span class="bold">DECRYPT}</span> &lt;XMLType_column_properties&gt; :: = XMLTYPE [COLUMN]柱[XMLType_storage] [XMLSchema_spec] &lt;XMLType_storage&gt; :: = <span class="bold">STORE</span> <span class="bold">AS</span> { <span class="bold">对象关系</span> | [ <span class="bold">SECUREFILE</span> | <span class="bold">BASICFILE</span> ] { <span class="bold">CLOB</span> | <span class="bold">BINARY XML</span> } [{LOB_segname [（LOB_parameters）] | LOB_parameters}] &lt;varray_col_properties&gt; :: = <span class="bold">VARRAY</span> varray_item {[substitutable_column_clause] <span class="bold">STORE</span> <span class="bold">AS</span> [ <span class="bold">SECUREFILE</span> | <span class="bold">BASICFILE</span> ] <span class="bold">LOB</span> {[LOB_segname]（LOB_parameters）| LOB_segname} | substitutable_column_clause}</code></pre></div>
                  <!-- class="example" -->
               </div><a id="ADLOB46114"></a><a id="ADLOB46113"></a><div class="props_rev_3"><a id="GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C" name="GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C"></a><h4 id="ADLOB-GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C" class="sect4">CREATE TABLE LOB存储参数</h4>
                  <div>
                     <p><code class="codeph">CREATE TABLE</code>语句使用与LOB存储相关的参数，更具体地说，使用与BasicFiles LOB或SecureFiles LOB相关的参数。</p>
                     <div class="section">
                        <p><a href="using-oracle-LOBs-storage.html#GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C__CIHBJBAG" title="第1列是CREATE TABLE语句的参数，带有指向其完整描述的链接。第2列是参数的简要说明。">表3-1</a>总结了与LOB存储相关的<code class="codeph">CREATE TABLE</code>语句的参数，必要时注意参数是否特定于BasicFiles LOB或SecureFiles LOB存储。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C__CIHBJBAG">
                        <p class="titleintable">表3-1与LOB相关的CREATE TABLE语句的参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="与LOB相关的CREATE TABLE语句的参数" width="100%" border="1" summary="Column 1 is a parameter of CREATE TABLE statement, with a link to its full description. Column 2 is a brief description of the parameter." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="35%" id="d8698e1301">参数</th>
                                 <th align="left" valign="bottom" width="65%" id="d8698e1303">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d8698e1307" headers="d8698e1301 ">
                                    <p><a id="d8698e1309" class="indexterm-anchor"></a><code class="codeph">BASICFILE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d8698e1307 d8698e1303 ">
                                    <p>指定BasicFiles LOB存储，LOB的原始体系结构。</p>
                                    <p>如果将兼容模式设置为Oracle Database <span class="italic">11g</span> ，则默认情况下会启用<code class="codeph">BASICFILE</code>功能并指定其完整性。
                                    </p>
                                    <p>从Oracle Database 12 <span class="italic">c开始</span> ，必须显式指定参数<code class="codeph">BASICFILE</code>才能使用<span>BasicFiles LOB</span>存储类型。否则， <code class="codeph">CREATE</code> <code class="codeph">TABLE</code>语句使用当前默认值SecureFiles LOB。
                                    </p>
                                    <p>对于BasicFiles LOB，指定任何SecureFiles LOB选项都会导致错误。</p>
                                    <div class="infoboxnotealso" id="GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C__NOTE-13234125-DCC5CEFF">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="using-oracle-LOBs-storage.html#GUID-5D305904-4685-45AE-A60F-4C491AFD98BD" title="您必须使用适当的兼容性参数执行LOB初始化。">初始化，兼容性和升级</a></p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d8698e1353" headers="d8698e1301 ">
                                    <p><a id="d8698e1355" class="indexterm-anchor"></a><code class="codeph">SECUREFILE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d8698e1353 d8698e1303 ">
                                    <p>指定SecureFiles LOB存储。</p>
                                    <p>从Oracle Database 12 <span class="italic">c</span>开始，由参数<code class="codeph">SECUREFILE</code>指定的<span>SecureFiles LOB</span>存储类型是默认值。
                                    </p>
                                    <p>SecureFiles LOB只能在使用自动段空间管理管理的表空间中创建（ <a id="d8698e1377" class="indexterm-anchor"></a> ASSM）。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d8698e1381" headers="d8698e1301 ">
                                    <p><a id="d8698e1383" class="indexterm-anchor"></a><code class="codeph">CHUNK</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d8698e1381 d8698e1303 ">
                                    <p>对于BasicFiles LOB，在创建存储LOB的表时指定块大小。</p>
                                    <p><code class="codeph">CHUNK</code>是一个或多个Oracle块，对应于Oracle数据库在访问或修改LOB时使用的数据大小。</p>
                                    <p>对于SecureFiles LOB，它是一个为向后兼容性而提供的建议大小。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d8698e1397" headers="d8698e1301 ">
                                    <p><a id="d8698e1399" class="indexterm-anchor"></a><code class="codeph">RETENTION</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d8698e1397 d8698e1303 ">
                                    <p>配置LOB列以指定方式存储旧版本的LOB数据。</p>
                                    <p>在Oracle Database Release 12 <span class="italic">c中</span> ，此参数指定保留策略。
                                    </p>
                                    <p><code class="codeph">RETENTION</code>具有以下可能的值：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">MAX</code>指定系统保留旧版本的LOB数据块，直到段使用的空间达到<code class="codeph">MAXSIZE</code>参数中指定的大小。如果未指定<code class="codeph">MAXSIZE</code> ，则<code class="codeph">MAX</code>行为类似于<code class="codeph">AUTO</code> 。</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">MIN</code>指定系统将旧版本的LOB数据块保留指定的秒数。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">NONE</code>指定没有保留期，并且可以以任何必要的方式重用空间。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">AUTO</code>指定系统尽可能有效地管理空间，同时权衡时间和空间需求。
                                          </p>
                                       </li>
                                    </ul>
                                    <div class="infoboxnotealso" id="GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C__RETENTIONPARAMETERFORBASICFILESLOBS-DCC5FABF">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="LOB-storage-with-applications.html#GUID-8FB3E176-1024-4531-9706-BA9C75C7CD28">有关BasicFiles LOB</a>使用的<code class="codeph">RETENTION</code>参数的更多信息，请参阅BasicFiles LOB的参数。
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d8698e1457" headers="d8698e1301 ">
                                    <p><a id="d8698e1459" class="indexterm-anchor"></a><code class="codeph">MAXSIZE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d8698e1457 d8698e1303 ">
                                    <p>指定LOB可能使用的存储空间的上限。</p>
                                    <p>如果消耗了这个空间量，则根据需要从旧版本的LOB数据块池中获取新的LOB数据块，而不管时间要求如何。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d8698e1469" headers="d8698e1301 ">
                                    <p><a id="d8698e1471" class="indexterm-anchor"></a><code class="codeph">FREEPOOLS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d8698e1469 d8698e1303 ">
                                    <p>如果数据库处于自动撤消模式，则指定BasicFiles LOB的<code class="codeph">FREELIST</code>组数。在版本12 <span class="italic">c</span>兼容性下，创建SecureFiles LOB时将忽略此参数。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d8698e1485" headers="d8698e1301 ">
                                    <p><a id="d8698e1487" class="indexterm-anchor"></a><a id="d8698e1491" class="indexterm-anchor"></a><a id="d8698e1495" class="indexterm-anchor"></a> <code class="codeph">LOGGING</code> ， <code class="codeph">NOLOGGING</code>或<code class="codeph">FILESYSTEM_LIKE_LOGGING</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d8698e1485 d8698e1303 ">
                                    <p>指定日志选项：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">LOGGING</code>指定在重做日志文件中记录LOB的创建和后续插入LOB。<code class="codeph">LOGGING</code>是默认值。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">NOLOGGING</code>指定不记录日志。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">FILESYSTEM_LIKE_LOGGING</code>指定系统仅记录元数据。这类似于文件系统的元数据日记，这减少了从故障中恢复的平均时间。<code class="codeph">FILESYSTEM_LIKE_LOGGING</code>确保在服务器发生故障后数据完全可恢复（实例恢复）。
                                          </p>
                                          <p><span class="italic">此选项对BasicFiles LOB无效。</span></p>
                                       </li>
                                    </ul>
                                    <p>对于SecureFiles LOB，以下内容适用：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">NOLOGGING</code>设置在内部转换为<code class="codeph">FILESYSTEM_LIKE_LOGGING.</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">LOGGING</code>设置类似于文件系统的数据日记。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">LOGGING</code>和<code class="codeph">FILESYSTEM_LIKE_LOGGING</code>设置都提供了完整的事务文件系统。
                                          </p>
                                       </li>
                                    </ul>
                                    <p>对于非分区对象，为此子句指定的值是与该对象关联的段的实际物理属性。</p>
                                    <p>对于分区对象，为此子句指定的值是与<code class="codeph">CREATE</code>语句中指定的所有分区关联的段的默认物理属性（以及后续的<code class="codeph">ALTER</code> ...除非在<code class="codeph">PARTITION</code>描述中指定logging属性，否则请<code class="codeph">ADD PARTITION</code>语句。
                                    </p>
                                    <p><span class="bold">警告：</span> 
                                    </p>
                                    <p>对于具有<code class="codeph">NOLOGGING</code>或<code class="codeph">FILESYSTEM_LIKE_LOGGING</code>设置的LOB段，在备份操作期间可能会在磁盘上更改数据。这导致读取不一致。要避免这种情况，请通过为LOB存储设置<code class="codeph">LOGGING</code> ，确保对LOB段的更改保存在重做日志文件中。
                                    </p>
                                    <p><code class="codeph">NOLOGGING</code>和<code class="codeph">FILESYSTEM_LIKE_LOGGING</code> SecureFiles在实例失败后可恢复，但在媒体失败后不可恢复。<code class="codeph">LOGGING</code> SecureFiles在实例和介质故障后都可以恢复。
                                    </p>
                                    <div class="infoboxnotealso" id="GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C__GUID-6CB96976-1FF2-487F-976C-06B6D03FBCA5">
                                       <p class="notep1">也可以看看：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><a href="../bradv/introduction-backup-recovery.html#BRADV89335" target="_blank"><span><cite>“Oracle数据库备份和恢复用户指南”，</cite></span></a>用于讨论数据保护，介质故障和实例故障。
                                             </p>
                                          </li>
                                          <li>
                                             <p><a href="LOB-storage-with-applications.html#GUID-3543D99F-A826-4750-8E94-7BAE754E0792">LOGFING / NOLOGGING BasicFiles LOB的参数</a></p>
                                          </li>
                                          <li>
                                             <p><a href="using-LOB-APIs.html#GUID-06CC03E6-4DD2-4326-82E2-3CABC9A37941">确保读一致性</a></p>
                                          </li>
                                       </ul>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d8698e1623" headers="d8698e1301 ">
                                    <p><a id="d8698e1625" class="indexterm-anchor"></a><a id="d8698e1627" class="indexterm-anchor"></a> <code class="codeph">FREELISTS</code>或<code class="codeph">FREELIST</code> <code class="codeph">GROUPS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d8698e1623 d8698e1303 ">
                                    <p>分别指定分配给段的进程空闲列表或空闲列表组的数量;分区表为<code class="codeph">NULL</code> 。在版本12 <span class="italic">c</span>兼容性下，创建SecureFiles LOB时将忽略这些参数。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d8698e1647" headers="d8698e1301 ">
                                    <p><a id="d8698e1649" class="indexterm-anchor"></a><a id="d8698e1651" class="indexterm-anchor"></a><code class="codeph">PCTVERSION</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d8698e1647 d8698e1303 ">
                                    <p>指定旧版本的LOB数据页可能占用的BasicFiles LOB数据空间的百分比。</p>
                                    <p>在版本12 <span class="italic">c</span>兼容性下，创建SecureFiles LOB时将忽略此参数。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d8698e1664" headers="d8698e1301 ">
                                    <p><a id="d8698e1666" class="indexterm-anchor"></a><a id="d8698e1668" class="indexterm-anchor"></a> <code class="codeph">COMPRESS</code>或<code class="codeph">NOCOMPRESS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d8698e1664 d8698e1303 ">
                                    <p><code class="codeph">COMPRESS</code>选项打开高级LOB压缩， <code class="codeph">NOCOMPRESS</code>将其关闭。
                                    </p>
                                    <p>请注意，设置表或索引压缩不会影响高级LOB压缩。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d8698e1687" headers="d8698e1301 ">
                                    <p><a id="d8698e1689" class="indexterm-anchor"></a><a id="d8698e1691" class="indexterm-anchor"></a> <code class="codeph">DEDUPLICATE</code>或<code class="codeph">KEEP_DUPLICATES</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d8698e1687 d8698e1303 ">
                                    <p><code class="codeph">DEDUPLICATE</code>选项启用高级LOB重复数据删除;它指定在LOB列，分区或子分区中的两行或更多行中相同的SecureFiles LOB数据必须共享相同的数据块。该数据库将具有相同内容的SecureFiles LOB组合到一个副本中，从而减少了存储并简化了存储管理。与此选项相反的是<code class="codeph">KEEP_DUPLICATES</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d8698e1709" headers="d8698e1301 ">
                                    <p><a id="d8698e1711" class="indexterm-anchor"></a><a id="d8698e1713" class="indexterm-anchor"></a> <code class="codeph">ENCRYPT</code>或<code class="codeph">DECRYPT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d8698e1709 d8698e1303 ">
                                    <p><code class="codeph">ENCRYPT</code>选项打开SecureFiles加密，并使用Oracle透明数据加密（TDE）加密所有SecureFiles LOB数据。<code class="codeph">DECRYPT</code>选项关闭SecureFiles加密。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="ADLOB46177"></a><div class="props_rev_3"><a id="GUID-3FA5F4CE-A296-49C3-913E-0D7482E2A138" name="GUID-3FA5F4CE-A296-49C3-913E-0D7482E2A138"></a><h4 id="ADLOB-GUID-3FA5F4CE-A296-49C3-913E-0D7482E2A138" class="sect4">CREATE TABLE和SecureFiles LOB功能</h4>
                  <div>
                     <p>请注意与<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>一起使用的SecureFiles LOB的使用说明和示例。</p>
                     <p>本节提供了与<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>使用的SecureFiles LOB特有的功能的使用说明和示例。</p>
                     <div class="infoboxnote" id="GUID-3FA5F4CE-A296-49C3-913E-0D7482E2A138__GUID-2112019E-7501-43CD-B83D-32EDC4F39219">
                        <p class="notep1">注意：</p>
                        <p>示例讨论中的条款是指Backus Naur（BNF）符号<a href="using-oracle-LOBs-storage.html#GUID-D4B9A527-6DF8-4451-B88B-B973E961D9F7__BABCFJBF">示例3-1</a> 。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-3FA5F4CE-A296-49C3-913E-0D7482E2A138__NOTE-143-DCCD15FB">
                        <p class="notep1">也可以看看：</p>
                        <p>有关参数的更多信息，请<a href="using-oracle-LOBs-storage.html#GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C" title="CREATE TABLE语句使用与LOB存储相关的参数，更具体地说，使用与BasicFiles LOB或SecureFiles LOB相关的参数。">参见CREATE TABLE LOB存储</a>参数</p>
                     </div>
                     <p>话题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="using-oracle-LOBs-storage.html#GUID-89992EE0-4939-42BD-8B48-443AC2E02E9A" title="在某些情况下，您可以使用高级LOB压缩和CREATE TABLE语句。">使用高级LOB压缩创建表</a></p>
                        </li>
                        <li>
                           <p><a href="using-oracle-LOBs-storage.html#GUID-5D574777-C7A8-44F8-B9E2-91B2FF51D3DC" title="您可以将高级LOB重复数据删除与CREATE TABLE语句一起使用。">使用高级LOB重复数据删除创建表</a></p>
                        </li>
                        <li>
                           <p><a href="using-oracle-LOBs-storage.html#GUID-43C83F15-745A-4C22-AF53-7C102A740DDB" title="您可以将SecureFiles Encryption与CREATE TABLE语句一起使用。">使用SecureFiles加密创建表</a></p>
                        </li>
                     </ul>
                  </div><a id="ADLOB45959"></a><div class="props_rev_3"><a id="GUID-89992EE0-4939-42BD-8B48-443AC2E02E9A" name="GUID-89992EE0-4939-42BD-8B48-443AC2E02E9A"></a><h5 id="ADLOB-GUID-89992EE0-4939-42BD-8B48-443AC2E02E9A" class="sect5">使用高级LOB压缩创建表</h5>
                     <div>
                        <p>在某些情况下，您可以使用高级LOB压缩和<code class="codeph">CREATE TABLE</code>语句。
                        </p>
                        <p>话题：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-84AD5E2D-9C1F-4954-AA0F-D66AAB655F20" title="使用CREATE TABLE语句和Advanced LOB Compression时请考虑这些问题。">高级LOB压缩的使用说明</a></p>
                           </li>
                           <li>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-DBE5876D-06B0-4F9F-9B5A-D6E5F365CED8" title="这些示例演示了如何为特定压缩方案发出CREATE TABLE语句。">CREATE TABLE和高级LOB压缩的示例</a></p>
                           </li>
                        </ul>
                     </div><a id="ADLOB46115"></a><div class="props_rev_3"><a id="GUID-84AD5E2D-9C1F-4954-AA0F-D66AAB655F20" name="GUID-84AD5E2D-9C1F-4954-AA0F-D66AAB655F20"></a><h6 id="ADLOB-GUID-84AD5E2D-9C1F-4954-AA0F-D66AAB655F20" class="sect6">高级LOB压缩的使用说明</h6>
                        <div>
                           <p>使用<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>语句和Advanced LOB Compression时请考虑这些问题。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>高级LOB压缩在服务器上执行，并启用对LOB数据的随机读取和写入。客户端上的压缩实用程序（如<code class="codeph">utl_compress</code> ）无法提供随机访问。
                                 </p>
                              </li>
                              <li>
                                 <p>高级LOB压缩不启用表或索引压缩。相反，表和索引压缩不启用高级LOB压缩。</p>
                              </li>
                              <li>
                                 <p><code class="codeph">LOW</code> ， <code class="codeph">MEDIUM</code>和<code class="codeph">HIGH</code>选项提供不同程度的压缩。压缩越高，发生的延迟越高。<code class="codeph">HIGH</code>设置会产生更多工作，但会更好地压缩数据。默认值为<code class="codeph">MEDIUM</code> 。</p>
                                 <p><code class="codeph">LOW</code>压缩选项使用极轻量级的压缩算法，可以消除文件压缩时常见的大部分CPU成本。压缩的SecureFiles <code class="codeph">LOW</code>级别LOB为SecureFiles LOB存储提供了非常有效的选择。压缩为<code class="codeph">LOW</code> SecureFiles LOB通常比BasicFiles LOB消耗更少的CPU时间和更少的存储空间，并且由于磁盘I / O的减少，通常可以帮助应用程序更快地运行。</p>
                              </li>
                              <li>
                                 <p>可以在分区级别指定压缩。<code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">lob_storage_clause</code>允许基于每个分区为分区表指定压缩。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBMS_LOB.SETOPTIONS</code>过程可以在单个SecureFiles LOB上启用和禁用压缩。
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-84AD5E2D-9C1F-4954-AA0F-D66AAB655F20__NOTE-132-DCCD5F34">
                              <p class="notep1">也可以看看：</p>
                              <p>有关<code class="codeph">DBMS_LOB.SETOPTIONS</code>过程的详细信息，请<a href="../arpls/DBMS_LOB.html#ARPLS66745" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </div>
                        </div>
                     </div><a id="ADLOB46116"></a><a id="ADLOB46117"></a><a id="ADLOB46118"></a><a id="ADLOB46119"></a><a id="ADLOB46120"></a><a id="ADLOB45960"></a><div class="props_rev_3"><a id="GUID-DBE5876D-06B0-4F9F-9B5A-D6E5F365CED8" name="GUID-DBE5876D-06B0-4F9F-9B5A-D6E5F365CED8"></a><h6 id="ADLOB-GUID-DBE5876D-06B0-4F9F-9B5A-D6E5F365CED8" class="sect6">CREATE TABLE和高级LOB压缩的示例</h6>
                        <div>
                           <p>这些示例演示了如何为特定压缩方案发出<code class="codeph">CREATE TABLE</code>语句。
                           </p>
                           <div class="example" id="GUID-DBE5876D-06B0-4F9F-9B5A-D6E5F365CED8__GUID-D49B2612-F5C7-46DA-87C9-A57A02FB4912">
                              <p class="titleinexample">示例3-2使用LOW压缩创建SecureFiles LOB列</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t1（一个CLOB）LOB（a）存储为SECUREFILE（压缩低速缓存）;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-DBE5876D-06B0-4F9F-9B5A-D6E5F365CED8__GUID-73887717-D621-42B5-B232-E3E86CFDABF8">
                              <p class="titleinexample">示例3-3使用MEDIUM创建SecureFiles LOB列（默认）压缩</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t1（一个CLOB）LOB（a）存储为SECUREFILE（COMPRESS CACHE NOLOGGING）;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-DBE5876D-06B0-4F9F-9B5A-D6E5F365CED8__GUID-EAAFBE5F-A158-4454-99EB-96F6E7259537">
                              <p class="titleinexample">示例3-4使用HIGH压缩创建SecureFiles LOB列</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t1（一个CLOB）LOB（a）存储为SECUREFILE（COMPRESS HIGH CACHE）;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-DBE5876D-06B0-4F9F-9B5A-D6E5F365CED8__GUID-C98E2ABF-96AB-43E3-BFB6-8FEF0EDD3252">
                              <p class="titleinexample">示例3-5创建具有禁用压缩的SecureFiles LOB列</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t1（一个CLOB）LOB（a）存储为SECUREFILE（NOCOMPRESS CACHE）;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-DBE5876D-06B0-4F9F-9B5A-D6E5F365CED8__GUID-0FD773DA-4B17-4D9B-9288-7E1C9C9850BC">
                              <p class="titleinexample">示例3-6在一个分区上创建具有压缩的SecureFiles LOB列</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t1（REGION VARCHAR2（20），BLOB）LOB（a）存储作为安全文件（CACHE）按列表（区域）划分（PARTITION p1 VALUES（'x'，'y'）LOB（a）存储为安全文件（ COMPRESS），PARTITION p2 VALUES（DEFAULT））;</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div>
                  </div><a id="ADLOB45957"></a><div class="props_rev_3"><a id="GUID-5D574777-C7A8-44F8-B9E2-91B2FF51D3DC" name="GUID-5D574777-C7A8-44F8-B9E2-91B2FF51D3DC"></a><h5 id="ADLOB-GUID-5D574777-C7A8-44F8-B9E2-91B2FF51D3DC" class="sect5">使用高级LOB重复数据删除创建表</h5>
                     <div>
                        <p>您可以将高级LOB重复数据删除与<code class="codeph">CREATE TABLE</code>语句一起使用。
                        </p>
                        <p>话题：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-6873CF13-025B-4277-84DB-B30FFA0434E7" title="使用CREATE TABLE和Advanced LOB Deduplication时请考虑这些问题。">高级LOB重复数据删除的使用说明</a></p>
                           </li>
                           <li>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-9008B14C-B084-491D-9BA1-F964EC42EE8D" title="这些示例演示了如何为特定的重复数据删除方案发出CREATE TABLE语句。">CREATE TABLE和高级LOB重复数据删除的示例</a></p>
                           </li>
                        </ul>
                     </div><a id="ADLOB46121"></a><div class="props_rev_3"><a id="GUID-6873CF13-025B-4277-84DB-B30FFA0434E7" name="GUID-6873CF13-025B-4277-84DB-B30FFA0434E7"></a><h6 id="ADLOB-GUID-6873CF13-025B-4277-84DB-B30FFA0434E7" class="sect6">高级LOB重复数据删除的使用说明</h6>
                        <div>
                           <p>使用<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>和Advanced LOB Deduplication时请考虑这些问题。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>相同的LOB是重复数据删除的理想选择。复制操作可以通过启用重复数据删除来避免数据重复。</p>
                              </li>
                              <li>
                                 <p>在LOB段内发生重复检测。重复检测不会跨越分区和子分区LOB列的分区或子分区。</p>
                              </li>
                              <li>
                                 <p>可以在分区级别指定重复数据删除。<code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">lob_storage_clause</code>支持基于每个分区的分区表规范。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBMS_LOB.SETOPTIONS</code>过程可以在各个LOB上启用或禁用重复数据删除。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div><a id="ADLOB46122"></a><a id="ADLOB46123"></a><a id="ADLOB46124"></a><a id="ADLOB46125"></a><a id="ADLOB45958"></a><div class="props_rev_3"><a id="GUID-9008B14C-B084-491D-9BA1-F964EC42EE8D" name="GUID-9008B14C-B084-491D-9BA1-F964EC42EE8D"></a><h6 id="ADLOB-GUID-9008B14C-B084-491D-9BA1-F964EC42EE8D" class="sect6">CREATE TABLE和高级LOB重复数据删除的示例</h6>
                        <div>
                           <p>这些示例演示了如何为特定的重复数据删除方案发出<code class="codeph">CREATE TABLE</code>语句。
                           </p>
                           <div class="example" id="GUID-9008B14C-B084-491D-9BA1-F964EC42EE8D__GUID-1E0942E6-F9BC-4F98-BEFF-8DE6F46D0779">
                              <p class="titleinexample">示例3-7使用重复数据删除创建SecureFiles LOB列</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t1（一个CLOB）LOB（a）存储为SECUREFILE（DEDUPLICATE CACHE）;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-9008B14C-B084-491D-9BA1-F964EC42EE8D__GUID-96BDCBCE-9231-4E98-AF06-30D7544E9B95">
                              <p class="titleinexample">示例3-8创建具有禁用重复数据删除功能的SecureFiles LOB列</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t1（一个CLOB）LOB（a）存储为SECUREFILE（KEEP_DUPLICATES CACHE）;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-9008B14C-B084-491D-9BA1-F964EC42EE8D__GUID-EB74BF86-234A-4D45-9F1C-4A7DDDEB7CFA">
                              <p class="titleinexample">示例3-9在一个分区上创建具有重复数据删除功能的SecureFiles LOB列</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t1（REGION VARCHAR2（20），BLOB）LOB（a）存储作为安全文件（CACHE）按列表（区域）划分（PARTITION p1 VALUES（'x'，'y'）LOB（a）存储为安全文件（ DEDUPLICATE），PARTITION p2 VALUES（DEFAULT））;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-9008B14C-B084-491D-9BA1-F964EC42EE8D__GUID-204AD0BA-6347-47CA-AA55-CD43F1C305A1">
                              <p class="titleinexample">示例3-10创建在一个分区上禁用重复数据删除的SecureFiles LOB列</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t1（REGION VARCHAR2（20），ID NUMBER，BLOB）LOB（a）存储为安全文件（DEDUPLICATE CACHE）按区域（区域）分区的哈希（ID）子区域2（分区p1值小于（51） lob（a）STORE AS a_t2_p1（SUBPARTITION t2_p1_s1 lob（a）STORE AS a_t2_p1_s1，SUBPARTITION t2_p1_s2 lob（a）STORE AS a_t2_p1_s2），PARTITION p2 VALUE小于（MAXVALUE）lob（a）STORE AS a_t2_p2（KEEP_DUPLICATES）（SUBPARTITION t2_p2_s1 lob（a）STORE AS a_t2_p2_s1，SUBPARTITION t2_p2_s2 lob（a）STORE AS a_t2_p2_s2））;</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div>
                  </div><a id="ADLOB45961"></a><div class="props_rev_3"><a id="GUID-43C83F15-745A-4C22-AF53-7C102A740DDB" name="GUID-43C83F15-745A-4C22-AF53-7C102A740DDB"></a><h5 id="ADLOB-GUID-43C83F15-745A-4C22-AF53-7C102A740DDB" class="sect5">使用SecureFiles加密创建表</h5>
                     <div>
                        <p>您可以将SecureFiles Encryption与<code class="codeph">CREATE TABLE</code>语句一起使用。
                        </p>
                        <p>话题：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-C9A48AB2-91A2-4440-B28E-ECC53A287742" title="使用CREATE TABLE和SecureFiles Encryptions时请考虑这些问题">SecureFiles加密的使用说明</a></p>
                           </li>
                           <li>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-5EC208EB-3D6D-4D33-B434-A09FF16A15AC" title="这些示例演示了如何为特定加密方案发出CREATE TABLE语句。">CREATE TABLE和SecureFiles加密的示例</a></p>
                           </li>
                        </ul>
                     </div><a id="ADLOB46126"></a><div class="props_rev_3"><a id="GUID-C9A48AB2-91A2-4440-B28E-ECC53A287742" name="GUID-C9A48AB2-91A2-4440-B28E-ECC53A287742"></a><h6 id="ADLOB-GUID-C9A48AB2-91A2-4440-B28E-ECC53A287742" class="sect6">SecureFiles加密的使用说明</h6>
                        <div>
                           <p>使用<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>和SecureFiles Encryptions时请考虑这些问题</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>透明数据加密（TDE）支持LOB数据类型的加密。</p>
                              </li>
                              <li>
                                 <p>加密在块级别执行。</p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">encrypt_algorithm</code></span>指示加密算法的名称。有效算法包括： <code class="codeph">AES192</code> （默认）， <code class="codeph">3DES168</code> ， <code class="codeph">AES128</code>和<code class="codeph">AES256</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>如果指定，列加密密钥是从<code class="codeph">PASSWORD</code>派生的。
                                 </p>
                              </li>
                              <li>
                                 <p>LOB加密的默认值为<code class="codeph">SALT</code> 。不支持<code class="codeph">NO</code> <code class="codeph">SALT</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>LOB列中的所有LOB都是加密的。</p>
                              </li>
                              <li>
                                 <p><code class="codeph">DECRYPT</code>使LOB保持明文。
                                 </p>
                              </li>
                              <li>
                                 <p>LOB只能按列加密，类似于TDE。 LOB列中的所有分区都是加密的。</p>
                              </li>
                              <li>
                                 <p>密钥管理控制加密或解密的能力。</p>
                              </li>
                              <li>
                                 <p>传统的<code class="codeph">import</code>和<code class="codeph">export</code>实用程序或基于可传输表空间的<code class="codeph">export</code>不支持TDE。而是使用带有加密列的Data Pump <code class="codeph">expdb</code>和<code class="codeph">impdb</code>实用程序。
                                 </p>
                                 <div class="infoboxnotealso" id="GUID-C9A48AB2-91A2-4440-B28E-ECC53A287742__GUID-E1822910-78F5-47B9-BDC3-053E8A7E9F03">
                                    <p class="notep1">也可以看看：</p>
                                    <p>“ <a href="../asoag/asopart1.html#ASOAG600" target="_blank"><span class="italic">Oracle数据库高级安全性指南”</span></a> ，了解有关使用<code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code>语句创建TDE密钥库的信息</p>
                                 </div>
                              </li>
                           </ul>
                        </div>
                     </div><a id="ADLOB46127"></a><a id="ADLOB46128"></a><a id="ADLOB46129"></a><a id="ADLOB46130"></a><a id="ADLOB45962"></a><div class="props_rev_3"><a id="GUID-5EC208EB-3D6D-4D33-B434-A09FF16A15AC" name="GUID-5EC208EB-3D6D-4D33-B434-A09FF16A15AC"></a><h6 id="ADLOB-GUID-5EC208EB-3D6D-4D33-B434-A09FF16A15AC" class="sect6">CREATE TABLE和SecureFiles加密的示例</h6>
                        <div>
                           <p>这些示例演示了如何为特定加密方案发出<code class="codeph">CREATE TABLE</code>语句。
                           </p>
                           <div class="example" id="GUID-5EC208EB-3D6D-4D33-B434-A09FF16A15AC__GUID-AF5A73D4-A816-47BB-BBDB-3E707D565E06">
                              <p class="titleinexample">示例3-11使用特定加密算法创建SecureFiles LOB列</p><pre class="oac_no_warn" dir="ltr">创建表t1（使用'AES128'的CLOB加密）LOB（a）存储为SECUREFILE（CACHE）;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-5EC208EB-3D6D-4D33-B434-A09FF16A15AC__GUID-F20D76C2-6B5A-4549-8454-33BB76D5DAC5">
                              <p class="titleinexample">示例3-12为所有分区创建加密的SecureFiles LOB列</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t1（REGION VARCHAR2（20），BLOB）LOB（a）存储为SECUREFILE（使用'AES128'NOCACHE FILESYSTEM_LIKE_LOGGING加密）按列表（区域）划分（PARTITION p1 VALUES（'x'，'y'），PARTITION p2 VALUES（DEFAULT））;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-5EC208EB-3D6D-4D33-B434-A09FF16A15AC__GUID-8B1CD51F-EB9F-434B-946A-334B49D2C840">
                              <p class="titleinexample">示例3-13使用基于密码密钥的加密创建SecureFiles LOB列</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t1（由foo识别的CLOB ENCRYPT）LOB（a）存储为SECUREFILE（CACHE）;</pre><p>以下示例具有相同的结果，因为可以在语句的<code class="codeph">LOB_deduplicate_clause</code>部分中设置加密选项：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t1（一个CLOB）LOB（a）存储为SECUREFILE（由foo识别的CACHE ENCRYPT）;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-5EC208EB-3D6D-4D33-B434-A09FF16A15AC__GUID-4504EE95-2F0A-451F-804E-8B902CD4DF5B">
                              <p class="titleinexample">示例3-14创建具有禁用加密的SecureFiles LOB列</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t1（一个CLOB）LOB（a）STORE AS SECUREFILE（CACHE DECRYPT）;</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="ADLOB45963"></a><div class="props_rev_3"><a id="GUID-E82DC080-8AA0-46F5-B6C6-DDAB7105BC9F" name="GUID-E82DC080-8AA0-46F5-B6C6-DDAB7105BC9F"></a><h3 id="ADLOB-GUID-E82DC080-8AA0-46F5-B6C6-DDAB7105BC9F" class="sect3">带有LOB存储的ALTER TABLE</h3>
               <div>
                  <p>您可以使用<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>语句和特定的LOB相关参数修改LOB存储。
                  </p>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="using-oracle-LOBs-storage.html#GUID-57EF50BD-2BC4-4E19-A109-145323D23E42" title="您可以使用ALTER TABLE为LOB列启用压缩，重复数据删除或加密功能。">关于ALTER TABLE和LOB存储</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-LOBs-storage.html#GUID-BFA5A4D5-652A-4C8D-8CFB-DEB6E7A46C9A" title="此Backus Naur（BNF）表示法为ALTER TABLE提供了粗体的LOB特定参数的语法。">ALTER TABLE语句的BNF</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-LOBs-storage.html#GUID-B464E26A-BEA3-4F2A-85AF-D5A394957F25" title="您必须使用与LOB存储相关的ALTER TABLE语句的特定参数。">ALTER TABLE LOB存储参数</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-LOBs-storage.html#GUID-3F76D891-BAE3-463B-9109-0D7674AF8DA9" title="特定于SecureFiles LOB的某些功能与ALTER TABLE语句一起使用。">ALTER TABLE SecureFiles LOB功能</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-57EF50BD-2BC4-4E19-A109-145323D23E42" name="GUID-57EF50BD-2BC4-4E19-A109-145323D23E42"></a><h4 id="ADLOB-GUID-57EF50BD-2BC4-4E19-A109-145323D23E42" class="sect4">关于ALTER TABLE和LOB存储</h4>
                  <div>
                     <p>您可以使用<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>为LOB列启用压缩，重复数据删除或加密功能。
                     </p>
                     <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code>语句支持在线操作，Oracle数据库支持SecureFiles LOB列上的并行操作，使其成为一种资源有效的方法。
                     </p>
                     <p>作为<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>的替代方法，您可以使用在线重新定义来启用这些功能中的一个或多个。与<code class="codeph">ALTER</code> <code class="codeph">TABLE</code> ，SecureFiles LOB列的在线重新定义可以并行执行。
                     </p>
                     <p>请注意，SecureFiles LOB不支持<code class="codeph">SHRINK</code>选项。
                     </p>
                     <div class="infoboxnotealso" id="GUID-57EF50BD-2BC4-4E19-A109-145323D23E42__NOTE-134-DCCED4E3">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>语句的详细信息，请<a href="../sqlrf/ALTER-TABLE.html#SQLRF53453" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-95FB6968-59BA-436F-ABEB-F6FA6DD5584F" title="迁移BasicFiles LOB列会生成重做数据，这可能会导致性能问题。在线重新定义是将BasicFiles LOB迁移到SecureFiles LOB的推荐方法。您可以使用Online Redefinition迁移表。如果系统具有足够的并行执行资源，则可以并行重新定义SecureFiles LOB列。">将列从BasicFiles LOB迁移到SecureFiles LOB</a>以获取有关联机重定义的更多信息</p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">DBMS_REDEFINITION</code>包的更多信息，请<a href="../arpls/DBMS_REDEFINITION.html#ARPLS042" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADLOB46131"></a><div class="props_rev_3"><a id="GUID-BFA5A4D5-652A-4C8D-8CFB-DEB6E7A46C9A" name="GUID-BFA5A4D5-652A-4C8D-8CFB-DEB6E7A46C9A"></a><h4 id="ADLOB-GUID-BFA5A4D5-652A-4C8D-8CFB-DEB6E7A46C9A" class="sect4">ALTER TABLE语句的BNF</h4>
                  <div>
                     <p>此Backus Naur（BNF）表示法为<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>提供了粗体的LOB特定参数的语法。
                     </p>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-BFA5A4D5-652A-4C8D-8CFB-DEB6E7A46C9A__SEECREATETABLELOBSTORAGEPARAMETERSF-DCD040E9">
                           <p class="notep1">也可以看看：</p>
                        </div>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C" title="The CREATE TABLE statement uses parameters relating to LOB storage, and more specifically to either BasicFiles LOB or SecureFiles LOB.">CREATE TABLE LOB</a>参数描述的<a href="using-oracle-LOBs-storage.html#GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C" title="CREATE TABLE语句使用与LOB存储相关的参数，更具体地说，使用与BasicFiles LOB或SecureFiles LOB相关的参数。">存储参数</a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">ALTER TABLE</code>语句的详细信息，请<a href="../sqlrf/ALTER-TABLE.html#SQLRF20015" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                        </ul><pre class="pre codeblock"><code><span class="bold">ALTER</span> <span class="bold">TABLE</span> [schema。]表[alter_table_properties | column_clauses | constraint_clauses | alter_table_partitioning | alter_external_table_clauses | move_table_clause] [enable_disable_clause | { <span class="bold">ENABLE</span> | <span class="bold">DISABLE</span> } { <span class="bold">TABLE</span> <span class="bold">LOCK</span> | <span class="bold">所有</span> <span class="bold">触发器</span> } [enable_disable_clause | { <span class="bold">ENABLE</span> | <span class="bold">DISABLE</span> } { <span class="bold">TABLE</span> <span class="bold">LOCK</span> | <span class="bold">ALL</span> <span class="bold">TRIGGERS</span> }] ......]; &lt;column_clauses&gt; :: = {{add_column_clause | modify_column_clause | drop_column_clause} [add_column_clause | modify_column_clause | drop_column_clause] ...| rename_column_clause | modify_collection_retrieval [modify_collection_retrieval] ...| modify_LOB_storage_clause [modify_LOB_storage_clause] ...| alter_varray_col_properties [alter_varray_col_properties]} &lt;modify_LOB_storage_clause&gt; :: = <span class="bold">MODIFY</span> <span class="bold">LOB</span> （LOB_item）（modify_LOB_parameters）&lt;modify_LOB_parameters&gt; :: = {storage_clause | <span class="bold">PCTVERSION</span>整数| <span class="bold">FREEPOOLS</span>整数| <span class="bold">REBUILD</span> FREEPOOLS | LOB_retention_clause | LOB_deduplicate_clause | LOB_compression_clause | { <span class="bold">ENCRYPT</span> encryption_spec | <span class="bold">DECRYPT</span> } | { <span class="bold">CACHE</span> | { <span class="bold">NOCACHE</span> | <span class="bold">CACHE</span> <span class="bold">READS</span> } [logging_clause]} | allocate_extent_clause | shrink_clause | deallocate_unused_clause} ...</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB46133"></a><a id="ADLOB46132"></a><div class="props_rev_3"><a id="GUID-B464E26A-BEA3-4F2A-85AF-D5A394957F25" name="GUID-B464E26A-BEA3-4F2A-85AF-D5A394957F25"></a><h4 id="ADLOB-GUID-B464E26A-BEA3-4F2A-85AF-D5A394957F25" class="sect4">ALTER TABLE LOB存储参数</h4>
                  <div>
                     <p>您必须使用与LOB存储相关的<code class="codeph">ALTER TABLE</code>语句的特定参数。
                     </p>
                     <div class="section">
                        <p>如图所示，参数可以特定于BasicFiles LOB或SecureFiles LOB存储。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-B464E26A-BEA3-4F2A-85AF-D5A394957F25__GUID-6ADDB005-8EB6-4023-A77A-B83DA07B7DD9">
                        <p class="titleintable">表3-2与LOB相关的ALTER TABLE语句的参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="与LOB相关的ALTER TABLE语句的参数" width="100%" border="1" summary="Column 1 is a parameter of CREATE TABLE statement, with a link to its full description. Column 2 is a brief description of the parameter." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="35%" id="d8698e3363">参数</th>
                                 <th align="left" valign="bottom" width="65%" id="d8698e3366">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d8698e3371" headers="d8698e3363 ">
                                    <p><a id="d8698e3373" class="indexterm-anchor"></a><code class="codeph">RETENTION</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d8698e3371 d8698e3366 ">
                                    <p>配置LOB列以指定方式存储旧版本的LOB数据。更改<code class="codeph">RETENTION</code>仅影响<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>语句运行后创建的空间。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d8698e3390" headers="d8698e3363 ">
                                    <p><a id="d8698e3392" class="indexterm-anchor"></a><a id="d8698e3394" class="indexterm-anchor"></a> <code class="codeph">COMPRESS</code>或<code class="codeph">NOCOMPRESS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d8698e3390 d8698e3366 ">
                                    <p>启用或禁用高级LOB压缩。LOB段中的所有LOB都使用新设置进行更改。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d8698e3405" headers="d8698e3363 ">
                                    <p><a id="d8698e3407" class="indexterm-anchor"></a><a id="d8698e3409" class="indexterm-anchor"></a> <code class="codeph">DEDUPLICATE</code>或<code class="codeph">KEEP_DUPLICATES</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d8698e3405 d8698e3366 ">
                                    <p>启用或禁用高级LOB重复数据删除。</p>
                                    <p>选项<code class="codeph">DEDUPLICATE</code>允许您指定LOB列中两行或更多行中相同的LOB数据共享相同的数据块。该数据库将具有相同内容的LOB组合到一个副本中，从而减少了存储并简化了存储管理。与此选项相反的是<code class="codeph">KEEP_DUPLICATES</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d8698e3428" headers="d8698e3363 ">
                                    <p><a id="d8698e3430" class="indexterm-anchor"></a><a id="d8698e3432" class="indexterm-anchor"></a> <code class="codeph">ENCRYPT</code>或<code class="codeph">DECRYPT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d8698e3428 d8698e3366 ">
                                    <p>启用或禁用SecureFiles LOB加密。使用新设置更改LOB段中的所有LOB。只能更改LOB段以启用或禁用LOB加密。也就是说， <code class="codeph">ALTER</code>不能用于更新加密算法或加密密钥。使用<code class="codeph">ALTER TABLE REKEY</code>语法更新加密算法或加密密钥。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="ADLOB46178"></a><div class="props_rev_3"><a id="GUID-3F76D891-BAE3-463B-9109-0D7674AF8DA9" name="GUID-3F76D891-BAE3-463B-9109-0D7674AF8DA9"></a><h4 id="ADLOB-GUID-3F76D891-BAE3-463B-9109-0D7674AF8DA9" class="sect4">ALTER TABLE SecureFiles LOB功能</h4>
                  <div>
                     <p>特定于SecureFiles LOB的某些功能与<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>语句一起使用。
                     </p>
                     <p>这些SecureFiles LOB功能与<code class="codeph">ALTER</code> <code class="codeph">TABLE</code> ，如使用说明和示例中所述。
                     </p>
                     <div class="infoboxnote" id="GUID-3F76D891-BAE3-463B-9109-0D7674AF8DA9__GUID-E0AF9DBA-C73C-49BA-A23A-7BA6D9540BE6">
                        <p class="notep1">注意：</p>
                        <p>示例讨论中的条款引用Backus Naur（BNF）表示法<span class="q">“ <a href="using-oracle-LOBs-storage.html#GUID-BFA5A4D5-652A-4C8D-8CFB-DEB6E7A46C9A" title="此Backus Naur（BNF）表示法为ALTER TABLE提供了粗体的LOB特定参数的语法。">ALTER TABLE语句的BNF</a> ”</span> 。
                        </p>
                        <p>参数在<span class="q">“ <a href="using-oracle-LOBs-storage.html#GUID-B464E26A-BEA3-4F2A-85AF-D5A394957F25" title="您必须使用与LOB存储相关的ALTER TABLE语句的特定参数。">ALTER TABLE LOB存储参数</a> ”中描述</span> 。
                        </p>
                     </div>
                     <p>话题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="using-oracle-LOBs-storage.html#GUID-3DE5B204-7398-43AC-930C-5956A86AFFAD" title="高级LOB压缩与ALTER TABLE语句一起使用。">具有高级LOB压缩的ALTER TABLE</a></p>
                        </li>
                        <li>
                           <p><a href="using-oracle-LOBs-storage.html#GUID-457FC42E-B70D-4A06-8AE0-0B1319957050" title="高级LOB重复数据删除适用于ALTER TABLE语句。">具有高级LOB重复数据删除功能的ALTER TABLE</a></p>
                        </li>
                        <li>
                           <p><a href="using-oracle-LOBs-storage.html#GUID-73E64636-83C4-4B2D-A6F1-563A17FE7990" title="SecureFiles Encryption与ALTER TABLE语句一起使用。">使用SecureFiles加密的ALTER TABLE</a></p>
                        </li>
                     </ul>
                  </div><a id="ADLOB45970"></a><div class="props_rev_3"><a id="GUID-3DE5B204-7398-43AC-930C-5956A86AFFAD" name="GUID-3DE5B204-7398-43AC-930C-5956A86AFFAD"></a><h5 id="ADLOB-GUID-3DE5B204-7398-43AC-930C-5956A86AFFAD" class="sect5">具有高级LOB压缩的ALTER TABLE</h5>
                     <div>
                        <p>高级LOB压缩与<code class="codeph">ALTER TABLE</code>语句一起使用。
                        </p>
                        <p>话题：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-0A7FD291-8D0F-435E-91A9-D7C4713B45E3" title="使用ALTER TABLE和Advanced LOB Compression时请考虑这些问题。">高级LOB压缩的使用说明</a></p>
                           </li>
                           <li>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-C3D580A4-B3B4-49D7-9187-CD0260FBD42A" title="这些示例演示了如何为特定压缩方案发出ALTER TABLE语句。">ALTER TABLE和高级LOB压缩的示例</a></p>
                           </li>
                        </ul>
                     </div><a id="ADLOB46134"></a><div class="props_rev_3"><a id="GUID-0A7FD291-8D0F-435E-91A9-D7C4713B45E3" name="GUID-0A7FD291-8D0F-435E-91A9-D7C4713B45E3"></a><h6 id="ADLOB-GUID-0A7FD291-8D0F-435E-91A9-D7C4713B45E3" class="sect6">高级LOB压缩的使用说明</h6>
                        <div>
                           <p>使用<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>和Advanced LOB Compression时请考虑这些问题。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>此语法更改LOB列的压缩模式。</p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBMS_LOB.SETOPTIONS</code>过程可以启用或禁用单个LOB上的压缩。
                                 </p>
                              </li>
                              <li>
                                 <p>可以在表级别或分区级别指定压缩。</p>
                              </li>
                              <li>
                                 <p><code class="codeph">LOW</code> ， <code class="codeph">MEDIUM</code>和<code class="codeph">HIGH</code>选项提供不同程度的压缩。压缩越高，发生的延迟越高。<code class="codeph">HIGH</code>设置会产生更多工作，但会更好地压缩数据。默认值为<code class="codeph">MEDIUM</code> 。</p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-0A7FD291-8D0F-435E-91A9-D7C4713B45E3__NOTE-132-DCD16956">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-89992EE0-4939-42BD-8B48-443AC2E02E9A" title="在某些情况下，您可以使用高级LOB压缩和CREATE TABLE语句。">使用高级LOB压缩创建表</a></p>
                           </div>
                        </div>
                     </div><a id="ADLOB46135"></a><a id="ADLOB46136"></a><a id="ADLOB46137"></a><a id="ADLOB46138"></a><a id="ADLOB45971"></a><div class="props_rev_3"><a id="GUID-C3D580A4-B3B4-49D7-9187-CD0260FBD42A" name="GUID-C3D580A4-B3B4-49D7-9187-CD0260FBD42A"></a><h6 id="ADLOB-GUID-C3D580A4-B3B4-49D7-9187-CD0260FBD42A" class="sect6">ALTER TABLE和高级LOB压缩的示例</h6>
                        <div>
                           <p>这些示例演示了如何为特定压缩方案发出<code class="codeph">ALTER TABLE</code>语句。
                           </p>
                           <div class="example" id="GUID-C3D580A4-B3B4-49D7-9187-CD0260FBD42A__GUID-1589EC5A-A784-4F84-ACEB-FF848375A0BE">
                              <p class="titleinexample">示例3-15更改SecureFiles LOB列以启用低压缩</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE t1 MODIFY LOB（a）（COMPRESS LOW）;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-C3D580A4-B3B4-49D7-9187-CD0260FBD42A__GUID-81F81CD7-F5C8-4EDA-8263-56E36B5D27EB">
                              <p class="titleinexample">示例3-16更改SecureFiles LOB列以禁用压缩</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE t1 MODIFY LOB（a）（NOCOMPRESS）;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-C3D580A4-B3B4-49D7-9187-CD0260FBD42A__GUID-A538A1E5-6FFE-4E31-9542-AB373C5F49F9">
                              <p class="titleinexample">示例3-17更改SecureFiles LOB列以启用高压缩</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE t1 MODIFY LOB（a）（COMPRESS HIGH）;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-C3D580A4-B3B4-49D7-9187-CD0260FBD42A__GUID-7838587B-771E-44C8-8F26-333332CECE1F">
                              <p class="titleinexample">示例3-18更改SecureFiles LOB列以在一个分区上启用压缩</p><pre class="oac_no_warn" dir="ltr">更改表t1修改分区p1 LOB（a）（COMPRESS HIGH）;</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div>
                  </div><a id="ADLOB45968"></a><div class="props_rev_3"><a id="GUID-457FC42E-B70D-4A06-8AE0-0B1319957050" name="GUID-457FC42E-B70D-4A06-8AE0-0B1319957050"></a><h5 id="ADLOB-GUID-457FC42E-B70D-4A06-8AE0-0B1319957050" class="sect5">具有高级LOB重复数据删除功能的ALTER TABLE</h5>
                     <div>
                        <p>高级LOB重复数据删除适用于<code class="codeph">ALTER TABLE</code>语句。
                        </p>
                        <p>话题：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-43A69E35-FA3F-4732-9066-12587B881131" title="使用ALTER TABLE和Advanced LOB Deduplication时请考虑这些问题。">高级LOB重复数据删除的使用说明</a></p>
                           </li>
                           <li>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-E5D36440-A2EB-46C7-B447-79F25C4F06F5" title="这些示例演示了如何为特定的重复数据删除方案发出ALTER TABLE语句。">ALTER TABLE和高级LOB重复数据删除的示例</a></p>
                           </li>
                        </ul>
                     </div><a id="ADLOB46139"></a><div class="props_rev_3"><a id="GUID-43A69E35-FA3F-4732-9066-12587B881131" name="GUID-43A69E35-FA3F-4732-9066-12587B881131"></a><h6 id="ADLOB-GUID-43A69E35-FA3F-4732-9066-12587B881131" class="sect6">高级LOB重复数据删除的使用说明</h6>
                        <div>
                           <p>使用<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>和Advanced LOB Deduplication时请考虑这些问题。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code>语法可以启用或禁用LOB级重复数据删除。
                                 </p>
                              </li>
                              <li>
                                 <p>此语法会更改LOB列的重复数据删除模式。</p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBMS_LOB.SETOPTIONS</code>过程可以在各个LOB上启用或禁用重复数据删除。
                                 </p>
                              </li>
                              <li>
                                 <p>可以在表级别或分区级别指定重复数据删除。重复数据删除不跨越分区LOB。</p>
                              </li>
                           </ul>
                        </div>
                     </div><a id="ADLOB46140"></a><a id="ADLOB46141"></a><a id="ADLOB46142"></a><a id="ADLOB45969"></a><div class="props_rev_3"><a id="GUID-E5D36440-A2EB-46C7-B447-79F25C4F06F5" name="GUID-E5D36440-A2EB-46C7-B447-79F25C4F06F5"></a><h6 id="ADLOB-GUID-E5D36440-A2EB-46C7-B447-79F25C4F06F5" class="sect6">ALTER TABLE和高级LOB重复数据删除的示例</h6>
                        <div>
                           <p>这些示例演示了如何为特定的重复数据删除方案发出<code class="codeph">ALTER TABLE</code>语句。
                           </p>
                           <div class="example" id="GUID-E5D36440-A2EB-46C7-B447-79F25C4F06F5__GUID-A32AD97A-3E04-455E-80FA-E98E3D00E63C">
                              <p class="titleinexample">示例3-19更改SecureFiles LOB列以禁用重复数据删除</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE t1 MODIFY LOB（a）（KEEP_DUPLICATES）;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-E5D36440-A2EB-46C7-B447-79F25C4F06F5__GUID-6D436B11-640D-44D3-9B82-1693860B1B8B">
                              <p class="titleinexample">示例3-20更改SecureFiles LOB列以启用重复数据删除</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE t1 MODIFY LOB（a）（DEDUPLICATE）;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-E5D36440-A2EB-46C7-B447-79F25C4F06F5__GUID-4471617F-351D-4B00-AB33-25249F77E993">
                              <p class="titleinexample">示例3-21更改SecureFiles LOB列以在一个分区上启用重复数据删除</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE t1 MODIFY PARTITION p1 LOB（a）（DEDUPLICATE）;</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div>
                  </div><a id="ADLOB45972"></a><div class="props_rev_3"><a id="GUID-73E64636-83C4-4B2D-A6F1-563A17FE7990" name="GUID-73E64636-83C4-4B2D-A6F1-563A17FE7990"></a><h5 id="ADLOB-GUID-73E64636-83C4-4B2D-A6F1-563A17FE7990" class="sect5">使用SecureFiles加密的ALTER TABLE</h5>
                     <div>
                        <p>SecureFiles Encryption与<code class="codeph">ALTER TABLE</code>语句一起使用。
                        </p>
                        <p>话题：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-E2570018-0365-46FC-845E-0ADB540B576F" title="使用ALTER TABLE和SecureFiles Encryption时请考虑这些问题。">SecureFiles加密的使用说明</a></p>
                           </li>
                           <li>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-A676B9F2-2231-4577-9A1D-FCEBC8DAED38" title="这些示例演示了如何为特定加密方案发出ALTER TABLE语句。">ALTER TABLE和SecureFiles加密的示例</a></p>
                           </li>
                        </ul>
                     </div><a id="ADLOB46143"></a><div class="props_rev_3"><a id="GUID-E2570018-0365-46FC-845E-0ADB540B576F" name="GUID-E2570018-0365-46FC-845E-0ADB540B576F"></a><h6 id="ADLOB-GUID-E2570018-0365-46FC-845E-0ADB540B576F" class="sect6">SecureFiles加密的使用说明</h6>
                        <div>
                           <p>使用<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>和SecureFiles Encryption时请考虑这些问题。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code>启用和禁用SecureFiles加密。此语法还允许用户使用新密钥或算法重新键入LOB列。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">ENCRYPT</code>和<code class="codeph">DECRYPT</code>选项在指定的SecureFiles LOB列中的所有LOB上启用或禁用加密。
                                 </p>
                              </li>
                              <li>
                                 <p>LOB加密的默认值为<code class="codeph">SALT</code> 。不支持<code class="codeph">NO</code> <code class="codeph">SALT</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DECRYPT</code>选项将加密列转换为明文形式。
                                 </p>
                              </li>
                              <li>
                                 <p>密钥管理控制加密或解密的能力。</p>
                              </li>
                              <li>
                                 <p>LOB只能按列加密。分区LOB要么加密所有分区，要么加密。</p>
                              </li>
                           </ul>
                        </div>
                     </div><a id="ADLOB46144"></a><a id="ADLOB46145"></a><a id="ADLOB46146"></a><a id="ADLOB45973"></a><div class="props_rev_3"><a id="GUID-A676B9F2-2231-4577-9A1D-FCEBC8DAED38" name="GUID-A676B9F2-2231-4577-9A1D-FCEBC8DAED38"></a><h6 id="ADLOB-GUID-A676B9F2-2231-4577-9A1D-FCEBC8DAED38" class="sect6">ALTER TABLE和SecureFiles加密的示例</h6>
                        <div>
                           <p>这些示例演示了如何为特定加密方案发出<code class="codeph">ALTER TABLE</code>语句。
                           </p>
                           <div class="example" id="GUID-A676B9F2-2231-4577-9A1D-FCEBC8DAED38__GUID-E4649CDF-E879-4D36-89EF-DD3C03B72262">
                              <p class="titleinexample">例3-22通过基于特定算法的加密来改变SecureFiles LOB列</p>
                              <p>使用<code class="codeph">3DES168</code>启用LOB加密。
                              </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE t1 MODIFY（使用'3DES168'进行CLOB加密）;</pre><p>这是使用<code class="codeph">3DES168</code>启用LOB加密的另一个示例。
                              </p><pre class="oac_no_warn" dir="ltr">更改表t1修改LOB（a）（使用'3DES168'加密）;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-A676B9F2-2231-4577-9A1D-FCEBC8DAED38__GUID-AB099D30-548D-4C4D-B837-0607FA539CBD">
                              <p class="titleinexample">示例3-23通过基于密码密钥加密来更改SecureFiles LOB列</p>
                              <p>在SecureFiles LOB列上启用加密，并使用密码构建加密密钥。</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE t1 MODIFY（由foo识别的CLOB ENCRYPT）;</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-A676B9F2-2231-4577-9A1D-FCEBC8DAED38__GUID-7F91D6FA-2778-482A-9F16-8B7B39338B24">
                              <p class="titleinexample">示例3-24通过重新键入加密来更改SecureFiles LOB列</p>
                              <p>要使用新密钥重新加密LOB列，请重新键入表。</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE t1 REKEY使用'3DES168';</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="ADLOB46179"></a><div class="props_rev_3"><a id="GUID-5D305904-4685-45AE-A60F-4C491AFD98BD" name="GUID-5D305904-4685-45AE-A60F-4C491AFD98BD"></a><h3 id="ADLOB-GUID-5D305904-4685-45AE-A60F-4C491AFD98BD" class="sect3">初始化，兼容性和升级</h3>
               <div>
                  <p>您必须使用适当的兼容性参数执行LOB初始化。</p>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="using-oracle-LOBs-storage.html#GUID-D97366FB-4D91-43CC-8D0B-6577C1B9CA91" title="本文档中描述的所有功能均已启用，兼容性设置为11.2.0.0.0或更高版本。设置11.2.0.0.0后没有降级功能。">兼容性和升级</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-LOBs-storage.html#GUID-AD240DE1-392F-41EC-864D-2D892CF7D45A" title="作为数据库管理员，您使用DB_SECUREFILE初始化参数可以修改COMPATIBILITY参数设置为默认值的初始设置。">SecureFiles LOB的初始化参数</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB45230"></a><div class="props_rev_3"><a id="GUID-D97366FB-4D91-43CC-8D0B-6577C1B9CA91" name="GUID-D97366FB-4D91-43CC-8D0B-6577C1B9CA91"></a><h4 id="ADLOB-GUID-D97366FB-4D91-43CC-8D0B-6577C1B9CA91" class="sect4">兼容性和升级</h4>
                  <div>
                     <p>本文档中描述的所有功能均已启用，兼容性设置为<code class="codeph">11.2.0.0.0</code>或更高版本。设置<code class="codeph">11.2.0.0.0</code>后没有降级功能。
                     </p>
                     <p>如果要将BasicFiles LOB升级到SecureFiles LOB，则必须使用典型方法升级数据（CTAS / ITAS，联机重定义，导出/导入，列到列复制，或使用视图和新列）。大多数这些解决方案需要输入LOB列中数据使用的磁盘空间的两倍。但是，在逐个分区的基础上进行分区和执行这些操作会降低磁盘空间要求。</p>
                  </div>
               </div><a id="ADLOB46148"></a><a id="ADLOB45228"></a><div class="props_rev_3"><a id="GUID-AD240DE1-392F-41EC-864D-2D892CF7D45A" name="GUID-AD240DE1-392F-41EC-864D-2D892CF7D45A"></a><h4 id="ADLOB-GUID-AD240DE1-392F-41EC-864D-2D892CF7D45A" class="sect4">SecureFiles LOB的初始化参数</h4>
                  <div>
                     <p>作为数据库管理员，您使用<code class="codeph">DB_SECUREFILE</code>初始化参数可以修改<code class="codeph">COMPATIBILITY</code>参数设置为默认值的初始设置。
                     </p>
                     <p>通过更改初始设置，可以更改创建或允许SecureFiles LOB或BasicFiles LOB的环境。<code class="codeph">DB_SECUREFILE</code>参数通常在文件<code class="codeph">init.ora</code>设置。
                     </p>
                     <div class="infoboxnotealso" id="GUID-AD240DE1-392F-41EC-864D-2D892CF7D45A__GUID-0B3E2E38-66D0-49AF-8FA8-A17ADDC67B9F">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../refrn/DB_SECUREFILE.html#REFRN10290" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="using-oracle-LOBs-storage.html#GUID-D97366FB-4D91-43CC-8D0B-6577C1B9CA91" title="本文档中描述的所有功能均已启用，兼容性设置为11.2.0.0.0或更高版本。设置11.2.0.0.0后没有降级功能。">兼容性和升级</a></p>
                           </li>
                        </ul>
                     </div>
                     <p><code class="codeph">DB_SECUREFILE</code>初始化参数是动态的，可以使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句进行修改。<a href="using-oracle-LOBs-storage.html#GUID-AD240DE1-392F-41EC-864D-2D892CF7D45A__BABEEBCF">例3-25</a>显示了更改参数值的格式：</p>
                     <p><code class="codeph">DB_SECUREFILE</code>的有效值为：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">NEVER</code>阻止创建SecureFiles LOB。如果指定了<code class="codeph">NEVER</code> ，则任何指定为SecureFiles LOB的LOB都将创建为BasicFiles LOB。如果未指定存储选项，则使用BasicFiles LOB默认值。所有SecureFiles特定于LOB的存储选项和功能（如压缩，加密或重复数据删除）都会引发异常。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">IGNORE</code>不允许使用SecureFiles LOB并忽略使用SecureFiles LOBs选项强制BasicFiles LOB可能导致的任何错误。如果指定了<code class="codeph">IGNORE</code> ，则忽略<code class="codeph">SECUREFILE</code>关键字和所有SecureFiles LOB选项。
                           </p>
                        </li>
                        <li>
                           <p>如果用户指定， <code class="codeph">PERMITTED</code>允许创建SecureFiles LOB。否则，将创建BasicFiles LOB。
                           </p>
                        </li>
                        <li>
                           <p>除非为LOB或父LOB显式指定了BasicFiles LOB（如果LOB位于分区或子分区中）， <code class="codeph">PERFERRED</code>尝试创建SecureFiles LOB。<code class="codeph">PREFERRED</code>是从Oracle Database 12 <span class="italic">c</span>开始的默认值。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ALWAYS</code>尝试创建SecureFiles LOB但是创建不在的任何LOB <a id="d8698e4812" class="indexterm-anchor"></a> <code class="codeph">ASSM</code>表空间为BasicFiles LOB，除非明确指定了<code class="codeph">SECUREFILE</code>参数。将忽略指定的任何BasicFiles LOB存储选项，并且SecureFiles LOB默认值用于未指定的所有存储选项。
                           </p>
                        </li>
                        <li>
                           <p>即使用户指定<code class="codeph">BASICFILE</code> <code class="codeph">FORCE</code>也会尝试将所有LOB创建为SecureFiles LOB。不建议使用此选项。相反，应该使用<code class="codeph">PREFERRED</code>或<code class="codeph">ALWAYS</code> 。
                           </p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-AD240DE1-392F-41EC-864D-2D892CF7D45A__BABEEBCF">
                        <p class="titleinexample">示例3-25通过ALTER SYSTEM设置DB_SECUREFILE参数</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET <code class="codeph">DB_SECUREFILE</code> ='ALWAYS';</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADLOB45231"></a><div class="props_rev_3"><a id="GUID-95FB6968-59BA-436F-ABEB-F6FA6DD5584F" name="GUID-95FB6968-59BA-436F-ABEB-F6FA6DD5584F"></a><h3 id="ADLOB-GUID-95FB6968-59BA-436F-ABEB-F6FA6DD5584F" class="sect3">将列从BasicFiles LOB迁移到SecureFiles LOB</h3>
               <div>
                  <p>您可以使用多种方法迁移LOB列。</p>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="using-oracle-LOBs-storage.html#GUID-D5C93FF3-7BD5-42A0-8277-D83F4889F144" title="迁移BasicFiles LOB列会生成重做数据，这可能会导致性能问题。">迁移到SecureFiles LOB时防止生成REDO数据</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-LOBs-storage.html#GUID-54445A58-A22C-4125-A539-24CA83017358" title="在线重新定义是将BasicFiles LOB迁移到SecureFiles LOB的推荐方法。">BasicFiles LOB的在线重新定义</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-LOBs-storage.html#GUID-98C823D4-347F-4C94-B829-18E27E188C2A" title="您可以使用Online Redefinition迁移表。">使用BasicFiles LOB迁移表的联机重定义示例</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-LOBs-storage.html#GUID-699CA1F5-4478-410D-94C0-157750C5110A" title="如果系统具有足够的并行执行资源，则可以并行重新定义SecureFiles LOB列。">并行重新定义SecureFiles LOB</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB45232"></a><div class="props_rev_3"><a id="GUID-D5C93FF3-7BD5-42A0-8277-D83F4889F144" name="GUID-D5C93FF3-7BD5-42A0-8277-D83F4889F144"></a><h4 id="ADLOB-GUID-D5C93FF3-7BD5-42A0-8277-D83F4889F144" class="sect4">迁移到SecureFiles LOB时防止生成REDO数据</h4>
                  <div>
                     <p>迁移BasicFiles LOB列会生成重做数据，这可能会导致性能问题。</p>
                     <div class="section">
                        <p>如果<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>语句设置了<code class="codeph">LOGGING</code>子句，则会在迁移过程中记录对表的重做更改。
                        </p>
                        <p>如果<code class="codeph">LOGGING</code>是SecureFiles LOB列的存储设置，则会记录从BasicFiles LOB转换为<span>SecureFiles LOB</span>的列的重做更改。LOB列的日志记录设置（ <code class="codeph">LOGGING</code>或<code class="codeph">NOLOGGING</code> ）继承自创建LOB的表空间。
                        </p>
                        <p>您可以在迁移到SecureFiles LOB期间阻止重做空间生成。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>为任何新的SecureFiles LOB列指定<code class="codeph">NOLOGGING</code>存储参数。
                              </p>
                              <p>迁移完成后，您可以打开<code class="codeph">LOGGING</code> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB45234"></a><a id="ADLOB45235"></a><a id="ADLOB45233"></a><div class="props_rev_3"><a id="GUID-54445A58-A22C-4125-A539-24CA83017358" name="GUID-54445A58-A22C-4125-A539-24CA83017358"></a><h4 id="ADLOB-GUID-54445A58-A22C-4125-A539-24CA83017358" class="sect4">BasicFiles LOB的在线重新定义</h4>
                  <div>
                     <p>在线重新定义是将BasicFiles LOB迁移到<span>SecureFiles LOB</span>的推荐方法。
                     </p>
                     <p>您可以在表或分区级别执行在线重新定义。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-54445A58-A22C-4125-A539-24CA83017358__GUID-59763310-D439-4DE8-8D88-EC3C0313B9ED">在线重新定义优势</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>无需使表或分区脱机</p>
                           </li>
                           <li>
                              <p>可以并行完成</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-54445A58-A22C-4125-A539-24CA83017358__GUID-E60282AE-5C1E-43D6-96DF-7A74845BC20F">在线重新定义缺点</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>额外存储空间等于所需的整个表或分区，并且所有LOB段必须可用</p>
                           </li>
                           <li>
                              <p>必须重建全局索引</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB45237"></a><a id="ADLOB45236"></a><div class="props_rev_3"><a id="GUID-98C823D4-347F-4C94-B829-18E27E188C2A" name="GUID-98C823D4-347F-4C94-B829-18E27E188C2A"></a><h4 id="ADLOB-GUID-98C823D4-347F-4C94-B829-18E27E188C2A" class="sect4">使用BasicFiles LOB迁移表的联机重定义示例</h4>
                  <div>
                     <p>您可以使用Online Redefinition迁移表。</p>
                     <p>在线重新定义的优点是不需要离线表，但它需要额外的可用空间，该空间等于或甚至略大于表所使用的空间。<a href="using-oracle-LOBs-storage.html#GUID-98C823D4-347F-4C94-B829-18E27E188C2A__BABGGEBB">示例3-26</a>演示了如何使用Online Redefinition迁移表。
                     </p>
                     <div class="example" id="GUID-98C823D4-347F-4C94-B829-18E27E188C2A__BABGGEBB">
                        <p class="titleinexample">示例3-26在线重新定义的示例</p><pre class="oac_no_warn" dir="ltr">REM在线重新定义所需的授予权限。在DBMS_REDEFINITION上执行GRANT执行到pm;给下午任何表格;下午给任何一张桌子;授权锁定任何表格到下午;授予创建任何表到下午; GRANT选择任何表到下午; REM执行克隆依赖对象所需的权限。授予创建任何触发器到下午;授予下午创造任何指数; CONNECT pm <code class="codeph">// ALTER SESSION FORCE</code> parallel dml; DROP TABLE cust; CREATE TABLE cust（c_id NUMBER PRIMARY KEY，c_zip NUMBER，c_name VARCHAR（30）DEFAULT NULL，c_lob CLOB）; INSERT INTO cust VALUES（1,94065，'hhh'，'ttt'）; - 创建临时表 - 不需要指定约束，因为它们是从原始表复制的。CREATE TABLE cust_int（c_id NUMBER NOT NULL，c_zip NUMBER，c_name VARCHAR（30）DEFAULT NULL，c_lob CLOB）LOB（c_lob）STORE AS SECUREFILE（NOCACHE FILESYSTEM_LIKE_LOGGING）; DECLARE col_mapping VARCHAR2（1000）; BEGIN  - 将临时表中的所有列映射到原始表col_mapping：='c_id c_id，'|| 'c_zip c_zip，'|| 'c_name c_name，'|| 'c_lob c_lob'; DBMS_REDEFINITION.START_REDEF_TABLE（'pm'，'cust'，'cust_int'，col_mapping）;结束; / DECLARE error_count pls_integer：= 0; BEGIN DBMS_REDEFINITION.COPY_TABLE_DEPENDENTS（'pm'，'cust'，'cust_int'，1，TRUE，TRUE，TRUE，FALSE，error_count）; DBMS_OUTPUT.PUT_LINE（'errors：='|| TO_CHAR（error_count））;结束; / EXEC DBMS_REDEFINITION.FINISH_REDEF_TABLE（'pm'，'cust'，'cust_int'）; - 删除临时表DROP TABLE cust_int; DESC cust; - 以下插入语句失败。这说明 - 迁移后保留c_id列的主键约束。INSERT INTO cust VALUES（1,94065，'hhh'，'ttt'）; SELECT * FROM cust;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADLOB45238"></a><div class="props_rev_3"><a id="GUID-699CA1F5-4478-410D-94C0-157750C5110A" name="GUID-699CA1F5-4478-410D-94C0-157750C5110A"></a><h4 id="ADLOB-GUID-699CA1F5-4478-410D-94C0-157750C5110A" class="sect4">并行重新定义SecureFiles LOB</h4>
                  <div>
                     <p>如果系统具有足够的并行执行资源，则可以并行重新定义SecureFiles LOB列。</p>
                     <div class="section">
                        <p>要设置在线重新定义的并行执行，请运行<code class="codeph">ALTER SESSION.</code></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在最后一节中的连接语句<a href="using-oracle-LOBs-storage.html#GUID-98C823D4-347F-4C94-B829-18E27E188C2A__BABGGEBB">示例3-26</a>之后添加以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION FORCE PARALLEL DML;</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADLOB45193"></a><div class="props_rev_3"><a id="GUID-DD9F53E4-3A56-43BF-AAA0-9BE2692DC81A" name="GUID-DD9F53E4-3A56-43BF-AAA0-9BE2692DC81A"></a><h3 id="ADLOB-GUID-DD9F53E4-3A56-43BF-AAA0-9BE2692DC81A" class="sect3">LOB和DBFS的PL / SQL包</h3>
               <div>
                  <p>有一些PL / SQL包可以与BasicFiles LOB和SecureFiles LOB一起使用。</p>
                  <p>强调了为适应SecureFiles LOB和DBFS而进行的更改。</p>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="using-oracle-LOBs-storage.html#GUID-0D34EA09-7A58-4EB4-9D87-9A4D5501C840" title="DBMS_LOB包提供子程序来操作，或访问和操作LOB或完整LOB的特定部分。">DBMS_LOB包与SecureFiles LOB和DBFS一起使用</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-LOBs-storage.html#GUID-D91EC383-D41F-4744-9144-14B045622507" title="某些常量支持DBFS链接接口。">DBMS_LOB常量与SecureFiles LOB和DBFS一起使用</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-LOBs-storage.html#GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8" title="您应该注意，随着时间的推移，对DBMS_LOB子程序进行了一些更改。">DBMS_LOB子程序与SecureFiles LOB和DBFS一起使用</a></p>
                     </li>
                     <li>
                        <p><a href="using-oracle-LOBs-storage.html#GUID-ADD32B32-26B7-4D23-9FDA-2422001082D7" title="您可以使用DBMS_SPACE PL / SQL包来分析段增长和空间需求。">DBMS_SPACE包</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB45194"></a><div class="props_rev_3"><a id="GUID-0D34EA09-7A58-4EB4-9D87-9A4D5501C840" name="GUID-0D34EA09-7A58-4EB4-9D87-9A4D5501C840"></a><h4 id="ADLOB-GUID-0D34EA09-7A58-4EB4-9D87-9A4D5501C840" class="sect4">DBMS_LOB包与SecureFiles LOB和DBFS一起使用</h4>
                  <div>
                     <p><code class="codeph">DBMS_LOB</code>包提供子程序来操作，或访问和操作LOB或完整LOB的特定部分。
                     </p>
                     <p><code class="codeph">DBMS_LOB</code>包适用于SecureFiles LOB和BasicFiles LOB。</p>
                     <p><a href="using-oracle-LOBs-storage.html#GUID-D91EC383-D41F-4744-9144-14B045622507" title="某些常量支持DBFS链接接口。">DBMS_LOB与SecureFiles一起使用的常量LOB和DBFS</a>以及<a href="using-oracle-LOBs-storage.html#GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8" title="您应该注意，随着时间的推移，对DBMS_LOB子程序进行了一些更改。">与SecureFiles一起使用的DBMS_LOB子程序LOB和DBFS</a>描述了对<code class="codeph">DBMS_LOB</code>常量和子程序的修改，并添加了SecureFiles LOB和数据库文件系统（DBFS）。
                     </p>
                     <div class="infoboxnotealso" id="GUID-0D34EA09-7A58-4EB4-9D87-9A4D5501C840__NOTE-144-DCDB1362">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">DBMS_LOB</code>包的更多信息，请<a href="../arpls/DBMS_LOB.html#ARPLS600" target="_blank"><span class="italic">参见Oracle Database PL / SQL包和类型参考</span></a></p>
                           </li>
                           <li>
                              <p><a href="introducing-database-file-system.html#GUID-B7A83817-F0D6-4A09-AE98-DFC966783109" title="从概念上讲，数据库文件系统是放置在存储在数据库表中的文件和目录之上的文件系统接口。数据库文件系统（DBFS）在存储在数据库表中的文件和目录之上创建标准文件系统接口。DBFS与NFS类似，它提供的共享网络文件系统看起来像本地文件系统，同时具有服务器组件和客户端组件。在DBFS中，文件服务器是Oracle数据库。对于客户端系统，数据库文件系统提供了多种访问方法。内容存储库是文档的集合。">介绍数据库文件系统</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADLOB45203"></a><a id="ADLOB46180"></a><div class="props_rev_3"><a id="GUID-D91EC383-D41F-4744-9144-14B045622507" name="GUID-D91EC383-D41F-4744-9144-14B045622507"></a><h4 id="ADLOB-GUID-D91EC383-D41F-4744-9144-14B045622507" class="sect4">DBMS_LOB常量与SecureFiles LOB和DBFS一起使用</h4>
                  <div>
                     <p>某些常量支持DBFS链接接口。</p>
                     <div class="section">
                        <p><a href="using-oracle-LOBs-storage.html#GUID-D91EC383-D41F-4744-9144-14B045622507__CIHBJECF" title="第1列列出常量，第2列提供描述">表3-3</a>列出了支持<a href="glossary.html#GUID-17752223-6D05-4494-8D2D-606547831280"><span class="xrefglossterm">DBFS链接</span></a>接口的常量。
                        </p>
                        <div class="infoboxnotealso" id="GUID-D91EC383-D41F-4744-9144-14B045622507__NOTE-1312-DCDCA385">
                           <p class="notep1">也可以看看：</p>
                           <p>有关PL / SQL <code class="codeph">DBMS_LOB</code>包中使用的常量的完整信息，请参阅<a href="../arpls/DBMS_LOB.html#ARPLS66601" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-D91EC383-D41F-4744-9144-14B045622507__CIHBJECF">
                        <p class="titleintable">表3-3支持DBFS链接接口的DBMS_LOB常量</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_LOB支持DBFS链接接口的常量" width="100%" border="1" summary="Column 1 lists a constant, and column 2 provides a description" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d8698e5645">不变</th>
                                 <th align="left" valign="bottom" width="69%" id="d8698e5648">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d8698e5653" headers="d8698e5645 "><pre class="oac_no_warn" dir="ltr">DBFS_LINK_NEVER</pre></td>
                                 <td align="left" valign="top" width="69%" headers="d8698e5653 d8698e5648 ">
                                    <p>DBFS链接状态值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d8698e5660" headers="d8698e5645 "><pre class="oac_no_warn" dir="ltr">DBFS_LINK_YES</pre></td>
                                 <td align="left" valign="top" width="69%" headers="d8698e5660 d8698e5648 ">
                                    <p>DBFS链接状态值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d8698e5667" headers="d8698e5645 "><pre class="oac_no_warn" dir="ltr">DBFS_LINK_NO</pre></td>
                                 <td align="left" valign="top" width="69%" headers="d8698e5667 d8698e5648 ">
                                    <p>DBFS链接状态值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d8698e5674" headers="d8698e5645 "><pre class="oac_no_warn" dir="ltr">DBFS_LINK_CACHE</pre></td>
                                 <td align="left" valign="top" width="69%" headers="d8698e5674 d8698e5648 ">
                                    <p><code class="codeph">COPY_DBFS_LINK()</code>和<code class="codeph">MOVE_DBFS_LINK()</code>使用的标志。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d8698e5687" headers="d8698e5645 "><pre class="oac_no_warn" dir="ltr">DBFS_LINK_NOCACHE</pre></td>
                                 <td align="left" valign="top" width="69%" headers="d8698e5687 d8698e5648 ">
                                    <p><code class="codeph">COPY_DBFS_LINK()</code>和<code class="codeph">MOVE_DBFS_LINK()</code>使用的标志。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d8698e5700" headers="d8698e5645 "><pre class="oac_no_warn" dir="ltr">DBFS_LINK_PATH_MAX_SIZE</pre></td>
                                 <td align="left" valign="top" width="69%" headers="d8698e5700 d8698e5648 ">
                                    <p>DBFS路径名的最大长度; <code class="codeph">1024</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d8698e5710" headers="d8698e5645 "><pre class="oac_no_warn" dir="ltr">CONTENTTYPE_MAX_SIZE</pre></td>
                                 <td align="left" valign="top" width="69%" headers="d8698e5710 d8698e5648 ">
                                    <p>内容类型的最大1字节ASCII字符; <code class="codeph">128</code> 。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="ADLOB45213"></a><a id="ADLOB46149"></a><a id="ADLOB46181"></a><div class="props_rev_3"><a id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8" name="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8"></a><h4 id="ADLOB-GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8" class="sect4">DBMS_LOB子程序与SecureFiles LOB和DBFS一起使用</h4>
                  <div>
                     <p>您应该注意，随着时间的推移，对<code class="codeph">DBMS_LOB</code>子程序进行了一些更改。
                     </p>
                     <div class="section">
                        <p><a href="using-oracle-LOBs-storage.html#GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__CIHEFBJA" title="第1列列出了方法，第2列提供了说明">表3-4</a>总结了对PL / SQL包<code class="codeph">DBMS_LOB</code>子程序所做的更改。
                        </p>
                        <p>请注意，如果LOB是DBFS链接，则Oracle Database <span class="italic">11g</span>第2版之前存在的某些<code class="codeph">DBMS_LOB</code>操作会引发异常错误。要解决此问题，请修改应用程序，以便在进行这些调用之前通过调用<code class="codeph">DBMS_LOB.COPY_FROM_LINK</code>过程显式地将DBFS链接替换为LOB。调用完成后，如有必要，应用程序可以使用<code class="codeph">DBMS_LOB.MOVE_TO_DBFS_LINK</code>过程将更新的LOB移回DBFS。
                        </p>
                        <p>如果DBFS链接位于支持流式传输的文件系统中，则Oracle Database <span class="italic">11g</span>第2版之前存在的其他<code class="codeph">DBMS_LOB</code>操作将以透明方式工作。请注意，如果不支持或禁用流式传输，则这些操作会失败。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__CIHEFBJA">
                        <p class="titleintable">表3-4 DBMS_LOB子程序</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_LOB子程序" width="100%" border="1" summary="Column 1 lists a method, and column 2 provides a description" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="32%" id="d8698e5830">子程序</th>
                                 <th align="left" valign="bottom" width="68%" id="d8698e5833">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e5838" headers="d8698e5830 ">
                                    <p><code class="codeph">附加</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e5838 d8698e5833 ">
                                    <p>将源LOB的内容追加到目标LOB</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__SEEORACLEDATABASEPLSQLPACKAGESANDTY-DCDD1251">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66624" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e5854" headers="d8698e5830 ">
                                    <p><code class="codeph">相比</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e5854 d8698e5833 ">
                                    <p>全部或部分比较两个LOB</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__SEEORACLEDATABASEPLSQLPACKAGESANDTY-DCDD195E">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66647" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e5870" headers="d8698e5830 ">
                                    <p><code class="codeph">CONVERTTOBLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e5870 d8698e5833 ">
                                    <p>将<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>的字符数据转换为指定的字符集，并将其以二进制格式写入目标<code class="codeph">BLOB</code></p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE5B4C">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS603" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e5894" headers="d8698e5830 ">
                                    <p><code class="codeph">CONVERTTOCLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e5894 d8698e5833 ">
                                    <p>将<code class="codeph">BLOB</code>的二进制数据转换为指定的字符集，并将其以字符格式写入目标<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code></p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE58F0">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS602" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e5918" headers="d8698e5830 ">
                                    <p><code class="codeph">复制</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e5918 d8698e5833 ">
                                    <p>将全部或部分源LOB复制到目标LOB</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE56EF">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66662" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e5934" headers="d8698e5830 ">
                                    <p><code class="codeph">COPY_DBFS_LINK</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e5934 d8698e5833 ">
                                    <p>将现有DBFS链接复制到新LOB中</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE5524">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66627" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e5950" headers="d8698e5830 ">
                                    <p><code class="codeph">COPY_FROM_DBFS_LINK</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e5950 d8698e5833 ">
                                    <p>将指定的LOB数据从DBFS HSM Store复制到数据库中</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE518A">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66630" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e5966" headers="d8698e5830 ">
                                    <p><code class="codeph">DBFS_LINK_GENERATE_PATHNAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e5966 d8698e5833 ">
                                    <p>返回用于创建DBFS链接的唯一文件路径名</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE4F49">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS73450" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e5982" headers="d8698e5830 ">
                                    <p><code class="codeph">ERASE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e5982 d8698e5833 ">
                                    <p>删除全部或部分LOB</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE4D37">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66667" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e5998" headers="d8698e5830 ">
                                    <p><code class="codeph">FRAGMENT_DELETE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e5998 d8698e5833 ">
                                    <p>删除LOB的指定片段</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE4BC7">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66688" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6014" headers="d8698e5830 ">
                                    <p><code class="codeph">FRAGMENT_INSERT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6014 d8698e5833 ">
                                    <p>将数据片段插入LOB</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE485D">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66691" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6031" headers="d8698e5830 ">
                                    <p><code class="codeph">FRAGMENT_MOVE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6031 d8698e5833 ">
                                    <p>将LOB的片段从LOB中的一个位置移动到另一个位置</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE4694">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66694" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6047" headers="d8698e5830 ">
                                    <p><code class="codeph">FRAGMENT_REPLACE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6047 d8698e5833 ">
                                    <p>用新数据替换LOB的片段</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE4388">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66697" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6063" headers="d8698e5830 ">
                                    <p><code class="codeph">GET_DBFS_LINK</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6063 d8698e5833 ">
                                    <p>返回LOB的DBFS路径名</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE414E">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66633" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6079" headers="d8698e5830 ">
                                    <p><code class="codeph">GET_DBFS_LINK_STATE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6079 d8698e5833 ">
                                    <p>返回LOB的链接状态</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE3EF9">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66642" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6095" headers="d8698e5830 ">
                                    <p><code class="codeph">的getContentType</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6095 d8698e5833 ">
                                    <p>检索LOB数据的内容类型字符串</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE3C81">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66702" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6111" headers="d8698e5830 ">
                                    <p><code class="codeph">GETOPTIONS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6111 d8698e5833 ">
                                    <p>检索特定LOB的先前设置选项</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__NOTE-132341722-DCDE3A19">
                                       <p class="notep1">也可以看看：</p>
                                    </div>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><a href="../arpls/DBMS_LOB.html#ARPLS66712" target="_blank">Oracle数据库PL / SQL包和类型<span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a>  
                                          </p>
                                       </li>
                                       <li>
                                          <p><a href="../lnoci/lob-functions.html#LNOCI162" target="_blank"><span><cite>Oracle调用接口程序员指南</cite></span></a> ，了解有关<code class="codeph">OCILobGetContentType()</code>和OCI LOB函数的更多信息</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6141" headers="d8698e5830 ">
                                    <p><code class="codeph">ISSECUREFILE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6141 d8698e5833 ">
                                    <p>确定LOB是否为SecureFiles LOB</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE3738">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS74402" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a>  
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6157" headers="d8698e5830 ">
                                    <p><code class="codeph">LOADBLOBFROMFILE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6157 d8698e5833 ">
                                    <p>将<code class="codeph">BFILE</code>数据加载到<code class="codeph">BLOB</code></p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE2FFE">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66723" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6178" headers="d8698e5830 ">
                                    <p><code class="codeph">LOADCLOBFROMFILE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6178 d8698e5833 ">
                                    <p>将<code class="codeph">BFILE</code>数据加载到<code class="codeph">CLOB</code></p>
                                    <p>如果链接了<code class="codeph">CLOB</code> ，则抛出异常。
                                    </p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE2C48">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66728" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6204" headers="d8698e5830 ">
                                    <p><code class="codeph">LOADFROMFILE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6204 d8698e5833 ">
                                    <p>将<code class="codeph">BFILE</code>数据加载到LOB中</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE2A74">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66733" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6223" headers="d8698e5830 ">
                                    <p><code class="codeph">MOVE_TO_DBFS_LINK</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6223 d8698e5833 ">
                                    <p>将指定的LOB数据从数据库移动到DBFS HSM Store</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE28A5">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=ARPLS66639" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6239" headers="d8698e5830 ">
                                    <p><code class="codeph">读</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6239 d8698e5833 ">
                                    <p>从LOB读取数据</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE2678">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=ARPLS66738" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6255" headers="d8698e5830 ">
                                    <p><code class="codeph">SET_DBFS_LINK</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6255 d8698e5833 ">
                                    <p>将LOB与DBFS路径名链接</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE2353">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=ARPLS66642" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6270" headers="d8698e5830 ">
                                    <p><code class="codeph">的setContentType</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6270 d8698e5833 ">
                                    <p>设置LOB数据的内容类型字符串</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE1FCC">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66742" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6286" headers="d8698e5830 ">
                                    <p><code class="codeph">SETOPTIONS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6286 d8698e5833 ">
                                    <p>为特定LOB设置新选项</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE1C3E">
                                       <p class="notep1">也可以看看：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><a href="../arpls/DBMS_LOB.html#ARPLS66745" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                             </p>
                                          </li>
                                          <li>
                                             <p><a href="../lnoci/lob-functions.html#LNOCI162" target="_blank"><span><cite>Oracle Call Interface Programmer's Guide</cite></span></a> ，了解有关<code class="codeph">OCILobSetContentType()</code>更多信息</p>（OCI LOB功能）</li>
                                       </ul>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6315" headers="d8698e5830 ">
                                    <p><code class="codeph">SUBSTR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6315 d8698e5833 ">
                                    <p>返回LOB的片段</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE0C94">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66748" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6331" headers="d8698e5830 ">
                                    <p><code class="codeph">修剪</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6331 d8698e5833 ">
                                    <p>将LOB修剪为指定的长度</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDE0510">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66752" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6347" headers="d8698e5830 ">
                                    <p><code class="codeph">写</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6347 d8698e5833 ">
                                    <p>将数据写入LOB</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDDFEA4">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66755" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8698e6363" headers="d8698e5830 ">
                                    <p><code class="codeph">WRITEAPPEND</code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8698e6363 d8698e5833 ">
                                    <p>将数据附加到LOB的末尾</p>
                                    <div class="infoboxnotealso" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DCDDFC98">
                                       <p class="notep1">也可以看看：</p>
                                       <p><a href="../arpls/DBMS_LOB.html#ARPLS66758" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 
                                       </p>
                                    </div>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="ADLOB45226"></a><div class="props_rev_3"><a id="GUID-ADD32B32-26B7-4D23-9FDA-2422001082D7" name="GUID-ADD32B32-26B7-4D23-9FDA-2422001082D7"></a><h4 id="ADLOB-GUID-ADD32B32-26B7-4D23-9FDA-2422001082D7" class="sect4">DBMS_SPACE包</h4>
                  <div>
                     <p>您可以使用<code class="codeph">DBMS_SPACE</code> PL / SQL包来分析段增长和空间需求。
                     </p>
                     <p><code class="codeph">DBMS_SPACE</code> PL / SQL包使您可以分析段增长和空间要求。
                     </p>
                  </div><a id="ADLOB45227"></a><div class="props_rev_3"><a id="GUID-7FC0FDEC-60D0-4108-B5A1-CC61081970BC" name="GUID-7FC0FDEC-60D0-4108-B5A1-CC61081970BC"></a><h5 id="ADLOB-GUID-7FC0FDEC-60D0-4108-B5A1-CC61081970BC" class="sect5">DBMS_SPACE.SPACE_USAGE（）</h5>
                     <div>
                        <p>重载现有<code class="codeph">DBMS_SPACE.SPACE_USAGE</code>过程以返回有关LOB空间使用情况的信息。
                        </p>
                        <p>它返回LOB段中所有SecureFiles LOB使用的块中的磁盘空间量。</p>
                        <div class="infoboxnotealso" id="GUID-7FC0FDEC-60D0-4108-B5A1-CC61081970BC__NOTE-132-DCDFA650">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../arpls/DBMS_SPACE.html#ARPLS68113" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="02909.performing-privilege-analysis-find-privilege-use.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Privilege analysis dynamically analyzes the privileges and roles that users use and do not use."></meta>
      <meta name="description" content="Privilege analysis dynamically analyzes the privileges and roles that users use and do not use."></meta>
      <title>执行权限分析以查找权限使用</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Security Guide "></meta>
      <meta property="og:description" content="Privilege analysis dynamically analyzes the privileges and roles that users use and do not use."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Security Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-security-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-28T14:57:12-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96299-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-privilege-and-role-authorization.html" title="Previous" type="text/html"></link>
      <link rel="next" href="integrating_mads_with_oracle_database.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Security Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBSEG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-privilege-and-role-authorization.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="integrating_mads_with_oracle_database.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安全指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part_1.html" property="item" typeof="WebPage"><span property="name">管理用户身份验证和授权</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">执行权限分析以查找权限使用</li>
            </ol>
            <a id="GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" name="GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186"></a>
            
            <h2 id="DBSEG-GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" class="sect2"><span class="enumeration_chapter">5</span>执行权限分析以查找权限使用</h2>
         </header>
         <div class="ind">
            <div>
               <p>权限分析动态分析用户使用和不使用的权限和角色。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C">什么是特权分析？</a><br>权限分析通过帮助您实现数据库角色和权限的最小权限最佳实践，提高了应用程序和数据库操作的安全性。
                  </li>
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D">创建和管理权限分析策略</a><br>您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。
                  </li>
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA">使用云控制创建角色和管理权限</a><br>您可以使用权限分析报告中的权限创建新角色，然后将此角色授予用户。
                  </li>
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13">教程：使用Capture运行分析任何特权使用</a><br>本教程演示了如何创建捕获运行以分析<code class="codeph">READ ANY TABLE</code>系统特权的使用。
                  </li>
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E">教程：分析具有DBA角色的用户的权限使用</a><br>本教程演示如何分析具有<code class="codeph">DBA</code>角色的用户的权限使用并执行数据库调整操作。
                  </li>
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112">权限分析策略和报告数据字典视图</a><br>Oracle数据库提供数据字典视图，显示有关已分析权限的信息。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part_1.html" title="第一部分介绍了如何管理用户身份验证和授权。">管理用户身份验证和授权</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" name="GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C"></a><h3 id="DBSEG-GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" class="sect3">什么是特权分析？</h3>
               <div>
                  <p>权限分析通过帮助您实现数据库角色和权限的最小权限最佳实践，提高了应用程序和数据库操作的安全性。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-DE3DC8D3-4357-4DC7-B66F-62356911076E">关于权限分析</a><br>通过在Oracle数据库内核中运行，权限分析有助于通过识别已使用和未使用的权限来实现最小权限模型，从而减少用户，工具和应用程序帐户的攻击面。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-280C672A-5399-4823-8F8B-09F3135DF5DD">特权分析的好处和用例</a><br>分析权限使用有助于查找不必要的权限并实现最低权限最佳实践。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-43F5F696-8414-4A47-B609-F9FB134C9175">谁可以执行权限分析？</a><br>要使用权限分析，必须授予<code class="codeph">CAPTURE_ADMIN</code>角色。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-087DF0BE-E64E-4097-815D-49FF86703F6D">特权分析的类型</a><br>您可以创建不同类型的权限分析策略以实现特定目标。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-AD683DDB-D345-4702-B1F4-37B79F276B66">多租户环境如何影响权限分析？</a><br>您可以在多租户环境中创建和使用权限分析策略。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-77961026-AD82-4BD2-98B0-70A74DD3FAA0">权限分析如何与预编译的数据库对象一起使用</a><br>权限分析可用于捕获已对预编译的数据库对象执行的权限。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="权限分析动态分析用户使用和不使用的权限和角色。">执行权限分析以查找权限使用</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-DE3DC8D3-4357-4DC7-B66F-62356911076E" name="GUID-DE3DC8D3-4357-4DC7-B66F-62356911076E"></a><h4 id="DBSEG-GUID-DE3DC8D3-4357-4DC7-B66F-62356911076E" class="sect4">关于权限分析</h4>
                  <div>
                     <p>通过在Oracle数据库内核中运行，权限分析有助于通过识别已使用和未使用的权限来实现最小权限模型，从而减少用户，工具和应用程序帐户的攻击面。</p>
                     <p>权限分析动态捕获数据库用户和应用程序使用的权限。使用权限分析有助于快速有效地实施最低权限准则。在最小特权模型中，仅为用户提供他们完成工作所需的权限和访问权限。通常，即使用户执行不同的任务，用户也被授予相同的一组强大权限。如果没有权限分析，找出每个用户必须拥有的权限可能会很困难，在很多情况下，即使用户有不同的任务，用户也可能会得到一些共同的权限。即使在管理权限的组织中，用户也会随着时间的推移积累特权，很少会失去任何特权。职责分离将单个流程分解为针对不同用户的单独任务。最少权限强制执行分离，因此用户只能执行所需的任务。执行职责分离有利于内部控制，但也降低了窃取特权凭证的恶意用户的风险。</p>
                     <p>权限分析捕获数据库用户和应用程序在运行时使用的权限，并将其结果写入您可以查询的数据字典视图。如果您的应用程序包含定义者权限和调用者权限过程，则权限分析会捕获编译过程并执行过程所需的权限，即使在创建和启用权限捕获之前编译过程也是如此。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="权限分析通过帮助您实现数据库角色和权限的最小权限最佳实践，提高了应用程序和数据库操作的安全性。">什么是权限分析？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-280C672A-5399-4823-8F8B-09F3135DF5DD" name="GUID-280C672A-5399-4823-8F8B-09F3135DF5DD"></a><h4 id="DBSEG-GUID-280C672A-5399-4823-8F8B-09F3135DF5DD" class="sect4">特权分析的好处和用例</h4>
                  <div>
                     <p>分析权限使用有助于查找不必要的权限并实现最低权限最佳实践。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-A67ECE4F-0FDB-45B8-A202-6C15C0F15960">最低权限最佳实践</a><br>访问数据库的帐户的权限应限于应用程序或用户严格要求的权限。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-46EDA5CF-3C7F-4C24-9EC6-C227F7BD306C">开发安全应用程序</a><br>在应用程序开发阶段，一些管理员可以向应用程序开发人员授予许多强大的系统特权和角色
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="权限分析通过帮助您实现数据库角色和权限的最小权限最佳实践，提高了应用程序和数据库操作的安全性。">什么是权限分析？</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-A67ECE4F-0FDB-45B8-A202-6C15C0F15960" name="GUID-A67ECE4F-0FDB-45B8-A202-6C15C0F15960"></a><h5 id="DBSEG-GUID-A67ECE4F-0FDB-45B8-A202-6C15C0F15960" class="sect5">最低权限最佳实践</h5>
                     <div>
                        <p>访问数据库的帐户的权限应限于应用程序或用户严格要求的权限。</p>
                        <p>但是，当开发应用程序时，尤其是第三方开发应用程序时，为方便起见，可以向应用程序连接池帐户授予比必要更多的权限。此外，一些开发人员向<code class="codeph">PUBLIC</code>角色授予系统和应用程序对象权限。
                        </p>
                        <p>例如，要从应用程序数据中选择并运行应用程序过程，系统权限<code class="codeph">SELECT ANY TABLE</code>和<code class="codeph">EXECUTE ANY PROCEDURE</code>被授予应用程序帐户<code class="codeph">appsys</code> 。帐户<code class="codeph">appsys</code>现在可以访问非应用程序数据，即使他或她不打算这样做。在这种情况下，您可以分析用户<code class="codeph">appsys</code>的权限使用情况，然后根据结果，根据需要撤消和授予权限。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-280C672A-5399-4823-8F8B-09F3135DF5DD" title="分析权限使用有助于查找不必要的权限并实现最低权限最佳实践。">权限分析的优点和用例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-46EDA5CF-3C7F-4C24-9EC6-C227F7BD306C" name="GUID-46EDA5CF-3C7F-4C24-9EC6-C227F7BD306C"></a><h5 id="DBSEG-GUID-46EDA5CF-3C7F-4C24-9EC6-C227F7BD306C" class="sect5">开发安全应用程序</h5>
                     <div>
                        <p>在应用程序开发阶段，一些管理员可以向应用程序开发人员授予许多强大的系统特权和角色</p>
                        <p>管理员可能会这样做，因为在那个阶段他们可能不知道应用程序开发人员需要什么特权。</p>
                        <p>应用程序开发和运行后，应用程序开发人员需要 - 而且不需要 - 的权限变得更加明显。那时，安全管理员可以开始撤销不必要的权限。但是，应用程序开发人员可能会在应用程序当前正常工作的基础上抵制这一想法。管理员可以使用权限分析来检查应用程序使用的每个权限，以确保在他或她撤销任何权限时，应用程序将继续工作。</p>
                        <p>例如， <code class="codeph">app_owner</code>是应用程序连接到数据库的应用程序数据库用户。用户<code class="codeph">app_owner</code>必须查询<code class="codeph">OE</code> ， <code class="codeph">SH</code>和<code class="codeph">PM</code>模式中的表。安全管理员<code class="codeph">app_owner</code>在这些模式中的每个表上授予<code class="codeph">SELECT</code>对象特权，而是将<code class="codeph">SELECT ANY TABLE</code>特权授予<code class="codeph">app_owner</code> 。一段时间后，将创建一个新模式<code class="codeph">HR</code> ，并将敏感数据插入<code class="codeph">HR.EMPLOYEES</code>表中。由于用户<code class="codeph">app_owner</code>具有<code class="codeph">SELECT ANY TABLE</code>权限，因此他可以查询此表以访问其敏感数据，这是一个安全问题。不是授予系统权限（特别是<code class="codeph">ANY</code>权限），而是为特定表授予对象权限要好得多。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-280C672A-5399-4823-8F8B-09F3135DF5DD" title="分析权限使用有助于查找不必要的权限并实现最低权限最佳实践。">权限分析的优点和用例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-43F5F696-8414-4A47-B609-F9FB134C9175" name="GUID-43F5F696-8414-4A47-B609-F9FB134C9175"></a><h4 id="DBSEG-GUID-43F5F696-8414-4A47-B609-F9FB134C9175" class="sect4">谁可以执行权限分析？</h4>
                  <div>
                     <p>要使用权限分析，必须授予<code class="codeph">CAPTURE_ADMIN</code>角色。
                     </p>
                     <p>您使用<code class="codeph">DBMS_PRIVILEGE_CAPTURE</code> PL / SQL包来管理权限捕获。您可以使用权限分析提供的数据字典视图来分析您的权限使用情况。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="权限分析通过帮助您实现数据库角色和权限的最小权限最佳实践，提高了应用程序和数据库操作的安全性。">什么是权限分析？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-087DF0BE-E64E-4097-815D-49FF86703F6D" name="GUID-087DF0BE-E64E-4097-815D-49FF86703F6D"></a><h4 id="DBSEG-GUID-087DF0BE-E64E-4097-815D-49FF86703F6D" class="sect4">特权分析的类型</h4>
                  <div>
                     <p>您可以创建不同类型的权限分析策略以实现特定目标。</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">基于角色的权限使用捕获。</span> 您必须提供角色列表。如果在数据库会话中启用了列表中的角色，则将捕获会话的已使用权限。您可以捕获以下类型角色的权限使用：Oracle默认角色，用户创建的角色，基于代码的访问控制（CBAC）角色和安全应用程序角色。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">基于上下文的权限使用捕获。</span> 必须仅使用<code class="codeph">SYS_CONTEXT</code>函数指定布尔表达式。如果条件评估为<code class="codeph">TRUE</code>则将捕获使用的权限。此方法可用于通过在<code class="codeph">SYS_CONTEXT</code>指定用户来捕获数据库用户使用的特权和角色。</p>
                        </li>
                        <li>
                           <p><span class="bold">基于角色和上下文的权限使用捕获。</span> 您必须提供已启用的角色列表和条件的<code class="codeph">SYS_CONTEXT</code>布尔表达式。在会话中启用任何这些角色并满足给定的上下文条件时，权限分析将开始捕获权限使用。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">数据库范围的权限捕获。</span> 如果未在权限分析策略中指定任何类型，则将捕获数据库中使用的权限，但用户<code class="codeph">SYS</code>除外。 （这也称为无条件分析，因为它在没有任何条件的情况下打开。）
                           </p>
                        </li>
                     </ul>
                     <p>请注意以下限制：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您一次只能启用一个权限分析策略。唯一的例外是您可以在非数据库范围的权限分析策略（例如角色或上下文属性驱动的分析策略）的同时启用数据库范围的权限分析策略。</p>
                        </li>
                        <li>
                           <p>您无法分析<code class="codeph">SYS</code>用户的权限。
                           </p>
                        </li>
                        <li>
                           <p>权限分析显示权限的授予路径，但不建议保留哪个授权路径。</p>
                        </li>
                        <li>
                           <p>如果已删除角色，用户或对象，则还会删除反映特权分析数据字典视图中这些特权捕获的特权的值。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="权限分析通过帮助您实现数据库角色和权限的最小权限最佳实践，提高了应用程序和数据库操作的安全性。">什么是权限分析？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-AD683DDB-D345-4702-B1F4-37B79F276B66" name="GUID-AD683DDB-D345-4702-B1F4-37B79F276B66"></a><h4 id="DBSEG-GUID-AD683DDB-D345-4702-B1F4-37B79F276B66" class="sect4">多租户环境如何影响权限分析？</h4>
                  <div>
                     <p>您可以在多租户环境中创建和使用权限分析策略。</p>
                     <p>如果您使用的是多租户环境，则可以在CDB根目录或单个PDB中创建权限分析策略。权限分析策略仅适用于创建它的容器，可以是CDB根目录或应用程序根目录中使用的权限，也可以是PDB中使用的权限。它不能在整个多租户环境中全局应用。您可以将<code class="codeph">CAPTURE_ADMIN</code>角色本地授予本地用户或普通用户。您可以将<code class="codeph">CAPTURE_ADMIN</code>角色通常授予普通用户。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="权限分析通过帮助您实现数据库角色和权限的最小权限最佳实践，提高了应用程序和数据库操作的安全性。">什么是权限分析？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-77961026-AD82-4BD2-98B0-70A74DD3FAA0" name="GUID-77961026-AD82-4BD2-98B0-70A74DD3FAA0"></a><h4 id="DBSEG-GUID-77961026-AD82-4BD2-98B0-70A74DD3FAA0" class="sect4">权限分析如何与预编译的数据库对象一起使用</h4>
                  <div>
                     <p>权限分析可用于捕获已对预编译的数据库对象执行的权限。</p>
                     <p>这些对象的示例是PL / SQL包，过程，函数，视图，触发器以及Java类和数据。</p>
                     <p>由于在调用存储过程的运行时可能无法执行这些权限，因此在为任何数据库范围的捕获生成结果时会收集这些权限，以及运行时捕获的权限。如果未在预编译的数据库对象或运行时捕获中使用该特权，则该特权将被视为未使用的特权，并且该特权将保存在运行时捕获名称下。如果将特权用于预编译的数据库对象，则它将以捕获名称<code class="codeph">ORA$DEPENDENCY</code>保存。如果在运行时捕获了权限，则会以运行时捕获名称保存该权限。如果您想知道预编译数据库对象和运行时使用的使用权限，那么您必须同时查询<code class="codeph">ORA$DEPENDENCY</code>和运行时捕获。对于未使用的权限，您只需要使用运行时捕获名称进行查询。
                     </p>
                     <p>要查找可以使用权限分析的预编译对象的完整列表，请查询<code class="codeph">ALL_DEPENDENCIES</code>数据字典视图的<code class="codeph">TYPE</code>列。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="权限分析通过帮助您实现数据库角色和权限的最小权限最佳实践，提高了应用程序和数据库操作的安全性。">什么是权限分析？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" name="GUID-442371F1-541D-4A1E-BCBF-180C0D88517D"></a><h3 id="DBSEG-GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" class="sect3">创建和管理权限分析策略</h3>
               <div>
                  <p>您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-E3297105-B1F5-4B49-9CB7-7361EE17E8CE">关于创建和管理权限分析策略</a><br>您可以使用Oracle Enterprise Manager Cloud Control或<code class="codeph">DBMS_PRIVILEGE_CAPTURE</code> PL / SQL包来分析权限。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-41B8439B-2713-43C0-BF51-4FE50A70B705">管理权限分析的一般步骤</a><br>您必须遵循一般步骤来分析权限。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-C4084ACD-81A0-484A-B668-813CD374AEDD">创建权限分析策略</a><br>您可以使用<code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>过程来创建权限分析策略。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-C4A9E2B3-0051-4190-BD23-1F24052B352C">启用权限分析策略</a><br>创建权限分析策略后，必须启用它以捕获权限使用。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6">创建和启用权限分析策略的示例</a><br>您可以创建各种权限分析策略。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-ECD0AC5D-0EDD-4AF0-84D9-401749659786">禁用权限分析策略</a><br>必须先禁用权限分析策略，然后才能生成权限分析报告。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222">生成权限分析报告</a><br>您可以使用<code class="codeph">DBMS_PRIVILEGE_CAPTURE</code> PL / SQL包使用Enterprise Manager Cloud Control或SQL * Plus生成权限分析策略报告。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-403B206F-71B5-481E-8FF7-6FEBA2DE1D75">删除权限分析策略</a><br>在删除权限分析策略之前，必须先禁用它。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="权限分析动态分析用户使用和不使用的权限和角色。">执行权限分析以查找权限使用</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-E3297105-B1F5-4B49-9CB7-7361EE17E8CE" name="GUID-E3297105-B1F5-4B49-9CB7-7361EE17E8CE"></a><h4 id="DBSEG-GUID-E3297105-B1F5-4B49-9CB7-7361EE17E8CE" class="sect4">关于创建和管理权限分析策略</h4>
                  <div>
                     <p>您可以使用Oracle Enterprise Manager Cloud Control或<code class="codeph">DBMS_PRIVILEGE_CAPTURE</code> PL / SQL包来分析权限。
                     </p>
                     <p>在您这样做之前，您必须被授予<code class="codeph">CAPTURE_ADMIN</code>角色。<code class="codeph">DBMS_PRIVILEGE_CAPTURE</code>包使您可以创建，启用，禁用和删除权限分析策略。它还会生成显示权限使用情况的报告，您可以在<code class="codeph">DBA_*</code>视图中查看这些权限。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../arpls/index.html" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。">创建和管理权限分析策略</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-41B8439B-2713-43C0-BF51-4FE50A70B705" name="GUID-41B8439B-2713-43C0-BF51-4FE50A70B705"></a><h4 id="DBSEG-GUID-41B8439B-2713-43C0-BF51-4FE50A70B705" class="sect4">管理权限分析的一般步骤</h4>
                  <div>
                     <p>您必须遵循一般步骤来分析权限。</p>
                     <ol>
                        <li class="stepexpand"><span>定义权限分析策略。</span></li>
                        <li class="stepexpand"><span>启用权限分析策略。</span><div>
                              <p>此步骤开始记录策略定义的权限使用。（可选）为此捕获运行指定名称。每次启用权限分析策略时，都可以为其创建不同的捕获运行。通过这种方式，您可以创建多个命名捕获运行，以便稍后进行比较分析。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>（可选）如果要捕获定义者权限和调用者权限程序单元使用的权限，请启用策略以捕获相关权限。</span></li>
                        <li class="stepexpand"><span>在足够长的时间收集数据后，禁用权限分析策略记录的权限使用。</span><div>
                              <p>此步骤将停止捕获策略的权限使用。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>生成权限分析结果。</span><div>
                              <p>此步骤将结果写入权限分析策略并报告数据字典视图。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>（可选）禁用然后删除权限分析策略并捕获运行。</span><div>
                              <p>删除权限分析策略会删除策略捕获的数据。</p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112" title="Oracle数据库提供数据字典视图，显示有关已分析权限的信息。">权限分析策略和报告数据字典视图</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。">创建和管理权限分析策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-C4084ACD-81A0-484A-B668-813CD374AEDD" name="GUID-C4084ACD-81A0-484A-B668-813CD374AEDD"></a><h4 id="DBSEG-GUID-C4084ACD-81A0-484A-B668-813CD374AEDD" class="sect4">创建权限分析策略</h4>
                  <div>
                     <p>您可以使用<code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>过程来创建权限分析策略。
                     </p>
                     <div class="section">
                        <p>创建权限分析策略后，您可以在<code class="codeph">DBA_PRIV_CAPTURES</code>数据字典视图中找到它。创建策略时，它驻留在Oracle数据字典和<code class="codeph">SYS</code>模式中。但是， <code class="codeph">SYS</code>和创建策略的用户都可以删除它。创建策略后，必须手动启用它，以便它可以开始分析权限使用。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol id="GUID-C4084ACD-81A0-484A-B668-813CD374AEDD__OL_IL3_SWH_SFB">
                           <li>以具有<code class="codeph">CAPTURE_ADMIN</code>角色的用户身份登录数据库实例。
                           </li>
                           <li>对<code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>过程使用以下语法：<pre class="oac_no_warn" dir="ltr">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE（名称VARCHAR2，描述VARCHAR2 DEFAULT NULL， <span class="italic"> </span>键入NUMBER DEFAULT DBMS_PRIVILEGE_CAPTURE.G_DATABASE，角色ROLE_NAME_LIST DEFAULT ROLE_NAME_LIST（），条件VARCHAR2 DEFAULT NULL）;</pre><p>在本规范中：</p>
                              <ul id="GUID-C4084ACD-81A0-484A-B668-813CD374AEDD__UL_KDF_ZWH_SFB" style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">name</code> ：指定要创建的权限分析策略的名称。确保此名称唯一且不超过128个字符。您可以在名称中包含空格，但只要引用该名称，就必须在单引号中包含该名称。要查找现有策略的名称，请查询<code class="codeph">DBA_PRIV_CAPTURES</code>视图的<code class="codeph">NAME</code>列。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">description</code> ：描述特权分析策略的用途，混合大小写字母最多1024个字符。可选的。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">type</code> ：指定捕获条件的类型。如果省略<code class="codeph">type</code>参数，则默认值为<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_DATABASE</code> 。可选的。
                                    </p>
                                    <p>输入以下类型之一：</p>
                                    <ul id="GUID-C4084ACD-81A0-484A-B668-813CD374AEDD__UL_LDF_ZWH_SFB" style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_DATABASE</code> ：捕获整个数据库中使用的所有权限，但用户<code class="codeph">SYS</code>权限除外。</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE</code> ：捕获已启用角色的会话的权限。如果为<code class="codeph">type</code>参数输入<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE</code> ，则还必须指定<code class="codeph">roles</code>参数。对于多个角色，请使用逗号分隔每个角色名称。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_CONTEXT</code> ：捕获<code class="codeph">condition</code>参数评估为<code class="codeph">TRUE</code>的<code class="codeph">condition</code>的会话的权限。如果为<code class="codeph">type</code>参数输入<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_CONTEXT</code> ，则还必须指定<code class="codeph">condition</code>参数。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE_AND_CONTEXT</code> ：捕获已启用角色且上下文条件评估为<code class="codeph">TRUE</code>的会话的权限。如果为<code class="codeph">type</code>参数输入<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE_AND_CONTEXT</code> ，则还必须同时指定<code class="codeph">roles</code>和<code class="codeph">condition</code>参数。
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p><code class="codeph">roles</code> ：指定将分析其使用权限的角色。也就是说，如果使用来自其中一个给定角色的特权，则将分析该特权。如果为<code class="codeph">type</code>参数指定<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE</code>或<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE_AND_CONTEXT</code> ，则必须指定此参数。您输入的每个角色都必须存在于数据库中。（您可以通过查询<code class="codeph">DBA_ROLES</code>数据字典视图来查找现有角色。）对于多个角色，请使用varray type <code class="codeph">role_name_list</code>输入角色名称。您最多可以指定10个角色。
                                    </p>
                                    <p>例如，要指定两个角色：</p><pre class="oac_no_warn" dir="ltr">roles =&gt; role_name_list（'role1'，'role2'），</pre></li>
                                 <li>
                                    <p><code class="codeph">condition</code> ：指定最多4000个字符的布尔表达式。如果为<code class="codeph">type</code>参数指定<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_CONTEXT</code>或<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE_AND_CONTEXT</code> ，则必须指定此参数。此<code class="codeph">SYS_CONTEXT</code>表达式中只<code class="codeph">SYS_CONTEXT</code>使用带有关系运算符（ <code class="codeph">==</code> ， <code class="codeph">&gt;</code> ， <code class="codeph">&gt;=</code> ， <code class="codeph">&lt;</code> ， <code class="codeph">&lt;=</code> ， <code class="codeph">&lt;&gt;</code> ， <code class="codeph">BETWEEN</code>和<code class="codeph">IN</code> ）的<code class="codeph">SYS_CONTEXT</code>表达式。
                                    </p>
                                    <p><code class="codeph">condition</code>表达式语法如下：</p><pre class="oac_no_warn" dir="ltr">predicate :: = SYS_CONTEXT（ <span class="italic">namespace</span> ， <span class="italic">attribute</span> ）relop <span class="italic">constant_value</span> | SYS_CONTEXT（ <span class="italic">名称空间</span> ， <span class="italic">属性</span> ）BETWEEN <span class="italic">constant_value</span> AND <span class="italic">constant_value</span> | SYS_CONTEXT（ <span class="italic">名称空间</span> ， <span class="italic">属性</span> ）IN { <span class="italic">constant_value</span> （， <span class="italic">constant_value</span> ）*} relop :: = = | &lt;| &lt;= | &gt; | &gt; = | &lt;&gt; context_expression :: =谓词| （context_expression）AND（context_expression）| （context_expression）OR（context_expression）</pre><p>例如，要使用条件指定IP地址<code class="codeph">192.0.2.1</code> ：</p><pre class="oac_no_warn" dir="ltr">condition =&gt;'SYS_CONTEXT（''USERENV''，''IP_ADDRESS''）='''192.0.2.1''';</pre></li>
                              </ul>
                              <p>创建权限分析策略后，必须启用策略以开始捕获权限和角色使用。</p>
                           </li>
                        </ol>
                        <p>*您可以根据需要添加任意数量的常量值（例如， <code class="codeph">IN {</code> <span class="italic"><code class="codeph">constant_value1</code></span> <code class="codeph">}</code>或<code class="codeph">IN {</code> <span class="italic"><code class="codeph">constant_value1</code></span> <code class="codeph">,</code> <span class="italic"><code class="codeph">constant_value2</code></span> <code class="codeph">,</code> <span class="italic"><code class="codeph">constant_value3</code></span> <code class="codeph">}</code> ）。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-C4A9E2B3-0051-4190-BD23-1F24052B352C" title="创建权限分析策略后，必须启用它以捕获权限使用。">启用权限分析策略</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。">创建和管理权限分析策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-C4A9E2B3-0051-4190-BD23-1F24052B352C" name="GUID-C4A9E2B3-0051-4190-BD23-1F24052B352C"></a><h4 id="DBSEG-GUID-C4A9E2B3-0051-4190-BD23-1F24052B352C" class="sect4">启用权限分析策略</h4>
                  <div>
                     <p>创建权限分析策略后，必须启用它以捕获权限使用。</p>
                     <div class="section"><code class="codeph">DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE</code>过程启用权限策略并为其创建捕获运行名称。运行名称定义捕获发生的时间段。
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以具有<code class="codeph">CAPTURE_ADMIN</code>角色的用户身份登录数据库实例。</span></li>
                        <li class="stepexpand"><span>查询<code class="codeph">DBA_PRIV_CAPTURES</code>数据字典视图的<code class="codeph">NAME</code>和<code class="codeph">ENABLED</code>列，以查找现有的权限分析策略以及它们当前是否已启用。</span></li>
                        <li class="stepexpand"><span>运行<code class="codeph">DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE</code>过程以启用策略，并可选择为捕获运行创建名称。</span><div>
                              <p>例如，要启用权限分析策略<code class="codeph">logon_users_analysis</code> ：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE（name =&gt;'logon_users_analysis_pol'，run_name =&gt;'logon_users_04092016'）;结束; /</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。">创建和管理权限分析策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" name="GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6"></a><h4 id="DBSEG-GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" class="sect4">创建和启用权限分析策略的示例</h4>
                  <div>
                     <p>您可以创建各种权限分析策略。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C">示例：数据库范围权限的权限分析</a><br><code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>可用于分析数据库范围的权限。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED">示例：两个角色的权限使用权限分析</a><br><code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>过程可用于分析多个角色的权限使用情况。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-F66B66E1-4EDF-497F-88FF-0464202F794C">示例：SQL * Plus使用期间权限的权限分析</a><br><code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>过程可用于捕获分析权限。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B">示例：SQL * Plus访问期间PSMITH权限的权限分析</a><br>当用户运行SQL * Plus时， <code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>可用于分析用户访问。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。">创建和管理权限分析策略</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C" name="GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C"></a><h5 id="DBSEG-GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C" class="sect5">示例：数据库范围权限的权限分析</h5>
                     <div>
                        <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>可用于分析数据库范围的权限。
                        </p>
                        <p><a href="performing-privilege-analysis-find-privilege-use.html#GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C__CACFHIEB">示例5-1</a>显示了如何使用<code class="codeph">DBMS_PRIVILEGE_CAPTURE</code>包创建和启用权限分析策略以记录数据库中的所有权限使用。
                        </p>
                        <div class="example" id="GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C__CACFHIEB">
                           <p class="titleinexample">示例5-1数据库范围特权的权限分析</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE（name =&gt;'db_wide_capture_pol'，description =&gt;'Captures database-wide privileges'，type =&gt; DBMS_PRIVILEGE_CAPTURE.G_DATABASE）;结束; / EXEC DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE（'db_wide_capture_pol'）;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" title="您可以创建各种权限分析策略。">创建和启用权限分析策略的示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED" name="GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED"></a><h5 id="DBSEG-GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED" class="sect5">示例：两个角色的权限使用权限分析</h5>
                     <div>
                        <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>过程可用于分析多个角色的权限使用情况。
                        </p>
                        <p><a href="performing-privilege-analysis-find-privilege-use.html#GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED__CACJDHBE">示例5-2</a>显示了如何分析两个角色的权限使用情况。
                        </p>
                        <div class="example" id="GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED__CACJDHBE">
                           <p class="titleinexample">例5-2两个角色的权限使用特权分析</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE（name =&gt;'dba_roles_capture_pol'，description =&gt;'Captures DBA and LBAC_DBA role use'，type =&gt; DBMS_PRIVILEGE_CAPTURE.G_ROLE，roles =&gt; role_name_list（'dba'，'lbac_dba'））;结束; / EXEC DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE（'dba_roles_capture_pol'）;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" title="您可以创建各种权限分析策略。">创建和启用权限分析策略的示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-F66B66E1-4EDF-497F-88FF-0464202F794C" name="GUID-F66B66E1-4EDF-497F-88FF-0464202F794C"></a><h5 id="DBSEG-GUID-F66B66E1-4EDF-497F-88FF-0464202F794C" class="sect5">示例：SQL * Plus使用期间权限的权限分析</h5>
                     <div>
                        <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>过程可用于捕获分析权限。
                        </p>
                        <p><a href="performing-privilege-analysis-find-privilege-use.html#GUID-F66B66E1-4EDF-497F-88FF-0464202F794C__CACGIABC">例5-3</a>显示了如何分析用于运行SQL * Plus的权限。
                        </p>
                        <div class="example" id="GUID-F66B66E1-4EDF-497F-88FF-0464202F794C__CACGIABC">
                           <p class="titleinexample">示例5-3 SQL * Plus使用期间权限的权限分析</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE（name =&gt;'sqlplus_capture_pol'，description =&gt;'在SQL * Plus使用期间捕获权限使用'，键入=&gt; DBMS_PRIVILEGE_CAPTURE.G_CONTEXT，condition =&gt;'SYS_CONTEXT（''USERENV''，''MODULE'' ）= '' sqlplus中 '''）;结束; / EXEC DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE（'sqlplus_capture_pol'）;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" title="您可以创建各种权限分析策略。">创建和启用权限分析策略的示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B" name="GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B"></a><h5 id="DBSEG-GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B" class="sect5">示例：SQL * Plus访问期间PSMITH权限的权限分析</h5>
                     <div>
                        <p>当用户运行SQL * Plus时， <code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>可用于分析用户访问。
                        </p>
                        <p><a href="performing-privilege-analysis-find-privilege-use.html#GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B__CACCDFFI">示例5-4</a>显示了在运行SQL * Plus时如何分析会话用户<code class="codeph">PSMITH</code>使用的权限。
                        </p>
                        <div class="example" id="GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B__CACCDFFI">
                           <p class="titleinexample">示例5-4 SQL * Plus访问期间PSMITH权限的权限分析</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE（name =&gt;'psmith_sqlplus_analysis_pol'，description =&gt;'分析PSMITH角色私有用于SQL * Plus模块'，类型=&gt; DBMS_PRIVILEGE_CAPTURE.G_CONTEXT，condition =&gt;'SYS_CONTEXT（''USERENV''，''MODULE ''）=''sqlplus''和SYS_CONTEXT（''USERENV''，''SESSION_USER''）='''PSMITH'''）;结束; / EXEC DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE（'psmith_sqlplus_analysis_pol'）;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" title="您可以创建各种权限分析策略。">创建和启用权限分析策略的示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-ECD0AC5D-0EDD-4AF0-84D9-401749659786" name="GUID-ECD0AC5D-0EDD-4AF0-84D9-401749659786"></a><h4 id="DBSEG-GUID-ECD0AC5D-0EDD-4AF0-84D9-401749659786" class="sect4">禁用权限分析策略</h4>
                  <div>
                     <p>必须先禁用权限分析策略，然后才能生成权限分析报告。</p>
                     <div class="section">禁用策略后，将不再记录权限。禁用权限分析策略会立即对禁用权限分析策略之前和之后登录的用户会话生效。您可以使用<code class="codeph">DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE</code>过程来禁用权限分析策略。
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以具有<code class="codeph">CAPTURE_ADMIN</code>角色的用户身份登录数据库实例。</span></li>
                        <li class="stepexpand"><span>查询<code class="codeph">DBA_PRIV_CAPTURES</code>数据字典视图的<code class="codeph">NAME</code>和<code class="codeph">ENABLED</code>列，以查找现有权限分析策略以及它们当前是否已禁用。</span></li>
                        <li class="stepexpand"><span>运行<code class="codeph">DBMS_PRIVILEGE_CAPTURE.DISBLE_CAPTURE</code>过程以启用策略。</span><div>
                              <p>例如，要禁用权限分析策略<code class="codeph">logon_users_analysis</code> ：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE（'logon_users_analysis_pol'）;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。">创建和管理权限分析策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" name="GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222"></a><h4 id="DBSEG-GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" class="sect4">生成权限分析报告</h4>
                  <div>
                     <p>您可以使用<code class="codeph">DBMS_PRIVILEGE_CAPTURE</code> PL / SQL包使用Enterprise Manager Cloud Control或SQL * Plus生成权限分析策略报告。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-AFC16E86-D7BF-4AD7-A127-CDA6D04A9077">关于生成权限分析报告</a><br>禁用权限分析策略后，您可以根据为权限分析策略创建的捕获运行生成报告。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-3A08AAD2-A90F-4DE8-B5F9-88E2C3CF822F">管理多个命名捕获运行的一般过程</a><br>启用权限分析策略时，可以为策略的发现创建命名的捕获运行。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-67406253-7709-4F74-B962-EDFCA1CCB2F9">使用DBMS_PRIVILEGE_CAPTURE生成权限分析报告</a><br><code class="codeph">DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT</code>过程生成一个报告，显示特权捕获的结果。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0">使用云控制生成权限分析报告</a><br>您可以使用Cloud Control生成权限分析报告。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-E44DCDB5-9687-4355-93CA-3836ACBF9AA5">使用云控制访问权限分析报告</a><br>权限分析报告提供有关已使用和未使用权限的信息。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。">创建和管理权限分析策略</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-AFC16E86-D7BF-4AD7-A127-CDA6D04A9077" name="GUID-AFC16E86-D7BF-4AD7-A127-CDA6D04A9077"></a><h5 id="DBSEG-GUID-AFC16E86-D7BF-4AD7-A127-CDA6D04A9077" class="sect5">关于生成权限分析报告</h5>
                     <div>
                        <p>禁用权限分析策略后，您可以根据为权限分析策略创建的捕获运行生成报告。</p>
                        <p>要在SQL * Plus中查看报告结果，请查询特定于权限分析的数据字典视图。在Enterprise Manager云控制中，您可以从“权限分析”页面“ <span class="bold">操作”</span>菜单查看报告，并从那里根据需要撤消和重新授予角色和权限。如果在权限分析过程中使用权限，然后在生成报告之前撤消该权限，则该权限仍会报告为已使用的权限，但没有权限授予路径。
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112" title="Oracle数据库提供数据字典视图，显示有关已分析权限的信息。">权限分析策略和报告数据字典视图</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" title="您可以使用DBMS_PRIVILEGE_CAPTURE PL / SQL包使用Enterprise Manager Cloud Control或SQL * Plus生成权限分析策略报告。">生成权限分析报告</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-3A08AAD2-A90F-4DE8-B5F9-88E2C3CF822F" name="GUID-3A08AAD2-A90F-4DE8-B5F9-88E2C3CF822F"></a><h5 id="DBSEG-GUID-3A08AAD2-A90F-4DE8-B5F9-88E2C3CF822F" class="sect5">管理多个命名捕获运行的一般过程</h5>
                     <div>
                        <p>启用权限分析策略时，可以为策略的发现创建命名的捕获运行。</p>
                        <p>捕获运行定义从启用（开始）捕获到禁用（停止）捕获的时间段。这样，您可以创建多个运行，然后在生成权限捕获结果时对它们进行比较。<a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="本教程演示了如何创建捕获运行以分析READ ANY TABLE系统特权的使用。">教程：使用Capture运行分析任何特权使用</a>提供了一个如何创建和生成多个捕获运行的示例。
                        </p>
                        <p>管理多个命名捕获运行的一般过程如下：</p>
                        <ol id="GUID-3A08AAD2-A90F-4DE8-B5F9-88E2C3CF822F__OL_N4C_5Z4_LGB">
                           <li>
                              <p>创建策略。</p>
                           </li>
                           <li>
                              <p>为第一次运行启用策略。</p>
                           </li>
                           <li>
                              <p>经过一段时间收集用户行为数据后，请禁用此策略及其运行。</p>
                           </li>
                           <li>
                              <p>生成结果，然后查询权限分析数据字典视图，以获取有关此捕获运行的信息。</p>
                              <p>如果省略<code class="codeph">DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT</code>过程中的<code class="codeph">run_name</code>参数，则此过程将查看所有记录作为整体，然后对其进行分析。
                              </p>
                           </li>
                           <li>
                              <p>重新启用第二次运行的策略。如果尚未首先禁用策略，则无法创建新的捕获运行。</p>
                           </li>
                           <li>
                              <p>收集用户数据后，禁用策略和第二次运行。</p>
                           </li>
                           <li>
                              <p>生成结果。</p>
                           </li>
                           <li>
                              <p>查询权限分析数据字典视图。两个捕获运行的结果都可以在视图中找到。如果您只想显示其中一个捕获运行的结果，则可以重新生成结果并重新查询权限分析视图。</p>
                           </li>
                        </ol>
                        <p>启用后，权限分析策略将在满足条件时开始记录权限使用情况。在任何给定时间，只能启用数据库中的一个权限分析策略。唯一的例外是可以使用不同类型的权限分析同时启用<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_DATABASE</code>类型的权限分析策略。
                        </p>
                        <p>删除权限分析策略时，其关联的捕获运行也将被删除，并且不会反映在权限分析数据字典视图中。</p>
                        <p>重新启动数据库不会更改权限分析的状态。例如，如果在数据库关闭之前启用了权限分析策略，则在数据库关闭并重新启动后仍会启用该策略。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" title="您可以使用DBMS_PRIVILEGE_CAPTURE PL / SQL包使用Enterprise Manager Cloud Control或SQL * Plus生成权限分析策略报告。">生成权限分析报告</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-67406253-7709-4F74-B962-EDFCA1CCB2F9" name="GUID-67406253-7709-4F74-B962-EDFCA1CCB2F9"></a><h5 id="DBSEG-GUID-67406253-7709-4F74-B962-EDFCA1CCB2F9" class="sect5">使用DBMS_PRIVILEGE_CAPTURE生成权限分析报告</h5>
                     <div>
                        <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT</code>过程生成一个报告，显示特权捕获的结果。
                        </p>
                        <ol>
                           <li class="stepexpand"><span>以具有<code class="codeph">CAPTURE_ADMIN</code>角色的用户身份登录数据库实例。</span></li>
                           <li class="stepexpand"><span>查询<code class="codeph">DBA_PRIV_CAPTURES</code>数据字典视图的<code class="codeph">NAME</code>和<code class="codeph">ENABLED</code>列，以查找现有权限分析策略以及它们当前是否已禁用。</span><div>
                                 <p>必须先禁用权限分析策略，然后才能生成权限分析报告。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>使用以下语法运行<code class="codeph">DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT</code>过程：</span><div><pre class="oac_no_warn" dir="ltr">DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT（名称VARCHAR2，run_name VARCHAR2 DEFAULT NULL，依赖BOOLEAN DEFAULT NULL）;</pre></div>
                              <div>
                                 <p>在本规范中：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">name</code> ：指定权限分析策略的名称。<kbd class="userinput">DBA_PRIV_CAPTURES</kbd>数据字典视图列出了现有策略的名称。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">run_name</code> ：指定必须计算的权限捕获的运行名称的名称。如果省略此设置，则计算给定权限捕获的所有运行。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">dependency</code> ：输入<code class="codeph">Y</code> （是）或<code class="codeph">N</code> （否）以指定是否应在报告中包含PL / SQL计算权限用法。
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                              <div>
                                 <p>例如，要为权限分析策略<code class="codeph">logon_users_analysis</code>生成报告：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT（'logon_users_analysis'）;</pre></div>
                           </li>
                           <li class="stepexpand"><span>使用权限授予路径从<code class="codeph">DBA_USED_*</code>数据字典视图查询已使用的权限。</span></li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" title="您可以使用DBMS_PRIVILEGE_CAPTURE PL / SQL包使用Enterprise Manager Cloud Control或SQL * Plus生成权限分析策略报告。">生成权限分析报告</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" name="GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0"></a><h5 id="DBSEG-GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" class="sect5">使用云控制生成权限分析报告</h5>
                     <div>
                        <p>您可以使用Cloud Control生成权限分析报告。</p>
                        <ol>
                           <li class="stepexpand"><span>以已授予<code class="codeph">CAPTURE_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份登录Cloud Control。<a href="../admqs/getting-started-with-database-administration.html#ADMQS033" target="_blank"><span><cite>Oracle Database 2 Day DBA</cite></span></a>解释了如何登录。</span></li>
                           <li class="stepexpand"><span>从“ <span class="bold">安全性”</span>菜单中，选择“ <span class="bold">权限分析”</span> 。</span></li>
                           <li class="stepexpand"><span>在“策略”下，选择要生成其报告的策略。</span></li>
                           <li class="stepexpand"><span>选择<span class="bold">生成报告</span> 。</span></li>
                           <li class="stepexpand"><span>在“权限分析：生成报告”对话框中，指定生成报告的时间。</span><div>
                                 <p>要<span class="bold">立即</span>生成报告，请选择<span class="bold">立即</span> 。要稍后生成报告，请选择“ <span class="bold">稍后”</span> ，然后指定要生成的报告的小时，分钟，秒和时区。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>单击<span class="bold">确定</span> 。</span><div>
                                 <p>在“权限分析”页面中，“确认”消息会通知您已提交报告。您可以刷新页面，直到作业完成。要查看报告，请选择策略名称，然后单击“ <span class="uicontrol bold">查看报告”</span> 。
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" title="您可以使用DBMS_PRIVILEGE_CAPTURE PL / SQL包使用Enterprise Manager Cloud Control或SQL * Plus生成权限分析策略报告。">生成权限分析报告</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-E44DCDB5-9687-4355-93CA-3836ACBF9AA5" name="GUID-E44DCDB5-9687-4355-93CA-3836ACBF9AA5"></a><h5 id="DBSEG-GUID-E44DCDB5-9687-4355-93CA-3836ACBF9AA5" class="sect5">使用云控制访问权限分析报告</h5>
                     <div>
                        <p>权限分析报告提供有关已使用和未使用权限的信息。</p>
                        <ol>
                           <li class="stepexpand"><span>生成权限分析报告。</span><div>
                                 <p>有关详细信息，请参阅<a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" title="您可以使用Cloud Control生成权限分析报告。">使用Cloud Control生成权限分析报告</a> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在“权限分析”页面中，选择生成报告的策略。</span></li>
                           <li class="stepexpand"><span>选择<span class="uicontrol bold">查看报告</span> 。</span><div>
                                 <p>将显示“权限分析报告”页面。</p>
                                 <div class="figure" id="GUID-E44DCDB5-9687-4355-93CA-3836ACBF9AA5__GUID-5EDDDF9E-DC70-4756-8C7F-4FF48CA3E4BB"><img src="img/priv_analysis_report122.png" alt="priv_analysis_report122.png的描述如下" title="priv_analysis_report122.png的描述如下" longdesc="img_text/priv_analysis_report122.html"><br><a href="img_text/priv_analysis_report122.html">说明priv_analysis_report122.png的说明</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                           <li class="stepexpand"><span>要查看报告，请执行以下操作：</span><ul>
                                 <li>默认情况下，将显示所选报告，但要搜索其他策略的报告，请使用“搜索”区域查找其他报告，或者为当前选定的策略选择其他受赠者。</li>
                                 <li>要查看未使用的权限，请选择“ <span class="uicontrol bold">未使用”</span>选项卡;要查看已使用的权限，请选择已<span class="uicontrol bold">使用</span> 。要查看两者的摘要，请选择“ <span class="uicontrol bold">摘要”</span> 。
                                 </li>
                              </ul>
                              <div>
                                 <p>从这里，您可以根据需要选择要撤消或重新授予用户的角色。要做到这一点，下<span class="uicontrol bold">承授人</span> ，选择角色，然后单击<span class="bold">撤销</span>或<span class="bold">重新批准</span> 。
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" title="您可以使用DBMS_PRIVILEGE_CAPTURE PL / SQL包使用Enterprise Manager Cloud Control或SQL * Plus生成权限分析策略报告。">生成权限分析报告</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-403B206F-71B5-481E-8FF7-6FEBA2DE1D75" name="GUID-403B206F-71B5-481E-8FF7-6FEBA2DE1D75"></a><h4 id="DBSEG-GUID-403B206F-71B5-481E-8FF7-6FEBA2DE1D75" class="sect4">删除权限分析策略</h4>
                  <div>
                     <p>在删除权限分析策略之前，必须先禁用它。</p>
                     <div class="section">删除权限分析策略还会删除与此权限分析关联的所有已使用和未使用的权限记录。如果您为策略创建了捕获运行，则在删除策略时将删除它们。</div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以具有<code class="codeph">CAPTURE_ADMIN</code>角色的用户身份登录数据库实例。</span></li>
                        <li class="stepexpand"><span>查询<code class="codeph">DBA_PRIV_CAPTURES</code>数据字典视图的<code class="codeph">NAME</code>和<code class="codeph">ENABLE</code>列以查找策略并检查它是启用还是禁用。</span></li>
                        <li class="stepexpand"><span>如果启用该策略，则禁用它。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE（'logon_users_analysis_pol'）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>运行<code class="codeph">DBMS_PRIVILEGE_CAPTURE.DROP_CAPTURE</code>过程以删除策略。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DROP_CAPTURE（'logon_users_analysis_pol'）;</pre><p>如果您已使用捕获运行启用策略，则也会删除捕获运行。要单独删除捕获运行，可以运行<code class="codeph">DBMS_PRIVILEGE_CAPTURE.DELETE_RUN</code>过程，但策略必须存在才能运行此语句。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-ECD0AC5D-0EDD-4AF0-84D9-401749659786" title="必须先禁用权限分析策略，然后才能生成权限分析报告。">禁用权限分析策略</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。">创建和管理权限分析策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA" name="GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA"></a><h3 id="DBSEG-GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA" class="sect3">使用云控制创建角色和管理权限</h3>
               <div>
                  <p>您可以使用权限分析报告中的权限创建新角色，然后将此角色授予用户。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-32E2ACC1-CF16-4843-8149-0DAFA8A659EE">从Cloud Control中的权限分析报告创建角色</a><br>您可以使用报告摘要查找应用程序所需的最少权限数，并将这些权限封装到角色中。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-7FEDBD68-0F3F-4856-9D48-B90AEB692361">使用云控制撤消和重新授予角色和权限</a><br>您可以使用Enterprise Manager Cloud Control撤消和重新授予用户角色和权限。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-52659855-2B5E-4E93-80EE-174679594BE9">使用云控制生成撤消或重新制作脚本</a><br>您可以根据权限分析报告的结果生成一个脚本，用于撤消或向用户重新授予权限。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="权限分析动态分析用户使用和不使用的权限和角色。">执行权限分析以查找权限使用</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-32E2ACC1-CF16-4843-8149-0DAFA8A659EE" name="GUID-32E2ACC1-CF16-4843-8149-0DAFA8A659EE"></a><h4 id="DBSEG-GUID-32E2ACC1-CF16-4843-8149-0DAFA8A659EE" class="sect4">从Cloud Control中的权限分析报告创建角色</h4>
                  <div>
                     <p>您可以使用报告摘要查找应用程序所需的最少权限数，并将这些权限封装到角色中。</p>
                     <ol>
                        <li class="stepexpand"><span>以已授予<code class="codeph">CAPTURE_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份登录Cloud Control。<a href="../admqs/getting-started-with-database-administration.html#ADMQS033" target="_blank"><span><cite>Oracle Database 2 Day DBA</cite></span></a>解释了如何登录。</span></li>
                        <li class="stepexpand"><span>在“权限分析”页面上，选择策略名称，然后从“ <span class="bold">操作”</span>菜单中单击“ <span class="bold">创建角色”</span> 。</span></li>
                        <li class="stepexpand"><span>在“创建角色”页面上，提供以下详细信息，然后单击“ <span class="bold">确定”</span> ：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>选择您要从中创建新角色的策略。</p>
                                 </li>
                                 <li>
                                    <p>输入要创建的新角色的唯一名称。</p>
                                 </li>
                                 <li>
                                    <p>选中“已<span class="bold">使用”</span>或“ <span class="bold">未使用”</span>复选框，具体取决于您的角色必须封装的内容。该角色可以使用或未使用的系统和对象特权和角色。
                                    </p>
                                 </li>
                                 <li>
                                    <p>为“ <span class="bold">直接授予的系统特权”</span> ，“ <span class="bold">直接授予的对象特权</span> ”和“ <span class="bold">直接授予的角色”</span>选择相应的单选按钮。
                                    </p>
                                    <p>例如，如果选中“ <span class="bold">使用”</span>复选框，则选择：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><span class="bold">所有</span>系统权限，然后捕获的所有已使用系统权限都包含在您正在创建的新角色中。
                                          </p>
                                       </li>
                                       <li>
                                          <p>对于角色<span class="bold">无</span> ，则在新角色中不会使用策略中捕获的任何角色。
                                          </p>
                                       </li>
                                       <li>
                                          <p><span class="bold">自定义</span>对象权限，然后显示捕获的可用已使用对象的权限列表，您需要从列表中选择要分配给该角色的权限。
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA" title="您可以使用权限分析报告中的权限创建新角色，然后将此角色授予用户。">使用Cloud Control创建角色和管理权限</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-7FEDBD68-0F3F-4856-9D48-B90AEB692361" name="GUID-7FEDBD68-0F3F-4856-9D48-B90AEB692361"></a><h4 id="DBSEG-GUID-7FEDBD68-0F3F-4856-9D48-B90AEB692361" class="sect4">使用云控制撤消和重新授予角色和权限</h4>
                  <div>
                     <p>您可以使用Enterprise Manager Cloud Control撤消和重新授予用户角色和权限。</p>
                     <ol>
                        <li class="stepexpand"><span>如果启用了Oracle Database Vault，请确保您被授权为Oracle System Privilege和Role Management领域的所有者。</span><div>
                              <p>在SQL * Plus中，已被授予<code class="codeph">DV_OWNER</code>角色的用户可以通过查询<code class="codeph">DBA_DV_REALM_AUTH</code>数据字典视图来检查授权。要授予用户授权，请使用<code class="codeph">DBMS_MACADM.ADD_AUTH_TO_REALM</code>过程。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>生成权限分析报告。</span></li>
                        <li class="stepexpand"><span>在“权限分析”页面中，选择生成报告的策略。</span></li>
                        <li class="stepexpand"><span>选择<span class="uicontrol bold">查看报告</span> 。</span></li>
                        <li class="stepexpand"><span>在“权限分析：报告”页面中，选择“ <span class="uicontrol bold">摘要”</span>选项卡。</span></li>
                        <li class="stepexpand"><span>在“搜索”下，确保已设置“ <span class="uicontrol bold">策略”</span>和“ <span class="uicontrol bold">Grantee”</span>菜单选项。</span></li>
                        <li class="stepexpand"><span>在Grantee区域下，展开受让人选项。</span><div>例如，对于名为<code class="codeph">HR_ADMIN</code>角色的角色的角色权限分析报告，您将展开<code class="codeph">HR_ADMIN</code>角色以显示与其关联的权限。
                           </div>
                        </li>
                        <li class="stepexpand"><span>选择要撤消的每个权限，然后单击“ <span class="uicontrol bold">撤消”</span> ，或选择“ <span class="uicontrol bold">重新授予”</span>以将该权限重新授予该角色。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" title="您可以使用Cloud Control生成权限分析报告。">使用云控制生成权限分析报告</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA" title="您可以使用权限分析报告中的权限创建新角色，然后将此角色授予用户。">使用Cloud Control创建角色和管理权限</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-52659855-2B5E-4E93-80EE-174679594BE9" name="GUID-52659855-2B5E-4E93-80EE-174679594BE9"></a><h4 id="DBSEG-GUID-52659855-2B5E-4E93-80EE-174679594BE9" class="sect4">使用云控制生成撤消或重新制作脚本</h4>
                  <div>
                     <p>您可以根据权限分析报告的结果生成一个脚本，用于撤消或向用户重新授予权限。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-BAF8C605-D14A-49A8-B819-B39EC18D0FAE">关于生成撤销和重新制作脚本</a><br>您可以使用可在生成权限分析后下载的脚本来批量撤销未使用的系统和对象权限和角色。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-D7DD58E0-6884-4A7E-B593-1A6CC5612081">生成撤销脚本</a><br>您可以使用Enterprise Manager Cloud Control生成撤消用户权限的脚本。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-80C2B380-C315-43BD-AC09-077FF7F4F09B">生成Regrant脚本</a><br>您可以使用Enterprise Manager Cloud Control生成一个脚本，该脚本将重新授予已从用户撤消的权限。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA" title="您可以使用权限分析报告中的权限创建新角色，然后将此角色授予用户。">使用Cloud Control创建角色和管理权限</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-BAF8C605-D14A-49A8-B819-B39EC18D0FAE" name="GUID-BAF8C605-D14A-49A8-B819-B39EC18D0FAE"></a><h5 id="DBSEG-GUID-BAF8C605-D14A-49A8-B819-B39EC18D0FAE" class="sect5">关于生成撤销和重新制作脚本</h5>
                     <div>
                        <p>您可以使用可在生成权限分析后下载的脚本来批量撤销未使用的系统和对象权限和角色。</p>
                        <p>稍后，如果要将这些权限重新授予用户，则可以生成regrant脚本。要生成regrant脚本，您必须具有相应的撤消脚本。</p>
                        <p>在开发或测试环境中执行撤消脚本。请注意，您无法撤消Oracle提供的帐户和角色中的权限和角色。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-52659855-2B5E-4E93-80EE-174679594BE9" title="您可以根据权限分析报告的结果生成一个脚本，用于撤消或向用户重新授予权限。">使用Cloud Control生成撤消或重新创建脚本</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-D7DD58E0-6884-4A7E-B593-1A6CC5612081" name="GUID-D7DD58E0-6884-4A7E-B593-1A6CC5612081"></a><h5 id="DBSEG-GUID-D7DD58E0-6884-4A7E-B593-1A6CC5612081" class="sect5">生成撤销脚本</h5>
                     <div>
                        <p>您可以使用Enterprise Manager Cloud Control生成撤消用户权限的脚本。</p>
                        <ol>
                           <li class="stepexpand"><span>如果启用了Oracle Database Vault，请确保您被授权为Oracle System Privilege和Role Management领域的所有者。</span><div>
                                 <p>在SQL * Plus中，已被授予<code class="codeph">DV_OWNER</code>角色的用户可以通过查询<code class="codeph">DBA_DV_REALM_AUTH</code>数据字典视图来检查授权。要授予用户授权，请使用<code class="codeph">DBMS_MACADM.ADD_AUTH_TO_REALM</code>过程。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在Enterprise Manager中，以已被授予<code class="codeph">CAPTURE_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份访问目标数据库主页。</span><div>
                                 <p>有关更多信息，请参见<a href="../admqs/getting-started-with-database-administration.html#ADMQS033" target="_blank"><span class="italic">Oracle Database 2 Day DBA</span></a> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>从“ <span class="bold">安全性”</span>菜单中，选择“ <span class="bold">权限分析”</span> 。</span></li>
                           <li class="stepexpand"><span>确保已生成所需的权限分析报告。</span></li>
                           <li class="stepexpand"><span>在“权限分析”页面的“ <span class="bold">操作”</span>菜单中，选择“ <span class="bold">撤消脚本”</span> 。</span></li>
                           <li class="stepexpand"><span>在“撤消脚本”页面上，单击“ <span class="bold">生成”</span> 。</span><div>
                                 <p>将显示“生成撤消脚本详细信息”向导。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在“脚本详细信息”页面中，执行以下操作：从“ <span class="uicontrol bold">策略名称”</span>菜单中选择需要为其准备撤消脚本的<span class="uicontrol bold">策略名称</span> 。</span></li>
                           <li class="stepexpand"><span>在“ <span class="uicontrol bold">脚本名称”</span>字段中，输入唯一名称，对于“ <span class="uicontrol bold">描述”</span> ，输入脚本的说明。</span><div>
                                 <p>例如，如果要撤消所有未使用的权限，请为所有未使用的权限和角色选择“ <span class="bold">全部”</span>选项，然后单击“ <span class="bold">下一步”</span> 。
                                 </p>
                                 <p>根据您的选择和可用权限，将撤消所有未使用的系统权限，对象权限和要撤消的角色。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>对于<span class="uicontrol bold">Grantee（用户/角色）</span> ，请选择“ <span class="uicontrol bold">全部”</span>或“ <span class="uicontrol bold">自定义”</span> 。</span></li>
                           <li class="stepexpand"><span>为“ <span class="uicontrol bold">未使用的系统权限”</span> ，“ <span class="uicontrol bold">未使用的对象权限</span> ”和“ <span class="uicontrol bold">未使用的角色”</span>设置选择“ <span class="uicontrol bold">全部”</span> ，“ <span class="uicontrol bold">无</span> ”或“ <span class="uicontrol bold">自定义</span> ”。</span></li>
                           <li class="stepexpand"><span>单击<span class="bold">下一步</span> 。</span><div>
                                 <p>显示的下一页取决于您选择的<span class="uicontrol bold">全部</span> ， <span class="uicontrol bold">无</span>或<span class="uicontrol bold">自定义</span> 。如果您选择了全部，则页面将显示权限列表。如果您选择“ <span class="uicontrol bold">无”</span> ，则会绕过该页面。如果选择“ <span class="uicontrol bold">自定义”</span> ，则可以单独选择要撤消的权限。出现的最后一页是Review页面。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>单击<span class="bold">保存</span> 。</span><div>
                                 <p>将出现“撤消脚本”页面。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在“撤消脚本”页面中，选择新创建的SQL脚本，然后单击“ <span class="bold">下载撤消脚本”</span>以下载此脚本，该脚本包含每个权限或角色的<code class="codeph">REVOKE</code> SQL语句。</span><div>
                                 <p>要查看脚本，请单击“ <span class="uicontrol bold">查看撤消脚本”</span>按钮。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>要返回“权限分析”页面，请单击“ <span class="uicontrol bold">返回”</span> 。</span></li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" title="您可以使用Cloud Control生成权限分析报告。">使用云控制生成权限分析报告</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-52659855-2B5E-4E93-80EE-174679594BE9" title="您可以根据权限分析报告的结果生成一个脚本，用于撤消或向用户重新授予权限。">使用Cloud Control生成撤消或重新创建脚本</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-80C2B380-C315-43BD-AC09-077FF7F4F09B" name="GUID-80C2B380-C315-43BD-AC09-077FF7F4F09B"></a><h5 id="DBSEG-GUID-80C2B380-C315-43BD-AC09-077FF7F4F09B" class="sect5">生成Regrant脚本</h5>
                     <div>
                        <p>您可以使用Enterprise Manager Cloud Control生成一个脚本，该脚本将重新授予已从用户撤消的权限。</p>
                        <ol>
                           <li class="stepexpand"><span>如果启用了Oracle Database Vault，请确保您被授权为Oracle System Privilege和Role Management领域的所有者。</span><div>
                                 <p>在SQL * Plus中，已被授予<code class="codeph">DV_OWNER</code>角色的用户可以通过查询<code class="codeph">DBA_DV_REALM_AUTH</code>数据字典视图来检查授权。要授予用户授权，请使用<code class="codeph">DBMS_MACADM.ADD_AUTH_TO_REALM</code>过程。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在Enterprise Manager中，以已被授予<code class="codeph">CAPTURE_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份访问目标数据库主页。</span><div>
                                 <p>有关更多信息，请参见<a href="../admqs/getting-started-with-database-administration.html#ADMQS033" target="_blank"><span class="italic">Oracle Database 2 Day DBA</span></a> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>从“ <span class="bold">安全性”</span>菜单中，选择“ <span class="bold">权限分析”</span> 。</span></li>
                           <li class="stepexpand"><span>确保已生成所需的报告。</span><div>
                                 <p>有关详细信息，请参阅<a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" title="您可以使用Cloud Control生成权限分析报告。">使用Cloud Control生成权限分析报告</a> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在“权限分析”页面中，选择撤消脚本所基于的策略。</span></li>
                           <li class="stepexpand"><span>从“ <span class="bold">操作”</span>菜单中，选择“ <span class="bold">撤消脚本”</span> 。</span></li>
                           <li class="stepexpand"><span>在“撤消脚本”页面中，选择先前创建的策略名称，然后单击“ <span class="bold">下载重新映射脚本”</span>以下载此脚本。</span><div>
                                 <p>您可以通过选择<span class="uicontrol bold">View Revoke Script</span>和<span class="uicontrol bold">View Regrant Script</span>按钮来<span class="uicontrol bold">查看</span>与策略关联的<span class="uicontrol bold">脚本</span> 。
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" title="您可以使用Cloud Control生成权限分析报告。">使用云控制生成权限分析报告</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-52659855-2B5E-4E93-80EE-174679594BE9" title="您可以根据权限分析报告的结果生成一个脚本，用于撤消或向用户重新授予权限。">使用Cloud Control生成撤消或重新创建脚本</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" name="GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13"></a><h3 id="DBSEG-GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" class="sect3">教程：使用Capture运行分析任何特权使用</h3>
               <div>
                  <p>本教程演示了如何创建捕获运行以分析<code class="codeph">READ ANY TABLE</code>系统特权的使用。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-E6A53756-A25B-4AA9-8CFA-A90E0B5009CF">第1步：创建用户帐户</a><br>您必须创建两个用户，一个用户创建策略，另一个用户将分析其权限。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-7D38155B-51F7-4FF9-B24D-1FBDF64F923A">第2步：创建并启用权限分析策略</a><br>用户<code class="codeph">pa_admin</code>必须创建并启用权限分析策略。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-5DAB3004-561B-424C-A473-71000980E578">第3步：使用READ ANY TABLE系统权限</a><br>用户<code class="codeph">app_user</code>使用<code class="codeph">READ ANY TABLE</code>系统特权。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-A7FF0521-F296-4821-84F1-3F4580E281A6">第4步：禁用权限分析策略</a><br>您必须先禁用该策略，然后才能生成捕获用户<code class="codeph">app_user</code>操作的<code class="codeph">app_user</code> 。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-B3D1C54B-9FFB-4376-B767-12A631E3F66D">第5步：生成并查看权限分析报告</a><br>禁用权限分析策略后，用户<code class="codeph">pa_admin</code>就可以生成并查看权限分析报告。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-CAFA7DFC-287E-4186-B475-811F5C611121">第6步：创建第二次捕获运行</a><br>接下来，您可以为<code class="codeph">ANY_priv_analysis_pol</code>权限分析策略创建第二个捕获运行。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-1FA9F206-75C2-4FC9-BA53-A17118A2C934">第7步：删除本教程的组件</a><br>如果不再需要，可以删除为本教程创建的组件。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="权限分析动态分析用户使用和不使用的权限和角色。">执行权限分析以查找权限使用</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-E6A53756-A25B-4AA9-8CFA-A90E0B5009CF" name="GUID-E6A53756-A25B-4AA9-8CFA-A90E0B5009CF"></a><h4 id="DBSEG-GUID-E6A53756-A25B-4AA9-8CFA-A90E0B5009CF" class="sect4">第1步：创建用户帐户</h4>
                  <div>
                     <p>您必须创建两个用户，一个用户创建策略，另一个用户将分析其权限。</p>
                     <ol>
                        <li class="stepexpand"><span>以具有<code class="codeph">CREATE USER</code>系统特权的用户身份登录数据库实例。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin输入密码： <span class="italic">密码</span>
</pre><p>在多租户环境中，您必须连接到相应的可插拔数据库（PDB）。</p>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin @hrpdb输入密码： <span class="italic">密码</span>
</pre><p>要查找可用的PDB，请查询<code class="codeph">DBA_PDBS</code>数据字典视图。要检查当前PDB，请运行<code class="codeph">show con_name</code>命令。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>创建以下用户：</span><div><pre class="oac_no_warn" dir="ltr">CREATE USER pa_admin IDENTIFIED BY <span class="italic">password</span> ; CREATE USER app_user IDENTIFIED BY <span class="italic">password</span> ;</pre></div>
                        </li>
                        <li class="stepexpand"><span>以具有为其他用户授予角色和系统权限的权限的用户身份进行连接，并且已授予谁为Oracle系统权限和角色管理域授予所有者权限。（默认情况下，用户<code class="codeph">SYS</code>具有这些权限。）</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT dba_psmith <span class="italic">- 或者，CONNECT dba_psmith @hrpdb</span>输入密码： <span class="italic">password</span>
</pre><p>在SQL * Plus中，已被授予<code class="codeph">DV_OWNER</code>角色的用户可以通过查询<code class="codeph">DBA_DV_REALM_AUTH</code>数据字典视图来检查授权。要授予用户授权，请使用<code class="codeph">DBMS_MACADM.ADD_AUTH_TO_REALM</code>过程。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>为用户授予以下角色和权限。</span><div><pre class="oac_no_warn" dir="ltr">GRANT CREATE SESSION，CAPTURE_ADMIN TO pa_admin;授予创建会话，为app_user读取任何表格;</pre><p>用户<code class="codeph">pa_admin</code>将创建权限分析策略，该策略将分析用户<code class="codeph">app_user</code>将执行的<code class="codeph">READ ANY TABLE</code>查询。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="本教程演示了如何创建捕获运行以分析READ ANY TABLE系统特权的使用。">教程：使用Capture运行分析任何特权使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-7D38155B-51F7-4FF9-B24D-1FBDF64F923A" name="GUID-7D38155B-51F7-4FF9-B24D-1FBDF64F923A"></a><h4 id="DBSEG-GUID-7D38155B-51F7-4FF9-B24D-1FBDF64F923A" class="sect4">第2步：创建并启用权限分析策略</h4>
                  <div>
                     <p>用户<code class="codeph">pa_admin</code>必须创建并启用权限分析策略。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>以用户<code class="codeph">pa_admin</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT pa_admin <span class="italic">- 或者，CONNECT pa_admin @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建以下权限分析策略：</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE（name =&gt;'ANY_priv_analysis_pol'，description =&gt;'Analyses system privilege use'，type =&gt; DBMS_PRIVILEGE_CAPTURE.G_CONTEXT，condition =&gt;'SYS_CONTEXT（''USERENV''，''SESSION_USER''）='' APP_USER '''）;结束; /</pre><p>在这个例子中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">type</code>指定由<code class="codeph">condition</code>参数定义的捕获条件的类型，如下所述。在此策略中，类型是基于上下文的条件。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">condition</code>使用布尔表达式指定条件，该布尔表达式必须求值为<code class="codeph">TRUE</code>才能使策略生效。在这种情况下，条件检查会话用户是否为<code class="codeph">app_user</code> 。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>启用策略并为其创建捕获运行。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE（name =&gt;'ANY_priv_analysis_pol'，run_name =&gt;'ANY_priv_pol_run_1'）;结束; /</pre><p>此时，策略已准备好开始记录用户<code class="codeph">app_user</code>的操作。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="本教程演示了如何创建捕获运行以分析READ ANY TABLE系统特权的使用。">教程：使用Capture运行分析任何特权使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-5DAB3004-561B-424C-A473-71000980E578" name="GUID-5DAB3004-561B-424C-A473-71000980E578"></a><h4 id="DBSEG-GUID-5DAB3004-561B-424C-A473-71000980E578" class="sect4">第3步：使用READ ANY TABLE系统权限</h4>
                  <div>
                     <p>用户<code class="codeph">app_user</code>使用<code class="codeph">READ ANY TABLE</code>系统特权。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>以用户<code class="codeph">app_user</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT app_user <span class="italic">- 或者，CONNECT app_user @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>查询<code class="codeph">HR.EMPLOYEES</code>表。</span><div><pre class="oac_no_warn" dir="ltr">选择FIRST_NAME，LAST_NAME，来自HR.EMPLOYEES的SALARY&gt; SALER&gt; 12000 OR SALARY DESC; FIRST_NAME LAST_NAME SALARY -------------------- -------------------------  - -------- Steven King 24000 Neena Kochhar 17000 Lex De Haan 17000 John Russell 14000 Karen Partners 13500 Michael Hartstein 13000 Shelley Higgins 12008 Nancy Greenberg 12008</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="本教程演示了如何创建捕获运行以分析READ ANY TABLE系统特权的使用。">教程：使用Capture运行分析任何特权使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-A7FF0521-F296-4821-84F1-3F4580E281A6" name="GUID-A7FF0521-F296-4821-84F1-3F4580E281A6"></a><h4 id="DBSEG-GUID-A7FF0521-F296-4821-84F1-3F4580E281A6" class="sect4">第4步：禁用权限分析策略</h4>
                  <div>
                     <p>您必须先禁用该策略，然后才能生成捕获用户<code class="codeph">app_user</code>操作的<code class="codeph">app_user</code> 。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>以用户<code class="codeph">pa_admin</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT pa_admin <span class="italic">- 或者，CONNECT pa_admin @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>禁用<code class="codeph">ANY_priv_analysis_pol</code>权限策略。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE（'ANY_priv_analysis_pol'）;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="本教程演示了如何创建捕获运行以分析READ ANY TABLE系统特权的使用。">教程：使用Capture运行分析任何特权使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-B3D1C54B-9FFB-4376-B767-12A631E3F66D" name="GUID-B3D1C54B-9FFB-4376-B767-12A631E3F66D"></a><h4 id="DBSEG-GUID-B3D1C54B-9FFB-4376-B767-12A631E3F66D" class="sect4">第5步：生成并查看权限分析报告</h4>
                  <div>
                     <p>禁用权限分析策略后，用户<code class="codeph">pa_admin</code>就可以生成并查看权限分析报告。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>作为用户<code class="codeph">pa_admin</code> ，生成权限分析结果。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT（name =&gt;'ANY_priv_analysis_pol'，run_name =&gt;'ANY_priv_pol_run_1'）;结束; /</pre><p>生成的结果存储在特权分析数据字典视图中。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>输入以下命令以格式化数据字典视图输出：</span><div><pre class="oac_no_warn" dir="ltr">col用户名格式a10 col sys_priv格式a16 col object_owner格式a13 col object_name格式a23 col run_name格式a27</pre></div>
                        </li>
                        <li class="stepexpand"><span>在特权分析期间，查找<code class="codeph">app_user</code>使用的系统特权以及他使用它们的对象。</span><div><pre class="oac_no_warn" dir="ltr">SELECT SYS_PRIV，OBJECT_OWNER，OBJECT_NAME，RUN_NAME FROM DBA_USED_PRIVS WHERE USERNAME ='APP_USER';</pre><p>输出类似于以下内容。第一行显示<code class="codeph">app_user</code>在<code class="codeph">HR.EMPLOYEES</code>表上使用了<code class="codeph">READ ANY TABLE</code>特权。
                              </p><pre class="oac_no_warn" dir="ltr">SYS_PRIV OBJECT_OWNER OBJECT_NAME RUN_NAME ---------------- ------------- ----------------- ------ ------------------ SYSTEM PRODUCT_PRIVS ANY_PRIV_POL_RUN_1 SYS DUAL ANY_PRIV_POL_RUN_1 SYS DUAL ANY_PRIV_POL_RUN_1创建会话ANY_PRIV_POL_RUN_1 SYS DBMS_APPLICATION_INFO ANY_PRIV_POL_RUN_1读取任何表HR人员ANY_PRIV_POL_RUN_1</pre></div>
                        </li>
                     </ol>
                     <div class="section">在此阶段，即使您将来创建其他捕获运行，权限分析结果仍可在权限分析数据字典视图中使用。</div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="本教程演示了如何创建捕获运行以分析READ ANY TABLE系统特权的使用。">教程：使用Capture运行分析任何特权使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-CAFA7DFC-287E-4186-B475-811F5C611121" name="GUID-CAFA7DFC-287E-4186-B475-811F5C611121"></a><h4 id="DBSEG-GUID-CAFA7DFC-287E-4186-B475-811F5C611121" class="sect4">第6步：创建第二次捕获运行</h4>
                  <div>
                     <p>接下来，您可以为<code class="codeph">ANY_priv_analysis_pol</code>权限分析策略创建第二个捕获运行。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>作为用户<code class="codeph">pa_admin</code> ，启用<code class="codeph">ANY_priv_analysis_pol</code>权限分析策略以使用捕获运行<code class="codeph">ANY_priv_pol_run_1</code> 。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE（name =&gt;'ANY_priv_analysis_pol'，run_name =&gt;'ANY_priv_pol_run_2'）;结束; /</pre></div>
                        </li>
                        <li class="stepexpand"><span>以用户<code class="codeph">app_user</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT app_user <span class="italic">- 或者，CONNECT app_user @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>查询<code class="codeph">HR.JOBS</code>表。</span><div><pre class="oac_no_warn" dir="ltr">SELECT MAX_SALARY FROM HR.JOBS WHERE MAX_SALARY&gt; 20000;</pre></div>
                        </li>
                        <li class="stepexpand"><span>以用户<code class="codeph">pa_admin</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT pa_admin <span class="italic">- 或者，CONNECT pa_admin @hrpdb</span>输入密码： <span class="italic">password</span></pre></div>
                        </li>
                        <li class="stepexpand"><span>禁用<code class="codeph">ANY_priv_analysis_pol</code>权限策略。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE（'ANY_priv_analysis_pol'）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>生成第二个权限分析报告。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT（name =&gt;'ANY_priv_analysis_pol'，run_name =&gt;'ANY_priv_pol_run_2'）;结束; /</pre></div>
                        </li>
                        <li class="stepexpand"><span>在特权分析期间，查找<code class="codeph">app_user</code>使用的系统特权以及他使用它们的对象。</span><div><pre class="oac_no_warn" dir="ltr">SELECT SYS_PRIV，OBJECT_OWNER，OBJECT_NAME，RUN_NAME FROM DBA_USED_PRIVS WHERE USERNAME ='APP_USER'ORDER BY RUN_NAME;</pre><p>出现类似于以下的输出，现在显示用户<code class="codeph">pa_admin</code>创建的两个捕获运行的结果。
                              </p><pre class="oac_no_warn" dir="ltr">SYS_PRIV OBJECT_OWNER OBJECT_NAME RUN_NAME ---------------- ------------- ----------------- ------ ----------------------阅读任何表HR人员ANY_PRIV_POL_RUN_1 SYS DUAL ANY_PRIV_POL_RUN_1创建会话ANY_PRIV_POL_RUN_1 SYS DUAL ANY_PRIV_POL_RUN_1 SYSTEM PRODUCT_PRIVS ANY_PRIV_POL_RUN_1 SYS DBMS_APPLICATION_INFO ANY_PRIV_POL_RUN_1 SYS DUAL ANY_PRIV_POL_RUN_2 SYS DBMS_APPLICATION_INFO ANY_PRIV_POL_RUN_2 SYSTEM PRODUCT_PRIVS ANY_PRIV_POL_RUN_2 SYS DUAL ANY_PRIV_POL_RUN_2 READ ANY TABLE HR JOBS ANY_PRIV_POL_RUN_2</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="本教程演示了如何创建捕获运行以分析READ ANY TABLE系统特权的使用。">教程：使用Capture运行分析任何特权使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-1FA9F206-75C2-4FC9-BA53-A17118A2C934" name="GUID-1FA9F206-75C2-4FC9-BA53-A17118A2C934"></a><h4 id="DBSEG-GUID-1FA9F206-75C2-4FC9-BA53-A17118A2C934" class="sect4">第7步：删除本教程的组件</h4>
                  <div>
                     <p>如果不再需要，可以删除为本教程创建的组件。</p>
                     <ol>
                        <li class="stepexpand"><span>作为用户<code class="codeph">pa_admin</code> ，删除<code class="codeph">ANY_priv_analysis_pol</code>权限分析策略及其关联的捕获运行。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DROP_CAPTURE（'ANY_priv_analysis_pol'）;</pre><p>运行<code class="codeph">DBMS_PRIVILEGE_CAPTURE.DROP_CAPTURE</code>过程时，将自动删除与此策略关联的任何捕获运行。
                              </p>
                              <p>即使在接下来的步骤中您将删除<code class="codeph">pa_admin</code>用户（包括在此用户的架构中创建的任何对象），您必须手动删除<code class="codeph">ANY_priv_analysis_pol</code>权限分析策略，因为此对象驻留在<code class="codeph">SYS</code>架构中。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>以创建用户帐户的用户身份进行连接。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT sec_admin <span class="italic">- 或者，CONNECT sec_admin @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>删除用户<code class="codeph">pa_admin</code>和<code class="codeph">app_user</code> 。</span><div><pre class="oac_no_warn" dir="ltr">DROP USER pa_admin; DROP USER app_user;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="本教程演示了如何创建捕获运行以分析READ ANY TABLE系统特权的使用。">教程：使用Capture运行分析任何特权使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" name="GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E"></a><h3 id="DBSEG-GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" class="sect3">教程：分析具有DBA角色的用户的权限使用</h3>
               <div>
                  <p>本教程演示如何分析具有<code class="codeph">DBA</code>角色的用户的权限使用并执行数据库调整操作。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-63EFFFC3-A68E-41B1-95BD-7147A0F53E4A">第1步：创建用户帐户</a><br>您必须创建两个用户，一个用于创建权限分析策略，另一个用户将分析其权限使用。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-8CEAD3FE-9F33-4E2A-9196-31DBA3E59AD6">第2步：创建并启用权限分析策略</a><br>用户<code class="codeph">pa_admin</code>必须创建并启用权限分析策略。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-5ED78334-FB5B-4A37-932D-9D5C5CBD2ED4">第3步：执行数据库调整操作</a><br>用户<code class="codeph">tjones</code>使用<code class="codeph">DBA</code>角色执行数据库调整操作。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-11D7DE54-BCAC-49F7-A92D-FB0F8B9C7A6A">第4步：禁用权限分析策略</a><br>您必须先禁用该策略，然后才能生成捕获用户<code class="codeph">tjones</code>操作的<code class="codeph">tjones</code> 。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-3BB21726-7D0B-4853-8C44-8A1C9BD8E4B9">第5步：生成和查看权限分析报告</a><br>禁用权限分析策略后，用户<code class="codeph">pa_admin</code>可以生成和查看权限分析报告。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-7B824C23-9990-418E-AD33-0D92702EBD3D">第6步：删除本教程的组件</a><br>如果不再需要，可以删除为本教程创建的组件。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="权限分析动态分析用户使用和不使用的权限和角色。">执行权限分析以查找权限使用</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-63EFFFC3-A68E-41B1-95BD-7147A0F53E4A" name="GUID-63EFFFC3-A68E-41B1-95BD-7147A0F53E4A"></a><h4 id="DBSEG-GUID-63EFFFC3-A68E-41B1-95BD-7147A0F53E4A" class="sect4">第1步：创建用户帐户</h4>
                  <div>
                     <p>您必须创建两个用户，一个用于创建权限分析策略，另一个用户将分析其权限使用。</p>
                     <ol>
                        <li class="stepexpand"><span>以具有<code class="codeph">CREATE USER</code>系统特权的用户身份登录数据库实例。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin输入密码： <span class="italic">密码</span>
</pre><p>在多租户环境中，您必须登录到相应的可插拔数据库（PDB）。</p>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin @hrpdb输入密码： <span class="italic">密码</span>
</pre><p>要查找可用的PDB，请查询<code class="codeph">DBA_PDBS</code>数据字典视图。要检查当前PDB，请运行<code class="codeph">show con_name</code>命令。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>创建以下用户：</span><div><pre class="oac_no_warn" dir="ltr">CREATE USER pa_admin IDENTIFIED BY <span class="italic">password</span> ; CREATE USER tjones IDENTIFIED BY <span class="italic">password</span> ;</pre></div>
                        </li>
                        <li class="stepexpand"><span>以具有为其他用户授予角色和系统权限的权限的用户身份进行连接，并且已授予谁为Oracle系统权限和角色管理域授予所有者权限。（默认情况下，用户<code class="codeph">SYS</code>具有这些权限。）</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT dba_psmith <span class="italic">- 或者，CONNECT dba_psmith @hrpdb</span>输入密码： <span class="italic">password</span>
</pre><p>在SQL * Plus中，已被授予<code class="codeph">DV_OWNER</code>角色的用户可以通过查询<code class="codeph">DBA_DV_REALM_AUTH</code>数据字典视图来检查授权。要授予用户授权，请使用<code class="codeph">DBMS_MACADM.ADD_AUTH_TO_REALM</code>过程。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>为用户授予以下角色和权限。</span><div><pre class="oac_no_warn" dir="ltr">GRANT CREATE SESSION，CAPTURE_ADMIN TO pa_admin; GRANT CREATE SESSION，DBA to tjones;</pre><p>用户<code class="codeph">pa_admin</code>将创建权限分析策略，该策略将分析用户<code class="codeph">tjones</code>将执行的数据库调整操作。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="本教程演示如何分析具有DBA角色的用户的权限使用并执行数据库调整操作。">教程：分析具有DBA角色的用户的权限使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-8CEAD3FE-9F33-4E2A-9196-31DBA3E59AD6" name="GUID-8CEAD3FE-9F33-4E2A-9196-31DBA3E59AD6"></a><h4 id="DBSEG-GUID-8CEAD3FE-9F33-4E2A-9196-31DBA3E59AD6" class="sect4">第2步：创建并启用权限分析策略</h4>
                  <div>
                     <p>用户<code class="codeph">pa_admin</code>必须创建并启用权限分析策略。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>以用户<code class="codeph">pa_admin</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT pa_admin <span class="italic">- 或者，CONNECT pa_admin @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建以下权限分析策略：</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE（name =&gt;'dba_tuning_priv_analysis_pol'，description =&gt;'Analyses DBA tuning privilege use'，type =&gt; DBMS_PRIVILEGE_CAPTURE.G_CONTEXT，condition =&gt;'SYS_CONTEXT（''USERENV''，''SESSION_USER''）=' 'TJONES' ''）;结束; /</pre><p>在这个例子中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">type</code>指定由<code class="codeph">condition</code>参数定义的捕获条件的类型，如下所述。在此策略中，类型是基于上下文的条件。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">condition</code>使用布尔表达式指定条件，该布尔表达式必须求值为<code class="codeph">TRUE</code>才能使策略生效。在这种情况下，条件检查会话用户是否为<code class="codeph">tjones</code> 。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>启用该策略。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE（'dba_tuning_priv_analysis_pol'）;</pre><p>此时，策略已准备好开始记录用户<code class="codeph">tjones</code>的操作。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="本教程演示如何分析具有DBA角色的用户的权限使用并执行数据库调整操作。">教程：分析具有DBA角色的用户的权限使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-5ED78334-FB5B-4A37-932D-9D5C5CBD2ED4" name="GUID-5ED78334-FB5B-4A37-932D-9D5C5CBD2ED4"></a><h4 id="DBSEG-GUID-5ED78334-FB5B-4A37-932D-9D5C5CBD2ED4" class="sect4">第3步：执行数据库调整操作</h4>
                  <div>
                     <p>用户<code class="codeph">tjones</code>使用<code class="codeph">DBA</code>角色执行数据库调整操作。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>以用户<code class="codeph">tjones</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT tjones <span class="italic">- 或者，CONNECT tjones @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>运行以下脚本以创建<code class="codeph">PLAN_TABLE</code>表。</span><div><pre class="oac_no_warn" dir="ltr">@ $ ORACLE_HOME / RDBMS /管理/ utlxplan.sql</pre><p>此脚本的位置可能因操作系统而异。此脚本在<code class="codeph">tjones</code>模式中创建<code class="codeph">PLAN_TABLE</code>表。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在<code class="codeph">HR.EMPLOYEES</code>表上运行以下<code class="codeph">EXPLAIN PLAN</code> SQL语句：</span><div><pre class="oac_no_warn" dir="ltr">EXPLAIN PLAN SET STATEMENT_ID ='在东京提升'INTO PLAN_TABLE用于更新HR.EMPLOYEES SET SALARY = SALARY * 1.10在哪里DEPARTMENT_ID =（从HR.DEPARTMENTS中选择DEPARTMENT_ID，其中LOCATION_ID = 110）;</pre><p>接下来，用户<code class="codeph">tjones</code>将分析<code class="codeph">HR.EMPLOYEES</code>表。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>运行以下任一脚本以创建<code class="codeph">CHAINED_ROWS</code>表</span><div><pre class="oac_no_warn" dir="ltr">@ $ ORACLE_HOME / RDBMS /管理/ UTLCHAIN.SQL</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">@ $ ORACLE_HOME / RDBMS /管理/ utlchn1.sql</pre></div>
                        </li>
                        <li class="stepexpand"><span>在<code class="codeph">HR.EMPLOYEES</code>表上运行<code class="codeph">ANALYZE TABLE</code>语句。</span><div><pre class="oac_no_warn" dir="ltr">分析表HR.EMPLOYEES列出链接到CHAINED_ROWS;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="本教程演示如何分析具有DBA角色的用户的权限使用并执行数据库调整操作。">教程：分析具有DBA角色的用户的权限使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-11D7DE54-BCAC-49F7-A92D-FB0F8B9C7A6A" name="GUID-11D7DE54-BCAC-49F7-A92D-FB0F8B9C7A6A"></a><h4 id="DBSEG-GUID-11D7DE54-BCAC-49F7-A92D-FB0F8B9C7A6A" class="sect4">第4步：禁用权限分析策略</h4>
                  <div>
                     <p>您必须先禁用该策略，然后才能生成捕获用户<code class="codeph">tjones</code>操作的<code class="codeph">tjones</code> 。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>以用户<code class="codeph">pa_admin</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT pa_admin <span class="italic">- 或者，CONNECT pa_admin @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>禁用<code class="codeph">dba_tuning_priv_analysis_pol</code>权限策略。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE（'dba_tuning_priv_analysis_pol'）;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="本教程演示如何分析具有DBA角色的用户的权限使用并执行数据库调整操作。">教程：分析具有DBA角色的用户的权限使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-3BB21726-7D0B-4853-8C44-8A1C9BD8E4B9" name="GUID-3BB21726-7D0B-4853-8C44-8A1C9BD8E4B9"></a><h4 id="DBSEG-GUID-3BB21726-7D0B-4853-8C44-8A1C9BD8E4B9" class="sect4">第5步：生成和查看权限分析报告</h4>
                  <div>
                     <p>禁用权限分析策略后，用户<code class="codeph">pa_admin</code>可以生成和查看权限分析报告。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>作为用户<code class="codeph">pa_admin</code> ，生成权限分析结果。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT（'dba_tuning_priv_analysis_pol'）;</pre><p>生成的结果存储在特权分析数据字典视图中。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>输入以下命令以格式化数据字典视图输出：</span><div><pre class="oac_no_warn" dir="ltr">col用户名格式a8 col sys_priv格式a18 col used_role格式a20 col路径格式a150 col obj_priv格式a10 col object_owner格式a10 col object_name格式a10 col object_type格式a10</pre></div>
                        </li>
                        <li class="stepexpand"><span>查找用户<code class="codeph">tjones</code>在权限分析期间使用的系统权限和角色。</span><div><pre class="oac_no_warn" dir="ltr">SELECT USERNAME，SYS_PRIV，USED_ROLE，PATH FROM DBA_USED_SYSPRIVS_PATH WHERE USERNAME ='TJONES'Order 1,2,3;</pre><p>输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">USERNAME SYS_PRIV USED_ROLE -------- ------------------ -------------------- PATH -------------------------------------------------- ----------------------------- TJONES分析任何IMP_FULL_DATABASE GRANT_PATH（'TJONES'，'DBA'）TJONES分析任何IMP_FULL_DATABASE GRANT_PATH（' TJONES'，'DBA'，'IMP_FULL_DATABASE'）TJONES分析任何IMP_FULL_DATABASE GRANT_PATH（'TJONES'，'DBA'，'DATAPUMP_IMP_FULL_DATABASE'，'IMP_FULL_DATABASE'）......</pre><pre class="oac_no_warn" dir="ltr"></pre></div>
                        </li>
                        <li class="stepexpand"><span>查找用户<code class="codeph">tjones</code>在权限分析期间使用的对象权限和角色。</span><div><pre class="oac_no_warn" dir="ltr">col用户名格式a9 col used_role格式a10 col object_name格式a22 col object_type格式a12 SELECT USERNAME，OBJ_PRIV，USED_ROLE，OBJECT_OWNER，OBJECT_NAME，OBJECT_TYPE FROM DBA_USED_OBJPRIVS WHERE USERNAME ='TJONES'ORDER BY 1,2,3,4,5,6;</pre><p>输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">USERNAME OBJ_PRIV USED_ROLE OBJECT_OWN OBJECT_NAME OBJECT_TYPE --------- ---------- ---------- ---------- ----- ----------------- ------------ TJONES EXECUTE PUBLIC SYS DBMS_APPLICATION_INFO PACKAGE TJONES SELECT PUBLIC SYS DUAL TABLE TJONES SELECT PUBLIC SYS DUAL TABLE TJONES SELECT PUBLIC SYSTEM PRODUCT_PRIVS VIEW ...
</pre></div>
                        </li>
                        <li class="stepexpand"><span>查找用户<code class="codeph">tjones</code>的未使用系统权限。</span><div><pre class="oac_no_warn" dir="ltr">col用户名格式a9 col sys_priv格式a35 SELECT USERNAME，SYS_PRIV FROM DBA_UNUSED_SYSPRIVS WHERE USERNAME ='TJONES'Order 1,2; USERNAME SYS_PRIV -------- ------------------------------ TJONES管理任何SQL TUNING SET TJONES ADMINISTER DATABASE TRIGGER TJONES管理员资源管理器TJONES管理员SQL调整设置TJONES改变任何组件TJONES COMMIT REFRESH ...</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="本教程演示如何分析具有DBA角色的用户的权限使用并执行数据库调整操作。">教程：分析具有DBA角色的用户的权限使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-7B824C23-9990-418E-AD33-0D92702EBD3D" name="GUID-7B824C23-9990-418E-AD33-0D92702EBD3D"></a><h4 id="DBSEG-GUID-7B824C23-9990-418E-AD33-0D92702EBD3D" class="sect4">第6步：删除本教程的组件</h4>
                  <div>
                     <p>如果不再需要，可以删除为本教程创建的组件。</p>
                     <ol>
                        <li class="stepexpand"><span>作为用户<code class="codeph">pa_admin</code> ，删除<code class="codeph">dba_tuning_priv_analysis_pol</code>权限分析策略。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DROP_CAPTURE（'dba_tuning_priv_analysis_pol'）;</pre><p>即使在接下来的步骤中您将删除<code class="codeph">pa_admin</code>用户（包括在此用户的架构中创建的任何对象），您必须手动删除<code class="codeph">dba_tuning_priv_analysis_pol</code>权限分析策略，因为此对象驻留在<code class="codeph">SYS</code>架构中。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>以创建用户帐户的用户身份进行连接。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT sec_admin <span class="italic">- 或者，CONNECT sec_admin @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>删除用户<code class="codeph">pa_admin</code>和<code class="codeph">tjones</code> 。</span><div><pre class="oac_no_warn" dir="ltr">DROP USER pa_admin; DROP USER tjones CASCADE;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="本教程演示如何分析具有DBA角色的用户的权限使用并执行数据库调整操作。">教程：分析具有DBA角色的用户的权限使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112" name="GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112"></a><h3 id="DBSEG-GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112" class="sect3">权限分析策略和报告数据字典视图</h3>
               <div>
                  <p>Oracle数据库提供数据字典视图，显示有关已分析权限的信息。</p>
                  <div class="section">
                     <p><a href="performing-privilege-analysis-find-privilege-use.html#GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112__CACIIEGE" title="权限分析数据字典视图">表5-1</a>列出了这些数据字典视图。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112__CACIIEGE">
                     <p class="titleintable">表5-1显示权限分析信息的数据字典视图</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="显示权限分析信息的数据字典视图" width="100%" border="1" summary="Privilege Analysis Data Dictionary Views" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="46%" id="d56845e8387">视图</th>
                              <th align="left" valign="bottom" width="54%" id="d56845e8390">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8395" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_PRIV_CAPTURES</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8395 d56845e8390 ">
                                 <p>列出有关现有权限分析策略的信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8403" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_PRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8403 d56845e8390 ">
                                 <p>列出已用于报告的权限分析策略的权限和捕获运行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8411" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_GRANTS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8411 d56845e8390 ">
                                 <p>列出尚未使用的权限授予</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8419" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_PRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8419 d56845e8390 ">
                                 <p>列出尚未用于报告的权限分析策略的权限和捕获运行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8427" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_OBJPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8427 d56845e8390 ">
                                 <p>列出已用于报告的权限分析策略的对象权限和捕获运行。它不包括对象授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8435" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_OBJPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8435 d56845e8390 ">
                                 <p>列出对象权限并捕获尚未用于报告的权限分析策略的运行。它不包括对象权限授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8443" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_OBJPRIVS_PATH</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8443 d56845e8390 ">
                                 <p>列出已用于报告的权限分析策略的对象权限和捕获运行。它包括对象权限授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8451" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_OBJPRIVS_PATH</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8451 d56845e8390 ">
                                 <p>列出对象权限并捕获尚未用于报告的权限分析策略的运行。它包括对象权限授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8459" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_SYSPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8459 d56845e8390 ">
                                 <p>列出系统特权并捕获已用于报告的特权分析策略的运行。它不包括系统特权授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8467" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_SYSPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8467 d56845e8390 ">
                                 <p>列出系统权限并捕获尚未用于报告的权限分析策略的运行。它不包括系统特权授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8475" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_SYSPRIVS_PATH</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8475 d56845e8390 ">
                                 <p>列出系统特权并捕获已用于报告的特权分析策略的运行。它包括系统特权授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8484" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_SYSPRIVS_PATH</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8484 d56845e8390 ">
                                 <p>列出系统权限并捕获尚未用于报告的权限分析策略的运行。它包括系统特权授予路径</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8492" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_PUBPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8492 d56845e8390 ">
                                 <p>列出已用于报告的权限分析策略的<code class="codeph">PUBLIC</code>角色的所有权限和捕获运行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8503" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_USERPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8503 d56845e8390 ">
                                 <p>列出用户权限并捕获已用于报告的权限分析策略的运行。它不包括用户权限授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8511" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_USERPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8511 d56845e8390 ">
                                 <p>列出用户权限并捕获尚未用于报告的权限分析策略的运行。它不包括用户权限授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8519" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_USERPRIVS_PATH</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8519 d56845e8390 ">
                                 <p>列出用户权限并捕获已用于报告的权限分析策略的运行。它包括用户权限授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8528" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_USERPRIVS_PATH</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8528 d56845e8390 ">
                                 <p>列出尚未用于报告的权限分析策略的权限和捕获运行。它包括用户权限授予路径。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../refrn/static-data-dictionary-views.html#REFRN-GUID-8865F65B-EF6D-44A5-B0A1-3179EFF0C36A" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="权限分析动态分析用户使用和不使用的权限和角色。">执行权限分析以查找权限使用</a></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>