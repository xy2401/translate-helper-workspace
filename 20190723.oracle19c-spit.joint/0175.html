<html id="01662.CTX_REPORT-package.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>CTX_REPORT包</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="text-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:47:23-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96278-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="CTX_QUERY-package.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CTX_THES-package.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Reference"></meta>
    <meta name="dcterms.isVersionOf" content="CCREF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CTX_QUERY-package.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CTX_THES-package.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CTX_REPORT包</li>
            </ol>
            <a id="GUID-8750E658-F568-4B17-B78B-0F71848A1C63" name="GUID-8750E658-F568-4B17-B78B-0F71848A1C63"></a><a id="CCREF1100"></a>
            
            <h2 id="CCREF-GUID-8750E658-F568-4B17-B78B-0F71848A1C63" class="sect2"><span class="enumeration_chapter">13</span> CTX_REPORT包</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何使用<code class="codeph">CTX_REPORT</code>包创建索引和查询报告。这些报告可以帮助您解决问题或微调您的应用程序。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-F906F875-B2FC-4611-AECF-3CF71688C935">CTX_REPORT中的过程描述</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-3E1661F1-B3CC-4924-9183-99286F6B6D7F">使用功能版本</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-21915193-473D-4FE8-B738-034813D325F6">DESCRIBE_INDEX</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D">DESCRIBE_POLICY</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97">CREATE_INDEX_SCRIPT</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-C515B497-D252-40C2-8140-336C0CCE9B8B">CREATE_POLICY_SCRIPT</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18">INDEX_SIZE</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1">INDEX_STATS</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-AFD54A2E-90C8-42F8-9607-AC517428056D">QUERY_LOG_SUMMARY</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3">TOKEN_INFO</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE">TOKEN_TYPE</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-06C55318-69A1-499E-B5C8-D7FC163A832C">VALIDATE_INDEX</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-8750E658-F568-4B17-B78B-0F71848A1C63__GUID-7C2A5B08-20D4-46D0-A997-F88ADD5757C4">
                  <p class="notep1">注意：</p>
                  <p><code class="codeph">CTX_REPORT</code>包中的API不支持以架构或所有者名称为前缀的标识符。
                  </p>
               </div>
               <div class="infoboxnotealso" id="GUID-8750E658-F568-4B17-B78B-0F71848A1C63__GUID-06412EF9-6158-4959-92C5-9C4B632E5D8B">
                  <p class="notep1">也可以看看：</p>
                  <p><a href="../ccapp/administering-oracle-text.html#CCAPP1000" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a> ，概述<code class="codeph">CTX_REPORT</code>包，以及如何使用本章中介绍的各种过程</p>
               </div>
            </div><a id="CCREF2139"></a><div class="props_rev_3"><a id="GUID-F906F875-B2FC-4611-AECF-3CF71688C935" name="GUID-F906F875-B2FC-4611-AECF-3CF71688C935"></a><h3 id="CCREF-GUID-F906F875-B2FC-4611-AECF-3CF71688C935" class="sect3"><span class="enumeration_section">13.1</span> CTX_REPORT中的过程描述</h3>
               <div>
                  <p><code class="codeph">CTX_REPORT</code>包中包含以下过程：</p>
                  <div class="tblformal" id="GUID-F906F875-B2FC-4611-AECF-3CF71688C935__GUID-2F9F4412-ED07-4BE6-938F-67D19EAC3C19">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes CTX_REPORT Procedures." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d119504e226">名称</th>
                              <th align="left" valign="bottom" width="65%" id="d119504e230">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e235" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-21915193-473D-4FE8-B738-034813D325F6">DESCRIBE_INDEX</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e235 d119504e230 ">
                                 <p>创建描述索引的报告。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e244" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D">DESCRIBE_POLICY</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e244 d119504e230 ">
                                 <p>创建描述策略的报告。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e253" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97">CREATE_INDEX_SCRIPT</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e253 d119504e230 ">
                                 <p>创建SQL * Plus脚本以复制指定的索引。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e262" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-C515B497-D252-40C2-8140-336C0CCE9B8B">CREATE_POLICY_SCRIPT</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e262 d119504e230 ">
                                 <p>创建SQL * Plus脚本以复制指定的策略。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e271" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18">INDEX_SIZE</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e271 d119504e230 ">
                                 <p>创建报告以显示索引的内部对象，其表空间和已用大小。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e280" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1">INDEX_STATS</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e280 d119504e230 ">
                                 <p>创建报告以显示索引的各种统计信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e289" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-AFD54A2E-90C8-42F8-9607-AC517428056D">QUERY_LOG_SUMMARY</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e289 d119504e230 ">
                                 <p>创建显示查询统计信息的报告</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e298" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3">TOKEN_INFO</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e298 d119504e230 ">
                                 <p>创建一个报告，显示已解码的令牌信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e307" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE">TOKEN_TYPE</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e307 d119504e230 ">
                                 <p>转换名称并返回数字标记类型。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e316" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-06C55318-69A1-499E-B5C8-D7FC163A832C">VALIDATE_INDEX</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e316 d119504e230 ">
                                 <p>检查索引损坏并找到发现的问题的报告。主要与Oracle Support一起使用。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CCREF2140"></a><div class="props_rev_3"><a id="GUID-3E1661F1-B3CC-4924-9183-99286F6B6D7F" name="GUID-3E1661F1-B3CC-4924-9183-99286F6B6D7F"></a><h3 id="CCREF-GUID-3E1661F1-B3CC-4924-9183-99286F6B6D7F" class="sect3"><span class="enumeration_section">13.2</span>使用功能版本</h3>
               <div>
                  <p><code class="codeph">CTX_REPORT</code>包中的某些过程具有函数版本。您可以按如下方式调用这些函数：</p><pre class="oac_no_warn" dir="ltr">从双重中选择ctx_report.describe_index（'MYINDEX'）;</pre><p>在SQL * Plus中，要生成要发送给支持的输出文件，您可以执行以下操作：</p><pre class="oac_no_warn" dir="ltr">设置长64000设置页面0设置标题关闭设置反馈关闭假脱机输出文件从双重选择ctx_report.describe_index（'MYINDEX'）;假脱机</pre></div>
            </div><a id="CCREF2141"></a><div class="props_rev_3"><a id="GUID-21915193-473D-4FE8-B738-034813D325F6" name="GUID-21915193-473D-4FE8-B738-034813D325F6"></a><h3 id="CCREF-GUID-21915193-473D-4FE8-B738-034813D325F6" class="sect3"><span class="enumeration_section">13.3</span> DESCRIBE_INDEX</h3>
               <div>
                  <div class="section">
                     <p>创建描述索引的报告。这包括索引元数据的设置，使用的索引对象，对象属性的设置以及索引分区描述（如果有）。</p>
                     <p>您可以将此操作称为具有<code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code>参数的过程，也可以将该报告作为<code class="codeph">CLOB</code>返回。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-5110BC2E-6F7E-4F67-A823-2585D7CB4C45">句法</p><pre class="oac_no_warn" dir="ltr">过程CTX_REPORT.DESCRIBE_INDEX（index_name IN VARCHAR2，报告IN OUT NOCOPY CLOB，report_format IN VARCHAR2 DEFAULT FMT_TEXT）;函数CTX_REPORT.DESCRIBE_INDEX（index_name IN VARCHAR2，report_format IN VARCHAR2 DEFAULT FMT_TEXT）返回CLOB;</pre><dl>
                        <dt class="dlterm"><a name="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-1024632B-4DB9-4639-872B-37FC68C5E393"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定要描述的索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-A028DD31-3B38-4320-87C0-91419EFCAB8F"><!-- --></a>报告</dt>
                        <dd>
                           <p>指定要将报告写入的<code class="codeph">CLOB</code>定位器。
                           </p>
                           <p>如果<code class="codeph">report</code>为NULL，则将创建并返回会话持续时间临时<code class="codeph">CLOB</code> 。调用者有责任根据需要释放此临时<code class="codeph">CLOB</code> 。
                           </p>
                           <p><code class="codeph">report</code> <code class="codeph">CLOB</code>将在生成报告之前被截断，因此此调用将覆盖任何现有内容。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-D339E01E-9A5F-400D-AA24-C5BD2C88C034"><!-- --></a> report_format</dt>
                        <dd>
                           <p>指定报告是应生成为“TEXT”还是“XML”。TEXT是默认值。您还可以指定值<code class="codeph">CTX_REPORT.FMT_TEXT</code>或<code class="codeph">CTX_REPORT.FMT_XML</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-3884A41D-3091-44E9-A6DD-A69DEFA0E3F0">笔记</p>
                     <p>如果使用<code class="codeph">FILTER</code> <code class="codeph">BY</code>和/或<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句创建索引， <code class="codeph">CTX_REPORT.DESCRIBE_INDEX</code>输出<code class="codeph">FILTER</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code>列信息。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-B5E3E2F8-E3CB-45E9-A63E-CBC17153220D">相关话题</p>
                     <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">创造指数</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_DDL-package.html#GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058">ADD_SDATA_COLUMN</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2142"></a><div class="props_rev_3"><a id="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D" name="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D"></a><h3 id="CCREF-GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D" class="sect3"><span class="enumeration_section">13.4</span> DESCRIBE_POLICY</h3>
               <div>
                  <div class="section">
                     <p>创建描述策略的报告。这包括策略元数据的设置，使用的索引对象以及对象属性的设置。</p>
                     <p>您可以将此操作称为具有<code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code>参数的过程，也可以将该报告作为<code class="codeph">CLOB</code>返回。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D__GUID-EC1E6735-4B18-4767-9236-599491E0B97C">句法</p><pre class="oac_no_warn" dir="ltr">过程CTX_REPORT.DESCRIBE_POLICY（policy_name IN VARCHAR2，报告IN OUT NOCOPY CLOB，report_format IN VARCHAR2 DEFAULT FMT_TEXT）;函数CTX_REPORT.DESCRIBE_POLICY（policy_name IN VARCHAR2，report_format IN VARCHAR2 DEFAULT FMT_TEXT）返回CLOB;</pre><dl>
                        <dt class="dlterm"><a name="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D__GUID-595C0711-589D-44A6-A9A0-FBF388DEE6BE"><!-- --></a>报告</dt>
                        <dd>
                           <p>指定要将报告写入的<code class="codeph">CLOB</code>定位器。
                           </p>
                           <p>如果<code class="codeph">report</code>为NULL，则将创建并返回会话持续时间临时<code class="codeph">CLOB</code> 。调用者有责任根据需要释放此临时<code class="codeph">CLOB</code> 。
                           </p>
                           <p><code class="codeph">report</code> <code class="codeph">CLOB</code>将在生成<code class="codeph">report</code>之前被截断，因此此调用将覆盖任何现有内容。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D__GUID-58E7220D-8C29-40DD-A325-DFE618B2F2B8"><!-- --></a> report_format</dt>
                        <dd>
                           <p>指定报告是应生成为“TEXT”还是“XML”。TEXT是默认值。您还可以指定值<code class="codeph">CTX_REPORT.FMT_TEXT</code>或<code class="codeph">CTX_REPORT.FMT_XML</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D__GUID-91363CAD-E7A4-4A1A-A60D-9C1B0641DB8A"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定要描述的策略的名称。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2143"></a><div class="props_rev_3"><a id="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97" name="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97"></a><h3 id="CCREF-GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97" class="sect3"><span class="enumeration_section">13.5</span> CREATE_INDEX_SCRIPT</h3>
               <div>
                  <div class="section">
                     <p>创建一个SQL * Plus脚本，该脚本将创建一个复制指定文本索引的文本索引。</p>
                     <p>创建的脚本将包括创建与命名文本索引中使用的首选项相同的首选项。但是，首选项的名称将有所不同。</p>
                     <p>您可以将此操作称为具有<code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code>参数的过程，也可以将该报告作为<code class="codeph">CLOB</code>返回。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-99698794-E888-4F8A-A435-BA9F0E0AE8A4">句法</p><pre class="oac_no_warn" dir="ltr">过程CTX_REPORT.CREATE_INDEX_SCRIPT（varchar2中的index_name，nocopy clob中的报告，varchar2中的prefname_prefix，默认值为null）; function CTX_REPORT.CREATE_INDEX_SCRIPT（varchar2中的index_name，varchar2中的prefname_prefix，默认值为null）return clob;</pre><dl>
                        <dt class="dlterm"><a name="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-E9417706-B737-414B-8B75-16E1905658E2"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-5159A058-85B8-4EB8-87AA-DE3D2839396E"><!-- --></a>报告</dt>
                        <dd>
                           <p>指定要写入脚本的<code class="codeph">CLOB</code>定位器。
                           </p>
                           <p>如果<code class="codeph">report</code>为NULL，则将创建并返回会话持续时间临时<code class="codeph">CLOB</code> 。调用者有责任根据需要释放此临时<code class="codeph">CLOB</code> 。
                           </p>
                           <p><code class="codeph">report</code> <code class="codeph">CLOB</code>将在生成报告之前被截断，因此此调用将覆盖任何现有内容。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-297ADFBE-BF41-408A-ABE1-903AA2F0D240"><!-- --></a> prefname_prefix</dt>
                        <dd>
                           <p>指定用于首选项名称的可选前缀。</p>
                           <p>如果省略<code class="codeph">prefname_prefix</code>或NULL，将使用索引名称。<code class="codeph">prefname_prefix</code>遵循索引长度限制。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-8D570EE9-849F-4FB7-B841-E10D1381865E">笔记</p>
                     <p><code class="codeph">CTX_REPORT.CREATE_INDEX_SCRIPT</code>还将为<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>语句生成必要的<code class="codeph">FILTER</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-28081B17-CC7C-4313-B7F1-CF5D2C935420">相关话题</p>
                     <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">创造指数</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2144"></a><div class="props_rev_3"><a id="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B" name="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B"></a><h3 id="CCREF-GUID-C515B497-D252-40C2-8140-336C0CCE9B8B" class="sect3"><span class="enumeration_section">13.6</span> CREATE_POLICY_SCRIPT</h3>
               <div>
                  <div class="section">
                     <p>创建一个SQL * Plus脚本，该脚本将创建一个复制指定文本策略的文本策略。</p>
                     <p>创建的脚本将包括创建与命名文本策略中使用的首选项相同的首选项。</p>
                     <p>您可以将此操作称为具有<code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code>参数的过程，也可以将该报告作为<code class="codeph">CLOB</code>返回。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B__GUID-0517FADB-C45D-4F8F-BB28-B71C67217E1D">句法</p><pre class="oac_no_warn" dir="ltr">过程CTX_REPORT.CREATE_POLICY_SCRIPT（varchar2中的policy_name，nocopy clob中的报告，varchar2中的prefname_prefix，默认值为null）; function CTX_REPORT.CREATE_POLICY_SCRIPT（varchar2中的policy_name，varchar2中的prefname_prefix，默认为null）return clob;</pre><dl>
                        <dt class="dlterm"><a name="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B__GUID-9DD72716-BDF7-4AA1-9EC2-690BDC80F3E0"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定策略的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B__GUID-19BBD491-52B1-41AB-BF43-FD67C33B8D6A"><!-- --></a>报告</dt>
                        <dd>
                           <p>指定要将脚本写入的定位器。</p>
                           <p>如果<code class="codeph">report</code>为NULL，则将创建并返回会话持续时间临时<code class="codeph">CLOB</code> 。调用者有责任根据需要释放此临时<code class="codeph">CLOB</code> 。
                           </p>
                           <p><code class="codeph">report</code> <code class="codeph">CLOB</code>将在生成报告之前被截断，因此此调用将覆盖任何现有内容。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B__GUID-3BA97093-FC97-46CF-B139-100C01257E31"><!-- --></a> prefname_prefix</dt>
                        <dd>
                           <p>指定用于首选项名称的可选前缀。如果省略<code class="codeph">prefname_prefix</code>或NULL，则将使用策略名称。 <code class="codeph">prefname_prefix</code>遵循策略长度限制。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2145"></a><div class="props_rev_3"><a id="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18" name="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18"></a><h3 id="CCREF-GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18" class="sect3"><span class="enumeration_section">13.7</span> INDEX_SIZE</h3>
               <div>
                  <div class="section">
                     <p>创建一个报告，显示文本索引或文本索引分区的内部对象及其表空间，已分配和已使用的大小。</p>
                     <p>您可以将此操作称为具有<code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code>参数的过程，或将该报告作为<code class="codeph">CLOB</code>返回的函数。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-2F768C93-2084-495E-B617-E4AB98F77CA5">句法</p><pre class="oac_no_warn" dir="ltr">过程CTX_REPORT.INDEX_SIZE（index_name IN VARCHAR2，报告IN OUT NOCOPY CLOB，part_name IN VARCHAR2 DEFAULT NULL，report_format IN VARCHAR2 DEFAULT FMT_TEXT）; function CTX_REPORT.INDEX_SIZE（index_name IN VARCHAR2，part_name IN VARCHAR2 DEFAULT NULL，report_format IN VARCHAR2 DEFAULT FMT_TEXT）return clob;</pre><dl>
                        <dt class="dlterm"><a name="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-E6A15AC6-E3FE-4696-85FD-A638176ED645"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定要描述的索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-42AAFB60-13B1-4AB7-B23F-8E71D77C2924"><!-- --></a>报告</dt>
                        <dd>
                           <p>指定要将报告写入的<code class="codeph">CLOB</code>定位器。
                           </p>
                           <p>如果<code class="codeph">report</code>为NULL，则将创建并返回会话持续时间临时<code class="codeph">CLOB</code> 。调用者有责任根据需要释放此临时<code class="codeph">CLOB</code> 。
                           </p>
                           <p><code class="codeph">report</code> <code class="codeph">CLOB</code>将在生成报告之前被截断，因此此调用将覆盖任何现有内容</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-0BBBB2EC-F27C-4ADF-9320-8F136F17B711"><!-- --></a> part_name</dt>
                        <dd>
                           <p>指定索引分区的名称（可选）。如果<code class="codeph">part_name</code>为NULL，并且索引是本地分区文本索引，则将显示所有分区的所有对象。如果提供了<code class="codeph">part_name</code> ，则仅显示特定分区的对象。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-96797A3C-405A-4CB5-AF03-2CDA76071821"><!-- --></a> report_format</dt>
                        <dd>
                           <p>指定报告是应生成为“TEXT”还是“XML”。TEXT是默认值。您还可以指定值<code class="codeph">CTX_REPORT</code> 。 <code class="codeph">FMT_TEXT</code>或<code class="codeph">CTX_REPORT</code> 。 <code class="codeph">FMT_XML</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-A8DDDBCF-36D3-4470-B9B0-82A72901125D">笔记</p>
                     <p><code class="codeph">CTX_REPORT.INDEX_SIZE</code>还将输出dr $ <span class="italic">indexname</span> $ S表的信息。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-213F2DE5-7FDC-4F71-B4C8-FC9F3B66A45E">相关话题</p>
                     <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">创造指数</a> ”</span></p>
                     <p><a href="oracle-text-indexing-elements.html#GUID-5F662035-B0F5-4F72-A2A8-A5B07070ABBF__BHCGFIJI" title="该表描述了BASIC_STORAGE属性。">表2-39</a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2146"></a><div class="props_rev_3"><a id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1" name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1"></a><h3 id="CCREF-GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1" class="sect3"><span class="enumeration_section">13.8</span> INDEX_STATS</h3>
               <div>
                  <div class="section">
                     <p>创建一个报告，显示有关文本索引的各种计算统计信息。</p>
                     <p>此过程完全扫描文本索引表，因此可能需要很长时间才能运行大型索引。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-46DBB576-D71D-445B-9F65-EBD5A4B09547">句法</p><pre class="oac_no_warn" dir="ltr">procedure ctx_report.index_stats（index_name IN VARCHAR2，report IN OUT NOCOPY CLOB，part_name IN VARCHAR2 DEFAULT NULL，frag_stats IN BOOLEAN DEFAULT TRUE，list_size IN NUMBER DEFAULT 100，report_format IN VARCHAR2 DEFAULT FMT_TEXT，stat_type IN VARCHAR2 DEFAULT NULL）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-14E02E18-21D7-43C7-AB64-A6B6703F22A9"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定要描述的索引的名称。这必须是<code class="codeph">CONTEXT</code>索引。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-03B226B5-E027-4D9F-9D21-A67DF7E4898A"><!-- --></a>报告</dt>
                        <dd>
                           <p>指定要将报告写入的<code class="codeph">CLOB</code>定位器。如果report为NULL，则将创建并返回会话持续时间临时<code class="codeph">CLOB</code> 。调用者有责任根据需要释放此临时<code class="codeph">CLOB</code> 。
                           </p>
                           <p>报告<code class="codeph">CLOB</code>将在生成报告之前被截断，因此此调用将覆盖任何现有内容。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-E90592F9-4089-4CA8-A466-D803E42D7D25"><!-- --></a> part_name</dt>
                        <dd>
                           <p>指定索引分区的名称。如果索引是本地分区索引，则必须提供<code class="codeph">part_name</code> 。<code class="codeph">INDEX_STATS</code>将计算该索引分区的统计信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-CDB7FDBF-4D76-475A-A1B5-D1398CA40827"><!-- --></a> frag_stats</dt>
                        <dd>
                           <p>指定TRUE以计算碎片统计信息。如果<code class="codeph">frag_stats</code>为FALSE，则报告将不显示与索引数据大小相关的任何统计信息。但是，操作应该花费更少的时间和资源来计算令牌统计信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-3651910A-C1A8-4B21-A281-625A9823BF0C"><!-- --></a> list_size</dt>
                        <dd>
                           <p>指定每个编译列表中的元素数。 <code class="codeph">list_size</code>的最大值为1000。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-69B68697-A14A-4602-897E-10A7DE7338CF"><!-- --></a> report_format</dt>
                        <dd>
                           <p>指定报告是应生成为“TEXT”还是“XML”。TEXT是默认值。您还可以指定值<code class="codeph">CTX_REPORT</code> 。 <code class="codeph">FMT_TEXT</code>或<code class="codeph">CTX_REPORT</code> 。 <code class="codeph">FMT_XML</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-DCC5F039-91F4-4DC1-94B1-C62D49DA4192"><!-- --></a> stat_type</dt>
                        <dd>
                           <p>指定要输出的估计统计数据。如果设置了此参数，则忽略<code class="codeph">frag_stats</code> 。可能的值是：</p>
                           <div class="tblformal" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-28CBF8B4-D89B-4397-B04D-729CFF698ED2">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This table describes types of statistics." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="37%" id="d119504e1497">统计类型</th>
                                       <th align="left" valign="bottom" width="63%" id="d119504e1500">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="37%" id="d119504e1505" headers="d119504e1497 ">
                                          <p>EST_FRAG_STATS</p>
                                       </td>
                                       <td align="left" valign="top" width="63%" headers="d119504e1505 d119504e1500 ">
                                          <p>获取索引的估计碎片统计信息。给定此类型时，将忽略<code class="codeph">list_size</code> 。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="37%" id="d119504e1515" headers="d119504e1497 ">
                                          <p>EST_FREQUENT_TOKENS</p>
                                       </td>
                                       <td align="left" valign="top" width="63%" headers="d119504e1515 d119504e1500 ">
                                          <p>获取索引的估计频繁查询令牌。您可以为<code class="codeph">list_size</code>提供最多100的<code class="codeph">list_size</code> 。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="37%" id="d119504e1525" headers="d119504e1497 ">
                                          <p>EST_TOKENS_TO_OPTIMIZE</p>
                                       </td>
                                       <td align="left" valign="top" width="63%" headers="d119504e1525 d119504e1500 ">
                                          <p>根据查询和碎片的频率显示最佳的令牌进行优化。您可以为<code class="codeph">list_size</code>提供最多100的<code class="codeph">list_size</code> 。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="37%" id="d119504e1535" headers="d119504e1497 ">
                                          <p>EST_SLOWEST_QUERIES</p>
                                       </td>
                                       <td align="left" valign="top" width="63%" headers="d119504e1535 d119504e1500 ">
                                          <p>显示索引的最慢运行查询。您可以为<code class="codeph">list_size</code>提供最多100的<code class="codeph">list_size</code> 。
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-7B578B2A-756B-42C2-A89F-F361E4AFF705">
                        <p class="notep1">注意：</p>
                        <p>对于估算的统计信息<code class="codeph">stat_type</code>如果只能<code class="codeph">query_stats</code>启用和下面的特权必须在运行报告中授予该用户：</p><pre class="pre codeblock"><code>授予选择，插入，删除，更新ctxsys.dr $ slowqrys到&lt;user&gt;;授予对ctxsys.dr $ freqtoks的选择，插入，删除，更新到&lt;user&gt;;</code></pre></div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-0635F22C-696A-4EB6-BB13-BB047796180A">CTX_REPORT.INDEX_STATS的示例</p><pre class="oac_no_warn" dir="ltr">create table output（result CLOB）; declare x clob：= null;开始ctx_report.index_stats（'tdrbprx21'，x）;插入输出值（x）;承诺; dbms_lob.freetemporary（X）;结束; / set long 32000 set head off set pagesize 10000 select * from output;</pre><p>以下示例输出用于上下文索引上的<code class="codeph">INDEX_STATS</code> 。为清楚起见，此报告已被截断。它显示了一些令牌统计信息和所有碎片统计信息。
                     </p>
                     <p>碎片统计数据在报告的最后。它告诉您最佳行碎片，索引中估计的垃圾数据量以及碎片最多的令牌列表。运行<code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code>清除索引。
                     </p><pre class="oac_no_warn" dir="ltr">================================================== ===============“DR_TEST”统计数据。“TDRBPRX21”========================== =======================================索引文档：53个已分配的docids：68 $ I行：16,259 ------------------------------------------------ ----------------- TOKEN STATISTICS ------------------------------- ----------------------------------唯一令牌：每个令牌平均$ 1,4行：最多1.21令牌$ I行：电信行业（主题）6科学与技术（主题）6电子邮件（现场部分“来源”）6 DEC（现场部分“TIMESTAMP”）6电子邮件（主题）6计算机网络（主题）6通信（主题） ）6 95（现场部分“TIMESTAMP”）6 15（现场部分“TIMESTAMP”）6标题（区域部分）6每个标记的平均大小：8个具有最大尺寸的标记：T（标准）405 SAID（标准）313 HEADLINE（ ZONE SECTION）272 NEW（NORMAL）267 I（NORMAL）230百万（PREFIX）222 D（正常）219百万（正常）215 U（正常）192 DEC（字段“TIMESTAMP”）186每个令牌的平均频率：2.00最常用的令牌：HEADLINE（ZONE SECTION）68 DEC（字段“TIMESTAMP”）62 95（字段“TIMESTAMP”）62 15（字段“TIMESTAMP”） 62 T（标准）61 D（标准）59 881115（主题）58 881115（标准）58 I（标准）55地理（主题）52类型的标记统计：标记类型：标准唯一标记：总共6,344行：7,631行：1.20总大小：67,445（65.86 KB）平均大小：11平均频率：2.33最常见的令牌：T 61 D 59 881115 58 I 55 SAID 45 C 43新36百万32第一28公司27令牌类型：主题独特令牌：4,563总行数：5,523行平均行数：1.21总大小：21,930（21.42 KB）平均大小：5平均频率：2.40最常见代币：881115 58政治地理52地理52美国51商业和经济50抽象概念和概念48北美48科学与技术46 NKS 34 nulls 34</pre><p>本报告的碎片部分如下：</p><pre class="oac_no_warn" dir="ltr">-------------------------------------------------- ---------------碎片统计--------------------------------- -------------------------------- $ I的总大小数据：116,772（114.04 KB）$ I行：估计为16,259 $ I行如果最佳：13445估计行碎片：17％垃圾docids：15估计垃圾大小：21,379（20.88 KB）最多碎片令牌：电信行业（主题）83％科学和技术（主题）83％电子邮件（现场部分“消息来源“）83％DEC（现场部分”TIMESTAMP“）83％电子邮件（主题）83％计算机网络（主题）83％通信（主题）83％95（现场部分”TIMESTAMP“）83％标题（区域部分） 83％15（现场部分“TIMESTAMP”）83％</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-52B22FDF-12D7-4997-9845-0D2AD5529619">带有STAT_TYPE的CTX_REPORT.INDEX_STATS的示例</p>
                     <p>以下示例输出用于<code class="codeph">EST_FRAG_STATS</code>统计类型：</p><pre class="pre codeblock"><code>var report clob; begin dbms_lob.createtemporary（：report，true）; ctx_report.index_stats（index_name =&gt;'tdrbps.idx'，report =&gt;：report，report_format =&gt;'XML'，stat_type =&gt;'EST_FRAG_STATS'）;结束; / select：来自双重报告; ：REPORT ------------------------------------------------ ------------------------------ &lt;CTXREPORT&gt; &lt;INDEX_STATS&gt; &lt;STAT_INDEX_NAME&gt;“TDRBPS”。“IDX”&lt;/ STAT_INDEX_NAME&gt; &lt;STAT_INDEX_STATS&gt; &lt;STAT_STATISTIC NAME =“估计的碎片统计数据”&gt; 50 &lt;/ STAT_STATISTIC&gt; &lt;/ STAT_INDEX_STATS&gt; &lt;/ INDEX_STATS&gt; &lt;/ CTXREPORT&gt;</code></pre><p>以下示例输出用于<code class="codeph">EST_FREQUENT_TOKENS</code>统计类型：</p><pre class="pre codeblock"><code>begin dbms_lob.createtemporary（：report，true）; ctx_report.index_stats（index_name =&gt;'tdrbps.idx'，report =&gt;：report，report_format =&gt;'XML'，stat_type =&gt;'EST_FREQUENT_TOKENS'）;结束; / select：来自双重报告; ：REPORT ------------------------------------------------ ------------------------------ &lt;CTXREPORT&gt; &lt;INDEX_STATS&gt; &lt;STAT_INDEX_NAME&gt;“TDRBPS”。“IDX”&lt;/ STAT_INDEX_NAME&gt; &lt;STAT_INDEX_STATS&gt; &lt;STAT_TOKEN_LIST NAME =“最常查询的标记”&gt; &lt;STAT_TOKEN&gt; &lt;STAT_TOKEN_TEXT&gt; ORACLE &lt;/ STAT_TOKEN_TEXT&gt; &lt;STAT_TOKEN_TYPE&gt; 0：TEXT &lt;/ STAT_TOKEN_TYPE&gt; &lt;STAT_TOKEN_STATISTIC&gt; 2 &lt;/ STAT_TOKEN_STATISTIC&gt; &lt;/ STAT_TOKEN&gt; &lt;STAT_TOKEN&gt; &lt;STAT_TOKEN_TEXT&gt; DATABASE &lt;/ STAT_TOKEN_TEXT&gt; &lt;STAT_TOKEN_TYPE&gt; 0：TEXT &lt;/ STAT_TOKEN_TYPE&gt; &lt;STAT_TOKEN_STATISTIC&gt; 1 &lt;/ STAT_TOKEN_STATISTIC&gt; &lt;/ STAT_TOKEN&gt; &lt;/ STAT_TOKEN_LIST&gt; &lt;/ STAT_INDEX_STATS&gt; &lt;/ INDEX_STATS&gt; &lt;/ CTXREPORT&gt;</code></pre><div class="infoboxnote" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-8691305C-AD2D-42F9-A9D3-AE69A94C7D2E">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">&lt;STAT_TOKEN_STATISTIC&gt;</code>显示查询特定令牌的次数。
                        </p>
                     </div>
                     <p>以下示例输出用于<code class="codeph">EST_SLOWEST_QUERIES</code>统计类型：</p><pre class="pre codeblock"><code>begin dbms_lob.createtemporary（：report，true）; ctx_report.index_stats（index_name =&gt;'tdrbps.idx'，report =&gt;：report，report_format =&gt;'XML'，stat_type =&gt;'EST_SLOWEST_QUERIES'）;结束; / select：来自双重报告; ：REPORT ------------------------------------------------ ------------------------------ &lt;CTXREPORT&gt; &lt;INDEX_STATS&gt; &lt;STAT_INDEX_NAME&gt;“TDRBPS”。“IDX”&lt;/ STAT_INDEX_NAME&gt; &lt;STAT_INDEX_STATS&gt; &lt;STAT_QUERY_LIST NAME =“Slowest Queries”&gt; &lt;STAT_QUERY&gt; &lt;STAT_QUERY_FULL&gt;从tbl中选择count（*），其中包含（txt，'Oracle'）&gt; 0 &lt;/ STAT_QUERY_FULL&gt; &lt;STAT_QUERY_TEXT_PART&gt; Oracle &lt;/ STAT_QUERY_TEXT_PART&gt; &lt;STAT_QUERY_TIME &gt; 114 &lt;/ STAT_QUERY_TIME&gt; &lt;STAT_QUERY_HASH&gt; 2992140927 &lt;/ STAT_QUERY_HASH&gt; &lt;/ STAT_QUERY&gt; &lt;STAT_QUERY&gt; &lt;STAT_QUERY_FULL&gt;从tbl中选择count（*），其中包含（txt，'ora％'）&gt; 0 &lt;/ STAT_QUERY_FULL&gt; &lt;STAT_QUERY_TEXT_PART&gt; ora％&lt;/ STAT_QUERY_TEXT_PART&gt; &lt;STAT_QUERY_TIME&gt; 4 &lt;/ STAT_QUERY_TIME&gt; &lt;STAT_QUERY_HASH&gt; 2229259029 &lt;/ STAT_QUERY_HASH&gt; &lt;/ STAT_QUERY&gt; &lt;STAT_QUERY&gt; &lt;STAT_QUERY_FULL&gt;从tbl中选择count（*）其中包含（txt，'Database'）&gt; 0 &lt;/ STAT_QUERY_FULL&gt; &lt;STAT_QUERY_TEXT_PART&gt;数据库&lt;/ STAT_QUERY_TEXT_PART&gt; &lt;STAT_QUERY_TIME&gt; 2 &lt;/ STAT_QUERY_TIME&gt; &lt;STAT_QUERY_HASH&gt; 1111113040 &lt;/ STAT_QUERY_HASH&gt; &lt;/ STAT_QUERY&gt; &lt;/ STAT_QUERY_LIS T&gt; &lt;/ STAT_INDEX_STATS&gt; &lt;/ INDEX_STATS&gt; &lt;/ CTXREPORT&gt;</code></pre><div class="infoboxnote" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-DDA75A61-07A7-4966-9D79-E02541306405">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">&lt;STAT_QUERY_FULL&gt;</code>包含完整查询， <code class="codeph">&lt;STAT_QUERY_TEXT_PART&gt;</code>包含查询的Oracle Text <code class="codeph">CONTAINS</code>子句。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">&lt;STAT_QUERY_TIME&gt;</code>包含查询响应时间， <code class="codeph">&lt;STAT_QUERY_HASH&gt;</code>包含查询的哈希值。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p>以下示例输出用于<code class="codeph">EST_TOKENS_TO_OPTIMIZE</code>统计类型：</p><pre class="pre codeblock"><code>begin dbms_lob.createtemporary（：report，true）; ctx_report.index_stats（index_name =&gt;'tdrbps.idx'，report =&gt;：report，report_format =&gt;'XML'，stat_type =&gt;'EST_TOKENS_TO_OPTIMIZE'）;结束; / select：来自双重报告; ：REPORT ------------------------------------------------ ------------------------------ &lt;CTXREPORT&gt; &lt;INDEX_STATS&gt; &lt;STAT_INDEX_NAME&gt;“TDRBPS”。“IDX”&lt;/ STAT_INDEX_NAME&gt; &lt;STAT_INDEX_STATS&gt; &lt;STAT_TOKEN_LIST NAME =“要优化的最佳标记”&gt; &lt;STAT_TOKEN&gt; &lt;STAT_TOKEN_TEXT&gt; ORACLE &lt;/ STAT_TOKEN_TEXT&gt; &lt;STAT_TOKEN_TYPE&gt; 0：TEXT &lt;/ STAT_TOKEN_TYPE&gt; &lt;STAT_TOKEN_STATISTIC&gt; 100 &lt;/ STAT_TOKEN_STATISTIC&gt; &lt;/ STAT_TOKEN&gt; &lt;STAT_TOKEN&gt; &lt;STAT_TOKEN_TEXT&gt; DATABASE &lt;/ STAT_TOKEN_TEXT&gt; &lt;STAT_TOKEN_TYPE&gt; 0：TEXT &lt;/ STAT_TOKEN_TYPE&gt; &lt;STAT_TOKEN_STATISTIC&gt; 50 &lt;/ STAT_TOKEN_STATISTIC&gt; &lt;/ STAT_TOKEN&gt; &lt;/ STAT_TOKEN_LIST&gt; &lt;/ STAT_INDEX_STATS&gt; &lt;/ INDEX_STATS&gt; &lt;/ CTXREPORT&gt;</code></pre><div class="infoboxnote" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-CE245BF6-D236-45F2-9E5B-A4874B8E0F64">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">&lt;STAT_TOKEN_STATISTIC&gt;</code>表示特定令牌的碎片。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-200F6661-D297-4830-A7AF-E6B29C34892D">笔记</p>
                     <p>仅当为索引打开<code class="codeph">QUERY_STATS</code>时，这些元数据才可用：估计的碎片统计信息，估计的经常查询的令牌，估计的最碎片频繁查询的令牌，以及针对指定索引的估计最慢运行查询。
                     </p>
                     <p><code class="codeph">CTX_REPORT.INDEX_STATS</code>还将输出dr $ <span class="italic">indexname</span> $ S表的信息，该表是节数据或<code class="codeph">SDATA</code>表。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-0B0A1656-068B-427F-9F86-9C319E269769">相关话题</p>
                     <p>CTX_OUTPUT。 <a href="CTX_OUTPUT-package.html#GUID-D43D058C-F4FB-4C2A-965A-5872F134784F">ENABLE_QUERY_STATS</a></p>
                     <p>CTX_OUTPUT。 <a href="CTX_OUTPUT-package.html#GUID-B772A716-F22F-4614-9086-4E95CDE63F84">DISABLE_QUERY_STATS</a></p>
                     <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">创建指数</a></p>
                     <p><a href="oracle-text-indexing-elements.html#GUID-5F662035-B0F5-4F72-A2A8-A5B07070ABBF__BHCGFIJI" title="该表描述了BASIC_STORAGE属性。">表2-39</a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2147"></a><div class="props_rev_3"><a id="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D" name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D"></a><h3 id="CCREF-GUID-AFD54A2E-90C8-42F8-9607-AC517428056D" class="sect3"><span class="enumeration_section">13.9</span> QUERY_LOG_SUMMARY</h3>
               <div>
                  <div class="section">
                     <p>获取已记录查询的报告。</p>
                     <p><code class="codeph">QUERY_LOG_SUMMARY</code>使您可以分析已记录的查询。例如，假设您有一个搜索大型动物数据库的应用程序，并且对它的查询分析表明用户不断搜索单词<span class="italic">mouse</span> ;此分析可能会诱使您重写应用程序，以便搜索<span class="italic">鼠标</span>将用户重定向到小动物的数据库，而不是简单地返回不成功的搜索。
                     </p>
                     <p>通过查询分析，您可以找到以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>进行了哪些查询</p>
                        </li>
                        <li>
                           <p>哪些查询成功</p>
                        </li>
                        <li>
                           <p>哪些查询不成功</p>
                        </li>
                        <li>
                           <p>每个查询的次数</p>
                        </li>
                     </ul>
                     <p>您可以通过各种方式组合这些因素，例如确定应用程序发出的50个最常见的不成功查询。</p>
                     <p>查询记录以<code class="codeph">CTX_OUTPUT.START_QUERY_LOG</code>开始，并以<code class="codeph">CTX_OUTPUT.END_QUERY_LOG</code>终止。</p>
                     <div class="infoboxnote" id="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-9DE7550B-D09A-41CD-9FD9-4F14C06554C4">
                        <p class="notep1">注意：</p>
                        <p>您必须以<code class="codeph">CTXSYS</code>身份连接才能使用<code class="codeph">CTX_REPORT.QUERY_LOG_SUMMARY</code> 。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-5D61168B-73DA-46E6-A64A-CA7A424C989E">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-1ED0F3CD-C3B5-4E22-A412-75FA9EC5E988">START_QUERY_LOG</a> ”</span>和<span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-E79169B1-6785-4001-988A-32804490E87B">END_QUERY_LOG</a> ”</span> 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-4C8DEEB5-413B-4EC2-967D-25FFF67132AB">句法</p><pre class="oac_no_warn" dir="ltr">过程CTX_REPORT.QUERY_LOG_SUMMARY（logfile IN VARCHAR2，indexname IN VARCHAR2 DEFAULT NULL，result_table IN OUT NOCOPY QUERY_TABLE，row_num IN NUMBER，most_freq IN BOOLEAN DEFAULT TRUE，has_hit IN BOOLEAN DEFAULT TRUE）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-179F0100-16E7-405C-9B7A-28310EB5E601"><!-- --></a></dt>
                        <dd>
                           <p>指定包含查询的日志文件的名称。从Oracle Database 12 <span class="italic">c</span>发行版2（12.2）开始，忽略此参数，因为所有查询日志都写入数据库跟踪文件。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-727443D1-4803-4676-B866-63CE57218DD5"><!-- --></a>索引名称</dt>
                        <dd>
                           <p>指定要为其提供摘要报告的上下文索引的名称。如果指定<code class="codeph">NULL</code> ，则该过程为所有上下文索引提供摘要报告。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-1CB61F76-AABA-44F8-B675-EC54DE7AC3CA"><!-- --></a> result_table</dt>
                        <dd>
                           <p>指定<code class="codeph">TABLE OF RECORD</code>类型的内存表的名称，其中<code class="codeph">QUERY_LOG_SUMMARY</code>的结果将去。默认值是系统参数<code class="codeph">LOG_DIRECTORY</code>指定的位置。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-B015B088-588A-465B-8E28-F9FCC215BF2F"><!-- --></a> row_num</dt>
                        <dd>
                           <p><code class="codeph">QUERY_LOG_SUMMARY</code>报告到<span class="italic">restab</span>指定的表中的结果行数。例如，如果number为10， <span class="italic">most_freq</span>为TRUE，并且<span class="italic">has_hit</span>为TRUE，则该过程返回成功的10个最常见查询（即返回的命中）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-927E6708-4B0A-474F-97A5-F56DB0A0A627"><!-- --></a> most_freq</dt>
                        <dd>
                           <p>指定<code class="codeph">QUERY_LOG_SUMMARY</code>是否应返回最频繁或最不频繁的查询。默认是最常见的查询。如果<span class="italic">most_freq</span>设置为<code class="codeph">FALSE</code> ，则该过程返回最不成功的查询。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-5D202FEF-B5A9-4601-B386-B3274A75874E"><!-- --></a> has_hit</dt>
                        <dd>
                           <p>指定<code class="codeph">QUERY_LOG_SUMMARY</code>是否应返回成功（即生成命中）或查询失败的查询。默认设置是计算成功的查询;将<span class="variable" translate="no">has_hit</span>设置为<code class="codeph">FALSE</code>以返回不成功的查询。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-8105CD2E-9711-4F88-9D1A-5199B2680249">例</p>
                     <p>以下示例显示了如何使用查询日志。</p>
                     <p>首先连接为<code class="codeph">CTXSYS</code> 。然后创建并填充两个表，然后为每个表创建一个索引：</p><pre class="oac_no_warn" dir="ltr">create table qlogtab1（tk number primary key，text varchar2（2000））;插入qlogtab1值（1，'法国的罗马名称是高卢。“）;插入qlogtab1值（2，'环法自行车赛每年夏天举行。“）;插入qlogtab1值（3，'Jacques Anatole Thibault取笔名Anatole France。“）;在qlogtab1（text）上创建索引idx_qlog1 indextype是ctxsys.context; create table qlogtab2（tk number primary key，text varchar2（2000））;插入qlogtab2值（1，'中国长城长约2400公里'）;插入qlogtab2值（2，'足球的日期至少回到217 CE'）;插入qlogtab2值（3，'玉米宫是南达科他州的旅游景点。“）;在qlogtab2（text）上创建索引idx_qlog2 indextype是ctxsys.context;</pre><pre class="oac_no_warn" dir="ltr"></pre><p>打开查询日志记录，创建名为<code class="codeph">query_log</code>的日志：</p><pre class="oac_no_warn" dir="ltr">exec ctx_output.start_query_log（'query.log'）;</pre><p>现在进行一些查询（其中一些将不成功）：</p><pre class="oac_no_warn" dir="ltr">从qlogtab1中选择文本，其中包含（text，'France'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'cheese'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Text Wizard'，1）&gt; 0;从qlogtab2中选择文本，其中包含（text，'Corn Palace'，1）&gt; 0;从qlogtab2中选择文本，其中包含（text，'China'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Text Wizards'，1）&gt; 0;从qlogtab2中选择文本，其中包含（text，'South Dakota'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Text Wizard'，1）&gt; 0;从qlogtab2中选择文本，其中包含（text，'China'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Text Wizard'，1）&gt; 0;从qlogtab2中选择文本，其中包含（text，'company'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Text Wizard'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'France'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'database'，1）&gt; 0;从qlogtab2中选择文本，其中包含（text，'high-tech'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'database'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'France'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Japan'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Egypt'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Argentina'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Argentina'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Argentina'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Japan'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Egypt'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Air Shuttle'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Argentina'，1）&gt; 0;</pre><p>通过查询，关闭查询日志记录：</p><pre class="oac_no_warn" dir="ltr">exec ctx_output.end_query_log;</pre><p>使用<code class="codeph">QUERY_LOG_SUMMARY</code>获取查询报告。在第一个实例中，您要求查看成功返回的三个最常见的查询。首先声明结果表（ <code class="codeph">the_queries</code> ）。
                     </p><pre class="oac_no_warn" dir="ltr">set serveroutput on;声明the_queries ctx_report.query_table; begin ctx_report.query_log_summary（'query.log'，null，the_queries，row_num =&gt; 3，most_freq =&gt; TRUE，has_hit =&gt; TRUE）; dbms_output.put_line（'返回命中的3个最常见的查询'）; dbms_output.put_line（'查询字符串的次数'）; for in in 1..the_queries.count loop dbms_output.put_line（the_queries（i）.times ||''|| the_queries（i）.query）;结束循环;结束; /</pre><p>这将返回以下内容：</p><pre class="oac_no_warn" dir="ltr">3个最常见的查询返回命中次数查询字符串3法国2中国1玉米宫</pre><p>接下来，在<code class="codeph">idx_qlog1</code>上<code class="codeph">idx_qlog1</code>成功的三个最常见的查询。
                     </p><pre class="oac_no_warn" dir="ltr">声明the_queries ctx_report.query_table; begin ctx_report.query_log_summary（'query.log'，'idx_qlog1'，the_queries，row_num =&gt; 3，most_freq =&gt; TRUE，has_hit =&gt; TRUE）; dbms_output.put_line（'返回索引idx_qlog1的命中的3个最常见的查询'）; dbms_output.put_line（'查询字符串的次数'）; for in in 1..the_queries.count loop dbms_output.put_line（the_queries（i）.times ||''|| the_queries（i）.query）;结束循环;结束; /</pre><p>因为只有<span class="italic">法国</span>的查询成功， <code class="codeph">ctx_report.query_log_summary</code>返回以下内容：</p><pre class="oac_no_warn" dir="ltr">3个最常见的查询返回命中idx_qlog1次数查询字符串3法国</pre><p>最后，要求查看返回没有命中的三个最不频繁的查询（即，不成功并且不经常调用的查询）。在这种情况下，您对两个上下文索引的查询感兴趣，因此将indexname参数设置为NULL。</p><pre class="oac_no_warn" dir="ltr">声明the_queries ctx_report.query_table; begin ctx_report.query_log_summary（'query.log'，null，the_queries，row_num =&gt; 3，most_freq =&gt; FALSE，has_hit =&gt; FALSE）; dbms_output.put_line（'3个最不频繁的查询返回没有命中'）; dbms_output.put_line（'查询字符串的次数'）; for in in 1..the_queries.count loop dbms_output.put_line（the_queries（i）.times ||''|| the_queries（i）.query）;结束循环;结束; /</pre><p>这将返回以下结果：</p><pre class="oac_no_warn" dir="ltr">3个最不频繁的查询返回没有命中次数查询字符串1高科技1公司1奶酪</pre><p><span class="italic">阿根廷</span>和<span class="italic">日本</span>没有列出这个名单，因为他们不止一次被查询，而<span class="italic">玉米宫</span>没有列出这个名单，因为它被成功查询。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2148"></a><div class="props_rev_3"><a id="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3" name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3"></a><h3 id="CCREF-GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3" class="sect3"><span class="enumeration_section">13.10</span> TOKEN_INFO</h3>
               <div>
                  <div class="section">
                     <p>创建一个报告，显示已解码的令牌信息。此过程将完全扫描令牌的信息，因此可能需要很长时间才能运行非常大的令牌。</p>
                     <p>您可以将此操作称为具有<code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code>参数的过程，也可以将该报告作为<code class="codeph">CLOB</code>返回。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-C56F96AB-50EE-49B1-B852-50F29A8FB87D">句法</p><pre class="oac_no_warn" dir="ltr">过程CTX_REPORT.TOKEN_INFO（index_name IN VARCHAR2，报告IN OUT NOCOPY CLOB，令牌IN VARCHAR2，token_type IN NUMBER，part_name IN VARCHAR2 DEFAULT NULL，raw_info IN BOOLEAN DEFAULT FALSE，decoding_info IN BOOLEAN DEFAULT TRUE，report_format IN VARCHAR2 DEFAULT FMT_TEXT）; function CTX_REPORT.TOKEN_INFO（index_name IN VARCHAR2，token IN VARCHAR2，token_type IN NUMBER，part_name IN VARCHAR2 DEFAULT NULL，raw_info IN VARCHAR2 DEFAULT'N'，decoding_info IN VARCHAR2 DEFAULT'Y'，report_format IN VARCHAR2 DEFAULT FMT_TEXT）return clob;</pre><dl>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-A656B8E8-F0D7-45DE-93C1-8055224CC1D9"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-FA8DC8F2-FE08-449E-A1DA-317F82BCD0F8"><!-- --></a>报告</dt>
                        <dd>
                           <p>指定要将报告写入的<code class="codeph">CLOB</code>定位器。
                           </p>
                           <p>如果report为NULL，则将创建并返回会话持续时间临时<code class="codeph">CLOB</code> 。调用者有责任根据需要释放此临时<code class="codeph">CLOB</code> 。
                           </p>
                           <p><code class="codeph">report</code> <code class="codeph">CLOB</code>将在生成报告之前被截断，因此此调用令牌将覆盖任何现有内容，可能区分大小写，具体取决于传入的令牌类型。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-AF8736AD-A4DB-4798-8DF1-F767C5C96C61"><!-- --></a>令牌</dt>
                        <dd>
                           <p>指定令牌文本。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-C5B884AA-A449-4196-A357-6D3DCA80D349"><!-- --></a> token_type</dt>
                        <dd>
                           <p>指定令牌类型。您可以使用<a href="CTX_REPORT-package.html#GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE">TOKEN_TYPE</a>函数返回的<a href="CTX_REPORT-package.html#GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE">数字</a> 。<code class="codeph">THEME</code> ， <code class="codeph">ZONE</code> ， <code class="codeph">ATTR</code> ， <code class="codeph">PATH</code>和<code class="codeph">PATH</code> <code class="codeph">ATTR</code>令牌区分大小写。
                           </p>
                           <p>其他所有内容都通过词法分析器传递，因此如果索引的词法分析器区分大小写，则令牌输入区分大小写。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-CE0DAF82-0AAE-443E-808C-1051D3CB741B"><!-- --></a> part_name</dt>
                        <dd>
                           <p>指定索引分区的名称。</p>
                           <p>如果索引是本地分区索引，则必须提供part_name。<code class="codeph">TOKEN_INFO</code>将仅适用于该索引分区。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-3E050372-DAB8-4677-9C7C-E399337198B8"><!-- --></a> raw_info</dt>
                        <dd>
                           <p>指定<code class="codeph">TRUE</code>以包括索引数据的十六进制转储。如果raw_info为<code class="codeph">TRUE</code> ，则报告将在<code class="codeph">token_info</code>列中包含原始数据的十六进制转储。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-AD5D3BBB-C109-489D-90C9-ECFC89CF4D1E"><!-- --></a> decoding_info</dt>
                        <dd>
                           <p>指定解码并包含docid和偏移数据。如果<code class="codeph">decoded_info</code>为FALSE，则<code class="codeph">CTX_REPORT</code>将不会尝试解码令牌信息。当您只想要转储数据时，这非常有用。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-E04BAE43-6BE2-46E4-AF06-9CEAE5FF59CB"><!-- --></a> report_format</dt>
                        <dd>
                           <p>指定报告是应生成为“TEXT”还是“XML”。TEXT是默认值。您还可以指定值<code class="codeph">CTX_REPORT.FMT_TEXT</code>或<code class="codeph">CTX_REPORT.FMT_XML</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2149"></a><div class="props_rev_3"><a id="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE" name="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE"></a><h3 id="CCREF-GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE" class="sect3"><span class="enumeration_section">13.11</span> TOKEN_TYPE</h3>
               <div>
                  <div class="section">
                     <p>这是一个帮助函数，它将英文名称转换为数字标记类型。这适用于<code class="codeph">token_info</code>或任何其他接收<code class="codeph">token_type</code> <code class="codeph">CTX</code> API。
                     </p><pre class="oac_no_warn" dir="ltr">function token_type（varchar2中的index_name，varchar2中的type_name）返回编号; TOKEN_TYPE_TEXT常数：= 0; TOKEN_TYPE_THEME常数：= 1; TOKEN_TYPE_ZONE_SEC常数：= 2; TOKEN_TYPE_ORIG常数：= 3，TOKEN_TYPE_ATTR_TEXT常数：= 4; TOKEN_TYPE_ATTR_SEC常数：= 5; TOKEN_TYPE_PREFIX常数：= 6; TOKEN_TYPE_PATH_SEC常数：= 7; TOKEN_TYPE_PATH_ATTR常数：= 8; TOKEN_TYPE_STEM常数：= 9;</pre><dl>
                        <dt class="dlterm"><a name="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE__GUID-01EC18E6-F477-4A5E-A7FD-0F231955DA9F"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE__GUID-1C105442-5745-410E-A5D4-9CFA74A271B1"><!-- --></a> type_name</dt>
                        <dd>
                           <p>为<code class="codeph">token_type</code>指定英文名称。以下字符串是合法输入。所有输入都不区分大小写。
                           </p>
                           <div class="tblformal" id="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE__GUID-3DE973FE-48CB-4BE0-ADA9-90ABB58852B4">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This table shows legal input strings." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="38%" id="d119504e2328">输入</th>
                                       <th align="left" valign="bottom" width="39%" id="d119504e2331">含义</th>
                                       <th align="left" valign="bottom" width="23%" id="d119504e2334">返回类型</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2339" headers="d119504e2328 ">
                                          <p><code class="codeph">文本</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2339 d119504e2331 ">
                                          <p>普通文本标记。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2339 d119504e2334 ">
                                          <p>0</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2350" headers="d119504e2328 ">
                                          <p><code class="codeph">主题</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2350 d119504e2331 ">
                                          <p>主题令牌。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2350 d119504e2334 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2361" headers="d119504e2328 ">
                                          <p><code class="codeph">ZONE SEC</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2361 d119504e2331 ">
                                          <p>区域令牌。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2361 d119504e2334 ">
                                          <p>2</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2372" headers="d119504e2328 ">
                                          <p><code class="codeph">原版的</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2372 d119504e2331 ">
                                          <p>原始表单令牌</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2372 d119504e2334 ">
                                          <p>3</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2383" headers="d119504e2328 ">
                                          <p><code class="codeph">ATTR TEXT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2383 d119504e2331 ">
                                          <p>属性中出现的文本。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2383 d119504e2334 ">
                                          <p>4</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2394" headers="d119504e2328 ">
                                          <p><code class="codeph">ATTR SEC</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2394 d119504e2331 ">
                                          <p>属性部分。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2394 d119504e2334 ">
                                          <p>五</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2405" headers="d119504e2328 ">
                                          <p><code class="codeph">字首</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2405 d119504e2331 ">
                                          <p>前缀令牌。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2405 d119504e2334 ">
                                          <p>6</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2416" headers="d119504e2328 ">
                                          <p><code class="codeph">路径SEC</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2416 d119504e2331 ">
                                          <p>路径部分。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2416 d119504e2334 ">
                                          <p>7</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2427" headers="d119504e2328 ">
                                          <p><code class="codeph">路径ATTR</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2427 d119504e2331 ">
                                          <p>路径属性部分。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2427 d119504e2334 ">
                                          <p>8</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2438" headers="d119504e2328 ">
                                          <p><code class="codeph">干</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2438 d119504e2331 ">
                                          <p>干形式令牌。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2438 d119504e2334 ">
                                          <p>9</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2449" headers="d119504e2328 ">
                                          <p><code class="codeph">FIELD &lt;name&gt; TEXT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2449 d119504e2331 ">
                                          <p>字段&lt;name&gt;中的文本标记</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2449 d119504e2334 ">
                                          <p>16-79</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2461" headers="d119504e2328 ">
                                          <p><code class="codeph">FIELD &lt;name&gt; PREFIX</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2461 d119504e2331 ">
                                          <p>字段&lt;name&gt;中的前缀标记</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2461 d119504e2334 ">
                                          <p>616-916</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2472" headers="d119504e2328 ">
                                          <p><code class="codeph">FIELD &lt;name&gt; STEM</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2472 d119504e2331 ">
                                          <p>字段&lt;name&gt;中的词干标记</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2472 d119504e2334 ">
                                          <p>916-979</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2483" headers="d119504e2328 ">
                                          <p><code class="codeph">NDATA &lt;名称&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2483 d119504e2331 ">
                                          <p><code class="codeph">NDATA</code>类型令牌</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2483 d119504e2334 ">
                                          <p>200-299</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2496" headers="d119504e2328 ">
                                          <p><code class="codeph">TOKEN_TYPE_ATTR_TXT_PFIX</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2496 d119504e2331 ">
                                          <p>属性文本前缀。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2496 d119504e2334 ">
                                          <p>604</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2507" headers="d119504e2328 ">
                                          <p><code class="codeph">TOKEN_TYPE_ATTR_TXT_STEM</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2507 d119504e2331 ">
                                          <p>属性文本词干。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2507 d119504e2334 ">
                                          <p>904</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>对于<code class="codeph">FIELD</code>类型，需要读取索引元数据，因此如果您要为此类事件调用很多内容，您可能需要考虑在局部变量中缓存值，而不是反复调用token_type。
                           </p>
                           <p>常量类型（0  -  9）也定义了此包中的常量。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE__GUID-465C9537-19CA-4B1B-9B41-257EBA04B816">笔记</p>
                     <p>要获取<code class="codeph">MDATA</code>令牌的令牌类型，请不要使用<code class="codeph">CTX_REPORT.TOKEN_TYPE</code> ;请改用<a href="oracle-text-CONTAINS-query-operators.html#GUID-B995F693-A4AA-493D-A62D-6D79857BA50F">MDATA</a>运算符。（参见<span class="q">“ <a href="oracle-text-CONTAINS-query-operators.html#GUID-B995F693-A4AA-493D-A62D-6D79857BA50F">MDATA</a> ”</span> 。）要使用的语法是' <code class="codeph">MDATA</code> <span class="italic">secname</span> '。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE__GUID-DC188F45-1247-4399-9458-F3448004AC2F">例</p><pre class="oac_no_warn" dir="ltr">typenum：= ctx_report.token_type（'myindex'，'field author text'）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF24106"></a><div class="props_rev_3"><a id="GUID-06C55318-69A1-499E-B5C8-D7FC163A832C" name="GUID-06C55318-69A1-499E-B5C8-D7FC163A832C"></a><h3 id="CCREF-GUID-06C55318-69A1-499E-B5C8-D7FC163A832C" class="sect3"><span class="enumeration_section">13.12</span> VALIDATE_INDEX</h3>
               <div>
                  <div class="section">
                     <p>如果认为发生了索引损坏，则提供诊断。<code class="codeph">CTX_REPORT.VALIDATE_INDEX</code>检查索引（或本地分区索引的分区）并报告是否检测到任何损坏。<code class="codeph">VALIDATE_INDEX</code>仅检查具有<code class="codeph">token_type</code> <code class="codeph">0</code> $ I行，并且不检查包含有关节的信息的其他行，例如<code class="codeph">NDATA</code>部分。
                     </p>
                     <p>此过程主要用作在Oracle Support指导下使用的诊断工具。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="12273.index.html" dir="ltr"></html><html class="letter-style" dir="ltr">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>SQL * Plus快速参考，19c</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Quick Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Quick Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <link rel="alternate" href="sqlplus-quick-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="description" content=""></meta>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T01:51:13-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96463-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL*Plus Quick Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQPQR"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" xmlns:df="http://dita2indesign.org/dita/functions" xmlns:enum="http://dita4publishers.org/enumerables" xmlns:local="http//local/function" xmlns:relpath="http://dita2indesign/functions/relpath" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" role="alert">
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li class="active" property="itemListElement" typeof="ListItem"></li>
            </ol>
            
            <h2><span>SQL *PLUS®</span></h2>
         </header>
         <div class="letterstyle">
            
            <p class="booktitle"><span>快速参考</span></p>
            
            <p><span class="revnumber"><span>19C</span> </span></p>
            <p class="invpartnumber">E96463-01</p>
            <p class="date">2019年1月</p>
            <div>
               <div>
                  <p></p>
               </div>
            </div><a id="SQPQR101"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-39C46F25-BC4A-4BCB-A77B-455CBFCD18C3" id="GUID-39C46F25-BC4A-4BCB-A77B-455CBFCD18C3"></a><h3 id="SQPQR-GUID-39C46F25-BC4A-4BCB-A77B-455CBFCD18C3" class="sect3">关于本快速参考</h3>
               <div>
                  <p>本快速参考显示了SQL * Plus命令语法。有关每个命令的详细信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqpqr&amp;id=SQPUG" target="_blank"><span class="italic">SQL * Plus用户指南和参考</span></a> 。
                  </p>
                  <p>本快速参考包含以下主题：</p>
                  <ul xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" xmlns:df="http://dita2indesign.org/dita/functions" xmlns:enum="http://dita4publishers.org/enumerables" xmlns:local="http//local/function" xmlns:relpath="http://dita2indesign/functions/relpath" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" style="list-style-type:disc">
                     <li>
                        <p><a href="#GUID-C5A6CC17-7528-4B8A-B805-B512304A33F3">SQL * Plus命令的字母列表</a></p>
                     </li>
                     <li>
                        <p><a href="#GUID-E6CDE3E0-3035-49FC-B2FA-5BC854384CC8">启动和退出SQL * Plus</a></p>
                     </li>
                     <li>
                        <p><a href="#GUID-9964584C-5554-4F30-B97F-4ED1AF7664AB">启动和关闭数据库</a></p>
                     </li>
                     <li>
                        <p><a href="#GUID-FE0C4F98-FF77-4AF4-879F-9DB08E03E4E0">输入和执行命令</a></p>
                     </li>
                     <li>
                        <p><a href="#GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6">操作SQL，SQL * Plus和PL / SQL命令</a></p>
                     </li>
                     <li>
                        <p><a href="#GUID-2F355A6A-2E36-46CE-AF30-6A2F5B9B8A0F">格式化查询结果</a></p>
                     </li>
                     <li>
                        <p><a href="#GUID-C66C0C29-FEA8-4AAD-BAA4-E74F711097AF">访问数据库</a></p>
                     </li>
                     <li>
                        <p><a href="#GUID-7D4FB4F2-B568-46D5-BB52-64FD71C3E736">杂</a></p>
                     </li>
                  </ul>
               </div>
            </div>
            
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-A8772AC4-8C94-4807-8787-68DD5EEE0786" id="GUID-A8772AC4-8C94-4807-8787-68DD5EEE0786"></a><h3 id="SQPQR-GUID-A8772AC4-8C94-4807-8787-68DD5EEE0786" class="sect3">文档可访问性</h3>
               <div>
                  <p>有关Oracle对辅助功能的承诺的信息，请访问Oracle辅助功能计划网站<a href="http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=docacc" target="_blank"><code class="codeph">http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=docacc</code></a> 。</p>
                  <div class="section">
                     <p class="subhead1" id="GUID-A8772AC4-8C94-4807-8787-68DD5EEE0786__GUID-3DF4D01E-3D0D-4BD9-93B6-7598CEC5121A">访问Oracle支持</p>
                     <p>Oracle客户可以通过My Oracle Support获得电子支持。有关信息，请访问<a href="http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=info" target="_blank"><code class="codeph">http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=info</code></a>或访问<a href="http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=trs" target="_blank"><code class="codeph">http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=trs</code></a>听力受损。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <a id="SQPQR104"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-C5A6CC17-7528-4B8A-B805-B512304A33F3" id="GUID-C5A6CC17-7528-4B8A-B805-B512304A33F3"></a><h3 id="SQPQR-GUID-C5A6CC17-7528-4B8A-B805-B512304A33F3" class="sect3">SQL * Plus命令的字母列表</h3>
               <div>
                  <div class="section">
                     <p><span class="italic">@</span> { <span class="italic">url</span> | <span class="italic">file_name</span> [ <span class="italic">.ext</span> ]} [ <span class="italic">arg</span> ...]
                     </p>
                     <p><span class="italic">@@</span> { <span class="italic">url</span> | <span class="italic">file_name</span> [ <span class="italic">.ext</span> ]} [ <span class="italic">arg</span> ...]
                     </p>
                     <p>/（斜线）</p>
                     <p>ACC [EPT] <span class="italic">变量</span> [NUM [BER] | <span class="underline">CHAR</span> |日期| BINARY_FLOAT | BINARY_DOUBLE] [FOR [MAT] <span class="italic">格式</span> ] [DEF [AULT] <span class="italic">默认值</span> ] [PROMPT <span class="italic">text</span> | <span class="underline">NOPR [OMPT</span> ]] [隐藏]</p>
                     <p>一个[PPEND] <span class="italic">文字</span></p>
                     <p>存档日志列表</p>
                     <p>ATTRIBUTE [ <span class="italic">type_name</span> 。 <span class="italic">attribute_name</span> [ <span class="italic">option</span> ...]]
                     </p>
                     <p>BRE [AK] [ON <span class="italic">report_element</span> [ <span class="italic">action</span> [ <span class="italic">action</span> ]]] ......
                     </p>
                     <p>BTI [TLE] [ <span class="italic">printspec</span> [ <span class="italic">text</span> | <span class="italic">变量</span> ] ...]| [ON | <span class="underline">关</span> ]</p>
                     <p>C [HANGE] <span class="italic">sepchar旧</span> [ <span class="italic">sepchar</span> [ <span class="italic">new</span> [ <span class="italic">sepchar</span> ]]]</p>
                     <p>CL [EAR] <span class="italic">选项</span> ......
                     </p>
                     <p>COL [UMN] [{ <span class="italic">column</span> | <span class="italic">expr</span> } [ <span class="italic">选项</span> ...]]
                     </p>
                     <p>COMP [UTE] [ <span class="italic">函数</span> [LAB [EL] <span class="italic">text</span> ] ...OF { <span class="italic">expr</span> | <span class="italic">专栏</span> | <span class="italic">别名</span> } ...ON { <span class="italic">expr</span> | <span class="italic">专栏</span> | <span class="italic">别名</span> |报告|行......）
                     </p>
                     <p>CONN [ECT] [{ <span class="italic">logon</span> | / | <span class="italic">proxy</span> } [AS {SYSASM | SYSBACKUP | SYSDBA | SYSDG | SYSOPER | SYSRAC | SYSKM}] [edition = <span class="italic">value</span> ]]</p>
                     <p>COPY {FROM <span class="italic">database</span> | TO <span class="italic">数据库</span> |从<span class="italic">数据库</span>到<span class="italic">数据库</span> } {APPEND |创建| INSERT | REPLACE} <span class="italic">destination_table</span> [（ <span class="italic">column</span> ， <span class="italic">column</span> ， <span class="italic">column</span> ，...）]使用<span class="italic">查询</span></p>
                     <p>DEF [INE] [ <span class="italic">变量</span> ] | [ <span class="italic">variable</span> = <span class="italic">text</span> ]</p>
                     <p>DEL [ <span class="italic">n</span> | <span class="italic">nm</span> | <span class="italic">n</span> * | <span class="italic">n</span>最后| * | * <span class="italic">n</span> | *最后|持续]</p>
                     <p>DESC [RIBE] {[ <span class="italic">schema</span> 。] <span class="italic">对象</span> [ <span class="italic">@connect_identifier</span> ]}</p>
                     <p>断开]</p>
                     <p>ED [IT] [ <span class="italic">file_name</span> [。 <span class="italic">分机</span> ]]</p>
                     <p>EXEC [UTE] <span class="italic">声明</span></p>
                     <p>{退出|退出} [ <span class="underline">成功</span> |失败|警告| <span class="italic">n</span> | <span class="italic">变量</span> | <span class="italic">：BindVariable</span> ] [ <span class="underline">COMMIT</span> | ROLLBACK]</p>
                     <p>GET [FILE] <span class="italic">file_name</span> [。 <span class="italic">分机</span> ] [ <span class="underline">列表</span> | NOLIST]</p>
                     <p>帮助| ？[ <span class="italic">主题</span> ]</p>
                     <p>HIST [ORY] [ <span class="italic">n</span> RUN |编辑| DEL [ETE]] | [清除| LIST]</p>
                     <p>HO [ST] [ <span class="italic">命令</span> ]</p>
                     <p>我[NPUT] [ <span class="italic">文字</span> ]</p>
                     <p>L [IST] [ <span class="italic">n</span> | <span class="italic">nm</span> | <span class="italic">n</span> * | <span class="italic">n</span>最后| * | * <span class="italic">n</span> | *最后|持续]</p>
                     <p>PASSW [ORD] [ <span class="italic">用户名</span> ]</p>
                     <p>PAU [SE] [ <span class="italic">文字</span> ]</p>
                     <p>打印[ <span class="italic">变量</span> ...]
                     </p>
                     <p>PRO [MPT] [ <span class="italic">文字</span> ]</p>
                     <p>{退出|退出} [ <span class="underline">成功]</span>失败|警告| <span class="italic">n</span> | <span class="italic">变量</span> | <span class="italic">：BindVariable</span> ] [ <span class="underline">COMMIT</span> | ROLLBACK]</p>
                     <p>RECOVER { <span class="italic">general</span> | <span class="italic">管理</span> |开始备份|结束备份}</p>
                     <p>备注]</p>
                     <p>REPF [OTER] [PAGE] [ <span class="italic">printspec</span> [ <span class="italic">text</span> | <span class="italic">变量</span> ] ...]| [ON | <span class="underline">关</span> ]</p>
                     <p>REPH [EADER] [PAGE] [ <span class="italic">printspec</span> [ <span class="italic">text</span> | <span class="italic">变量</span> ] ...]| [ON | <span class="underline">关</span> ]</p>
                     <p>跑]</p>
                     <p>SAV [E] <span class="italic">[FILE] file_name</span> [。 <span class="italic">分机</span> ] [ <span class="underline">CRE [ATE</span> ] | REP [LACE] |附加]]</p>
                     <p>SET <span class="italic">system_variable</span> <span class="italic">值</span></p>
                     <p>SHO [W] [ <span class="italic">选项</span> ]</p>
                     <p>关闭[ABORT |立即| <span class="underline">正常</span> |交易[本地]]</p>
                     <p>SPO [OL] [ <span class="italic">文件名</span> [。 <span class="italic">分机</span> ] [CRE [ATE] | <span class="underline">REP [LACE]</span> | APP [END]] |关闭| OUT]</p>
                     <p>STA [RT] { <span class="italic">url</span> | <span class="italic">file_name</span> [ <span class="italic">.ext</span> ]} [ <span class="italic">arg</span> ...]
                     </p>
                     <p>STARTUP <span class="italic">db_options</span> | <span class="italic">cdb_options</span> | <span class="italic">upgrade_options</span></p>
                     <p>STORE {SET} <span class="italic">file_name</span> [。 <span class="italic">分机</span> ] [ <span class="underline">CRE [ATE</span> ] | REP [LACE] |附加]]</p>
                     <p>TIMI [NG] [开始<span class="italic">文字</span> |显示|停]</p>
                     <p>TTI [TLE] [ <span class="italic">printspec</span> [ <span class="italic">text</span> | <span class="italic">变量</span> ] ...]| [ON | <span class="underline">关</span> ]</p>
                     <p>UNDEF [INE] <span class="italic">变量</span> ......
                     </p>
                     <p>VAR [IABLE] [ <span class="italic">变量</span> [ <span class="italic">类型</span> ] [=值]]</p>
                     <p>WHERVER OSERROR {EXIT [ <span class="underline">SUCCESS</span> |失败| <span class="italic">n</span> | <span class="italic">变量</span> | <span class="italic">：BindVariable</span> ] [ <span class="underline">COMMIT</span> | ROLLBACK] |继续[COMMIT | ROLLBACK | <span class="underline">没有</span> ]}</p>
                     <p>WHERVER SQLERROR {EXIT [ <span class="underline">SUCCESS</span> |失败|警告| <span class="italic">n</span> | <span class="italic">变量</span> | <span class="italic">：BindVariable</span> ] [ <span class="underline">COMMIT</span> | ROLLBACK] |继续[COMMIT | ROLLBACK | <span class="underline">没有</span> ]}</p>
                     <p>XQUERY <span class="italic">xquery_statement</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <a id="SQPQR106"></a><a id="SQPQR105"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-E6CDE3E0-3035-49FC-B2FA-5BC854384CC8" id="GUID-E6CDE3E0-3035-49FC-B2FA-5BC854384CC8"></a><h3 id="SQPQR-GUID-E6CDE3E0-3035-49FC-B2FA-5BC854384CC8" class="sect3">启动和退出SQL * Plus</h3>
               <div>
                  <div class="section">
                     <p class="subhead1" id="GUID-E6CDE3E0-3035-49FC-B2FA-5BC854384CC8__GUID-8EF97147-5D98-45E8-B364-49D136C6F7BC">使用以下命令登录和退出SQL * Plus。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>SQLPLUS [[ <span class="italic">option</span> ] [ <span class="italic">logon</span> | / NOLOG] [ <span class="italic">开始</span> ]]</p>
                     <p>其中<span class="italic">option</span>具有以下语法：</p>
                     <p>-H [ELP] | -V [ERSION] | [[-C [OMPATIBILITY] <span class="italic">x</span> 。 <span class="italic">y</span> [。 <span class="italic">z</span> ]] [-F [ast]] [-M [ARKUP] <span class="italic">markup_option</span> ] [-L [OGON]] [-NOLOGINTIME] [-R [ESTRICT] {1 | 2 | 3}] [-S [ILENT]]]</p>
                     <p>其中<span class="italic">markup_option</span>包含：</p>
                     <ul xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" xmlns:df="http://dita2indesign.org/dita/functions" xmlns:enum="http://dita4publishers.org/enumerables" xmlns:local="http//local/function" xmlns:relpath="http://dita2indesign/functions/relpath" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" style="list-style-type:disc">
                        <li>
                           <p><span class="italic">csv_option</span></p>
                        </li>
                        <li>
                           <p><span class="italic">html_option</span></p>
                        </li>
                     </ul>
                     <p><span class="italic">csv_option</span>具有以下语法：</p><pre class="oac_no_warn" dir="ltr">CSV {ON | OFF} [DELIMI [TER] <span class="italic">字符</span> ] [QUOTE {ON | OFF}]</pre><p><span class="italic">html_option</span>具有以下语法：</p><pre class="oac_no_warn" dir="ltr">HTML {ON | OFF} [HEAD <span class="italic">文本</span> ] [BODY <span class="italic">文本</span> ] [TABLE <span class="italic">文本</span> ] [ENTMAP {ON | OFF}] [SPOOL {ON | OFF}] [PRE [FORMAT] {ON | OFF}]</pre><p>其中<span class="italic">logon</span>具有以下语法：</p>
                     <p>{ <span class="italic">username</span> [/ <span class="italic">password</span> ] [ <span class="italic">@connect_identifier</span> ] | /} [AS {SYSASM | SYSBACKUP | SYSDBA | SYSDG | SYSOPER | SYSRAC | SYSKM}] [edition = <span class="italic">value</span> ]</p>
                     <p>以及<span class="italic">start</span>的语法如下：</p>
                     <p><span class="italic">@</span> { <span class="italic">url</span> | <span class="italic">file_name</span> [。 <span class="italic">ext</span> ]} [ <span class="italic">arg</span> ...]
                     </p>
                     <p>{退出|退出} [ <span class="underline">成功</span> |失败|警告| <span class="italic">n</span> | <span class="italic">变量</span> | <span class="italic">：BindVariable</span> ] [ <span class="underline">COMMIT</span> | ROLLBACK]</p>
                     <p>提交或回滚所有挂起的更改，退出Oracle，终止SQL * Plus并将控制权返回给操作系统。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <a id="SQPQR107"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-9964584C-5554-4F30-B97F-4ED1AF7664AB" id="GUID-9964584C-5554-4F30-B97F-4ED1AF7664AB"></a><h3 id="SQPQR-GUID-9964584C-5554-4F30-B97F-4ED1AF7664AB" class="sect3">启动和关闭数据库</h3>
               <div>
                  <div class="section">
                     <p>启动和关闭数据库需要DBA权限。</p>
                     <p>STARTUP <span class="italic">db_options</span> | <span class="italic">cdb_options</span> | <span class="italic">upgrade_options</span></p>
                     <p>其中<span class="italic">db选项</span>具有以下语法：</p>
                     <p>[FORCE] [RESTRICT] [PFILE = <span class="italic">filename</span> ] [QUIET] [MOUNT [ <span class="italic">dbname</span> ] | [ <span class="underline">OPEN</span> [ <span class="italic">open_db_options</span> ] [ <span class="italic">dbname</span> ]] | NOMOUNT]</p>
                     <p>其中<span class="italic">open_db_options</span>具有以下语法：</p>
                     <p>阅读{仅| | WRITE [RECOVER]} |恢复</p>
                     <p>其中<span class="italic">cdb_options</span>具有以下语法：</p>
                     <p><span class="italic">root_connection_options</span> | <span class="italic">pdb_connection_options</span></p>
                     <p>其中<span class="italic">root_connection_options</span>具有以下语法：</p>
                     <p>PLUGGABLE DATABASE <span class="italic">pdbname</span> [FORCE] | [限制] [ <span class="underline">OPEN</span> { <span class="italic">open_pdb_options</span> }]</p>
                     <p>其中<span class="italic">pdb_connection_options</span>具有以下语法：</p>
                     <p>[FORCE] | [限制] [ <span class="underline">OPEN</span> { <span class="italic">open_pdb_options</span> }]</p>
                     <p>其中<span class="italic">open_pdb_options</span>具有以下语法：</p>
                     <p><span class="underline">READ WRITE</span> |只读</p>
                     <p>以及<span class="italic">upgrade_options</span>具有以下语法的位置：</p>
                     <p>[PFILE = <span class="italic">filename</span> ] {UPGRADE | DOWNGRADE} [QUIET]</p>
                     <p>使用多个选项启动Oracle数据库实例，包括装入和打开数据库。</p>
                     <p>关闭[ABORT |立即|正常|交易[本地]]</p>
                     <p>关闭当前运行的Oracle实例，可选择关闭和卸载数据库。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <a id="SQPQR109"></a><a id="SQPQR110"></a><a id="SQPQR111"></a><a id="SQPQR108"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-FE0C4F98-FF77-4AF4-879F-9DB08E03E4E0" id="GUID-FE0C4F98-FF77-4AF4-879F-9DB08E03E4E0"></a><h3 id="SQPQR-GUID-FE0C4F98-FF77-4AF4-879F-9DB08E03E4E0" class="sect3">输入和执行命令</h3>
               <div>
                  <div class="section">
                     <p class="subhead1" id="GUID-FE0C4F98-FF77-4AF4-879F-9DB08E03E4E0__GUID-3388CCC6-E581-4F93-BC70-B2AD42C7F9AA">使用以下命令执行和收集有关SQL命令和PL / SQL块的计时统计信息。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>/（斜线）</p>
                     <p>执行最近执行的SQL命令或存储在SQL缓冲区中的PL / SQL块。不列出命令。在SQL * Plus命令行中的命令提示符或行号提示符处使用斜杠（/）。</p>
                     <p>EXEC [UTE] <span class="italic">声明</span></p>
                     <p>执行单个PL / SQL语句或运行存储过程。</p>
                     <p>跑]</p>
                     <p>列出并执行最近执行的SQL命令或存储在SQL缓冲区中的PL / SQL块。</p>
                     <p>TIMI [NG] [开始<span class="italic">文字</span> |显示|停]</p>
                     <p>记录经过一段时间的计时数据，列出当前计时器的名称和计时数据，或列出活动计时器的数量。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead1" id="GUID-FE0C4F98-FF77-4AF4-879F-9DB08E03E4E0__GUID-84368006-526F-40B3-B515-F9CCE65DF151">使用以下命令访问帮助系统。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>帮助| ？[ <span class="italic">主题</span> ]</p>
                     <p>访问命令行帮助系统。输入帮助索引或？索引的主题列表。您可以在<a href="http://www.oracle.com/technology/documentation" target="_blank"><code class="codeph">http://www.oracle.com/technology/documentation</code></a>查看Oracle数据库。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead1" id="GUID-FE0C4F98-FF77-4AF4-879F-9DB08E03E4E0__GUID-2A2E68AA-1815-4C32-8637-19598AAAF1FC">使用以下命令执行操作系统命令。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>HO [ST] [ <span class="italic">命令</span> ]</p>
                     <p>执行操作系统命令而不离开SQL * Plus。不带命令输入HOST以显示操作系统提示。然后，您可以输入多个操作系统命令。</p>
                     <p>对于某些操作系统，您可以使用另一个字符而不是HOST，例如“！“（UNIX）和”$“（Windows）。有关详细信息，请参阅为操作系统提供的Oracle安装和用户手册。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <a id="SQPQR113"></a><a id="SQPQR114"></a><a id="SQPQR115"></a><a id="SQPQR116"></a><a id="SQPQR117"></a><a id="SQPQR118"></a><a id="SQPQR112"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6" id="GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6"></a><h3 id="SQPQR-GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6" class="sect3">操作SQL，SQL * Plus和PL / SQL命令</h3>
               <div>
                  <div class="section">
                     <p class="subhead1" id="GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6__GUID-7D6EA7CE-C540-4143-906D-AF9B63956990">使用以下命令编辑SQL命令和PL / SQL块。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>一个[PPEND] <span class="italic">文字</span></p>
                     <p>将指定的文本添加到SQL缓冲区中当前行的末尾。要使用空格将<span class="italic">文本</span>与前面的字符分开，请输入两个空格。要附加以分号结尾的<span class="italic">文本</span> ，请以两个分号结束命令（单个分号将被解释为命令终止符）。
                     </p>
                     <p>C [HANGE] <span class="italic">sepchar旧</span> [ <span class="italic">sepchar</span> [ <span class="italic">new</span> [ <span class="italic">sepchar</span> ]]]</p>
                     <p>在SQL缓冲区的当前行上更改<span class="italic">旧的</span>第一次出现。您可以使用任何非字母数字字符，例如“/”或“！“作为一个<span class="italic">sepchar</span> 。您可以省略CHANGE和第一个<span class="italic">sepchar</span>之间的<span class="italic">空格</span> 。
                     </p>
                     <p>DEL [ <span class="italic">n</span> | <span class="italic">nm</span> | <span class="italic">n</span> * | <span class="italic">n</span>最后| * | * <span class="italic">n</span> | *最后|持续]</p>
                     <p>删除SQL缓冲区的一行或多行（“*”表示当前行）。您可以省略DEL和<span class="italic">n</span>或*之间的空格，但不能省略DEL和LAST之间的空格。输入DEL，不带子句删除缓冲区的当前行。
                     </p>
                     <p>我[NPUT] [ <span class="italic">文字</span> ]</p>
                     <p>在SQL缓冲区中的当前行之后添加一行或多行新文本。</p>
                     <p>L [IST] [ <span class="italic">n</span> | <span class="italic">nm</span> | <span class="italic">n</span> * | <span class="italic">n</span>最后| * | * <span class="italic">n</span> | *最后|持续]</p>
                     <p>列出最近执行的SQL命令或存储在SQL缓冲区中的PL / SQL块的一行或多行。星号（*）表示当前行。您可以省略LIST和<span class="italic">n</span>或*之间的空格，但不能省略LIST和LAST之间的空格。输入LIST，不带任何条款列出所有行。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead1" id="GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6__GUID-7CD46F09-3002-44C4-926D-B4DC85C4A647">使用以下命令运行脚本。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><span class="italic">@</span> { <span class="italic">url</span> | <span class="italic">file_name</span> [ <span class="italic">.ext</span> ]} [ <span class="italic">arg</span> ...]
                     </p>
                     <p>在指定的脚本中运行SQL * Plus语句。可以从本地文件系统或Web服务器调用该脚本。您可以通常的方式将值传递给脚本变量。</p>
                     <p><span class="italic">@@</span> { <span class="italic">url</span> | <span class="italic">file_name</span> [ <span class="italic">.ext</span> ]} [ <span class="italic">arg</span> ...]
                     </p>
                     <p>在指定的脚本中运行SQL * Plus语句。该命令几乎与@命令相同。它对于运行嵌套脚本很有用，因为它具有在与调用脚本相同的路径或<span class="italic">URL</span>中查找指定脚本的附加功能。
                     </p>
                     <p>STA [RT] { <span class="italic">url</span> | <span class="italic">file_name</span> [ <span class="italic">.ext</span> ]} [ <span class="italic">arg</span> ...]
                     </p>
                     <p>在指定的脚本中运行SQL * Plus语句。可以从本地文件系统或Web服务器调用该脚本。您可以通常的方式将值传递给脚本变量。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead1" id="GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6__GUID-64DD42D3-6ABE-4724-9323-CDB01B3450C2">使用以下命令创建和修改脚本。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>ED [IT] [ <span class="italic">file_name</span> [。 <span class="italic">分机</span> ]]</p>
                     <p>对指定文件的内容或SQL缓冲区的内容调用操作系统文本编辑器。要编辑缓冲区内容，请省略文件名。</p>
                     <p>GET <span class="italic">file_name</span> [。 <span class="italic">分机</span> ] [列表| NOLIST]</p>
                     <p>将SQL语句或PL / SQL块从文件加载到SQL缓冲区中。</p>
                     <p>备注]</p>
                     <p>在脚本中开始发表评论。REMARK命令必须出现在行的开头，并且注释在行的末尾结束（一行不能同时包含注释和命令）。SQL * Plus不会将注释解释为命令。</p>
                     <p>SAV [E] <span class="italic">file_name</span> [。 <span class="italic">分机</span> ] [ <span class="underline">CRE [ATE</span> ] | REP [LACE] |附加]]</p>
                     <p>将SQL缓冲区的内容保存在文件中。</p>
                     <p>STORE {SET} <span class="italic">file_name</span> [。 <span class="italic">分机</span> ] [ <span class="underline">CRE [ATE</span> ] | REP [LACE] |附加]]</p>
                     <p>将当前SQL * Plus环境的属性保存在文件中。</p>
                     <p>WHERVER OSERROR {EXIT [SUCCESS |失败| <span class="italic">n</span> | <span class="italic">变量</span> | <span class="italic">：BindVariable</span> ] [COMMIT | ROLLBACK] |继续[COMMIT | ROLLBACK |没有]}</p>
                     <p>如果发生操作系统错误（例如文件写入错误），则执行指定的操作（默认情况下退出SQL * Plus）。</p>
                     <p>WHERVER SQLERROR {EXIT [ <span class="underline">SUCCESS</span> |失败|警告| <span class="italic">n</span> | <span class="italic">变量</span> | <span class="italic">：BindVariable</span> ] [ <span class="underline">COMMIT</span> | ROLLBACK] |继续[COMMIT | ROLLBACK | <span class="underline">没有</span> ]}</p>
                     <p>如果SQL命令或PL / SQL块生成错误，则执行指定的操作（默认退出SQL * Plus）。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead1" id="GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6__GUID-8D20881A-5791-4E24-8C45-77002DC25B7B">使用以下命令编写交互式命令。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>ACC [EPT] <span class="italic">变量</span> [NUM [BER] | <span class="underline">CHAR</span> |日期| BINARY_FLOAT | BINARY_DOUBLE] [FOR [MAT] <span class="italic">格式</span> ] [DEF [AULT] <span class="italic">默认值</span> ] [PROMPT <span class="italic">text</span> | <span class="underline">NOPR [OMPT</span> ]] [隐藏]</p>
                     <p>读取一行输入并将其存储在给定的替换变量中。</p>
                     <p>DEF [INE] [ <span class="italic">变量</span> ] | [ <span class="italic">variable</span> = <span class="italic">text</span> ]</p>
                     <p>指定替换变量并为其分配CHAR值，或列出单个变量或所有变量的值和变量类型。</p>
                     <p>PAU [SE] [ <span class="italic">文字</span> ]</p>
                     <p>显示指定的文本，然后等待用户按RETURN。</p>
                     <p>PRO [MPT] [ <span class="italic">文字</span> ]</p>
                     <p>将指定的消息或空行发送到用户的屏幕。</p>
                     <p>UNDEF [INE] <span class="italic">变量</span> ......
                     </p>
                     <p>删除显式（使用DEFINE命令）或隐式（使用START命令参数）定义的一个或多个替换变量。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead1" id="GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6__GUID-DDC8C6EB-B96C-49EC-97DD-54A87602B264">使用以下命令创建和显示绑定变量。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>打印[ <span class="italic">变量</span> ...]
                     </p>
                     <p>显示绑定变量的当前值，或列出所有绑定变量。</p>
                     <p>VAR [IABLE] [ <span class="italic">变量</span> [ <span class="italic">类型</span> ] [= <span class="italic">值</span> ]]</p>
                     <p>声明可以在PL / SQL中引用的绑定变量，或列出单个变量或所有变量的当前显示特性。</p>
                     <p><span class="italic">type</span>表示以下之一：</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li>数</li>
                        <li>CHAR</li>
                        <li>CHAR（ <span class="italic">n</span> [CHAR | BYTE]）</li>
                        <li>NCHAR</li>
                        <li>NCHAR（ <span class="italic">n</span> ）</li>
                        <li>VARCHAR2（ <span class="italic">n</span> [CHAR | BYTE]）</li>
                        <li>NVARCHAR2（ <span class="italic">n</span> ）</li>
                        <li>CLOB</li>
                        <li>NCLOB</li>
                        <li>REFCURSOR</li>
                        <li>BINARY_FLOAT</li>
                        <li>BINARY_DOUBLE</li>
                     </ul>
                     <p><span class="italic">value</span>允许您为输入绑定的变量赋值。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead1" id="GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6__GUID-535B8D61-C2DB-4650-8F55-3FE032D7F7A8">使用以下符号创建替换变量和参数以在脚本中使用。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>＆ <span class="italic">n</span></p>
                     <p>指定使用START命令运行的脚本中的参数。START会在脚本名称后面替换您列出的值，如下所示：第一个用于＆1，第二个用于＆2，依此类推。</p>
                     <p>＆ <span class="italic">user_variable</span> ，&amp;&amp; <span class="italic">user_variable</span></p>
                     <p>表示SQL或SQL * Plus命令中的替换变量。SQL * Plus为它遇到的每个替换变量替换指定替换变量的值。如果替换变量未定义，则<span class="italic">每次</span>找到“＆”变量时，SQL * Plus都会提示您输入值，并且<span class="italic">第</span>一次找到“&amp;&amp;”变量。
                     </p>
                     <p>。 （期）</p>
                     <p>终止替换变量，后跟一个字符，否则该字符将成为变量名称的一部分。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <a id="SQPQR120"></a><a id="SQPQR119"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-2F355A6A-2E36-46CE-AF30-6A2F5B9B8A0F" id="GUID-2F355A6A-2E36-46CE-AF30-6A2F5B9B8A0F"></a><h3 id="SQPQR-GUID-2F355A6A-2E36-46CE-AF30-6A2F5B9B8A0F" class="sect3">格式化查询结果</h3>
               <div>
                  <div class="section">
                     <p class="subhead1" id="GUID-2F355A6A-2E36-46CE-AF30-6A2F5B9B8A0F__GUID-2FD5EE6F-A0D0-4EE1-A250-F0FD55CB1CA8">使用以下命令格式化，存储和打印查询结果。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>ATTRIBUTE [ <span class="italic">type_name</span> 。 <span class="italic">attribute_name</span> [ <span class="italic">option</span> ...]]
                     </p>
                     <p>指定“对象类型”列的给定属性的显示特征，例如NUMBER数据的格式。列和属性不应具有相同的名称，因为它们共享公共命名空间。列出单个属性或所有属性的当前显示特征。</p>
                     <p>where <span class="italic">选项</span>代表以下条款之一：</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li>ALI [AS] <span class="italic">别名</span></li>
                        <li>明确]</li>
                        <li>FOR [MAT] <span class="italic">格式</span></li>
                        <li>喜欢{ <span class="italic">type_name</span> 。 <span class="italic">attribute_name</span> | <span class="italic">别名</span> }</li>
                        <li><span class="underline">开</span> |关</li>
                        <li>BRE [AK] [ON <span class="italic">report_element</span> [ <span class="italic">action</span> [ <span class="italic">action</span> ]]] ......
                        </li>
                     </ul>
                     <p>指定报表中发生更改的位置以及要执行的格式设置操作，例如：</p>
                     <ul xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" xmlns:df="http://dita2indesign.org/dita/functions" xmlns:enum="http://dita4publishers.org/enumerables" xmlns:local="http//local/function" xmlns:relpath="http://dita2indesign/functions/relpath" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" style="list-style-type:disc">
                        <li>
                           <p>禁止显示给定列的重复值</p>
                        </li>
                        <li>
                           <p>每次给定列值更改时跳过一行</p>
                        </li>
                        <li>
                           <p>每次给定列值更改时或在报告结束时打印计算数字</p>
                        </li>
                     </ul>
                     <p>输入BREAK，不带任何条款列出当前的BREAK定义。</p>
                     <p><span class="italic">report_element</span>具有以下语法：</p>
                     <p>{ <span class="italic">column</span> | <span class="italic">expr</span> |行|报告}</p>
                     <p>以及<span class="italic">action</span>具有以下语法的位置：</p>
                     <p>[SKI [P] <span class="italic">n</span> | [SKI [P]] PAGE] [ <span class="underline">NODUP [LICATES</span> ] | DUP [LICATES]]</p>
                     <p>BTI [TLE] [ <span class="italic">printspec</span> [ <span class="italic">text</span> | <span class="italic">变量</span> ] ...]| [ON | <span class="underline">关</span> ]</p>
                     <p>在每个报告页面的底部放置和格式化标题，或列出当前的BTITLE定义。使用以下某个子句代替<span class="italic">printspec</span> ：</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li>胆大</li>
                        <li>中央]</li>
                        <li>COL <span class="italic">n</span></li>
                        <li>格式<span class="italic">文字</span></li>
                        <li>剩下]</li>
                        <li>对]</li>
                        <li>S [KIP] [ <span class="italic">n</span> ]</li>
                        <li>TAB <span class="italic">n</span></li>
                        <li>CL [EAR] <span class="italic">选项</span> ......
                        </li>
                     </ul>
                     <p>重置或删除指定选项的当前值或设置。</p>
                     <p>where <span class="italic">选项</span>代表以下条款之一：</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li>BRE [AKS]</li>
                        <li>缓冲]</li>
                        <li>列]</li>
                        <li>COMP [UTES]</li>
                        <li>屏幕]</li>
                        <li>SQL</li>
                        <li>定时]</li>
                        <li>COL [UMN] [{ <span class="italic">column</span> | <span class="italic">expr</span> } [ <span class="italic">选项</span> ...]]
                        </li>
                     </ul>
                     <p>指定给定列的显示属性，例如：</p>
                     <ul xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" xmlns:df="http://dita2indesign.org/dita/functions" xmlns:enum="http://dita4publishers.org/enumerables" xmlns:local="http//local/function" xmlns:relpath="http://dita2indesign/functions/relpath" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" style="list-style-type:disc">
                        <li>
                           <p>列标题的文本</p>
                        </li>
                        <li>
                           <p>列标题的对齐方式</p>
                        </li>
                        <li>
                           <p>NUMBER数据的格式</p>
                        </li>
                        <li>
                           <p>包裹列数据</p>
                        </li>
                     </ul>
                     <p>还列出单个列或所有列的当前显示属性。</p>
                     <p>where <span class="italic">选项</span>代表以下条款之一：</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li>ALI [AS] <span class="italic">别名</span></li>
                        <li>明确]</li>
                        <li>ENTMAP {ON | OFF}</li>
                        <li>FOLD_A [压脚提升]</li>
                        <li>FOLD_B [EFORE]</li>
                        <li>FOR [MAT] <span class="italic">格式</span></li>
                        <li>HEA [DING] <span class="italic">文字</span></li>
                        <li>JUS [TIFY] {L [EFT] | C [ENTER] |对]}</li>
                        <li>LIKE { <span class="italic">expr</span> | <span class="italic">别名</span> }</li>
                        <li>新队]</li>
                        <li>NEW_V [ALUE] <span class="italic">变量</span></li>
                        <li>NOPRI [NT] | <span class="underline">打印]</span></li>
                        <li>NUL [L]文字</li>
                        <li>OLD_V [ALUE] <span class="italic">变量</span> <span class="underline">ON</span> |关闭</li>
                        <li><span class="underline">WRA [PPED]</span> | WOR [D_WRAPPED] | TRU [NCATED]</li>
                     </ul>
                     <p>输入COLUMN [{ <span class="italic">column</span> | <span class="italic">expr</span> } FORMAT <span class="italic">格式</span> ]其中<span class="italic">format</span>元素指定列的显示格式。
                     </p>
                     <p>要更改NUMBER列的显示格式，请使用FORMAT，然后使用下表中的一个元素：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2F355A6A-2E36-46CE-AF30-6A2F5B9B8A0F__GUID-5E6AEF0A-4628-45C3-8EDC-22F3805D4FF7">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Lists examples and descriptions of  elements that can be used for number formatting in a COLUMN." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="15%" id="d2580e301">元件</th>
                              <th align="left" valign="bottom" width="17%" id="d2580e304">例子</th>
                              <th align="left" valign="bottom" width="68%" id="d2580e307">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e312" headers="d2580e301 ">
                                 <p>，（逗号）</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e312 d2580e304 "><pre class="oac_no_warn" dir="ltr">9999</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e312 d2580e307 ">
                                 <p>在指定位置显示逗号。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e322" headers="d2580e301 ">
                                 <p>。 （期）</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e322 d2580e304 "><pre class="oac_no_warn" dir="ltr">99.99</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e322 d2580e307 ">
                                 <p>显示句点（小数点）以分隔数字的整数部分和小数部分。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e332" headers="d2580e301 ">
                                 <p>$</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e332 d2580e304 "><pre class="oac_no_warn" dir="ltr">$ 9999产品</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e332 d2580e307 ">
                                 <p>显示领先的美元符号。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e342" headers="d2580e301 ">
                                 <p>0</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e342 d2580e304 "><pre class="oac_no_warn" dir="ltr">0999 9990</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e342 d2580e307 ">
                                 <p>显示前导零显示尾随零。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e352" headers="d2580e301 ">
                                 <p>9</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e352 d2580e304 "><pre class="oac_no_warn" dir="ltr">9999</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e352 d2580e307 ">
                                 <p>显示一个值，其值由9s指定。如果为正，则值具有前导空格，如果为负，则具有前导减号。空白显示为前导零。零（0）显示为零值。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e362" headers="d2580e301 ">
                                 <p>乙</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e362 d2580e304 "><pre class="oac_no_warn" dir="ltr">B9999</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e362 d2580e307 ">
                                 <p>当整数部分为零时，显示定点数的整数部分的空白，而不管格式模型中的零。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e372" headers="d2580e301 ">
                                 <p>C</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e372 d2580e304 "><pre class="oac_no_warn" dir="ltr">C999</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e372 d2580e307 ">
                                 <p>在指定位置显示ISO货币符号。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e382" headers="d2580e301 ">
                                 <p>d</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e382 d2580e304 "><pre class="oac_no_warn" dir="ltr">99D99</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e382 d2580e307 ">
                                 <p>显示十进制字符以分隔数字的整数部分和小数部分。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e392" headers="d2580e301 ">
                                 <p>EEEE</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e392 d2580e304 "><pre class="oac_no_warn" dir="ltr">9.999EEEE</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e392 d2580e307 ">
                                 <p>以科学计数法显示值（格式必须包含四个“E”）。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e402" headers="d2580e301 ">
                                 <p>G</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e402 d2580e304 "><pre class="oac_no_warn" dir="ltr">9G999</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e402 d2580e307 ">
                                 <p>在数字的整数部分中的指定位置显示组分隔符。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e412" headers="d2580e301 ">
                                 <p>大号</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e412 d2580e304 "><pre class="oac_no_warn" dir="ltr">L999</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e412 d2580e307 ">
                                 <p>显示指定位置的本地货币符号。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e423" headers="d2580e301 ">
                                 <p>MI</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e423 d2580e304 "><pre class="oac_no_warn" dir="ltr">9999MI</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e423 d2580e307 ">
                                 <p>在负值后显示尾随减号。在正值后显示尾随空格。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e433" headers="d2580e301 ">
                                 <p>PR</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e433 d2580e304 "><pre class="oac_no_warn" dir="ltr">9999PR</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e433 d2580e307 ">
                                 <p>在&lt;尖括号&gt;中显示负值。显示带前导和尾随空格的正值。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e443" headers="d2580e301 ">
                                 <p>RN rn</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e443 d2580e304 "><pre class="oac_no_warn" dir="ltr">RN rn</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e443 d2580e307 ">
                                 <p>显示大写罗马数字。显示小写罗马数字。值可以是1到3999之间的整数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e453" headers="d2580e301 ">
                                 <p>小号</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e453 d2580e304 "><pre class="oac_no_warn" dir="ltr">S9999 9999S</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e453 d2580e307 ">
                                 <p>显示前导减号或加号。显示尾随减号或加号。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e463" headers="d2580e301 ">
                                 <p>TM值</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e463 d2580e304 "><pre class="oac_no_warn" dir="ltr">TM值</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e463 d2580e307 ">
                                 <p>显示可能的最小十进制字符数。默认值为TM9。固定符号用于输出最多64个字符，科学符号用于超过64个字符。不能在TM之前与任何其他元素。TM只能跟随一个9或E</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e473" headers="d2580e301 ">
                                 <p>ü</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e473 d2580e304 "><pre class="oac_no_warn" dir="ltr">U9999</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e473 d2580e307 ">
                                 <p>在指定位置显示双币种符号。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>COMP [UTE] [ <span class="italic">函数</span> [LAB [EL] <span class="italic">text</span> ] ...OF { <span class="italic">expr</span> | <span class="italic">专栏</span> | <span class="italic">别名</span> } ...ON { <span class="italic">expr</span> | <span class="italic">专栏</span> | <span class="italic">别名</span> |报告|行......）
                     </p>
                     <p>结合BREAK命令，使用各种标准计算计算和打印摘要行。它还列出了所有COMPUTE定义。下表列出了有效的功能。除NUMBER之外的所有函数仅适用于非空值。COMPUTE函数始终按以下顺序执行：AVG，COUNT，MINIMUM，MAXIMUM，NUMBER，SUM，STD，VARIANCE。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2F355A6A-2E36-46CE-AF30-6A2F5B9B8A0F__GUID-CE009388-F224-4C3E-BA34-50E82E3CFA5E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Lists COMPUTE functions, what they do, and what datatypes they apply to." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="16%" id="d2580e521">功能</th>
                              <th align="left" valign="bottom" width="38%" id="d2580e524">单位计算</th>
                              <th align="left" valign="bottom" width="47%" id="d2580e527">适用于数据类型</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d2580e532" headers="d2580e521 "><code class="codeph">AVG</code></td>
                              <td align="left" valign="top" width="38%" headers="d2580e532 d2580e524 ">
                                 <p>非空值的平均值</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d2580e532 d2580e527 ">
                                 <p>数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d2580e542" headers="d2580e521 "><code class="codeph">计数]</code></td>
                              <td align="left" valign="top" width="38%" headers="d2580e542 d2580e524 ">
                                 <p>计数非空值</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d2580e542 d2580e527 ">
                                 <p>所有类型</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d2580e552" headers="d2580e521 "><code class="codeph">Min（最小）</code></td>
                              <td align="left" valign="top" width="38%" headers="d2580e552 d2580e524 ">
                                 <p>最低价值</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d2580e552 d2580e527 ">
                                 <p>NUMBER，CHAR，NCHAR，VARCHAR2（VARCHAR），NVARCHAR2（NCHAR VARYING）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d2580e562" headers="d2580e521 "><code class="codeph">最大值]</code></td>
                              <td align="left" valign="top" width="38%" headers="d2580e562 d2580e524 ">
                                 <p>最大价值</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d2580e562 d2580e527 ">
                                 <p>NUMBER，CHAR，NCHAR，VARCHAR2（VARCHAR），NVARCHAR2（NCHAR VARYING）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d2580e572" headers="d2580e521 "><code class="codeph">数]</code></td>
                              <td align="left" valign="top" width="38%" headers="d2580e572 d2580e524 ">
                                 <p>行数</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d2580e572 d2580e527 ">
                                 <p>所有类型</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d2580e582" headers="d2580e521 "><code class="codeph">和</code></td>
                              <td align="left" valign="top" width="38%" headers="d2580e582 d2580e524 ">
                                 <p>非空值的总和</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d2580e582 d2580e527 ">
                                 <p>数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d2580e592" headers="d2580e521 "><code class="codeph">STD</code></td>
                              <td align="left" valign="top" width="38%" headers="d2580e592 d2580e524 ">
                                 <p>非空值的标准偏差</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d2580e592 d2580e527 ">
                                 <p>数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d2580e602" headers="d2580e521 "><code class="codeph">方差]</code></td>
                              <td align="left" valign="top" width="38%" headers="d2580e602 d2580e524 ">
                                 <p>非空值的方差</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d2580e602 d2580e527 ">
                                 <p>数</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>REPF [OTER] [PAGE] [ <span class="italic">printspec</span> [ <span class="italic">text</span> | <span class="italic">变量</span> ] ...]| [ON | <span class="underline">关</span> ]</p>
                     <p>在报表底部放置并格式化页脚，或列出当前的REPFOOTER定义。</p>
                     <p>其中<span class="italic">printspec</span>表示以下一个或多个子句：</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li>胆大</li>
                        <li>中央]</li>
                        <li>COL <span class="italic">n</span></li>
                        <li>格式<span class="italic">文字</span></li>
                        <li>剩下]</li>
                        <li>对]</li>
                        <li>S [KIP] [ <span class="italic">n</span> ]</li>
                        <li>TAB <span class="italic">n</span></li>
                        <li>REPH [EADER] [PAGE] [ <span class="italic">printspec</span> [ <span class="italic">text</span> | <span class="italic">变量</span> ] ...]| [ON | <span class="underline">关</span> ]</li>
                     </ul>
                     <p>在报表顶部放置标题并格式化标题，或列出当前的REPHEADER定义。</p>
                     <p>其中<span class="italic">printspec</span>表示<span class="italic">REPFOOTER中显示的</span>一个或多个子句。</p>
                     <p>SPO [OL] [ <span class="italic">文件名</span> [。 <span class="italic">分机</span> ] [CRE [ATE] | <span class="underline">REP [LACE]</span> | APP [END]] |关闭| OUT]</p>
                     <p>将查询结果存储在文件中，或者可选地将文件发送到打印机。OFF停止假脱机。OUT停止假脱机并将文件发送到计算机的默认打印机。输入没有子句的SPOOL列出当前假脱机状态。如果未指定文件扩展名，则使用默认扩展名<span class="italic">.lst</span>或<span class="italic">.lis</span> 。
                     </p>
                     <p>TTI [TLE] [ <span class="italic">printspec</span> [ <span class="italic">text</span> | <span class="italic">变量</span> ] ...]| [ON | <span class="underline">关</span> ]</p>
                     <p>在每个报告页面的顶部放置和格式化指定的标题，或列出当前的TTITLE定义。如果在TTITLE命令后面只有一个单词或引号中的字符串，则使用旧形式的TTITLE。</p>
                     <p>其中<span class="italic">printspec</span>表示以下一个或多个子句：</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li>胆大</li>
                        <li>中央]</li>
                        <li>COL <span class="italic">n</span></li>
                        <li>格式<span class="italic">文字</span></li>
                        <li>剩下]</li>
                        <li>对]</li>
                        <li>S [KIP] [ <span class="italic">n</span> ]</li>
                        <li>TAB <span class="italic">n</span></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <a id="SQPQR122"></a><a id="SQPQR121"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-C66C0C29-FEA8-4AAD-BAA4-E74F711097AF" id="GUID-C66C0C29-FEA8-4AAD-BAA4-E74F711097AF"></a><h3 id="SQPQR-GUID-C66C0C29-FEA8-4AAD-BAA4-E74F711097AF" class="sect3">访问数据库</h3>
               <div>
                  <div class="section">
                     <p class="subhead1" id="GUID-C66C0C29-FEA8-4AAD-BAA4-E74F711097AF__GUID-BBDE6CE8-55AC-42AE-BE4B-35A4151B9D54">使用以下命令在不同数据库的表之间访问和复制数据。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>CONN [ECT] [{ <span class="italic">logon</span> | / | <span class="italic">proxy</span> } [AS {SYSASM | SYSBACKUP | SYSDBA | SYSDG | SYSOPER | SYSRAC | SYSKM}] [edition = <span class="italic">value</span> ]]</p>
                     <p><span class="italic">登录</span>需要以下语法：</p>
                     <p><span class="italic">用户名</span> [/ <span class="italic">密码</span> ] [@ <span class="italic">connect_identifier</span> ]</p>
                     <p>其中<span class="italic">proxy</span>需要以下语法：</p>
                     <p><span class="italic">PROXYUSER</span> [ <span class="italic">用户名</span> ] [/ <span class="italic">密码</span> ] [@ <span class="italic">connect_identifier]</span></p>
                     <div class="infoboxnote" id="GUID-C66C0C29-FEA8-4AAD-BAA4-E74F711097AF__GUID-A9C49A01-BC95-46AE-8B4C-B72F7032E34B">
                        <p class="notep1">注意：</p>
                        <p><span class="italic">代理</span>中<span class="italic">用户名</span>的括号是必需的语法。
                        </p>
                     </div>
                     <p>将给定的用户名连接到Oracle数据库。如果省略<span class="italic">connect_identifier</span> ，SQL * Plus会将您连接到默认数据库。如果省略<span class="italic">用户名</span>和/或<span class="italic">密码</span> ，SQL * Plus会提示您输入。CONNECT后跟斜杠（/）使用默认（OPS $）登录连接您。
                     </p>
                     <p>运行CONNECT命令时，将按该顺序处理站点配置文件glogin.sql和用户配置文件login.sql。如果初始连接不成功，CONNECT不会重新提示用户名或密码。</p>
                     <p>断开]</p>
                     <p>提交对数据库的挂起更改并将当前用户从Oracle中注销，但不退出SQL * Plus。在SQL * Plus命令行中，使用EXIT或QUIT注销Oracle并将控制权返回到计算机的操作系统。</p>
                     <p>COPY {FROM <span class="italic">database</span> | TO <span class="italic">数据库</span> |从<span class="italic">数据库</span>到<span class="italic">数据库</span> } {APPEND |创建| INSERT | REPLACE} <span class="italic">destination_table</span> [（ <span class="italic">column</span> ， <span class="italic">column</span> ， <span class="italic">column</span> ，...）]使用<span class="italic">查询</span></p>
                     <p>其中<span class="italic">database</span>具有以下语法：</p>
                     <p><span class="italic">用户名</span> [/ <span class="italic">密码</span> ] <span class="italic">@connect_identifier</span></p>
                     <p>将查询中的数据复制到同一数据库或另一个数据库中的表。APPEND，CREATE，INSERT或REPLACE指定COPY如何处理目标表的现有副本（如果存在）。USING <span class="italic">查询</span>标识源表并确定COPY从中复制哪些行和列。COPY支持CHAR，DATE，LONG，NUMBER和VARCHAR2数据类型。
                     </p>
                     <p>PASSW [ORD] [ <span class="italic">用户名</span> ]</p>
                     <p>允许您更改密码而不在输入设备上显示密码。</p>
                     <p>XQUERY <span class="italic">xquery_statement</span></p>
                     <p>允许您从SQL * Plus运行XQuery。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <a id="SQPQR123"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-7D4FB4F2-B568-46D5-BB52-64FD71C3E736" id="GUID-7D4FB4F2-B568-46D5-BB52-64FD71C3E736"></a><h3 id="SQPQR-GUID-7D4FB4F2-B568-46D5-BB52-64FD71C3E736" class="sect3">杂</h3>
               <div>
                  <div class="section">
                     <p>存档日志列表</p>
                     <p>显示有关重做日志文件的信息。</p><pre class="oac_no_warn" dir="ltr">DESC [RIBE] {[ <span class="italic">schema</span> 。] <span class="italic">对象</span> [ <span class="italic">@connect_identifier</span> ]}</pre><p>列出表，视图或同义词的列定义，或函数或过程的规范。</p><pre class="oac_no_warn" dir="ltr">RECOVER { <span class="italic">general</span> | <span class="italic">管理</span> |开始备份|结束备份}</pre><p>其中<span class="italic">general</span>子句具有以下语法：</p>
                     <p>[AUTOMATIC] [FROM <span class="italic">location</span> ] {{ <span class="italic">full_database_recovery</span> | <span class="italic">partial_database_recovery</span> | LOGFILE <span class="italic">filename</span> } [{TEST |允许整数CORRUPTION | <span class="italic">parallel_clause</span> } [TEST | ALLOW整数CORRUPTION | <span class="italic">parallel_clause</span> ] ...]| CONTINUE [DEFAULT] |取消}</p>
                     <p>其中<span class="italic">full_database_recovery</span>子句具有以下语法：</p>
                     <p>[STANDBY] DATABASE [{UNTIL {CANCEL |时间<span class="italic">日期</span> | CHANGE <span class="italic">integer</span> } |使用备份控制文件} [UNTIL {CANCEL |时间<span class="italic">日期</span> | CHANGE <span class="italic">integer</span> } |使用备份控制文件| SNAPSHOT TIME date] ...]
                     </p>
                     <p><span class="italic">partial_database_recovery</span>子句具有以下语法：</p>
                     <p>{TABLESPACE <span class="italic">表空间</span> [， <span class="italic">tablespace</span> ] ...| DATAFILE { <span class="italic">filename</span> | <span class="italic">filenumber</span> } [， <span class="italic">filename</span> | <span class="italic">filenumber</span> ] ... <span class="italic"> </span> | STANDBY {TABLESPACE <span class="italic">表空间</span> [， <span class="italic">表空间</span> ] ......| DATAFILE { <span class="italic">filename</span> | <span class="italic">filenumber</span> } [， <span class="italic">filename</span> | <span class="italic">filenumber</span> ] ...}UNTIL [一致] CONTROLFILE}</p>
                     <p><span class="italic">parallel</span>子句具有以下语法：</p>
                     <p>{NOPARALLEL | PARALLEL [ <span class="italic">整数</span> ]}</p>
                     <p>其中<span class="italic">managed</span>子句具有以下语法：</p>
                     <p>MANAGED STANDBY DATABASE <span class="italic">recover_clause</span> | <span class="italic">cancel_clause</span> | <span class="italic">finish_clause</span></p>
                     <p><span class="italic">recover_clause</span>具有以下语法：</p>
                     <p>{{DISCONNECT [FROM SESSION] | {TIMEOUT <span class="italic">整数</span> | NOTIMEOUT}} | {NODELAY |默认延迟| DELAY <span class="italic">整数</span> } |下一个<span class="italic">整数</span> | {EXPIRE <span class="italic">整数</span> |没有EXPIRE} | <span class="italic">parallel_clause</span> |使用当前的日志文件| UNTIL CHANGE <span class="italic">整数</span> |通过{[THREAD <span class="italic">integer</span> ] SEQUENCE <span class="italic">整数</span> |所有ARCHIVELOG | {ALL |最后| NEXT} SWITCHOVER}} [DISCONNECT [FROM SESSION] | {TIMEOUT <span class="italic">整数</span> | NOTIMEOUT} | {NODELAY |默认延迟| DELAY <span class="italic">整数</span> } |下一个<span class="italic">整数</span> | {EXPIRE <span class="italic">整数</span> |没有EXPIRE} | <span class="italic">parallel_clause</span> |使用当前的日志文件| UNTIL CHANGE <span class="italic">整数</span> |通过{[THREAD <span class="italic">integer</span> ] SEQUENCE <span class="italic">整数</span> |所有ARCHIVELOG | {ALL |最后| NEXT} SWITCHOVER}] ......
                     </p>
                     <p><span class="italic">cancel_clause</span>具有以下语法：</p>
                     <p>CANCEL [IMMEDIATE] [等待| NOWAIT]</p>
                     <p>其中<span class="italic">finish_clause</span>具有以下语法：</p>
                     <p>[DISCONNECT [FROM SESSION]] [ <span class="italic">parallel_clause</span> ] FINISH [SKIP [STANDBY LOGFILE]] [等待| NOWAIT]</p>
                     <p><span class="italic">parallel_clause</span>具有以下语法：</p>
                     <p>{NOPARALLEL | PARALLEL [ <span class="italic">整数</span> ]}</p>
                     <p>在一个或多个表空间，一个或多个数据文件或整个数据库上执行介质恢复。</p>
                     <p>SET <span class="italic">system_variable</span> <span class="italic">值</span></p>
                     <p>设置系统变量以更改当前会话的SQL * Plus环境设置。例如，要：</p>
                     <ul xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" xmlns:df="http://dita2indesign.org/dita/functions" xmlns:enum="http://dita4publishers.org/enumerables" xmlns:local="http//local/function" xmlns:relpath="http://dita2indesign/functions/relpath" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" style="list-style-type:disc">
                        <li>
                           <p>设置数据的显示宽度</p>
                        </li>
                        <li>
                           <p>自定义HTML格式</p>
                        </li>
                        <li>
                           <p>启用或禁用列标题的打印</p>
                        </li>
                        <li>
                           <p>设置每页的行数</p>
                        </li>
                     </ul>
                     <p>输入一个系统变量，后跟一个值，如下所示。系统变量的默认值带有下划线。</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li>SET APPI [NFO] {ON | <span class="underline">关闭</span> | <span class="italic">文字</span> }</li>
                        <li>SET ARRAY [SIZE] { <span class="underline">15</span> | <span class="italic">n</span> }</li>
                        <li>SET AUTO [COMMIT] {ON | <span class="underline">关闭</span> | IMM [EDIATE] | <span class="italic">n</span> }</li>
                        <li>SET AUTOP [RINT] {ON | <span class="underline">关闭</span> }</li>
                        <li>SET AUTORECOVERY {ON | <span class="underline">关</span> ]</li>
                        <li>SET AUTOT [RACE] {ON | <span class="underline">关闭</span> | TRACE [仅]} [EXP [LAIN]] [STAT [ISTICS]]</li>
                        <li>SET BLO [CKTERMINATOR] { <span class="underline">。</span> | <span class="italic">c</span> | ON | <span class="underline">关闭</span> }</li>
                        <li>SET CMDS [EP] {; | <span class="italic">c</span> | ON | <span class="underline">关闭</span> }</li>
                        <li>SET COLINVI [SIBLE] {ON | <span class="underline">关闭</span> }</li>
                        <li>SET COLSEP {_ | <span class="italic">文字</span> }</li>
                        <li>SET CON [CAT] {。 | <span class="italic">c</span> | <span class="underline">ON</span> | OFF}</li>
                        <li>SET COPYC [OMMIT] { <span class="underline">0</span> | <span class="italic">n</span> }</li>
                        <li>SET COPYTYPECHECK { <span class="underline">ON</span> | OFF}</li>
                        <li>SET DEF [INE] { <span class="underline">＆</span> | <span class="italic">c</span> | <span class="underline">ON</span> | OFF}</li>
                        <li>SET DESCRIBE [DEPTH { <span class="underline">1</span> | <span class="italic">n</span> | ALL}] [LINENUM {ON | <span class="underline">OFF</span> }] [INDENT {ON | OFF}]</li>
                        <li>SET ECHO {ON | <span class="underline">关闭</span> }</li>
                        <li>SET EDITF [ILE] <span class="italic">file_name</span> [ <span class="italic">.ext</span> ]</li>
                        <li>SET EMB [EDDED] {ON | <span class="underline">关闭</span> }</li>
                        <li>SET ERRORL [OGGING] {ON | <span class="underline">OFF</span> } [TABLE [ <span class="italic">架构。</span> ] <span class="italic">tablename</span> ] [TRUNCATE] [IDENTIFIER <span class="italic">标识符</span> ]</li>
                        <li>SET ESC [APE] { <span class="underline">\</span> | <span class="italic">c</span> | ON | <span class="underline">关闭</span> }</li>
                        <li>SET ESCCHAR {@ | ？| ％| $ | <span class="underline">关闭</span> }</li>
                        <li>SET EXITC [OMMIT] { <span class="underline">ON</span> | OFF}</li>
                        <li>SET FEED [BACK] { <span class="underline">6</span> | <span class="italic">n</span> | <span class="underline">ON</span> |关闭|仅限} [SQL_ID]</li>
                        <li>SET FLAGGER { <span class="underline">OFF</span> |进入| INTERMED [IATE] |充分}</li>
                        <li>SET FLU [SH] { <span class="underline">ON</span> | OFF}</li>
                        <li>SET HEA [DING] { <span class="underline">ON</span> | OFF}</li>
                        <li>SET HEADS [EP] { <span class="underline">|</span> | <span class="italic">c</span> | <span class="underline">ON</span> | OFF}</li>
                        <li>SET HIST [ORY] {ON | <span class="underline">关闭</span> | <span class="italic">n</span> }</li>
                        <li>SET INSTANCE [ <span class="italic">instance_path</span> | <span class="underline">当地</span> ]</li>
                        <li>SET LIN [ESIZE] { <span class="underline">80</span> | <span class="italic">n</span> |窗口}</li>
                        <li>SET LOBOF [FSET] { <span class="italic">n</span> | <span class="underline">1</span> }</li>
                        <li>SET LOBPREF [ETCH] { <span class="underline">0</span> | <span class="italic">n</span> }</li>
                        <li>SET LOGSOURCE [ <span class="italic">路径名</span> ]</li>
                        <li>SET LONG { <span class="underline">80</span> | <span class="italic">n</span> }</li>
                        <li>SET LONGC [HUNKSIZE] { <span class="underline">80</span> | <span class="italic">n</span> }</li>
                        <li>SET MARK [UP] CSV {ON | <span class="underline">OFF</span> } [DELIMI [TER] <span class="italic">字符</span> ] [QUOTE {ON | <span class="underline">OFF</span> }]</li>
                        <li>SET MARK [UP] HTML {ON | <span class="underline">OFF</span> } [HEAD <span class="italic">文本</span> ] [BODY <span class="italic">text</span> ] [TABLE <span class="italic">text</span> ] [ENTMAP { <span class="underline">ON</span> | OFF}] [SPOOL {ON | <span class="underline">OFF</span> }] [PRE [FORMAT] {ON | <span class="underline">OFF</span> }]</li>
                        <li>SET NEWP [年龄] { <span class="underline">1</span> | <span class="italic">n</span> |没有}</li>
                        <li>SET NULL <span class="italic">文本</span></li>
                        <li>SET NUMF [ORMAT] <span class="italic">格式</span></li>
                        <li>SET NUM [WIDTH] { <span class="underline">10</span> | <span class="italic">n</span> }</li>
                        <li>SET PAGES [IZE] { <span class="underline">14</span> | <span class="italic">n</span> }</li>
                        <li>SET PAU [SE] {ON | <span class="underline">关闭</span> | <span class="italic">文字</span> }</li>
                        <li>SET RECSEP { <span class="underline">WR [APPED]</span> | EA [CH] | OFF}</li>
                        <li>SET RECSEPCHAR { <span class="underline"> </span> | <span class="italic">c</span> }</li>
                        <li>SET ROWLIMIT { <span class="italic">n</span> | OFF}</li>
                        <li>SET ROWPREF [ETCH] { <span class="underline">1</span> | <span class="italic">n</span> }</li>
                        <li>SET SECUREDCOL {ON | <span class="underline">OFF</span> } [UNAUTH [ORIZED]文字] [UNK [NOWN]文字]</li>
                        <li>SET SERVEROUT [PUT] {ON | OFF} [SIZE { <span class="italic">n</span> | <span class="underline">UNL [IMITED]</span> }] [FOR [MAT] {WRA [PPED] | WOR [D_WRAPPED] | TRU [NCATED]}]</li>
                        <li>SET SHIFT [INOUT] {VIS [IBLE] | <span class="underline">INV [ISIBLE]</span> }</li>
                        <li>SET SHOW [MODE] {ON | <span class="underline">关闭</span> }</li>
                        <li>SET SQLBL [ANKLINES] {ON | <span class="underline">关闭</span> }</li>
                        <li>SET SQLC [ASE] { <span class="underline">MIX [ED]</span> | LO [WER] |上]}</li>
                        <li>SET SQLCO [NTINUE] { <span class="underline">&gt;</span> | <span class="italic">文字</span> }</li>
                        <li>SET SQLN [UMBER] { <span class="underline">ON</span> | OFF}</li>
                        <li>SET SQLPLUSCOMPAT [IBILITY] { <span class="italic">x</span> 。 <span class="italic">y</span> [。 <span class="italic">z</span> ]}</li>
                        <li>SET SQLPRE [FIX] { <span class="underline">＃</span> | <span class="italic">c</span> }</li>
                        <li>SET SQLP [ROMPT] { <span class="underline">SQL&gt;</span> | <span class="italic">文字</span> }</li>
                        <li>SET SQLT [ERMINATOR] { <span class="underline">;</span> | <span class="italic">c</span> | <span class="underline">ON</span> | OFF}</li>
                        <li>SET STATEMENTC [ACHE] { <span class="underline">0</span> | <span class="italic">n</span> }</li>
                        <li>SET SUF [FIX] { <span class="underline">SQL</span> | <span class="italic">文字</span> }</li>
                        <li>SET TAB { <span class="underline">ON</span> | OFF}</li>
                        <li>SET TERM [OUT] { <span class="underline">ON</span> | OFF}</li>
                        <li>SET TI [ME] {ON | <span class="underline">关闭</span> }</li>
                        <li>SET TIMI [NG] {ON | <span class="underline">关闭</span> }</li>
                        <li>SET TRIM [OUT] { <span class="underline">ON</span> | OFF}</li>
                        <li>SET TRIMS [POOL] {ON | <span class="underline">关闭</span> }</li>
                        <li>SET UND [ERLINE] { <span class="underline">-</span> | c | <span class="underline">ON</span> | OFF}</li>
                        <li>SET VER [IFY] { <span class="underline">ON</span> | OFF}</li>
                        <li>SET WRA [P] { <span class="underline">ON</span> | OFF}</li>
                        <li>SET XMLOPT [IMIZATIONCHECK] [ <span>ON</span> | <span class="underline">关</span> ]</li>
                        <li>SET XQUERY BASEURI { <span class="italic">text</span> }</li>
                        <li>SET XQUERY ORDERING {UNORDERED |订购|默认}</li>
                        <li>SET XQUERY NODE {BYVALUE |相关|默认}</li>
                        <li>SET XQUERY上下文{ <span class="italic">text</span> }</li>
                        <li>SHO [W] [ <span class="italic">选项</span> ]</li>
                     </ul>
                     <p>显示SQL * Plus系统变量或当前SQL * Plus环境的值。输入由SET命令设置的任何系统变量来代替<span class="italic">system_variable</span> 。SHOW SGA需要DBA特权登录。使用以下条款或条款之一代替<span class="italic">选项</span> ：</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><span class="italic">system_variable</span></li>
                        <li>所有</li>
                        <li>CON_ID</li>
                        <li>CON_NAME</li>
                        <li>BTI [TLE]</li>
                        <li>版</li>
                        <li>ERR [ORS] [{解析视图|属性维度| HIERARCHY |功能|程序|包装|包装身体| TRIGGER |查看| TYPE | TYPE BODY |尺寸| JAVA CLASS} [ <span class="italic">架构。</span> ] <span class="italic">名称</span> ]</li>
                        <li>历史]</li>
                        <li>LNO</li>
                        <li>LOBPREF [ETCH]</li>
                        <li>参数[S] [ <span class="italic">parameter_name</span> ]</li>
                        <li>PDBS</li>
                        <li>PNO</li>
                        <li>RECYC [LEBIN] [ <span class="italic">original_name</span> ]</li>
                        <li>发布]</li>
                        <li>REPF [OOTER]</li>
                        <li>REPH [EADER]</li>
                        <li>ROWPREF [ETCH]</li>
                        <li>SGA</li>
                        <li>SPOO [L]</li>
                        <li>SPPARAMETER [S] [ <span class="italic">parameter_name</span> ]</li>
                        <li>SQLCODE</li>
                        <li>STATEMENTC [ACHE]</li>
                        <li>TTI [TLE]</li>
                        <li>用户</li>
                        <li>XQUERY</li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            
         </div>
         
         <hr>
         <div class="notices">
            <p>SQL * Plus快速参考，19c</p>
            <p>E96463-01</p>
            
            <p>版权所有©1996,2019，Oracle和/或其附属公司。版权所有。
          </p>
            <div>
               <div>
                  <p>本软件及相关文档根据许可协议提供，该协议包含对使用和披露的限制，并受知识产权法保护。除非您的许可协议明确允许或法律允许，否则您不得以任何形式使用，复制，复制，翻译，广播，修改，许可，传输，分发，展示，执行，发布或展示任何部分，或以任何方式。除非法律要求互操作性，否则禁止对该软件进行逆向工程，反汇编或反编译。</p>
                  <p>此处包含的信息如有更改，恕不另行通知，并且不保证没有错误。如果您发现任何错误，请以书面形式向我们报告。</p>
               </div>
            </div>
            <div>
               <div>
                  <p>如果这是交付给美国政府的软件或相关文档或代表美国政府许可的任何人，则以下通知适用：</p>
                  <p>美国政府最终用户：根据适用的联邦采购法规和代理机构，Oracle计划，包括任何操作系统，集成软件，安装在硬件上的任何程序和/或文档，都是“商业计算机软件”。具体的补充规定。因此，程序的使用，复制，公开，修改和调整，包括任何操作系统，集成软件，安装在硬件上的任何程序和/或文档，应受适用于程序的许可条款和许可限制的约束。 。没有其他权利授予美国政府。</p>
               </div>
            </div>
            <div>
               <div>
                  <p>该软件或硬件被开发用于各种信息管理应用中的一般用途。它不是为任何本质上危险的应用而开发或打算使用的，包括可能造成人身伤害风险的应用。如果您在危险应用程序中使用此软件或硬件，则您应负责采取所有适当的故障安全，备份，冗余和其他措施，以确保其安全使用。Oracle Corporation及其附属公司对因在危险应用中使用此软件或硬件而造成的任何损害不承担任何责任。</p>
               </div>
            </div>
            <div>
               <div>
                  <p>Oracle和Java是Oracle和/或其附属公司的注册商标。其他名称可能是其各自所有者的商标。</p>
                  <p>Intel和Intel Xeon是Intel Corporation的商标或注册商标。所有SPARC商标的使用均已获得许可，是SPARC International，Inc。的商标或注册商标.AMD，Opteron，AMD徽标和AMD Opteron徽标是Advanced Micro Devices的商标或注册商标。UNIX是The Open Group的注册商标。</p>
               </div>
            </div>
            <div>
               <div>
                  <p>该软件或硬件和文档可以提供对来自第三方的内容，产品和服务的访问或信息。除非您与Oracle之间的适用协议另有规定，否则Oracle Corporation及其附属公司不对第三方内容，产品和服务的任何形式的保证承担任何责任，并明确拒绝。Oracle Corporation及其附属公司对由于您访问或使用第三方内容，产品或服务而导致的任何损失，成本或损害不承担任何责任，但您与Oracle之间的适用协议中规定的除外。</p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00653.how-to-write-XML-DB-applications-in-Java.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Design guidelines are presented for writing Oracle XML DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML DB."></meta>
      <meta name="description" content="Design guidelines are presented for writing Oracle XML DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML DB."></meta>
      <title>Java中的Oracle XML DB应用程序指南</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="Design guidelines are presented for writing Oracle XML DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML DB."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96222-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="XML-DB-repository-events.html" title="Previous" type="text/html"></link>
      <link rel="next" href="data-access-using-URIs.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADXDB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="XML-DB-repository-events.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="data-access-using-URIs.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XML-DB-repository.html" property="item" typeof="WebPage"><span property="name">Oracle XML DB存储库</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Java中的Oracle XML DB应用程序指南</li>
            </ol>
            <a id="GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" name="GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586"></a><a id="ADXDB2600"></a>
            
            <h2 id="ADXDB-GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" class="sect2"><span class="enumeration_chapter">31</span> Java中的Oracle XML DB应用程序指南</h2>
         </header>
         <div class="ind">
            <div>
               <p>提供了使用Java编写Oracle XML DB应用程序的设计指南。这包括为Oracle XML DB编写和配置Java servlet的准则。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-38D01A8B-2C05-43CB-9C76-F37C969BDF7E">Oracle XML DB Java应用程序概述</a><br>您可以在客户端或应用程序服务器中使用Java代码，使用JDBC的OCI驱动程序，也可以在Java虚拟机（JVM）中使用Java代码。
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-268F693E-30B3-4D10-B99E-483BF7DA6CE3">HTTP（S）：访问Java Servlet或直接访问XMLType资源</a><br>如果下游客户端需要在其文本表示中使用XML，那么使用HTTP（S）访问Java servlet或直接访问<code class="codeph">XMLType</code>资源是最好的，特别是如果Java程序没有对XML节点树进行大量操作。
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-4F87598E-5C71-4CB6-BB76-C3AA6EE9DFBA">使用JDBC XMLType支持访问许多XMLType对象元素</a><br>如果下游客户端是使用Java以编程方式访问<code class="codeph">XMLType</code>实例的许多或大多数元素的应用程序，则使用JDBC <code class="codeph">XMLType</code>支持以获得最佳性能。在数据库服务器之外调试Java程序通常也更容易。
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-386C0035-D462-4D5E-9298-308409A64F12">使用Servlet以XML格式快速处理和写出数据</a><br>Oracle XML DB servlet最适合希望进入数据库，操作数据并以XML格式快速写出来的应用程序，而不是为最终用户格式化HTML页面。
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-B18AA68B-1D0A-4D98-8735-DE2D34EBDA49">Oracle XML DB Java Servlet支持限制</a><br>Oracle XML DB协议服务器支持FTP，HTTP 1.1，WebDAV和Java Servlet。它支持Java Servlet 2.2版，但有一些例外。
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C9746CD4-C6EC-4EB8-BAAD-7B8579FF3F20">配置Oracle XML DB Servlet</a><br>Oracle XML DB servlet使用Oracle XML DB Repository中的文件<code class="codeph">xdbconfig.xml</code>进行配置。此文件中的许多XML元素与Java 2 Enterprise Edition（J2EE）的Java Servlet 2.2规范部分定义的XML元素相同，并且它们具有相同的语义。
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-D0CB2FA0-6BF4-4AF0-B61B-A7EE0A6AFDE8">Oracle XML DB Servlet的HTTP请求处理</a><br>描述了对HTTP请求的Oracle XML DB处理。
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-29D7F0DB-8A8B-4E93-A8B8-DB7BD2DD6B18">会话池和Oracle XML DB Servlet</a><br>Oracle数据库为每个数据库会话使用一个Java虚拟机（VM）。从会话池重用的会话将保留自上次使用该会话时Java VM（Java静态变量）中遗留的任何状态。
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-10395787-6109-4B0C-A8A4-6DF931B6504B">原生XML流支持</a><br>Java节点类<code class="codeph">DOM</code>具有特定于Oracle的方法<code class="codeph">write()</code> ，它提供本机XML流支持。
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-4F9297F2-C114-40FA-9F1E-E898D2ABE548">Oracle XML DB Servlet API</a><br>描述了Oracle XML DB servlet支持的API。它们由Java Servlet 2.2规范定义。
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-5C7CABF3-C992-4F84-AB07-200041CB0317">Oracle XML DB Servlet示例</a><br>示例显示了一个简单的Oracle XML DB servlet的定义，该servlet打印文件资源的内容，以及如何注册和映射该servlet。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="XML-DB-repository.html#GUID-840EBE35-8FC8-4150-9FC8-78442FD1B12B" title="Oracle XML DB Repository允许您对数据进行版本控制，实现和管理安全性，并使用API来访问和操作存储库资源。">Oracle XML DB存储库</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB5659"></a><div class="props_rev_3"><a id="GUID-38D01A8B-2C05-43CB-9C76-F37C969BDF7E" name="GUID-38D01A8B-2C05-43CB-9C76-F37C969BDF7E"></a><h3 id="ADXDB-GUID-38D01A8B-2C05-43CB-9C76-F37C969BDF7E" class="sect3"><span class="enumeration_section">31.1</span> Oracle XML DB Java应用程序概述</h3>
               <div>
                  <p>您可以在客户端或应用程序服务器中使用Java代码，使用JDBC的OCI驱动程序，也可以在Java虚拟机（JVM）中使用Java代码。</p>
                  <p>由于Java在数据库服务器进程的上下文中运行在数据库中，因此部署和运行Java代码的方式仅限于以下方面：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您可以将Java代码作为从SQL或PL / SQL调用的存储过程运行。</p>
                     </li>
                     <li>
                        <p>您可以运行Java servlet。</p>
                     </li>
                  </ul>
                  <p>存储过程更容易与SQL和PL / SQL代码集成。它们需要Oracle Net Services作为访问Oracle数据库的协议。</p>
                  <p>Servlet作为Oracle数据库的顶级入口点工作得更好，并且需要使用HTTP（S）作为访问Oracle数据库的协议。</p>
                  <p>用于Java的所有Oracle XML DB应用程序接口（API）都可供在服务器和数据库外部运行的应用程序使用。</p>
                  <p>这些API包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>JDBC支持<code class="codeph">XMLType</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">XMLType</code>类</p>
                     </li>
                     <li>
                        <p>Java DOM实现</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="提供了使用Java编写Oracle XML DB应用程序的设计指南。这包括为Oracle XML DB编写和配置Java servlet的准则。">Java中的Oracle XML DB应用程序指南</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5662"></a><div class="props_rev_3"><a id="GUID-268F693E-30B3-4D10-B99E-483BF7DA6CE3" name="GUID-268F693E-30B3-4D10-B99E-483BF7DA6CE3"></a><h3 id="ADXDB-GUID-268F693E-30B3-4D10-B99E-483BF7DA6CE3" class="sect3"><span class="enumeration_section">31.2</span> HTTP（S）：访问Java Servlet或直接访问XMLType资源</h3>
               <div>
                  <p>如果下游客户端需要在其文本表示中使用XML，那么使用HTTP（S）访问Java servlet或直接访问<code class="codeph">XMLType</code>资源是最好的，特别是如果Java程序没有对XML节点树进行大量操作。
                  </p>
                  <p>服务器中的Java实现可以本机地将数据从数据库移动到网络，而无需通过UCS-2 Unicode（Java字符串是必需的）转换字符数据。在许多情况下，数据直接从数据库缓冲区高速缓存复制到HTTP（S）连接。无需将缓冲区高速缓存中的数据转换为Oracle Net Services使用的SQL序列化格式，然后将其移至JDBC客户端，然后转换为XML。按需加载和<code class="codeph">XMLType</code>的LRU缓存在数据库服务器中最有效。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="提供了使用Java编写Oracle XML DB应用程序的设计指南。这包括为Oracle XML DB编写和配置Java servlet的准则。">Java中的Oracle XML DB应用程序指南</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5663"></a><div class="props_rev_3"><a id="GUID-4F87598E-5C71-4CB6-BB76-C3AA6EE9DFBA" name="GUID-4F87598E-5C71-4CB6-BB76-C3AA6EE9DFBA"></a><h3 id="ADXDB-GUID-4F87598E-5C71-4CB6-BB76-C3AA6EE9DFBA" class="sect3"><span class="enumeration_section">31.3</span>使用JDBC XMLType支持访问许多XMLType对象元素</h3>
               <div>
                  <p>如果下游客户端是使用Java以编程方式访问<code class="codeph">XMLType</code>实例的许多或大多数元素的应用程序，则使用JDBC <code class="codeph">XMLType</code>支持以获得最佳性能。在数据库服务器之外调试Java程序通常也更容易。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="提供了使用Java编写Oracle XML DB应用程序的设计指南。这包括为Oracle XML DB编写和配置Java servlet的准则。">Java中的Oracle XML DB应用程序指南</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5664"></a><div class="props_rev_3"><a id="GUID-386C0035-D462-4D5E-9298-308409A64F12" name="GUID-386C0035-D462-4D5E-9298-308409A64F12"></a><h3 id="ADXDB-GUID-386C0035-D462-4D5E-9298-308409A64F12" class="sect3"><span class="enumeration_section">31.4</span>使用Servlet以XML格式快速处理和写出数据</h3>
               <div>
                  <p>Oracle XML DB servlet最适合希望进入数据库，操作数据并以XML格式快速写出来的应用程序，而不是为最终用户格式化HTML页面。</p>
                  <p>Servlet用于编写Java中的HTTP存储过程，可以使用HTTP（S）进行访问。如果需要开发整个Internet应用程序，则在Oracle Fusion Middleware中部署应用程序servlet，并使用JDBC或API（如<code class="codeph">java.net.使servlet访问数据库中的数据<code class="codeph">java.net.*</code> 。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="提供了使用Java编写Oracle XML DB应用程序的设计指南。这包括为Oracle XML DB编写和配置Java servlet的准则。">Java中的Oracle XML DB应用程序指南</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5665"></a><div class="props_rev_3"><a id="GUID-B18AA68B-1D0A-4D98-8735-DE2D34EBDA49" name="GUID-B18AA68B-1D0A-4D98-8735-DE2D34EBDA49"></a><h3 id="ADXDB-GUID-B18AA68B-1D0A-4D98-8735-DE2D34EBDA49" class="sect3"><span class="enumeration_section">31.5</span> Oracle XML DB Java Servlet支持限制</h3>
               <div>
                  <p>Oracle XML DB协议服务器支持FTP，HTTP 1.1，WebDAV和Java Servlet。它支持Java Servlet 2.2版，但有一些例外。</p>
                  <div class="section">
                     <p>支持Java Servlet 2.2版。有这些限制：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>完整不支持servlet WAR文件（ <code class="codeph">web.xml</code> ）。必须手动处理某些<code class="codeph">web.xml</code>配置参数。例如，必须使用<code class="codeph">SQL CREATE ROLE</code>命令创建角色。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">不</span>支持<code class="codeph">RequestDispatcher</code>和关联的方法。
                           </p>
                        </li>
                        <li>
                           <p>方法<span class="italic">不</span>支持<code class="codeph">HTTPServletRequest.getCookies()</code> 。
                           </p>
                        </li>
                        <li>
                           <p>目前仅支持一个<code class="codeph">ServletContext</code> （和一个<code class="codeph">web-app</code> ）。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">不</span>支持有状态servlet（以及<code class="codeph">HttpSession</code>类方法）。Servlet必须在数据库本身中维护状态。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="提供了使用Java编写Oracle XML DB应用程序的设计指南。这包括为Oracle XML DB编写和配置Java servlet的准则。">Java中的Oracle XML DB应用程序指南</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5667"></a><a id="ADXDB5666"></a><div class="props_rev_3"><a id="GUID-C9746CD4-C6EC-4EB8-BAAD-7B8579FF3F20" name="GUID-C9746CD4-C6EC-4EB8-BAAD-7B8579FF3F20"></a><h3 id="ADXDB-GUID-C9746CD4-C6EC-4EB8-BAAD-7B8579FF3F20" class="sect3"><span class="enumeration_section">31.6</span> Oracle XML DB Servlet的配置</h3>
               <div>
                  <p>Oracle XML DB servlet使用Oracle XML DB Repository中的文件<code class="codeph">xdbconfig.xml</code>进行配置。此文件中的许多XML元素与Java 2 Enterprise Edition（J2EE）的Java Servlet 2.2规范部分定义的XML元素相同，并且它们具有相同的语义。
                  </p>
                  <div class="section">
                     <p><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C9746CD4-C6EC-4EB8-BAAD-7B8579FF3F20__G1046987" title="此表描述了使用Oracle XML DB为servlet部署描述符定义的XML元素。">表31-1</a>列出了Java Servlet规范为servlet部署描述符定义的XML元素，以及Oracle XML DB支持的扩展元素。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-C9746CD4-C6EC-4EB8-BAAD-7B8579FF3F20__G1046987">
                     <p class="titleintable">表31-1为Servlet部署描述符定义的XML元素</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="为Servlet部署描述符定义的XML元素" width="100%" border="1" summary="This table describes XML elements defined for servlet deployment descriptors with Oracle XML DB." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="22%" id="d150693e496">XML元素名称</th>
                              <th align="left" valign="bottom" width="12%" id="d150693e499">被定义为</th>
                              <th align="left" valign="bottom" width="13%" id="d150693e502">支持的？</th>
                              <th align="left" valign="bottom" width="32%" id="d150693e505">描述</th>
                              <th align="left" valign="bottom" width="21%" id="d150693e508">评论</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e513" headers="d150693e496 ">
                                 <p><code class="codeph">AUTH-方法</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e513 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e513 d150693e502 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e513 d150693e505 ">
                                 <p>指定访问所需的HTTP身份验证方法</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e513 d150693e508 ">
                                 <p>N / A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e530" headers="d150693e496 ">
                                 <p><code class="codeph">字符集</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e530 d150693e499 ">
                                 <p>神谕</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e530 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e530 d150693e505 ">
                                 <p>指定IANA字符集名称</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e530 d150693e508 ">
                                 <p>例如：ISO8859，UTF-8</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e547" headers="d150693e496 ">
                                 <p><code class="codeph">字符集映射</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e547 d150693e499 ">
                                 <p>神谕</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e547 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e547 d150693e505 ">
                                 <p>指定文件扩展名和字符集之间的映射</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e547 d150693e508 ">
                                 <p>N / A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e564" headers="d150693e496 ">
                                 <p><code class="codeph">的context-param</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e564 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e564 d150693e502 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e564 d150693e505 ">
                                 <p>指定Web应用程序的参数</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e564 d150693e508 ">
                                 <p>尚不支持</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e581" headers="d150693e496 ">
                                 <p><code class="codeph">描述</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e581 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e581 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e581 d150693e505 ">
                                 <p>用于描述servlet或Web应用程序的字符串</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e581 d150693e508 ">
                                 <p>支持servlet</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e598" headers="d150693e496 ">
                                 <p><code class="codeph">显示名称</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e598 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e598 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e598 d150693e505 ">
                                 <p>要与servlet或Web应用程序一起显示的字符串</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e598 d150693e508 ">
                                 <p>支持servlet</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e615" headers="d150693e496 ">
                                 <p><code class="codeph">分配</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e615 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e615 d150693e502 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e615 d150693e505 ">
                                 <p>指示如果所有实例未在同一Java虚拟机中运行，此servlet是否可以运行</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e615 d150693e508 ">
                                 <p>在Oracle数据库中运行的所有servlet都<span class="italic">必须</span>是可分发的。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e635" headers="d150693e496 ">
                                 <p><code class="codeph">差错编号</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e635 d150693e499 ">
                                 <p>神谕</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e635 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e635 d150693e505 ">
                                 <p>Oracle错误号</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e635 d150693e508 ">
                                 <p>请参见<a href="../errmg/index.html" target="_blank"><span><cite>Oracle数据库错误消息参考</cite></span></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e657" headers="d150693e496 ">
                                 <p><code class="codeph">错误代码</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e657 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e657 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e657 d150693e505 ">
                                 <p>HTTP（S）错误代码</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e657 d150693e508 ">
                                 <p>由RFC 2616定义</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e674" headers="d150693e496 ">
                                 <p><code class="codeph">错误页</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e674 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e674 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e674 d150693e505 ">
                                 <p>如果遇到错误，则定义要重定向到的URL。</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e674 d150693e508 ">
                                 <p>可以通过HTTP（S）错误，未捕获的Java异常或未捕获的Oracle错误消息来指定</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e691" headers="d150693e496 ">
                                 <p><code class="codeph">例外型</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e691 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e691 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e691 d150693e505 ">
                                 <p>映射到错误页面的Java异常的类名</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e691 d150693e508 ">
                                 <p>N / A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e709" headers="d150693e496 ">
                                 <p><code class="codeph">延期</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e709 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e709 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e709 d150693e505 ">
                                 <p>用于与MIME类型，字符集等关联的文件扩展名。</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e709 d150693e508 ">
                                 <p>N / A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e726" headers="d150693e496 ">
                                 <p><code class="codeph">设施</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e726 d150693e499 ">
                                 <p>神谕</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e726 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e726 d150693e505 ">
                                 <p>用于映射错误页面的Oracle工具代码</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e726 d150693e508 ">
                                 <p>例如：ORA，PLS等。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e743" headers="d150693e496 ">
                                 <p><code class="codeph">形式错误页</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e743 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e743 d150693e502 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e743 d150693e505 ">
                                 <p>表单登录尝试的错误页面</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e743 d150693e508 ">
                                 <p>尚不支持</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e760" headers="d150693e496 ">
                                 <p><code class="codeph">表单登录-配置</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e760 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e760 d150693e502 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e760 d150693e505 ">
                                 <p>配置基于表单的登录规范</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e760 d150693e508 ">
                                 <p>尚不支持</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e777" headers="d150693e496 ">
                                 <p><code class="codeph">表单登录页面</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e777 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e777 d150693e502 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e777 d150693e505 ">
                                 <p>基于表单的登录页面的URL</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e777 d150693e508 ">
                                 <p>尚不支持</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e794" headers="d150693e496 ">
                                 <p><code class="codeph">图标</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e794 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e794 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e794 d150693e505 ">
                                 <p>与servlet关联的图标的URL</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e794 d150693e508 ">
                                 <p>支持servlet</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e811" headers="d150693e496 ">
                                 <p><code class="codeph">INIT-PARAM</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e811 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e811 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e811 d150693e505 ">
                                 <p>servlet的初始化参数</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e811 d150693e508 ">
                                 <p>N / A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e828" headers="d150693e496 ">
                                 <p><code class="codeph">JSP文件</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e828 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e828 d150693e502 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e828 d150693e505 ">
                                 <p>用于servlet的Java Server Page文件</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e828 d150693e508 ">
                                 <p>不支持</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e845" headers="d150693e496 ">
                                 <p><code class="codeph">郎</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e845 d150693e499 ">
                                 <p>神谕</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e845 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e845 d150693e505 ">
                                 <p>IANA语言名称</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e845 d150693e508 ">
                                 <p>例如：en-US</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e862" headers="d150693e496 ">
                                 <p><code class="codeph">郎映射</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e862 d150693e499 ">
                                 <p>神谕</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e862 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e862 d150693e505 ">
                                 <p>指定文件扩展名和语言内容之间的映射</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e862 d150693e508 ">
                                 <p>N / A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e879" headers="d150693e496 ">
                                 <p><code class="codeph">大图标</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e879 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e879 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e879 d150693e505 ">
                                 <p>图标显示的大尺寸图标</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e879 d150693e508 ">
                                 <p>N / A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e897" headers="d150693e496 ">
                                 <p><code class="codeph">时加载的启动</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e897 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e897 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e897 d150693e505 ">
                                 <p>指定是否在启动时加载servlet</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e897 d150693e508 ">
                                 <p>N / A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e914" headers="d150693e496 ">
                                 <p><code class="codeph">地点</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e914 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e914 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e914 d150693e505 ">
                                 <p>指定错误页面的URL</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e914 d150693e508 ">
                                 <p>可以是本地路径名或HTTP（S）URL</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e931" headers="d150693e496 ">
                                 <p><code class="codeph">登录，配置</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e931 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e931 d150693e502 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e931 d150693e505 ">
                                 <p>指定身份验证的方法</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e931 d150693e508 ">
                                 <p>不支持</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e948" headers="d150693e496 ">
                                 <p><code class="codeph">MIME映射</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e948 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e948 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e948 d150693e505 ">
                                 <p>指定文件扩展名与内容的MIME类型之间的映射</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e948 d150693e508 ">
                                 <p>N / A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e965" headers="d150693e496 ">
                                 <p><code class="codeph">MIME类型</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e965 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e965 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e965 d150693e505 ">
                                 <p>资源内容的MIME类型名称</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e965 d150693e508 ">
                                 <p>例如：text / xml或application / octet-stream</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e982" headers="d150693e496 ">
                                 <p><code class="codeph">OracleError</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e982 d150693e499 ">
                                 <p>神谕</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e982 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e982 d150693e505 ">
                                 <p>指定要与错误页面关联的Oracle错误</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e982 d150693e508 ">
                                 <p>N / A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e999" headers="d150693e496 ">
                                 <p><code class="codeph">PARAM名</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e999 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e999 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e999 d150693e505 ">
                                 <p>Servlet或<code class="codeph">ServletContext</code>的参数名称</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e999 d150693e508 ">
                                 <p>支持servlet</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1018" headers="d150693e496 ">
                                 <p><code class="codeph">PARAM值</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1018 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1018 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1018 d150693e505 ">
                                 <p>参数的值</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1018 d150693e508 ">
                                 <p>N / A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1035" headers="d150693e496 ">
                                 <p><code class="codeph">领域名</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1035 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1035 d150693e502 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1035 d150693e505 ">
                                 <p>用于身份验证的HTTP（S）域</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1035 d150693e508 ">
                                 <p>不支持</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1052" headers="d150693e496 ">
                                 <p><code class="codeph">角色链接</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1052 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1052 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1052 d150693e505 ">
                                 <p>指定特定用户访问servlet时必须具有的角色</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1052 d150693e508 ">
                                 <p>引用数据库角色名称。确保默认大写！</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1069" headers="d150693e496 ">
                                 <p><code class="codeph">角色名</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1069 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1069 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1069 d150693e505 ">
                                 <p>角色的servlet名称</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1069 d150693e508 ">
                                 <p>只是调用数据库角色的另一个名称。由Servlet API使用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1087" headers="d150693e496 ">
                                 <p><code class="codeph">安全角色</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1087 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1087 d150693e502 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1087 d150693e505 ">
                                 <p>定义servlet要使用的角色</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1087 d150693e508 ">
                                 <p>不支持。您必须使用SQL <code class="codeph">CREATE ROLE</code>手动创建角色</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1106" headers="d150693e496 ">
                                 <p><code class="codeph">安全角色引用</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1106 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1106 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1106 d150693e505 ">
                                 <p>servlet和角色之间的引用</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1106 d150693e508 ">
                                 <p>N / A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1123" headers="d150693e496 ">
                                 <p><code class="codeph">的servlet</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1123 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1123 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1123 d150693e505 ">
                                 <p>servlet的配置信息</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1123 d150693e508 ">
                                 <p>N / A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1140" headers="d150693e496 ">
                                 <p><code class="codeph">servlet的类</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1140 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1140 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1140 d150693e505 ">
                                 <p>指定Java servlet的类名</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1140 d150693e508 ">
                                 <p>N / A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1157" headers="d150693e496 ">
                                 <p><code class="codeph">servlet的语言</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1157 d150693e499 ">
                                 <p>神谕</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1157 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1157 d150693e505 ">
                                 <p>指定编写servlet的编程语言。</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1157 d150693e508 ">
                                 <p>Java，C或PL / SQL。目前，客户定义的servlet仅支持Java。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1174" headers="d150693e496 ">
                                 <p><code class="codeph">Servlet映射</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1174 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1174 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1174 d150693e505 ">
                                 <p>指定用于关联servlet的文件名模式</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1174 d150693e508 ">
                                 <p>支持Java定义的所有映射</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1191" headers="d150693e496 ">
                                 <p><code class="codeph">servlet的名称</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1191 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1191 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1191 d150693e505 ">
                                 <p>servlet的字符串名称</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1191 d150693e508 ">
                                 <p>由servlet API使用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1208" headers="d150693e496 ">
                                 <p><code class="codeph">servlet的架构</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1208 d150693e499 ">
                                 <p>神谕</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1208 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1208 d150693e505 ">
                                 <p>加载Java类的Oracle模式。如果未指定，则使用默认解析程序规范搜索模式。</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1208 d150693e508 ">
                                 <p>如果未指定，则必须将servlet加载到<code class="codeph">SYS</code>模式中以确保每个人都可以访问它，或者必须更改默认的Java类解析器。除非将值括在双引号中，否则servlet架构将大写。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1228" headers="d150693e496 ">
                                 <p><code class="codeph">会话配置</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1228 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1228 d150693e502 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1228 d150693e505 ">
                                 <p><code class="codeph">HTTPSession</code>配置信息</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1228 d150693e508 ">
                                 <p>不支持<code class="codeph">HTTPSession</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1249" headers="d150693e496 ">
                                 <p><code class="codeph">会话超时</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1249 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1249 d150693e502 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1249 d150693e505 ">
                                 <p>HTTP（S）会话超时</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1249 d150693e508 ">
                                 <p>不支持<code class="codeph">HTTPSession</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1268" headers="d150693e496 ">
                                 <p><code class="codeph">小图标</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1268 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1268 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1268 d150693e505 ">
                                 <p>与servlet关联的小图标</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1268 d150693e508 ">
                                 <p>N / A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1286" headers="d150693e496 ">
                                 <p><code class="codeph">标签库</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1286 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1286 d150693e502 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1286 d150693e505 ">
                                 <p>JSP标记库</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1286 d150693e508 ">
                                 <p>目前不支持JSP</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1303" headers="d150693e496 ">
                                 <p><code class="codeph">标签库-URI</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1303 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1303 d150693e502 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1303 d150693e505 ">
                                 <p>相对于文件<code class="codeph">web.xml</code> JSP标记库描述文件的URI</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1303 d150693e508 ">
                                 <p>目前不支持JSP</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1322" headers="d150693e496 ">
                                 <p><code class="codeph">标签库定位</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1322 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1322 d150693e502 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1322 d150693e505 ">
                                 <p>相对于存储标记库的Web应用程序的根的路径名</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1322 d150693e508 ">
                                 <p>目前不支持JSP</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1339" headers="d150693e496 ">
                                 <p><code class="codeph">url-pattern的</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1339 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1339 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1339 d150693e505 ">
                                 <p>与servlet关联的URL模式</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1339 d150693e508 ">
                                 <p>请参阅Java Servlet 2.2规范的第10节</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1356" headers="d150693e496 ">
                                 <p><code class="codeph">web应用程序</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1356 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1356 d150693e502 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1356 d150693e505 ">
                                 <p>Web应用程序的配置</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1356 d150693e508 ">
                                 <p>目前仅支持一个Web应用程序</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1373" headers="d150693e496 ">
                                 <p><code class="codeph">欢迎文件</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1373 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1373 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1373 d150693e505 ">
                                 <p>指定欢迎文件名</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1373 d150693e508 ">
                                 <p>N / A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1390" headers="d150693e496 ">
                                 <p><code class="codeph">欢迎文件列表</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1390 d150693e499 ">
                                 <p>Java的</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1390 d150693e502 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1390 d150693e505 ">
                                 <p>定义通过HTTP <code class="codeph">GET</code>请求引用文件夹时要显示的文件列表</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1390 d150693e508 ">
                                 <p>示例： <code class="codeph">index.html</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-C9746CD4-C6EC-4EB8-BAAD-7B8579FF3F20__GUID-822AE802-17B8-4F15-AB3A-661E431DD55B">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>由Java为<code class="codeph">web.xml</code>文件定义的以下参数仅可由符合J2EE的Enterprise Java Bean容器使用，对于不支持完整J2EE环境的Java Servlet容器不是必需的： <code class="codeph">env-entry</code> ， <code class="codeph">env-entry-name</code> ， <code class="codeph">env-entry-value</code> ， <code class="codeph">env-entry-type</code> ， <code class="codeph">ejb-ref</code> ， <code class="codeph">ejb-ref-type</code> ， <code class="codeph">home</code> ， <code class="codeph">remote</code> ， <code class="codeph">ejb-link</code> ， <code class="codeph">resource-ref</code> ， <code class="codeph">res-ref-name</code> ， <code class="codeph">res-type</code> ， <code class="codeph">res-auth</code> 。
                              </p>
                           </li>
                           <li>
                              <p>以下元素用于定义资源的访问控制： <code class="codeph">security-constraint</code> ， <code class="codeph">web-resource-collection</code> ， <code class="codeph">web-resource-name</code> ， <code class="codeph">http-method</code> ， <code class="codeph">user-data-constraint</code> ， <code class="codeph">transport-guarantee</code> ， <code class="codeph">auth-constrain</code> 。Oracle XML DB通过访问控制列表（ACL）提供此功能。ACL是访问控制条目（ACE）的列表，用于确定哪些主体可以访问给定资源。未来版本将支持使用<code class="codeph">web.xml</code>文件生成ACL。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="administration-of-XML-DB.html#GUID-D1551B64-4A75-44CD-AA04-0A68018410AE" title="Oracle XML DB通过配置文件xdbconfig.xml在内部进行管理，该文件作为资源存储在Oracle XML DB Repository中。作为使用Oracle Enterprise Manager配置Oracle XML DB的替代方法，您可以使用Oracle XML DB配置文件直接对其进行配置。">使用xdbconfig.xml配置Oracle XML DB</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="提供了使用Java编写Oracle XML DB应用程序的设计指南。这包括为Oracle XML DB编写和配置Java servlet的准则。">Java中的Oracle XML DB应用程序指南</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5668"></a><div class="props_rev_3"><a id="GUID-D0CB2FA0-6BF4-4AF0-B61B-A7EE0A6AFDE8" name="GUID-D0CB2FA0-6BF4-4AF0-B61B-A7EE0A6AFDE8"></a><h3 id="ADXDB-GUID-D0CB2FA0-6BF4-4AF0-B61B-A7EE0A6AFDE8" class="sect3"><span class="enumeration_section">31.7</span> Oracle XML DB Servlet的HTTP请求处理</h3>
               <div>
                  <p>描述了对HTTP请求的Oracle XML DB处理。</p>
                  <div class="section">
                     <p>HTTP请求处理过程如下：</p>
                     <ol>
                        <li>
                           <p>如果尚未建立连接，则Oracle Listener将连接交给共享服务器调度程序。</p>
                        </li>
                        <li>
                           <p>当新的HTTP请求到达时，调度程序唤醒共享服务器。</p>
                        </li>
                        <li>
                           <p>HTTP标头被解析为适当的结构。</p>
                        </li>
                        <li>
                           <p>共享服务器尝试从Oracle XML DB会话池分配数据库会话（如果可用），否则会创建新会话。</p>
                        </li>
                        <li>
                           <p>启动新的数据库调用和新的数据库事务。</p>
                        </li>
                        <li>
                           <p>如果HTTP（S）包含身份验证标头，则会话将作为该数据库用户进行身份验证（就像用户登录到SQL * Plus一样）。如果未包含身份验证信息，并且请求为<code class="codeph">GET</code>或<code class="codeph">HEAD</code> ，则Oracle XML DB会尝试以<code class="codeph">ANONYMOUS</code>用户身份验证会话。如果该数据库用户帐户被锁定，则不允许进行未经身份验证的访问。
                           </p>
                        </li>
                        <li>
                           <p>HTTP请求中的URL与<code class="codeph">xdbconfig.xml</code>文件中的servlet匹配，如Java Servlet 2.2规范所指定。
                           </p>
                        </li>
                        <li>
                           <p>Oracle XML DB Servlet容器在Oracle内部的Java VM中调用。如果尚未初始化指定的servlet，则初始化servlet。</p>
                        </li>
                        <li>
                           <p>Servlet从<code class="codeph">ServletInputStream</code>读取输入，并将输出写入<code class="codeph">ServletOutputStream</code> ，并从方法<code class="codeph">service()</code>返回。
                           </p>
                        </li>
                        <li>
                           <p>如果未发生未捕获的Oracle错误，则会话将重新放回会话池。</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="repository-access-using-protocols.html#GUID-0476309D-E3DF-4C56-BF21-68CD04D00C98" title="您可以使用FTP和HTTP（S）/ WebDAV协议访问Oracle XML DB存储库数据。">使用协议的存储库访问</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="提供了使用Java编写Oracle XML DB应用程序的设计指南。这包括为Oracle XML DB编写和配置Java servlet的准则。">Java中的Oracle XML DB应用程序指南</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5669"></a><div class="props_rev_3"><a id="GUID-29D7F0DB-8A8B-4E93-A8B8-DB7BD2DD6B18" name="GUID-29D7F0DB-8A8B-4E93-A8B8-DB7BD2DD6B18"></a><h3 id="ADXDB-GUID-29D7F0DB-8A8B-4E93-A8B8-DB7BD2DD6B18" class="sect3"><span class="enumeration_section">31.8</span>会话池和Oracle XML DB Servlet</h3>
               <div>
                  <p>Oracle数据库为每个数据库会话使用一个Java虚拟机（VM）。从会话池重用的会话将保留自上次使用该会话时Java VM（Java静态变量）中遗留的任何状态。</p>
                  <p>这可用于缓存非特定于用户的Java状态（如元数据），但不会将安全用户数据存储在Java静态内存中。如果您不小心，这可能会变成您的应用程序无意中引入的安全漏洞。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="提供了使用Java编写Oracle XML DB应用程序的设计指南。这包括为Oracle XML DB编写和配置Java servlet的准则。">Java中的Oracle XML DB应用程序指南</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5670"></a><div class="props_rev_3"><a id="GUID-10395787-6109-4B0C-A8A4-6DF931B6504B" name="GUID-10395787-6109-4B0C-A8A4-6DF931B6504B"></a><h3 id="ADXDB-GUID-10395787-6109-4B0C-A8A4-6DF931B6504B" class="sect3"><span class="enumeration_section">31.9</span>原生XML流支持</h3>
               <div>
                  <p>Java节点类<code class="codeph">DOM</code>具有特定于Oracle的方法<code class="codeph">write()</code> ，它提供本机XML流支持。
                  </p>
                  <p>Java方法<code class="codeph">write()</code>接受以下参数并返回<code class="codeph">void</code> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">java.io.OutputStream</code>流：用于编写XML文本的Java流。
                        </p>
                     </li>
                     <li>
                        <p>String <code class="codeph">charEncoding</code> ：用于编写XML文本的字符编码。如果为<code class="codeph">NULL</code> ，则使用数据库字符集。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">Short</code> <code class="codeph">indent</code>缩进嵌套XML元素的字符数。
                        </p>
                     </li>
                  </ul>
                  <p>如果流是数据库内提供的<code class="codeph">ServletOutputStream</code>则<code class="codeph">write()</code>方法有一个快捷方式实现。Node的内容作为本机代码中的XML数据直接写入输出套接字。这绕过了Java对象或Unicode（Java字符串所需）的任何转换，并提供了非常高的性能。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="提供了使用Java编写Oracle XML DB应用程序的设计指南。这包括为Oracle XML DB编写和配置Java servlet的准则。">Java中的Oracle XML DB应用程序指南</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5672"></a><a id="ADXDB5671"></a><div class="props_rev_3"><a id="GUID-4F9297F2-C114-40FA-9F1E-E898D2ABE548" name="GUID-4F9297F2-C114-40FA-9F1E-E898D2ABE548"></a><h3 id="ADXDB-GUID-4F9297F2-C114-40FA-9F1E-E898D2ABE548" class="sect3"><span class="enumeration_section">31.10</span> Oracle XML DB Servlet API</h3>
               <div>
                  <p>描述了Oracle XML DB servlet支持的API。它们由Java Servlet 2.2规范定义。</p>
                  <div class="section">
                     <p>可以在<a href="http://download.oracle.com/javaee/1.2.1/api/index.html" target="_blank"><code class="codeph">http://download.oracle.com/javaee/1.2.1/api/index.html</code></a>上找到<code class="codeph">Javadoc</code> 。</p>
                     <p><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-4F9297F2-C114-40FA-9F1E-E898D2ABE548__G1047307" title="此表描述了Oracle XML DB中未实现的Java 2.2方法。">表31-2</a>列出了未实现的Java Servlet 2.2方法。它们导致运行时异常。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4F9297F2-C114-40FA-9F1E-E898D2ABE548__G1047307">
                     <p class="titleintable">表31-2 Java Servlet 2.2未实现的方法</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Java Servlet 2.2未实现的方法" width="100%" border="1" summary="This table describes non-implemented Java 2.2 methods in Oracle XML DB." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="42%" id="d150693e1803">接口</th>
                              <th align="left" valign="bottom" width="58%" id="d150693e1806">方法未实施</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="42%" id="d150693e1811" headers="d150693e1803 "><pre class="oac_no_warn" dir="ltr">HttpServletRequest的</pre></td>
                              <td align="left" valign="top" width="58%" headers="d150693e1811 d150693e1806 ">
                                 <p><code class="codeph">getSession（），isRequestedSessionIdValid（）</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="42%" id="d150693e1819" headers="d150693e1803 "><pre class="oac_no_warn" dir="ltr">HttpSession中</pre></td>
                              <td align="left" valign="top" width="58%" headers="d150693e1819 d150693e1806 ">
                                 <p>所有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="42%" id="d150693e1826" headers="d150693e1803 "><pre class="oac_no_warn" dir="ltr">了HttpSessionBindingListener</pre></td>
                              <td align="left" valign="top" width="58%" headers="d150693e1826 d150693e1806 ">
                                 <p>所有</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="提供了使用Java编写Oracle XML DB应用程序的设计指南。这包括为Oracle XML DB编写和配置Java servlet的准则。">Java中的Oracle XML DB应用程序指南</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5674"></a><a id="ADXDB5675"></a><a id="ADXDB5673"></a><div class="props_rev_3"><a id="GUID-5C7CABF3-C992-4F84-AB07-200041CB0317" name="GUID-5C7CABF3-C992-4F84-AB07-200041CB0317"></a><h3 id="ADXDB-GUID-5C7CABF3-C992-4F84-AB07-200041CB0317" class="sect3"><span class="enumeration_section">31.11</span> Oracle XML DB Servlet示例</h3>
               <div>
                  <p>示例显示了一个简单的Oracle XML DB servlet的定义，该servlet打印文件资源的内容，以及如何注册和映射该servlet。</p>
                  <div class="section">
                     <p><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-5C7CABF3-C992-4F84-AB07-200041CB0317__CDDBAJFH">例31-1中</a>显示的servlet打印文件资源<code class="codeph">/public/test/foo1.text</code>的内容。
                     </p>
                     <p>要安装servlet，请编译它，然后将其加载到Oracle数据库中：</p><pre class="pre codeblock"><code>％loadjava -grant public -u quine / curry -r test.class</code></pre><p>最后，注册并映射servlet，将其与URL相关联，如<a href="how-to-write-XML-DB-applications-in-Java.html#GUID-5C7CABF3-C992-4F84-AB07-200041CB0317__CDDCAHIA">例31-2</a>所示。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-5C7CABF3-C992-4F84-AB07-200041CB0317__CDDBAJFH">
                     <p class="titleinexample">例31-1 Oracle XML DB Servlet</p><pre class="pre codeblock"><code>import javax.servlet.http。*; import javax.servlet。*; import java.util。*; import java.io.*; import java.util。*; import java.io.IOException异常; import java.io.OutputStreamWriter; import java.io.读者; import java.io.作家; import java.sql。DriverManager的; import java.sql。的SQLException; import oracle.jdbc。的OracleConnection; import oracle.jdbc。一个OracleDriver; import oracle.jdbc。OraclePreparedStatement; import oracle.jdbc。OracleResultSet; import oracle.sql。CLOB; import oracle.xdb。XMLType的; import oracle.xdb.spi。XDBResource; public class test extends HttpServlet {public void doGet（HttpServletRequest request，HttpServletResponse response）抛出ServletException，IOException {try {try {//获取当前HTTP会话的数据库连接DriverManager.registerDriver（new oracle.jdbc。一个OracleDriver（））; OracleDriver ora = new OracleDriver（）; OracleConnection databaseConnection =（OracleConnection）ora.defaultConnection（）; String statementText =“SELECT XDBURIType（'/ public / test / foo1.txt'）。getClob（）FROM DUAL”; OraclePreparedStatement语句=（OraclePreparedStatement）databaseConnection.prepareStatement（statementText）; OracleResultSet resultSet = null; CLOB content = null; //执行语句resultSet =（OracleResultSet）statement.executeQuery（）; while（resultSet.next（））{//语句返回CLOB。 //将CLOB的内容复制到服务器的输出流。content = resultSet.getCLOB（1）; Reader reader = content.getCharacterStream（）; Writer writer = new OutputStreamWriter（response.getOutputStream（））; int bytesSent = 0; int n; char [] buffer = new char [CLOB.MAX_CHUNK_SIZE];而（-1！=（n = reader.read（buffer）））{bytesSent = bytesSent + n; writer.write（buffer，0，n）; } writer.flush（）; if（content.isOpen（））{content.close（）; } resultSet.close（）;将statement.close（）; databaseConnection.close（）; 。response.getOutputStream（）写（ '\ n'）; } catch（SQLException sql）{throw new ServletException（sql）; catch（ServletException se）{se.printStackTrace（）; } finally {System.out.flush（）; }}}</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-5C7CABF3-C992-4F84-AB07-200041CB0317__CDDCAHIA">
                     <p class="titleinexample">示例31-2注册和映射Oracle XML DB Servlet</p><pre class="pre codeblock"><code>EXEC DBMS_XDB_CONFIG.addServlet（'TestServletFoo'，'Java'，'TestServletFoo'，NULL，NULL，'test'，NULL，NULL，'XDB'）; EXEC DBMS_XDB_CONFIG.addServletMapping（'/ public / test / foo1.txt'，'TestServletFoo'）;承诺;</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="提供了使用Java编写Oracle XML DB应用程序的设计指南。这包括为Oracle XML DB编写和配置Java servlet的准则。">Java中的Oracle XML DB应用程序指南</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="00022.example-for-PSBTREE-extensible-indexing.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>PSBTREE：可扩展索引示例</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Data Cartridge Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Data Cartridge Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-cartridge-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T07:34:53-08:00"></meta>
      <meta name="dcterms.title" content="Data Cartridge Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96431-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="example-for-power-demand-cartridge.html" title="Previous" type="text/html"></link>
      <link rel="next" href="example-for-pipelined-table-functions-interface-approach.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADDCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="example-for-power-demand-cartridge.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="example-for-pipelined-table-functions-interface-approach.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据盒式开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="scenarios-and-examples.html" property="item" typeof="WebPage"><span property="name">场景和示例</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">PSBTREE：可扩展索引示例</li>
            </ol>
            <a id="GUID-BCF6B1CB-56CD-458D-8D27-79281119E9CF" name="GUID-BCF6B1CB-56CD-458D-8D27-79281119E9CF"></a><a id="ADDCI3160"></a>
            
            <h2 id="ADDCI-GUID-BCF6B1CB-56CD-458D-8D27-79281119E9CF" class="sect2"><span class="enumeration_chapter">16</span> PSBTREE：可扩展索引示例</h2>
         </header>
         <div class="ind">
            <div>
               <p>这是一个可扩展索引的例子，用C语言实现<code class="codeph">ODCIIndex</code>接口例程。
               </p>
            </div><a id="ADDCI4877"></a><div class="props_rev_3"><a id="GUID-8EC65F3C-3BD1-4A8F-B270-39E6D7BFA31D" name="GUID-8EC65F3C-3BD1-4A8F-B270-39E6D7BFA31D"></a><h3 id="ADDCI-GUID-8EC65F3C-3BD1-4A8F-B270-39E6D7BFA31D" class="sect3"><span class="enumeration_section">16.1</span>关于PSBTREE示例</h3>
               <div>
                  <div class="section">
                     <p>考虑如何在C中实现可扩展索引接口例程。该示例的重点是所有实现共有的主题;它不会公开特定于域的详细信息。</p>
                     <p>该示例的代码位于demo目录中的<code class="codeph">extdemo6.sql</code>文件中。它通过添加indextype支持扩展了早期的示例（ <code class="codeph">extdemo2.sql</code> ，也在demo目录中） <a id="d56830e120" class="indexterm-anchor"></a>范围分区表上的本地域索引。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADDCI4878"></a><div class="props_rev_3"><a id="GUID-C41EDFE2-4E3F-4AED-8A60-B87FFB8100EE" name="GUID-C41EDFE2-4E3F-4AED-8A60-B87FFB8100EE"></a><h3 id="ADDCI-GUID-C41EDFE2-4E3F-4AED-8A60-B87FFB8100EE" class="sect3"><span class="enumeration_section">16.2</span>索引类型的设计</h3>
               <div>
                  <p>该<a id="d56830e178" class="indexterm-anchor"></a>这里实现的indextype，称为<code class="codeph">PSBtree,</code>就像b树索引一样运行。它支持三个用户定义的运算符： <code class="codeph">eq</code> （等于）， <code class="codeph">lt</code> （小于）和<code class="codeph">gt</code> （大于）。这些运算符在<code class="codeph">VARCHAR2</code>数据类型的操作数上运行。
                  </p>
                  <p>索引数据由<code class="codeph">&lt;key, rid&gt;</code>形式的记录组成，其中<code class="codeph">key</code>是索引列的值， <code class="codeph">rid</code>是相应行的行标识符。为了简化indextype的实现，索引数据存储在系统分区表中。
                  </p>
                  <p>当索引是系统管理的本地域索引时，将为每个分区创建系统分区表中的一个分区，以存储该分区的索引数据。因此，索引操作例程仅将<code class="codeph">PSBtree</code>操作<code class="codeph">PSBtree</code>为存储索引数据的表分区上的操作。
                  </p>
                  <p>当用户创建<code class="codeph">PSBtree</code>索引（本地索引）时，将创建<code class="codeph">n</code>表分区，其中包含索引列和<code class="codeph">rowid</code>列，其中<code class="codeph">n</code>是基表中的分区数。插入基表会导致适当插入受影响的索引表分区。删除和更新的处理方式类似。当基于用户定义的运算符（ <code class="codeph">gt</code> ， <code class="codeph">lt</code>和<code class="codeph">eq</code> ）查询<code class="codeph">PSBtree</code> ，针对索引表分区发出适当的查询以检索所有令人满意的行。发生适当的分区修剪，并且仅访问对应于相关或“有趣”分区的索引表分区。
                  </p>
               </div>
            </div><a id="ADDCI4879"></a><div class="props_rev_3"><a id="GUID-3F0EC8EC-1286-4F39-AF1B-931E2F9BE56F" name="GUID-3F0EC8EC-1286-4F39-AF1B-931E2F9BE56F"></a><h3 id="ADDCI-GUID-3F0EC8EC-1286-4F39-AF1B-931E2F9BE56F" class="sect3"><span class="enumeration_section">16.3</span>实施运营商</h3>
               <div>
                  <p><code class="codeph">PSBtree</code>索引类型支持三个运算符： <code class="codeph">eq</code> ， <code class="codeph">gt</code>和<code class="codeph">lt</code> 。每个操作员都有相应的功能实现。
                  </p>
               </div><a id="ADDCI4880"></a><div class="props_rev_3"><a id="GUID-72B9F965-1889-44D6-A0E7-27868DAAF155" name="GUID-72B9F965-1889-44D6-A0E7-27868DAAF155"></a><h4 id="ADDCI-GUID-72B9F965-1889-44D6-A0E7-27868DAAF155" class="sect4"><span class="enumeration_section">16.3.1</span>功能实现</h4>
                  <div>
                     <p>考虑比较运算符的功能实现。<a href="example-for-PSBTREE-extensible-indexing.html#GUID-7BE87A0B-B67C-4302-970D-A0765D06E29B">实现EQUALS运算符</a>部分解释了如何实现<code class="codeph">eq</code> （等于）， <a href="example-for-PSBTREE-extensible-indexing.html#GUID-9D34953A-1B52-47E5-88CE-95BD3629FDDF">实现</a>少量<a href="example-for-PSBTREE-extensible-indexing.html#GUID-9D34953A-1B52-47E5-88CE-95BD3629FDDF">运算符</a>部分解释了如何实现<code class="codeph">lt</code> （小于），并且<a href="example-for-PSBTREE-extensible-indexing.html#GUID-5AA6096E-0070-4A1D-BB89-8063B55FB242">实现GREAT THAN运算符</a>部分解释了如何实现<code class="codeph">gt</code> （大于）运算符。
                     </p>
                  </div><a id="CACFGDEF"></a><div class="props_rev_3"><a id="GUID-7BE87A0B-B67C-4302-970D-A0765D06E29B" name="GUID-7BE87A0B-B67C-4302-970D-A0765D06E29B"></a><h5 id="ADDCI-GUID-7BE87A0B-B67C-4302-970D-A0765D06E29B" class="sect5"><span class="enumeration_section">16.3.1.1</span>实现EQUALS运算符</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">eq</code>的功能实现由函数（ <code class="codeph">bt_eq</code> ）提供，该函数接收两个<code class="codeph">VARCHAR2</code>参数，如果它们相等则返回<code class="codeph">1</code> ，否则返回<code class="codeph">0</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">创建函数bt_eq（VARCHAR2，b VARCHAR2）如果a = b则返回返回数字，然后返回1; ELSE RETURN 0;万一;结束;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACBEEIH"></a><div class="props_rev_3"><a id="GUID-9D34953A-1B52-47E5-88CE-95BD3629FDDF" name="GUID-9D34953A-1B52-47E5-88CE-95BD3629FDDF"></a><h5 id="ADDCI-GUID-9D34953A-1B52-47E5-88CE-95BD3629FDDF" class="sect5"><span class="enumeration_section">16.3.1.2</span>实现<span class="enumeration_section">少于</span>运营商</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">lt</code>的函数实现由函数（ <code class="codeph">bt_lt</code> ）提供，该函数接收两个<code class="codeph">VARCHAR2</code>参数，如果第一个参数小于第二个参数则返回<code class="codeph">1</code> ，否则返回<code class="codeph">0</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">CREATE FUNCTION bt_lt（VARCHAR2，b VARCHAR2）如果a &lt;b则返回返回1; ELSE RETURN 0;万一;结束;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACDGGHF"></a><div class="props_rev_3"><a id="GUID-5AA6096E-0070-4A1D-BB89-8063B55FB242" name="GUID-5AA6096E-0070-4A1D-BB89-8063B55FB242"></a><h5 id="ADDCI-GUID-5AA6096E-0070-4A1D-BB89-8063B55FB242" class="sect5"><span class="enumeration_section">16.3.1.3</span>实施<span class="enumeration_section">大于</span>运营商</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">gt</code>的功能实现由函数（ <code class="codeph">bt_gt</code> ）提供，该函数接收两个<code class="codeph">VARCHAR2</code>参数，如果第一个参数大于第二个参数则返回<code class="codeph">1</code> ，否则返回<code class="codeph">0</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">创建功能bt_gt（一个VARCHAR2，b VARCHAR2）如果a&gt; b然后返回1，则返回数字为BEGIN; ELSE RETURN 0;万一;结束;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADDCI4885"></a><a id="ADDCI4886"></a><a id="ADDCI4887"></a><a id="ADDCI4884"></a><div class="props_rev_3"><a id="GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B" name="GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B"></a><h4 id="ADDCI-GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B" class="sect4"><span class="enumeration_section">16.3.2</span>运营商</h4>
                  <div>
                     <p>要创建运算符，必须指定运算符的签名及其返回类型及其功能实现。<a href="example-for-PSBTREE-extensible-indexing.html#GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B__CACGHFEC">例16-1</a>显示了如何创建<code class="codeph">eq</code> （等于）， <a href="example-for-PSBTREE-extensible-indexing.html#GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B__CACDBEEI">例16-2</a>显示了如何创建<code class="codeph">lt</code> （小于）， <a href="example-for-PSBTREE-extensible-indexing.html#GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B__CACHCAHE">例16-3</a>显示了如何创建<code class="codeph">gt</code> （大于）运算符。
                     </p>
                     <div class="example" id="GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B__CACGHFEC">
                        <p class="titleinexample">例16-1创建EQUALS运算符</p><pre class="oac_no_warn" dir="ltr">CREATE OPERATOR eq BINDING（VARCHAR2，VARCHAR2）使用bt_eq返回数字;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B__CACDBEEI">
                        <p class="titleinexample">例16-2创建少数运算符</p><pre class="oac_no_warn" dir="ltr">创建运算符lt BINDING（VARCHAR2，VARCHAR2）使用bt_lt返回数字;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B__CACHCAHE">
                        <p class="titleinexample">示例16-3创建更大的运算符</p><pre class="oac_no_warn" dir="ltr">CREATE OPERATOR gt BINDING（VARCHAR2，VARCHAR2）使用bt_gt返回数字;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADDCI4888"></a><div class="props_rev_3"><a id="GUID-F76F035E-4432-4555-9039-2E66E064D67E" name="GUID-F76F035E-4432-4555-9039-2E66E064D67E"></a><h3 id="ADDCI-GUID-F76F035E-4432-4555-9039-2E66E064D67E" class="sect3"><span class="enumeration_section">16.4</span>实现ODCIIndex接口</h3>
               <div>
                  <p>要实现<code class="codeph">PSBTREE</code> ，您必须实现<code class="codeph">ODCIIndex</code> <span class="italic"><code class="codeph">XXX</code></span> <code class="codeph">()</code>例程。您可以使用Oracle支持的任何语言实现索引例程。本讨论使用C编程语言实现<a href="extensible-indexing-interface.html#GUID-28AC1C1B-6B6B-446F-A6C9-EEF4A4842D5F">ODCIGetInterfaces（）</a>例程。请注意，这些需要提前设置，例如为已编译的C代码创建库对象<code class="codeph">extdemo6l</code> 。
                  </p>
               </div><a id="ADDCI4890"></a><a id="ADDCI4889"></a><div class="props_rev_3"><a id="GUID-3EFF8FF0-A7EB-4BA8-9BFE-A3B25787BAC1" name="GUID-3EFF8FF0-A7EB-4BA8-9BFE-A3B25787BAC1"></a><h4 id="ADDCI-GUID-3EFF8FF0-A7EB-4BA8-9BFE-A3B25787BAC1" class="sect4"><span class="enumeration_section">16.4.1</span>定义PSBTREE的实现类型</h4>
                  <div>
                     <div class="section">
                        <p>定义实现<code class="codeph">ODCIIndex</code>接口例程的实现类型，如<a href="example-for-PSBTREE-extensible-indexing.html#GUID-3EFF8FF0-A7EB-4BA8-9BFE-A3B25787BAC1__CACCEJJA">例16-4所示</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3EFF8FF0-A7EB-4BA8-9BFE-A3B25787BAC1__CACCEJJA">
                        <p class="titleinexample">示例16-4创建PSBTREE索引类型</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE psbtree_im AUTHID CURRENT_USER AS OBJECT（scanctx RAW（4），STATIC FUNCTION ODCIGetInterfaces（ifclist OUT SYS.ODCIObjectList）返回编号，静态功能ODCIIndexCreate（ia SYS.ODCIIndexInfo，parms VARCHAR2，env SYS.ODCIEnv）返回编号，静态功能ODCIIndexAlter （ia sys。ODCIIndexInfo，parms IN OUT VARCHAR2，altopt number，env sys。ODCIEnv）返回编号，静态功能ODCIIndexDrop（ia SYS.ODCIIndexInfo，env SYS.ODCIEnv）返回编号，静态功能ODCIIndexExchangePartition（ia SYS.ODCIIndexInfo，ia1 SYS.ODCIIndexInfo，env SYS.ODCIEnv）返回编号，静态功能ODCIIndexUpdPartMetadata（ia sys 。ODCIIndexInfo，palist sys。ODCIPartInfoList，env sys。ODCIEnv）返回数字，静态函数ODCIIndexInsert（ia SYS.ODCIIndexInfo，rid VARCHAR2，newval VARCHAR2，env SYS.ODCIEnv）RETURN NUMBER，STATIC FUNCTION ODCIIndexDelete（ia SYS.ODCIIndexInfo，rid VARCHAR2，oldval VARCHAR2，env SYS.ODCIEnv）RETURN NUMBER ，STATIC FUNCTION ODCIIndexUpdate（ia SYS.ODCIIndexInfo，rid VARCHAR2，oldval VARCHAR2，newval VARCHAR2，env SYS.ODCIEnv）RETURN NUMBER，STATIC FUNCTION ODCIIndexStart（sctx IN OUT psbtree_im，ia SYS.ODCIIndexInfo，op SYS.ODCIPredInfo，qi sys。ODCIQueryInfo，strt number，stop number，cmpval VARCHAR2，env SYS.ODCIEnv）RETURN NUMBER，MEMBER FUNCTION ODCIIndexFetch（nrows NUMBER，rids OUT SYS.ODCIridlist，env SYS.ODCIEnv）RETURN NUMBER，MEMBER FUNCTION ODCIIndexClose（env SYS.ODCIEnv）RETURN NUMBER）; /显示错误</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADDCI4892"></a><a id="ADDCI4891"></a><div class="props_rev_3"><a id="GUID-2616416C-EC74-41FD-B435-7956E4CB49E8" name="GUID-2616416C-EC74-41FD-B435-7956E4CB49E8"></a><h4 id="ADDCI-GUID-2616416C-EC74-41FD-B435-7956E4CB49E8" class="sect4"><span class="enumeration_section">16.4.2</span>创建实现类型主体</h4>
                  <div>
                     <div class="section">
                        <p>定义实现类型主体，如<a href="example-for-PSBTREE-extensible-indexing.html#GUID-2616416C-EC74-41FD-B435-7956E4CB49E8__CACEJJHI">例16-5所示</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2616416C-EC74-41FD-B435-7956E4CB49E8__CACEJJHI">
                        <p class="titleinexample">示例16-5为PBSTREE创建实现主体</p><pre class="oac_no_warn" dir="ltr">创建或替换类型身体psbtree_im IS</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADDCI4893"></a><div class="props_rev_3"><a id="GUID-385BF144-F676-468E-A9A6-7633E0939A1A" name="GUID-385BF144-F676-468E-A9A6-7633E0939A1A"></a><h4 id="ADDCI-GUID-385BF144-F676-468E-A9A6-7633E0939A1A" class="sect4"><span class="enumeration_section">16.4.3</span>在实现主体中定义PL / SQL例程</h4>
                  <div>
                     <div class="section">
                        <p>考虑如何在PL / SQL中实现索引定义例程。</p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADDCI4894"></a><div class="props_rev_3"><a id="GUID-CD482284-5973-4954-9086-DAFD9E872FE7" name="GUID-CD482284-5973-4954-9086-DAFD9E872FE7"></a><h5 id="ADDCI-GUID-CD482284-5973-4954-9086-DAFD9E872FE7" class="sect5"><span class="enumeration_section">16.4.3.1</span>在PL / SQL中为<span class="enumeration_section">PBSTREE</span>实现ODCIGetInterfaces（）</h5>
                     <div>
                        <div class="section">
                           <p><a href="extensible-indexing-interface.html#GUID-28AC1C1B-6B6B-446F-A6C9-EEF4A4842D5F">ODCIGetInterfaces（）</a>例程通过其<code class="codeph">OUT</code>参数返回预期的接口名称。
                           </p><pre class="oac_no_warn" dir="ltr">静态功能ODCIGetInterfaces（ifclist OUT sys。ODCIObjectList）RETURN NUMBER是BEGIN ifclist：= sys。ODCIObjectList（SYS。ODCIObject（ 'SYS'， 'ODCIINDEX2'））;返回ODCIConst。成功; END ODCIGetInterfaces;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACGFBIH"></a><div class="props_rev_3"><a id="GUID-39085EE4-83FD-4EBF-9C01-B96EA74F7E83" name="GUID-39085EE4-83FD-4EBF-9C01-B96EA74F7E83"></a><h5 id="ADDCI-GUID-39085EE4-83FD-4EBF-9C01-B96EA74F7E83" class="sect5"><span class="enumeration_section">16.4.3.2</span>在PL / SQL中为<span class="enumeration_section">PBSTREE</span>实现ODCIIndexCreate（）</h5>
                     <div>
                        <div class="section">
                           <p><a href="extensible-indexing-interface.html#GUID-C14A0478-6EA1-4EAE-BAA6-AA59EE5D300C">ODCIIndexCreate（）</a>例程创建一个包含两列的系统分区索引存储表。第一列存储<code class="codeph">VARCHAR2</code>索引列值。该例程利用传入的信息来确定调用它的上下文。动态SQL用于执行动态构造的SQL语句。
                           </p><pre class="oac_no_warn" dir="ltr">静态功能ODCIIndexCreate（ias sys。ODCIIndexInfo，parms VARCHAR2，env sys。ODCIEnv）返回号码是我整数; stmt VARCHAR2（2000）; cursor cur1（ianame VARCHAR2）IS SELECT partition_name，参数FROM user_ind_partitions WHERE index_name = ianame ORDER BY partition_position; cursor cur2（ianame VARCHAR2）IS SELECT subpartition_name，parameters FROM user_ind_subpartitions WHERE index_name = ianame ORDER BY partition_position，subpartition_position; BEGIN stmt：=''; IF（env.CallProperty为null）那么stmt：='create table'|| IA。IndexSchema || '' || IA。IndexName || '_sbtree（f1 VARCHAR2（1000），f2 rowid）'; ELSIF（env.CallProperty = sys。ODCIConst。FirstCall）那么stmt：='';我：= 1; IF（bitand（ia。IndexInfoFlags，ODCIConst。CompPartn）= 0）那么对于cur1中的c1（ia。IndexName）LOOP IF（i&gt; 1）那么stmt：= stmt || '';万一; stmt：= stmt || '分区'|| c2.partition_name; i：= i + 1;结束循环; EL1 for cur1中的c1（ia。IndexName）LOOP IF（i&gt; 1）那么stmt：= stmt || '';万一; stmt：= stmt || '分区'|| c2.subpartition_name; i：= i + 1;结束循环;万一; stmt：='create table'|| IA。IndexSchema || '' || IA。IndexName || '_sbtree（f1 VARCHAR2（1000），f2 rowid）按系统'||分区'（'|| stmt ||'）'; ELSIF（env.CallProperty = sys。ODCIConst。FinalCall）那么stmt：='创建索引'|| IA。IndexSchema || '' || IA。IndexName || '_sbti on'|| IA。IndexSchema || '' || IA。IndexName || '_sbtree（f1）local';万一; DBMS_OUTPUT.PUT_LINE（ '创建'）; DBMS_OUTPUT.PUT_LINE（语句）; - 执行语句IF（（env.CallProperty为null）或（env.CallProperty = sys。ODCIConst。FirstCall）OR（env.CallProperty = sys。ODCIConst。FinalCall））然后执行立即stmt; IF（env.CallProperty为null）然后立即执行'insert into'|| IA。IndexSchema || '' || IA。IndexName || '_sbtree select'|| IA。IndexCols（1）。ColName || '，ROWID来自'|| IA。IndexCols（1）。TableSchema || '' || IA。IndexCols（1）。表名;立即执行'创建索引'|| IA。IndexSchema || ”。'|| IA。IndexName || '_sbti on'|| IA。IndexSchema || ”。'|| IA。IndexName || '_sbtree（f1）';万一;万一;返回ODCIConst。成功; END ODCIIndexCreate;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACDJCFF"></a><div class="props_rev_3"><a id="GUID-43232667-0102-4BCD-9C00-D106F8D049D2" name="GUID-43232667-0102-4BCD-9C00-D106F8D049D2"></a><h5 id="ADDCI-GUID-43232667-0102-4BCD-9C00-D106F8D049D2" class="sect5"><span class="enumeration_section">16.4.3.3</span>在PL / SQL中为<span class="enumeration_section">PBSTREE</span>实现ODCIIndexDrop（）</h5>
                     <div>
                        <div class="section">
                           <p><a href="extensible-indexing-interface.html#GUID-F128CB3B-6B3E-41C3-A623-67BCB5BC9292">ODCIIndexDrop（）</a>例程删除索引存储表。
                           </p><pre class="oac_no_warn" dir="ltr">静态功能ODCIIndexDrop（ia sys。ODCIIndexInfo，env sys。ODCIEnv）返回号码是stmt VARCHAR2（1000）; cnum INTEGER;垃圾INTEGER; BEGIN  - 构造sql语句stmt：=''; IF（env.CallProperty为null）那么stmt：='drop table'|| IA。IndexSchema || '' || IA。IndexName || '_sbtree'; DBMS_OUTPUT.PUT_LINE（ '删除'）; DBMS_OUTPUT.PUT_LINE（语句）;执行立即执行;万一;返回ODCIConst。成功; END ODCIIndexDrop;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACCCEAE"></a><div class="props_rev_3"><a id="GUID-E998D8C0-7AC7-45FB-9B1C-757C356BB878" name="GUID-E998D8C0-7AC7-45FB-9B1C-757C356BB878"></a><h5 id="ADDCI-GUID-E998D8C0-7AC7-45FB-9B1C-757C356BB878" class="sect5"><span class="enumeration_section">16.4.3.4</span>在PL / SQL中为<span class="enumeration_section">PSBTREE</span>实现ODCIIndexAlter（）</h5>
                     <div>
                        <div class="section">
                           <p><a href="extensible-indexing-interface.html#GUID-9DB1D609-69C3-483B-AA77-087AD51A3A55">ODCIIndexAlter（）</a>例程可以执行许多索引更改任务，例如重建和重命名索引。
                           </p><pre class="oac_no_warn" dir="ltr">静态功能ODCIIndexAlter（ia sys。ODCIIndexInfo，parms IN OUT VARCHAR2，altopt NUMBER，env sys。ODCIEnv）返回号码是stmt VARCHAR2（2000）; BEGIN stmt：=''; IF（altopt = ODCIConst。AlterIndexRebuild）那么（ia。IndexPartition为null）那么stmt：='insert into'|| IA。IndexSchema || '' || IA。IndexName || '_sbtree select'|| IA。IndexCols（1）。ColName || '，ROWID来自'|| IA。IndexCols（1）。ColName || '，ROWID来自'|| IA。IndexCols（1）。TableSchema || '' || IA。IndexCols（1）。表名; ELSIF（bitand（ia。IndexInfoFlags，ODCIConst。CompPartn）= 0）那么stmt：='insert into'|| IA。IndexSchema || '' || IA。IndexName || '_sbtree选择分区（'|| ia。IndexPartition || '）'|| IA。IndexCols（1）。ColName || '，ROWID来自'|| IA。IndexCols（1）。TableSchema || '' || IA。IndexCols（1）。TableName || '分区（'|| ia。IndexCols（1）。TablePartition || '）'; ELSE stmt：='insert into'|| IA。IndexSchema || '' || IA。IndexName || '_sbtree选择分区（'|| ia。IndexPartition || '）'|| IA。IndexCols（1）。ColName || '，ROWID来自'|| IA。IndexCols（1）。TableSChema || '' || IA。IndexCols（1）。TableName || 'subpartition（'|| ia。IndexCols（1）。TablePartition || '）';万一; ELSIF（altopt = ODCIConst。AlterIndexRename）那么（ia。IndexPartition不为null）那么stmt：='alter table'|| IA。IndexSchema || '' || IA。IndexName || '_sbtree重命名分区'|| IA。IndexPartition || '到'|| PARMS; ELSE stmt：='alter table'|| IA。IndexSchema || '' || IA。IndexName || '_sbtree重命名为'|| parms || '_sbtree';万一;万一; DBMS_OUTPUT.PUT_LINE（ '阿尔特'）; IF（（altopt = ODCIConst。AlterIndexRebuild）OR（altopt = ODCIConst。AlterIndexRename））那么dbms_output.put_line（stmt）;执行立即执行;万一;返回ODCIConst。成功; END ODCIIndexAlter;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACBFDJC"></a><div class="props_rev_3"><a id="GUID-DBE32065-CCF1-4A08-967C-38DF4A37B9CA" name="GUID-DBE32065-CCF1-4A08-967C-38DF4A37B9CA"></a><h5 id="ADDCI-GUID-DBE32065-CCF1-4A08-967C-38DF4A37B9CA" class="sect5"><span class="enumeration_section">16.4.3.5</span>在PL / SQL中为<span class="enumeration_section">PSBTREE</span>实现ODCIIndexUpdPartMetadata（）</h5>
                     <div>
                        <div class="section">
                           <p>为了处理分区维护操作，内核代表用户执行维护任务。indextype用于维护其元数据，应具有<a href="extensible-indexing-interface.html#GUID-C2C4DB40-106A-491C-B241-985B69DC2FE1">ODCIIndexUpdPartMetadata（）</a>例程。
                           </p><pre class="oac_no_warn" dir="ltr">静态功能ODCIIndexUpdPartMetadata（ia sys。ODCIIndexInfo，palist sys。ODCIPartInfoList，env sys。ODCIEnv）返回号码是col号码; BEGIN dbms_output.put_line（'ODCIUpdPartMetadata'）; SYS。ODCIIndexInfoDump（IA）; SYS。ODCIPartInfoListDump（palist）; SYS。ODCIEnvDump（ENV）;返回ODCIConst。成功; END ODCIIndexUpdPartMetadata;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACJCGBH"></a><div class="props_rev_3"><a id="GUID-395A7999-CD4F-4995-8455-F6D51D3710EF" name="GUID-395A7999-CD4F-4995-8455-F6D51D3710EF"></a><h5 id="ADDCI-GUID-395A7999-CD4F-4995-8455-F6D51D3710EF" class="sect5"><span class="enumeration_section">16.4.3.6</span>在PL / SQL中为<span class="enumeration_section">PSBTREE</span>实现ODCIIndexExchangePartition（）</h5>
                     <div>
                        <div class="section">
                           <p><a href="extensible-indexing-interface.html#GUID-7914F874-620F-48F1-ADDC-040CC82D46ED">ODCIIndexExchangePartition（）</a>与正在交换的索引分区交换索引存储表，以及全局域索引的索引存储表。
                           </p><pre class="oac_no_warn" dir="ltr">静态功能ODCIIndexExchangePartition（ia sys。ODCIIndexInfo，ia1 sys。ODCIIndexInfo，env sys。ODCIEnv）返回号码是stmt VARCHAR2（2000）; cnum INTEGER;垃圾INTEGER; BEGIN stmt：=''; dbms_output.put_line（'Exchange Partition'）; - 构造sql语句IF bitand（ia。IndexInfoFlags，ODCIConst。CompPartn）= 0 OR位和（ia。IndexInfoFlags，ODCIConst。SubPartn）= ODCIConst。SubPartn THEN  - 非复合分区或交换子分区stmt：='alter table'|| IA。IndexSchema || '' || IA。IndexName || '_sbtree exchange partition'|| IA。IndexPartition || 'with table'|| IA1。IndexSchema || '' || IA1。IndexName || '_sbtree'; DBMS_OUTPUT.PUT_LINE（语句）;执行立即执行; ELSE  - 复合分区交换stmt：='create table temp_exch（f1 VARCHAR2（1000），f2 rowid）'; DBMS_OUTPUT.PUT_LINE（语句）;执行立即执行; stmt：='alter table'|| IA。IndexSchema || '' || IA。IndexName || '_sbtree exchange partition'|| IA。IndexPartition || 'with table'|| 'temp_exch'; DBMS_OUTPUT.PUT_LINE（语句）;执行立即执行; stmt：='alter table'|| IA1。IndexSchema || '' || IA1。IndexName || '_sbtree exchange partition'|| IA1。IndexPartition || 'with table'|| 'temp_exch'; DBMS_OUTPUT.PUT_LINE（语句）;执行立即执行; stmt：='alter table'|| IA。IndexSchema || '' || IA。IndexName || '_sbtree exchange partition'|| IA。IndexPartition || 'with table'|| 'temp_exch'; DBMS_OUTPUT.PUT_LINE（语句）;执行立即执行; - 交换完成，删除时态表stmt：='drop table temp_exch'; DBMS_OUTPUT.PUT_LINE（语句）;执行立即执行;万一;返回ODCIConst。成功; END ODCIIndexExchangePartition;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADDCI4900"></a><div class="props_rev_3"><a id="GUID-8B2FF627-9464-4AD9-9D0E-EFC637BB99B0" name="GUID-8B2FF627-9464-4AD9-9D0E-EFC637BB99B0"></a><h4 id="ADDCI-GUID-8B2FF627-9464-4AD9-9D0E-EFC637BB99B0" class="sect4"><span class="enumeration_section">16.4.4</span>注册ODCIIndex <span class="italic">XXX</span> （）方法的C实现</h4>
                  <div>
                     <div class="section">
                        <p>为已编译的C方法创建<code class="codeph">extdemo6l</code>库对象后，必须注册每个例程的实现。<a href="example-for-PSBTREE-extensible-indexing.html#GUID-D833A9A8-B063-48B6-8ACD-790C406FFDFB">注册ODCIIndexInsert（）</a>部分<a href="example-for-PSBTREE-extensible-indexing.html#GUID-D833A9A8-B063-48B6-8ACD-790C406FFDFB">的实现</a>演示了如何注册ODCIIndexInsert（）实现， <a href="example-for-PSBTREE-extensible-indexing.html#GUID-429B7A88-369D-46F3-8E27-035CA9EDEEB3">注册实现ODCIIndexDelete（）</a>部分注册ODCIIndexDelete（）实现， <a href="example-for-PSBTREE-extensible-indexing.html#GUID-20EAB399-76F5-4C79-AE81-63B8956504F7">注册实现ODCIIndexUpdate（）</a>部分注册ODCIIndexUpdate（）实现， <a href="example-for-PSBTREE-extensible-indexing.html#GUID-687358AC-BD5C-4C8B-84C8-1F7B285736E3">注册ODCIIndexStart（）</a>部分<a href="example-for-PSBTREE-extensible-indexing.html#GUID-687358AC-BD5C-4C8B-84C8-1F7B285736E3">的实现</a>注册ODCIIndexStart（）实现， <a href="example-for-PSBTREE-extensible-indexing.html#GUID-8B31366C-39CE-42CA-9A13-6AAE30180EFE">注册实现ODCIIndexFetch（）</a>部分注册ODCIIndexFetch（）实现，并<a href="example-for-PSBTREE-extensible-indexing.html#GUID-E3A862DE-F07C-4681-BBE4-8339AD0A4D32">注册实现ODCIIndexClose（）</a>部分注册ODCIIndexClose（）实现。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="CACGAHCG"></a><div class="props_rev_3"><a id="GUID-D833A9A8-B063-48B6-8ACD-790C406FFDFB" name="GUID-D833A9A8-B063-48B6-8ACD-790C406FFDFB"></a><h5 id="ADDCI-GUID-D833A9A8-B063-48B6-8ACD-790C406FFDFB" class="sect5"><span class="enumeration_section">16.4.4.1</span>注册ODCIIndexInsert（）的实现</h5>
                     <div>
                        <div class="section">
                           <p>注册<a href="extensible-indexing-interface.html#GUID-EF42025B-6DE2-4F2A-90EF-62775EE0EED6">ODCIIndexInsert（）</a>例程的实现。
                           </p><pre class="oac_no_warn" dir="ltr">静态函数ODCIIndexInsert（ia SYS.ODCIIndexInfo，rid VARCHAR2，newval VARCHAR2，env SYS.ODCIEnv）RETURN NUMBER AS EXTERNAL name“qxiqtbspi”library extdemo6l with context parameters（context，ia，ia indicator struct，rid，rid indicator，newval，newval indicator，env，env indicator struct，return OCINumber）;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACBHAHC"></a><div class="props_rev_3"><a id="GUID-429B7A88-369D-46F3-8E27-035CA9EDEEB3" name="GUID-429B7A88-369D-46F3-8E27-035CA9EDEEB3"></a><h5 id="ADDCI-GUID-429B7A88-369D-46F3-8E27-035CA9EDEEB3" class="sect5"><span class="enumeration_section">16.4.4.2</span>注册ODCIIndexDelete（）的实现</h5>
                     <div>
                        <div class="section">
                           <p>注册<a href="extensible-indexing-interface.html#GUID-4B2E080D-FE8B-4598-9084-56FBE255196B">ODCIIndexDelete（）</a>例程的实现。
                           </p><pre class="oac_no_warn" dir="ltr">静态函数ODCIIndexDelete（ia SYS.ODCIIndexInfo，rid VARCHAR2，oldval VARCHAR2，env SYS.ODCIEnv）RETURN NUMBER AS EXTERNAL name“qxiqtbspd”library extdemo6l with context parameters（context，ia，ia indicator struct，rid，rid indicator，oldval，oldval indicator，env，env indicator struct，return OCINumber）;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACBCCEH"></a><div class="props_rev_3"><a id="GUID-20EAB399-76F5-4C79-AE81-63B8956504F7" name="GUID-20EAB399-76F5-4C79-AE81-63B8956504F7"></a><h5 id="ADDCI-GUID-20EAB399-76F5-4C79-AE81-63B8956504F7" class="sect5"><span class="enumeration_section">16.4.4.3</span>注册ODCIIndexUpdate（）的实现</h5>
                     <div>
                        <div class="section">
                           <p>注册<a href="extensible-indexing-interface.html#GUID-CB42E738-EFD1-4053-9DDF-BEF455F92815">ODCIIndexUpdate（）</a>例程的实现。
                           </p><pre class="oac_no_warn" dir="ltr">静态函数ODCIIndexUpdate（ia SYS.ODCIIndexInfo，rid VARCHAR2，oldval VARCHAR2，newval VARCHAR2，env SYS.ODCIEnv）RETURN NUMBER AS EXTERNAL name“qxiqtbspu”library extdemo6l with context parameters（context，ia，ia indicator struct，rid，rid indicator， oldval，oldval指标，newval，newval指标，env，env指标结构，返回OCINumber）;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACJADGC"></a><div class="props_rev_3"><a id="GUID-687358AC-BD5C-4C8B-84C8-1F7B285736E3" name="GUID-687358AC-BD5C-4C8B-84C8-1F7B285736E3"></a><h5 id="ADDCI-GUID-687358AC-BD5C-4C8B-84C8-1F7B285736E3" class="sect5"><span class="enumeration_section">16.4.4.4</span>注册ODCIIndexStart（）的实现</h5>
                     <div>
                        <div class="section">
                           <p>注册<a href="extensible-indexing-interface.html#GUID-53F2321C-B0F8-4783-AC1B-056372A0C073">ODCIIndexStart（）</a>例程的实现。
                           </p><pre class="oac_no_warn" dir="ltr">静态函数ODCIIndexStart（sctx IN OUT psbtree_im，iS SYS.ODCIIndexInfo，op SYS.ODCIInredInfo，qi SYS.ODCIQueryInfo，strt NUMBER，stop NUMBER，cmpval VARCHAR2，env SYS.ODCIEnv）RETURN NUMBER AS EXTERNAL name“qxiqtbsps”library extdemo6l with context参数（context，sctx，sctx指标结构，ia，ia指标结构，op，op指标结构，qi，qi指标结构，strt，strt指标，止损，止损指标，cmpval，cmpval指标，env，env指标结构，返回OCINumber）;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADDCI4905"></a><div class="props_rev_3"><a id="GUID-8B31366C-39CE-42CA-9A13-6AAE30180EFE" name="GUID-8B31366C-39CE-42CA-9A13-6AAE30180EFE"></a><h5 id="ADDCI-GUID-8B31366C-39CE-42CA-9A13-6AAE30180EFE" class="sect5"><span class="enumeration_section">16.4.4.5</span>注册ODCIIndexFetch（）的实现</h5>
                     <div>
                        <div class="section">
                           <p>注册<a href="extensible-indexing-interface.html#GUID-BB601420-A858-46E3-A9AC-3433220D4F82">ODCIIndexFetch（）</a>例程的实现。
                           </p><pre class="oac_no_warn" dir="ltr">成员函数ODCIIndexFetch（nrows NUMBER，rids OUT SYS.ODCIRidList，env SYS.ODCIEnv）返回NUMBER作为EXTERNAL名称“qxiqtbspf”库extdemo6l，带有上下文参数（context，self，self indicator struct，nrows，nrows indicator，rids，rids indicator， env，env指标结构，返回OCINumber）;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACIDHBA"></a><div class="props_rev_3"><a id="GUID-E3A862DE-F07C-4681-BBE4-8339AD0A4D32" name="GUID-E3A862DE-F07C-4681-BBE4-8339AD0A4D32"></a><h5 id="ADDCI-GUID-E3A862DE-F07C-4681-BBE4-8339AD0A4D32" class="sect5"><span class="enumeration_section">16.4.4.6</span>注册ODCIIndexClose（）的实现</h5>
                     <div>
                        <div class="section">
                           <p>注册<a href="extensible-indexing-interface.html#GUID-2F49CDE4-C064-4644-948C-BBF014FDD8C8">ODCIIndexClose（）</a>例程的实现。
                           </p><pre class="oac_no_warn" dir="ltr">成员函数ODCIIndexClose（env SYS.ODCIEnv）返回数字作为外部名称“qxiqtbspc”库extdemo6l，带有上下文参数（context，self，self indicator struct，env，env indicator struct，return OCINumber）;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADDCI4908"></a><a id="ADDCI4909"></a><a id="ADDCI4907"></a><div class="props_rev_3"><a id="GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE" name="GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE"></a><h4 id="ADDCI-GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE" class="sect4"><span class="enumeration_section">16.4.5</span>在C实现中定义其他结构</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">stuct</code> <code class="codeph">qxiqtim</code> ， <code class="codeph">struct qciqtin</code>和<code class="codeph">struct</code> <code class="codeph">qxiqtcx</code>用于映射对象类型及其<code class="codeph">null</code>值（在<a href="example-for-PSBTREE-extensible-indexing.html#GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACBHEBF">例16-6中</a>演示），以及在获取调用期间保持状态（在<a href="example-for-PSBTREE-extensible-indexing.html#GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACCIGGI">例16-7中</a>演示）。这些结构由<a href="example-for-PSBTREE-extensible-indexing.html#GUID-857BD94C-1C99-48ED-99A0-1A90D5793AF4">实施主体</a>中<a href="example-for-PSBTREE-extensible-indexing.html#GUID-857BD94C-1C99-48ED-99A0-1A90D5793AF4">定义C方法中</a>描述的方法使用。
                        </p>
                        <p>用于映射ODCI类型的C <code class="codeph">struct</code>在文件<code class="codeph">odci.h</code>中定义。例如，C <code class="codeph">struct</code> <code class="codeph">ODCIIndexInfo</code>是相应ODCI对象类型的映射。C <code class="codeph">struct</code> <code class="codeph">ODCIIndexInfo_ind</code>是<code class="codeph">null</code>对象的映射。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACBHEBF">
                        <p class="titleinexample">示例16-6定义对象类型的映射及其空值</p>
                        <p>我们已经定义了一个C <code class="codeph">struct</code> <code class="codeph">qxiqtim</code>作为对象类型的映射。对于相应的<code class="codeph">null</code>对象，还有一个额外的C <code class="codeph">struct</code> <code class="codeph">qxiqtin</code> 。可以从对象类型转换器（OTT）生成对象类型的C <code class="codeph">struct</code>及其<code class="codeph">null</code>对象。
                        </p><pre class="oac_no_warn" dir="ltr">/ *索引实现类型是具有单个RAW属性*的对象类型，用于存储上下文键值。*实现类型的C映射：* / struct qxiqtim {OCIRaw * sctx_qxiqtim; }; typedef struct qxiqtim qxiqtim; struct qxiqtin {short atomic_qxiqtin; scind_qxiqtin; }; typedef struct qxiqtin qxiqtin;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACCIGGI">
                        <p class="titleinexample">例16-7在获取呼叫期间保持扫描状态</p>
                        <p>有一组OCI句柄必须在获取调用期间缓存并检索。AC <code class="codeph">struct</code> <code class="codeph">qxiqtcx</code>定义为保存所有必要的扫描状态。此结构从<code class="codeph">OCI_DURATION_STATEMENT</code>内存中分配，以确保它持续到<code class="codeph">fetch</code>结束。在使用所需信息填充结构后，指向结构的指针将保存在OCI上下文中。上下文由通过调用OCI例程生成的4字节密钥标识。4字节密钥存储在扫描上下文中 - <code class="codeph">exiting</code> 。此对象将返回到Oracle服务器，并作为参数传递给下一个fetch调用。
                        </p><pre class="oac_no_warn" dir="ltr">/ *索引扫描上下文 - 应存储在“语句”持续时间内存*中，并由start，fetch和close例程使用。* / struct qxiqtcx {OCIStmt * stmthp; OCIDefine * defnp; OCIBind * bndp; char ridp [19]; }; typedef struct qxiqtcx qxiqtcx;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADDCI4910"></a><div class="props_rev_3"><a id="GUID-857BD94C-1C99-48ED-99A0-1A90D5793AF4" name="GUID-857BD94C-1C99-48ED-99A0-1A90D5793AF4"></a><h4 id="ADDCI-GUID-857BD94C-1C99-48ED-99A0-1A90D5793AF4" class="sect4"><span class="enumeration_section">16.4.6</span>在实施机构中定义C方法</h4>
                  <div>
                     <p>考虑如何在C语言中实现PSBEETree方法。</p>
                  </div><a id="CACJIECE"></a><div class="props_rev_3"><a id="GUID-17BABF87-B59B-4434-B06D-CC5C3F168A5C" name="GUID-17BABF87-B59B-4434-B06D-CC5C3F168A5C"></a><h5 id="ADDCI-GUID-17BABF87-B59B-4434-B06D-CC5C3F168A5C" class="sect5"><span class="enumeration_section">16.4.6.1</span>在C中实现常见错误处理例程</h5>
                     <div>
                        <div class="section">
                           <p>此函数用于检查和处理来自所有<code class="codeph">OCI</code>例程的返回码。它会检查状态代码并在出现错误时引发异常。
                           </p><pre class="oac_no_warn" dir="ltr">static int qxiqtce（OCIExtProcContext * ctx，OCIError * errhp，sword status）{text errbuf [512]; sb4 errcode = 0; int errnum = 29400; / *选择一些oracle错误号* / int rc = 0; switch（status）{case OCI_SUCCESS：rc = 0;打破; case OCI_ERROR：（void）OCIErrorGet（（dvoid *）errhp，（ub4）1，（text *）NULL，＆errcode，errbuf，（ub4）sizeof（errbuf），OCI_HTYPE_ERROR）; / *引发异常* / OCIExtProcRaiseExcpWithMsg（ctx，errnum，errbuf，strlen（（char *）errbuf））; rc = 1;打破; default：（void）sprintf（（char *）errbuf，“Warning  -  some error \ n”）; / *引发异常* / OCIExtProcRaiseExcpWithMsg（ctx，errnum，errbuf，strlen（（char *）errbuf））; rc = 1;打破; } return（rc）; }</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACJJDAC"></a><div class="props_rev_3"><a id="GUID-EA21F55B-FF07-49B2-B9BB-16E913AE9DDB" name="GUID-EA21F55B-FF07-49B2-B9BB-16E913AE9DDB"></a><h5 id="ADDCI-GUID-EA21F55B-FF07-49B2-B9BB-16E913AE9DDB" class="sect5"><span class="enumeration_section">16.4.6.2</span>实施ODCIIndexInsert（）在C PSBTREE</h5>
                     <div>
                        <div class="section">
                           <p>插入例程<a href="extensible-indexing-interface.html#GUID-EF42025B-6DE2-4F2A-90EF-62775EE0EED6">ODCIIndexInsert（）</a>解析并执行一个将新行插入索引表的语句。新行包含索引列的新值和作为参数传入的<code class="codeph">rowid</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">OCINumber * qxiqtbspi（OCIExtProcContext * ctx，ODCIIndexInfo * ix，ODCIIndexInfo_ind * ix_ind，char * rid，short rid_ind，char * newval，short newval_ind，ODCIEnv * env，ODCIEnv_ind * env_ind）{OCIEnv * envhp =（OCIEnv *）0; / * env。 handle * / OCISvcCtx * svchp =（OCISvcCtx *）0; / * service handle * / OCIError * errhp =（OCIError *）0; / *错误句柄* / OCIStmt * stmthp =（OCIStmt *）0; / *语句句柄* / OCIBind * bndp =（OCIBind *）0; / * bind handle * / int retval =（int）ODCI_SUCCESS; / *从此函数返回* / OCINumber * rval =（OCINumber *）0; char insstmt [2000]; / * sql insert statement * / ODCIColInfo * colinfo; / * column info * / ODCIColInfo_ind * colinfo_ind; boolean exists = TRUE; unsigned int partiden; / * table partition iden * / unsigned int idxflag; / * index info flag / *首先为OCINumber分配内存* / rval =（OCINumber *）OCIExtProcAllocCallMemory（ctx，sizeof（OCINumber））; / *获取oci句柄* / if（qxiqtce（ctx，errhp，OCIExtProcGetEnv（ctx，＆envhp，＆svchp，＆errhp）））return（rval）; / *设置返回码* / if（qxiqtce（ctx，errhp，OCINumberFromInt（errhp，（dvoid *）＆retval，sizeof（retval），OCI_NUMBER_SIGNED，rval）））return（rval）; / *将idxflag从OCINumber转换为整数* / if（qxiqtce（ctx，errhp，OCINumberToInt（errhp，＆（ix-&gt; IndexInfoFlags），sizeof（idxflag），OCI_NUMBER_UNSIGNED，（void *）＆idxflag）））return（rval）; / ***************************** *构建插入声明* *************** *************** / if（（idxflag＆ODCI_INDEX_RANGE_PARTN）！= ODCI_INDEX_RANGE_PARTN）（void）sprintf（insstmt，“INSERT into％s。％s_sbtree values（：newval，：mrid）”，OCIStringPtr（envhp，ix-&gt; IndexSchema），OCIStringPtr（envhp，ix-&gt; IndexName））; else {if（qxiqtce（ctx，errhp，OCICollGetElem（envhp，errhp，（OCIColl *）ix-&gt; IndexCols，（sb4）0，＆exists，（void **）＆colinfo，（void **）＆colinfo_ind）））return（ RVAL）; （void）sprintf（insstmt，“INSERT into％s。％s_sbtree partition（DATAOBJ_TO_PARTITION（％s，：partiden））VALUES（：newval，：mrid）”，OCIStringPtr（envhp，ix-&gt; IndexSchema），OCIStringPtr（envhp， ix-&gt; IndexName），OCIStringPtr（envhp，colinfo-&gt; TableName））; } / *************************************** *解析并执行创建声明* ** ************************************** / / *分配stmt句柄* / if（qxiqtce（ ctx，errhp，OCIHandleAlloc（（dvoid *）envhp，（dvoid **）＆stmthp，（ub4）OCI_HTYPE_STMT，（size_t）0，（dvoid **）0）））return（rval）; / *准备语句* / if（qxiqtce（ctx，errhp，OCIStmtPrepare（stmthp，errhp，（text *）insstmt，（ub4）strlen（insstmt），OCI_NTV_SYNTAX，OCI_DEFAULT）））return（rval）; if（（idxflag＆ODCI_INDEX_RANGE_PARTN）== ODCI_INDEX_RANGE_PARTN）{/ *将partiden转换为OCINumber的整数* / if（qxiqtce（ctx，errhp，OCINumberToInt（errhp，＆（colinfo-&gt; TablePartitionIden），sizeof（partiden），OCI_NUMBER_UNSIGNED，（ void *）＆partiden）））return（rval）; / *为partiden设置绑定* / if（qxiqtce（ctx，errhp，OCIBindByName（stmthp，＆bndp，errhp，text *）“：partiden”，sizeof（“：partiden”） -  1，（dvoid *）＆partiden，（ sb4）（sizeof（partiden）），（ub2）SQLT_INT，（dvoid *）0，（ub2 *）0，（ub2 *）0，（ub4）0，（ub4 *）0，（ub4）OCI_DEFAULT）））返回（rval中）; } / *为newval设置绑定* / if（qxiqtce（ctx，errhp，OCIBindByName（stmthp，＆bndp，errhp，（text *）“：newval”，sizeof（“：newval”） -  1，（dvoid *）newval ，（sb4）（strlen（newval）+1），（ub2）SQLT_STR，（dvoid *）0，（ub2 *）0，（ub2 *）0，（ub4）0，（ub4 *）0，（ub4） OCI_DEFAULT）））return（rval）; / *为rid * / if设置绑定（qxiqtce（ctx，errhp，OCIBindByName（stmthp，＆bndp，errhp，（text *）“：mrid”，sizeof（“：mrid”） -  1，（dvoid *）rid， （sb4）（strlen（rid）+1），（ub2）SQLT_STR，（dvoid *）0，（ub2 *）0，（ub2 *）0，（ub4）0，（ub4 *）0，（ub4）OCI_DEFAULT ）））return（rval）; / *执行语句* / if（qxiqtce（ctx，errhp，OCIStmtExecute（svchp，stmthp，errhp，（ub4）1，（ub4）0，（OCISnapshot *）NULL，（OCISnapshot *）NULL，（ub4）OCI_DEFAULT）） ）return（rval）; / * free stmt handle * / if（qxiqtce（ctx，errhp，OCIHandleFree（（dvoid *）stmthp，（ub4）OCI_HTYPE_STMT）））return（rval）;返回（rval中）; }</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACFICAJ"></a><div class="props_rev_3"><a id="GUID-501B8354-FB1F-4D7C-A8F4-3C6181F56A19" name="GUID-501B8354-FB1F-4D7C-A8F4-3C6181F56A19"></a><h5 id="ADDCI-GUID-501B8354-FB1F-4D7C-A8F4-3C6181F56A19" class="sect5"><span class="enumeration_section">16.4.6.3</span>实施ODCIIndexDelete（）在C PSBTREE</h5>
                     <div>
                        <div class="section">
                           <p>delete例程构造一个SQL语句，用于从索引表中删除与从基表中删除的行相对应的行。索引表中的行由<code class="codeph">rowid</code>的值标识，该值作为参数传递给此例程。
                           </p><pre class="oac_no_warn" dir="ltr">OCINumber * qxiqtbspd（OCIExtProcContext * ctx，ODCIIndexInfo * ix，ODCIIndexInfo_ind * ix_ind，char * rid，short rid_ind，char * oldval，short oldval_ind，ODCIEnv * env，ODCIEnv_ind * env_ind）{OCIEnv * envhp =（OCIEnv *）0; / * env。 handle * / OCISvcCtx * svchp =（OCISvcCtx *）0; / * service handle * / OCIError * errhp =（OCIError *）0; / *错误句柄* / OCIStmt * stmthp =（OCIStmt *）0; / *语句句柄* / OCIBind * bndp =（OCIBind *）0; / * bind handle * / int retval =（int）ODCI_SUCCESS; / *从此函数返回* / OCINumber * rval =（OCINumber *）0; char delstmt [2000]; / * sql delete statement * / ODCIColInfo * colinfo; / * column info * / ODCIColInfo_ind * colinfo_ind; boolean exists = TRUE; unsigned int partiden; / * table partition iden * / unsigned int idxflag; / * index info flag / *获取oci句柄* / if（qxiqtce（ctx，errhp，OCIExtProcGetEnv（ctx，＆envhp，＆svchp，＆errhp）））return（rval）; / *设置返回码* / rval =（OCINumber *）OCIExtProcAllocCallMemory（ctx，sizeof（OCINumber））; if（qxiqtce（ctx，errhp，OCINumberFromInt（errhp，（dvoid *）＆retval，sizeof（retval），OCI_NUMBER_SIGNED，rval）））return（rval）; / *将idxflag从OCINumber转换为整数* / if（qxiqtce（ctx，errhp，OCINumberToInt（errhp，＆（ix-&gt; IndexInfoFlags），sizeof（idxflag），OCI_NUMBER_UNSIGNED，（void *）＆idxflag）））return（rval）; / ***************************** *构建删除声明* *************** *************** / if（（idxflag＆ODCI_INDEX_RANGE_PARTN）！= ODCI_INDEX_RANGE_PARTN）（void）sprintf（delstmt，“DELETE FROM％s。％s_sbtree WHERE f2 =：rr”，OCIStringPtr（envhp，ix-&gt; IndexSchema），OCIStringPtr（envhp，ix-&gt; IndexName））; else {if（qxiqtce（ctx，errhp，OCICollGetElem（envhp，errhp，（OCIColl *）ix-&gt; IndexCols，（sb4）0，＆exists，（void **）＆colinfo，（void **）＆colinfo_ind）））return（ RVAL）; （void）sprintf（delstmt，“DELETE FROM％s。％s_sbtree partition（DATAOBJ_TO_PARTITION（％s，：partiden））WHERE f2 =：rr”，OCIStringPtr（envhp，ix-&gt; IndexSchema），OCIStringPtr（envhp，ix-&gt; IndexName），OCIStringPtr（envhp，colinfo-&gt; TableName））; } / *************************************** *解析并执行删除声明* ** ************************************** / / *分配stmt句柄* / if（qxiqtce（ ctx，errhp，OCIHandleAlloc（（dvoid *）envhp，（dvoid **）＆stmthp，（ub4）OCI_HTYPE_STMT，（size_t）0，（dvoid **）0）））return（rval）; / *准备语句* / if（qxiqtce（ctx，errhp，OCIStmtPrepare（stmthp，errhp，（text *）delstmt，（ub4）strlen（delstmt），OCI_NTV_SYNTAX，OCI_DEFAULT）））return（rval）; if（（idxflag＆ODCI_INDEX_RANGE_PARTN）== ODCI_INDEX_RANGE_PARTN）{/ *将partiden转换为OCINumber的整数* / if（qxiqtce（ctx，errhp，OCINumberToInt（errhp，＆（colinfo-&gt; TablePartitionIden），sizeof（partiden），OCI_NUMBER_UNSIGNED，（ void *）＆partiden）））return（rval）; / *为partiden设置绑定* / if（qxiqtce（ctx，errhp，OCIBindByName（stmthp，＆bndp，errhp，（text *）“：partiden”，sizeof（“：partiden”） -  1，（dvoid *）＆partiden， sb4）（sizeof（partiden）），（ub2）SQLT_INT，（dvoid *）0，（ub2 *）0，（ub2 *）0，（ub4）0，（ub4 *）0，（ub4）OCI_DEFAULT）））返回（rval中）;设置绑定为rid * / if（qxiqtce（ctx，errhp，OCIBindByName（stmthp，＆bndp，errhp，（text *）“：rr”，sizeof（“：rr”） -  1，（dvoid *）rid ，（sb4）（strlen（rid）+1），（ub2）SQLT_STR，（dvoid *）0，（ub2 *）0，（ub2 *）0，（ub4）0，（ub4 *）0，（ub4） OCI_DEFAULT）））return（rval）; / *执行语句* / if（qxiqtce（ctx，errhp，OCIStmtExecute（svchp，stmthp，errhp，（ub4）1，（ub4）0，（OCISnapshot *）NULL，（OCISnapshot *）NULL，（ub4）OCI_DEFAULT）） ）return（rval）; / * free stmt handle * / if（qxiqtce（ctx，errhp，OCIHandleFree（（dvoid *）stmthp，（ub4）OCI_HTYPE_STMT）））return（rval）;返回（rval中）; }</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-6974D2BC-6737-4E9E-A4FF-188142F339E9" name="GUID-6974D2BC-6737-4E9E-A4FF-188142F339E9"></a><h5 id="ADDCI-GUID-6974D2BC-6737-4E9E-A4FF-188142F339E9" class="sect5"><span class="enumeration_section">16.4.6.4</span>实施ODCIIndexUpdate（）为PSBTree用C</h5>
                     <div>
                        <div class="section">
                           <p>update例程构造一个SQL语句来更新索引表中与基表中正在更新的行相对应的行。索引表中的行由<code class="codeph">rowid</code>的值标识，该值作为参数传递给此例程。旧列值（ <code class="codeph">oldval</code> ）将替换为新值（ <code class="codeph">newval</code> ）。
                           </p><pre class="oac_no_warn" dir="ltr">OCINumber * qxiqtbspu（OCIExtProcContext * ctx，ODCIIndexInfo * ix，ODCIIndexInfo_ind * ix_ind，char * rid，short rid_ind，char * oldval，short oldval_ind，char * newval，short newval_ind，ODCIEnv * env，ODCIEnv_ind * env_ind）{OCIEnv * envhp = （OCIEnv *）0; / * env。 handle * / OCISvcCtx * svchp =（OCISvcCtx *）0; / * service handle * / OCIError * errhp =（OCIError *）0; / *错误句柄* / OCIStmt * stmthp =（OCIStmt *）0; / *语句句柄* / OCIBind * bndp =（OCIBind *）0; / * bind handle * / int retval =（int）ODCI_SUCCESS; / *从此函数返回* / OCINumber * rval =（OCINumber *）0; char updstmt [2000]; / * sql upate statement * / ODCIColInfo * colinfo; / * column info * / ODCIColInfo_ind * colinfo_ind; boolean exists = TRUE; unsigned int partiden; / * table partition iden * / unsigned int idxflag; / * index info flag / *获取oci句柄* / if（qxiqtce（ctx，errhp，OCIExtProcGetEnv（ctx，＆envhp，＆svchp，＆errhp）））return（rval）; / *设置返回码* / rval =（OCINumber *）OCIExtProcAllocCallMemory（ctx，sizeof（OCINumber））; if（qxiqtce（ctx，errhp，OCINumberFromInt（errhp，（dvoid *）＆retval，sizeof（retval），OCI_NUMBER_SIGNED，rval）））return（rval）; / *将idxflag从OCINumber转换为整数* / if（qxiqtce（ctx，errhp，OCINumberToInt（errhp，＆（ix-&gt; IndexInfoFlags），sizeof（idxflag），OCI_NUMBER_UNSIGNED，（void *）＆idxflag）））return（rval）; / ***************************** *构建更新声明* *************** *************** / if（（idxflag＆ODCI_INDEX_RANGE_PARTN）！= ODCI_INDEX_RANGE_PARTN）（void）sprintf（updstmt，“UPDATE％s。％s_sbtree SET f1 =：newval WHERE f2 =：rr”，OCIStringPtr（envhp，ix-&gt; IndexSchema），OCIStringPtr（envhp，ix-&gt; IndexName））; else {if（qxiqtce（ctx，errhp，OCICollGetElem（envhp，errhp，OCIColl *）ix-&gt; IndexCols，（sb4）0，＆exists，（void **）＆colinfo，（void **）＆colinfo_ind）））return（rval ）; （void）sprintf（updstmt，“UPDATE％s。％s_sbtree partition（DATAOBJ_TO_PARTITION（％s，：partiden））SET f1 =：newval WHERE f2 =：rr”，OCIStringPtr（envhp，ix-&gt; IndexSchema），OCIStringPtr（envhp ，ix-&gt; IndexName），OCIStringPtr（envhp，colinfo-&gt; TableName））; } / **************************************** *解析并执行创建声明* * *************************************** //分配stmt句柄* / if（qxiqtce （ctx，errhp，OCIHandleAlloc（（dvoid *）envhp，（dvoid **）＆stmthp，（ub4）OCI_HTYPE_STMT，（size_t）0，（dvoid **）0）））return（rval）; / *准备语句* / if（qxiqtce（ctx，errhp，OCIStmtPrepare（stmthp，errhp，（text *）updstmt，（ub4）strlen（updstmt），OCI_NTV_SYNTAX，OCI_DEFAULT）））return（rval）; if（（idxflag＆ODCI_INDEX_RANGE_PARTN）== ODCI_INDEX_RANGE_PARTN）{/ *将partiden转换为OCINumber的整数* / if（qxiqtce（ctx，errhp，OCINumberToInt（errhp，＆（colinfo-&gt; TablePartitionIden），sizeof（partiden），OCI_NUMBER_UNSIGNED，（ void *）＆partiden）））return（rval）; / *为partiden设置绑定* / if（qxiqtce（ctx，errhp，OCIBindByName（stmthp，＆bndp，errhp，（text *）“：partiden”，sizeof（“：partiden”） -  1，（dvoid *）＆partiden， （sb4）（sizeof（partiden）），（ub2）SQLT_INT，（dvoid *）0，（ub2 *）0，（ub2 *）0，（ub4）0，（ub4 *）0，（ub4）OCI_DEFAULT）） ）return（rval）; } / *为newval设置绑定* / if（qxiqtce（ctx，errhp，OCIBindByName（stmthp，＆bndp，errhp，（text *）“：newval”，sizeof（“：newval”） -  1，（dvoid *）newval ，（sb4）（strlen（newval）+1），（ub2）SQLT_STR，（dvoid *）0，（ub2 *）0，（ub2 *）0，（ub4）0，（ub4 *）0，（ub4） OCI_DEFAULT）））return（rval）; / *为rid * / if设置绑定（qxiqtce（ctx，errhp，OCIBindByName（stmthp，＆bndp，errhp，（text *）“：rr”，sizeof（“：rr”） -  1，（dvoid *）rid， （sb4）（strlen（rid）+1），（ub2）SQLT_STR，（dvoid *）0，（ub2 *）0，（ub2 *）0，（ub4）0，（ub4 *）0，（ub4）OCI_DEFAULT ）））return（rval）; / *执行语句* / if（qxiqtce（ctx，errhp，OCIStmtExecute（svchp，stmthp，errhp，（ub4）1，ub4）0，（OCISnapshot *）NULL，（OCISnapshot *）NULL，（ub4）OCI_DEFAULT）））返回（rval中）; / * free stmt handle * / if（qxiqtce（ctx，errhp，OCIHandleFree（（dvoid *）stmthp，（ub4）OCI_HTYPE_STMT）））return（rval）;返回（rval中）; }</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-7B9542BB-89EA-4069-8D0F-0E55B3187F83" name="GUID-7B9542BB-89EA-4069-8D0F-0E55B3187F83"></a><h5 id="ADDCI-GUID-7B9542BB-89EA-4069-8D0F-0E55B3187F83" class="sect5"><span class="enumeration_section">16.4.6.5</span>实施ODCIIndexStart（）在C PSBTREE</h5>
                     <div>
                        <div class="section">
                           <p>启动例程执行<code class="codeph">psbtree</code>索引扫描的设置。根据运算符谓词，其参数和返回值的边界的查询信息作为参数传递给此函数。索引扫描例程之间共享的扫描上下文是<code class="codeph">psbtree_im</code>类型的实例。
                           </p>
                           <p>此函数设置扫描索引表的游标。扫描检索索引表中满足指定谓词的行的存储rowid。索引表的谓词是基于作为参数传入的运算符谓词信息生成的。例如，如果运算符谓词的形式为<code class="codeph">eq(col, 'joe') = 1</code> ，则索引表上的谓词设置为<code class="codeph">f1 = 'joe'</code> 。
                           </p>
                           <p>该函数使用<code class="codeph">struct</code> s <code class="codeph">qxiqtim</code> ， <code class="codeph">qxiqtin</code>和<code class="codeph">qxiqtcx</code> ，它们在<a href="example-for-PSBTREE-extensible-indexing.html#GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACBHEBF">例16-6</a>和<a href="example-for-PSBTREE-extensible-indexing.html#GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACCIGGI">例16-7中</a>进行了演示。
                           </p><pre class="oac_no_warn" dir="ltr">OCINumber * qxiqtbsps（OCIExtProcContext * ctx，qxiqtim * sctx，qxiqtin * sctx_ind，ODCIIndexInfo * ix，ODCIIndexInfo_ind * ix_ind，ODCIPredInfo * pr，ODCIPredInfo_ind * pr_ind，ODCIQueryInfo * qy，ODCIQueryInfo_ind * qy_ind，OCINumber * strt，short strt_ind，OCINumber * stop ，short stop_ind，char * cmpval，short cmpval_ind，ODCIEnv * env，ODCIEnv_ind * env_ind）{sword status; OCIEnv * envhp =（OCIEnv *）0; / * env。 handle * / OCISvcCtx * svchp =（OCISvcCtx *）0; / * service handle * / OCIError * errhp =（OCIError *）0; / *错误句柄* / OCISession * usrhp =（OCISession *）0; / * user handle * / qxiqtcx * icx =（qxiqtcx *）0; / *要保存以供以后调用的状态* / int strtval; / * start bound * / int stopval; / * stop bound * / int errnum = 29400; / *选择一些oracle错误号* / char errmsg [512]; / *错误消息缓冲区* / size_t errmsglen; / *错误消息的长度* / char relop [3]; / *在sql stmt * / char selstmt中使用的关系运算符[2000]; / * sql select statement * / int retval =（int）ODCI_SUCCESS; / *从此函数返回* / OCINumber * rval =（OCINumber *）0; ub4键; / *键值设置在“sctx”* / ub1 * rkey; / *键检索上下文* / ub4 rkeylen; / *密钥长度* / ODCIColInfo * colinfo; / * column info * / ODCIColInfo_ind * colinfo_ind; boolean exists = TRUE; unsigned int partiden; / * table partition iden * / unsigned int idxflag; / * index info flag / *获取oci句柄* / if（qxiqtce（ctx，errhp，OCIExtProcGetEnv（ctx，＆envhp，＆svchp，＆errhp）））return（rval）; / *设置返回码* / rval =（OCINumber *）OCIExtProcAllocCallMemory（ctx，sizeof（OCINumber））; if（qxiqtce（ctx，errhp，OCINumberFromInt（errhp，（dvoid *）＆retval，sizeof（retval），OCI_NUMBER_SIGNED，rval）））return（rval）; / *获取用户句柄* / if（qxiqtce（ctx，errhp，OCIAttrGet（（dvoid *）svchp，（ub4）OCI_HTYPE_SVCCTX，（dvoid *）＆usrhp，（ub4 *）0，（ub4）OCI_ATTR_SESSION，errhp）））返回（rval中）; / ********************************************** / / *分配内存以保存索引扫描上下文* / / **************************************** ****** / if（sctx_ind  - &gt; atomic_qxiqtin == OCI_IND_NULL || sctx_ind  - &gt; scind_qxiqtin == OCI_IND_NULL）{if（qxiqtce（ctx，errhp，OCIMemoryAlloc（（dvoid *）usrhp，errhp，（dvoid **） ＆icx，OCI_DURATION_STATEMENT，（ub4）（sizeof（qxiqtcx）），OCI_MEMORY_CLEARED）））return（rval）; icx-&gt; stmthp =（OCIStmt *）0; icx-&gt; defnp =（OCIDefine *）0; icx-&gt; bndp =（OCIBind *）0; } else {/ ************************* // *检索扫描上下文* / / ************ ************* / rkey = OCIRawPtr（envhp，sctx-&gt; sctx_qxiqtim）; rkeylen = OCIRawSize（envhp，sctx-&gt; sctx_qxiqtim）; if（qxiqtce（ctx，errhp，OCIContextGetValue（（dvoid *）usrhp，errhp，rkey，（ub1）rkeylen，（dvoid **）＆（icx））））return（rval）; } / *********************************** //检查边界是否有效* / / * ********************************** / / *从oci号码转换为原始号码* / if（qxiqtce（ ctx，errhp，OCINumberToInt（errhp，strt，sizeof（strtval），OCI_NUMBER_SIGNED，（dvoid *）＆strtval）））return（rval）; if（qxiqtce（ctx，errhp，OCINumberToInt（errhp，stop，sizeof（stopval），OCI_NUMBER_SIGNED，（dvoid *）＆stopval）））return（rval）; / *验证strtval / stopval都是0或1 * / if（！（（（strtval == 0）&amp;&amp;（stopval == 0））|| （（strtval == 1）&amp;&amp;（stopval == 1））））{strcpy（errmsg，（char *）“sbtree operator的不正确谓词”）; errmsglen =（size_t）strlen（errmsg）; if（OCIExtProcRaiseExcpWithMsg（ctx，errnum，（text *）errmsg，errmsglen）！= OCIEXTPROC_SUCCESS）/ *此处使用墨盒错误服务* /;返回（rval中）; } / ********************************************* / / *生成要执行的SQL语句* / / **************************************** ***** / if（memcmp（（dvoid *）OCIStringPtr（envhp，pr-&gt; ObjectName），（dvoid *）“EQ”，2）== 0）if（strtval == 1）strcpy（relop，（ char *）“=”）; else strcpy（relop，（char *）“！=“）;否则if（memcmp（（dvoid *）OCIStringPtr（envhp，pr-&gt; ObjectName），（dvoid *）”LT“，2）== 0）if（strtval == 1）strcpy（relop，（char） *）“&lt;”）;否则strcpy（relop，（char *）“&gt; =”）;否则if（strtval == 1）strcpy（relop，（char *）“&gt;”）;否则strcpy（relop，（char） *）“&lt;=”）; / *将idxflag从OCINumber转换为整数* / if（qxiqtce（ctx，errhp，OCINumberToInt（errhp，＆（ix-&gt; IndexInfoFlags），sizeof（idxflag），OCI_NUMBER_UNSIGNED，（void *）＆idxflag ）））return（rval）; if（（idxflag＆ODCI_INDEX_RANGE_PARTN）！= ODCI_INDEX_RANGE_PARTN）（void）sprintf（selstmt，“从％s选择f2。％s_sbtree，其中f1％s：val”，OCIStringPtr（envhp，ix-&gt; IndexSchema），OCIStringPtr（envhp，ix-&gt; IndexName），relop）; else {if（qxiqtce（ctx，errhp，OCICollGetElem（envhp，errhp，OCIColl *）ix-&gt; IndexCols，（sb4）0，＆exists，（void **）＆colinfo，（void **）＆colinfo_ind）））return（rval ）; / *将partiden转换为OCINumber的整数* / if（qxiqtce（ctx，errhp，OCINumberToInt（errhp，＆（colinfo-&gt; TablePartitionIden），sizeof（partiden），OCI_NUMBER_UNSIGNED，（void *）＆partiden）））return（rval）; （void）sprintf（selstmt，“从％s。％s_sbtree分区选择f2（DATAOBJ_TO_PARTITION（％s，％d））其中f1％s：val”，OCIStringPtr（envhp，ix-&gt; IndexSchema），OCIStringPtr（envhp，ix - &gt; IndexName），OCIStringPtr（envhp，colinfo-&gt; TableName），partiden，relop）; } / *********************************** / / *解析，绑定，定义和执行* / / *********************************** / if（sctx_ind  - &gt; atomic_qxiqtin == OCI_IND_NULL || sctx_ind  - &gt; scind_qxiqtin == OCI_IND_NULL）{/ *分配stmt句柄* / if（qxiqtce（ctx，errhp，OCIHandleAlloc（（dvoid *）envhp，（dvoid **）＆（icx-&gt; stmthp），（ub4）OCI_HTYPE_STMT，（size_t） 0，（dvoid **）0）））return（rval）; } / *准备语句* / if（qxiqtce（ctx，errhp，OCIStmtPrepare（icx-&gt; stmthp，errhp，（text *）selstmt，（ub4）strlen（selstmt），OCI_NTV_SYNTAX，OCI_DEFAULT）））return（rval）; / *设置绑定比较值* / if（qxiqtce（ctx，errhp，OCIBindByName（icx-&gt; stmthp，＆（icx-&gt; bndp），errhp，（text *）“：val”，sizeof（“：val”） ）-1，（dvoid *）cmpval，（sb4）（strlen（cmpval）+1），（ub2）SQLT_STR，（dvoid *）0，（ub2 *）0，（ub2 *）0，（ub4）0， （ub4 *）0，（ub4）OCI_DEFAULT）））return（rval）; / *设置定义* / if（qxiqtce（ctx，errhp，OCIDefineByPos（icx-&gt; stmthp，＆（icx-&gt; defnp），errhp，（ub4）1，（dvoid *）（icx-&gt; ridp），（sb4 ）sizeof（icx-&gt; ridp），（ub2）SQLT_STR，（dvoid *）0，（ub2 *）0，（ub2 *）0，（ub4）OCI_DEFAULT）））return（rval）; / * execute * / if（qxiqtce（ctx，errhp，OCIStmtExecute（svchp，icx-&gt; stmthp，errhp，（ub4）0，（ub4）0，（OCISnapshot *）NULL，（OCISnapshot *）NULL，（ub4）OCI_DEFAULT ）））return（rval）; / ************************************ / / *设置要返回的索引上下文* / / * *********************************** / if（sctx_ind  - &gt; atomic_qxiqtin == OCI_IND_NULL || sctx_ind  - &gt; scind_qxiqtin == OCI_IND_NULL）{/ *生成一个键* / if（qxiqtce（ctx，errhp，OCIContextGenerateKey（（dvoid *）usrhp，errhp，＆key）））return（rval）; / *设置要保存在上下文中的结构的内存地址* / if（qxiqtce（ctx，errhp，OCIContextSetValue（（dvoid *）usrhp，errhp，OCI_DURATION_STATEMENT，（ub1 *）＆key，（ub1）sizeof（key） ，（dvoid *）icx）））return（rval）; / *语句持续时间内存分配键* / if（qxiqtce（ctx，errhp，OCIMemoryAlloc（（void *）usrhp，errhp，（void **）＆（sctx-&gt; sctx_qxiqtim），OCI_DURATION_STATEMENT，（sb4）（sizeof（key） ）+ sizeof（ub4）），OCI_MEMORY_CLEARED）））return（rval）; / *将键设置为“sctx”的成员* / if（qxiqtce（ctx，errhp，OCIRawAssignBytes（envhp，errhp，（ub1 *）＆key，ub4）sizeof（key），＆（sctx-&gt; sctx_qxiqtim））） ）return（rval）; sctx_ind-&gt; atomic_qxiqtin = OCI_IND_NOTNULL; sctx_ind-&gt; scind_qxiqtin = OCI_IND_NOTNULL;返回（rval中）; } return（rval）; }</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACGCEBA"></a><div class="props_rev_3"><a id="GUID-9034448B-7A7C-4A11-A904-6E8954792162" name="GUID-9034448B-7A7C-4A11-A904-6E8954792162"></a><h5 id="ADDCI-GUID-9034448B-7A7C-4A11-A904-6E8954792162" class="sect5"><span class="enumeration_section">16.4.6.6</span>实施ODCIIndexFetch（）在C PSBTREE</h5>
                     <div>
                        <div class="section">
                           <p>由start程序设置的扫描上下文作为参数传递给fetch例程。此函数首先从扫描上下文中检索4字节密钥。扫描上下文的C映射是<code class="codeph">qxiqtim</code> （参见<a href="example-for-PSBTREE-extensible-indexing.html#GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACBHEBF">例16-6</a> ）。接下来，key用于查找OCI上下文。这给出了保存OCI句柄的<code class="codeph">qxiqtcx</code>结构的内存地址（参见<a href="example-for-PSBTREE-extensible-indexing.html#GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACCIGGI">例16-7</a> ）。
                           </p>
                           <p>此函数返回满足运算符谓词的下一批rowid。它使用<code class="codeph">nrows</code>参数的值作为批处理的大小。它从打开的游标重复获取rowid并填充<code class="codeph">rowid</code>列表。当批处理已满或没有剩余rowid时，该函数会将它们返回给Oracle服务器。
                           </p><pre class="oac_no_warn" dir="ltr">OCINumber * qxiqtbspf（OCIExtProcContext * ctx，qxiqtim * self，qxiqtin * self_ind，OCINumber * nrows，short nrows_ind，OCIArray ** rids，short * rids_ind，ODCIEnv * env，ODCIEnv_ind * env_ind）{sword status; OCIEnv * envhp =（OCIEnv *）0; / * env。 handle * / OCISvcCtx * svchp =（OCISvcCtx *）0; / * service handle * / OCIError * errhp =（OCIError *）0; / *错误句柄* / OCISession * usrhp =（OCISession *）0; / * user handle * / qxiqtcx * icx =（qxiqtcx *）0; / *状态保存以供以后调用* / int idx = 1; int nrowsval; OCIArray * ridarrp = * rids; / * rowid collection * / OCIString * ridstr =（OCIString *）0; int done = 0; int retval =（int）ODCI_SUCCESS; OCINumber * rval =（OCINumber *）0; ub1 *键; / *键检索上下文* / ub4 keylen; / *密钥长度* / / ******************* // *获取OCI句柄* / / ************** ***** / if（qxiqtce（ctx，errhp，OCIExtProcGetEnv（ctx，＆envhp，＆svchp，＆errhp）））return（rval）; / *设置返回码* / rval =（OCINumber *）OCIExtProcAllocCallMemory（ctx，sizeof（OCINumber））; if（qxiqtce（ctx，errhp，OCINumberFromInt（errhp，（dvoid *）＆retval，sizeof（retval），OCI_NUMBER_SIGNED，rval）））return（rval）; / *获取用户句柄* / if（qxiqtce（ctx，errhp，OCIAttrGet（（dvoid *）svchp，（ub4）OCI_HTYPE_SVCCTX，（dvoid *）＆usrhp，（ub4 *）0，（ub4）OCI_ATTR_SESSION，errhp）））返回（rval中）; / ******************************** / / *从密钥中检索上下文* / / ******* ************************* / key = OCIRawPtr（envhp，self-&gt; sctx_qxiqtim）; keylen = OCIRawSize（envhp，self-&gt; sctx_qxiqtim）; if（qxiqtce（ctx，errhp，OCIContextGetValue（（dvoid *）usrhp，errhp，key，（ub1）keylen，（dvoid **）＆（icx））））return（rval）; / *得到nrows * / if的值（qxiqtce（ctx，errhp，OCINumberToInt（errhp，nrows，sizeof（nrowsval），OCI_NUMBER_SIGNED，（dvoid *）＆nrowsval）））return（rval）; / **************** / / *获取rowid * / / **************** / while（！完成）{if（idx&gt; nrowsval）done = 1; else {status = OCIStmtFetch（icx-&gt; stmthp，errhp，（ub4）1，（ub2）0，（ub4）OCI_DEFAULT）; if（status == OCI_NO_DATA）{short col_ind = OCI_IND_NULL; / *必须创建虚拟oci字符串* / OCIStringAssignText（envhp，errhp，（text *）“dummy”，（ub2）5，＆ridstr）; / *将null元素追加到集合* / if（qxiqtce（ctx，errhp，OCICollAppend（envhp，errhp，（dvoid *）ridstr，（dvoid *）＆col_ind，（OCIColl *）ridarrp）））return（rval）; done = 1; } else if（status == OCI_SUCCESS）{OCIStringAssignText（envhp，errhp，（text *）icx-&gt; ridp，（ub2）18，OCIString **）＆ridstr）; / *将rowid附加到集合* / if（qxiqtce（ctx，errhp，OCICollAppend（envhp，errhp，（dvoid *）ridstr，（dvoid *）0，（OCIColl *）ridarrp）））return（rval）; IDX ++; } else if（qxiqtce（ctx，errhp，status））return（rval）; } / * free ridstr finally * / if（ridstr &amp;&amp;（qxiqtce（ctx，errhp，OCIStringResize（envhp，errhp，（ub4）0，＆ridstr））））return（rval）; * rids_ind = OCI_IND_NOTNULL;返回（rval中）; }</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACBFHDA"></a><div class="props_rev_3"><a id="GUID-43F5A575-F265-43F0-A513-6495057E0BC4" name="GUID-43F5A575-F265-43F0-A513-6495057E0BC4"></a><h5 id="ADDCI-GUID-43F5A575-F265-43F0-A513-6495057E0BC4" class="sect5"><span class="enumeration_section">16.4.6.7</span>实施ODCIIndexClose（）在C PSBTREE</h5>
                     <div>
                        <div class="section">
                           <p>由start例程设置的扫描上下文作为参数传递给close例程。此函数首先从扫描上下文中检索4字节密钥。扫描上下文的C映射是<code class="codeph">qxiqtim</code> （参见<a href="example-for-PSBTREE-extensible-indexing.html#GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACBHEBF">例16-6</a> ）。接下来，基于密钥查找OCI上下文。这给出了保存OCI句柄的结构的内存地址，即<code class="codeph">qxiqtcx</code>结构（参见<a href="example-for-PSBTREE-extensible-indexing.html#GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACCIGGI">例16-7</a> ）。
                           </p>
                           <p>此函数关闭并释放所有OCI句柄。它还释放了在启动例程中分配的内存。</p><pre class="oac_no_warn" dir="ltr">OCINumber * qxiqtbspc（OCIExtProcContext * ctx，qxiqtim * self，qxiqtin * self_ind，ODCIEnv * env，ODCIEnv_ind * env_ind）{sword status; OCIEnv * envhp =（OCIEnv *）0; / * env。 handle * / OCISvcCtx * svchp =（OCISvcCtx *）0; / * service handle * / OCIError * errhp =（OCIError *）0; / *错误句柄* / OCISession * usrhp =（OCISession *）0; / * user handle * / qxiqtcx * icx =（qxiqtcx *）0; / *要保存以供以后调用的状态* / int retval =（int）ODCI_SUCCESS; OCINumber * rval =（OCINumber *）0; ub1 *键; / *键检索上下文* / ub4 keylen; / *密钥长度* / if（qxiqtce（ctx，errhp，OCIExtProcGetEnv（ctx，＆envhp，＆svchp，＆errhp）））return（rval）; / *设置返回码* / rval =（OCINumber *）OCIExtProcAllocCallMemory（ctx，sizeof（OCINumber））; if（qxiqtce（ctx，errhp，OCINumberFromInt（errhp，（dvoid *）＆retval，sizeof（retval），OCI_NUMBER_SIGNED，rval）））return（rval）; / *获取用户句柄* / if（qxiqtce（ctx，errhp，OCIAttrGet（（dvoid *）svchp，（ub4）OCI_HTYPE_SVCCTX，（dvoid *）＆usrhp，（ub4 *）0，（ub4）OCI_ATTR_SESSION，errhp）））返回（rval中）; / ******************************** / / *使用密钥检索上下文* / / ******* ************************* / key = OCIRawPtr（envhp，self-&gt; sctx_qxiqtim）; keylen = OCIRawSize（envhp，self-&gt; sctx_qxiqtim）; if（qxiqtce（ctx，errhp，OCIContextGetValue（（dvoid *）usrhp，errhp，key，（ub1）keylen，（dvoid **）＆（icx））））return（rval）; / *自由句柄和内存* / if（qxiqtce（ctx，errhp，OCIHandleFree（（dvoid *）icx-&gt; stmthp，（ub4）OCI_HTYPE_STMT）））return（rval）; if（qxiqtce（ctx，errhp，OCIMemoryFree（（dvoid *）usrhp，errhp，（dvoid *）icx）））return（rval）; / *释放为索引上下文分配的内存。* / if（qxiqtce（ctx，errhp，OCIContextClearValue（（dvoid *）usrhp，errhp，key，（ub1）keylen）））return（rval）;返回（rval中）; }</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="CACGICCC"></a><div class="props_rev_3"><a id="GUID-A0D7FF1A-BDBB-4675-AC9E-81429BCC2AE2" name="GUID-A0D7FF1A-BDBB-4675-AC9E-81429BCC2AE2"></a><h4 id="ADDCI-GUID-A0D7FF1A-BDBB-4675-AC9E-81429BCC2AE2" class="sect4"><span class="enumeration_section">16.4.7</span>为PSBTREE实现Indextype</h4>
                  <div>
                     <p>您应该创建indextype对象并指定它支持的运算符列表。此外，指定实现ODCIIndexXXX（）接口例程的实现类型的名称。</p><pre class="oac_no_warn" dir="ltr">CREATE INDEXTYPE psbtree FOR eq（VARCHAR2，VARCHAR2），lt（VARCHAR2，VARCHAR2），gt（VARCHAR2，VARCHAR2）使用psbtree_im与系统管理存储表的LOCAL RANGE PARTITION</pre></div>
               </div>
            </div><a id="ADDCI4920"></a><div class="props_rev_3"><a id="GUID-3D9A6C67-5E57-4AA1-A79D-DDE31EB0BD2F" name="GUID-3D9A6C67-5E57-4AA1-A79D-DDE31EB0BD2F"></a><h3 id="ADDCI-GUID-3D9A6C67-5E57-4AA1-A79D-DDE31EB0BD2F" class="sect3"><span class="enumeration_section">16.5</span>使用PSBTREE</h3>
               <div>
                  <p>接下来应该创建indextype对象并指定它支持的运算符列表。此外，指定实现<code class="codeph">ODCIIndex</code> <span class="italic"><code class="codeph">XXX</code></span> <code class="codeph">()</code>接口例程的实现类型的名称。此步骤在<a href="example-for-PSBTREE-extensible-indexing.html#GUID-A0D7FF1A-BDBB-4675-AC9E-81429BCC2AE2">实现PSBTREE的索引类型</a>部分中<a href="example-for-PSBTREE-extensible-indexing.html#GUID-A0D7FF1A-BDBB-4675-AC9E-81429BCC2AE2">进行了演示</a> 。
                  </p>
                  <p>一个典型的使用场景是创建一个范围分区表并填充它，如<a href="example-for-PSBTREE-extensible-indexing.html#GUID-0EEFEAA7-3D43-4EEC-8B20-5CD2A1E52EF2">为PSBTREE创建和</a>填充<a href="example-for-PSBTREE-extensible-indexing.html#GUID-0EEFEAA7-3D43-4EEC-8B20-5CD2A1E52EF2">分区表</a>部分所示。
                  </p>
                  <p>然后，您可以在列<code class="codeph">f2</code>上创建<code class="codeph">psbtree</code>索引。<code class="codeph">CREATE INDEX</code>语句指定应使用的<a href="example-for-PSBTREE-extensible-indexing.html#GUID-32F13F1C-CCB1-4A72-8330-454C3FE2CE4D">索引类型</a> ，如“在<a href="example-for-PSBTREE-extensible-indexing.html#GUID-32F13F1C-CCB1-4A72-8330-454C3FE2CE4D">列上创建PSBTREE索引”</a>部分所示。
                  </p>
                  <p>要执行使用其中一个<code class="codeph">psbtree</code>运算符的查询，请使用“ <a href="example-for-PSBTREE-extensible-indexing.html#GUID-F259EAA0-50E1-497F-BDA4-A409AE2D654C">查询”</a>部分中的“ <a href="example-for-PSBTREE-extensible-indexing.html#GUID-F259EAA0-50E1-497F-BDA4-A409AE2D654C">使用PSBTREE运算符”中</a>的代码。
                  </p>
               </div><a id="CACCEACF"></a><div class="props_rev_3"><a id="GUID-0EEFEAA7-3D43-4EEC-8B20-5CD2A1E52EF2" name="GUID-0EEFEAA7-3D43-4EEC-8B20-5CD2A1E52EF2"></a><h4 id="ADDCI-GUID-0EEFEAA7-3D43-4EEC-8B20-5CD2A1E52EF2" class="sect4"><span class="enumeration_section">16.5.1</span>为PSBTREE创建和填充分区表</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">创建表t1（f1 NUMBER，f2 VARCHAR2（200））按范围分区（f1）（分区p1值小于（101），分区p2值小于（201），分区p3值小于（301），分区p4值少于（401））;插入t1 VALUES（10，'aaaa'）;插入t1 VALUES（200，'bbbb'）;插入t1 VALUES（100，'cccc'）;插入t1 VALUES（300，'dddd'）;插入t1 VALUES（400，'eeee'）;承诺;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CACJJHIG"></a><div class="props_rev_3"><a id="GUID-32F13F1C-CCB1-4A72-8330-454C3FE2CE4D" name="GUID-32F13F1C-CCB1-4A72-8330-454C3FE2CE4D"></a><h4 id="ADDCI-GUID-32F13F1C-CCB1-4A72-8330-454C3FE2CE4D" class="sect4"><span class="enumeration_section">16.5.2</span>在列上创建PSBTREE索引</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">创建索引it1 ON t1（f2）iINDEXTYPE是psbtree LOCAL（PARTITION pe1 PARAMETERS（'test1'），PARTITION pe2，PARTITION pe3，PARTITION pe4 PARAMETERS（'test4'））PARAMETERS（'test'）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CACHDCED"></a><div class="props_rev_3"><a id="GUID-F259EAA0-50E1-497F-BDA4-A409AE2D654C" name="GUID-F259EAA0-50E1-497F-BDA4-A409AE2D654C"></a><h4 id="ADDCI-GUID-F259EAA0-50E1-497F-BDA4-A409AE2D654C" class="sect4"><span class="enumeration_section">16.5.3</span>在查询中使用PSBTREE运算符</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">SELECT * FROMM t1 WHERE eq（f2，'dddd'）= 1 AND f1&gt; 101;</pre><p>此查询的解释计划输出应如下所示：</p><pre class="oac_no_warn" dir="ltr">操作选项PARTITION_START PARTITION_STOP ---------------------------------------------- ---------------------------------- SELECT STATEMENT PARTITION RANGE ITERATOR 2 4按当地索引ROWID 2 4域的表访问指数</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01722.sql.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter provides an overview of the Structured Query Language (SQL) and how Oracle Database processes SQL statements."></meta>
      <meta name="description" content="This chapter provides an overview of the Structured Query Language (SQL) and how Oracle Database processes SQL statements."></meta>
      <title>SQL</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Concepts"></meta>
      <meta property="og:description" content="This chapter provides an overview of the Structured Query Language (SQL) and how Oracle Database processes SQL statements."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Concepts"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-concepts.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T07:47:16-08:00"></meta>
      <meta name="dcterms.title" content="Database Concepts"></meta>
      <meta name="dcterms.dateCopyrighted" content="1993, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96138-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-data-access.html" title="Previous" type="text/html"></link>
      <link rel="next" href="server-side-programming.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CNCPT"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-data-access.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="server-side-programming.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库概念</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-access.html" property="item" typeof="WebPage"><span property="name">Oracle数据访问</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SQL</li>
            </ol>
            <a id="GUID-DA48618A-A6BB-421A-A10A-02859D8ED9AD" name="GUID-DA48618A-A6BB-421A-A10A-02859D8ED9AD"></a><a id="CNCPT015"></a>
            
            <h2 id="CNCPT-GUID-DA48618A-A6BB-421A-A10A-02859D8ED9AD" class="sect2"><span class="enumeration_chapter">7</span> SQL</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章概述了<span class="bold">结构化查询语言（SQL）</span>以及Oracle数据库如何处理SQL语句。
               </p>
               <p>本章包括以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="sql.html#GUID-CBD8FE77-BA6F-4241-A71C-2ADDDF43EA7F" title="SQL（发音为sequel）是基于集合的高级声明性计算机语言，所有程序和用户都可以使用该语言访问Oracle数据库中的数据。">SQL简介</a></p>
                  </li>
                  <li>
                     <p><a href="sql.html#GUID-662EE4B0-7D5E-43F5-806D-A2AE404D77BF" title="对Oracle数据库中的信息执行的所有操作都使用SQL语句运行。SQL语句是由标识符，参数，变量，名称，数据类型和SQL保留字组成的计算机程序或指令。">SQL语句概述</a></p>
                  </li>
                  <li>
                     <p><a href="sql.html#GUID-3F42B1AA-530A-4144-8179-F0074832AF81" title="要了解Oracle数据库如何处理SQL语句，有必要了解数据库中称为优化器的部分（也称为查询优化器或基于成本的优化器）。所有SQL语句都使用优化器来确定访问指定数据的最有效方法。">优化程序概述</a></p>
                  </li>
                  <li>
                     <p><a href="sql.html#GUID-0E8DFE97-F2DD-4183-8A4B-1EA9087E9E37" title="本节介绍Oracle数据库如何处理SQL语句。具体来说，该部分介绍了数据库处理DDL语句以创建对象的方式，DML用于修改数据的方式以及用于检索数据的查询。">SQL处理概述</a></p>
                  </li>
               </ul>
            </div><a id="CNCPT116"></a><div class="props_rev_3"><a id="GUID-CBD8FE77-BA6F-4241-A71C-2ADDDF43EA7F" name="GUID-CBD8FE77-BA6F-4241-A71C-2ADDDF43EA7F"></a><h3 id="CNCPT-GUID-CBD8FE77-BA6F-4241-A71C-2ADDDF43EA7F" class="sect3">SQL简介</h3>
               <div>
                  <p>SQL（发音为<span class="italic">sequel</span> ）是基于集合的高级声明性计算机语言，所有程序和用户都可以使用该语言访问Oracle数据库中的数据。
                  </p>
                  <p>虽然某些Oracle工具和应用程序掩盖了SQL使用，但所有数据库任务都是使用SQL执行的。任何其他数据访问方法都会绕过Oracle数据库中内置的安全性，并可能危及数据安全性和完整性。</p>
                  <p>SQL为关系数据库（如Oracle数据库）提供了一个接口。SQL以一种一致的语言统一以下任务：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>创建，替换，更改和删除对象</p>
                     </li>
                     <li>
                        <p>插入，更新和删除表行</p>
                     </li>
                     <li>
                        <p>查询数据</p>
                     </li>
                     <li>
                        <p>控制对数据库及其对象的访问</p>
                     </li>
                     <li>
                        <p>保证数据库的一致性和完整性</p>
                     </li>
                  </ul>
                  <p>SQL可以交互使用，这意味着语句可以手动输入到程序中。SQL语句也可以嵌入用不同语言（如C或Java）编写的程序中。</p>
                  <div class="infoboxnotealso" id="GUID-CBD8FE77-BA6F-4241-A71C-2ADDDF43EA7F__GUID-4056657B-1E17-4432-B452-B469E39F9BDF">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="server-side-programming.html#GUID-6B5D98B7-A25D-4187-B3A9-43629E214635" title="在诸如SQL的非过程语言中，指定要操作的数据集，但不指定要执行的操作或它们的执行方式。">服务器端编程简介</a> ”</span>和<span class="q">“ <a href="concepts-for-database-developers.html#GUID-87F23274-B506-486B-8775-880016095EF5" title="您可以使用预编译器或Java转换器将SQL语句放在源代码中，也可以使用API使应用程序与数据库交互。">客户端数据库编程</a> ”</span></p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/Introduction-to-Oracle-SQL.html#SQLRF001" target="_blank"><span><cite>Oracle Database SQL语言参考，</cite></span></a>用于SQL简介</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="CNCPT88899"></a><div class="props_rev_3"><a id="GUID-AF25E66F-965C-44B8-91B8-1A9F95FCF99D" name="GUID-AF25E66F-965C-44B8-91B8-1A9F95FCF99D"></a><h4 id="CNCPT-GUID-AF25E66F-965C-44B8-91B8-1A9F95FCF99D" class="sect4">SQL数据访问</h4>
                  <div>
                     <p>有计算机语言的两大家族： <strong class="term">声明性语言</strong>是无顺序和描述应<span class="italic">该做什么</span> ，以及<strong class="term">程序语言</strong>如C ++和Java描述事情应该<span class="italic">怎么</span>做。
                     </p>
                     <p>SQL是声明性的，用户指定他们想要的结果，而不是如何派生它。例如，以下语句查询姓氏以<code class="codeph">K</code>开头的员工的记录：</p>
                     <p>数据库执行生成过程以导航数据并检索所请求结果的工作。SQL的声明性使您可以在逻辑级别处理数据。只有在操作数据时才需要关注实现细节。</p><pre class="pre codeblock"><code>SELECT last_name，first_name FROM hr.employees WHERE last_name LIKE'K％'ORDER BY last_name，first_name;</code></pre><p>数据库在一个步骤中检索满足<code class="codeph">WHERE</code> <a href="glossary.html#GUID-B5AA8627-E7DC-487B-8D4B-2DE3F1497A83"><span class="xrefglossterm">条件的</span></a>所有行，也称为<a href="glossary.html#GUID-891CF9E9-78CD-470C-9C4A-D65A101B2C38"><span class="xrefglossterm">谓词</span></a> 。数据库可以将这些行作为一个单元传递给用户，另一个SQL语句或应用程序。应用程序不需要逐个处理行，开发人员也不需要知道如何物理存储或检索行。
                     </p>
                     <p>所有SQL语句都使用优化器，优化器是数据库的一个组件，用于确定访问请求数据的最有效方法。Oracle数据库还支持可用于使优化器更好地执行其工作的技术。</p>
                     <div class="infoboxnotealso" id="GUID-AF25E66F-965C-44B8-91B8-1A9F95FCF99D__GUID-6039675E-5D31-4863-9F14-B8A3915056B1">
                        <p class="notep1">也可以看看：</p>
                        <p>有关SQL语句和SQL其他部分（如运算符，函数和格式模型）的详细信息，请<a href="../sqlrf/Basic-Elements-of-Oracle-SQL.html#SQLRF002" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                     </div>
                  </div>
               </div><a id="CNCPT88900"></a><div class="props_rev_3"><a id="GUID-B383E550-BBF9-4449-A6B0-56B3B3C81A09" name="GUID-B383E550-BBF9-4449-A6B0-56B3B3C81A09"></a><h4 id="CNCPT-GUID-B383E550-BBF9-4449-A6B0-56B3B3C81A09" class="sect4">SQL标准</h4>
                  <div>
                     <p>Oracle致力于遵循行业认可的标准，并积极参与SQL标准委员会。</p>
                     <p>行业认可的委员会是美国国家标准协会（ANSI）和国际标准化组织（ISO）。ANSI和ISO / IEC都接受SQL作为关系数据库的标准语言。</p>
                     <p>SQL标准由十个部分组成。其中一部分（SQL / RPR：2012）是2102中的新内容。2011年修订了其他五个部分。对于其他四个部分，2008版本仍然存在。</p>
                     <p><a href="glossary.html#GUID-48DAF4AC-49FB-453A-A48B-AF225FEA600B"><span class="xrefglossterm">Oracle SQL</span></a>包含许多ANSI / ISO标准SQL语言的扩展，Oracle数据库工具和应用程序提供了其他语句。SQL * Plus，SQL Developer和Oracle Enterprise Manager工具使您可以针对Oracle数据库以及可用于这些工具的任何其他语句或函数运行任何ANSI / ISO标准SQL语句。
                     </p>
                     <div class="infoboxnotealso" id="GUID-B383E550-BBF9-4449-A6B0-56B3B3C81A09__GUID-3B81D71E-10B9-414A-BFFD-50FF553F5B8D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="concepts-for-database-administrators.html#GUID-FA659979-25B7-4611-AA8D-48B5404301FE" title="Oracle提供了几种用于管理数据库的工具。">数据库管理员工具</a> ”</span>和<span class="q">“ <a href="concepts-for-database-developers.html#GUID-D1C1BC1D-03C7-4A18-BB88-0D76F311DAF0" title="Oracle提供了几种用于开发数据库应用程序的工具。本节介绍一些常用的开发工具。">数据库开发人员工具</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Oracle-and-Standard-SQL.html#SQLRF019" target="_blank"><span><cite>Oracle数据库SQL语言参考，</cite></span></a>用于解释Oracle SQL和标准SQL之间的差异</p>
                           </li>
                           <li>
                              <p><a href="../sqpug/SQL-Plus-quick-start.html#GUID-BF1995BD-EF9B-4EA2-9B32-7BFACDEB79DA" target="_blank"><span><cite>SQL * Plus用户指南和</cite></span></a> SQL * Plus命令<a href="../sqpug/SQL-Plus-quick-start.html#GUID-BF1995BD-EF9B-4EA2-9B32-7BFACDEB79DA" target="_blank"><span><cite>参考</cite></span></a> ，包括它们与SQL语句的区别</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT1730"></a><div class="props_rev_3"><a id="GUID-662EE4B0-7D5E-43F5-806D-A2AE404D77BF" name="GUID-662EE4B0-7D5E-43F5-806D-A2AE404D77BF"></a><h3 id="CNCPT-GUID-662EE4B0-7D5E-43F5-806D-A2AE404D77BF" class="sect3">SQL语句概述</h3>
               <div>
                  <p>对Oracle数据库中的信息执行的所有操作都使用SQL <span class="bold">语句</span>运行。SQL语句是由标识符，参数，变量，名称，数据类型和SQL <span class="bold">保留字</span>组成的计算机程序或指令。
                  </p>
                  <div class="infoboxnote" id="GUID-662EE4B0-7D5E-43F5-806D-A2AE404D77BF__GUID-065C887C-0B78-44DA-8817-D30837ADBC63">
                     <p class="notep1">注意：</p>
                     <p>SQL保留字在SQL中具有特殊含义，不应用于任何其他目的。例如， <code class="codeph">SELECT</code>和<code class="codeph">UPDATE</code>是保留字，不应用作表名。
                     </p>
                  </div>
                  <p>SQL语句必须等同于完整的SQL语句，例如：</p><pre class="oac_no_warn" dir="ltr">SELECT last_name，department_id FROM employees</pre><p>Oracle数据库仅运行完整的SQL语句。如下所示的片段会生成错误，指示需要更多文本：</p><pre class="oac_no_warn" dir="ltr">SELECT last_name;</pre><p>Oracle SQL语句分为以下几类：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="sql.html#GUID-C25B548B-363A-4FE5-B4EE-784502BAAD08" title="数据定义语言（DLL）语句定义，结构更改和删除模式对象。">数据定义语言（DDL）语句</a></p>
                     </li>
                     <li>
                        <p><a href="sql.html#GUID-90EA5D9B-76F2-4916-9F7E-CF0D8AA1A09D" title="数据操纵语言（DML）语句查询或操纵现有模式对象中的数据。">数据操作语言（DML）语句</a></p>
                     </li>
                     <li>
                        <p><a href="sql.html#GUID-73F24816-881A-4849-B8A7-EA9B446A24A7" title="事务控制语句管理DML语句所做的更改，并将DML语句分组到事务中。">交易控制声明</a></p>
                     </li>
                     <li>
                        <p><a href="sql.html#GUID-261BEAAC-0897-465D-9137-D201CE80675C" title="会话控制语句动态管理用户会话的属性。">会话控制语句</a></p>
                     </li>
                     <li>
                        <p><a href="sql.html#GUID-9D63E5DD-E0EF-42AE-B460-74165BB016F3" title="系统控制语句更改数据库实例的属性。">系统控制声明</a></p>
                     </li>
                     <li>
                        <p><a href="sql.html#GUID-AE8D7440-ED46-4FE8-9475-F3D0AD2E19CF" title="嵌入式SQL语句在过程语言程序中包含DDL，DML和事务控制语句。 。">嵌入式SQL语句</a></p>
                     </li>
                  </ul>
               </div><a id="CNCPT88901"></a><a id="CNCPT1732"></a><div class="props_rev_3"><a id="GUID-C25B548B-363A-4FE5-B4EE-784502BAAD08" name="GUID-C25B548B-363A-4FE5-B4EE-784502BAAD08"></a><h4 id="CNCPT-GUID-C25B548B-363A-4FE5-B4EE-784502BAAD08" class="sect4">数据定义语言（DDL）语句</h4>
                  <div>
                     <p>数据定义语言（ <span class="bold">DLL</span> ）语句定义，结构更改和删除模式对象。
                     </p>
                     <p>DDL使您可以在不更改访问对象的应用程序的情况下更改对象的属性。例如，您可以向人力资源应用程序访问的表中添加列，而无需重写应用程序。当数据库用户在数据库中执行工作时，您还可以使用DDL来更改对象的结构。</p>
                     <p>更具体地说，DDL语句使您能够：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>创建，更改和删除架构对象和其他数据库结构，包括数据库本身和数据库用户。大多数DDL语句以关键字<code class="codeph">CREATE</code> ， <code class="codeph">ALTER</code>或<code class="codeph">DROP</code>开头。</p>
                        </li>
                        <li>
                           <p>删除架构对象中的所有数据，而不删除这些对象的结构（ <code class="codeph">TRUNCATE</code> ）。
                           </p>
                           <div class="infoboxnote" id="GUID-C25B548B-363A-4FE5-B4EE-784502BAAD08__GUID-10188635-F56C-421E-A96A-31825B8BD549">
                              <p class="notep1">注意：</p>
                              <p>与<code class="codeph">DELETE</code>不同， <code class="codeph">TRUNCATE</code>生成<a href="glossary.html#GUID-297B963A-989C-4720-B061-A2352FF72892"><span class="xrefglossterm">撤消数据</span></a> ，这使得它比<code class="codeph">DELETE</code>更快。此外， <code class="codeph">TRUNCATE</code>不会调用删除触发器</p>
                           </div>
                        </li>
                        <li>
                           <p>授予和撤销权限和角色（ <code class="codeph">GRANT</code> ， <code class="codeph">REVOKE</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>打开和关闭审核选项（ <code class="codeph">AUDIT</code> ， <code class="codeph">NOAUDIT</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>在<a href="glossary.html#GUID-D6A3934F-BA6D-464F-9612-C683E20514A4"><span class="xrefglossterm">数据字典</span></a> （ <code class="codeph">COMMENT</code> ）中添加<code class="codeph">COMMENT</code> 。
                           </p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-C25B548B-363A-4FE5-B4EE-784502BAAD08__CHDHBIGA">
                        <p class="titleinexample">例7-1 DDL语句</p>
                        <p>以下示例使用DDL语句创建<code class="codeph">plants</code>表，然后使用DML在表中插入两行。然后，该示例使用DDL更改表结构，将此表的读取权限授予和撤消给用户，然后删除该表。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE工厂（plant_id NUMBER PRIMARY KEY，common_name VARCHAR2（15））; INSERT INTO植物VALUES（1，'African Violet'）; #DML语句INSERT INTO植物VALUES（2，'Amaryllis'）; #DML语句ALTER TABLE植物ADD（latin_name VARCHAR2（40））; GRANT阅读植物TO scott; REVOKE阅读来自斯科特的植物; DROP TABLE植物;</pre><p>在数据库执行DDL语句之前立即发生隐式<code class="codeph">COMMIT</code> ，之后立即发生<code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code> 。在前面的示例中，两个<code class="codeph">INSERT</code>语句后跟一个<code class="codeph">ALTER TABLE</code>语句，因此数据库将提交两个<code class="codeph">INSERT</code>语句。如果<code class="codeph">ALTER TABLE</code>语句成功，则数据库将提交此语句;否则，数据库回滚此语句。在任何一种情况下，两个<code class="codeph">INSERT</code>语句都已提交。
                        </p>
                        <div class="infoboxnotealso" id="GUID-C25B548B-363A-4FE5-B4EE-784502BAAD08__GUID-88076D61-5BC9-4A9E-8154-6A2510EAE945">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="topics-for-database-administrators-and-developers.html#GUID-4D6D2B67-1B65-476D-852A-976E9D153EEC" title="通常，数据库安全性涉及用户身份验证，加密，访问控制和监视。">数据库安全概述</a> ”</span>了解特权和角色</p>
                              </li>
                              <li>
                                 <p><a href="../tdddg/creating-managing-schema-objects.html#TDDDG30000" target="_blank"><span><cite>Oracle数据库2天开发人员指南</cite></span></a>和<a href="../admin/managing-tables.html#ADMIN01503" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何创建模式对象</p>
                              </li>
                              <li>
                                 <p><a href="../adfns/sql-processing-for-application-developers.html#ADFNS187" target="_blank"><span><cite>Oracle数据库开发指南</cite></span></a> ，了解阻塞和非阻塞DDL之间的区别</p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/Types-of-SQL-Statements.html#SQLRF30041" target="_blank"><span><cite>Oracle Database SQL语言参考</cite></span></a> ，以获取DDL语句列表</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="CNCPT516"></a><div class="props_rev_3"><a id="GUID-90EA5D9B-76F2-4916-9F7E-CF0D8AA1A09D" name="GUID-90EA5D9B-76F2-4916-9F7E-CF0D8AA1A09D"></a><h4 id="CNCPT-GUID-90EA5D9B-76F2-4916-9F7E-CF0D8AA1A09D" class="sect4">数据操作语言（DML）语句</h4>
                  <div>
                     <p>数据操纵语言（ <span class="bold">DML</span> ）语句查询或操纵现有模式对象中的数据。
                     </p>
                     <p>DDL语句改变了数据库的结构，而DML语句则查询或更改内容。例如， <code class="codeph">ALTER TABLE</code>更改<code class="codeph">ALTER TABLE</code>的结构，而<code class="codeph">INSERT</code>将一行或多行添加到表中。
                     </p>
                     <p>DML语句是最常用的SQL语句，使您能够：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>从一个或多个表或视图中检索或获取数据（ <code class="codeph">SELECT</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>通过指定列值列表或使用<a href="glossary.html#GUID-C1CDE912-86C4-4495-8959-0CF8196189B2"><span class="xrefglossterm">子查询</span></a>来选择和操作现有数据，将新行数据添加到表或视图（ <code class="codeph">INSERT</code> ）中。
                           </p>
                        </li>
                        <li>
                           <p>更改表或视图的现有行中的列值（ <code class="codeph">UPDATE</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>有条件地将行更新或插入表或<a href="glossary.html#GUID-1274BCF5-2EC1-4752-B9CE-998A85A83307"><span class="xrefglossterm">视图</span></a> （ <code class="codeph">MERGE</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>从表或视图中删除行（ <code class="codeph">DELETE</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>查看SQL语句的<a href="glossary.html#GUID-2DF33B85-94BB-44F3-93B7-06916FB18361"><span class="xrefglossterm">执行计划</span></a> （ <code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>锁定表或视图，暂时限制其他用户的访问（ <code class="codeph">LOCK</code> <code class="codeph">TABLE</code> ）。
                           </p>
                        </li>
                     </ul>
                     <p>以下示例使用DML查询<code class="codeph">employees</code>表。该示例使用DML向<code class="codeph">employees</code>插入行，更新此行，然后将其删除：</p><pre class="pre codeblock"><code>SELECT * FROM员工; INSERT INTO员工（employee_id，last_name，email，job_id，hire_date，salary）VALUES（1234，'Mascis'，'JMASCIS'，'IT_PROG'，'14-FEB-2008'，9000）; UPDATE员工SET薪水= 9100 WHERE employee_id = 1234; DELETE FROM employees WHERE employee_id = 1234;</code></pre><p>构成逻辑工作单元的DML语句集合称为<a href="glossary.html#GUID-212D8EA1-D704-4D7B-A72D-72001965CE45"><span class="xrefglossterm">事务</span></a> 。例如，转账的交易可能涉及三个离散的操作：减少储蓄账户余额，增加支票账户余额，并在账户历史表中记录转账。与DDL语句不同，DML语句不会隐式提交当前事务。
                     </p>
                     <div class="infoboxnotealso" id="GUID-90EA5D9B-76F2-4916-9F7E-CF0D8AA1A09D__GUID-6DC6DF13-4F20-4247-89A1-FC9985044AF9">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="sql.html#GUID-290D145D-07B9-4AF7-A91E-BCC444D21487" title="Oracle数据库以不同于DML的方式处理DDL。">DML和DDL处理之间的差异</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="transactions.html#GUID-31319EA7-994C-4D25-8814-0214ABD3CBDA" title="事务是包含一个或多个SQL语句的逻辑原子工作单元。">交易简介</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../tdddg/connecting-exploring-database.html#TDDDG20000" target="_blank"><span><cite>Oracle数据库2天开发人员指南</cite></span></a> ，了解如何查询和操作数据</p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Types-of-SQL-Statements.html#SQLRF30042" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> ，以获取DML语句列表</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CNCPT88903"></a><a id="CNCPT88902"></a><div class="props_rev_3"><a id="GUID-702909E1-B214-4D30-A0F9-5A4335C2BA4A" name="GUID-702909E1-B214-4D30-A0F9-5A4335C2BA4A"></a><h5 id="CNCPT-GUID-702909E1-B214-4D30-A0F9-5A4335C2BA4A" class="sect5">SELECT语句</h5>
                     <div>
                        <p><strong class="term">查询</strong>是从表或视图中检索数据的操作。
                        </p>
                        <p> <code class="codeph">SELECT</code>是唯一可用于查询数据的SQL语句。从执行<code class="codeph">SELECT</code>语句检索的数据集称为<strong class="term">结果集</strong> 。
                        </p>
                        <p>下表显示了<code class="codeph">SELECT</code>语句中常见的两个必需关键字和两个关键字。该表还将<code class="codeph">SELECT</code>语句的功能与关键字相关联。
                        </p>
                        <div class="tblformal" id="GUID-702909E1-B214-4D30-A0F9-5A4335C2BA4A__CHDEHIDI">
                           <p class="titleintable">表7-1 SQL语句中的关键字</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SQL语句中的关键字" width="100%" border="1" summary="This table lists and describes SQL keywords." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="14%" id="d36857e2922">关键词</th>
                                    <th align="left" valign="bottom" width="14%" id="d36857e2925">需要？</th>
                                    <th align="left" valign="bottom" width="58%" id="d36857e2928">描述</th>
                                    <th align="left" valign="bottom" width="14%" id="d36857e2931">能力</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d36857e2936" headers="d36857e2922 ">
                                       <p><code class="codeph">选择</code></p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d36857e2936 d36857e2925 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d36857e2936 d36857e2928 ">
                                       <p>指定应在结果中显示哪些列。投影生成表格中列的子集。</p>
                                       <p><a href="glossary.html#GUID-E2141FFA-A7B2-4113-BEEE-2401FC38AB2E"><span class="xrefglossterm">表达式</span></a>是解析为值的一个或多个值，运算符和SQL函数的组合。<code class="codeph">SELECT</code>关键字之后和<code class="codeph">FROM</code>子句之前出现的表达式列表称为<a href="glossary.html#GUID-71197B02-49AE-43D6-B9A2-E3887B36D823"><span class="xrefglossterm">选择列表</span></a> 。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d36857e2936 d36857e2931 ">
                                       <p>投影</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d36857e2966" headers="d36857e2922 ">
                                       <p><code class="codeph">从</code></p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d36857e2966 d36857e2925 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d36857e2966 d36857e2928 ">
                                       <p>指定应从中检索数据的表或视图。</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d36857e2966 d36857e2931 ">
                                       <p>加盟</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d36857e2980" headers="d36857e2922 ">
                                       <p><code class="codeph">哪里</code></p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d36857e2980 d36857e2925 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d36857e2980 d36857e2928 ">
                                       <p>指定筛选行的条件，生成表中行的子集。条件指定一个或多个表达式和逻辑（布尔）运算符的组合，并返回值<code class="codeph">TRUE</code> ， <code class="codeph">FALSE</code>或<code class="codeph">UNKNOWN</code> 。</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d36857e2980 d36857e2931 ">
                                       <p>选择</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d36857e3003" headers="d36857e2922 ">
                                       <p><code class="codeph">订购</code></p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d36857e3003 d36857e2925 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d36857e3003 d36857e2928 ">
                                       <p>指定应显示行的顺序。</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d36857e3003 d36857e2931 "> </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-702909E1-B214-4D30-A0F9-5A4335C2BA4A__GUID-7DB10B43-454F-4698-AB71-06E0C6489FB3">
                           <p class="notep1">也可以看看：</p>
                           <p>用于<code class="codeph">SELECT</code>语法和语义的<a href="../sqlrf/SELECT.html#SQLRF01702" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a></p>
                        </div>
                     </div>
                  </div><a id="CNCPT88906"></a><a id="CNCPT88905"></a><a id="CNCPT88904"></a><div class="props_rev_3"><a id="GUID-B559E4F8-59D8-484D-91D6-481B8F2BB9F2" name="GUID-B559E4F8-59D8-484D-91D6-481B8F2BB9F2"></a><h5 id="CNCPT-GUID-B559E4F8-59D8-484D-91D6-481B8F2BB9F2" class="sect5">加盟</h5>
                     <div>
                        <p><span class="bold">联接</span>是一种组合来自两个或多个表，视图或物化视图的行的查询。
                        </p>
                        <p>以下示例连接<code class="codeph">employees</code>和<code class="codeph">departments</code>表（ <code class="codeph">FROM</code>子句），仅选择满足指定条件的行（ <code class="codeph">WHERE</code>子句），并使用projection从两列中检索数据（ <code class="codeph">SELECT</code> ）。示例输出遵循SQL语句。
                        </p><pre class="pre codeblock"><code>SELECT email，department_name FROM employees JOIN departments on ON employees.department_id = departments.department_id WHERE employee_id IN（100,103）ORDER BY email; EMAIL DEPARTMENT_NAME ------------------------- ----------------------- ------- AHUNOLD IT SKING执行官</code></pre><p>下图显示了上一个查询中显示的连接中的投影和选择操作。</p>
                        <div class="figure" id="GUID-B559E4F8-59D8-484D-91D6-481B8F2BB9F2__CHDJBIDH">
                           <p class="titleinfigure">图7-1投影和选择</p><img src="img/cncpt290.gif" alt="下面是图7-1的描述" title="下面是图7-1的描述" longdesc="img_text/cncpt290.html"><br><a href="img_text/cncpt290.html">“图7-1投影和选择”的描述</a></div>
                        <!-- class="figure" -->
                        <p>大多数联接在<code class="codeph">FROM</code>子句或<code class="codeph">WHERE</code>子句中至少有一个<a href="glossary.html#GUID-6DF529B9-611D-4C00-BAF8-614E86BCB39E"><span class="xrefglossterm">连接条件</span></a> ，它比较两个列，每个列来自不同的表。数据库组合了多对行，每行包含每个表中的一行，连接条件的计算结果为<code class="codeph">TRUE</code> 。优化程序根据表的连接条件，索引和任何可用统计信息确定数据库连接表的顺序。
                        </p>
                        <p>加入类型包括以下内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>内联合</p>
                              <p><a href="glossary.html#GUID-C275B9B4-5209-4DFB-86FD-2635881971F3"><span class="xrefglossterm">内连接</span></a>是两个或多个表的连接，只返回满足连接条件的行。例如，如果连接条件是<code class="codeph">employees.department_id=departments.department_id</code> ，则不返回不满足此条件的行。
                              </p>
                           </li>
                           <li>
                              <p>外连接</p>
                              <p><a href="glossary.html#GUID-61D9CE46-D3B4-4E22-81F9-5170CC2B20BD"><span class="xrefglossterm">外连接</span></a>返回满足连接条件的所有行，并返回一个表中的行，而另一个表中的行不满足条件。
                              </p>
                              <p>表<span class="italic">A</span>和<span class="italic">B</span>的<a href="glossary.html#GUID-5B6697AD-111B-4293-91EF-1BAB303534E8"><span class="xrefglossterm">左外连接</span></a>的结果始终包含左表<span class="italic">A的</span>所有记录，即使连接条件与右表<span class="italic">B</span>中的记录不匹配也是如此。如果从<span class="italic">B</span>无匹配的行存在，则<span class="italic">B</span>列包含有<span class="italic">B</span>中没有匹配的行空。例如，如果并非所有员工都在部门中，那么即使<code class="codeph">departments</code>没有行满足连接条件（ <code class="codeph">employees.department_id</code>为null）， <code class="codeph">employees</code> （左表）和<code class="codeph">departments</code> （右表）的左外连接也会检索<code class="codeph">employees</code>所有行。 。
                              </p>
                              <p>表<span class="italic">A</span>和<span class="italic">B</span>的<a href="glossary.html#GUID-6D63E1DD-4066-416C-AF21-DC6A6AF58750"><span class="xrefglossterm">右外连接</span></a>的结果包含右表<span class="italic">B的</span>所有记录，即使连接条件与左表<span class="italic">A</span>中的行不匹配也是如此。如果从<span class="italic">A</span>不匹配的行存在，那么<span class="italic">A</span>列包含有<span class="italic">在</span>无匹配的行空。例如，如果并非所有部门都有员工，则即使<code class="codeph">employees</code>行没有满足连接条件， <code class="codeph">employees</code> （左表）和<code class="codeph">departments</code> （右表）的右外连接也会检索<code class="codeph">departments</code>所有行。
                              </p>
                              <p><a href="glossary.html#GUID-3A2D0F05-0133-465B-B66D-CA3AE275EC40"><span class="xrefglossterm">完全外连接</span></a>是左外连接和右外连接的组合。
                              </p>
                           </li>
                           <li>
                              <p>笛卡尔积</p>
                              <p>如果连接查询中的两个表没有连接条件，则数据库将执行<a href="glossary.html#GUID-2FFB73C6-7BE4-489A-A1BA-D39445C136D5"><span class="xrefglossterm">笛卡尔连接</span></a> 。一个表的每一行与另一个表的每一行组合。例如，如果<code class="codeph">employees</code>有107行而<code class="codeph">departments</code>有27行，则笛卡尔积包含107 * 27行。笛卡尔积很少有用。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-B559E4F8-59D8-484D-91D6-481B8F2BB9F2__GUID-0CFECD52-3113-47D2-8AB7-7B92290D7DFE">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../tgsql/joins.html#TGSQL242" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解联接</p>
                              </li>
                              <li>
                                 <p>有关连接的详细说明和示例，请<a href="../sqlrf/Joins.html#SQLRF30046" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT88908"></a><a id="CNCPT88907"></a><div class="props_rev_3"><a id="GUID-65D6723C-88E2-44E3-85D1-A719BB5F075E" name="GUID-65D6723C-88E2-44E3-85D1-A719BB5F075E"></a><h5 id="CNCPT-GUID-65D6723C-88E2-44E3-85D1-A719BB5F075E" class="sect5">子查询</h5>
                     <div>
                        <p><strong class="term">子查询</strong>是嵌套在另一个SQL语句中的<code class="codeph">SELECT</code>语句。当您必须执行多个查询来解决单个问题时，子查询很有用。
                        </p>
                        <p>语句的每个查询部分称为<a href="glossary.html#GUID-53DFB7AA-B16E-421D-B592-CBF715742D93"><span class="xrefglossterm">查询块</span></a> 。在以下查询中，括号中的子查询是内部查询块：</p><pre class="pre codeblock"><code>SELECT first_name，last_name FROM employees WHERE department_id IN（SELECT department_id FROM departments WHERE location_id = 1800）;</code></pre><p>内部<code class="codeph">SELECT</code>语句检索位置ID为1800的部门的ID。外部查询块需要这些部门ID，后者检索由子查询提供ID的部门中的员工姓名。
                        </p>
                        <p>SQL语句的结构不会强制数据库首先执行内部查询。例如，数据库可以将整个查询重写为<code class="codeph">employees</code>和<code class="codeph">departments</code> ，以便子查询永远不会自行执行。另一个例子是，虚拟专用数据库（VPD）功能可以使用<code class="codeph">WHERE</code>子句限制员工的查询，以便数据库首先查询员工，然后获取部门ID。优化程序确定检索所请求行的最佳步骤序列。
                        </p>
                        <div class="infoboxnotealso" id="GUID-65D6723C-88E2-44E3-85D1-A719BB5F075E__GUID-707F00EA-9AA2-470D-A96C-78DED54C03E5">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="topics-for-database-administrators-and-developers.html#GUID-89DB0C3C-A36F-4254-8C82-020F5F6DE31F" title="Oracle虚拟专用数据库（VPD）使您可以在行和列级别强制实施安全性。">虚拟专用数据库（VPD）</a> ”</span></p>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT1733"></a><div class="props_rev_3"><a id="GUID-73F24816-881A-4849-B8A7-EA9B446A24A7" name="GUID-73F24816-881A-4849-B8A7-EA9B446A24A7"></a><h4 id="CNCPT-GUID-73F24816-881A-4849-B8A7-EA9B446A24A7" class="sect4">交易控制声明</h4>
                  <div>
                     <p>事务控制语句管理DML语句所做的更改，并将DML语句分组到事务中。</p>
                     <p>这些语句使您能够：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>永久更改事务（ <code class="codeph">COMMIT</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>自事务启动（ <code class="codeph">ROLLBACK</code> ）或自保存点（ <code class="codeph">ROLLBACK TO SAVEPOINT</code> ）以来，撤消事务中的更改。<a href="glossary.html#GUID-ED9601F2-D0A2-4FE5-83A8-8F7F9E9E0D18"><span class="xrefglossterm">保存点</span></a>是事务上下文中用户声明的中间标记。
                           </p>
                           <div class="infoboxnote" id="GUID-73F24816-881A-4849-B8A7-EA9B446A24A7__GUID-134592C7-6C54-403C-8285-A4F61F902038">
                              <p class="notep1">注意：</p>
                              <p><code class="codeph">ROLLBACK</code>语句结束事务，但<code class="codeph">ROLLBACK TO SAVEPOINT</code>不结束。
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>设置可以回滚的点（ <code class="codeph">SAVEPOINT</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>建立事务的属性（ <code class="codeph">SET</code> <code class="codeph">TRANSACTION</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>指定是在每个DML语句之后还是在提交事务时检查可延迟<a href="glossary.html#GUID-67F8FE8C-EBA5-4796-820A-8919982A1411"><span class="xrefglossterm">完整性约束</span></a> （ <code class="codeph">SET CONSTRAINT</code> ）。
                           </p>
                        </li>
                     </ul>
                     <p>以下示例启动名为<code class="codeph">Update salaries</code>的事务。该示例创建一个保存点，更新员工薪水，然后将事务回滚到保存点。该示例将薪水更新为不同的值并进行提交。
                     </p><pre class="pre codeblock"><code>SET TRANSACTION NAME'更新薪水'; SAVEPOINT before_salary_update; UPDATE员工SET薪水= 9100 WHERE employee_id = 1234＃DML ROLLBACK TO SAVEPOINT before_salary_update; UPDATE员工SET薪水= 9200 WHERE employee_id = 1234＃DML COMMIT COMMENT'更新薪水';</code></pre><div class="infoboxnotealso" id="GUID-73F24816-881A-4849-B8A7-EA9B446A24A7__GUID-83AC045A-4F13-4C37-ACB1-93F76C164DC9">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="transactions.html#GUID-31319EA7-994C-4D25-8814-0214ABD3CBDA" title="事务是包含一个或多个SQL语句的逻辑原子工作单元。">交易简介</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="data-integrity.html#GUID-ED1E9D21-EDFB-4AAD-9193-87D576F67761" title="每个约束都处于不可延迟（默认）或可延迟状态。此状态确定Oracle数据库何时检查约束的有效性。">当数据库检查有效性的约束时</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Types-of-SQL-Statements.html#SQLRF30043" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> ，了解事务控制语句</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT1734"></a><div class="props_rev_3"><a id="GUID-261BEAAC-0897-465D-9137-D201CE80675C" name="GUID-261BEAAC-0897-465D-9137-D201CE80675C"></a><h4 id="CNCPT-GUID-261BEAAC-0897-465D-9137-D201CE80675C" class="sect4">会话控制语句</h4>
                  <div>
                     <p>会话控制语句动态管理用户<span class="bold">会话</span>的属性。
                     </p>
                     <p>会话是数据库实例内存中的逻辑实体，表示当前用户登录数据库的状态。会话从用户通过数据库进行身份验证到用户断开连接或退出数据库应用程序为止。</p>
                     <p>会话控制语句使您能够：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>通过执行专门的功能来更改当前会话，例如设置默认日期格式（ <code class="codeph">ALTER SESSION</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>为当前会话启用和禁用角色（权限组）（ <code class="codeph">SET ROLE</code> ）。
                           </p>
                        </li>
                     </ul>
                     <p>以下语句将会话的默认日期格式动态更改为<code class="codeph">'YYYY MM DD-HH24:MI:SS'</code> ：</p><pre class="pre codeblock"><code>ALTER SESSION SET NLS_DATE_FORMAT ='YYYY MM DD HH24：MI：SS';</code></pre><p>会话控制语句不会隐式提交当前事务。</p>
                     <div class="infoboxnotealso" id="GUID-261BEAAC-0897-465D-9137-D201CE80675C__GUID-DCE5F7C6-5EA5-41F9-A54D-BFC9C614EA3A">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="process-architecture.html#GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB" title="数据库连接是客户端进程和数据库实例之间的物理通信路径。">连接和会话</a> ”</span></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER SESSION</code>语法和语义的<a href="../sqlrf/Types-of-SQL-Statements.html#SQLRF30044" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT1735"></a><div class="props_rev_3"><a id="GUID-9D63E5DD-E0EF-42AE-B460-74165BB016F3" name="GUID-9D63E5DD-E0EF-42AE-B460-74165BB016F3"></a><h4 id="CNCPT-GUID-9D63E5DD-E0EF-42AE-B460-74165BB016F3" class="sect4">系统控制声明</h4>
                  <div>
                     <p>系统控制语句更改<span class="bold">数据库实例</span>的属性。
                     </p>
                     <p>唯一的系统控制语句是<code class="codeph">ALTER SYSTEM</code> 。它使您可以更改共享服务器的最小数量，终止会话以及执行其他系统级任务等设置。
                     </p>
                     <p>系统控制语句的示例包括：</p><pre class="pre codeblock"><code>ALTER SYSTEM SWITCH LOGFILE; ALTER SYSTEM KILL SESSION '39,23';</code></pre><p><code class="codeph">ALTER SYSTEM</code>语句不会隐式提交当前事务。
                     </p>
                     <div class="infoboxnotealso" id="GUID-9D63E5DD-E0EF-42AE-B460-74165BB016F3__GUID-4A39BB6F-B10D-4DB1-87DF-AF6FB43420DE">
                        <p class="notep1">也可以看看：</p>
                        <p>用于<code class="codeph">ALTER SYSTEM</code>语法和语义的<a href="../sqlrf/ALTER-SYSTEM.html#SQLRF00902" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                     </div>
                  </div>
               </div><a id="CNCPT1736"></a><div class="props_rev_3"><a id="GUID-AE8D7440-ED46-4FE8-9475-F3D0AD2E19CF" name="GUID-AE8D7440-ED46-4FE8-9475-F3D0AD2E19CF"></a><h4 id="CNCPT-GUID-AE8D7440-ED46-4FE8-9475-F3D0AD2E19CF" class="sect4">嵌入式SQL语句</h4>
                  <div>
                     <p>嵌入式SQL语句在过程语言程序中包含DDL，DML和事务控制语句。 。</p>
                     <p>嵌入式语句与Oracle预编译器一起使用。嵌入式SQL是将SQL合并到过程语言应用程序中的一种方法。另一种方法是使用过程API，例如开放式数据库连接（ODBC）或Java数据库连接（JDBC）。</p>
                     <p>嵌入式SQL语句使您能够：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>定义，分配和释放<a href="glossary.html#GUID-D1D3E8DD-CD5C-4C0D-93E4-DE0BF0BD53A3"><span class="xrefglossterm">游标</span></a> （ <code class="codeph">DECLARE CURSOR</code> ， <code class="codeph">OPEN</code> ， <code class="codeph">CLOSE</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>指定数据库并连接到它（ <code class="codeph">DECLARE DATABASE</code> ， <code class="codeph">CONNECT</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>分配变量名称（ <code class="codeph">DECLARE STATEMENT</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>初始化描述符（ <code class="codeph">DESCRIBE</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>指定如何处理错误和警告条件（ <code class="codeph">WHENEVER</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>解析并运行SQL语句（ <code class="codeph">PREPARE</code> ， <code class="codeph">EXECUTE</code> ， <code class="codeph">EXECUTE IMMEDIATE</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>从数据库中检索数据（ <code class="codeph">FETCH</code> ）。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-AE8D7440-ED46-4FE8-9475-F3D0AD2E19CF__GUID-09747208-7418-413B-911D-62D88C600054">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="server-side-programming.html#GUID-6B5D98B7-A25D-4187-B3A9-43629E214635" title="在诸如SQL的非过程语言中，指定要操作的数据集，但不指定要执行的操作或它们的执行方式。">服务器端编程简介</a> ”</span>和<span class="q">“ <a href="concepts-for-database-developers.html#GUID-73D7F3B6-47B7-400B-8F3C-BE904400C0FC" title="今天大多数开发人员使用API将SQL嵌入其数据库应用程序中。">客户端API</a> ”</span></p>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT316"></a><div class="props_rev_3"><a id="GUID-3F42B1AA-530A-4144-8179-F0074832AF81" name="GUID-3F42B1AA-530A-4144-8179-F0074832AF81"></a><h3 id="CNCPT-GUID-3F42B1AA-530A-4144-8179-F0074832AF81" class="sect3">优化程序概述</h3>
               <div>
                  <p>要了解Oracle数据库如何处理SQL语句，有必要了解数据库中称为<span class="bold">优化器</span>的部分（也称为<span class="italic">查询优化器</span>或<span class="italic">基于成本的优化器</span> ）。所有SQL语句都使用优化器来确定访问指定数据的最有效方法。
                  </p>
               </div><a id="CNCPT88909"></a><div class="props_rev_3"><a id="GUID-1A976BB4-C96D-4CC2-9026-4DA819CAEE62" name="GUID-1A976BB4-C96D-4CC2-9026-4DA819CAEE62"></a><h4 id="CNCPT-GUID-1A976BB4-C96D-4CC2-9026-4DA819CAEE62" class="sect4">使用优化程序</h4>
                  <div>
                     <p>优化器生成描述可能的执行方法的执行计划。</p>
                     <p>优化器通过考虑多个信息源来确定哪个执行计划最有效。例如，优化程序会考虑查询条件，可用访问路径，为系统收集的统计信息以及提示。</p>
                     <p>要执行DML语句，Oracle数据库可能必须执行许多步骤。每个步骤都从数据库中物理地检索数据行，或者为发出语句的用户准备它们。数据库用于执行语句的步骤会极大地影响语句的运行速度。通常可以使用许多不同的方法来处理DML语句。例如，访问表或索引的顺序可能会有所不同。</p>
                     <p>在确定SQL语句的最佳执行计划时，优化程序将执行以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>评估表达和条件</p>
                        </li>
                        <li>
                           <p>检查完整性约束以了解有关数据的更多信息并基于此元数据进行优化</p>
                        </li>
                        <li>
                           <p>声明转换</p>
                        </li>
                        <li>
                           <p>选择优化器目标</p>
                        </li>
                        <li>
                           <p>选择访问路径</p>
                        </li>
                        <li>
                           <p>选择加入订单</p>
                        </li>
                     </ul>
                     <p>优化程序生成处理查询的大多数可能方法，并为生成的执行计划中的每个步骤分配成本。选择成本最低的<a href="glossary.html#GUID-78BCF1CD-1865-4AEB-8F14-AFA4FF1981BF"><span class="xrefglossterm">计划</span></a>作为要执行的<a href="glossary.html#GUID-78BCF1CD-1865-4AEB-8F14-AFA4FF1981BF"><span class="xrefglossterm">查询计划</span></a> 。
                     </p>
                     <div class="infoboxnote" id="GUID-1A976BB4-C96D-4CC2-9026-4DA819CAEE62__GUID-26400181-901F-4187-A58F-489DE2BA41F4">
                        <p class="notep1">注意：</p>
                        <p>您可以在不执行计划的情况下获取SQL语句的执行计划。只有数据库实际用于执行查询的执行计划才能正确地称为查询计划。</p>
                     </div>
                     <p>您可以通过设置优化程序目标和收集优化程序的代表性统计信息来影响优化程序选择。例如，您可以将优化程序目标设置为以下任一项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>总吞吐量</p>
                           <p><code class="codeph">ALL_ROWS</code>提示指示优化器尽可能快地将结果的最后一行提供给客户端应用程序。
                           </p>
                        </li>
                        <li>
                           <p>初始响应时间</p>
                           <p><code class="codeph">FIRST_ROWS</code>提示指示优化器尽快将第一行送到客户端。
                           </p>
                        </li>
                     </ul>
                     <p>典型的最终用户交互式应用程序将受益于初始响应时间优化，而批处理模式，非交互式应用程序将受益于总吞吐量优化。</p>
                     <div class="infoboxnotealso" id="GUID-1A976BB4-C96D-4CC2-9026-4DA819CAEE62__GUID-2DB9971D-58E4-48BC-B1A4-611092C57ED7">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关使用<code class="codeph">DBMS_STATS</code>信息<a href="../arpls/DBMS_STATS.html#ARPLS059" target="_blank"><span><cite>，请参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关优化程序和使用提示的详细信息，请<a href="../tgsql/query-optimizer-concepts.html#TGSQL202" target="_blank"><span><cite>参见“Oracle数据库SQL调优指南”</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT88911"></a><a id="CNCPT88910"></a><div class="props_rev_3"><a id="GUID-D4940716-5F75-43CD-B8B4-45E6BCE5F8EF" name="GUID-D4940716-5F75-43CD-B8B4-45E6BCE5F8EF"></a><h4 id="CNCPT-GUID-D4940716-5F75-43CD-B8B4-45E6BCE5F8EF" class="sect4">优化器组件</h4>
                  <div>
                     <p>优化器包含三个主要组件：变换器，估计器和计划生成器。</p>
                     <p>下图描绘了组件：</p>
                     <div class="figure" id="GUID-D4940716-5F75-43CD-B8B4-45E6BCE5F8EF__CHDCCIDA">
                        <p class="titleinfigure">图7-2优化器组件</p><img src="img/cncpt287.gif" alt="下面是图7-2的描述" title="下面是图7-2的描述" longdesc="img_text/cncpt287.html"><br><a href="img_text/cncpt287.html">“图7-2优化器组件”的说明</a></div>
                     <!-- class="figure" -->
                     <p>优化程序的输入是已解析的查询。优化器执行以下操作：</p>
                     <ol>
                        <li>
                           <p>优化器接收已解析的查询，并根据可用的访问路径和提示为SQL语句生成一组潜在计划。</p>
                        </li>
                        <li>
                           <p>优化程序根据数据字典中的统计信息估算每个计划的成本。成本是与执行特定计划的声明所需的预期资源使用成比例的估计值。</p>
                        </li>
                        <li>
                           <p>优化程序比较计划的成本，并选择最低成本计划（称为查询计划）传递给行源生成器。</p>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-D4940716-5F75-43CD-B8B4-45E6BCE5F8EF__GUID-01D9BB3C-683B-419E-BFC8-D0D870035EF9">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="sql.html#GUID-B3F2B5B8-B679-4A7C-B1E8-286F36319FCB" title="SQL处理的第一个阶段是SQL解析。此阶段涉及将SQL语句的各个部分分离为可由其他例程处理的数据结构。">SQL解析</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="sql.html#GUID-A8B73B3C-991F-4E91-8AA5-DEFBDFAB0539" title="行源生成器是从优化器接收最佳执行计划并生成称为查询计划的迭代计划的软件，该计划可由数据库的其余部分使用。">SQL行源生成</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CNCPT88912"></a><div class="props_rev_3"><a id="GUID-997A8B5E-CC07-4866-A37C-8F317ECE9359" name="GUID-997A8B5E-CC07-4866-A37C-8F317ECE9359"></a><h5 id="CNCPT-GUID-997A8B5E-CC07-4866-A37C-8F317ECE9359" class="sect5">查询变换器</h5>
                     <div>
                        <p><span class="bold">查询转换器</span>确定更改查询形式是否有帮助，以便优化程序可以生成更好的执行计划。查询转换器的输入是已解析的查询，优化程序将其表示为一组查询块。
                        </p>
                        <div class="infoboxnotealso" id="GUID-997A8B5E-CC07-4866-A37C-8F317ECE9359__GUID-B88FA5C3-E251-4FF1-9D9F-889D1C9BAA3B">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="partitions-views-and-other-schema-objects.html#GUID-C2F8D519-A8E9-4793-A053-36B4C4060B62" title="称为查询重写的优化技术将根据主表写入的用户请求转换为包含物化视图的语义等效请求。">查询重写</a> ”</span></p>
                        </div>
                     </div>
                  </div><a id="CNCPT88913"></a><div class="props_rev_3"><a id="GUID-D7FD285E-2629-4BC9-AC01-BF900A2E0F1E" name="GUID-D7FD285E-2629-4BC9-AC01-BF900A2E0F1E"></a><h5 id="CNCPT-GUID-D7FD285E-2629-4BC9-AC01-BF900A2E0F1E" class="sect5">估计</h5>
                     <div>
                        <p><span class="bold">估算器</span>确定给定执行计划的总成本。
                        </p>
                        <p>估算器生成三种不同类型的度量来实现此目标：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>选择性</p>
                              <p>此度量表示行集中的一小部分行。选择性与查询谓词相关联，例如<code class="codeph">last_name='Smith'</code>或谓词组合。
                              </p>
                           </li>
                           <li>
                              <p>基数</p>
                              <p>此度量表示行集中的行数。</p>
                           </li>
                           <li>
                              <p>成本</p>
                              <p>该度量表示使用的工作单元或资源。查询优化器使用磁盘I / O，CPU使用率和内存使用量作为工作单元。</p>
                           </li>
                        </ul>
                        <p>如果统计数据可用，则估算器使用它们来计算度量。统计数据提高了措施的准确程度。</p>
                     </div>
                  </div><a id="CNCPT1755"></a><div class="props_rev_3"><a id="GUID-86607CB6-6E48-42BB-9FDF-197318607286" name="GUID-86607CB6-6E48-42BB-9FDF-197318607286"></a><h5 id="CNCPT-GUID-86607CB6-6E48-42BB-9FDF-197318607286" class="sect5">计划生成器</h5>
                     <div>
                        <p><span class="bold">计划生成器</span>为提交的查询尝试不同的计划。优化程序选择成本最低的计划。
                        </p>
                        <p>对于每个嵌套子查询和未合并视图，优化程序都会生成子计划。优化器将每个子计划表示为单独的<a href="glossary.html#GUID-53DFB7AA-B16E-421D-B592-CBF715742D93"><span class="xrefglossterm">查询块</span></a> 。计划生成器通过尝试不同的访问路径，连接方法和连接顺序来探索查询块的各种计划。
                        </p>
                        <p><a href="glossary.html#GUID-687D126F-F8FD-4308-B95B-7D4B2D5406FC"><span class="xrefglossterm">自适应查询优化</span></a>功能根据语句执行期间收集的统计信息更改计划。所有自适应机制都可以执行与默认计划不同的语句的最终计划。自适应优化使用动态计划，在计划执行期间选择子计划，或重新优化，在当前执行后更改执行计划。
                        </p>
                        <div class="infoboxnotealso" id="GUID-86607CB6-6E48-42BB-9FDF-197318607286__GUID-FE4348D9-367D-4CEE-B54E-07B887AB6FDF">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="concepts-for-database-administrators.html#GUID-6AF46C02-62A0-4302-A981-8A10EDF7F966" title="Oracle数据库完全自动化SQL调优过程。">应用程序和SQL调优</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../tgsql/query-optimizer-concepts.html#TGSQL202" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解优化器组件和自适应优化</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT88914"></a><div class="props_rev_3"><a id="GUID-4B6624DA-92BA-48C2-B045-D8B71046E81B" name="GUID-4B6624DA-92BA-48C2-B045-D8B71046E81B"></a><h4 id="CNCPT-GUID-4B6624DA-92BA-48C2-B045-D8B71046E81B" class="sect4">访问路径</h4>
                  <div>
                     <p><span class="bold">访问路径</span>是查询用于检索行的技术。
                     </p>
                     <p>例如，使用索引的查询与不查询的查询具有不同的访问路径。通常，索引访问路径最适用于检索表行的一小部分子句的语句。完全扫描对于访问表的大部分更有效。</p>
                     <p>数据库可以使用多个不同的访问路径来从表中检索数据。以下是代表性清单：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>全表扫描</p>
                           <p>此类扫描会从表中读取所有行，并筛选出不符合选择条件的行。数据库按顺序扫描段中的所有数据块，包括<a href="glossary.html#GUID-F3F5ACB2-94C8-483F-B427-1981836D0609"><span class="xrefglossterm">高水位线（HWM）下</span></a>用于分隔旧<span class="q"><a href="logical-storage-structures.html#GUID-5050DCC5-DBBD-4B57-AB14-D83A480B9AAE" title="To manage space, Oracle Database tracks the state of blocks in the segment. The high water mark (HWM) is the point in a segment beyond which data blocks are unformatted and have never been used.">空间和</a></span>未使用空间的数据块（参见<span class="q">“ <a href="logical-storage-structures.html#GUID-5050DCC5-DBBD-4B57-AB14-D83A480B9AAE" title="为了管理空间，Oracle数据库跟踪段中的块状态。高水位线（HWM）是段中的一个点，超出该段的数据块未被格式化并且从未使用过。">段空间和高水位线</a> ”</span> ）。
                           </p>
                        </li>
                        <li>
                           <p>Rowid扫描</p>
                           <p>行的<a href="glossary.html#GUID-647822F1-EFF1-4E26-BE22-D54081BE1C7B"><span class="xrefglossterm">rowid</span></a>指定包含该行的数据文件和数据块以及该块中行的位置。数据库首先从语句<code class="codeph">WHERE</code>子句或通过索引扫描获取所选行的rowid，然后根据其rowid查找每个选定的行。
                           </p>
                        </li>
                        <li>
                           <p>索引扫描</p>
                           <p>此扫描在索引中搜索SQL语句访问的索引列值（请参阅<span class="q">“ <a href="indexes-and-index-organized-tables.html#GUID-D54BD14D-0065-4B61-B2F6-5567913B16CD" title="在索引扫描中，数据库使用语句指定的索引列值通过遍历索引来检索行。如果数据库扫描索引中的值，则它将在n个I / O中找到该值，其中n是B树索引的高度。这是Oracle数据库索引背后的基本原则。">索引扫描</a> ”</span> ）。如果语句仅访问索引的列，则Oracle数据库直接从索引读取索引的列值。
                           </p>
                        </li>
                        <li>
                           <p>群集扫描</p>
                           <p>群集扫描从存储在索引<a href="glossary.html#GUID-1C56177E-6BEE-4FE7-B45E-38298CDB946D"><span class="xrefglossterm">表群集中</span></a>的表中检索数据，其中具有相同群集键值的所有行都存储在同一数据块中（请参阅<span class="q">“ <a href="tables-and-table-clusters.html#GUID-CC31365B-83B0-4E09-A047-BF1B79AC887A" title="索引集群是一个表集群，它使用索引来定位数据。群集索引是群集密钥上的B树索引。必须先创建集群索引，然后才能将任何行插入到集群表中。">索引群集概述</a> ”</span> ）。数据库首先通过扫描集群索引获取所选行的rowid。Oracle数据库根据此rowid查找行。
                           </p>
                        </li>
                        <li>
                           <p>哈希扫描</p>
                           <p>哈希扫描定位散列集群中的行，其中具有相同散列值的所有行都存储在同一数据块中（请参阅<span class="q">“ <a href="tables-and-table-clusters.html#GUID-22771373-D8B8-4A76-9F08-1567489269BB" title="散列集群就像一个索引集群，除了索引键被散列函数替换。不存在单独的集群索引。在散列簇中，数据是索引。">散列集群概述</a> ”</span> ）。数据库首先通过将<a href="glossary.html#GUID-DDDDC4BC-ADB8-40D7-9733-60CED8E4A83E"><span class="xrefglossterm">哈希函数</span></a>应用于由语句指定的集群键值来获取哈希值。然后，Oracle数据库扫描包含具有此哈希值的行的数据块。
                           </p>
                        </li>
                     </ul>
                     <p>优化程序根据语句的可用访问路径以及使用每个访问路径或路径组合的估计成本来选择访问路径。</p>
                     <div class="infoboxnotealso" id="GUID-4B6624DA-92BA-48C2-B045-D8B71046E81B__GUID-01FB569D-937C-46F7-B818-47702749FFD7">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../tdppt/optimizing-data-access-paths.html#TDPPT170" target="_blank"><span><cite>“Oracle数据库2天+性能调优指南”</cite></span></a>和“ <a href="../tgsql/optimizer-access-paths.html#TGSQL228" target="_blank"><span><cite>Oracle数据库SQL调优指南”</cite></span></a>了解访问路径</p>
                     </div>
                  </div>
               </div><a id="CNCPT88915"></a><div class="props_rev_3"><a id="GUID-5F4A2BE8-BC42-4734-B1F1-4C3BD57DAB6F" name="GUID-5F4A2BE8-BC42-4734-B1F1-4C3BD57DAB6F"></a><h4 id="CNCPT-GUID-5F4A2BE8-BC42-4734-B1F1-4C3BD57DAB6F" class="sect4">优化器统计</h4>
                  <div>
                     <p><span class="bold">优化程序统计信息</span>是一组数据，用于描述有关数据库和数据库中对象的详细信息。统计数据提供了在评估访问路径时优化程序可用的统计正确的数据存储和分发图。
                     </p>
                     <p>优化器统计信息包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>表统计</p>
                           <p>这些包括行数，块数和平均行长度。</p>
                        </li>
                        <li>
                           <p>列统计</p>
                           <p>这些包括列中的不同值和空值的数量以及数据的分布。</p>
                        </li>
                        <li>
                           <p>指数统计</p>
                           <p>这些包括叶块数和索引级别。</p>
                        </li>
                        <li>
                           <p>系统统计</p>
                           <p>这些包括CPU和I / O性能和利用率。</p>
                        </li>
                     </ul>
                     <p>Oracle数据库自动收集所有数据库对象的优化程序统计信息，并将这些统计信息维护为自动维护任务。您还可以使用<code class="codeph">DBMS_STATS</code>包手动收集统计信息。此PL / SQL包可以修改，查看，导出，导入和删除统计信息。
                     </p>
                     <div class="infoboxnote" id="GUID-5F4A2BE8-BC42-4734-B1F1-4C3BD57DAB6F__GUID-16C7F90C-3A71-467E-94D4-4104B7A8F74A">
                        <p class="notep1">注意：</p>优化程序统计信息是为了查询优化而创建的，并存储在数据字典中。不要将这些统计信息与通过动态性能视图可见的性能统计信息混淆
                     </div>
                     <p>Optimizer Statistics Advisor是内置的诊断软件，可分析您当前收集统计信息的方式，现有统计信息收集作业的有效性以及收集的统计信息的质量。Optimizer Statistics Advisor维护规则，这些规则体现了基于当前功能集的Oracle最佳实践。通过这种方式，顾问始终提供最新的统计信息收集建议。</p>
                     <div class="infoboxnotealso" id="GUID-5F4A2BE8-BC42-4734-B1F1-4C3BD57DAB6F__GUID-9740CC88-E483-472F-BA8D-92ADB96E5254">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../tdppt/oracle-database-performance-method.html#TDPPT007" target="_blank"><span><cite>“Oracle数据库2天+性能调优指南”</cite></span></a>和“ <a href="../tgsql/gathering-optimizer-statistics.html#TGSQL389" target="_blank"><span><cite>Oracle数据库SQL调优指南”</cite></span></a> ，了解如何收集和管理统计信息</p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_STATS.html#ARPLS059" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解<code class="codeph">DBMS_STATS</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT88917"></a><a id="CNCPT88918"></a><a id="CNCPT88916"></a><div class="props_rev_3"><a id="GUID-FC019793-FC08-46DB-A74C-8BF6C60ACECB" name="GUID-FC019793-FC08-46DB-A74C-8BF6C60ACECB"></a><h4 id="CNCPT-GUID-FC019793-FC08-46DB-A74C-8BF6C60ACECB" class="sect4">优化器提示</h4>
                  <div>
                     <p><span class="bold">提示</span>是SQL语句中的注释，它充当优化器的指令。
                     </p>
                     <p>有时，应用程序设计人员可以选择更有效的方式来运行SQL语句，该应用程序设计人员拥有有关特定应用程序数据的更多信息，而不是优化程序可用的数据。应用程序设计人员可以使用SQL语句中的提示来指定语句的运行方式。以下示例说明了提示的使用。</p>
                     <div class="example" id="GUID-FC019793-FC08-46DB-A74C-8BF6C60ACECB__CHDBEDFI">
                        <p class="titleinexample">示例7-2使用FIRST_ROWS提示的SELECT执行计划</p>
                        <p>假设您的交互式应用程序运行一个返回50行的查询。此应用程序最初仅提取查询的前25行以呈现给最终用户。您希望优化器生成一个计划，以便尽快获取前25条记录，以便用户不必等待。您可以使用提示将此指令传递给优化程序，如以下示例中的<code class="codeph">SELECT</code>语句和<code class="codeph">AUTOTRACE</code>输出所示：</p><pre class="oac_no_warn" dir="ltr">SELECT / * + FIRST_ROWS（25）* / employee_id，department_id FROM hr.employees WHERE department_id&gt; 50; -------------------------------------------------- ---------------------- | Id |操作|名称|行|字节------------------------------------------------- ----------------------- | 0 |选择声明| | 26 | 182 | 1 |按INDEX ROWID表的访问权限|员工| 26 | 182 | * 2 | INDEX RANGE SCAN | EMP_DEPARTMENT_IX | | -------------------------------------------------- ----------------------</pre><p>在此示例中，执行计划显示优化程序在<code class="codeph">employees.department_id</code>列上选择索引，以查找部门ID超过50的前25行<code class="codeph">employees</code> 。优化程序使用从索引检索到的rowid从<code class="codeph">employees</code>表中检索记录并将其返回给客户端。检索第一条记录通常几乎是即时的。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-FC019793-FC08-46DB-A74C-8BF6C60ACECB__CHDEJCCJ">
                        <p class="titleinexample">示例7-3没有提示的SELECT的执行计划</p>
                        <p>假设您执行相同的语句，但没有优化器提示：</p><pre class="oac_no_warn" dir="ltr">SELECT employee_id，department_id FROM hr.employees WHERE department_id&gt; 50; -------------------------------------------------- ---------------------- | Id |操作|名称|行|字节| Cos ------------------------------------------------- ----------------------- | 0 |选择声明| | 50 | 350 | | * 1 |查看| index $ _join $ _001 | 50 | 350 | | * 2 | HASH JOIN | | | | | * 3 | INDEX RANGE SCAN | EMP_DEPARTMENT_IX | 50 | 350 | | 4 | INDEX FAST FULL SCAN | EMP_EMP_ID_PK | 50 | 350 |</pre><p>在这种情况下，执行计划连接两个索引以尽快返回请求的记录。优化器选择<code class="codeph">EMP_DEPARTMENT_IX</code>的范围扫描来查找部门ID超过50的所有行，并将这些行放在<a href="glossary.html#GUID-1EBD10A8-7E0A-45B9-94CB-0859F4773082"><span class="xrefglossterm">哈希表中，</span></a>而不是像<a href="sql.html#GUID-FC019793-FC08-46DB-A74C-8BF6C60ACECB__CHDBEDFI">例7-2</a>那样重复从索引到<a href="glossary.html#GUID-1EBD10A8-7E0A-45B9-94CB-0859F4773082"><span class="xrefglossterm">表</span></a> 。然后，优化器选择读取<code class="codeph">EMP_EMP_ID_PK</code>索引。对于此索引中的每一行，它会探测哈希表以查找部门ID。</p>
                        <p>在这种情况下，在<code class="codeph">EMP_DEPARTMENT_IX</code>的索引范围扫描完成之前，数据库无法将第一行返回给客户端。因此，这个生成的计划将需要更长的时间来返回第一条记录。与<a href="sql.html#GUID-FC019793-FC08-46DB-A74C-8BF6C60ACECB__CHDBEDFI">示例7-2</a>中通过索引rowid访问表的计划不同，该计划使用多块I / O，导致大量读取。读取使得整个结果集的最后一行能够更快地返回。
                        </p>
                        <div class="infoboxnotealso" id="GUID-FC019793-FC08-46DB-A74C-8BF6C60ACECB__GUID-7E894752-890E-4D0A-A179-68D2D98B48A7">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../tgsql/influencing-the-optimizer.html#TGSQL260" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解如何使用优化程序提示</p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="CNCPT216"></a><div class="props_rev_3"><a id="GUID-0E8DFE97-F2DD-4183-8A4B-1EA9087E9E37" name="GUID-0E8DFE97-F2DD-4183-8A4B-1EA9087E9E37"></a><h3 id="CNCPT-GUID-0E8DFE97-F2DD-4183-8A4B-1EA9087E9E37" class="sect3">SQL处理概述</h3>
               <div>
                  <p>本节介绍Oracle数据库如何处理SQL语句。具体来说，该部分介绍了数据库处理DDL语句以创建对象的方式，DML用于修改数据的方式以及用于检索数据的查询。</p>
               </div><a id="CNCPT88919"></a><a id="CNCPT1741"></a><div class="props_rev_3"><a id="GUID-1B95E60C-99C5-446D-9C6B-5D16EFE59ACF" name="GUID-1B95E60C-99C5-446D-9C6B-5D16EFE59ACF"></a><h4 id="CNCPT-GUID-1B95E60C-99C5-446D-9C6B-5D16EFE59ACF" class="sect4">SQL处理的阶段</h4>
                  <div>
                     <p>SQL处理的一般阶段是解析，优化，行源生成和执行。根据语句，数据库可能会省略其中一些步骤。</p>
                     <p>下图描绘了一般阶段：</p>
                     <div class="figure" id="GUID-1B95E60C-99C5-446D-9C6B-5D16EFE59ACF__CHDBEDJC">
                        <p class="titleinfigure">图7-3 SQL处理的阶段</p><img src="img/cncpt250.gif" alt="下面是图7-3的描述" title="下面是图7-3的描述" longdesc="img_text/cncpt250.html"><br><a href="img_text/cncpt250.html">“图7-3 SQL处理阶段”的说明</a></div>
                     <!-- class="figure" -->
                  </div><a id="CNCPT1740"></a><div class="props_rev_3"><a id="GUID-B3F2B5B8-B679-4A7C-B1E8-286F36319FCB" name="GUID-B3F2B5B8-B679-4A7C-B1E8-286F36319FCB"></a><h5 id="CNCPT-GUID-B3F2B5B8-B679-4A7C-B1E8-286F36319FCB" class="sect5">SQL解析</h5>
                     <div>
                        <p>SQL处理的第一个阶段是<span class="bold">SQL解析</span> 。此阶段涉及将SQL语句的各个部分分离为可由其他例程处理的数据结构。
                        </p>
                        <p>当应用程序发出SQL语句时，应用程序会对数据库进行解析调用以准备要执行的语句。解析调用将打开或创建一个<a href="glossary.html#GUID-D1D3E8DD-CD5C-4C0D-93E4-DE0BF0BD53A3"><span class="xrefglossterm">游标</span></a> ，该<a href="glossary.html#GUID-D1D3E8DD-CD5C-4C0D-93E4-DE0BF0BD53A3"><span class="xrefglossterm">游标</span></a>是特定于会话的<a href="glossary.html#GUID-4B296BAF-BAC8-4DE7-8128-464F4BA3C366"><span class="xrefglossterm">私有SQL区域</span></a>的句柄，该<a href="glossary.html#GUID-4B296BAF-BAC8-4DE7-8128-464F4BA3C366"><span class="xrefglossterm">区域</span></a>包含已解析的SQL语句和其他处理信息。光标和私有SQL区域位于<a href="glossary.html#GUID-19927E75-4983-4D59-A03D-C630E9908897"><span class="xrefglossterm">PGA中</span></a> 。</p>
                        <p>在解析调用期间，数据库执行以下检查：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>语法检查</p>
                           </li>
                           <li>
                              <p>语义检查</p>
                           </li>
                           <li>
                              <p>共享池检查</p>
                           </li>
                        </ul>
                        <p>上述检查标识了<span class="italic">在语句执行之前</span>可以找到的错误。解析时无法捕获一些错误。例如，数据库只能在语句执行期间遇到数据转换中的<a href="glossary.html#GUID-E33D1853-7F99-4FDD-9CC7-D6308E943D61"><span class="xrefglossterm">死锁</span></a>或错误。
                        </p>
                        <div class="infoboxnotealso" id="GUID-B3F2B5B8-B679-4A7C-B1E8-286F36319FCB__GUID-63FA5FB5-B7CA-42F1-AC89-AE0757F648CC">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="data-concurrency-and-consistency.html#GUID-C1971E9B-849A-4634-9575-4F8FAD697750" title="死锁是指两个或更多用户正在等待彼此锁定的数据的情况。死锁会阻止某些事务继续工作。">锁和死锁</a> ”</span></p>
                        </div>
                     </div>
                  </div><a id="CNCPT88924"></a><div class="props_rev_3"><a id="GUID-69CB14DE-1BA4-43DE-86F3-34CE835BD622" name="GUID-69CB14DE-1BA4-43DE-86F3-34CE835BD622"></a><h5 id="CNCPT-GUID-69CB14DE-1BA4-43DE-86F3-34CE835BD622" class="sect5">SQL优化</h5>
                     <div>
                        <p><strong class="term">查询优化</strong>是选择执行SQL语句的最有效方法的过程。
                        </p>
                        <p>数据库根据收集的有关正在访问的实际数据的统计信息来优化查询。优化程序使用行数，数据集大小和其他因素来生成可能的执行计划，为每个计划分配数字成本。数据库使用成本最低的计划。</p>
                        <p>对于每个唯一的DML语句，数据库必须至少执行一次硬解析，并在此解析期间执行优化。DDL永远不会被优化，除非它包含DML组件，例如需要优化的子查询。</p>
                        <div class="infoboxnotealso" id="GUID-69CB14DE-1BA4-43DE-86F3-34CE835BD622__GUID-37DA6769-BD59-46E9-AD71-4F38ECAED06C">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="sql.html#GUID-3F42B1AA-530A-4144-8179-F0074832AF81" title="要了解Oracle数据库如何处理SQL语句，有必要了解数据库中称为优化器的部分（也称为查询优化器或基于成本的优化器）。所有SQL语句都使用优化器来确定访问指定数据的最有效方法。">优化器概述</a> ”</span></p>
                              </li>
                              <li>
                                 <p>有关查询优化器的详细信息，请<a href="../tgsql/query-optimizer-concepts.html#TGSQL193" target="_blank"><span><cite>参见“Oracle数据库SQL调优指南”</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT88925"></a><div class="props_rev_3"><a id="GUID-A8B73B3C-991F-4E91-8AA5-DEFBDFAB0539" name="GUID-A8B73B3C-991F-4E91-8AA5-DEFBDFAB0539"></a><h5 id="CNCPT-GUID-A8B73B3C-991F-4E91-8AA5-DEFBDFAB0539" class="sect5">SQL行源生成</h5>
                     <div>
                        <p><span class="bold">行源生成器</span>是从优化器接收最佳执行计划并生成称为<span class="bold">查询计划</span>的迭代计划的软件，该<span class="bold">计划</span>可由数据库的其余部分使用。
                        </p>
                        <p>查询计划采用步骤组合的形式。每个步骤都返回一个<a href="glossary.html#GUID-C23DF6EB-4BE3-46E7-98B5-E3DCA2E01E4A"><span class="xrefglossterm">行集</span></a> 。此集合中的行要么由下一步使用，要么在最后一步中返回给发出SQL语句的应用程序。
                        </p>
                        <p><a href="glossary.html#GUID-BE1723B5-DDC4-4896-9C77-C9B2FA8EA453"><span class="xrefglossterm">行源</span></a>是执行计划中的步骤返回的行集，以及可以迭代处理行的控制结构。行源可以是表，视图或连接或分组操作的结果。
                        </p>
                     </div>
                  </div><a id="CNCPT1750"></a><div class="props_rev_3"><a id="GUID-503B4218-AF0A-4A39-A1DD-F55C1C7D1BAA" name="GUID-503B4218-AF0A-4A39-A1DD-F55C1C7D1BAA"></a><h5 id="CNCPT-GUID-503B4218-AF0A-4A39-A1DD-F55C1C7D1BAA" class="sect5">SQL执行</h5>
                     <div>
                        <p>在执行期间，SQL引擎执行行源生成器生成的树中的每个行源。这是DML处理中唯一必需的步骤。</p>
                        <p>在执行期间，如果数据不在内存中，则数据库将数据从磁盘读入内存。数据库还会获取确保数据完整性所需的任何锁和锁存器，并记录在SQL执行期间所做的任何更改。处理SQL语句的最后阶段是关闭游标。</p>
                        <p>如果数据库配置为使用<a href="glossary.html#GUID-A19D33EA-7BAA-42C0-9E13-6AF686E2A976"><span class="xrefglossterm">内存中列存储</span></a> （IM列存储），则数据库会尽可能透明地将查询路由到IM列存储，否则将路由到磁盘和数据库缓冲区缓存。单个查询还可以使用IM列存储，磁盘和缓冲区缓存。例如，查询可能会连接两个表，其中只有一个表缓存在IM列存储中。
                        </p>
                        <div class="infoboxnotealso" id="GUID-503B4218-AF0A-4A39-A1DD-F55C1C7D1BAA__GUID-C44037C2-3EFD-48C3-8ECC-A78411BB724D">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="memory-architecture.html#GUID-80C1C6A3-3E48-4868-ACA1-370C4D341209" title="内存区域是一个可选的SGA组件，包含内存中列存储（IM列存储）。">内存区</a> ”</span></p>
                              </li>
                              <li>
                                 <p>有关执行计划和<code class="codeph">EXPLAIN PLAN</code>语句的详细信息，请<code class="codeph">EXPLAIN PLAN</code> <a href="../tgsql/generating-and-displaying-execution-plans.html#TGSQL271" target="_blank"><span class="italic">“Oracle数据库SQL调优指南”</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT88928"></a><div class="props_rev_3"><a id="GUID-290D145D-07B9-4AF7-A91E-BCC444D21487" name="GUID-290D145D-07B9-4AF7-A91E-BCC444D21487"></a><h4 id="CNCPT-GUID-290D145D-07B9-4AF7-A91E-BCC444D21487" class="sect4">DML和DDL处理之间的差异</h4>
                  <div>
                     <p>Oracle数据库以不同于DML的方式处理DDL。</p>
                     <p>例如，在创建表时，数据库不会优化<code class="codeph">CREATE TABLE</code>语句。相反，Oracle数据库会解析DDL语句并执行该命令。
                     </p>
                     <p>与DDL相比，大多数DML语句都有一个查询组件。在查询中，执行游标会将查询生成的行放入结果集中。</p>
                     <p>数据库可以一次一行或以组的形式获取结果集行。在fetch中，数据库选择行，如果查询请求，则对行进行排序。每次连续提取都会检索结果的另一行，直到获取最后一行。</p>
                     <div class="infoboxnotealso" id="GUID-290D145D-07B9-4AF7-A91E-BCC444D21487__GUID-488F8A7A-5907-4FE5-971C-D47CB78C31DC">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../adfns/sql-processing-for-application-developers.html#ADFNS134" target="_blank"><span><cite>Oracle数据库开发指南</cite></span></a> ，了解有关处理DDL，事务控制和其他类型语句的信息</p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="10579.INSERT.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>插入</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="GRANT.html" title="Previous" type="text/html"></link>
      <link rel="next" href="LOCK-TABLE.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="GRANT.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="LOCK-TABLE.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-DROP-TABLE-to-LOCK-TABLE.html" property="item" typeof="WebPage"><span property="name">SQL语句：DROP TABLE到LOCK TABLE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">插入</li>
            </ol>
            <a id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423" name="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423"></a><a id="SQLRF55049"></a><a id="SQLRF55050"></a><a id="SQLRF55051"></a><a id="SQLRF55052"></a><a id="SQLRF55053"></a><a id="SQLRF55054"></a><a id="SQLRF55055"></a><a id="SQLRF55056"></a><a id="SQLRF55057"></a><a id="SQLRF55058"></a><a id="SQLRF55059"></a><a id="SQLRF55060"></a><a id="SQLRF55061"></a><a id="SQLRF55062"></a><a id="SQLRF55063"></a><a id="SQLRF55064"></a><a id="SQLRF55065"></a><a id="SQLRF55066"></a><a id="SQLRF55067"></a><a id="SQLRF55068"></a><a id="SQLRF55069"></a><a id="SQLRF55070"></a><a id="SQLRF55071"></a><a id="SQLRF55072"></a><a id="SQLRF55073"></a><a id="SQLRF55074"></a><a id="SQLRF55075"></a><a id="SQLRF55076"></a><a id="SQLRF55077"></a><a id="SQLRF55078"></a><a id="SQLRF55079"></a><a id="SQLRF55080"></a><a id="SQLRF55081"></a><a id="SQLRF55082"></a><a id="SQLRF55083"></a><a id="SQLRF55084"></a><a id="SQLRF55085"></a><a id="SQLRF55086"></a><a id="SQLRF55087"></a><a id="SQLRF55088"></a><a id="SQLRF55089"></a><a id="SQLRF55090"></a><a id="SQLRF55091"></a><a id="SQLRF55092"></a><a id="SQLRF55093"></a><a id="SQLRF55094"></a><a id="SQLRF55095"></a><a id="SQLRF55096"></a><a id="SQLRF55097"></a><a id="SQLRF55098"></a><a id="SQLRF55099"></a><a id="SQLRF55100"></a><a id="SQLRF55101"></a><a id="SQLRF55102"></a><a id="SQLRF55103"></a><a id="SQLRF55104"></a><a id="SQLRF55105"></a><a id="SQLRF55106"></a><a id="SQLRF55107"></a><a id="SQLRF55108"></a><a id="SQLRF55109"></a><a id="SQLRF55110"></a><a id="SQLRF01604"></a>
            
            <h2 id="SQLRF-GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423" class="sect2">插入</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-FF105967-ADFB-46E5-AB34-6192C18E4792">目的</p>
                  <p>使用<code class="codeph">INSERT</code>语句将行添加到表，视图的基表，分区表的分区或复合分区表的子分区，或对象表或对象视图的基表。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2063953">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-AA528308-287C-413B-B526-B0B4DE080D13">先决条件</p>
                  <p>要将行插入表中，表必须位于您自己的模式中，或者您必须具有表上的<code class="codeph">INSERT</code>对象特权。
                  </p>
                  <p>要将行插入视图的基表，包含该视图的模式的所有者必须在基表上具有<code class="codeph">INSERT</code>对象特权。此外，如果视图位于您自己的模式之外，那么您必须对视图具有<code class="codeph">INSERT</code>对象特权。
                  </p>
                  <p>如果您具有<code class="codeph">INSERT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>系统特权，则还可以将行插入任何视图的任何表或基表中。
                  </p>
                  <p>如果表位于远程数据库上，则还必须对要插入行的表具有<code class="codeph">READ</code>或<code class="codeph">SELECT</code>对象特权。
                  </p>
                  <p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2191836">常规和直接路径INSERT<a id="d415345e337" class="indexterm-anchor"></a><a id="d415345e339" class="indexterm-anchor"></a><a id="d415345e343" class="indexterm-anchor"></a><a id="d415345e347" class="indexterm-anchor"></a><a id="d415345e351" class="indexterm-anchor"></a></p>
                  <p>您可以使用<code class="codeph">INSERT</code>语句以两种方式将数据插入表，分区或视图：常规<code class="codeph">INSERT</code>和直接路径<code class="codeph">INSERT</code> 。当您发出传统的<code class="codeph">INSERT</code>语句时，Oracle数据库会重用您要插入的表中的可用空间并维护参照完整性约束。使用直接路径<code class="codeph">INSERT</code> ，数据库会在表中的现有数据之后附加插入的数据。数据直接写入数据文件，绕过缓冲区缓存。现有数据中的可用空间不会被重用。此替代方案增强了插入操作期间的性能，并且类似于Oracle直接路径加载器实用程序SQL * Loader的功能。当您插入以并行模式创建的表时，直接路径<code class="codeph">INSERT</code>是默认值。
                  </p>
                  <p>数据库生成重做和撤消数据的方式部分取决于您使用的是传统路径还是直接路径<code class="codeph">INSERT</code> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>无论表的日志记录设置以及数据库的archivelog和force logging设置如何，常规<code class="codeph">INSERT</code>始终会为数据和元数据的更改生成最大重做和撤消。
                        </p>
                     </li>
                     <li>
                        <p>直接路径<code class="codeph">INSERT</code>为<span class="italic">元数据</span>更改生成重做和撤消，因为这些是操作恢复所需的。对于<span class="italic">数据</span>更改，将按如下方式生成撤消和重做：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>直接路径<code class="codeph">INSERT</code>始终绕过数据更改的撤消生成。
                              </p>
                           </li>
                           <li>
                              <p>如果数据库不处于<code class="codeph">ARCHIVELOG</code>或<code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>模式，则无论表的日志记录设置如何，都不会为数据更改生成重做。
                              </p>
                           </li>
                           <li>
                              <p>如果数据库处于<code class="codeph">ARCHIVELOG</code>模式（但不是<code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>模式），则直接路径<code class="codeph">INSERT</code>为<code class="codeph">LOGGING</code>表生成数据重做，但不为<code class="codeph">NOLOGGING</code>表生成数据重做。
                              </p>
                           </li>
                           <li>
                              <p>如果数据库处于<code class="codeph">ARCHIVELOG</code> <span class="bold">和</span> <code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>模式，则直接路径SQL会为<code class="codeph">LOGGING</code>和<code class="codeph">NOLOGGING</code>表生成数据重做。
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p>直接路径<code class="codeph">INSERT</code>受到许多限制。如果违反了任何这些限制，则Oracle数据库会串行执行传统的<code class="codeph">INSERT</code>而不返回任何消息，除非另有说明：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您可以在单个事务中使用多个直接路径<code class="codeph">INSERT</code>语句，可以使用或不使用其他DML语句。但是，在一个DML语句更改特定表，分区或索引之后，事务中的其他DML语句都不能访问该表，分区或索引。
                        </p>
                     </li>
                     <li>
                        <p>在直接路径<code class="codeph">INSERT</code>语句之前允许访问相同表，分区或索引的查询，但不允许在其之后。
                        </p>
                     </li>
                     <li>
                        <p>如果任何串行或并行语句尝试访问已在同一事务中由直接路径<code class="codeph">INSERT</code>修改的表，则数据库将返回错误并拒绝该语句。
                        </p>
                     </li>
                     <li>
                        <p>目标表不能是群集。</p>
                     </li>
                     <li>
                        <p>目标表不能包含对象类型列。</p>
                     </li>
                     <li>
                        <p>如果索引组织表（IOT）具有映射表，或者它是由物化视图引用，则不支持直接路径<code class="codeph">INSERT</code> 。
                        </p>
                     </li>
                     <li>
                        <p>直接路径<code class="codeph">INSERT</code>到索引组织表（IOT）的单个分区，到只有一个分区的分区IOT，或者没有分区的IOT，将串行完成，即使IOT是以并行模式创建的或者您指定<code class="codeph">APPEND</code>或<code class="codeph">APPEND_VALUES</code>提示。但是，只要不使用分区扩展名并且IOT具有多个分区，直接路径<code class="codeph">INSERT</code>操作到分区IOT将遵循并行模式。
                        </p>
                     </li>
                     <li>
                        <p>目标表不能在其上定义任何触发器或参照完整性约束。</p>
                     </li>
                     <li>
                        <p>无法复制目标表。</p>
                     </li>
                     <li>
                        <p>包含直接路径<code class="codeph">INSERT</code>语句的事务不能或不能分发。
                        </p>
                     </li>
                  </ul>
                  <p>插入完成后，您无法立即查询或修改直接路径插入的数据。如果尝试这样做，则会生成<code class="codeph">ORA-12838</code>错误。在尝试读取或修改新插入的数据之前，必须先发出<code class="codeph">COMMIT</code>语句。
                  </p>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-BC3FDB59-7B30-4D7E-8816-F6631AC333B6">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关直接路径<code class="codeph">INSERT</code>的更完整描述，请参见<a href="../admin/managing-tables.html#ADMIN01509" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关SQL * Loader的信息，请参见<a href="../sutil/oracle-sql-loader-concepts.html#SUTIL003" target="_blank"><span class="italic">Oracle数据库实用</span></a>程序</p>
                        </li>
                        <li>
                           <p><a href="../tgsql/optimizer-statistics-concepts.html#TGSQL344" target="_blank"><span class="italic">“Oracle数据库SQL调优指南”</span></a> ，了解使用直接路径<code class="codeph">INSERT</code>插入空表时的统计信息收集信息</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2111652">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-CF2438DF-FE43-4AF3-9EE0-F89A27F5DF4C">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-E277F5E7-2687-41C8-B852-B35663272557"><span class="italic">insert</span> :: =</p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-FCC21D7E-BEF5-4BA4-A61A-BCAFAA7D10CC"><img src="img/insert.gif" alt="insert.eps的描述如下" title="insert.eps的描述如下" longdesc="img_text/insert.html"><br><a href="img_text/insert.html">插图说明insert.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121671">single_table_insert :: =</a></span> ， <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121682">multi_table_insert :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121671">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-9A8471C1-8C8A-46BA-8014-405C68664BED"><span class="italic">single_table_insert</span> :: =</p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-1C6892D2-E720-4345-8509-1F26DC1C0AD1"><img src="img/single_table_insert.gif" alt="下面是single_table_insert.eps的描述" title="下面是single_table_insert.eps的描述" longdesc="img_text/single_table_insert.html"><br><a href="img_text/single_table_insert.html">插图说明single_table_insert.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121694">insert_into_clause :: =</a></span> ， <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2122346">values_clause :: =</a></span> ， <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2122356">returning_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126435">subquery :: =</a></span> ， <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__BGBDIGAH">error_logging_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121694">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-AC239E95-0DD5-4F4B-A849-55C87840D0E6"><span class="italic">insert_into_clause</span> :: =</p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-474BD534-BDEC-4C8D-B552-65F1EE72DC80"><img src="img/insert_into_clause.gif" alt="下面是insert_into_clause.eps的描述" title="下面是insert_into_clause.eps的描述" longdesc="img_text/insert_into_clause.html"><br><a href="img_text/insert_into_clause.html">插图说明insert_into_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2126242">DML_table_expression_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2122346">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-AC540A1D-3C6D-4FAF-8B8F-F3BA331205A7"><span class="italic">values_clause</span> :: =</p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-3D47E1E9-23BA-4B9C-BE6E-E423FCB9D160"><img src="img/values_clause.gif" alt="下面是values_clause.eps的描述" title="下面是values_clause.eps的描述" longdesc="img_text/values_clause.html"><br><a href="img_text/values_clause.html">插图描述values_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2122356">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-5F9527B0-AEE2-404C-A440-643758BEC2A3"><span class="italic">returning_clause</span> :: =</p><a id="d415345e643" class="indexterm-anchor"></a><div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-207E68CA-F4ED-4B60-92CD-C9342C247987"><img src="img/returning_clause.gif" alt="return_clause.eps的描述如下" title="return_clause.eps的描述如下" longdesc="img_text/returning_clause.html"><br><a href="img_text/returning_clause.html">return_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121682">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-189C3414-46E8-4EF2-8E10-03483DD68F6E"><span class="italic">multi_table_insert</span> :: =</p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-B7B5A639-DABD-4470-928A-A1D675504336"><img src="img/multi_table_insert.gif" alt="下面是multi_table_insert.eps的描述" title="下面是multi_table_insert.eps的描述" longdesc="img_text/multi_table_insert.html"><br><a href="img_text/multi_table_insert.html">multi_table_insert.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121694">insert_into_clause :: =</a></span> ， <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2122346">values_clause :: =</a></span> ， <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121821">conditional_insert_clause :: =</a></span> ， <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126435">subquery :: =</a></span> ， <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__BGBDIGAH">error_logging_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121821">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-B1725B5D-00D9-46D0-AE15-10C1D6EFEC14"><span class="italic">conditional_insert_clause</span> :: =</p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-635C9330-E27B-4BEE-BBD3-99FAE9A92F5D"><img src="img/conditional_insert_clause.gif" alt="以下是conditional_insert_clause.eps的说明" title="以下是conditional_insert_clause.eps的说明" longdesc="img_text/conditional_insert_clause.html"><br><a href="img_text/conditional_insert_clause.html">condition_insert_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121694">insert_into_clause :: =</a></span> ， <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2122346">values_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2126242">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-D876C95D-CBAC-478D-8B9E-E4099A6D5F4B"><span class="italic">DML_table_expression_clause</span> :: =</p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-46309F79-29FF-4BA5-8A02-0D49316D3A2F"><img src="img/dml_table_expression_clause.gif" alt="下面是dml_table_expression_clause.eps的描述" title="下面是dml_table_expression_clause.eps的描述" longdesc="img_text/dml_table_expression_clause.html"><br><a href="img_text/dml_table_expression_clause.html">说明dml_table_expression_clause.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="LOCK-TABLE.html#GUID-4C00C6D9-C5C5-46CC-AD33-A64001744A4C__BABBDIIJ">partition_extension_clause :: =</a></span> ， <code class="codeph">SELECT</code> <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126435">子查询:: =</a></span> - 部分， <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121860">subquery_restriction_clause :: =</a></span> ， <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121871">table_collection_expression :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-18B85FAB-BD74-4DBC-B529-47A02250AF31"><span class="italic">partition_extension_clause</span> :: =</p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-C252C94F-30B5-44C5-9E92-AA04DE6460E9"><img src="img/partition_extension_clause.gif" alt="下面是partition_extension_clause.eps的描述" title="下面是partition_extension_clause.eps的描述" longdesc="img_text/partition_extension_clause.html"><br><a href="img_text/partition_extension_clause.html">插图说明partition_extension_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121860">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-C96594EA-4C61-4D15-ADD5-37E1B0479B2E"><span class="italic">subquery_restriction_clause</span> :: =</p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-6F403720-F82A-4031-80A9-D7EB1FB725EF"><img src="img/subquery_restriction_clause.gif" alt="下面是subquery_restriction_clause.eps的描述" title="下面是subquery_restriction_clause.eps的描述" longdesc="img_text/subquery_restriction_clause.html"><br><a href="img_text/subquery_restriction_clause.html">插图描述subquery_restriction_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121871">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-FB9A6326-E1E1-4144-A4CF-794E401E91BE"><span class="italic">table_collection_expression</span> :: =</p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-B8C06F40-D55E-4067-A927-74999215702B"><img src="img/table_collection_expression.gif" alt="table_collection_expression.eps的描述如下" title="table_collection_expression.eps的描述如下" longdesc="img_text/table_collection_expression.html"><br><a href="img_text/table_collection_expression.html">插图描述table_collection_expression.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__BGBDIGAH">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-69298B65-A3A7-4123-AFCB-A7F54A0BDCEF"><span class="italic">error_logging_clause</span> :: =</p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-5D7D822B-7B0C-41F4-8D38-754DD081FB02"><img src="img/error_logging_clause.gif" alt="下面是error_logging_clause.eps的描述" title="下面是error_logging_clause.eps的描述" longdesc="img_text/error_logging_clause.html"><br><a href="img_text/error_logging_clause.html">说明error_logging_clause.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2145420">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-2AC8C6CA-78B9-4D26-8107-F6A7CCE07F95">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-EB8787F0-EABF-4CA0-A938-15B6FB067572"><span class="italic">暗示</span></p>
                  <p>指定在为语句选择执行计划时将指令传递给优化程序的注释。</p>
                  <p>对于多表插入，如果为任何目标表指定<code class="codeph">PARALLEL</code>提示，则即使尚未使用指定的<code class="codeph">PARALLEL</code>创建或更改目标表，也会并行化整个多表insert语句。如果未指定<code class="codeph">PARALLEL</code>提示，则除非使用指定的<code class="codeph">PARALLEL</code>创建或更改所有目标表，否则不会并行化插入操作。
                  </p>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-C507569F-0CEC-4D29-95D6-AE671A58ACCA">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q"><a href="Comments.html#GUID-D316D545-89E2-4D54-977F-FC97815CD62E">提示</a></span>的语法和描述的<span class="q">“ <a href="Comments.html#GUID-D316D545-89E2-4D54-977F-FC97815CD62E">提示</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2080134">对多表插入的限制</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-B621D1B1-C431-4224-ADE1-A81460415A44"><span class="italic">single_table_insert</span></p>
                  <p>在<span class="bold">单表插入中</span> ，通过显式指定值或通过子查询检索值，可以将值插入表，视图或实例化视图的一行中。
                  </p>
                  <p><span class="italic"></span>您可以使用<span class="italic"><code class="codeph">subquery</code></span>的<span class="italic"><code class="codeph">flashback_query_clause</code></span>将过去的数据插入<span class="italic"><code class="codeph">table</code></span> 。有关此子句的更多信息，请参阅<code class="codeph">SELECT</code>的<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2112818">flashback_query_clause</a></span> 。
                  </p>
                  <p><span class="bold">单表插页的限制</span></p>
                  <p>如果通过子查询检索值，则子查询的选择列表必须与<code class="codeph">INSERT</code>语句的列列表具有相同的列数。如果省略列列表，则子查询必须为表中的每个列提供值。
                  </p>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-401389A9-FBBC-40DF-BC40-4183C4724BBA">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2145074">将值插入表：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-B4BA3ADA-CA81-4F01-95FE-B7FB6B079E71"><span class="italic">insert_into_clause</span></p>
                  <p>使用<code class="codeph">INSERT</code> <code class="codeph">INTO</code>子句指定数据库要插入数据的目标对象。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-ADB9B6BB-7B21-45E4-A1D7-830EDF96CC39"><span class="italic">DML_table_expression_clause</span></p>
                  <p>使用<code class="codeph">INTO</code> <span class="italic"><code class="codeph">DML_table_expression_clause</code></span>指定要插入数据的对象。
                  </p>
                  <p><span class="bold"><span class="italic">模式</span></span></p>
                  <p>指定包含表，视图或物化视图的模式。如果省略<span class="italic"><code class="codeph">schema</code></span> ，则数据库假定该对象位于您自己的模式中。
                  </p>
                  <p><span class="bold"><span class="italic">表</span></span> <span class="bold">|</span> <span class="bold"><span class="italic">查看</span></span> <span class="bold">|</span> <span class="bold"><span class="italic">materialized_view</span></span> <span class="bold">|</span> <span class="bold"><span class="italic">子查询</span></span></p>
                  <p>指定表或对象表的名称，视图或对象视图，物化视图或子查询返回的要插入行的列。如果指定视图或对象视图，则数据库会将行插入到视图的基表中。</p>
                  <p>您不能将行插入只读的物化视图。如果将行插入可写物化视图，则数据库会将行插入基础容器表中。但是，插入将在下一次刷新操作时被覆盖。如果将行插入到可更新的实例化视图中，该视图是实例化视图组的一部分，则数据库还会将相应的行插入主表中。</p>
                  <p>如果要插入的任何值是一个<code class="codeph">REF</code>到对象表，并且如果所述对象表具有主密钥对象标识符，则插入到其中的柱<code class="codeph">REF</code>必须是<code class="codeph">REF</code>具有引用完整性或列<code class="codeph">SCOPE</code>约束到对象表。
                  </p>
                  <p>如果<span class="italic"><code class="codeph">table</code></span>或<span class="italic"><code class="codeph">view</code></span>的基表包含一个或多个域索引列，则此语句将执行相应的indextype插入例程。
                  </p>
                  <p>对表发出<code class="codeph">INSERT</code>语句会触发在表上定义的任何<code class="codeph">INSERT</code>触发器。
                  </p>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-EE2175F1-5C6A-4D5C-B272-2313FA6E7967">
                     <p class="notep1">也可以看看：</p>
                     <p>有关这些例程的更多信息，请参见<a href="../addci/extensible-indexing-interface.html#ADDCI4200" target="_blank"><span class="italic">Oracle数据库数据盒开发人员指南</span></a></p>
                  </div>
                  <p><span class="bold"><span class="italic">DML_table_expression_clause的</span></span> <span class="bold">限制</span></p>
                  <p>本条款受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果不能执行该语句<span class="italic"><code class="codeph">table</code></span>或基表<span class="italic"><code class="codeph">view</code></span>中包含任何标记域指标<code class="codeph">IN_PROGRESS</code>或<code class="codeph">FAILED</code> 。</p>
                     </li>
                     <li>
                        <p>如果任何受影响的索引分区标记为<code class="codeph">UNUSABLE</code>则无法插入分区。</p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">DML_table_expression_clause</code></span> <span class="italic"><code class="codeph">subquery</code></span>的<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句，仅对要插入的行保证排序，并且仅在表的每个范围内进行排序。不保证针对现有行排序新行。
                        </p>
                     </li>
                     <li>
                        <p>如果使用<code class="codeph">WITH</code> <code class="codeph">CHECK</code> <code class="codeph">OPTION</code>创建视图，则只能在视图中插入满足视图定义查询的行。
                        </p>
                     </li>
                     <li>
                        <p>如果使用单个基表创建视图，则可以在视图中插入行，然后使用<span class="italic"><code class="codeph">returning_clause</code></span>检索这些值。
                        </p>
                     </li>
                     <li>
                        <p><a id="d415345e1016" class="indexterm-anchor"></a>如果视图的定义查询包含以下构造之一，则无法在视图中插入行，除非使用<code class="codeph">INSTEAD</code> <code class="codeph">OF</code>触发器：</p>
                        <ul class="simple" style="list-style-type:none;padding-left:0">
                           <li>一组运算符</li>
                           <li><code class="codeph">DISTINCT</code>运算符</li>
                           <li>聚合或分析函数</li>
                           <li><code class="codeph">GROUP</code> <code class="codeph">BY</code> ， <code class="codeph">ORDER</code> <code class="codeph">BY</code> ， <code class="codeph">MODEL</code> ， <code class="codeph">CONNECT</code> <code class="codeph">BY</code>或<code class="codeph">START</code> <code class="codeph">WITH</code>子句</li>
                           <li><code class="codeph">SELECT</code>列表中的集合表达式</li>
                           <li><code class="codeph">SELECT</code>列表中的子查询</li>
                           <li>指定<code class="codeph">WITH READ ONLY</code>子查询</li>
                           <li>如<a href="../admin/managing-views-sequences-and-synonyms.html#ADMIN020" target="_blank"><span class="italic">Oracle数据库管理员指南中所述</span></a> ，加入了一些例外情况</li>
                           <li></li>
                        </ul>
                     </li>
                     <li>
                        <p>如果指定已标记为<code class="codeph">UNUSABLE</code>的索引，索引分区或索引子分区，则<code class="codeph">INSERT</code>语句将失败，除非<code class="codeph">SKIP_UNUSABLE_INDEXES</code>会话参数已设置为<code class="codeph">TRUE</code> 。有关<code class="codeph">SKIP_UNUSABLE_INDEXES</code>会话参数的信息，请参阅<a href="ALTER-SESSION.html#GUID-27186B28-7EFC-4998-B1ED-2B905CC0211B">ALTER SESSION</a> 。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold"><span class="italic">partition_extension_clause</span></span> <a id="d415345e1115" class="indexterm-anchor"></a><a id="d415345e1121" class="indexterm-anchor"></a><a id="d415345e1127" class="indexterm-anchor"></a><a id="d415345e1131" class="indexterm-anchor"></a><a id="d415345e1135" class="indexterm-anchor"></a><a id="d415345e1139" class="indexterm-anchor"></a></p>
                  <p>指定<span class="italic"><code class="codeph">table</code></span>中的分区或子分区的名称或分区键值，或指定插入的基本表<span class="italic"><code class="codeph">view</code></span> 。
                  </p>
                  <p>如果要插入的行未映射到指定的分区或子分区，则数据库将返回错误。</p>
                  <p><span class="bold">对目标分区和子分区的限制</span></p>
                  <p>该子句对于对象表或对象视图无效。</p>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-CE48D4EF-D24C-4EB1-8B39-9FABAAACE811">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="Syntax-for-Schema-Objects-and-Parts-in-SQL-Statements.html#GUID-FED2E424-3F06-4B2B-88D2-DE043CA6E0E4">对分区表和索引的引用</a> ”</span></p>
                  </div>
                  <p><span class="bold"><span class="italic">DBLINK</span></span></p>
                  <p>指定表或视图所在的远程数据库的数据库链接的完整或部分名称。只有在使用Oracle数据库分布式功能时，才能将行插入远程表或视图。</p>
                  <p>如果省略<span class="italic"><code class="codeph">dblink</code></span> ，则Oracle数据库假定表或视图位于本地数据库中。
                  </p>
                  <div class="infoboxnote" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-694BBDB3-0B8F-4CB1-BEB5-A940D07EBC69">
                     <p class="notep1">注意：</p>
                     <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始， <code class="codeph">INSERT</code>语句接受远程LOB定位符作为绑定变量。有关更多信息，请参阅<a href="../adlob/distributed-LOBs.html#ADLOB-GUID-7E450E86-3E4E-4714-A164-FD36B93722F6" target="_blank"><span class="italic">Oracle Database SecureFiles和Large Objects Developer's Guide中</span></a>的“分布式LOB”一章。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-68A36008-0B93-472D-842C-725D5F7B68BE">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="Syntax-for-Schema-Objects-and-Parts-in-SQL-Statements.html#GUID-1164C6E0-ABAB-49C2-8821-6B6C5047FEDD">SQL语句中的模式对象和部件的语法</a> ”</span>和<span class="q">“ <a href="Syntax-for-Schema-Objects-and-Parts-in-SQL-Statements.html#GUID-61D0B206-A5EA-473F-AD04-7067D6E3914C">远程数据库中对象的引用</a> ”，</span>以获取有关引用数据库链接的信息</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2126166">插入远程数据库：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold"><span class="italic">subquery_restriction_clause</span></span></p>
                  <p>使用<span class="italic"><code class="codeph">subquery_restriction_clause</code></span>以下列方式之一限制子查询：</p>
                  <p><span class="bold">只读</span></p>
                  <p>指定<code class="codeph">WITH READ ONLY</code>以指示无法更新表或视图。
                  </p>
                  <p><span class="bold">与检查选项</span></p>
                  <p>指定<code class="codeph">WITH CHECK OPTION</code>以指示Oracle数据库禁止对将生成子查询中未包含的行的表或视图进行任何更改。在DML语句的子查询中使用时，可以在<code class="codeph">FROM</code>子句的子查询中指定此子句，但不能在<code class="codeph">WHERE</code>子句的子查询中指定。
                  </p>
                  <p><span class="bold">CONSTRAINT</span> <span class="bold"><span class="italic">约束</span></span></p>
                  <p>指定<code class="codeph">CHECK OPTION</code>约束的名称。如果省略此标识符，则Oracle会自动为约束指定<code class="codeph">SYS_C</code> <span class="italic"><code class="codeph">n</code></span>形式的名称，其中n是一个整数，使数据库中的约束名称唯一。
                  </p>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-FDB15199-FA66-4803-B26E-D1D3FF58E739">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066598">使用WITH CHECK OPTION子句：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold"><span class="italic">table_collection_expression</span></span></p>
                  <p><span class="italic"><code class="codeph">table_collection_expression</code></span>允许您通知Oracle，应将<span class="italic"><code class="codeph">collection_expression</code></span>的值视为表，以便进行查询和DML操作。<span class="italic"><code class="codeph">collection_expression</code></span>可以是子查询，列，函数或集合构造函数。无论其形式如何，它都必须返回一个集合值 - 即类型为嵌套表或varray的值。提取集合元素的过程称为<span class="bold">集合取消</span> 。
                  </p>
                  <p>如果要将<code class="codeph">TABLE</code>集合表达式与父表连接，则可选的加号（+）是相关的。+创建两者的外连接，以便查询返回外表中的行，即使集合表达式为null。
                  </p>
                  <div class="infoboxnote" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-1CA4F4EC-EE8B-4F0D-AB11-F16426F7EAF9">
                     <p class="notep1">注意：</p>
                     <p>在Oracle的早期版本中，当<span class="italic"><code class="codeph">collection_expression</code></span>是一个子查询， <span class="italic"><code class="codeph">table_collection_expression</code></span>表示为<code class="codeph">THE</code> <span class="italic"><code class="codeph">subquery</code></span> 。该用法现已弃用。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-C18FCB2E-8324-4264-A6F0-41C55BF25E00">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2071643">表集合：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold"><span class="italic">t_alias</span></span></p>
                  <p>指定<span class="bold">相关名称</span> ，该<span class="bold">名称</span>是要在语句中的其他位置引用的表，视图，实例化视图或子查询的别名。
                  </p>
                  <p><span class="bold">对表别名的限制</span></p>
                  <p>在多表插入期间，您无法指定<span class="italic"><code class="codeph">t_alias</code></span> 。
                  </p>
                  <p><span class="bold"><span class="italic">柱</span></span></p>
                  <p>指定表，视图或物化视图的列。在插入的行中，此列表中的每个列都分配了<span class="italic"><code class="codeph">values_clause</code></span>或子查询中的值。如果要为<code class="codeph">INVISIBLE</code>列分配值，则必须在此列表中包含该列。
                  </p>
                  <p>如果省略此列表中的一个或多个表的列，则插入行的该列的列值是创建表或上次更改表时指定的列默认值。如果任何省略的列具有<code class="codeph">NOT</code> <code class="codeph">NULL</code>约束且没有默认值，则数据库将返回错误，指示已违反约束并回滚<code class="codeph">INSERT</code>语句。请参阅<a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6">CREATE TABLE</a> <span class="bold"> </span>有关默认列值的更多信息。
                  </p>
                  <p>如果省略列列表，则<span class="italic"><code class="codeph">values_clause</code></span>或query必须指定表中所有列的值。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-408B84CF-7C24-41AF-AC70-02AC9255AFB0"><span class="italic">values_clause</span></p>
                  <p>对于<span class="bold">单表插入</span>操作，请指定要插入表或视图中的一行值。您必须在列列表中的每列的<span class="italic"><code class="codeph">values_clause</code></span>指定一个值。如果省略列列表，则<span class="italic"><code class="codeph">values_clause</code></span>必须为表中的每个列提供值。
                  </p>
                  <p>对于<span class="bold">多表插入</span>操作， <span class="italic"><code class="codeph">values_clause</code></span>每个表达式<span class="italic"><code class="codeph">values_clause</code></span>必须引用子查询的选择列表返回的列。如果省略<span class="italic"><code class="codeph">values_clause</code></span> ，则子查询的选择列表确定要插入的值，因此它必须具有与相应<span class="italic"><code class="codeph">insert_into_clause</code></span>的列列表相同的列数。如果未在<span class="italic"><code class="codeph">insert_into_clause</code></span>指定列列表，则计算的行必须为目标表中的所有列提供值。
                  </p>
                  <p>对于这两种类型的插入操作，如果在<span class="italic"><code class="codeph">insert_into_clause</code></span>指定列列表，则数据库会为列表中的每个列分配values子句或子查询中的相应值。您可以为<span class="italic"><code class="codeph">values_clause</code></span>任何值指定<code class="codeph">DEFAULT</code> 。如果已为表或视图的相应列指定了默认值，则会插入该值。如果未指定相应列的缺省值，则数据库将插入null。有关有效表达式的语法，请参阅<span class="q">“ <a href="About-SQL-Expressions.html#GUID-68789A5C-B142-496F-ADEE-837F75F95B2B">关于SQL表达式</a> ”</span>和<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6">SELECT</a> 。
                  </p>
                  <p><span class="bold">插入值的限制</span></p>
                  <p>该值受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在将<code class="codeph">BFILE</code>定位器初始化为null或目录名称和文件名之前，不能插入<code class="codeph">BFILE</code>值。
                        </p>
                        <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-5511D694-8AEE-4B35-9939-0B8EE4B6DD58">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="BFILENAME.html#GUID-1F767077-7C26-4962-9833-1433F1749621">BFILENAME</a>有关初始化<code class="codeph">BFILE</code>值的信息以及插入<code class="codeph">BFILE</code>的示例</p>
                              </li>
                              <li>
                                 <p>有关初始化<code class="codeph">BFILE</code>定位符的信息，请<code class="codeph">BFILE</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADLOB002" target="_blank"><span class="italic">Oracle Database SecureFiles和Large Objects Developer's Guide</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li>
                        <p>插入列表分区表时，无法将值插入到其中一个分区的<span class="italic"><code class="codeph">partition_key_value</code></span>列表中尚不存在的分区键列中。
                        </p>
                     </li>
                     <li>
                        <p>插入视图时无法指定<code class="codeph">DEFAULT</code> 。
                        </p>
                     </li>
                     <li>
                        <p>如果将字符串文字插入<code class="codeph">RAW</code>列，则在后续查询期间，Oracle数据库将执行全表扫描，而不是使用<code class="codeph">RAW</code>列上可能存在的任何索引。
                        </p>
                        <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-AE9EDF44-DABF-4047-84C8-7D3ABF82A67F">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="Using-XML-in-SQL-Statements.html#GUID-5FE21EC9-1F66-45F1-9FD8-ECA5336EDC14">在SQL语句中使用XML</a> ”，</span>以获取有关将值插入XMLType表的信息</p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2085891">插入可替换的表和列：示例</a> ”</span> ， <span class="q">“ <a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2085882">使用TO_LOB函数插入：示例</a> ”</span> ， <span class="q">“ <a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2102477">插入序列值：示例</a> ”</span>和<span class="q">“ <a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2126188">使用绑定变量插入：示例</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-0D129800-F156-4367-98EA-423A673DF284"><span class="italic">returning_clause</span></p>
                  <p><a id="d415345e1515" class="indexterm-anchor"></a> returns子句检索受DML语句影响的行。您可以为表和物化视图以及具有单个基表的视图指定此子句。
                  </p>
                  <p>在单行上操作时，带有<span class="italic"><code class="codeph">returning_clause</code></span>的DML语句可以使用受影响的行，rowid和<code class="codeph">REFs</code>将列表达式检索到受影响的行，并将它们存储在主机变量或PL / SQL变量中。
                  </p>
                  <p>在多行上操作时，带有<span class="italic"><code class="codeph">returning_clause</code></span>的DML语句存储涉及绑定数组中受影响行的表达式，rowid和<code class="codeph">REFs</code>值。
                  </p>
                  <p><span class="bold"><span class="italic">EXPR</span></span></p>
                  <p><span class="italic"><code class="codeph">expr</code></span>列表中的每个项都必须是有效的表达式语法。
                  </p>
                  <p><span class="bold">INTO</span></p>
                  <p><code class="codeph">INTO</code>子句指示已更改行的值将存储在<span class="italic"><code class="codeph">data_item</code></span>列表中指定的变量中。
                  </p>
                  <p><span class="bold"><span class="italic">数据项</span></span></p>
                  <p>每个<span class="italic"><code class="codeph">data_item</code></span>都是一个主机变量或PL / SQL变量，用于存储检索到的<span class="italic"><code class="codeph">expr</code></span>值。
                  </p>
                  <p>对于<code class="codeph">RETURNING</code>列表中的每个表达式，必须在<code class="codeph">INTO</code>列表中指定相应的类型兼容的PL / SQL变量或主变量。
                  </p>
                  <p><span class="bold">限制</span></p>
                  <p>以下限制适用于<code class="codeph">RETURNING</code>子句：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic"><code class="codeph">expr</code></span>限制如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>对于<code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>语句，每个<span class="italic"><code class="codeph">expr</code></span>必须是简单表达式或单集聚合函数表达式。您不能在同一<span class="italic"><code class="codeph">returning_clause</code></span>组合简单表达式和单集聚合函数表达式。对于<code class="codeph">INSERT</code>语句，每个<span class="italic"><code class="codeph">expr</code></span>必须是一个简单的表达式。<code class="codeph">INSERT</code>语句<code class="codeph">RETURNING</code>子句不支持聚合函数。
                              </p>
                           </li>
                           <li>
                              <p>单集聚合函数表达式不能包含<code class="codeph">DISTINCT</code>关键字。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>如果<span class="italic"><code class="codeph">expr</code></span>列表包含主键列或其他<code class="codeph">NOT</code> <code class="codeph">NULL</code>列，则如果表上定义了<code class="codeph">BEFORE</code> <code class="codeph">UPDATE</code>触发器，则update语句将失败。
                        </p>
                     </li>
                     <li>
                        <p>您不能为多表插入指定<span class="italic"><code class="codeph">returning_clause</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>您不能将此子句与并行DML或远程对象一起使用。</p>
                     </li>
                     <li>
                        <p>您无法使用此子句检索<code class="codeph">LONG</code>类型。
                        </p>
                     </li>
                     <li>
                        <p>您不能为已定义<code class="codeph">INSTEAD</code> <code class="codeph">OF</code>触发器的视图指定此子句。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-58AE7220-D295-47CB-A086-B54BC65EC7CC">
                     <p class="notep1">也可以看看：</p>
                     <p>有关使用<code class="codeph">BULK</code> <code class="codeph">COLLECT</code>子句将多个值返回到集合变量的信息，请参阅<a href="../lnpls/plsql-collections-and-records.html#LNPLS005" target="_blank"><span class="italic">Oracle Database PL / SQL语言参考</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-A375FB35-7EE9-4FF3-98BD-E58087EA1C6E"><span class="italic">multi_table_insert</span></p>
                  <p>在<span class="bold">多表插入中</span> ，将从子查询求值返回的行派生的计算行插入到一个或多个表中。
                  </p>
                  <p>表别名不是由子查询的选择列表定义的。因此，它们在依赖于选择列表的子句中不可见。例如，尝试引用表达式中的对象列时可能会发生这种情况。要使用带有表别名的表达式，必须将表达式放入带有列别名的选择列表中，然后引用<code class="codeph">VALUES</code>子句中的列别名或多表插入的<code class="codeph">WHEN</code>条件。
                  </p>
                  <p><span class="bold">ALL</span> <span class="bold"><span class="italic">into_clause</span></span></p>
                  <p>指定<code class="codeph">ALL</code>后跟多个<span class="italic"><code class="codeph">insert_into_clauses</code></span>以执行<span class="bold">无条件多表插入</span> 。Oracle数据库为子查询返回的每一行执行一次<span class="italic"><code class="codeph">insert_into_clause</code></span> 。
                  </p>
                  <p><span class="bold"><span class="italic">conditional_insert_clause</span></span></p>
                  <p>指定<span class="italic"><code class="codeph">conditional_insert_clause</code></span>以执行<span class="bold">条件多表插入</span> 。Oracle数据库通过相应的<code class="codeph">WHEN</code>条件筛选每个<span class="italic"><code class="codeph">insert_into_clause</code></span> ，该条件确定是否执行了<span class="italic"><code class="codeph">insert_into_clause</code></span> 。<code class="codeph">WHEN</code>条件中的每个表达式都必须引用子查询的选择列表返回的列。单个多表插入语句最多可包含127个<code class="codeph">WHEN</code>子句。
                  </p>
                  <p><span class="bold">所有</span></p>
                  <p>如果指定<code class="codeph">ALL</code> （默认值），则数据库将评估每个<code class="codeph">WHEN</code>子句，而不管任何其他<code class="codeph">WHEN</code>子句的评估结果如何。对于条件计算结果为true的每个<code class="codeph">WHEN</code>子句，数据库将执行相应的<code class="codeph">INTO</code>子句列表。
                  </p>
                  <p><span class="bold">第一</span></p>
                  <p>如果指定<code class="codeph">FIRST</code> ，则数据库按照它在语句中出现的顺序计算每个<code class="codeph">WHEN</code>子句。对于计算结果为true的第一个<code class="codeph">WHEN</code>子句，数据库执行相应的<code class="codeph">INTO</code>子句并跳过给定行的后续<code class="codeph">WHEN</code>子句。
                  </p>
                  <p><span class="bold">ELSE条款</span></p>
                  <p>对于给定的行，如果没有<code class="codeph">WHEN</code>子句的计算结果为true，则：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果已指定<code class="codeph">ELSE</code>子句，则数据库将执行与<code class="codeph">ELSE</code>子句关联的<code class="codeph">INTO</code>子句列表。
                        </p>
                     </li>
                     <li>
                        <p>如果未指定else子句，则数据库不对该行执行任何操作。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-F1B05562-AD15-403F-B906-A140DEC65E3B">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“多表<a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2125362">插入：示例</a> ”</span></p>
                  </div>
                  <p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2080134"><span class="bold">多重插入的限制</span></p>
                  <p>多种插入符合以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您只能在表上执行多表插入，而不能在视图或物化视图上执行。</p>
                     </li>
                     <li>
                        <p>您无法在远程表中执行多表插入。</p>
                     </li>
                     <li>
                        <p>执行多表插入时，不能指定<code class="codeph">TABLE</code>集合表达式。
                        </p>
                     </li>
                     <li>
                        <p>如果任何目标表是索引组织的，或者任何目标表上定义了位图索引，则不会并行化多表插入。</p>
                     </li>
                     <li>
                        <p>多表插入语句不支持计划稳定性。</p>
                     </li>
                     <li>
                        <p>您不能在多表插入语句的任何部分中指定序列。多表插入被视为单个SQL语句。因此，对<code class="codeph">NEXTVAL</code>的第一个引用生成下一个数字，并且语句中的所有后续引用返回相同的数字。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-1DB0B423-DC07-4B3C-B1CA-C836DF43272A"><span class="italic">子查询</span></p>
                  <p>指定一个子查询，该子查询返回插入表中的行。子查询可以引用任何表，视图或物化视图，包括<code class="codeph">INSERT</code>语句的目标表。如果子查询不选择任何行，则数据库不会在表中插入任何行。
                  </p>
                  <p>您可以将<span class="italic"><code class="codeph">subquery</code></span>与<code class="codeph">TO_LOB</code>函数结合使用，将<code class="codeph">LONG</code>列中的值转换为同一表或另一个表中另一列中的LOB值。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>要将<code class="codeph">LONG</code>值迁移到视图中另一列的LOB值，必须在基表上执行迁移，然后将LOB列添加到视图中。
                        </p>
                     </li>
                     <li>
                        <p>要将远程表上的<code class="codeph">LONG</code>值迁移到本地表中的LOB值，必须使用<code class="codeph">TO_LOB</code>函数在远程表上执行迁移，然后执行<code class="codeph">INSERT</code> ... <span class="italic"><code class="codeph">subquery</code></span>操作以将LOB值从远程表复制到本地表。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">有关使用子查询插入的注意事项</span></p>
                  <p>使用子查询插入时，以下注释适用：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果<span class="italic"><code class="codeph">subquery</code></span>返回实例化视图的部分或全部等效项，则数据库可以使用实例化视图进行查询重写，以代替<span class="italic"><code class="codeph">subquery</code></span>指定的一个或多个表。
                        </p>
                        <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-08CEC9FC-C81A-46E6-841E-A6293542DA35">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="italic">Oracle数据库数据仓库指南</span> <span class="bold"> </span>有关<a href="../dwhsg/index.html" target="_blank">物化视图</a>和<a href="../dwhsg/index.html" target="_blank">查询重写的</a>更多信息</p>
                        </div>
                     </li>
                     <li>
                        <p>如果<span class="italic"><code class="codeph">subquery</code></span>引用远程对象，则只要引用不循环回本地数据库上的对象， <code class="codeph">INSERT</code>操作就可以并行运行。但是，如果<span class="italic"><code class="codeph">DML_table_expression_clause</code></span>的<span class="italic"><code class="codeph">subquery</code></span>引用任何远程对象，则<code class="codeph">INSERT</code>操作将在没有通知的情况下串行运行。有关更多信息，请参见<span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2159323">parallel_clause</a></span> 。
                        </p>
                     </li>
                     <li>
                        <p>如果<span class="italic"><code class="codeph">subquery</code></span>包含<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句，则它将覆盖使用属性聚类表属性指定的行排序。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-3FE9F40D-7583-4784-BADB-276685FCB414">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2126076">使用子查询插入值：示例</a> ”</span></p>
                        </li>
                        <li>
                           <p><a href="BFILENAME.html#GUID-1F767077-7C26-4962-9833-1433F1749621">BFILENAME</a>用于插入<code class="codeph">BFILE</code>的示例</p>
                        </li>
                        <li>
                           <p>有关初始化<code class="codeph">BFILE</code>的信息，请<code class="codeph">BFILE</code> <a href="../adlob/LOB-APIs-for-BFILE-operations.html#ADLOB012" target="_blank"><span class="italic">Oracle Database SecureFiles和Large Objects Developer's Guide</span></a></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="About-SQL-Expressions.html#GUID-68789A5C-B142-496F-ADEE-837F75F95B2B">关于SQL表达式</a> ”</span>和<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6">SELECT</a>表示有效表达式的语法</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__BGBEIACB">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-78E02D8C-B0F0-49AA-9D86-618AD983B5DE"><span class="italic">error_logging_clause</span></p>
                  <p><a id="d415345e2018" class="indexterm-anchor"></a><a id="d415345e2022" class="indexterm-anchor"></a> <span class="italic"><code class="codeph">error_logging_clause</code></span>允许您捕获受影响行的DML错误和日志列值，并将它们保存在错误记录表中。
                  </p>
                  <p><span class="bold">INTO</span> <span class="bold"><span class="italic">表</span></span></p>
                  <p>指定错误记录表的名称。如果省略此子句，则数据库将分配<code class="codeph">DBMS_ERRLOG</code>包生成的默认名称。缺省错误日志表名称是<code class="codeph">ERR$_</code>后跟正在执行DML操作的表名称的前25个字符。
                  </p>
                  <p><span class="bold"><span class="italic">simple_expression</span></span></p>
                  <p>指定要用作语句标记的值，以便可以在错误日志记录表中标识此语句中的错误。表达式可以是文本文字，数字文字或一般SQL表达式，如绑定变量。如果将函数表达式转换为文本文字，也可以使用函数表达式 - 例如， <code class="codeph">TO_CHAR(SYSDATE)</code> 。
                  </p>
                  <p><span class="bold">拒绝限制</span></p>
                  <p>此子句允许您指定一个整数作为语句终止之前要记录的错误数的上限，并回滚该语句所做的任何更改。默认拒绝限制为零。对于并行DML操作，拒绝限制应用于每个并行服务器。</p>
                  <p><span class="bold">DML错误记录的限制</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>以下条件导致语句失败并回滚而不调用错误日志记录功能：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>违反延迟约束。</p>
                           </li>
                           <li>
                              <p>任何引发唯一约束或索引违例的直接路径<code class="codeph">INSERT</code>或<code class="codeph">MERGE</code>操作。
                              </p>
                           </li>
                           <li>
                              <p>任何引发唯一约束或索引冲突的更新操作<code class="codeph">UPDATE</code>或<code class="codeph">MERGE</code> 。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>您无法在<code class="codeph">LONG</code> ，LOB或对象类型列的错误记录表中跟踪错误。但是，作为DML操作目标的表可以包含这些类型的列。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果您创建或修改相应的错误记录表，以使其包含不受支持类型的列，并且该列的名称对应于目标DML表中不受支持的列，则DML语句将在分析时失败。</p>
                           </li>
                           <li>
                              <p>如果错误记录表不包含任何不受支持的列类型，则会记录所有DML错误，直到达到拒绝的错误限制。对于发生错误的行，将记录错误记录表中具有相应列的列值以及控制信息。</p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-3D5F7CBB-7C1E-468A-822D-2FF30376A6BE">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../arpls/DBMS_ERRLOG.html#ARPLS680" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a>有关使用<code class="codeph">DBMS_ERRLOG</code>包的<code class="codeph">create_error_log</code>过程和<a href="../admin/managing-tables.html#ADMIN10261" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a>的信息，以获取有关DML错误记录的一般信息。
                           </p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__BCEGDJDJ">插入带有错误记录的表：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2145081">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-792E865E-70F1-4DC2-BC03-CC0F774A181C">例子</p>
                  <p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2145074"><span class="bold">将值插入表中：示例</span> s</p>
                  <p>以下语句在示例表<code class="codeph">departments</code>插入一行：</p><pre class="oac_no_warn" dir="ltr">插入部门VALUES（280，'Recreation'，121,1700）;</pre><p>如果已为<code class="codeph">manager_id</code>列创建了缺省值为121的<code class="codeph">departments</code>表，则可以发出如下相同的语句：</p><pre class="oac_no_warn" dir="ltr">插入部门VALUES（280，'Recreation'，DEFAULT，1700）;</pre><p>以下语句将一个包含六列的行插入<code class="codeph">employees</code>表中。其中一列被指定为<code class="codeph">NULL</code> ，另一列被分配了科学计数法中的数字：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO员工（employee_id，last_name，email，hire_date，job_id，salary，commission_pct）VALUES（207，'Gregory'，'pgregory @ example.com'，sysdate，'PU_CLERK'，1.2E3，NULL）;</pre><p>以下语句与前面的示例具有相同的效果，但在<span class="italic"><code class="codeph">DML_table_expression_clause</code></span>使用子查询：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO（SELECT employee_id，last_name，email，hire_date，job_id，salary，commission_pct FROM employees）VALUES（207，'Gregory'，'pgregory @ example.com'，sysdate，'PU_CLERK'，1.2E3，NULL）;</pre><p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2126076"><span class="bold">使用子查询插入值：示例</span></p>
                  <p>以下声明将佣金超过工资25％的员工复制到<code class="codeph">bonuses</code>表中，该表在<span class="q">“ <a href="MERGE.html#GUID-5692CCB7-24D9-4C0E-81A7-A22436DC968F__I2091840">合并到表：示例</a> ”中创建</span> ：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO奖金SELECT employee_id，salary * 1.1 FROM employees WHERE commission_pct&gt; 0.25;</pre><p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__BCEGDJDJ"><span class="bold">插入带有错误记录的表：示例</span></p>
                  <p>以下语句创建一个<code class="codeph">raises</code>在示例模式表<code class="codeph">hr</code> ，创建使用一个错误记录表<code class="codeph">DBMS_ERRLOG</code>包，并填充<code class="codeph">raises</code>与来自数据表<code class="codeph">employees</code>表。其中一个插入违反了<code class="codeph">raises</code>的检查约束，并且该行可以在<code class="codeph">errlog</code>看到。如果发生了十多个错误，那么语句将中止，回滚所做的任何插入：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE引发（emp_id NUMBER，sal NUMBER CONSTRAINT check_sal CHECK（sal&gt; 8000））; EXECUTE DBMS_ERRLOG.CREATE_ERROR_LOG（'raises'，'errlog'）;</pre><pre class="oac_no_warn" dir="ltr">INSERT INTO引发SELECT employee_id，salary * 1.1 FROM employees WHERE commission_pct&gt; .2 LOG ERRORS INTO errlog（'my_bad'）REJECT LIMIT 10; SELECT ORA_ERR_MESG $，ORA_ERR_TAG $，emp_id，sal FROM errlog; ORA_ERR_MESG $ ORA_ERR_TAG $ EMP_ID SAL --------------------------- ----------------- --- ------ ------- ORA-02290：检查约束my_bad 161 7700（HR.SYS_C004266）违反</pre><p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2126166"><span class="bold">插入远程数据库：示例</span></p>
                  <p>以下语句在数据库链接<code class="codeph">remote</code>可访问的数据库上的用户<code class="codeph">hr</code>所拥有的<code class="codeph">employees</code>表中插入一行：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO员工@远程VALUES（8002，'Juan'，'Fernandez'，'juanf @ example.com'，NULL，TO_DATE（'04 -OCT-1992'，'DD-MON-YYYY'），'SH_CLERK'， 3000，NULL，121,20）;</pre><p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2102477"><span class="bold">插入序列值：示例</span></p>
                  <p>以下语句将包含<code class="codeph">departments_seq</code>序列的下一个值的新行插入<code class="codeph">departments</code>表：</p><pre class="oac_no_warn" dir="ltr">插入部门VALUES（departments_seq.nextval，'Entertainment'，162,1400）;</pre><p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2126188"><span class="bold">使用绑定变量插入：示例</span></p>
                  <p>以下示例将插入的行的值返回到输出绑定变量： <code class="codeph">bnd1</code>和： <code class="codeph">bnd2</code> 。必须首先声明绑定变量。
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO员工（employee_id，last_name，email，hire_date，job_id，salary）VALUES（employees_seq.nextval，'Doe'，'john.doe @ example.com'，SYSDATE，'SH_CLERK'，2400）返回工资* 12，job_id INTO：bnd1，：bnd2;</pre><p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2085891"><span class="bold">插入可替换的表和列：示例</span></p>
                  <p>以下示例插入到<code class="codeph">persons</code>表中，该表在<span class="q">“可<a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2090577">替换表和列示例</a> ”中创建</span> 。第一个语句使用根类型<code class="codeph">person_t</code> 。第二个插入使用<code class="codeph">person_t</code>的<code class="codeph">employee_t</code>子类型，第三个插入使用<code class="codeph">employee_t</code>的<code class="codeph">part_time_emp_t</code>子类型：</p><pre class="oac_no_warn" dir="ltr">插入人员值（person_t（'Bob'，1234））;插入人员值（employee_t（'Joe'，32456,12,100000））;插入人员VALUES（part_time_emp_t（'Tim'，5678,13,1000,20））;</pre><p>以下示例插入<code class="codeph">books</code>表中，该表在<span class="q">“可<a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2090577">替换表和列示例</a> ”中创建</span> 。请注意，属性值的规范与可替换表示例的规范相同：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO books VALUES（'An Autobiography'，person_t（'Bob'，1234））; INSERT INTO books VALUES（'Business Rules'，employee_t（'Joe'，3456,12,10000））; INSERT INTO books VALUES（'Mixing School and Work'，part_time_emp_t（'Tim'，5678,13,1000,20））;</pre><p>您可以使用内置函数和条件从可替换表和列中提取数据。有关示例，请参阅<a href="TREAT.html#GUID-037C0CD3-C256-4A02-80E0-C6F15147C5BF">TREAT</a>和<a href="SYS_TYPEID.html#GUID-4E3D45A1-7433-495D-9062-88505A1496E0">SYS_TYPEID</a>函数以及<span class="q">“ <a href="IS-OF-type-Condition.html#GUID-7254E4C7-0194-4C1F-A3B2-2CFB0AD907CD">IS OF type Condition</a> ”</span> 。
                  </p>
                  <p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2085882"><span class="bold">使用TO_LOB函数插入：示例</span></p>
                  <p>以下示例将<code class="codeph">LONG</code>数据复制到以下<code class="codeph">long_tab</code>表中的LOB列：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE long_tab（pic_id NUMBER，long_pics LONG RAW）;</pre><p>首先，您必须创建一个包含LOB的表。</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE lob_tab（pic_id NUMBER，lob_pics BLOB）;</pre><p>接下来，使用<code class="codeph">INSERT</code> ...<code class="codeph">SELECT</code>语句将<code class="codeph">LONG</code>列的所有行中的数据复制到新创建的LOB列中：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO lob_tab SELECT pic_id，TO_LOB（long_pics）FROM long_tab;</pre><p>如果您确信迁移成功，则可以删除<code class="codeph">long_pics</code>表。或者，如果表包含其他列，则只需从表中删除<code class="codeph">LONG</code>列，如下所示：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE long_tab DROP COLUMN long_pics;</pre><p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2125362"><span class="bold">多表插入：示例</span><a id="d415345e2355" class="indexterm-anchor"></a><a id="d415345e2361" class="indexterm-anchor"></a></p>
                  <p>以下示例使用多表示插入语法将<code class="codeph">sh.sales</code>一些数据插入到示例表中，这些数据来自具有不同结构的输入表。
                  </p>
                  <div class="infoboxnote" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-2D39698E-202A-4727-B77F-D3C790B3DFB4">
                     <p class="notep1">注意：</p>
                     <p>出于此示例的目的，已禁用<code class="codeph">sales</code>表上的许多<code class="codeph">NOT</code> <code class="codeph">NULL</code>约束，因为为简洁起见，该示例忽略了许多表列。
                     </p>
                  </div>
                  <p>输入表如下所示：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM sales_input_table;</pre><pre class="oac_no_warn" dir="ltr">PRODUCT_ID CUSTOMER_ID WEEKLY_ST SALES_SUN SALES_MON SALES_TUE SALES_WED SALES_THU SALES_FRI SALES_SAT ---------- ----------- --------- ---------- ---------- ---------- -------------------- ---------- ---------- 111 222 01-OCT-00 100 200 300 400 500 600 700 222 333 08-OCT-00 200 300 400 500 600 700 800 333 444 15-OCT-00 300 400 500 600 700 800 900</pre><pre class="oac_no_warn" dir="ltr"></pre><p>multitable insert语句如下所示：</p><pre class="oac_no_warn" dir="ltr">INSERT ALL INTO sales（prod_id，cust_id，time_id，amount）VALUES（product_id，customer_id，weekly_start_date，sales_sun）INTO sales（prod_id，cust_id，time_id，amount）VALUES（product_id，customer_id，weekly_start_date + 1，sales_mon）INTO sales（prod_id） ，cust_id，time_id，amount）VALUES（product_id，customer_id，weekly_start_date + 2，sales_tue）INTO销售（prod_id，cust_id，time_id，金额）VALUES（product_id，customer_id，weekly_start_date + 3，sales_wed）INTO销售（prod_id，cust_id，time_id） ，金额）VALUES（product_id，customer_id，weekly_start_date + 4，sales_thu）INTO销售（prod_id，cust_id，time_id，金额）VALUES（product_id，customer_id，weekly_start_date + 5，sales_fri）INTO销售（prod_id，cust_id，time_id，金额）VALUES （product_id，customer_id，weekly_start_date + 6，sales_sat）SELECT product_id，customer_id，weekly_start_date，sales_sun，sales_mon，sales_tue，sales_wed，sales_thu，sales_fri，sales_sat FROM sales_input_table;</pre><p>假设这些是<code class="codeph">sales</code>表中的唯一行，现在的内容如下所示：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM sales ORDER BY prod_id，cust_id，time_id; PROD_ID CUST_ID TIME_ID C PROMO_ID QUANTITY_SOLD AMOUNT COST ---------- ---------- ---------  -  ----------- ----------- ---------- ---------- 111 222 01-OCT-00 100 111 222 02-OCT-00 200 111 222 03 -OCT-00 300 111 222 04-OCT-00 400 111 222 05-OCT-00 500 111 222 06-OCT-00 600 111 222 07-OCT-00 700 222 333 08-OCT-00 200 222 333 09-OCT -00 300 222 333 10-OCT-00 400 222 333 11-OCT-00 500 222 333 12-OCT-00 600 222 333 13-OCT-00 700 222 333 14-OCT-00 800 333 444 15-OCT-00 300 333 444 16-OCT-00 400 333 444 17-OCT-00 500 333 444 18-OCT-00 600 333 444 19-OCT-00 700 333 444 20-OCT-00 800 333 444 21-OCT-00 900</pre><p>下一个示例插入到多个表中。假设您想向销售代表提供有关各种尺寸订单的一些信息。以下示例为小型，中型，大型和特殊订单创建表，并使用示例表<code class="codeph">oe.orders</code>数据填充这些表：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE small_orders（order_id NUMBER（12）NOT NULL，customer_id NUMBER（6）NOT NULL，order_total NUMBER（8,2），sales_rep_id NUMBER（6））; CREATE TABLE medium_orders AS SELECT * FROM small_orders; CREATE TABLE large_orders AS SELECT * FROM small_orders; CREATE TABLE special_orders（order_id NUMBER（12）NOT NULL，customer_id NUMBER（6）NOT NULL，order_total NUMBER（8,2），sales_rep_id NUMBER（6），credit_limit NUMBER（9,2），cust_email VARCHAR2（40））;</pre><p>第一个多表插入仅填充小，中和大订单的表：</p><pre class="oac_no_warn" dir="ltr">INSERT ALL WHEN order_total &lt;= 100000然后进入small_orders WHEN order_total&gt; 1000000 AND order_total &lt;= 200000那么INTO中等订单WHEN order_total&gt; 200000那么INTO large_orders SELECT order_id，order_total，sales_rep_id，customer_id FROM orders;</pre><p>您可以使用<code class="codeph">ELSE</code>子句代替插入到<code class="codeph">large_orders</code>表中来完成相同的操作：</p><pre class="oac_no_warn" dir="ltr">INSERT ALL WHEN order_total &lt;= 100000 THEN INTO small_orders WHEN order_total&gt; 100000 AND order_total &lt;= 200000 THEN INTO medium_orders ELSE INTO large_orders SELECT order_id，order_total，sales_rep_id，customer_id FROM orders;</pre><p>下一个示例插入到小型，中型和大型表中，如前面的示例所示，并且还将大于290,000的订单放入<code class="codeph">special_orders</code>表中。此表还显示了如何使用列别名来简化语句：</p><pre class="oac_no_warn" dir="ltr">插入所有当ottl &lt;= 100000然后进入small_orders VALUES（oid，ottl，sid，cid）当ottl&gt; 100000并且ottl &lt;= 200000然后进入medium_orders VALUES（oid，ottl，sid，cid）WHEN ottl&gt; 200000那么进入large_orders VALUES （oid，ottl，sid，cid）WHEN ottl&gt; 290000那么INTO special_orders SELECT o.order_id oid，o.customer_id cid，o.order_total ottl，o.sales_rep_id sid，c.credit_limit cl，c.cust_email cem FROM orders o，客户c WHERE o.customer_id = c.customer_id;</pre><p>最后，下一个示例使用<code class="codeph">FIRST</code>子句将大于290,000的订单放入<code class="codeph">special_orders</code>表中，并从<code class="codeph">large_orders</code>表中排除这些订单：</p><pre class="oac_no_warn" dir="ltr">首先插入ottl &lt;= 100000然后进入small_orders VALUES（oid，ottl，sid，cid）当ottl&gt; 100000且ottl &lt;= 200000然后进入medium_orders VALUES（oid，ottl，sid，cid）WHEN ottl&gt; 290000然后进入special_orders WHEN ottl&gt; 200000那么INTO large_orders VALUES（oid，ottl，sid，cid）SELECT o.order_id oid，o.customer_id cid，o.order_total ottl，o.sales_rep_id sid，c.credit_limit cl，c.cust_email cem FROM orders o，客户c WHERE o.customer_id = c.customer_id;</pre><p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__P-132663-CE7C9915"><span class="bold">使用单个语句插入多行：示例</span></p>
                  <p>以下语句创建了三个名为people，patient和staff的表：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE people（person_id INTEGER NOT NULL PRIMARY KEY，given_name VARCHAR2（100）NOT NULL，family_name VARCHAR2（100）NOT NULL，title VARCHAR2（20），birth_date DATE）; CREATE TABLE患者（patient_id INTEGER NOT NULL PRIMARY KEY REFERENCES people（person_id），last_admission_date DATE）; CREATE TABLE staff（staff_id INTEGER NOT NULL PRIMARY KEY REFERENCES people（person_id），hired_date DATE）;</pre><p>以下语句在people表中插入一行：</p><pre class="oac_no_warn" dir="ltr">插入人物价值观（1，'Dave'，'Badger'，'Mr'，date'1960-05-01'）;</pre><p>以下语句返回错误，因为没有为birth_date列提供值：</p><pre class="oac_no_warn" dir="ltr">插入人们的价值观（2，'西蒙'，'福克斯'，'先生'）;</pre><p>以下语句在people表中插入一行：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO人（person_id，given_name，family_name，title）VALUES（2，'Simon'，'Fox'，'Mr'）;</pre><p>以下语句在people表中插入一行，并通过从双表中选择一个静态值来填充title列的值：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO人（person_id，given_name，family_name，title）VALUES（3，'Dave'，'Frog'，（SELECT'Mr'FOR dual））;</pre><p>以下语句使用'SELECT'语句将多行插入到stable中：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO人（person_id，given_name，family_name，title）名称为AS（SELECT 4，'Ruth'，'Fox'，'Mrs'来自双UNION ALL SELECT 5，'Isabelle'，'Squirrel'，'Miss'FROM dual UNION ALL SELECT 6，'Justin'，'Frog'，'Master'来自双UNION ALL SELECT 7，'Lisa'，'Owl'，'Dr'FROM dual）SELECT * FROM names;</pre><p>以下语句回滚所有以前的DML操作：</p><pre class="oac_no_warn" dir="ltr">ROLLBACK;</pre><p>以下语句使用带有'WHERE'条件的'SELECT'语句将多行插入到people表中：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO人（person_id，given_name，family_name，title）名称为AS（SELECT 4，'Ruth'，'Fox'tyam_name，'Mrs'FROM dual UNION ALL SELECT 5，'Isabelle'，'Squirrel'tyam_name，'Miss'来自双UNION ALL SELECT 6，'Justin'，'Frog'tymily_name，'Master'来自双UNION ALL SELECT 7，'Lisa'，'Owl'tyal_name，'Dr'FROM双重）SELECT * FROM names WHERE family_name LIKE'F ％';</pre><p>以下语句回滚所有以前的DML操作：</p><pre class="oac_no_warn" dir="ltr">ROLLBACK;</pre><p>以下语句使用“INSERT ALL”语句在人员，患者和员工表中插入多行：</p><pre class="oac_no_warn" dir="ltr">INSERT ALL / *每个人都是* / INTO人（person_id，given_name，family_name，title）VALUES（id，given_name，family_name，title）INTO患者（patient_id，last_admission_date）VALUES（id，admission_date）INTO工作人员（staff_id， hired_date）VALUES（id，hired_date）WITH names AS（SELECT 4 id，'Ruth'adive_name，'Fox'sily_name，'Mrs'title，NULL hired_date，DATE'2009-12-31'concept_date FROM dual UNION ALL SELECT 5 id ，'Isabelle'adgate_name，'Squirrel'family_name，'Miss'title，NULL hired_date，DATE'2014-01-01'concess_date FROM dual UNION ALL SELECT 6 id，'Justin'adive_name，'Frog'tyam_name，'Master'title ，NULL hired_date，DATE'2015-04-22'recess_date FROM双UNION ALL SELECT 7 id，'Lisa'adive_name，'Owl'hermate_name，'Dr'标题，DATE'2015-01-01'hired_date，NULL admission_date FROM dual ）SELECT * FROM names;</pre><p>以下语句回滚所有以前的DML操作：</p><pre class="oac_no_warn" dir="ltr">ROLLBACK;</pre><p>以下语句使用具有各种条件的“INSERT ALL”语句在人员，患者和员工表中插入多行：</p><pre class="oac_no_warn" dir="ltr">INSERT ALL / *每个人都是一个人，所以将所有行插入人* / WHEN 1 = 1那么INTO人（person_id，given_name，family_name，title）VALUES（id，given_name，family_name，title）/ *只有入场的人日期是患者* / WHEN admission_date IS NOT NULL那么INTO患者（patient_id，last_admission_date）VALUES（id，admission_date）/ *只有雇用日期的人员是* / WHEN hired_date IS NOT NULL那么INTO工作人员（staff_id，hired_date）VALUES （id，hired_date）WITH names AS（SELECT 4 id，'Ruth'adive_name，'Fox'sily_name，'Mrs'title，NULL hired_date，DATE'2009-12-31'concept_date FROM dual UNION ALL SELECT 5 id，'Isabelle 'given_name，'Squirrel'herily_name，'Miss'标题，NULL hired_date，DATE'2014-01-01'concess_date来自双UNION ALL SELECT 6 id，'Justin'adsent_name，'Frog'tyam_name，'Master'标题，NULL hired_date ，DATE'2015-04-22'recess_date FROM双UNION ALL SELECT 7 id，'Lisa'adid_name，'Owl'tyal_name，'Dr'标题，DATE'2015-01-01' hired_date，NULL admission_date FROM dual）SELECT * FROM names;</pre><div class="infoboxnote" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-6BB67B09-A495-429B-9966-D960D54F0965">
                     <p class="notep1">实时SQL：</p>
                     <p>在<a href="https://livesql.oracle.com/apex/livesql/docs/sqlrf/insert/multitable.html" target="_blank"><span class="italic">使用单个语句插入多行时</span></a>查看并运行Oracle Live SQL上的相关示例</p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="05824.querying-dimensional-objects.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>查询尺寸对象</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="olap-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T13:54:33-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96405-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="creating-dimensions-and-cubes.html" title="Previous" type="text/html"></link>
      <link rel="next" href="enhancing-your-database-analytic-content.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OLAP User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OLAUG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="creating-dimensions-and-cubes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="enhancing-your-database-analytic-content.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">查询尺寸对象</li>
            </ol>
            <a id="GUID-D5DCEB00-B14B-4AC9-A9BD-05FB72B942BB" name="GUID-D5DCEB00-B14B-4AC9-A9BD-05FB72B942BB"></a><a id="OLAUG400"></a>
            
            <h2 id="OLAUG-GUID-D5DCEB00-B14B-4AC9-A9BD-05FB72B942BB" class="sect2"><span class="enumeration_chapter">4</span>查询维对象</h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d12486e48" class="indexterm-anchor"></a> Oracle OLAP通过提供广泛的分析内容和快速查询响应时间，为您的SQL应用程序增添了强大功能。SQL查询接口使任何应用程序都可以在不了解OLAP的情况下查询多维数据集和维度。</p>
               <p>OLAP选项自动生成有关多维数据集，维度和层次结构的一组关系视图。SQL应用程序查询这些视图以向分析师和决策者显示这些对象的信息丰富内容。您还可以使用系统生成的视图（如基表）创建遵循应用程序预期结构的自定义视图。</p>
               <p>在本章中，您将学习在SQL中查询维对象的基本方法。它包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-5B4C57CC-9A50-48E4-8E3F-8168CE82B5B1">探索OLAP视图</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-04DEC03F-3E6E-4435-840F-FF49FD2CA078">创建基本查询</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-D74AA467-2DEC-4F1B-A8C1-DDBEEBB89808">创建分层查询</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-0A165A1E-4F52-4955-9E6E-DEAD37C8F65A">在查询中使用计算</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-08A8F74B-779F-425C-A148-A7070C7E384C">使用属性进行聚合</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8">将多维数据集连接到表和视图</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678">查看执行计划</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288">查询数据字典</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-D5DCEB00-B14B-4AC9-A9BD-05FB72B942BB__GUID-81BD23D3-A0B0-4C2B-B073-E78DAD1C16A9">
                  <p class="notep1">也可以看看：</p>
                  <p></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="overview.html#GUID-BAC5B092-45CA-40E1-BDDC-C1645FCAB8C7">使用SQL工具和应用程序构建器开发报表和仪表板</a> ”，</span>用于使用Oracle Application Express创建的示例仪表板</p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="overview.html#GUID-EF116DF0-2536-470B-ACC3-A0253327A10B">维度数据模型概述</a> ”，</span>用于讨论多维数据集，维度和层次结构</p>
                     </li>
                  </ul>
               </div>
            </div><a id="OLAUG9159"></a><div class="props_rev_3"><a id="GUID-5B4C57CC-9A50-48E4-8E3F-8168CE82B5B1" name="GUID-5B4C57CC-9A50-48E4-8E3F-8168CE82B5B1"></a><h3 id="OLAUG-GUID-5B4C57CC-9A50-48E4-8E3F-8168CE82B5B1" class="sect3"><span class="enumeration_section">4.1</span>探索OLAP视图</h3>
               <div>
                  <p>系统生成的视图在与分析工作区相同的模式中创建。Oracle OLAP提供三种类型的视图：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>多维数据集视图</p>
                     </li>
                     <li>
                        <p>维度视图</p>
                     </li>
                     <li>
                        <p>层次结构视图</p>
                     </li>
                  </ul>
                  <p>这些视图的相关方式与事实和维度表在星型模式中的相关。多维数据集视图与事实表具有相同的功能，层次结构视图和维度视图与维度表具有相同的功能。典型查询使用层次结构视图或维度视图连接多维数据集视图。</p>
               </div><a id="OLAUG9160"></a><div class="props_rev_3"><a id="GUID-40B1102B-BAC0-492D-8EDA-279E1864EBC7" name="GUID-40B1102B-BAC0-492D-8EDA-279E1864EBC7"></a><h4 id="OLAUG-GUID-40B1102B-BAC0-492D-8EDA-279E1864EBC7" class="sect4"><span class="enumeration_section">4.1.1</span>多维数据集视图</h4>
                  <div>
                     <p><a id="d12486e226" class="indexterm-anchor"></a>每个多维数据集都有一个多维数据集视图，用于显示多维数据集中所有度量和计算度量的数据。您可以在星型或雪花模式中使用像事实表一样的多维数据集视图。但是，除了详细级别数据之外，多维数据集视图还包含所有摘要数据。
                     </p>
                  </div><a id="OLAUG9161"></a><div class="props_rev_3"><a id="GUID-761EABC0-3F23-4A5F-8876-53AF3B4521CE" name="GUID-761EABC0-3F23-4A5F-8876-53AF3B4521CE"></a><h5 id="OLAUG-GUID-761EABC0-3F23-4A5F-8876-53AF3B4521CE" class="sect5"><span class="enumeration_section">4.1.1.1</span>发现多维数据集视图的名称</h5>
                     <div>
                        <div class="section">
                           <p>多维数据集视图的默认名称是<span class="italic"><code class="codeph">cube</code></span> <code class="codeph">_VIEW</code> 。要在模式中查找<code class="codeph">UNITS_CUBE</code>的视图，您可以发出如下所示的查询：</p><pre class="oac_no_warn" dir="ltr">SELECT view_name FROM user_views WHERE view_name LIKE'UNITS_CUBE％'; VIEW_NAME ------------------------------ UNITS_CUBE_VIEW</pre><p>下一个查询从<code class="codeph">USER_CUBE_VIEWS</code>返回架构中所有多维数据集视图的名称：</p><pre class="oac_no_warn" dir="ltr">SELECT view_name FROM user_cube_views; VIEW_NAME ------------------------------ UNITS_CUBE_VIEW PRICE_CUBE_VIEW</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9162"></a><div class="props_rev_3"><a id="GUID-51382A75-3CE7-4A99-A5D9-7BBE1C040C2D" name="GUID-51382A75-3CE7-4A99-A5D9-7BBE1C040C2D"></a><h5 id="OLAUG-GUID-51382A75-3CE7-4A99-A5D9-7BBE1C040C2D" class="sect5"><span class="enumeration_section">4.1.1.2</span>发现多维数据集视图的列</h5>
                     <div>
                        <div class="section">
                           <p>与事实表一样，多维数据集视图包含每个度量的列，计算的度量和多维数据集中的维度。在下面的例子中， <code class="codeph">UNITS_CUBE_VIEW</code>有列<code class="codeph">SALES</code> ， <code class="codeph">UNITS</code>和<code class="codeph">COST</code>的措施，在几个计算度量<code class="codeph">SALES</code> ，并为<code class="codeph">TIME</code> ， <code class="codeph">CUSTOMER</code> ， <code class="codeph">PRODUCT</code>和<code class="codeph">CHANNEL</code>尺寸。
                           </p><pre class="oac_no_warn" dir="ltr">DESCRIBE units_cube_view名称是否为空？输入----------------------------------------- -------- ----------------------------销售编号单位编号成本编号SALES_PP编号SALES_CHG_PP编号SALES_PCTCHG_PP编号SALES_PROD_SHARE_PARENT编号SALES_PROD_SHARE_TOTAL编号SALES_PROD_RANK_PARENT_PP编号TIME VARCHAR2（100 ）CUSTOMER VARCHAR2（100）PRODUCT VARCHAR2（100）CHANNEL VARCHAR2（100）</pre><p>该<a id="d12486e383" class="indexterm-anchor"></a> <code class="codeph">USER_CUBE_VIEW_COLUMNS</code>数据字典视图描述了多维数据集视图的列，如以下查询所示。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT column_name，column_type FROM user_cube_view_columns WHERE view_name ='UNITS_CUBE_VIEW'; COLUMN_NAME COLUMN_TYPE ------------------------------ --------------销售测量单位测量成本测量SALES_PP测量SALES_CHG_PP测量SALES_PCTCHG_PP测量SALES_PROD_SHARE_PARENT测量SALES_PROD_SHARE_TOTAL测量SALES_PROD_RANK_PARENT_PP测量时间键客户键产品键槽键选择13行。</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9163"></a><div class="props_rev_3"><a id="GUID-C5C7A142-6DE9-4961-9A62-56C29C422C42" name="GUID-C5C7A142-6DE9-4961-9A62-56C29C422C42"></a><h5 id="OLAUG-GUID-C5C7A142-6DE9-4961-9A62-56C29C422C42" class="sect5"><span class="enumeration_section">4.1.1.3</span>显示多维数据集视图的内容</h5>
                     <div>
                        <div class="section">
                           <p>您可以使用类似这样的查询快速显示多维数据集视图的内容。所有级别的数据都包含在多维数据集中，从详细级别到顶部。</p><pre class="oac_no_warn" dir="ltr">SELECT销售，单位，时间，客户，产品，渠道FROM units_cube_view WHERE ROWNUM &lt;15;销售单位时间客户产品渠道---------- ---------- ---------- ---------- ---- ------ -------- 1120292752 4000968总计总计总计134109248 330425 CY1999总计总计130276514 534069 CY2003总计总计100870877 253816 CY1998总计总计136986572 565718 CY2005总计总计140138317 584929 CY2006总计总计总计144290686 587419 CY2004总计总计124173522 364233 CY2000总计总计92515295 364965 CY2002总计总计116931722 415394 CY2001总计总计31522409.5 88484 CY2000。Q1 TOTAL TOTAL TOTAL总计27798426.6 97346 CY2001。Q2 TOTAL TOTAL TOTAL总计29691668.2 105704 CY2001。Q3总计总计32617248.6 138953 CY2005。Q3 TOTAL TOTAL TOTAL选择了14行。</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="OLAUG9164"></a><div class="props_rev_3"><a id="GUID-21D73E7B-C83E-46AB-B5FB-D6606D9FBF40" name="GUID-21D73E7B-C83E-46AB-B5FB-D6606D9FBF40"></a><h4 id="OLAUG-GUID-21D73E7B-C83E-46AB-B5FB-D6606D9FBF40" class="sect4"><span class="enumeration_section">4.1.2</span>维度和层次结构视图</h4>
                  <div>
                     <p><a id="d12486e495" class="indexterm-anchor"></a>每个维度都有一个维度视图以及与维度关联的每个层次结构的层次结构视图。例如，时间维度可能包含以下三个视图：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>时间维度视图</p>
                        </li>
                        <li>
                           <p>日历层次视图</p>
                        </li>
                        <li>
                           <p>财政层次结构视图</p>
                        </li>
                     </ul>
                     <p><a id="d12486e509" class="indexterm-anchor"></a>您可以在星型模式中使用维度视图和层次结构视图，例如维度表。
                     </p>
                  </div><a id="OLAUG9165"></a><div class="props_rev_3"><a id="GUID-FD878C0D-3D28-4AB4-9033-CB775912B66A" name="GUID-FD878C0D-3D28-4AB4-9033-CB775912B66A"></a><h5 id="OLAUG-GUID-FD878C0D-3D28-4AB4-9033-CB775912B66A" class="sect5"><span class="enumeration_section">4.1.2.1</span>发现维度和层次结构视图的名称</h5>
                     <div>
                        <div class="section">
                           <p><a id="d12486e563" class="indexterm-anchor"></a> <code class="codeph">USER_CUBE_DIM_VIEWS</code>标识所有维度的维度视图。维度视图的默认名称是<span class="italic"><code class="codeph">dimension</code></span> <code class="codeph">_VIEW</code> 。</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM user_cube_dim_views; DIMENSION_NAME VIEW_NAME ------------------------------ ------------------ ------------产品PRODUCT_VIEW CUSTOMER CUSTOMER_VIEW CHANNEL_VIEW TIME TIME_VIEW</pre><p><code class="codeph">USER_CUBE_HIER_VIEWS</code>标识所有维度的层次结构视图。对于层次结构视图，默认名称为<span class="italic"><code class="codeph">dimension_hierarchy</code></span> <code class="codeph">_VIEW</code> 。以下查询返回维度，层次结构和视图名称。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM user_cube_hier_views ORDER BY dimension_name; DIMENSION_NAME HIERARCHY_NAME VIEW_NAME --------------- --------------- ----------------- ------------- CHANNEL PRIMARY CHIMEL_PRIMARY_VIEW客户市场CUSTOMER_MARKET_VIEW CUSTOMER SHIPMENTS CUSTOMER_SHIPMENTS_VIEW产品主要产品_PRIMARY_VIEW时间FISCAL TIME_FISCAL_VIEW时间日历TIME_CALENDAR_VIEW</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9166"></a><div class="props_rev_3"><a id="GUID-D9569EA3-4CCC-4FA0-B693-6843A4B50CA8" name="GUID-D9569EA3-4CCC-4FA0-B693-6843A4B50CA8"></a><h5 id="OLAUG-GUID-D9569EA3-4CCC-4FA0-B693-6843A4B50CA8" class="sect5"><span class="enumeration_section">4.1.2.2</span>发现维视图的列</h5>
                     <div>
                        <div class="section">
                           <p>与维度表类似，维度视图包含键列，级别名称，与维度关联的每个层次结构的每个级别的级别键以及属性列。在以下示例中， <code class="codeph">TIME_VIEW</code>具有维度键，级别名称和维度属性的列。
                           </p><pre class="oac_no_warn" dir="ltr">DESCRIBE time_view名称是否为空？输入----------------------------------------- -------- ---------------------------- DIM_KEY VARCHAR2（100）LEVEL_NAME VARCHAR2（30）DIM_ORDER NUMBER END_DATE DATE LONG_DESCRIPTION VARCHAR2（100）SHORT_DESCRIPTION VARCHAR2（ 100）TIME_SPAN NUMBER</pre><p><code class="codeph">USER_CUBE_DIM_VIEW_COLUMNS</code>描述了每个列中的信息，如此查询中所示。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT column_name，column_type FROM user_cube_dim_view_columns WHERE view_name ='TIME_VIEW'; COLUMN_NAME COLUMN_TYPE ------------------------------ ------------------ -  DIM_KEY KEY LEVEL_NAME LEVEL_NAME DIM_ORDER DIM_ORDER END_DATE属性TIME_SPAN属性LONG_DESCRIPTION属性SHORT_DESCRIPTION属性</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9167"></a><div class="props_rev_3"><a id="GUID-B2DD39FE-594D-485B-8BBD-C49E0C1BB617" name="GUID-B2DD39FE-594D-485B-8BBD-C49E0C1BB617"></a><h5 id="OLAUG-GUID-B2DD39FE-594D-485B-8BBD-C49E0C1BB617" class="sect5"><span class="enumeration_section">4.1.2.3</span>显示维视图的内容</h5>
                     <div>
                        <div class="section">
                           <p>以下查询显示每个维度键的级别和属性。</p><pre class="oac_no_warn" dir="ltr">SELECT dim_key，level_name，long_description description，time_span，end_date FROM time_view WHERE dim_key LIKE'％2005％'; DIM_KEY LEVEL_NAME说明TIME_SPAN END_DATE ------------ -------------------- ------------  - --------- --------- CY2005 CALENDAR_YEAR 2005 365 31-DEC-05 CY2005。Q2 CALENDAR_QUARTER Q2.05 91 30-JUN-05 CY2005。Q4 CALENDAR_QUARTER Q4.05 92 31-DEC-05 CY2005。Q3 CALENDAR_QUARTER Q3.05 92 30-SEP-05 CY2005。Q1 CALENDAR_QUARTER Q1.05 90 31-MAR-05 2005.01月1日 -  5月31日 -  1月 -  05 2005.05月5月5日 -  5月31日 -  5月 -  05日2005年5月31日31日 -  7月5日2005.03月3月3日31-MAR-05 2005.04 MONTH APR-05 30 30-APR-05 2005.08 MONTH 8月31日31-AUG-05 2005.09月9月30日30-SEP-05 2005.02月2月-05 28 28-FEB-05 2005.11 MONV NOV-05 30 30-NOV-05 2005.06 MONTH JUN-05 30 30-JUN-05 2005.10月10月-05 31 31-OCT-05 2005.12月底DEC-05 31 31-DEC-05 FY2005 FISCAL_YEAR FY2005 365 30-JUN -05 2005财年。Q4 FISCAL_QUARTER Q4 FY-05 91 30-JUN-05 FY2005。Q1 FISCAL_QUARTER Q1 FY-05 92 30-SEP-04 FY2005。Q2 FISCAL_QUARTER Q2 FY-05 92 31-DEC-04 FY2005。Q3 FISCAL_QUARTER Q3 FY-05 90 31-MAR-05选择了22行。</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9168"></a><div class="props_rev_3"><a id="GUID-CFCB642B-A2C3-4F5F-BCFA-D6D29527BA1D" name="GUID-CFCB642B-A2C3-4F5F-BCFA-D6D29527BA1D"></a><h5 id="OLAUG-GUID-CFCB642B-A2C3-4F5F-BCFA-D6D29527BA1D" class="sect5"><span class="enumeration_section">4.1.2.4</span>发现层次结构视图的列</h5>
                     <div>
                        <div class="section">
                           <p>与维度视图一样，层次结构视图还包含维度键，级别名称和级别键的列。但是，所有行和列都与属于层次结构的维度键相关联。</p><pre class="oac_no_warn" dir="ltr">DESCRIBE time_calendar_view名称是否为空？输入----------------------------------------- -------- ---------------------------- DIM_KEY VARCHAR2（100）LEVEL_NAME VARCHAR2（30）DIM_ORDER NUMBER HIER_ORDER NUMBER LONG_DESCRIPTION VARCHAR2（100）SHORT_DESCRIPTION VARCHAR2（ 100）END_DATE DATE TIME_SPAN NUMBER PARENT VARCHAR2（100）TOTAL VARCHAR2（100）CALENDAR_YEAR VARCHAR2（100）CALENDAR_QUARTER VARCHAR2（100）MONTH VARCHAR2（100）</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9169"></a><div class="props_rev_3"><a id="GUID-CC120690-879D-4FF0-9BF2-478D8D9BEACC" name="GUID-CC120690-879D-4FF0-9BF2-478D8D9BEACC"></a><h5 id="OLAUG-GUID-CC120690-879D-4FF0-9BF2-478D8D9BEACC" class="sect5"><span class="enumeration_section">4.1.2.5</span>显示层次结构视图的内容</h5>
                     <div>
                        <div class="section">
                           <p>以下查询显示日历年2005的维度键，父键和完整祖先。</p><pre class="oac_no_warn" dir="ltr">SELECT dim_key，long_description description，parent，year_year year，calendar_quarter quarter，month FROM time_calendar_view WHERE calendar_year ='CY2005'ORDER BY level_name，end_date; DIM_KEY描述父母每年一个月------------ ------------ ------------ -------- ---- ------------ ------------ CY2005。Q1 Q1.05 CY2005 CY2005 CY2005。Q1 CY2005。Q2 Q2.05 CY2005 CY2005 CY2005。Q2 CY2005。Q3 Q3.05 CY2005 CY2005 CY2005。Q3 CY2005。Q4 Q4.05 CY2005 CY2005 CY2005。Q4 CY2005 2005 TOTAL CY2005 2005.01 JAN-05 CY2005。Q1 CY2005 CY2005。Q1 2005.01 2005.02 FEB-05 CY2005。Q1 CY2005 CY2005。2005 2005.02 2005.03 MAR-05 CY2005。Q1 CY2005 CY2005。2005 2005.03 2005.04 APR-05 CY2005。Q2 CY2005 CY2005。Q2 2005.04 2005.05 MAY-05 CY2005。Q2 CY2005 CY2005。Q2 2005.05 2005.06 JUN-05 CY2005。Q2 CY2005 CY2005。Q2 2005.06 2005.07 JUL-05 CY2005。Q3 CY2005 CY2005。Q3 2005.07 2005.08 AUG-05 CY2005。Q3 CY2005 CY2005。Q3 2005.08 2005.09 SEP-05 CY2005。Q3 CY2005 CY2005。Q3 2005.09 2005.10 OCT-05 CY2005。Q4 CY2005 CY2005。Q4 2005.10 2005.11 NOV-05 CY2005。Q4 CY2005 CY2005。Q4 2005.11 2005.12 DEC-05 CY2005。Q4 CY2005 CY2005。Q4 2005.12选择了17行。</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="OLAUG9170"></a><div class="props_rev_3"><a id="GUID-04DEC03F-3E6E-4435-840F-FF49FD2CA078" name="GUID-04DEC03F-3E6E-4435-840F-FF49FD2CA078"></a><h3 id="OLAUG-GUID-04DEC03F-3E6E-4435-840F-FF49FD2CA078" class="sect3"><span class="enumeration_section">4.2</span>创建基本查询</h3>
               <div>
                  <p>查询多维数据集类似于查询星型模式。在星型模式中，您将事实表连接到维度表。事实表提供了数字业务度量，维度表提供了赋予数据含义的描述性属性。同样，您可以使用维度视图或层次结构视图连接多维数据集视图，以向用户提供完全标识且有意义的数据。</p>
                  <p>对于没有层次结构的维度，请在查询中使用维度视图。对于具有层次结构的维，请使用层次结构视图，因为它们包含的信息多于维视图。</p>
                  <p>查询多维数据集时，请记住以下准则：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对每个维度应用过滤器。</p>
                        <p>多维数据集包含详细级别和聚合数据。具有未过滤维度的查询通常会返回比用户需要的更多数据，这会对性能产生负面影响。</p>
                     </li>
                     <li>
                        <p>让多维数据集聚合数据。</p>
                        <p>由于聚合是在多维数据集中计算的，因此典型查询不需要<code class="codeph">GROUP BY</code>子句。只需使用维度键或属性上的相应过滤器选择所需的聚合。
                        </p>
                     </li>
                  </ul>
               </div><a id="OLAUG9469"></a><a id="OLAUG9470"></a><a id="OLAUG9471"></a><a id="OLAUG9171"></a><div class="props_rev_3"><a id="GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E" name="GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E"></a><h4 id="OLAUG-GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E" class="sect4"><span class="enumeration_section">4.2.1</span>对每个维度应用过滤器</h4>
                  <div>
                     <div class="section">
                        <p><a id="d12486e937" class="indexterm-anchor"></a><a id="d12486e939" class="indexterm-anchor"></a>要创建级别过滤器，您必须知道维度级别的名称。您可以通过查询维度或层次结构视图轻松获取它们：</p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT level_name FROM time_calendar_view; LEVEL_NAME ------------------------------ CALENDAR_YEAR CALENDAR_QUARTER MONTH TOTAL</pre><p>多个数据字典视图列出了级别的名称。以下示例查询<code class="codeph">USER_CUBE_HIER_LEVELS</code> 。</p><pre class="oac_no_warn" dir="ltr">SELECT level_name FROM user_cube_hier_levels WHERE dimension_name ='TIME'AND hierarchy_name ='CALENDAR'; LEVEL_NAME --------------------总计CALENDAR_YEAR CALENDAR_QUARTER月份</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E__CBAEFEHJ">
                        <p class="titleinexample">示例4-1显示所有级别的聚合</p>
                        <p>要了解将过滤器应用于每个维度的重要性，请考虑此示例中的查询，该查询在时间维度上没有过滤器。</p><pre class="oac_no_warn" dir="ltr">/ *选择关键描述和事实* / SELECT t.long_description time，ROUND（f.sales）sales / *来自维度视图和多维数据集视图* / FROM time_calendar_view t，product_primary_view p，customer_shipments_view cu，channel_primary_view ch，units_cube_view f / *否过滤时间* / WHERE p.level_name ='TOTAL'和cu.level_name ='TOTAL'和ch.level_name ='TOTAL'/ *将维度视图连接到多维数据集视图* / AND t.dim_key = f.time AND p。 dim_key = f.product AND cu.dim_key = f.customer AND ch.dim_key = f.channel ORDER BY t.end_date;</pre><p>如果没有Time维度的过滤器，查询将返回每个时间级别的值。这比用户通常希望看到的数据更多，并且返回的数据量会对性能产生负面影响。</p><pre class="oac_no_warn" dir="ltr">时间销售---------- ---------- JAN-98 8338545 FEB-98 7972132 Q1.98 24538588 MAR-98 8227911 APR-98 8470315 MAY-98 8160573 JUN-98 8362386 Q2.98 24993273 JUL-98 8296226 AUG-98 8377587 SEP-98 8406728 Q3.98 25080541 OCT-98 8316169 NOV-98 8984156 Q4.98 26258474 1998 100870877。。。
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E__CBAFBDDD">
                        <p class="titleinexample">示例4-2基本多维数据集视图查询</p>
                        <p>现在考虑过滤器将时间限制为年度数据时的结果。此示例显示基本查询。它从<code class="codeph">UNITS_CUBE_VIEW</code>选择Sales度量，并将多维数据集视图中的键连接到层次结构视图以获取键的描述。
                        </p><pre class="oac_no_warn" dir="ltr">/ *选择关键描述和事实* / SELECT t.long_description time，ROUND（f.sales）sales / *来自维度视图和多维数据集视图* / FROM time_calendar_view t，product_primary_view p，customer_shipments_view cu，channel_primary_view ch，units_cube_view f / * Create级别过滤器* / WHERE t.level_name ='CALENDAR_YEAR'和p.level_name ='TOTAL'和cu.level_name ='TOTAL'和ch.level_name ='TOTAL'/ *将维视图连接到多维数据集视图* / AND t.dim_key = f.time AND p.dim_key = f.product AND cu.dim_key = f.customer AND ch.dim_key = f.channel ORDER BY t.end_date;</pre><p>该示例选择以下行。对于<code class="codeph">CUSTOMER</code> ， <code class="codeph">PRODUCT</code>和<code class="codeph">CHANNEL</code> ，只有一个值位于顶层。<code class="codeph">TIME</code>具有每个日历年的值。
                        </p><pre class="oac_no_warn" dir="ltr">时间销售-------- ---------- 1998 100870877 1999 134109248 2000 124173522 2001 116931722 2002 92515295 2003 130276514 2004 144290686 2005 136986572 2006 140138317</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E__CBAIFFGC">
                        <p class="titleinexample">示例4-3使用属性过滤器选择数据</p>
                        <p>维度属性还提供了一种选择查询数据的有用方法。此示例中的<code class="codeph">WHERE</code>子句使用属性值来过滤所有维度。
                        </p><pre class="oac_no_warn" dir="ltr">/ *选择关键描述和事实* / SELECT t.long_description time，p.long_description product，cu.long_description customer，ch.long_description channel，ROUND（f.sales）sales / * From dimension views and cube view * / FROM time_calendar_view t ，product_primary_view p，customer_shipments_view cu，channel_primary_view ch，units_cube_view f / *创建属性过滤器* / WHERE t.long_description in（'2005'，'2006'）AND p.package ='Laptop Value Pack'AND cu.long_description LIKE'％ Boston％'AND ch.long_description ='Internet'/ *将维度视图连接到多维数据集视图* / AND t.dim_key = f.time AND p.dim_key = f.product AND cu.dim_key = f.customer AND ch.dim_key = f.channel ORDER BY time，customer;</pre><p>查询选择两个日历年，笔记本电脑超值套装中的产品，波士顿的客户和互联网渠道。</p><pre class="oac_no_warn" dir="ltr">TIME PRODUCT CUSTOMER CHANNEL SALES ------ ------------------------------ --------- ------------ -------- ---------- 2005笔记本电脑便携包KOSH Entrpr Boston Internet 5936 2005 56Kbps V.92 Type II传真/调制解调器KOSH Entrpr波士顿互联网45285 2005内部48X CD-ROM KOSH Entrpr波士顿互联网2828 2005标准鼠标KOSH Entrpr波士顿互联网638 2005特使标准沃伦系统波士顿互联网19359 2005笔记本电脑便携包沃伦系统波士顿互联网13434 2005标准鼠标沃伦系统波士顿互联网130 2006标准鼠标KOSH Entrpr Boston Internet 555 2006笔记本电脑便携包KOSH Entrpr Boston Internet 6357 2006 56Kbps V.92 Type II传真/调制解调器KOSH Entrpr Boston Internet 38042 2006内部48X CD-ROM KOSH Entrpr波士顿互联网3343 2006特使标准Warren Systems波士顿互联网24198 2006笔记本电脑便携包沃伦系统波士顿互联网13153 2006标准鼠标沃伦系统波士顿互联网83 14行选择。</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAUG9172"></a><div class="props_rev_3"><a id="GUID-521D88A9-733B-4B4D-950B-637A6CF5E955" name="GUID-521D88A9-733B-4B4D-950B-637A6CF5E955"></a><h4 id="OLAUG-GUID-521D88A9-733B-4B4D-950B-637A6CF5E955" class="sect4"><span class="enumeration_section">4.2.2</span>允许多维数据集聚合数据</h4>
                  <div>
                     <p>多维数据集包含所有聚合数据。如本章所示，针对多维数据集的查询只选择聚合数据。它不计算值。</p>
                     <p>以下是针对事实表的基本查询：</p><pre class="oac_no_warn" dir="ltr">/ *查询事实表* / SELECT t.calendar_year_dsc time，SUM（f.sales）sales FROM time_dim t，units_fact f WHERE t.calendar_year_dsc IN（'2005'，'2006'）AND t.month_id = f.month_id GROUP BY t.calendar_year_dsc;</pre><p>下一个查询使用过滤器从多维数据集中获取完全相同的结果：</p><pre class="oac_no_warn" dir="ltr">/ *查询多维数据集* / SELECT t.long_description time，f.sales sales FROM time_calendar_view t，product_primary_view p，customer_shipments_view cu，channel_primary_view ch，units_cube_view f / *对每个维度应用过滤器* / WHERE t.long_description IN（'2005' ，'2006'）AND p.level_name ='TOTAL'和cu.level_name ='TOTAL'和ch.level_name ='TOTAL'/ *将维度视图连接到多维数据集视图* / AND t.dim_key = f。TIME和p.dim_key = f.product AND cu.dim_key = f.customer AND ch.dim_key = f.channel ORDER BY time;</pre><p>两个查询都返回以下结果：</p><pre class="oac_no_warn" dir="ltr">时间销售----- ---------- 2005 136986572 2006 140138317</pre><p>对多维数据集的查询不会使用<code class="codeph">SUM</code>运算符和<code class="codeph">GROUP BY</code>子句计算聚合值。由于聚合存在于多维数据集中，因此会重新聚合以前聚合的数据。相反，查询直接从多维数据集中选择聚合，并通过将适当的筛选器应用于每个维度来指定所需的聚合。
                     </p>
                  </div>
               </div><a id="OLAUG9173"></a><div class="props_rev_3"><a id="GUID-1D50D612-8CFD-4F87-A60D-693D87E43E08" name="GUID-1D50D612-8CFD-4F87-A60D-693D87E43E08"></a><h4 id="OLAUG-GUID-1D50D612-8CFD-4F87-A60D-693D87E43E08" class="sect4"><span class="enumeration_section">4.2.3</span>查询处理</h4>
                  <div>
                     <p>最有效的查询允许OLAP引擎过滤数据，以便将查询所需的最小行数返回给SQL。</p>
                     <p>以下是其中之一<a id="d12486e1127" class="indexterm-anchor"></a> <code class="codeph">WHERE</code>子句操作被推送到OLAP引擎进行处理：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">=</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">！=</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">&gt;</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">！&gt;</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">！&lt;</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">在</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">不在</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">一片空白</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">喜欢</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">不喜欢</code></p>
                        </li>
                     </ul>
                     <p>OLAP引擎也处理嵌套<a id="d12486e1179" class="indexterm-anchor"></a><a id="d12486e1181" class="indexterm-anchor"></a><a id="d12486e1183" class="indexterm-anchor"></a>字符函数，包括<code class="codeph">INSTR</code> ， <code class="codeph">LENGTH</code> ， <code class="codeph">NVL</code> ， <code class="codeph">LOWER</code> ， <code class="codeph">UPPER</code> ， <code class="codeph">LTRIM</code> ， <code class="codeph">RTRIM</code> ， <code class="codeph">TRIM</code> ， <code class="codeph">LPAD</code> ， <code class="codeph">RPAD</code>和<code class="codeph">SUBSTR</code> 。</p>
                     <p>SQL处理<code class="codeph">WHERE</code>子句中的其他操作和函数，以及<code class="codeph">SELECT</code>语法的其他部分中的所有操作。
                     </p>
                  </div>
               </div>
            </div><a id="OLAUG9174"></a><div class="props_rev_3"><a id="GUID-D74AA467-2DEC-4F1B-A8C1-DDBEEBB89808" name="GUID-D74AA467-2DEC-4F1B-A8C1-DDBEEBB89808"></a><h3 id="OLAUG-GUID-D74AA467-2DEC-4F1B-A8C1-DDBEEBB89808" class="sect3"><span class="enumeration_section">4.3</span>创建分层查询</h3>
               <div>
                  <p>钻井是业务分析的重要能力。在仪表板或应用程序中，用户单击维度键以更改数据选择。决策者经常希望深入了解数据值的贡献者，或深入了解特定数据值如何对整体贡献。例如，波士顿地区销售经理可能从波士顿的总销售额开始，深入了解每个销售代表的贡献，然后深入了解波士顿地区如何为新英格兰的销售总额做出贡献。</p>
                  <p>层次结构视图包括<code class="codeph">PARENT</code>列，用于标识每个维度键的父级。此列封装维度的所有层次结构信息：如果您知道每个键的父级，则可以派生祖先，子级和后代。
                  </p>
                  <p>对于基于级别的层次结构， <code class="codeph">LEVEL_NAME</code>列通过提供一种方便的方法来识别层次结构中从顶部到基础的相同深度的所有键，从而对此信息进行补充。对于基于值的层次结构， <code class="codeph">PARENT</code>列提供有关层次结构的所有信息。
                  </p>
                  <div class="infoboxnotealso" id="GUID-D74AA467-2DEC-4F1B-A8C1-DDBEEBB89808__GUID-F93CAB27-4B6A-4036-85AA-B26823EBCC76">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="developing-reports-and-dashboards.html#GUID-20B8F759-16D6-4089-8744-CBA17E2259D6">开发</a>有关使用绑定变量来支持钻取的<a href="developing-reports-and-dashboards.html#GUID-20B8F759-16D6-4089-8744-CBA17E2259D6">报告和仪表板</a></p>
                  </div>
               </div><a id="OLAUG9175"></a><div class="props_rev_3"><a id="GUID-C855370B-A629-48CA-9750-8CA08F17D7B6" name="GUID-C855370B-A629-48CA-9750-8CA08F17D7B6"></a><h4 id="OLAUG-GUID-C855370B-A629-48CA-9750-8CA08F17D7B6" class="sect4"><span class="enumeration_section">4.3.1</span>深入到儿童身上</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用层次结构视图的<code class="codeph">PARENT</code>列仅选择特定值的子项。以下<code class="codeph">WHERE</code>子句选择日历年<code class="codeph">2005</code> 。
                        </p><pre class="oac_no_warn" dir="ltr">/ *选择日历年2005的子项* / WHERE t.parent ='CY2005'AND p.dim_key ='TOTAL'AND cu.dim_key ='TOTAL'AND ch.dim_key ='TOTAL'</pre><p>查询从年份到季度向下钻取。四个季度<code class="codeph">Q1-05</code>到<code class="codeph">Q4-05</code>是一年中孩子<code class="codeph">CY2005</code>在日历层次结构。
                        </p><pre class="oac_no_warn" dir="ltr">时间销售-------- ---------- Q1.05 31381338 Q2.05 37642741 Q3.05 32617249 Q4.05 35345244</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OLAUG9176"></a><div class="props_rev_3"><a id="GUID-3174739E-67CC-469A-A4EC-DAF5CFF2024B" name="GUID-3174739E-67CC-469A-A4EC-DAF5CFF2024B"></a><h4 id="OLAUG-GUID-3174739E-67CC-469A-A4EC-DAF5CFF2024B" class="sect4"><span class="enumeration_section">4.3.2</span>向父母进行钻探</h4>
                  <div>
                     <div class="section">
                        <p>层次结构视图的<code class="codeph">PARENT</code>列标识每个维度键的父级。级别键的列标识完整的遗产。以下<code class="codeph">WHERE</code>子句根据其<code class="codeph">LONG_DESCRIPTION</code>属性选择Time键的父级。
                        </p><pre class="oac_no_warn" dir="ltr">/ *选择时间键的父项* / WHERE t.dim_key =（SELECT DISTINCT parent FROM time_calendar_view WHERE long_description ='JAN-05'）AND p.dim_key ='TOTAL'AND cu.dim_key ='TOTAL'AND ch。 dim_key ='TOTAL'</pre><p>查询从月到季度逐渐钻取。月份<code class="codeph">JAN-05</code>的父<code class="codeph">JAN-05</code>是Calendar层次结构中的<code class="codeph">Q1-05</code>季度。
                        </p><pre class="oac_no_warn" dir="ltr">时间销售-------- ---------- Q1.05 31381338</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OLAUG9177"></a><div class="props_rev_3"><a id="GUID-C674585F-7F67-44DC-8631-D4173610AE0B" name="GUID-C674585F-7F67-44DC-8631-D4173610AE0B"></a><h4 id="OLAUG-GUID-C674585F-7F67-44DC-8631-D4173610AE0B" class="sect4"><span class="enumeration_section">4.3.3</span>钻至后代</h4>
                  <div>
                     <div class="section">
                        <p>以下<code class="codeph">WHERE</code>子句通过选择<code class="codeph">LEVEL_NAME</code>为<code class="codeph">MONTH</code>且<code class="codeph">CALENDAR_YEAR</code>为<code class="codeph">CY2005</code>的行来选择日历年<code class="codeph">2005</code>的后代。
                        </p><pre class="oac_no_warn" dir="ltr">/ *选择时间级别和祖先* / WHERE t.level_name ='MONTH'和t.calendar_year ='CY2005'AND p.dim_key ='TOTAL'AND cu.dim_key ='TOTAL'AND ch.dim_key ='TOTAL'</pre><p>查询向下钻取两个级别，从一年到一个季度到一个月。12个月的<code class="codeph">Jan-05</code>到<code class="codeph">Dec-05</code>是今年的后代<code class="codeph">2005</code>的日历层次结构。
                        </p><pre class="oac_no_warn" dir="ltr">时间销售-------- ---------- JAN-05 12093518 FEB-05 10103162 MAR-05 9184658 APR-05 9185964 MAY-05 11640216 JUN-05 16816561 JUL-05 11110903 AUG- 05 9475807 SEP-05 12030538 OCT-05 11135032 NOV-05 11067754 DEC-05 13142459</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OLAUG9178"></a><div class="props_rev_3"><a id="GUID-2A193985-DEFD-41F6-A57F-B5F30F51CE96" name="GUID-2A193985-DEFD-41F6-A57F-B5F30F51CE96"></a><h4 id="OLAUG-GUID-2A193985-DEFD-41F6-A57F-B5F30F51CE96" class="sect4"><span class="enumeration_section">4.3.4</span>钻探祖先</h4>
                  <div>
                     <div class="section">
                        <p>层次结构视图提供每个维度键的完整祖先，如<span class="q">“ <a href="querying-dimensional-objects.html#GUID-CC120690-879D-4FF0-9BF2-478D8D9BEACC">显示层次结构视图的内容</a> ”中所示</span> 。以下<code class="codeph">WHERE</code>子句使用<code class="codeph">CALENDAR_YEAR</code>级别键列来标识<code class="codeph">MONTH</code>维度键的祖先。
                        </p><pre class="oac_no_warn" dir="ltr">/ *根据其长描述属性选择时间键的祖先* / WHERE t.dim_key =（SELECT calendar_year FROM time_calendar_view WHERE long_description ='JAN-05'）AND p.dim_key ='TOTAL'AND cu.dim_key =' TOTAL'和ch.dim_key ='TOTAL'</pre><p>该查询从一个月到另一个季度向上钻两个级别。<code class="codeph">Jan-05</code>年<code class="codeph">Jan-05</code>的祖先是日历层次结构中的<code class="codeph">2005</code>年。
                        </p><pre class="oac_no_warn" dir="ltr">时间销售-------- ---------- 2005 136986572</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OLAUG9472"></a><a id="OLAUG9179"></a><div class="props_rev_3"><a id="GUID-0A165A1E-4F52-4955-9E6E-DEAD37C8F65A" name="GUID-0A165A1E-4F52-4955-9E6E-DEAD37C8F65A"></a><h3 id="OLAUG-GUID-0A165A1E-4F52-4955-9E6E-DEAD37C8F65A" class="sect3"><span class="enumeration_section">4.4</span>在查询中使用计算</h3>
               <div>
                  <p><a id="d12486e1665" class="indexterm-anchor"></a> DBA可以在Analytic Workspace Manager中创建计算度量，因此它们可供所有应用程序使用。这不仅简化了应用程序开发，还确保所有应用程序使用相同的名称进行相同的计算。
                  </p>
                  <p>尽管如此，您可能希望开发包含您自己的计算的查询。在这种情况下，您可以使用内部查询从多维数据集中选择聚合数据，然后在外部查询中执行计算。您可以从使用任何类型的聚合运算符的多维数据集中选择数据，并且可以在查询中使用任何函数或运算符。您必须确保仅在适当级别选择多维数据集中的数据进行计算，并且多维数据集和查询中的运算符组合可以创建所需的计算。</p>
                  <div class="example" id="GUID-0A165A1E-4F52-4955-9E6E-DEAD37C8F65A__CBAHIIGG">
                     <p class="titleinexample">示例4-4计算客户平均销售额</p>
                     <p>此示例显示了一个回答问题的查询，即2005财年第三季度Sentinel Standard计算机向政府客户的平均销售额。<code class="codeph">UNITS_CUBE</code>总结了所有维度，因此<code class="codeph">FY2005.Q3</code>是7月，8月和9月的总和。内部查询提取这些月份的数据，外部查询使用<code class="codeph">MIN</code> ， <code class="codeph">MAX</code>和<code class="codeph">AVG</code>运算符以及<code class="codeph">GROUP BY</code>子句来计算平均值。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT客户，ROUND（MIN（销售额））最小值，ROUND（MAX（销售额））最大值，ROUND（AVG（销售额））平均值FROM（SELECT cu.long_description客户，t.month_long_description时间f.sales销售额来自time_fiscal_view t，product_primary_view p，customer_market_view cu，channel_primary_view ch，units_cube_view f WHERE t.parent ='FY2005。Q3'AND p.dim_key ='SENT STD'和cu.parent ='GOV'和ch.level_name ='TOTAL'和t.dim_key = f.time AND p.dim_key = f.product AND cu.dim_key = f。客户AND ch.dim_key = f.channel）GROUP BY客户ORDER BY客户;</pre><p>这是内部查询从多维数据集中提取的数据：</p><pre class="oac_no_warn" dir="ltr">CUSTOMER TIME SALES ---------------------------------------- ------- -  ----------劳工部JAN-05 1553.26劳工部MAR-05 1555.6国际贸易部JAN-05 1553.26国际贸易部FEB-05 1554.56国际贸易部MAR-05 1555.6皇家空军JAN-05 1553.26英国皇家空军FEB-05 6218.23英国环境部JAN-05 4659.78英国环境部FEB-05 3109.12</pre><p>外部查询计算每个客户的最小，最大和平均销售额：</p><pre class="oac_no_warn" dir="ltr">CUSTOMER MINIMUM MAXIMUM AVERAGE ------------------------------ ---------- ------ ---- ----------劳工部1553 1556 1554国际贸易部1553 1556 1554英国皇家空军1553 6218 3886英国环境部3109 4660 3884</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OLAUG9180"></a><div class="props_rev_3"><a id="GUID-08A8F74B-779F-425C-A148-A7070C7E384C" name="GUID-08A8F74B-779F-425C-A148-A7070C7E384C"></a><h3 id="OLAUG-GUID-08A8F74B-779F-425C-A148-A7070C7E384C" class="sect3"><span class="enumeration_section">4.5</span>使用属性进行聚合</h3>
               <div>
                  <p><a id="d12486e1756" class="indexterm-anchor"></a><a id="d12486e1760" class="indexterm-anchor"></a> OLAP多维数据集使用层次结构视图中显示的父子关系聚合其层次结构中的数据。OLAP引擎不会计算维度属性值的聚合。
                  </p>
                  <p>尽管如此，您可能希望按年份，邮政编码或人口密度聚合颜色或大小的产品或客户。在查询多维数据集时可以使用<code class="codeph">GROUP BY</code>子句。您的查询可以从多维数据集中提取数据，然后使用SQL按属性值进行聚合。
                  </p>
                  <p><a id="d12486e1769" class="indexterm-anchor"></a>多维数据集必须对所有维使用相同的聚合运算符，并且查询的<code class="codeph">SELECT</code>列表中的聚合运算符必须与多维数据集的聚合运算符匹配。您可以使用<code class="codeph">GROUP BY</code>子句查询使用这些运算符的多维数据集：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>第一个非NA值</p>
                     </li>
                     <li>
                        <p>最后的非NA值</p>
                     </li>
                     <li>
                        <p>最大值</p>
                     </li>
                     <li>
                        <p>最低限度</p>
                     </li>
                     <li>
                        <p>和</p>
                     </li>
                  </ul>
               </div><a id="OLAUG9473"></a><a id="OLAUG9181"></a><div class="props_rev_3"><a id="GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9" name="GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9"></a><h4 id="OLAUG-GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9" class="sect4"><span class="enumeration_section">4.5.1</span>在属性上聚合度量</h4>
                  <div>
                     <p><a href="querying-dimensional-objects.html#GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9__CBABAGBE">示例4-5</a>显示了一个聚合在名为Package的属性上的查询。它返回以下结果：</p><pre class="oac_no_warn" dir="ltr">时间套餐销售------ ------------------ ---------- 2005全部1809157.64 2005多媒体18083256.3 2005执行19836977 2005笔记本电脑超值套装9547494.81</pre><p>单位立方体使用<code class="codeph">SUM</code>为所有的维运算符和查询使用<code class="codeph">SUM</code>运营商聚集在销售。Package属性仅适用于Product维度的Item级别，因此查询选择Product的Item级别。它还消除了Package的空值，因此只有属于包的产品才包含在计算中。<code class="codeph">GROUP BY</code>子句按时间和包打破总销售额。
                     </p>
                     <div class="example" id="GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9__CBABAGBE">
                        <p class="titleinexample">示例4-5在属性上聚合</p><pre class="oac_no_warn" dir="ltr">SELECT t.long_description time，p.package package，SUM（f.sales）sales FROM time_calendar_view t，product_primary_view p，customer_shipments_view cu，channel_primary_view ch，units_cube_view f / *按级别和属性选择产品* / WHERE p.level_name ='ITEM 'AND p.package IS NOT NULL且t.long_description ='2005'AND cu.level_name ='TOTAL'AND ch.level_name ='TOTAL'/ * Join dimensions and cube * / AND t.dim_key = f.time AND p .dim_key = f.product AND cu.dim_key = f.customer AND ch.dim_key = f.channel GROUP BY t.long_description，p.package;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAUG9474"></a><a id="OLAUG9182"></a><div class="props_rev_3"><a id="GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF" name="GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF"></a><h4 id="OLAUG-GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF" class="sect4"><span class="enumeration_section">4.5.2</span>在属性上聚合计算的度量</h4>
                  <div>
                     <p><a id="d12486e1916" class="indexterm-anchor"></a>在使用<span class="q">“ <a href="querying-dimensional-objects.html#GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9">在属性上聚合度量</a> ”中</span>描述的技术之前，请确保计算有意义。例如，常用计算百分比变化可以定义为多维数据集中的计算度量。对百分比变化求和会产生意外结果，因为百分比变化（ <span class="italic"><code class="codeph">(ab)/b</code></span> ，）的计算不是累加的。
                     </p>
                     <p>请考虑以下数据行。正确的总百分比变化是<code class="codeph">.33</code> ，而前两行的百分比变化总和是<code class="codeph">.75</code> 。
                     </p>
                     <div class="tblformal" id="GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF__GUID-EAD2463C-2F67-4E56-9185-BBC51AD02D90">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Example of adding a nonadditive measure" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="16%" id="d12486e1948">行</th>
                                 <th align="left" valign="bottom" width="16%" id="d12486e1951">销售</th>
                                 <th align="left" valign="bottom" width="34%" id="d12486e1954">销售前期</th>
                                 <th align="left" valign="bottom" width="34%" id="d12486e1957">变化百分比</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d12486e1962" headers="d12486e1948 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d12486e1962 d12486e1951 ">
                                    <p><code class="codeph">15</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1962 d12486e1954 ">
                                    <p><code class="codeph">10</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1962 d12486e1957 ">
                                    <p><code class="codeph">0.50</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d12486e1978" headers="d12486e1948 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d12486e1978 d12486e1951 ">
                                    <p><code class="codeph">25</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1978 d12486e1954 ">
                                    <p><code class="codeph">20</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1978 d12486e1957 ">
                                    <p><code class="codeph">0.25</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d12486e1994" headers="d12486e1948 ">
                                    <p><span class="bold">总</span></p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d12486e1994 d12486e1951 ">
                                    <p><span class="bold"><code class="codeph">40</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1994 d12486e1954 ">
                                    <p><span class="bold"><code class="codeph">三十</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1994 d12486e1957 ">
                                    <p><span class="bold"><code class="codeph">0.33</code></span></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a href="querying-dimensional-objects.html#GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF__CBAFHFIH">示例4-6</a>显示了一个查询，该查询聚合在Package属性上并计算从上一期间的百分比变化。内部查询在属性上聚合Sales和Sales Prior Period，外部查询使用结果计算百分比变化。这些是查询的结果，显示<code class="codeph">PCT_CHG_PP</code>的预期结果：</p><pre class="oac_no_warn" dir="ltr">TIME PACKAGE SALES PRIOR_PERIOD PCT_CHG_PP ------ ------------------ ---------- ----------- -  ---------- 2005 All 1809157.64 1853928.06 -.02414895 2006 All 1720399.03 1809157.64 -.04906074 2005 Executive 19836977 20603879.8 -.03722128 2006 Executive 19580638.4 19836977 -.01292226 2005 Laptop Value Pack 9547494.81 10047298.6 -.04974509 2006 Laptop Value Pack 9091450.58 9547494.81 -.04776585 2005 Multimedia 18083256.3 19607675.5 -.07774604 2006 Multimedia 18328678.7 18083256.3 .013571806 8 rows selected。</pre><div class="example" id="GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF__CBAFHFIH">
                        <p class="titleinexample">示例4-6使用计算度量查询属性</p><pre class="oac_no_warn" dir="ltr">/ *计算百分比变化* / SELECT TIME，package，sales，prior_period，（（sales  -  prior_period）/ prior_period）pct_chg_pp FROM / *从多维数据集中获取数据并在Package * /上聚合（SELECT t.long_description time，p.package package，SUM（f.sales）sales，SUM（f.sales_pp）prior_period FROM time_calendar_view t，product_primary_view p，customer_shipments_view cu，channel_primary_view ch，units_cube_view f / *创建过滤器* / WHERE p.level_name ='ITEM'和p.package IS NOT NULL和t.long_description IN（'2005'，'2006'）AND cu.level_name ='TOTAL'AND ch.level_name ='TOTAL'/ *将维度视图连接到多维数据集视图* / AND t.dim_key = f。 time AND p.dim_key = f.product AND cu.dim_key = f.customer AND ch.dim_key = f.channel GROUP BY t.long_description，p.package ORDER BY p.package）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="OLAUG9562"></a><a id="OLAUG9595"></a><div class="props_rev_3"><a id="GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8" name="GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8"></a><h3 id="OLAUG-GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8" class="sect3"><span class="enumeration_section">4.6将</span>多维数据集连接到表和视图</h3>
               <div>
                  <p><a id="d12486e2078" class="indexterm-anchor"></a><a id="d12486e2080" class="indexterm-anchor"></a>您可以将多维数据集连接到其他多维数据集以及关系对象，例如：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>表</p>
                     </li>
                     <li>
                        <p>视图包括外部表和PL / SQL表函数</p>
                     </li>
                     <li>
                        <p>其他行源类型，如其他连接</p>
                     </li>
                  </ul>
                  <p><a id="d12486e2096" class="indexterm-anchor"></a>通常，在将表连接到表或视图时，不需要完全聚合的多维数据集，并且<code class="codeph">CUBE JOIN</code>操作会限制提取的值的数量以自动提高性能。立方体必须位于等式的右侧。如果查询不支持<code class="codeph">CUBE JOIN</code> ，则通常使用更昂贵的<code class="codeph">HASH JOIN</code> ， <code class="codeph">MERGE JOIN</code>或<code class="codeph">NESTED LOOPS</code> 。
                  </p>
                  <p><a id="d12486e2115" class="indexterm-anchor"></a><a id="d12486e2117" class="indexterm-anchor"></a>您可以在查询中使用提示来影响<code class="codeph">CUBE JOIN</code>的使用：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果可能， <code class="codeph">USE_CUBE</code>强制执行<code class="codeph">CUBE JOIN</code> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">NO_USE_CUBE</code>阻止<code class="codeph">CUBE JOIN</code> 。</p>
                     </li>
                  </ul>
                  <p>有关<code class="codeph">CUBE JOIN</code>详细信息，请参阅<span class="q">“ <a href="querying-dimensional-objects.html#GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678">查看执行计划</a> ”</span> 。</p>
                  <p><a href="querying-dimensional-objects.html#GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8__BGBHEBGH">示例4-7</a>将包含Customer维度的法语描述的表连接到仅支持英语的多维数据集。查询返回以下结果：</p><pre class="oac_no_warn" dir="ltr">客户销售---------------------------------------- -------- ---- La Marine des USA Washington 600.34 Monolith Motor Co. Chattanooga 17946.51 Piedmont，Inc。San Jose 24874.41 Ministere du Commerce Int。长野27595.97出发。 des commun。 - 斯图加特30706.10分钟信封。英国人。Londres 38125.77 Nouvelle-Orleans 42507.50 Ministere des Finances Sorbonne 43607.58 Monolith Motor Co. Knoxville 50874.53 Serv。 des USA de recherche Wyo 54497.19出发。 des commun。 - 波恩58944.97。。。</pre><div class="example" id="GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8__BGBHEBGH">
                     <p class="titleinexample">示例4-7连接多维数据集和表</p><pre class="oac_no_warn" dir="ltr">SELECT cu.ship_to_dsc_french customer，f.sales sales FROM time_calendar_view t，product_primary_view p，customer_dim cu，channel_primary_view ch，units_cube_view f WHERE t.dim_key ='CY2006'AND p.level_name ='TOTAL'AND ch.level_name ='TOTAL'AND t.dim_key = f。TIME和p.dim_key = f.product AND cu.ship_to_id = f.customer AND ch.dim_key = f.channel ORDER BY f.sales;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OLAUG9183"></a><div class="props_rev_3"><a id="GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678" name="GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678"></a><h3 id="OLAUG-GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678" class="sect3"><span class="enumeration_section">4.7</span>查看执行计划</h3>
               <div>
                  <p><a id="d12486e2210" class="indexterm-anchor"></a>您可以生成和查看针对多维数据集和维度的查询的执行计划，与针对关系表的查询相同。
                  </p>
                  <p>SQL <a id="d12486e2215" class="indexterm-anchor"></a> <code class="codeph">EXPLAIN PLAN</code>命令创建一个包含解释计划内容的表。默认表名是<code class="codeph">PLAN_TABLE</code> 。</p>
                  <div class="infoboxnotealso" id="GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678__GUID-111FAFAD-D2D0-45CC-96F8-BFE4EC858645">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../tgsql/index.html" target="_blank"><span class="italic">Oracle数据库SQL调优指南，</span></a>用于完整讨论执行计划</p>
                  </div>
               </div><a id="OLAUG9476"></a><a id="OLAUG9563"></a><a id="OLAUG9184"></a><div class="props_rev_3"><a id="GUID-D6D8310D-8FC9-4507-9C6B-66C8131E7EAD" name="GUID-D6D8310D-8FC9-4507-9C6B-66C8131E7EAD"></a><h4 id="OLAUG-GUID-D6D8310D-8FC9-4507-9C6B-66C8131E7EAD" class="sect4"><span class="enumeration_section">4.7.1</span>生成执行计划</h4>
                  <div>
                     <p>以下命令为多维数据集上的基本查询创建执行计划：</p><pre class="oac_no_warn" dir="ltr">EXPLAIN PLAN FOR SELECT t.long_description time，p.long_description product，cu.long_description customer，ch.long_description channel，f.sales sales FROM time_calendar_view t，product_primary_view p，customer_shipments_view cu，channel_primary_view ch，units_cube_view f WHERE t.level_name ='CALENDAR_YEAR 'AND p.level_name ='TOTAL'和cu.level_name ='TOTAL'和ch.level_name ='TOTAL'和t.dim_key = f。TIME和p.dim_key = f.product AND cu.dim_key = f.customer AND ch.dim_key = f.channel ORDER BY t.end_date;</pre><div class="example" id="GUID-D6D8310D-8FC9-4507-9C6B-66C8131E7EAD__BAJEJJDJ">
                        <p class="titleinexample">示例4-8多维数据集查询的执行计划</p>
                        <p><code class="codeph">DBMS_XPLAN</code> PL / SQL包的<code class="codeph">DISPLAY</code>表函数格式化并显示执行计划中的信息，如本例所示。
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT plan_table_output FROM TABLE（dbms_xplan.display（））; PLAN_TABLE_OUTPUT ------------------------------------------------- -----------------------------------------计划哈希值：1667678335 ---- -------------------------------------------------- ---------------------------------------- | Id |操作|名称|行|字节|成本（％CPU）|时间| -------------------------------------------------- -------------------------------------------- | 0 |选择声明| | 1 | 100 | 104（3）| 00:00:02 | | 1 |排序顺序| | 1 | 100 | 104（3）| 00:00:02 | | 2 | JOINED CUBE SCAN PARTIAL OUTER | | | | | | | 3 | CUBE ACCESS | UNITS_CUBE | | | | | | 4 | CUBE ACCESS | CHANNEL | | | | | | 5 | CUBE ACCESS |客户| | | | | | 6 | CUBE ACCESS |产品| | | | | | * 7 | CUBE ACCESS |时间| 1 | 100 | 103（2）| 00:00:02 | -------------------------------------------------- --------------------------------------------谓词信息（由操作识别ID）：  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - - ---- 7  - 过滤器（SYS_OP_ATG（VALUE（KOKBF $），12,13,2）='CALENDAR_YEAR'和SYS_OP_ATG（VALUE（KOKBF $），43,44,2）='TOTAL'和SYS_OP_ATG（VALUE（ KOKBF $），33,34,2）='TOTAL'和SYS_OP_ATG（VALUE（KOKBF $），23,24,2）='TOTAL'）选择了22行。
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D6D8310D-8FC9-4507-9C6B-66C8131E7EAD__BGBBGIAE">
                        <p class="titleinexample">示例4-9多维数据集加入的执行计划</p>
                        <p>此示例显示连接多维数据集和表的查询的执行计划。有关查询，请参阅<span class="q">“将<a href="querying-dimensional-objects.html#GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8">多维数据集连接到表和视图</a> ”</span> 。
                        </p><pre class="oac_no_warn" dir="ltr">PLAN_TABLE_OUTPUT ------------------------------------------------- ------------------------------------------------计划哈希值：3634608218 ----------------------------------------------- -------------------------------------------------- | Id |操作|名称|行|字节| TempSpc |成本（％CPU）|时间| -------------------------------------------------- ------------------------------------------------ | 0 |选择声明| | 1464 | 128K | | 1524（94）| 00：00：19 | | 1 |排序顺序| | 1464 | 128K | 152K | 1524（94）| 00：00：19 | | * 2 | CUBE JOIN | | 1464 | 128K | | 1422（100）| 00：00：18 | | 3 |表访问完全| CUSTOMER_DIM | 61 | 2379 | | 4（0）| 00：00：01 | | 4 | JOINED CUBE SCAN PARTIAL OUTER | | | | | | | | 5 | CUBE ACCESS | UNITS_CUBE | | | | | | | 6 | CUBE ACCESS | CHANNEL | | | | | | | 7 | CUBE ACCESS |产品| | | | | | | * 8 | CUBE ACCESS |时间| 2520 | 125K | | 1417（100）| 00：00：18 | -------------------------------------------------- ------------------------------------------------谓词信息（由操作ID标识）：------------------------------------------- -------- 2  - 访问（“CU”。“SHIP_TO_ID”= SYS_OP_ATG（VALUE（KOKBF $），76,77,2））8  - 过滤器（SYS_OP_ATG（VALUE（KOKBF $），32,33 ，2）='CY2006'和SYS_OP_ATG（VALUE（KOKBF $），85,86,2）='TOTAL'和SYS_OP_ATG（VALUE（KOKBF $），65,66,2）='TOTAL'）选择了22行。</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAUG9477"></a><a id="OLAUG9185"></a><div class="props_rev_3"><a id="GUID-3F1F9973-3702-4545-953A-563A43BC2712" name="GUID-3F1F9973-3702-4545-953A-563A43BC2712"></a><h4 id="OLAUG-GUID-3F1F9973-3702-4545-953A-563A43BC2712" class="sect4"><span class="enumeration_section">4.7.2</span>执行计划的类型</h4>
                  <div>
                     <div class="section">
                        <p><a href="querying-dimensional-objects.html#GUID-3F1F9973-3702-4545-953A-563A43BC2712__BAJEJAFJ" title="执行计划">表4-1</a>描述了多维数据集的执行计划类型。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-3F1F9973-3702-4545-953A-563A43BC2712__BAJEJAFJ">
                        <p class="titleintable">表4-1多维数据集和维度执行计划的说明</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="多维数据集和尺寸执行计划的描述" width="100%" border="1" summary="Execution Plans" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="14%" id="d12486e2378">手术</th>
                                 <th align="left" valign="bottom" width="20%" id="d12486e2381">选项</th>
                                 <th align="left" valign="bottom" width="66%" id="d12486e2384">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2389" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE JOIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2389 d12486e2381 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2389 d12486e2384 ">
                                    <p>连接左侧的表格或视图以及右侧的立方体。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2400" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE JOIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2400 d12486e2381 ">
                                    <p><code class="codeph">抗</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2400 d12486e2384 ">
                                    <p>对左边的表或视图使用反连接，在右边使用立方体。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2412" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE JOIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2412 d12486e2381 ">
                                    <p><code class="codeph">反SNA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2412 d12486e2384 ">
                                    <p>对左侧的表或视图使用反连接（单面Null Aware），在右侧使用立方体。右侧（多维数据集侧）的连接<code class="codeph">NOT NULL</code> 。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT cols FROM table WHERE table.c1 NOT IN（SELECT col FROM cube WHERE cube.col IS NOT NULL）</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2429" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE JOIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2429 d12486e2381 ">
                                    <p><code class="codeph">外</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2429 d12486e2384 ">
                                    <p>对左侧的表或视图使用外部联接，在右侧使用多维数据集。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2441" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE JOIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2441 d12486e2381 ">
                                    <p><code class="codeph">正确的SEMI</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2441 d12486e2384 ">
                                    <p>使用右侧半连接表示左侧的表格或视图，右侧使用立方体。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2453" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE SCAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2453 d12486e2381 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2453 d12486e2384 ">
                                    <p><a id="d12486e2462" class="indexterm-anchor"></a>使用内部联接进行所有多维数据集访问。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2466" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE SCAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2466 d12486e2381 ">
                                    <p><code class="codeph">部分外部</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2466 d12486e2384 ">
                                    <p>使用外部联接至少一个维度，内部联接使用其他维度。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2478" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE SCAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2478 d12486e2381 ">
                                    <p><code class="codeph">外</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2478 d12486e2384 ">
                                    <p>使用外部联接进行所有多维数据集访问。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-3F1F9973-3702-4545-953A-563A43BC2712__GUID-37D8EA75-A7AD-4981-BDC2-E63691628F33">
                           <p class="notep1">也可以看看：</p>
                           <p>有关这些连接类型的描述，请<a href="../sqlrf/Joins.html#SQLRF30046" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a>
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OLAUG9478"></a><a id="OLAUG9186"></a><div class="props_rev_3"><a id="GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288" name="GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288"></a><h3 id="OLAUG-GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288" class="sect3"><span class="enumeration_section">4.8</span>查询数据字典</h3>
               <div>
                  <div class="section">
                     <p>如果您正在开发通用应用程序 - 即，未知维度对象名称的应用程序 - 那么您的应用程序可以从数据字典中检索此信息。</p>
                     <p><a id="d12486e2551" class="indexterm-anchor"></a><a id="d12486e2553" class="indexterm-anchor"></a>在数据库数据字典的静态视图中，提供有关维对象的信息。所有OLAP元数据都存储在数据字典中。本章前面介绍了一些数据字典视图。
                     </p>
                     <p><a href="querying-dimensional-objects.html#GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288__CBAHIDHG" title="OLAP的静态数据字典视图的描述">表4-2</a>提供了<code class="codeph">ALL</code>视图的简要说明。有相应的<code class="codeph">DBA</code>和<code class="codeph">USER</code>视图。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288__CBAHIDHG">
                     <p class="titleintable">表4-2 OLAP的静态数据字典视图</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="OLAP的静态数据字典视图" width="100%" border="1" summary="Descriptions of static data dictionary views for OLAP" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="41%" id="d12486e2581">视图</th>
                              <th align="left" valign="bottom" width="59%" id="d12486e2584">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2589" headers="d12486e2581 ">
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/olaug&amp;id=REFRN20691" target="_blank"><code class="codeph">ALL_CUBE_ATTR_VISIBILITY</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2589 d12486e2584 ">
                                 <p>描述多维数据集维度的属性的可见性。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2599" headers="d12486e2581 ">
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/olaug&amp;id=REFRN20671" target="_blank"><code class="codeph">ALL_CUBE_ATTRIBUTES</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2599 d12486e2584 ">
                                 <p>描述多维数据集维度的属性。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2609" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_BUILD_PROCESSES.html#REFRN20718" target="_blank"><code class="codeph">ALL_CUBE_BUILD_PROCESSES</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2609 d12486e2584 ">
                                 <p>描述多维数据集构建过程和维护脚本。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2619" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_CALCULATED_MEMBERS.html#REFRN20672" target="_blank"><code class="codeph">ALL_CUBE_CALCULATED_MEMBERS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2619 d12486e2584 ">
                                 <p>描述多维数据集维度的计算成员（键）。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2629" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIM_LEVELS.html#REFRN20677" target="_blank"><code class="codeph">ALL_CUBE_DIM_LEVELS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2629 d12486e2584 ">
                                 <p>描述多维数据集维度级别。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2639" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIM_MODELS.html#REFRN20678" target="_blank"><code class="codeph">ALL_CUBE_DIM_MODELS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2639 d12486e2584 ">
                                 <p>描述立方体尺寸的模型。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2649" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIM_VIEW_COLUMNS.html#REFRN20680" target="_blank"><code class="codeph">ALL_CUBE_DIM_VIEW_COLUMNS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2649 d12486e2584 ">
                                 <p>描述系统生成的多维数据集维度关系视图的列。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2659" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIM_VIEWS.html#REFRN20679" target="_blank"><code class="codeph">ALL_CUBE_DIM_VIEWS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2659 d12486e2584 ">
                                 <p>描述系统生成的OLAP维度的关系视图。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2669" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIMENSIONALITY.html#REFRN20674" target="_blank"><code class="codeph">ALL_CUBE_DIMENSIONALITY</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2669 d12486e2584 ">
                                 <p>描述OLAP多维数据集的维度顺序。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2679" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIMENSIONS.html#REFRN20690" target="_blank"><code class="codeph">ALL_CUBE_DIMENSIONS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2679 d12486e2584 ">
                                 <p>描述立方体尺寸。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2689" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_HIER_LEVELS.html#REFRN20685" target="_blank"><code class="codeph">ALL_CUBE_HIER_LEVELS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2689 d12486e2584 ">
                                 <p>描述多维数据集维度的层次结构级别。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2700" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_HIER_VIEW_COLUMNS.html#REFRN20687" target="_blank"><code class="codeph">ALL_CUBE_HIER_VIEW_COLUMNS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2700 d12486e2584 ">
                                 <p>描述多维数据集维度的关系层次结构视图的列。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2710" headers="d12486e2581 ">
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/olaug&amp;id=REFRN20686" target="_blank"><code class="codeph">ALL_CUBE_HIER_VIEWS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2710 d12486e2584 ">
                                 <p>描述多维数据集维度的层次结构。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2720" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_HIERARCHIES.html#REFRN20684" target="_blank"><code class="codeph">ALL_CUBE_HIERARCHIES</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2720 d12486e2584 ">
                                 <p>描述OLAP维层次结构。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2730" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_MEASURES.html#REFRN20688" target="_blank"><code class="codeph">ALL_CUBE_MEASURES</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2730 d12486e2584 ">
                                 <p>描述OLAP多维数据集中的度量。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2740" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_VIEW_COLUMNS.html#REFRN20676" target="_blank"><code class="codeph">ALL_CUBE_VIEW_COLUMNS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2740 d12486e2584 ">
                                 <p>描述OLAP多维数据集的关系视图的列。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2750" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_VIEWS.html#REFRN20675" target="_blank"><code class="codeph">ALL_CUBE_VIEWS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2750 d12486e2584 ">
                                 <p>描述系统生成的OLAP多维数据集的关系视图。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2760" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBES.html#REFRN20673" target="_blank"><code class="codeph">ALL_CUBES</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2760 d12486e2584 ">
                                 <p>描述OLAP多维数据集。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2770" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_MEASURE_FOLDER_CONTENTS.html#REFRN20716" target="_blank"><code class="codeph">ALL_MEASURE_FOLDER_CONTENTS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2770 d12486e2584 ">
                                 <p>描述OLAP度量文件夹的内容。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2780" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_MEASURE_FOLDERS.html#REFRN20689" target="_blank"><code class="codeph">ALL_MEASURE_FOLDERS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2780 d12486e2584 ">
                                 <p>描述OLAP度量文件夹。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288__GUID-31122669-3148-46AB-A7D1-F0D9C007C4BD">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/olaug&amp;id=REFRN20691" target="_blank"><span class="italic">Oracle数据库参考，</span></a>用于完整描述数据字典视图。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00889.configuring-appc-gateway-sna.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>使用SNA通信协议配置网关</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Installation and Configuration Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Installation and Configuration Guide for IBM AIX on POWER Systems (64-Bit), Linux x86-64, Oracle Solaris on SPARC (64-Bit), and HP-UX Itanium"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-appc-installation-and-configuration-guide-aix-5l-based-systems-64-bit-hp-ux-itanium-solaris-operating-system-sparc-64-bit-linux-x86-and-linux-x86-64.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T19:10:33-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18241-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="appc-gateway-config-sna-solaris.html" title="Previous" type="text/html"></link>
      <link rel="next" href="appc-gateway-config-oltp.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64"></meta>
    <meta name="dcterms.isVersionOf" content="APPCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="appc-gateway-config-sna-solaris.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="appc-gateway-config-oltp.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安装和配置指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用SNA通信协议配置网关</li>
            </ol>
            <a id="GUID-945BBB21-1C48-41FE-A909-D22B9874EBE3" name="GUID-945BBB21-1C48-41FE-A909-D22B9874EBE3"></a><a id="APPCI216"></a>
            
            <h2 id="APPCI-GUID-945BBB21-1C48-41FE-A909-D22B9874EBE3" class="sect2"><span class="enumeration_chapter">9</span>使用SNA通信协议配置网关</h2>
         </header>
         <div class="ind">
            <div>
               <p>以下主题描述如何在基于UNIX的平台上使用SNA协议为网关配置Oracle数据库。它还向您展示了如何配置commit-confirm，如果您选择实现它。</p>
               <p>这些主题提供了验证网关组件的安装和配置所需的步骤，包括可选的commit-confirm。</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-6DED1EB3-BEE6-491E-AD74-CBFFE656883C">在你开始之前</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E">准备配置网关安装/升级</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D">Oracle数据库配置：首次网关安装</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-48D53BAD-4F1D-4789-842A-00FAE311B565">从以前的网关升级或迁移Oracle数据库</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-0323371A-CA16-4CC7-9055-3D136A8314A0">配置Oracle数据库网关共存</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-0DE22027-F985-4E80-982C-F5521271D288">允许多个用户的可选配置步骤</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4">配置网关</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-544B3014-8746-41E6-9132-12E473D38254">配置提交确认</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-B0F01C9F-3BBB-4579-8B3D-ACCCE3CCED56">验证网关安装和OLTP配置</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-835A25DB-1E5B-485C-9054-E920CC262570">执行安装后程序</a></p>
                  </li>
               </ul>
               <p><a id="d10176e84" class="indexterm-anchor"></a><a id="d10176e88" class="indexterm-anchor"></a><a id="d10176e92" class="indexterm-anchor"></a>使用SNA为APPC配置Oracle数据库网关涉及使用以下组件：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p>Oracle数据库</p>
                  </li>
                  <li>
                     <p>UNIX系统</p>
                  </li>
                  <li>
                     <p>网络</p>
                  </li>
                  <li>
                     <p>OLTP</p>
                  </li>
               </ul>
            </div><a id="APPCI217"></a><div class="props_rev_3"><a id="GUID-6DED1EB3-BEE6-491E-AD74-CBFFE656883C" name="GUID-6DED1EB3-BEE6-491E-AD74-CBFFE656883C"></a><h3 id="APPCI-GUID-6DED1EB3-BEE6-491E-AD74-CBFFE656883C" class="sect3">在你开始之前</h3>
               <div>
                  <p>使用SNA通信协议的网关配置要求您输入系统特有的参数，以正确配置网关和SNA通信接口。</p>
                  <p>有关列出在完成配置过程之前需要了解的安装参数的工作<a href="appc-gateway-configuration-worksheet.html#GUID-2660834A-3E7D-4288-BDAA-AC38EC4D6230">表</a> ，请参阅<a href="appc-gateway-configuration-worksheet.html#GUID-2660834A-3E7D-4288-BDAA-AC38EC4D6230">配置工作</a>表。在开始之前，请让网络管理员为您提供这些唯一的参数名称。
                  </p>
               </div>
            </div><a id="APPCI362"></a><a id="APPCI363"></a><a id="APPCI364"></a><a id="APPCI218"></a><div class="props_rev_3"><a id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E" name="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E"></a><h3 id="APPCI-GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E" class="sect3">准备配置网关安装/升级</h3>
               <div>
                  <div class="section">
                     <p>在安装或升级或迁移网关时，有三种方法可以建立网关 -  Oracle数据库关系：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="configuring-appc-gateway-sna.html#GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012371">当Oracle数据库和网关安装在相同的ORACLE_HOME中时</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-appc-gateway-sna.html#GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012376">在单独的系统上安装Oracle数据库和网关时</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-appc-gateway-sna.html#GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012381">当Oracle数据库和网关位于同一系统但位于不同目录中时</a></p>
                        </li>
                     </ul>
                     <p><a id="d10176e202" class="indexterm-anchor"></a><a id="d10176e206" class="indexterm-anchor"></a><a id="d10176e210" class="indexterm-anchor"></a>根据网关和Oracle数据库的位置，您可能需要将某些网关管理文件传输到安装Oracle数据库的位置。
                     </p>
                     <p>按照下面列出的网关-Oracle数据库位置组合对应的说明进行操作。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012371">
                     <p class="subhead2" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__GUID-FCFA7BC4-8110-4426-8F6B-B68806B1AD47">当Oracle数据库和网关安装在相同的ORACLE_HOME中时</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您不需要传输文件。继续<a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D">Oracle数据库配置：首次网关安装</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012376">
                     <p class="subhead2" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__GUID-9BBDC1F1-7E57-4094-89D6-19D1388A2D7A">在单独的系统上安装Oracle数据库和网关时</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>如果Oracle数据库和网关安装在不同的系统上，则需要执行以下任务：</p>
                     <ol>
                        <li>
                           <p>在网关<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中找到网关管理文件。此目录中包含<code class="codeph">.sql</code> ， <code class="codeph">.pkh</code> ， <span class="bold"> </span>或<code class="codeph">.pkb</code>后缀必须复制到Oracle数据库Oracle主目录中具有类似名称的目录中。
                           </p>
                        </li>
                        <li>
                           <p>现在，在网关的<code class="codeph">$ORACLE_HOME/dg4appc/demo</code>目录中找到网关演示文件和子目录。将<code class="codeph">pgavsn.sql</code>和<code class="codeph">pgaecho.sql</code>文件复制到Oracle数据库中名称相似的目录中。
                           </p>
                        </li>
                        <li>
                           <p>在远程主机上复制与已安装的OLTP相关的其他子目录和文件。例如，如果您将CICS作为唯一的OLTP，则将<code class="codeph">$ORACLE_HOME/dg4appc/demo/CICS</code>网关文件复制到Oracle数据库中名称相似的目录中。
                           </p>
                           <div class="infoboxnote" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__GUID-30E48FE2-2823-4878-A651-CF1F0549A06C">
                              <p class="notep1">注意：</p>
                              <p>在从<code class="codeph">$ORACLE_HOME/dg4appc/demo</code>目录传输文件之前，请确保已生成所需的TIP。您还需要转移TIP。
                              </p>
                              <p>有关使用Procedural Gateway Administrative Utility（PGAU）生成TIP的信息，请参阅“ <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC用户指南”</span></a> 。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012381">
                     <p class="subhead2" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__GUID-0D156646-C9FA-4219-B334-48A06AF6ED00">当Oracle数据库和网关位于同一系统但位于不同目录中时</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您必须将网关Oracle主目录更改为Oracle数据库的Oracle主目录。</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>例如，如果您的网关Oracle主目录设置如下：</span><div><pre class="oac_no_warn" dir="ltr">$ echo $ ORACLE_HOME /oracle/pga/12.2</pre><p>并且您的服务器Oracle主目录位于<code class="codeph">/oracle/pga/12.2</code>目录中，然后您需要执行以下操作：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME = / oracle / pga / 12.2;导出ORACLE_HOME</pre></div>
                     </li>
                     <li class="stepexpand"><span>现在使用以下命令创建目录：<a id="d10176e311" class="indexterm-anchor"></a></span><div><pre class="oac_no_warn" dir="ltr">$ cd $ ORACLE_HOME $ mkdir dg4appc $ mkdir dg4appc / admin</pre></div>
                     </li>
                     <li class="stepexpand"><span>使用系统上可用的任何文件传输机制将所有<code class="codeph">.sql</code> ， <code class="codeph">.pkh</code>和<code class="codeph">.pkb</code>文件从网关Oracle home <code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>到Oracle数据库Oracle主目录<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录。</span></li>
                     <li class="stepexpand"><span>您还可以将演示文件从网关目录传输到Oracle数据库目录。将文件和目录以递归方式从网关Oracle home <code class="codeph">$ORACLE_HOME/dg4appc/demo</code>目录<code class="codeph">$ORACLE_HOME/dg4appc/demo</code>到Oracle数据库<code class="codeph">$ORACLE_HOME/dg4appc/demo</code>目录。</span><div>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">$ cp -p -R /oracle/pga/12.2/dg4appc/demo $ ORACLE_HOME / dg4appc</pre><div class="infoboxnote" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__GUID-C1EBFCEB-5D4C-4C35-B35F-5C30A4BCC110">
                              <p class="notep1">注意：</p>
                              <p>在从<code class="codeph">$ORACLE_HOME/dg4appc/demo</code>目录传输文件之前，请确保已生成所需的TIP。您还需要转移TIP。
                              </p>
                              <p>有关使用PGAU生成TIP的信息，请参阅“ <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC用户指南”</span></a> 。</p>
                           </div>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>如果这是首次安装，请继续<a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D">Oracle数据库配置：首次网关安装</a> 。
                     </p>
                     <p>如果这是升级，请继续<a href="configuring-appc-gateway-sna.html#GUID-48D53BAD-4F1D-4789-842A-00FAE311B565">从以前的网关升级或迁移Oracle数据库</a> 。
                     </p>
                     <p>执行这些步骤后，您可能希望执行“ <a href="configuring-appc-gateway-sna.html#GUID-0DE22027-F985-4E80-982C-F5521271D288">允许多个用户</a>的<a href="configuring-appc-gateway-sna.html#GUID-0DE22027-F985-4E80-982C-F5521271D288">可选配置步骤”</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCI219"></a><div class="props_rev_3"><a id="GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D" name="GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D"></a><h3 id="APPCI-GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D" class="sect3">Oracle数据库配置：首次网关安装</h3>
               <div>
                  <div class="section">
                     <p>请按照以下步骤配置您的<a id="d10176e417" class="indexterm-anchor"></a> Oracle数据库，如果您是第一次安装Oracle Database Gateway for APPC：</p>
                     <ol>
                        <li>
                           <p>确保<a id="d10176e428" class="indexterm-anchor"></a><a id="d10176e430" class="indexterm-anchor"></a><a id="d10176e434" class="indexterm-anchor"></a>您的Oracle数据库上已安装<code class="codeph">UTL_RAW</code> PL / SQL包。<a id="d10176e443" class="indexterm-anchor"></a><a id="d10176e449" class="indexterm-anchor"></a>所有PGAU生成的TIP规范都使用<code class="codeph">UTL_RAW</code> ，它提供了操作原始数据的例程。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>使用<a id="d10176e461" class="indexterm-anchor"></a> SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE UTL_RAW</pre><p><code class="codeph">DESCRIBE</code>语句在屏幕上生成输出。如果浏览输出，则应该看到一些函数，包括比较函数。如果没有看到此输出，请执行下面的步骤<a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1009705">1.d</a>继续安装<code class="codeph">UTL_RAW</code> 。
                                 </p>
                                 <p>如果<a id="d10176e487" class="indexterm-anchor"></a><a id="d10176e491" class="indexterm-anchor"></a> <code class="codeph">DESCRIBE</code>语句表示成功，然后是Oracle数据库<a id="d10176e496" class="indexterm-anchor"></a> <code class="codeph">UTL_RAW</code>安装<code class="codeph">UTL_RAW</code> ，您可以继续执行步骤<a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1009709">2</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>使用<a id="d10176e507" class="indexterm-anchor"></a> SQL * Plus以SYS用户身份连接到Oracle数据库。
                                 </p>
                              </li>
                              <li id="GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1009705">
                                 <p>从SQL * Plus，运行<a id="d10176e515" class="indexterm-anchor"></a><a id="d10176e519" class="indexterm-anchor"></a> <code class="codeph">utlraw.sql</code>和<a id="d10176e526" class="indexterm-anchor"></a><a id="d10176e528" class="indexterm-anchor"></a> Oracle数据库<code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录中的<code class="codeph">prvtrawb.plb</code>脚本，顺序如下：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / rdbms / admin / utlraw.sql SQL&gt; @ $ ORACLE_HOME / rdbms / admin / prvtrawb.plb</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1009709">
                           <p>确保<a id="d10176e543" class="indexterm-anchor"></a><a id="d10176e545" class="indexterm-anchor"></a> DBMS_OUTPUT标准PL / SQL <a id="d10176e550" class="indexterm-anchor"></a><a id="d10176e552" class="indexterm-anchor"></a><a id="d10176e556" class="indexterm-anchor"></a>包已启用<a id="d10176e561" class="indexterm-anchor"></a> Oracle数据库。分发介质上的示例程序和安装验证程序使用此标准程序包。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>如有必要，使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE DBMS_OUTPUT</pre></li>
                           </ol>
                           <p>该<a id="d10176e580" class="indexterm-anchor"></a><a id="d10176e584" class="indexterm-anchor"></a> <code class="codeph">DESCRIBE</code>语句在屏幕上生成输出。如果浏览该输出，您应该看到一些功能，包括a <a id="d10176e591" class="indexterm-anchor"></a><a id="d10176e593" class="indexterm-anchor"></a> <code class="codeph">put_line</code>函数。
                           </p>
                           <p>如果没有看到此输出，则必须创建<code class="codeph">DBMS_OUTPUT</code>包。有关<code class="codeph">DBMS_OUTPUT</code>程序包的更多信息，请参阅<a href="../arpls/DBMS_OUTPUT.html#ARPLS036" target="_blank"><span class="italic">Oracle数据库PL / SQL程序包和类型参考</span></a> 。成功安装<code class="codeph">DBMS_OUTPUT</code>包后，发出<code class="codeph">DESCRIBE</code>语句。
                           </p>
                           <p>如果<code class="codeph">DESCRIBE</code>语句指示成功，则Oracle数据库已创建<code class="codeph">DBMS_OUTPUT</code> ，您可以继续执行步骤3。
                           </p>
                        </li>
                        <li>
                           <p>安装<a id="d10176e630" class="indexterm-anchor"></a><a id="d10176e634" class="indexterm-anchor"></a> <code class="codeph">UTL_PG</code> PL / SQL包。所有<a id="d10176e641" class="indexterm-anchor"></a><a id="d10176e647" class="indexterm-anchor"></a> PGAU生成的TIP规范使用<code class="codeph">UTL_PG</code> ，它提供了与原始数据进行数字转换的例程。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>如有必要，使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，运行<a id="d10176e665" class="indexterm-anchor"></a><a id="d10176e669" class="indexterm-anchor"></a> Oracle数据库<code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录中的<code class="codeph">utlpg.sql</code>和<code class="codeph">prvtpgb.plb</code>脚本，顺序如下：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / rdbms / admin / utlpg.sql SQL&gt; @ $ ORACLE_HOME / rdbms / admin / prvtpgb.plb</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>我安装了异构服务（HS）目录。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>如有必要，使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE HS_FDS_CLASS</pre><p><code class="codeph">DESCRIBE</code>语句在屏幕上生成输出。如果<code class="codeph">DESCRIBE</code>语句指示成功，则已在Oracle数据库上创建异构服务目录，您可以继续执行步骤5，否则仅在<code class="codeph">DESCRIBE</code>语句未指示成功时才执行下一步。步骤c创建异构服务目录。
                                 </p>
                              </li>
                              <li>
                                 <p>如果需要创建异构服务目录，请输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; $ ORACLE_HOME / rdbms / admin / caths.sql</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1008586">
                           <p><a id="d10176e724" class="indexterm-anchor"></a><a id="d10176e728" class="indexterm-anchor"></a>创建公共数据库链接以访问Oracle Database Gateway for APPC： <a id="d10176e735" class="indexterm-anchor"></a> 
                           </p>
                           <p>使用<a id="d10176e742" class="indexterm-anchor"></a> SQL * Plus连接到<a id="d10176e747" class="indexterm-anchor"></a> Oracle数据库作为<code class="codeph">SYSTEM</code>用户。您可以使用以下SQL * Plus <a id="d10176e753" class="indexterm-anchor"></a>表示Oracle数据库和网关是在同一系统上还是在不同系统上。在下面的示例中， <code class="codeph">pgasrv</code>是<span class="italic"><code class="codeph">tns_name_entry</code></span> ，稍后修改<code class="codeph">tnsnames.ora</code>文件时将分配给网关。
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt;使用' <span class="italic">PGASRV</span> '创建公共数据库链接PGA</pre></li>
                        <li>
                           <p>创建网关管理员用户<a id="d10176e777" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code>并安装<a id="d10176e784" class="indexterm-anchor"></a> PG DD。</p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以<code class="codeph">SYSTEM</code>用户身份连接到Oracle数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，运行<code class="codeph">pgacr8au.sql</code> <a id="d10176e802" class="indexterm-anchor"></a><a id="d10176e804" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中的脚本。此脚本创建<code class="codeph">PGAADMIN</code>用户标识。</p>
                                 <p>定义的初始密码<a id="d10176e818" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code>是<code class="codeph">PGAADMIN</code> 。使用<a id="d10176e828" class="indexterm-anchor"></a><a id="d10176e830" class="indexterm-anchor"></a> <code class="codeph">ALTER USER</code>命令用于更改密码。有关密码问题的更多信息，请参阅<a href="../sqlrf/ALTER-USER.html#SQLRF01103" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / pgacr8au.sql</pre></li>
                              <li>
                                 <p>使用SQL * Plus以用户<code class="codeph">PGAADMIN</code>连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，运行<code class="codeph">pgddcr8.sql</code> <a id="d10176e856" class="indexterm-anchor"></a><a id="d10176e858" class="indexterm-anchor"></a><a id="d10176e862" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中的脚本。此脚本安装PG DD。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / pgddcr8.sql</pre></li>
                              <li>
                                 <p>从SQL * Plus，以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d10176e882" class="indexterm-anchor"></a>授予执行权限<a id="d10176e887" class="indexterm-anchor"></a> <code class="codeph">DBMS_PIPE</code>到<code class="codeph">PGAADMIN</code> ：<a id="d10176e895" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT EXECUTE DBMS_PIPE到PGAADMIN</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>安装<a id="d10176e904" class="indexterm-anchor"></a><a id="d10176e908" class="indexterm-anchor"></a> TIP跟踪访问PL / SQL例程。这些例程需要<a id="d10176e911" class="indexterm-anchor"></a>安装了DBMS_PIPES标准PL / SQL包<a id="d10176e914" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code>具有执行权限。有关<code class="codeph">DBMS_PIPES</code>更多信息，请参阅<a href="../arpls/index.html" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>如有必要，请使用SQL * Plus连接到<a id="d10176e932" class="indexterm-anchor"></a> Oracle数据库作为用户<code class="codeph">PGAADMIN</code> 。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，在<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中运行<code class="codeph">pgatiptr.sql</code>脚本。这个脚本创建<a id="d10176e947" class="indexterm-anchor"></a> PL / SQL例程，可以调用它们来读取和清除由PGAU生成的跟踪信息<a id="d10176e952" class="indexterm-anchor"></a>提示规格。它还为这些例程创建公共同义词。该脚本会提示您输入必要的用户标识和密码。
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / pgatiptr.sql</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>安装<code class="codeph">GPGLOCAL</code>包。编译和执行所有PGAU生成时需要此包<a id="d10176e965" class="indexterm-anchor"></a>提示规格。<a id="d10176e970" class="indexterm-anchor"></a><a id="d10176e974" class="indexterm-anchor"></a><a id="d10176e978" class="indexterm-anchor"></a>应该授予TIP开发人员执行权限<a id="d10176e983" class="indexterm-anchor"></a> <code class="codeph">GPGLOCAL</code> （请参阅<span class="q">“ <a href="configuring-appc-gateway-sna.html#GUID-0DE22027-F985-4E80-982C-F5521271D288__I1012843">允许多个用户的可选配置步骤</a> ”的</span>步骤<a href="config-appc-gateway-using-tcp-ip.html#GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A__I1012843">3</a> ）。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以用户身份连接到Oracle数据库<a id="d10176e1001" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code> 。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，在<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中运行<code class="codeph">gpglocal.pkh</code>脚本。该脚本编译<code class="codeph">GPGLOCAL</code>包规范。<a id="d10176e1020" class="indexterm-anchor"></a><a id="d10176e1022" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / gpglocal.pkh</pre></li>
                              <li>
                                 <p>从SQL * Plus，在<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中运行<code class="codeph">gpglocal.pkb</code>脚本。该脚本编译<code class="codeph">GPGLOCAL</code>包体。<a id="d10176e1042" class="indexterm-anchor"></a><a id="d10176e1044" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / gpglocal.pkb</pre></li>
                           </ol>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCI220"></a><div class="props_rev_3"><a id="GUID-48D53BAD-4F1D-4789-842A-00FAE311B565" name="GUID-48D53BAD-4F1D-4789-842A-00FAE311B565"></a><h3 id="APPCI-GUID-48D53BAD-4F1D-4789-842A-00FAE311B565" class="sect3">从以前的网关升级或迁移Oracle数据库</h3>
               <div>
                  <div class="section">
                     <p>仅当您的系统上安装了以前版本的Oracle Database Gateway for APPC并且需要为网关的12 <span class="italic">c</span>版本2（12.2）配置它时，请遵循这些说明。
                     </p>
                     <p>将Oracle Database Gateway for APPC升级到当前版本级别，如下所示：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。</span></li>
                     <li class="stepexpand"><span>安装<code class="codeph">UTL_RAW</code>包体。从SQL * Plus中，运行<code class="codeph">prvtrawb.plb</code> <a id="d10176e1118" class="indexterm-anchor"></a><a id="d10176e1120" class="indexterm-anchor"></a>来自<code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录的脚本。该脚本升级<code class="codeph">UTL_RAW</code>包体。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / rdbms / admin / prvtrawb.plb</pre></div>
                     </li>
                     <li class="stepexpand"><span>安装<code class="codeph">UTL_PG</code>包体。从SQL * Plus中，运行<code class="codeph">prvtpgb.plb</code> <a id="d10176e1143" class="indexterm-anchor"></a><a id="d10176e1147" class="indexterm-anchor"></a>来自<code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录的脚本。 <a id="d10176e1155" class="indexterm-anchor"></a><a id="d10176e1160" class="indexterm-anchor"></a> 此脚本升级<code class="codeph">UTL_PG</code>程序包主体。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / rdbms / admin / prvtpgb.plb</pre><p><code class="codeph">prvtrawb.plb</code>和<code class="codeph">prvtpgb.plb</code>脚本应该成功完成。如果由于规范不存在或无效而失败，请考虑按照以下部分的说明重新安装软件包规范。
                           </p>
                        </div>
                     </li>
                  </ol>
               </div><a id="APPCI385"></a><a id="APPCI386"></a><a id="APPCI221"></a><div class="props_rev_3"><a id="GUID-51835C81-F475-4490-B9A7-4E872EC86D38" name="GUID-51835C81-F475-4490-B9A7-4E872EC86D38"></a><h4 id="APPCI-GUID-51835C81-F475-4490-B9A7-4E872EC86D38" class="sect4">如果必须重新安装包规范</h4>
                  <div>
                     <div class="section">
                        <p>如果<a id="d10176e1223" class="indexterm-anchor"></a><a id="d10176e1229" class="indexterm-anchor"></a> <code class="codeph">UTL_RAW</code>或<a id="d10176e1238" class="indexterm-anchor"></a><a id="d10176e1244" class="indexterm-anchor"></a> <code class="codeph">UTL_PG</code>程序包已失效或卸载， <code class="codeph">prvtrawb.plb</code>和<code class="codeph">prvtpgb.plb</code>脚本可能无法成功完成，您可能必须重新安装<a id="d10176e1260" class="indexterm-anchor"></a><a id="d10176e1264" class="indexterm-anchor"></a><a id="d10176e1268" class="indexterm-anchor"></a>包装规格。
                        </p>
                        <p>如果确实重新安装了软件包规范，则任何相关对象（例如现有用户TIP和客户端应用程序）都将失效，并且随后将需要<a id="d10176e1277" class="indexterm-anchor"></a>要重新编译。这种影响是一次性能延迟，同时重新编译TIP和从属客户端应用程序。
                        </p>
                        <div class="infoboxnote" id="GUID-51835C81-F475-4490-B9A7-4E872EC86D38__GUID-B2627796-3BE1-48CA-834B-8B7D8996718A">
                           <p class="notep1">注意：</p>
                           <p>在继续重新安装包脚本之前，请确保您位于<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中。
                           </p>
                        </div>
                        <p>TIP在版本3.3中被拆分为单独的规范和正文文件，以避免在以后的版本中进行级联重新编译。</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-51835C81-F475-4490-B9A7-4E872EC86D38__GUID-181B9164-5FC3-407E-A2E0-2020A68CD63E"><!-- --></a>步骤1在继续PGAU升级之前运行以下脚本</dt>
                           <dd>
                              <p>从SQL * Plus，运行<code class="codeph">utlraw.sql</code>脚本：</p>
                              <ol>
                                 <li>
                                    <p>如有必要，使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。
                                    </p>
                                 </li>
                                 <li>
                                    <p>从SQL * Plus中，按以下顺序在Oracle数据库<code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录中运行<code class="codeph">utlraw.sql</code>和<code class="codeph">utlpg.sql</code>脚本，以升级其各自的包规范： <a id="d10176e1325" class="indexterm-anchor"></a><a id="d10176e1329" class="indexterm-anchor"></a><a id="d10176e1333" class="indexterm-anchor"></a><a id="d10176e1337" class="indexterm-anchor"></a> 
                                    </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / rdbms / admin / utlraw.sql SQL&gt; @ $ ORACLE_HOME / rdbms / admin / utlpg.sql</pre></li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-51835C81-F475-4490-B9A7-4E872EC86D38__GUID-EFAADD91-92B4-4A3C-9846-64F37A6011AD"><!-- --></a>步骤2重复安装UTL_RAW和UTL_PG包体</dt>
                           <dd>
                              <p>脚本运行后，重复<a href="configuring-appc-gateway-sna.html#GUID-48D53BAD-4F1D-4789-842A-00FAE311B565">从以前的网关升级或迁移Oracle数据库中的</a>步骤2和3。然后继续执行标题为<span class="q">“ <a href="configuring-appc-gateway-sna.html#GUID-3100F0AE-E61D-485B-A37D-F5A023F6EF31">从先前网关版本升级PGAU</a> ”的部分</span> 。
                              </p>
                              <div class="infoboxnote" id="GUID-51835C81-F475-4490-B9A7-4E872EC86D38__GUID-8C266EC6-A473-4EE1-90CB-2A1B6E7416C2">
                                 <p class="notep1">注意：</p>
                                 <p>重新安装软件包规范后，必须重新编译TIP和从属客户端应用程序。有关编译TIP的信息，请参阅“ <a href="../appug/creating-tip-oracle-database-gateway-appc.html#APPUG300" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南</span></a> ”第3章中的“编译提示”部分。
                                 </p>
                              </div>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPCI222"></a><div class="props_rev_3"><a id="GUID-3100F0AE-E61D-485B-A37D-F5A023F6EF31" name="GUID-3100F0AE-E61D-485B-A37D-F5A023F6EF31"></a><h4 id="APPCI-GUID-3100F0AE-E61D-485B-A37D-F5A023F6EF31" class="sect4">从以前的网关版本升级PGAU</h4>
                  <div>
                     <div class="section">
                        <p>升级了<a id="d10176e1400" class="indexterm-anchor"></a>在执行新的PGAU之前，PG DD如下：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>如有必要，使用SQL * Plus以用户<code class="codeph">PGAADMIN</code>连接到Oracle数据库。</span></li>
                        <li><span>从SQL * Plus，运行<code class="codeph">pgddupgr.sql</code> <a id="d10176e1418" class="indexterm-anchor"></a><a id="d10176e1420" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中的脚本。此脚本升级PG DD。</span></li>
                     </ol>
                  </div>
               </div>
            </div><a id="APPCI223"></a><div class="props_rev_3"><a id="GUID-0323371A-CA16-4CC7-9055-3D136A8314A0" name="GUID-0323371A-CA16-4CC7-9055-3D136A8314A0"></a><h3 id="APPCI-GUID-0323371A-CA16-4CC7-9055-3D136A8314A0" class="sect3">配置Oracle数据库网关共存</h3>
               <div>
                  <div class="section">
                     <p><a id="d10176e1462" class="indexterm-anchor"></a>您可能已安装较旧版本的网关。请注意，虽然版本10网关可以与版本9数据字典（PGDD）通信，但版本9网关无法与版本10数据字典通信。因此，如果将数据字典升级到版本10，则没有配置版本9数据字典的网关将能够与之通信。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-0DE22027-F985-4E80-982C-F5521271D288" name="GUID-0DE22027-F985-4E80-982C-F5521271D288"></a><h3 id="APPCI-GUID-0DE22027-F985-4E80-982C-F5521271D288" class="sect3">允许多个用户的可选配置步骤</h3>
               <div>
                  <div class="section">
                     <p>以下配置步骤是可选的。如果要允许除以外的用户，请执行这些步骤<a id="d10176e1514" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code>表演<a id="d10176e1521" class="indexterm-anchor"></a>使用PGAU的PG DD操作。</p>
                     <ol>
                        <li>
                           <p>创建<a id="d10176e1530" class="indexterm-anchor"></a><a id="d10176e1532" class="indexterm-anchor"></a> PG DD的公共同义词，允许其他用户访问表：</p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以<code class="codeph">SYSTEM</code>用户身份连接到Oracle数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，运行<a id="d10176e1547" class="indexterm-anchor"></a><a id="d10176e1549" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中的<code class="codeph">pgddcr8s.sql</code>脚本。此脚本为PG DD创建公共同义词。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / pgddcr8s.sql</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>创建角色以访问PG DD，执行事务定义和生成<a id="d10176e1566" class="indexterm-anchor"></a>提示规格。<code class="codeph">PGAADMIN</code>用户可以根据需要将这些角色授予其他用户。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以用户<code class="codeph">PGAADMIN</code>连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，在<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中运行<code class="codeph">pgddcr8r.sql</code>脚本。该脚本创建了两个角色， <code class="codeph">PGDDDEF</code>和<code class="codeph">PGDDGEN</code> 。该<a id="d10176e1599" class="indexterm-anchor"></a><a id="d10176e1601" class="indexterm-anchor"></a> <code class="codeph">PGDDDEF</code>角色为<code class="codeph">PGDDDEF</code>角色提供<code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>权限<a id="d10176e1621" class="indexterm-anchor"></a> PG DD表和对其他人的<code class="codeph">SELECT</code>权限，并允许执行PGAU <code class="codeph">DEFINE</code> ， <code class="codeph">GENERATE</code> ， <code class="codeph">REDEFINE</code> ， <code class="codeph">REPORT</code>和<code class="codeph">UNDEFINE</code>语句。该<a id="d10176e1645" class="indexterm-anchor"></a><a id="d10176e1647" class="indexterm-anchor"></a> <code class="codeph">PGDDGEN</code>角色为PG DD表提供select权限，并且只允许执行PGAU <code class="codeph">GENERATE</code>和<code class="codeph">REPORT</code>语句。
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / pgddcr8r.sql</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-0DE22027-F985-4E80-982C-F5521271D288__I1012843">
                           <p><a id="d10176e1664" class="indexterm-anchor"></a><a id="d10176e1668" class="indexterm-anchor"></a><a id="d10176e1672" class="indexterm-anchor"></a><a id="d10176e1676" class="indexterm-anchor"></a>授予访问PGA所需包的权限。
                           </p>
                           <p><a id="d10176e1682" class="indexterm-anchor"></a><a id="d10176e1686" class="indexterm-anchor"></a> TIP开发人员需要访问随附的以下PL / SQL包<a id="d10176e1691" class="indexterm-anchor"></a> Oracle数据库：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a id="d10176e1699" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录中的<code class="codeph">DBMS_PIPE</code></p>
                              </li>
                              <li>
                                 <p><a id="d10176e1709" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录中的<code class="codeph">UTL_RAW</code></p>
                              </li>
                              <li>
                                 <p><a id="d10176e1719" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/rdbms/admin</code> <code class="codeph">UTL_PG</code> <a id="d10176e1726" class="indexterm-anchor"></a><a id="d10176e1730" class="indexterm-anchor"></a>目录</p>
                              </li>
                           </ul>
                           <p>必须向TIP开发人员提供执行这些包的显式授权。</p>
                           <p>这些授权可以是私有的，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">$ sqlplus SYS / <span class="italic">pw @ database_specification_string</span> SQL&gt; GRANT EXECUTE ON UTL_RAW to <span class="italic">tip_developer</span> ; SQL&gt; GRANT EXECUTE ON UTL_PG to <span class="italic">tip_developer</span> ; SQL&gt; GRANT EXECUTE ON DBMS_PIPE TO <span class="italic">tip_developer;</span> SQL&gt; CONNECT PGAADMIN / <span class="italic">pw @ database_specification_string</span> SQL&gt;在PGAADMIN.PURGE_TRACE上执行GRANT EXECUTE到<span class="italic">tip_developer</span> ; SQL&gt; GRANT EXECUTE在PGAADMIN.READ_TRACE上执行<span class="italic">tip_developer</span> ; SQL&gt; GRANT EXECUTE on PGAADMIN.GPGLOCAL to <span class="italic">tip_developer;</span> SQL&gt;退出</pre><p>或者，这些授权可以是公共的，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">$ sqlplus SYS / pw @ <span class="italic">database_specification_string</span> SQL&gt;对UTL_RAW执行GRANT EXECUTE; SQL&gt;在UTL_PG上执行GRANT EXECUTE; SQL&gt; GRANT EXECUTE DBMS_PIPE到PUBLIC; SQL&gt; CONNECT PGAADMIN / <span class="italic">pw @ database_specification_string</span> SQL&gt; GRGA EXECUTE PGAADMIN.PURGE_TRACE TO PUBLIC; SQL&gt; GRGA EXECUTE PGAADMIN.READ_TRACE TO PUBLIC; SQL&gt; GRGA EXECUTE PGAADMIN.GPGLOCAL TO PUBLIC; SQL&gt; EXIT</pre><p>您可以使用私人或公共补助金。两者都足以使用PGA。公共补助更容易，现在可以执行。如果您使用私有授权，则每次创建新的TIP开发人员用户ID时都必须发布它们。<a id="d10176e1778" class="indexterm-anchor"></a><a id="d10176e1782" class="indexterm-anchor"></a></p>
                           <p>用于执行这些授权的SQL脚本在<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中提供。该<a id="d10176e1793" class="indexterm-anchor"></a><a id="d10176e1797" class="indexterm-anchor"></a> <code class="codeph">pgddapub.sql</code>脚本执行这些授权以公开访问包。<code class="codeph">pgddadev.sql</code>脚本执行授权，以便由单个TIP开发人员对包进行私有访问。如果要使用私有授权，则必须为每个TIP开发人员用户ID运行一次<code class="codeph">pgddadev.sql</code>脚本：</p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以用户<code class="codeph">PGAADMIN</code>连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus中，从<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录运行相应的脚本（ <code class="codeph">pgddapub.sql</code>或<code class="codeph">pgddadev.sql</code> ）。该脚本执行必要的授权，如前所述。系统会提示您输入所需的用户标识，密码和数据库规范字符串。
                                 </p>
                                 <p>如果您使用私有授权，则对需要访问软件包的每个用户ID重复此步骤。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / pgddapub.sql SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / pgddadev.sql</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p><a id="d10176e1837" class="indexterm-anchor"></a><a id="d10176e1843" class="indexterm-anchor"></a>如果要从以前版本的网关进行升级，并且要升级现有版本<a id="d10176e1848" class="indexterm-anchor"></a><a id="d10176e1852" class="indexterm-anchor"></a><a id="d10176e1853" class="indexterm-anchor"></a>具有新功能和维护的TIP，然后使用。重新生成现有的T IP规范<a id="d10176e1863" class="indexterm-anchor"></a> PGAU <code class="codeph">GENERATE</code>声明。
                           </p>
                           <div class="infoboxnote" id="GUID-0DE22027-F985-4E80-982C-F5521271D288__GUID-86A409E0-92F4-49D1-94C7-30302624A3EF">
                              <p class="notep1">注意：</p>
                              <p>该<a id="d10176e1875" class="indexterm-anchor"></a> PGAU已得到增强，可自动升级现有的PG DD条目<a id="d10176e1880" class="indexterm-anchor"></a><a id="d10176e1884" class="indexterm-anchor"></a>当一个新的属性时<a id="d10176e1889" class="indexterm-anchor"></a>执行PGAU <code class="codeph">GENERATE</code>命令。要支持此增强功能，请为该增强功能添加新权限<a id="d10176e1897" class="indexterm-anchor"></a> <code class="codeph">PGDDGEN</code>角色。为此，作为<code class="codeph">PGAADMIN</code>用户，使用SQL * Plus连接到存储PG DD的Oracle数据库。然后发出以下SQL命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT INSERT在PGA_DATA_VALUES到PGDDGEN</pre></div>
                           <ol type="a">
                              <li>
                                 <p>在生成PGAU控制文件的目录路径中调用PGAU以及存储TIP的位置：</p><pre class="oac_no_warn" dir="ltr">$ pgau PGAU&gt; CONNECT PGAADMIN / pgaadmin @ <span class="italic">database_specification_string</span> PGAU&gt; GENERATE <span class="italic">tranname</span> PGAU&gt; EXIT</pre></li>
                           </ol>
                           <p>有关<code class="codeph">GENERATE</code>命令的更多信息，请参阅“ <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南”</span></a>第2章中的PGAU <code class="codeph">GENERATE</code>命令部分。
                           </p>
                           <p>请注意，不必再次定义PG DD条目。</p>
                        </li>
                        <li>
                           <p>在存储新生成的TIP规范的同一目录路径中调用SQL * Plus。</p><pre class="oac_no_warn" dir="ltr">$ sqlplus <span class="italic">tip_owner / pw @ database_specification_string</span> SQL&gt; @ <span class="italic">tipname。</span> pkh SQL&gt; @ <span class="italic">tipname</span> .pkb SQL&gt;退出</pre><p><a id="d10176e1952" class="indexterm-anchor"></a><a id="d10176e1958" class="indexterm-anchor"></a><a id="d10176e1962" class="indexterm-anchor"></a> PGAU <code class="codeph">GENERATE</code>在两个输出文件中生成TIP：规范和正文。您必须先编译规范，然后再编译正文。
                           </p>
                           <p>有关<code class="codeph">GENERATE</code>命令的更多信息，请参阅“ <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南”</span></a>第2章中的PGAU <code class="codeph">GENERATE</code>命令部分。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCI225"></a><div class="props_rev_3"><a id="GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4" name="GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4"></a><h3 id="APPCI-GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4" class="sect3">配置网关</h3>
               <div>
                  <div class="section">
                     <p>要配置网关，请执行以下步骤：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>为APPC参数自定义Oracle数据库网关。</span><div>
                           <p>参数具体<a id="d10176e2023" class="indexterm-anchor"></a>网关参数文件<code class="codeph">init</code> <span class="italic"><code class="codeph">sid</code></span>中提供了网关。 <code class="codeph">ora</code> ，这是在<a id="d10176e2039" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录。示例网关参数<a id="d10176e2045" class="indexterm-anchor"></a><a id="d10176e2047" class="indexterm-anchor"></a><a id="d10176e2053" class="indexterm-anchor"></a>文件， <a id="d10176e2058" class="indexterm-anchor"></a><a id="d10176e2060" class="indexterm-anchor"></a> <code class="codeph">initPGA.ora</code>在此子目录中提供。<a id="d10176e2067" class="indexterm-anchor"></a><a id="d10176e2071" class="indexterm-anchor"></a><a id="d10176e2077" class="indexterm-anchor"></a></p>
                           <div class="infoboxnote" id="GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4__GUID-8F262371-02CF-40BC-9035-FB067218D077">
                              <p class="notep1">注意：</p>
                              <p>在里面<a id="d10176e2084" class="indexterm-anchor"></a><a id="d10176e2086" class="indexterm-anchor"></a> <code class="codeph">init</code> <span class="italic"><code class="codeph">sid</code></span> 。 <code class="codeph">ora</code>文件，在此文件名中替换“ <span class="italic"><code class="codeph">sid</code></span> ”的<code class="codeph">dg4appc</code> SID名称。
                              </p>
                              <p><code class="codeph">init</code> <span class="italic"><code class="codeph">sid</code></span> 。 <code class="codeph">ora</code>文件包含APPC和TCP / IP参数，由描述分隔。您必须修改<code class="codeph">init</code> <span class="italic"><code class="codeph">sid</code></span> 。 <code class="codeph">ora</code>文件删除TCP / IP参数。有关有效的APPC参数，请参阅<a href="appc-gateway-initialization-parameters-sna.html#GUID-53D8F882-4389-4150-8998-300818E476B9">SNA协议的网关初始化</a>参数。
                              </p>
                           </div>
                           <p>参数分为两类：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>网关初始化<a id="d10176e2137" class="indexterm-anchor"></a><a id="d10176e2143" class="indexterm-anchor"></a>参数</p>
                                 <p>这些参数控制Oracle环境中网关的一般操作。</p>
                                 <div class="infoboxnote" id="GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4__GUID-4B155CE5-EB9D-4CD6-ADC9-DC121DB133EA">
                                    <p class="notep1">注意：</p>
                                    <p>在执行以下步骤之前，请参阅<a href="appc-gateway-initialization-parameters-sna.html#GUID-53D8F882-4389-4150-8998-300818E476B9">SNA协议的网关初始化参数，</a>以获取有关定制网关初始化和PGA参数的信息。请特别注意有关使用<code class="codeph">PGA_CAPABILITY</code>参数的信息。
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p>PGA <a id="d10176e2163" class="indexterm-anchor"></a><a id="d10176e2167" class="indexterm-anchor"></a>参数</p>
                                 <p>PGA参数控制网关的APPC接口部分。使用<a id="d10176e2176" class="indexterm-anchor"></a><a id="d10176e2180" class="indexterm-anchor"></a> <code class="codeph">SET</code>网关初始化参数指定PGA参数。Oracle建议您对所有<code class="codeph">SET</code>命令进行分组<a id="d10176e2192" class="indexterm-anchor"></a><a id="d10176e2194" class="indexterm-anchor"></a>对于<code class="codeph">init</code> <span class="italic"><code class="codeph">sid</code></span>末尾的PGA参数。 <code class="codeph">ora</code>文件。
                                 </p>
                                 <div class="infoboxnote" id="GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4__GUID-8D91EB1A-7B2B-4570-A028-F62AEFD7E7C8">
                                    <p class="notep1">注意：</p>
                                    <p>拼写错误的参数将被忽略<a id="d10176e2212" class="indexterm-anchor"></a> 。但是，如果是<code class="codeph">$ORACLE_HOME/dg4appc/admin/init</code> <span class="italic"><code class="codeph">sid</code></span> 。 <code class="codeph">ora</code>文件丢失，所有对网关的调用都失败并返回<code class="codeph">PGA-20928</code>错误。
                                    </p>
                                 </div>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="APPCI226"></a><div class="props_rev_3"><a id="GUID-544B3014-8746-41E6-9132-12E473D38254" name="GUID-544B3014-8746-41E6-9132-12E473D38254"></a><h3 id="APPCI-GUID-544B3014-8746-41E6-9132-12E473D38254" class="sect3">配置提交确认</h3>
               <div>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-544B3014-8746-41E6-9132-12E473D38254__GUID-9C1E0C43-0172-4681-B4EC-C3E9FCE8828F">
                        <p class="notep1">注意：</p>
                        <p>如果您计划实施commit-confirm，请在继续之前阅读“ <a href="../appug/implement-appc-commit-confirm-sna-only.html#APPUG500" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南</span></a> ”第5章“实现提交确认（仅限SNA）”中的commit-confirm功能的详细说明。
                        </p>
                     </div>
                     <p>请按照以下步骤配置commit-confirm组件。的步骤<a id="d10176e2270" class="indexterm-anchor"></a>配置commit-confirm包括：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>配置网关服务器将存储其事务日志信息的Oracle数据库</p>
                        </li>
                        <li>
                           <p>配置网关初始化参数</p>
                        </li>
                        <li>
                           <p>配置OLTP</p>
                        </li>
                     </ul>
                     <p>在尝试使用任何使用commit-confirm的应用程序之前，必须执行所有这些步骤。<a id="d10176e2288" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCI227"></a><div class="props_rev_3"><a id="GUID-F9218AF1-8735-4377-AC79-7325D8396BE7" name="GUID-F9218AF1-8735-4377-AC79-7325D8396BE7"></a><h4 id="APPCI-GUID-F9218AF1-8735-4377-AC79-7325D8396BE7" class="sect4">配置Oracle数据库以进行提交确认</h4>
                  <div>
                     <div class="section">
                        <p>该<a id="d10176e2325" class="indexterm-anchor"></a><a id="d10176e2329" class="indexterm-anchor"></a>网关服务器将存储其事务日志信息的Oracle数据库安装理想情况下应位于运行网关的同一系统上。服务器的配置包括创建网关DBA用户，创建提交确认日志表并创建<a id="d10176e2334" class="indexterm-anchor"></a>网关服务器用于记录事务的PL / SQL存储过程。<a id="d10176e2339" class="indexterm-anchor"></a></p>
                        <p><code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中的<code class="codeph">pgaccau.sql</code>脚本创建网关DBA用户标识。默认用户ID为<code class="codeph">PGADBA</code> ，初始密码设置为<code class="codeph">PGADBA</code> 。如果要更改用户ID或初始密码，则必须修改脚本。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>使用<a id="d10176e2363" class="indexterm-anchor"></a> SQL * Plus以<code class="codeph">SYSTEM</code>用户身份连接到Oracle数据库。</span></li>
                        <li><span>从SQL * Plus，从<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录运行<code class="codeph">pgaccau.sql</code>脚本。此脚本创建网关DBA用户标识。如果要在运行此脚本后随时更改密码，可以使用<code class="codeph">ALTER USER</code>命令更改密码。有关详细信息，请参阅<a href="../sqlrf/ALTER-USER.html#SQLRF01103" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。</span></li>
                        <li><span>使用SQL * Plus以<code class="codeph">PGADBA</code>用户身份连接到Oracle数据库。</span></li>
                        <li><span>从SQL * Plus，从<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录运行<code class="codeph">pgaccpnd.sql</code>脚本。此脚本创建网关服务器用于其提交确认事务日志的<code class="codeph">PGA_CC_PENDING</code>表。</span></li>
                        <li><span>从SQL * Plus，从<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录运行<code class="codeph">pgacclog.sql</code>脚本。该脚本创建<code class="codeph">PGA_CC_LOG</code> <a id="d10176e2428" class="indexterm-anchor"></a>网关服务器用于更新<code class="codeph">PGA_CC_PENDING</code>表的PL / SQL存储过程。</span></li>
                        <li><span>断开与Oracle数据库的连接。</span></li>
                     </ol>
                  </div>
               </div><a id="APPCI228"></a><div class="props_rev_3"><a id="GUID-DE8EFB77-D7DC-4505-A8FC-5F004E8F0E0E" name="GUID-DE8EFB77-D7DC-4505-A8FC-5F004E8F0E0E"></a><h4 id="APPCI-GUID-DE8EFB77-D7DC-4505-A8FC-5F004E8F0E0E" class="sect4">为Commit-Confirm配置网关初始化参数</h4>
                  <div>
                     <div class="section">
                        <p><a id="d10176e2469" class="indexterm-anchor"></a><a id="d10176e2475" class="indexterm-anchor"></a><a id="d10176e2479" class="indexterm-anchor"></a>网关初始化参数在<a href="appc-gateway-initialization-parameters-sna.html#GUID-53D8F882-4389-4150-8998-300818E476B9">SNA协议</a>的网关初始化参数中描述。网关中提交确认支持所需的参数是：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">PGA_CAPABILITY</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_LOG_DB</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_LOG_USER</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_LOG_PASS</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_RECOVERY_USER</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_RECOVERY_PASS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_RECOVERY_TPNAME</code></p>
                           </li>
                        </ul>
                        <p>这些参数应该添加到您的<a id="d10176e2521" class="indexterm-anchor"></a><a id="d10176e2523" class="indexterm-anchor"></a> <code class="codeph">init</code> <span class="italic"><code class="codeph">sid</code></span> 。 <code class="codeph">ora</code>文件，其中<span class="italic"><code class="codeph">sid</code></span>是提交确认网关的网关SID。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPCI229"></a><div class="props_rev_3"><a id="GUID-24F30622-1E2C-443F-8376-087D3FE0D4B8" name="GUID-24F30622-1E2C-443F-8376-087D3FE0D4B8"></a><h4 id="APPCI-GUID-24F30622-1E2C-443F-8376-087D3FE0D4B8" class="sect4">配置OLTP以进行提交确认</h4>
                  <div>
                     <div class="section">
                        <p>OLTP的配置包括定义和安装以下内容：<a id="d10176e2574" class="indexterm-anchor"></a><a id="d10176e2580" class="indexterm-anchor"></a></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>提交确认事务日志数据库</p>
                           </li>
                           <li>
                              <p>提交 - 确认忘记或恢复事务</p>
                           </li>
                           <li>
                              <p>随网关提供的示例提交确认应用程序</p>
                              <div class="infoboxnote" id="GUID-24F30622-1E2C-443F-8376-087D3FE0D4B8__GUID-85A8BBDA-8502-452A-A6AA-35AEF42E17D2">
                                 <p class="notep1">注意：</p>
                                 <p>可能需要重新启动OLTP才能实现提交确认支持所需的更改。您应该与OLTP系统管理员一起制定此计划。</p>
                              </div>
                           </li>
                        </ul>
                        <p>有关为z / OS和IMS / TM配置Transaction Server的详细说明，请分别在<code class="codeph">$ORACLE_HOME/dg4appc/demo/CICS/README.doc</code>和<code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS/README.doc</code>文件中提供。
                        </p>
                        <p>参考<a id="d10176e2608" class="indexterm-anchor"></a><a id="d10176e2612" class="indexterm-anchor"></a>有关commit-confirm的详细信息，请参见“ <a href="../appug/implement-appc-commit-confirm-sna-only.html#APPUG500" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南</span></a> ”中的第5章“实现提交确认（仅限SNA）”。您将在稍后的<span class="q">“ <a href="configuring-appc-gateway-sna.html#GUID-BD5A0C0E-BDEE-4595-AD71-38C8DD8F0C8C">验证OLTP配置以进行提交确认</a> ”中</span>采取步骤验证提交确认的<span class="q"><a href="configuring-appc-gateway-sna.html#GUID-BD5A0C0E-BDEE-4595-AD71-38C8DD8F0C8C">配置</a></span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="APPCI230"></a><div class="props_rev_3"><a id="GUID-B0F01C9F-3BBB-4579-8B3D-ACCCE3CCED56" name="GUID-B0F01C9F-3BBB-4579-8B3D-ACCCE3CCED56"></a><h3 id="APPCI-GUID-B0F01C9F-3BBB-4579-8B3D-ACCCE3CCED56" class="sect3">验证网关安装和OLTP配置</h3>
               <div>
                  <div class="section">
                     <p>要验证网关安装和OLTP配置，请在安装Oracle Database Gateway for APPC后执行以下过程。 <a id="d10176e2661" class="indexterm-anchor"></a><a id="d10176e2667" class="indexterm-anchor"></a>此外，如果您选择配置commit-confirm，请按照步骤验证提交确认的OLTP配置。
                     </p>
                     <div class="infoboxnote" id="GUID-B0F01C9F-3BBB-4579-8B3D-ACCCE3CCED56__GUID-D9DF6D1C-6AC6-407B-85B2-8477362A3E37">
                        <p class="notep1">注意：</p>
                        <p>如果你的<a id="d10176e2677" class="indexterm-anchor"></a>数据库链接名称不是<code class="codeph">PGA</code> ，修改演示<code class="codeph">.sql</code>文件以为它们提供您在<span class="q">“ <a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D">Oracle数据库配置：首次网关安装</a> ”的</span>步骤<a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1008586">5</a>中创建的特定数据库链接名称。您必须修改以下<code class="codeph">.sql</code>文件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a id="d10176e2703" class="indexterm-anchor"></a><a id="d10176e2705" class="indexterm-anchor"></a><code class="codeph">pgavsn.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgaecho.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgacics.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgaidms.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgaims.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgamvs.sql</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCI231"></a><div class="props_rev_3"><a id="GUID-D52AF0FF-E0D5-4210-BA3A-D02872A1D87D" name="GUID-D52AF0FF-E0D5-4210-BA3A-D02872A1D87D"></a><h4 id="APPCI-GUID-D52AF0FF-E0D5-4210-BA3A-D02872A1D87D" class="sect4">验证网关安装</h4>
                  <div>
                     <div class="section">
                        <p>使用以验证网关软件安装<a id="d10176e2778" class="indexterm-anchor"></a>先前创建的数据库链接PGA，执行以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>使用SQL * Plus，连接到您的<a id="d10176e2789" class="indexterm-anchor"></a> Oracle数据库为<a id="d10176e2796" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN.</code></span></li>
                        <li class="stepexpand"><span>运行<code class="codeph">$ORACLE_HOME/dg4appc/demo/pgavsn.sql</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / demo / pgavsn.sql</pre><p>服务器版本号标题出现在您的终端上。出现以下输出：</p><pre class="oac_no_warn" dir="ltr">适用于APPC的Oracle数据库网关。版本12.2.0.1.0 2016年8月24日星期三14:39:15 <a id="d10176e2813" class="indexterm-anchor"></a>版权所有（c）Oracle Corporation 1979,2016。版权所有。
</pre><p>PL / SQL过程成功完成。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>运行<code class="codeph">$ORACLE_HOME/dg4appc/demo/pgaecho.sql</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / demo / pgaecho.sql</pre><p>您将收到以下输出：</p><pre class="oac_no_warn" dir="ltr">==&gt;恭喜，您的安装成功。 &lt;==</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="APPCI232"></a><div class="props_rev_3"><a id="GUID-AFAE9E23-FDED-41A8-8B55-951090DABEC6" name="GUID-AFAE9E23-FDED-41A8-8B55-951090DABEC6"></a><h4 id="APPCI-GUID-AFAE9E23-FDED-41A8-8B55-951090DABEC6" class="sect4">验证OLTP配置</h4>
                  <div>
                     <div class="section">
                        <p>验证OLTP配置的过程会有所不同，具体取决于您使用的OLTP以及运行OLTP的平台。目前支持用于z / OS，IMS / TM，APPC / MVS和z / OS的CICS Transaction Server <a id="d10176e2879" class="indexterm-anchor"></a> OLTPs。按照以下各节中的说明验证安装：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="configuring-appc-gateway-sna.html#GUID-6225EE5D-7C9C-4B91-806C-D196A53D762A">CICS验证</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-appc-gateway-sna.html#GUID-86FF2AE4-0009-4126-A28F-5F466115E345">IMS / TM验证</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-appc-gateway-sna.html#GUID-F219297D-AD2F-45E5-A517-D0EC0AD205D2">APPC / MVS验证</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-AFAE9E23-FDED-41A8-8B55-951090DABEC6__GUID-C577253C-DB56-47B7-BB79-7366E4C9F467">
                           <p class="notep1">注意：</p>
                           <p>如果尚未完成<span class="q">“ <a href="configuring-appc-gateway-sna.html#GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E">准备配置网关安装/升级</a> ”中</span>详细说明的文件传输，请立即完成，然后再继续执行下一步。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="APPCI233"></a><div class="props_rev_3"><a id="GUID-6225EE5D-7C9C-4B91-806C-D196A53D762A" name="GUID-6225EE5D-7C9C-4B91-806C-D196A53D762A"></a><h5 id="APPCI-GUID-6225EE5D-7C9C-4B91-806C-D196A53D762A" class="sect5">CICS验证</h5>
                     <div>
                        <div class="section">
                           <p>如果您的OLTP是<a id="d10176e2960" class="indexterm-anchor"></a><a id="d10176e2966" class="indexterm-anchor"></a> CICS Transaction Server for z / OS，执行以下步骤以验证CICS配置。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>验证<a id="d10176e2977" class="indexterm-anchor"></a>正确安装FLIP事务，登录到您的CICS Transaction Server for z / OS并输入以下事务，在为网关配置CICS Transaction Server for z / OS时，将<code class="codeph">FLIP</code>替换为您为<code class="codeph">FLIP</code>选择的事务ID：</span><div><pre class="oac_no_warn" dir="ltr">FLIP <span class="italic"> </span>这条信息</pre><p>出现以下输出：</p><pre class="oac_no_warn" dir="ltr">EGASSEM SIHT PILF</pre></div>
                           </li>
                           <li class="stepexpand"><span>登录到UNIX。</span></li>
                           <li class="stepexpand"><span>修改<code class="codeph">pgacics.sql</code>文件，该文件位于<code class="codeph">$ORACLE_HOME/dg4appc/demo/CICS/pgacics.sql</code> 。自定义以下三个用于访问网关和CICS Transaction Server for z / OS的项目，如文件开头的注释中所述：</span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><a id="d10176e3018" class="indexterm-anchor"></a> CICS事务ID</p>
                                    </li>
                                    <li>
                                       <p><a id="d10176e3025" class="indexterm-anchor"></a>侧面配置文件名称</p>
                                    </li>
                                    <li>
                                       <p><a id="d10176e3030" class="indexterm-anchor"></a> Logmode条目名称</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>确保这件事<a id="d10176e3036" class="indexterm-anchor"></a>系统上的SNA通信包已启动。</span></li>
                           <li class="stepexpand"><span>登录到您的CICS Transaction Server for z / OS并运行此事务，其中<span class="italic"><code class="codeph">name</code></span>是在CICS配置步骤中运行的<code class="codeph">DFHCSDUP</code>作业安装的<code class="codeph">CONNECTION</code>定义的名称：</span><div><pre class="oac_no_warn" dir="ltr">已获得CEMT SET CONNECTION <span class="italic">（名称）</span></pre><p>此事务激活与UNIX的CICS连接。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>使用SQL * Plus以<code class="codeph">PGAADMIN</code>身份连接到Oracle数据库。</span></li>
                           <li class="stepexpand"><span>运行<code class="codeph">pgacics.sql</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / demo / CICS / pgacics.sql</pre><p>出现以下消息：</p><pre class="oac_no_warn" dir="ltr">==&gt;恭喜，您的网关正在与CICS &lt;==进行通信</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>您的CICS Transaction Server for z / OS安装验证已完成。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="APPCI234"></a><div class="props_rev_3"><a id="GUID-86FF2AE4-0009-4126-A28F-5F466115E345" name="GUID-86FF2AE4-0009-4126-A28F-5F466115E345"></a><h5 id="APPCI-GUID-86FF2AE4-0009-4126-A28F-5F466115E345" class="sect5">IMS / TM验证</h5>
                     <div>
                        <div class="section">
                           <p>如果您的OLTP是<a id="d10176e3135" class="indexterm-anchor"></a>然后，IMS / TM执行以下步骤以验证IMS / TM配置：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>验证<a id="d10176e3146" class="indexterm-anchor"></a> FLIP事务已正确安装，登录到您的IMS / TM系统并输入以下事务，在为网关配置IMS / TM系统时，将<code class="codeph">FLIP</code>替换为您为<code class="codeph">FLIP</code>选择的事务ID：</span><div><pre class="oac_no_warn" dir="ltr">翻上这条消息</pre><p>终端上显示以下输出：</p><pre class="oac_no_warn" dir="ltr">EGASSEM SIHT PILF</pre></div>
                           </li>
                           <li class="stepexpand"><span>登录到UNIX。</span></li>
                           <li class="stepexpand"><span>修改<code class="codeph">pgaims.sql</code>文件，该文件位于<a id="d10176e3177" class="indexterm-anchor"></a><a id="d10176e3179" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS/pgaims.sql</code> 。自定义以下三个用于访问网关和IMS / TM系统的项目，如文件开头的注释中所述：</span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>IMS / TM事务ID</p>
                                    </li>
                                    <li>
                                       <p>侧面名称</p>
                                    </li>
                                    <li>
                                       <p>Logmode条目名称</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>确保<a id="d10176e3198" class="indexterm-anchor"></a>系统上的SNA通信包已启动。</span></li>
                           <li class="stepexpand"><span> <a id="d10176e3204" class="indexterm-anchor"></a>使用SQL * Plus以<code class="codeph">PGAADMIN</code>身份连接到Oracle数据库。</span></li>
                           <li class="stepexpand"><span>运行<code class="codeph">pgaims.sql</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / demo / IMS / pgaims.sql</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>出现以下消息：</p><pre class="oac_no_warn" dir="ltr">==&gt;恭喜，您的网关正在与IMS / TM &lt;==进行通信</pre><p>您的IMS / TM安装验证现已完成。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="APPCI235"></a><div class="props_rev_3"><a id="GUID-F219297D-AD2F-45E5-A517-D0EC0AD205D2" name="GUID-F219297D-AD2F-45E5-A517-D0EC0AD205D2"></a><h5 id="APPCI-GUID-F219297D-AD2F-45E5-A517-D0EC0AD205D2" class="sect5">APPC / MVS验证</h5>
                     <div>
                        <div class="section">
                           <p>如果您的OLTP是<a id="d10176e3276" class="indexterm-anchor"></a><a id="d10176e3282" class="indexterm-anchor"></a> APPC / MVS，执行以下步骤来验证APPC / MVS配置：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>验证您的APPC / MVS子系统是否处于活动状态。</span></li>
                           <li class="stepexpand"><span>登录到UNIX</span></li>
                           <li class="stepexpand"><span>修改<code class="codeph">pgamvs.sql</code>文件，该文件位于<code class="codeph">$ORACLE_HOME/dg4appc/demo/MVS/pgamvs.sql</code> 。自定义以下三个用于访问网关和APPC / MVS系统的项目，如文件开头的注释中所述：</span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>APPC / MVS交易ID</p>
                                    </li>
                                    <li>
                                       <p>侧面名称</p>
                                    </li>
                                    <li>
                                       <p>Logmode条目名称</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>确保<a id="d10176e3318" class="indexterm-anchor"></a>系统上的SNA通信包已启动。</span></li>
                           <li class="stepexpand"><span>使用SQL * Plus连接到您的<a id="d10176e3324" class="indexterm-anchor"></a> Oracle数据库为<code class="codeph">PGAADMIN</code> 。</span></li>
                           <li class="stepexpand"><span>运行<code class="codeph">pgamvs.sql</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / demo / MVS / pgamvs.sql</pre><p>出现以下消息：</p><pre class="oac_no_warn" dir="ltr">=&gt;恭喜，您的网关正在与APPC / MVS &lt;=进行通信</pre></div>
                           </li>
                        </ol>
                        <div class="section"><pre class="oac_no_warn" dir="ltr"></pre><p>您的APPC / MVS安装验证现已完成。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="APPCI236"></a><div class="props_rev_3"><a id="GUID-BD5A0C0E-BDEE-4595-AD71-38C8DD8F0C8C" name="GUID-BD5A0C0E-BDEE-4595-AD71-38C8DD8F0C8C"></a><h4 id="APPCI-GUID-BD5A0C0E-BDEE-4595-AD71-38C8DD8F0C8C" class="sect4">验证OLTP配置以进行提交确认</h4>
                  <div>
                     <div class="section">
                        <p>如果选择配置承诺，确认<a href="configuring-appc-gateway-sna.html#GUID-544B3014-8746-41E6-9132-12E473D38254">配置提交-确认</a> ，下面的部分将帮助您验证配置。
                        </p>
                        <div class="infoboxnote" id="GUID-BD5A0C0E-BDEE-4595-AD71-38C8DD8F0C8C__GUID-BC77C5F5-9F99-48FE-B470-8BD4162900DD">
                           <p class="notep1">注意：</p>
                           <p>有关commit-confirm的组件和功能的背景信息，请参阅<a href="../appug/implement-appc-commit-confirm-sna-only.html#APPUG500" target="_blank"><span class="italic">Oracle Database Gateway for APPC用户指南中的</span></a>第5章“实现Commit-Confirm”。
                           </p>
                        </div>
                        <p>样本随Transaction Server for z / OS和IMS / TM的网关一起提供，用于实现提交确认支持。它们分别位于以下目录中： <code class="codeph">$ORACLE_HOME/dg4appc/demo/CICS</code>和<code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code> 。每个目录中的<code class="codeph">README.doc</code>文件提供有关安装和使用示例的详细信息。还提供了用于编译和链接示例程序的JCL文件。 <a id="d10176e3408" class="indexterm-anchor"></a> 网关附带的示例可帮助您完成以下操作：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>创建并初始化commit-confirm事务日志数据库并将这些数据库定义到OLTP</p>
                              <p>对于Transaction Server for z / OS，该示例使用VSAM文件作为日志数据库。对于IMS / TM，使用SHISAM / VSAM数据库。</p>
                           </li>
                           <li>
                              <p>使用子程序接收<a id="d10176e3423" class="indexterm-anchor"></a>来自网关的Oracle全局事务ID并将其记录到<a id="d10176e3426" class="indexterm-anchor"></a> commit-confirm事务日志数据库</p>
                              <p>这些子例程在<code class="codeph">pgacclg.asm</code>文件中提供。它们可以在您的应用程序中使用，以降低程序代码更改的复杂性。对于Transaction Server for z / OS，使用EXEC CICS LINK接口调用提供的子例程。对于IMS / TM，提供的子例程使用标准<code class="codeph">CALL</code>语句或其在应用程序编程语言中的等效语句来<code class="codeph">CALL</code> 。这两个子例程都是用370汇编语言编写的，以消除任何中间语言接口的复杂性和编译器依赖性。
                              </p>
                           </li>
                           <li>
                              <p>忘记和恢复交易</p>
                              <p>这些在<code class="codeph">pgareco.asm</code>文件中提供。忘记和恢复事务必须安装到您的OLTP中并可通过APPC访问，以便网关可以调用它们以在成功提交后忘记事务，并在恢复处理期间查询事务状态。这些事务会删除特定Oracle的条目<a id="d10176e3447" class="indexterm-anchor"></a>在忘记处理期间来自OLTP提交确认事务日志数据库的全局事务ID，并在恢复处理期间从OLTP提交确认事务日志数据库查询特定Oracle全局事务ID的条目。对于z / OS和IMS / TM的Transaction Server，这些事务都是用370汇编语言编写的。
                              </p>
                           </li>
                           <li>
                              <p>使用示例commit-confirm事务日志数据库和子例程</p>
                              <p>对于Transaction Server for z / OS， <code class="codeph">pgadb2c.cob</code>文件中提供了示例DB2更新事务<code class="codeph">DB2C</code> 。这是一个更新DB2示例<code class="codeph">EMP</code>表的COBOL示例。对于IMS / TM，样本DLI更新事务， <code class="codeph">PGAIMSU</code> ，在提供<code class="codeph">pgaimsu.cob</code>文件。这是更新DLI示例<code class="codeph">PARTS</code>数据库的COBOL示例。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="APPCI237"></a><div class="props_rev_3"><a id="GUID-835A25DB-1E5B-485C-9054-E920CC262570" name="GUID-835A25DB-1E5B-485C-9054-E920CC262570"></a><h3 id="APPCI-GUID-835A25DB-1E5B-485C-9054-E920CC262570" class="sect3">执行安装后程序</h3>
               <div>
                  <div class="section">
                     <p>以下是您可以根据需要执行的可选步骤。建议为OLTP安装示例应用程序，以帮助您完全了解网关的工作方式以及它与OLTP的接口方式。</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCI238"></a><div class="props_rev_3"><a id="GUID-7499EFA4-3633-44E1-9784-5F4D027ABFFE" name="GUID-7499EFA4-3633-44E1-9784-5F4D027ABFFE"></a><h4 id="APPCI-GUID-7499EFA4-3633-44E1-9784-5F4D027ABFFE" class="sect4">安装示例应用程序</h4>
                  <div>
                     <div class="section">
                        <p>Oracle Database Gateway for APPC包中包含以下示例PL / SQL过程和OLTP事务程序，用于演示网关的功能。</p>
                        <p><span class="bold">APPC / MVS</span></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>z / OS数据集信息</p>
                           </li>
                        </ul>
                        <p><span class="bold">适用于z / OS的CICS Transaction Server</span></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>DB2查询</p>
                           </li>
                           <li>
                              <p>DB2多行查询</p>
                           </li>
                           <li>
                              <p>DB2更新</p>
                           </li>
                           <li>
                              <p>VSAM查询</p>
                           </li>
                           <li>
                              <p>VSAM更新</p>
                           </li>
                           <li>
                              <p>DLI查询</p>
                           </li>
                           <li>
                              <p>FEPI DB2查询</p>
                           </li>
                           <li>
                              <p>FEPI VSAM查询</p>
                           </li>
                        </ul>
                        <p><span class="bold">IMS / TM</span></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用IVTNO和IVTNV样本事务进行IMS查询</p>
                           </li>
                           <li>
                              <p>IMS部件查询（ <a id="d10176e3614" class="indexterm-anchor"></a> CPI-C）</p>
                           </li>
                           <li>
                              <p>IMS部件更新（CPI-C）</p>
                           </li>
                        </ul>
                        <p>在产品的后续版本中，将附加样本添加到分发介质中。示例应用程序尽可能使用随数据库产品提供的示例数据库。</p>
                        <p>对于此版本，以下目录和文件中提供了有关安装和使用示例应用程序的完整文档：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">$ ORACLE_HOME / dg4appc / CICS / sample_CICS_applications.txt</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">$ ORACLE_HOME / dg4appc / IMS / sample_IMS_applications.txt</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">$ ORACLE_HOME / dg4appc / MVS / sample_MVS_applications.txt</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04800.oci-function-server-round-trips.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This appendix provides information about server round-trips incurred during various OCI calls."></meta>
      <meta name="description" content="This appendix provides information about server round-trips incurred during various OCI calls."></meta>
      <title>OCI功能服务器Round-Trips</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="This appendix provides information about server round-trips incurred during various OCI calls."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oci-demo-programs.html" title="Previous" type="text/html"></link>
      <link rel="next" href="getting-started-with-oci-for-windows.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oci-demo-programs.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="getting-started-with-oci-for-windows.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCI功能服务器Round-Trips</li>
            </ol>
            <a id="GUID-9B2F05F9-D841-4493-A42D-A7D89694A2D1" name="GUID-9B2F05F9-D841-4493-A42D-A7D89694A2D1"></a><a id="LNOCI300"></a>
            
            <h2 id="LNOCI-GUID-9B2F05F9-D841-4493-A42D-A7D89694A2D1" class="sect2"><span class="enumeration_chapter">C</span> OCI功能服务器Round-Trips</h2>
         </header>
         <div class="ind">
            <div>
               <p>本附录提供有关在各种OCI调用期间发生的服务器往返的信息。</p>
               <p>此信息可以帮助程序员确定在应用程序中完成特定任务的最有效方法。<span class="bold">服务器往返</span>被定义为从客户端到服务器并返回到客户端的行程。
               </p>
               <div class="p">使用客户端SQL时，OCI提供：<ul style="list-style-type:disc">
                     <li>
                        <p>增强的阵列数组操作语言（DML）功能</p>
                     </li>
                     <li>
                        <p>能够将提交请求与运行相关联以减少往返次数</p>
                     </li>
                     <li>
                        <p>使用透明预取缓冲区优化查询以减少往返次数</p>
                     </li>
                  </ul>通常情况下，存在权衡。例如，对于查询，权衡通常是数组大小和预取大小与基础提取的数量。
                  <div class="infoboxnotealso" id="GUID-9B2F05F9-D841-4493-A42D-A7D89694A2D1__GUID-717BF22D-A81F-4F29-8675-110B28EEE5E1">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="using-sql_statements-in-oci.html#GUID-3F20EDC9-D436-4A54-9698-4FA95988A819" title="本章讨论使用Oracle Call Interface处理SQL语句时涉及的概念和步骤。">在OCI中使用SQL语句</a>获取有关减少服务器往返的提示的概述和更具体的信息</p>
                        </li>
                        <li>
                           <p><a href="binding-and-defining-in-oci.html#GUID-442E47AD-83A8-4959-9A73-DBFB7D3482A6" title="您可以通过各种方式将数据传递到Oracle数据库。">OCI阵列接口</a>可在您更新或插入大量数据时显着减少到数据库的往返</p>
                        </li>
                        <li>
                           <p><a href="using-sql_statements-in-oci.html#GUID-7AE9DBE2-5316-4802-99D1-969B72823F02" title="为了最大限度地减少服务器往返次数并优化性能，OCI可以在执行查询时预取结果集行。">关于设置预取计数</a>以最小化服务器往返</p>
                        </li>
                     </ul>
                  </div>。
               </div>
               <p>本附录包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="oci-function-server-round-trips.html#GUID-B7E75A75-56BC-434C-896C-705F022EDD65" title="描述每个OCI关系函数的服务器往返次数。">关系函数Round-Trips</a></p>
                  </li>
                  <li>
                     <p><a href="oci-function-server-round-trips.html#GUID-AD3700EF-9293-4E14-807E-43A6B395CBD5" title="描述每个OCI LOB功能的服务器往返次数。">LOB功能Round-Trips</a></p>
                  </li>
                  <li>
                     <p><a href="oci-function-server-round-trips.html#GUID-9DD7A106-4551-4590-A922-73D3A7CC06E8" title="描述每个OCI对象和缓存功能的服务器往返次数。">对象和缓存功能Round-Trips</a></p>
                  </li>
                  <li>
                     <p><a href="oci-function-server-round-trips.html#GUID-DC8AF7BC-7FCF-4848-B11B-6285A6FA486C" title="描述每个OCI操作函数的服务器往返次数。">描述Round-Trips操作</a></p>
                  </li>
                  <li>
                     <p><a href="oci-function-server-round-trips.html#GUID-2F40E138-6453-4D6A-940C-CE52D52629AA" title="描述了每个OCI数据类型映射和操作功能的服务器往返次数。">数据类型映射和操作函数Round-Trips</a></p>
                  </li>
                  <li>
                     <p><a href="oci-function-server-round-trips.html#GUID-4CC811AE-42B9-44FE-93F8-BE8D95D606AB" title="描述每个OCI Any Type和Data函数的服务器往返次数。">任何类型和数据函数Round-Trips</a></p>
                  </li>
                  <li>
                     <p><a href="oci-function-server-round-trips.html#GUID-C9786B3E-193E-466C-A790-92A696B2D450" title="描述每个OCI其他本地功能的服务器往返次数。">其他本地功能</a></p>
                  </li>
               </ul>
            </div><a id="LNOCI18076"></a><a id="LNOCI18075"></a><div class="props_rev_3"><a id="GUID-B7E75A75-56BC-434C-896C-705F022EDD65" name="GUID-B7E75A75-56BC-434C-896C-705F022EDD65"></a><h3 id="LNOCI-GUID-B7E75A75-56BC-434C-896C-705F022EDD65" class="sect3"><span class="enumeration_section">C.1</span>关系函数Round-Trips</h3>
               <div>
                  <p>描述每个OCI关系函数的服务器往返次数。</p>
                  <div class="section">
                     <p><a href="oci-function-server-round-trips.html#GUID-B7E75A75-56BC-434C-896C-705F022EDD65__G428053" title="该表有2列。第1列是功能名称，第2列描述服务器往返次数。">表C-1</a>列出了每个OCI关系功能所需的服务器往返次数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-B7E75A75-56BC-434C-896C-705F022EDD65__G428053">
                     <p class="titleintable">表C-1用于关系操作的服务器往返</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="用于关系操作的服务器Round-Trips" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="57%" id="d374990e495">功能</th>
                              <th align="left" valign="bottom" width="43%" id="d374990e498">服务器往返次数</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e503" headers="d374990e495 ">
                                 <p><code class="codeph">OCIBreak（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e503 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e511" headers="d374990e495 ">
                                 <p><code class="codeph">OCIDBShutdown（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e511 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e519" headers="d374990e495 ">
                                 <p><code class="codeph">OCIDBStartup（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e519 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e527" headers="d374990e495 ">
                                 <p><code class="codeph">OCIEnvCreate（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e527 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e535" headers="d374990e495 ">
                                 <p><code class="codeph">OCIEnvInit（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e535 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e543" headers="d374990e495 ">
                                 <p><code class="codeph">OCIErrorGet（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e543 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e551" headers="d374990e495 ">
                                 <p><code class="codeph">OCIInitialize（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e551 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e559" headers="d374990e495 ">
                                 <p><code class="codeph">OCILdaToSvcCtx（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e559 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e567" headers="d374990e495 ">
                                 <p><code class="codeph">OCILogoff（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e567 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e575" headers="d374990e495 ">
                                 <p><code class="codeph">OCILogon（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e575 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e583" headers="d374990e495 ">
                                 <p><code class="codeph">OCILogon2（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e583 d374990e498 ">
                                 <p>连接池或会话池：与OCISessionGet（）相同</p>
                                 <p>正常：2（取决于认证和TAF情况）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e594" headers="d374990e495 ">
                                 <p><code class="codeph">OCIPasswordChange（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e594 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e602" headers="d374990e495 ">
                                 <p><code class="codeph">OCIPing（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e602 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e610" headers="d374990e495 ">
                                 <p><code class="codeph">OCIReset（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e610 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e618" headers="d374990e495 ">
                                 <p><code class="codeph">OCIServerAttach（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e618 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e626" headers="d374990e495 ">
                                 <p><code class="codeph">OCIServerDetach（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e626 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e634" headers="d374990e495 ">
                                 <p><code class="codeph">OCIServerVersion（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e634 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e642" headers="d374990e495 ">
                                 <p><code class="codeph">OCISessionBegin（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e642 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e650" headers="d374990e495 ">
                                 <p><code class="codeph">OCISessionEnd（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e650 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e658" headers="d374990e495 ">
                                 <p><code class="codeph">OCISessionGet（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e658 d374990e498 ">
                                 <p>会话池：0  - 登录增量。连接池：1到（1+（增量*登录））。取决于缓存命中：一个用于用户会话，主要会话的可选增量。</p>
                                 <p>正常：1次登录</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e668" headers="d374990e495 ">
                                 <p><code class="codeph">OCISessionPoolCreate（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e668 d374990e498 ">
                                 <p>sessMin *登录</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e676" headers="d374990e495 ">
                                 <p><code class="codeph">OCISessionPoolDestroy（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e676 d374990e498 ">
                                 <p>缓存*注销中的会话</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e685" headers="d374990e495 ">
                                 <p><code class="codeph">OCISessionRelease（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e685 d374990e498 ">
                                 <p>会话池：0，除非显式会话销毁标志集</p>
                                 <p>正常：1次登录</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e695" headers="d374990e495 ">
                                 <p><code class="codeph">OCIStmtExecute（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e695 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e703" headers="d374990e495 ">
                                 <p><code class="codeph">OCIStmtFetch（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e703 d374990e498 ">
                                 <p>0或1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e711" headers="d374990e495 ">
                                 <p><code class="codeph">OCIStmtFetch2（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e711 d374990e498 ">
                                 <p>预取时为0，否则为1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e719" headers="d374990e495 ">
                                 <p><code class="codeph">OCIStmtGetPieceInfo（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e719 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e727" headers="d374990e495 ">
                                 <p><code class="codeph">OCIStmtPrepare（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e727 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e735" headers="d374990e495 ">
                                 <p><code class="codeph">OCIStmtPrepare2（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e735 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e743" headers="d374990e495 ">
                                 <p><code class="codeph">OCIStmtSetPieceInfo（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e743 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e751" headers="d374990e495 ">
                                 <p><code class="codeph">OCISvcCtxToLda（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e751 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e759" headers="d374990e495 ">
                                 <p><code class="codeph">OCITerminate（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e759 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e767" headers="d374990e495 ">
                                 <p><code class="codeph">OCITransCommit（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e767 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e776" headers="d374990e495 ">
                                 <p><code class="codeph">OCITransDetach（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e776 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e784" headers="d374990e495 ">
                                 <p><code class="codeph">OCITransForget（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e784 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e792" headers="d374990e495 ">
                                 <p><code class="codeph">OCITransPrepare（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e792 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e800" headers="d374990e495 ">
                                 <p><code class="codeph">OCItransRollback（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e800 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e808" headers="d374990e495 ">
                                 <p><code class="codeph">OCITransStart（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e808 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e816" headers="d374990e495 ">
                                 <p><code class="codeph">OCIUserCallbackGet（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e816 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e824" headers="d374990e495 ">
                                 <p><code class="codeph">OCIUserCallbackRegister（）</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e824 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNOCI18078"></a><a id="LNOCI18077"></a><div class="props_rev_3"><a id="GUID-AD3700EF-9293-4E14-807E-43A6B395CBD5" name="GUID-AD3700EF-9293-4E14-807E-43A6B395CBD5"></a><h3 id="LNOCI-GUID-AD3700EF-9293-4E14-807E-43A6B395CBD5" class="sect3"><span class="enumeration_section">C.2</span> LOB功能Round-Trips</h3>
               <div>
                  <p>描述每个OCI LOB功能的服务器往返次数。</p>
                  <div class="section">
                     <p><span class="bold"></span> <a href="oci-function-server-round-trips.html#GUID-AD3700EF-9293-4E14-807E-43A6B395CBD5__CACHAFFI" title="该表有2列。第1列是功能名称，第2列描述服务器往返次数。">表C-2</a>列出了<code class="codeph">OCILob</code>调用引起的服务器往返。
                     </p>
                     <div class="infoboxnote" id="GUID-AD3700EF-9293-4E14-807E-43A6B395CBD5__GUID-A2BCB64B-93B1-4735-AF81-9D87B36C1DFA">
                        <p class="notep1">注意：</p>
                        <p>为了最小化往返次数，可以使用LOB的数据接口。您可以绑定或定义<code class="codeph">CLOB</code>列的字符数据或<code class="codeph">BLOB</code>列的<code class="codeph">RAW</code>数据。
                        </p>
                     </div>
                     <p>对于往返次数为“0或1”的呼叫，如果LOB缓冲开启，并且客户端可以满足请求，则不会产生往返。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-AD3700EF-9293-4E14-807E-43A6B395CBD5__CACHAFFI">
                     <p class="titleintable">表C-2 OCILob调用的服务器往返行程</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="OCILob调用的服务器Round-Trips" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="41%" id="d374990e1063">功能</th>
                              <th align="left" valign="bottom" width="59%" id="d374990e1066">服务器往返次数</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1071" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobAppend（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1071 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1079" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobArrayRead（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1079 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1087" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobArraywrite（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1087 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1095" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobAssign（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1095 d374990e1066 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1103" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobCharSetForm（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1103 d374990e1066 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1111" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobCharSetId（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1111 d374990e1066 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1119" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobClose（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1119 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1127" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobCopy（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1127 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1135" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobCopy2（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1135 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1143" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobCreateTemporary（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1143 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1151" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobDisableBuffering（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1151 d374990e1066 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1160" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobEnableBuffering（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1160 d374990e1066 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1168" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobErase（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1168 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1176" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobErase2（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1176 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1184" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFileClose（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1184 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1192" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFileCloseAll（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1192 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1200" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFileExists（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1200 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1208" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFileGetName（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1208 d374990e1066 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1216" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFileIsOpen（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1216 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1224" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFileOpen（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1224 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1232" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFileSetName（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1232 d374990e1066 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1240" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFlushBuffer（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1240 d374990e1066 ">
                                 <p>对于此LOB，缓冲区中的每个已修改页面都为1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1249" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFreeTemporary（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1249 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1257" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobGetChunkSize（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1257 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1265" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobGetLength（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1265 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1273" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobGetLength2（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1273 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1281" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobGetStorageLimit（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1281 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1289" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobIsEqual（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1289 d374990e1066 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1297" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobIsOpen（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1297 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1305" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobIsTemporary（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1305 d374990e1066 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1313" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobLoadFromFile（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1313 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1321" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobLoadFromFile2（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1321 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1329" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobLocatorAssign（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1329 d374990e1066 ">
                                 <p>如果源或目标定位器引用临时LOB，则1次往返</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1338" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobLocatorIsInit（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1338 d374990e1066 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1346" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobOpen（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1346 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1354" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobRead（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1354 d374990e1066 ">
                                 <p>0或1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1362" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobRead2（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1362 d374990e1066 ">
                                 <p>0或1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1370" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobTrim（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1370 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1378" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobTrim2（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1378 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1386" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobWrite（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1386 d374990e1066 ">
                                 <p>0或1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1394" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobWrite2（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1394 d374990e1066 ">
                                 <p>0或1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1402" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobWriteAppend（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1402 d374990e1066 ">
                                 <p>0或1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1410" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobWriteAppend2（）</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1410 d374990e1066 ">
                                 <p>0或1</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-AD3700EF-9293-4E14-807E-43A6B395CBD5__GUID-4A870DEB-CAC3-4918-85E2-C8887BA8FF91">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="binding-and-defining-in-oci.html#GUID-D757C946-BCDA-4A32-867B-BE951BA9BBF4" title="Oracle数据库允许对任何大小的LOB的INSERT和UPDATE进行非零绑定。">关于绑定LOB数据</a>以及<code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>语句的示例</p>
                           </li>
                           <li><a href="binding-and-defining-in-oci.html#GUID-FE7DB3D8-9310-41ED-8869-B5106E60D29E">关于定义LOB数据</a><p>用语和<code class="codeph">SELECT</code>语句的示例</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNOCI18080"></a><a id="LNOCI18079"></a><div class="props_rev_3"><a id="GUID-9DD7A106-4551-4590-A922-73D3A7CC06E8" name="GUID-9DD7A106-4551-4590-A922-73D3A7CC06E8"></a><h3 id="LNOCI-GUID-9DD7A106-4551-4590-A922-73D3A7CC06E8" class="sect3"><span class="enumeration_section">C.3</span>对象和缓存功能Round-Trips</h3>
               <div>
                  <p>描述每个OCI对象和缓存功能的服务器往返次数。</p>
                  <div class="section">
                     <p><a href="oci-function-server-round-trips.html#GUID-9DD7A106-4551-4590-A922-73D3A7CC06E8__G427836" title="该表有2列。第1列是功能名称，第2列描述服务器往返次数。">表C-3</a>列出了对象和缓存功能所需的服务器往返次数。这些值假定缓存处于<span class="italic">暖</span>状态，这意味着已加载应用程序所需的类型描述符对象。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-9DD7A106-4551-4590-A922-73D3A7CC06E8__G427836">
                     <p class="titleintable">表C-3对象和缓存功能的服务器往返</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="用于对象和缓存函数的服务器Round-Trips" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="48%" id="d374990e1672">功能</th>
                              <th align="left" valign="bottom" width="52%" id="d374990e1675">服务器往返次数</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1680" headers="d374990e1672 ">
                                 <p><code class="codeph">OCICacheFlush（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1680 d374990e1675 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1688" headers="d374990e1672 ">
                                 <p><code class="codeph">OCICacheFree（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1688 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1696" headers="d374990e1672 ">
                                 <p><code class="codeph">OCICacheRefresh（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1696 d374990e1675 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1704" headers="d374990e1672 ">
                                 <p><code class="codeph">OCICacheUnmark（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1704 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1712" headers="d374990e1672 ">
                                 <p><code class="codeph">OCICacheUnpin（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1712 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1720" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectArrayPin（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1720 d374990e1675 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1728" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectCopy（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1728 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1736" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectExists（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1736 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1744" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectFlush（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1744 d374990e1675 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1752" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectFree（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1752 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1760" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectGetInd（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1760 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1769" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectGetObjectRef（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1769 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1777" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectGetTypeRef（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1777 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1785" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectIsDirty（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1785 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1793" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectIsLocked（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1793 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1801" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectLock（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1801 d374990e1675 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1809" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectMarkDelete（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1809 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1817" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectMarkDeleteByRef（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1817 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1825" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectMarkUpdate（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1825 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1833" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectNew（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1833 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1841" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectPin（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1841 d374990e1675 ">
                                 <p>1;如果所需对象已在缓存中，则为0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1849" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectPinCountReset（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1849 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1858" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectPinTable（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1858 d374990e1675 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1866" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectRefresh（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1866 d374990e1675 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1874" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectUnmark（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1874 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1882" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectUnmarkByRef（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1882 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1890" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectUnpin（）</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1890 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNOCI18082"></a><a id="LNOCI18081"></a><div class="props_rev_3"><a id="GUID-DC8AF7BC-7FCF-4848-B11B-6285A6FA486C" name="GUID-DC8AF7BC-7FCF-4848-B11B-6285A6FA486C"></a><h3 id="LNOCI-GUID-DC8AF7BC-7FCF-4848-B11B-6285A6FA486C" class="sect3"><span class="enumeration_section">C.4</span>描述Round-Trips操作</h3>
               <div>
                  <p>描述每个OCI操作函数的服务器往返次数。</p>
                  <div class="section">
                     <p><a href="oci-function-server-round-trips.html#GUID-DC8AF7BC-7FCF-4848-B11B-6285A6FA486C__G427955" title="该表有2列。第1列是功能名称，第2列描述服务器往返次数。">表C-4</a>列出了<code class="codeph">OCIDescribeAny()</code> ， <code class="codeph">OCIAttrGet()</code>和<code class="codeph">OCIParamGet()</code>所需的服务器往返次数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-DC8AF7BC-7FCF-4848-B11B-6285A6FA486C__G427955">
                     <p class="titleintable">表C-4用于描述操作的服务器往返</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="用于描述操作的服务器Round-Trips" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d374990e2119">功能</th>
                              <th align="left" valign="bottom" width="70%" id="d374990e2122">服务器往返次数</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d374990e2127" headers="d374990e2119 ">
                                 <p><code class="codeph">OCIAttrGet（）</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d374990e2127 d374990e2122 ">
                                 <p>如果类型对象不在对象缓存中，则2次往返描述类型</p>
                                 <p>每个集合元素或每个类型属性，方法或方法参数描述符的1次往返。如果在集合元素，类型属性或方法参数上使用<code class="codeph">OCI_ATTR_TYPE_NAME</code>或<code class="codeph">OCI_ATTR_SCHEMA_NAME</code> ，则<code class="codeph">OCI_ATTR_TYPE_NAME</code> 1次。
                                 </p>
                                 <p>如果要描述的所有类型对象在第一次<code class="codeph">OCIAttrGet()</code>调用之后已经在对象高速缓存中， <code class="codeph">OCIAttrGet()</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d374990e2148" headers="d374990e2119 ">
                                 <p><code class="codeph">OCIDescribeAny（）</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d374990e2148 d374990e2122 ">
                                 <p>1往返获取类型描述符对象的<code class="codeph">REF</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d374990e2159" headers="d374990e2119 ">
                                 <p><code class="codeph">OCIParamGet（）</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d374990e2159 d374990e2122 ">
                                 <p>0</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNOCI18084"></a><a id="LNOCI18083"></a><div class="props_rev_3"><a id="GUID-2F40E138-6453-4D6A-940C-CE52D52629AA" name="GUID-2F40E138-6453-4D6A-940C-CE52D52629AA"></a><h3 id="LNOCI-GUID-2F40E138-6453-4D6A-940C-CE52D52629AA" class="sect3"><span class="enumeration_section">C.5</span>数据类型映射和操作函数Round-Trips</h3>
               <div>
                  <p>描述了每个OCI数据类型映射和操作功能的服务器往返次数。</p>
                  <div class="section">
                     <p><a href="oci-function-server-round-trips.html#GUID-2F40E138-6453-4D6A-940C-CE52D52629AA__G427924" title="该表有2列。第1列是功能名称，第2列描述服务器往返次数。">表C-5</a>列出了数据类型映射和操作函数的往返次数。表中的星号表示具有特定前缀的所有函数都会产生相同数量的服务器往返。例如， <code class="codeph">OCINumberAdd()</code> ， <code class="codeph">OCINumberPower()</code>和<code class="codeph">OCINumberFromText()</code>都会导致零服务器往返。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2F40E138-6453-4D6A-940C-CE52D52629AA__G427924">
                     <p class="titleintable">表C-5数据类型操作函数的服务器往返</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="服务器Round-Trips用于数据类型操作函数" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d374990e2389">功能</th>
                              <th align="left" valign="bottom" width="74%" id="d374990e2392">服务器往返次数</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d374990e2397" headers="d374990e2389 ">
                                 <p><code class="codeph">OCIColl *（）</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d374990e2397 d374990e2392 ">
                                 <p>0;如果集合未加载到缓存中，则为1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d374990e2405" headers="d374990e2389 ">
                                 <p><code class="codeph">OCIDate *（）</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d374990e2405 d374990e2392 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d374990e2413" headers="d374990e2389 ">
                                 <p><code class="codeph">OCIIter *（）</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d374990e2413 d374990e2392 ">
                                 <p>0;如果集合未加载到缓存中，则为1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d374990e2421" headers="d374990e2389 ">
                                 <p><code class="codeph">OCINumber *（）</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d374990e2421 d374990e2392 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d374990e2429" headers="d374990e2389 ">
                                 <p><code class="codeph">OCIRaw *（）</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d374990e2429 d374990e2392 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d374990e2437" headers="d374990e2389 ">
                                 <p><code class="codeph">OCIRef *（）</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d374990e2437 d374990e2392 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d374990e2445" headers="d374990e2389 ">
                                 <p><code class="codeph">OCIString *（）</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d374990e2445 d374990e2392 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d374990e2453" headers="d374990e2389 ">
                                 <p><code class="codeph">OCITable *（）</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d374990e2453 d374990e2392 ">
                                 <p>0;如果嵌套表未加载到缓存中，则为1</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNOCI18086"></a><a id="LNOCI18085"></a><div class="props_rev_3"><a id="GUID-4CC811AE-42B9-44FE-93F8-BE8D95D606AB" name="GUID-4CC811AE-42B9-44FE-93F8-BE8D95D606AB"></a><h3 id="LNOCI-GUID-4CC811AE-42B9-44FE-93F8-BE8D95D606AB" class="sect3"><span class="enumeration_section">C.6</span>任何类型和数据函数Round-Trips</h3>
               <div>
                  <p>描述每个OCI Any Type和Data函数的服务器往返次数。</p>
                  <div class="section">
                     <p><a href="oci-function-server-round-trips.html#GUID-4CC811AE-42B9-44FE-93F8-BE8D95D606AB__G428150" title="该表有2列。第1列是功能名称，第2列描述服务器往返次数。">表C-6</a>列出了任何类型和数据功能所需的服务器往返次数。未列出的功能不会产生任何往返。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4CC811AE-42B9-44FE-93F8-BE8D95D606AB__G428150">
                     <p class="titleintable">表C-6任何类型和数据功能的服务器往返</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="适用于任何类型和数据功能的服务器Round-Trips" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="40%" id="d374990e2663">功能</th>
                              <th align="left" valign="bottom" width="60%" id="d374990e2666">服务器往返次数</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d374990e2671" headers="d374990e2663 ">
                                 <p><code class="codeph">OCIAnyDataAttrGet（）</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d374990e2671 d374990e2666 ">
                                 <p>0;如果类型信息未加载到缓存中，则为1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d374990e2679" headers="d374990e2663 ">
                                 <p><code class="codeph">OCIAnyDataAttrSet（）</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d374990e2679 d374990e2666 ">
                                 <p>0;如果类型信息未加载到缓存中，则为1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d374990e2687" headers="d374990e2663 ">
                                 <p><code class="codeph">OCIAnyDataCollGetElem（）</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d374990e2687 d374990e2666 ">
                                 <p>0;如果类型信息未加载到缓存中，则为1</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNOCI18088"></a><a id="LNOCI18087"></a><div class="props_rev_3"><a id="GUID-C9786B3E-193E-466C-A790-92A696B2D450" name="GUID-C9786B3E-193E-466C-A790-92A696B2D450"></a><h3 id="LNOCI-GUID-C9786B3E-193E-466C-A790-92A696B2D450" class="sect3"><span class="enumeration_section">C.7</span>其他本地功能</h3>
               <div>
                  <p>描述每个OCI其他本地功能的服务器往返次数。</p>
                  <div class="section">
                     <p><a href="oci-function-server-round-trips.html#GUID-C9786B3E-193E-466C-A790-92A696B2D450__G427971" title="该表有2列。第1列是本地函数名，第2列是Notes，它在第一行描述了描述对象类型时的服务器往返次数;否则，每个本地函数名称都不需要服务器往返。">表C-7</a>列出了本地功能，不需要服务器往返。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C9786B3E-193E-466C-A790-92A696B2D450__G427971">
                     <p class="titleintable">表C-7本地处理函数</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="本地处理函数" width="100%" border="1" summary="This table has 2 columns. Column 1 is the local function name and column 2 is Notes, which describes in the first row the number of server round-trips when describing an object type; otherwise, no server round-trip is required for each of these local function names." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="47%" id="d374990e2905">本地功能名称</th>
                              <th align="left" valign="bottom" width="53%" id="d374990e2908">笔记</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2913" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIAttrGet（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2913 d374990e2908 ">
                                 <p>在描述对象类型时，此调用会进行一次往返以获取类型描述符对象。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2921" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIAttrSet（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2921 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2929" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIBindArrayOfStruct（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2929 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2937" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIDefineArrayOfStruct（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2937 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2945" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIBindByName（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2945 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2953" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIBindByPos（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2953 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2961" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIBindDynamic（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2961 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2969" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIBindObject（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2969 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2977" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIDefineByPos（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2977 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2985" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIDefineDynamic（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2985 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2993" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIDefineObject（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2993 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3002" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIDescriptorAlloc（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3002 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3010" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIDescriptorFree（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3010 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3018" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIEnvCreate（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3018 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3026" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIEnvInit（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3026 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3034" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIErrorGet（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3034 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3042" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIHandleAlloc（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3042 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3050" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIHandleFree（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3050 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3058" headers="d374990e2905 ">
                                 <p><code class="codeph">OCILdaToSvcCtx（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3058 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3066" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIStmtGetBindInfo（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3066 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3074" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIStmtPrepare（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3074 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3082" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIStmtRelease（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3082 d374990e2908 "> </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3089" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIStmtPrepare2（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3089 d374990e2908 "> </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3095" headers="d374990e2905 ">
                                 <p><code class="codeph">OCISvcCtxToLda（）</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3095 d374990e2908 ">
                                 <p> </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>