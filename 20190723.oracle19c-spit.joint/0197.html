<html id="13313.tuning-oracle-database.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>调整Oracle数据库</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator&#39;s Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator&#39;s Reference for Linux and UNIX System-Based Operating Systems"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="administrators-reference-linux-and-unix-system-based-operating-systems.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T05:04:28-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96356-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="SQLLoader-and-PLSQL-demonstrations.html" title="Previous" type="text/html"></link>
      <link rel="next" href="administering-oracle-database-on-linux.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Administrator&#39;s Reference for Linux and UNIX System-Based Operating Systems"></meta>
    <meta name="dcterms.isVersionOf" content="UNXAR"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SQLLoader-and-PLSQL-demonstrations.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="administering-oracle-database-on-linux.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库管理员参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">调整Oracle数据库</li>
            </ol>
            <a id="GUID-D7706280-A944-4FF1-9A45-CEA224BCF965" name="GUID-D7706280-A944-4FF1-9A45-CEA224BCF965"></a><a id="UNXAR008"></a>
            
            <h2 id="UNXAR-GUID-D7706280-A944-4FF1-9A45-CEA224BCF965" class="sect2"><span class="enumeration_chapter">8</span>调整Oracle数据库</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何调优Oracle数据库。它包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="tuning-oracle-database.html#GUID-A8B7D96B-5BCC-45D6-8750-63FAD6945673">调整的重要性</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-oracle-database.html#GUID-1AE0E2C3-3688-4237-9E7C-2BEA0BBD581F" title="vmstat报告有关进程，内存，分页，块IO，陷阱和cpu活动的信息。">操作系统工具</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-oracle-database.html#GUID-AF1D9E38-7B2B-42C0-BFA1-C2101076399E">调整内存管理</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-oracle-database.html#GUID-275FAC97-75EE-46A2-9A14-D1843978461C">调整磁盘输入 - 输出</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-oracle-database.html#GUID-8856E5FC-9C62-4881-A313-76200BA5FA17">监控磁盘性能</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-oracle-database.html#GUID-4F58C709-3605-4272-8976-C0051DD4D270">系统全球区</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-oracle-database.html#GUID-34D4D084-2E28-4325-86E9-C19FDA524710">调整操作系统缓冲区高速缓存</a></p>
                  </li>
               </ul>
            </div><a id="UNXAR241"></a><div class="props_rev_3"><a id="GUID-A8B7D96B-5BCC-45D6-8750-63FAD6945673" name="GUID-A8B7D96B-5BCC-45D6-8750-63FAD6945673"></a><h3 id="UNXAR-GUID-A8B7D96B-5BCC-45D6-8750-63FAD6945673" class="sect3"><span class="enumeration_section">8.1</span>调整的重要性</h3>
               <div>
                  <p>本节的目的是有效地调整和优化Oracle数据库的性能。频繁调整可提高系统性能并防止数据瓶颈。</p>
                  <p>在调整数据库之前，必须使用<span class="q">“ <a href="tuning-oracle-database.html#GUID-1AE0E2C3-3688-4237-9E7C-2BEA0BBD581F" title="vmstat报告有关进程，内存，分页，块IO，陷阱和cpu活动的信息。">操作系统工具</a> ”</span>部分中描述的工具来观察其正常行为。
                  </p>
               </div>
            </div><a id="UNXAR242"></a><div class="props_rev_3"><a id="GUID-1AE0E2C3-3688-4237-9E7C-2BEA0BBD581F" name="GUID-1AE0E2C3-3688-4237-9E7C-2BEA0BBD581F"></a><h3 id="UNXAR-GUID-1AE0E2C3-3688-4237-9E7C-2BEA0BBD581F" class="sect3"><span class="enumeration_section">8.2</span>操作系统工具</h3>
               <div>
                  <p>有几种操作系统工具可用于评估数据库性能和确定数据库要求。除了提供Oracle进程的统计信息外，这些工具还提供有关整个系统的CPU使用率，中断，交换，分页，上下文切换和I / O的统计信息。</p>
                  <p>本节提供有关以下常用工具的信息：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-ECFDE132-9FB5-4DE4-B384-1D89F9AC033C" title="vmstat报告有关进程，内存，分页，块IO，陷阱和cpu活动的信息。">vmstat的</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-A700EA3B-4B44-4D97-91F4-352DC0A7E3CB">SAR</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-05AE3E63-503D-4F77-9F47-4D275182269F">iostat的</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-0A22446B-4F9E-4A3B-AFCE-26A793332145">swap_ swapinfo_ swapon_或lsps</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-EF193C34-65C3-4C08-B748-155942FCAC7D">Oracle Solaris工具</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-3086EC24-00ED-4A83-914E-B060D60315EB">Linux工具</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-6A22E14C-FE99-41DB-B5D2-1505AE8BE41D">POWER Systems（64位）工具上的IBM AIX</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-43021DDB-74B6-4634-A2FE-53256E181F58">HP-UX工具</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-1AE0E2C3-3688-4237-9E7C-2BEA0BBD581F__GUID-80249BDB-A386-46ED-9F8C-0D60CAD6556E">
                     <p class="notep1">也可以看看：</p>
                     <p>有关这些工具的更多信息，请参见操作系统文档和手册页</p>
                  </div>
               </div><a id="UNXAR243"></a><div class="props_rev_2"><a id="GUID-ECFDE132-9FB5-4DE4-B384-1D89F9AC033C" name="GUID-ECFDE132-9FB5-4DE4-B384-1D89F9AC033C"></a><h4 id="UNXAR-GUID-ECFDE132-9FB5-4DE4-B384-1D89F9AC033C" class="sect4"><span class="enumeration_section">8.2.1</span> vmstat</h4>
                  <div>
                     <p>vmstat报告有关进程，内存，分页，块IO，陷阱和cpu活动的信息。</p>
                     <div class="section">
                        <p>使用<code class="codeph">vmstat</code>命令查看进程，虚拟内存，磁盘，陷阱和CPU活动，具体取决于您使用该命令提供的交换机。运行以下命令之一以六秒为间隔显示CPU活动摘要六次：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在Oracle Solaris和HP-UX上：</p><pre class="oac_no_warn" dir="ltr">$ vmstat -S 5 6</pre><div class="infoboxnote" id="GUID-ECFDE132-9FB5-4DE4-B384-1D89F9AC033C__GUID-6B66B2DB-90FF-415B-974B-3F65F0D44F5E">
                                 <p class="notep1">注意：</p><code class="codeph">-S</code>选项显示交换统计信息。
                              </div>
                           </li>
                           <li>
                              <p>在POWER系统上的Linux和IBM AIX上（64位）：</p><pre class="oac_no_warn" dir="ltr">$ vmstat 5 6</pre></li>
                        </ul>
                        <p>以下是Linux上此命令的示例输出：</p><pre class="oac_no_warn" dir="ltr">procs memory swap io system cpu rb swpd free buff cache si so bi bo in cs us sy id wa st 0 0 130668 103604 198144 5029000 0 0 1 68 8 6 0 0 100 0 0 0 0 130668 103604 198144 5029000 0 0 0 86 226 352 0 0 100 0 0 0 0 130668 103604 198148 5029000 0 0 0 58 223 357 0 0 100 0 0 0 0 130668 103604 198152 5029004 0 0 0 68 223 358 0 0 100 0 0 0 0 130668 103604 198152 5029004 0 0 0 56 223 357 0 0 100 0 0 0 0 130668 103604 198152 5029004 0 0 0 57 228 362 0 0 100 0 0</pre><p>以下是HP-UX上<code class="codeph">$ vmstat -S 1 2</code>命令的示例输出：</p><pre class="oac_no_warn" dir="ltr">procs memory page faults cpu rbw avm free si so pi po fr de sr in sy cs us sy id 1 0 0 112085 2189167 0 0 3 0 0 0 1 1033 32186 108 1 0 98 1 0 0 112085 2189074 0 0 4 0 0 0 0 1022 508 60 0 0 100</pre><p><code class="codeph">procs</code>列下的<code class="codeph">w</code>子列显示已被换出并写入磁盘的潜在进程数。如果该值不为零，则发生交换并且系统内存不足。
                        </p>
                        <p>对于HP-UX和Oracle Solaris， <code class="codeph">page</code>列下的<code class="codeph">si</code>和<code class="codeph">so</code>列分别表示每秒交换和交换的进程数。理想情况下，这些值应为零。
                        </p>
                        <p>对于Linux， <code class="codeph">si</code>和<code class="codeph">so</code>列表示交换和换出的内存量。
                        </p>
                        <p><code class="codeph">page</code>列下的<code class="codeph">sr</code>列表示扫描速率。高扫描速率是由可用内存不足引起的。
                        </p>
                        <p><code class="codeph">page</code>列下的<code class="codeph">pi</code>和<code class="codeph">po</code>列分别表示每秒的页面调入次数和页面调出次数。页面输入和页面输出的数量增加是正常的。即使在具有足够可用内存的系统上也会发生一些分页。
                        </p>
                        <div class="infoboxnotealso" id="GUID-ECFDE132-9FB5-4DE4-B384-1D89F9AC033C__GUID-283607F7-15E8-46B8-B421-C46E3D45B009">
                           <p class="notep1">也可以看看：</p>
                           <p>有关解释输出的信息，请参见适用于您的平台的vmstat手册页</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="UNXAR244"></a><div class="props_rev_2"><a id="GUID-A700EA3B-4B44-4D97-91F4-352DC0A7E3CB" name="GUID-A700EA3B-4B44-4D97-91F4-352DC0A7E3CB"></a><h4 id="UNXAR-GUID-A700EA3B-4B44-4D97-91F4-352DC0A7E3CB" class="sect4"><span class="enumeration_section">8.2.2</span> sar</h4>
                  <div>
                     <div class="section">
                        <p>根据您使用该命令提供的开关，使用<code class="codeph">sar</code> （system activity reporter）命令在操作系统中显示累积活动计数器。
                        </p>
                        <p><span>在UNIX系统上，</span>以下命令每十秒显示一次输入和输出活动的摘要：</p><pre class="oac_no_warn" dir="ltr">$ sar -b 10 10</pre><p>以下示例显示了Linux系统上此命令的输出：</p><pre class="oac_no_warn" dir="ltr">10:28:01 tps rtps wtps bread / s bwrtn / s 10:28:11 17.20 0.00 17.20 0.00 300.80 10:28:21 46.40 0.00 46.40 0.00 467.20 10:28:31 16.40 0.00 16.40 0.00 283.20 10:28:41 15.60 0.00 15.60 0.00 275.20 10:28:51 17.02 0.00 17.02 0.00 254.65 10:29:01 35.80 0.00 35.80 0.00 414.40 10:29:11 15.80 0.00 15.80 0.00 273.60 10:29:21 17.40 0.00 17.40 0.00 262.40 10:29:31 32.20 0.00 32.20 0.00 406.40 10:29:41 20.98 0.00 20.98 0.00 354.85平均：23.48 0.00 23.48 0.00 329.28</pre><p><code class="codeph">sar</code>输出提供给定时间点的系统输入和输出活动的快照。如果使用多个选项指定间隔时间，则输出可能变得难以阅读。如果指定的间隔时间小于5，则<code class="codeph">sar</code>活动本身会影响输出。
                        </p>
                        <div class="infoboxnotealso" id="GUID-A700EA3B-4B44-4D97-91F4-352DC0A7E3CB__GUID-EE68E784-ACE6-4E7A-868F-BB38F3C24247">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">sar</code>更多信息的手册页</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="UNXAR245"></a><div class="props_rev_3"><a id="GUID-05AE3E63-503D-4F77-9F47-4D275182269F" name="GUID-05AE3E63-503D-4F77-9F47-4D275182269F"></a><h4 id="UNXAR-GUID-05AE3E63-503D-4F77-9F47-4D275182269F" class="sect4"><span class="enumeration_section">8.2.3</span> iostat</h4>
                  <div>
                     <div class="section">
                        <p>使用<code class="codeph">iostat</code>命令查看终端和磁盘活动，具体取决于您使用该命令提供的交换机。<code class="codeph">iostat</code>命令的输出不包括磁盘请求队列，但它显示哪些磁盘正忙。您可以使用此信息来平衡输入 - 输出负载。
                        </p>
                        <p>以下命令以五秒为间隔显示终端和磁盘活动五次：</p><pre class="oac_no_warn" dir="ltr">$ iostat 5 5</pre><p>以下是Oracle Solaris上的命令的示例输出：</p><pre class="oac_no_warn" dir="ltr">tty blkdev0 sd1 sd2 sd3 cpu tin tout kps tps serv kps tps serv kps tps serv kps tps serv us sy st id 0 1 0 0 0 0 0 31 0 0 18 3 0 42 0 0 0 99 0 16 0 0 0 0 0 0 0 0 0 1 0 14 0 0 0 100 0 16 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 100 0 16 0 0 0 0 0 0 2 0 14 12 2 47 0 0 1 98</pre><p>使用<code class="codeph">iostat</code>命令查找大型磁盘请求队列。请求队列显示特定磁盘设备上的输入 - 输出请求必须等待多长时间才能得到服务。请求队列是由对该磁盘的大量输入 - 输出请求或具有较长平均寻道时间的输入 - 输出引起的。理想情况下，磁盘请求队列应该为零或接近零。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="UNXAR246"></a><div class="props_rev_3"><a id="GUID-0A22446B-4F9E-4A3B-AFCE-26A793332145" name="GUID-0A22446B-4F9E-4A3B-AFCE-26A793332145"></a><h4 id="UNXAR-GUID-0A22446B-4F9E-4A3B-AFCE-26A793332145" class="sect4"><span class="enumeration_section">8.2.4</span> swap，swapinfo，swapon或lsps</h4>
                  <div>
                     <div class="section">
                        <p>使用<code class="codeph">swap</code> ， <code class="codeph">swapinfo</code> ， <code class="codeph">swapon</code>或<code class="codeph">lsps</code>命令报告有关交换空间使用情况的信息。交换空间不足可能会阻止进程响应，从而导致<code class="codeph">Out of Memory</code>错误导致进程失败。<span>下表列出了适用于每个平台的命令：</span></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="tblformal" id="GUID-0A22446B-4F9E-4A3B-AFCE-26A793332145__GUID-95E0D896-C03A-44B9-9A1E-1E4609FAA9A4">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table lists commands for determining swap space usage. Column 1 is the parameter. Column 2 is the command." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d14091e938">平台</th>
                                    <th align="left" valign="bottom" width="72%" id="d14091e941">命令</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d14091e946" headers="d14091e938 ">
                                       <p>Oracle Solaris</p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d14091e946 d14091e941 ">
                                       <p><code class="codeph">swap -lh</code> ， <code class="codeph">swap -sh</code>和<code class="codeph">zfs list rpool/swap</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d14091e960" headers="d14091e938 ">
                                       <p>Linux的</p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d14091e960 d14091e941 ">
                                       <p><code class="codeph">swapon -s</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d14091e968" headers="d14091e938 ">
                                       <p>POWER Systems上的IBM AIX（64位）</p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d14091e968 d14091e941 ">
                                       <p><code class="codeph">lsps -a</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d14091e976" headers="d14091e938 ">
                                       <p>HP-UX</p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d14091e976 d14091e941 ">
                                       <p><code class="codeph">swapinfo -m</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下示例显示<span>了Oracle Solaris上</span> <code class="codeph">swap -l</code>命令的示例输出：</p><pre class="oac_no_warn" dir="ltr">swapfile dev swaplo blocks free / dev / zvol / dsk / rpool / swap 274,1 8 20971447 20971447</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="UNXAR253"></a><div class="props_rev_3"><a id="GUID-EF193C34-65C3-4C08-B748-155942FCAC7D" name="GUID-EF193C34-65C3-4C08-B748-155942FCAC7D"></a><h4 id="UNXAR-GUID-EF193C34-65C3-4C08-B748-155942FCAC7D" class="sect4"><span class="enumeration_section">8.2.5</span> Oracle Solaris Tools</h4>
                  <div>
                     <p>在Oracle Solaris系统上，使用<code class="codeph">mpstat</code>命令查看多处理器系统中每个处理器的统计信息。表的每一行代表一个处理器的活动。第一行汇总了自上次系统重新启动以来的所有活动。每个后续行汇总前一个时间间隔的活动。除非另有说明，否则所有值均为每秒事件数。参数用于统计和迭代次数之间的时间间隔。
                     </p>
                     <p>以下示例显示了<code class="codeph">mpstat</code>命令的示例输出：</p><pre class="oac_no_warn" dir="ltr">CPU minf mjf xcal intr ithr csw icsw migr smtx srw syscl usr sys st idl 0 3 0 2 319 103 109 0 19 11 0 73 0 1 0 99 1 4 0 1 71 1 95 0 14 12 0 96 0 0 0 99</pre></div>
               </div><a id="UNXAR252"></a><div class="props_rev_3"><a id="GUID-3086EC24-00ED-4A83-914E-B060D60315EB" name="GUID-3086EC24-00ED-4A83-914E-B060D60315EB"></a><h4 id="UNXAR-GUID-3086EC24-00ED-4A83-914E-B060D60315EB" class="sect4"><span class="enumeration_section">8.2.6</span> Linux工具</h4>
                  <div>
                     <p>在Linux系统上，使用<code class="codeph">top</code> ， <code class="codeph">free</code>和<code class="codeph">cat /proc/meminfo</code>命令查看有关交换空间，内存和缓冲区使用情况的信息。
                     </p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6A22E14C-FE99-41DB-B5D2-1505AE8BE41D" name="GUID-6A22E14C-FE99-41DB-B5D2-1505AE8BE41D"></a><h4 id="UNXAR-GUID-6A22E14C-FE99-41DB-B5D2-1505AE8BE41D" class="sect4"><span class="enumeration_section">8.2.7</span> POWER系统上的IBM AIX（64位）工具</h4>
                  <div>
                     <p>以下部分描述了POWER Systems上的IBM AIX上可用的工具（64位）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="tuning-oracle-database.html#GUID-EA13B755-1851-403B-A45D-61921FD67E58">基本操作系统工具</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-oracle-database.html#GUID-1CB0E24A-9133-463E-9FA2-3AEB9F838106">性能工具箱</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-oracle-database.html#GUID-968C5E22-7DAB-423A-804A-119929008DF9">系统管理界面工具</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-6A22E14C-FE99-41DB-B5D2-1505AE8BE41D__GUID-C714865A-2BEE-4F08-B5E8-3C754B1DD387">
                        <p class="notep1">也可以看看：</p>
                        <p>有关这些工具的更多信息，请参阅IBM AIX on POWER Systems（64位）操作系统文档和手册页</p>
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-EA13B755-1851-403B-A45D-61921FD67E58" name="GUID-EA13B755-1851-403B-A45D-61921FD67E58"></a><h5 id="UNXAR-GUID-EA13B755-1851-403B-A45D-61921FD67E58" class="sect5"><span class="enumeration_section">8.2.7.1</span>基本操作系统工具</h5>
                     <div>
                        <div class="section">
                           <p>POWER系统上的IBM AIX（64位）基本操作系统包含历史上是UNIX系统的一部分或需要在POWER Systems（64位）上管理IBM AIX的特定于实现的功能的性能工具。下表列出了最重要的基本操作系统工具。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-EA13B755-1851-403B-A45D-61921FD67E58__GUID-DED1054A-C64B-449F-8AAD-B68510D32DF8">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table describes AIX Base  Operation System tools. Column 1 is the tool. Column 2 is its function. " frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d14091e1390">工具</th>
                                    <th align="left" valign="bottom" width="80%" id="d14091e1393">功能</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1398" headers="d14091e1390 ">
                                       <p><code class="codeph">lsattr来</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1398 d14091e1393 ">
                                       <p>显示设备的属性</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1406" headers="d14091e1390 ">
                                       <p><code class="codeph">lslv</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1406 d14091e1393 ">
                                       <p>显示有关逻辑卷的信息或物理卷的逻辑卷分配</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1414" headers="d14091e1390 ">
                                       <p><code class="codeph">netstat的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1414 d14091e1393 ">
                                       <p>显示与网络相关的数据结构的内容</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1422" headers="d14091e1390 ">
                                       <p><code class="codeph">使用nfsstat</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1422 d14091e1393 ">
                                       <p>显示有关网络文件系统和远程过程调用活动的统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1430" headers="d14091e1390 ">
                                       <p><code class="codeph">不错</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1430 d14091e1393 ">
                                       <p>更改进程的初始优先级</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1438" headers="d14091e1390 ">
                                       <p><code class="codeph">没有</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1438 d14091e1393 ">
                                       <p>显示或设置网络选项</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1446" headers="d14091e1390 ">
                                       <p><code class="codeph">PS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1446 d14091e1393 ">
                                       <p>显示一个或多个进程的状态</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1454" headers="d14091e1390 ">
                                       <p><code class="codeph">reorgvg</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1454 d14091e1393 ">
                                       <p>重新组织卷组中的物理分区分配</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1462" headers="d14091e1390 ">
                                       <p><code class="codeph">时间</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1462 d14091e1393 ">
                                       <p>显示已执行的执行，用户CPU处理和系统CPU处理时间</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1470" headers="d14091e1390 ">
                                       <p><code class="codeph">跟踪</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1470 d14091e1393 ">
                                       <p>记录和报告选定的系统事件</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1478" headers="d14091e1390 ">
                                       <p><code class="codeph">VMO</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1478 d14091e1393 ">
                                       <p>管理虚拟内存管理器可调参数</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-1CB0E24A-9133-463E-9FA2-3AEB9F838106" name="GUID-1CB0E24A-9133-463E-9FA2-3AEB9F838106"></a><h5 id="UNXAR-GUID-1CB0E24A-9133-463E-9FA2-3AEB9F838106" class="sect5"><span class="enumeration_section">8.2.7.2</span>性能工具箱</h5>
                     <div>
                        <div class="section">
                           <p>IBM AIX on POWER Systems（64位）性能工具箱包含用于本地和远程监视和调整系统活动的工具。Performance Tool Box由两个主要组件组成<a id="d14091e1567" class="indexterm-anchor"></a><a id="d14091e1571" class="indexterm-anchor"></a>性能工具箱管理器和<a id="d14091e1576" class="indexterm-anchor"></a><a id="d14091e1578" class="indexterm-anchor"></a><a id="d14091e1582" class="indexterm-anchor"></a> Performance Tool Box Agent。Performance Tool Box Manager使用<code class="codeph">xmperf</code>实用程序收集和显示配置中各种系统的数据。Performance Tool Box Agent使用<code class="codeph">xmserd</code>守护程序收集数据并将数据传输到Performance Tool Box Manager。Performance Tool Box Agent也可作为单独的产品在Power Systems（64位）上用于IBM AIX的Performance Aide。
                           </p>
                           <p>Performance Tool Box和Performance Aide都包含下表中列出的监视和调整工具：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-1CB0E24A-9133-463E-9FA2-3AEB9F838106__GUID-AF2EDA10-E69A-4857-8B3D-7BD064516E47">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table describes AIX monitoring and tuning tools. Column 1 is the tool. Column 2 is a description of the tool. " frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d14091e1603">工具</th>
                                    <th align="left" valign="bottom" width="80%" id="d14091e1606">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1611" headers="d14091e1603 ">
                                       <p><code class="codeph">FDPR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1611 d14091e1606 ">
                                       <p>优化特定工作负载的可执行程序</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1619" headers="d14091e1603 ">
                                       <p><code class="codeph">菲莱蒙</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1619 d14091e1606 ">
                                       <p>使用跟踪工具来监视和报告文件系统的活动</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1627" headers="d14091e1603 ">
                                       <p><code class="codeph">fileplace又</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1627 d14091e1606 ">
                                       <p>显示逻辑卷或物理卷中文件块的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1635" headers="d14091e1603 ">
                                       <p><code class="codeph">的lockstat</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1635 d14091e1606 ">
                                       <p>显示有关内核锁争用的统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1643" headers="d14091e1603 ">
                                       <p><code class="codeph">lvedit</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1643 d14091e1606 ">
                                       <p>便于在卷组中交互放置逻辑卷</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1651" headers="d14091e1603 ">
                                       <p><code class="codeph">netpmon</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1651 d14091e1606 ">
                                       <p>使用跟踪工具报告网络输入输出和网络相关的CPU使用情况</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1659" headers="d14091e1603 ">
                                       <p><code class="codeph">RMSS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1659 d14091e1606 ">
                                       <p>模拟具有各种内存大小的系统以进行性能测试</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1667" headers="d14091e1603 ">
                                       <p><code class="codeph">svmon的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1667 d14091e1606 ">
                                       <p>捕获并分析有关虚拟内存使用情况的信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1675" headers="d14091e1603 ">
                                       <p><code class="codeph">系统调用</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1675 d14091e1606 ">
                                       <p>记录和计算系统调用</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1683" headers="d14091e1603 ">
                                       <p><code class="codeph">则tprof</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1683 d14091e1606 ">
                                       <p>使用<code class="codeph">trace</code>工具报告模块和源代码语句级别的CPU使用情况</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1694" headers="d14091e1603 ">
                                       <p><code class="codeph">大脚</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1694 d14091e1606 ">
                                       <p>报告进程的内存访问模式</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1703" headers="d14091e1603 ">
                                       <p><code class="codeph">干</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1703 d14091e1606 ">
                                       <p>允许现有可执行文件的子例程级别进入和退出检测</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-1CB0E24A-9133-463E-9FA2-3AEB9F838106__GUID-F2FE6005-D44C-4C9F-9192-D643AFCD37BD">
                              <p class="notep1">也可以看看：</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="italic">Performance Toolbox版本2和3指南和参考</span>有关这些工具的信息</p>
                                 </li>
                                 <li>
                                    <p><span class="italic">“AIX 5L性能管理指南”，</span>以获取有关这些工具的语法的信息</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-968C5E22-7DAB-423A-804A-119929008DF9" name="GUID-968C5E22-7DAB-423A-804A-119929008DF9"></a><h5 id="UNXAR-GUID-968C5E22-7DAB-423A-804A-119929008DF9" class="sect5"><span class="enumeration_section">8.2.7.3</span>系统管理界面工具</h5>
                     <div>
                        <p>IBM AIX on POWER Systems（64位）系统管理界面工具（SMIT）为各种系统管理和性能工具提供了菜单驱动的界面。通过使用SMIT，您可以浏览大量工具并专注于您要执行的作业。</p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-43021DDB-74B6-4634-A2FE-53256E181F58" name="GUID-43021DDB-74B6-4634-A2FE-53256E181F58"></a><h4 id="UNXAR-GUID-43021DDB-74B6-4634-A2FE-53256E181F58" class="sect4"><span class="enumeration_section">8.2.8</span> HP-UX工具</h4>
                  <div>
                     <p>HP-UX系统上提供以下性能分析工具：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>GlancePlus的/ UX</p>
                           <p>此HP-UX实用程序是一种在线诊断工具，用于测量系统的活动。GlancePlus显示有关如何使用系统资源的信息。它在一系列屏幕上显示有关系统输入输出，CPU和内存使用情况的动态信息。您可以使用该实用程序来监视各个进程如何使用资源。</p>
                        </li>
                        <li>
                           <p>惠普程序员分析工具包</p>
                           <p>HP Programmer's Analysis Kit包含以下工具：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>美洲狮</p>
                                 <p>该工具在程序运行期间收集性能统计信息。它提供了几个图形显示，用于查看和分析收集的统计信息。</p>
                              </li>
                              <li>
                                 <p>线程跟踪可视化器</p>
                                 <p>此工具以图形格式显示由检测的线程库<code class="codeph">libpthread_tr.sl</code>生成的跟踪文件。它使您能够查看线程如何交互以及查找线程被阻塞等待资源的位置。
                                 </p>
                                 <p>HP Programmer的分析工具包与HP Fortran 77，HP Fortran 90，HP C，HP C ++，HP ANSI C ++和HP Pascal编译器捆绑在一起。</p>
                                 <p>下表列出了可用于在HP-UX上进行其他性能调整的性能调整工具：</p>
                                 <div class="tblformal" id="GUID-43021DDB-74B6-4634-A2FE-53256E181F58__GUID-967880E4-48BB-4025-A417-277EE72316AB">
                                    <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This 2 column table describes HP-UX monitoring and tuning tools. Column 1 is the tool. Column 2 is a description. " frame="hsides" rules="rows">
                                       <thead>
                                          <tr align="left" valign="top">
                                             <th align="left" valign="bottom" width="20%" id="d14091e1934">工具</th>
                                             <th align="left" valign="bottom" width="80%" id="d14091e1937">描述</th>
                                          </tr>
                                       </thead>
                                       <tbody>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e1942" headers="d14091e1934 ">
                                                <p><code class="codeph">caliper</code> （仅限Itanium）</p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e1942 d14091e1937 ">
                                                <p>收集系统分析任务的运行时应用程序数据，例如缓存未命中，转换后备缓冲区或指令周期，以及快速动态检测。它是C，C ++，Fortran和汇编应用程序的动态性能测量工具</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e1951" headers="d14091e1934 ">
                                                <p><code class="codeph">gprof的</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e1951 d14091e1937 ">
                                                <p>为程序创建执行配置文件</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e1959" headers="d14091e1934 ">
                                                <p><code class="codeph">监控</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e1959 d14091e1937 ">
                                                <p>监视程序计数器并调用某些功能</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e1967" headers="d14091e1934 ">
                                                <p><code class="codeph">netfmt将</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e1967 d14091e1937 ">
                                                <p>监控网络</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e1975" headers="d14091e1934 ">
                                                <p><code class="codeph">netstat的</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e1975 d14091e1937 ">
                                                <p>报告网络性能统计信息</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e1983" headers="d14091e1934 ">
                                                <p><code class="codeph">使用nfsstat</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e1983 d14091e1937 ">
                                                <p>显示有关网络文件系统和远程过程调用活动的统计信息</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e1991" headers="d14091e1934 ">
                                                <p><code class="codeph">的nettl</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e1991 d14091e1937 ">
                                                <p>通过记录和跟踪捕获网络事件或数据包</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e1999" headers="d14091e1934 ">
                                                <p><code class="codeph">教授</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e1999 d14091e1937 ">
                                                <p>创建C程序的执行配置文件并显示程序的性能统计信息，显示程序花费大部分执行时间的位置</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e2007" headers="d14091e1934 ">
                                                <p><code class="codeph">PROFIL</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e2007 d14091e1937 ">
                                                <p>将程序计数器信息复制到缓冲区中</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e2015" headers="d14091e1934 ">
                                                <p><code class="codeph">最佳</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e2015 d14091e1937 ">
                                                <p>显示系统上的顶级进程并定期更新信息</p>
                                             </td>
                                          </tr>
                                       </tbody>
                                    </table>
                                 </div>
                                 <!-- class="inftblhruleinformal" -->
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="UNXAR254"></a><div class="props_rev_3"><a id="GUID-AF1D9E38-7B2B-42C0-BFA1-C2101076399E" name="GUID-AF1D9E38-7B2B-42C0-BFA1-C2101076399E"></a><h3 id="UNXAR-GUID-AF1D9E38-7B2B-42C0-BFA1-C2101076399E" class="sect3"><span class="enumeration_section">8.3</span>调整内存管理</h3>
               <div>
                  <p>通过测量分页和交换空间来开始内存调整过程，以确定可用的内存量。 <a id="d14091e2112" class="indexterm-anchor"></a><a id="d14091e2116" class="indexterm-anchor"></a><a id="d14091e2120" class="indexterm-anchor"></a><a id="d14091e2124" class="indexterm-anchor"></a><a id="d14091e2126" class="indexterm-anchor"></a> 确定系统内存使用情况后，调整Oracle缓冲区缓存。
                  </p>
                  <p><a id="d14091e2130" class="indexterm-anchor"></a><a id="d14091e2132" class="indexterm-anchor"></a> Oracle缓冲区管理器确保最常访问的数据缓存更长时间。如果监视缓冲区管理器并调整缓冲区高速缓存，则可以显着提高Oracle数据库性能。系统的最佳Oracle数据库缓冲区大小取决于整个系统负载以及Oracle数据库相对于其他应用程序的相对优先级。<a id="d14091e2135" class="indexterm-anchor"></a></p>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A">分配足够的交换空间</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-6782A06C-D726-44A8-AE6A-4351C370DC7F">监控分页</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-6FE967A1-86ED-4088-A8BF-30453A2FB11D">调整Oracle块大小</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-E1DD1E7F-76BA-45EE-AD3F-E709A4FB3D23">分配内存资源</a></p>
                     </li>
                  </ul>
               </div><a id="UNXAR255"></a><div class="props_rev_3"><a id="GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A" name="GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A"></a><h4 id="UNXAR-GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A" class="sect4"><span class="enumeration_section">8.3.1</span>分配足够的交换空间</h4>
                  <div>
                     <p>尽量减少交换，因为它会导致显着的操作系统开销。要检查交换，请使用<code class="codeph">sar</code>或<code class="codeph">vmstat</code>命令。有关与这些命令一起使用的相应选项的信息，请参见手册页。
                     </p>
                     <p>如果系统正在交换，您必须节省内存，那么：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>避免运行不必要的系统守护进程或应用程序进程。</p>
                        </li>
                        <li>
                           <p>减少数据库缓冲区的数量以释放一些内存。</p>
                        </li>
                        <li>
                           <p>减少操作系统文件缓冲区的数量。</p>
                        </li>
                     </ul>
                     <p>要确定的交换空间量，运行下面的命令<span>S</span> <span>的一个</span> <span>，取决于平台</span> ：</p>
                     <div class="tblformal" id="GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A__GUID-EA87D3C7-E30A-4595-93E3-1BCD163E182D">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table lists the commands to determine swap space by platform. Column 1 is the platform. Column 2 is the command. " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="28%" id="d14091e2285">平台</th>
                                 <th align="left" valign="bottom" width="72%" id="d14091e2288">命令</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d14091e2293" headers="d14091e2285 ">
                                    <p>Oracle Solaris</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d14091e2293 d14091e2288 ">
                                    <p><code class="codeph">swap -l</code> ， <code class="codeph">swap -s</code>和<code class="codeph">zfs get volsize rpool/swap</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d14091e2307" headers="d14091e2285 ">
                                    <p>Linux的</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d14091e2307 d14091e2288 ">
                                    <p><code class="codeph">swapon -s</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d14091e2315" headers="d14091e2285 ">
                                    <p>POWER Systems上的IBM AIX（64位）</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d14091e2315 d14091e2288 ">
                                    <p><code class="codeph">lsps -a</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d14091e2323" headers="d14091e2285 ">
                                    <p>HP-UX</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d14091e2323 d14091e2288 ">
                                    <p>	<code class="codeph">swapinfo -m</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>监视交换空间的使用，并根据需要增加它。下表描述了最初建议的已安装RAM与配置的交换空间要求之间的关系：</p>
                     <div class="tblformal" id="GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A__THIS2COLUMNTABLELISTSTHERECOMMENDED-515BC171">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table lists the recommended relationship between installed RAM and the configured swap space requirement. Column 1 is RAM. Column 2 is swap space." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d14091e2341">内存</th>
                                 <th align="left" valign="bottom" id="d14091e2344">交换空间</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e2349" headers="d14091e2341 ">
                                    <p>介于1 GB和2 GB之间</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e2349 d14091e2344 ">
                                    <p>RAM大小的1.5倍</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e2356" headers="d14091e2341 ">
                                    <p>介于2 GB和16 GB之间</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e2356 d14091e2344 ">
                                    <p>等于RAM的大小</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e2363" headers="d14091e2341 ">
                                    <p>超过16 GB</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e2363 d14091e2344 ">
                                    <p>16 GB</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>要添加交换空间的系统，运行以下命令<span>S</span> <span>的一个</span> <span>，根据不同的平台</span> ：</p>
                     <div class="tblformal" id="GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A__GUID-3A915CAD-39A7-4576-963B-ACAC986D79F1">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table lists platform-specific commands to add swap space. Column 1 is the platform. Column 2 is the command. " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="28%" id="d14091e2385">平台</th>
                                 <th align="left" valign="bottom" width="72%" id="d14091e2388">命令</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d14091e2393" headers="d14091e2385 ">
                                    <p>Oracle Solaris</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d14091e2393 d14091e2388 ">
                                    <p>使用以下选项之一：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>对于ZFS文件系统，使用以下命令扩展交换卷：</p>
                                          <p><code class="codeph">zfs set volsize=</code> <span class="italic"><code class="codeph">newsize</code></span> <code class="codeph">rpool/swap</code></p>
                                          <p><span class="italic"><code class="codeph">newsize</code></span>是您想要增加的交换量的大小。
                                          </p>
                                       </li>
                                       <li>
                                          <p>对于非ZFS文件系统，请使用以下命令：</p>
                                          <p><code class="codeph">交换-a</code></p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d14091e2425" headers="d14091e2385 ">
                                    <p>Linux的</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d14091e2425 d14091e2388 ">
                                    <p><code class="codeph">交换-a</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d14091e2433" headers="d14091e2385 ">
                                    <p>POWER Systems上的IBM AIX（64位）</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d14091e2433 d14091e2388 ">
                                    <p><code class="codeph">chps</code>或<code class="codeph">mkps</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d14091e2444" headers="d14091e2385 ">
                                    <p>HP-UX</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d14091e2444 d14091e2388 ">
                                    <p> <code class="codeph">swapon命令</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A__GUID-988CBFFC-40CE-403B-BA68-EED87F1547BB">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?id=1587357.1" target="_blank">我的Oracle支持说明1587357.1</a></p>
                           </li>
                           <li>
                              <p>有关这些命令的更多信息，请参见操作系统文档</p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnote" id="GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A__GUID-1333B570-EBB5-40B9-A35A-7E5C92D150FA">
                        <p class="notep1">注意：</p>
                        <p>从12 <span class="italic">c</span>开始，Oracle数据库使用Oracle Solaris的优化共享内存（OSM）模型来实现自动内存管理。与DISM不同，OSM不需要交换磁盘空间的双重分配。有关交换空间要求，请参阅以下注释：</p>
                        <p><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?id=1010818.1" target="_blank">我的Oracle支持说明1010818.1</a></p>
                     </div>
                  </div>
               </div><a id="UNXAR256"></a><div class="props_rev_3"><a id="GUID-6782A06C-D726-44A8-AE6A-4351C370DC7F" name="GUID-6782A06C-D726-44A8-AE6A-4351C370DC7F"></a><h4 id="UNXAR-GUID-6782A06C-D726-44A8-AE6A-4351C370DC7F" class="sect4"><span class="enumeration_section">8.3.2</span>监控分页</h4>
                  <div>
                     <p>分页可能不会像交换一样出现严重的问题，因为整个程序不必存储在内存中运行。少量页面输出可能不会显着影响系统的性能。</p>
                     <p>为了检测过度寻呼，在快速响应或空闲时间期间运行测量以与慢响应时段的测量进行比较。</p>
                     <p>使用<code class="codeph">vmstat</code>或<code class="codeph">sar</code>命令监视分页。
                     </p>
                     <div class="infoboxnotealso" id="GUID-6782A06C-D726-44A8-AE6A-4351C370DC7F__GUID-C9F4ED52-8809-4BB4-B16D-3406D858EB45">
                        <p class="notep1">也可以看看：</p>
                        <p>手册页或操作系统文档，以获取有关解释平台结果的信息</p>
                     </div>
                     <p>在Oracle Solaris中， <code class="codeph">vmstat —p</code>表示地址转换页面错误的数量。当进程引用不在内存中的有效页面时，会发生地址转换错误。
                     </p>
                     <p>分析内存相关问题应从检查<code class="codeph">vmstat</code>输出中的可用内存量开始。如果空闲内存不足，则应检查<code class="codeph">sr</code> （扫描速率）列是否为非零值。这表示页面扫描程序正在扫描内存页面以放回要重用的空闲列表。
                     </p>
                     <p>在<code class="codeph">api</code> （匿名页面输入）和<code class="codeph">apo</code> （匿名页面输出）列下的<code class="codeph">vmstat -p</code>命令输出中可以观察到匿名（错误）分页。当系统在内存不足期间将匿名页面移动到交换设备时，会发生这种分页。
                     </p>
                     <p>如果系统始终具有过多的页面调出活动<a id="d14091e2603" class="indexterm-anchor"></a> ，然后考虑以下解决方案：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>安装更多内存。</p>
                        </li>
                        <li>
                           <p>将一些工作转移到另一个系统。</p>
                        </li>
                        <li>
                           <p>配置系统全局区域（SGA）以使用更少的内存。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?id=1007494.1" target="_blank">MOS文件：1007494.1</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="UNXAR257"></a><div class="props_rev_3"><a id="GUID-6FE967A1-86ED-4088-A8BF-30453A2FB11D" name="GUID-6FE967A1-86ED-4088-A8BF-30453A2FB11D"></a><h4 id="UNXAR-GUID-6FE967A1-86ED-4088-A8BF-30453A2FB11D" class="sect4"><span class="enumeration_section">8.3.3</span>调整Oracle块大小</h4>
                  <div>
                     <p>在读取操作期间，从磁盘读取整个操作系统块。如果数据库块大小小于操作系统文件系统块大小，则输入 - 输出带宽效率低下。如果将Oracle数据库块大小设置为文件系统块大小的倍数，则可以将性能提高多达5％。</p>
                     <p><code class="codeph">DB_BLOCK_SIZE</code>初始化参数设置数据库块大小。但是，要更改此参数的值，必须重新创建数据库。
                     </p>
                     <p>若要查看<code class="codeph">DB_BLOCK_SIZE</code>参数的当前值，请在SQL * Plus中运行<code class="codeph">SHOW PARAMETER</code> <code class="codeph">DB_BLOCK_SIZE</code>命令。
                     </p>
                  </div>
               </div><a id="UNXAR258"></a><div class="props_rev_3"><a id="GUID-E1DD1E7F-76BA-45EE-AD3F-E709A4FB3D23" name="GUID-E1DD1E7F-76BA-45EE-AD3F-E709A4FB3D23"></a><h4 id="UNXAR-GUID-E1DD1E7F-76BA-45EE-AD3F-E709A4FB3D23" class="sect4"><span class="enumeration_section">8.3.4</span>分配内存资源</h4>
                  <div>
                     <p>您可以根据工作负载的需求以及在同一系统上运行的各种数据库实例的要求，设置参数以自动分配内存。<code class="codeph">MEMORY_TARGET</code>参数指定该实例的Oracle系统范围可用内存，并自动调整SGA和Process Global Area（PGA）组件。<code class="codeph">MEMORY_MAX_TARGET</code>参数标识<code class="codeph">MEMORY_TARGET</code>参数可以动态增长的值。
                     </p>
                     <p>默认情况下，这两个参数的值均为零，并且没有自动调整。您可以通过将<code class="codeph">MEMORY_TARGET</code>参数设置为非零值来激活自动调整。要动态地启用<code class="codeph">MEMORY_TARGET</code>参数，该<code class="codeph">MEMORY_MAX_TARGET</code>参数必须在启动时设置。
                     </p>
                     <div class="infoboxnote" id="GUID-E1DD1E7F-76BA-45EE-AD3F-E709A4FB3D23__GUID-43792AF8-9144-4101-BFFB-5AE242A8DA1B">
                        <p class="notep1">注意：</p>
                        <p>如果只将<code class="codeph">MEMORY_TARGET</code>参数设置为非零值，则<code class="codeph">MEMORY_MAX_TARGET</code>参数会自动获取此值。
                        </p>
                        <p>该<code class="codeph">MEMORY_TARGET</code>和<code class="codeph">MEMORY_MAX_TARGET</code>参数只支持Linux，甲骨文的Solaris，HP-UX和IBM AIX Power Systems上的（64位）平台。
                        </p>
                        <p>在Oracle Solaris，动态内部共享内存启用了<code class="codeph">MEMORY_TARGET</code>或<code class="codeph">MEMORY_MAX_TARGET</code> 。有关更多信息，请参阅<a href="administering-oracle-database-on-oracle-solaris.html#GUID-D84AD8D9-82E8-471C-ABD3-A36745D6A8A8" title="Solaris资源池通过将一组专用CPU与数据库实例相关联来提高数据库性能。每个数据库实例只能使用其资源池中的资源。您可以使用多CPU绑定（MCB）作为资源管理策略的一部分来提高性能。">“在Oracle Solaris上管理Oracle数据库”</a>一节。
                        </p>
                        <p>在Linux上，当某个共享资源的需求增加<code class="codeph">MEMORY_TARGET</code>或<code class="codeph">MEMORY_MAX_TARGET</code>被启用。有关更多信息，请参阅<span class="q">“ <a href="administering-oracle-database-on-linux.html#GUID-5FBCEDFE-6548-44B5-9A96-9F89D7FEC5AF">分配共享资源</a> ”</span>部分。
                        </p>
                     </div>
                     <div class="infobox-tip" id="GUID-E1DD1E7F-76BA-45EE-AD3F-E709A4FB3D23__GUID-D77D6CC7-100E-4C72-8284-7EECEE797267">
                        <p class="notep1">小费：</p>
                        <p>您可以设置<code class="codeph">MEMORY_TARGET</code>和<code class="codeph">MEMORY_MAX_TARGET</code>基于原始设置，在计算机上可用于Oracle的内存，并且内存的工作负载要求的参数。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="UNXAR259"></a><div class="props_rev_3"><a id="GUID-275FAC97-75EE-46A2-9A14-D1843978461C" name="GUID-275FAC97-75EE-46A2-9A14-D1843978461C"></a><h3 id="UNXAR-GUID-275FAC97-75EE-46A2-9A14-D1843978461C" class="sect3"><span class="enumeration_section">8.4</span>调整磁盘输入 - 输出</h3>
               <div>
                  <p>在所有可用磁盘上均匀地平衡输入 - 输出，以减少磁盘访问时间。对于较小的数据库和不使用RAID的数据库，请确保在可用磁盘上分布不同的数据文件和表空间。<a id="d14091e2974" class="indexterm-anchor"></a><a id="d14091e2978" class="indexterm-anchor"></a><a id="d14091e2982" class="indexterm-anchor"></a></p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-2E98C54B-E99D-4335-989A-04AD4949CF0C">使用自动存储管理</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-4E6B63D1-382A-4132-ADC2-457C4361D609">选择适当的文件系统类型</a></p>
                     </li>
                  </ul>
               </div><a id="UNXAR260"></a><div class="props_rev_3"><a id="GUID-2E98C54B-E99D-4335-989A-04AD4949CF0C" name="GUID-2E98C54B-E99D-4335-989A-04AD4949CF0C"></a><h4 id="UNXAR-GUID-2E98C54B-E99D-4335-989A-04AD4949CF0C" class="sect4"><span class="enumeration_section">8.4.1</span>使用自动存储管理</h4>
                  <div>
                     <p>如果选择使用自动存储管理进行数据库存储，则会在自动存储管理磁盘组中的所有可用磁盘设备之间平衡所有数据库输入 - 输出。</p>
                     <p>通过使用自动存储管理，您可以避免手动调整磁盘输入输出。</p>
                  </div>
               </div><a id="UNXAR261"></a><div class="props_rev_3"><a id="GUID-4E6B63D1-382A-4132-ADC2-457C4361D609" name="GUID-4E6B63D1-382A-4132-ADC2-457C4361D609"></a><h4 id="UNXAR-GUID-4E6B63D1-382A-4132-ADC2-457C4361D609" class="sect4"><span class="enumeration_section">8.4.2</span>选择合适的文件系统类型</h4>
                  <div>
                     <div class="section">
                        <p>根据操作系统的不同，您可以从一系列文件系统类型中进行选择。每种文件系统类型都有不同的特征。这一事实可能对数据库性能产生重大影响。下表列出了常见的文件系统类型：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-4E6B63D1-382A-4132-ADC2-457C4361D609__GUID-F8434FAE-D9C0-4DDF-92F6-E2E9F37889BA">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 3 column table lists platform-specific files system types. Column 1 is the file system. Column 2 is the platform. Column 3 is a description of the file system." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d14091e3193">文件系统</th>
                                 <th align="left" valign="bottom" id="d14091e3196">平台</th>
                                 <th align="left" valign="bottom" id="d14091e3199">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e3204" headers="d14091e3193 ">
                                    <p>ZFS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3204 d14091e3196 ">
                                    <p>Oracle Solaris</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3204 d14091e3199 ">
                                    <p>Oracle Solaris ZFS文件系统</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e3214" headers="d14091e3193 ">
                                    <p>S5</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3214 d14091e3196 ">
                                    <p>HP-UX</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3214 d14091e3199 ">
                                    <p>UNIX System V文件系统</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e3224" headers="d14091e3193 ">
                                    <p>U FS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3224 d14091e3196 ">
                                    <p>Oracle Solaris，POWER Systems（64位）上的IBM AIX和HP-UX</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3224 d14091e3199 ">
                                    <p><a id="d14091e3237" class="indexterm-anchor"></a> Unix文件系统，源自BSD UNIX</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e3241" headers="d14091e3193 ">
                                    <p>V xFS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3241 d14091e3196 ">
                                    <p>Oracle Solaris，POWER Systems（64位）上的IBM AIX和HP-UX</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3241 d14091e3199 ">
                                    <p><a id="d14091e3254" class="indexterm-anchor"></a> VERITAS文件系统</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e3258" headers="d14091e3193 ">
                                    <p>EXT2 / <a id="d14091e3261" class="indexterm-anchor"></a> EXT3</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3258 d14091e3196 ">
                                    <p>Linux的</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3258 d14091e3199 ">
                                    <p><a id="d14091e3271" class="indexterm-anchor"></a>适用于Linux的扩展文件系统</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e3275" headers="d14091e3193 ">
                                    <p>OC FS2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3275 d14091e3196 ">
                                    <p>Linux的</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3275 d14091e3199 ">
                                    <p>Oracle集群文件系统</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e3290" headers="d14091e3193 ">
                                    <p>JF S / JFS2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3290 d14091e3196 ">
                                    <p>POWER Systems上的IBM AIX（64位）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3290 d14091e3199 ">
                                    <p>J mynaled文件系统</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e3308" headers="d14091e3193 ">
                                    <p>GP FS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3308 d14091e3196 ">
                                    <p>POWER Systems上的IBM AIX（64位）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3308 d14091e3199 ">
                                    <p>一般并行文件系统</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>通常没有记录文件系统对应用程序的适用性。例如，甚至难以比较UFS的不同实现。根据您选择的文件系统，性能差异最高可达20％。如果您选择使用文件系统，则：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>创建一个新的文件系统分区，以确保硬盘清理和未分段。</p>
                           </li>
                           <li>
                              <p>在将分区用于数据库文件之前，请对分区执行文件系统检查。</p>
                           </li>
                           <li>
                              <p>尽可能均匀地分配磁盘输入 - 输出。</p>
                           </li>
                           <li>
                              <p>如果您没有使用逻辑卷管理器或RAID设备，请考虑将日志文件放在与数据文件不同的文件系统上。</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-4E6B63D1-382A-4132-ADC2-457C4361D609__GUID-3A60609A-4838-4410-80F7-BDD72263FEBA">
                           <p class="notep1">也可以看看：</p>有关调整ZFS for Oracle数据库的详细信息，请<span class="italic">参见</span> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/unxar&amp;id=tuning_zfs_for_db_products" target="_blank">“</a> <span class="italic">Oracle Solaris 11.3可调参数参考手册</span> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/unxar&amp;id=tuning_zfs_for_db_products" target="_blank">”</a>中的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/unxar&amp;id=tuning_zfs_for_db_products" target="_blank">“调整数据库产品的ZFS”</a></div>。
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="UNXAR262"></a><div class="props_rev_3"><a id="GUID-8856E5FC-9C62-4881-A313-76200BA5FA17" name="GUID-8856E5FC-9C62-4881-A313-76200BA5FA17"></a><h3 id="UNXAR-GUID-8856E5FC-9C62-4881-A313-76200BA5FA17" class="sect3"><span class="enumeration_section">8.5</span>监控磁盘性能</h3>
               <div>
                  <p>以下部分描述了监视磁盘性能的过程：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-00169169-FDBC-445C-AA79-79870574475A">监视其他操作系统上的磁盘性能</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-7A46CC1E-F9C4-4E98-8C6D-E780527CC75E">使用磁盘重新同步监视自动存储管理磁盘组</a></p>
                     </li>
                  </ul>
               </div><a id="UNXAR263"></a><div class="props_rev_3"><a id="GUID-00169169-FDBC-445C-AA79-79870574475A" name="GUID-00169169-FDBC-445C-AA79-79870574475A"></a><h4 id="UNXAR-GUID-00169169-FDBC-445C-AA79-79870574475A" class="sect4"><span class="enumeration_section">8.5.1</span>监视操作系统上的磁盘性能</h4>
                  <div>
                     <div class="section">
                        <p>要监视磁盘性能，请使用<code class="codeph">sar -b</code>和<code class="codeph">sar -u</code>命令。
                        </p>
                        <p>下表描述了<code class="codeph">sar -b</code>命令输出的列，这些列对于分析磁盘性能非常重要：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-00169169-FDBC-445C-AA79-79870574475A__GUID-21C1607B-60A5-4849-9EEE-751FC10455DC">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table lists the important output columns of the sar -b command. Column 1 is the column. Column 2 is a description." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="27%" id="d14091e3549">列</th>
                                 <th align="left" valign="bottom" width="73%" id="d14091e3552">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d14091e3557" headers="d14091e3549 ">
                                    <p><code class="codeph">bread/s</code> ， <code class="codeph">bwrit/s</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d14091e3557 d14091e3552 ">
                                    <p>块读取和每秒写入的块（对于文件系统数据库很重要）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d14091e3568" headers="d14091e3549 ">
                                    <p><code class="codeph">pread/s</code> ， <code class="codeph">pwrit/s</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d14091e3568 d14091e3552 ">
                                    <p>原始设备上每秒的I / O操作数（对于原始分区数据库系统很重要）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>主要指标是：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">bread</code> ， <code class="codeph">bwrit</code> ， <code class="codeph">pread</code>和<code class="codeph">pwrit</code>列值的总和表示磁盘输入 - 输出子系统的活动级别。总和越高，输入 - 输出子系统越忙。物理驱动器的数量越大，总阈值数量就越高。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">%rcache</code>列值应大于90， <code class="codeph">%wcache</code>列值应大于60。否则，系统可能是磁盘输入 - 输出绑定。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="UNXAR264"></a><div class="props_rev_3"><a id="GUID-7A46CC1E-F9C4-4E98-8C6D-E780527CC75E" name="GUID-7A46CC1E-F9C4-4E98-8C6D-E780527CC75E"></a><h4 id="UNXAR-GUID-7A46CC1E-F9C4-4E98-8C6D-E780527CC75E" class="sect4"><span class="enumeration_section">8.5.2</span>使用磁盘重新同步监视自动存储管理磁盘组</h4>
                  <div>
                     <p>使用<code class="codeph">alter diskgroup disk online</code>和<code class="codeph">alter diskgroup disk offline</code>命令暂时将Input-Output挂起到一组磁盘。您可以使用这些命令执行常规维护任务或升级，例如磁盘固件升级。如果磁盘组中的某些磁盘发生瞬时故障，请使用<code class="codeph">alter diskgroup disk online</code>快速恢复磁盘组。
                     </p>
                  </div>
               </div>
            </div><a id="UNXAR265"></a><div class="props_rev_3"><a id="GUID-4F58C709-3605-4272-8976-C0051DD4D270" name="GUID-4F58C709-3605-4272-8976-C0051DD4D270"></a><h3 id="UNXAR-GUID-4F58C709-3605-4272-8976-C0051DD4D270" class="sect3"><span class="enumeration_section">8.6</span>系统全球区域</h3>
               <div>
                  <div class="section">
                     <p>SGA是位于共享内存中的Oracle结构。它包含静态数据结构，锁和数据缓冲区。</p>
                     <p>单个共享内存段的最大大小由<code class="codeph">shmmax</code>内核参数指定。
                     </p>
                     <p>下表显示了此参数的建议值，具体取决于平台：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4F58C709-3605-4272-8976-C0051DD4D270__GUID-F2D148C3-70B7-410D-9F3A-85A50385C842">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table lists platform-specific recommended values for the SHMMAX kernel parameter. Column 1 is the platform. Column 2 is the recommended value." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="27%" id="d14091e3875">平台</th>
                              <th align="left" valign="bottom" width="73%" id="d14091e3878">推荐值</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14091e3883" headers="d14091e3875 ">
                                 <p>Oracle Solaris</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14091e3883 d14091e3878 ">
                                 <p>4294967295或4 GB减去16 MB</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14091e3890" headers="d14091e3875 ">
                                 <p>Linux的</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14091e3890 d14091e3878 ">
                                 <p>至少以下值：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>系统上安装的物理内存大小的一半</p>
                                    </li>
                                    <li>
                                       <p>4 GB  -  1个字节</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14091e3904" headers="d14091e3875 ">
                                 <p>POWER Systems上的IBM AIX（64位）</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14091e3904 d14091e3878 ">
                                 <p>NA</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14091e3911" headers="d14091e3875 ">
                                 <p>HP-UX</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14091e3911 d14091e3878 ">
                                 <p>系统上安装的物理内存的大小</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>如果SGA的大小超过共享内存段的最大大小（ <code class="codeph">shm</code> <code class="codeph">max</code>或<code class="codeph">shm</code> <code class="codeph">_max</code> ），则Oracle数据库会尝试附加更多连续段以满足请求的SGA大小。<code class="codeph">shm</code> <code class="codeph">seg</code>内核参数指定任何进程可以附加的最大段数。设置以下初始化参数以控制SGA的大小：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">DB_CACHE_SIZE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DB_BLOCK_SIZE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">JAVA_POOL_SIZE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">LARGE_POOL_SIZE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">LOG_BUFFERS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SHARED_POOL_SIZE</code></p>
                        </li>
                     </ul>
                     <p>或者，设置<code class="codeph">SGA_TARGET</code>初始化参数以启用SGA大小的自动调整。
                     </p>
                     <p>设置这些参数的值时要小心。当值设置得太高时，太多的物理内存专用于共享内存。这导致性能不佳。</p>
                     <p>使用Shared Server配置的Oracle数据库需要更高的<code class="codeph">SHARED_POOL_SIZE</code>初始化参数设置或使用<code class="codeph">LARGE_POOL_SIZE</code>初始化参数的自定义配置。如果使用Oracle Universal Installer安装了数据库，则Oracle Database Configuration Assistant会自动设置<code class="codeph">SHARED_POOL_SIZE</code>参数的值。但是，如果手动创建数据库，则为每个并发用户将参数文件中<code class="codeph">SHARED_POOL_SIZE</code>参数的值增加1 KB。
                     </p>
                     <p>每个Oracle进程必须有足够的共享内存来处理整个SGA：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="tuning-oracle-database.html#GUID-662D0B05-AC6D-42DC-8AB1-83DE27C1A4B1">确定SGA的大小</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-oracle-database.html#GUID-9E5F396E-8EC1-4066-8EF9-074577F86FFF">系统资源验证工具</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-oracle-database.html#GUID-C73270F7-381B-4514-B9DB-6F02FB76A0BA">设置信号量参数的准则</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-oracle-database.html#GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA">POWER Systems上的IBM AIX上的共享内存（64位）</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="UNXAR266"></a><div class="props_rev_3"><a id="GUID-662D0B05-AC6D-42DC-8AB1-83DE27C1A4B1" name="GUID-662D0B05-AC6D-42DC-8AB1-83DE27C1A4B1"></a><h4 id="UNXAR-GUID-662D0B05-AC6D-42DC-8AB1-83DE27C1A4B1" class="sect4"><span class="enumeration_section">8.6.1</span>确定SGA的大小</h4>
                  <div>
                     <div class="section">
                        <p>您可以通过以下方式之一确定SGA大小：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>运行以下SQL * Plus命令以显示正在运行的数据库的SGA大小：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SHOW SGA</pre><p>结果以字节显示。</p>
                           </li>
                           <li>
                              <p>启动数据库实例以查看“Total System Global Area”标题旁边显示的SGA的大小。</p>
                           </li>
                           <li>
                              <p>以<code class="codeph">oracle</code>用户身份运行<code class="codeph">ipcs</code>命令。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="UNXAR408"></a><div class="props_rev_3"><a id="GUID-9E5F396E-8EC1-4066-8EF9-074577F86FFF" name="GUID-9E5F396E-8EC1-4066-8EF9-074577F86FFF"></a><h4 id="UNXAR-GUID-9E5F396E-8EC1-4066-8EF9-074577F86FFF" class="sect4"><span class="enumeration_section">8.6.2</span>系统资源验证工具</h4>
                  <div>
                     <p>Oracle8 <span class="italic"><code class="codeph">i</code></span>及更高版本提供了System Resource Verifier实用程序（ <code class="codeph">sysresv</code> ）。它为您指定的Oracle系统标识符（ <code class="codeph">ORACLE_SID</code> ）提供Oracle实例和操作系统资源信息。此实用程序位于<code class="codeph">$ORACLE_HOME/bin</code> ，但可以在其他位置使用。
                     </p>
                  </div><a id="UNXAR409"></a><div class="props_rev_3"><a id="GUID-974745AE-DB1D-44AF-9C4A-C8876CFE6601" name="GUID-974745AE-DB1D-44AF-9C4A-C8876CFE6601"></a><h5 id="UNXAR-GUID-974745AE-DB1D-44AF-9C4A-C8876CFE6601" class="sect5"><span class="enumeration_section">8.6.2.1</span> sysresv实用程序的用途</h5>
                     <div>
                        <p>使用<code class="codeph">sysresv</code>实用程序显示Oracle实例的状态并标识其使用的操作系统资源，例如内存和信号量参数。当多个实例运行时，此实用程序特别有用。例如，如果实例没有响应，则可以使用此实用程序删除操作系统资源。
                        </p>
                        <p>当Oracle实例崩溃或中止时，您可以使用此实用程序，并且不会自动清除与此实例相关的内存和信号量。此实用程序在确定正在运行的Oracle实例时也很有用。</p>
                     </div>
                  </div><a id="UNXAR410"></a><div class="props_rev_3"><a id="GUID-C5F360F7-C0D6-4762-BB4C-3EC4153F038A" name="GUID-C5F360F7-C0D6-4762-BB4C-3EC4153F038A"></a><h5 id="UNXAR-GUID-C5F360F7-C0D6-4762-BB4C-3EC4153F038A" class="sect5"><span class="enumeration_section">8.6.2.2</span>使用sysresv的前提条件</h5>
                     <div>
                        <p>要使用<code class="codeph">sysresv</code>实用程序，您必须能够访问系统全局区域（SGA）。要访问SGA，您必须是Oracle所有者或拥有Oracle二进制文件的组的成员。
                        </p>
                     </div>
                  </div><a id="UNXAR411"></a><div class="props_rev_3"><a id="GUID-6B97A4E3-2A54-415A-9F4B-57324A538BB1" name="GUID-6B97A4E3-2A54-415A-9F4B-57324A538BB1"></a><h5 id="UNXAR-GUID-6B97A4E3-2A54-415A-9F4B-57324A538BB1" class="sect5"><span class="enumeration_section">8.6.2.3 sysresv的</span>语法</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">sysresv</code>实用程序的语法如下：</p><pre class="oac_no_warn" dir="ltr">sysresv [-i] [-f] [-d on | off] [-l sid1 [sid2 ...]]
</pre><p>哪里：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">-i</code>在为每个<code class="codeph">sid</code>删除IPC资源之前提示</p>
                              </li>
                              <li>
                                 <p><code class="codeph">-f</code>删除IPC资源而不提示确认。该标志覆盖<code class="codeph">-i</code>选项</p>
                              </li>
                              <li>
                                 <p><code class="codeph">-d on|off</code>列出每个<code class="codeph">sid</code> IPC资源（如果<code class="codeph">sid</code> 。如果未指定，则<code class="codeph">-d</code>的默认值为on</p>
                              </li>
                              <li>
                                 <p><code class="codeph">-l sid1 [sid2 sid3]</code>对一个或多个以空格分隔的系统标识符运行<code class="codeph">sysresv</code>检查</p>
                              </li>
                           </ul>
                           <p>如果在没有标志的情况下使用<code class="codeph">sysresv</code> ，则它会在Oracle安装所有者用户配置文件环境变量列表中报告由<code class="codeph">$ORACLE_SID</code>环境变量标识的Oracle实例的IPC资源。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="UNXAR412"></a><div class="props_rev_3"><a id="GUID-DC7D8001-CFA9-4EE4-B549-B33251340416" name="GUID-DC7D8001-CFA9-4EE4-B549-B33251340416"></a><h5 id="UNXAR-GUID-DC7D8001-CFA9-4EE4-B549-B33251340416" class="sect5"><span class="enumeration_section">8.6.2.4</span>使用sysresv的示例</h5>
                     <div>
                        <div class="section">
                           <p>以下示例显示了如何使用<code class="codeph">sysresv</code>实用程序：</p><pre class="oac_no_warn" dir="ltr">$ sysresv ORACLE_SID“sales”的IPV资源：共享内存：ID KEY 10345 0x51c051ad信号量ID 10345 0x51c051ad Oracle实例为sid“sales”存活</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="UNXAR420"></a><div class="props_rev_3"><a id="GUID-C73270F7-381B-4514-B9DB-6F02FB76A0BA" name="GUID-C73270F7-381B-4514-B9DB-6F02FB76A0BA"></a><h4 id="UNXAR-GUID-C73270F7-381B-4514-B9DB-6F02FB76A0BA" class="sect4"><span class="enumeration_section">8.6.3</span>设置信号量参数的指导原则</h4>
                  <div>
                     <div class="section">
                        <p>仅当默认信号量参数值太低而无法容纳所有Oracle进程时，才使用以下准则：</p>
                        <div class="infoboxnote" id="GUID-C73270F7-381B-4514-B9DB-6F02FB76A0BA__GUID-F7BB1FA5-E5AD-472F-B7A4-EE6174BB5805">
                           <p class="notep1">注意：</p>
                           <p>Oracle建议您查看操作系统文档以获取有关设置信号量参数的更多信息。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>使用以下公式计算最小总信号量要求：</span><div><pre class="oac_no_warn" dir="ltr">sum（系统上所有数据库实例的进程参数）+ oracle后台进程+系统和其他应用程序要求的开销</pre></div>
                        </li>
                        <li class="stepexpand"><span>将<code class="codeph">semmns</code> （服务器允许的最大信号量）设置为此总数。</span></li>
                        <li class="stepexpand"><span>将<code class="codeph">semmsl</code> （信号量集中的最大信号量数）设置为250。</span></li>
                        <li class="stepexpand"><span>将<code class="codeph">semmni</code> （信号量集的最大数量）设置为<code class="codeph">semmns/semmsl</code>舍入到最接近的1024的倍数。</span><div>
                              <div class="infoboxnotealso" id="GUID-C73270F7-381B-4514-B9DB-6F02FB76A0BA__GUID-28813C15-71C2-4B90-A029-0C27C25724C0">
                                 <p class="notep1">也可以看看：</p>
                                 <p>我的Oracle支持说明226209.1，“Linux：如何检查当前共享内存，信号量值”，位于以下URL：</p>
                                 <p><a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=226209.1" target="_blank"><code class="codeph">https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=226209.1</code></a></p>
                                 <p>在Oracle Solaris 10及更高版本上，信号量参数<code class="codeph">semmns</code> ， <code class="codeph">semmsl</code>和<code class="codeph">semmni</code>已过时。请参阅My Oracle Support说明1006158.1：</p>
                                 <p><code class="codeph"><a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1006158.1" target="_blank">https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1006158.1</a></code></p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA" name="GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA"></a><h4 id="UNXAR-GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA" class="sect4"><span class="enumeration_section">8.6.4</span> POWER系统上的IBM AIX上的共享内存（64位）</h4>
                  <div>
                     <div class="infoboxnote" id="GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA__GUID-EAB5EF1B-31B7-45C0-A35D-3857AC766A49">
                        <p class="notep1">注意：</p>
                        <p>本节中的信息仅适用于POWER Systems上的IBM AIX（64位）。</p>
                     </div>
                     <p>共享内存使用跨进程的公共虚拟内存资源。进程通过一组通用的虚拟内存转换资源（例如表和高速缓存的条目）共享虚拟内存段，以提高性能。</p>
                     <p>可以固定共享内存以防止分页并减少输入 - 输出开销。要执行此操作，请将<code class="codeph">LOCK_SGA</code>参数设置为<code class="codeph">true</code> 。在POWER Systems（64位）5L上的IBM AIX上，只要底层硬件支持，同一参数就会激活大页面功能。
                     </p>
                     <p>运行以下命令以使Oracle数据库可以使用固定内存：</p><pre class="oac_no_warn" dir="ltr">$ / usr / sbin / vmo -r -o v_pinshm = 1</pre><p>运行类似于以下内容的命令，以设置固定内存可用的实际内存的最大百分比，其中<span class="italic"><code class="codeph">percent_of_real_memory</code></span>是您要设置的实际内存的最大百分比：</p><pre class="oac_no_warn" dir="ltr">$ / usr / sbin目录/ VMO -r -o maxpin百分率为<span class="italic">percent_of_real_memory</span>
</pre><p>使用<code class="codeph">maxpin percent</code>选项时，固定内存量超过Oracle SGA大小至少占系统实际内存的3％是非常重要的，这样内核就可以使用免费的可固定内存。例如，如果您有2 GB的物理内存，并且希望将SGA固定为400 MB（20％的RAM），请运行以下命令：</p><pre class="oac_no_warn" dir="ltr">$ / usr / sbin / vmo -r -o maxpin percent = 23</pre><div class="infoboxnote" id="GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA__GUID-BDF655B8-4F76-43FB-B83C-0168AC7CF351">
                        <p class="notep1">注意：</p>
                        <p>默认的<code class="codeph">maxpin percent</code>值（设置为80 <code class="codeph">percent</code> ）适用于大多数安装。
                        </p>
                     </div>
                     <p>使用<code class="codeph">svmon</code>命令监视系统运行期间固定内存的使用情况。仅当<code class="codeph">LOCK_SGA</code>参数设置为<code class="codeph">true</code> Oracle数据库才会尝试固定内存。如果SGA大小超过可用于固定的内存大小，则超出这些大小的SGA部分将分配给普通共享内存。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA__GUID-E1BD3197-1D54-49DB-A1D9-ACEBF9B061B7">POWER系统（64位）基于POWER4和POWER5的系统上的IBM AIX上的大页面功能</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要在POWER4或POWER5系统上打开并保留10个大小为16 MB的大页面，请运行以下命令：</p><pre class="oac_no_warn" dir="ltr">$ / usr / sbin / vmo -r -o lgpg_regions = 10 -o lgpg_size = 16777216</pre><p>此命令建议使用<code class="codeph">bosboot</code>并警告需要重新启动才能使更改生效。
                        </p>
                        <p>Oracle建议指定足够大的页面来包含整个SGA。当<code class="codeph">LOCK_SGA</code>参数设置为<code class="codeph">true</code>时，Oracle数据库实例会尝试分配大页面。
                        </p>
                        <p>16 MB页面始终固定，不能用于标准内存。如果配置了16 MB大小的页面池，则即使当前没有其他应用程序正在使用大页面，此内存也无法用于分配标准内存。</p>
                        <p>基于POWER5的系统支持64 K页。如果可用，Oracle会将它们用于SGA。这些64K页面不需要任何其他配置，也不依赖于<code class="codeph">LOCK_SGA</code>参数设置。
                        </p>
                        <p>要监视大页面的使用，请使用以下命令：</p><pre class="oac_no_warn" dir="ltr">$ vmstat -P all</pre><p>对于IBM AIX on POWER Systems（64位）操作系统，在分配共享内存时使用16 MB页面或固定内存，Oracle用户ID必须具有<code class="codeph">CAP_BYPASS_RAC_VMM</code>和<code class="codeph">CAP_PROPAGATE</code>功能。用于启动数据库实例的用户标识也必须具有相同的功能。特别是，在Oracle Real Application Cluster（Oracle RAC）数据库上使用大页面时，使用<code class="codeph">srvctl</code>命令启动和停止Oracle RAC数据库实例，还需要为<code class="codeph">root</code>用户设置<code class="codeph">CAP_BYPASS_RAC_VMM</code>和<code class="codeph">CAP_PROPAGATE</code>功能。
                        </p>
                        <div class="infoboxnotealso" id="GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA__GUID-4EFE9109-84DD-4F30-9659-A18989A5D3A7">
                           <p class="notep1">也可以看看：</p>
                           <p>有关启用和调整固定内存和大页面的详细信息，请参阅有关POWER系统的IBM AIX（64位）文档</p>
                        </div>
                        <p>可以使用以下命令设置和检查功能：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>运行以下命令以检查当前功能：</p><pre class="oac_no_warn" dir="ltr">$ lsuser -a功能oracle</pre></li>
                           <li>
                              <p>将<code class="codeph">CAP_BYPASS_RAC_VMM</code>和<code class="codeph">CAP_PROPAGATE</code>功能添加到此用户标识：</p><pre class="oac_no_warn" dir="ltr">$ chuser capabilities = CAP_BYPASS_RAC_VMM，CAP_PROPAGATE oracle</pre></li>
                        </ul>
                        <div class="infoboxnote" id="GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA__GUID-30647B57-813F-4337-807A-A306A8F6181A">
                           <p class="notep1">注意：</p>
                           <p>只有<code class="codeph">root</code>用户才能显示和设置capabilities属性。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="UNXAR269"></a><div class="props_rev_3"><a id="GUID-34D4D084-2E28-4325-86E9-C19FDA524710" name="GUID-34D4D084-2E28-4325-86E9-C19FDA524710"></a><h3 id="UNXAR-GUID-34D4D084-2E28-4325-86E9-C19FDA524710" class="sect3"><span class="enumeration_section">8.7</span>调整操作系统缓冲区高速缓存</h3>
               <div>
                  <p>调整Oracle数据库缓冲区缓存的大小。如果内存有限，则调整操作系统缓冲区缓存。<a id="d14091e5047" class="indexterm-anchor"></a><a id="d14091e5051" class="indexterm-anchor"></a><a id="d14091e5053" class="indexterm-anchor"></a></p>
                  <p>当操作系统缓冲区高速缓存从内存传输到磁盘或从磁盘传输到内存时，它会将数据块保存在内存中。</p>
                  <p>Oracle数据库缓冲区缓存是存储Oracle数据库缓冲区的内存区域。</p>
                  <p>如果系统上的内存量有限，则相应减少操作系统缓冲区高速缓存大小。</p>
                  <p>使用<code class="codeph">sar</code>命令确定必须增加或减少的缓冲区高速缓存。
                  </p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03377.oracle-database-vault-rule-set-apis.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can use the DBMS_MACADM PL/SQL package and a set of Oracle Database Vault rule functions to manage rule sets."></meta>
      <meta name="description" content="You can use the DBMS_MACADM PL/SQL package and a set of Oracle Database Vault rule functions to manage rule sets."></meta>
      <title>Oracle Database Vault规则集API</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide "></meta>
      <meta property="og:description" content="You can use the DBMS_MACADM PL/SQL package and a set of Oracle Database Vault rule functions to manage rule sets."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-vault-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-28T15:24:22-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96302-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-database-vault-realm-apis.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-database-vault-command-rule-apis.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Vault Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DVADM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-database-vault-realm-apis.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-database-vault-command-rule-apis.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Database Vault规则集API</li>
            </ol>
            <a id="GUID-66E0EDFE-B4F0-4B5B-9657-B6C4737A37BF" name="GUID-66E0EDFE-B4F0-4B5B-9657-B6C4737A37BF"></a><a id="DVADM71189"></a>
            
            <h2 id="DVADM-GUID-66E0EDFE-B4F0-4B5B-9657-B6C4737A37BF" class="sect2"><span class="enumeration_chapter">15</span> Oracle Database Vault规则集API</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以使用<code class="codeph">DBMS_MACADM</code> PL / SQL包和一组Oracle Database Vault规则函数来管理规则集。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-1B24D370-46E3-445E-91CC-8E621F5E94CB">DBMS_MACADM规则集过程</a><br>通过<code class="codeph">DBMS_MACADM</code>规则集过程，您可以配置这些规则集中的规则集和单个规则。
                  </li>
                  <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-9CC41BCB-1335-4230-8547-977AD105E47B">Oracle Database Vault PL / SQL规则集函数</a><br>Oracle Database Vault提供了在规则集中使用的功能，以检查规则集保护的SQL语句。
                  </li>
               </ul>
            </div>
            <a id="DVADM70470"></a><div class="props_rev_3"><a id="GUID-1B24D370-46E3-445E-91CC-8E621F5E94CB" name="GUID-1B24D370-46E3-445E-91CC-8E621F5E94CB"></a><h3 id="DVADM-GUID-1B24D370-46E3-445E-91CC-8E621F5E94CB" class="sect3">DBMS_MACADM规则集过程</h3>
               <div>
                  <p>通过<code class="codeph">DBMS_MACADM</code>规则集过程，您可以配置这些规则集中的规则集和单个规则。
                  </p>
                  <p>只有已被授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色的用户才能使用这些过程。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-0549C094-EE0A-42E0-90B4-3FAF0A0304C3">ADD_RULE_TO_RULE_SET过程</a><br><code class="codeph">ADD_RULE_TO_RULE_SET</code>过程将规则添加到规则集;您可以启用在评估规则集时检查规则。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-4AF93021-ECC4-497F-934D-CAE1D4022965">CREATE_RULE过程</a><br><code class="codeph">CREATE_RULE</code>过程创建一个规则，之后可以将其添加到规则集中。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-5CAD2D42-C5B5-48AD-B0D8-4CBD71B7B219">CREATE_RULE_SET过程</a><br><code class="codeph">CREATE_RULE_SET</code>过程创建规则集。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-A2A7354F-1593-46D2-A343-7638FF7DB0EE">DELETE_RULE过程</a><br><code class="codeph">DELETE_RULE</code>过程删除规则。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-318F7DA6-FAD3-49A5-A174-139BB06C8914">DELETE_RULE_FROM_RULE_SET过程</a><br><code class="codeph">DELETE_RULE_FROM_RULE_SET</code>过程从规则集中删除规则。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-9BE707E1-1357-49F8-904C-AFE55C78C3C6">DELETE_RULE_SET过程</a><br><code class="codeph">DELETE_RULE_SET</code>过程删除规则集。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-C2F60720-7668-42A2-8E57-8FDA1CCBB1A9">RENAME_RULE程序</a><br><code class="codeph">RENAME_RULE</code>过程重命名规则并使名称更改在使用规则的任何位置生效</li>
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-B42D559E-3F95-4F0A-82D3-F0BF2F3207DE">RENAME_RULE_SET程序</a><br><code class="codeph">RENAME_RULE_SET</code>过程重命名规则集，并使名称更改在使用规则集的任何位置生效。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-658C2D27-D1B6-46B6-A7C2-A8D629BC9D0F">UPDATE_RULE过程</a><br><code class="codeph">UPDATE_RULE</code>过程更新规则。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-6D99458F-A85A-462E-AA1E-B1970A265866">UPDATE_RULE_SET过程</a><br><code class="codeph">UPDATE_RULE_SET</code>过程更新规则集。
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="configuring-rule-sets.html#GUID-41914FF0-20E0-4878-8124-C6C976C19104" title="规则集将一个或多个规则组合在一起;规则确定用户是否可以对对象执行操作。">配置规则集</a></li>
                        <li><a href="oracle-database-vault-utility-apis.html#GUID-5A0CB405-9A3C-48ED-B18F-3A8013D436E3" title="Oracle Database Vault在DBMS_MACUTL PL / SQL包中提供了一组实用程序API。">Oracle Database Vault Utility API</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-66E0EDFE-B4F0-4B5B-9657-B6C4737A37BF" title="您可以使用DBMS_MACADM PL / SQL包和一组Oracle Database Vault规则函数来管理规则集。">Oracle Database Vault规则集API</a></p>
                     </div>
                  </div>
               </div><a id="DVADM70473"></a><a id="DVADM70474"></a><a id="DVADM70475"></a><a id="DVADM70476"></a><a id="DVADM70472"></a><div class="props_rev_3"><a id="GUID-0549C094-EE0A-42E0-90B4-3FAF0A0304C3" name="GUID-0549C094-EE0A-42E0-90B4-3FAF0A0304C3"></a><h4 id="DVADM-GUID-0549C094-EE0A-42E0-90B4-3FAF0A0304C3" class="sect4">ADD_RULE_TO_RULE_SET过程</h4>
                  <div>
                     <p><code class="codeph">ADD_RULE_TO_RULE_SET</code>过程将规则添加到规则集;您可以启用在评估规则集时检查规则。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0549C094-EE0A-42E0-90B4-3FAF0A0304C3__GUID-0A064D8F-245E-4052-845F-44ABCC1B9602">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.ADD_RULE_TO_RULE_SET（rule_set_name IN VARCHAR2，rule_name IN VARCHAR2，rule_order IN NUMBER，启用IN VARCHAR2，范围IN NUMBER DEFAULT）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0549C094-EE0A-42E0-90B4-3FAF0A0304C3__GUID-799D1061-5625-4295-B6CC-F63F9C250EE3">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-0549C094-EE0A-42E0-90B4-3FAF0A0304C3__ADD_RULE_TO_RULE_SETPARAMETERS-090F2CEE">
                        <p class="titleintable">表15-1 ADD_RULE_TO_RULE_SET参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="ADD_RULE_TO_RULE_SET参数" width="100%" border="1" summary="ADD_RULE_TO_RULE_SET 1" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d66328e453">参数</th>
                                 <th align="left" valign="bottom" width="78%" id="d66328e456">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d66328e461" headers="d66328e453 ">
                                    <p><code class="codeph">rule_set_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d66328e461 d66328e456 ">
                                    <p>规则集名称。</p>
                                    <p>要在当前数据库实例中查找现有规则集，请查询<code class="codeph">DBA_DV_RULE_SET</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-A7FD62EB-A8E4-4279-A0D5-1677493AC202" title="DBA_DV_RULE_SET数据字典视图列出已创建的规则集。">DBA_DV_RULE_SET视图</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d66328e484" headers="d66328e453 ">
                                    <p><code class="codeph">RULE_NAME</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d66328e484 d66328e456 ">
                                    <p>要添加到规则集的规则。</p>
                                    <p>要查找现有规则，请查询<code class="codeph">DBA_DV_RULE</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-97C96089-0EE4-4A57-8257-1F9F61606245" title="DBA_DV_RULE数据字典视图列出已定义的规则。">DBA_DV_RULE视图</a> 。
                                    </p>
                                    <p>要查找与规则集关联的规则，请使用<code class="codeph">DBA_DV_RULE_SET_RULE</code> ，如<a href="oracle-database-vault-data-dictionary-views.html#GUID-97C96089-0EE4-4A57-8257-1F9F61606245" title="DBA_DV_RULE数据字典视图列出已定义的规则。">DBA_DV_RULE视图中所述</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d66328e521" headers="d66328e453 ">
                                    <p><code class="codeph">rule_order</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d66328e521 d66328e456 ">
                                    <p>不适用于此版本，但您必须包含<code class="codeph">ADD_RULE_TO_RULE_SET</code>过程的值才能<code class="codeph">ADD_RULE_TO_RULE_SET</code> 。输入<code class="codeph">1</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d66328e536" headers="d66328e453 ">
                                    <p><code class="codeph">启用</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d66328e536 d66328e456 ">
                                    <p>可选的。确定在评估规则集时是否应检查规则。可能的值是：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_YES</code> （默认）。允许在规则集评估期间检查规则。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_NO</code>防止在规则集评估期间检查规则。
                                          </p>
                                       </li>
                                    </ul>
                                    <p>有关更多信息，请参阅<a href="oracle-database-vault-utility-apis.html#GUID-B6513A8B-6DE9-45B1-96CB-3558C635CD4A__BCFGCJFH" title="DVSYS.DBMS_MACSEC_ROLES API的字段摘要">表20-1</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d66328e563" headers="d66328e453 ">
                                    <p><code class="codeph">范围</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d66328e563 d66328e456 ">
                                    <p>对于多租户环境，确定如何执行此过程。默认为本地。选项如下：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_SCOPE_LOCAL</code> （或<code class="codeph">1</code> ）如果规则和规则集在当前PDB中是本地的</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_SCOPE_COMMON</code> （或<code class="codeph">2</code> ）如果规则和规则集在应用程序根目录中</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0549C094-EE0A-42E0-90B4-3FAF0A0304C3__GUID-E4F71B23-01FD-442E-A43B-AF766F37DE0A">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下示例将规则添加到规则集，并通过省略<code class="codeph">enabled</code>参数，自动启用在评估规则集时检查规则。
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.ADD_RULE_TO_RULE_SET（rule_set_name =&gt;'Limit_DBA_Access'，rule_name =&gt;'限制DROP TABLE操作'，rule_order =&gt; 1）;结束; /</pre><p></p>
                        <p>此示例将规则添加到规则集但禁用规则检查。</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.ADD_RULE_TO_RULE_SET（rule_set_name =&gt;'Limit_DBA_Access'，rule_name =&gt;'检查UPDATE操作'，rule_order =&gt; 1，enabled =&gt; DBMS_MACUTL.G_NO）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-1B24D370-46E3-445E-91CC-8E621F5E94CB" title="通过DBMS_MACADM规则集过程，您可以配置这些规则集中的规则集和单个规则。">DBMS_MACADM规则集过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70478"></a><a id="DVADM70479"></a><a id="DVADM70480"></a><a id="DVADM70481"></a><a id="DVADM70477"></a><div class="props_rev_3"><a id="GUID-4AF93021-ECC4-497F-934D-CAE1D4022965" name="GUID-4AF93021-ECC4-497F-934D-CAE1D4022965"></a><h4 id="DVADM-GUID-4AF93021-ECC4-497F-934D-CAE1D4022965" class="sect4">CREATE_RULE过程</h4>
                  <div>
                     <p><code class="codeph">CREATE_RULE</code>过程创建一个规则，之后可以将其添加到规则集中。
                     </p>
                     <div class="section">
                        <p>在多租户环境中，您可以创建公共规则和本地规则。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4AF93021-ECC4-497F-934D-CAE1D4022965__GUID-FA3F0D56-7606-4670-9840-B63D91161D70">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.CREATE_RULE（rule_name IN VARCHAR2，rule_expr IN VARCHAR2范围IN NUMBER DEFAULT）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4AF93021-ECC4-497F-934D-CAE1D4022965__GUID-F8775D69-91FA-42C2-8FBB-D2799C2C2843">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-4AF93021-ECC4-497F-934D-CAE1D4022965__CREATE_RULEPARAMETERS-090F321F">
                        <p class="titleintable">表15-2 CREATE_RULE参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_RULE参数" width="100%" border="1" summary="CREATE_RULE" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d66328e731">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d66328e734">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d66328e739" headers="d66328e731 ">
                                    <p><code class="codeph">RULE_NAME</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d66328e739 d66328e734 ">
                                    <p>规则名称，混合大小写最多128个字符。允许空间。</p>
                                    <p>要查找当前数据库实例中的现有规则，请查询<code class="codeph">DBA_DV_RULE</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-97C96089-0EE4-4A57-8257-1F9F61606245" title="DBA_DV_RULE数据字典视图列出已定义的规则。">DBA_DV_RULE视图</a> 。
                                    </p>
                                    <p>要查找已与规则集，查询相关的规则<code class="codeph">DBA_DV_RULE_SET_RULE</code> ，描述<a href="oracle-database-vault-data-dictionary-views.html#GUID-52C00874-C14D-44F6-A89A-CCB5E07FBE3E" title="DBA_DV_RULE_SET_RULE数据字典视图列出了与现有规则集关联的规则。">DBA_DV_RULE_SET_RULE查看</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d66328e776" headers="d66328e731 ">
                                    <p><code class="codeph">rule_expr</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d66328e776 d66328e734 ">
                                    <p>PL / SQL <code class="codeph">BOOLEAN</code>表达式。
                                    </p>
                                    <p>如果表达式包含引号，请不要使用双引号。而是使用两个单引号。将整个表达式括在单引号内。例如：</p><pre class="oac_no_warn" dir="ltr">'TO_CHAR（SYSDATE，''HH24''）='''12'''</pre><p>有关规则表达式的更多信息，请参阅<a href="configuring-rule-sets.html#GUID-AAAFC806-8DB8-45A7-A058-B7CD352B0C50" title="您可以在Enterprise Manager Cloud Control中创建新规则。">创建新规则</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d66328e800" headers="d66328e731 ">
                                    <p><code class="codeph">范围</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d66328e800 d66328e734 ">
                                    <p>对于多租户环境，确定如何执行此过程。默认为本地。选项如下：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_SCOPE_LOCAL</code> （或<code class="codeph">1</code> ）如果规则在当前PDB中是本地的</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_SCOPE_COMMON</code> （或<code class="codeph">2</code> ）如果规则在应用程序根目录中</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section" id="GUID-4AF93021-ECC4-497F-934D-CAE1D4022965__EXAMPLES-A7250F78">
                        <p class="subhead3" id="GUID-4AF93021-ECC4-497F-934D-CAE1D4022965__GUID-ADD8BE37-C8BE-483A-957C-568D117BC3B0">例子</p>
                        <p>以下示例说明如何创建本地规则表达式，以检查当前会话用户是否为<code class="codeph">SYSADM</code> 。运行此过程的用户必须位于规则及其规则集所在的同一PDB中。要查找现有PDB，请运行<code class="codeph">show pdbs</code>命令。规则和规则集必须是本地的。
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE（rule_name =&gt;'检查UPDATE操作'，rule_expr =&gt;'SYS_CONTEXT（''USERENV''，''SESSION_USER''）=''SYSADM'''，范围=&gt; DBMS_MACUTL.G_SCOPE_LOCAL）;结束; /</pre><p>此示例显示前一示例的多租户环境通用版本。运行此过程的用户必须位于CDB根目录中，并且规则及其关联的规则集必须是通用的。规则将驻留在应用程序根目录中。</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE（rule_name =&gt;'检查UPDATE操作'，rule_expr =&gt;'SYS_CONTEXT（''USERENV''，''SESSION_USER''）=''SYSADM'''，范围=&gt; DBMS_MACUTL.G_SCOPE_COMMON）;结束; /</pre><p>此示例显示如何创建使用公共独立函数<code class="codeph">OLS_LABEL_DOMINATES</code>的规则表达式，以查找<code class="codeph">hr_ols_pol</code> Oracle Label Security策略的会话标签是否支配或等于<code class="codeph">hs</code>标签。值<code class="codeph">0</code>表示它是否为假。（要检查它是否相等，请指定<code class="codeph">1</code> ）
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE（rule_name =&gt;'检查OLS因子'，rule_expr =&gt;'OLS_LABEL_DOMINATES（''hr_ols_pol''，''hs''）= 1'）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-1B24D370-46E3-445E-91CC-8E621F5E94CB" title="通过DBMS_MACADM规则集过程，您可以配置这些规则集中的规则集和单个规则。">DBMS_MACADM规则集过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70483"></a><a id="DVADM70484"></a><a id="DVADM70485"></a><a id="DVADM70486"></a><a id="DVADM70482"></a><div class="props_rev_3"><a id="GUID-5CAD2D42-C5B5-48AD-B0D8-4CBD71B7B219" name="GUID-5CAD2D42-C5B5-48AD-B0D8-4CBD71B7B219"></a><h4 id="DVADM-GUID-5CAD2D42-C5B5-48AD-B0D8-4CBD71B7B219" class="sect4">CREATE_RULE_SET过程</h4>
                  <div>
                     <p><code class="codeph">CREATE_RULE_SET</code>过程创建规则集。
                     </p>
                     <div class="section">
                        <p>创建规则集后，可以使用<code class="codeph">CREATE_RULE</code>和<code class="codeph">ADD_RULE_TO_RULE_SET</code>过程为规则集创建规则并添加规则。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5CAD2D42-C5B5-48AD-B0D8-4CBD71B7B219__GUID-4B9CE55B-22C9-42A5-8B34-49DE5D2CED93">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.CREATE_RULE_SET（rule_set_name IN VARCHAR2，说明IN VARCHAR2，启用IN VARCHAR2，eval_options IN NUMBER，audit_options IN NUMBER，fail_options IN NUMBER，fail_message IN VARCHAR2，fail_code IN NUMBER，handler_options IN NUMBER，handler_ VARCHAR2，is_static IN BOOLEAN DEFAULT，范围IN NUMBER DEFAULT）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5CAD2D42-C5B5-48AD-B0D8-4CBD71B7B219__GUID-A2D83C68-66C5-4E5C-805B-573FC1B94B80">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-5CAD2D42-C5B5-48AD-B0D8-4CBD71B7B219__CREATE_RULE_SETPARAMETERS-090F36CD">
                        <p class="titleintable">表15-3 CREATE_RULE_SET参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_RULE_SET参数" width="100%" border="1" summary="CREATE_RULE_SET" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="23%" id="d66328e989">参数</th>
                                 <th align="left" valign="bottom" width="77%" id="d66328e992">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e997" headers="d66328e989 ">
                                    <p><code class="codeph">rule_set_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e997 d66328e992 ">
                                    <p>规则集名称，混合大小写最多128个字符。允许空间。</p>
                                    <p>要在当前数据库实例中查找现有规则集，请查询<code class="codeph">DBA_DV_RULE_SET</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-A7FD62EB-A8E4-4279-A0D5-1677493AC202" title="DBA_DV_RULE_SET数据字典视图列出已创建的规则集。">DBA_DV_RULE_SET视图</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e1020" headers="d66328e989 ">
                                    <p><code class="codeph">描述</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e1020 d66328e992 ">
                                    <p>规则集的用途说明，混合大小写最多1024个字符。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e1029" headers="d66328e989 ">
                                    <p><code class="codeph">启用</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e1029 d66328e992 ">
                                    <p><code class="codeph">DBMS_MACUTL.G_YES</code> （是）启用规则集; <code class="codeph">DBMS_MACUTL.G_NO</code> （否）禁用它。默认值为<code class="codeph">DBMS_MACUTL.G_YES</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e1046" headers="d66328e989 ">
                                    <p><code class="codeph">eval_options</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e1046 d66328e992 ">
                                    <p>如果您计划为规则集分配多个规则，请输入以下设置之一：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_EVAL_ALL</code> ：规则集中的所有规则必须求值为true，规则集本身才能计算为true（默认值）。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_EVAL_ANY</code> ：规则集中至少有一个规则必须求值为true才能使规则集本身评估为true。
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e1066" headers="d66328e989 ">
                                    <p><code class="codeph">audit_options</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e1066 d66328e992 ">
                                    <p>选择以下设置之一：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_AUDIT_OFF</code> ：禁用对规则集的审核（默认）</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_AUDIT_FAIL</code> ：发生规则集违规时创建审核记录</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_AUDIT_SUCCESS</code> ：为成功的规则集评估创建审计记录</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_AUDIT_FAIL + DBMS_MACUTL.G_RULESET_AUDIT_SUCCESS</code> ：为成功和失败的规则集评估创建审核记录</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e1096" headers="d66328e989 ">
                                    <p><code class="codeph">fail_options</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e1096 d66328e992 ">
                                    <p>报告错误的选项：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_FAIL_SHOW</code> ：显示错误消息（默认）</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_FAIL_SILENT</code> ：不显示错误消息</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e1116" headers="d66328e989 ">
                                    <p><code class="codeph">fail_message</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e1116 d66328e992 ">
                                    <p>输入失败的错误消息，最多混合大小写为80个字符，以与为<code class="codeph">fail_code</code>指定的失败代码<code class="codeph">fail_code</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e1128" headers="d66328e989 ">
                                    <p><code class="codeph">fail_code</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e1128 d66328e992 ">
                                    <p>输入-20000到-20999或20000到20999范围内的数字，以与<code class="codeph">fail_message</code>参数关联。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e1140" headers="d66328e989 ">
                                    <p><code class="codeph">handler_options</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e1140 d66328e992 ">
                                    <p>选择以下设置之一：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_HANDLER_OFF</code> ：禁用错误处理（默认）</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_HANDLER_FAIL</code> ：调用规则集失败的处理程序</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_HANDLER_SUCCESS</code> ：调用规则集成功的处理程序</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e1165" headers="d66328e989 ">
                                    <p><code class="codeph">处理器</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e1165 d66328e992 ">
                                    <p>定义自定义事件处理程序逻辑的PL / SQL函数或过程的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e1174" headers="d66328e989 ">
                                    <p><code class="codeph">is_static</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e1174 d66328e992 ">
                                    <p>可选的。确定访问规则集时评估规则集的频率。默认值为<code class="codeph">FALSE</code> 。</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">TRUE</code> ：在用户会话期间评估规则集一次。之后，重新使用该值。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">FALSE</code> ：每次都会评估规则集。
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e1198" headers="d66328e989 ">
                                    <p><code class="codeph">范围</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e1198 d66328e992 ">
                                    <p>对于多租户环境，确定如何执行此过程。默认为本地。选项如下：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_SCOPE_LOCAL</code> （或<code class="codeph">1</code> ）如果规则集在当前PDB中是本地的</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_SCOPE_COMMON</code> （或<code class="codeph">2</code> ）如果规则集在应用程序根目录中</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section" id="GUID-5CAD2D42-C5B5-48AD-B0D8-4CBD71B7B219__EXAMPLE-A724CB49">
                        <p class="subhead3" id="GUID-5CAD2D42-C5B5-48AD-B0D8-4CBD71B7B219__GUID-6B0E0310-2927-4F32-AFBE-D9E9C9431BA7">例子</p>
                        <p>以下示例创建一个已启用的规则集，其设置使得至少一个规则必须求值为true才能使规则集本身评估为true，并审核失败和成功尝试。它不显示错误消息，但使用失败代码20461来跟踪故障。它还使用处理程序向适当的用户发送电子邮件警报（如果他们违反规则集）。</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE_SET（rule_set_name =&gt;'Limit_DBA_Access'，description =&gt;'通过预定义进程进行DBA访问'，enabled =&gt; DBMS_MACUTL.G_YES，eval_options =&gt; DBMS_MACUTL.G_RULESET_EVAL_ANY，audit_options =&gt; DBMS_MACUTL.G_RULESET_AUDIT_FAIL + DBMS_MACUTL.G_RULESET_AUDIT_SUCCESS，fail_options = &gt; DBMS_MACUTL.G_RULESET_FAIL_SILENT，fail_message =&gt;''，fail_code =&gt; 20461，handler_options =&gt; DBMS_MACUTL.G_RULESET_HANDLER_FAIL，handler =&gt;'dbavowner.email_alert'，is_static =&gt; TRUE）;结束; /</pre><p>此规则集不使用失败消息或失败代码，也不使用任何处理程序。此规则集将位于多租户环境的应用程序根目录中，因此运行此过程的用户必须位于应用程序根目录中。与此规则集关联的任何规则或命令规则都必须是通用的。</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE_SET（rule_set_name =&gt;'Check_HR_Access'，description =&gt;'检查对HR模式的访问尝试失败'，enabled =&gt; DBMS_MACUTL.G_YES，eval_options =&gt; DBMS_MACUTL.G_RULESET_EVAL_ANY，audit_options =&gt; DBMS_MACUTL.G_RULESET_AUDIT_FAIL，fail_options = &gt; DBMS_MACUTL.G_RULESET_FAIL_SILENT，fail_message =&gt;''，fail_code =&gt;''，handler_options =&gt; DBMS_MACUTL.G_RULESET_HANDLER_OFF，handler =&gt;''，is_static =&gt; TRUE，scope =&gt; DBMS_MACUTL.G_SCOPE_COMMON）;结束; /</pre><p>此规则集是前一个规则集的本地版本。创建此规则集的用户必须位于此规则集所在的PDB中。要查找现有PDB，请查询<code class="codeph">DBA_PDBS</code>数据字典视图。与此规则集关联的任何规则或命令规则都必须是本地的。
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE_SET（rule_set_name =&gt;'Check_HR_Access'，description =&gt;'检查对HR模式的访问尝试失败'，enabled =&gt; DBMS_MACUTL.G_YES，eval_options =&gt; DBMS_MACUTL.G_RULESET_EVAL_ANY，audit_options =&gt; DBMS_MACUTL.G_RULESET_AUDIT_FAIL，fail_options = &gt; DBMS_MACUTL.G_RULESET_FAIL_SILENT，fail_message =&gt;''，fail_code =&gt;''，handler_options =&gt; DBMS_MACUTL.G_RULESET_HANDLER_OFF，handler =&gt;''，is_static =&gt; TRUE，scope =&gt; DBMS_MACUTL.G_SCOPE_COMMON）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-5CAD2D42-C5B5-48AD-B0D8-4CBD71B7B219__GUID-37701448-5B60-42C1-88B9-FDDAC9618DFE">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="oracle-database-vault-utility-apis.html#GUID-40FF8DC6-F09C-4CA0-83D6-679052619888__CIHCFIDJ">例20-2</a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-1B24D370-46E3-445E-91CC-8E621F5E94CB" title="通过DBMS_MACADM规则集过程，您可以配置这些规则集中的规则集和单个规则。">DBMS_MACADM规则集过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70488"></a><a id="DVADM70489"></a><a id="DVADM70490"></a><a id="DVADM70491"></a><a id="DVADM70487"></a><div class="props_rev_3"><a id="GUID-A2A7354F-1593-46D2-A343-7638FF7DB0EE" name="GUID-A2A7354F-1593-46D2-A343-7638FF7DB0EE"></a><h4 id="DVADM-GUID-A2A7354F-1593-46D2-A343-7638FF7DB0EE" class="sect4">DELETE_RULE过程</h4>
                  <div>
                     <p><code class="codeph">DELETE_RULE</code>过程删除规则。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A2A7354F-1593-46D2-A343-7638FF7DB0EE__GUID-597FB63F-F703-44A2-9F4E-6C9F6A3F8E2C">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.DELETE_RULE（rule_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A2A7354F-1593-46D2-A343-7638FF7DB0EE__GUID-68D7CC63-5AE0-432D-BE7B-C8FFD8392C5F">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-A2A7354F-1593-46D2-A343-7638FF7DB0EE__DELETE_RULEPARAMETER-090F3A78">
                        <p class="titleintable">表15-4 DELETE_RULE参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_RULE参数" width="100%" border="1" summary="DELETE_RULE" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="21%" id="d66328e1363">参数</th>
                                 <th align="left" valign="bottom" width="79%" id="d66328e1366">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d66328e1371" headers="d66328e1363 ">
                                    <p><code class="codeph">RULE_NAME</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="79%" headers="d66328e1371 d66328e1366 ">
                                    <p>规则名称。</p>
                                    <p>要查找当前数据库实例中的现有规则，请查询<code class="codeph">DBA_DV_RULE</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-97C96089-0EE4-4A57-8257-1F9F61606245" title="DBA_DV_RULE数据字典视图列出已定义的规则。">DBA_DV_RULE视图</a> 。
                                    </p>
                                    <p>要查找已与规则集，查询相关的规则<code class="codeph">DBA_DV_RULE_SET_RULE</code> ，描述<a href="oracle-database-vault-data-dictionary-views.html#GUID-52C00874-C14D-44F6-A89A-CCB5E07FBE3E" title="DBA_DV_RULE_SET_RULE数据字典视图列出了与现有规则集关联的规则。">DBA_DV_RULE_SET_RULE查看</a> 。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A2A7354F-1593-46D2-A343-7638FF7DB0EE__GUID-35DCE3B6-E464-421C-A08F-19F72A6ED071">例</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.DELETE_RULE（'检查UPDATE操作'）;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-1B24D370-46E3-445E-91CC-8E621F5E94CB" title="通过DBMS_MACADM规则集过程，您可以配置这些规则集中的规则集和单个规则。">DBMS_MACADM规则集过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70493"></a><a id="DVADM70494"></a><a id="DVADM70495"></a><a id="DVADM70496"></a><a id="DVADM70492"></a><div class="props_rev_3"><a id="GUID-318F7DA6-FAD3-49A5-A174-139BB06C8914" name="GUID-318F7DA6-FAD3-49A5-A174-139BB06C8914"></a><h4 id="DVADM-GUID-318F7DA6-FAD3-49A5-A174-139BB06C8914" class="sect4">DELETE_RULE_FROM_RULE_SET过程</h4>
                  <div>
                     <p><code class="codeph">DELETE_RULE_FROM_RULE_SET</code>过程从规则集中删除规则。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-318F7DA6-FAD3-49A5-A174-139BB06C8914__GUID-FFB9DDDC-BAD0-478F-B4FB-41CAC911961C">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.DELETE_RULE_FROM_RULE_SET（rule_set_name IN VARCHAR2，rule_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-318F7DA6-FAD3-49A5-A174-139BB06C8914__GUID-876C785C-A17C-4D4E-8517-9379BBDBB097">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-318F7DA6-FAD3-49A5-A174-139BB06C8914__DELETE_RULE_FROM_RULE_SETPARAMETERS-090F3E01">
                        <p class="titleintable">表15-5 DELETE_RULE_FROM_RULE_SET参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_RULE_FROM_RULE_SET参数" width="100%" border="1" summary="DELETE_RULE_FROM_RULE_SET" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="23%" id="d66328e1532">参数</th>
                                 <th align="left" valign="bottom" width="77%" id="d66328e1535">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e1540" headers="d66328e1532 ">
                                    <p><code class="codeph">rule_set_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e1540 d66328e1535 ">
                                    <p>规则集名称。</p>
                                    <p>要在当前数据库实例中查找现有规则集，请查询<code class="codeph">DBA_DV_RULE_SET</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-A7FD62EB-A8E4-4279-A0D5-1677493AC202" title="DBA_DV_RULE_SET数据字典视图列出已创建的规则集。">DBA_DV_RULE_SET视图</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e1563" headers="d66328e1532 ">
                                    <p><code class="codeph">RULE_NAME</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e1563 d66328e1535 ">
                                    <p>要从规则集中删除的规则。</p>
                                    <p>要查找当前数据库实例中的现有规则，请查询<code class="codeph">DBA_DV_RULE</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-97C96089-0EE4-4A57-8257-1F9F61606245" title="DBA_DV_RULE数据字典视图列出已定义的规则。">DBA_DV_RULE视图</a> 。
                                    </p>
                                    <p>要查找已与规则集，查询相关的规则<code class="codeph">DBA_DV_RULE_SET_RULE</code> ，描述<a href="oracle-database-vault-data-dictionary-views.html#GUID-52C00874-C14D-44F6-A89A-CCB5E07FBE3E" title="DBA_DV_RULE_SET_RULE数据字典视图列出了与现有规则集关联的规则。">DBA_DV_RULE_SET_RULE查看</a> 。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-318F7DA6-FAD3-49A5-A174-139BB06C8914__GUID-E3253D8C-F95C-4002-A669-469344F65CCE">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.DELETE_RULE_FROM_RULE_SET（rule_set_name =&gt;'Limit_DBA_Access'，rule_name =&gt;'检查UPDATE操作'）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-1B24D370-46E3-445E-91CC-8E621F5E94CB" title="通过DBMS_MACADM规则集过程，您可以配置这些规则集中的规则集和单个规则。">DBMS_MACADM规则集过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70498"></a><a id="DVADM70499"></a><a id="DVADM70500"></a><a id="DVADM70501"></a><a id="DVADM70497"></a><div class="props_rev_3"><a id="GUID-9BE707E1-1357-49F8-904C-AFE55C78C3C6" name="GUID-9BE707E1-1357-49F8-904C-AFE55C78C3C6"></a><h4 id="DVADM-GUID-9BE707E1-1357-49F8-904C-AFE55C78C3C6" class="sect4">DELETE_RULE_SET过程</h4>
                  <div>
                     <p><code class="codeph">DELETE_RULE_SET</code>过程删除规则集。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9BE707E1-1357-49F8-904C-AFE55C78C3C6__GUID-837FFC27-574F-4CB0-AC6E-2142372C2403">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.DELETE_RULE_SET（rule_set_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9BE707E1-1357-49F8-904C-AFE55C78C3C6__GUID-6A144050-E69E-4FA4-AEFF-3BE194D5FE10">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-9BE707E1-1357-49F8-904C-AFE55C78C3C6__DELETE_RULE_SETPARAMETER-090F40FC">
                        <p class="titleintable">表15-6 DELETE_RULE_SET参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_RULE_SET参数" width="100%" border="1" summary="DELETE_RULE_SET" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d66328e1723">参数</th>
                                 <th align="left" valign="bottom" width="78%" id="d66328e1726">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d66328e1731" headers="d66328e1723 ">
                                    <p><code class="codeph">rule_set_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d66328e1731 d66328e1726 ">
                                    <p>规则集名称。</p>
                                    <p>要在当前数据库实例中查找现有规则集，请查询<code class="codeph">DBA_DV_RULE_SET</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-A7FD62EB-A8E4-4279-A0D5-1677493AC202" title="DBA_DV_RULE_SET数据字典视图列出已创建的规则集。">DBA_DV_RULE_SET视图</a> 。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9BE707E1-1357-49F8-904C-AFE55C78C3C6__GUID-FB18AE7A-AB6D-4E67-A9D7-4B34C96A95A1">例</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.DELETE_RULE_SET（'Limit_DBA_Access'）;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-1B24D370-46E3-445E-91CC-8E621F5E94CB" title="通过DBMS_MACADM规则集过程，您可以配置这些规则集中的规则集和单个规则。">DBMS_MACADM规则集过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70503"></a><a id="DVADM70504"></a><a id="DVADM70505"></a><a id="DVADM70506"></a><a id="DVADM70502"></a><div class="props_rev_3"><a id="GUID-C2F60720-7668-42A2-8E57-8FDA1CCBB1A9" name="GUID-C2F60720-7668-42A2-8E57-8FDA1CCBB1A9"></a><h4 id="DVADM-GUID-C2F60720-7668-42A2-8E57-8FDA1CCBB1A9" class="sect4">RENAME_RULE程序</h4>
                  <div>
                     <p><code class="codeph">RENAME_RULE</code>过程重命名规则并使名称更改在使用规则的任何位置生效</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C2F60720-7668-42A2-8E57-8FDA1CCBB1A9__GUID-D455A939-4812-4131-8612-8ACE1624B914">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.RENAME_RULE（rule_name IN VARCHAR2，new_name IN VARCHAR2，范围IN NUMBER DEFAULT）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C2F60720-7668-42A2-8E57-8FDA1CCBB1A9__GUID-E5E301AF-CD75-4C93-A5C6-49FC4E25F7D0">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C2F60720-7668-42A2-8E57-8FDA1CCBB1A9__RENAME_RULEPARAMETERS-090F446B">
                        <p class="titleintable">表15-7 RENAME_RULE参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="RENAME_RULE参数" width="100%" border="1" summary="RENAME_RULE" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="21%" id="d66328e1877">参数</th>
                                 <th align="left" valign="bottom" width="79%" id="d66328e1880">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d66328e1885" headers="d66328e1877 ">
                                    <p><code class="codeph">RULE_NAME</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="79%" headers="d66328e1885 d66328e1880 ">
                                    <p>当前规则名称。</p>
                                    <p>要查找当前数据库实例中的现有规则，请查询<code class="codeph">DBA_DV_RULE</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-97C96089-0EE4-4A57-8257-1F9F61606245" title="DBA_DV_RULE数据字典视图列出已定义的规则。">DBA_DV_RULE视图</a> 。
                                    </p>
                                    <p>要查找已与规则集，查询相关的规则<code class="codeph">DBA_DV_RULE_SET_RULE</code> ，描述<a href="oracle-database-vault-data-dictionary-views.html#GUID-52C00874-C14D-44F6-A89A-CCB5E07FBE3E" title="DBA_DV_RULE_SET_RULE数据字典视图列出了与现有规则集关联的规则。">DBA_DV_RULE_SET_RULE查看</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d66328e1922" headers="d66328e1877 ">
                                    <p><code class="codeph">新名字</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="79%" headers="d66328e1922 d66328e1880 ">
                                    <p>新规则名称，混合大小写最多128个字符。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d66328e1931" headers="d66328e1877 ">
                                    <p><code class="codeph">范围</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="79%" headers="d66328e1931 d66328e1880 ">
                                    <p>对于多租户环境，确定如何执行此过程。默认为本地。选项如下：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_SCOPE_LOCAL</code> （或<code class="codeph">1</code> ）如果规则在当前PDB中是本地的</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_SCOPE_COMMON</code> （或<code class="codeph">2</code> ）如果规则在应用程序根目录中</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C2F60720-7668-42A2-8E57-8FDA1CCBB1A9__GUID-16516EDB-03D2-4F94-975C-73A9992128DF">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.RENAME_RULE（rule_name =&gt;'检查UPDATE操作'，new_name =&gt;'检查扇区2进程'）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-1B24D370-46E3-445E-91CC-8E621F5E94CB" title="通过DBMS_MACADM规则集过程，您可以配置这些规则集中的规则集和单个规则。">DBMS_MACADM规则集过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70508"></a><a id="DVADM70509"></a><a id="DVADM70510"></a><a id="DVADM70511"></a><a id="DVADM70507"></a><div class="props_rev_3"><a id="GUID-B42D559E-3F95-4F0A-82D3-F0BF2F3207DE" name="GUID-B42D559E-3F95-4F0A-82D3-F0BF2F3207DE"></a><h4 id="DVADM-GUID-B42D559E-3F95-4F0A-82D3-F0BF2F3207DE" class="sect4">RENAME_RULE_SET程序</h4>
                  <div>
                     <p><code class="codeph">RENAME_RULE_SET</code>过程重命名规则集，并使名称更改在使用规则集的任何位置生效。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B42D559E-3F95-4F0A-82D3-F0BF2F3207DE__GUID-B0660843-36B9-4F14-9298-412AE44A320C">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.RENAME_RULE_SET（rule_set_name IN VARCHAR2，new_name IN VARCHAR2，范围IN NUMBER DEFAULT）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B42D559E-3F95-4F0A-82D3-F0BF2F3207DE__GUID-BAD7A20D-A396-4785-AC91-5383A8768F4F">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-B42D559E-3F95-4F0A-82D3-F0BF2F3207DE__RENAME_RULE_SETPARAMETERS-090F4779">
                        <p class="titleintable">表15-8 RENAME_RULE_SET参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="RENAME_RULE_SET参数" width="100%" border="1" summary="RENAME_RULE_SET" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d66328e2082">参数</th>
                                 <th align="left" valign="bottom" width="78%" id="d66328e2085">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d66328e2090" headers="d66328e2082 ">
                                    <p><code class="codeph">rule_set_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d66328e2090 d66328e2085 ">
                                    <p>当前规则集名称。</p>
                                    <p>要在当前数据库实例中查找现有规则集，请查询<code class="codeph">DBA_DV_RULE_SET</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-A7FD62EB-A8E4-4279-A0D5-1677493AC202" title="DBA_DV_RULE_SET数据字典视图列出已创建的规则集。">DBA_DV_RULE_SET视图</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d66328e2113" headers="d66328e2082 ">
                                    <p><code class="codeph">新名字</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d66328e2113 d66328e2085 ">
                                    <p>新规则集名称，混合大小写最多128个字符。允许空间。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d66328e2122" headers="d66328e2082 ">
                                    <p><code class="codeph">范围</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d66328e2122 d66328e2085 ">
                                    <p>对于多租户环境，确定如何执行此过程。默认为本地。选项如下：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_SCOPE_LOCAL</code> （或<code class="codeph">1</code> ）如果规则集在当前PDB中是本地的</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_SCOPE_COMMON</code> （或<code class="codeph">2</code> ）如果规则集在应用程序根目录中</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B42D559E-3F95-4F0A-82D3-F0BF2F3207DE__GUID-5BD320DE-18F9-417A-86B9-118456C4A6B3">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.RENAME_RULE_SET（rule_set_name =&gt;'Limit_DBA_Access'，new_name =&gt;'Limit Sector 2 Access'）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-1B24D370-46E3-445E-91CC-8E621F5E94CB" title="通过DBMS_MACADM规则集过程，您可以配置这些规则集中的规则集和单个规则。">DBMS_MACADM规则集过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70517"></a><a id="DVADM70518"></a><a id="DVADM70519"></a><a id="DVADM70520"></a><a id="DVADM70516"></a><div class="props_rev_3"><a id="GUID-658C2D27-D1B6-46B6-A7C2-A8D629BC9D0F" name="GUID-658C2D27-D1B6-46B6-A7C2-A8D629BC9D0F"></a><h4 id="DVADM-GUID-658C2D27-D1B6-46B6-A7C2-A8D629BC9D0F" class="sect4">UPDATE_RULE过程</h4>
                  <div>
                     <p><code class="codeph">UPDATE_RULE</code>过程更新规则。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-658C2D27-D1B6-46B6-A7C2-A8D629BC9D0F__GUID-C9365865-2768-475D-BBF4-7A29384A33E7">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.UPDATE_RULE（rule_name IN VARCHAR2，rule_expr IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-658C2D27-D1B6-46B6-A7C2-A8D629BC9D0F__GUID-B75E1454-ADDA-40E7-B65B-3E5D49003209">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-658C2D27-D1B6-46B6-A7C2-A8D629BC9D0F__UPDATE_RULEPARAMETERS-090F4AE9">
                        <p class="titleintable">表15-9 UPDATE_RULE参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="UPDATE_RULE参数" width="100%" border="1" summary="UPDATE_RULE" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="23%" id="d66328e2272">参数</th>
                                 <th align="left" valign="bottom" width="77%" id="d66328e2275">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e2280" headers="d66328e2272 ">
                                    <p><code class="codeph">RULE_NAME</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e2280 d66328e2275 ">
                                    <p>规则名称。</p>
                                    <p>要查找当前数据库实例中的现有规则，请查询<code class="codeph">DBA_DV_RULE</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-97C96089-0EE4-4A57-8257-1F9F61606245" title="DBA_DV_RULE数据字典视图列出已定义的规则。">DBA_DV_RULE视图</a> 。
                                    </p>
                                    <p>要查找已与规则集，查询相关的规则<code class="codeph">DBA_DV_RULE_SET_RULE</code> ，描述<a href="oracle-database-vault-data-dictionary-views.html#GUID-52C00874-C14D-44F6-A89A-CCB5E07FBE3E" title="DBA_DV_RULE_SET_RULE数据字典视图列出了与现有规则集关联的规则。">DBA_DV_RULE_SET_RULE查看</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e2317" headers="d66328e2272 ">
                                    <p><code class="codeph">rule_expr</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e2317 d66328e2275 ">
                                    <p>PL / SQL <code class="codeph">BOOLEAN</code>表达式。
                                    </p>
                                    <p>如果表达式包含引号，请不要使用双引号。而是使用两个单引号。将整个表达式括在单引号内。例如：</p><pre class="oac_no_warn" dir="ltr">'TO_CHAR（SYSDATE，''HH24''）='''12'''</pre><p>有关规则表达式的更多信息，请参阅<a href="configuring-rule-sets.html#GUID-AAAFC806-8DB8-45A7-A058-B7CD352B0C50" title="您可以在Enterprise Manager Cloud Control中创建新规则。">创建新规则</a> 。
                                    </p>
                                    <p>要查找现有规则表达式，请查询<code class="codeph">DBA_DV_RULE</code>视图。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-658C2D27-D1B6-46B6-A7C2-A8D629BC9D0F__GUID-0FB6C48F-05B4-4ABE-A647-FA55E790B7A7">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.UPDATE_RULE（rule_name =&gt;'检查UPDATE操作'，rule_expr =&gt;'SYS_CONTEXT（''USERENV''，''SESSION_USER''）=''SYSADM''和（UPPER（SYS_CONTEXT（''USERENV''， ''MODULE''））''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-1B24D370-46E3-445E-91CC-8E621F5E94CB" title="通过DBMS_MACADM规则集过程，您可以配置这些规则集中的规则集和单个规则。">DBMS_MACADM规则集过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70522"></a><a id="DVADM70523"></a><a id="DVADM70524"></a><a id="DVADM70525"></a><a id="DVADM70521"></a><div class="props_rev_3"><a id="GUID-6D99458F-A85A-462E-AA1E-B1970A265866" name="GUID-6D99458F-A85A-462E-AA1E-B1970A265866"></a><h4 id="DVADM-GUID-6D99458F-A85A-462E-AA1E-B1970A265866" class="sect4">UPDATE_RULE_SET过程</h4>
                  <div>
                     <p><code class="codeph">UPDATE_RULE_SET</code>过程更新规则集。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6D99458F-A85A-462E-AA1E-B1970A265866__GUID-DA8EF4C0-FD17-41B4-8322-377C536EE3C1">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_MACADM.UPDATE_RULE_SET（rule_set_name IN VARCHAR2，说明IN VARCHAR2，启用IN VARCHAR2，eval_options IN NUMBER，audit_options IN NUMBER，fail_options IN NUMBER，fail_message IN VARCHAR2，fail_code IN NUMBER，handler_options IN NUMBER，handler_ VARCHAR2，is_static IN BOOLEAN DEFAULT）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6D99458F-A85A-462E-AA1E-B1970A265866__GUID-19A31D6E-EBBB-4243-90F3-C07843FE08A2">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-6D99458F-A85A-462E-AA1E-B1970A265866__UPDATE_RULE_SETPARAMETERS-090F4DED">
                        <p class="titleintable">表15-10 UPDATE_RULE_SET参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="UPDATE_RULE_SET参数" width="100%" border="1" summary="UPDATE_RULE_SET" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="23%" id="d66328e2470">参数</th>
                                 <th align="left" valign="bottom" width="77%" id="d66328e2473">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e2478" headers="d66328e2470 ">
                                    <p><code class="codeph">rule_set_name</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e2478 d66328e2473 ">
                                    <p>规则集名称。</p>
                                    <p>要在当前数据库实例中查找现有规则集，请查询<code class="codeph">DBA_DV_RULE_SET</code>视图中描述的<a href="oracle-database-vault-data-dictionary-views.html#GUID-A7FD62EB-A8E4-4279-A0D5-1677493AC202" title="DBA_DV_RULE_SET数据字典视图列出已创建的规则集。">DBA_DV_RULE_SET视图</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e2501" headers="d66328e2470 ">
                                    <p><code class="codeph">描述</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e2501 d66328e2473 ">
                                    <p>规则集的用途说明，混合大小写最多1024个字符。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e2510" headers="d66328e2470 ">
                                    <p><code class="codeph">启用</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e2510 d66328e2473 ">
                                    <p><code class="codeph">DBMS_MACUTL.G_YES</code> （是）启用规则集检查; <code class="codeph">DBMS_MACUTL.G_NO</code> （否）禁用它。
                                    </p>
                                    <p><code class="codeph">enabled</code>设置的默认值是先前设置的值，您可以通过查询<code class="codeph">DBA_DV_RULE_SET</code>数据字典视图找到该<code class="codeph">DBA_DV_RULE_SET</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e2532" headers="d66328e2470 ">
                                    <p><code class="codeph">eval_options</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e2532 d66328e2473 ">
                                    <p>如果您计划为规则集分配多个规则，请输入以下设置之一：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_EVAL_ALL</code> ：规则集中的所有规则必须求值为true，规则集本身才能计算为true。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_EVAL_ANY</code> ：规则集中至少有一个规则必须求值为true才能使规则集本身评估为true。
                                          </p>
                                       </li>
                                    </ul>
                                    <p><code class="codeph">eval_options</code>的默认值是先前设置的值，您可以通过查询<code class="codeph">DBA_DV_RULE_SET</code>数据字典视图找到该<code class="codeph">DBA_DV_RULE_SET</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e2560" headers="d66328e2470 ">
                                    <p><code class="codeph">audit_options</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e2560 d66328e2473 ">
                                    <p>选择以下设置之一：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_AUDIT_OFF</code> ：禁用对规则集的审核</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_AUDIT_FAIL</code> ：发生规则集违规时创建审核记录</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_AUDIT_SUCCESS</code> ：为成功的规则集评估创建审计记录</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_AUDIT_FAIL + DBMS_MACUTL.G_RULESET_AUDIT_SUCCESS</code> ：为成功和失败的规则集评估创建审核记录</p>
                                       </li>
                                    </ul>
                                    <p><code class="codeph">audit_options</code>的缺省值是先前设置的值，您可以通过查询<code class="codeph">DBA_DV_RULE_SET</code>数据字典视图找到该<code class="codeph">DBA_DV_RULE_SET</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e2598" headers="d66328e2470 ">
                                    <p><code class="codeph">fail_options</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e2598 d66328e2473 ">
                                    <p>报告错误的选项：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_FAIL_SHOW</code> ：显示错误消息。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_FAIL_SILENT</code> ：不显示错误消息。
                                          </p>
                                       </li>
                                    </ul>
                                    <p><code class="codeph">fail_options</code>的缺省值是先前设置的值，您可以通过查询<code class="codeph">DBA_DV_RULE_SET</code>数据字典视图找到该<code class="codeph">DBA_DV_RULE_SET</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e2626" headers="d66328e2470 ">
                                    <p><code class="codeph">fail_message</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e2626 d66328e2473 ">
                                    <p>失败的错误消息，混合大小最多80个字符，与您为<code class="codeph">fail_code</code>指定的失败代码相关联。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e2638" headers="d66328e2470 ">
                                    <p><code class="codeph">fail_code</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e2638 d66328e2473 ">
                                    <p>输入-20000到-20999或20000到20999范围内的数字，以与<code class="codeph">fail_message</code>参数关联。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e2650" headers="d66328e2470 ">
                                    <p><code class="codeph">handler_options</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e2650 d66328e2473 ">
                                    <p>选择以下设置之一：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_HANDLER_OFF</code> ：禁用错误处理。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_HANDLER_FAIL</code> ：规则集失败的调用处理程序。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_MACUTL.G_RULESET_HANDLER_SUCCESS</code> ：规则集成功时的调用处理程序。
                                          </p>
                                       </li>
                                    </ul>
                                    <p><code class="codeph">handler_options</code>的缺省值是先前设置的值，您可以通过查询<code class="codeph">DBA_DV_RULE_SET</code>数据字典视图找到该<code class="codeph">DBA_DV_RULE_SET</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e2683" headers="d66328e2470 ">
                                    <p><code class="codeph">处理器</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e2683 d66328e2473 ">
                                    <p>定义自定义事件处理程序逻辑的PL / SQL函数或过程的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d66328e2692" headers="d66328e2470 ">
                                    <p><code class="codeph">is_static</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d66328e2692 d66328e2473 ">
                                    <p>可选的。确定在SQL语句访问规则集时评估规则集的频率。默认值为<code class="codeph">FALSE</code> 。</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">TRUE</code> ：在用户会话期间评估规则集一次。之后，重新使用该值。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">FALSE</code> ：每次SQL语句访问时，都会评估规则集。
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6D99458F-A85A-462E-AA1E-B1970A265866__GUID-21241411-2B0C-48B8-A2B8-32039EF9A5FB">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.UPDATE_RULE_SET（rule_set_name =&gt;'Limit_DBA_Access'，description =&gt;'通过预定义进程进行DBA访问'，enabled =&gt; DBMS_MACUTL.G_YES，eval_options =&gt; DBMS_MACUTL.G_RULESET_EVAL_ANY，audit_options =&gt; DBMS_MACUTL.G_RULESET_AUDIT_FAIL，fail_options =&gt; DBMS_MACUTL.G_RULESET_FAIL_SHOW ，fail_message =&gt;'访问被拒绝！'，fail_code =&gt; 20900，handler_options =&gt; DBMS_MACUTL.G_RULESET_HANDLER_OFF，handler =&gt;''，is_static = TRUE）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-1B24D370-46E3-445E-91CC-8E621F5E94CB" title="通过DBMS_MACADM规则集过程，您可以配置这些规则集中的规则集和单个规则。">DBMS_MACADM规则集过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DVADM70946"></a><div class="props_rev_3"><a id="GUID-9CC41BCB-1335-4230-8547-977AD105E47B" name="GUID-9CC41BCB-1335-4230-8547-977AD105E47B"></a><h3 id="DVADM-GUID-9CC41BCB-1335-4230-8547-977AD105E47B" class="sect3">Oracle Database Vault PL / SQL规则集函数</h3>
               <div>
                  <p>Oracle Database Vault提供了在规则集中使用的功能，以检查规则集保护的SQL语句。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-6F9F2F2D-B70A-447F-B576-FAF3B03A23B3">DV_SYSEVENT功能</a><br><code class="codeph">DV_SYSEVENT</code>函数返回触发规则集的系统事件。 。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-F872A37B-B9A5-45EB-B077-07A85C2DC7FF">DV_LOGIN_USER功能</a><br><code class="codeph">DV_LOGIN_USER</code>函数以<code class="codeph">VARCHAR2</code>数据类型返回登录用户名。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-40395C3C-7E0F-4996-9F9D-7893BC8AB287">DV_INSTANCE_NUM功能</a><br><code class="codeph">DV_INSTANCE_NUM</code>函数以<code class="codeph">NUMBER</code>数据类型返回数据库实例编号。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-22366869-8D6D-4790-AD2D-A83B78D43D44">DV_DATABASE_NAME功能</a><br><code class="codeph">DV_DATABASE_NAME</code>函数以<code class="codeph">VARCHAR2</code>数据类型返回数据库名称。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-6D45A09F-D723-4D74-8940-7D12F8A738A9">DV_DICT_OBJ_TYPE函数</a><br><code class="codeph">DV_DICT_OBJ_TYPE</code>函数返回发生数据库操作的字典对象的类型。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-5CF7BEC7-1C86-4B06-BBB7-589C4E044EF9">DV_DICT_OBJ_OWNER函数</a><br><code class="codeph">DV_DICT_OBJ_OWNER</code>函数返回发生数据库操作的字典对象的所有者的名称。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-51733B80-15EF-4BE2-8894-84751B775B1A">DV_DICT_OBJ_NAME功能</a><br><code class="codeph">DV_DICT_OBJ_NAME</code>函数返回发生数据库操作的字典对象的名称。
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-rule-set-apis.html#GUID-EB19D648-1D2A-48F4-AC2D-CBED52494EB2">DV_SQL_TEXT函数</a><br><code class="codeph">DV_SQL_TEXT</code>函数返回操作中使用的数据库语句的SQL文本的前4000个字符。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-66E0EDFE-B4F0-4B5B-9657-B6C4737A37BF" title="您可以使用DBMS_MACADM PL / SQL包和一组Oracle Database Vault规则函数来管理规则集。">Oracle Database Vault规则集API</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM70949"></a><a id="DVADM70950"></a><a id="DVADM70951"></a><a id="DVADM70948"></a><div class="props_rev_3"><a id="GUID-6F9F2F2D-B70A-447F-B576-FAF3B03A23B3" name="GUID-6F9F2F2D-B70A-447F-B576-FAF3B03A23B3"></a><h4 id="DVADM-GUID-6F9F2F2D-B70A-447F-B576-FAF3B03A23B3" class="sect4">DV_SYSEVENT功能</h4>
                  <div>
                     <p><code class="codeph">DV_SYSEVENT</code>函数返回触发规则集的系统事件。 。
                     </p>
                     <div class="section">
                        <p>事件名称与SQL语句的语法相同（例如， <code class="codeph">INSERT</code> ， <code class="codeph">CREATE</code> 。）返回类型是<code class="codeph">VARCHAR2</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6F9F2F2D-B70A-447F-B576-FAF3B03A23B3__GUID-6BBD6663-CFF1-4FB6-8596-EA6FF294EB14">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DV_SYSEVENT（）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6F9F2F2D-B70A-447F-B576-FAF3B03A23B3__GUID-4CE3332E-DDB8-4D9A-BBC2-EA5A7B6CF267">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>没有</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6F9F2F2D-B70A-447F-B576-FAF3B03A23B3__GUID-97DDCCE7-CC1E-475C-872F-7BFDFCF7CE4A">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE（rule_name =&gt;'获取系统事件触发维护规则集'，rule_expr =&gt;'DV_SYSEVENT =''CREATE'''）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-9CC41BCB-1335-4230-8547-977AD105E47B" title="Oracle Database Vault提供了在规则集中使用的功能，以检查规则集保护的SQL语句。">Oracle Database Vault PL / SQL规则集函数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70953"></a><a id="DVADM70954"></a><a id="DVADM70955"></a><a id="DVADM70952"></a><div class="props_rev_3"><a id="GUID-F872A37B-B9A5-45EB-B077-07A85C2DC7FF" name="GUID-F872A37B-B9A5-45EB-B077-07A85C2DC7FF"></a><h4 id="DVADM-GUID-F872A37B-B9A5-45EB-B077-07A85C2DC7FF" class="sect4">DV_LOGIN_USER功能</h4>
                  <div>
                     <p><code class="codeph">DV_LOGIN_USER</code>函数以<code class="codeph">VARCHAR2</code>数据类型返回登录用户名。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F872A37B-B9A5-45EB-B077-07A85C2DC7FF__GUID-6BD86BB5-D207-47DD-A290-2D36AD080307">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DV_LOGIN_USER（）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F872A37B-B9A5-45EB-B077-07A85C2DC7FF__GUID-E0613D40-2545-4E81-9FE9-9B5502A6B3CC">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>没有</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F872A37B-B9A5-45EB-B077-07A85C2DC7FF__GUID-F33811B5-2944-4A71-92DE-B83E50B9D627">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE（rule_name =&gt;'检查系统登录用户名'，rule_expr =&gt;'DV_LOGIN_USER =''SEBASTIAN'''）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-9CC41BCB-1335-4230-8547-977AD105E47B" title="Oracle Database Vault提供了在规则集中使用的功能，以检查规则集保护的SQL语句。">Oracle Database Vault PL / SQL规则集函数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70957"></a><a id="DVADM70958"></a><a id="DVADM70959"></a><a id="DVADM70956"></a><div class="props_rev_3"><a id="GUID-40395C3C-7E0F-4996-9F9D-7893BC8AB287" name="GUID-40395C3C-7E0F-4996-9F9D-7893BC8AB287"></a><h4 id="DVADM-GUID-40395C3C-7E0F-4996-9F9D-7893BC8AB287" class="sect4">DV_INSTANCE_NUM功能</h4>
                  <div>
                     <p><code class="codeph">DV_INSTANCE_NUM</code>函数以<code class="codeph">NUMBER</code>数据类型返回数据库实例编号。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-40395C3C-7E0F-4996-9F9D-7893BC8AB287__GUID-468F909C-8328-45F1-8D7E-BF520DEC056E">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DV_INSTANCE_NUM（）返回号码;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-40395C3C-7E0F-4996-9F9D-7893BC8AB287__GUID-D706B84E-2D8F-4F77-B29F-B7692B8B88AB">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>没有</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-40395C3C-7E0F-4996-9F9D-7893BC8AB287__GUID-E6FC47B9-7362-4849-92C2-8D6A03152BC2">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE（rule_name =&gt;'检查数据库实例编号'，rule_expr =&gt;'DV_INSTANCE_NUM介于6和9之间'）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-9CC41BCB-1335-4230-8547-977AD105E47B" title="Oracle Database Vault提供了在规则集中使用的功能，以检查规则集保护的SQL语句。">Oracle Database Vault PL / SQL规则集函数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70961"></a><a id="DVADM70962"></a><a id="DVADM70963"></a><a id="DVADM70960"></a><div class="props_rev_3"><a id="GUID-22366869-8D6D-4790-AD2D-A83B78D43D44" name="GUID-22366869-8D6D-4790-AD2D-A83B78D43D44"></a><h4 id="DVADM-GUID-22366869-8D6D-4790-AD2D-A83B78D43D44" class="sect4">DV_DATABASE_NAME功能</h4>
                  <div>
                     <p><code class="codeph">DV_DATABASE_NAME</code>函数以<code class="codeph">VARCHAR2</code>数据类型返回数据库名称。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-22366869-8D6D-4790-AD2D-A83B78D43D44__GUID-404ACFCB-13CA-4C82-8EE1-C395D97027C2">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DV_DATABASE_NAME（）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-22366869-8D6D-4790-AD2D-A83B78D43D44__GUID-147B2356-CD4F-49FC-A6A6-50F061EAC334">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>没有</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-22366869-8D6D-4790-AD2D-A83B78D43D44__GUID-35061040-0CB6-4A1A-9688-51EAC3B0173F">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE（rule_name =&gt;'Check Database Name'，rule_expr =&gt;'DV_DATABASE_NAME =''ORCL'''）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-9CC41BCB-1335-4230-8547-977AD105E47B" title="Oracle Database Vault提供了在规则集中使用的功能，以检查规则集保护的SQL语句。">Oracle Database Vault PL / SQL规则集函数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70965"></a><a id="DVADM70966"></a><a id="DVADM70967"></a><a id="DVADM70964"></a><div class="props_rev_3"><a id="GUID-6D45A09F-D723-4D74-8940-7D12F8A738A9" name="GUID-6D45A09F-D723-4D74-8940-7D12F8A738A9"></a><h4 id="DVADM-GUID-6D45A09F-D723-4D74-8940-7D12F8A738A9" class="sect4">DV_DICT_OBJ_TYPE函数</h4>
                  <div>
                     <p><code class="codeph">DV_DICT_OBJ_TYPE</code>函数返回发生数据库操作的字典对象的类型。
                     </p>
                     <div class="section">
                        <p>例如，它返回的字典对象是表，过程或视图。返回类型是<code class="codeph">VARCHAR2</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6D45A09F-D723-4D74-8940-7D12F8A738A9__GUID-E0523730-62B6-487B-AECC-7BAD950993FF">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DV_DICT_OBJ_TYPE（）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6D45A09F-D723-4D74-8940-7D12F8A738A9__GUID-E704E8B3-8AAA-487E-9864-7E97FD89AA19">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>没有</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6D45A09F-D723-4D74-8940-7D12F8A738A9__GUID-F04892AA-29B3-4A5E-8DBC-91DBA757AC90">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE（rule_name =&gt;'Check Dictionary Object Type'，rule_expr =&gt;'DV_DICT_OBJ_TYPE IN（''TABLE''，''VIEW''）'）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-9CC41BCB-1335-4230-8547-977AD105E47B" title="Oracle Database Vault提供了在规则集中使用的功能，以检查规则集保护的SQL语句。">Oracle Database Vault PL / SQL规则集函数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70969"></a><a id="DVADM70970"></a><a id="DVADM70971"></a><a id="DVADM70968"></a><div class="props_rev_3"><a id="GUID-5CF7BEC7-1C86-4B06-BBB7-589C4E044EF9" name="GUID-5CF7BEC7-1C86-4B06-BBB7-589C4E044EF9"></a><h4 id="DVADM-GUID-5CF7BEC7-1C86-4B06-BBB7-589C4E044EF9" class="sect4">DV_DICT_OBJ_OWNER函数</h4>
                  <div>
                     <p><code class="codeph">DV_DICT_OBJ_OWNER</code>函数返回发生数据库操作的字典对象的所有者的名称。
                     </p>
                     <div class="section">
                        <p>返回类型是<code class="codeph">VARCHAR2</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5CF7BEC7-1C86-4B06-BBB7-589C4E044EF9__GUID-7CD01661-AD9A-459D-A514-BE5B692FF79F">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DV_DICT_OBJ_OWNER（）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5CF7BEC7-1C86-4B06-BBB7-589C4E044EF9__GUID-A898AB2C-9B48-4732-83B0-892FDF62E103">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>没有</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5CF7BEC7-1C86-4B06-BBB7-589C4E044EF9__GUID-41D03C43-1ACE-4CD1-84D3-31F84EEE4D57">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE（rule_name =&gt;'Check Dictionary Object Owner'，rule_expr =&gt;'DV_DICT_OBJ_OWNER =''JSMITH'''）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-9CC41BCB-1335-4230-8547-977AD105E47B" title="Oracle Database Vault提供了在规则集中使用的功能，以检查规则集保护的SQL语句。">Oracle Database Vault PL / SQL规则集函数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70973"></a><a id="DVADM70974"></a><a id="DVADM70975"></a><a id="DVADM70972"></a><div class="props_rev_3"><a id="GUID-51733B80-15EF-4BE2-8894-84751B775B1A" name="GUID-51733B80-15EF-4BE2-8894-84751B775B1A"></a><h4 id="DVADM-GUID-51733B80-15EF-4BE2-8894-84751B775B1A" class="sect4">DV_DICT_OBJ_NAME功能</h4>
                  <div>
                     <p><code class="codeph">DV_DICT_OBJ_NAME</code>函数返回发生数据库操作的字典对象的名称。
                     </p>
                     <div class="section">
                        <p>返回类型是<code class="codeph">VARCHAR2</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-51733B80-15EF-4BE2-8894-84751B775B1A__GUID-384FE31C-B44A-4BDB-B4A3-A40870673677">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DV_DICT_OBJ_NAME（）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-51733B80-15EF-4BE2-8894-84751B775B1A__GUID-0E0E5391-5A4C-4013-905F-38CA7F8A6F79">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>没有</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-51733B80-15EF-4BE2-8894-84751B775B1A__GUID-30AFF28F-2892-46C3-9091-C1A9D08759A7">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE（rule_name =&gt;'Check Dictionary Object Name'，rule_expr =&gt;'DV_DICT_OBJ_NAME =''SALES'''）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-9CC41BCB-1335-4230-8547-977AD105E47B" title="Oracle Database Vault提供了在规则集中使用的功能，以检查规则集保护的SQL语句。">Oracle Database Vault PL / SQL规则集函数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70977"></a><a id="DVADM70978"></a><a id="DVADM70979"></a><a id="DVADM70976"></a><div class="props_rev_3"><a id="GUID-EB19D648-1D2A-48F4-AC2D-CBED52494EB2" name="GUID-EB19D648-1D2A-48F4-AC2D-CBED52494EB2"></a><h4 id="DVADM-GUID-EB19D648-1D2A-48F4-AC2D-CBED52494EB2" class="sect4">DV_SQL_TEXT函数</h4>
                  <div>
                     <p><code class="codeph">DV_SQL_TEXT</code>函数返回操作中使用的数据库语句的SQL文本的前4000个字符。
                     </p>
                     <div class="section">
                        <p>返回类型是<code class="codeph">VARCHAR2</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EB19D648-1D2A-48F4-AC2D-CBED52494EB2__GUID-9EAB187A-7321-488A-A6EB-F9C49CCEA5C9">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DV_SQL_TEXT（）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EB19D648-1D2A-48F4-AC2D-CBED52494EB2__GUID-B7321248-48B8-4C26-8A66-A0575436B6AC">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>没有</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EB19D648-1D2A-48F4-AC2D-CBED52494EB2__GUID-D8189ED9-D277-479A-B8D9-E7E832761610">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE（rule_name =&gt;'Check SQL Text'，rule_expr =&gt;'DV_SQL_TEXT =''SELECT SALARY FROM HR.EMPLOYEES'''）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-database-vault-rule-set-apis.html#GUID-9CC41BCB-1335-4230-8547-977AD105E47B" title="Oracle Database Vault提供了在规则集中使用的功能，以检查规则集保护的SQL语句。">Oracle Database Vault PL / SQL规则集函数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="05898.access-controls-and-privileges.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle provides access controls and privileges that determine the type of access users can have to labeled rows."></meta>
      <meta name="description" content="Oracle provides access controls and privileges that determine the type of access users can have to labeled rows."></meta>
      <title>访问控制和权限</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content="Oracle provides access controls and privileges that determine the type of access users can have to labeled rows."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="label-security-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-11T09:39:52-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96303-05"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="understanding-data-labels-and-user-labels.html" title="Previous" type="text/html"></link>
      <link rel="next" href="part2.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Label Security Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OLSAG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="understanding-data-labels-and-user-labels.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="part2.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part1.html" property="item" typeof="WebPage"><span property="name">Oracle Label Security入门</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">访问控制和权限</li>
            </ol>
            <a id="GUID-A222EB99-83C4-4BCC-84F6-D20087101E9D" name="GUID-A222EB99-83C4-4BCC-84F6-D20087101E9D"></a><a id="OLSAG013"></a>
            
            <h2 id="OLSAG-GUID-A222EB99-83C4-4BCC-84F6-D20087101E9D" class="sect2"><span class="enumeration_chapter">3</span>访问控制和权限</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle提供了访问控制和权限，用于确定用户对标记行的访问<span class="italic">类型</span> 。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-ABAE9801-8B44-42E9-A7A9-B6D6A39B7706">访问调解</a><br>要访问受Oracle Label Security策略保护的数据，用户必须具有基于为策略定义的标签的授权。
                  </li>
                  <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-B29120D7-7F0D-4FC5-A39D-FD0B2E553EDF">会话标签和行标签的工作原理</a><br>了解会话标签和行标签非常重要。
                  </li>
                  <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-FB12C249-D9C1-4E74-8443-5B5A9CA0D6C0">用户授权如何工作</a><br>Oracle Label Security提供由Oracle Label Security管理员设置的授权和由计算会话标签设置的授权。
                  </li>
                  <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-2B28F3BC-26B4-400E-8BC5-FD5DEED8BA38">访问调解标签的评估</a><br>Oracle Label Security通过将用户的标签组件与行的标签组件进行比较来评估标签。
                  </li>
                  <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-4586E82D-66BC-4E4D-B877-F91EBB38F05C">Oracle Label Security权限</a><br>Oracle Label Security提供了一组数据库和行标签权限。
                  </li>
                  <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-A4F88284-54A5-4D67-9818-984B03E6393A">使用多个Oracle Label安全策略</a><br>您可以在单个数据库环境和分布式环境中使用多个Oracle Label Security策略。
                  </li>
               </ul>
               <div class="relinfo">
                  <p><strong>相关话题</strong></p>
                  <ul>
                     <li><a href="understanding-data-labels-and-user-labels.html#GUID-F29D48CE-EE9A-495E-A35B-55B38BAB1FDB" title="您应该了解数据标签和用户标签的基本概念。">了解数据标签和用户标签</a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part1.html" title="第一部分介绍构成Oracle Label Security基本元素的术语，概念和关系。">Oracle Label Security入门</a></p>
                  </div>
               </div>
            </div><a id="OLSAG3054"></a><a id="OLSAG014"></a><div class="props_rev_3"><a id="GUID-ABAE9801-8B44-42E9-A7A9-B6D6A39B7706" name="GUID-ABAE9801-8B44-42E9-A7A9-B6D6A39B7706"></a><h3 id="OLSAG-GUID-ABAE9801-8B44-42E9-A7A9-B6D6A39B7706" class="sect3">访问调解</h3>
               <div>
                  <p>要访问受Oracle Label Security策略保护的数据，用户必须具有基于为策略定义的标签的授权。</p>
                  <p><a href="access-controls-and-privileges.html#GUID-ABAE9801-8B44-42E9-A7A9-B6D6A39B7706__I1007372">图3-1</a>说明了用户，数据和标签之间的关系。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数据标签指定数据行的敏感度。</p>
                     </li>
                     <li>
                        <p>用户标签为用户提供适当的授权。</p>
                     </li>
                     <li>
                        <p>用户和数据行之间的访问中介取决于用户的标签。</p>
                     </li>
                  </ul>
                  <div class="figure" id="GUID-ABAE9801-8B44-42E9-A7A9-B6D6A39B7706__I1007372">
                     <p class="titleinfigure">图3-1用户，数据和标签之间的关系</p><img src="img/olsag011.gif" alt="下面是图3-1的描述" title="下面是图3-1的描述" longdesc="img_text/olsag011.html"><br><a href="img_text/olsag011.html">“图3-1用户，数据和标签之间的关系”的描述</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnote" id="GUID-ABAE9801-8B44-42E9-A7A9-B6D6A39B7706__GUID-E6734FEF-EC5D-4D0B-BC60-C3CE2076B19C">
                     <p class="notep1">注意：</p>
                     <p>Oracle Label Security强制选项会影响访问控制如何应用于表和模式。本章假定所有策略实施选项都有效。</p>
                  </div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="implementing-policy-enforcement-options-and-labeling-functions.html#GUID-D22D69D5-FD98-4999-9096-F2580346D64D" title="Oracle Label Security提供了一组策略实施选项。">Oracle Label Security策略强制执行选项</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-A222EB99-83C4-4BCC-84F6-D20087101E9D" title="Oracle提供了访问控制和权限，用于确定用户对标记行的访问类型。">访问控制和权限</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="OLSAG015"></a><div class="props_rev_3"><a id="GUID-B29120D7-7F0D-4FC5-A39D-FD0B2E553EDF" name="GUID-B29120D7-7F0D-4FC5-A39D-FD0B2E553EDF"></a><h3 id="OLSAG-GUID-B29120D7-7F0D-4FC5-A39D-FD0B2E553EDF" class="sect3">会话标签和行标签的工作原理</h3>
               <div>
                  <p>了解会话标签和行标签非常重要。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-5899F7FC-B91B-4767-AE69-2837F4BA3139">会话标签</a><br>每个Oracle Label Security用户都拥有包含特殊组件的授权。
                     </li>
                     <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-B998FAF8-951D-42BB-B0F6-84C26D2A05E4">行标签</a><br>当用户在未指定其标签的情况下写入数据时，将使用用户的会话标签自动分配<span class="italic">行</span>标签。
                     </li>
                     <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-3C50919A-879E-4027-A505-C6E06D7A200F">会话标签示例</a><br>会话标签和行标签可以位于用户级别，隔离专区和组授权范围内的任何位置。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-A222EB99-83C4-4BCC-84F6-D20087101E9D" title="Oracle提供了访问控制和权限，用于确定用户对标记行的访问类型。">访问控制和权限</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG3055"></a><div class="props_rev_3"><a id="GUID-5899F7FC-B91B-4767-AE69-2837F4BA3139" name="GUID-5899F7FC-B91B-4767-AE69-2837F4BA3139"></a><h4 id="OLSAG-GUID-5899F7FC-B91B-4767-AE69-2837F4BA3139" class="sect4">会话标签</h4>
                  <div>
                     <p>每个Oracle Label Security用户都拥有包含特殊组件的授权。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>最高和最低等级</p>
                        </li>
                        <li>
                           <p>一套授权隔间</p>
                        </li>
                        <li>
                           <p>一组授权组</p>
                        </li>
                        <li>
                           <p>对于每个隔离专区和组，都是只读访问或读/写访问的规范</p>
                        </li>
                     </ul>
                     <p>管理员还在为用户设置这些授权时指定用户的初始会话标签。<span class="italic">会话标签</span>是用户在任何给定时间工作的级别，隔离专区和组的特定组合。用户可以将会话标签更改为用户被授权的任何组件组合。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="oracle-label-security-pl-sql-packages.html#GUID-406E4A7D-EC93-4720-BE46-0553EA0B1BB7" title="SA_SESSION PL / SQL包管理用户授权的会话行为。">SA_SESSION会话管理PL / SQL包</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-B29120D7-7F0D-4FC5-A39D-FD0B2E553EDF" title="了解会话标签和行标签非常重要。">会话标签和行标签的工作原理</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="OLSAG3056"></a><div class="props_rev_3"><a id="GUID-B998FAF8-951D-42BB-B0F6-84C26D2A05E4" name="GUID-B998FAF8-951D-42BB-B0F6-84C26D2A05E4"></a><h4 id="OLSAG-GUID-B998FAF8-951D-42BB-B0F6-84C26D2A05E4" class="sect4">行标签</h4>
                  <div>
                     <p>当用户在未指定其标签的情况下写入数据时，将使用用户的会话标签自动分配<span class="italic">行</span>标签。
                     </p>
                     <p>但是，用户可以在他指定的标签的组件的某些限制内为写入的行设置标签。此标签的级别可以设置为管理员指定的范围内的任何级别。例如，可以将其设置为用户当前会话标签的级别，直至用户的最低级别。但是，此行的新标签的隔离专区和组受到更多限制。新标签只能包含当前会话标签中包含的那些隔离专区和组，其中只包括用户具有写访问权限的隔离专区和组。</p>
                     <p>当管理员设置用户授权时，他或她还指定初始默认行标签。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B998FAF8-951D-42BB-B0F6-84C26D2A05E4__GUID-A5C312FE-F2AF-4C75-B444-A332DC694B0C">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oracle-label-security-pl-sql-packages.html#GUID-6567095A-13E5-43F8-9A2C-30A84E095B87" title="SA_USER_ADMIN PL / SQL包按标签组件管理用户标签。">SA_USER_ADMIN PL / SQL包</a></p>
                           </li>
                           <li>
                              <p><a href="oracle-label-security-pl-sql-packages.html#GUID-406E4A7D-EC93-4720-BE46-0553EA0B1BB7" title="SA_SESSION PL / SQL包管理用户授权的会话行为。">SA_SESSION会话管理PL / SQL包</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-B29120D7-7F0D-4FC5-A39D-FD0B2E553EDF" title="了解会话标签和行标签非常重要。">会话标签和行标签的工作原理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3058"></a><a id="OLSAG3057"></a><div class="props_rev_3"><a id="GUID-3C50919A-879E-4027-A505-C6E06D7A200F" name="GUID-3C50919A-879E-4027-A505-C6E06D7A200F"></a><h4 id="OLSAG-GUID-3C50919A-879E-4027-A505-C6E06D7A200F" class="sect4">会话标签示例</h4>
                  <div>
                     <p>会话标签和行标签可以位于用户级别，隔离专区和组授权范围内的任何位置。</p>
                     <p>在<a href="access-controls-and-privileges.html#GUID-3C50919A-879E-4027-A505-C6E06D7A200F__I1007434">图3-2中</a> ，用户的最高级别是<code class="codeph">SENSITIVE</code> ，最低级别是<code class="codeph">UNCLASSIFIED</code> 。但是，他的默认会话标签是<code class="codeph">C:FIN</code> ， <code class="codeph">OP:WR</code> 。在此示例中，管理员已设置用户的会话标签，以便用户在<code class="codeph">CONFIDENTIAL</code>级别连接到数据库。
                     </p>
                     <p>类似地，虽然用户被授权隔间<code class="codeph">FIN</code>和<code class="codeph">OP</code>以及组<code class="codeph">WR</code> ，但是管理员可以设置会话标签，以便用户仅与隔间<code class="codeph">FIN</code>和组<code class="codeph">WR</code> 。</p>
                     <div class="figure" id="GUID-3C50919A-879E-4027-A505-C6E06D7A200F__I1007434">
                        <p class="titleinfigure">图3-2用户会话标签</p><img src="img/olsag012.gif" alt="下面是图3-2的描述" title="下面是图3-2的描述" longdesc="img_text/olsag012.html"><br><a href="img_text/olsag012.html">“图3-2用户会话标签”的说明</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="oracle-label-security-pl-sql-packages.html#GUID-625016B0-AB31-4553-996A-9EB09A5D803B" title="SA_USER_ADMIN.SET_COMPARTMENTS过程将隔离专区分配给用户，并标识用户会话标签和行标签的默认值。">SA_USER_ADMIN.SET_COMPARTMENTS</a></li>
                           <li><a href="oracle-label-security-pl-sql-packages.html#GUID-68AE0D32-4A60-4435-AE67-C30CCBF210E6" title="SA_USER_ADMIN.ALTER_COMPARTMENTS过程更改指定隔离专区的写访问权限，默认标签指示符和行标签指示符。">SA_USER_ADMIN.ALTER_COMPARTMENTS</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-B29120D7-7F0D-4FC5-A39D-FD0B2E553EDF" title="了解会话标签和行标签非常重要。">会话标签和行标签的工作原理</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="OLSAG4135"></a><div class="props_rev_3"><a id="GUID-FB12C249-D9C1-4E74-8443-5B5A9CA0D6C0" name="GUID-FB12C249-D9C1-4E74-8443-5B5A9CA0D6C0"></a><h3 id="OLSAG-GUID-FB12C249-D9C1-4E74-8443-5B5A9CA0D6C0" class="sect3">用户授权如何工作</h3>
               <div>
                  <p>Oracle Label Security提供由Oracle Label Security管理员设置的授权和由计算会话标签设置的授权。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-9FE20BB6-4224-41E1-8E5D-1B018084BFAC">授权由管理员设置</a><br>管理员显式设置级别，隔离专区和组的授权。
                     </li>
                     <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-8EF3F9B8-8E48-45F4-B33A-A36CB2B199B4">计算会话标签</a><br>Oracle Label Security会根据会话标签的值自动计算多个标签。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-A222EB99-83C4-4BCC-84F6-D20087101E9D" title="Oracle提供了访问控制和权限，用于确定用户对标记行的访问类型。">访问控制和权限</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG3059"></a><div class="props_rev_3"><a id="GUID-9FE20BB6-4224-41E1-8E5D-1B018084BFAC" name="GUID-9FE20BB6-4224-41E1-8E5D-1B018084BFAC"></a><h4 id="OLSAG-GUID-9FE20BB6-4224-41E1-8E5D-1B018084BFAC" class="sect4">授权由管理员设置</h4>
                  <div>
                     <p>管理员显式设置级别，隔离专区和组的授权。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-2245483F-B960-4B94-9330-3950882E29AC">授权级别</a><br>管理员显式设置Oracle Label Security策略的级别授权。
                        </li>
                        <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-25E42C8C-2782-4228-B092-0DBB62CC381C">授权隔间</a><br>管理员指定用户可以在其会话标签中放置的隔离专区列表。
                        </li>
                        <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-4B04A3E6-4CE4-4C4C-B42B-A24C951BE72F">授权组</a><br>您必须指定用户可以放置在会话标签中的组列表，并为每个组授予写访问权限。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-FB12C249-D9C1-4E74-8443-5B5A9CA0D6C0" title="Oracle Label Security提供由Oracle Label Security管理员设置的授权和由计算会话标签设置的授权。">用户授权的工作原理</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="OLSAG4136"></a><a id="OLSAG016"></a><div class="props_rev_3"><a id="GUID-2245483F-B960-4B94-9330-3950882E29AC" name="GUID-2245483F-B960-4B94-9330-3950882E29AC"></a><h5 id="OLSAG-GUID-2245483F-B960-4B94-9330-3950882E29AC" class="sect5">授权级别</h5>
                     <div>
                        <p>管理员显式设置Oracle Label Security策略的级别授权。</p>
                        <p><a href="access-controls-and-privileges.html#GUID-2245483F-B960-4B94-9330-3950882E29AC__GUID-843CEEA9-C9CD-4BD2-866A-48C31FB918B4" title="此表列出并说明了管理员设置的授权级别。">表3-1</a>列出了管理员可以设置的授权级别。
                        </p>
                        <div class="tblformal" id="GUID-2245483F-B960-4B94-9330-3950882E29AC__GUID-843CEEA9-C9CD-4BD2-866A-48C31FB918B4">
                           <p class="titleintable">表3-1管理员设置的授权级别</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="管理员设置的授权级别" width="100%" border="1" summary="This table lists and explains the authorization levels set by the administrator." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d11085e879">授权</th>
                                    <th align="left" valign="bottom" width="69%" id="d11085e882">含义</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d11085e887" headers="d11085e879 ">
                                       <p>用户最高级别</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d11085e887 d11085e882 ">
                                       <p>用户在读写操作期间可以访问的最大灵敏度排名</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d11085e894" headers="d11085e879 ">
                                       <p>用户最低级别</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d11085e894 d11085e882 ">
                                       <p>用户在写入操作期间可以访问的最低灵敏度排名。用户最高级别必须等于或大于用户最低级别。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d11085e901" headers="d11085e879 ">
                                       <p>用户默认级别</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d11085e901 d11085e882 ">
                                       <p>连接到Oracle数据库时默认采用的级别</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d11085e908" headers="d11085e879 ">
                                       <p>用户默认行级别</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d11085e908 d11085e882 ">
                                       <p>将数据插入Oracle数据库时默认使用的级别</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>例如，在Oracle Enterprise Manager中，管理员可以为用户Joe设置以下级别授权：</p>
                        <div class="tblformal" id="GUID-2245483F-B960-4B94-9330-3950882E29AC__GUID-436DF156-0B6F-42CB-9E05-083460816EBD">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table lists the authorized levels for Joe: Type, Short Name, Long Name, and Description" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d11085e926">类型</th>
                                    <th align="left" valign="bottom" width="25%" id="d11085e929">简称</th>
                                    <th align="left" valign="bottom" width="25%" id="d11085e932">长名</th>
                                    <th align="left" valign="bottom" width="25%" id="d11085e935">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d11085e940" headers="d11085e926 ">
                                       <p>最大值</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d11085e940 d11085e929 ">
                                       <p><code class="codeph">HS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d11085e940 d11085e932 ">
                                       <p><code class="codeph">HIGHLY_SENSITIVE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d11085e940 d11085e935 ">
                                       <p>用户的最高级别</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d11085e955" headers="d11085e926 ">
                                       <p>最低限度</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d11085e955 d11085e929 ">
                                       <p><code class="codeph">P</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d11085e955 d11085e932 ">
                                       <p><code class="codeph">上市</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d11085e955 d11085e935 ">
                                       <p>用户的最低级别</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d11085e970" headers="d11085e926 ">
                                       <p>默认</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d11085e970 d11085e929 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d11085e970 d11085e932 ">
                                       <p><code class="codeph">机密</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d11085e970 d11085e935 ">
                                       <p>用户的默认级别</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d11085e985" headers="d11085e926 ">
                                       <p>行</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d11085e985 d11085e929 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d11085e985 d11085e932 ">
                                       <p><code class="codeph">机密</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d11085e985 d11085e935 ">
                                       <p><code class="codeph">INSERT</code>行级别</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-9FE20BB6-4224-41E1-8E5D-1B018084BFAC" title="管理员显式设置级别，隔离专区和组的授权。">管理员设置的授权</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3064"></a><a id="OLSAG4137"></a><div class="props_rev_3"><a id="GUID-25E42C8C-2782-4228-B092-0DBB62CC381C" name="GUID-25E42C8C-2782-4228-B092-0DBB62CC381C"></a><h5 id="OLSAG-GUID-25E42C8C-2782-4228-B092-0DBB62CC381C" class="sect5">授权隔间</h5>
                     <div>
                        <p>管理员指定用户可以在其会话标签中放置的隔离专区列表。</p>
                        <p>管理员必须为每个隔离专区明确授予用户写入权限。用户无法直接插入，更新或删除包含他或她无权编写的隔离专区的行。</p>
                        <p>例如，在Oracle Enterprise Manager中，管理员可以为用户Joe设置以下隔离专区授权：</p>
                        <div class="tblformal" id="GUID-25E42C8C-2782-4228-B092-0DBB62CC381C__GUID-F2882868-99AC-4F8F-BE93-6D8003AB338E">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Authorized compartments for Joe: Short Name, Long Name, WRITE, DEFAULT, ROW" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d11085e1096">简称</th>
                                    <th align="left" valign="bottom" width="26%" id="d11085e1099">长名</th>
                                    <th align="left" valign="bottom" width="17%" id="d11085e1102">写</th>
                                    <th align="left" valign="bottom" width="15%" id="d11085e1105">默认</th>
                                    <th align="left" valign="bottom" width="17%" id="d11085e1108">行</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d11085e1113" headers="d11085e1096 ">
                                       <p><code class="codeph">CHEM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d11085e1113 d11085e1099 ">
                                       <p><code class="codeph">化工</code></p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d11085e1113 d11085e1102 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d11085e1113 d11085e1105 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d11085e1113 d11085e1108 ">
                                       <p>没有</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d11085e1131" headers="d11085e1096 ">
                                       <p><code class="codeph">FINCL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d11085e1131 d11085e1099 ">
                                       <p><code class="codeph">金融</code></p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d11085e1131 d11085e1102 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d11085e1131 d11085e1105 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d11085e1131 d11085e1108 ">
                                       <p>没有</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d11085e1149" headers="d11085e1096 ">
                                       <p><code class="codeph">OP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="26%" headers="d11085e1149 d11085e1099 ">
                                       <p><code class="codeph">操作</code></p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d11085e1149 d11085e1102 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="15%" headers="d11085e1149 d11085e1105 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d11085e1149 d11085e1108 ">
                                       <p>是</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>在<a href="access-controls-and-privileges.html#GUID-25E42C8C-2782-4228-B092-0DBB62CC381C__I1007519">图3-3中</a> ，行标识指示隔离区是否应该用作新插入数据的默认行标签的一部分。另请注意，策略选项必须有效才能使此设置生效。
                        </p>
                        <div class="figure" id="GUID-25E42C8C-2782-4228-B092-0DBB62CC381C__I1007519">
                           <p class="titleinfigure">图3-3在Enterprise Manager中设置授权隔离专区</p><img src="img/joe_comps.gif" alt="下面是图3-3的描述" title="下面是图3-3的描述" longdesc="img_text/joe_comps.html"><br><a href="img_text/joe_comps.html">“图3-3在Enterprise Manager中设置授权隔离专区”的说明</a></div>
                        <!-- class="figure" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-9FE20BB6-4224-41E1-8E5D-1B018084BFAC" title="管理员显式设置级别，隔离专区和组的授权。">管理员设置的授权</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3066"></a><a id="OLSAG4138"></a><div class="props_rev_3"><a id="GUID-4B04A3E6-4CE4-4C4C-B42B-A24C951BE72F" name="GUID-4B04A3E6-4CE4-4C4C-B42B-A24C951BE72F"></a><h5 id="OLSAG-GUID-4B04A3E6-4CE4-4C4C-B42B-A24C951BE72F" class="sect5">授权组</h5>
                     <div>
                        <p>您必须指定用户可以放置在会话标签中的组列表，并为每个组授予写访问权限。</p>
                        <p>例如，在Oracle Enterprise Manager中，管理员可以设置以下组授权：</p>
                        <div class="tblformal" id="GUID-4B04A3E6-4CE4-4C4C-B42B-A24C951BE72F__GUID-2EA579CE-DC63-44F7-8B92-97FA0DB7AED9">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Setting authorized groups for Joe" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="16%" id="d11085e1268">简称</th>
                                    <th align="left" valign="bottom" width="39%" id="d11085e1271">长名</th>
                                    <th align="left" valign="bottom" width="11%" id="d11085e1274">写</th>
                                    <th align="left" valign="bottom" width="13%" id="d11085e1277">默认</th>
                                    <th align="left" valign="bottom" width="11%" id="d11085e1280">行</th>
                                    <th align="left" valign="bottom" width="11%" id="d11085e1283">亲</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d11085e1288" headers="d11085e1268 ">
                                       <p><code class="codeph">WR_HR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d11085e1288 d11085e1271 ">
                                       <p><code class="codeph">WR_HUMAN_RESOURCES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d11085e1288 d11085e1274 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d11085e1288 d11085e1277 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d11085e1288 d11085e1280 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d11085e1288 d11085e1283 ">
                                       <p><code class="codeph">WR</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d11085e1310" headers="d11085e1268 ">
                                       <p><code class="codeph">包裹</code></p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d11085e1310 d11085e1271 ">
                                       <p><code class="codeph">WR_ACCOUNTS_PAYABLE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d11085e1310 d11085e1274 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d11085e1310 d11085e1277 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d11085e1310 d11085e1280 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d11085e1310 d11085e1283 ">
                                       <p><code class="codeph">WR_FIN</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d11085e1332" headers="d11085e1268 ">
                                       <p><code class="codeph">WR_AR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d11085e1332 d11085e1271 ">
                                       <p><code class="codeph">WR_ACCOUNTS_RECEIVABLE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d11085e1332 d11085e1274 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d11085e1332 d11085e1277 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d11085e1332 d11085e1280 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d11085e1332 d11085e1283 ">
                                       <p><code class="codeph">WR_FIN</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>在<a href="access-controls-and-privileges.html#GUID-4B04A3E6-4CE4-4C4C-B42B-A24C951BE72F__I1007538">图3-4中</a> ，行标识指示该组是否应该用作新插入数据的默认行标签的一部分。另请注意， <code class="codeph">LABEL_DEFAULT</code>策略选项必须有效才能使此设置生效。
                        </p>
                        <div class="figure" id="GUID-4B04A3E6-4CE4-4C4C-B42B-A24C951BE72F__I1007538">
                           <p class="titleinfigure">图3-4在Enterprise Manager中设置授权组</p><img src="img/joe_groups.gif" alt="下面是图3-4的描述" title="下面是图3-4的描述" longdesc="img_text/joe_groups.html"><br><a href="img_text/joe_groups.html">“图3-4在Enterprise Manager中设置授权组”的说明</a></div>
                        <!-- class="figure" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="implementing-policy-enforcement-options-and-labeling-functions.html#GUID-138927CC-4962-4BAE-A102-6FE69482F649" title="用户可以在不指定标签值的情况下更新行，因为更新的行使用其原始标签。">LABEL_DEFAULT：使用会话的默认行标签</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-9FE20BB6-4224-41E1-8E5D-1B018084BFAC" title="管理员显式设置级别，隔离专区和组的授权。">管理员设置的授权</a></p>
                           </div>
                        </div>
                     </div>
                  </div>
               </div><a id="OLSAG3068"></a><a id="OLSAG3067"></a><div class="props_rev_3"><a id="GUID-8EF3F9B8-8E48-45F4-B33A-A36CB2B199B4" name="GUID-8EF3F9B8-8E48-45F4-B33A-A36CB2B199B4"></a><h4 id="OLSAG-GUID-8EF3F9B8-8E48-45F4-B33A-A36CB2B199B4" class="sect4">计算会话标签</h4>
                  <div>
                     <p>Oracle Label Security会根据会话标签的值自动计算多个标签。</p>
                     <p><a href="access-controls-and-privileges.html#GUID-8EF3F9B8-8E48-45F4-B33A-A36CB2B199B4__GUID-3BD26411-D647-44C0-ABF4-0C60199DD921" title="此表列出并定义计算的会话标签：计算标签和定义">表3-2</a>列出了计算的会话标签。
                     </p>
                     <div class="tblformal" id="GUID-8EF3F9B8-8E48-45F4-B33A-A36CB2B199B4__GUID-3BD26411-D647-44C0-ABF4-0C60199DD921">
                        <p class="titleintable">表3-2计算会话标签</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="计算会话标签" width="100%" border="1" summary="This table lists and defines the computed session labels: Computed Label and Definition" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d11085e1463">计算标签</th>
                                 <th align="left" valign="bottom" width="69%" id="d11085e1466">定义</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d11085e1471" headers="d11085e1463 ">
                                    <p>最大读取标签</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d11085e1471 d11085e1466 ">
                                    <p>用户的最高级别与授权用户的隔离专区和组的任意组合相结合。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d11085e1478" headers="d11085e1463 ">
                                    <p>最大写标签</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d11085e1478 d11085e1466 ">
                                    <p>用户的最高级别与已授予用户写入访问权限的隔离专区和组相结合。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d11085e1485" headers="d11085e1463 ">
                                    <p>最小写标签</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d11085e1485 d11085e1466 ">
                                    <p>用户的最低级别。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d11085e1492" headers="d11085e1463 ">
                                    <p>默认读取标签</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d11085e1492 d11085e1466 ">
                                    <p>单个默认级别与已指定为用户默认的隔离专区和组合。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d11085e1499" headers="d11085e1463 ">
                                    <p>默认写标签</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d11085e1499 d11085e1466 ">
                                    <p>默认读取标签的子集，包含已授予用户写入访问权限的隔离专区和组。级别组件等于读取标签中的级别默认值。此标签根据用户的写入授权自动从读取标签派生。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d11085e1506" headers="d11085e1463 ">
                                    <p>默认行标签</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d11085e1506 d11085e1466 ">
                                    <p>用户的最小写标签和最大写标签之间的组件组合，已被指定为插入数据的数据标签的默认值。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="releasability-using-inverse-groups.html#GUID-E6EC450D-0EF4-44B3-8FD5-09C0BE29426E" title="反向组会影响计算的标签值。">具有反向组的计算标签</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-FB12C249-D9C1-4E74-8443-5B5A9CA0D6C0" title="Oracle Label Security提供由Oracle Label Security管理员设置的授权和由计算会话标签设置的授权。">用户授权的工作原理</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="OLSAG03000"></a><div class="props_rev_3"><a id="GUID-2B28F3BC-26B4-400E-8BC5-FD5DEED8BA38" name="GUID-2B28F3BC-26B4-400E-8BC5-FD5DEED8BA38"></a><h3 id="OLSAG-GUID-2B28F3BC-26B4-400E-8BC5-FD5DEED8BA38" class="sect3">访问调解标签的评估</h3>
               <div>
                  <p>Oracle Label Security通过将用户的标签组件与行的标签组件进行比较来评估标签。</p>
                  <p>这样，Oracle Label Security策略可以确定用户是否可以访问数据。这使Oracle Label Security能够评估用户是否有权对行中的数据执行请求的操作。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-5CB9407A-F525-4FEB-A4E2-27D54265AEEC">关于读写访问</a><br>尽管数据标签存储在数据记录中的列中，但有关用户授权的信息存储在关系表中。
                     </li>
                     <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-9E8C5018-591F-47F1-ABF7-55DF5DB9B92B">读取访问的Oracle标签安全算法如何工作</a><br><code class="codeph">READ_CONTROL</code>强制确定了读取行中数据的能力。
                     </li>
                     <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-5D99E2D9-36EF-43E9-8E05-A4D0A8048A46">用于写访问的Oracle标签安全算法如何工作</a><br>在Oracle Label Security的上下文中， <code class="codeph">WRITE_CONTROL</code>强制确定了在一行中插入，更新或删除数据的能力。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-A222EB99-83C4-4BCC-84F6-D20087101E9D" title="Oracle提供了访问控制和权限，用于确定用户对标记行的访问类型。">访问控制和权限</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG3069"></a><div class="props_rev_3"><a id="GUID-5CB9407A-F525-4FEB-A4E2-27D54265AEEC" name="GUID-5CB9407A-F525-4FEB-A4E2-27D54265AEEC"></a><h4 id="OLSAG-GUID-5CB9407A-F525-4FEB-A4E2-27D54265AEEC" class="sect4">关于读写访问</h4>
                  <div>
                     <p>尽管数据标签存储在数据记录中的列中，但有关用户授权的信息存储在关系表中。</p>
                     <p>当用户登录时，表用于动态生成用户标签以供会话期间使用。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-6807621D-9897-4DDA-90FB-17C4F44EEDC6">读写操作之间的区别</a><br>受保护的表中存在两种基本类型的访问中介（数据操作语言（DML）操作）：读访问和写访问。
                        </li>
                        <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-2AA78615-F004-4242-A8B1-74211268381A">读/写授权在组上的传播</a><br>组按层次结构组织时，用户指定的组包括从属于用户所属组的所有子组。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-2B28F3BC-26B4-400E-8BC5-FD5DEED8BA38" title="Oracle Label Security通过将用户的标签组件与行的标签组件进行比较来评估标签。">访问调解标签的评估</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="OLSAG3070"></a><div class="props_rev_3"><a id="GUID-6807621D-9897-4DDA-90FB-17C4F44EEDC6" name="GUID-6807621D-9897-4DDA-90FB-17C4F44EEDC6"></a><h5 id="OLSAG-GUID-6807621D-9897-4DDA-90FB-17C4F44EEDC6" class="sect5">读写操作之间的区别</h5>
                     <div>
                        <p>受保护的表中存在两种基本类型的访问中介（数据操作语言（DML）操作）：读访问和写访问。</p>
                        <p>用户对他或她可以阅读的数据拥有最大授权;用户的写入授权是其中的一个子集。最低写入级别控制用户通过降低其灵敏度来传播数据的能力。用户无法写入低于管理员分配给该用户的最低级别的数据。</p>
                        <p>此外，还有用户被授权的单独的隔间和组列表;也就是说，用户至少具有读访问权限。访问标志指示用户是否也可以写入各个隔间或组。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-5CB9407A-F525-4FEB-A4E2-27D54265AEEC" title="尽管数据标签存储在数据记录中的列中，但有关用户授权的信息存储在关系表中。">关于读取和写入访问</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3072"></a><a id="OLSAG3071"></a><div class="props_rev_3"><a id="GUID-2AA78615-F004-4242-A8B1-74211268381A" name="GUID-2AA78615-F004-4242-A8B1-74211268381A"></a><h5 id="OLSAG-GUID-2AA78615-F004-4242-A8B1-74211268381A" class="sect5">读/写授权在组上的传播</h5>
                     <div>
                        <p>组按层次结构组织时，用户指定的组包括从属于用户所属组的所有子组。</p>
                        <p>在这种情况下，用户对父组的读/写授权会向下流向所有子组。</p>
                        <p>考虑父组<code class="codeph">WESTERN_REGION</code> ，有三个子组， <a href="access-controls-and-privileges.html#GUID-2AA78615-F004-4242-A8B1-74211268381A__I1007664">如图3-5所示</a> 。如果用户具有对<code class="codeph">WESTERN_REGION</code>的读访问权限，则还将读取访问权限授予三个子组。管理员可以授予用户<code class="codeph">WR_FINANCE</code>组<code class="codeph">WR_FINANCE</code>写访问权限，而不授予对<code class="codeph">WESTERN_REGION</code>父组（或其他子组）的写访问权限。另一方面，如果用户对<code class="codeph">WESTERN_REGION</code>具有读/写访问权限，则还会在树中从属于它的所有子组上授予读/写访问权限。
                        </p>
                        <p>对组进行写入授权不会在父组上授予用户写入权限。如果用户具有对<code class="codeph">WESTERN_REGION</code>和<code class="codeph">WR_FINANCE</code>只读访问权限，则管理员可以授予对<code class="codeph">WR_ACCOUNTS_RECEIVABLE</code>写访问<code class="codeph">WR_ACCOUNTS_RECEIVABLE</code> ，而不会影响对更高级别组的只读访问权限。
                        </p>
                        <div class="figure" id="GUID-2AA78615-F004-4242-A8B1-74211268381A__I1007664">
                           <p class="titleinfigure">图3-5读/写访问的子组继承</p><img src="img/olsag016.gif" alt="下面是图3-5的描述" title="下面是图3-5的描述" longdesc="img_text/olsag016.html"><br><a href="img_text/olsag016.html">“图3-5读/写访问的子组继承”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="releasability-using-inverse-groups.html#GUID-30C34D1B-3441-4125-9B77-BEBD538D7014" title="反向组以特殊方式实现，并按照Oracle Label Security的需要进行组织。">逆群如何运作</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-5CB9407A-F525-4FEB-A4E2-27D54265AEEC" title="尽管数据标签存储在数据记录中的列中，但有关用户授权的信息存储在关系表中。">关于读取和写入访问</a></p>
                           </div>
                        </div>
                     </div>
                  </div>
               </div><a id="OLSAG3074"></a><a id="OLSAG3073"></a><div class="props_rev_3"><a id="GUID-9E8C5018-591F-47F1-ABF7-55DF5DB9B92B" name="GUID-9E8C5018-591F-47F1-ABF7-55DF5DB9B92B"></a><h4 id="OLSAG-GUID-9E8C5018-591F-47F1-ABF7-55DF5DB9B92B" class="sect4">读取访问的Oracle标签安全算法如何工作</h4>
                  <div>
                     <p><code class="codeph">READ_CONTROL</code>强制确定了读取行中数据的能力。
                     </p>
                     <p>在列出的序列中使用以下规则来确定用户对一行数据的读访问权：</p>
                     <ol>
                        <li>
                           <p>用户的级别必须<span class="italic">大于或等于</span>数据级别。
                           </p>
                        </li>
                        <li>
                           <p>用户的标签必须<span class="italic">至少</span>包含属于该数据的一个组（或一个此类子组的父组）。
                           </p>
                        </li>
                        <li>
                           <p>用户的标签必须包含属于数据的<span class="italic">所有隔离专区</span> 。
                           </p>
                        </li>
                     </ol>
                     <p>如果用户的标签通过了这些测试，那么它就会占据行标签的主导地位。</p>
                     <p>请注意，没有与级别相关的读取或写入访问的概念。这是因为管理员指定了用户可以读写的级别范围（最小值到最大值）。用户可以随时读取等于或小于当前会话级别的所有数据。没有特权（ <code class="codeph">FULL</code>除外）允许用户写入低于最低授权级别。
                     </p>
                     <p><a href="access-controls-and-privileges.html#GUID-9E8C5018-591F-47F1-ABF7-55DF5DB9B92B__I1007707">图3-6</a>说明了标签评估过程如何从级别转移到组到隔离专区。请注意，如果数据标签为null或无效，则拒绝用户访问。
                     </p>
                     <div class="figure" id="GUID-9E8C5018-591F-47F1-ABF7-55DF5DB9B92B__I1007707">
                        <p class="titleinfigure">图3-6读取访问的标签评估过程</p><img src="img/olsag028.gif" alt="下面是图3-6的描述" title="下面是图3-6的描述" longdesc="img_text/olsag028.html"><br><a href="img_text/olsag028.html">“图3-6读取访问的标签评估过程”的描述</a></div>
                     <!-- class="figure" -->
                     <p>当读取访问请求进入时，Oracle Label Security会评估每一行以确定以下内容：</p>
                     <ol>
                        <li>
                           <p>用户的级别是否等于或大于数据级别？</p>
                        </li>
                        <li>
                           <p>如果是这样，用户是否可以访问数据标签中存在的至少一个组？</p>
                        </li>
                        <li>
                           <p>如果是这样，用户是否可以访问数据标签中存在的所有隔离专区？（也就是说，数据的隔间是用户隔间的子集吗？）</p>
                        </li>
                     </ol>
                     <p>如果在此评估过程的任何阶段答案为否，则Oracle Label Security拒绝访问该行并继续评估下一行数据。</p>
                     <p>Oracle Label Security策略允许用户会话读取其标签及其下方的行，称为<span class="italic">向下读取</span> 。会话无法读取不占主导地位的标签行。
                     </p>
                     <p>例如，如果您在<code class="codeph">SENSITIVE:ALPHA</code> ， <code class="codeph">BETA</code>登录，则可以读取标记为<code class="codeph">SENSITIVE:ALPHA</code>的行，因为您的标签占据了该行的标签。但是，您无法读取标记为<code class="codeph">SENSITIVE:ALPHA</code> ， <code class="codeph">GAMMA</code>的行，因为您的标签不支配该行的标签。
                     </p>
                     <p>请注意，如果用户具有特殊的Oracle Label Security权限，则可以访问否则被拒绝的行。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="access-controls-and-privileges.html#GUID-AE89D6A3-E7A0-4229-B81E-635E774DCD22" title="Oracle Label Security支持特权，允许授权用户绕过策略的某些部分。">权限由Oracle Label Security策略定义</a></li>
                           <li><a href="implementing-policy-enforcement-options-and-labeling-functions.html#GUID-DA31958D-F543-4079-B6AA-15E1998241AF" title="访问控制选项将SELECT，UPDATE，INSERT或DELETE操作可访问的行限制为仅标签符合已建立策略的行。">访问控制执行选项如何工作</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-2B28F3BC-26B4-400E-8BC5-FD5DEED8BA38" title="Oracle Label Security通过将用户的标签组件与行的标签组件进行比较来评估标签。">访问调解标签的评估</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="OLSAG3076"></a><a id="OLSAG3075"></a><div class="props_rev_3"><a id="GUID-5D99E2D9-36EF-43E9-8E05-A4D0A8048A46" name="GUID-5D99E2D9-36EF-43E9-8E05-A4D0A8048A46"></a><h4 id="OLSAG-GUID-5D99E2D9-36EF-43E9-8E05-A4D0A8048A46" class="sect4">用于写访问的Oracle标签安全算法如何工作</h4>
                  <div>
                     <p>在Oracle Label Security的上下文中， <code class="codeph">WRITE_CONTROL</code>强制确定了在一行中插入，更新或删除数据的能力。
                     </p>
                     <p><code class="codeph">WRITE_CONTROL</code>使您能够以更精细的粒度控制数据访问。当隔间被添加到关卡时，粒度会增加。当组添加到隔离专区时，它会再次增加。当您可以管理用户编写他可以阅读的数据的能力时，访问控制变得更加精细。
                     </p>
                     <p>要确定用户是否可以编写特定的数据行，Oracle Label Security将按以下顺序评估以下规则：</p>
                     <ol>
                        <li>
                           <p>数据标签中的级别必须大于或等于用户的最低级别且小于或等于用户的会话级别。</p>
                        </li>
                        <li>
                           <p>当存在组时，用户的标签必须<span class="italic">至少包含一个具有写访问权限的组，这些组</span>出现在数据标签中（或一个此类子组的父组）。此外，用户的标签必须包含数据标签中的<span class="italic">所有隔离专区</span> 。
                           </p>
                        </li>
                        <li>
                           <p>如果没有组，则用户的标签必须对数据标签中的<span class="italic">所有隔离专区</span>具有写访问权限。
                           </p>
                        </li>
                     </ol>
                     <p>以另一种方式陈述测试2和3：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果标签<span class="italic">没有</span>组，则用户必须对标签中的所有隔离专区具有写访问权才能写入数据。
                           </p>
                        </li>
                        <li>
                           <p>如果标签<span class="italic">上</span>有团体和用户有写权限的群体之一，她只需要为了写数据到车厢读访问。
                           </p>
                        </li>
                     </ul>
                     <p>与读取操作一样，标签评估过程从级别到组继续进行。请注意，用户不能写入低于授权最低级别的任何数据，也不能高于当前会话级别。用户始终可以读取低于最低级别。</p>
                     <p><a href="access-controls-and-privileges.html#GUID-5D99E2D9-36EF-43E9-8E05-A4D0A8048A46__I1007786">图3-7</a>说明了该过程如何与<code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>操作一起使用。请注意，如果数据标签为null或无效，则拒绝用户访问。
                     </p>
                     <div class="figure" id="GUID-5D99E2D9-36EF-43E9-8E05-A4D0A8048A46__I1007786">
                        <p class="titleinfigure">图3-7写访问的标签评估过程</p><img src="img/olsag030.gif" alt="下面是图3-7的描述" title="下面是图3-7的描述" longdesc="img_text/olsag030.html"><br><a href="img_text/olsag030.html">“图3-7写访问的标签评估过程”的描述</a></div>
                     <!-- class="figure" -->
                     <p>当访问请求进入时，Oracle Label Security会评估每一行以确定以下内容：</p>
                     <ol>
                        <li>
                           <p>数据的级别是否等于或低于用户的级别？</p>
                        </li>
                        <li>
                           <p>数据的级别是否等于或大于用户的最低级别？</p>
                        </li>
                        <li>
                           <p>如果数据的级别在上述范围内，那么用户是否具有对数据标签中存在的至少一个组的写访问权限？</p>
                        </li>
                        <li>
                           <p>如果是这样，用户是否可以访问数据标签中至少具有读访问权限的所有隔离专区？</p>
                        </li>
                        <li>
                           <p>如果没有组但有隔间，那么用户是否具有对所有隔间的写入权限？</p>
                        </li>
                     </ol>
                     <p>如果在此评估过程的任何阶段答案为否，则Oracle Label Security拒绝访问该行，然后继续评估下一行数据。</p>
                     <p>考虑一种情况，其中您的会话标签是<code class="codeph">S:ALPHA</code> ， <code class="codeph">BETA</code>但您只能访问隔离专区<code class="codeph">ALPHA</code> 。在这种情况下，您可以读取标签为<code class="codeph">S:ALPHA</code> ， <code class="codeph">BETA</code>但您无法更新它。
                     </p>
                     <p>总之，对行中的数据执行<code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>操作的写访问。
                     </p>
                     <p>此外，每个用户可能具有相关的最低级别，低于该最低级别用户无法写入。用户无法更新或删除标有低于最小值的级别的任何行，并且无法插入包含级别小于最小值的行标签的行。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="implementing-policy-enforcement-options-and-labeling-functions.html#GUID-DA31958D-F543-4079-B6AA-15E1998241AF" title="访问控制选项将SELECT，UPDATE，INSERT或DELETE操作可访问的行限制为仅标签符合已建立策略的行。">访问控制执行选项如何工作</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-2B28F3BC-26B4-400E-8BC5-FD5DEED8BA38" title="Oracle Label Security通过将用户的标签组件与行的标签组件进行比较来评估标签。">访问调解标签的评估</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="OLSAG018"></a><div class="props_rev_3"><a id="GUID-4586E82D-66BC-4E4D-B877-F91EBB38F05C" name="GUID-4586E82D-66BC-4E4D-B877-F91EBB38F05C"></a><h3 id="OLSAG-GUID-4586E82D-66BC-4E4D-B877-F91EBB38F05C" class="sect3">Oracle Label Security权限</h3>
               <div>
                  <p>Oracle Label Security提供了一组数据库和行标签权限。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-AE89D6A3-E7A0-4229-B81E-635E774DCD22">权限由Oracle Label Security策略定义</a><br>Oracle Label Security支持特权，允许授权用户绕过策略的某些部分。
                     </li>
                     <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-0155A396-4489-4A5D-AE0D-783860603A3B">特殊访问权限</a><br>可以使用四种权限中的任何一种修改用户的授权。
                     </li>
                     <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-E02832AB-1ACB-4CA8-8646-9464BB6B15CD">特殊行标签权限</a><br>设置行上的标签后，需要Oracle Label Security权限才能修改标签。
                     </li>
                     <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-834E1DB5-3149-4ECA-B89B-D5AEFB8802A1">系统权限，对象权限和策略权限</a><br>Oracle Label Security特权与标准Oracle数据库系统和对象特权不同。
                     </li>
                     <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-562022CB-0C34-493D-A8EC-88F941A92742">访问中介和视图</a><br>在通过视图访问数据之前，用户必须在视图上具有适当的系统和对象权限。
                     </li>
                     <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-743D78DD-33C3-4B59-A6A9-1613C8377139">访问调解和程序单元执行</a><br>Oracle Database和Oracle Label Security中以不同方式执行不同用户拥有的过程的特权。
                     </li>
                     <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-701D7099-B4D1-4113-AA80-515F3016EFF2">访问调解和策略实施选项</a><br>在将Oracle Label Security策略应用于各个表时，管理员可以从一组策略实施选项中进行选择。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-A222EB99-83C4-4BCC-84F6-D20087101E9D" title="Oracle提供了访问控制和权限，用于确定用户对标记行的访问类型。">访问控制和权限</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG4139"></a><a id="OLSAG03003"></a><div class="props_rev_3"><a id="GUID-AE89D6A3-E7A0-4229-B81E-635E774DCD22" name="GUID-AE89D6A3-E7A0-4229-B81E-635E774DCD22"></a><h4 id="OLSAG-GUID-AE89D6A3-E7A0-4229-B81E-635E774DCD22" class="sect4">权限由Oracle Label Security策略定义</h4>
                  <div>
                     <p>Oracle Label Security支持特权，允许授权用户绕过策略的某些部分。</p>
                     <p><a href="access-controls-and-privileges.html#GUID-AE89D6A3-E7A0-4229-B81E-635E774DCD22__CACCHJFF" title="此表列出并说明了Oracle Label Security特权：安全权限和说明">表3-3</a>总结了可以授予用户或受信任的存储程序单元的完整权限集。在表格之后更充分地讨论了每个特权。
                     </p>
                     <div class="tblformal" id="GUID-AE89D6A3-E7A0-4229-B81E-635E774DCD22__CACCHJFF">
                        <p class="titleintable">表3-3 Oracle Label Security权限</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle Label Security权限" width="100%" border="1" summary="This table lists and explains Oracle Label Security privileges: Security Privilege and Explanation" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="40%" id="d11085e2516">安全权限</th>
                                 <th align="left" valign="bottom" width="60%" id="d11085e2519">说明</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d11085e2524" headers="d11085e2516 ">
                                    <p><code class="codeph">读</code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d11085e2524 d11085e2519 ">
                                    <p>允许对策略保护的所有数据进行读访问</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d11085e2532" headers="d11085e2516 ">
                                    <p><code class="codeph">充分</code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d11085e2532 d11085e2519 ">
                                    <p>允许对策略保护的所有数据进行完全读写访问</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d11085e2540" headers="d11085e2516 ">
                                    <p><code class="codeph">COMPACCESS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d11085e2540 d11085e2519 ">
                                    <p>允许会话访问行的隔离专区授权的数据，与行的组无关</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d11085e2548" headers="d11085e2516 ">
                                    <p><code class="codeph">PROFILE_ACCESS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d11085e2548 d11085e2519 ">
                                    <p>允许会话将其标签和权限更改为其他用户的标签和权限</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d11085e2556" headers="d11085e2516 ">
                                    <p><code class="codeph">写上去</code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d11085e2556 d11085e2519 ">
                                    <p>允许用户仅在行标签内设置或提升级别，直至达到用户授权的最高级别。（仅当<code class="codeph">LABEL_UPDATE</code>处于活动状态时才有效。）
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d11085e2567" headers="d11085e2516 ">
                                    <p><code class="codeph">减记</code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d11085e2567 d11085e2519 ">
                                    <p>允许用户将行标签中的级别设置或降低到等于或大于为用户授权的最低级别的任何级别。（仅当<code class="codeph">LABEL_UPDATE</code>处于活动状态时才有效。）
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d11085e2578" headers="d11085e2516 ">
                                    <p><code class="codeph">WRITEACROSS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d11085e2578 d11085e2519 ">
                                    <p>允许用户设置或更改行标签的组和隔离专区，但不允许更改级别。（仅当<code class="codeph">LABEL_UPDATE</code>处于活动状态时才有效。）
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-4586E82D-66BC-4E4D-B877-F91EBB38F05C" title="Oracle Label Security提供了一组数据库和行标签权限。">Oracle Label Security权限</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG03001"></a><div class="props_rev_3"><a id="GUID-0155A396-4489-4A5D-AE0D-783860603A3B" name="GUID-0155A396-4489-4A5D-AE0D-783860603A3B"></a><h4 id="OLSAG-GUID-0155A396-4489-4A5D-AE0D-783860603A3B" class="sect4">特殊访问权限</h4>
                  <div>
                     <p>可以使用四种权限中的任何一种修改用户的授权。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-86C463E3-E68D-44BD-BBF3-5E993A4F481D">READ权限</a><br>具有<code class="codeph">READ</code>权限的用户可以读取受策略保护的所有数据，无论授权或会话标签如何。
                        </li>
                        <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-B21F520A-15D3-47BE-9B9C-3AD26AF27D77">完全特权</a><br><code class="codeph">FULL</code>权限与<code class="codeph">READ</code>权限具有相同的效果和优点，但有一点不同。
                        </li>
                        <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-CC8A7F65-C867-4670-A2F5-A5A61BB99509">COMPACCESS权限</a><br><code class="codeph">COMPACCESS</code>权限允许用户基于行标签的隔离专区访问数据，而与行标签的组无关。
                        </li>
                        <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-BC11CFC6-0817-4914-B432-FC7CCE7D3E92">PROFILE_ACCESS权限</a><br><code class="codeph">PROFILE_ACCESS</code>权限允许会话将其会话标签和会话权限更改为其他用户的权限。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-4586E82D-66BC-4E4D-B877-F91EBB38F05C" title="Oracle Label Security提供了一组数据库和行标签权限。">Oracle Label Security权限</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="OLSAG3078"></a><div class="props_rev_3"><a id="GUID-86C463E3-E68D-44BD-BBF3-5E993A4F481D" name="GUID-86C463E3-E68D-44BD-BBF3-5E993A4F481D"></a><h5 id="OLSAG-GUID-86C463E3-E68D-44BD-BBF3-5E993A4F481D" class="sect5">READ权限</h5>
                     <div>
                        <p>具有<code class="codeph">READ</code>权限的用户可以读取受策略保护的所有数据，无论授权或会话标签如何。
                        </p>
                        <p>用户甚至不需要具有标签授权。</p>
                        <p>注意，此外，与用户<code class="codeph">READ</code>权限的用户可以<span class="italic">写入</span>任何数据行他或她有写权限，基于任何标签授权。
                        </p>
                        <div class="infoboxnote" id="GUID-86C463E3-E68D-44BD-BBF3-5E993A4F481D__GUID-04EDCF33-5E98-4088-ACC5-F23C48C863B3">
                           <p class="notep1">注意：</p>
                           <p>仍然在<code class="codeph">UPDATE</code> ， <code class="codeph">INSERT</code>和<code class="codeph">DELETE</code>操作上强制执行Access中介。
                           </p>
                        </div>
                        <p>此权限对于需要导出数据但不允许更改数据的系统管理员非常有用。它对于必须运行报告和编译信息但不更改数据的人员也很有用。<code class="codeph">READ</code>权限可以在<code class="codeph">SELECT</code>语句上实现最佳性能，因为系统的行为就像Oracle Label Security策略甚至不存在一样。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-0155A396-4489-4A5D-AE0D-783860603A3B" title="可以使用四种权限中的任何一种修改用户的授权。">特殊访问权限</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3079"></a><div class="props_rev_3"><a id="GUID-B21F520A-15D3-47BE-9B9C-3AD26AF27D77" name="GUID-B21F520A-15D3-47BE-9B9C-3AD26AF27D77"></a><h5 id="OLSAG-GUID-B21F520A-15D3-47BE-9B9C-3AD26AF27D77" class="sect5">完全特权</h5>
                     <div>
                        <p><code class="codeph">FULL</code>权限与<code class="codeph">READ</code>权限具有相同的效果和优点，但有一点不同。
                        </p>
                        <p>具有<code class="codeph">FULL</code>权限的用户也可以<span class="italic">写入</span>所有数据。对于具有<code class="codeph">FULL</code>权限的用户，不会强制执行<code class="codeph">READ</code>和<code class="codeph">WRITE</code>算法。
                        </p>
                        <p>对于已被授予<code class="codeph">FULL</code>权限的用户，仍会强制执行Oracle系统和对象授权。例如，用户必须仍具有应用程序表的<code class="codeph">SELECT</code>系统特权。<code class="codeph">FULL</code>授权将关闭单个行级别的访问中介检查。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-0155A396-4489-4A5D-AE0D-783860603A3B" title="可以使用四种权限中的任何一种修改用户的授权。">特殊访问权限</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3081"></a><a id="OLSAG3082"></a><a id="OLSAG3080"></a><div class="props_rev_3"><a id="GUID-CC8A7F65-C867-4670-A2F5-A5A61BB99509" name="GUID-CC8A7F65-C867-4670-A2F5-A5A61BB99509"></a><h5 id="OLSAG-GUID-CC8A7F65-C867-4670-A2F5-A5A61BB99509" class="sect5">COMPACCESS权限</h5>
                     <div>
                        <p><code class="codeph">COMPACCESS</code>权限允许用户基于行标签的隔离专区访问数据，而与行标签的组无关。
                        </p>
                        <p>如果行标签没有隔离专区，则访问权限由组授权决定。但是，当隔离专区存在并且授权访问它们时，则会绕过组授权。这允许其标签与数据的所有分区匹配的特权用户访问任何特定分区中的任何数据，而与哪些组可能拥有或以其他方式允许访问数据无关。</p>
                        <p><a href="access-controls-and-privileges.html#GUID-CC8A7F65-C867-4670-A2F5-A5A61BB99509__I1007959">图3-8</a>显示了使用<code class="codeph">COMPACCESS</code>权限进行读访问的标签评估过程。请注意，如果数据标签为null或无效，则拒绝用户访问。
                        </p>
                        <div class="figure" id="GUID-CC8A7F65-C867-4670-A2F5-A5A61BB99509__I1007959">
                           <p class="titleinfigure">图3-8具有COMPACCESS权限的读取访问的标签评估过程</p><img src="img/olsag029.gif" alt="下面是图3-8的描述" title="下面是图3-8的描述" longdesc="img_text/olsag029.html"><br><a href="img_text/olsag029.html">“图3-8具有COMPACCESS权限的读取访问的标签评估过程”的说明</a></div>
                        <!-- class="figure" -->
                        <p><a href="access-controls-and-privileges.html#GUID-CC8A7F65-C867-4670-A2F5-A5A61BB99509__I1007970">图3-9</a>显示了具有<code class="codeph">COMPACCESS</code>权限的写访问的标签评估过程。请注意，如果数据标签为null或无效，则拒绝用户访问。
                        </p>
                        <div class="figure" id="GUID-CC8A7F65-C867-4670-A2F5-A5A61BB99509__I1007970">
                           <p class="titleinfigure">图3-9具有COMPACCESS权限的写访问的标签评估过程</p><img src="img/olsag027.gif" width="600" alt="下面是图3-9的描述" title="下面是图3-9的描述" longdesc="img_text/olsag027.html"><br><a href="img_text/olsag027.html">“图3-9具有COMPACCESS权限的写访问的标签评估过程”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-0155A396-4489-4A5D-AE0D-783860603A3B" title="可以使用四种权限中的任何一种修改用户的授权。">特殊访问权限</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3083"></a><div class="props_rev_3"><a id="GUID-BC11CFC6-0817-4914-B432-FC7CCE7D3E92" name="GUID-BC11CFC6-0817-4914-B432-FC7CCE7D3E92"></a><h5 id="OLSAG-GUID-BC11CFC6-0817-4914-B432-FC7CCE7D3E92" class="sect5">PROFILE_ACCESS权限</h5>
                     <div>
                        <p><code class="codeph">PROFILE_ACCESS</code>权限允许会话将其会话标签和会话权限更改为其他用户的权限。
                        </p>
                        <p>这是一个非常强大的权限，因为用户可能成为具有<code class="codeph">FULL</code>权限的用户。此权限不能授予受信任的存储程序单元。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-0155A396-4489-4A5D-AE0D-783860603A3B" title="可以使用四种权限中的任何一种修改用户的授权。">特殊访问权限</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="OLSAG03002"></a><div class="props_rev_3"><a id="GUID-E02832AB-1ACB-4CA8-8646-9464BB6B15CD" name="GUID-E02832AB-1ACB-4CA8-8646-9464BB6B15CD"></a><h4 id="OLSAG-GUID-E02832AB-1ACB-4CA8-8646-9464BB6B15CD" class="sect4">特殊行标签权限</h4>
                  <div>
                     <p>设置行上的标签后，需要Oracle Label Security权限才能修改标签。</p>
                     <p>请注意，必须<code class="codeph">LABEL_UPDATE</code>强制选项才能强制执行这些标签修改权限。当用户更新行标签时，将比较新标签和旧标签，并确定所需的权限。
                     </p>
                     <p>特殊行标签权限包括：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-7F50790D-53E5-41C9-A6DA-5F4088E691D5">WRITEUP权限</a><br><code class="codeph">WRITEUP</code>权限使用户能够提高行内的数据级别，而不会影响隔离专区或组。
                        </li>
                        <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-08294C9E-41EA-48C3-9374-5FDF648183BC">WRITEDOWN特权</a><br><code class="codeph">WRITEDOWN</code>权限使用户能够降低行内的数据级别，而不会影响隔离专区或组。
                        </li>
                        <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-E3DCFB3E-300A-4912-B48A-C1241F299422">WRITEACROSS特权</a><br><code class="codeph">WRITEACROSS</code>权限允许用户更改隔离专区和数据组，而不会更改其敏感度级别。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-4586E82D-66BC-4E4D-B877-F91EBB38F05C" title="Oracle Label Security提供了一组数据库和行标签权限。">Oracle Label Security权限</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="OLSAG3084"></a><div class="props_rev_3"><a id="GUID-7F50790D-53E5-41C9-A6DA-5F4088E691D5" name="GUID-7F50790D-53E5-41C9-A6DA-5F4088E691D5"></a><h5 id="OLSAG-GUID-7F50790D-53E5-41C9-A6DA-5F4088E691D5" class="sect5">WRITEUP权限</h5>
                     <div>
                        <p><code class="codeph">WRITEUP</code>权限使用户能够提高行内的数据级别，而不会影响隔离专区或组。
                        </p>
                        <p>此权限使用户能够将级别提升到他或她的最大授权级别。您可以通过查询<span class="apiname" translate="no">ALL_SA_USER_PRIVS</span>数据字典视图来查找用户拥有的权限。
                        </p>
                        <p>例如，授权用户可以提高级别低于其自己的最低级别的数据行的级别。如果行是<code class="codeph">UNCLASSIFIED</code>且用户的最大级别是<code class="codeph">SENSITIVE</code> ，那么行的级别可以提升为<code class="codeph">SENSITIVE</code> 。它可以提升到当前会话级别以上，但不能更改隔离专区。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-E02832AB-1ACB-4CA8-8646-9464BB6B15CD" title="设置行上的标签后，需要Oracle Label Security权限才能修改标签。">特殊行标签权限</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3085"></a><div class="props_rev_3"><a id="GUID-08294C9E-41EA-48C3-9374-5FDF648183BC" name="GUID-08294C9E-41EA-48C3-9374-5FDF648183BC"></a><h5 id="OLSAG-GUID-08294C9E-41EA-48C3-9374-5FDF648183BC" class="sect5">WRITEDOWN特权</h5>
                     <div>
                        <p><code class="codeph">WRITEDOWN</code>权限使用户能够降低行内的数据级别，而不会影响隔离专区或组。
                        </p>
                        <p>用户可以将级别降低到等于或大于他或她的最小授权级别的任何级别。您可以通过查询<span class="apiname" translate="no">ALL_SA_USER_PRIVS</span>数据字典视图找到已授予用户的权限。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-E02832AB-1ACB-4CA8-8646-9464BB6B15CD" title="设置行上的标签后，需要Oracle Label Security权限才能修改标签。">特殊行标签权限</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3086"></a><div class="props_rev_3"><a id="GUID-E3DCFB3E-300A-4912-B48A-C1241F299422" name="GUID-E3DCFB3E-300A-4912-B48A-C1241F299422"></a><h5 id="OLSAG-GUID-E3DCFB3E-300A-4912-B48A-C1241F299422" class="sect5">WRITEACROSS特权</h5>
                     <div>
                        <p><code class="codeph">WRITEACROSS</code>权限允许用户更改隔离专区和数据组，而不会更改其敏感度级别。
                        </p>
                        <p>例如，这可以保证<code class="codeph">SENSITIVE</code>数据保持<code class="codeph">SENSITIVE</code>水平，但同时可以管理数据的传播。
                        </p>
                        <p>它允许用户将隔离专区和组更改为当前在策略中定义为有效隔离专区或组的任何内容，同时保持该级别。使用<code class="codeph">WRITEACROSS</code>权限，对一个组（或多个组）具有读访问权限的用户可以写入其他组，而无需明确授予其访问权限。
                        </p>
                        <p>您可以通过查询<span class="apiname" translate="no">ALL_SA_USER_PRIVS</span>数据字典视图找到已授予用户的权限。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-E02832AB-1ACB-4CA8-8646-9464BB6B15CD" title="设置行上的标签后，需要Oracle Label Security权限才能修改标签。">特殊行标签权限</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="OLSAG3088"></a><a id="OLSAG3087"></a><div class="props_rev_3"><a id="GUID-834E1DB5-3149-4ECA-B89B-D5AEFB8802A1" name="GUID-834E1DB5-3149-4ECA-B89B-D5AEFB8802A1"></a><h4 id="OLSAG-GUID-834E1DB5-3149-4ECA-B89B-D5AEFB8802A1" class="sect4">系统权限，对象权限和策略权限</h4>
                  <div>
                     <p>Oracle Label Security特权与标准Oracle数据库系统和对象特权不同。</p>
                     <div class="tblformal" id="GUID-834E1DB5-3149-4ECA-B89B-D5AEFB8802A1__GUID-459B6A0A-06F6-47EA-B4C5-45EB6625916E">
                        <p class="titleintable">表3-4权限类型</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="特权类型" width="100%" border="1" summary="This table lists and defines types of privilege. Columns are from left to right Source, Privileges, Definition." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="21%" id="d11085e3572">资源</th>
                                 <th align="left" valign="bottom" width="34%" id="d11085e3575">特权</th>
                                 <th align="left" valign="bottom" width="45%" id="d11085e3578">定义</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d11085e3583" headers="d11085e3572 ">
                                    <p>Oracle数据库</p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d11085e3583 d11085e3575 ">
                                    <p>系统权限</p>
                                 </td>
                                 <td align="left" valign="top" width="45%" headers="d11085e3583 d11085e3578 ">
                                    <p>运行特定类型的SQL语句的权限</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d11085e3593" headers="d11085e3572 ">
                                    <p>Oracle数据库</p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d11085e3593 d11085e3575 ">
                                    <p>对象权限</p>
                                 </td>
                                 <td align="left" valign="top" width="45%" headers="d11085e3593 d11085e3578 ">
                                    <p>访问其他用户对象的权限</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d11085e3603" headers="d11085e3572 ">
                                    <p>Oracle Label Security</p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d11085e3603 d11085e3575 ">
                                    <p>政策特权</p>
                                 </td>
                                 <td align="left" valign="top" width="45%" headers="d11085e3603 d11085e3578 ">
                                    <p>能够绕过标签安全策略的某些部分</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>Oracle数据库强制执行已授予用户的自主访问控制权限。默认情况下，除了授予<code class="codeph">PUBLIC</code>用户组的权限之外，用户没有任何权限。必须明确授予用户执行操作的适当权限。
                     </p>
                     <p>例如，要读取Oracle数据库中的对象，您必须是对象的所有者，或者被授予对象的<code class="codeph">SELECT</code>权限，或者被授予<code class="codeph">SELECT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>系统特权。同样，要更新对象，您必须是对象的所有者，或者被授予对象的<code class="codeph">UPDATE</code>特权，或者被授予<code class="codeph">UPDATE</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>特权。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG-GUID-89CE989D-C97F-4CFD-941F-18203090A1AC" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-4586E82D-66BC-4E4D-B877-F91EBB38F05C" title="Oracle Label Security提供了一组数据库和行标签权限。">Oracle Label Security权限</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="OLSAG3089"></a><div class="props_rev_3"><a id="GUID-562022CB-0C34-493D-A8EC-88F941A92742" name="GUID-562022CB-0C34-493D-A8EC-88F941A92742"></a><h4 id="OLSAG-GUID-562022CB-0C34-493D-A8EC-88F941A92742" class="sect4">访问中介和视图</h4>
                  <div>
                     <p>在通过视图访问数据之前，用户必须在视图上具有适当的系统和对象权限。</p>
                     <div class="section">
                        <p>如果基础表（视图所基于的表）受Oracle Label Security保护，则视图的用户必须具有Oracle Label Security的授权才能访问特定的标记数据行。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-4586E82D-66BC-4E4D-B877-F91EBB38F05C" title="Oracle Label Security提供了一组数据库和行标签权限。">Oracle Label Security权限</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3091"></a><a id="OLSAG3090"></a><div class="props_rev_3"><a id="GUID-743D78DD-33C3-4B59-A6A9-1613C8377139" name="GUID-743D78DD-33C3-4B59-A6A9-1613C8377139"></a><h4 id="OLSAG-GUID-743D78DD-33C3-4B59-A6A9-1613C8377139" class="sect4">访问调解和程序单元执行</h4>
                  <div>
                     <p>Oracle Database和Oracle Label Security中以不同方式执行不同用户拥有的过程的特权。</p>
                     <p>例如，在Oracle数据库中，如果<code class="codeph">user1</code>执行属于<code class="codeph">user2</code>的过程，则该过程将使用<code class="codeph">user2</code>的系统和对象权限运行。您可以通过查询<span class="apiname" translate="no">DBA_SYS_PRIVS</span>数据字典视图来查找已授予用户的权限。但是， <code class="codeph">user1</code>执行的任何过程都使用<code class="codeph">user1</code>自己的Oracle Label Security标签和权限运行。即使<code class="codeph">user1</code>执行其他用户拥有的存储程序单元也是如此。
                     </p>
                     <p><a href="access-controls-and-privileges.html#GUID-743D78DD-33C3-4B59-A6A9-1613C8377139__I1008115">图3-10</a>说明了这个过程：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>存储的程序单元使用过程所有者（ <code class="codeph">user2</code> ）的DAC权限运行。
                           </p>
                        </li>
                        <li>
                           <p>此外，访问受Oracle Label Security保护的表的存储程序单元根据附加到行的标签以及过程调用者（ <code class="codeph">user1</code> ）的Oracle Label Security标签和特权调解对数据行的访问。
                           </p>
                        </li>
                     </ul>
                     <div class="figure" id="GUID-743D78DD-33C3-4B59-A6A9-1613C8377139__I1008115">
                        <p class="titleinfigure">图3-10存储的程序单元执行</p><img src="img/olsag017.gif" alt="下面是图3-10的描述" title="下面是图3-10的描述" longdesc="img_text/olsag017.html"><br><a href="img_text/olsag017.html">“图3-10存储程序单元执行”的描述</a></div>
                     <!-- class="figure" -->
                     <p>当管理员为其分配Oracle Label Security权限时，存储的程序单元可以变为<span class="italic">可信任</span> 。存储的程序单元可以使用其自己的Oracle Label Security权限运行，而不是调用它的用户权限。例如，如果您自己没有Oracle Label Security权限，但运行具有<code class="codeph">WRITEDOWN</code>权限的存储程序单元，则可以更新标签。在这种情况下，使用的权限是存储的程序单元的权限，而不是您自己的权限。
                     </p>
                     <p>受信任的程序单元可以以受控方式封装特权操作。通过使用具有指定权限的过程，包和函数，您可以访问自己的标签和权限无法授权的数据。例如，要对表中的所有数据执行聚合函数，而不仅仅是对您可见的数据，您可以使用管理员设置的受信任程序。这样，程序单元可以代表用户执行操作，而无需直接向用户授予权限。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="administering-and-using-trusted-stored-program-units.html#GUID-872095A7-7AD3-49F0-82CA-4F420BCED0A3" title="您可以使用受信任的存储程序单元来增强系统安全性。">管理和使用受信任的存储程序单元</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-4586E82D-66BC-4E4D-B877-F91EBB38F05C" title="Oracle Label Security提供了一组数据库和行标签权限。">Oracle Label Security权限</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="OLSAG3092"></a><div class="props_rev_3"><a id="GUID-701D7099-B4D1-4113-AA80-515F3016EFF2" name="GUID-701D7099-B4D1-4113-AA80-515F3016EFF2"></a><h4 id="OLSAG-GUID-701D7099-B4D1-4113-AA80-515F3016EFF2" class="sect4">访问调解和策略实施选项</h4>
                  <div>
                     <p>在将Oracle Label Security策略应用于各个表时，管理员可以从一组策略实施选项中进行选择。</p>
                     <p>这些选项可以针对每个数据库表以不同方式定制实施。除了基于标签的访问控制之外，还可以将SQL谓词与每个表相关联。谓词可以进一步定义表中哪些行可供用户访问。</p>
                     <p>如果要自动计算与新行或更新行关联的标签，管理员可以在应用策略时指定标签功能。之后将始终调用该函数以提供在该策略下编写的数据标签，因为活动标签功能优先于任何提供标签的替代方法。</p>
                     <p>除非另有说明，否则本指南假定所有强制执行选项均有效。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="implementing-policy-enforcement-options-and-labeling-functions.html#GUID-74CD83CB-3398-439D-B791-7C08867EF645" title="您可以自定义Oracle Label Security策略的实施并实现标签功能。">实施政策执行选项和标签功能</a></li>
                           <li><a href="implementing-policy-enforcement-options-and-labeling-functions.html#GUID-EEAEF7F0-9454-4E00-BAB0-D74BB236CD5B" title="标记函数可以使用诸如上下文变量（例如，日期或用户名）和数据值之类的资源来计算和返回标签。">标签功能</a></li>
                           <li><a href="oracle-label-security-pl-sql-packages.html#GUID-D9E721AB-14D0-4086-9C79-6D402349F85A" title="SA_POLICY_ADMIN.APPLY_SCHEMA_POLICY过程将策略应用于架构中的所有表，并为这些表启用策略。">SA_POLICY_ADMIN.APPLY_SCHEMA_POLICY</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-4586E82D-66BC-4E4D-B877-F91EBB38F05C" title="Oracle Label Security提供了一组数据库和行标签权限。">Oracle Label Security权限</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="OLSAG118"></a><div class="props_rev_3"><a id="GUID-A4F88284-54A5-4D67-9818-984B03E6393A" name="GUID-A4F88284-54A5-4D67-9818-984B03E6393A"></a><h3 id="OLSAG-GUID-A4F88284-54A5-4D67-9818-984B03E6393A" class="sect3">使用多个Oracle Label安全策略</h3>
               <div>
                  <p>您可以在单个数据库环境和分布式环境中使用多个Oracle Label Security策略。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-BA9F7089-2622-45BA-AFDC-A0A806541604">单个数据库中的多个Oracle Label安全策略</a><br>多个Oracle Label Security策略可以保护单个数据库中的数据。
                     </li>
                     <li class="ulchildlink"><a href="access-controls-and-privileges.html#GUID-08BD0A9D-4F92-4BC9-BCC5-934BD6BFDDA1">分布式环境中的多个Oracle Label安全策略</a><br>在使用Oracle Label Security的分布式环境中，远程连接由Oracle Label Security控制。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-A222EB99-83C4-4BCC-84F6-D20087101E9D" title="Oracle提供了访问控制和权限，用于确定用户对标记行的访问类型。">访问控制和权限</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG3093"></a><div class="props_rev_3"><a id="GUID-BA9F7089-2622-45BA-AFDC-A0A806541604" name="GUID-BA9F7089-2622-45BA-AFDC-A0A806541604"></a><h4 id="OLSAG-GUID-BA9F7089-2622-45BA-AFDC-A0A806541604" class="sect4">单个数据库中的多个Oracle Label安全策略</h4>
                  <div>
                     <p>多个Oracle Label Security策略可以保护单个数据库中的数据。</p>
                     <p>每个已定义的策略都与仅由该策略使用的一组标签相关联。数据标签受每个策略的已定义标签集的约束。</p>
                     <p>每个策略可以保护不同的表，但是多个策略也可以应用于单个表。要访问数据，您必须拥有保护该数据的所有策略的标签授权。要访问任何特定行，您必须获得保护包含所需行的表的<span class="italic">所有</span>策略的授权。如果您需要权限，则可能需要具有影响您工作的所有策略的权限。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-A4F88284-54A5-4D67-9818-984B03E6393A" title="您可以在单个数据库环境和分布式环境中使用多个Oracle Label Security策略。">使用多个Oracle Label Security策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3094"></a><div class="props_rev_3"><a id="GUID-08BD0A9D-4F92-4BC9-BCC5-934BD6BFDDA1" name="GUID-08BD0A9D-4F92-4BC9-BCC5-934BD6BFDDA1"></a><h4 id="OLSAG-GUID-08BD0A9D-4F92-4BC9-BCC5-934BD6BFDDA1" class="sect4">分布式环境中的多个Oracle Label安全策略</h4>
                  <div>
                     <p>在使用Oracle Label Security的分布式环境中，远程连接由Oracle Label Security控制。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-21087442-8EFA-4118-A5A5-A108249F7A9A" title="您应该了解在分布式配置中使用Oracle Label Security的特殊注意事项。">将Oracle Label Security与分布式数据库配合使用</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="access-controls-and-privileges.html#GUID-A4F88284-54A5-4D67-9818-984B03E6393A" title="您可以在单个数据库环境和分布式环境中使用多个Oracle Label Security策略。">使用多个Oracle Label Security策略</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00561.error-messages.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle JMS和Oracle AQ XML Servlet错误消息</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Advanced Queuing User&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Advanced Queuing User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96511-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="non-persistent-queues.html" title="Previous" type="text/html"></link>
      <link rel="next" href="glossary.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle® Database Advanced Queuing"></meta>
    <meta name="dcterms.isVersionOf" content="ADQUE"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="non-persistent-queues.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="glossary.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">高级排队用户指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle JMS和Oracle AQ XML Servlet错误消息</li>
            </ol>
            <a id="GUID-23C91B98-3CAD-45B5-B307-641283D54668" name="GUID-23C91B98-3CAD-45B5-B307-641283D54668"></a><a id="ADQUE3620"></a>
            
            <h2 id="ADQUE-GUID-23C91B98-3CAD-45B5-B307-641283D54668" class="sect2"><span class="enumeration_chapter">B</span> Oracle JMS和Oracle AQ XML Servlet错误消息</h2>
         </header>
         <div class="ind">
            <div>
               <p>提供了错误消息列表，以帮助您解决问题。</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="error-messages.html#GUID-65473942-EF92-4393-BAEE-99E96E578261">Oracle JMS错误消息</a></p>
                  </li>
                  <li>
                     <p><a href="error-messages.html#GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607">Oracle AQ XML Servlet错误消息</a></p>
                  </li>
               </ul>
            </div><a id="ADQUE3621"></a><div class="props_rev_3"><a id="GUID-65473942-EF92-4393-BAEE-99E96E578261" name="GUID-65473942-EF92-4393-BAEE-99E96E578261"></a><h3 id="ADQUE-GUID-65473942-EF92-4393-BAEE-99E96E578261" class="sect3"><span class="enumeration_section">B.1</span> Oracle JMS错误消息</h3>
               <div>
                  <div class="section">
                     <dl>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-386E9293-036A-4EAE-9BA3-8722FFC1C9A8"><!-- --></a> JMS-101无效的投放模式（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>不支持传送模式</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有效的传递模式是AQjmsConstants。持久性</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-1B28EDE7-7E5E-4C54-9BB4-3C37C349C71C"><!-- --></a> JMS-102功能不受支持（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>当前版本不支持此功能</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">行动：</span>不言自明</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-BECAB72C-71CF-4742-8B57-B159540FD0B6"><!-- --></a>必须指定JMS-104消息有效负载</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>消息有效内容为空</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>为消息指定非null有效负载</p>
                        </dd>
                        <dt class="dlterm">必须指定<a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-B5967153-24B9-4623-A0A1-BB384E19F852"><!-- --></a> JMS-105代理程序</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> AQjmsAgent对象为null</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定表示远程订户的有效AQjmsAgent</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-E8F0886D-F8C3-4EC9-8AF3-2648000B8152"><!-- --></a> JMS-106 JMSConnection上不能有多个打开的会话</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>连接上已有一个打开的JMS会话。连接上不能有多个打开的会话</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>关闭打开的会话，然后打开一个新会话</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-CADDC0FD-C03D-4ADD-AA0E-16D084537AE8"><!-- --></a> JMS-107不允许操作（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>此对象上不允许指定的操作</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">行动：</span>不言自明</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-E419418E-AAF6-4542-B700-8AE54AE65B1D"><!-- --></a> JMS-108类型（字符串）的消息不允许使用包含类型的有效负载的目标（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>正在使用的消息类型与为目标指定的有效负载类型不匹配</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>使用映射到为包含此目标的队列表指定的有效内容的消息类型</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-3BD8CB59-ADB7-4B88-9A17-24B71D5CB755"><!-- --></a>未找到JMS-109类:(字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>找不到指定的类</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>确保您的<code class="codeph">CLASSPATH</code>包含该类</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-76026DF7-0158-41B2-A7A7-01A9C67CE354"><!-- --></a> JMS-110属性（字符串）不可写</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>尝试更新只读邮件头字段或属性</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">行动：</span>不言自明</p>
                        </dd>
                        <dt class="dlterm">必须指定<a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-8037D1A4-A1C0-4661-A8BA-A80CD7D50AC9"><!-- --></a> JMS-111连接</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>连接对象为null</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空JDBC连接</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-A12B9BED-882B-4265-B95A-B305AB0E02DE"><!-- --></a> JMS-112连接无效</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> JDBC连接无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非null oracle JDBC连接</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-B023D796-D977-4B54-B0D4-50EBA45F88F5"><!-- --></a> JMS-113连接处于停止状态</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>尝试在处于停止状态的连接上接收消息</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>开始连接</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-E87AE9E1-4B78-40A2-A3D9-08B7BA251593"><!-- --></a> JMS-114连接已关闭</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>尝试使用已关闭的Connection</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>创建新连接</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-AD62DF5D-700F-448E-B1C1-DAF00188C30D"><!-- --></a> JMS-115消费者已关闭</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>尝试使用已关闭的消费者的模式</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>创建新的消息使用者</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-AA0F487A-7D4E-41AF-8CBE-9E1751CFEC9C"><!-- --></a>必须指定JMS-116订户名称</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>订户名称为空</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非null订阅名称</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-98289DB0-CBDC-46FC-B158-A0EA93E63E39"><!-- --></a> JMS-117转换失败 - 属性类型无效</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>将属性转换为请求的类型时发生错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>使用与属性数据类型对应的方法来检索它</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-C0621D7C-C27E-41B4-84BC-F34C9E1546C1"><!-- --></a> JMS-119无效的属性值</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的属性值无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>为要设置的属性使用适当类型的值</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-DE889BB2-282C-4674-8F11-1CF436C2AFCC"><!-- --></a> JMS-120出列失败</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>接收消息时发生错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有关更多信息，请参阅JMSException中的消息并链接SQLException</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-2691792F-D75F-4FC2-A4E1-402FAD31E0AC"><!-- --></a>必须指定JMS-121 DestinationProperty</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>创建队列/主题时指定了null AQjmsDestinationProperty</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>为目标指定非null AQjmsDestinationProperty</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-AF9C7087-85D1-4D02-926E-9616CE178F86"><!-- --></a> JMS-122内部错误（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>发生内部错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">行动：</span>致电支持</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-F0A91F79-5F77-4C23-A5BE-936A573F570E"><!-- --></a> JMS-123间隔必须至少为（整数）秒</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了无效间隔</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>间隔必须大于30秒</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-BDE6A228-6A6F-4FA9-A6C7-F5EE83C23054"><!-- --></a> JMS-124无效的出队模式</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了无效的出列模式</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有效的Dequeue模式是AQConstants。DEQUEUE_BROWSE，AQConstants。DEQUEUE_REMOVE，AQConstants。DEQUEUE_LOCKED，AQConstants。DEQUEUE_REMOVE_NODATA</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-5A8B1BB3-9875-499B-9E29-B98AAF64C01E"><!-- --></a> JMS-125指定了无效队列</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了无效的Queue对象</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定有效的队列句柄</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-1615D6C4-E591-4578-9F31-F2A808C63928"><!-- --></a> JMS-126指定的主题无效</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了无效的主题对象</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定有效的主题句柄</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-42CA61BF-8E09-432F-93DC-939C8CA0F276"><!-- --></a> JMS-127无效目的地</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了无效的目标对象</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定有效的目标（队列/主题）对象</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-DB5B1290-F236-48F8-B057-DCE1218004ED"><!-- --></a> JMS-128无效的导航模式</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了无效的导航模式</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有效的导航模式是AQjmsConstants。NAVIGATION_FIRST_MESSAGE，AQjmsConstants。NAVIGATION_NEXT_MESSAGE，AQjmsConstants。NAVIGATION_NEXT_TRANSACTION</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-101CDC12-BC3D-41DE-845E-7F5DAB6652C3"><!-- --></a> JMS-129无效的有效载荷类型</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>正在使用的消息类型与为目标指定的有效负载类型不匹配</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>使用映射到为包含此目标的队列表指定的有效内容的消息类型。对于ADT消息，请使用相应的CustomDatum工厂来创建消息使用者</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-7DA48128-6D0A-4006-9AD6-AED9F398B5FC"><!-- --></a> JMS-130 JMS队列无法启用多用户</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>尝试将AQ多用户队列作为JMS队列</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span> JMS队列不能启用多用户</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-B73DF16C-5E79-448C-9E31-103E4DB9911D"><!-- --></a> JMS-131会话已关闭</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>尝试使用已关闭的会话</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>打开一个新会话</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-71DCE84E-1D95-43C2-8C9C-823BC346463C"><!-- --></a> JMS-132超出最大属性数（整数）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>已超出消息的最大用户定义属性数</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">行动：</span>不言自明</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-F874BF19-CB9D-4154-A4E4-D398FDA821B5"><!-- --></a>必须指定JMS-133消息</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的消息为null</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空消息</p>
                        </dd>
                        <dt class="dlterm">必须指定<a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-C85E5EB6-CD61-465C-BFBF-CB6B282DB627"><!-- --></a> JMS-134名称</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>队列或队列表指定的名称为空</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空名称</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-D1E8323A-A6E5-4309-A570-376876F280EF"><!-- --></a>不支持JMS-135驱动程序（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>不支持指定的驱动程序</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有效的驱动程序是oci8和thin。要使用kprb驱动程序，请使用getDefaultConnection（）获取kprb连接，并使用静态createTopicConnection和createQueueConnection方法</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-35B72E81-E0F8-4B02-BF0D-81EF8E750216"><!-- --></a> JMS-136 Payload工厂只能为具有ADT有效负载的目的地指定</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>为不包含ADT有效负载的目标上的使用者指定了CustomDatumFactory</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>对于包含SYS.AQ $ _JMS_TEXT_MESSAGE，SYS.AQ $ _JMS_BYTES_MESSAGE，SYS.AQ $ _JMS_MAP_MESSAGE，SYS.AQ $ _JMS_OBJECT_MESSAGE，SYS.AQ $ _JMS_STREAM_MESSAGE类型的有效负载的目标，此字段必须设置为null</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-7916A2F9-5962-4843-BFEB-5A32690B5A49"><!-- --></a>必须为具有ADT有效负载的目的地指定JMS-137有效负载工厂</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>未为包含ADT有效负载的目标指定CustomDatumFactory</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>对于包含ADT消息的目标，必须指定映射到目标的SQL ADT类型的java类的CustomDatumFactory</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-5761B820-CC44-44F2-A794-28EAE64788FA"><!-- --></a> JMS-138制片人已关闭</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>尝试使用已关闭的生产者</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>创建新的Message Producer</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-A77505E6-3A1C-4C2F-85CB-198CCDDE0FBD"><!-- --></a> JMS-139必须指定属性名称</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>属性名称为null</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非null属性名称</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-18E5369A-9D70-4E84-8B0E-E11CF90A52EA"><!-- --></a> JMS-140无效的系统属性</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了无效的系统属性名称。
                           </p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定一个有效的JMS系统属性</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-E0CF42E9-71D6-45F5-AC34-45C31E148E8E"><!-- --></a>必须在启用多个使用者的队列表中创建JMS-142 JMS主题</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>尝试在单用户队列表中创建JMS主题</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>只能在启用了多用户的队列表中创建JMS主题</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-95ECFEA0-D71E-4AEE-A4F0-E9F565CA3959"><!-- --></a>必须指定JMS-143队列</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了空队列</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空队列</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-87CB8DB1-7A91-469C-A03D-005CBA3BC574"><!-- --></a>无法在启用多个消费者的队列表中创建JMS-144 JMS队列</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>尝试在多用户队列表中创建JMS队列</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>只能在未启用多用户的队列表中创建JMS队列</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-6FA6178C-E11A-4D6B-8391-A930DE4D86C6"><!-- --></a> JMS-145收件人列表无效</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的收件人列表为空</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定至少包含一个收件人的收件人列表</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-88FD1310-90DA-4DCE-A1DF-AC01CD416123"><!-- --></a> JMS-146注册失败</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>在类型映射中注册类型时发生错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">行动：</span>不言自明</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-05FF62B2-E43E-4734-99F0-6361161A9201"><!-- --></a> JMS-147无效的ReplyTo目标类型</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> ReplyTo目标对象类型无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span> ReplyTo目标必须是AQjmsAgent类型</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-22EC1FC9-32D6-4CAB-A371-F00E6A88E1D6"><!-- --></a> JMS-148超出了属性名称大小</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>属性名称大于最大大小</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定小于100个字符的属性名称</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-0F99C9B8-8267-4C40-AD14-BBBD586C0E7E"><!-- --></a>必须指定JMS-149订户</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的订阅者为空</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非null订户</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-BA239BD1-695B-4461-A4E7-A0AE4DBC2D1C"><!-- --></a> JMS-150属性不受支持</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>尝试使用不受支持的属性</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">行动：</span>不言自明</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-2F32FB94-B20E-4A3E-BF60-A158841C8EDE"><!-- --></a> JMS-151主题不能是EXCEPTION类型</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>主题不能是AQjmsConstants类型。例外</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定主题类型为AQjmsConstants。正常</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-E08DD575-7C5E-45BA-AE83-6A0895211FC3"><!-- --></a> JMS-153无效的系统属性类型</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定值的类型与为要设置的系统属性定义的类型不匹配</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>使用正确的类型设置系统属性</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-769BC463-5B17-4FC6-8655-342CA56F5DBD"><!-- --></a> JMS-154序列偏差的值无效</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>序列偏差无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有效值为AQEnqueueOption。DEVIATION_BEFORE，AQEnqueueOption。DEVIATION_TOP</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-0C2F6FC9-6BF1-43F3-9870-2977F927A5B0"><!-- --></a> JMS-155 AQ例外（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> AQ java层发生错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有关详细信息，请参阅JMSException内的消息和链接的异常</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-484E52AC-1598-4C98-9298-0530D69626F9"><!-- --></a> JMS-156无效类（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的类无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>确保您的<code class="codeph">CLASSPATH</code>具有指定的类</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-F41770F2-6D9F-4CC9-8373-07A2C62A1D50"><!-- --></a> JMS-157 IO异常（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> IO异常</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有关详细信息，请参阅消息是JMSException</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-20A0BD75-E0DF-4979-8A55-F3E17A2D5690"><!-- --></a> JMS-158 SQL异常（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> SQL异常</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有关详细信息，请参阅链接的SQLException内的消息</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-4207A5A7-9721-4DA4-972B-F491D6056989"><!-- --></a> JMS-159无效选择器（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的选择器无效或太长</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>检查选择器的语法</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-B986FF30-FA8A-4DF5-8B4E-156CDDC82814"><!-- --></a> JMS-160 EOF例外（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>读取字节流时发生EOF异常</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">行动：</span>不言自明</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-10A3CF12-40DA-4089-92FA-6D5F4E8D3383"><!-- --></a> JMS-161 MessageFormat异常:(字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>将流数据转换为指定类型时发生错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>检查流上预期的数据类型并使用适当的读取方法</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-E54C7AF8-CF40-49E7-AD00-BAAE3A76CBE1"><!-- --></a> JMS-162消息不可读</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>消息处于只写模式</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>调用reset方法使消息可读</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-71485787-380A-45F7-BB5F-14AA177CF361"><!-- --></a> JMS-163消息不可写</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>消息处于只读模式</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>使用clearBody方法使消息可写</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-6FF838A6-5E19-40CF-883B-BCE0DCF530A1"><!-- --></a> JMS-164没有这样的元素</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>在地图消息中找不到具有指定名称的元素</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">行动：</span>不言自明</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-80BA24EB-0C0A-4B1E-AC14-6D6A3C53F6CD"><!-- --></a> JMS-165超出了最大属性值</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>属性值超出了允许的最大长度</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span> JMS定义属性的值最大长度为100，用户定义属性的值最大长度为2000</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-3C2E31BB-C2E4-41F2-9A1C-CE165351DB0C"><!-- --></a>必须指定JMS-166主题</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的主题为null</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空主题</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-84ADD8E5-4F61-4113-B170-B3756DEA4CAD"><!-- --></a>必须指定JMS-167 Payload工厂或Sql_data_class</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>没有为包含对象有效负载的队列指定Payload工厂或Sql_data_class</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定CustomDatumFactory或映射到为队列定义的ADT类型的java对象的SQLData类。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-ECD9AA03-0E0F-43F8-8A0D-419FD770E83A"><!-- --></a> JMS-168无法同时指定有效负载工厂和sql_data_class</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>在dequeue期间指定了CustomDatumFactory和SQLData类</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定映射到为队列定义的ADT类型的Java对象的CustomDatumFactory或SQLData类。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-878830AC-8936-4809-9E79-81EF8EC15678"><!-- --></a> JMS-169 Sql_data_class不能为空</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的SQLData类为null</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定映射到为队列定义的ADT类型的SQLData类</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-80198CF7-1174-4E59-8A80-973DA4DE48DC"><!-- --></a> JMS-171消息未定义为包含（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>消息中的有效负载类型无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>检查队列是否定义为包含RAW或OBJECT有效负载，并在消息中使用适当的有效负载类型</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-063618C3-1109-4CC9-B9ED-E4D1EF27DB4E"><!-- --></a> JMS-172多个队列表匹配查询（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>多个队列表与查询匹配</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定所有者和队列表名称</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-5D8AB72E-D580-485B-BA73-9F77ED430AA1"><!-- --></a>找不到JMS-173队列表（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>找不到指定的队列表</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定有效的队列表</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-02B0AA4A-6BB7-4814-B8BD-20F3F8E46947"><!-- --></a>必须为具有对象有效负载\ n的队列指定JMS-174类。使用dequeue（deq_option，payload_fact）或者dequeue（deq_option，sql_data_cl）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>此出列方法不能用于从具有OBJECT有效负载的队列中出列</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>使用dequeue（deq_option，payload_fact）或者dequeue（deq_option，sql_data_cl）</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-69CB17E8-50B2-4676-B2C9-AC7AF34FB120"><!-- --></a>必须指定JMS-175 DequeueOption</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的DequeueOption为null</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非null出列选项</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-E1729C5F-9BAA-4EF4-B2EC-2AAF55193B02"><!-- --></a>必须指定JMS-176 EnqueueOption</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的EnqueueOption为null</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非null入队选项</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-EA1F0E80-FD8D-433B-9373-F54237132087"><!-- --></a> JMS-177无效的有效负载类型：对原始有效负载队列使用dequeue（deq_option）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>此方法不能用于从具有RAW有效负载的队列中出列</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>使用dequeue（deq_option）方法</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-91B7E465-6A74-46AA-B7F0-BF11306C9AB0"><!-- --></a> JMS-178无效的队列名称 - （字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的队列名称为null或无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空的队列名称。不得使用模式名称限定队列名称。必须将模式名称指定为owner参数的值</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-B5AB06E4-D1BE-4E1F-9A05-845147F689CC"><!-- --></a> JMS-179无效的队列表名称 - （字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的队列表名称为null或无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空的队列表名称。不能使用模式名称限定队列表名称。必须将模式名称指定为owner参数的值</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-74BB79CD-7842-4FC7-A9CB-D4EEE67AB5D5"><!-- --></a> JMS-180无效的队列类型</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>队列类型无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有效类型是AQConstants。NORMAL或AQConstants。例外</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-5DCED0AD-C609-4FC9-8ABC-34E37A60AA80"><!-- --></a> JMS-181 wait_time的值无效</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>等待类型的值无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">动作：</span>等待时间可以是AQDequeueOption。WAIT_FOREVER，AQDequeueOption。WAIT_NONE或任何大于0的值</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-330E90CD-7943-44FF-9A97-2CB4668F9B85"><!-- --></a> JMS-182多个队列匹配查询</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>多个队列匹配查询</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定队列的所有者和名称</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-8736C38D-D7F8-48D1-A80C-2E5DA792E104"><!-- --></a> JMS-183未注册AQ驱动程序</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>没有AQDriver注册</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>确保已注册AQ java驱动程序。使用Class.forName（“oracle。AQ.AQOracleDriver“）</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-966AA466-A449-47FB-8CC7-EA1F51251E04"><!-- --></a> JMS-184队列对象无效</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>队列对象无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>可能已关闭基础JDBC连接。再次获取队列句柄</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-98B49C9F-D28D-4095-8DFB-16760452CEAE"><!-- --></a>必须指定JMS-185 QueueProperty</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的AQQueueProperty为null</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非null AQQueueProperty</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-7A4BF7F9-F3A4-49DA-9E0F-55074A8E5DBB"><!-- --></a>必须指定JMS-186 QueueTableProperty</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的QueueTableProperty为null</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非null AQQueueTableProperty</p>
                        </dd>
                        <dt class="dlterm">必须指定<a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-DC1FADB1-ACB6-4783-B8BC-667E3499C5B5"><!-- --></a> JMS-187队列表</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的队列表为空</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空队列表</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-181E90F9-2703-4C67-9C9C-1E7DFFF28A83"><!-- --></a> JMS-188 QueueTable对象无效</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>队列表对象无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>可能已关闭基础JDBC连接。再次获取队列表句柄</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-FE3579F1-8D33-4FB6-BD33-B4F6FE6BEEF0"><!-- --></a> JMS-189字节数组太小</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>给定的字节数组太小，无法保存请求的数据</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定一个足够大的字节数组来保存请求的数据或减少请求的长度</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-06FDA005-868C-462D-A740-13AF8F37F3DA"><!-- --></a>未找到JMS-190队列（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>找不到指定的队列</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定有效队列</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-65256790-F8EA-40B7-BEAD-32D939B7F90A"><!-- --></a> JMS-191 sql_data_cl必须是实现SQLData接口的类</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的类不支持java.sql。SQLData接口</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">行动：</span>不言自明</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-43DE7FED-321B-464E-9B43-95F1C3E04E03"><!-- --></a> JMS-192无效可见性值</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的可见性值无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有效值为AAAConstants。VISIBILITY_ONCOMMIT，AQConstants。VISIBILITY_IMMEDIATE</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-7A850863-58B1-486F-AE7D-F2496CB11613"><!-- --></a> JMS-193 JMS队列不能包含RAW类型的有效负载</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>尝试使用RAW有效负载创建JMS队列</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span> JMS队列/主题不能包含RAW有效内容</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-3D4BA71D-F344-46F3-ACF8-C367D7A0F7FC"><!-- --></a> JMS-194会话对象无效</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>会话对象无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>可能已关闭基础JDBC连接。创建一个新会话</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-E3ECDDB5-F332-46D4-834D-D4FD8D0B9B51"><!-- --></a> JMS-195无效的对象类型：对象必须实现CustomDatum或SQLData接口</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的对象类型无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>对象必须实现CustomDatum或SQLData接口</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-81A53B79-D2EB-4C72-94A5-1721454EC70F"><!-- --></a> JMS-196在JMS会话中，同一目标不能有多个打开的QueueBrowser</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>此会话中已存在此队列的打开QueueBrowser</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>特定会话中的同一队列不能有多个队列浏览器。关闭现有的QueueBrowser，然后打开一个新的QueueBrowser</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-FFC553F5-7649-4731-816D-9CB938FD718B"><!-- --></a> JMS-197必须为远程用户指定代理地址</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>远程用户的地址字段为空</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>地址字段必须包含远程主题的完全限定名称</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-3FF9E4BD-B654-4A39-983F-61EC3DF56D99"><!-- --></a> JMS-198无效操作：为会话设置的特权消息侦听器</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>客户端尝试使用消息使用者在设置会话消息侦听器时接收消息。
                           </p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>使用会话的消息侦听器来使用消息。不得使用消费者接收消息的方法。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-FDC070FD-BD58-49DE-B215-018AF599C6A9"><!-- --></a> JMS-199通知注册失败</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>监听器注册失败</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有关详细信息，请参阅链接的Exception中的错误消息</p>
                        </dd>
                        <dt class="dlterm">必须指定<a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-48FCF3BE-3F87-4AF2-AA28-C29E70BD43CA"><!-- --></a> JMS-200目的地</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>目标为空</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空目标</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-6CEFA3B3-F4B4-4D80-B1AA-09A05C41E167"><!-- --></a> JMS-201必须指定recipient_list中的所有收件人</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>收件人列表中的一个或多个元素为空</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>必须指定收件人列表中的所有AQjmsAgents</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-C12FB046-3A7A-426E-B1AE-A0A5AF97A622"><!-- --></a> JMS-202取消注册以异步接收邮件失败</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>删除使用数据库进行异步接收的使用者注册时发生错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>检查链接异常中的错误消息以获取详细信息</p>
                        </dd>
                        <dt class="dlterm">必须指定<a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-1281096F-5636-43F3-A9B9-6C15C14A1134"><!-- --></a> JMS-203有效负载工厂</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了Null Payload Factory</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非null有效负载工厂</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-9CF2E302-85D0-46B0-B71D-4E96D901EA17"><!-- --></a> JMS-204 AQ JNI层发生错误</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> JNI错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>检查链接异常中的错误消息以获取详细信息</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-FBFB6B02-9360-46D2-9F15-BF6766CE0F71"><!-- --></a> JMS-205命名异常</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>命名异常</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>检查链接异常中的错误消息以获取详细信息</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-A9ACCFCD-7207-4955-9350-E313881AF7DB"><!-- --></a> JMS-207 JMS异常（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> JMS图层中发生错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有关更多信息，请参阅链接的JMSException中的消息</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-FC2FDAD4-D541-4BD7-9B22-4836C09B79DF"><!-- --></a> JMS-208 XML SQL异常</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> XML SQL层中发生错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有关更多信息，请参阅链接的AQxmlException中的消息</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-3EFCF9E7-3588-40EA-A392-D973DD4C6CDD"><!-- --></a> JMS-209 XML SAX异常</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> XML SAX层发生错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有关更多信息，请参阅链接的AQxmlException中的消息</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-7E97851C-6686-4BAD-9C1E-AB7E341F5184"><!-- --></a> JMS-210 XML Parse异常</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> XML Parser层发生错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有关更多信息，请参阅链接的AQxmlException中的消息</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-AE5034F4-E521-4961-9904-367280EE8940"><!-- --></a> JMS-220连接不再可用</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>连接到数据库不再可用。
                           </p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>注释：如果无法访问数据库/网络/机器，则可能会发生这种情况。这可能是暂时的失败。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-0D47F54A-59AF-4240-A57D-F17B1004DE01"><!-- --></a> JMS-221连接池中不可用的自由物理数据库连接</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>为了执行指定的操作，OCI连接池中没有可用的物理数据库连接。
                           </p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>尝试稍后执行操作</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-48BC270A-4FDC-4FC3-8591-077298F52610"><!-- --></a> JMS-222：无效的Payload工厂类型</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> Payload工厂应该是CustomDatumFactory或ORADataFactory类型。
                           </p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>使用CustomDatumFactory / ORADataFactory类型之一。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-E536C5E4-DF7A-4FFB-B5C2-61F7422772F2"><!-- --></a> JMS-223：对于具有Sys的目的地，有效负载工厂必须为空。AnyData有效负载 - 改为使用typemap</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>为包含SYS.ANYDATA有效负载的目标上的使用者指定了CustomDatumFactory / ORADataFactory</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>对于包含SYS.AnyData类型的有效负载的目标，此字段必须设置为null。ORADataFactory必须在会话的typemap中注册</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-40B42754-A216-4F87-B050-963F0CFD4665"><!-- --></a> JMS-224：Typemap无效 - 必须填充SQLType / OraDataFactory映射才能从Sys接收消息。AnyData目的地</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>会话的类型映射为null或空。对于tpye Sys的目的地。AnyData，typemap必须包含可能存储在队列/主题中的所有可能类型的OraDataFactory对象</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>使用AQjmsSession.getTypeMap（）方法获取typemap。然后使用put（）方法注册SQLType名称及其对应的OraDataFactory对象</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-245B4916-84D8-46B3-94ED-C5334DEE0EE0"><!-- --></a> JMS-225：无效的JDBC驱动程序 - 必须使用OCI驱动程序进行此操作</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> Sys上的操作。使用此JDBC驱动程序不支持AnyData队列/主题</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>使用JDBC OCI驱动程序从Sys接收消息。AnyData队列/主题</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-822CC09F-BE94-4BCA-9135-BABC82D3F5B9"><!-- --></a> JMS-226：仅限标题消息没有正文</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>仅标题消息没有正文;身体无法清除，更改或查询。
                           </p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>不要访问或修改只读消息的正文。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-284654D9-9E0E-4F94-9B07-08E859E17472"><!-- --></a> JMS-227：非法尝试在非事务处理的JMS会话上提交</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>非法尝试在非事务JMS会话上调用commit方法</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>删除当前JMS会话上的commit方法的调用</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-70CB5B51-239F-4315-8B2E-DCE691BDF778"><!-- --></a> JMS-228：在非事务处理的JMS会话上非法尝试回滚</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>非法尝试在非事务JMS会话上调用回滚方法</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>删除当前JMS会话上的回滚方法的调用</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-AEB141C3-C575-4587-AF90-C64B3E2348E1"><!-- --></a> JMS-229：必须指定（字符串）</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的参数为null</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>为参数指定非空值</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-28272B11-43D5-45D9-AB22-97E4B9B9D5C2"><!-- --></a> JMS-230：使用活动TopicSubscriber对持久订阅进行非法操作</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>尝试在具有活动TopicSubscriber时取消订阅，更改或创建持久订阅。
                           </p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>关闭活动的TopicSubscriber，然后重试。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-0AD5FECD-0E2C-41D7-99F0-54D33D63A064"><!-- --></a> JMS-231：临时目的地的消费者必须属于同一个目的地</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的参数为null</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>为参数指定非空值</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-A3EB9D57-110C-4641-9566-A7518E9E5893"><!-- --></a> JMS-232：为JMS连接指定了无效的用户/密码</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>为连接指定了无效的用户/密码</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定连接的有效用户/密码</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-DAC0A34B-C887-4BA2-9CB2-A9738ABDA842"><!-- --></a> JMS-233：所需的订户信息不可用</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>尝试从订阅者检索订阅者信息，该订阅者是使用getDurableSubscriber方法获得的，并且在内存映射中没有相应的信息。
                           </p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>不要从此类订户检索订户信息</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-761A1D71-F53A-468E-A8C5-B7BCCC9CBA9A"><!-- --></a> JMS-234：当前消息传递域中不允许此操作</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>执行当前消息传递域中不允许的操作</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>不要在当前消息传递域中执行操作</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-0DA45F5F-4EAF-4484-A24A-F79D777A5E5B"><!-- --></a> JMS-235：无法将持久订阅者名称与取消订阅方法中的主题相关联。
                        </dt>
                        <dd>
                           <p><span class="keyword">原因：</span> OJMS无法将提供的持久订户名称与主题链接。这会导致取消订阅方法失败。
                           </p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>使用用户可以提供主题名称的其他取消订阅方法。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-2EE061EC-7BD3-4664-8A2C-2D9F8261BF6E"><!-- --></a> JMS-236：OJMS遇到无效的OCI句柄。
                        </dt>
                        <dd>
                           <p><span class="keyword">原因：</span>使用JDBC OCI驱动程序时，OJMS遇到无效的OCI句柄。
                           </p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>确保在OJMS仍在运行时未关闭基础JDBC连接。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-C6A18C43-DF11-4A9C-A99A-152B59F9B0FF"><!-- --></a> JMS-237：无法启动消息侦听器的线程。
                        </dt>
                        <dd>
                           <p><span class="keyword">原因：</span> OJMS无法为消息侦听器启动新线程。
                           </p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>如果线程是由用户提供的线程代理启动的，请检查线程代理代码。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-2EF9C906-D51E-45C5-8DF5-2A1C8AFF992C"><!-- --></a> JMS-238：非法尝试在事务处理的JMS会话上进行恢复</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>非法尝试在事务处理的JMS会话上调用recover方法</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>在事务处理的JMS会话上使用rollback方法而不是recover方法。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-876E6303-CFE7-484E-B669-F7E345866D8A"><!-- --></a> JMS-239：非法尝试在XASession上调用（字符串）方法。
                        </dt>
                        <dd>
                           <p><span class="keyword">原因：</span>非法尝试在XASession上调用提交或回滚方法</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>使用JTA提交或回滚分布式事务</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-5ECAFDFA-6751-4DAC-A30E-31170895804C"><!-- --></a> JMS-240：在其他操作后非法尝试调用setClientID。
                        </dt>
                        <dd>
                           <p><span class="keyword">原因：</span>在对此Connection执行其他操作后，非法尝试调用Connection.setClientID方法</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>在Connection上的任何其他操作之前设置客户端ID</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-F0D920D1-9998-4960-9B03-F78C45CBD354"><!-- --></a> JMS-241：当有消费者使用临时目的地时，非法尝试删除临时目的地。
                        </dt>
                        <dd>
                           <p><span class="keyword">原因：</span>当现有消费者仍在使用临时目的地时，非法尝试删除临时目的地。
                           </p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>在删除临时目标之前关闭使用者</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-F09BE3F1-9922-49A4-B96B-5F2D1AA0549C"><!-- --></a> JMS-242：非法尝试将具有即时可见性和三阶段排队过程的消息排入队列。
                        </dt>
                        <dd>
                           <p><span class="keyword">原因：</span>非法尝试将具有即时可见性和三阶段排队过程的消息排入队列。
                           </p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>打开系统属性oracle.jms.useTemplobsForEnqueue</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-65473942-EF92-4393-BAEE-99E96E578261__GUID-5AA7D408-1654-4445-A793-F837B47EDB83"><!-- --></a> JMS-243：未找到主题（字符串）}</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>找不到指定的主题</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定有效主题</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3622"></a><div class="props_rev_3"><a id="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607" name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607"></a><h3 id="ADQUE-GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607" class="sect3"><span class="enumeration_section">B.2</span> Oracle AQ XML Servlet错误消息</h3>
               <div>
                  <div class="section">
                     <dl>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-AE498575-71DA-462B-8E29-ED55B6AFAC74"><!-- --></a>必须指定JMS-400目的地名称</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了空目标名称</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空目标名称</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-52EB5A53-8007-4D5A-9DE2-718F02014DA6"><!-- --></a>未找到JMS-402类：{0}</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>找不到指定的类</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>确保您的<code class="codeph">CLASSPATH</code>包含错误消息中指定的类</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-6167EC16-2FE0-45F2-BF03-5C5E9FD9AA87"><!-- --></a> JMS-403 IO异常{0}</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> IO异常</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有关更多信息，请参阅链接的AQxmlException中的消息</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-A459C733-B355-444C-9A57-E84747C9DF50"><!-- --></a> JMS-404 XML解析异常</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> XML Parser层发生错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有关更多信息，请参阅链接的AQxmlException中的消息</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-0E38629C-27FF-4D29-87D1-1FE6031D55C8"><!-- --></a> JMS-405 XML SAX异常</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> XML SAX层发生错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有关更多信息，请参阅链接的AQxmlException中的消息</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-59B6F56D-9531-4006-8E4D-D6318A5CDCC5"><!-- --></a> JMS-406 JMS异常{0}</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> JMS图层中发生错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有关更多信息，请参阅链接的JMSException中的消息</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-542F5A8C-5F1A-40F4-8552-BF5D55BAB4C7"><!-- --></a> JMS-407 {0}上不允许操作</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>此对象上不允许指定的操作</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>检查执行操作的用户是否具有所需的权限</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-0B354EB3-8733-462C-AE30-A954EBC32DDF"><!-- --></a> JMS-408转换失败 - 属性类型无效</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>将属性转换为请求的类型时发生错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>使用与属性数据类型对应的方法来检索它</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-03574F9A-5E75-49C7-ADA3-898A93676998"><!-- --></a> JMS-409没有这样的元素</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>在地图消息中找不到具有指定名称的元素</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定有效的元素名称</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-627B6203-20A6-4B04-82C5-CBF619C53F2E"><!-- --></a> JMS-410 XML SQL异常</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> JDBC SQL层中发生错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有关更多信息，请参阅链接的SQLException中的消息</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-4C84E10C-F4EC-4D6A-8324-1C369E5DE0AD"><!-- --></a> JMS-411 Payload正文不能为空</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了无效的正文字符串或文档</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>为有效内容指定非空的正文字符串或文档</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-A4C76983-0923-4F56-BBC1-D262B7B4FCE4"><!-- --></a> JMS-412字节转换失败</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了无效的用户名/密码</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空用户名和密码</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-7F8B32FF-92F4-4006-AF5F-30C518F0ECB1"><!-- --></a> JMS-413自动提交不允许操作</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>无法为此操作设置自动提交标志</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>不要设置自动提交标志</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-FAFE74E0-2794-488B-95AC-08E05268FA12"><!-- --></a>必须指定JMS-414目标所有者</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了一个null目标所有者</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空目标名称</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-484E0F68-8AAC-4545-B09F-0E97B0C8A63D"><!-- --></a> JMS-415可见性值无效</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的可见性值无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有效值为AQxmlConstants。VISIBILITY_ONCOMMIT，AQxmlConstants。VISIBILITY_IMMEDIATE</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-D2E52913-E2F3-4629-9341-AAB5D025F7C2"><!-- --></a> JMS-416无效的出队模式</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了无效的出列模式</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有效的Dequeue模式是AQxmlConstants。DEQUEUE_BROWSE，AQxmlConstants。DEQUEUE_REMOVE，AQxmlConstants。DEQUEUE_LOCKED，AQxmlConstants。DEQUEUE_REMOVE_NODATA</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-9A2A36BD-3D56-4D61-9DB3-78ED76833722"><!-- --></a> JMS-417导航模式无效</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了无效的导航模式</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">行动：</span>有效的导航模式是：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>AQxmlConstants。NAVIGATION_FIRST_MESSAGE</p>
                              </li>
                              <li>
                                 <p>AQxmlConstants。NAVIGATION_NEXT_MESSAGE</p>
                              </li>
                              <li>
                                 <p>AQxmlConstants。NAVIGATION_NEXT_TRANSACTION</p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-66E85D4C-5A34-4699-941C-46DEA95619C9"><!-- --></a> JMS-418 wait_time的值无效</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>等待类型的值无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">动作：</span>等待时间可以是AQDequeueOption。WAIT_FOREVER，AQDequeueOption。WAIT_NONE，或任何大于0的值</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-12BAA055-5EB0-4AA0-8B23-D045CE3FF7B9"><!-- --></a> JMS-419无效的ConnectionPoolDataSource</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了null或无效的ConnectionPoolDataSource</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>使用正确的URL和用户/密码指定有效的OracleConnectionPoolDataSource对象</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-6D72FA48-61B6-4B70-8121-54166F79B7AD"><!-- --></a> JMS-420 cache_size的值无效</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了无效的cache_size</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>缓存大小必须大于0</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-040667F7-5578-48D6-BD57-F34B27795147"><!-- --></a> JMS-421 cache_scheme的值无效</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了无效的缓存方案</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有效的缓存方案是：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>OracleConnectionCacheImpl。DYNAMIC_SCHEME</p>
                              </li>
                              <li>
                                 <p>OracleConnectionCacheImpl。FIXED_WAIT_SCHEME</p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-1E42C971-8C13-4033-8CC4-771892738C66"><!-- --></a> JMS-422无效标记 -  {0}</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> XML文档中遇到无效标记</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>验证XML文档是否符合AQ架构</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-2063DCC7-7847-4970-B70C-4019A578C1E3"><!-- --></a> JMS-423无效值</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了无效值</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>验证XML文档中指定的值是否符合AQ架构中指定的值</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-474A50D8-2CFA-4B3F-9067-AB8EAF6B5B47"><!-- --></a> JMS-424邮件头无效</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的邮件头为空或无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定有效的邮件头</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-8607D59F-CC13-4CAE-BD9E-A0DDBE47B38E"><!-- --></a> JMS-425必须指定属性名称</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>属性名称为null</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非null属性名称</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-E62440AF-BD77-4319-A77C-6D910BF79D34"><!-- --></a> JMS-426属性不存在</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了无效的属性名称。该物业不存在</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">行动：</span>该财产不存在</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-5E984931-C368-4BA5-B31A-5F9F07267ED1"><!-- --></a> JMS-427必须指定订户名称</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>订户名称为空</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非null订阅名称</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-8EFBEF99-ED62-4331-8C51-AAFDF1CA8C51"><!-- --></a> JMS-428必须指定有效消息</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>消息为空</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空消息</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-37D048F9-C694-4599-8C67-906507DA122D"><!-- --></a>必须指定JMS-429注册选项</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>注册选项为空</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空注册选项</p>
                        </dd>
                        <dt class="dlterm">必须指定<a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-8030785D-263D-4833-A10F-27CC20811615"><!-- --></a> JMS-430数据库链接</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> DB Link为空</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空注册选项</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-7564E94C-2330-4C98-9E7F-74524F752299"><!-- --></a>必须指定JMS-431序列号</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>注册选项为空</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空注册选项</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-97B6A806-D378-4778-8E66-D949470A4320"><!-- --></a>必须指定JMS-432状态</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> Status选项为null</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空注册选项</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-48158563-A2B8-4A97-913B-D7CD876F5B73"><!-- --></a> JMS-433未经过身份验证的用户</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>用户未通过身份验证</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>在连接到Servlet之前，检查用户是否已通过Web服务器进行身份验证</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-63211BDE-A994-4A80-B75C-3BC61B28B8EB"><!-- --></a> JMS-434无效的数据源</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>数据源为空或无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定用于连接到数据库的有效数据源</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-B3368208-C3F9-4CA6-9AA7-FCC767044EA1"><!-- --></a> JMS-435架构位置无效</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>架构位置为空或无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定架构的有效URL</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-C605004F-2F1B-4FA4-B94F-248F71EC3552"><!-- --></a> JMS-436 AQ例外</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> AQ java层发生错误</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>有关详细信息，请参阅AQxmlException中的消息和链接的异常</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-05320996-540F-405E-9B34-FD55023E7049"><!-- --></a> JMS-437无效目的地</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了无效的目标对象</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定有效的目标（队列/主题）对象</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-70B393BD-5A98-45AB-A302-B58486DD66A4"><!-- --></a> JMS-438 AQ代理{0}未映射到有效的数据库用户</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的AQ代理不映射到具有执行请求的操作权限的数据库用户</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>使用dbms_aqadm.enable_db_access将代理映射到具有所需队列权限的数据库用户</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-33F32798-04A4-4896-BD27-7AD1838CEB34"><!-- --></a> JMS-439无效的架构文档</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的架构文档无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定架构文档的有效URL</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-B2171D09-0DB6-4A15-9B13-1F8D71A61C80"><!-- --></a> JMS-440无效操作 - 代理{0}映射到多个数据库用户</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> AQ代理映射到同一会话中的多个数据库用户</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>将AQ代理映射到只有一个数据库用户。检查映射到此代理的数据库用户的<code class="codeph">aq$internet_users</code>视图。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-33D34AE1-825A-489C-997A-8EB27228D85D"><!-- --></a> JMS-441：{0}不能为空</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定的参数为null</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空值</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-FB1FFC21-4115-4DBE-99B7-C25BE9954CC3"><!-- --></a> JMS-442：代理的名称和地址不能为空</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>名称和地址参数都指定为null</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>为名称或地址指定非空值</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-6DB9046B-DA6C-4E27-B701-75C192065687"><!-- --></a> JMS-443：此队列/主题不支持IMMEDIATE可见性模式</dt>
                        <dd>
                           <p><span class="keyword">原因：</span> JMS类型队列/主题不支持IMMEDIATE可见性模式</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>对JMS类型队列/主题使用ON_COMMIT或默认可见性模式</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-420DD471-EF79-405E-A079-76C29175A388"><!-- --></a> JMS-444：尚不支持此功能</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>尚不支持所请求的功能</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>等待支持该功能的未来版本。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-D345FB95-C5D7-43CC-AD37-4AEBA7CAFEF3"><!-- --></a> JMS-445：必须指定目标别名</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了一个null Destination别名</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空目标别名</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-959F6504-5C19-42DC-B093-162385659A6D"><!-- --></a> JMS-446：必须指定代理别名</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>指定了空代理别名</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>指定非空代理别名</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-E53DD026-57E3-40C3-B0E3-EBDD7AC75712"><!-- --></a> JMS-447：访问LDAP服务器时出错</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>访问LDAP服务器时出错</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span>检查LDAP服务器是否已启动，并且提供给servlet的环境参数是否正确</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FF20E356-44BB-4AC2-9DF6-8361C1BA2607__GUID-9DB96F48-D30C-4688-8790-4ADB8C9BB5BD"><!-- --></a> JMS-448：无效的内容类型</dt>
                        <dd>
                           <p><span class="keyword">原因：</span>内容类型无效</p>
                        </dd>
                        <dd class="ddexpand">
                           <p><span class="keyword">操作：</span> Content-Type必须是“text / xml”或“application / x-www-form-urlencoded”，参数名称为“aqxmldoc”</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04036.ogc-wms-support-map-visualzation-component.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The map visualization component supports the rendering of data delivered using the Open GIS Consortium (OGC) Web Map Service (WMS) protocol, specifically the WMS 1.1.1 and 1.3.0 implementation specifications."></meta>
      <meta name="description" content="The map visualization component supports the rendering of data delivered using the Open GIS Consortium (OGC) Web Map Service (WMS) protocol, specifically the WMS 1.1.1 and 1.3.0 implementation specifications."></meta>
      <title>地图可视化组件中的OGC WMS支持</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Map Visualization Developer&#39;s Guide "></meta>
      <meta property="og:description" content="The map visualization component supports the rendering of data delivered using the Open GIS Consortium (OGC) Web Map Service (WMS) protocol, specifically the WMS 1.1.1 and 1.3.0 implementation specifications."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Map Visualization Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-map-visualization-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T11:37:22-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94797-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="creating-registering-custom-spatial-data-provider.html" title="Previous" type="text/html"></link>
      <link rel="next" href="ogc-wmts-support-map-visualzation-component.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Map Visualization Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="JIMPV"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="creating-registering-custom-spatial-data-provider.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="ogc-wmts-support-map-visualzation-component.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">地图可视化开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">地图可视化组件中的OGC WMS支持</li>
            </ol>
            <a id="GUID-9B407D9F-0298-4890-A345-C22A99C50226" name="GUID-9B407D9F-0298-4890-A345-C22A99C50226"></a><a id="JIMPV9400"></a>
            
            <h2 id="JIMPV-GUID-9B407D9F-0298-4890-A345-C22A99C50226" class="sect2">地图可视化组件中的<span class="enumeration_chapter">C</span> OGC WMS支持</h2>
         </header>
         <div class="ind">
            <div>
               <p>地图可视化组件支持使用Open GIS Consortium（OGC）Web地图服务（WMS）协议（特别是WMS 1.1.1和1.3.0实施规范）提供的数据呈现。</p>
               <p><a id="d32233e23" class="indexterm-anchor"></a><a id="d32233e27" class="indexterm-anchor"></a><a id="d32233e31" class="indexterm-anchor"></a><a id="d32233e33" class="indexterm-anchor"></a>地图可视化组件支持OGC文档01-068r3和06-042中定义的GetMap，GetFeatureInfo和GetCapabilities请求。
               </p>
               <p>地图可视化组件当前不支持可选的样式化图层描述符功能，并且地图可视化组件在此版本中不会用作级联地图服务器。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-0CCFEA7C-42F9-46B0-A944-AFF4621ADCC0">为Map Visualization组件设置WMS接口</a><br>地图可视化组件已预先配置为作为WMS服务运行。
                  </li>
                  <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-E6A8C43A-D1C6-49B9-AE81-39DD86589BE5">WMS规范和相应的地图可视化组件概念</a><br>本节描述WMS 1.1.1和1.3.0规范中使用的术语和概念与地图可视化组件之间的关联或解释。
                  </li>
                  <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-5F716935-EF69-41B2-9D7D-CD36651B1ED2">添加WMS地图主题</a><br>您可以将WMS地图主题添加到当前地图请求。 WMS地图主题是GetMap请求的结果，它成为地图可视化组件呈现的图层集（主题）中的图像图层。
                  </li>
               </ul>
            </div>
            <a id="JIMPV9872"></a><div class="props_rev_3"><a id="GUID-0CCFEA7C-42F9-46B0-A944-AFF4621ADCC0" name="GUID-0CCFEA7C-42F9-46B0-A944-AFF4621ADCC0"></a><h3 id="JIMPV-GUID-0CCFEA7C-42F9-46B0-A944-AFF4621ADCC0" class="sect3"><span class="enumeration_section">C.1</span>为Map Visualization组件设置WMS接口</h3>
               <div>
                  <p>地图可视化组件已预先配置为作为WMS服务运行。</p>
                  <p>在内部，地图可视化组件将所有传入的WMS请求转换为对地图可视化组件服务器的正确XML请求。例如，以下HTTP请求将调用地图可视化组件服务器的GetCapabilities服务：</p><pre class="oac_no_warn" dir="ltr">http：// localhost：8888 / mapviewer / wms？REQUEST = GetCapabilities＆SERVICE = WMS＆VERSION = 1.1.1或http：// localhost：8888 / mapviewer / wms？REQUEST = GetCapabilities＆SERVICE = WMS＆VERSION = 1.3.0</pre><p>如此示例所示，地图可视化组件WMS服务的URL通常为<code class="codeph">http://</code> <span class="italic"><code class="codeph">host:port</code></span> <code class="codeph">/mapviewer/wms?</code> ，其中<span class="italic"><code class="codeph">host</code></span>和<span class="italic"><code class="codeph">port</code></span>引用地图可视化组件服务器的主机和HTTP端口。上下文路径<code class="codeph">/mapviewer/wms</code>是指地图可视化组件的WMS界面。
                  </p>
                  <div class="infoboxnote" id="GUID-0CCFEA7C-42F9-46B0-A944-AFF4621ADCC0__GUID-289881F6-98FE-438E-8349-F1E4F4BC128C">
                     <p class="notep1">注意：</p>
                     <p>所有WMS请求必须在一行上，因此请忽略本章中WMS请求示例中可能出现的任何换行符。</p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-FB101DB6-74C6-4CB0-AA61-72BB491F464E">所需文件</a><br></li>
                     <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-4C5E2038-F37C-4A7E-BA04-1A3C72B02537">数据源命名为wms</a><br></li>
                     <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-D08A8C06-CFF8-4F18-BAC7-072422481DAD">SDO到EPSG SRID映射文件</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-9B407D9F-0298-4890-A345-C22A99C50226" title="地图可视化组件支持使用Open GIS Consortium（OGC）Web地图服务（WMS）协议（特别是WMS 1.1.1和1.3.0实施规范）提供的数据呈现。">Map Visualization组件中的OGC WMS支持</a></p>
                     </div>
                  </div>
               </div>
               <a id="JIMPV9873"></a><div class="props_rev_3"><a id="GUID-FB101DB6-74C6-4CB0-AA61-72BB491F464E" name="GUID-FB101DB6-74C6-4CB0-AA61-72BB491F464E"></a><h4 id="JIMPV-GUID-FB101DB6-74C6-4CB0-AA61-72BB491F464E" class="sect4"><span class="enumeration_section">C.1.1</span>所需文件</h4>
                  <div>
                     <p>地图可视化组件WMS支持需要以下文件： <code class="codeph">WMSFilter.jar</code>和<code class="codeph">classgen.jar</code> 。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a id="d32233e189" class="indexterm-anchor"></a> servlet过滤器及其所需的类打包在<code class="codeph">WMSFilter.jar</code> 。它应位于<span class="italic"><code class="codeph">$MAPVIEWER_HOME</code></span> <code class="codeph">/web/WEB-INF/lib</code>目录中。
                           </p>
                        </li>
                        <li>
                           <p><a id="d32233e203" class="indexterm-anchor"></a> servlet过滤器还需要<code class="codeph">classgen.jar</code> ，它是Java Developer Kit（XDK）for Java的一部分。Oracle数据库或完整的Oracle融合中间件安装已经拥有此文件。
                           </p>
                           <p>如果您的系统还没有<code class="codeph">classgen.jar</code>文件，请使用与您的独立WebLogic Server版本一起提供的相同XDK for Java版本的<code class="codeph">classgen.jar</code>文件。将此文件放在<span class="italic"><code class="codeph">$MAPVIEWER_HOME</code></span> <code class="codeph">/web/WEB-INF/lib</code>目录中，或放在WebLogic Server库路径中的目录中。
                           </p>
                           <p><a id="d32233e224" class="indexterm-anchor"></a> <code class="codeph">classgen.jar</code>和<code class="codeph">xmlparserv2.jar</code>文件必须来自同一个XDK版本，因为<code class="codeph">classgen.jar</code>文件依赖于<code class="codeph">xmlparserv2.jar</code>文件。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-0CCFEA7C-42F9-46B0-A944-AFF4621ADCC0" title="地图可视化组件已预先配置为作为WMS服务运行。">为Map Visualization组件设置WMS接口</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV9874"></a><div class="props_rev_3"><a id="GUID-4C5E2038-F37C-4A7E-BA04-1A3C72B02537" name="GUID-4C5E2038-F37C-4A7E-BA04-1A3C72B02537"></a><h4 id="JIMPV-GUID-4C5E2038-F37C-4A7E-BA04-1A3C72B02537" class="sect4"><span class="enumeration_section">C.1.2</span>数据源命名为wms</h4>
                  <div>
                     <p>您必须定义名为<code class="codeph">wms</code>的地图可视化组件数据源，除非每个传入的WMS请求都明确指定<code class="codeph">datasource</code> CGI参数。默认情况下，所有未指定<code class="codeph">datasource</code>参数的请求都将定向到名为<code class="codeph">wms</code>的数据源。例如，默认情况下， <code class="codeph">GetCapabilities</code>请求将列出<code class="codeph">wms</code>数据源中的所有可用主题。（要配置GetCapabilities请求返回的信息，请参阅<a href="introduction-to-map-visualization-component.html#GUID-5DB2D2A6-702E-4E0B-9A4A-4B170588DCF0">自定义WMS GetCapabilities响应</a> 。）
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-0CCFEA7C-42F9-46B0-A944-AFF4621ADCC0" title="地图可视化组件已预先配置为作为WMS服务运行。">为Map Visualization组件设置WMS接口</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV9875"></a><div class="props_rev_3"><a id="GUID-D08A8C06-CFF8-4F18-BAC7-072422481DAD" name="GUID-D08A8C06-CFF8-4F18-BAC7-072422481DAD"></a><h4 id="JIMPV-GUID-D08A8C06-CFF8-4F18-BAC7-072422481DAD" class="sect4"><span class="enumeration_section">C.1.3</span> SDO到EPSG SRID映射文件</h4>
                  <div>
                     <p>默认情况下，在WMS请求（如GetCapabilities）中请求此类信息时，地图可视化组件使用Oracle Spatial and Graph（SDO）本机SRID（空间参考ID）值。但是，EPSG SRID值在WMS应用程序中使用得更为广泛。要使地图可视化组件在处理WMS请求和生成响应时使用EPSG SRID值，请指定映射文件。此映射文件是一个文本文件，它告诉地图可视化组件哪些SDO SRID值映射到哪些EPSG SRID值。（每对匹配的SRID值指的是相同的空间参照系。）</p>
                     <p>映射文件包含行，其中每行以下列格式定义一对等效的SRID值：</p>
                     <p><span class="italic"><code class="codeph">sdo_srid</code></span> <code class="codeph">=</code> <span class="italic"><code class="codeph">epsg_srid</code></span></p>
                     <p>例如，以下行将SDO SRID 8307定义为等同于EPSG SRID 4326，将SDO SRID 81922定义为等同于EPSG SRID 20248：</p><pre class="oac_no_warn" dir="ltr">8307 = 4326 81922 = 20248</pre><p>在创建SDO到EPSG映射文件后，可以将其保存在运行地图可视化组件的服务器上，并使用<code class="codeph">&lt;sdo_epsg_mapfile&gt;</code>元素中的<code class="codeph">&lt;wms_config&gt;</code>元素在地图可视化组件配置文件中指定其位置，如<a href="introduction-to-map-visualization-component.html#GUID-5DB2D2A6-702E-4E0B-9A4A-4B170588DCF0">定制WMS GetCapabilities响应中所述</a> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-0CCFEA7C-42F9-46B0-A944-AFF4621ADCC0" title="地图可视化组件已预先配置为作为WMS服务运行。">为Map Visualization组件设置WMS接口</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="JIMPV9876"></a><div class="props_rev_3"><a id="GUID-E6A8C43A-D1C6-49B9-AE81-39DD86589BE5" name="GUID-E6A8C43A-D1C6-49B9-AE81-39DD86589BE5"></a><h3 id="JIMPV-GUID-E6A8C43A-D1C6-49B9-AE81-39DD86589BE5" class="sect3"><span class="enumeration_section">C.2</span> WMS规范和相应的地图可视化组件概念</h3>
               <div>
                  <p>本节描述WMS 1.1.1和1.3.0规范中使用的术语和概念与地图可视化组件之间的关联或解释。</p>
                  <p>它还包括一些特定于地图可视化组件的参数，但这些参数不在WMS 1.1.1和1.3.0规范中。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a><br></li>
                     <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-01A7D9F4-5E51-4685-ADB1-8F443536F0DD">支持的GetCapabilities请求和响应功能</a><br></li>
                     <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC">支持的GetFeatureInfo请求和响应功能</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-9B407D9F-0298-4890-A345-C22A99C50226" title="地图可视化组件支持使用Open GIS Consortium（OGC）Web地图服务（WMS）协议（特别是WMS 1.1.1和1.3.0实施规范）提供的数据呈现。">Map Visualization组件中的OGC WMS支持</a></p>
                     </div>
                  </div>
               </div>
               <a id="JIMPV9878"></a><a id="JIMPV9877"></a><div class="props_rev_3"><a id="GUID-2FE9062D-C103-4C57-970F-3F5C394101DC" name="GUID-2FE9062D-C103-4C57-970F-3F5C394101DC"></a><h4 id="JIMPV-GUID-2FE9062D-C103-4C57-970F-3F5C394101DC" class="sect4"><span class="enumeration_section">C.2.1</span>支持的GetMap请求参数</h4>
                  <div>
                     <p>本节介绍受支持的GetMap请求参数及其对地图可视化组件的解释。（特定于地图可视化组件且未在WMS 1.1.1和1.3.0规范中提及的参数标记为Map Visualization Component-Only。）支持的参数按字母顺序排列，每个参数都在一个单独的小节中。<a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC__CJADHIDE">示例C-1</a>显示了一些GetMap请求。（每个URL应作为单个字符串输入。）
                     </p>
                     <div class="example" id="GUID-2FE9062D-C103-4C57-970F-3F5C394101DC__CJADHIDE">
                        <p class="titleinexample">示例C-1 GetMap请求</p><pre class="oac_no_warn" dir="ltr">http：// localhost：8888 / mapviewer / wms？REQUEST = GetMap＆VERSION = 1.1.1＆FORMAT = image / gif＆SERVICE = WMS＆BBOX = -121,37，-119,35＆SRS = EPSG：4326＆LAYERS = theme_demo_states，theme_ demo_counties，theme_demo_highways，theme_demo_cities＆WIDTH = 580＆HEIGHT = 500 http：// localhost：8888 / mapviewer / wms？REQUEST = GetMap＆VERSION = 1.3.0＆FORMAT = image / gif＆SERVICE = WMS＆BBOX = -121,37，-119,35＆CRS = EPSG：4326＆LAYERS = theme_demo_states，theme_ demo_counties，theme_demo_highways ，theme_demo_cities＆WIDTH = 580＆HEIGHT = 500 http：// localhost：8888 / mapviewer / wms？request = GetMap＆version = 1.3.0＆crs = none＆bbox = -122,36，-121,37＆width = 600＆height = 400＆format = image / png＆layers = theme_us_ states＆mvthemes = &lt;themes&gt; &lt;theme％20name =“theme_us_counties”/&gt; &lt;theme％20name =“theme_ us_road1”/&gt; &lt;/ themes&gt;＆legend_ request = &lt;legend％20bgstyle =“fill：％23ffffff; stroke：％23ff0000”％20profile = “medium”％20p osition =“SOUTH_EAST”&gt; &lt;column&gt; &lt;entry％20style =“v.rb1”％20tab =“1”/&gt; &lt;/ column&gt; &lt;/ legend&gt;＆</pre><p><a id="d32233e465" class="indexterm-anchor"></a> GetMap请求的默认数据源是<code class="codeph">WMS</code> 。</p>
                        <p>当前版本的地图可视化组件不支持以下可选的GetMap参数：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">TIME</code> （时间维度）</p>
                           </li>
                           <li>
                              <p><code class="codeph">ELEVATION</code> （海拔尺寸）</p>
                           </li>
                           <li>
                              <p><code class="codeph">SLD</code>和<code class="codeph">WFS</code> URL</p>
                           </li>
                        </ul>
                        <p>Map Visualization Component-Only参数必须包含有效的XML片段。因为这些是在HTTP GET请求中提供的，所以必须使用URL编码机制对它们进行适当编码。例如，将每个空格（）替换为<code class="codeph">%20</code> ，将每个井号（＃）替换为<code class="codeph">%23</code> 。以下示例显示了此类编码的用法：</p><pre class="oac_no_warn" dir="ltr">http：// localhost：8888 / mapviewer / wms？request = GetMap＆version = 1.1.1＆srs = none＆bbox = -12 2,36，-121,37＆width = 600＆height = 400＆format = image / png＆layers = theme_us_ states＆mvthemes = &lt;themes&gt; &lt;theme％ 20name =“theme_us_counties”/&gt; &lt;theme％20name =“theme_ us_road1”/&gt; &lt;/ themes&gt;＆legend_ request = &lt;legend％20bgstyle =“fill：％23ffffff; stroke：％23ff0000”％20profile =“medium”％20p osition = “SOUTH_EAST”&gt; &lt;柱&gt; &lt;条目％20style = “v.rb1” ％20tab = “1”/&gt; &lt;/列&gt; &lt;/图例&gt;＆</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-4A993214-72FB-41B8-85DF-9E131344AE58">BASEMAP参数（仅可映射可视化组件）</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-7012CECC-DD52-4A16-BF4E-49C76C644784">BBOX参数</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-F4E4CEB9-5FE3-446D-AE64-008C4D8A4F3B">BGCOLOR参数</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-EA44D55D-9108-41BB-9300-C83D9D4B6219">DATASOURCE参数（仅可映射可视化组件）</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-4FC635F9-2CD0-4DC9-BDB6-0F35C49933DD">DYNAMIC_STYLES参数（仅可映射可视化组件）</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-1B6A3501-3880-4A26-9F5E-29E84A74F9E1">EXCEPTIONS参数</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-53C04B08-6A98-4118-833A-8A7A2400A52F">格式参数</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-0E943BA1-E1E7-45B5-BF07-08EB42265165">高度参数</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-B7438B4D-67A3-41BA-AD6C-FED77EDF6F38">层参数</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-0C2AF22D-BA1C-4441-A5F5-E4851849468C">LEGEND_REQUEST参数（仅可映射可视化组件）</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-8F4EC80A-6F6F-4F99-B44C-3155636CD0FC">MVTHEMES参数（仅可映射可视化组件）</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-492B989B-B4CF-47D6-A7E1-EF32B7B40E62">请求参数</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-2AF26C0F-2F12-4627-8D31-1E831867FCAF">服务参数</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-BC884B52-D296-400E-9D45-43571266BD93">SRS（1.1.1）或CRS（1.3.0）参数</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-C400C91B-8EC6-4006-9541-330AF19DF085">样式参数</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-BD295EB8-9EB4-4CE4-91A1-326465A24554">透明参数</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-88BD5246-2AE8-4C59-8C27-227391BDA0CB">版本参数</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-C7B0206B-0A9E-4613-8299-FB015DFA51BA">宽度参数</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-E6A8C43A-D1C6-49B9-AE81-39DD86589BE5" title="本节描述WMS 1.1.1和1.3.0规范中使用的术语和概念与地图可视化组件之间的关联或解释。">WMS规范和相应的映射可视化组件概念</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="JIMPV9879"></a><div class="props_rev_3"><a id="GUID-4A993214-72FB-41B8-85DF-9E131344AE58" name="GUID-4A993214-72FB-41B8-85DF-9E131344AE58"></a><h5 id="JIMPV-GUID-4A993214-72FB-41B8-85DF-9E131344AE58" class="sect5"><span class="enumeration_section">C.2.1.1</span> BASEMAP参数（仅可映射可视化组件）</h5>
                     <div>
                        <p><code class="codeph">BASEMAP</code>参数指定指定（或默认）数据源的命名基本映射。如果同时指定<code class="codeph">BASEMAP</code>和<code class="codeph">LAYERS</code>参数，则<code class="codeph">LAYERS</code>参数中指定的所有主题都将添加到基本映射中。因此，如果您只想使用命名的基本映射获取映射，请指定<code class="codeph">BASEMAP</code>参数，但指定一个空的<code class="codeph">LAYERS</code>参数，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">REQUEST = GetMap＆VERSION = 1.1.1＆BASEMAP = demo_map＆LAYERS =＆WIDTH = 500＆HEIGHT = 560＆SRS = SDO：8307＆BBOX = -122,36，-120,38.5＆FORMAT = image / png REQUEST = GetMap＆VERSION = 1.3.0＆BASEMAP = demo_map＆LAYERS =＆WIDTH = 500＆HEIGHT = 560＆CRS = SDO：8307＆BBOX = -122,36，-120,38.5＆FORMAT =图像/ PNG</pre><p>基本映射名称也可以是<code class="codeph">LAYERS</code>参数的一部分。在这种情况下，不需要在URL中定义<code class="codeph">BASEMAP</code>参数（有关其他详细信息，请参阅<a href="ogc-wms-support-map-visualzation-component.html#GUID-B7438B4D-67A3-41BA-AD6C-FED77EDF6F38">LAYERS参数</a> ）。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9880"></a><div class="props_rev_3"><a id="GUID-7012CECC-DD52-4A16-BF4E-49C76C644784" name="GUID-7012CECC-DD52-4A16-BF4E-49C76C644784"></a><h5 id="JIMPV-GUID-7012CECC-DD52-4A16-BF4E-49C76C644784" class="sect5"><span class="enumeration_section">C.2.1.2</span> BBOX参数</h5>
                     <div>
                        <p><code class="codeph">BBOX</code>参数指定要显示的数据源的数据的边界框的左下和右上坐标。它的格式为<code class="codeph">BBOX=minX,minY,maxX,maxY</code> 。例如： <code class="codeph">BBOX=-122,36,-120,38.5</code></p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9881"></a><div class="props_rev_3"><a id="GUID-F4E4CEB9-5FE3-446D-AE64-008C4D8A4F3B" name="GUID-F4E4CEB9-5FE3-446D-AE64-008C4D8A4F3B"></a><h5 id="JIMPV-GUID-F4E4CEB9-5FE3-446D-AE64-008C4D8A4F3B" class="sect5"><span class="enumeration_section">C.2.1.3</span> BGCOLOR参数</h5>
                     <div>
                        <p><code class="codeph">BGCOLOR</code>参数使用RBG颜色值指定地图显示的背景颜色。它的格式为<code class="codeph">0xHHHHHH</code> （其中每个<code class="codeph">H</code>是从0到F的十六进制值）。例如： <code class="codeph">BGCOLOR=0xF5F5DC</code> （米色）。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9882"></a><div class="props_rev_3"><a id="GUID-EA44D55D-9108-41BB-9300-C83D9D4B6219" name="GUID-EA44D55D-9108-41BB-9300-C83D9D4B6219"></a><h5 id="JIMPV-GUID-EA44D55D-9108-41BB-9300-C83D9D4B6219" class="sect5"><span class="enumeration_section">C.2.1.4</span> DATASOURCE参数（仅可映射可视化组件）</h5>
                     <div>
                        <p><code class="codeph">DATASOURCE</code>参数指定GetMap或GetFeatureInfo请求的数据源的名称。默认值为<code class="codeph">WMS</code> 。指定的数据源必须存在于GetMap或GetFeatureInfo请求之前。也就是说，它必须使用<code class="codeph">&lt;add_data_source&gt;</code> MapViewer管理请求创建，或者在地图可视化组件配置文件（ <code class="codeph">map visualization componentConfig.xml</code> ）中定义。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9883"></a><div class="props_rev_3"><a id="GUID-4FC635F9-2CD0-4DC9-BDB6-0F35C49933DD" name="GUID-4FC635F9-2CD0-4DC9-BDB6-0F35C49933DD"></a><h5 id="JIMPV-GUID-4FC635F9-2CD0-4DC9-BDB6-0F35C49933DD" class="sect5"><span class="enumeration_section">C.2.1.5</span> DYNAMIC_STYLES参数（仅可映射可视化组件）</h5>
                     <div>
                        <p><code class="codeph">DYNAMIC_STYLES</code>参数指定<code class="codeph">&lt;styles&gt;</code>元素作为GetMap请求的一部分。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9884"></a><div class="props_rev_3"><a id="GUID-1B6A3501-3880-4A26-9F5E-29E84A74F9E1" name="GUID-1B6A3501-3880-4A26-9F5E-29E84A74F9E1"></a><h5 id="JIMPV-GUID-1B6A3501-3880-4A26-9F5E-29E84A74F9E1" class="sect5"><span class="enumeration_section">C.2.1.6</span>例外参数</h5>
                     <div>
                        <p>对于<code class="codeph">EXCEPTIONS</code>参数，唯一支持的值是默认值：WMS 1.1.1的<code class="codeph">EXCEPTIONS=application/vnd.ogc.se_xml</code>和WMS 1.3.0的<code class="codeph">EXCEPTIONS=XML</code> 。该异常报告为符合以下URL中提供的服务异常DTD的XML文档：</p>
                        <p><a href="http://schemas.opengis.net/wms/1.1.1/WMS_exception_1_1_1.dtd" target="_blank"><code class="codeph">http://schemas.opengis.net/wms/1.1.1/WMS_exception_1_1_1.dtd</code></a></p>
                        <p><a href="http://schemas.opengis.net/wms/1.3.0/exceptions_1_3_0.xsd" target="_blank"><code class="codeph">http://schemas.opengis.net/wms/1.3.0/exceptions_1_3_0.xsd</code></a></p>
                        <p>不支持<code class="codeph">application/vnd.ogc.se_inimage</code> （用Exception消息覆盖的图像）和<code class="codeph">application/vnd.ogc.se_blank</code> （因为发生异常而出现空白图像）选项。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9885"></a><div class="props_rev_3"><a id="GUID-53C04B08-6A98-4118-833A-8A7A2400A52F" name="GUID-53C04B08-6A98-4118-833A-8A7A2400A52F"></a><h5 id="JIMPV-GUID-53C04B08-6A98-4118-833A-8A7A2400A52F" class="sect5"><span class="enumeration_section">C.2.1.7</span>格式参数</h5>
                     <div>
                        <p><code class="codeph">FORMAT</code>参数指定图像格式。支持的值是<code class="codeph">image/gif</code> ， <code class="codeph">image/jpeg</code> ， <code class="codeph">image/png</code> ， <code class="codeph">image/png8</code>和<code class="codeph">image/svg+xml</code> 。
                        </p>
                        <p>默认值为<code class="codeph">image/png</code> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9886"></a><div class="props_rev_3"><a id="GUID-0E943BA1-E1E7-45B5-BF07-08EB42265165" name="GUID-0E943BA1-E1E7-45B5-BF07-08EB42265165"></a><h5 id="JIMPV-GUID-0E943BA1-E1E7-45B5-BF07-08EB42265165" class="sect5"><span class="enumeration_section">C.2.1.8</span>高度参数</h5>
                     <div>
                        <p><code class="codeph">HEIGHT</code>参数指定显示的地图的高度（以像素为单位）。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9887"></a><div class="props_rev_3"><a id="GUID-B7438B4D-67A3-41BA-AD6C-FED77EDF6F38" name="GUID-B7438B4D-67A3-41BA-AD6C-FED77EDF6F38"></a><h5 id="JIMPV-GUID-B7438B4D-67A3-41BA-AD6C-FED77EDF6F38" class="sect5"><span class="enumeration_section">C.2.1.9</span>层参数</h5>
                     <div>
                        <p><code class="codeph">LAYERS</code>参数指定要用于显示的预定义主题名称的逗号分隔列表。指定的值被视为区分大小写，有序，逗号分隔的预定义主题名称列表，其中包含默认数据源（名为<code class="codeph">WMS</code> ）或由参数<code class="codeph">DATASOURCE=&lt;name&gt;</code>指定的命名数据源。例如， <code class="codeph">LAYERS=THEME_DEMO_STATES,theme_demo_counties,THEME_demo_HIGHWAYS</code>转换为地图可视化组件地图请求中的以下<code class="codeph">&lt;themes&gt;</code>元素：</p><pre class="oac_no_warn" dir="ltr">&lt;themes&gt; &lt;theme name =“THEME_DEMO_STATES”/&gt; &lt;theme name =“theme_demo_counties”/&gt; &lt;theme name =“THEME_demo_HIGHWAYS”/&gt; &lt;/ themes&gt;</pre><p>基本地图名称也可以是<code class="codeph">LAYERS</code>列表的一部分。以下示例从名为DEMO_MAP的基本映射中检索映像：</p><pre class="oac_no_warn" dir="ltr">HTTP：//本地主机：7001 /的MapViewer / WMS VERSION = 1.1.1＆REQUEST =的GetMap＆SRS = EPSG：4326＆BBOX = -101.19489559164734,27.0，-78.80510440835268,37.0＆WIDTH = 965＆HEIGHT = 431＆FORMAT =图像/ GIF＆BGCOLOR = 0xA6CAF0＆TRANSPARENT = TRUE＆LAYERS = DEMO_MAP＆STYLES =＆EXCEPTIONS =应用/ vnd.ogc.se_xml＆数据源= mvdemo</pre><p>另请参见<a href="ogc-wms-support-map-visualzation-component.html#GUID-4A993214-72FB-41B8-85DF-9E131344AE58">BASEMAP参数（仅可映射可视化组件）</a> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9888"></a><div class="props_rev_3"><a id="GUID-0C2AF22D-BA1C-4441-A5F5-E4851849468C" name="GUID-0C2AF22D-BA1C-4441-A5F5-E4851849468C"></a><h5 id="JIMPV-GUID-0C2AF22D-BA1C-4441-A5F5-E4851849468C" class="sect5"><span class="enumeration_section">C.2.1.10</span> LEGEND_REQUEST参数（仅可映射可视化组件）</h5>
                     <div>
                        <p><code class="codeph">LEGEND_REQUEST</code>参数指定<code class="codeph">&lt;legend&gt;</code>元素作为GetMap请求的一部分。有关<code class="codeph">&lt;legend&gt;</code>元素的信息，请参阅<a href="map-visualization-concepts.html#GUID-862A1C47-1B2A-4F1C-9A3A-EF411D15CF7D">映射图例</a> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9889"></a><div class="props_rev_3"><a id="GUID-8F4EC80A-6F6F-4F99-B44C-3155636CD0FC" name="GUID-8F4EC80A-6F6F-4F99-B44C-3155636CD0FC"></a><h5 id="JIMPV-GUID-8F4EC80A-6F6F-4F99-B44C-3155636CD0FC" class="sect5"><span class="enumeration_section">C.2.1.11</span> MVTHEMES参数（仅可映射可视化组件）</h5>
                     <div>
                        <p><code class="codeph">MVTHEMES</code>参数指定<code class="codeph">&lt;themes&gt;</code>元素作为GetMap请求的一部分。 <code class="codeph">MVTHEMES</code>参数的主要用途是在MapViewer请求中支持JDBC主题。 <code class="codeph">MVTHEMES</code>参数不是<code class="codeph">LAYERS</code>参数的替代或同义词;你仍然必须指定<code class="codeph">LAYERS</code>参数。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9890"></a><div class="props_rev_3"><a id="GUID-492B989B-B4CF-47D6-A7E1-EF32B7B40E62" name="GUID-492B989B-B4CF-47D6-A7E1-EF32B7B40E62"></a><h5 id="JIMPV-GUID-492B989B-B4CF-47D6-A7E1-EF32B7B40E62" class="sect5"><span class="enumeration_section">C.2.1.12</span>请求参数</h5>
                     <div>
                        <p><code class="codeph">REQUEST</code>参数指定<code class="codeph">REQUEST</code>的类型。值必须是<code class="codeph">GetMap</code> ， <code class="codeph">GetFeatureInfo</code>或<code class="codeph">GetCapabilities</code> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9891"></a><div class="props_rev_3"><a id="GUID-2AF26C0F-2F12-4627-8D31-1E831867FCAF" name="GUID-2AF26C0F-2F12-4627-8D31-1E831867FCAF"></a><h5 id="JIMPV-GUID-2AF26C0F-2F12-4627-8D31-1E831867FCAF" class="sect5"><span class="enumeration_section">C.2.1.13</span>服务参数</h5>
                     <div>
                        <p><code class="codeph">SERVICE</code>参数指定服务名称。值必须是<code class="codeph">WMS</code> 。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9892"></a><div class="props_rev_3"><a id="GUID-BC884B52-D296-400E-9D45-43571266BD93" name="GUID-BC884B52-D296-400E-9D45-43571266BD93"></a><h5 id="JIMPV-GUID-BC884B52-D296-400E-9D45-43571266BD93" class="sect5"><span class="enumeration_section">C.2.1.14</span> SRS（1.1.1）或CRS（1.3.0）参数</h5>
                     <div>
                        <p><code class="codeph">SRS</code>参数（WMS 1.1.1）或<code class="codeph">CRS</code>参数（WMS 1.3.0）指定要使用的地图可视化组件的空间参照系（坐标系）。该值必须是以下之一： <code class="codeph">SDO:srid-value</code> （其中<code class="codeph">srid-value</code>是数字Oracle Spatial和Graph SRID值）， <code class="codeph">EPSG:4326</code> （相当于<code class="codeph">SDO:8307</code> ）或<code class="codeph">none</code> （相当于<code class="codeph">SDO:0</code> ） 。
                        </p>
                        <p>除<code class="codeph">EPSG:4326</code> （标准WGS 84经度/纬度坐标系）外，不支持EPSG数字标识符。对于具有任意投影中心的投影，不支持命名空间<code class="codeph">AUTO</code> （WMS 1.1.1）或<code class="codeph">AUTO2</code> （WMS 1.3.0）。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9893"></a><div class="props_rev_3"><a id="GUID-C400C91B-8EC6-4006-9541-330AF19DF085" name="GUID-C400C91B-8EC6-4006-9541-330AF19DF085"></a><h5 id="JIMPV-GUID-C400C91B-8EC6-4006-9541-330AF19DF085" class="sect5"><span class="enumeration_section">C.2.1.15</span>样式参数</h5>
                     <div>
                        <p><code class="codeph">STYLES</code>参数被忽略。而是使用<code class="codeph">LAYERS</code>参数指定显示的预定义主题。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9894"></a><div class="props_rev_3"><a id="GUID-BD295EB8-9EB4-4CE4-91A1-326465A24554" name="GUID-BD295EB8-9EB4-4CE4-91A1-326465A24554"></a><h5 id="JIMPV-GUID-BD295EB8-9EB4-4CE4-91A1-326465A24554" class="sect5"><span class="enumeration_section">C.2.1.16</span>透明参数</h5>
                     <div>
                        <p>对于PNG图像，支持<code class="codeph">TRANSPARENT=TRUE</code>参数（对于透明图像），即<code class="codeph">FORMAT=image/png</code> ，或<code class="codeph">FORMAT=image/png8</code>用于索引（8位）PNG格式。地图可视化组件不支持透明GIF（GIF89）图像。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9895"></a><div class="props_rev_3"><a id="GUID-88BD5246-2AE8-4C59-8C27-227391BDA0CB" name="GUID-88BD5246-2AE8-4C59-8C27-227391BDA0CB"></a><h5 id="JIMPV-GUID-88BD5246-2AE8-4C59-8C27-227391BDA0CB" class="sect5"><span class="enumeration_section">C.2.1.17</span>版本参数</h5>
                     <div>
                        <p><code class="codeph">VERSION</code>参数指定WMS版本号。值必须为<code class="codeph">1.1.1</code>或<code class="codeph">1.3.0</code> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9896"></a><div class="props_rev_3"><a id="GUID-C7B0206B-0A9E-4613-8299-FB015DFA51BA" name="GUID-C7B0206B-0A9E-4613-8299-FB015DFA51BA"></a><h5 id="JIMPV-GUID-C7B0206B-0A9E-4613-8299-FB015DFA51BA" class="sect5"><span class="enumeration_section">C.2.1.18</span> WIDTH参数</h5>
                     <div>
                        <p><code class="codeph">WIDTH</code>参数指定显示的地图的宽度（以像素为单位）。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-2FE9062D-C103-4C57-970F-3F5C394101DC">支持的GetMap请求参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="JIMPV9898"></a><a id="JIMPV9897"></a><div class="props_rev_3"><a id="GUID-01A7D9F4-5E51-4685-ADB1-8F443536F0DD" name="GUID-01A7D9F4-5E51-4685-ADB1-8F443536F0DD"></a><h4 id="JIMPV-GUID-01A7D9F4-5E51-4685-ADB1-8F443536F0DD" class="sect4"><span class="enumeration_section">C.2.2</span>支持的GetCapabilities请求和响应功能</h4>
                  <div>
                     <p>对地图可视化组件的WMS GetCapabilities请求应仅指定以下参数：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">REQUEST =获得性能</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">VERSION=1.1.1</code>或<code class="codeph">VERSION=1.3.0</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SERVICE = WMS</code></p>
                        </li>
                     </ul>
                     <p>例如：</p><pre class="oac_no_warn" dir="ltr">http：// localhost：8888 / mapviewer / wms？REQUEST = GetCapabilities＆VERSION = 1.1.1＆SERVICE = WMS或http：// localhost：8888 / mapviewer / wms？REQUEST = GetCapabilities＆VERSION = 1.3.0＆SERVICE = WMS</pre><p>响应是符合WMS功能DTD的XML文档，具体取决于<code class="codeph">VERSION</code>参数（1.1.1或1.3.0）的值：</p>
                     <p><a href="http://schemas.opengis.net/wms/1.1.1/WMS_MS_Capabilities.dtd" target="_blank"><code class="codeph">http://schemas.opengis.net/wms/1.1.1/WMS_MS_Capabilities.dtd</code></a></p>
                     <p><a href="http://schemas.opengis.net/wms/1.3.0/capabilities_1_3_0.xsd" target="_blank"><code class="codeph">http://schemas.opengis.net/wms/1.3.0/capabilities_1_3_0.xsd</code></a></p>
                     <p>但是，当前版本的地图可视化组件返回包含<code class="codeph">&lt;Service&gt;</code>和<code class="codeph">&lt;Capability&gt;</code>元素的XML文档，其中包含以下信息：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">&lt;Service&gt;</code>元素基本上是空的，只有<code class="codeph">OGC:WMS</code>所需的值<code class="codeph">OGC:WMS</code> <code class="codeph">&lt;Service. <code class="codeph">OGC:WMS</code> <code class="codeph">&lt;Service.Name&gt;</code>元素。计划为地图可视化组件的未来版本提供对更多信息性服务元数据的支持。
                           </p>
                        </li>
                        <li>
                           <p>&lt; <code class="codeph">Capability&gt;</code>元素具有<code class="codeph">&lt;Request&gt;</code> ， <code class="codeph">&lt;Exception&gt;</code>和<code class="codeph">&lt;Layer&gt;</code>元素。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;Request&gt;</code>元素包含GetCapabilities和GetMap元素，这些元素描述HTTP GET或POST操作支持的格式和URL。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;Exception&gt;</code>元素定义异常格式。Service Exception XML是此版本中唯一受支持的格式。<code class="codeph">&lt;Exception&gt;</code>元素返回符合Service Exception DTD的XML文档，但它不报告实现规范中指定的异常。当前版本仅使用<code class="codeph">&lt;ServiceException&gt;</code>元素的CDATA部分来返回地图可视化组件服务器返回的<code class="codeph">OMSException</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;Layer&gt;</code>元素包含一组嵌套的<code class="codeph">&lt;Layer&gt;</code>元素。第一个（最外层）层包含名称（ <code class="codeph">WMS</code> ），标题（ <code class="codeph">Oracle WebMapServer Layers by data source</code> ），以及每个已定义数据源的一个<code class="codeph">&lt;Layer&gt;</code>元素。每个数据源层包含每个已定义的基本映射的<code class="codeph">&lt;Layer&gt;</code>元素，以及未在任何基本映射中列出的每个有效主题（层）的一个条目。每个基本地图图层都包含基本地图中每个预定义主题的<code class="codeph">&lt;Layer&gt;</code>元素。
                           </p>
                           <p>在USER_SDO_THEMES视图中定义的主题，在基表和几何列的USER_SDO_GEOM_METADATA视图中具有有效条目，并且未在任何基本映射中使用，将在数据源的基本映射之后列出。这些主题没有<code class="codeph">&lt;ScaleHint&gt;</code>元素。他们将拥有自己的<code class="codeph">&lt;LatLonBoundingBox&gt;</code>和<code class="codeph">&lt;BoundingBox&gt;</code>元素。
                           </p>
                        </li>
                     </ul>
                     <p>根据WMS实现规范的要求，响应的Content-Type设置为<code class="codeph">application/vnd.ogc.wms_xml</code> 。
                     </p>
                     <p>由于图层列表是由基本地图输出的，因此给定图层或主题可以在GetCapabilities响应中多次出现。例如，主题<code class="codeph">THEME_DEMO_STATES</code>是名为<code class="codeph">DEMO_MAP</code>和<code class="codeph">DENSITY_MAP</code>的基本映射的一部分，在<a href="ogc-wms-support-map-visualzation-component.html#GUID-01A7D9F4-5E51-4685-ADB1-8F443536F0DD__CJAJIFGC">示例C-2中</a>出现两次，这是一个摘录（为了可读性而重新格式化）来自GetCapabilities响应。
                     </p>
                     <p>在<a href="ogc-wms-support-map-visualzation-component.html#GUID-01A7D9F4-5E51-4685-ADB1-8F443536F0DD__CJAJIFGC">示例C-2中</a> ，最内层描述了<code class="codeph">IMAGE_LEVEL_2</code>主题。<code class="codeph">&lt;ScaleHint&gt;</code>元素列出基本映射定义中该主题的<code class="codeph">min_scale</code>和<code class="codeph">max_scale</code>值（如果有）。例如， <code class="codeph">IMAGE_MAP</code>的基本映射定义如下：</p><pre class="oac_no_warn" dir="ltr">SQL&gt;从user_sdo_maps中选择定义，其中name ='IMAGE_MAP'; DEFINITION ------------------------------------------------- ----------------------- &lt;？xml version =“1.0”standalone =“yes”？&gt; &lt;map_definition&gt; &lt;theme name =“IMAGE_LEVEL_2”min_scale =“1000.0”max_scale =“0.0”/&gt; &lt;theme name =“IMAGE_LEVEL_8”min_scale =“5000.0”max_scale =“1000.0”/&gt; &lt;theme name =“MA_ROAD3”/ &gt; &lt;theme name =“MA_ROAD2”/&gt; &lt;theme name =“MA_ROAD1”/&gt; &lt;theme name =“MA_ROAD0”/&gt; &lt;/ map_definition&gt;</pre><p>在最内层， <code class="codeph">&lt;SRS&gt;</code>和<code class="codeph">&lt;BoundingBox&gt;</code>元素标识该主题基表的SRID和DIMINFO信息，如以下空间和图形元数据查询所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; select srid，diminfo from user_sdo_geom_metadata，user_sdo_themes 2其中name ='IMAGE_LEVEL_2'和3 base_table = table_name和4 geometry_column = column_name; SRID ---------- DIMINFO（SDO_DIMNAME，SDO_LB，SDO_UB，SDO_TOLERANCE）----------------------------- -------------------------------------------------- -  41052 SDO_DIM_ARRAY（SDO_DIM_ELEMENT（'X'，200000,500000，.5），SDO_DIM_ELEMENT（'Y'，750 000,950000，.5））</pre><p>在<a href="ogc-wms-support-map-visualzation-component.html#GUID-01A7D9F4-5E51-4685-ADB1-8F443536F0DD__CJAJIFGC">示例C-2中</a> ，基本映射的<code class="codeph">&lt;Layer&gt;</code>元素具有<code class="codeph">&lt;SRS&gt;</code>元素和<code class="codeph">&lt;LatLonBoundingBox&gt;</code>元素。如果基本映射定义中的所有层都没有在USER_SDO_GEOM_METADATA视图中指定的相同SRID值，则<code class="codeph">&lt;SRS&gt;</code>元素为空。如果它们都具有相同的SRID值（例如，41052），则SRS元素包含该值（例如， <code class="codeph">SDO:41052</code> ）。所需的<code class="codeph">&lt;LatLonBoundingBox&gt;</code>元素当前具有默认值（ <code class="codeph">-180,-90,180,90</code> ）。当地图可视化组件支持此功能时，此元素实际上是该层的USER_SDO_GEOM_METADATA视图的DIMINFO列中指定的边界，必要时可转换为大地坐标。
                     </p>
                     <p>目前，所有图层都被认为是不透明和可查询的。也就是说，假设所有层都是矢量图层，而不是GeoRaster，逻辑网络或图像层。</p>
                     <div class="example" id="GUID-01A7D9F4-5E51-4685-ADB1-8F443536F0DD__CJAJIFGC">
                        <p class="titleinexample">示例C-2 GetCapabilities响应（摘录）</p><pre class="oac_no_warn" dir="ltr">&lt;标题&gt; Oracle WebMapServer按数据源分层&lt;/ Title&gt; &lt;Layer&gt; &lt;Name&gt; mvdemo &lt;/ Name&gt; &lt;Title&gt;数据源mvdemo &lt;/ Title&gt; &lt;Layer&gt; &lt;Name&gt; DEMO_MAP &lt;/ Name&gt; &lt;Title&gt;底图DEMO_MAP &lt; /标题&gt; &lt;SRS&gt; SDO：8307 &lt;/ SRS&gt; &lt;LatLonBoundingBox&gt; -180，-90,180,90 &lt;/ LatLonBoundingBox&gt;。 。 。&lt;Layer&gt; &lt;Name&gt; DENSITY_MAP &lt;/ Name&gt; &lt;Title&gt; Basemap DENSITY_MAP &lt;/ Title&gt; &lt;SRS&gt; SDO：8307 &lt;/ SRS&gt; &lt;LatLonBoundingBox&gt; -180，-90,180,90 &lt;/ LatLonBoundingBox&gt; &lt;Layer&gt; &lt;Name&gt; THEME_DEMO_STATES &lt;/ Name&gt; &lt;Title&gt; THEME_DEMO_STATES &lt;/ Title&gt; &lt;SRS&gt; SDO：8307 &lt;/ SRS&gt; &lt;BoundingBox SRS =“SDO：8307”minx =“ -  180”miny =“ -  90”maxx =“180”maxy =“90”resx =“0.5”resy =“0.5”/&gt; &lt;ScaleHint min =“50.0”max =“4.0”/&gt; &lt;/ Layer&gt;。 。 。&lt;/ Layer&gt; &lt;Layer&gt; &lt;Name&gt; IMAGE_MAP &lt;/ Name&gt; &lt;Title&gt; Basemap IMAGE_MAP &lt;/ Title&gt; &lt;SRS&gt; SDO：41052 &lt;/ SRS&gt; &lt;LatLonBoundingBox&gt; -180，-90,180,90 &lt;/ LatLonBoundingBox&gt; &lt;Layer &gt; &lt;Name&gt; IMAGE_LEVEL_2 &lt;/ Name&gt; &lt;Title&gt; IMAGE_LEVEL_2 &lt;/ Title&gt; &lt;SRS&gt; SDO：41052 &lt;/ SRS&gt; &lt;BoundingBox SRS =“SDO：41052”minx =“200000”miny =“500000”maxx =“750000 “maxy =”950000“resx =”0.5“resy =”0.5“/&gt; &lt;ScaleHint min =”1000.0“max =”0.0“/&gt; &lt;/ Layer&gt;。 。 。&lt;/层&gt;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-E6A8C43A-D1C6-49B9-AE81-39DD86589BE5" title="本节描述WMS 1.1.1和1.3.0规范中使用的术语和概念与地图可视化组件之间的关联或解释。">WMS规范和相应的映射可视化组件概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV9900"></a><a id="JIMPV9901"></a><a id="JIMPV9899"></a><div class="props_rev_3"><a id="GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC" name="GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC"></a><h4 id="JIMPV-GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC" class="sect4"><span class="enumeration_section">C.2.3</span>支持的GetFeatureInfo请求和响应功能</h4>
                  <div>
                     <p>本节介绍受支持的GetFeatureInfo请求参数及其对地图可视化组件的解释。<a href="ogc-wms-support-map-visualzation-component.html#GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC__CJAHBJII">示例C-3</a>显示了一些GetFeatureInfo请求。
                     </p>
                     <p>响应是XML文档，响应的Content-Type是<code class="codeph">text/xml</code> 。<a href="ogc-wms-support-map-visualzation-component.html#GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC__CJAJEIGG">示例C-4</a>是对<a href="ogc-wms-support-map-visualzation-component.html#GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC__CJAHBJII">示例C-3中</a>的GetFeatureInfo请求的响应。
                     </p>
                     <p>以下大多数部分描述了GetFeatureInfo请求支持的参数。 （特定于MapViewer且未在WMS 1.1.1规范中提及的参数标记为Map Visualization Component-Only。）<a href="ogc-wms-support-map-visualzation-component.html#GUID-D56F3CBB-A024-4AE5-9FF1-D50B1E0C97D5">为GetFeatureInfo请求指定</a>要查询的属性说明了如何在GetFeatureInfo请求中查询属性。</p>
                     <div class="example" id="GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC__CJAHBJII">
                        <p class="titleinexample">示例C-3 GetFeatureInfo请求</p><pre class="oac_no_warn" dir="ltr">http：// localhost：8888 / mapviewer / wms？REQUEST = GetFeatureInfo＆VERSION = 1.1.1＆BBOX = 0，-0 .0020,0.0040＆SRS = EPSG：4326＆LAYERS = cite：Lakes，引用：森林＆WIDTH = 200＆HEIGHT = 100＆INF O_FORMAT = text / xml＆QUERY_LAYERS =引用：湖泊，引用：森林＆X = 60＆Y = 60 http：// localhost：8888 / mapviewer / wms？REQUEST = GetFeatureInfo＆VERSION = 1.3.0＆BBOX = 0，-0.0020,0.0040＆CRS = EPSG：4326＆LAYERS =引用：Lakes，引用：森林＆WIDTH = 200＆HEIGHT = 100＆INFO_FORMAT = text / xml＆QUERY_LAYERS =引用：湖泊，引用：森林＆I = 60＆J = 60</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC__CJAJEIGG">
                        <p class="titleinexample">示例C-4 GetFeatureInfo响应</p><pre class="oac_no_warn" dir="ltr">&lt;？xml version =“1.0”encoding =“UTF-8”？&gt; &lt;GetFeatureInfo_Result&gt; &lt;ROWSET name =“ <span class="bold">cite：Lakes</span> ”&gt; &lt;ROW num =“ <span class="bold">1</span> ”&gt; &lt;ROWID&gt; <span class="bold">AAAK22AAGAAACUiAAA</span> &lt;/ ROWID&gt; &lt;/ ROW&gt; &lt;/ ROWSET&gt; &lt;ROWSET name =“ <span class="bold">cite：Forests</span> ”&gt; &lt;ROW num =“ <span class="bold">1</span> ”&gt; &lt;FEATUREID&gt; <span class="bold">109</span> &lt;/ FEATUREID&gt; &lt;/ ROW&gt; &lt;/ ROWSET&gt; &lt;/ GetFeatureInfo_Result&gt;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-D279CB37-F9ED-4DF3-AC6D-CF91253BB674">GetFeatureInfo请求的GetMap参数子集</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-01058079-82DC-4EEA-BDF9-5F738AF83647">EXCEPTIONS参数</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-2432B430-8B7C-4FBF-B668-6DDFF244CF2E">FEATURE_COUNT个参数</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-3067BE85-63BF-4E13-81E8-09212D2CAA74">INFO_FORMAT参数</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-5AC23EEB-58D6-4979-8593-D69862FBF7B5">QUERY_LAYERS参数</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-B4986D80-7075-4E33-9ED9-131976E6FB67">QUERY_TYPE参数（仅可映射可视化组件）</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-3A98A9FC-77A6-4686-8B05-557262F324CA">RADIUS参数（仅可映射可视化组件）</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-EE435076-A774-42FA-A9A6-66DD0F907DC7">UNIT参数（仅可映射可视化组件）</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-0703572F-7438-4069-879F-4E31F5A891FA">X和Y或I和J参数</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-D56F3CBB-A024-4AE5-9FF1-D50B1E0C97D5">指定要为GetFeatureInfo请求查询的属性</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-E6A8C43A-D1C6-49B9-AE81-39DD86589BE5" title="本节描述WMS 1.1.1和1.3.0规范中使用的术语和概念与地图可视化组件之间的关联或解释。">WMS规范和相应的映射可视化组件概念</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="JIMPV9902"></a><div class="props_rev_3"><a id="GUID-D279CB37-F9ED-4DF3-AC6D-CF91253BB674" name="GUID-D279CB37-F9ED-4DF3-AC6D-CF91253BB674"></a><h5 id="JIMPV-GUID-D279CB37-F9ED-4DF3-AC6D-CF91253BB674" class="sect5"><span class="enumeration_section">C.2.3.1</span> GetFeatureInfo请求的GetMap参数子集</h5>
                     <div>
                        <p>GetFeatureInfo请求包含GetMap请求的子集（ <code class="codeph">BBOX</code> ， <code class="codeph">SRS</code> [1.1.1]或<code class="codeph">CRS</code> [1.3.0]， <code class="codeph">WIDTH</code> ， <code class="codeph">HEIGHT</code>和可选的<code class="codeph">LAYERS</code>参数）。这些参数用于将X，Y（1.1.1）或I，J（1.3.0）点从屏幕坐标转换为坐标系中要查询的层的点。假设所有层都在相同的坐标系中，即<code class="codeph">SRS</code>参数指定的坐标系。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC">支持的GetFeatureInfo请求和响应功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9903"></a><div class="props_rev_3"><a id="GUID-01058079-82DC-4EEA-BDF9-5F738AF83647" name="GUID-01058079-82DC-4EEA-BDF9-5F738AF83647"></a><h5 id="JIMPV-GUID-01058079-82DC-4EEA-BDF9-5F738AF83647" class="sect5"><span class="enumeration_section">C.2.3.2</span>例外参数</h5>
                     <div>
                        <p><code class="codeph">EXCEPTIONS</code>参数唯一受支持的值是默认值：WMS 1.1.1的<code class="codeph">application/vnd.ogc.se_xml</code>或WMS 1.3.0的<code class="codeph">xml</code> 。也就是说，仅支持服务异常XML。根据版本（1.1.1或1.3.0），异常报告为符合以下服务异常DTD的XML文档：</p>
                        <p><a href="http://schemas.opengis.net/wms/1.1.1/WMS_exception_1_1_1.dtd" target="_blank"><code class="codeph">http://schemas.opengis.net/wms/1.1.1/WMS_exception_1_1_1.dtd</code></a></p>
                        <p><a href="http://schemas.opengis.net/wms/1.3.0/exceptions_1_3_0.xsd" target="_blank"><code class="codeph">http://schemas.opengis.net/wms/1.3.0/exceptions_1_3_0.xsd</code></a></p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC">支持的GetFeatureInfo请求和响应功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9904"></a><div class="props_rev_3"><a id="GUID-2432B430-8B7C-4FBF-B668-6DDFF244CF2E" name="GUID-2432B430-8B7C-4FBF-B668-6DDFF244CF2E"></a><h5 id="JIMPV-GUID-2432B430-8B7C-4FBF-B668-6DDFF244CF2E" class="sect5"><span class="enumeration_section">C.2.3.3</span> FEATURE_COUNT参数</h5>
                     <div>
                        <p><code class="codeph">FEATURE_COUNT</code>参数指定结果集中的最大<code class="codeph">FEATURE_COUNT</code>数。默认值为1。如果比参数值更多的特征与查询点（X，Y）交互，则在结果集中返回特征的任意子集（参数值的大小）。也就是说，GetFeatureInfo调用转换为以下一般形式的查询：</p><pre class="oac_no_warn" dir="ltr">SELECT &lt;info_columns&gt; FROM &lt;layer_table&gt; WHERE SDO_RELATE（&lt;geom_column&gt;，&lt;query_point&gt;，'mask = ANYINTERACT'）='TRUE'和ROWNUM &lt;= FEATURE_COUNT;</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC">支持的GetFeatureInfo请求和响应功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9905"></a><div class="props_rev_3"><a id="GUID-3067BE85-63BF-4E13-81E8-09212D2CAA74" name="GUID-3067BE85-63BF-4E13-81E8-09212D2CAA74"></a><h5 id="JIMPV-GUID-3067BE85-63BF-4E13-81E8-09212D2CAA74" class="sect5"><span class="enumeration_section">C.2.3.4</span> INFO_FORMAT参数</h5>
                     <div>
                        <p><code class="codeph">INFO_FORMAT</code>参数的值始终为<code class="codeph">text/xml</code> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC">支持的GetFeatureInfo请求和响应功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9906"></a><div class="props_rev_3"><a id="GUID-5AC23EEB-58D6-4979-8593-D69862FBF7B5" name="GUID-5AC23EEB-58D6-4979-8593-D69862FBF7B5"></a><h5 id="JIMPV-GUID-5AC23EEB-58D6-4979-8593-D69862FBF7B5" class="sect5"><span class="enumeration_section">C.2.3.5</span> QUERY_LAYERS参数</h5>
                     <div>
                        <p><code class="codeph">QUERY_LAYERS</code>参数指定要查询的以逗号分隔的图层列表。如果<code class="codeph">LAYERS</code>指定参数， <code class="codeph">QUERY_LAYERS</code>规格必须在指定的列表中的一个子集<code class="codeph">LAYERS</code>参数。
                        </p>
                        <p>如果指定了<code class="codeph">QUERY_LAYERS</code>参数，则忽略任何<code class="codeph">BASEMAP</code>参数值。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC">支持的GetFeatureInfo请求和响应功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9907"></a><div class="props_rev_3"><a id="GUID-B4986D80-7075-4E33-9ED9-131976E6FB67" name="GUID-B4986D80-7075-4E33-9ED9-131976E6FB67"></a><h5 id="JIMPV-GUID-B4986D80-7075-4E33-9ED9-131976E6FB67" class="sect5"><span class="enumeration_section">C.2.3.6</span> QUERY_TYPE参数（仅可映射可视化组件）</h5>
                     <div>
                        <p><code class="codeph">QUERY_TYPE</code>参数通过指定以下值之一将结果集限制为可能符合条件的功能的子集：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">at_point</code> ：仅返回指定点的要素。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">nn</code> ：仅返回最近邻居要素，结果数取决于<code class="codeph">FEATURE_COUNT</code>参数值的值（请参阅<a href="ogc-wms-support-map-visualzation-component.html#GUID-2432B430-8B7C-4FBF-B668-6DDFF244CF2E">FEATURE_COUNT参数</a> ）。结果集不按距离排序。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">within_radius</code> （或<code class="codeph">within_distance</code> ，这是一个同义词）：仅返回<code class="codeph">RADIUS</code>参数值指定的距离内的结果（请参阅<a href="ogc-wms-support-map-visualzation-component.html#GUID-3A98A9FC-77A6-4686-8B05-557262F324CA">RADIUS参数（仅可映射可视化组件）</a> ），最多可返回与<code class="codeph">FEATURE_COUNT</code>参数值的值匹配的数字（请参阅<a href="ogc-wms-support-map-visualzation-component.html#GUID-2432B430-8B7C-4FBF-B668-6DDFF244CF2E">FEATURE_COUNT参数</a> ）。结果集是指定半径内潜在要素的答案集的任意子集。结果集不按距离排序。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC">支持的GetFeatureInfo请求和响应功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9908"></a><div class="props_rev_3"><a id="GUID-3A98A9FC-77A6-4686-8B05-557262F324CA" name="GUID-3A98A9FC-77A6-4686-8B05-557262F324CA"></a><h5 id="JIMPV-GUID-3A98A9FC-77A6-4686-8B05-557262F324CA" class="sect5"><span class="enumeration_section">C.2.3.7</span> RADIUS参数（仅可映射可视化组件）</h5>
                     <div>
                        <p><code class="codeph">RADIUS</code>参数指定<code class="codeph">QUERY_TYPE</code>参数值为<code class="codeph">within_radius</code>的查询的循环搜索区域的半径（请参阅<a href="ogc-wms-support-map-visualzation-component.html#GUID-B4986D80-7075-4E33-9ED9-131976E6FB67">QUERY_TYPE参数（仅可映射可视化组件）</a> ）。如果指定<code class="codeph">RADIUS</code>参数，则还必须指定<code class="codeph">UNIT</code>参数（请参阅<a href="ogc-wms-support-map-visualzation-component.html#GUID-EE435076-A774-42FA-A9A6-66DD0F907DC7">UNIT参数（仅可映射可视化组件）</a> ）。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC">支持的GetFeatureInfo请求和响应功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9909"></a><div class="props_rev_3"><a id="GUID-EE435076-A774-42FA-A9A6-66DD0F907DC7" name="GUID-EE435076-A774-42FA-A9A6-66DD0F907DC7"></a><h5 id="JIMPV-GUID-EE435076-A774-42FA-A9A6-66DD0F907DC7" class="sect5"><span class="enumeration_section">C.2.3.8</span> UNIT参数（仅可映射可视化组件）</h5>
                     <div>
                        <p>的<code class="codeph">UNIT</code>参数指定的测量单位为圆形搜索区域的一个查询，其中，所述半径<code class="codeph">QUERY_TYPE</code>参数值是<code class="codeph">within_radius</code> （见<a href="ogc-wms-support-map-visualzation-component.html#GUID-B4986D80-7075-4E33-9ED9-131976E6FB67">QUERY_TYPE参数（地图可视化部件，仅）</a> ）。该值必须是SDO_UNITS_OF_MEASURE表的SHORT_NAME列中的有效线性度量值，例如： <code class="codeph">meter</code> ， <code class="codeph">km</code>或<code class="codeph">mile</code> 。
                        </p>
                        <p>如果指定<code class="codeph">UNIT</code>参数，则还必须指定<code class="codeph">RADIUS</code>参数（请参阅<a href="ogc-wms-support-map-visualzation-component.html#GUID-3A98A9FC-77A6-4686-8B05-557262F324CA">RADIUS参数（仅可映射可视化组件）</a> ）。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC">支持的GetFeatureInfo请求和响应功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9910"></a><div class="props_rev_3"><a id="GUID-0703572F-7438-4069-879F-4E31F5A891FA" name="GUID-0703572F-7438-4069-879F-4E31F5A891FA"></a><h5 id="JIMPV-GUID-0703572F-7438-4069-879F-4E31F5A891FA" class="sect5"><span class="enumeration_section">C.2.3.9</span> X和Y或I和J参数</h5>
                     <div>
                        <p><code class="codeph">X</code>和<code class="codeph">Y</code> （WMS 1.1.1）或<code class="codeph">I</code>和<code class="codeph">J</code> （WMS 1.3.0）参数分别指定查询点的x轴和y轴坐标值（以像素为单位）。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC">支持的GetFeatureInfo请求和响应功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9911"></a><div class="props_rev_3"><a id="GUID-D56F3CBB-A024-4AE5-9FF1-D50B1E0C97D5" name="GUID-D56F3CBB-A024-4AE5-9FF1-D50B1E0C97D5"></a><h5 id="JIMPV-GUID-D56F3CBB-A024-4AE5-9FF1-D50B1E0C97D5" class="sect5"><span class="enumeration_section">C.2.3.10</span>指定GetFeatureInfo请求要<span class="enumeration_section">查询的</span>属性</h5>
                     <div>
                        <p>在GetFeatureInfo请求中，每个可查询层（主题）的样式规则必须包含<code class="codeph">&lt;hidden_info&gt;</code>元素，该元素指定在XML响应中查询和返回的属性。<code class="codeph">&lt;hidden_info&gt;</code>元素与用于确定SVG映射请求中返回的属性的元素相同。</p>
                        <p>这样的样式规则的示例如下：</p><pre class="oac_no_warn" dir="ltr">SQL&gt;从user_sdo_themes中选择styling_rules，其中name ='cite：Forests'; STYLING_RULES ------------------------------------------------- ------------------------------- &lt;？xml version =“1.0”standalone =“yes”？&gt; &lt;styling_rules&gt; &lt;hidden_info&gt; &lt;field column =“FID”name =“FeatureId”/&gt; &lt;/ hidden_info&gt; &lt;rule&gt; &lt;features style =“C.PARK FOREST”&gt; &lt;/ features&gt; &lt;label column =“NAME” style =“T.PARK NAME”&gt; 1 &lt;/ label&gt; &lt;/ rule&gt; &lt;/ styling_rules&gt;</pre><p>此样式规则指定如果<code class="codeph">cite:Forests</code>是GetFeatureInfo请求中的<code class="codeph">QUERY_LAYERS</code>参数值之一，则会查询名为FID的列，并且响应文档中的标记将为<code class="codeph">&lt;FEATUREID&gt;</code> 。标签始终为大写。如果在主题的查询图层的样式规则中未指定<code class="codeph">&lt;hidden_info&gt;</code>元素，则返回rowid。在<a href="ogc-wms-support-map-visualzation-component.html#GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC__CJAJEIGG">示例C-4中</a> ， <code class="codeph">cite:Lakes</code>层的样式规则没有<code class="codeph">&lt;hidden_info&gt;</code>元素;因此，在XML响应中返回默认属性ROWID。<code class="codeph">cite:Forests</code>然而， <code class="codeph">cite:Forests</code>层确实有一个<code class="codeph">&lt;hidden_info&gt;</code>元素，它指定属性列是FID，并且响应文档中的标记名称应该是<code class="codeph">&lt;FEATUREID&gt;</code> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-B91F7494-BE68-4078-8D13-18EA5D4056AC">支持的GetFeatureInfo请求和响应功能</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="JIMPV9912"></a><div class="props_rev_3"><a id="GUID-5F716935-EF69-41B2-9D7D-CD36651B1ED2" name="GUID-5F716935-EF69-41B2-9D7D-CD36651B1ED2"></a><h3 id="JIMPV-GUID-5F716935-EF69-41B2-9D7D-CD36651B1ED2" class="sect3"><span class="enumeration_section">C.3</span>添加WMS地图主题</h3>
               <div>
                  <p>您可以将WMS地图主题添加到当前地图请求。 WMS地图主题是GetMap请求的结果，它成为地图可视化组件呈现的图层集（主题）中的图像图层。</p>
                  <p>要添加WMS地图主题，请使用XML API的WMS特定功能（请参阅<a href="ogc-wms-support-map-visualzation-component.html#GUID-490B5807-453B-44D7-B4D5-DE8AF026C57E">用于添加WMS地图主题的XML API</a> ）。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-490B5807-453B-44D7-B4D5-DE8AF026C57E">用于添加WMS地图主题的XML API</a><br></li>
                     <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-4DF9974B-30FB-4501-8601-2E58C2B67BCF">预定义的WMS地图主题定义</a><br></li>
                     <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-B3D21868-B856-4DC2-B342-54D34483FD15">使用WMS地图主题进行身份验证</a><br></li>
                     <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-0C7C5BE0-81F4-4F94-B2BB-74DA58476745">自定义GetCapabilities响应：其他选项</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-9B407D9F-0298-4890-A345-C22A99C50226" title="地图可视化组件支持使用Open GIS Consortium（OGC）Web地图服务（WMS）协议（特别是WMS 1.1.1和1.3.0实施规范）提供的数据呈现。">Map Visualization组件中的OGC WMS支持</a></p>
                     </div>
                  </div>
               </div>
               <a id="JIMPV9914"></a><a id="JIMPV9913"></a><div class="props_rev_3"><a id="GUID-490B5807-453B-44D7-B4D5-DE8AF026C57E" name="GUID-490B5807-453B-44D7-B4D5-DE8AF026C57E"></a><h4 id="JIMPV-GUID-490B5807-453B-44D7-B4D5-DE8AF026C57E" class="sect4"><span class="enumeration_section">C.3.1</span>用于添加WMS地图主题的XML API</h4>
                  <div>
                     <p>要使用地图可视化组件XML API将WMS地图主题添加到当前地图请求，请使用<code class="codeph">&lt;wms_getmap_request&gt;</code>元素中的<code class="codeph">&lt;wms_getmap_request&gt;</code> <code class="codeph">&lt;theme&gt;</code>元素。
                     </p>
                     <p>为了获得更好的性能， <code class="codeph">&lt;wms_getmap_request&gt;</code>元素应仅用于从Web地图服务器（WMS）实现请求地图图像。也就是说， <code class="codeph">&lt;wms_getmap_request&gt;</code> <code class="codeph">&lt;service_url&gt;</code>元素中的<code class="codeph">&lt;wms_getmap_request&gt;</code>元素应指定WMS实现，而不是地图可视化组件实例。如果要指定地图可视化组件实例（例如，指定值为<code class="codeph">http://mapviewer.mycorp.com:8888/mapviewer/wms</code> <code class="codeph">&lt;service_url&gt;</code> ），请考虑使用MapViewer预定义主题或JDBC主题<code class="codeph">&lt;themes&gt;</code>元素，而不是使用<code class="codeph">&lt;wms_getmap_request&gt;</code>元素。
                     </p>
                     <p>下面的示例示出了的一般格式<code class="codeph">&lt;wms_getmap_request&gt;</code>一个内元件<code class="codeph">&lt;theme&gt;</code>元件，并且它包括一些样品的元素值和描述性注释：</p><pre class="oac_no_warn" dir="ltr">&lt;themes&gt; &lt;theme&gt; &lt;wms_getmap_request isBackgroundTheme =“true”&gt; &lt;！ -  wms_getmap_request主题按主题列表中显示的顺序呈现，除非isBackgroundTheme为“true”。- &gt; &lt;service_url&gt; http://wms.mapsrus.com/mapserver &lt;/ service_url&gt; &lt;version&gt; 1.1.1 &lt;/ version&gt; &lt;！ -  version是可选的。默认值为“1.1.1”。- &gt; &lt;layers&gt; Administrative + Boundaries，Topography，Hydrography &lt;/ layers&gt; &lt;！ -  layers是以逗号分隔的名称列表。如果图层名称包含空格，请使用“+”而不是空格 - &gt; &lt;！ -  styles是可选的。它是逗号分隔的列表，如果指定，它必须具有与图层列表相同的名称数。如果样式名称包含空格，请使用'+'而不是空格 - &gt; &lt;styles /&gt; &lt;srs&gt; EPSG：4326 &lt;/ srs&gt; &lt;format&gt; image / png &lt;/ format&gt; &lt;transparent&gt; true &lt;/ transparent&gt; &lt; bgcolor&gt; 0xffffff &lt;/ bgcolor&gt; &lt;exceptions&gt; application / vnd.ogc.se_inimage &lt;/ exceptions&gt; &lt;vendor_specific_parameters&gt; &lt;！ - 一个或多个&lt;vsp&gt;元素，每个元素包含&lt;name&gt; &lt;value&gt;对 - &gt; &lt;vsp &gt; &lt;name&gt; datasource &lt;/ name&gt; &lt;value&gt; mvdemo &lt;/ value&gt; &lt;/ vsp&gt; &lt;vendor_specific_parameters&gt; &lt;wms_getmap_request&gt; &lt;/ theme&gt; &lt;/ themes&gt;</pre><p><code class="codeph">&lt;wms_getmap_request&gt;</code>元素提供以下属性和元素：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">isBackgroundTheme</code>属性指定是否应在矢量图层之前渲染此主题。默认值为<code class="codeph">false</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;service_url&gt;</code>元素指定WMS服务的URL（不包含服务参数）。示例： <code class="codeph">http://my.webmapserver.com/wms</code> ： <code class="codeph">http://my.webmapserver.com/wms</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;version&gt;</code>元素指定WMS版本号。该值必须是下列之一： <code class="codeph">1.0.0</code> ， <code class="codeph">1.1.0</code> ， <code class="codeph">1.1.1</code> （缺省值），或<code class="codeph">1.3.0</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;layers&gt;</code>元素指定要包含在地图请求中的逗号分隔的图层名称列表。</p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;styles&gt;</code>元素指定要应用于图层中<code class="codeph">layers</code>名称的逗号分隔的逗号分隔列表。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;srs&gt;</code>元素指定坐标系（空间参照系）名称。默认值为<code class="codeph">EPSG:4326</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;format&gt;</code>元素指定生成的地图图像的格式。默认值为<code class="codeph">image/png</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;transparent&gt;</code>元素指定在生成的地图图像中添加的图层是否应该是透明的。默认值为<code class="codeph">false</code> 。要使图层透明，请指定<code class="codeph">true</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;bgcolor&gt;</code>元素指定地图背景颜色的RGB值。对值使用十六进制表示法，例如<code class="codeph">0xAE75B1</code> 。默认值为<code class="codeph">0xFFFFFF</code> （即白色）。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;exceptions&gt;</code>元素指定服务器异常的格式。默认值为<code class="codeph">application/vnd.ogc.se_inimage</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;vendor_specific_parameters&gt;</code>元素包含一个或多个<code class="codeph">&lt;vsp&gt;</code>元素，每个元素包含一个指定参数名称的<code class="codeph">&lt;name&gt;</code>元素和一个指定参数值的<code class="codeph">&lt;value&gt;</code>元素。
                           </p>
                        </li>
                     </ul>
                     <p><a href="ogc-wms-support-map-visualzation-component.html#GUID-490B5807-453B-44D7-B4D5-DE8AF026C57E__CJAIBIIC">示例C-5</a>显示了映射请求中的<code class="codeph">&lt;wms_getmap_request&gt;</code>元素。</p>
                     <div class="example" id="GUID-490B5807-453B-44D7-B4D5-DE8AF026C57E__CJAIBIIC">
                        <p class="titleinexample">示例C-5添加WMS地图主题（XML API）</p><pre class="oac_no_warn" dir="ltr">&lt;？xml version =“1.0”standalone =“yes”？&gt; &lt;map_request title =“光栅WMS主题和矢量数据”datasource =“mvdemo”srid =“0”width =“500”height =“375”bgcolor =“＃a6caf0”antialiase =“true”mapfilename =“wms_georaster”格式=“PNG_URL”&gt; &lt;center size =“185340.0”&gt; &lt;geoFeature&gt; &lt;geometricProperty typeName =“center”&gt; &lt;Point&gt; &lt;coordinates&gt; 596082.0,8881079.0 &lt;/ coordinates&gt; &lt;/ Point&gt; &lt;/ geometryProperty&gt; &lt;/ geoFeature&gt; &lt; / center&gt; &lt;themes&gt; &lt;theme name =“WMS_TOPOGRAPHY”user_clickable =“false”&gt; &lt;wms_getmap_request isBackgroundTheme =“true”&gt; &lt;service_url&gt; http://wms.mapservers.com:8888/mapserver/wms &lt;/ service_url&gt; &lt; layers&gt; TOPOGRAPHY &lt;/ layers&gt; &lt;srs&gt; EPSG：29190 &lt;/ srs&gt; &lt;format&gt; image / png &lt;/ format&gt; &lt;bgcolor&gt; 0xa6caf0 &lt;/ bgcolor&gt; &lt;transparent&gt; true &lt;/ transparent&gt; &lt;vendor_specific_parameters&gt; &lt;vsp&gt; &lt; name&gt; ServiceType &lt;/ name&gt; &lt;value&gt; mapserver &lt;/ value&gt; &lt;/ vsp&gt; &lt;/ vendor_specific_parameters&gt; &lt;/ wms_getmap_request&gt; &lt;/ theme&gt; &lt;theme name =“cl_theme”user_clickable =“false”&gt; &lt;jdbc_query spatial_column =“geom “render_style =”ltblue“jdbc_srid =”82279“datasource =”mvde mo“asis =”false“&gt;从classes_type ='forest'&lt;/ jdbc_query&gt; &lt;/ theme&gt; &lt;/ themes&gt; &lt;styles&gt; &lt;style name =”ltblue“&gt; &lt;svg width =”1in“height =的类中选择geom “1in”&gt; &lt;g class =“color”style =“stroke：＃000000; stroke-opacity：250; fill：＃33ffff; fill-opacity：100”&gt; &lt;rect width =“50”height =“50”/ &gt; &lt;/ g&gt; &lt;/ svg&gt; &lt;/ style&gt; &lt;/ styles&gt; &lt;/ map_request&gt;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-5F716935-EF69-41B2-9D7D-CD36651B1ED2" title="您可以将WMS地图主题添加到当前地图请求。 WMS地图主题是GetMap请求的结果，它成为地图可视化组件呈现的图层集（主题）中的图像图层。">添加WMS地图主题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV9916"></a><a id="JIMPV9915"></a><div class="props_rev_3"><a id="GUID-4DF9974B-30FB-4501-8601-2E58C2B67BCF" name="GUID-4DF9974B-30FB-4501-8601-2E58C2B67BCF"></a><h4 id="JIMPV-GUID-4DF9974B-30FB-4501-8601-2E58C2B67BCF" class="sect4"><span class="enumeration_section">C.3.2</span>预定义的WMS地图主题定义</h4>
                  <div>
                     <p>WMS主题的预定义XML定义在<a href="ogc-wms-support-map-visualzation-component.html#GUID-490B5807-453B-44D7-B4D5-DE8AF026C57E">XML API中使用与添加WMS地图主题</a>相同的参数结构，并添加可选的<code class="codeph">capabilities_url</code>属性，Map Builder在编辑WMS主题时使用该属性。如果定义了<code class="codeph">capabilities_url</code>属性，Map Builder将发出<code class="codeph">GetCapabilities</code>请求以填充编辑器页面中的一些UI元素。
                     </p>
                     <p><a href="ogc-wms-support-map-visualzation-component.html#GUID-4DF9974B-30FB-4501-8601-2E58C2B67BCF__CHDEJECD">示例C-6</a>显示了如何在元数据中创建预定义的WMS主题。基表和基本列名称可以是任何值，在此示例中， <code class="codeph">'WMS'</code>用于两者。
                     </p>
                     <div class="example" id="GUID-4DF9974B-30FB-4501-8601-2E58C2B67BCF__CHDEJECD">
                        <p class="titleinexample">示例C-6创建预定义的WMS主题</p><pre class="oac_no_warn" dir="ltr">INSERT INTO user_sdo_themes VALUES（'PRED_WMS_THEME'，'WMS数据'，'WMS'，'WMS'，'&lt;？xml version =“1.0”standalone =“yes”？&gt; &lt;styling_rules theme_type =“wms”&gt; &lt;service_url&gt; http://sampleserver1b.arcgisonline.com/arcgis/services/Specialty/ESRI_StateCityHighway_USA/MapServer/WMSServer &lt;/ service_url&gt; &lt;layers&gt; 0,1,2 &lt;/ layers&gt; &lt; version&gt; 1.3.0 &lt;/ version&gt; &lt;srs&gt; CRS：84 &lt;/ srs&gt; &lt;format&gt; image / png &lt;/ format&gt; &lt;bgcolor&gt; 0xA6CAF0 &lt;/ bgcolor&gt; &lt;transparent&gt; false &lt;/ transparent&gt; &lt;styles&gt; +， +，+ &lt;/ styles&gt; &lt;exceptions&gt; xml &lt;/ exceptions&gt; &lt;capabilities_url&gt; http://sampleserver1.arcgisonline.com/ArcGIS/services/Specialty/ESRI_StateCityHighway_USA/MapServer/WMSServer？ &lt;/ capabilities_url&gt; &lt;/ styling_rules&gt;'）;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-5F716935-EF69-41B2-9D7D-CD36651B1ED2" title="您可以将WMS地图主题添加到当前地图请求。 WMS地图主题是GetMap请求的结果，它成为地图可视化组件呈现的图层集（主题）中的图像图层。">添加WMS地图主题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV9950"></a><a id="JIMPV9951"></a><a id="JIMPV9949"></a><div class="props_rev_3"><a id="GUID-B3D21868-B856-4DC2-B342-54D34483FD15" name="GUID-B3D21868-B856-4DC2-B342-54D34483FD15"></a><h4 id="JIMPV-GUID-B3D21868-B856-4DC2-B342-54D34483FD15" class="sect4"><span class="enumeration_section">C.3.3</span>使用WMS地图主题进行认证</h4>
                  <div>
                     <p>对于需要身份验证才能访问WMS数据的WMS服务器，主题定义中必须包含以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>指定用户名的<code class="codeph">&lt;user&gt;</code>元素</p>
                        </li>
                        <li>
                           <p>指定用户密码的<code class="codeph">&lt;password&gt;</code>元素</p>
                           <p>如果使用Map Builder工具创建WMS地图主题，则密码值将自动加密。<a href="ogc-wms-support-map-visualzation-component.html#GUID-B3D21868-B856-4DC2-B342-54D34483FD15__CHDIEJIC">图C-1</a>显示了使用Map Builder工具创建带有身份验证信息的WMS主题。在此图中，选中（启用）Authentication选项，并指定User和Password。
                           </p>
                           <div class="figure" id="GUID-B3D21868-B856-4DC2-B342-54D34483FD15__CHDIEJIC">
                              <p class="titleinfigure">图C-1使用Map Builder指定WMS主题的身份验证</p><img src="img/wms_auth.gif" alt="下面是图C-1的描述" title="下面是图C-1的描述" longdesc="img_text/wms_auth.html"><br><a href="img_text/wms_auth.html">“图C-1使用Map Builder指定使用WMS主题进行身份验证”的说明</a></div>
                           <!-- class="figure" -->
                        </li>
                     </ul>
                     <p><a href="ogc-wms-support-map-visualzation-component.html#GUID-B3D21868-B856-4DC2-B342-54D34483FD15__CHDFCJDG">示例C-7</a>显示了如何创建包含身份验证信息的WMS主题。
                     </p>
                     <div class="example" id="GUID-B3D21868-B856-4DC2-B342-54D34483FD15__CHDFCJDG">
                        <p class="titleinexample">示例C-7 WMS主题，具有指定的身份验证</p><pre class="oac_no_warn" dir="ltr">&lt;？xml version =“1.0”standalone =“yes”？&gt; &lt;styling_rules theme_type =“wms”&gt; &lt;service_url&gt; http：// localhost：7001 / mapviewer / wms &lt;/ service_url&gt; <span class="bold">&lt;user&gt; wmsuser &lt;/ user&gt;</span> <span class="bold">&lt;password&gt; ******* &lt;/ password&gt;</span> &lt; layers&gt; THEME_DEMO_STATES &lt;/ layers&gt; &lt;version&gt; 1.1.1 &lt;/ version&gt; &lt;srs&gt; EPSG：4326 &lt;/ srs&gt; &lt;format&gt; image / png &lt;/ format&gt; &lt;bgcolor&gt; 0xA6CAF0 &lt;/ bgcolor&gt; &lt;transparent&gt; true &lt; / transparent&gt; &lt;exceptions&gt; application / vnd.ogc.se_xml &lt;/ exceptions&gt; &lt;vendor_specific_parameters&gt; &lt;vsp&gt; &lt;name&gt; datasource &lt;/ name&gt; &lt;value&gt; mvdemo &lt;/ value&gt; &lt;/ vsp&gt; &lt;/ vendor_specific_parameters&gt; &lt;capabilities_url&gt; HTTP：//本地主机：7001 /服务器MapViewer / WMS？ &lt;/ capabilities_url&gt; &lt;/ styling_rules&gt;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-5F716935-EF69-41B2-9D7D-CD36651B1ED2" title="您可以将WMS地图主题添加到当前地图请求。 WMS地图主题是GetMap请求的结果，它成为地图可视化组件呈现的图层集（主题）中的图像图层。">添加WMS地图主题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV10085"></a><div class="props_rev_3"><a id="GUID-0C7C5BE0-81F4-4F94-B2BB-74DA58476745" name="GUID-0C7C5BE0-81F4-4F94-B2BB-74DA58476745"></a><h4 id="JIMPV-GUID-0C7C5BE0-81F4-4F94-B2BB-74DA58476745" class="sect4"><span class="enumeration_section">C.3.4</span>自定义GetCapabilities响应：其他选项</h4>
                  <div>
                     <p>主要地图可视化组件配置文件有一个部分，用于自定义GetCapabilities响应的一些信息（请参阅<a href="introduction-to-map-visualization-component.html#GUID-5DB2D2A6-702E-4E0B-9A4A-4B170588DCF0">自定义WMS GetCapabilities响应</a> ）。但是，只能在该主要地图可视化组件配置文件中定义有限数量的属性，并且不能对图层在GetCapabilities响应中可以具有的多个属性进行自定义。
                     </p>
                     <p>从版本12.1.3开始，WMS配置文件（ <code class="codeph">wmsConfig.xml</code> ）已添加到地图可视化组件中。此WMS配置文件中定义的任何设置都将覆盖主地图可视化组件配置文件中定义的类似WMS设置。
                     </p>
                     <p><code class="codeph">wmsConfig.xml</code>可以包含以下内容。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-DC0C8EDE-2E6F-40D9-A78A-DBE5492C2E8E">自定义WMS功能参数（&lt;custom_parameters&gt;元素）</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-D18F4129-6350-4EC3-885B-8F8B1EF2BD36">自定义WMS功能服务属性（&lt;service_attributes&gt;元素）</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-8754407F-6F8A-4712-A94D-955C4FFD2476">自定义WMS图层属性（&lt;layer_attributes&gt;元素）</a><br></li>
                        <li class="ulchildlink"><a href="ogc-wms-support-map-visualzation-component.html#GUID-DAE5E8CA-B053-4F87-9538-52A973E1336B">自定义WMS功能信息（&lt;get_feature_info&gt;元素）</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-5F716935-EF69-41B2-9D7D-CD36651B1ED2" title="您可以将WMS地图主题添加到当前地图请求。 WMS地图主题是GetMap请求的结果，它成为地图可视化组件呈现的图层集（主题）中的图像图层。">添加WMS地图主题</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="JIMPV10086"></a><div class="props_rev_3"><a id="GUID-DC0C8EDE-2E6F-40D9-A78A-DBE5492C2E8E" name="GUID-DC0C8EDE-2E6F-40D9-A78A-DBE5492C2E8E"></a><h5 id="JIMPV-GUID-DC0C8EDE-2E6F-40D9-A78A-DBE5492C2E8E" class="sect5"><span class="enumeration_section">C.3.4.1</span>自定义WMS功能参数（&lt;custom_parameters&gt; Element）</h5>
                     <div>
                        <p><code class="codeph">&lt;custom_parameters&gt;</code>元素提供以下属性：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">host</code>属性指定服务请求URL的主机部分，客户端应将其用于对此地图可视化组件服务器发出的未来WMS请求。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">port</code>属性指定服务请求URL的端口部分，客户端应将该端口部分用于对此地图可视化组件服务器发出的未来WMS请求。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">protocol</code>属性指定服务请求URL的协议部分，客户端应将该协议部分用于对此地图可视化组件服务器发出的未来WMS请求。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">default_datasource</code>属性指定用于检索功能响应的基本数据源。如果未定义此属性，则使用数据源<code class="codeph">WMS</code> ，并且该数据源必须存在于此地图可视化组件服务器中。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">public_datasources</code>属性指定要在getCapabilities响应中列出哪些数据源内容。如果未定义此属性，则将列出服务器中存在的所有数据源内容。
                              </p>
                           </li>
                           <li>
                              <p>默认情况下， <code class="codeph">use_text_xml</code>属性使用标准<code class="codeph">text/xml</code>即使对于getCapabilities也是如此。如果此属性设置为<code class="codeph">false</code> ，则使用OGC 1.1.1规范（例如， <code class="codeph">application/vnd.ogc.wms_xml</code> ）。
                              </p>
                           </li>
                        </ul>
                        <p>例如：</p><pre class="oac_no_warn" dir="ltr">&lt;custom_parameters host =“www.my_corp.com”port =“80”protocol =“http”default_datasource =“mvdemo”public_datasources =“mvdemo，wms”&gt; &lt;/ custom_parameters&gt;</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-0C7C5BE0-81F4-4F94-B2BB-74DA58476745">自定义GetCapabilities响应：其他选项</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV10087"></a><div class="props_rev_3"><a id="GUID-D18F4129-6350-4EC3-885B-8F8B1EF2BD36" name="GUID-D18F4129-6350-4EC3-885B-8F8B1EF2BD36"></a><h5 id="JIMPV-GUID-D18F4129-6350-4EC3-885B-8F8B1EF2BD36" class="sect5"><span class="enumeration_section">C.3.4.2</span>自定义WMS功能服务属性（&lt;service_attributes&gt; Element）</h5>
                     <div>
                        <p>&lt;service attributes&gt;元素将覆盖主映射可视化组件配置文件中定义的任何这些值。例如：</p><pre class="oac_no_warn" dir="ltr">&lt;service_attributes&gt; &lt;title&gt; OracleFMW MapViewer提供的WMS界面&lt;/ title&gt; &lt;abstract&gt;此WMS服务用于演示。&lt;/ abstract&gt; &lt;keyword_list&gt; &lt;keyword&gt; Oracle &lt;/ keyword&gt; &lt;keyword&gt; MapViewer &lt;/ keyword&gt; &lt;keyword&gt;空间和图形&lt;/ keyword&gt; &lt;/ keyword_list&gt; &lt;online_resource&gt; http：// localhost：7001 / mapviewer / wms &lt;/ online_resource&gt; &lt;contact_information&gt; &lt;ContactPersonPrimary&gt; &lt;ContactPerson&gt; John Doe &lt;/ ContactPerson&gt; &lt;ContactOrganization&gt; My Corp。&lt;/ ContactOrganization&gt; &lt;/ ContactPersonPrimary&gt; &lt;ContactPosition&gt; Sr.经理&lt;/ ContactPosition&gt; &lt;ContactAddress&gt; &lt;AddressType&gt; US Street &lt;/ AddressType&gt; &lt;Address&gt; 1 MyCorp drv &lt;/ Address&gt; &lt;City&gt; Nashua &lt;/ City&gt; &lt;StateOrProvince&gt; NH &lt;/ StateOrProvince&gt; &lt;PostCode&gt; 03062 &lt;/ PostCode &gt; &lt;国家&gt;美国&lt;/ Country&gt; &lt;/ ContactAddress&gt; &lt;ContactVoiceTelephone&gt; 18001122333 &lt;/ ContactVoiceTelephone&gt; &lt;ContactFacsimileTelephone&gt; &lt;/ ContactFacsimileTelephone&gt; &lt;ContactElectronicMailAddress&gt; jdoe@my_corp.com &lt;/ ContactElectronicMailAddress&gt; &lt;/ contact_information&gt; &lt;费用&gt;无&lt;/费用&gt; &lt;AccessConstraints&gt;无论什么&lt;/ AccessConstraints&gt; &lt;/ service_attributes&gt;</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-0C7C5BE0-81F4-4F94-B2BB-74DA58476745">自定义GetCapabilities响应：其他选项</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV10089"></a><a id="JIMPV10090"></a><a id="JIMPV10088"></a><div class="props_rev_3"><a id="GUID-8754407F-6F8A-4712-A94D-955C4FFD2476" name="GUID-8754407F-6F8A-4712-A94D-955C4FFD2476"></a><h5 id="JIMPV-GUID-8754407F-6F8A-4712-A94D-955C4FFD2476" class="sect5"><span class="enumeration_section">C.3.4.3</span>自定义WMS层属性（&lt;layer_attributes&gt;元素）</h5>
                     <div>
                        <p>WMS OGC规范定义了图层的几个属性。图层属性列表包括摘要，关键字列表，SRS列表，样式，归属等。</p>
                        <p><code class="codeph">&lt;layer_attributes&gt;</code>元素允许您为地图可视化组件元数据（基本地图和主题）定义自定义属性。WMS图层与地图可视化组件主题和基本地图相关联。所有Layer属性都是可选的，如果已定义，它们将补充GetCapabilities响应。
                        </p>
                        <p><a href="ogc-wms-support-map-visualzation-component.html#GUID-8754407F-6F8A-4712-A94D-955C4FFD2476__CHDEDGJF">示例C-8</a>显示了一个<code class="codeph">&lt;layer_attributes&gt;</code>元素，其中包含基本映射和主题的自定义参数。在此示例中，对于基本映射DEMO_MAP，定义了自定义元素<code class="codeph">&lt;abstract&gt;</code> ，而对于主题THEME_DEMO_STATES，定义了自定义元素<code class="codeph">&lt;abstract&gt;</code> ， <code class="codeph">&lt;keywordlist&gt;</code> ， <code class="codeph">&lt;srs&gt;</code>和<code class="codeph">&lt;style&gt;</code> 。在<code class="codeph">&lt;metadata&gt;</code>元素中，将值<span class="italic">主题</span>用于地图可视化组件主题，并使用type属性中的地图可视化组件基本映射的值<span class="italic">底图</span> 。如果未定义<code class="codeph">type</code>属性或value不等于<code class="codeph">theme</code>或<code class="codeph">basemap</code> ，则默认使用<code class="codeph">theme</code> 。
                        </p>
                        <p><a href="ogc-wms-support-map-visualzation-component.html#GUID-8754407F-6F8A-4712-A94D-955C4FFD2476__CHDCEBHB">示例C-9</a>显示了包含这些自定义属性的GetCapabilities响应的一部分。
                        </p>
                        <div class="example" id="GUID-8754407F-6F8A-4712-A94D-955C4FFD2476__CHDEDGJF">
                           <p class="titleinexample">示例C-8自定义WMS图层属性</p><pre class="oac_no_warn" dir="ltr">&lt;layer_attributes&gt; &lt;datasource name =“mvdemo”&gt; &lt;metadata name =“DEMO_MAP”type =“basemap”&gt; &lt;abstract&gt;美国国家集合&lt;/ abstract&gt; &lt;/ metadata&gt; &lt;metadata name =“THEME_DEMO_STATES”type =“theme “queryable =”1“cascaded =”0“opaque =”1“noSubsets =”0“fixedWidth =”500“fixedHeight =”400“&gt; &lt;abstract&gt; US States &lt;/ abstract&gt; &lt;keywordlist&gt; keyword1，keyword2，keyword3 &lt; / keywordlist&gt; &lt;srs&gt; EPSG：4203，EPSG：20248 &lt;/ srs&gt; &lt;style&gt; &lt;title&gt;样式标题&lt;/ title&gt; &lt;name&gt;样式名称&lt;/ name&gt; &lt;abstract&gt;样式摘要&lt;/ abstract&gt; &lt;stylesheeturl&gt; &lt;format&gt;样式表格式&lt;/ format&gt; &lt;onlineresource&gt; &lt;href&gt; http://www.yoururl.com/styledata.html &lt;/ href&gt; &lt;type&gt; simple &lt;/ type&gt; &lt;/ onlineresource&gt; &lt;/ stylesheeturl&gt; &lt;styleurl &gt; &lt;format&gt;样式格式&lt;/ format&gt; &lt;onlineresource&gt; &lt;href&gt; http://www.yoururl.com/style.html &lt;/ href&gt; &lt;type&gt; simple &lt;/ type&gt; &lt;/ onlineresource&gt; &lt;/ styleurl&gt; &lt; legendurl&gt; &lt;format&gt;图例格式&lt;/ format&gt; &lt;width&gt; 500 &lt;/ width&gt; &lt;height&gt; 500 &lt;/ height&gt; &lt;onlineresource&gt; &lt;href&gt; http://www.yoururl.com/legendurl.html &lt;/ href&gt; &lt;type&gt; simple &lt;/ type&gt; &lt;/ onli neresource&gt; &lt;/ legendurl&gt; &lt;/ style&gt; ...&lt;/ metadata&gt; &lt;/ datasource&gt; &lt;/ layer_attributes&gt;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-8754407F-6F8A-4712-A94D-955C4FFD2476__CHDCEBHB">
                           <p class="titleinexample">示例C-9具有自定义属性的GetCapabilities响应</p><pre class="oac_no_warn" dir="ltr">&lt;Layer&gt; &lt;Name&gt; DEMO_MAP &lt;/ Name&gt; &lt;Title&gt; Basemap DEMO_MAP &lt;/ Title&gt; &lt;Abstract&gt;美国国家集合&lt;/ Abstract&gt; &lt;SRS&gt; EPSG：4326 &lt;/ SRS&gt; &lt;LatLonBoundingBox maxy =“90.0”maxx = “180.0”miny =“ -  90.0”minx =“ -  180.0”/&gt; &lt;Layer fixedHeight =“400”fixedWidth =“500”noSubsets =“0”opaque =“1”cascaded =“0”queryable =“1”&gt; &lt;名称&gt; THEME_DEMO_STATES &lt;/ Name&gt; &lt;Title&gt; THEME_DEMO_STATES &lt;/ Title&gt; &lt;Abstract&gt; US States &lt;/ Abstract&gt; &lt;KeywordList&gt; &lt;Keyword&gt; keyword1 &lt;/ Keyword&gt; &lt;Keyword&gt; keyword2 &lt;/ Keyword&gt; &lt;Keyword&gt; keyword3 &lt;/关键字&gt; &lt;/ KeywordList&gt; &lt;SRS&gt; EPSG：4326 &lt;/ SRS&gt; &lt;SRS&gt; EPSG：4203 &lt;/ SRS&gt; &lt;SRS&gt; EPSG：20248 &lt;/ SRS&gt; &lt;BoundingBox resy =“5.0E-8”resx =“5.0 E-8“maxy =”71.33268128071118“maxx =”180.0“miny =” -  14.605189123107024“minx =” -  180.0“SRS =”EPSG：4326“/&gt; &lt;BoundingBox resy =”5.0E-8“resx =”5.0E -8“maxy =”2.06926736125942E7“maxx =”5.5812377162013E7“miny =” -  1.54158038049741E9“minx =” -  5.74425799715062E8“SRS =”EPSG：4203“/&gt; &lt;BoundingBox resy =”5.0E-8“resx = “5.0E-8”maxy =“2.06929693795843E7”maxx =“6.15958436393193E7”miny =“ -  1.74609707025816E9”minx =“ -  6.3 2398501646291E8“SRS =”EPSG：20248“/&gt; &lt;样式&gt; &lt;名称&gt;样式名称&lt;/名称&gt; &lt;标题&gt;样式标题&lt;/标题&gt; &lt;抽象&gt;样式摘要&lt;/ Abstract&gt; &lt;LegendURL height =”500“width = “500”&gt; &lt;格式&gt;图例格式&lt;/格式&gt; &lt;OnlineResource xlink：href =“http://www.yoururl.com/legendurl.html”xlink：type =“simple”/&gt; &lt;/ LegendURL&gt; &lt;StyleSheetURL&gt; &lt;格式&gt;样式表格式&lt;/格式&gt; &lt;OnlineResource xlink：href =“http://www.yoururl.com/styledata.html”xlink：type =“simple”/&gt; &lt;/ StyleSheetURL&gt; &lt;StyleURL&gt; &lt;Format&gt;样式表格式&lt;/ Format&gt; &lt;OnlineResource xlink：href =“http://www.yoururl.com/style.html”xlink：type =“simple”/&gt; &lt;/ StyleURL&gt; &lt;/ Style&gt; &lt;ScaleHint max =“1.5E8 “min =”0.0“/&gt; &lt;/ Layer&gt; ......&lt;/层&gt;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-0C7C5BE0-81F4-4F94-B2BB-74DA58476745">自定义GetCapabilities响应：其他选项</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV10091"></a><div class="props_rev_3"><a id="GUID-DAE5E8CA-B053-4F87-9538-52A973E1336B" name="GUID-DAE5E8CA-B053-4F87-9538-52A973E1336B"></a><h5 id="JIMPV-GUID-DAE5E8CA-B053-4F87-9538-52A973E1336B" class="sect5"><span class="enumeration_section">C.3.4.4</span>自定义WMS功能信息（&lt;get_feature_info&gt;元素）</h5>
                     <div>
                        <p>可以使用<code class="codeph">&lt;get_feature_info&gt;</code>元素提供的以下属性来定义预定义地图可视化组件主题的默认半径（值和单位）：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">name</code>属性指定预定义主题的名称。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">datasource</code>属性指定地图可视化组件数据源。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">radius</code>属性指定在<code class="codeph">within_radius</code> <code class="codeph">radius</code>参数时在<code class="codeph">within_radius</code> GetFeatureInfo请求中使用的主题的默认半径值。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">unit</code>属性指定默认半径单位（默认为<code class="codeph">m</code>表示米）。
                              </p>
                           </li>
                        </ul>
                        <p>例如：</p><pre class="oac_no_warn" dir="ltr">&lt;get_feature_info&gt; &lt;theme name =“theme_demo_states”datasource =“mvdemo”radius =“500”unit =“km”/&gt; &lt;/ get_feature_info&gt;</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="ogc-wms-support-map-visualzation-component.html#GUID-0C7C5BE0-81F4-4F94-B2BB-74DA58476745">自定义GetCapabilities响应：其他选项</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01725.transactions.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter defines a transaction and describes how the database processes transactions."></meta>
      <meta name="description" content="This chapter defines a transaction and describes how the database processes transactions."></meta>
      <title>交易</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Concepts"></meta>
      <meta property="og:description" content="This chapter defines a transaction and describes how the database processes transactions."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Concepts"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-concepts.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T07:47:16-08:00"></meta>
      <meta name="dcterms.title" content="Database Concepts"></meta>
      <meta name="dcterms.dateCopyrighted" content="1993, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96138-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="data-concurrency-and-consistency.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-database-storage-structures.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CNCPT"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="data-concurrency-and-consistency.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-database-storage-structures.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库概念</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-transaction-management.html" property="item" typeof="WebPage"><span property="name">Oracle事务管理</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">交易</li>
            </ol>
            <a id="GUID-B97790CB-DF82-442D-B9D5-50CCE6BF9FBD" name="GUID-B97790CB-DF82-442D-B9D5-50CCE6BF9FBD"></a>
            
            <h2 id="CNCPT-GUID-B97790CB-DF82-442D-B9D5-50CCE6BF9FBD" class="sect2"><span class="enumeration_chapter">10</span>笔交易</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='transactions'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>本章定义了一个事务，并描述了数据库如何处理事务。</p>
               <p>本章包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="transactions.html#GUID-31319EA7-994C-4D25-8814-0214ABD3CBDA" title="事务是包含一个或多个SQL语句的逻辑原子工作单元。">交易简介</a></p>
                  </li>
                  <li>
                     <p><a href="transactions.html#GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361" title="事务控制是对DML语句所做的更改以及将DML语句分组到事务中的管理。">交易控制概述</a></p>
                  </li>
                  <li>
                     <p><a href="transactions.html#GUID-47BCD081-8FFF-4D13-A0B1-F531521BC6C3" title="Transaction Guard是一种API，应用程序可以使用它来提供事务幂等性，这是数据库保留保证提交结果的能力，该结果指示事务是否已提交和完成。Oracle数据库为JDBC瘦，OCI，OCCI和ODP.Net提供API。">交易保护概述</a></p>
                  </li>
                  <li>
                     <p><a href="transactions.html#GUID-0B463F72-73C9-4EB6-B98D-5EC828CDB1E7" title="应用程序连续性尝试通过在计划外和计划中断后重放未完成的应用程序请求来屏蔽应用程序中断。在此上下文中，请求是应用程序的工作单元。">应用程序连续性概述</a></p>
                  </li>
                  <li>
                     <p><a href="transactions.html#GUID-C0C61571-5175-400D-AEFC-FDBFE4F87188" title="自治事务是可以从另一个事务调用的独立事务，该事务是主事务。您可以挂起调用事务，执行SQL操作并在自治事务中提交或撤消它们，然后恢复调用事务。">自治交易概述</a></p>
                  </li>
                  <li>
                     <p><a href="transactions.html#GUID-47231512-4A3E-4E59-86BD-332E1FB88A88" title="分布式事务是包含一个或多个语句的事务，这些语句使用称为数据库链接的模式对象更新分布式数据库的两个或更多不同节点上的数据。">分布式事务概述</a></p>
                  </li>
               </ul>
            </div><a id="CNCPT117"></a><div class="props_rev_3"><a id="GUID-31319EA7-994C-4D25-8814-0214ABD3CBDA" name="GUID-31319EA7-994C-4D25-8814-0214ABD3CBDA"></a><h3 id="CNCPT-GUID-31319EA7-994C-4D25-8814-0214ABD3CBDA" class="sect3">交易简介</h3>
               <div>
                  <p><span class="bold">事务</span>是包含一个或多个SQL语句的逻辑原子工作单元。
                  </p>
                  <p>事务将SQL语句分组，以便它们全部提交，这意味着它们应用于数据库，或全部回滚，这意味着它们从数据库中撤消。Oracle数据库为每个事务分配一个称为<a href="glossary.html#GUID-71C31D71-F2E8-4FB9-9010-062C1C407CEF"><span class="xrefglossterm">事务ID</span></a>的唯一标识符。</p>
                  <p>所有Oracle事务都遵循数据库事务的基本属性，称为<a href="glossary.html#GUID-2684886B-AB0E-4F65-9B24-688511AED791"><span class="xrefglossterm">ACID属性</span></a> 。ACID是以下内容的首字母缩写：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>原子性</p>
                        <p>执行事务的所有任务或不执行任何任务。没有部分交易。例如，如果事务开始更新100行，但系统在20次更新后失败，则数据库将更改回滚到这20行。</p>
                     </li>
                     <li>
                        <p>一致性</p>
                        <p>事务将数据库从一个一致状态转换为另一个一致状态。例如，在借记储蓄账户并贷记支票账户的银行交易中，故障不得导致数据库仅贷记一个账户，这将导致数据不一致。</p>
                     </li>
                     <li>
                        <p>隔离</p>
                        <p>在提交事务之前，事务的影响对其他事务是不可见的。例如，更新<code class="codeph">hr.employees</code>表的一个用户看不到另一个用户同时进行的对<code class="codeph">employees</code>的未提交更改。因此，对于用户来说，似乎事务是串行执行的。
                        </p>
                     </li>
                     <li>
                        <p>耐久力</p>
                        <p>已提交事务所做的更改是永久性的。事务完成后，数据库通过其恢复机制确保不会丢失事务中的更改。</p>
                     </li>
                  </ul>
                  <p>事务的使用是数据库管理系统与文件系统不同的最重要方式之一。</p>
               </div><a id="CNCPT88951"></a><a id="CNCPT037"></a><div class="props_rev_3"><a id="GUID-A049FE81-8B67-4386-B599-9CDD7E6B6C59" name="GUID-A049FE81-8B67-4386-B599-9CDD7E6B6C59"></a><h4 id="CNCPT-GUID-A049FE81-8B67-4386-B599-9CDD7E6B6C59" class="sect4">样本交易：账户借记和贷记</h4>
                  <div>
                     <p>为了说明交易的概念，请考虑银行数据库。</p>
                     <p>当客户将资金从储蓄账户转移到支票账户时，交易必须包含三个单独的操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>减少储蓄账户</p>
                        </li>
                        <li>
                           <p>增加支票帐户</p>
                        </li>
                        <li>
                           <p>在交易日志中记录交易</p>
                        </li>
                     </ul>
                     <p>Oracle数据库必须允许两种情况。如果所有三个SQL语句都以适当的平衡维护帐户，则可以将事务的效果应用于数据库。但是，如果资金不足，帐号无效或硬件故障等问题导致事务中的一个或两个语句无法完成，则数据库必须回滚整个事务，以便所有帐户的余额都正确。</p>
                     <p>下图说明了银行交易。第一份声明从储蓄账户3209中减去500美元。第二个声明为支票账户3208增加了500美元。第三个语句将传输记录插入日志表。最终语句提交事务。</p>
                     <div class="figure" id="GUID-A049FE81-8B67-4386-B599-9CDD7E6B6C59__I974">
                        <p class="titleinfigure">图10-1银行交易</p><img src="img/cncpt025.gif" alt="下面是图10-1的描述" title="下面是图10-1的描述" longdesc="img_text/cncpt025.html"><br><a href="img_text/cncpt025.html">“图10-1银行交易”的说明</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="CNCPT038"></a><div class="props_rev_3"><a id="GUID-7690181F-8293-47B9-ADC1-905BD9C3AF57" name="GUID-7690181F-8293-47B9-ADC1-905BD9C3AF57"></a><h4 id="CNCPT-GUID-7690181F-8293-47B9-ADC1-905BD9C3AF57" class="sect4">交易结构</h4>
                  <div>
                     <p>数据库事务由一个或多个语句组成。</p>
                     <p>具体而言，交易包括以下之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>一个或多个数据操作语言（DML）语句，它们共同构成对数据库的原子更改</p>
                        </li>
                        <li>
                           <p>一种数据定义语言（DDL）语句</p>
                        </li>
                     </ul>
                     <p>交易有开始和结束。</p>
                     <div class="infoboxnotealso" id="GUID-7690181F-8293-47B9-ADC1-905BD9C3AF57__GUID-FA8AAADC-7384-4FF1-9D20-FDD1F0662E7E">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="sql.html#GUID-662EE4B0-7D5E-43F5-806D-A2AE404D77BF" title="对Oracle数据库中的信息执行的所有操作都使用SQL语句运行。SQL语句是由标识符，参数，变量，名称，数据类型和SQL保留字组成的计算机程序或指令。">SQL语句概述</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Types-of-SQL-Statements.html#SQLRF-GUID-E1749EF5-2264-44DF-99EF-AEBEB943BED6" target="_blank"><span><cite>Oracle数据库SQL语言参考，</cite></span></a>用于SQL语句类型的帐户</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CNCPT88952"></a><div class="props_rev_3"><a id="GUID-E3FB3DC3-3317-4589-BADD-D89A3547F87D" name="GUID-E3FB3DC3-3317-4589-BADD-D89A3547F87D"></a><h5 id="CNCPT-GUID-E3FB3DC3-3317-4589-BADD-D89A3547F87D" class="sect5">交易开始</h5>
                     <div>
                        <p>事务在遇到第一个可执行SQL语句时开始。</p>
                        <p><a href="glossary.html#GUID-2F2F02A4-2405-4A0A-ABAF-91DB48DD4B82"><span class="xrefglossterm">可执行SQL语句</span></a>是一种SQL语句，它生成对<a href="glossary.html#GUID-CFB1A30E-76B6-44EA-839E-9E63C8DA31AC"><span class="xrefglossterm">数据库实例的</span></a>调用，包括DML和DDL语句以及<code class="codeph">SET TRANSACTION</code>语句。
                        </p>
                        <p>事务开始时，Oracle数据库会将事务分配给可用的<a href="glossary.html#GUID-297B963A-989C-4720-B061-A2352FF72892"><span class="xrefglossterm">撤消数据</span></a>段，以记录新事务的撤消条目。在分配撤消段和<a href="glossary.html#GUID-BFF71130-2760-4C64-8829-7772C803FBE7"><span class="xrefglossterm">事务表</span></a>槽之前，不会分配事务ID，这在第一个DML语句期间发生。事务ID对于事务是唯一的，表示还原段号，插槽和序列号。
                        </p>
                        <p>以下示例执行<code class="codeph">UPDATE</code>语句以开始事务，并查询<code class="codeph">V$TRANSACTION</code>以获取有关<code class="codeph">V$TRANSACTION</code>的详细信息：</p><pre class="pre codeblock"><code>SQL&gt; UPDATE hr.employees SET salary = salary; 107行更新。SQL&gt; SELECT XID AS“txn id”，XIDUSN AS“undo seg”，XIDSLOT AS“slot”，2 XIDSQN AS“seq”，STATUS AS“txn status”3 FROM V $ TRANSACTION; txn id undo seg slot seq txn status ---------------- ---------- ---------- ------ ---- ---------------- 0600060037000000 6 6 55 ACTIVE</code></pre><div class="infoboxnotealso" id="GUID-E3FB3DC3-3317-4589-BADD-D89A3547F87D__GUID-A3625BA5-F209-4844-88DE-84C49CDBCFCF">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="logical-storage-structures.html#GUID-6E206D3A-E0E7-4B23-9C41-516FB35BC3FE" title="Oracle数据库维护事务操作的记录，统称为撤消数据。">撤消细分</a> ”</span></p>
                        </div>
                     </div>
                  </div><a id="CNCPT88953"></a><div class="props_rev_3"><a id="GUID-510DF997-BA9C-4431-95EF-A0622881EC9C" name="GUID-510DF997-BA9C-4431-95EF-A0622881EC9C"></a><h5 id="CNCPT-GUID-510DF997-BA9C-4431-95EF-A0622881EC9C" class="sect5">交易结束</h5>
                     <div>
                        <p>交易可以在不同情况下结束。</p>
                        <p>发生以下任何操作时，事务结束：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>用户发出<span class="italic">不</span>带<code class="codeph">SAVEPOINT</code>子句的<code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code>语句。
                              </p>
                              <p>在<a href="glossary.html#GUID-0680EB2C-ADF4-431A-A259-FB2227E5AA93"><span class="xrefglossterm">提交中</span></a> ，用户明确或隐式地请求将事务中的更改设为永久更改。只有在事务提交后，事务所做的更改才是永久性的，并且对其他用户可见。
                              </p>
                           </li>
                           <li>
                              <p>用户运行DDL命令，例如<code class="codeph">CREATE</code> ， <code class="codeph">DROP</code> ， <code class="codeph">RENAME</code>或<code class="codeph">ALTER</code> 。</p>
                              <p>数据库在每个DDL语句之前和之后发出隐式<code class="codeph">COMMIT</code>语句。如果当前事务包含DML语句，则Oracle数据库首先提交事务，然后运行并将DDL语句作为新的单语句事务提交。
                              </p>
                           </li>
                           <li>
                              <p>用户通常从大多数Oracle数据库实用程序和工具退出，导致当前事务被隐式提交。用户断开连接时的提交行为取决于应用程序并且是可配置的。</p>
                              <div class="infoboxnote" id="GUID-510DF997-BA9C-4431-95EF-A0622881EC9C__GUID-FE2BC2EA-ECED-4B0E-BAD7-B60F09830E6B">
                                 <p class="notep1">注意：</p>
                                 <p>应用程序应始终在程序终止之前显式提交或撤消事务。</p>
                              </div>
                           </li>
                           <li>
                              <p>客户端进程异常终止，导致使用存储在事务表和还原段中的元数据隐式回滚事务。</p>
                           </li>
                        </ul>
                        <p>一个事务结束后，下一个可执行SQL语句会自动启动以下事务。以下示例执行<code class="codeph">UPDATE</code>以启动事务，使用<code class="codeph">ROLLBACK</code>语句结束事务，然后执行<code class="codeph">UPDATE</code>以启动新事务（请注意事务ID不同）：</p><pre class="pre codeblock"><code>SQL&gt; UPDATE hr.employees SET salary = salary; 107行更新。SQL&gt; SELECT XID，STATUS FROM V $ TRANSACTION; XID STATUS ---------------- ---------------- 0800090033000000 ACTIVE SQL&gt; ROLLBACK;回滚完成。SQL&gt; SELECT XID FROM V $ TRANSACTION;没有选择行SQL&gt; UPDATE hr.employees SET last_name = last_name; 107行更新。SQL&gt; SELECT XID，STATUS FROM V $ TRANSACTION; XID STATUS ---------------- ---------------- 0900050033000000 ACTIVE</code></pre><div class="infoboxnotealso" id="GUID-510DF997-BA9C-4431-95EF-A0622881EC9C__GUID-53EDFBB7-6436-4DB3-9CA6-617DFB9BA4F3">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="transactions.html#GUID-A049FE81-8B67-4386-B599-9CDD7E6B6C59" title="为了说明交易的概念，请考虑银行数据库。">示例交易：帐户借方和贷方</a> ”，</span>用于以提交结束的交易示例。
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/COMMIT.html#SQLRF01110" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> ，了解<code class="codeph">COMMIT</code></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT1115"></a><div class="props_rev_3"><a id="GUID-5A632477-AC9E-4BC7-BB06-26B64837BF90" name="GUID-5A632477-AC9E-4BC7-BB06-26B64837BF90"></a><h4 id="CNCPT-GUID-5A632477-AC9E-4BC7-BB06-26B64837BF90" class="sect4">声明级原子性</h4>
                  <div>
                     <p>Oracle数据库支持<strong class="term">语句级原子性</strong> ，这意味着SQL语句是一个原子工作单元，并且完全成功或完全失败。
                     </p>
                     <p>成功的声明与已提交的事务不同。如果数据库在没有错误的情况下解析并运行它作为原子单元，则单个SQL语句将成功执行，就像在多行更新中更改所有行一样。</p>
                     <p>如果SQL语句在执行期间导致错误，则它不成功，因此将回滚该语句的所有效果。此操作是<a href="glossary.html#GUID-187EACC0-1FDD-498A-BEAD-892AC03B50D0"><span class="xrefglossterm">语句级回滚</span></a> 。此操作具有以下特征：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>不成功的SQL语句只会导致它本身会执行的工作丢失。</p>
                           <p>不成功的声明不会导致在当前事务中丢失之前的任何工作。例如，如果<span class="q">“ <a href="transactions.html#GUID-A049FE81-8B67-4386-B599-9CDD7E6B6C59" title="为了说明交易的概念，请考虑银行数据库。">Sample Transaction：Account Debit and Credit</a> ”</span>中的第二个<code class="codeph">UPDATE</code>语句的执行导致错误并被回滚，则第一个<code class="codeph">UPDATE</code>语句执行的工作不会回滚。第一个<code class="codeph">UPDATE</code>语句可以由用户显式提交或回滚。
                           </p>
                        </li>
                        <li>
                           <p>回滚的效果就好像语句从未运行过一样。</p>
                           <p>原子语句的任何副作用（例如，在执行语句时调用的触发器）都被视为原子语句的一部分。作为原子语句的一部分生成的所有工作都成功或者没有成功。</p>
                        </li>
                     </ul>
                     <p>导致语句级回滚的错误示例是尝试插入重复的<a href="glossary.html#GUID-8640EFA5-276C-4812-A078-1F21F55F4200"><span class="xrefglossterm">主键</span></a> 。<a href="glossary.html#GUID-E33D1853-7F99-4FDD-9CC7-D6308E943D61"><span class="xrefglossterm">死锁中</span></a>涉及的单个SQL语句（即对相同数据的竞争）也可能导致语句级回滚。但是，在SQL语句解析期间发现的错误（例如语法错误）尚未运行，因此不会导致语句级回滚。
                     </p>
                     <div class="infoboxnotealso" id="GUID-5A632477-AC9E-4BC7-BB06-26B64837BF90__GUID-601E894B-FB32-4487-8EAF-8D2714D16083">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="sql.html#GUID-B3F2B5B8-B679-4A7C-B1E8-286F36319FCB" title="SQL处理的第一个阶段是SQL解析。此阶段涉及将SQL语句的各个部分分离为可由其他例程处理的数据结构。">SQL解析</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="data-concurrency-and-consistency.html#GUID-C1971E9B-849A-4634-9575-4F8FAD697750" title="死锁是指两个或更多用户正在等待彼此锁定的数据的情况。死锁会阻止某些事务继续工作。">锁和死锁</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="server-side-programming.html#GUID-40297ADF-0968-42F8-B8B9-84AD6ADCBE63" title="数据库触发器是一个编译的存储程序单元，用PL / SQL或Java编写，Oracle数据库调用（" fire=")=" ="">触发器概述</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT039"></a><div class="props_rev_3"><a id="GUID-A2615547-94D2-4346-B156-64C534C5E9E4" name="GUID-A2615547-94D2-4346-B156-64C534C5E9E4"></a><h4 id="CNCPT-GUID-A2615547-94D2-4346-B156-64C534C5E9E4" class="sect4">系统变更编号（SCN）</h4>
                  <div>
                     <p><strong class="term">系统更改编号（SCN）</strong>是Oracle数据库使用的逻辑内部时间戳。
                     </p>
                     <p>SCN对数据库中发生的事件进行排序，这是满足事务的ACID属性所必需的。Oracle数据库使用SCN标记SCN，在此之前已知所有更改都在磁盘上，以便恢复避免应用不必要的重做。数据库还使用SCN标记一组数据不存在重做的点，以便可以停止恢复。</p>
                     <p>SCN以单调递增的顺序发生。Oracle数据库可以像时钟一样使用SCN，因为观察到的SCN表示逻辑时间点，重复观察返回相等或更大的值。如果一个事件的SCN低于另一个事件，则它在数据库中的较早时间发生。多个事件可能共享相同的SCN，这意味着它们在数据库中同时发生。</p>
                     <p>每笔交易都有一个SCN。例如，如果事务更新了一行，则数据库会记录发生此更新的SCN。此事务中的其他修改具有相同的SCN。当事务提交时，数据库会记录此提交的SCN。</p>
                     <p>Oracle数据库在<a href="glossary.html#GUID-78C0E867-233A-4857-B9FE-A3852A9B7BDF"><span class="xrefglossterm">系统全局区域（SGA）中</span></a>增加SCN。当事务修改数据时，数据库会将新SCN写入分配给事务的撤消数据段。然后，日志写入器进程立即将事务的提交记录写入<a href="glossary.html#GUID-2A8BC112-AB70-4B06-9F85-FE975861CEE0"><span class="xrefglossterm">联机重做日志</span></a> 。提交记录具有事务的唯一SCN。Oracle数据库还将SCN用作其<a href="glossary.html#GUID-FFDBC27D-CE99-49C7-8BB9-C8C2D8D52801"><span class="xrefglossterm">实例恢复</span></a>和<a href="glossary.html#GUID-938A3E7D-CC65-496C-9DB3-3CFC45AFA8DD"><span class="xrefglossterm">介质恢复</span></a>机制的一部分。
                     </p>
                     <div class="infoboxnotealso" id="GUID-A2615547-94D2-4346-B156-64C534C5E9E4__GUID-F2FF6329-8DAD-4392-845D-8A832BFD50E8">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="oracle-database-instance.html#GUID-728C6BE1-5687-4DC5-B570-D2042C88F935" title="实例恢复是将联机重做日志中的记录应用于数据文件以重建最近检查点之后所做更改的过程。">实例恢复概述</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="concepts-for-database-administrators.html#GUID-DCE361D9-B486-43B4-B4FD-5722A93203F0" title="备份和恢复是保护数据库免受介质故障或用户错误导致的数据丢失所涉及的一组概念，过程和策略。通常，备份和恢复策略的目的是保护数据库免受数据丢失和重建丢失的数据。">备份和恢复</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT88954"></a><a id="CNCPT1118"></a><div class="props_rev_3"><a id="GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361" name="GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361"></a><h3 id="CNCPT-GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361" class="sect3">交易控制概述</h3>
               <div>
                  <p><span class="bold">事务控制</span>是对DML语句所做的更改以及将DML语句分组到事务中的管理。
                  </p>
                  <p>通常，应用程序设计人员关心事务控制，以便以逻辑单元完成工作，并保持数据的一致性。</p>
                  <p>事务控制涉及使用以下语句，如<span class="q">“ <a href="sql.html#GUID-73F24816-881A-4849-B8A7-EA9B446A24A7" title="事务控制语句管理DML语句所做的更改，并将DML语句分组到事务中。">事务控制语句</a> ”中所述</span> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">COMMIT</code>语句结束当前事务，并使事务中执行的所有更改成为永久更改。<code class="codeph">COMMIT</code>还会擦除事务中的所有保存点并释放事务锁。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">ROLLBACK</code>语句反转当前事务中完成的工作;它导致自上次<code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code>被丢弃以来的所有数据更改。<code class="codeph">ROLLBACK TO SAVEPOINT</code>语句撤消自上一个保存点以来的更改，但不会结束整个事务。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">SAVEPOINT</code>语句标识事务中您可以稍后回滚的点。
                        </p>
                     </li>
                  </ul>
                  <p><a href="transactions.html#GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361__CHDCIJGA" title="此表显示了一个会话，说明了事务控制的基本概念。">表10-1中</a>的会话说明了事务控制的基本概念。
                  </p>
                  <div class="tblformalwide" id="GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361__CHDCIJGA">
                     <p class="titleintable">表10-1交易控制</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="交易控制" width="100%" border="1" summary="This table shows a session that illustrates the basic concepts of transaction control. " frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="5%" id="d53698e2712">Ť</th>
                              <th align="left" valign="bottom" width="45%" id="d53698e2715">会议</th>
                              <th align="left" valign="bottom" width="50%" id="d53698e2718">说明</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="5%" id="d53698e2723" headers="d53698e2712 ">
                                 <p>T0</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d53698e2723 d53698e2715 "><pre class="pre codeblock"><code>承诺;</code></pre></td>
                              <td align="left" valign="top" width="50%" headers="d53698e2723 d53698e2718 ">
                                 <p>此语句结束会话中的任何现有事务。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="5%" id="d53698e2733" headers="d53698e2712 ">
                                 <p>T1</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d53698e2733 d53698e2715 "><pre class="pre codeblock"><code>SET TRANSACTION NAME'sal_update';</code></pre></td>
                              <td align="left" valign="top" width="50%" headers="d53698e2733 d53698e2718 ">
                                 <p>此语句开始一个事务并将其命名为<code class="codeph">sal_update</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="5%" id="d53698e2746" headers="d53698e2712 ">
                                 <p>T2</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d53698e2746 d53698e2715 "><pre class="pre codeblock"><code>UPDATE员工SET薪水= 7000 WHERE last_name ='Banda';</code></pre></td>
                              <td align="left" valign="top" width="50%" headers="d53698e2746 d53698e2718 ">
                                 <p>此声明将Banda的工资更新为7000。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="5%" id="d53698e2756" headers="d53698e2712 ">
                                 <p>T3</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d53698e2756 d53698e2715 "><pre class="pre codeblock"><code>SAVEPOINT after_banda_sal;</code></pre></td>
                              <td align="left" valign="top" width="50%" headers="d53698e2756 d53698e2718 ">
                                 <p>此语句创建一个名为<code class="codeph">after_banda_sal</code>的保存点，使此事务中的更改可以回滚到此时。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="5%" id="d53698e2769" headers="d53698e2712 ">
                                 <p>T4</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d53698e2769 d53698e2715 "><pre class="pre codeblock"><code>UPDATE员工SET薪水= 12000 WHERE last_name ='Greene';</code></pre></td>
                              <td align="left" valign="top" width="50%" headers="d53698e2769 d53698e2718 ">
                                 <p>此声明将Greene的薪水更新为12000。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="5%" id="d53698e2779" headers="d53698e2712 ">
                                 <p>T5</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d53698e2779 d53698e2715 "><pre class="pre codeblock"><code>SAVEPOINT after_greene_sal;</code></pre></td>
                              <td align="left" valign="top" width="50%" headers="d53698e2779 d53698e2718 ">
                                 <p>此语句创建一个名为<code class="codeph">after_greene_sal</code>的保存点，使此事务中的更改可以回滚到此时。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="5%" id="d53698e2792" headers="d53698e2712 ">
                                 <p>T6</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d53698e2792 d53698e2715 "><pre class="pre codeblock"><code>ROLLBACK TO SAVEPOINT after_banda_sal;</code></pre></td>
                              <td align="left" valign="top" width="50%" headers="d53698e2792 d53698e2718 ">
                                 <p>此语句将事务回滚到t3，在t4撤消对Greene工资的更新。<code class="codeph">sal_update</code>事务<span class="italic">尚未</span>结束。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="5%" id="d53698e2808" headers="d53698e2712 ">
                                 <p>T7</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d53698e2808 d53698e2715 "><pre class="pre codeblock"><code>UPDATE员工SET薪水= 11000 WHERE last_name ='Greene';</code></pre></td>
                              <td align="left" valign="top" width="50%" headers="d53698e2808 d53698e2718 ">
                                 <p>此语句将事务<code class="codeph">sal_update</code> Greene的工资更新为11000。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="5%" id="d53698e2821" headers="d53698e2712 ">
                                 <p>T8</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d53698e2821 d53698e2715 "><pre class="pre codeblock"><code>ROLLBACK;</code></pre></td>
                              <td align="left" valign="top" width="50%" headers="d53698e2821 d53698e2718 ">
                                 <p>此语句回滚事务<code class="codeph">sal_update</code>所有更改，结束事务。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="5%" id="d53698e2834" headers="d53698e2712 ">
                                 <p>T9</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d53698e2834 d53698e2715 "><pre class="pre codeblock"><code>SET TRANSACTION NAME'sal_update2';</code></pre></td>
                              <td align="left" valign="top" width="50%" headers="d53698e2834 d53698e2718 ">
                                 <p>此语句在会话中开始一个新事务，并将其命名为<code class="codeph">sal_update2</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="5%" id="d53698e2847" headers="d53698e2712 ">
                                 <p>T10</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d53698e2847 d53698e2715 "><pre class="pre codeblock"><code>UPDATE员工SET薪水= 7050 WHERE last_name ='Banda';</code></pre></td>
                              <td align="left" valign="top" width="50%" headers="d53698e2847 d53698e2718 ">
                                 <p>此声明将Banda的工资更新为7050。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="5%" id="d53698e2858" headers="d53698e2712 ">
                                 <p>T11</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d53698e2858 d53698e2715 "><pre class="pre codeblock"><code>UPDATE员工SET薪水= 10950 WHERE last_name ='Greene';</code></pre></td>
                              <td align="left" valign="top" width="50%" headers="d53698e2858 d53698e2718 ">
                                 <p>此声明将Greene的薪水更新为10950。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="5%" id="d53698e2868" headers="d53698e2712 ">
                                 <p>T12</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d53698e2868 d53698e2715 "><pre class="pre codeblock"><code>承诺;</code></pre></td>
                              <td align="left" valign="top" width="50%" headers="d53698e2868 d53698e2718 ">
                                 <p>此语句提交事务<code class="codeph">sal_update2</code>所做的所有更改，从而结束事务。提交保证更改保存在联机重做日志文件中。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361__GUID-047002A0-E2E5-44C1-8C97-7CCC9D5EBED0">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../sqlrf/Types-of-SQL-Statements.html#SQLRF30043" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> ，了解事务控制语句</p>
                  </div>
               </div><a id="CNCPT1122"></a><div class="props_rev_3"><a id="GUID-0B3F11E3-5C3E-4BB4-9E13-E1EC07D3FD2B" name="GUID-0B3F11E3-5C3E-4BB4-9E13-E1EC07D3FD2B"></a><h4 id="CNCPT-GUID-0B3F11E3-5C3E-4BB4-9E13-E1EC07D3FD2B" class="sect4">交易名称</h4>
                  <div>
                     <p>事务名称是可选的，用户指定的标记，用于提醒事务正在执行的工作。您使用<code class="codeph">SET TRANSACTION</code>命名<code class="codeph">SET TRANSACTION</code> <code class="codeph">...</code> <code class="codeph">NAME</code>语句，如果使用，必须是事务的第一个语句。
                     </p>
                     <p>在<a href="transactions.html#GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361__CHDCIJGA" title="此表显示了一个会话，说明了事务控制的基本概念。">表10-1中</a> ，第一个事务名为<code class="codeph">sal_update</code> ，第二个事务名为<code class="codeph">sal_update2</code> 。
                     </p>
                     <p>交易名称具有以下优点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>监视长时间运行的事务并解决不确定的分布式事务更容易。</p>
                        </li>
                        <li>
                           <p>您可以在应用程序中查看事务名称以及事务ID。例如，数据库管理员可以在监视系统活动时查看Oracle Enterprise Manager（企业管理器）中的事务名称。</p>
                        </li>
                        <li>
                           <p>数据库将事务名称写入事务审计重做记录，因此您可以使用LogMiner在重做日志中搜索特定事务。</p>
                        </li>
                        <li>
                           <p>您可以使用事务名称在数据字典视图中查找特定事务，例如<code class="codeph">V$TRANSACTION</code> 。</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-0B3F11E3-5C3E-4BB4-9E13-E1EC07D3FD2B__GUID-C5CD08B4-812B-40B4-89BB-25DFF035C285">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="concepts-for-database-administrators.html#GUID-BE08A8FA-501A-418E-AD32-3E42AE762026" title="Oracle Enterprise Manager（企业管理器）是一个基于Web的系统管理工具，可以管理Oracle数据库，Exadata数据库计算机，融合中间件，Oracle应用程序，服务器，存储以及非Oracle硬件和软件。">Oracle企业管理器</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../refrn/V-TRANSACTION.html#REFRN30291" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解<code class="codeph">V$TRANSACTION</code></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/SET-TRANSACTION.html#SQLRF01705" target="_blank"><span><cite>Oracle Database SQL语言参考</cite></span></a> ，了解<code class="codeph">SET TRANSACTION</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT88955"></a><div class="props_rev_3"><a id="GUID-E34DAE8D-6632-4B41-948C-13AD8312410D" name="GUID-E34DAE8D-6632-4B41-948C-13AD8312410D"></a><h4 id="CNCPT-GUID-E34DAE8D-6632-4B41-948C-13AD8312410D" class="sect4">活跃交易</h4>
                  <div>
                     <p><strong class="term">活动事务</strong>是已启动但尚未提交或回滚的<strong class="term">事务</strong> 。
                     </p>
                     <p>在<a href="transactions.html#GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361__CHDCIJGA" title="此表显示了一个会话，说明了事务控制的基本概念。">表10-1中</a> ，修改<code class="codeph">sal_update</code>事务中数据的第一个语句是对Banda工资的更新。从成功执行此更新直到<code class="codeph">ROLLBACK</code>语句结束事务， <code class="codeph">sal_update</code>事务处于活动状态。
                     </p>
                     <p>在事务提交或回滚之前，事务所做的数据更改是临时的。在事务结束之前，数据的状态如下表所示。</p>
                     <div class="tblformal" id="GUID-E34DAE8D-6632-4B41-948C-13AD8312410D__GUID-113A87B4-B7A1-4AED-B896-3304A37CD29F">
                        <p class="titleintable">表10-2交易结束前的数据状态</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="交易结束前的数据状态" border="1" summary="This table describes the state of the data before a transaction ends" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d53698e3553">州</th>
                                 <th align="left" valign="bottom" id="d53698e3555">描述</th>
                                 <th align="left" valign="bottom" id="d53698e3557">了解更多</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d53698e3561" headers="d53698e3553 ">
                                    <p>Oracle数据库已在SGA中生成撤消信息。</p>
                                 </td>
                                 <td align="left" valign="top" headers="d53698e3561 d53698e3555 ">
                                    <p>撤消数据包含由事务的SQL语句更改的旧数据值。</p>
                                 </td>
                                 <td align="left" valign="top" headers="d53698e3561 d53698e3557 ">
                                    <p><span class="q">“ <a href="data-concurrency-and-consistency.html#GUID-432C4EDC-F7F2-467C-B85F-4E82D3D58A2F" title="数据库为每个查询提供一致的结果集，保证数据的一致性，用户无需采取任何操作。">在Read Committed Isolation Level中读取一致性</a> ”</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d53698e3576" headers="d53698e3553 ">
                                    <p>Oracle数据库已在SGA的联机重做日志缓冲区中生成重做。</p>
                                 </td>
                                 <td align="left" valign="top" headers="d53698e3576 d53698e3555 ">
                                    <p>重做日志记录包含对数据块的更改以及对撤消块的更改。</p>
                                 </td>
                                 <td align="left" valign="top" headers="d53698e3576 d53698e3557 ">
                                    <p><span class="q">“ <a href="memory-architecture.html#GUID-C2AD1BF6-A5AE-42E9-9677-0AA08126864B" title="重做日志缓冲区是SGA中的循环缓冲区，用于存储描述对数据库所做更改的重做条目。">重做日志缓冲区</a> ”</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d53698e3594" headers="d53698e3553 ">
                                    <p>已对SGA的数据库缓冲区进行了更改。</p>
                                 </td>
                                 <td align="left" valign="top" headers="d53698e3594 d53698e3555 ">
                                    <p>存储在SGA的数据库缓冲区中的已提交事务的数据更改不一定由<a href="glossary.html#GUID-C27AAA54-E60B-49BC-AB04-7B3848EBAFD6"><span class="xrefglossterm">数据库写入程序（DBW）</span></a>立即写入数据文件。磁盘写入可以在提交之前或之后发生。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" headers="d53698e3594 d53698e3557 ">
                                    <p><span class="q">“ <a href="memory-architecture.html#GUID-4FF66585-E469-4631-9225-29D75594CD14" title="数据库缓冲区高速缓存（也称为缓冲区高速缓存）是存储从数据文件读取的数据块副本的存储区。">数据库缓冲区缓存</a> ”</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d53698e3618" headers="d53698e3553 ">
                                    <p>受数据更改影响的行将被锁定。</p>
                                 </td>
                                 <td align="left" valign="top" headers="d53698e3618 d53698e3555 ">
                                    <p>其他用户无法更改受影响的行中的数据，也无法查看未提交的更改。</p>
                                 </td>
                                 <td align="left" valign="top" headers="d53698e3618 d53698e3557 ">
                                    <p><span class="q">“ <a href="data-concurrency-and-consistency.html#GUID-1D60EFCC-03F4-4A04-B099-1B4DE5D02C47" title="数据库维护几种不同类型的锁，具体取决于获取锁的操作。">锁定行为摘要</a> ”</span></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="CNCPT1121"></a><div class="props_rev_3"><a id="GUID-55081904-2D79-430B-9E37-D4127F0BBF7D" name="GUID-55081904-2D79-430B-9E37-D4127F0BBF7D"></a><h4 id="CNCPT-GUID-55081904-2D79-430B-9E37-D4127F0BBF7D" class="sect4">保存点</h4>
                  <div>
                     <p><span class="bold">保存点</span>是事务上下文中用户声明的中间标记。
                     </p>
                     <p>在内部，保存点标记解析为SCN。保存点将长事务划分为较小的部分。</p>
                     <p>如果在长事务中使用保存点，则稍后可以选择在事务中当前点之前但在事务中声明的保存点之后回滚执行的工作。因此，如果出错，则无需重新提交每个语句。<a href="transactions.html#GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361__CHDCIJGA" title="此表显示了一个会话，说明了事务控制的基本概念。">表10-1</a>创建了保存点<code class="codeph">after_banda_sal</code>以便可以将对Greene薪水的更新回滚到此保存点。
                     </p>
                  </div><a id="CNCPT88956"></a><div class="props_rev_3"><a id="GUID-D0B75614-4720-4586-9ABF-99E894FA68BD" name="GUID-D0B75614-4720-4586-9ABF-99E894FA68BD"></a><h5 id="CNCPT-GUID-D0B75614-4720-4586-9ABF-99E894FA68BD" class="sect5">回滚到Savepoint</h5>
                     <div>
                        <p>在未提交的事务中回滚到保存点意味着撤消在指定的保存点之后所做的任何更改，但这并不意味着回滚事务本身。</p>
                        <p>当事务回滚到保存点时，如<a href="transactions.html#GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361__CHDCIJGA" title="此表显示了一个会话，说明了事务控制的基本概念。">表10-1中</a>运行<code class="codeph">ROLLBACK TO SAVEPOINT after_banda_sal</code> ，会发生以下情况：</p>
                        <ol>
                           <li>
                              <p>Oracle数据库仅回滚在保存点之后运行的语句。</p>
                              <p>在<a href="transactions.html#GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361__CHDCIJGA" title="此表显示了一个会话，说明了事务控制的基本概念。">表10-1中</a> ， <code class="codeph">ROLLBACK TO SAVEPOINT</code>导致Greene的<code class="codeph">UPDATE</code>被回滚，而不是Banda的<code class="codeph">UPDATE</code> 。
                              </p>
                           </li>
                           <li>
                              <p>Oracle数据库保留<code class="codeph">ROLLBACK TO SAVEPOINT</code>语句中指定的保存点，但所有后续保存点都将丢失。
                              </p>
                              <p>在<a href="transactions.html#GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361__CHDCIJGA" title="此表显示了一个会话，说明了事务控制的基本概念。">表10-1中</a> ， <code class="codeph">ROLLBACK TO SAVEPOINT</code>导致<code class="codeph">after_greene_sal</code>保存点丢失。
                              </p>
                           </li>
                           <li>
                              <p>Oracle数据库释放在指定保存点之后获取的所有表锁和行锁，但保留在保存点之前获取的所有数据锁。</p>
                           </li>
                        </ol>
                        <p>交易仍然有效，可以继续。</p>
                        <div class="infoboxnotealso" id="GUID-D0B75614-4720-4586-9ABF-99E894FA68BD__GUID-9F3FEA8F-4C01-43B4-BE0C-5B854CBFDA13">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../sqlrf/ROLLBACK.html#SQLRF01610" target="_blank"><span><cite>Oracle Database SQL语言参考</cite></span></a> ，了解<code class="codeph">ROLLBACK</code>和<code class="codeph">SAVEPOINT</code>语句</p>
                              </li>
                              <li>
                                 <p><a href="../lnpls/static-sql.html#LNPLS00608" target="_blank"><span><cite>Oracle Database PL / SQL语言参考</cite></span></a> ，了解事务处理和控制</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT88958"></a><a id="CNCPT88957"></a><div class="props_rev_3"><a id="GUID-07517D95-D5F9-4851-B737-B076336CED13" name="GUID-07517D95-D5F9-4851-B737-B076336CED13"></a><h5 id="CNCPT-GUID-07517D95-D5F9-4851-B737-B076336CED13" class="sect5">排队交易</h5>
                     <div>
                        <p>根据方案，在回滚到保存点后，仍可能阻止等待先前锁定的资源的事务。</p>
                        <p>当事务被另一个事务阻塞时，它会在阻塞事务本身上排队，因此整个阻塞事务必须提交或回滚以阻止事务继续。</p>
                        <p>在下表所示的方案中，会话1回滚到在执行DML语句之前创建的保存点。但是，会话2仍然被阻止，因为它正在等待会话1事务完成。</p>
                        <div class="tblformalwide" id="GUID-07517D95-D5F9-4851-B737-B076336CED13__CHDGIIFB">
                           <p class="titleintable">表10-3回滚到保存点示例</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="回滚到Savepoint示例" width="100%" border="1" summary="This table shows an extended example showing a rollback to savepoint." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="5%" id="d53698e4573">Ť</th>
                                    <th align="left" valign="bottom" width="24%" id="d53698e4576">第1节</th>
                                    <th align="left" valign="bottom" width="24%" id="d53698e4579">第二节</th>
                                    <th align="left" valign="bottom" width="24%" id="d53698e4582">第3节</th>
                                    <th align="left" valign="bottom" width="22%" id="d53698e4585">说明</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="5%" id="d53698e4590" headers="d53698e4573 ">
                                       <p>T0</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4590 d53698e4576 "><pre class="oac_no_warn" dir="ltr">UPDATE员工SET薪水= 7000 WHERE last_name ='Banda';</pre></td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4590 d53698e4579 "> </td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4590 d53698e4582 "> </td>
                                    <td align="left" valign="top" width="22%" headers="d53698e4590 d53698e4585 ">
                                       <p>会话1开始交易。会话在<code class="codeph">Banda</code>行（TX）上放置一个独占锁，并在表上放置一个子外置表锁（SX）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="5%" id="d53698e4605" headers="d53698e4573 ">
                                       <p>T1</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4605 d53698e4576 "><pre class="oac_no_warn" dir="ltr">SAVEPOINT after_banda_sal;</pre></td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4605 d53698e4579 "> </td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4605 d53698e4582 "> </td>
                                    <td align="left" valign="top" width="22%" headers="d53698e4605 d53698e4585 ">
                                       <p>会话1创建名为<code class="codeph">after_banda_sal</code>的保存点。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="5%" id="d53698e4620" headers="d53698e4573 ">
                                       <p>T2</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4620 d53698e4576 "><pre class="oac_no_warn" dir="ltr">UPDATE员工SET薪水= 12000 WHERE last_name ='Greene';</pre></td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4620 d53698e4579 "> </td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4620 d53698e4582 "> </td>
                                    <td align="left" valign="top" width="22%" headers="d53698e4620 d53698e4585 ">
                                       <p>会话1锁定<code class="codeph">Greene</code>行。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="5%" id="d53698e4635" headers="d53698e4573 ">
                                       <p>T3</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4635 d53698e4576 "> </td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4635 d53698e4579 "><pre class="oac_no_warn" dir="ltr">UPDATE员工SET薪水= 14000 WHERE last_name ='Greene';</pre></td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4635 d53698e4582 "> </td>
                                    <td align="left" valign="top" width="22%" headers="d53698e4635 d53698e4585 ">
                                       <p>会话2尝试更新<code class="codeph">Greene</code>行，但无法获取锁定，因为会话1在此行上有锁定。第2节没有开始交易。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="5%" id="d53698e4650" headers="d53698e4573 ">
                                       <p>T4</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4650 d53698e4576 "><pre class="oac_no_warn" dir="ltr">ROLLBACK TO SAVEPOINT after_banda_sal;</pre></td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4650 d53698e4579 "> </td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4650 d53698e4582 "> </td>
                                    <td align="left" valign="top" width="22%" headers="d53698e4650 d53698e4585 ">
                                       <p>会话1个回滚更新到工资<code class="codeph">Greene</code> ，释放用于行锁定<code class="codeph">Greene</code> 。在t0获取的表锁未释放。
                                       </p>
                                       <p>此时，会话2 <span class="italic">仍然</span>被会话1阻止，因为会话2在会话1 <span class="italic">事务</span>上排队，该<span class="italic">事务</span>尚未完成。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="5%" id="d53698e4676" headers="d53698e4573 ">
                                       <p>T5</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4676 d53698e4576 "> </td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4676 d53698e4579 "> </td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4676 d53698e4582 "><pre class="oac_no_warn" dir="ltr">UPDATE员工SET薪水= 11000 WHERE last_name ='Greene';</pre></td>
                                    <td align="left" valign="top" width="22%" headers="d53698e4676 d53698e4585 ">
                                       <p><code class="codeph">Greene</code>行目前已解锁，因此会话3获取了对<code class="codeph">Greene</code>行更新的锁定。此语句在会话3中开始事务。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="5%" id="d53698e4694" headers="d53698e4573 ">
                                       <p>T6</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4694 d53698e4576 "><pre class="oac_no_warn" dir="ltr">承诺;</pre></td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4694 d53698e4579 "> </td>
                                    <td align="left" valign="top" width="24%" headers="d53698e4694 d53698e4582 "> </td>
                                    <td align="left" valign="top" width="22%" headers="d53698e4694 d53698e4585 ">
                                       <p>第1节提交，结束其交易。第2节现已加入，以更新第3节交易背后的<code class="codeph">Greene</code>行。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-07517D95-D5F9-4851-B737-B076336CED13__GUID-4082A562-5884-4A65-BDD6-49719B340308">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="data-concurrency-and-consistency.html#GUID-DB33AD91-8A4E-44CE-A6B2-654909143E5F" title="当某些事件发生时，Oracle数据库会自动释放锁，以便事务不再需要该资源。">锁定持续时间</a> ”</span>以了解有关Oracle数据库何时发布锁定的更多信息</p>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT1120"></a><div class="props_rev_3"><a id="GUID-C289D507-93F1-412E-8AAC-C9B758212CEC" name="GUID-C289D507-93F1-412E-8AAC-C9B758212CEC"></a><h4 id="CNCPT-GUID-C289D507-93F1-412E-8AAC-C9B758212CEC" class="sect4">回滚交易</h4>
                  <div>
                     <p>回滚未提交的事务将撤消对事务中SQL语句执行的数据的任何更改。</p>
                     <p>回滚事务后，事务中完成的工作的效果不再存在。在回滚整个事务而不引用任何保存点时，Oracle数据库执行以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>通过使用相应的撤消段撤消事务中所有SQL语句所做的所有更改</p>
                           <p>每个活动事务的事务表条目包含指向事务的所有撤消数据（与应用程序的相反顺序）的指针。数据库从撤消段读取数据，反转操作，然后将撤消条目标记为已应用。因此，如果事务插入一行，则回滚将删除它。如果事务更新了一行，则回滚会反转更新。如果事务删除了一行，则回滚会重新插入它。在<a href="transactions.html#GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361__CHDCIJGA" title="此表显示了一个会话，说明了事务控制的基本概念。">表10-1中</a> ， <code class="codeph">ROLLBACK</code>反转了Greene和Banda工资的更新。
                           </p>
                        </li>
                        <li>
                           <p>释放事务持有的所有数据锁</p>
                        </li>
                        <li>
                           <p>擦除事务中的所有保存点</p>
                           <p>在<a href="transactions.html#GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361__CHDCIJGA" title="此表显示了一个会话，说明了事务控制的基本概念。">表10-1中</a> ， <code class="codeph">ROLLBACK</code>删除保存点<code class="codeph">after_banda_sal</code> 。<code class="codeph">ROLLBACK TO SAVEPOINT</code>语句删除了<code class="codeph">after_greene_sal</code>保存点。
                           </p>
                        </li>
                        <li>
                           <p>结束交易</p>
                           <p>在<a href="transactions.html#GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361__CHDCIJGA" title="此表显示了一个会话，说明了事务控制的基本概念。">表10-1中</a> ， <code class="codeph">ROLLBACK</code>使数据库处于与执行初始<code class="codeph">COMMIT</code>之后相同的状态。
                           </p>
                        </li>
                     </ul>
                     <p>回滚的持续时间是修改数据量的函数。</p>
                     <div class="infoboxnotealso" id="GUID-C289D507-93F1-412E-8AAC-C9B758212CEC__GUID-62DA8A3D-986C-4F05-BBDF-72E42830532E">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="logical-storage-structures.html#GUID-6E206D3A-E0E7-4B23-9C41-516FB35BC3FE" title="Oracle数据库维护事务操作的记录，统称为撤消数据。">撤消细分</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/ROLLBACK.html#GUID-94551F0C-A47F-43DE-BC68-9B1C1ED38C93" target="_blank"><span><cite>Oracle Database SQL语言参考</cite></span></a> ，了解<code class="codeph">ROLLBACK</code>命令</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT1119"></a><div class="props_rev_3"><a id="GUID-C3FE1082-94AA-4BE8-98F2-480205D99DCA" name="GUID-C3FE1082-94AA-4BE8-98F2-480205D99DCA"></a><h4 id="CNCPT-GUID-C3FE1082-94AA-4BE8-98F2-480205D99DCA" class="sect4">交易提交</h4>
                  <div>
                     <p>提交结束当前事务，并在事务中执行永久性所有更改。</p>
                     <p>在<a href="transactions.html#GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361__CHDCIJGA" title="此表显示了一个会话，说明了事务控制的基本概念。">表10-1中</a> ，第二个事务以<code class="codeph">sal_update2</code>开头，以显式<code class="codeph">COMMIT</code>语句结束。现在，两个<code class="codeph">UPDATE</code>语句产生的更改是永久性的。
                     </p>
                     <p>事务提交时，会发生以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>数据库为<code class="codeph">COMMIT</code>生成SCN。</p>
                           <p>事务已提交的关联<a href="glossary.html#GUID-78A7FBF2-2EB5-4BD6-AECC-D61A5AEF1158"><span class="xrefglossterm">撤消表空间</span></a>的内部事务表记录。事务的相应唯一SCN被分配并记录在事务表中。
                           </p>
                        </li>
                        <li>
                           <p><a href="glossary.html#GUID-E96BC851-0B78-4250-8EAB-26EBDF4FE5A6"><span class="xrefglossterm">日志写入器进程（LGWR）</span></a>进程将重做日志缓冲区中的剩余重做日志条目写入联机重做日志，并将事务SCN写入联机重做日志。<span class="italic">此原子事件构成事务的提交。</span></p>
                        </li>
                        <li>
                           <p>Oracle数据库发布了行和表上的锁。</p>
                           <p>排队等待未提交事务持有的锁的用户可以继续他们的工作。</p>
                        </li>
                        <li>
                           <p>Oracle数据库删除保存点。</p>
                           <p>在<a href="transactions.html#GUID-5BB15405-8A03-47DE-8A20-63E1B83E1361__CHDCIJGA" title="此表显示了一个会话，说明了事务控制的基本概念。">表10-1中</a> ， <code class="codeph">sal_update</code>事务中不存在保存点，因此没有擦除保存点。
                           </p>
                        </li>
                        <li>
                           <p>Oracle数据库执行<a href="glossary.html#GUID-5E20E19B-FC72-40E3-A129-306B52DC9607"><span class="xrefglossterm">提交清除</span></a> 。
                           </p>
                           <p>如果包含来自已提交事务的数据的已修改块仍在SGA中，并且如果没有其他会话正在修改它们，则数据库将从块中删除与锁相关的事务信息（ITL条目）。</p>
                           <p>理想情况下， <code class="codeph">COMMIT</code>清除块，以便后续的<code class="codeph">SELECT</code>不必执行此任务。如果特定行没有ITL条目，则不会锁定它。如果特定行存在ITL条目，则它可能已锁定，因此会话必须检查还原段标头以确定此感兴趣的事务是否已提交。如果感兴趣的事务已提交，则会话清除该块，生成重做。但是，如果<code class="codeph">COMMIT</code>先前清理了ITL，则不需要检查和清除。
                           </p>
                           <div class="infoboxnote" id="GUID-C3FE1082-94AA-4BE8-98F2-480205D99DCA__GUID-26D30903-DFCE-48DD-BA67-9895B3BFB233">
                              <p class="notep1">注意：</p>
                              <p>由于块清除会生成重做，因此查询可能会生成重做，从而导致在下一个<a href="glossary.html#GUID-95DBDA37-4C57-444F-B660-D52B4A99D919"><span class="xrefglossterm">检查点</span></a>期间写入块。
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Oracle数据库标记事务已完成。</p>
                        </li>
                     </ul>
                     <p>提交事务后，用户可以查看更改。</p>
                     <p>通常，无论事务大小如何，提交都是快速操作。提交的速度不会随着事务中修改的数据大小而增加。提交的最长部分是LGWR执行的物理磁盘I / O.但是，LGWR花费的时间减少了，因为它已经在后台逐步写入重做日志缓冲区的内容。</p>
                     <p>默认行为是LGWR同步将重做写入联机重做日志，并且在将提交返回给用户之前，事务等待缓冲的重做在磁盘上。但是，对于较低的事务提交延迟，应用程序开发人员可以指定重做异步写入，以便事务不需要等待重做在磁盘上并且可以立即从<code class="codeph">COMMIT</code>调用返回。
                     </p>
                     <div class="infoboxnotealso" id="GUID-C3FE1082-94AA-4BE8-98F2-480205D99DCA__GUID-5FA0B3EF-8402-42EF-9FDB-676602149DDF">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“可<a href="data-concurrency-and-consistency.html#GUID-8DA9A191-4CA3-4B1A-995F-4B17471C2738" title="在可序列化隔离级别中，事务只能看到在事务而非查询开始时提交的更改以及事务本身所做的更改。">序列化隔离级别</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="data-concurrency-and-consistency.html#GUID-AD960556-7F7B-4242-8B91-6DA22AABA27D" title="通常，多用户数据库使用某种形式的数据锁定来解决与数据并发性，一致性和完整性相关的问题。">锁定机制</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关LGWR的更多信息，请参阅<span class="q">“ <a href="process-architecture.html#GUID-D8AE1B78-69D5-4F0F-8BE3-C91AA2514F2D" title="后台进程是多进程Oracle数据库使用的其他进程。后台进程执行操作数据库所需的维护任务，并最大限度地提高多个用户的性能。">后台进程概述</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关异步提交的更多信息，请<a href="../lnpls/static-sql.html#LNPLS592" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT89217"></a><div class="props_rev_3"><a id="GUID-47BCD081-8FFF-4D13-A0B1-F531521BC6C3" name="GUID-47BCD081-8FFF-4D13-A0B1-F531521BC6C3"></a><h3 id="CNCPT-GUID-47BCD081-8FFF-4D13-A0B1-F531521BC6C3" class="sect3">交易保护概述</h3>
               <div>
                  <p><strong class="term">Transaction Guard</strong>是一种API，应用程序可以使用它来提供<strong class="term">事务幂等性</strong> ，这是数据库保留保证提交结果的能力，该结果指示事务是否已提交和完成。Oracle数据库为JDBC瘦，OCI，OCCI和ODP.Net提供API。</p>
                  <p><a href="glossary.html#GUID-2F7DE61F-BD7C-4A89-91E6-CE0D193E8294"><span class="xrefglossterm">可恢复的错误</span></a>是由外部系统故障引起的，与正在执行的应用程序会话逻辑无关。在前台进程，网络，节点，存储和数据库的计划内和计划外中断之后发生可恢复的错误。如果中断中断了客户端应用程序与数据库之间的连接，则应用程序会收到断开连接错误消息。连接中断时运行的事务称为正在进行的<a href="glossary.html#GUID-4A49C543-CD3B-4F01-BF01-21F15CEABEE1"><span class="xrefglossterm">事务</span></a> 。
                  </p>
                  <p>要决定是重新提交事务还是将结果（已提交或未提交）返回给客户端，应用程序必须确定正在进行的事务的结果。在<span>Oracle Database 12c</span>之前，返回到客户端的提交消息不是持久的。检查事务并不能保证它在检查后不会提交，允许重复事务和其他形式的逻辑损坏。例如，用户可能在网上购买图书时刷新网络浏览器，并为同一本书收取两次费用。
                  </p>
                  <div class="infoboxnotealso" id="GUID-47BCD081-8FFF-4D13-A0B1-F531521BC6C3__GUID-43A398FD-1438-4ADC-90BF-9293420ADFFC">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="transactions.html#GUID-31319EA7-994C-4D25-8814-0214ABD3CBDA" title="事务是包含一个或多个SQL语句的逻辑原子工作单元。">交易简介</a> ”</span></p>
                        </li>
                        <li>
                           <p><a href="../adfns/transaction-guard.html#ADFNS1062" target="_blank"><span><cite>Oracle数据库开发指南</cite></span></a> ，了解Transaction Guard</p>
                        </li>
                        <li>
                           <p><a href="../racad/ensuring-application-continuity.html#RACAD8423" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”</cite></span></a> ，了解如何为Transaction Guard配置服务</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="CNCPT89319"></a><div class="props_rev_3"><a id="GUID-DDABC6A2-4CFC-4934-8294-BC44772BC5BC" name="GUID-DDABC6A2-4CFC-4934-8294-BC44772BC5BC"></a><h4 id="CNCPT-GUID-DDABC6A2-4CFC-4934-8294-BC44772BC5BC" class="sect4">交易卫士的好处</h4>
                  <div>
                     <p>从<span>Oracle Database 12c开始</span> ，Transaction Guard为应用程序提供了一个工具，用于确定可恢复中断后的正在进行的事务的状态。
                     </p>
                     <p>使用Transaction Guard，应用程序可以确保事务执行不超过一次。例如，如果在线书店应用程序确定先前提交的提交失败，则应用程序可以安全地重新提交。</p>
                     <p>Transaction Guard为最多一次执行提供了一个工具，以避免应用程序执行重复提交。Transaction Guard为每笔交易提供已知结果。</p>
                     <p>Transaction Guard是Oracle数据库的核心功能。应用程序连续性在屏蔽最终用户的中断时使用Transaction Guard。如果没有Transaction Guard，应用程序在发生错误后重试可能会导致重复的事务被提交。</p>
                     <div class="infoboxnotealso" id="GUID-DDABC6A2-4CFC-4934-8294-BC44772BC5BC__GUID-38F71CC2-49CD-4EF0-B459-2755C76B2724">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="transactions.html#GUID-0B463F72-73C9-4EB6-B98D-5EC828CDB1E7" title="应用程序连续性尝试通过在计划外和计划中断后重放未完成的应用程序请求来屏蔽应用程序中断。在此上下文中，请求是应用程序的工作单元。">应用程序连续性概述</a> ”</span>了解Application Continuity，它与Transaction Guard配合使用，帮助开发人员实现高应用程序可用性</p>
                           </li>
                           <li>
                              <p><a href="../adfns/high-availability.html#ADFNS924" target="_blank"><span><cite>Oracle数据库开发指南</cite></span></a> ，了解Transaction Guard，包括支持和包含的事务的类型</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT89320"></a><div class="props_rev_3"><a id="GUID-BB758CA1-B046-463E-969F-69C3E87E5DAF" name="GUID-BB758CA1-B046-463E-969F-69C3E87E5DAF"></a><h4 id="CNCPT-GUID-BB758CA1-B046-463E-969F-69C3E87E5DAF" class="sect4">交易卫士如何运作</h4>
                  <div>
                     <p>本节介绍了丢失提交消息的问题以及Transaction Guard如何使用逻辑事务ID来解决问题。</p>
                  </div><a id="CNCPT89219"></a><a id="CNCPT89218"></a><div class="props_rev_3"><a id="GUID-E567DC50-32EC-440E-9352-18E8AD79340B" name="GUID-E567DC50-32EC-440E-9352-18E8AD79340B"></a><h5 id="CNCPT-GUID-E567DC50-32EC-440E-9352-18E8AD79340B" class="sect5">丢失提交消息</h5>
                     <div>
                        <p>在设计幂等性时，开发人员必须在提交commit语句后解决通信失败的问题。提交消息不会在数据库中保留，因此在发生故障后无法检索。</p>
                        <p>下图是客户端应用程序与数据库之间交互的高级表示。</p>
                        <div class="figure" id="GUID-E567DC50-32EC-440E-9352-18E8AD79340B__CIHEHJGB">
                           <p class="titleinfigure">图10-2丢失提交消息</p><img src="img/cncpt356.png" alt="下面是图10-2的描述" title="下面是图10-2的描述" longdesc="img_text/cncpt356.html"><br><a href="img_text/cncpt356.html">“图10-2丢失提交消息”的描述</a></div>
                        <!-- class="figure" -->
                        <p>在标准提交案例中，数据库提交事务并将成功消息返回给客户端。在<a href="transactions.html#GUID-E567DC50-32EC-440E-9352-18E8AD79340B__CIHEHJGB">图10-2中</a> ，客户端提交commit语句并收到一条消息，指出通信失败。出于多种原因可能会发生此类故障，包括数据库实例故障或网络中断。在这种情况下，客户端不知道事务的状态。
                        </p>
                        <p>通信失败后，数据库可能仍在运行提交，并且不知道客户端已断开连接。检查事务状态并不能保证在检查后不会提交活动事务。如果客户端由于此过时信息而重新发送提交，则数据库可能会重复该事务，从而导致逻辑损坏。</p>
                     </div>
                  </div><a id="CNCPT89220"></a><div class="props_rev_3"><a id="GUID-10F207C2-C59A-4707-A9A0-BDA3B19DE8D3" name="GUID-10F207C2-C59A-4707-A9A0-BDA3B19DE8D3"></a><h5 id="CNCPT-GUID-10F207C2-C59A-4707-A9A0-BDA3B19DE8D3" class="sect5">逻辑交易ID</h5>
                     <div>
                        <p>Oracle数据库通过使用称为<span class="bold">逻辑事务ID</span>的全局唯一标识符来解决通信故障。</p>
                        <p>此ID包含会话首次连接时分配的逻辑会话号，以及每次会话提交或回滚时更新的运行提交号。<a id="fn_1" name="fn_1" href="#fn_1" for="" oracle="" real="" application="" clusters="" (oracle="" rac),="" the="" logical="" transaction="" includes="" database="" instance="" number="" as="" a="" prefix=")" ="" onclick="footdisplay(1, "><sup>Foot 1</sup></a>从应用程序的角度来看，逻辑事务ID唯一地标识在失败的会话上提交的最后一个数据库事务。
                        </p>
                        <p>对于来自其中提交一个或多个事务的客户端的每次往返，数据库存储逻辑事务ID。对于每次提交数据的往返，此ID可以为应用程序和数据库之间的交互提供事务幂等性。</p>
                        <p>最多一次的协议允许数据库执行以下操作，从而允许访问提交结果：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>保持同意重试的保留期的逻辑事务ID</p>
                           </li>
                           <li>
                              <p>在提交时保留逻辑事务ID</p>
                           </li>
                        </ul>
                        <p>在事务正在运行时，数据库和客户端都保存逻辑事务ID。在从连接池借用时，以及在执行一个或多个提交操作的客户端驱动程序的每次往返时，数据库为客户端提供身份验证时的逻辑事务ID。</p>
                        <p>在应用程序可以确定可恢复错误之后的最后一个事务的结果之前，应用程序使用Java，OCI，OCCI或ODP.Net API获取在客户端保存的逻辑事务ID。然后，应用程序使用逻辑事务ID调用PL / SQL过程<code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code> ，以确定上次提交的结果：已提交（ <code class="codeph">true</code>或<code class="codeph">false</code> ）和用户调用已完成（ <code class="codeph">true</code>或<code class="codeph">false</code> ）。
                        </p>
                        <p>使用Transaction Guard时，应用程序可以在错误可恢复且会话中的最后一个事务未提交时重放事务。当最后一个事务已提交且用户调用已完成时，应用程序可以继续。应用程序可以使用Transaction Guard将已知结果返回给客户端，以便客户端可以决定下一步要采取的操作。</p>
                        <div class="infoboxnotealso" id="GUID-10F207C2-C59A-4707-A9A0-BDA3B19DE8D3__GUID-6116E843-6CE2-47FA-B081-0B0C4CCC5707">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../adfns/transaction-guard.html#ADFNS324" target="_blank"><span><cite>Oracle数据库开发指南</cite></span></a> ，了解逻辑事务ID</p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_APP_CONT.html#ARPLS73456" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解有关<code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code>过程的更多信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT89221"></a><a id="CNCPT89321"></a><div class="props_rev_3"><a id="GUID-6AEE7250-D39B-4DB7-BF71-E2C1841BF598" name="GUID-6AEE7250-D39B-4DB7-BF71-E2C1841BF598"></a><h4 id="CNCPT-GUID-6AEE7250-D39B-4DB7-BF71-E2C1841BF598" class="sect4">交易警卫：示例</h4>
                  <div>
                     <p>在这种情况下，由于可恢复的错误，提交消息将丢失。</p>
                     <p>Transaction Guard使用逻辑事务ID来保留<code class="codeph">COMMIT</code>语句的结果，确保事务已知结果。
                     </p>
                     <div class="figure" id="GUID-6AEE7250-D39B-4DB7-BF71-E2C1841BF598__CIHGGHBA">
                        <p class="titleinfigure">图10-3检查逻辑事务状态</p><img src="img/cncpt365.png" alt="下面是图10-3的描述" title="下面是图10-3的描述" longdesc="img_text/cncpt365.html"><br><a href="img_text/cncpt365.html">“图10-3逻辑事务状态检查”的说明</a></div>
                     <!-- class="figure" -->
                     <p>在<a href="transactions.html#GUID-6AEE7250-D39B-4DB7-BF71-E2C1841BF598__CIHGGHBA">图10-3中</a> ，数据库通知应用程序提交的事务以及最后一次用户调用是否已完成。然后，应用程序可以将结果返回给最终用户。可能性是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果提交的事务和用户调用已完成，则应用程序可以将结果返回给最终用户并继续。</p>
                        </li>
                        <li>
                           <p>如果事务已提交但用户调用未完成，则应用程序可以将结果返回给最终用户并发出警告。示例包括丢失的绑定或丢失的行数。某些应用程序依赖于额外信息，而其他应用程序则不依赖。</p>
                        </li>
                        <li>
                           <p>如果未提交用户调用，则应用程序可以将此信息返回给最终用户，或安全地重新提交。该协议是有保证的。当提交状态返回false时，将阻止上次提交提交。</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-6AEE7250-D39B-4DB7-BF71-E2C1841BF598__GUID-C73C378A-C218-4717-9792-9EC257CE4A23">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../adfns/transaction-guard.html#ADFNS8000" target="_blank"><span><cite>Oracle数据库开发指南</cite></span></a> ，了解如何使用Transaction Guard</p>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT89322"></a><div class="props_rev_3"><a id="GUID-0B463F72-73C9-4EB6-B98D-5EC828CDB1E7" name="GUID-0B463F72-73C9-4EB6-B98D-5EC828CDB1E7"></a><h3 id="CNCPT-GUID-0B463F72-73C9-4EB6-B98D-5EC828CDB1E7" class="sect3">应用程序连续性概述</h3>
               <div>
                  <p><span class="bold">应用程序连续性</span>尝试通过在计划外和计划中断后重放未完成的应用程序请求来屏蔽应用程序中断。在此上下文中，请求是应用程序的工作单元。
                  </p>
                  <p>通常，请求对应于单个数据库连接上的单个Web请求的DML语句和其他数据库调用。通常，请求由在连接池中签出和签入数据库连接之间的调用划分。</p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="transactions.html#GUID-0B2F6AD0-92ED-431D-BEB6-10DFC3715FCC" title="开发人员面临的一个基本问题是如何屏蔽最终用户丢失的数据库会话。">应用程序连续性的好处</a></p>
                     </li>
                     <li>
                        <p><a href="transactions.html#GUID-2E973242-2B39-42FC-AA16-CD97B460B6D2" title="Application Continuity的关键组件是运行时，重新连接和重放。">应用程序连续性体系结构</a></p>
                     </li>
                  </ul>
               </div><a id="CNCPT89323"></a><div class="props_rev_3"><a id="GUID-0B2F6AD0-92ED-431D-BEB6-10DFC3715FCC" name="GUID-0B2F6AD0-92ED-431D-BEB6-10DFC3715FCC"></a><h4 id="CNCPT-GUID-0B2F6AD0-92ED-431D-BEB6-10DFC3715FCC" class="sect4">应用程序连续性的好处</h4>
                  <div>
                     <p>开发人员面临的一个基本问题是如何屏蔽最终用户丢失的数据库会话。</p>
                     <p>应用程序连续性尝试通过在任何组件中断数据库和客户端之间的对话时还原数据库会话来解决丢失的会话问题。还原的数据库会话包括所有状态，游标，变量以及存在时的最新事务。</p>
                  </div>
                  <div class="props_rev_3"><a id="GUID-C9064A61-CB65-463B-89D6-66AB18F55845" name="GUID-C9064A61-CB65-463B-89D6-66AB18F55845"></a><h5 id="CNCPT-GUID-C9064A61-CB65-463B-89D6-66AB18F55845" class="sect5">应用程序连续性的用例</h5>
                     <div>
                        <p>在典型的情况下，客户端已向数据库提交了请求，该请求已建立了事务和非事务状态。</p>
                        <p>客户端的状态保持最新状态，可能包括输入的数据，返回的数据以及缓存的数据和变量。但是，应用程序需要在其中运行的数据库会话状态将丢失。</p>
                        <p>如果客户端请求已启动一个或多个事务，则应用程序将面临以下可能性：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果提交<span class="italic">已经</span>发出，然后提交返回的消息给客户端不耐用。客户端不知道请求是否已提交，以及处于非事务处理状态的位置。
                              </p>
                           </li>
                           <li>
                              <p>如果提交<span class="italic">尚未</span>颁发，或者如果它发出，但没有执行，然后在飞行事务回滚，必须按正确的状态使用会话重新提交。
                              </p>
                           </li>
                        </ul>
                        <p>如果重播成功，则不会中断计划内和计划外中断的数据库用户服务。如果数据库检测到应用程序看到并可能对其执行操作的数据发生更改，则拒绝重放。当超出允许开始重播的时间，应用程序使用受限制的调用，或者应用程序已使用<code class="codeph">disableReplay</code>方法显式禁用重播时，不会尝试重播。
                        </p>
                        <div class="infoboxnotealso" id="GUID-C9064A61-CB65-463B-89D6-66AB18F55845__GUID-33A601A4-B4A2-4AA6-98D3-761603DB514E">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../racad/ensuring-application-continuity.html#GUID-70D9CDC4-0C86-432B-A04E-1618AF5C35A4" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”，</cite></span></a>以了解有关Application Continuity如何适用于数据库会话的更多信息</p>
                        </div>
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-9D9947D6-99E9-4862-84A4-1D8676695BC6" name="GUID-9D9947D6-99E9-4862-84A4-1D8676695BC6"></a><h5 id="CNCPT-GUID-9D9947D6-99E9-4862-84A4-1D8676695BC6" class="sect5">计划维护的应用程序连续性</h5>
                     <div>
                        <p>针对计划中断的应用程序连续性使应用程序能够继续对可以可靠地耗尽或迁移的数据库会话进行操作。</p>
                        <p>预定维护不需要中断应用程序工作。应用程序连续性提供了从当前位置流向当前不受维护影响的新位置的有效工作时间。在排放间隔结束时，会话可以保留在计划维护的数据库实例上。应用程序连续性可以将这些会话故障转移到正常运行的站点，而不是强制断开这些会话，并重新提交任何正在进行的事务。</p>
                        <p>启用应用程序连续性后，数据库可以执行以下操作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在维护期间报告传入或现有工作没有错误</p>
                           </li>
                           <li>
                              <p>将活动数据库会话重定向到其他功能服务</p>
                           </li>
                           <li>
                              <p>在维护期间和之后根据需要重新平衡数据库会话</p>
                           </li>
                        </ul>
                        <p>使用SRVCTL实用程序，全局数据服务控制实用程序（GDSCTL）和Oracle Data Guard Broker的<code class="codeph">drain_timeout</code>和<code class="codeph">stop_option</code>服务属性控制计划维护期间的排放行为。<code class="codeph">DBMS_SERVICE</code>包提供底层基础结构。
                        </p>
                        <div class="infoboxnotealso" id="GUID-9D9947D6-99E9-4862-84A4-1D8676695BC6__GUID-33A601A4-B4A2-4AA6-98D3-761603DB514E">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../racad/ensuring-application-continuity.html#GUID-BD699AEB-9F85-42A8-8687-5A979918938D" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”</cite></span></a>了解更多应用程序连续性</p>
                              </li>
                              <li>
                                 <p><a href="../arpls/index.html" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a>以了解有关<code class="codeph">DBMS_SERVICE</code>更多信息</p>
                              </li>
                              <li>
                                 <p>用于SRVCTL命令参考的<a href="../racad/server-control-utility-reference.html#RACAD-GUID-C2D37BAB-DA98-49B4-A777-F2B3AA8D2E7A" target="_blank"><span><cite>Oracle Real Application Clusters管理和部署指南</cite></span></a></p>
                              </li>
                              <li>
                                 <p>用于GDSCTL命令参考的<a href="../gsmug/global-data-services-config.html#GSMUG-GUID-77AC1ABB-9401-4ECB-B31D-60C46D405595" target="_blank"><span><cite>Oracle数据库全局数据服务概念和管理指南</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT89325"></a><a id="CNCPT89324"></a><div class="props_rev_3"><a id="GUID-2E973242-2B39-42FC-AA16-CD97B460B6D2" name="GUID-2E973242-2B39-42FC-AA16-CD97B460B6D2"></a><h4 id="CNCPT-GUID-2E973242-2B39-42FC-AA16-CD97B460B6D2" class="sect4">应用程序连续性体系结构</h4>
                  <div>
                     <p>Application Continuity的关键组件是运行时，重新连接和重放。</p>
                     <p>阶段如下：</p>
                     <ol>
                        <li>
                           <p>正常运行时</p>
                           <p>在此阶段，Application Continuity执行以下任务：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>标识数据库请求</p>
                              </li>
                              <li>
                                 <p>确定本地和数据库调用是否可重放</p>
                              </li>
                              <li>
                                 <p>构建代理对象以在必要时启用重播并管理队列</p>
                              </li>
                              <li>
                                 <p>保持原始调用和这些调用的验证，直到数据库请求或重放结束被禁用</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>重新连接</p>
                           <p>此阶段由可恢复的错误触发。应用程序连续性执行以下任务：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>确保为数据库请求启用重播</p>
                              </li>
                              <li>
                                 <p>管理超时</p>
                              </li>
                              <li>
                                 <p>获得与数据库的新连接，然后验证这是否是有效的数据库目标</p>
                              </li>
                              <li>
                                 <p>使用Transaction Guard确定最后一个事务是否成功提交（未重新提交已提交的事务）</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>重播</p>
                           <p>应用程序连续性执行以下任务：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>重播队列中保存的呼叫</p>
                              </li>
                              <li>
                                 <p>如果在重放期间出现用户可见的结果更改，则禁用重播</p>
                              </li>
                              <li>
                                 <p>不允许提交，但允许最后一次调用（遇到错误）提交</p>
                              </li>
                           </ul>
                        </li>
                     </ol>
                     <p>成功重播后，请求将从故障点继续。</p>
                     <div class="infoboxnotealso" id="GUID-2E973242-2B39-42FC-AA16-CD97B460B6D2__GUID-FEF124B5-3D23-4397-B025-393E3F4127A5">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="transactions.html#GUID-47BCD081-8FFF-4D13-A0B1-F531521BC6C3" title="Transaction Guard是一种API，应用程序可以使用它来提供事务幂等性，这是数据库保留保证提交结果的能力，该结果指示事务是否已提交和完成。Oracle数据库为JDBC瘦，OCI，OCCI和ODP.Net提供API。">交易警卫概述</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../racad/ensuring-application-continuity.html#GUID-91427DA2-2C5F-46E9-93D4-B5FF6427A69B" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”</cite></span></a>以了解有关应用程序连续性的更多信息</p>
                           </li>
                           <li>
                              <p><a href="../jjdbc/application-continuity.html#JJDBC29059" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南</span></a>和<a href="../jajdb/index.html" target="_blank"><span class="italic">Oracle数据库JDBC Java API参考，</span></a>以了解有关JDBC和应用程序连续性的更多信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT88959"></a><a id="CNCPT417"></a><div class="props_rev_3"><a id="GUID-C0C61571-5175-400D-AEFC-FDBFE4F87188" name="GUID-C0C61571-5175-400D-AEFC-FDBFE4F87188"></a><h3 id="CNCPT-GUID-C0C61571-5175-400D-AEFC-FDBFE4F87188" class="sect3">自治交易概述</h3>
               <div>
                  <p><span class="bold">自治事务</span>是可以从另一个事务调用的独立事务，该事务是主事务。您可以挂起调用事务，执行SQL操作并在自治事务中提交或撤消它们，然后恢复调用事务。
                  </p>
                  <p>无论调用事务是提交还是回滚，自治事务对于必须独立执行的操作都很有用。例如，在股票购买交易中，无论整体股票购买是否通过，您都希望提交客户数据。此外，即使整个事务回滚，您也希望将错误消息记录到调试表中。</p>
                  <p>自治交易具有以下特征：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>自治事务不会看到主事务所做的未提交的更改，也不会与主事务共享锁或资源。</p>
                     </li>
                     <li>
                        <p>在提交自治事务时，自治事务中的更改对其他事务是可见的。因此，用户可以访问更新的信息而无需等待主事务提交。</p>
                     </li>
                     <li>
                        <p>自治事务可以启动其他自治事务。除资源限制外，没有限制可以调用多少级别的自治事务。</p>
                     </li>
                  </ul>
                  <p>在PL / SQL中，自治事务在<span class="italic">自治范围内</span>执行，该<span class="italic">范围</span>是用编译指示<code class="codeph">AUTONOMOUS_TRANSACTION</code>标记的例程。在此上下文中，例程包括顶级匿名PL / SQL块和PL / SQL子程序和触发器。<a href="glossary.html#GUID-0ED5CC20-407D-42A1-AF92-8816691861DE"><span class="xrefglossterm">pragma</span></a>是一个指令，指示编译器执行编译选项。编译指示<code class="codeph">AUTONOMOUS_TRANSACTION</code>指示数据库该程序在执行时将作为独立于其父事务的新自治事务执行。
                  </p>
                  <p>下图显示了控制如何从主例程（MT）流向自治例程再返回。主程序是<code class="codeph">proc1</code> ，自治程序是<code class="codeph">proc2</code> 。在控制返回主例程之前，自治例程可以提交多个事务（AT1和AT2）。
                  </p>
                  <div class="figure" id="GUID-C0C61571-5175-400D-AEFC-FDBFE4F87188__CHDDGDCJ">
                     <p class="titleinfigure">图10-4事务控制流程</p><img src="img/cncpt288.gif" alt="下面是图10-4的描述" title="下面是图10-4的描述" longdesc="img_text/cncpt288.html"><br><a href="img_text/cncpt288.html">“图10-4交易控制流程”的描述</a></div>
                  <!-- class="figure" -->
                  <p>当您输入自治例程的可执行部分时，主例程将暂停。退出自治例程时，主例程将恢复。</p>
                  <p>在<a href="transactions.html#GUID-C0C61571-5175-400D-AEFC-FDBFE4F87188__CHDDGDCJ">图10-4中</a> ， <code class="codeph">proc1</code>内部的<code class="codeph">COMMIT</code>不仅使其永久工作，而且在其会话中执行任何未完成的工作。但是， <code class="codeph">proc2</code>的<code class="codeph">COMMIT</code>仅使<code class="codeph">proc2</code>事务中执行的工作成为永久性。因此，事务AT1和AT2中的<code class="codeph">COMMIT</code>语句对MT事务没有影响。
                  </p>
                  <div class="infoboxnotealso" id="GUID-C0C61571-5175-400D-AEFC-FDBFE4F87188__GUID-63C487E4-2F98-469C-AB0F-032499AB7EC3">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../adfns/sql-processing-for-application-developers.html#ADFNS00205" target="_blank"><span><cite>Oracle数据库开发指南</cite></span></a>和<a href="../lnpls/static-sql.html#LNPLS00609" target="_blank"><span><cite>Oracle数据库PL / SQL语言参考</cite></span></a> ，了解如何使用自治事务</p>
                  </div>
               </div>
            </div><a id="CNCPT1125"></a><div class="props_rev_3"><a id="GUID-47231512-4A3E-4E59-86BD-332E1FB88A88" name="GUID-47231512-4A3E-4E59-86BD-332E1FB88A88"></a><h3 id="CNCPT-GUID-47231512-4A3E-4E59-86BD-332E1FB88A88" class="sect3">分布式事务概述</h3>
               <div>
                  <p><strong class="term">分布式事务</strong>是包含一个或多个语句的事务，这些语句使用称为数据库链接的模式对象更新分布式数据库的两个或更多不同节点上的数据。
                  </p>
                  <p><a href="glossary.html#GUID-DB7296DF-74E0-45E1-9BC2-5052DD543214"><span class="xrefglossterm">分布式数据库</span></a>是分布式系统中的一组数据库，可以将应用程序显示为单个数据源。<a href="glossary.html#GUID-1C8C6E07-BE1F-4BC9-93C3-CF6D1D15DC42"><span class="xrefglossterm">数据库链接</span></a>描述了一个数据库实例如何登录到另一个数据库实例。
                  </p>
                  <p>与本地数据库上的事务不同，分布式事务会更改多个数据库上的数据。因此，分布式事务处理更复杂，因为数据库必须协调作为原子单元提交或回滚事务中的更改。整个事务必须提交或回滚。即使发生网络或系统故障，Oracle数据库也必须协调网络上的事务控制并保持数据一致性。</p>
                  <div class="infoboxnotealso" id="GUID-47231512-4A3E-4E59-86BD-332E1FB88A88__GUID-150122D2-6DFE-469A-88F4-FEAC2131BC02">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../admin/distributed-transactions-concepts.html#ADMIN031" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何管理分布式事务</p>
                  </div>
               </div><a id="CNCPT041"></a><div class="props_rev_3"><a id="GUID-0F0E4F21-1522-449C-9532-DD26AB9EECA1" name="GUID-0F0E4F21-1522-449C-9532-DD26AB9EECA1"></a><h4 id="CNCPT-GUID-0F0E4F21-1522-449C-9532-DD26AB9EECA1" class="sect4">两阶段提交</h4>
                  <div>
                     <p><strong class="term">两阶段提交机制</strong>保证参与分布式事务的<span class="italic">所有</span>数据库都提交或全部撤消事务中的语句。该机制还保护由完整性约束，远程过程调用和触发器执行的隐式DML。
                     </p>
                     <p>在多个数据库之间的两阶段提交中，一个数据库协调分布式事务。发起节点称为<span class="italic">全局协调器</span> 。协调员询问其他数据库是否准备提交。如果任何数据库以no响应，则回滚整个事务。如果所有数据库都投赞成票，则协调器广播消息以使每个数据库上的提交永久化。
                     </p>
                     <p>两阶段提交机制对发布分布式事务的用户是透明的。实际上，用户甚至不需要知道事务是分布式的。表示事务结束的<code class="codeph">COMMIT</code>语句会自动触发两阶段提交机制。在数据库应用程序的主体内包含分布式事务不需要编码或复杂语句语法。
                     </p>
                     <div class="infoboxnotealso" id="GUID-0F0E4F21-1522-449C-9532-DD26AB9EECA1__GUID-10839962-C13A-48BA-88DC-484BCE26E684">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../admin/distributed-transactions-concepts.html#ADMIN12222" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解两阶段提交机制</p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/COMMIT.html#GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT042"></a><div class="props_rev_3"><a id="GUID-20FEB719-8BB3-49C3-834E-E0FF156BB681" name="GUID-20FEB719-8BB3-49C3-834E-E0FF156BB681"></a><h4 id="CNCPT-GUID-20FEB719-8BB3-49C3-834E-E0FF156BB681" class="sect4">怀疑交易</h4>
                  <div>
                     <p>当两阶段提交被任何类型的系统或网络故障中断时，会发生<span class="bold">不确定的分布式事务</span> 。
                     </p>
                     <p>例如，两个数据库向协调数据库报告它们准备提交，但协调数据库实例在收到消息后立即失败。准备提交的两个数据库现在在等待结果通知时被挂起。</p>
                     <p>恢复器（ <code class="codeph">RECO</code> ）后台进程自动解决<code class="codeph">RECO</code>分布式事务的结果。修复故障并重新建立通信后，每个本地Oracle数据库的<code class="codeph">RECO</code>进程会自动在所有相关节点上一致地提交或回滚任何不确定的分布式事务。
                     </p>
                     <p>如果发生长期故障，Oracle数据库使每个本地管理员都可以手动提交或撤消因故障而存在疑问的任何分布式事务。此选项使本地数据库管理员可以释放由于长期故障而无限期保留的任何锁定资源。</p>
                     <p>如果必须将数据库恢复到过去的时间，则数据库恢复工具使其他站点的数据库管理员能够将其数据库返回到较早的时间点。此操作可确保全局数据库保持一致。</p>
                     <div class="infoboxnotealso" id="GUID-20FEB719-8BB3-49C3-834E-E0FF156BB681__GUID-8AD9A053-0233-458E-B9DD-5DA4F472EA20">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="process-architecture.html#GUID-9FF900D1-7DB8-4D41-8D34-8E99AF650CEC" title="在分布式数据库中，恢复程序进程（RECO）自动解决分布式事务中的故障。">Recoverer Process（RECO）</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-distributed-transactions.html#ADMIN12252" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何管理不确定的事务</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
            <hr><br><p style="text-decoration:underline">脚注图例</p>脚注1：<p>对于Oracle Real Application Clusters（Oracle RAC），逻辑事务ID包括数据库实例编号作为前缀。</p><br></div>
      </article>
   </body>
</html><html id="04789.oci-any-data-interface-functions.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Lists and describes OCI Any Data interface functions."></meta>
      <meta name="description" content="Lists and describes OCI Any Data interface functions."></meta>
      <title>OCI任何数据接口功能</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="Lists and describes OCI Any Data interface functions."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oci-type-interface-functions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oci-any-data-set-interface-functions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oci-type-interface-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oci-any-data-set-interface-functions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oci-any-type-and-data-functions.html" property="item" typeof="WebPage"><span property="name">OCI任何类型和数据功能</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCI任何数据接口功能</li>
            </ol>
            <a id="GUID-2B3E8E93-50EF-4091-873C-4399B67B420D" name="GUID-2B3E8E93-50EF-4091-873C-4399B67B420D"></a><a id="LNOCI17602"></a><a id="LNOCI202"></a>
            
            <h2 id="LNOCI-GUID-2B3E8E93-50EF-4091-873C-4399B67B420D" class="sect2"><span class="enumeration_section">30.3</span> OCI任何数据接口功能</h2>
         </header>
         <div class="ind">
            <div>
               <p>列出并描述OCI Any Data接口函数。</p>
               <div class="section">
                  <p><a href="oci-any-data-interface-functions.html#GUID-2B3E8E93-50EF-4091-873C-4399B67B420D__BGBHIHFG" title="该表有2列。第1列是函数名称，第2列描述其用途。">表30-3</a>列出了本节中描述的Any Data Interface功能。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-2B3E8E93-50EF-4091-873C-4399B67B420D__BGBHIHFG">
                  <p class="titleintable">表30-3任何数据函数</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="任何数据功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="61%" id="d294648e201">功能</th>
                           <th align="left" valign="bottom" width="39%" id="d294648e204">目的</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d294648e209" headers="d294648e201 ">
                              <p><a href="oci-any-data-interface-functions.html#GUID-FA586E41-210F-43EF-9492-57FE46879C66" title="检索OCIAnyData的数据值。">OCIAnyDataAccess（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d294648e209 d294648e204 ">
                              <p>检索<code class="codeph">OCIAnyData</code>的数据值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d294648e226" headers="d294648e201 ">
                              <p><a href="oci-any-data-interface-functions.html#GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8" title="获取OCIAnyData中当前位置的属性值。">OCIAnyDataAttrGet（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d294648e226 d294648e204 ">
                              <p>获取<code class="codeph">OCIAnyData</code>当前位置的属性值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d294648e243" headers="d294648e201 ">
                              <p><a href="oci-any-data-interface-functions.html#GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15" title="使用给定值设置当前位置的属性。">OCIAnyDataAttrSet（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d294648e243 d294648e204 ">
                              <p>使用给定值在当前位置设置属性</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d294648e255" headers="d294648e201 ">
                              <p><a href="oci-any-data-interface-functions.html#GUID-89A24450-F4B4-43D0-8194-30023978E81B" title="在给定的持续时间内分配OCIAnyData并使用类型信息对其进行初始化。">OCIAnyDataBeginCreate（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d294648e255 d294648e204 ">
                              <p>在给定的持续时间内分配<code class="codeph">OCIAnyData</code>并使用类型信息对其进行初始化</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d294648e273" headers="d294648e201 ">
                              <p><a href="oci-any-data-interface-functions.html#GUID-51D85777-58B7-4348-ABB6-22F3E8568E37" title="将下一个集合元素添加到当前属性位置的OCIAnyData的collection属性。">OCIAnyDataCollAddElem（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d294648e273 d294648e204 ">
                              <p>将下一个collection元素添加到当前属性位置的<code class="codeph">OCIAnyData</code>的collection属性中</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d294648e291" headers="d294648e201 ">
                              <p><a href="oci-any-data-interface-functions.html#GUID-25381FFE-7D6F-41CF-9A0B-9E16AEC25B73" title="按顺序访问OCIAnyData中当前位置的collection属性中的元素。">OCIAnyDataCollGetElem（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d294648e291 d294648e204 ">
                              <p>按顺序访问<code class="codeph">OCIAnyData</code>当前位置的collection属性中的<code class="codeph">OCIAnyData</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d294648e308" headers="d294648e201 ">
                              <p><a href="oci-any-data-interface-functions.html#GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315" title="使用给定类型的给定数据值构造OCIAnyData。">OCIAnyDataConvert（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d294648e308 d294648e204 ">
                              <p>使用给定类型的给定数据值构造<code class="codeph">OCIAnyData</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d294648e326" headers="d294648e201 ">
                              <p><a href="oci-any-data-interface-functions.html#GUID-AD5CD3AB-D718-42E4-9318-C55E95C21BC8" title="释放OCIAnyData。">OCIAnyDataDestroy（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d294648e326 d294648e204 ">
                              <p>释放任何数据</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d294648e338" headers="d294648e201 ">
                              <p><a href="oci-any-data-interface-functions.html#GUID-D58536FB-33DE-4102-BBA1-9497A5368228" title="标记OCIAnyData创建的结束。">OCIAnyDataEndCreate（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d294648e338 d294648e204 ">
                              <p>标记<code class="codeph">OCIAnyData</code>创建的结束</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d294648e356" headers="d294648e201 ">
                              <p><a href="oci-any-data-interface-functions.html#GUID-43415612-3469-49B3-BA8B-426FEA5D95A1" title="返回OCIAnyData的当前属性编号。">OCIAnyDataGetCurrAttrNum（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d294648e356 d294648e204 ">
                              <p>返回<code class="codeph">OCIAnyData</code>的当前属性编号 
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d294648e374" headers="d294648e201 ">
                              <p><a href="oci-any-data-interface-functions.html#GUID-D1A8447F-D760-4780-839D-9C78436549B5" title="获取与OCIAnyData值对应的类型。">OCIAnyDataGetType（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d294648e374 d294648e204 ">
                              <p>获取与AnyData值对应的类型</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d294648e390" headers="d294648e201 ">
                              <p><a href="oci-any-data-interface-functions.html#GUID-080630FD-CF54-4871-95EB-D319C2AF6A3C" title="检查OCIAnyData中类型的内容是否为NULL。">OCIAnyDataIsNull（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d294648e390 d294648e204 ">
                              <p>检查<code class="codeph">OCIAnyData</code>是否为<code class="codeph">NULL</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d294648e413" headers="d294648e201 ">
                              <p><a href="oci-any-data-interface-functions.html#GUID-0A703B0A-E1AF-4817-85BD-533EE83D5C8E" title="将OCITypeCode的AnyData值转换为与OCIAnyData API返回的值的表示形式对应的SQLT代码。">OCIAnyDataTypeCodeToSqlt（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d294648e413 d294648e204 ">
                              <p>将<code class="codeph">OCITypeCode</code>转换为AnyData值，转换为与OCIAnyData API返回的值表示形式对应的SQLT代码</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNOCI17603"></a><div class="props_rev_3"><a id="GUID-FA586E41-210F-43EF-9492-57FE46879C66" name="GUID-FA586E41-210F-43EF-9492-57FE46879C66"></a><h3 id="LNOCI-GUID-FA586E41-210F-43EF-9492-57FE46879C66" class="sect3"><span class="enumeration_section">30.3.1</span> OCIAnyDataAccess（）</h3>
               <div>
                  <p>检索<code class="codeph">OCIAnyData</code>的数据值。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-FA586E41-210F-43EF-9492-57FE46879C66__GUID-1CBC2AFF-FBBA-43DA-921F-ADEC4FC1D9FC">目的</p>
                     <p>数据值应该是初始化<code class="codeph">OCIAnyData</code>的类型。您可以使用此调用来访问整个<code class="codeph">OCIAnyData</code> ，它可以是<code class="codeph">OCI_TYPECODE_OBJECT</code>类型，任何集合类型或任何内置类型。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FA586E41-210F-43EF-9492-57FE46879C66__GUID-1C4F0633-01AB-4F84-99F8-DE41EEDA9767">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAnyDataAccess（OCISvcCtx * svchp，OCIError * errhp，OCIAnyData * sdata，OCITypeCode tc，OCIType * inst_type，void * null_ind，void * data_value，ub4 * length）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FA586E41-210F-43EF-9492-57FE46879C66__GUID-939FED87-A2F5-409D-A886-C101A20594D1">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-FA586E41-210F-43EF-9492-57FE46879C66__GUID-3EEA15C3-D8FE-45AB-83FC-8062910D053D"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FA586E41-210F-43EF-9492-57FE46879C66__GUID-F46084C4-3FBC-4739-89FA-0CA788618820"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FA586E41-210F-43EF-9492-57FE46879C66__GUID-3DBFA987-8C71-4AE6-801D-8B69C5EB0AA7"><!-- --></a> sdata（IN）</dt>
                        <dd>
                           <p>初始化指向<code class="codeph">OCIAnyData</code>指针。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FA586E41-210F-43EF-9492-57FE46879C66__GUID-7AF2530A-288B-48AE-8D63-9A7FADE91C8F"><!-- --></a> tc（IN）</dt>
                        <dd>
                           <p>数据值的Typecode。这用于类型检查（使用<code class="codeph">OCIAnyData</code>的初始化类型）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FA586E41-210F-43EF-9492-57FE46879C66__GUID-23C06C37-445F-40FA-BDCF-23B8D4EE9FEA"><!-- --></a> inst_type（IN）</dt>
                        <dd>
                           <p>数据值的<code class="codeph">OCIType</code> （如果它不是原始值）。如果<code class="codeph">tc</code>参数是以下任何类型，则此参数不应为<code class="codeph">NULL</code> 。</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_TYPECODE_OBJECT</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_TYPECODE_REF</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_TYPECODE_VARRAY</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_TYPECODE_TABLE</code> 
                           </p>
                        </li>
                     </ul>
                     <p>否则，它可能是<code class="codeph">NULL</code> 。</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-FA586E41-210F-43EF-9492-57FE46879C66__GUID-0981E0E3-8666-468B-8D9F-8B1752CDB398"><!-- --></a> null_ind（OUT）</dt>
                        <dd>
                           <p>指示<code class="codeph">data_value</code>是否为<code class="codeph">NULL</code> 。为除<code class="codeph">OCI_TYPECODE_OBJECT</code>之外的所有类型代码传递<code class="codeph">(OCIInd *)</code> 。返回的值是<code class="codeph">OCI_IND_NOTNULL</code>如果该值不是<code class="codeph">NULL</code> ，它是<code class="codeph">OCI_IND_NULL</code>一个<code class="codeph">NULL</code>值。如果类型代码是<code class="codeph">OCI_TYPECODE_OBJECT</code> ， <code class="codeph">OCI_TYPECODE_OBJECT</code>指向<code class="codeph">OCI_TYPECODE_OBJECT</code>的指示符结构的<code class="codeph">data_value</code>作为参数传递给此处。有关详细信息，请参阅<code class="codeph">OCIAnyDataAttrGet()</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FA586E41-210F-43EF-9492-57FE46879C66__GUID-79498AFA-14CA-4DB9-9C2D-09B7832B8787"><!-- --></a> data_value（OUT）</dt>
                        <dd>
                           <p>数据值（具有初始化<code class="codeph">OCIAnyData</code>的类型）。请参阅<code class="codeph">OCIAnyDataAttrGet()</code>以获取与每个允许的类型代码对应的相应C类型，以及有关内存分配行为如何依赖于为此参数传递的值的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FA586E41-210F-43EF-9492-57FE46879C66__GUID-B6731761-0869-456A-8CD6-951C0C0BE40E"><!-- --></a>长度（OUT）</dt>
                        <dd>
                           <p>目前，此参数将被忽略。将来，这可以用于某些类型代码，其中数据表示本身不会隐式地以字节为单位给出长度。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-any-data-interface-functions.html#GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8" title="获取OCIAnyData中当前位置的属性值。">OCIAnyDataAttrGet（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17605"></a><a id="LNOCI17604"></a><div class="props_rev_3"><a id="GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8" name="GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8"></a><h3 id="LNOCI-GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8" class="sect3"><span class="enumeration_section">30.3.2</span> OCIAnyDataAttrGet（）</h3>
               <div>
                  <p>获取<code class="codeph">OCIAnyData</code>当前位置的属性值。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8__GUID-2E8129A1-A7C1-4B75-9D48-3CD4B444C3E0">目的</p>
                     <p>可以按顺序访问属性值。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8__GUID-E935CF6E-14D5-4CF6-8197-A5AE842B7E9D">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIAnyDataAttrGet（OCISvcCtx * svchp，OCIError * errhp，OCIAnyData * sdata，OCITypeCode tc，OCIType * attr_type，void * null_ind，void * attr_value，ub4 * length，boolean is_any）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8__GUID-268488CF-BED4-41C7-97C6-11918EC435D0">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8__GUID-F6A447A8-DDE1-4EF6-B964-296F23C7562C"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8__GUID-790AE51B-A61E-4B3B-965B-907BB652C886"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8__GUID-13082ADA-F8A7-487E-B09F-6FF0B33457BE"><!-- --></a> sdata（IN / OUT）</dt>
                        <dd>
                           <p>指向初始化类型<code class="codeph">OCIAnyData</code>指针。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8__GUID-60AB5A4C-D4A1-4674-BCD2-EF44B4DCAA0E"><!-- --></a> tc（IN）</dt>
                        <dd>
                           <p>属性的类型代码。类型检查偏偏基于<code class="codeph">tc</code> ， <code class="codeph">attr_type</code> ，并在类型信息<code class="codeph">OCIAnyData</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8__GUID-973AC8EA-B5A8-403D-ACD5-1F0EC33A901B"><!-- --></a> attr_type（IN）[可选]</dt>
                        <dd>
                           <p><code class="codeph">attr_type</code>参数应该给出引用类型的类型描述（对于<code class="codeph">OCI_TYPECODE_REF</code> ）或集合类型的类型描述（对于<code class="codeph">OCI_TYPECODE_VARRAY</code> ， <code class="codeph">OCI_TYPECODE_TABLE</code> ），或者对象的类型描述（对于<code class="codeph">OCI_TYPECODE_OBJECT</code> ）。内置的类型代码不需要此参数。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8__GUID-0F1E090F-4EE1-45D9-95F6-92A617103BA0"><!-- --></a> null_ind（OUT）</dt>
                        <dd>
                           <p>指示<code class="codeph">attr_value</code>是否为<code class="codeph">NULL</code> 。对于除<code class="codeph">OCI_TYPECODE_OBJECT</code>之外的所有类型代码，在<code class="codeph">null_ind</code>传递<code class="codeph">(OCIInd *)</code> 。</p>
                           <p>如果类型代码是<code class="codeph">OCI_TYPECODE_OBJECT</code> ，传递一个指针<code class="codeph">(void **)</code>在<code class="codeph">null_ind</code> 。
                           </p>
                           <p>返回的指标是<code class="codeph">OCI_IND_NOTNULL</code>如果该值不是<code class="codeph">NULL</code> ，它是<code class="codeph">OCI_IND_NULL</code>一个<code class="codeph">NULL</code>值。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8__GUID-25F63248-BDEA-4DCA-BAC4-F2C64ECD2721"><!-- --></a> attr_value（IN / OUT）</dt>
                        <dd>
                           <p>属性的值。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8__GUID-5385D15C-F75D-42A0-AF8D-224BBD472FD1"><!-- --></a>长度（IN / OUT）</dt>
                        <dd>
                           <p>目前，此参数将被忽略。在这里通过0。将来，这可以用于某些类型代码，其中数据表示本身不会隐式地以字节为单位给出长度。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8__GUID-B8D379AF-E690-4757-A0F0-9BE34DE75FB7"><!-- --></a> is_any（IN）</dt>
                        <dd>
                           <p>属性是以<code class="codeph">OCIAnyData</code>的形式返回的吗？
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8__GUID-691F408A-2C73-4ABE-A12A-C22FF2DD4714">评论</p>
                     <p>您可以使用此电话与<code class="codeph">OCIAnyData</code>类型代码的<code class="codeph">OCI_TYPECODE_OBJECT</code>只。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>此调用获取<code class="codeph">OCIAnyData</code>当前位置的属性值。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">tc</code>参数必须与当前位置的属性类型匹配;否则，返回错误。
                           </p>
                        </li>
                        <li>
                           <p>仅当属性的类型代码是以下值之一时， <code class="codeph">is_any</code>参数才适用：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">OCI_TYPECODE_OBJECT</code> 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_TYPECODE_VARRAY</code> 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_TYPECODE_TABLE</code> 
                                 </p>
                              </li>
                           </ul>
                           <p>如果<code class="codeph">is_any</code>为<code class="codeph">TRUE</code> ， <code class="codeph">OCIAnyData*</code>的形式返回<code class="codeph">attr_value</code> 。
                           </p>
                        </li>
                        <li>
                           <p>在调用函数之前，必须为属性分配内存。您可以通过<code class="codeph">OCIObjectNew()</code>分配内存。对于内置类型（如<code class="codeph">NUMBER</code>和<code class="codeph">VARCHAR</code> ，该属性可以只是指向堆栈变量的指针。<a href="oci-any-data-interface-functions.html#GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8__BGBDDHHJ" title="该表有2列。第1列是Oracle数据类型，第2列描述相应的attr_value属性值。">表30-4</a>列出了可用作对象属性类型的可用Oracle数据类型以及应传递的属性值的相应类型。
                           </p>
                        </li>
                     </ul>
                     <div class="tblformal" id="GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8__BGBDDHHJ">
                        <p class="titleintable">表30-4数据类型和属性值</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="数据类型和属性值" width="100%" border="1" summary="This table has 2 columns. Column 1 is the Oracle data type and column 2 describes the corresponding attr_value attribute value." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="38%" id="d294648e1234">数据类型</th>
                                 <th align="left" valign="bottom" width="62%" id="d294648e1237">attr_value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d294648e1242" headers="d294648e1234 ">
                                    <p><code class="codeph">VARCHAR2，VARCHAR，CHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d294648e1242 d294648e1237 ">
                                    <p><code class="codeph">OCIString **</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d294648e1251" headers="d294648e1234 ">
                                    <p><code class="codeph">NUMBER，REAL，INT，FLOAT，DECIMAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d294648e1251 d294648e1237 ">
                                    <p><code class="codeph">OCINumber **</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d294648e1260" headers="d294648e1234 ">
                                    <p><code class="codeph">日期</code></p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d294648e1260 d294648e1237 ">
                                    <p><code class="codeph">OCIDate **</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d294648e1269" headers="d294648e1234 ">
                                    <p><code class="codeph">TIMESTAMP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d294648e1269 d294648e1237 ">
                                    <p><code class="codeph">OCIDateTime **</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d294648e1278" headers="d294648e1234 ">
                                    <p><code class="codeph">TIMESTAMP与时区</code></p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d294648e1278 d294648e1237 ">
                                    <p><code class="codeph">OCIDateTime **</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d294648e1287" headers="d294648e1234 ">
                                    <p><code class="codeph">TIMESTAMP与当地时区</code></p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d294648e1287 d294648e1237 ">
                                    <p><code class="codeph">OCIDateTime **</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d294648e1296" headers="d294648e1234 ">
                                    <p><code class="codeph">间隔年至月</code></p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d294648e1296 d294648e1237 ">
                                    <p><code class="codeph">OCIInterval **</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d294648e1305" headers="d294648e1234 ">
                                    <p><code class="codeph">间隔第二天</code></p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d294648e1305 d294648e1237 ">
                                    <p><code class="codeph">OCIInterval **</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d294648e1314" headers="d294648e1234 ">
                                    <p><code class="codeph">BLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d294648e1314 d294648e1237 ">
                                    <p><code class="codeph">OCILobLocator **</code>或<code class="codeph">OCIBlobLocator **</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d294648e1326" headers="d294648e1234 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d294648e1326 d294648e1237 ">
                                    <p><code class="codeph">OCILobLocator **</code>或<code class="codeph">OCIClobLocator *</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d294648e1338" headers="d294648e1234 ">
                                    <p><code class="codeph">BFILE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d294648e1338 d294648e1237 ">
                                    <p><code class="codeph">OCILobLocator **</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d294648e1348" headers="d294648e1234 ">
                                    <p><code class="codeph">REF</code></p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d294648e1348 d294648e1237 ">
                                    <p><code class="codeph">OCIRef **</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d294648e1357" headers="d294648e1234 ">
                                    <p><code class="codeph">生的</code></p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d294648e1357 d294648e1237 ">
                                    <p><code class="codeph">OCIRaw **</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d294648e1366" headers="d294648e1234 ">
                                    <p><code class="codeph">VARRAY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d294648e1366 d294648e1237 ">
                                    <p><code class="codeph">OCIArray **</code> （如果<code class="codeph">is_any</code>为<code class="codeph">TRUE</code> <code class="codeph">OCIAnyData *</code> ）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d294648e1385" headers="d294648e1234 ">
                                    <p><code class="codeph">表</code></p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d294648e1385 d294648e1237 ">
                                    <p><code class="codeph">OCITable **</code> （如果<code class="codeph">is_any</code>为<code class="codeph">TRUE</code> <code class="codeph">OCIAnyData *</code> ）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d294648e1404" headers="d294648e1234 ">
                                    <p><code class="codeph">宾语</code></p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d294648e1404 d294648e1237 ">
                                    <p><code class="codeph">void **</code> （如果<code class="codeph">is_any</code>为<code class="codeph">TRUE</code> <code class="codeph">OCIAnyData *</code> ）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17607"></a><a id="LNOCI17606"></a><div class="props_rev_3"><a id="GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15" name="GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15"></a><h3 id="LNOCI-GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15" class="sect3"><span class="enumeration_section">30.3.3</span> OCIAnyDataAttrSet（）</h3>
               <div>
                  <p>使用给定值设置当前位置的属性。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15__GUID-6A8DB25C-F555-49EA-BADE-EB4C4CBD44DE">目的</p>
                     <p>使用给定值设置当前位置的属性。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15__GUID-7E367E98-C361-4D5A-B5F1-412382B1D531">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIAnyDataAttrSet（OCISvcCtx * svchp，OCIError * errhp，OCIAnyData * sdata，OCITypeCode tc，OCIType * attr_type，void * null_ind，void * attr_value，ub4 length，boolean is_any）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15__GUID-B74F24E8-2777-4A4A-ABAB-B0F5DF81C3B9">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15__GUID-72054312-07EB-4014-A385-446471D06CE6"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15__GUID-B6AF4518-EB5F-413D-8E3C-92C258D2F8D2"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15__GUID-C1D658C4-BEE2-42E3-96DC-89DAD7E25C95"><!-- --></a> sdata（IN / OUT）</dt>
                        <dd>
                           <p>初始化的<code class="codeph">OCIAnyData</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15__GUID-19C6CD99-0E63-48E6-9FB3-BF8AF42A452F"><!-- --></a> tc（IN）</dt>
                        <dd>
                           <p>属性的类型代码。类型检查偏偏基于<code class="codeph">tc</code> ， <code class="codeph">attr_type</code> ，并在类型信息<code class="codeph">OCIAnyData</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15__GUID-E0071379-18D9-4205-A1EE-E622CDFA136A"><!-- --></a> attr_type（IN）[可选]</dt>
                        <dd>
                           <p><code class="codeph">attr_type</code>参数给出了引用类型的类型描述（对于<code class="codeph">OCI_TYPECODE_REF</code> ），集合类型的类型描述（对于<code class="codeph">OCI_TYPECODE_VARRAY</code> ， <code class="codeph">OCI_TYPECODE_TABLE</code> ），以及对象的类型描述（对于<code class="codeph">OCI_TYPECODE_OBJECT</code> ）。内置类型代码或指定<code class="codeph">OCI_TYPECODE_NONE</code>不需要此参数。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15__GUID-A5890B4C-2697-45EC-84A0-A034C061AEE8"><!-- --></a> null_ind（IN）</dt>
                        <dd>
                           <p>指示<code class="codeph">attr_value</code>是否为<code class="codeph">NULL</code> 。传递<code class="codeph">(OCIInd *)</code>用于除<code class="codeph">OCI_TYPECODE_OBJECT</code>之外的所有类型<code class="codeph">OCI_TYPECODE_OBJECT</code> 。如果值不为<code class="codeph">NULL</code> ，则<code class="codeph">OCI_IND_NULL</code>应为<code class="codeph">OCI_IND_NULL</code>对于<code class="codeph">NULL</code>值，指示符应为<code class="codeph">OCI_IND_NOTNULL</code> 。
                           </p>
                           <p>如果typecode是<code class="codeph">OCI_TYPECODE_OBJECT</code> ， <code class="codeph">OCI_TYPECODE_OBJECT</code>指向<code class="codeph">attr_value</code>的指示符结构的指针作为参数传递给此处。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15__GUID-722EB1EA-98C0-41CA-B8F6-1B3BD46FA5D5"><!-- --></a> attr_value（IN）</dt>
                        <dd>
                           <p>属性的值。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15__GUID-969FC6E2-571F-4F31-9A74-10B1D0159837"><!-- --></a>长度（IN）</dt>
                        <dd>
                           <p>目前，此参数将被忽略。在这里通过0。将来，这可以用于某些类型代码，其中数据表示本身不会隐式地给出长度。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15__GUID-49A43091-1A1A-4602-A476-80A08B0D9289"><!-- --></a> is_any（IN）</dt>
                        <dd>
                           <p>是<code class="codeph">OCIAnyData</code>形式的<code class="codeph">OCIAnyData</code> ？
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15__GUID-D8337B92-82B8-4F7A-8AD2-A31FAE949219">评论</p>
                     <p><code class="codeph">OCIAnyDataBeginCreate()</code>使用空骨架实例创建<code class="codeph">OCIAnyData</code> 。要填充属性值，请使用<code class="codeph">OCIAnyDataAttrSet()</code> （对于<code class="codeph">OCI_TYPECODE_OBJECT</code> ）或<code class="codeph">OCIAnyDataCollAddElem()</code> （对于集合类型代码）。
                     </p>
                     <p>必须按顺序设置属性值，从第一个属性到最后一个属性。将当前属性编号记为<code class="codeph">OCIAnyData</code>内维护的状态。尚不支持嵌入式属性和集合元素的分段构造。
                     </p>
                     <p>此调用使用<code class="codeph">attr_value</code>将属性设置在当前位置。一旦为<code class="codeph">OCIAnyData</code>实例启动了分段构造，就不能再使用<code class="codeph">OCIAnyDataConstruct()</code>调用了。
                     </p>
                     <p><code class="codeph">tc</code>参数必须与当前位置的属性类型匹配。否则，返回错误。
                     </p>
                     <p>如果<code class="codeph">is_any</code>为<code class="codeph">TRUE</code> ，则该属性必须采用<code class="codeph">OCIAnyData*</code>的形式，并且无需任何转换即可将其复制到封闭的<code class="codeph">OCIAnyData</code> （数据）中。
                     </p>
                     <p><a href="oci-any-data-interface-functions.html#GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15__BGBBBGEE" title="该表有2列。第1列是Oracle数据类型，第2列描述相应的attr_value属性值。">表30-5</a>列出了可用作对象属性类型的可用数据类型以及应传递的属性值的相应类型。
                     </p>
                     <div class="tblformal" id="GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15__BGBBBGEE">
                        <p class="titleintable">表30-5数据类型和属性值</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="数据类型和属性值" width="100%" border="1" summary="This table has 2 columns. Column 1 is the Oracle data type and column 2 describes the corresponding attr_value attribute value." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="39%" id="d294648e1837">数据类型</th>
                                 <th align="left" valign="bottom" width="61%" id="d294648e1840">attr_value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d294648e1845" headers="d294648e1837 ">
                                    <p><code class="codeph">VARCHAR2，VARCHAR，CHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d294648e1845 d294648e1840 ">
                                    <p><code class="codeph">OCIString *</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d294648e1854" headers="d294648e1837 ">
                                    <p><code class="codeph">NUMBER，REAL，INT，FLOAT，DECIMAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d294648e1854 d294648e1840 ">
                                    <p><code class="codeph">OCINumber *</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d294648e1863" headers="d294648e1837 ">
                                    <p><code class="codeph">日期</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d294648e1863 d294648e1840 ">
                                    <p><code class="codeph">OCIDate *</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d294648e1872" headers="d294648e1837 ">
                                    <p><code class="codeph">TIMESTAMP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d294648e1872 d294648e1840 ">
                                    <p><code class="codeph">OCIDateTime *</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d294648e1881" headers="d294648e1837 ">
                                    <p><code class="codeph">TIMESTAMP与时区</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d294648e1881 d294648e1840 ">
                                    <p><code class="codeph">OCIDateTime *</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d294648e1890" headers="d294648e1837 ">
                                    <p><code class="codeph">TIMESTAMP与当地时区</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d294648e1890 d294648e1840 ">
                                    <p><code class="codeph">OCIDateTime *</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d294648e1899" headers="d294648e1837 ">
                                    <p><code class="codeph">间隔年至月</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d294648e1899 d294648e1840 ">
                                    <p><code class="codeph">OCIInterval *</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d294648e1908" headers="d294648e1837 ">
                                    <p><code class="codeph">间隔第二天</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d294648e1908 d294648e1840 ">
                                    <p><code class="codeph">OCIInterval *</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d294648e1917" headers="d294648e1837 ">
                                    <p><code class="codeph">BLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d294648e1917 d294648e1840 ">
                                    <p><code class="codeph">OCILobLocator *</code>或<code class="codeph">OCIBlobLocator *</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d294648e1929" headers="d294648e1837 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d294648e1929 d294648e1840 ">
                                    <p><code class="codeph">OCILobLocator *</code>或<code class="codeph">OCIClobLocator *</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d294648e1941" headers="d294648e1837 ">
                                    <p><code class="codeph">BFILE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d294648e1941 d294648e1840 ">
                                    <p><code class="codeph">OCILobLocator *</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d294648e1951" headers="d294648e1837 ">
                                    <p><code class="codeph">REF</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d294648e1951 d294648e1840 ">
                                    <p><code class="codeph">OCIRef *</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d294648e1960" headers="d294648e1837 ">
                                    <p><code class="codeph">生的</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d294648e1960 d294648e1840 ">
                                    <p><code class="codeph">OCIRaw *</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d294648e1969" headers="d294648e1837 ">
                                    <p><code class="codeph">VARRAY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d294648e1969 d294648e1840 ">
                                    <p><code class="codeph">OCIArray *</code> （如果<code class="codeph">is_any</code>为<code class="codeph">TRUE</code> <code class="codeph">OCIAnyData *</code> ）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d294648e1988" headers="d294648e1837 ">
                                    <p><code class="codeph">表</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d294648e1988 d294648e1840 ">
                                    <p><code class="codeph">OCITable *</code> （如果<code class="codeph">is_any</code>为<code class="codeph">TRUE</code> <code class="codeph">OCIAnyData *</code> ）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d294648e2007" headers="d294648e1837 ">
                                    <p><code class="codeph">宾语</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d294648e2007 d294648e1840 ">
                                    <p><code class="codeph">void *</code> （如果<code class="codeph">is_any</code>为<code class="codeph">TRUE</code> <code class="codeph">OCIAnyData *</code> ）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-any-data-interface-functions.html#GUID-89A24450-F4B4-43D0-8194-30023978E81B" title="在给定的持续时间内分配OCIAnyData并使用类型信息对其进行初始化。">OCIAnyDataBeginCreate（）</a></li>
                        <li><a href="oci-any-data-interface-functions.html#GUID-51D85777-58B7-4348-ABB6-22F3E8568E37" title="将下一个集合元素添加到当前属性位置的OCIAnyData的collection属性。">OCIAnyDataCollAddElem（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17608"></a><div class="props_rev_3"><a id="GUID-89A24450-F4B4-43D0-8194-30023978E81B" name="GUID-89A24450-F4B4-43D0-8194-30023978E81B"></a><h3 id="LNOCI-GUID-89A24450-F4B4-43D0-8194-30023978E81B" class="sect3"><span class="enumeration_section">30.3.4</span> OCIAnyDataBeginCreate（）</h3>
               <div>
                  <p>在给定的持续时间内分配<code class="codeph">OCIAnyData</code>并使用类型信息对其进行初始化。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-89A24450-F4B4-43D0-8194-30023978E81B__GUID-92803865-509F-4F07-ACD0-7AF8C59ED02E">目的</p>
                     <p>在给定的持续时间内分配<code class="codeph">OCIAnyData</code>并使用类型信息对其进行初始化。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-89A24450-F4B4-43D0-8194-30023978E81B__GUID-D8119F19-D65C-4628-B65F-039DF69F47C1">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAnyDataBeginCreate（OCISvcCtx * svchp，OCIError * errhp，OCITypeCode tc，OCIType * type，OCIDuration dur，OCIAnyData ** sdata）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-89A24450-F4B4-43D0-8194-30023978E81B__GUID-0F8A44D3-C1BD-44BE-ADAE-F8B2E7DE96E4">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-89A24450-F4B4-43D0-8194-30023978E81B__GUID-8BCB381B-28A6-4A6F-AE8D-644253F08258"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89A24450-F4B4-43D0-8194-30023978E81B__GUID-E4E4A091-E36F-4455-BD5D-7F91C09589F8"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89A24450-F4B4-43D0-8194-30023978E81B__GUID-765C50C5-8C98-4DBC-B20B-A15580E30CD2"><!-- --></a> tc（IN）</dt>
                        <dd>
                           <p>对应于<code class="codeph">OCIAnyData</code> 。可以是内置的类型代码或用户定义类型的类型代码，例如：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_TYPECODE_OBJECT</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_TYPECODE_REF</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_TYPECODE_VARRAY</code></p>
                        </li>
                     </ul>
                     <dl>
                        <dt class="dlterm"><a name="GUID-89A24450-F4B4-43D0-8194-30023978E81B__GUID-83BF2D85-0D2D-4045-9D59-27163BE9D6CB"><!-- --></a>类型（IN）</dt>
                        <dd>
                           <p>与<code class="codeph">OCIAnyData.</code>对应的类型<code class="codeph">OCIAnyData.</code> 如果typecode对应于内置类型（ <code class="codeph">OCI_TYPECODE_NUMBER</code> ，依此类推），则此参数可以为<code class="codeph">NULL</code> 。对于用户定义的类型（ <code class="codeph">OCI_TYPECODE_OBJECT</code> ， <code class="codeph">OCI_TYPECODE_REF</code> ，集合类型等），它应该是非<code class="codeph">NULL</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-89A24450-F4B4-43D0-8194-30023978E81B__GUID-EA062298-2181-48C8-A3F5-BF39EDCA4475"><!-- --></a> dur（IN）</dt>
                        <dd>
                           <p>分配<code class="codeph">OCIAnyData</code>持续时间。它是以下之一：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>之前创建的用户持续时间。它可以通过使用来创建。</p>
                        </li>
                        <li>
                           <p>预定义的持续时间，例如<code class="codeph">OCI_DURATION_SESSION</code> 。</p>
                        </li>
                     </ul>
                     <dl>
                        <dt class="dlterm"><a name="GUID-89A24450-F4B4-43D0-8194-30023978E81B__GUID-635FAE27-EEBF-4C10-A3BF-6F4911A330F8"><!-- --></a> sdata（OUT）</dt>
                        <dd>
                           <p>初始化的<code class="codeph">OCIAnyData</code> 。如果<code class="codeph">(*sdata)</code>在调用开始时不为<code class="codeph">NULL</code> ，则可以重用内存，而不是为<code class="codeph">OCIAnyData</code>重新分配空间。
                           </p>
                           <p>因此，请勿在此处传递未初始化的指针。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-89A24450-F4B4-43D0-8194-30023978E81B__GUID-27B15DB0-F983-4659-B7AE-3E61C5F15782">评论</p>
                     <p><code class="codeph">OCIAnyDataBeginCreate()</code>使用空骨架实例创建<code class="codeph">OCIAnyData</code> 。填写属性值，使用<code class="codeph">OCIAnyDataAttrSet()</code>用于<code class="codeph">OCI_TYPECODE_OBJECT</code>或<code class="codeph">OCIAnyDataCollAddElem()</code>为集合的TypeCodes。
                     </p>
                     <p>必须按顺序设置属性值。必须从第一个属性到最后一个属性进行设置。当前属性编号被记住为<code class="codeph">OCIAnyData</code>内维护的<code class="codeph">OCIAnyData</code> 。尚不支持嵌入式属性和集合元素的分段构造。
                     </p>
                     <p>出于性能原因， <code class="codeph">OCIAnyData</code>最终指向传入的<code class="codeph">OCIType</code>参数。您必须确保<code class="codeph">OCIType</code>寿命更长（分配持续时间&gt; = <code class="codeph">OCIAnyData</code>的持续时间，如果<code class="codeph">OCIType</code>是暂时的，或者具有分配或引脚持续时间&gt; = <code class="codeph">OCIAnyData</code>的持续时间，如果<code class="codeph">OCIType</code>是持久的） 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="cartridge-services-memory-services.html#GUID-7DE91342-CFF9-4227-8E67-58296C2C8F69" title="开始用户持续时间。">OCIDurationBegin（）</a></li>
                        <li><a href="oci-any-data-interface-functions.html#GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15" title="使用给定值设置当前位置的属性。">OCIAnyDataAttrSet（）</a></li>
                        <li><a href="oci-any-data-interface-functions.html#GUID-51D85777-58B7-4348-ABB6-22F3E8568E37" title="将下一个集合元素添加到当前属性位置的OCIAnyData的collection属性。">OCIAnyDataCollAddElem（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17609"></a><div class="props_rev_3"><a id="GUID-51D85777-58B7-4348-ABB6-22F3E8568E37" name="GUID-51D85777-58B7-4348-ABB6-22F3E8568E37"></a><h3 id="LNOCI-GUID-51D85777-58B7-4348-ABB6-22F3E8568E37" class="sect3"><span class="enumeration_section">30.3.5</span> OCIAnyDataCollAddElem（）</h3>
               <div>
                  <p>将下一个集合元素添加到当前属性位置的<code class="codeph">OCIAnyData</code>的collection属性。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-51D85777-58B7-4348-ABB6-22F3E8568E37__GUID-7BEC1CE4-D6DA-400E-AB1F-05BFE91F74ED">目的</p>
                     <p>如果<code class="codeph">OCIAnyData</code>是一个集合类型，那么就没有属性位置的概念，这个调用会添加下一个集合元素。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-51D85777-58B7-4348-ABB6-22F3E8568E37__GUID-5E0F48EB-8FB1-4D6B-81E8-508D44C826AC">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAnyDataCollAddElem（OCISvcCtx * svchp，OCIError * errhp，OCIAnyData * sdata，OCITypeCode collelem_tc，OCIType * collelem_type，void * null_ind，void * elem_value，ub4 length，boolean is_any，boolean last_elem）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-51D85777-58B7-4348-ABB6-22F3E8568E37__GUID-609790E8-3EEB-448F-951D-DB880A0F3A8B">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-51D85777-58B7-4348-ABB6-22F3E8568E37__GUID-8AA8731B-D5CA-4AD0-AD9A-EC38EAD51AD9"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-51D85777-58B7-4348-ABB6-22F3E8568E37__GUID-1B56BD13-B899-483E-92BF-FEBF5853F063"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-51D85777-58B7-4348-ABB6-22F3E8568E37__GUID-9ED78425-9FD5-4E02-A8B6-4BEAD665C523"><!-- --></a> sdata（IN / OUT）</dt>
                        <dd>
                           <p>初始化的<code class="codeph">OCIAnyData</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-51D85777-58B7-4348-ABB6-22F3E8568E37__GUID-2E2A0C6C-EF4D-4071-8A60-32A20E7C7016"><!-- --></a> collelem_tc（IN）</dt>
                        <dd>
                           <p>要添加的集合元素的类型代码。类型检查偏偏基于<code class="codeph">collelem_tc</code> ， <code class="codeph">collelem_type</code>并在类型信息<code class="codeph">OCIAnyData</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-51D85777-58B7-4348-ABB6-22F3E8568E37__GUID-6C31453F-CB0B-441F-A508-16181217FD63"><!-- --></a> collelem_type（IN）[可选]</dt>
                        <dd>
                           <p><code class="codeph">collelem_type</code>参数给出引用类型的类型描述（对于<code class="codeph">OCI_TYPECODE_REF</code> ），集合类型的类型描述（对于<code class="codeph">OCI_TYPECODE_NAMEDCOLLECTION</code> ），以及对象的类型描述（对于<code class="codeph">OCI_TYPECODE_OBJECT</code> ）。
                           </p>
                           <p>内置的类型代码不需要此参数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-51D85777-58B7-4348-ABB6-22F3E8568E37__GUID-1AA91595-3218-4678-AA83-44FB4D2EA8EB"><!-- --></a> null_ind（IN）</dt>
                        <dd>
                           <p>指示<code class="codeph">elem_value</code>是否为<code class="codeph">NULL</code> 。为除<code class="codeph">OCI_TYPECODE_OBJECT</code>之外的所有类型代码传递<code class="codeph">(OCIInd *)</code> 。如果值不为<code class="codeph">NULL</code> ，则<code class="codeph">OCI_IND_NULL</code>应为<code class="codeph">OCI_IND_NULL</code>对于<code class="codeph">NULL</code>值，指示符应为<code class="codeph">OCI_IND_NOTNULL</code> 。
                           </p>
                           <p>如果类型代码是<code class="codeph">OCI_TYPECODE_OBJECT</code> ， <code class="codeph">OCI_TYPECODE_OBJECT</code>指向<code class="codeph">OCI_TYPECODE_OBJECT</code>的指示符结构的<code class="codeph">elem_value</code>作为参数传递给此处。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-51D85777-58B7-4348-ABB6-22F3E8568E37__GUID-F4B68AF7-D221-4C71-81C3-65E8F6404546"><!-- --></a> elem_value（IN）</dt>
                        <dd>
                           <p>集合元素的值。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-51D85777-58B7-4348-ABB6-22F3E8568E37__GUID-CB85F7F7-3CCE-4E56-BB72-921AF628706C"><!-- --></a>长度（IN）</dt>
                        <dd>
                           <p>集合元素的长度。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-51D85777-58B7-4348-ABB6-22F3E8568E37__GUID-5B3DF887-7517-4DF0-AFF1-7B0A11866306"><!-- --></a> is_any（IN）</dt>
                        <dd>
                           <p>该属性是否为<code class="codeph">OCIAnyData</code>形式？
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-51D85777-58B7-4348-ABB6-22F3E8568E37__GUID-34F32B26-A6DA-4BAC-BF1A-DC098FB01997"><!-- --></a> last_elem（IN）</dt>
                        <dd>
                           <p>元素是否被添加到集合中的最后一个？</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-51D85777-58B7-4348-ABB6-22F3E8568E37__GUID-542C2E19-B43E-45D0-9AC1-EA86B3246EE4">评论</p>
                     <p>可以为<code class="codeph">OCIAnyData</code>类型的<code class="codeph">OCI_TYPECODE_OBJECT</code>或任何集合类型调用此调用。一旦为<code class="codeph">OCIAnyData</code>实例启动了分段构造，就不能再使用<code class="codeph">OCIAnyDataConstruct()</code>调用了。
                     </p>
                     <p>与<code class="codeph">OCIAnyDataAttrSet()</code> ，仅当<code class="codeph">collelem_tc</code>是typecode <code class="codeph">OCI_TYPECODE_OBJECT</code>或集合类型代码时， <code class="codeph">is_any</code>才适用。如果<code class="codeph">is_any</code>为<code class="codeph">TRUE</code> ，则该属性应采用<code class="codeph">OCIAnyData *</code>的形式。
                     </p>
                     <p>如果要添加的元素是集合中的最后一个元素，则<code class="codeph">last_elem</code>应设置为<code class="codeph">TRUE</code> 。</p>
                     <p>要添加<code class="codeph">NULL</code>元素， <code class="codeph">NULL</code>指示符（ <code class="codeph">null_ind</code> ）应设置为<code class="codeph">OCI_IND_NULL</code> ，在这种情况下，将忽略所有其他参数。否则， <code class="codeph">null_ind</code>必须设置为<code class="codeph">OCI_IND_NOTNULL</code> 。</p>
                     <p>有关要为所有可能类型的集合元素传递的属性类型，请参阅<code class="codeph">OCIAnyDataAttrSet()</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-any-data-interface-functions.html#GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15" title="使用给定值设置当前位置的属性。">OCIAnyDataAttrSet（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17610"></a><div class="props_rev_3"><a id="GUID-25381FFE-7D6F-41CF-9A0B-9E16AEC25B73" name="GUID-25381FFE-7D6F-41CF-9A0B-9E16AEC25B73"></a><h3 id="LNOCI-GUID-25381FFE-7D6F-41CF-9A0B-9E16AEC25B73" class="sect3"><span class="enumeration_section">30.3.6</span> OCIAnyDataCollGetElem（）</h3>
               <div>
                  <p>按顺序访问<code class="codeph">OCIAnyData</code>当前位置的collection属性中的<code class="codeph">OCIAnyData</code> 。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-25381FFE-7D6F-41CF-9A0B-9E16AEC25B73__GUID-61BB287A-FF6F-4A0B-99DC-0065F08F6569">目的</p>
                     <p>按顺序访问<code class="codeph">OCIAnyData</code>当前位置的collection属性中的<code class="codeph">OCIAnyData</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-25381FFE-7D6F-41CF-9A0B-9E16AEC25B73__GUID-7A54D8B1-EB3E-4A3D-A959-093AB9459694">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAnyDataCollGetElem（OCISvcCtx * svchp，OCIError * errhp，OCIAnyData * sdata，OCITypeCode collelem_tc，OCIType * collelem_type，void * null_ind，void * collelem_value，ub4 * length，boolean is_any）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-25381FFE-7D6F-41CF-9A0B-9E16AEC25B73__GUID-DAA2A942-C6D1-4486-91AC-648633FC6F57">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-25381FFE-7D6F-41CF-9A0B-9E16AEC25B73__GUID-EE3F06D7-1789-4021-A6D9-BD6E449FAB36"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-25381FFE-7D6F-41CF-9A0B-9E16AEC25B73__GUID-A2AF2E5D-BF8D-472A-8BA0-82EA5F035118"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-25381FFE-7D6F-41CF-9A0B-9E16AEC25B73__GUID-53D1CC63-3439-4102-A2FF-B9C0D3FE1487"><!-- --></a> sdata（IN / OUT）</dt>
                        <dd>
                           <p>初始化的<code class="codeph">OCIAnyData</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-25381FFE-7D6F-41CF-9A0B-9E16AEC25B73__GUID-D8EE78D4-827A-49D4-8B4E-F83C7F4FBA25"><!-- --></a> collelem_tc（IN）</dt>
                        <dd>
                           <p>要检索的集合元素的typecode。类型检查偏偏基于<code class="codeph">collelem_tc</code> ， <code class="codeph">collelem_type</code>并在类型信息<code class="codeph">OCIAnyData</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-25381FFE-7D6F-41CF-9A0B-9E16AEC25B73__GUID-EBCF80C0-8C94-4222-B118-13F4CCD55EF6"><!-- --></a> collelem_type（IN）[可选]</dt>
                        <dd>
                           <p><code class="codeph">collelem_type</code>参数给出引用类型的类型描述（对于<code class="codeph">OCI_TYPECODE_REF</code> ），集合类型的类型描述（对于<code class="codeph">OCI_TYPECODE_NAMEDCOLLECTION</code> ），以及对象的类型描述（对于<code class="codeph">OCI_TYPECODE_OBJECT</code> ）。
                           </p>
                           <p>内置的类型代码不需要此参数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-25381FFE-7D6F-41CF-9A0B-9E16AEC25B73__GUID-C68AE40F-6184-432F-99BB-E8958DD8C065"><!-- --></a> null_ind（OUT）</dt>
                        <dd>
                           <p>指示<code class="codeph">collelem_value</code>是否为<code class="codeph">NULL</code> 。为除<code class="codeph">OCI_TYPECODE_OBJECT</code>之外的所有类型代码传递<code class="codeph">(OCIInd *)</code> 。如果值不为<code class="codeph">NULL</code> ，则<code class="codeph">OCI_IND_NULL</code>应为<code class="codeph">OCI_IND_NULL</code>对于<code class="codeph">NULL</code>值，指示符应为<code class="codeph">OCI_IND_NOTNULL</code> 。
                           </p>
                           <p>如果类型代码是<code class="codeph">OCI_TYPECODE_OBJECT</code> ，传递一个指针<code class="codeph">(void **)</code>到的指示器结构<code class="codeph">collelem_value</code>作为这里的论点。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-25381FFE-7D6F-41CF-9A0B-9E16AEC25B73__GUID-3C221DBC-433F-460C-A2F2-56427EA20A16"><!-- --></a> collelem_value（IN / OUT）</dt>
                        <dd>
                           <p>集合元素的值。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-25381FFE-7D6F-41CF-9A0B-9E16AEC25B73__GUID-6907A281-674E-456B-93EB-4C40748771E3"><!-- --></a>长度（IN / OUT）</dt>
                        <dd>
                           <p>集合元素的长度。目前被忽略。输入时设为0。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-25381FFE-7D6F-41CF-9A0B-9E16AEC25B73__GUID-29886930-28EA-4D36-8EEC-72BC6E8DD9C2"><!-- --></a> is_any（IN）</dt>
                        <dd>
                           <p><code class="codeph">attr_value</code>是以<code class="codeph">OCIAnyData</code>的形式返回的吗？
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-25381FFE-7D6F-41CF-9A0B-9E16AEC25B73__GUID-EA219DBF-D28A-48E0-95A8-D948143D2192">评论</p>
                     <p><code class="codeph">OCIAnyData</code>数据也可以对应于顶级集合。如果<code class="codeph">OCIAnyData</code>的类型为<code class="codeph">OCI_TYPECODE_OBJECT</code> ，则当前位置的属性必须是相应类型的集合。否则，返回错误。
                     </p>
                     <p>对于<code class="codeph">OCIAnyDataAttrGet()</code> ，仅当<code class="codeph">collelem_tc</code>类型代码为<code class="codeph">OCI_TYPECODE_OBJECT</code> ， <code class="codeph">is_any</code>参数才适用。如果<code class="codeph">is_any</code>为<code class="codeph">TRUE</code> ，则<code class="codeph">attr_value</code>采用<code class="codeph">OCIAnyData *</code>的形式。
                     </p>
                     <p>当到达集合的末尾时，此调用返回<code class="codeph">OCI_NO_DATA</code> 。成功时返回<code class="codeph">OCI_SUCCESS</code> ， <code class="codeph">OCI_ERROR</code>时返回<code class="codeph">OCI_SUCCESS</code> 。
                     </p>
                     <p>有关要为所有可能类型的集合元素传递的属性类型，请参阅<code class="codeph">OCIAnyDataAttrGet()</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-any-data-interface-functions.html#GUID-9952C155-8760-487C-B8A0-7C4A3BF657F8" title="获取OCIAnyData中当前位置的属性值。">OCIAnyDataAttrGet（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17611"></a><div class="props_rev_3"><a id="GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315" name="GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315"></a><h3 id="LNOCI-GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315" class="sect3"><span class="enumeration_section">30.3.7</span> OCIAnyDataConvert（）</h3>
               <div>
                  <p>使用给定类型的给定数据值构造<code class="codeph">OCIAnyData</code> 。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315__GUID-D026F32B-3A7F-437A-A466-5DE08003CFAF">目的</p>
                     <p>您可以使用此调用来构造整个<code class="codeph">OCIAnyData</code> ，它可以是<code class="codeph">OCI_TYPECODE_OBJECT</code>类型，任何集合类型或任何内置类型。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315__GUID-26EA83A2-F48D-4F0A-898D-540F2642192D">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAnyDataConvert（OCISvcCtx * svchp，OCIError * errhp，OCITypeCode tc，OCIType * inst_type，OCIDuration dur，void * null_ind，void * data_value，ub4 length，OCIAnyData ** sdata）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315__GUID-BF4EB190-2C42-410E-AF9B-718E82EB0C14">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315__GUID-CFAF8CBE-D31B-41C5-A2D3-7BD4BC9136FF"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315__GUID-169B14D9-FB0C-41F1-A7C0-18BF150BD5D6"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315__GUID-3D5217F1-C893-42F7-BC5A-CAC225AED5F5"><!-- --></a> tc（IN）</dt>
                        <dd>
                           <p>数据值的Typecode。可以是内置的类型代码或用户定义类型的类型代码（例如<code class="codeph">OCI_TYPECODE_OBJECT</code> ， <code class="codeph">OCI_TYPECODE_REF</code>或<code class="codeph">OCI_TYPECODE_VARRAY</code> ）。
                           </p>
                           <p>如果（ <code class="codeph">*sdata</code> ）不为<code class="codeph">NULL</code>并且它表示在<code class="codeph">OCIAnyDataSetAddInstance()</code>期间返回的框架实例，则<code class="codeph">tc</code>和<code class="codeph">inst_type</code>参数在此处是可选的。这是因为这种骨架实例的类型信息是已知的。如果为此情况提供了<code class="codeph">tc</code>和<code class="codeph">inst_type</code>参数，则它们仅用于类型检查。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315__GUID-1DBEEEEC-288A-45AB-8ED5-AEDAC604483B"><!-- --></a> inst_type（IN）</dt>
                        <dd>
                           <p>类型对应<code class="codeph">OCIAnyData</code> 。如果typecode对应于内置类型（ <code class="codeph">OCI_TYPECODE_NUMBER</code> ，依此类推），则此参数可以为<code class="codeph">NULL</code> 。对于用户定义的类型（ <code class="codeph">OCI_TYPECODE_OBJECT</code> ， <code class="codeph">OCI_TYPECODE_REF</code>或集合类型），它不应为<code class="codeph">NULL</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315__GUID-49F77604-70E9-4367-B49E-FD78EAC79AAB"><!-- --></a> dur（IN）</dt>
                        <dd>
                           <p>分配<code class="codeph">OCIAnyData</code>持续时间。它是以下之一：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>之前创建的用户持续时间。它可以使用<code class="codeph">OCIDurationBegin()</code>创建。
                           </p>
                        </li>
                        <li>
                           <p><a id="d294648e3639" class="indexterm-anchor"></a>预定义的持续时间，例如<code class="codeph">OCI_DURATION_SESSION</code> 。</p>
                        </li>
                     </ul>
                     <dl>
                        <dt class="dlterm"><a name="GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315__GUID-41AEB493-2CC7-4F26-80C4-E685060E6204"><!-- --></a> null_ind</dt>
                        <dd>
                           <p>指示<code class="codeph">data_value</code>是否为<code class="codeph">NULL</code> 。为除<code class="codeph">OCI_TYPECODE_OBJECT</code>之外的所有类型代码传递<code class="codeph">(OCIInd *)</code> 。如果值不为<code class="codeph">NULL</code> ，则<code class="codeph">OCI_IND_NULL</code>为<code class="codeph">OCI_IND_NULL</code>对于<code class="codeph">NULL</code>值，指示符为<code class="codeph">OCI_IND_NOTNULL</code> 。
                           </p>
                           <p>如果类型代码是<code class="codeph">OCI_TYPECODE_OBJECT</code> ， <code class="codeph">OCI_TYPECODE_OBJECT</code>指向<code class="codeph">OCI_TYPECODE_OBJECT</code>的指示符结构的<code class="codeph">data_value</code>作为参数传递给此处。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315__GUID-DA8EF62A-019D-4E3C-BC45-7B6710BDDF87"><!-- --></a> data_value（IN）</dt>
                        <dd>
                           <p>数据值（应该是初始化<code class="codeph">OCIAnyData</code>的类型）。请参阅<code class="codeph">OCIAnyDataAttrSet()</code>以获取与每个允许的类型代码对应的相应C类型。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315__GUID-7F6A7C86-53E0-4D03-B49C-8B9FB8E2A42D"><!-- --></a>长度（IN）</dt>
                        <dd>
                           <p>目前，此参数将被忽略。在这里通过0。将来，这可以用于某些类型代码，其中数据表示本身不会隐式地给出长度。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315__GUID-713897BF-5A41-4D64-AFD4-43CB07D45F57"><!-- --></a> sdata（IN / OUT）</dt>
                        <dd>
                           <p>初始化的<code class="codeph">OCIAnyData</code> 。如果（ <code class="codeph">*sdata</code> ）在调用开始时不为<code class="codeph">NULL</code> ，则可以重用内存，而不是为<code class="codeph">OCIAnyData</code>重新分配空间。
                           </p>
                           <p>因此，请勿在此处传递未初始化的指针。</p>
                           <p>如果（ <code class="codeph">*sdata</code> ）表示在<code class="codeph">OCIAnyDataSetAddInstance()</code>调用期间返回的框架实例，则<code class="codeph">tc</code>和<code class="codeph">inst_type</code>参数将用于类型检查（如有必要）。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315__GUID-DB04DC97-9519-4C5C-970F-FC3414BADADB">评论</p>
                     <p>出于性能原因， <code class="codeph">OCIAnyData</code>指针最终指向传入的<code class="codeph">OCIType</code>参数。您必须确保<code class="codeph">OCIType</code>寿命更长（分配持续时间&gt; = <code class="codeph">OCIAnyData</code>的持续时间，如果<code class="codeph">OCIType</code>是暂时的，或者具有分配或引脚持续时间&gt; = <code class="codeph">OCIAnyData,</code>的持续时间<code class="codeph">OCIAnyData,</code>如果<code class="codeph">OCIType</code>是持久的） 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-any-data-set-interface-functions.html#GUID-13BB5AF0-2DF4-4CE3-A55E-80F98747127D" title="将新的框架实例添加到OCIAnyDataSet，并将实例的所有属性设置为NULL。">OCIAnyDataSetAddInstance（）</a></li>
                        <li><a href="oci-any-data-interface-functions.html#GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15" title="使用给定值设置当前位置的属性。">OCIAnyDataAttrSet（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17612"></a><div class="props_rev_3"><a id="GUID-AD5CD3AB-D718-42E4-9318-C55E95C21BC8" name="GUID-AD5CD3AB-D718-42E4-9318-C55E95C21BC8"></a><h3 id="LNOCI-GUID-AD5CD3AB-D718-42E4-9318-C55E95C21BC8" class="sect3"><span class="enumeration_section">30.3.8</span> OCIAnyDataDestroy（）</h3>
               <div>
                  <p>释放OCIAnyData。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-AD5CD3AB-D718-42E4-9318-C55E95C21BC8__GUID-64C2907C-036C-4C57-8707-9470E3EBE986">目的</p>
                     <p>释放<code class="codeph">OCIAnyData</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AD5CD3AB-D718-42E4-9318-C55E95C21BC8__GUID-315B1E25-4C3F-43E5-A240-B3FB2059319E">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAnyDataDestroy（OCISvcCtx * svchp，OCIError * errhp，OCIAnyData * sdata）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AD5CD3AB-D718-42E4-9318-C55E95C21BC8__GUID-21F391C0-74A2-40E0-B92C-ECB92F0B0202">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-AD5CD3AB-D718-42E4-9318-C55E95C21BC8__GUID-674E2C43-1EB9-46F2-9B80-24F74DC13F91"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AD5CD3AB-D718-42E4-9318-C55E95C21BC8__GUID-40B166AA-8E54-4108-8BF8-F83E20C8B3D9"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AD5CD3AB-D718-42E4-9318-C55E95C21BC8__GUID-7827F6B3-9D75-4DF6-BD4E-F8ED3E3B367F"><!-- --></a> sdata（IN / OUT）</dt>
                        <dd>
                           <p>指向要释放的<code class="codeph">OCIAnyData</code>类型的指针。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17613"></a><div class="props_rev_3"><a id="GUID-D58536FB-33DE-4102-BBA1-9497A5368228" name="GUID-D58536FB-33DE-4102-BBA1-9497A5368228"></a><h3 id="LNOCI-GUID-D58536FB-33DE-4102-BBA1-9497A5368228" class="sect3"><span class="enumeration_section">30.3.9</span> OCIAnyDataEndCreate（）</h3>
               <div>
                  <p>标记<code class="codeph">OCIAnyData</code>创建的结束。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-D58536FB-33DE-4102-BBA1-9497A5368228__GUID-6E5C21E7-304A-472F-8C04-CEDF0E73C53C">目的</p>
                     <p>应在使用合适的值初始化其实例的所有属性后调用它。只有先前为<code class="codeph">OCIAnyData</code>调用<code class="codeph">OCIAnyDataBeginCreate()</code> ，此调用才有效。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D58536FB-33DE-4102-BBA1-9497A5368228__GUID-87311945-C317-41BC-8142-FF8B6E5A63EA">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAnyDataEndCreate（OCISvcCtx * svchp，OCIError * errhp，OCIAnyData *数据）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D58536FB-33DE-4102-BBA1-9497A5368228__GUID-E9FE27C2-105B-4A10-B88C-28199ED1AA0B">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-D58536FB-33DE-4102-BBA1-9497A5368228__GUID-7FD07835-8E73-4C20-A902-838CB19FB69F"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D58536FB-33DE-4102-BBA1-9497A5368228__GUID-776794CE-581A-45FC-9D99-B4281FA71245"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D58536FB-33DE-4102-BBA1-9497A5368228__GUID-4DCA5CDF-7168-44E0-94CA-31B95BA88DC7"><!-- --></a>数据（IN / OUT）</dt>
                        <dd>
                           <p>初始化的<code class="codeph">OCIAnyData</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17614"></a><div class="props_rev_3"><a id="GUID-43415612-3469-49B3-BA8B-426FEA5D95A1" name="GUID-43415612-3469-49B3-BA8B-426FEA5D95A1"></a><h3 id="LNOCI-GUID-43415612-3469-49B3-BA8B-426FEA5D95A1" class="sect3"><span class="enumeration_section">30.3.10</span> OCIAnyDataGetCurrAttrNum（）</h3>
               <div>
                  <p>返回<code class="codeph">OCIAnyData</code>的当前属性编号。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-43415612-3469-49B3-BA8B-426FEA5D95A1__GUID-5278986C-1915-4A2B-940F-D761EEBD5554">目的</p>
                     <p>如果正在构造<code class="codeph">OCIAnyData</code> ，则此函数引用正在设置的当前属性。否则，如果正在访问<code class="codeph">OCIAnyData</code> ，则此函数引用正在访问的属性。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-43415612-3469-49B3-BA8B-426FEA5D95A1__GUID-49B37BA4-D941-4298-BA85-99BA623610B2">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAnyDataGetCurrAttrNum（OCISvcCtx * svchp，OCIError * errhp，OCIAnyData * sdata，ub4 * attrnum）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-43415612-3469-49B3-BA8B-426FEA5D95A1__GUID-29D505A4-7F4A-4A96-8448-273D77769B25">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-43415612-3469-49B3-BA8B-426FEA5D95A1__GUID-3C6F3DF9-BF0D-4D10-89B7-779BF426F0C6"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-43415612-3469-49B3-BA8B-426FEA5D95A1__GUID-16351DA3-FFFB-4FE9-94D6-659D0B16CE6F"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-43415612-3469-49B3-BA8B-426FEA5D95A1__GUID-A04A5FD8-3FA0-4026-A67B-B4093E6B3AAB"><!-- --></a> sdata（IN）</dt>
                        <dd>
                           <p>初始化的<code class="codeph">OCIAnyData</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-43415612-3469-49B3-BA8B-426FEA5D95A1__GUID-328620B8-0F1D-4D1C-9817-98AD6BF74AB6"><!-- --></a> attrnum（OUT）</dt>
                        <dd>
                           <p>属性编号。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17615"></a><div class="props_rev_3"><a id="GUID-D1A8447F-D760-4780-839D-9C78436549B5" name="GUID-D1A8447F-D760-4780-839D-9C78436549B5"></a><h3 id="LNOCI-GUID-D1A8447F-D760-4780-839D-9C78436549B5" class="sect3"><span class="enumeration_section">30.3.11</span> OCIAnyDataGetType（）</h3>
               <div>
                  <p>获取与<code class="codeph">OCIAnyData</code>值对应的类型。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-D1A8447F-D760-4780-839D-9C78436549B5__GUID-5C910E37-17FF-4340-BDCE-3935A34299B9">目的</p>
                     <p>它返回指向<code class="codeph">OCIAnyData</code>内维护的类型的实际指针。出于性能原因，不进行复制。释放<code class="codeph">OCIAnyData</code> （或其持续时间结束）后，请勿使用此类型。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D1A8447F-D760-4780-839D-9C78436549B5__GUID-361E9C79-F4DB-4FE8-9D6C-E785DC3B4D62">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIAnyDataGetType（OCISvcCtx * svchp，OCIError * errhp，OCIAnyData * data，OCITypeCode * tc，OCIType ** type）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D1A8447F-D760-4780-839D-9C78436549B5__GUID-77859295-9A5F-40A2-848F-AD3588576998">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-D1A8447F-D760-4780-839D-9C78436549B5__GUID-D9C11F3C-C4D8-478D-921A-6BF1EECFE7F5"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D1A8447F-D760-4780-839D-9C78436549B5__GUID-C9CBCA55-7D0D-4AC2-9356-A528D6FECE77"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D1A8447F-D760-4780-839D-9C78436549B5__GUID-60B363D1-72A0-435E-A327-35AE216CB634"><!-- --></a>数据（IN）</dt>
                        <dd>
                           <p>初始化的<code class="codeph">OCIAnyData</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D1A8447F-D760-4780-839D-9C78436549B5__GUID-30B86AC7-AC47-4D6F-AD99-9D26442376EF"><!-- --></a> tc（OUT）</dt>
                        <dd>
                           <p>对应于<code class="codeph">OCIAnyData</code>的typecode。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D1A8447F-D760-4780-839D-9C78436549B5__GUID-5AA71613-1D00-4D27-B05B-5622A6D9846F"><!-- --></a>类型（OUT）</dt>
                        <dd>
                           <p>与<code class="codeph">OCIAnyData</code>对应的类型。如果<code class="codeph">OCIAnyData</code>对应于内置类型，则为<code class="codeph">NULL</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17616"></a><div class="props_rev_3"><a id="GUID-080630FD-CF54-4871-95EB-D319C2AF6A3C" name="GUID-080630FD-CF54-4871-95EB-D319C2AF6A3C"></a><h3 id="LNOCI-GUID-080630FD-CF54-4871-95EB-D319C2AF6A3C" class="sect3"><span class="enumeration_section">30.3.12</span> OCIAnyDataIsNull（）</h3>
               <div>
                  <p>检查<code class="codeph">OCIAnyData</code>类型的内容<code class="codeph">OCIAnyData</code>为<code class="codeph">NULL</code> 。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-080630FD-CF54-4871-95EB-D319C2AF6A3C__GUID-ED678DFE-EDFD-4EB9-AB0E-1BBE5DB857FC">目的</p>
                     <p>检查<code class="codeph">OCIAnyData</code>类型的内容<code class="codeph">OCIAnyData</code>为<code class="codeph">NULL</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-080630FD-CF54-4871-95EB-D319C2AF6A3C__GUID-8BE653DB-9E91-4097-9415-BF4DEC138ACF">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAnyDataIsNull（OCISvcCtx * svchp，OCIError * errhp，const OCIAnyData * sdata，boolean * isNull）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-080630FD-CF54-4871-95EB-D319C2AF6A3C__GUID-4B4E2250-D4EC-464F-8D77-891CE5D83282">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-080630FD-CF54-4871-95EB-D319C2AF6A3C__GUID-4F1B765A-6D24-47A8-8D52-69EDEB481F56"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-080630FD-CF54-4871-95EB-D319C2AF6A3C__GUID-F3446F40-1AF7-4A8C-9212-80A01ECC102A"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-080630FD-CF54-4871-95EB-D319C2AF6A3C__GUID-33294ABD-CD5B-42E0-A03D-598856C37157"><!-- --></a> sdata（IN）</dt>
                        <dd>
                           <p>要检查的<code class="codeph">OCIAnyData</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-080630FD-CF54-4871-95EB-D319C2AF6A3C__GUID-9768C67C-DE55-4A3E-92BC-B00173A0DAB6"><!-- --></a>零（IN / OUT）</dt>
                        <dd>
                           <p>如果为<code class="codeph">NULL</code>则为<code class="codeph">TRUE</code> ;否则， <code class="codeph">FALSE</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17617"></a><div class="props_rev_3"><a id="GUID-0A703B0A-E1AF-4817-85BD-533EE83D5C8E" name="GUID-0A703B0A-E1AF-4817-85BD-533EE83D5C8E"></a><h3 id="LNOCI-GUID-0A703B0A-E1AF-4817-85BD-533EE83D5C8E" class="sect3"><span class="enumeration_section">30.3.13</span> OCIAnyDataTypeCodeToSqlt（）</h3>
               <div>
                  <p>将<code class="codeph">OCITypeCode</code>的AnyData值转换为与OCIAnyData API返回的值的表示形式对应的SQLT代码。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-0A703B0A-E1AF-4817-85BD-533EE83D5C8E__GUID-F479CCBD-A73F-41C4-A1CB-614C6ED60FB0">目的</p>
                     <p>将<code class="codeph">OCITypeCode</code>的<code class="codeph">OCIAnyData</code>值转换为与OCIAnyData API返回的值的表示形式对应的SQLT代码。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0A703B0A-E1AF-4817-85BD-533EE83D5C8E__GUID-727EF0E8-D57E-4DD5-B254-57400AE65C0F">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAnyDataTypeCodeToSqlt（OCIError * errhp，OCITypeCode tc，ub1 * sqltcode，ub1 * csfrm）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0A703B0A-E1AF-4817-85BD-533EE83D5C8E__GUID-DC4B6120-C8B7-4534-84CB-FA70DC49B1F0">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-0A703B0A-E1AF-4817-85BD-533EE83D5C8E__GUID-2E39268A-DD25-4821-9C9A-F72B2BAC199B"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误，则记录在<code class="codeph">errhp</code> ，此函数返回<code class="codeph">OCI_ERROR</code> 。可以通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A703B0A-E1AF-4817-85BD-533EE83D5C8E__GUID-5639A4C7-94E9-40B4-B6CF-9FEB05B5626B"><!-- --></a> tc（IN）</dt>
                        <dd>
                           <p><code class="codeph">OCITypeCode</code>对应AnyData值。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A703B0A-E1AF-4817-85BD-533EE83D5C8E__GUID-F3513AD9-F5AB-4B48-88A8-69DE2B61A7F4"><!-- --></a> sqltcode（OUT）</dt>
                        <dd>
                           <p>与typecode的用户格式对应的SQLT代码。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A703B0A-E1AF-4817-85BD-533EE83D5C8E__GUID-4E287219-1934-42A6-A046-920A7C13086C"><!-- --></a> csfrm（OUT）</dt>
                        <dd>
                           <p>Charset表单对应于typecode的用户格式。仅对字符类型有意义。返回<code class="codeph">SQLCS_IMPLICIT</code>或<code class="codeph">SQLCS_NCHAR</code> （对于<code class="codeph">NCHAR</code>类型）。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0A703B0A-E1AF-4817-85BD-533EE83D5C8E__GUID-8E3F4C14-4F3A-41BF-B5E0-112C550DC947">评论</p>
                     <p>此函数使用字符集形式的<code class="codeph">SQLCS_IMPLICIT</code>将<code class="codeph">OCI_TYPECODE_CHAR</code>和<code class="codeph">OCI_TYPECODE_VARCHAR2</code>转换为<code class="codeph">SQLT_VST</code> （对应于<code class="codeph">OCIString</code>映射）。 <code class="codeph">OCI_TYPECODE_NVARCHAR2</code>也返回<code class="codeph">SQLT_VST</code> （ <code class="codeph">OCIString</code>用的字符集形式映射用于由OCIAnyData API） <code class="codeph">SQLCS_NCHAR</code> 。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                        <li><a href="object-relational-data-types-in-oci.html#GUID-FE75A655-DBE6-46B0-A8D1-537991A39BE9" title="函数OCIAnyDataTypeCodeToSqlt（）将OICAnyData值的OCITypeCode转换为与OCIAnyData API返回的值的表示形式对应的SQLT代码。">OCIAnyData函数的NCHAR Typecodes</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>