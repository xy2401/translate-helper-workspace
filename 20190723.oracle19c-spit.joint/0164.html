<html id="00929.developing-appc-client-app-tcpip-only.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>开发客户端应用程序（仅限TCP / IP）</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-appc-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T18:35:49-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18239-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="pg4tcpmap-commands-tcpip.html" title="Previous" type="text/html"></link>
      <link rel="next" href="troubleshooting-oracle-database-gateway-appc.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="APPUG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="pg4tcpmap-commands-tcpip.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="troubleshooting-oracle-database-gateway-appc.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">开发客户端应用程序（仅限TCP / IP）</li>
            </ol>
            <a id="GUID-705991C2-2CC2-4FAB-A04C-D63485B571FC" name="GUID-705991C2-2CC2-4FAB-A04C-D63485B571FC"></a><a id="APPUG700"></a>
            
            <h2 id="APPUG-GUID-705991C2-2CC2-4FAB-A04C-D63485B571FC" class="sect2"><span class="enumeration_chapter">7</span>开发客户端应用程序（仅限TCP / IP）</h2>
         </header>
         <div class="ind">
            <div>
               <p>该<a id="d24694e30" class="indexterm-anchor"></a><a id="d24694e34" class="indexterm-anchor"></a><a id="d24694e40" class="indexterm-anchor"></a>以下主题讨论如果您的网关使用TCP / IP支持IMS Connect，您将如何调用TIP并控制远程主机事务。它还为您提供了准备和执行网关事务的步骤。
               </p>
               <p>做出以下假设：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p>已经编写了远程主机事务（RHT）</p>
                  </li>
                  <li>
                     <p>已经使用<a href="creating-tip-oracle-database-gateway-appc.html#GUID-78D4439E-7DD6-45DF-842E-35007FCC572B">创建提示中</a>描述的步骤定义了与RHT对应<a href="creating-tip-oracle-database-gateway-appc.html#GUID-78D4439E-7DD6-45DF-842E-35007FCC572B">的提示</a> 。</p>
                  </li>
                  <li>
                     <p>该<a id="d24694e61" class="indexterm-anchor"></a> <code class="codeph">PGA_TCP_IMSC</code>映射表已经填充，使用了<a id="d24694e66" class="indexterm-anchor"></a> <code class="codeph">pg4tcpmap</code>工具，带有<code class="codeph">SIDE PROFILE</code>名称，TCP / IP主机名，端口号和其他IMS Connect参数。
                     </p>
                  </li>
               </ul>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="developing-appc-client-app-tcpip-only.html#GUID-C07370C7-9C1B-4003-B3DB-7F041654DCE2">客户端应用程序概述</a></p>
                  </li>
                  <li>
                     <p><a href="developing-appc-client-app-tcpip-only.html#GUID-B7E7C6BD-2087-4F6F-BD63-B172D8853746">准备客户端应用程序</a></p>
                  </li>
                  <li>
                     <p><a href="developing-appc-client-app-tcpip-only.html#GUID-07B57C7F-EB46-4D42-97BF-38F2A5A2EB19">确保TIP和远程交易程序通信</a></p>
                  </li>
                  <li>
                     <p><a href="developing-appc-client-app-tcpip-only.html#GUID-BCFCDB41-E65A-4333-AAAF-CB5FCEB4762A">从客户端应用程序调用TIP</a></p>
                  </li>
                  <li>
                     <p><a href="developing-appc-client-app-tcpip-only.html#GUID-F450316B-272E-4EC2-9574-7F39B34C3B04">交换数据</a></p>
                  </li>
                  <li>
                     <p><a href="developing-appc-client-app-tcpip-only.html#GUID-8EC590FC-73C4-4B31-8662-ED43392EF9CE">致电PG4TCPMAP</a></p>
                  </li>
                  <li>
                     <p><a href="developing-appc-client-app-tcpip-only.html#GUID-14AA4D11-BDB6-4934-BDE5-371D9B3D61E6">执行申请</a></p>
                  </li>
                  <li>
                     <p><a href="developing-appc-client-app-tcpip-only.html#GUID-FDB3D1E8-0510-49D3-AB83-2BD508801865">支持多字节字符集的应用程序开发</a></p>
                  </li>
                  <li>
                     <p><a href="developing-appc-client-app-tcpip-only.html#GUID-322345C3-6367-4ADD-A56A-B9B4A13C83FE">使用TIP所需的权限</a></p>
                  </li>
               </ul>
            </div><a id="APPUG1314"></a><a id="APPUG1025"></a><div class="props_rev_3"><a id="GUID-C07370C7-9C1B-4003-B3DB-7F041654DCE2" name="GUID-C07370C7-9C1B-4003-B3DB-7F041654DCE2"></a><h3 id="APPUG-GUID-C07370C7-9C1B-4003-B3DB-7F041654DCE2" class="sect3">客户端应用程序概述</h3>
               <div>
                  <p>程序网关管理实用程序（ <a id="d24694e171" class="indexterm-anchor"></a> PGAU）使用您提供的定义生成完整的TIP。然后，客户端应用程序可以调用TIP来访问远程主机事务。 <a href="pga-utility-oracle-database-gateway-appc.html#GUID-F73E20E7-D94C-468F-BA65-CC34F6373F19"> 程序网关管理实用程序</a> ，详细讨论了PGAU的使用。
                  </p>
                  <p>此概述说明了为调用TIP和控制远程主机事务必须执行的操作。</p>
                  <p>网关从接收PL / SQL调用<a id="d24694e184" class="indexterm-anchor"></a> Oracle数据库并发出TCP / IP调用以与远程事务程序通信。
                  </p>
                  <p>以下应用程序使这成为可能：</p>
                  <ol>
                     <li>
                        <p>我<a id="d24694e195" class="indexterm-anchor"></a> / O启用PCB的远程主机事务程序。
                        </p>
                     </li>
                     <li>
                        <p>该<a id="d24694e201" class="indexterm-anchor"></a>已使用pg4tcpmap工具填充的<code class="codeph">PGA_TCP_IMSC</code>映射表，其中包含<code class="codeph">SIDE PROFILE</code>名称以及TCP / IP主机名，端口号和其他IMS Connect参数。
                        </p>
                     </li>
                     <li>
                        <p>一个<a id="d24694e212" class="indexterm-anchor"></a>事务接口包（TIP）。TIP是一个P L / SQL包，用于处理客户端和网关之间的通信，并执行COBOL和PL / SQL之间的数据类型转换。</p>
                     </li>
                     <li>
                        <p>PGAU为您生成TIP规范。在发货的样本中，PGAU生成的包称为<code class="codeph">pgtflip.pkb</code> 。生成的TIP包括至少三个映射到远程事务程序的函数调用：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">pgtflip_init</code>初始化与远程事务程序的对话</p>
                           </li>
                           <li>
                              <p><code class="codeph">pgtflip_main</code>与远程事务程序交换应用程序数据</p>
                           </li>
                           <li>
                              <p><code class="codeph">pgtflip_term</code>终止与远程事务程序的对话</p>
                           </li>
                        </ul>
                        <p>如果您正在编写自己的TIP或调试，请参阅<a href="tip-internals-oracle-database-gateway-appc.html#GUID-9F4E3177-13B0-43CE-AD0A-5BCD66B3FD17">Tip Internals</a>以获取有关TIP的更多信息。
                        </p>
                     </li>
                     <li>
                        <p>调用TIP的客户端应用程序。</p>
                        <p>客户端应用程序使用输入和输出参数调用三个TIP函数。在该示例中，客户端应用程序传递输入和远程事务，远程事务将翻转的输入作为输出发回。</p>
                     </li>
                  </ol>
                  <p><a href="developing-appc-client-app-tcpip-only.html#GUID-C07370C7-9C1B-4003-B3DB-7F041654DCE2__G1012955" title="此3列表描述了使用示例IMS Connect-IMS事务演示PL / SQL驱动程序，TIP和网关之间的逻辑流程">表7-1</a>演示了使用示例IMS Connect-IMS事务的PL / SQL驱动程序，TIP和网关之间的逻辑流程。
                  </p>
                  <div class="tblformal" id="GUID-C07370C7-9C1B-4003-B3DB-7F041654DCE2__G1012955">
                     <p class="titleintable">表7-1 IMS Connect-IMS示例的逻辑流程</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="IMS Connect-IMS示例的逻辑流程" width="100%" border="1" summary="This 3 column table describes demonstrates the logic flow between the PL/SQL driver, the TIP, and the gateway using the example IMS Connect-IMS transaction" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d24694e270">客户申请</th>
                              <th align="left" valign="bottom" width="32%" id="d24694e273">Oracle提示</th>
                              <th align="left" valign="bottom" width="48%" id="d24694e276">在网关和远程事务之间建立的程序（大型机IMS）</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d24694e281" headers="d24694e270 ">
                                 <p>调用<code class="codeph">tip_init</code></p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d24694e281 d24694e273 ">
                                 <p>打电话<code class="codeph">PGAINIT</code></p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d24694e281 d24694e276 ">
                                 <p>网关发出TCP / IP套接字并连接以启动与IMS Connect的对话。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d24694e295" headers="d24694e270 ">
                                 <p>调用<code class="codeph">tip_main</code></p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d24694e295 d24694e273 ">
                                 <p>调用<code class="codeph">PGAXFER</code>发送输入并接收输出</p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d24694e295 d24694e276 ">
                                 <p>网关<code class="codeph">send()</code> TCP Connect发出TCP / IP <code class="codeph">send()</code> 。IMS Connect通过OTMA和XCF与IMS实例进行通信。IMS <code class="codeph">RECEIVE</code>完成。IMS执行应用程序逻辑并将<code class="codeph">SEND</code>回网关。网关发出TCP / IP <code class="codeph">receive()</code> ;收到完成。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d24694e322" headers="d24694e270 ">
                                 <p>调用<code class="codeph">tip_term</code></p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d24694e322 d24694e273 ">
                                 <p>打电话<code class="codeph">PGATERM</code></p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d24694e322 d24694e276 ">
                                 <p>网关发出TCP / IP <code class="codeph">close()</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>利用网关与远程主机事务交换数据的客户端应用程序为自己执行一些任务，并指示TIP代表它执行其他任务。因此，客户端应用程序设计者必须知道远程事务的行为以及TIP如何促进交换。</p>
                  <p>以下部分概述了远程主机事务行为，客户端应用程序如何控制此行为以及TIP函数调用和数据声明如何支持客户端应用程序控制远程主机事务。这些部分还提供了有关TIP为客户端应用程序执行的操作以及TIP调用如何与远程主机事务交换数据的背景信息。</p>
               </div>
            </div><a id="APPUG1026"></a><div class="props_rev_3"><a id="GUID-B7E7C6BD-2087-4F6F-BD63-B172D8853746" name="GUID-B7E7C6BD-2087-4F6F-BD63-B172D8853746"></a><h3 id="APPUG-GUID-B7E7C6BD-2087-4F6F-BD63-B172D8853746" class="sect3">准备客户端应用程序</h3>
               <div>
                  <div class="section">
                     <p>要准备客户端应用程序以执行，您必须了解远程主机事务要求，然后执行以下步骤：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>确保已使用pg4tcpmap工具将PGAU实用程序的<code class="codeph">.ctl</code>文件中定义的<code class="codeph">SIDEPROFILE</code>名称映射到TCP / IP和IMS Connect属性。</span><div>
                           <p>有关映射参数的详细信息，请参阅本指南中的<a href="pg4tcpmap-commands-tcpip.html#GUID-CDAD0D0C-6070-4E0E-9B97-E4DCF919510F">PG4TCPMAP命令（仅限TCP / IP）</a> 。
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>确保已标识要调用的远程主机事务程序工具。</span></li>
                     <li class="stepexpand"><span>移动相关<a id="d24694e404" class="indexterm-anchor"></a> COBOL将布局（副本）记录到网关系统以输入到PGAU。</span></li>
                     <li class="stepexpand"><span>描述远程主机事务数据并调用<a id="d24694e410" class="indexterm-anchor"></a>带有<code class="codeph">DEFINE DATA</code> ， <code class="codeph">DEFINE CALL</code>和<code class="codeph">DEFINE TRANSACTION</code>语句的PG数据字典（PG DD）。</span></li>
                     <li class="stepexpand"><span>使用<code class="codeph">GENERATE</code>在Oracle数据库中生成TIP。</span></li>
                     <li class="stepexpand"><span>创建调用TIP公共函数的客户端应用程序。</span></li>
                     <li class="stepexpand"><span>授予新创建的包的权限。</span></li>
                  </ol>
               </div><a id="APPUG1027"></a><div class="props_rev_3"><a id="GUID-82CDAADD-FF8A-4C45-9B78-69E16820B630" name="GUID-82CDAADD-FF8A-4C45-9B78-69E16820B630"></a><h4 id="APPUG-GUID-82CDAADD-FF8A-4C45-9B78-69E16820B630" class="sect4">提示内容和目的</h4>
                  <div>
                     <p>PGAU生成的TIP的内容反映了远程主机事务可用的调用和已交换的数据。了解此内容有助于设计和调试调用TIP的客户端应用程序。</p>
                     <p>提示是一个<a id="d24694e480" class="indexterm-anchor"></a> PL / SQL包，并据此有<a id="d24694e485" class="indexterm-anchor"></a><a id="d24694e489" class="indexterm-anchor"></a>两节：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>包规范包含：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>公共函数原型和参数</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>包体包含：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>私有函数和内部控制变量</p>
                              </li>
                              <li>
                                 <p>公共职能</p>
                              </li>
                              <li>
                                 <p>最后一个公共函数后的包初始化</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p>TIP的目的是为每个允许的远程事务程序交互提供PL / SQL可调用公共函数。一个<a id="d24694e519" class="indexterm-anchor"></a>远程交易程序交互是通过一个或多个逻辑相关的数据交换组<a id="d24694e524" class="indexterm-anchor"></a><a id="d24694e526" class="indexterm-anchor"></a> <code class="codeph">PGAXFER</code> RPC调用。这在概念上类似于屏幕或菜单交互，其中填充了几个字段，按下了回车键，并且向用户返回了几个字段。进一步进行类比：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>用户可能被比作TIP或客户端应用程序</p>
                        </li>
                        <li>
                           <p>要填写的字段是TIP函数调用的<code class="codeph">IN</code>参数</p>
                        </li>
                        <li>
                           <p>返回的字段是TIP函数调用的<code class="codeph">OUT</code>参数</p>
                        </li>
                        <li>
                           <p>屏幕或菜单是<code class="codeph">IN</code>和<code class="codeph">OUT</code>参数组合在一起的</p>
                        </li>
                        <li>
                           <p>按下的回车键被比作<code class="codeph">PGAXFER</code>远程过程调用（RPC）</p>
                        </li>
                     </ul>
                     <p>构成交易调用的实际参数分组由用户定义。网关对远程事务程序如何对应于TIP函数调用的集合没有限制，每个调用具有许多<code class="codeph">IN</code>和<code class="codeph">OUT</code>参数。
                     </p>
                     <p>PGA用户通常每个远程交易程序有一个TIP。如何对TIP函数调用进行分组以及在每次调用时交换哪些数据参数取决于远程事务程序的大小，复杂性和行为。</p>
                     <p>有关PL / SQL包如何工作的讨论，请参阅Oracle的<a href="../lnpls/index.html" target="_blank"><span class="italic">Oracle数据库PL / SQL语言参考</span></a> 。以下讨论涵盖了必须在TIP中执行的逻辑。请参阅Microsoft Windows上<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code>目录和基于UNIX的系统上的<code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code>目录中提供的示例提示和驱动程序，文件<a id="d24694e587" class="indexterm-anchor"></a><a id="d24694e589" class="indexterm-anchor"></a> <code class="codeph">pgtflip.pkh</code> ， <a id="d24694e598" class="indexterm-anchor"></a><a id="d24694e600" class="indexterm-anchor"></a> <code class="codeph">pgtflip.pkb</code> ，和<a id="d24694e607" class="indexterm-anchor"></a> <code class="codeph">pgtflipd.sql</code> 。
                     </p>
                  </div>
               </div><a id="APPUG1028"></a><div class="props_rev_3"><a id="GUID-24D40BAB-F818-4B7E-AE7F-259D0EEC7F08" name="GUID-24D40BAB-F818-4B7E-AE7F-259D0EEC7F08"></a><h4 id="APPUG-GUID-24D40BAB-F818-4B7E-AE7F-259D0EEC7F08" class="sect4">远程主机事务类型</h4>
                  <div>
                     <p>从数据库网关应用程序的角度来看，有三种主要类型的远程主机事务：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>事务套接字</p>
                        </li>
                        <li>
                           <p>持久套接字</p>
                        </li>
                        <li>
                           <p>非持久性套接字</p>
                        </li>
                     </ul>
                     <p>您应该熟悉远程主机事务类型。有关这些事务类型的完整说明，请参阅“IBM <span class="italic">IMS Connect指南和参考</span> ”。
                     </p>
                  </div>
               </div>
            </div><a id="APPUG1029"></a><div class="props_rev_3"><a id="GUID-07B57C7F-EB46-4D42-97BF-38F2A5A2EB19" name="GUID-07B57C7F-EB46-4D42-97BF-38F2A5A2EB19"></a><h3 id="APPUG-GUID-07B57C7F-EB46-4D42-97BF-38F2A5A2EB19" class="sect3">确保TIP和远程交易程序通信</h3>
               <div>
                  <p>远程主机事务程序及其与客户端应用程序的相关TIP必须对应<a id="d24694e715" class="indexterm-anchor"></a>两个关键要求：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>参数数据类型转换，由定义事务DATA的方式产生。有关PGAU生成的TIP如何根据数据定义转换数据的讨论，请参阅<a href="data-type-conversion-oracle-database-gateway-appc.html#GUID-FEB0C201-9C07-4932-A328-B048B582B18A">数据类型转换</a> 。
                        </p>
                     </li>
                     <li>
                        <p>TCP / IP发送/接收同步，这是由定义事务<code class="codeph">CALL</code>的方式产生的。
                        </p>
                     </li>
                  </ul>
                  <p>然后，这些<code class="codeph">DATA</code>和<code class="codeph">CALL</code>定义通过引用包含在<code class="codeph">TRANSACTION</code>定义中。
                  </p>
                  <p>使用<code class="codeph">pg4tcpmap</code>工具确保已将<code class="codeph">SIDEPROFILE</code>名称映射到TCP / IP和IMS Connect属性。
                  </p>
               </div><a id="APPUG1030"></a><div class="props_rev_3"><a id="GUID-85BC1722-2A46-414C-AF4E-9DE99C955CF0" name="GUID-85BC1722-2A46-414C-AF4E-9DE99C955CF0"></a><h4 id="APPUG-GUID-85BC1722-2A46-414C-AF4E-9DE99C955CF0" class="sect4">数据通讯</h4>
                  <div>
                     <p>使用以远程主机事务语言编写的数据定义， <a id="d24694e801" class="indexterm-anchor"></a><a id="d24694e805" class="indexterm-anchor"></a> PGAU <code class="codeph">DEFINE DATA</code>命令存储在<a id="d24694e811" class="indexterm-anchor"></a> PG DD所需的信息<a id="d24694e816" class="indexterm-anchor"></a><a id="d24694e818" class="indexterm-anchor"></a> PGAU <code class="codeph">GENERATE</code>创建TIP函数逻辑来执行：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>从接收远程主机事务提供的PL / SQL <code class="codeph">IN</code>参数的所有数据转换</p>
                        </li>
                        <li>
                           <p>所有缓冲到接收远程主机事务所期望的格式</p>
                        </li>
                        <li>
                           <p>所有数据都不受发送远程主机事务提供的格式的影响</p>
                        </li>
                        <li>
                           <p>所有数据转换为发送远程主机事务提供的PL / SQL <code class="codeph">OUT</code>参数</p>
                        </li>
                     </ul>
                     <p>PGAU根据远程主机事务程序中包含的数据定义确定生成转换和缓冲逻辑所需的信息。PGAU <code class="codeph">DEFINE DATA</code>从文件中读取此信息，例如COBOL副本，或从脚本中插入，并将其保存在PG DD中以供重复使用。网关管理员需要将这些定义文件从远程主机传输到运行PGAU的Oracle主机。
                     </p>
                     <p>根据存储在PG DD中的数据定义，PGAU <code class="codeph">GENERATE</code>确定远程主机数据类型并将其与适当的PL / SQL数据类型相匹配。它还确定记录和缓冲区中的数据长度和偏移量，并在TIP中生成所需的PL / SQL逻辑。有关详细信息，请参阅<span class="q">“</span> <a href="pga-utility-oracle-database-gateway-appc.html#GUID-F73E20E7-D94C-468F-BA65-CC34F6373F19">过程网关管理实用程序</a> <span class="q">”中</span>的PGAU <span class="q">“ <a href="pga-utility-oracle-database-gateway-appc.html#GUID-A39AE344-8E2F-49EE-9791-6BAF4ECF4F6B">DEFINE DATA</a> ”</span>语句和<span class="q">“</span> <a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-AA9B8762-BDAF-4EED-A8B0-09F8A937F04E">管理实用程序示例</a> <span class="q">”</span>中的<span class="q">“ <a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-F0ACAA50-16F8-4C5C-83FE-C0D280981772">示例PGAU DEFINE DATA语句</a> ”</span> 。
                     </p>
                     <p>必须首先使用PGAU <code class="codeph">DEFINE DATA</code>定义后续调用作为参数引用的所有数据。可以定义简单数据项，例如单个数字或字符串，以及复杂的多字段数据聚合，例如记录或结构。PGAU自动生成等效的PL / SQL变量和字段或表的记录，供客户端应用程序在其对生成的TIP的调用中引用。</p>
                     <p>如上所述，参数可以是简单的数据项，例如员工编号，也可以是复杂的项目，例如员工记录。PGAU <code class="codeph">DEFINE DATA</code>自动从输入程序数据定义文件中提取所需的数据类型信息。
                     </p>
                     <p>在此示例中， <code class="codeph">FLIPIN</code>和<code class="codeph">FLIPOUT</code>是要交换的参数。
                     </p><pre class="oac_no_warn" dir="ltr">PGTFLIP_MAIN（trannum，FLIPIN，FLIPOUT）</pre><p>因此，必须为每个参数发出PGAU <code class="codeph">DEFINE DATA</code>语句：</p><pre class="oac_no_warn" dir="ltr">DEFINE DATA FLIPIN PLSDNAME（FLIPIN）使用（通过）语言（IBMVSCOBOLII）（01 MSGIN PIC X（20）。）; DEFINE DATA FLIPOUT PLSDNAME（翻转）使用（通过）语言（IBMVSCOBOLII）（01 MSGOUT PIC X（20）。）;</pre><p>请注意， <code class="codeph">trannum</code>参数不需要定义。这是APPC会话标识符，不需要PGAU中的定义。</p>
                  </div>
               </div><a id="APPUG1031"></a><div class="props_rev_3"><a id="GUID-83C35D5F-20A6-4E6D-B25A-ECEC1BFD4ECB" name="GUID-83C35D5F-20A6-4E6D-B25A-ECEC1BFD4ECB"></a><h4 id="APPUG-GUID-83C35D5F-20A6-4E6D-B25A-ECEC1BFD4ECB" class="sect4">CALL通讯</h4>
                  <div>
                     <p>要求同步<a id="d24694e956" class="indexterm-anchor"></a> TCP / IP send（）和receive（）表示当远程事务程序期望输入数据参数时，它会发出TCP / IP receive（）来读取数据参数。因此，TIP必须使网关发出TCP / IP send（）以将数据参数写入远程事务程序。当远程事务程序发出TCP / IP send（）时，TIP还必须使网关发出TCP / IP receive（）。
                     </p>
                     <p>PGAU <code class="codeph">DEFINE CALL</code>语句指定客户端应用程序如何<code class="codeph">DEFINE CALL</code>生成的TIP以及与该调用的远程主机事务交换哪些数据参数。每个PGAU <code class="codeph">DEFINE CALL</code>语句可以指定TIP函数的名称，一个或多个数据参数以及每个数据参数的<code class="codeph">IN/OUT</code>模式。必须先使用PGAU <code class="codeph">DEFINE DATA</code>语句<code class="codeph">DEFINE DATA</code> 。有关详细信息，请参阅<span class="q">“</span> <a href="pga-utility-oracle-database-gateway-appc.html#GUID-F73E20E7-D94C-468F-BA65-CC34F6373F19">过程网关管理实用程序</a> <span class="q">”</span>中的<span class="q">“ <a href="pga-utility-oracle-database-gateway-appc.html#GUID-01EEB1ED-7AB6-4BFA-AF6F-A9D36A44C0B1">DEFINE CALL</a> ”</span>和<span class="q">“</span> <a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-AA9B8762-BDAF-4EED-A8B0-09F8A937F04E">管理实用程序示例</a> <span class="q">”</span>中的<span class="q">“ <a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-336981E2-C7F9-47C1-8B18-330187556305">示例PGAU DEFINE CALL语句</a> ”</span> 。
                     </p>
                     <p>PGAU <code class="codeph">DEFINE CALL</code>处理将指定信息存储在PG DD中，供PGAU <code class="codeph">GENERATE</code>稍后使用。然后，PGAU <code class="codeph">GENERATE</code>在TIP包规范中创建以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>对于在<code class="codeph">CALL</code>指定的每个<code class="codeph">DATA</code>定义使用PL / SQL参数定义的每个<code class="codeph">CALL</code>的公共PL / SQL函数的声明</p>
                        </li>
                        <li>
                           <p>公共PL / SQL数据参数的声明</p>
                        </li>
                     </ul>
                     <p>客户端应用程序使用PGAU <code class="codeph">DEFINE CALL</code>语句中指定的函数名称和参数列表将TIP公共函数作为PL / SQL函数调用进行<code class="codeph">DEFINE CALL</code> 。客户端应用程序还可以通过引用声明与TIP公共数据参数具有相同数据类型的私有变量，以便于在客户端应用程序中传递和处理数据，从而共享由PGAU <code class="codeph">GENERATE</code>创建的声明。</p>
                     <p>在此示例中，必须发出以下PGAU <code class="codeph">DEFINE CALL</code>语句来定义TIP公共函数：</p><pre class="oac_no_warn" dir="ltr">DEFINE CALL FLIPMAIN PKGCALL（pgtflip_main）PARMS（（FLIPIN IN），（FLIPOUT OUT））;</pre></div><a id="APPUG1032"></a><div class="props_rev_3"><a id="GUID-864E03E4-0F1A-478B-A76D-3D9624312D67" name="GUID-864E03E4-0F1A-478B-A76D-3D9624312D67"></a><h5 id="APPUG-GUID-864E03E4-0F1A-478B-A76D-3D9624312D67" class="sect5">灵活的呼叫顺序</h5>
                     <div>
                        <p>只要远程事务程序的<code class="codeph">SEND/RECEIVE</code>请求得到满足，每次调用时在TIP和网关之间交换的数据参数的数量可以由用户自行决定。例如，远程事务程序数据交换序列可能是：</p><pre class="oac_no_warn" dir="ltr">TCP / IP SEND 5字段（field1-field5）TCP / IP RECEIVE 1字段（field6）TCP / IP SEND 1字段（field7）TCP / IP RECEIVE 3字段（field8-field10）</pre><p>生成的TIP /应用程序调用序列可以是：</p><pre class="oac_no_warn" dir="ltr">tip_call1（parm1 OUT，&lt; -  TCP / IP SEND field1来自远程TP parm2 OUT，&lt; -  TCP / IP SEND field2来自远程TP parm3 OUT）; &lt; - 来自远程TP tip_call2的TCP / IP SEND字段3（parm4 OUT，&lt; - 来自远程TP parm5 OUT的TCP / IP SEND字段4）; &lt; - 来自远程TP tip_call3的TCP / IP SEND字段5（parm6 IN OUT）; - &gt;远程TP &lt; -  TCP / IP SEND field7中的TCP / IP RECEIVE field6从远程TP tip_call4（parm8 IN， - &gt; TCP / IP RECEIVE field8到远程TP parm9 IN， - &gt; TCP / IP RECEIVE field9 into远程TP parm10 IN）; - &gt; TCP / IP RECEIVE field10到远程TP</pre><p>要将这四个公共函数定义到TIP，必须发出四个PGAU <code class="codeph">DEFINE CALL</code>语句，每个语句都指定其唯一的公共函数名称（ <code class="codeph">tip_callx</code> ）和要交换的数据参数列表。一旦使用<code class="codeph">DEFINE DATA</code>定义了数据项，就可以在任何模式（ <code class="codeph">IN</code> ， <code class="codeph">OUT</code>或<code class="codeph">IN OUT</code> ）中多次调用它。例如， <code class="codeph">parm5</code>可以使用的第二时间代替<code class="codeph">parm6</code>这意味着相同的数据被在这两种情况下进行交换，接收到的TIP和应用上<code class="codeph">tip_call2</code>并返回，可能被更新，以在远程主机<code class="codeph">tip_call4</code> 。
                        </p>
                        <p>另请注意，远程事务程序的前五个写入字段由两个单独的TIP函数调用<code class="codeph">tip_call1</code>和<code class="codeph">tip_call2</code> 。这也可以通过每个<code class="codeph">OUT</code>参数的五个TIP函数调用或具有五个<code class="codeph">OUT</code>参数的单个TIP函数调用等效地完成。然后远程交易程序的第一读字段（ <code class="codeph">field6</code> ）和随后的写入字段（ <code class="codeph">field7</code> ）对应于单个TIP函数调用（ <code class="codeph">tip_call3</code> ）与单个<code class="codeph">IN OUT</code>参数（ <code class="codeph">parm6</code> ）。
                        </p>
                        <p>这种使用单一的<code class="codeph">IN OUT</code>参数意味着远程交易程序的数据类型为<code class="codeph">field6</code>和<code class="codeph">field7</code>都是相同的，并且对应于用于的数据类型执行转换<code class="codeph">parm6</code> 。如果<code class="codeph">field6</code>和<code class="codeph">field7</code>的数据类型不同，那么它们必须对应于不同的PL / SQL参数（例如， <code class="codeph">parm6 IN</code>和<code class="codeph">parm7 OUT</code> ）。但是，它们仍然可以在单个TIP呼叫上交换为两个参数，或者在两个TIP呼叫中交换为一个参数。
                        </p>
                        <p>最后，远程事务程序的剩余三个<code class="codeph">RECEIVE</code>字段由<code class="codeph">tip_call4</code>参数8-10提供。它们也可以通过三个TIP调用完成，每个参数传递一个参数，或者两个TIP调用在一个调用中传递一个参数，在另一个调用中传递两个参数，以任一顺序。这种灵活性允许用户以最适合用户的任何方式定义远程交易程序的操作和TIP函数调用之间的对应关系。
                        </p>
                     </div>
                  </div><a id="APPUG1033"></a><div class="props_rev_3"><a id="GUID-5D540B94-7349-445D-BDBF-0934811FF4C4" name="GUID-5D540B94-7349-445D-BDBF-0934811FF4C4"></a><h5 id="APPUG-GUID-5D540B94-7349-445D-BDBF-0934811FF4C4" class="sect5">致电通信订单限制</h5>
                     <div>
                        <p>每个TIP公共函数在收到任何<code class="codeph">OUT</code>参数之前首先发送所有<code class="codeph">IN</code>参数。因此，期望发送一个字段然后接收一个字段的远程事务程序必须对应于单独的TIP调用。
                        </p>
                        <p>例如：</p><pre class="oac_no_warn" dir="ltr">tip_callO（parmO OUT）; &lt; - 来自远程TP的TCP / IP SEND外场</pre><p><code class="codeph">PGAXFER</code> RPC首先检查要发送的参数，但是找不到并继续接收参数：</p><pre class="oac_no_warn" dir="ltr">tip_callI（parmI IN）; - &gt; TCP / IP RECEIVE内场到远程TP</pre><p><a id="d24694e1236" class="indexterm-anchor"></a> <code class="codeph">PGAXFER</code> RPC处理要发送的参数，然后检查要接收的参数，但找不到并完成;因此，具有<code class="codeph">OUT</code>参数后跟<code class="codeph">IN</code>参数的单个TIP公共函数不起作用，因为首先处理<code class="codeph">IN</code>参数 - 无论其在参数列表中的位置如何。
                        </p>
                     </div>
                  </div>
               </div><a id="APPUG1034"></a><div class="props_rev_3"><a id="GUID-F4CF40A2-8795-43CF-AC3A-E1CF314EF356" name="GUID-F4CF40A2-8795-43CF-AC3A-E1CF314EF356"></a><h4 id="APPUG-GUID-F4CF40A2-8795-43CF-AC3A-E1CF314EF356" class="sect4">交易通信</h4>
                  <div>
                     <p>该<a id="d24694e1303" class="indexterm-anchor"></a>远程主机事务使用PGAU <code class="codeph">DEFINE TRANSACTION</code>语句定义，并附加对事务支持的<code class="codeph">CALL</code>的先前定义的引用。
                     </p>
                     <p>你指定了<a id="d24694e1316" class="indexterm-anchor"></a>远程主机事务属性，例如：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>交易ID或名称</p>
                        </li>
                        <li>
                           <p>网络地址或位置</p>
                        </li>
                        <li>
                           <p>系统类型（例如IBM370）</p>
                        </li>
                        <li>
                           <p>Oracle National语言的远程主机</p>
                           <div class="infoboxnote" id="GUID-F4CF40A2-8795-43CF-AC3A-E1CF314EF356__GUID-8DAFE55A-3E86-4947-BAFC-4F811E5AB37F">
                              <p class="notep1">注意：</p>
                              <p>该<a id="d24694e1337" class="indexterm-anchor"></a>定义事务时指定PL / SQL包名称;这是引用TIP的名称，以及公共函数调用的名称包含在TIP中。每个公共函数必须先前已使用PGAU <code class="codeph">DEFINE CALL</code>语句定义，该语句已存储在PG DD中。如果未在<code class="codeph">GENERATE</code>语句中指定包名称（TIP名称），则默认情况下，您指定的事务名称将成为包名称。在这种情况下，事务名称（ <span class="italic"><code class="codeph">tname)</code></span>必须是唯一的，并且必须在包含PL / SQL包的数据库中的有效PL / SQL语法中。
                              </p>
                              <p>欲了解更多信息，请参阅<span class="q">“ <a href="pga-utility-oracle-database-gateway-appc.html#GUID-EC8B6848-0566-45CD-BA08-78F15ED0EEB4">定义事务处理</a></span>中的<span class="q">”</span> <a href="pga-utility-oracle-database-gateway-appc.html#GUID-F73E20E7-D94C-468F-BA65-CC34F6373F19">程序网关管理实用程序</a>和<span class="q">“ <a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-C8F9DE40-9DE6-4F49-A765-BFFDEC3065F9">样品PGAU定义事务处理的声明</a> ”，</span>在<a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-AA9B8762-BDAF-4EED-A8B0-09F8A937F04E">管理实用程序样本</a> 。
                              </p>
                           </div>
                        </li>
                     </ul>
                     <p>在此示例中，以下<code class="codeph">DEFINE TRANSACTION</code>语句用于将此信息与中的插入行进行匹配<a id="d24694e1377" class="indexterm-anchor"></a> <code class="codeph">PGA_TCP_IMSC</code>表。
                     </p><pre class="oac_no_warn" dir="ltr">DEFINE TRANSACTION IMSFLIP CALL（FLIPMAIN）SIDEPROFILE（PGATCP）TPNAME（FLIP）NLS_LANGUAGE（“american_america.us7ascii”）;</pre></div>
               </div>
            </div><a id="APPUG1035"></a><div class="props_rev_3"><a id="GUID-BCFCDB41-E65A-4333-AAAF-CB5FCEB4762A" name="GUID-BCFCDB41-E65A-4333-AAAF-CB5FCEB4762A"></a><h3 id="APPUG-GUID-BCFCDB41-E65A-4333-AAAF-CB5FCEB4762A" class="sect3">从客户端应用程序调用TIP</h3>
               <div>
                  <p>创建TIP后，必须编写客户端应用程序以与TIP接口。调用TIP函数的客户端应用程序必须包含五个逻辑部分：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>声明TIP变量</p>
                     </li>
                     <li>
                        <p>初始化对话</p>
                     </li>
                     <li>
                        <p>交换数据</p>
                     </li>
                     <li>
                        <p>终止谈话</p>
                     </li>
                     <li>
                        <p>错误处理</p>
                     </li>
                  </ul>
               </div><a id="APPUG1315"></a><a id="APPUG1316"></a><a id="APPUG1036"></a><div class="props_rev_3"><a id="GUID-E7619AF6-1062-4B87-8E0F-4E8BF8F6DD0E" name="GUID-E7619AF6-1062-4B87-8E0F-4E8BF8F6DD0E"></a><h4 id="APPUG-GUID-E7619AF6-1062-4B87-8E0F-4E8BF8F6DD0E" class="sect4">声明TIP变量</h4>
                  <div>
                     <p>用户声明部分<a id="d24694e1491" class="indexterm-anchor"></a><a id="d24694e1493" class="indexterm-anchor"></a> <span class="italic"><code class="codeph">tipname</code></span> 。 <code class="codeph">doc</code>文件记录了所需的声明。
                     </p>
                     <p>路过时<a id="d24694e1506" class="indexterm-anchor"></a>调用TIP函数时的PL / SQL参数，客户端应用程序必须使用与TIP函数参数完全相同的PL / SQL数据类型，如其规范部分中的TIP所定义。例如，假设以下是TIP规范或<span class="italic"><code class="codeph">tipname</code></span> <code class="codeph">.doc</code> ：</p><pre class="oac_no_warn" dir="ltr">功能<span class="italic">tip_call1</span> <span class="italic">tranuse</span> ，IN BINARY_INTEGER， <span class="italic">tip_var1 io_mode pls_type1，</span> <span class="italic">tip_record io_mode tran_rectype）</span> RETURN INTEGER; TYPE <span class="italic">tran_rectype</span>是RECORD <span class="italic">（rec_field1 pls_type1</span> ，...
      <span class="italic">rec_fieldN pls_typeN）</span> ;</pre><p><a href="developing-appc-client-app-tcpip-only.html#GUID-E7619AF6-1062-4B87-8E0F-4E8BF8F6DD0E__CHDBDDDG" title="该2列表提供了每个参数的描述。">表7-2</a>提供了每个参数的说明：</p>
                     <div class="tblformal" id="GUID-E7619AF6-1062-4B87-8E0F-4E8BF8F6DD0E__CHDBDDDG">
                        <p class="titleintable">表7-2函数声明</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="功能声明" width="100%" border="1" summary="This 2 column table provides a description of each of the parameters." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d24694e1558">参数</th>
                                 <th align="left" valign="bottom" width="69%" id="d24694e1561">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d24694e1566" headers="d24694e1558 ">
                                    <p><span class="italic"><code class="codeph">tip_call1</code></span> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d24694e1566 d24694e1561 ">
                                    <p>TIP函数名称，在包规范中定义。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d24694e1576" headers="d24694e1558 ">
                                    <p><span class="italic"><code class="codeph">tranuse</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d24694e1576 d24694e1561 ">
                                    <p>从TIP初始化函数返回的远程事务实例参数，用于标识此TIP调用将在其上交换数据的对话。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d24694e1585" headers="d24694e1558 ">
                                    <p><span class="italic"><code class="codeph">tran_rectype</code></span> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d24694e1585 d24694e1561 ">
                                    <p>在<code class="codeph">tipname</code>声明的PL / SQL记录数据类型<span class="italic"> </span>提示规范。这与<code class="codeph">TYPE</code>值相同<span class="italic">                 </span> <span class="italic"><code class="codeph">tran_rectype</code></span> <code class="codeph">is RECORD</code>语句。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d24694e1610" headers="d24694e1558 ">
                                    <p><span class="italic"><code class="codeph">pls_typeN</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d24694e1610 d24694e1561 ">
                                    <p>是PL / SQL原子数据类型。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d24694e1619" headers="d24694e1558 ">
                                    <p><span class="italic"><code class="codeph">rec_fieldN</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d24694e1619 d24694e1561 ">
                                    <p>PL / SQL记录字段是否对应于远程事务程序记录字段。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>在客户端应用程序中，PL / SQL原子数据类型应定义为TIP函数定义中相应参数的完全相同的数据类型。应在<code class="codeph">BEGIN</code>命令之前在客户端应用程序中编码以下内容：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">appl_var pls_type1</span> ; / *声明appl变量....* /</pre><p>您无需重新定义TIP数据类型。它们必须在客户端应用程序中本地声明，在<code class="codeph">BEGIN</code>之前出现在客户端应用程序中：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">appl_record tipname.tran_rectype;</span> / *声明appl记录* /</pre><p><a href="developing-appc-client-app-tcpip-only.html#GUID-E7619AF6-1062-4B87-8E0F-4E8BF8F6DD0E__G1012979" title="这2列表描述了每个过程声明的含义。">表7-3</a>描述了每个过程声明的含义：</p>
                     <div class="tblformal" id="GUID-E7619AF6-1062-4B87-8E0F-4E8BF8F6DD0E__G1012979">
                        <p class="titleintable">表7-3过程声明</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="程序声明" width="100%" border="1" summary="This 2 column table describes the meaning of each procedure declaration." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d24694e1661">项目</th>
                                 <th align="left" valign="bottom" width="69%" id="d24694e1664">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d24694e1669" headers="d24694e1661 ">
                                    <p><span class="italic"><code class="codeph">appl_record</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d24694e1669 d24694e1664 ">
                                    <p>是否与TIP交换PL / SQL记录并在客户端应用程序中使用。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d24694e1678" headers="d24694e1661 ">
                                    <p><span class="italic"><code class="codeph">tipname</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d24694e1678 d24694e1664 ">
                                    <p>PL / SQL包（TIP）名称是否存储在Oracle数据库中。这与TIP规范中的语句<code class="codeph">CREATE</code>或<code class="codeph">REPLACE PACKAGE</code> <span class="italic"><code class="codeph">tipname</code></span>中的值相同。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d24694e1697" headers="d24694e1661 ">
                                    <p><span class="italic"><code class="codeph">tran_rectype</code></span> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d24694e1697 d24694e1664 ">
                                    <p>是否在<span class="italic"><code class="codeph">tipname</code></span> TIP规范中声明了PL / SQL记录数据类型。这与<code class="codeph">TYPE</code> <span class="italic"><code class="codeph">tran_rectype</code></span>是<code class="codeph">RECORD</code>语句中的值相同。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>有关您可以引用的用户声明的完整说明，请参阅<span class="italic"><code class="codeph">tipname</code></span> <code class="codeph">.doc</code>内容文件。
                     </p>
                     <p>客户端应用程序调用TIP公共函数，就像它是任何本地PL / SQL函数一样：</p><pre class="oac_no_warn" dir="ltr">rc = tip_call1（tranuse，appl_var，appl_record）;</pre><p>在TCP / IP IMS Connect示例中，PL / SQL驱动程序<a id="d24694e1735" class="indexterm-anchor"></a> <code class="codeph">pgtflipd.sql</code> ，这是<span class="bold"> </span>位于Microsoft Windows上的<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code>目录和基于UNIX的系统上的<code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code>目录中，是客户端应用程序，包括以下声明：</p><pre class="oac_no_warn" dir="ltr">......CREATE或REPLACE PROCEDURE pgtflipd（mesgin IN CHAR）IS trannum INTEGER：= 0 / *交易使用数* / mesgout VARCHAR2（254）; / *输出参数* / rc INTEGER：= 0 / * PGA RPC返回码* / term INTEGER：= 0; / * 1如果pgtflip_term调用* / ......</pre></div>
               </div><a id="APPUG1037"></a><div class="props_rev_3"><a id="GUID-A00FA9EC-E261-4AC9-A136-756309229FDB" name="GUID-A00FA9EC-E261-4AC9-A136-756309229FDB"></a><h4 id="APPUG-GUID-A00FA9EC-E261-4AC9-A136-756309229FDB" class="sect4">初始化对话</h4>
                  <div>
                     <p>打电话给<a id="d24694e1783" class="indexterm-anchor"></a>初始化对话有以下几个目的：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使PL / SQL包，TIP加载并执行TIP初始化部分中编程的初始化逻辑。</p>
                        </li>
                        <li>
                           <p>使TIP init函数调用<code class="codeph">PGAINIT</code>远程过程调用（RPC），后者又建立与远程事务程序（RTP）的通信，并将事务实例号返回给应用程序。
                           </p>
                        </li>
                     </ul>
                     <p>（可选）初始化对话的调用可用于：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>覆盖默认的RHT / OLTP标识，网络地址属性和对话安全用户标识和密码。</p>
                        </li>
                        <li>
                           <p>指定什么诊断<a id="d24694e1807" class="indexterm-anchor"></a>跟踪TIP是为了生产。有关诊断跟踪的详细信息，请参阅<a href="troubleshooting-oracle-database-gateway-appc.html#GUID-6A2105DD-D6F0-4368-BE63-F8A85D5C959F">故障排除</a> 。
                           </p>
                        </li>
                     </ul>
                     <p>PGAU生成的TIP提供四种不同的初始化函数，客户端应用程序可以调用它们。这些是重载函数，它们都具有相同的名称，但在传递的参数类型方面有所不同。</p>
                     <p>传递三个初始化参数：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>RHT套接字文件描述符的事务实例编号。所有TIP初始化都需要<code class="codeph">tranuse</code>参数。
                           </p>
                        </li>
                        <li>
                           <p>TIP运行时诊断控件的TIP诊断标志。<code class="codeph">tipdiag</code>参数是可选的。有关TIP诊断的讨论，请参阅<a href="troubleshooting-oracle-database-gateway-appc.html#GUID-6A2105DD-D6F0-4368-BE63-F8A85D5C959F">故障排除</a> 。
                           </p>
                        </li>
                        <li>
                           <p>覆盖OLTP和网络属性的提示默认覆盖。<code class="codeph">override</code>参数是可选的。
                           </p>
                        </li>
                     </ul>
                     <p>显示以下四个功能，因为它们可能出现在TIP内容文档文件中。稍后提供客户端应用程序使用的示例。</p><pre class="oac_no_warn" dir="ltr">TYPE override_Typ IS RECORD（tranname VARCHAR2（2000），/ * Transaction Program * / transync BINARY_INTEGER，/ * RESERVED * / trannls VARCHAR2（50），/ * RESERVED * / oltpname VARCHAR2（2000），/ * Logical Unit * / oltpmode VARCHAR2 （2000），/ * LOG模式输入* / netaddr VARCHAR2（2000），/ * Side Profile * / tracetag VARCHAR2（2000），/ * gateway trace idtag * / FUNCTION pgtflip_init（/ * init standard * / tranuse IN OUT BINARY_INTEGER） RETURN INTEGER; FUNCTION pgtflip_init（/ * init override * / tranuse IN OUT BINARY_INTEGER，override IN override_Typ）RETURN INTEGER; FUNCTION pgtflip_init（/ * init diagnostic * / tranuse IN OUT BNARY_INTEGER，tipdiag IN CHAR）RETURN INTEGER; FUNCTION pgtflip_init（/ * init over-diag * / tranuse IN OUT BINARY_INTEGER，覆盖IN override_Typ，tipdiag IN CHAR）RETURN INTEGER;</pre></div><a id="APPUG1038"></a><div class="props_rev_3"><a id="GUID-1118371F-B21C-433F-A0E6-D06737E60C95" name="GUID-1118371F-B21C-433F-A0E6-D06737E60C95"></a><h5 id="APPUG-GUID-1118371F-B21C-433F-A0E6-D06737E60C95" class="sect5">交易实例参数</h5>
                     <div>
                        <p>这个<a id="d24694e1879" class="indexterm-anchor"></a><a id="d24694e1883" class="indexterm-anchor"></a>事务实例编号（在示例中显示为<code class="codeph">tranuse</code> ）必须传递给后续的TIP交换和终止函数。它标识到哪个网关<a id="d24694e1893" class="indexterm-anchor"></a> TCP / IP对话 - 以及远程事务程序的哪个迭代 - 数据将被传输或通信终止。
                        </p>
                        <p>单个客户端应用程序可以同时控制同一远程事务程序或多个不同远程事务程序的多个实例。事务实例编号是TIP的机制，用于通过网关将客户端应用程序调用路由到预期的远程事务程序。</p>
                        <p>客户端应用程序负责保存每个活动事务的事务实例编号，并将正确的事务传递给为该事务调用的每个TIP函数。</p>
                        <p>客户端应用程序调用TIP初始化函数，就好像它是任何本地PL / SQL函数一样。例如：</p><pre class="oac_no_warn" dir="ltr">......trannum INTEGER：= 0; / *交易使用数量* / ......BEGIN rc：= pgtflip.pgtflip_init（trannum）; ......</pre></div>
                  </div><a id="APPUG1039"></a><div class="props_rev_3"><a id="GUID-88270E73-3234-4693-9F63-17F0458E1586" name="GUID-88270E73-3234-4693-9F63-17F0458E1586"></a><h5 id="APPUG-GUID-88270E73-3234-4693-9F63-17F0458E1586" class="sect5">覆盖TIP初始化</h5>
                     <div>
                        <p>请注意，在前面的示例中，客户端应用程序未指定任何远程事务程序名称，网络连接或安全信息。TIP将此类信息内部编码为默认值，客户端应用程序只是为所选的远程事务程序调用适当的TIP。但是，客户端应用程序可以选择覆盖某些TIP默认值并提供安全信息。</p>
                        <p>您无需更改任何不需要覆盖的客户端应用程序。</p>
                        <p>在PG DD中定义远程主机事务时， <code class="codeph">DEFINE TRANSACTION</code>语句指定了可以覆盖的某些默认OLTP和网络标识属性：<a id="d24694e1957" class="indexterm-anchor"></a><a id="d24694e1961" class="indexterm-anchor"></a><a id="d24694e1965" class="indexterm-anchor"></a><a id="d24694e1969" class="indexterm-anchor"></a></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>TPNAME</p>
                           </li>
                           <li>
                              <p>侧面轮廓</p>
                           </li>
                        </ul>
                        <p>有关<code class="codeph">DEFINE TRANSACTION</code>语句的更多信息，请参阅<a href="pga-utility-oracle-database-gateway-appc.html#GUID-F73E20E7-D94C-468F-BA65-CC34F6373F19">Procedural Gateway Administration Utility中的</a> <span class="q">“ <a href="pga-utility-oracle-database-gateway-appc.html#GUID-EC8B6848-0566-45CD-BA08-78F15ED0EEB4">DEFINE TRANSACTION</a> ”</span> 。
                        </p>
                        <p>这些PG DD定义的事务属性作为默认值生成到TIP中，并且可以在其中被覆盖<a id="d24694e1996" class="indexterm-anchor"></a>提示初始化时间。这便于使用一个TIP，该TIP可以与测试事务或系统一起使用，并且稍后可以与生产事务或系统一起使用，而不必重新生成TIP。</p>
                        <p><code class="codeph">override_Typ</code>记录数据类型描述了客户端应用程序可以覆盖的各种事务属性。目前支持以下o verrides：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">tranname</code>可以设置为覆盖<code class="codeph">DEFINE TRANSACTION</code>语句的<code class="codeph">TPNAME</code>参数指定的值</p>
                           </li>
                           <li>
                              <p><code class="codeph">netaddr</code>可以设置为覆盖<code class="codeph">DEFINE TRANSACTION</code>语句的<code class="codeph">SIDEPROFILE</code>参数指定的值</p>
                           </li>
                        </ul>
                        <p>除了在中定义的事务属性<a id="d24694e2038" class="indexterm-anchor"></a> PG DD，有两个与安全相关的参数，会话安全用户ID和会话安全密码，可以在TIP初始化时覆盖。这些参数的值通常来自用于访问网关的数据库链接或Oracle数据库会话。有些情况下，Oracle数据库用户标识不足以访问OLTP系统。用户标识和密码重写提供了一种向OLTP系统指定这些参数的方法。
                        </p>
                        <p>目前支持以下覆盖：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">oltpuser</code>可以设置为覆盖用于初始化OLTP对话的用户ID</p>
                           </li>
                           <li>
                              <p><code class="codeph">oltppass</code>可以设置为覆盖用于初始化OLTP对话的密码</p>
                           </li>
                        </ul>
                        <p>仅当在网关初始化文件中指定了<code class="codeph">PGA_SECURITY_TYPE=PROGRAM</code>且OLTP系统配置为接收传入会话请求的用户ID和密码时，安全覆盖才会生效。
                        </p>
                        <p><code class="codeph">transync</code> （IMS Connect <code class="codeph">SYNCLEVEL</code> ）和<code class="codeph">trannls</code> （全球化支持字符集）在覆盖记录数据类型中定义，但保留供将来使用。无法覆盖RHT <code class="codeph">SYNCLEVEL</code>和全球化支持名称。
                        </p>
                        <p>客户端应用程序可能会在TIP初始化时覆盖默认属性，原因如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>启动不同版本的RHT（例如生产而不是测试）</p>
                           </li>
                           <li>
                              <p>更改包含RHT的OLTP的位置（如果由于迁移或切换到备份配置而移动了OLTP）</p>
                           </li>
                        </ul>
                        <p>需要覆盖的客户端应用程序可以使用覆盖和初始化参数的任意组合，并且可以随时更改组合，而无需重新生成TIP或影响不覆盖参数的应用程序。</p>
                        <p>要覆盖TIP默认值，必须将其他客户端应用程序记录变量声明为<code class="codeph">override_Typ</code>数据类型，必须将值分配给覆盖子字段，并且必须在客户端应用程序的TIP初始化调用上传递覆盖记录变量。例如：</p><pre class="oac_no_warn" dir="ltr">......my_overrides pgtflip.override_Typ; -  宣言 ......my_overrides.oltpname：='IVTNO'; - 交换到生产IMS my_overrides.tranname：='IVTNV'; - 新交易名称BEGIN rc：= pgtflip.pgtflip_init（trannum，my_overrides）; -  在里面 ......
</pre><p>在TIP中，检查覆盖属性的语法问题并将其传递给网关服务器。</p>
                     </div>
                  </div><a id="APPUG1040"></a><div class="props_rev_3"><a id="GUID-81DBF430-5E5B-42C4-9A27-CB4E2D8BB164" name="GUID-81DBF430-5E5B-42C4-9A27-CB4E2D8BB164"></a><h5 id="APPUG-GUID-81DBF430-5E5B-42C4-9A27-CB4E2D8BB164" class="sect5">安全考虑因素</h5>
                     <div>
                        <p>该<a id="d24694e2129" class="indexterm-anchor"></a><a id="d24694e2133" class="indexterm-anchor"></a>默认和重写的OLTP的安全要求必须相同，因为在任一对话中使用相同的网关服务器，如PGA RPC调用中的数据库链接名称所指示的那样。网关服务器启动安全模式在网关服务器初始化时设置，并在TIP或会话初始化时未更改地传递给OLTP。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="APPUG1041"></a><div class="props_rev_3"><a id="GUID-F450316B-272E-4EC2-9574-7F39B34C3B04" name="GUID-F450316B-272E-4EC2-9574-7F39B34C3B04"></a><h3 id="APPUG-GUID-F450316B-272E-4EC2-9574-7F39B34C3B04" class="sect3">交换数据</h3>
               <div>
                  <div class="section">
                     <p>客户端应用程序应传递从先前的<code class="codeph">tip_init</code>调用返回的事务实例号，以识别受影响的远程事务程序，并识别要与远程事务程序交换的任何客户端应用程序数据参数。
                     </p>
                     <p>在此IMS Connect查询示例中，我们传递员工编号并接收员工记录：</p><pre class="oac_no_warn" dir="ltr">rc = pgtflip.pgtflip_main（trannum，/ *传输数据* / mesgin，/ *输入参数* / mesgout）; / *输出参数* /</pre></div>
                  <!-- class="section" -->
               </div><a id="APPUG1042"></a><div class="props_rev_3"><a id="GUID-D83C1EEC-D944-4643-AB86-C82AACB7923D" name="GUID-D83C1EEC-D944-4643-AB86-C82AACB7923D"></a><h4 id="APPUG-GUID-D83C1EEC-D944-4643-AB86-C82AACB7923D" class="sect4">终止对话</h4>
                  <div>
                     <p>客户端应用程序调用TIP终止函数，就好像它是任何本地PL / SQL函数一样。例如：</p><pre class="oac_no_warn" dir="ltr">......术语：= 1; / *表示名为* / rc：= pgtflip.pgtflip_term（trannum，0）的术语; / *正常终止* / ......</pre><p></p>
                     <p>在TIP终止调用上传递事务实例号以终止事务之后，或者在远程事务程序被终止之后，可能忘记该特定事务实例号。</p>
                  </div>
               </div><a id="APPUG1043"></a><div class="props_rev_3"><a id="GUID-D795B1E5-54EA-4974-9BC5-6A0028575F7B" name="GUID-D795B1E5-54EA-4974-9BC5-6A0028575F7B"></a><h4 id="APPUG-GUID-D795B1E5-54EA-4974-9BC5-6A0028575F7B" class="sect4">错误处理</h4>
                  <div>
                     <p>客户端应用程序应包含一个异常处理程序，可以在客户端应用程序终止之前清除任何活动的TCP / IP对话。<code class="codeph">pgtflipd.sql</code>中提供的示例客户端应用程序包含异常处理的示例。
                     </p>
                     <p>网关例外报告在<code class="codeph">PGA-20900</code>至<code class="codeph">PGA-20999</code>和<code class="codeph">PGA-22000</code>至<code class="codeph">PGA 22099</code> 。发生异常时，应为先前调用TIP初始化函数启动的任何活动对话调用TIP终止函数。
                     </p>
                     <p>例如：</p><pre class="oac_no_warn" dir="ltr">如果等于等于等于其他等等，那么等于/ *终止函数尚未被调用* / rc：= pgtflip.pgtflip_term（trannum，1）; / *异常终止* / END IF;提高;</pre><p>远程事务还应包括错误处理和调试的规定，例如将调试信息写入IMS临时存储队列区域。有关如何拦截和处理Oracle异常的讨论，请参阅<a href="../lnpls/plsql-error-handling.html#LNPLS00701" target="_blank"><span class="italic">Oracle数据库PL / SQL语言参考</span></a> 。
                     </p>
                  </div>
               </div><a id="APPUG1044"></a><div class="props_rev_3"><a id="GUID-F02CA799-41D0-4F0B-A19D-A55AF7118F6D" name="GUID-F02CA799-41D0-4F0B-A19D-A55AF7118F6D"></a><h4 id="APPUG-GUID-F02CA799-41D0-4F0B-A19D-A55AF7118F6D" class="sect4">授予执行权限</h4>
                  <div>
                     <div class="section">
                        <p>TIP是一个标准<a id="d24694e2347" class="indexterm-anchor"></a>必须向从客户端应用程序调用TIP的用户授予PL / SQL包和执行权限。在这个例子中，我们将<code class="codeph">pgtflip</code>包的执行权授予用户<code class="codeph">SCOTT</code> ：</p><pre class="oac_no_warn" dir="ltr">授予PGTFLIP到SCOTT的授权</pre><p>有关详细信息，请参阅“ <a href="../admin/getting-started-with-database-administration.html#ADMIN11062" target="_blank"><span class="italic">Oracle数据库管理员指南”</span></a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="APPUG1045"></a><div class="props_rev_3"><a id="GUID-8EC590FC-73C4-4B31-8662-ED43392EF9CE" name="GUID-8EC590FC-73C4-4B31-8662-ED43392EF9CE"></a><h3 id="APPUG-GUID-8EC590FC-73C4-4B31-8662-ED43392EF9CE" class="sect3">致电PG4TCPMAP</h3>
               <div>
                  <p>不需要修改PGAU以便使用TCP / IP在网关上进行对话。您使用PGAU的APPC格式，但您将使用<code class="codeph">pg4tcpmap</code>工具将参数映射到TCP / IP。
                  </p>
                  <p>使用映射<code class="codeph">DEFINE TRANSACTION</code>参数<a id="d24694e2408" class="indexterm-anchor"></a><a id="d24694e2412" class="indexterm-anchor"></a> TCP / IP，在执行应用程序之前，您必须在<code class="codeph">PGA_TCP_IMSC</code>表中具有有效输入。有关设置和使用映射工具的信息，请参阅<a href="pg4tcpmap-commands-tcpip.html#GUID-CDAD0D0C-6070-4E0E-9B97-E4DCF919510F">PG4TCPMAP命令（仅限TCP / IP）</a> 。
                  </p>
               </div>
            </div><a id="APPUG1046"></a><div class="props_rev_3"><a id="GUID-14AA4D11-BDB6-4934-BDE5-371D9B3D61E6" name="GUID-14AA4D11-BDB6-4934-BDE5-371D9B3D61E6"></a><h3 id="APPUG-GUID-14AA4D11-BDB6-4934-BDE5-371D9B3D61E6" class="sect3">执行申请</h3>
               <div>
                  <div class="section">
                     <p>在执行客户端应用程序之前，请确保已建立与主机的连接并且接收伙伴可用。在此示例中，我们使用PL / SQL驱动程序<code class="codeph">PGTFLIPD</code>来执行IMS / IMS Connect查询。要执行此客户端应用程序，请从SQL * Plus输入：</p><pre class="oac_no_warn" dir="ltr">在执行pgtflipd（'hello'）上设置serveroutput;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPUG1047"></a><div class="props_rev_3"><a id="GUID-FDB3D1E8-0510-49D3-AB83-2BD508801865" name="GUID-FDB3D1E8-0510-49D3-AB83-2BD508801865"></a><h3 id="APPUG-GUID-FDB3D1E8-0510-49D3-AB83-2BD508801865" class="sect3">支持多字节字符集的应用程序开发</h3>
               <div>
                  <p><a id="d24694e2515" class="indexterm-anchor"></a> COBOL目前只支持<a id="d24694e2520" class="indexterm-anchor"></a>双字节字符集（ <a id="d24694e2525" class="indexterm-anchor"></a> DBCS）for <a id="d24694e2530" class="indexterm-anchor"></a> PIC G数据类型。
                  </p>
                  <p>PGAU将IBM VS COBOLII <code class="codeph">PIC G</code>数据类型处理为PL / SQL <code class="codeph">VARCHAR2</code>变量，并生成TIP，这些TIP根据为远程主机数据和本地Oracle数据指定的Oracle <code class="codeph">NLS_LANGUAGE</code>自动转换数据。
                  </p>
                  <p>可以将这些Oracle <code class="codeph">NLS_LANGUAGE</code>指定为TIP与远程事务交换的所有<code class="codeph">PIC G</code>数据的默认值（请参阅<code class="codeph">DEFINE TRANSACTION ...REMOTE_MBCS</code>或<code class="codeph">LOCAL_MBCS</code> ）。可以进一步覆盖任何单个<code class="codeph">PIC G</code>数据项的Oracle <code class="codeph">NLS_LANGUAGE</code> （请参阅<code class="codeph">REDEFINE DATA ...REMOTE</code>或<code class="codeph">LOCAL_LANGUAGE</code> ）。
                  </p>
                  <p>DBCS数据可以以受支持的DBCS字符集的任意组合进行编码。例如，Oracle数据库网关支持一个远程主机应用程序，该应用程序允许记录中每个数据字段使用不同的代码页<a id="d24694e2575" class="indexterm-anchor"></a> MBCS <a id="d24694e2578" class="indexterm-anchor"></a>支持。
                  </p>
                  <p>使用<code class="codeph">REDEFINE DATA ...还支持<code class="codeph">PIC X</code>项目上的REMOTE_LANGUAGE</code>或<code class="codeph">LOCAL_LANGUAGE</code> 。因此，除了剩余的<code class="codeph">PIC X</code>数据字段的默认SBCS转换之外，TIP还可以对指定的<code class="codeph">PIC X</code>数据字段执行DBCS或MBCS转换。默认SBCS转换是根据<code class="codeph">DEFINE TRANSACTION...NLS_LANGUAGE</code>和本地Oracle默认<code class="codeph">LANGUAGE</code>环境值。
                  </p>
                  <p>当PGAU生成TIP时， <code class="codeph">PIC G</code>数据类型将转换为PL / SQL <code class="codeph">VARCHAR2</code>数据类型。在通过TIP转换后，由于删除了移出和移入元字符，收到的<code class="codeph">'PIC G' VARCHAR2s</code>的长度可以小于最大值，并且发送的<code class="codeph">'PIC G'</code> G'RAW数据类型将具有移出和移位-in根据指定的远程主机字符集的要求插入字符。
                  </p>
                  <p>这与为<code class="codeph">PIC X</code>数据执行的转换不同，后者始终是已知的固定长度，因此<code class="codeph">CHAR</code>数据类型在TIP中用于<code class="codeph">PIC X</code>数据字段。但是，即使<code class="codeph">PIC X</code>字段包含DBCS或MBCS数据，仍然会使用<code class="codeph">CHAR</code>变量，并在需要时填充空白。
                  </p>
                  <p>某些远程主机应用程序将<code class="codeph">PIC G</code>字段与<code class="codeph">PIC X</code>字节组合在一起，用于移出，移入元字符插入。这样的COBOL定义可能如下所示：</p><pre class="oac_no_warn" dir="ltr">01 MY_RECORD。 05 SO PIC X. 05 MY_MBCS_DATA PIC G（50）。05 SI PIC X.</pre><p>PGAU无法正确处理这一点，因为在执行转换时，所有三个字段都被定义并因此被视为单独的数据项。</p>
                  <p>要正确处理，输入到PGAU的定义应为：</p><pre class="oac_no_warn" dir="ltr">01 MY_RECORD。 05 MY_MBCS_DATA PIC G（51）。
</pre><p>PGAU <code class="codeph">REDEFINE DATA</code>语句可以通过在字段<code class="codeph">SO</code>和<code class="codeph">SI</code>以及<code class="codeph">'05 MY_MBCS_DATA PIC G(51).'</code>上指定<code class="codeph">USAGE(SKIP)</code>来将3字段定义重新定义为1字段定义<code class="codeph">'05 MY_MBCS_DATA PIC G(51).'</code>重新定义<code class="codeph">MY_MBCS_DATA</code> 。三个<code class="codeph">REDEFINE</code>语句可以放在PGAU输入控制文件中，因此不需要更改远程主机定义。
                  </p>
               </div>
            </div><a id="APPUG1048"></a><div class="props_rev_3"><a id="GUID-322345C3-6367-4ADD-A56A-B9B4A13C83FE" name="GUID-322345C3-6367-4ADD-A56A-B9B4A13C83FE"></a><h3 id="APPUG-GUID-322345C3-6367-4ADD-A56A-B9B4A13C83FE" class="sect3">使用TIP所需的权限</h3>
               <div>
                  <p>必须向TIP或过程的调用者显式授予执行权限。无法通过角色授予此权限。</p>
                  <p>任何想要跟踪TIP的TIP用户都必须被授予对rtrace和ptrace过程的执行权限。有关详细信息，请参阅安装指南和<a href="../adfns/security.html#ADFNS230" target="_blank"><span class="italic">Oracle数据库开发指南中</span></a>适用于您的通信协议的“配置PGAU”部分。
                  </p>
                  <p>例如：</p>
                  <p>在Microsoft Windows上：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; sqlplus pgaadmin \ <span class="italic">pw @ database_specification_string</span> SQL&gt;将<span class="italic">pgaadmin.purge_trace</span>上的执行权授予<span class="italic">tip_user_userid</span> ; SQL&gt;将<span class="italic">pgaadmin.read_trace</span>上的执行权限授予<span class="italic">tip_user_userid;</span> 
</pre><p>在基于UNIX的系统上：</p><pre class="oac_no_warn" dir="ltr">$ sqlplus pgaadmin / <span class="italic">pw @ database_specification_string</span> SQL&gt;将<span class="italic">pgaadmin.purge_trace</span>上的执行权授予<span class="italic">tip_user_userid</span> ; SQL&gt;将<span class="italic">pgaadmin.read_trace</span>上的执行权限授予<span class="italic">tip_user_userid;</span> 
</pre><p>在开发TIP之后，必须由TIP所有者授予TIP用户对TIP的执行权限。TIP所有者通常是<code class="codeph">PGAADMIN</code> ，但可以是另一个被授予<code class="codeph">PGDDDEF</code>或<code class="codeph">PGDDGEN</code>角色的用户。例如：</p>
                  <p>对于Microsoft Windows：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; sqlplus tip_owner \ <span class="italic">pw @ database_specification_string</span> SQL&gt;在tipname <span class="italic">上将</span>执行权限授予<span class="italic">tip_user_userid</span> ;</pre><p>对于基于UNIX的系统：</p><pre class="oac_no_warn" dir="ltr">$ sqlplus tip_owner / <span class="italic">pw @ database_specification_string</span> SQL&gt;将<span class="italic">tip命令</span>执行到<span class="italic">tip_user_userid</span> ;</pre><p>哪里<code class="codeph"> </code> <span class="italic"><code class="codeph">database_specification_string</code></span>是<a id="d24694e2801" class="indexterm-anchor"></a>安装了网关<code class="codeph">UTL_RAW</code>和<code class="codeph">UTL_PG</code>组件的Oracle数据库的Oracle Net标识符。这与执行TIP的Oracle数据库相同，并且从TIP所有者用户ID执行TIP上的授权。</p>
                  <p>用于执行这些授权的SQL脚本在Microsoft Windows的<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录和基于UNIX的系统的目录中的<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>中提供。该<a id="d24694e2818" class="indexterm-anchor"></a><a id="d24694e2820" class="indexterm-anchor"></a> <code class="codeph">pgddausr.sql</code>脚本执行授权，以便由单个TIP用户对包进行私有访问。如果要使用私有授权，则必须为每个TIP用户的用户ID运行一次<code class="codeph">pgddausr.sql</code>脚本。</p>
                  <p>要运行这些脚本，请使用SQL * Plus以<code class="codeph">PGAADMIN</code>用户<code class="codeph">PGAADMIN</code>连接到Oracle数据库。从SQL * Plus，在Microsoft Windows上的<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录或基于UNIX的系统上的<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中运行<code class="codeph">pgddausr.sql</code>脚本。该脚本执行必要的授权，如前所述。系统会提示您输入所需的用户标识，密码和数据库规范字符串。如果您使用的是私有授权，请对需要访问软件包的每个用户ID重复此步骤。
                  </p>
                  <p>没有提供脚本来执行公共拨款。为此，请发出以下命令：</p>
                  <p>对于Microsoft Windows：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; sqlplus tip_owner \ <span class="italic">pw @ database_specification_string</span> SQL&gt;将tipname上的execute赋予PUBLIC;</pre><p>对于基于UNIX的系统：</p><pre class="oac_no_warn" dir="ltr">$ sqlplus tip_owner / <span class="italic">pw @ database_specification_string</span> SQL&gt;将tipname上的execute赋予PUBLIC;</pre><p></p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="13416.using-preupgrade-information-tool-for-oracle-database.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Review these topics to understand and to use the Pre-Upgrade information tool (preupgrade.jar)."></meta>
      <meta name="description" content="Review these topics to understand and to use the Pre-Upgrade information tool (preupgrade.jar)."></meta>
      <title>使用Oracle数据库的升级前信息工具</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Upgrade Guide"></meta>
      <meta property="og:description" content="Review these topics to understand and to use the Pre-Upgrade information tool (preupgrade.jar)."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Upgrade Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-upgrade-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-25T08:26:31-07:00"></meta>
      <meta name="dcterms.title" content="Database Upgrade Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96252-05"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="prerequisites-for-preparing-oracle-home-on-windows.html" title="Previous" type="text/html"></link>
      <link rel="next" href="testing-upgraded-production-oracle-database.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="UPGRD"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="prerequisites-for-preparing-oracle-home-on-windows.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="testing-upgraded-production-oracle-database.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库升级指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="tasks-prepare-upgrade-oracle-database.html" property="item" typeof="WebPage"><span property="name">准备升级Oracle数据库</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用Oracle数据库的升级前信息工具</li>
            </ol>
            <a id="GUID-C0219AF1-AD43-4097-B358-E53E48958647" name="GUID-C0219AF1-AD43-4097-B358-E53E48958647"></a>
            
            <h2 id="UPGRD-GUID-C0219AF1-AD43-4097-B358-E53E48958647" class="sect2">使用Oracle数据库的升级前信息工具</h2>
         </header>
         <div class="ind">
            <div>
               <p>查看这些主题以了解并使用升级前信息工具（ <code>preupgrade.jar</code> ）。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-C4B1F17F-D133-4A6A-B5D8-8244604C2B74">关于升级前信息工具</a><br>在早期版本的Oracle数据库上运行升级前信息工具，以确定它是否可以升级。
                  </li>
                  <li class="ulchildlink"><a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-B6EDBCBE-CD3C-464D-9B7B-97DE8A655AE4">升级前信息工具生成的预升级脚本</a><br>在升级到新的Oracle数据库发行版之前，您可以运行升级前信息工具生成的预升级脚本来修复许多问题。
                  </li>
                  <li class="ulchildlink"><a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-ADF44356-F67C-4E95-912B-9DD13FF26888">升级前信息工具生成的升级后脚本</a><br>升级后，您可以运行升级前信息工具生成的升级后脚本，以完成升级目标数据库的修正。
                  </li>
                  <li class="ulchildlink"><a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-DCB43F8E-87F1-4F5D-A6EB-388755BAC952">为升级前信息工具设置环境变量</a><br>在运行升级前信息工具之前，请为运行该工具的Oracle用户设置用户环境变量。
                  </li>
                  <li class="ulchildlink"><a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-C4941221-8DC4-4DF8-A773-9F8B3FECF7D0">升级前信息工具（preupgrade.jar）命令</a><br>使用升级前信息工具（ <code>preupgrade.jar</code> ）命令在升级之前检查系统。
                  </li>
                  <li class="ulchildlink"><a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-AEA50E7D-48B8-4EB0-A416-130C2A804F4A">输出升级前信息工具</a><br>升级前信息工具（ <code>preupgrade.jar</code> ）在您使用DIR命令行选项指定的输出目录中创建修订脚本和日志文件。
                  </li>
                  <li class="ulchildlink"><a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-0C496815-1826-4E28-8437-36FA549000F9">升级前信息工具输出示例</a><br>在此示例中，您可以看到升级前信息工具如何显示建议的修复程序，但不会自动执行修复。
                  </li>
                  <li class="ulchildlink"><a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-DC0F9DF2-4001-48E5-AC18-4F2FA10B869E">Oracle数据库的升级前信息工具警告和建议</a><br>在升级到新版Oracle数据库之前，请分析任何升级前信息工具警告。对于该工具报告的每个项目，它会为您提供有关如何解决问题或警告的信息。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="tasks-prepare-upgrade-oracle-database.html#GUID-733D2563-A42D-4366-9FCD-DABD25D0E2DF" title="完成预升级任务和检查以帮助您完成成功升级。">准备升级Oracle数据库</a></p>
                  </div>
               </div>
            </div>
            <a id="UPGRD52783"></a><div class="props_rev_3"><a id="GUID-C4B1F17F-D133-4A6A-B5D8-8244604C2B74" name="GUID-C4B1F17F-D133-4A6A-B5D8-8244604C2B74"></a><h3 id="UPGRD-GUID-C4B1F17F-D133-4A6A-B5D8-8244604C2B74" class="sect3">关于升级前信息工具</h3>
               <div>
                  <p>在早期版本的Oracle数据库上运行升级前信息工具，以确定它是否可以升级。</p>
                  <p>为帮助确保升级成功，Oracle强烈建议您在开始升级之前运行升级前信息工具，并使用其生成的preupgrade和postupgrade脚本来帮助您解决该工具发现的任何问题。</p>
                  <p>Oracle数据库<span class="italic">12c</span>与更高版本使用<code>preupgrade.jar</code>升级前的信息工具。您可以从操作系统命令行运行该工具。在以前的Oracle数据库版本中，升级前信息工具在SQL * Plus中作为SQL文件运行。升级前信息工具可创建预升级脚本（可在开始升级之前修复问题）和升级后脚本（可在升级完成后修复问题）。
                  </p>
                  <p>升级前信息工具（ <code>preupgrade.jar</code> ）创建以下文件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>日志文件<code class="codeph">preupgrade.log</code> 。
                        </p>
                        <p>日志文件包含升级前信息工具的输出。</p>
                     </li>
                     <li>
                        <p>该<code class="codeph">preupgrade_fixups_ <span class="variable" translate="no">pdbname</span> .sql</code> （对于PDBS，其中<code class="codeph"><span class="variable" translate="no">pdbname</span></code>是PDB的名称）或<code class="codeph">preupgrade_fixups.sql</code>脚本（非CDB数据库）。
                        </p>
                        <p>在运行升级之前，可以在SQL * Plus中手动运行preupgrade fixups脚本，以解决preupgrade工具识别的许多问题。</p>
                     </li>
                     <li>
                        <p><code class="codeph">postupgrade_fixups_ <span class="variable" translate="no">pdbname</span> .sql</code> （对于PDB，其中<code class="codeph"><span class="variable" translate="no">pdbname</span></code>是PDB的名称）或<code class="codeph">postupgrade_fixups.sql</code>脚本（非CDB数据库）。
                        </p>
                        <p>完成数据库升级后，您可以运行此脚本来修复问题。</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-C0219AF1-AD43-4097-B358-E53E48958647" title="查看这些主题以了解并使用升级前信息工具（preupgrade.jar）。">使用Oracle数据库的升级前信息工具</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-B6EDBCBE-CD3C-464D-9B7B-97DE8A655AE4" name="GUID-B6EDBCBE-CD3C-464D-9B7B-97DE8A655AE4"></a><h3 id="UPGRD-GUID-B6EDBCBE-CD3C-464D-9B7B-97DE8A655AE4" class="sect3">升级前信息工具生成的预升级脚本</h3>
               <div>
                  <p>在升级到新的Oracle数据库发行版之前，您可以运行升级前信息工具生成的预升级脚本来修复许多问题。</p>
                  <p><code class="codeph">preupgrade_fixups.sql</code>和日志文件的位置取决于您设置输出文件夹的方式，或者定义Oracle基本环境变量。
                  </p>
                  <p>如果使用<code>dir</code>选项和升级前信息工具指定输出目录，则输出日志和文件将放在文件路径/ <code>cfgtoollogs/ <span class="variable" translate="no">dbunique_name</span> /preupgrade</code>中的该目录下，其中<code class="codeph"><span class="variable" translate="no">dbunique_name</span></code>是源Oracle的名称数据库。如果在运行升级前信息工具时未指定输出目录，则输出将定向到以下默认位置之一：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果未使用<code class="codeph">DIR</code>指定输出目录，但已设置Oracle基本环境变量，则会在以下文件路径中创建生成的脚本和日志文件：</p>
                        <p><code><span class="variable" translate="no">Oracle-base</span> / cfgtoollogs / <span class="variable" translate="no">dbunique_name</span> / preupgrade</code></p>
                     </li>
                     <li>
                        <p>如果未指定输出目录，并且尚未定义Oracle基本环境变量，则会在以下文件路径中创建生成的脚本和日志文件：</p>
                        <p><code class="codeph"><span class="variable" translate="no">Oracle-home</span> / cfgtoollogs / <span class="variable" translate="no">dbunique_name</span> / preupgrade</code></p>
                     </li>
                  </ul>
                  <p>升级前信息工具创建的修复脚本取决于源数据库是非CDB数据库还是CDB数据库：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>日志文件（ <code class="codeph">preupgrade.log</code> ）。
                        </p>
                        <p>日志文件包含升级前信息工具的日志输出。</p>
                     </li>
                     <li>
                        <p>升级前修复SQL脚本，具体取决于您的源数据库类型：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">非CDB</span> ： <code class="codeph">preupgrade_fixups.sql</code></p>
                           </li>
                           <li>
                              <p><span class="bold">CDB</span> ：两套不同的脚本：</p>
                              <ol>
                                 <li>
                                    <p><code class="codeph">preupgrade_fixups.sql</code> ：所有PDB的合并脚本。
                                    </p>
                                 </li>
                                 <li>
                                    <p>多<code class="codeph">preupgrade_fixups_ <span class="variable" translate="no">pdbname</span> .sql</code>脚本，其中<code class="codeph"><span class="variable" translate="no">pdbname</span></code>是为其生成一个脚本的PDB名称：个人脚本，您具体的PDBS运行。
                                    </p>
                                 </li>
                              </ol>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">catcon.pl</code>或使用SQL * Plus命令运行脚本。在开始数据库升级之前，必须运行这些脚本来修复问题。这些脚本解决了preupgrade工具识别的许多问题。
                        </p>
                        <p>脚本识别的每个问题都包括问题的描述以及可以执行以解决问题的任务。preupgrade工具本身不会更改数据库以更正错误。但是，您可以运行它生成的脚本来更正已识别的错误。这些脚本仅修复了自动脚本可以安全修复的问题。自动脚本无法安全修复的预升级问题通常需要DBA了解用户应用程序。您可以手动解决这些问题。</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-C0219AF1-AD43-4097-B358-E53E48958647" title="查看这些主题以了解并使用升级前信息工具（preupgrade.jar）。">使用Oracle数据库的升级前信息工具</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-ADF44356-F67C-4E95-912B-9DD13FF26888" name="GUID-ADF44356-F67C-4E95-912B-9DD13FF26888"></a><h3 id="UPGRD-GUID-ADF44356-F67C-4E95-912B-9DD13FF26888" class="sect3">升级前信息工具生成的升级后脚本</h3>
               <div>
                  <p>升级后，您可以运行升级前信息工具生成的升级后脚本，以完成升级目标数据库的修正。</p>
                  <p>升级前信息工具生成升级后修复脚本，您可以在升级后运行该脚本以修复可在升级后修复的问题。</p>
                  <p>升级后SQL脚本和日志文件的位置取决于您设置输出文件夹的方式，或者定义Oracle基本环境变量。升级后修复脚本与预升级修订脚本放在同一目录路径中。</p>
                  <p>如果使用<code>dir</code>选项和升级前信息工具指定输出目录，则输出日志和文件将放在文件路径/ <code>cfgtoollogs/ <span class="variable" translate="no">dbunique_name</span> /preupgrade</code>中的该目录下，其中<code class="codeph"><span class="variable" translate="no">dbunique_name</span></code>是源Oracle的名称数据库。如果在运行升级前信息工具时未指定输出目录，则输出将定向到以下默认位置之一：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果未使用<code class="codeph">DIR</code>指定输出目录，但已设置Oracle基本环境变量，则会在以下文件路径中创建生成的脚本和日志文件：</p>
                        <p><code><span class="variable" translate="no">Oracle-base</span> / cfgtoollogs / <span class="variable" translate="no">dbunique_name</span> / preupgrade</code></p>
                     </li>
                     <li>
                        <p>如果未指定输出目录，并且尚未定义Oracle基本环境变量，则会在以下文件路径中创建生成的脚本和日志文件：</p>
                        <p><code class="codeph"><span class="variable" translate="no">Oracle-home</span> / cfgtoollogs / <span class="variable" translate="no">dbunique_name</span> / preupgrade</code></p>
                     </li>
                  </ul>
                  <p>升级前信息工具创建的升级后修复脚本取决于源数据库是非CDB数据库还是CDB数据库：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">非CDB</span> ： <code>postupgrade_fixups.sql</code></p>
                     </li>
                     <li>
                        <p><span class="bold">CDB</span> ：两套不同的脚本：</p>
                        <ol>
                           <li>
                              <p><code class="codeph">postupgrade_fixups.sql</code> ：所有PDB的合并脚本</p>
                           </li>
                           <li>
                              <p>多<code class="codeph">postupgrade_fixups_ <span class="variable" translate="no">pdbname</span> .sql</code>脚本，其中<code class="codeph"><span class="variable" translate="no">pdbname</span></code>是为其生成一个脚本的PDB名称：个人脚本，您具体的PDBS运行。
                              </p>
                           </li>
                        </ol>
                     </li>
                  </ul>
                  <p>自动脚本无法安全修复的升级后问题通常需要DBA了解用户应用程序。您可以手动解决这些问题。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-ADF44356-F67C-4E95-912B-9DD13FF26888__GUID-4760329F-B09A-4CDC-86C1-230F9F065A04">为非CDB数据库运行升级后修复脚本的准则</p>
                     <p>Oracle建议您在运行postupgrade脚本时，将系统设置为将结果假脱机到日志文件，以便您可以读取输出。但是，不要将结果假脱机到<code>admin</code>目录：</p>
                     <p>运行postupgrade脚本后，可以运行升级后状态工具来检查服务器的状态。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="recommended-and-best-practices-complete-upgrading-oracle-database.html#GUID-54415206-25BF-46EE-BAF4-1AA6FCEB90B2">运行Postupgrade修复脚本</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-C0219AF1-AD43-4097-B358-E53E48958647" title="查看这些主题以了解并使用升级前信息工具（preupgrade.jar）。">使用Oracle数据库的升级前信息工具</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-DCB43F8E-87F1-4F5D-A6EB-388755BAC952" name="GUID-DCB43F8E-87F1-4F5D-A6EB-388755BAC952"></a><h3 id="UPGRD-GUID-DCB43F8E-87F1-4F5D-A6EB-388755BAC952" class="sect3">为升级前信息工具设置环境变量</h3>
               <div>
                  <p>在运行升级前信息工具之前，请为运行该工具的Oracle用户设置用户环境变量。</p>
                  <div class="section">
                     <p>您必须为升级前信息工具设置用户环境变量。此示例显示如何使用shell命令设置用户环境变量以指向早期版本的Oracle主目录。对于多租户架构升级，您还必须打开希望工具分析的所有PDB。</p>
                     <p>在此示例中，操作系统是Linux或Unix，系统标识符是<code class="codeph">sales01</code> ，早期版本的Oracle主路径是<code>/u01/app/oracle/product/12.1.0/dbhome_1</code></p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>以Oracle安装所有者（ <code class="codeph">oracle</code> ）身份登录。</span></li>
                     <li class="stepexpand"><span>设置用户环境变量以指向要升级的早期版本Oracle主目录。</span><div>
                           <p>例如：</p><pre class="pre codeblock"><code>$ export ORACLE_HOME = / u01 / app / oracle / product / 12.1.0 / dbhome_1 $ export ORACLE_BASE = / u01 / app / oracle $ export ORACLE_SID = sales01 $ export PATH =。：$ ORACLE_HOME / bin：$ PATH</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>（多租户架构升级）：如果您在CDB中运行升级前信息工具，则使用命令<code class="codeph">alter pluggable database all open</code>打开PDB，以便工具可以分析它们。</span><div>
                           <div class="p">例如：登录数据库并输入以下命令以打开所有PDB：<pre class="pre codeblock"><code>$ sqlplus \ as SYSDBA。。。SQL&gt; alter pluggable database all open;</code></pre></div>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-C0219AF1-AD43-4097-B358-E53E48958647" title="查看这些主题以了解并使用升级前信息工具（preupgrade.jar）。">使用Oracle数据库的升级前信息工具</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-C4941221-8DC4-4DF8-A773-9F8B3FECF7D0" name="GUID-C4941221-8DC4-4DF8-A773-9F8B3FECF7D0"></a><h3 id="UPGRD-GUID-C4941221-8DC4-4DF8-A773-9F8B3FECF7D0" class="sect3">升级前信息工具（preupgrade.jar）命令</h3>
               <div>
                  <p>使用升级前信息工具（ <code>preupgrade.jar</code> ）命令在升级之前检查系统。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-C4941221-8DC4-4DF8-A773-9F8B3FECF7D0__GUID-034099AD-5549-40AA-B2BE-98594B2E6328">先决条件</p>
                     <p>升级前信息工具位于新版本的Oracle主目录中，位于文件路径<code>ORACLE_HOME/rdbms/admin/preupgrade.jar</code> 。Oracle已使用新Oracle Database发行版所需的系统检查对其进行了配置。但是，该工具执行的检查是在早期版本的Oracle Database主目录上执行的。设置Oracle用户环境变量，以便它们指向早期版本的Oracle主目录。
                     </p>
                     <p>使用早期版本Oracle主目录中的Java版本运行升级前信息工具。对于多租户架构（CDB和PDB）升级，请在运行该工具之前打开您希望工具分析的所有PDB。</p>
                     <p>将用户帐户的环境变量设置为指向早期版本ORACLE_HOME，ORACLE_BASE和ORACLE_SID。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C4941221-8DC4-4DF8-A773-9F8B3FECF7D0__GUID-EB69E65A-1126-4198-90CA-1ADAD4DDBDDF">文件路径</p>
                     <p><code>preupgrade.jar</code>文件位于新的Oracle主目录中：</p><pre class="pre codeblock"><code><span class="variable" translate="no">New_release_Oracle_home</span> /rdbms/admin/preupgrade.jar</code></pre><p>您还可以将<code>preupgrade.jar</code>二进制文件复制到您选择的路径中。例如：</p><code>/tmp/preupgrade.jar</code></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C4941221-8DC4-4DF8-A773-9F8B3FECF7D0__GUID-2F848E93-ADBC-47F5-B8D0-AA30DA00A739">句法</p><pre class="pre codeblock"><code>$ <span class="variable" translate="no">Earlier_release_Oracle_home</span> / jdk / bin / java -jar $ <span class="variable" translate="no">New_release_Oracle_home</span> /rdbms/admin/preupgrade.jar [FILE | TERMINAL] [TEXT | XML] [DIR <span class="variable" translate="no">output_dir</span> ]</code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C4941221-8DC4-4DF8-A773-9F8B3FECF7D0__GUID-1825913F-43A2-43D7-B050-C88808E7676C">选项</p>
                     <div class="tblformal" id="GUID-C4941221-8DC4-4DF8-A773-9F8B3FECF7D0__GUID-77D9FF92-BDC4-4F2A-A48A-C5A4F31F78DE">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="Pre-Upgrade Information Tool (preupgrade.jar) command syntax options. This table shows the command-line option, and describes its purpose. " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d13104e914">命令选项</th>
                                 <th align="left" valign="bottom" width="20%" id="d13104e916">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d13104e920" headers="d13104e914 ">
                                    <p><code class="codeph">FILE |终端</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d13104e920 d13104e916 ">
                                    <p>脚本输出位置。使用FILE将脚本输出定向到文件。使用TERMINAL将输出定向到终端。如果未指定值，则默认值为FILE。如果指定TERMINAL，则屏幕输出将定向到显示，并且脚本和日志将放置在输出目录路径中。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d13104e928" headers="d13104e914 ">
                                    <p><code class="codeph">TEXT | XML</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d13104e928 d13104e916 ">
                                    <p>输出类型。使用TEXT指定文本输出。使用XML指定XML输出。如果未指定输出类型，则默认为文本。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d13104e936" headers="d13104e914 ">
                                    <p><code class="codeph">DIR <span class="variable" translate="no">output_dir</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d13104e936 d13104e916 ">
                                    <p>将输出定向到特定目录。如果未使用<code class="codeph">DIR</code>选项指定输出目录，则输出将定向到以下默认位置之一：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>如果未使用<code class="codeph">DIR</code>指定输出目录，但定义了<code class="codeph"><span class="variable" translate="no">ORACLE_BASE</span></code>环境变量，则会创建生成的脚本和日志文件。
                                          </p>
                                       </li>
                                       <li>
                                          <p>如果未指定输出目录，并且未定义<code class="codeph"><span class="variable" translate="no">ORACLE_BASE</span></code> ，则会在以下路径中创建生成的脚本和日志文件：</p>
                                          <p><code class="codeph"><span class="variable" translate="no">ORACLE_HOME</span> / cfgtoollogs / <span class="variable" translate="no">dbunique_name</span> / preupgrade</code></p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d13104e975" headers="d13104e914 ">
                                    <p><code class="codeph">-c "pdb1 pdb2 pdb3"</code> （Windows）</p>
                                    <p><code class="codeph">-c 'pdb1 pdb2 pdb3'</code> （Linux和UNIX）</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d13104e975 d13104e916 ">
                                    <p>指定要包括在内的CDB中的容器列表（“白名单”）。提供要处理的以空格分隔的PDB列表。要指定列表，请在Linux和UNIX操作系统上使用单引号，并在Windows系统上使用双引号。</p>
                                    <p>如果未指定<code class="codeph">-c</code>或<code class="codeph">-C</code> ，则处理CDB中的所有PDB。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d13104e996" headers="d13104e914 ">
                                    <p><code class="codeph">-C "pdb1 pdb2 pdb3"</code> （Windows）</p>
                                    <p><code class="codeph">-C 'pdb1 pdb2 pdb3'</code> （Linux和UNIX）</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d13104e996 d13104e916 ">
                                    <p>指定要从处理中排除的CDB内的容器列表（“黑名单”）。提供要从处理中排除的以空格分隔的PDB列表。要指定列表，请在Linux和UNIX操作系统上使用单引号，并在Windows系统上使用双引号。</p>
                                    <p>如果未指定<code class="codeph">-c</code>或<code class="codeph">-C</code> ，则处理CDB中的所有PDB。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d13104e1017" headers="d13104e914 ">
                                    <p><code class="codeph">-loadonly</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d13104e1017 d13104e916 ">
                                    <p>当DBMS_PREUP包处于READ WRITE模式时，将其加载到数据库中，而不执行任何其他操作。</p>
                                    <p>使用此参数准备给定的非CDB或CDB数据库，以便在运行升级前信息工具时加载DBMS_PREUP包，并且DB（DB或Container）处于READ-ONLY模式。如果要使用该工具以只读模式分析数据库，则必须使用此命令在DBMS_PREUP包处于READ WRITE模式时将其加载到数据库中，然后再将其设置为READ-ONLY模式。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d13104e1027" headers="d13104e914 ">
                                    <p><code class="codeph">-p <span class="variable" translate="no">password</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d13104e1027 d13104e916 ">
                                    <p>为用户提供密码。</p>
                                    <p>如果不使用操作系统身份验证连接到数据库，请使用<code class="codeph">-p</code>选项在命令行上指定密码。如果在命令行上使用<code class="codeph">-u</code>指定了用户名，但未使用<code class="codeph">-p</code>指定密码，则该工具会提示您输入密码。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d13104e1048" headers="d13104e914 ">
                                    <p><code class="codeph">-u <span class="variable" translate="no">username</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d13104e1048 d13104e916 ">
                                    <p>提供要用作SYSDBA连接到要检查的数据库的用户的用户名。仅当您不使用操作系统身份验证连接到数据库时，才使用此选项</p>
                                    <p>例如，您以不是要检查的数据库的OSDBA组成员的用户身份登录。在这种情况下，用户帐户没有SYSDBA系统特权的操作系统身份验证权限。使用<code class="codeph">-u</code>和<code class="codeph">-p</code>选项提供数据字典身份验证，以具有SYSDBA系统特权的用户身份登录。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d13104e1066" headers="d13104e914 ">
                                    <p><code class="codeph">-oh <span class="variable" translate="no">oracle_home</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d13104e1066 d13104e916 ">
                                    <p>指定要检查的Oracle主目录。提供要检查的Oracle主目录的路径。</p>
                                    <p>如果未指定要检查的Oracle主路径，则升级前信息工具默认为Oracle主目录的用户环境变量指定的路径。该变量在Linux和UNIX系统上是$ ORACLE_HOME，在Windows系统上是％ORACLE_HOME％。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d13104e1078" headers="d13104e914 ">
                                    <p><code class="codeph">-sid <span class="variable" translate="no">system_identifier</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d13104e1078 d13104e916 ">
                                    <p>指定要检查的Oracle系统标识符。提供要检查的数据库的ORACLE_SID。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d13104e1088" headers="d13104e914 ">
                                    <p><code class="codeph">-救命</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d13104e1088 d13104e916 ">
                                    <p>显示命令行语法帮助文本。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-C4941221-8DC4-4DF8-A773-9F8B3FECF7D0__GUID-509A5AF8-6AA0-4BEF-A19F-368136F7F067">
                     <p class="titleinexample">示例2-4源Oracle Home示例中的非CDB</p>
                     <ol>
                        <li>
                           <p>将用户环境变量设置为指向早期版本的Oracle主目录。</p><pre class="pre codeblock"><code>$ export ORACLE_HOME = / u01 / app / oracle / product / 12.1.0 / dbhome_1 $ export ORACLE_BASE = / u01 / app / oracle $ export ORACLE_SID = sales01 $ export PATH =。：$ ORACLE_HOME / bin：$ PATH</code></pre></li>
                        <li>
                           <p>使用您在早期版本Oracle主目录中设置的环境设置在早期版本的Oracle数据库服务器上运行新版本的Oracle数据库升级前信息工具。例如：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / jdk / bin / java -jar /u01/app/oracle/product/19.0.0/rdbms/admin/preupgrade.jar TERMINAL TEXT</code></pre></li>
                     </ol>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-C4941221-8DC4-4DF8-A773-9F8B3FECF7D0__GUID-3AC85097-7AE7-4DE7-9FD6-788ADA4208BC">
                     <p class="titleinexample">示例2-5源Oracle Home中的CDB</p>
                     <ol>
                        <li>
                           <p>打开所有可插拔数据库</p><pre class="pre codeblock"><code>SQL&gt; alter pluggable database all open;</code></pre></li>
                        <li>
                           <p>将用户环境变量设置为指向早期版本的Oracle主目录。</p><pre class="pre codeblock"><code>$ export ORACLE_HOME = / u01 / app / oracle / product / 12.1.0 / dbhome_1 $ export ORACLE_BASE = / u01 / app / oracle $ export ORACLE_SID = sales01 $ export PATH =。：$ ORACLE_HOME / bin：$ PATH</code></pre></li>
                        <li>
                           <p>使用<code class="codeph">-c</code>选项运行包含列表的升级前信息工具。在此示例中，包含列表是PDB1和PDB2，该命令在Linux或UNIX系统上运行。该命令的输出显示在终端上，输出显示为文本。
                           </p><pre class="pre codeblock"><code>$ ORACLE_HOME / jdk / bin / java -jar /u01/app/oracle/product/19.0.0/dbhome_1/rdbms/admin/preupgrade.jar TERMINAL TEXT -c'pdb1 pdb2'</code></pre></li>
                     </ol>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-C0219AF1-AD43-4097-B358-E53E48958647" title="查看这些主题以了解并使用升级前信息工具（preupgrade.jar）。">使用Oracle数据库的升级前信息工具</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-AEA50E7D-48B8-4EB0-A416-130C2A804F4A" name="GUID-AEA50E7D-48B8-4EB0-A416-130C2A804F4A"></a><h3 id="UPGRD-GUID-AEA50E7D-48B8-4EB0-A416-130C2A804F4A" class="sect3">输出升级前信息工具</h3>
               <div>
                  <p>升级前信息工具（ <code>preupgrade.jar</code> ）在您使用DIR命令行选项指定的输出目录中创建修订脚本和日志文件。
                  </p>
                  <p>运行升级前信息工具时，它会在您指定为输出目录的目录中生成以下文件。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-AEA50E7D-48B8-4EB0-A416-130C2A804F4A__GUID-F1B28A2F-8B84-4D41-B9F5-0059134B4723">日志文件（preupgrade.log）</p>
                     <p>文件<code class="codeph">preupgrade.log</code>是每当您使用FILE选项运行命令时，升级前信息工具生成的报告。日志文件包含升级的所有工具建议和要求。日志文件位于以下路径中，其中<code class="codeph"><span class="variable" translate="no">timestamp</span></code>是运行命令的日期和时间： <code>$ORACLE_BASE/cfgtoollogs/dbua/upgrade <span class="variable" translate="no">timestamp</span> /SID/</code> 。如果使用TERMINAL选项运行该命令，则此文件的内容将输出到显示。有关日志文件的示例，请参阅“升级前信息工具输出示例”一节。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEA50E7D-48B8-4EB0-A416-130C2A804F4A__GUID-F932C578-E36D-4D22-A10C-9EDB2B747258">XML DBUA文件（upgrade.xml）</p>
                     <p>如果在“升级前信息工具”命令行上指定XML文件输出，则会生成<code class="codeph">upgrade.xml</code>文件而不是<code class="codeph">preupgrade.log</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEA50E7D-48B8-4EB0-A416-130C2A804F4A__GUID-228F46A5-E2AF-4FD8-AB23-FFECEDFE632F">预升级修复文件（preupgrade_fixups.sql）和升级后修复文件（postupgrade_fixups.sql）</p>
                     <p>升级前信息工具可识别可阻止或阻碍升级的问题。</p>
                     <p>某些问题需要DBA才能解决，因为自动脚本无法理解应用程序的特定目标。但是，其他问题在解决方面没有任何困难。在这些情况下，升级前信息工具会自动生成包含解决问题所需的SQL语句的脚本。使用这些脚本可以执行，跟踪和简化DBA必须执行的工作，以解决潜在的升级问题。在升级之前解决问题的SQL语句放在<code class="codeph">preupgrade_fixups.sql</code>脚本中。升级后解决问题的SQL语句放在<code class="codeph">postupgrade_fixups.sql</code>脚本中。在多租户架构Oracle数据库上运行升级前信息工具时，可以在所有容器中运行合并脚本<code>preupgrade_fixups.sql</code>脚本和<code>postupgrade_fixups.sql</code> 。使用<code>catcon.pl</code>运行合并的脚本。
                     </p>
                     <p>这两个修复文件都是在使用“升级前信息工具<code class="codeph">DIR</code>命令行选项指定的输出目录中生成的。
                     </p>
                     <p>该脚本执行以下步骤来解决升级前或升级后问题：</p>
                     <ol>
                        <li>
                           <p>对于升级前信息工具识别的每个问题，它会再次重新运行单个升级前信息工具检查，以确定问题是否仍然存在。</p>
                        </li>
                        <li>
                           <div class="p">如果存在问题，则该工具会执行以下操作之一，具体取决于是否存在针对该问题的修复例程：<ul style="list-style-type:disc">
                                 <li>
                                    <p>如果针对该问题存在Oracle提供的修复例程，则脚本将执行该修复例程。然后，它会再次重新运行升级前信息工具检查，以确认问题已得到解决。如果问题得到解决，则脚本会显示已解决问题的消息。</p>
                                 </li>
                                 <li>
                                    <p>如果没有Oracle提供的修复例程，则脚本会显示一条消息，指出问题仍然存在。</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                     <p>检查脚本在完成检查后仍然存在的问题。在升级之前解决所有标记为<samp class="sysout">必需</samp>的问题。您可以选择解决建议的修复程序和信息修复程序。您可以根据需要多次重新运行<code class="codeph">preupgrade_fixups.sql</code>和<code class="codeph">postupgrade_fixups.sql</code>脚本。您可以将脚本用作进度报告，以跟踪问题解决计划中的剩余问题。
                     </p>
                     <p>解决Preupgrade修正和Postupgrade修复脚本识别的问题后，Oracle建议您在升级之前再次重新运行升级前信息工具（ <code class="codeph">preupgrade.jar</code> ）。再次运行该工具有助于确认您已解决了要解决的所有问题。
                     </p>
                     <p>如果要检查多租户环境系统（CDB和PDB），则<code class="codeph">preupgrade_fixups.sql</code>和<code class="codeph">postupgrade_fixups.sql</code>脚本包含所有单个PDB的修正代码的汇总。对它们进行编码，以便只运行当前PDB的代码。您可以在每个PDB中运行相同的脚本。该脚本仅修复该PDB中的问题。其结果是，很容易使用<code class="codeph">preupgrade_fixups.sql</code>和<code class="codeph">postupgrade_fixups.sql</code>与<code class="codeph">catcon.pl</code>运行在整个CDB修正。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-0C496815-1826-4E28-8437-36FA549000F9">升级前信息工具输出示例</a></li>
                        <li><a href="oracle-database-upgrade-utilities.html#GUID-7935BC31-8818-4757-A6E7-A180C3E95A62">用于升级Oracle数据库的脚本</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-C0219AF1-AD43-4097-B358-E53E48958647" title="查看这些主题以了解并使用升级前信息工具（preupgrade.jar）。">使用Oracle数据库的升级前信息工具</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="UPGRD52881"></a><div class="props_rev_3"><a id="GUID-0C496815-1826-4E28-8437-36FA549000F9" name="GUID-0C496815-1826-4E28-8437-36FA549000F9"></a><h3 id="UPGRD-GUID-0C496815-1826-4E28-8437-36FA549000F9" class="sect3">升级前信息工具输出示例</h3>
               <div>
                  <p>在此示例中，您可以看到升级前信息工具如何显示建议的修复程序，但不会自动执行修复。</p>
                  <p>您可以控制修复脚本的运行方式和时间。</p>
                  <p>以下示例显示了通过在版本12.2.0.1 CDB上运行Oracle Database 18c升级前信息工具生成并写入<code>preupgrade.log</code>的输出：</p><pre class="pre codeblock"><code>$ java -jar preupgrade.jar TEXT TERMINAL由Oracle数据库升级前信息工具版本18.0.0.0.0在2018-06-13T15：08：45生成的报告升级到版本：18.0.0.0.0 ===== ==================================升级前数据库的状态========= ==============================数据库名称：CDB2容器名称：CDB $ ROOT容器ID：1版本：12.2.0.1。 0兼容：12.2.0 Blocksize：8192平台：Linux x86 64位时区文件：26数据库日志模式：NOARCHIVELOG Readonly：FALSE版本：EE Oracle组件升级操作当前状态------------- --- -------------- -------------- Oracle Server [待升级] VALID JServer JAVA虚拟机[待升级] VALID Oracle XDK for Java [待升级] VALID Real Application Clusters [待升级] OPTION OFF Oracle Workspace Manager [待升级] VALID Oracle Label Security [待升级] VALID Oracle XML数据库[待升级] VALID Oracle Java包[待升级] VALID ============== BEFOR升级==============要求采取的行动================无推荐行动============= ====== 1。运行12.2.0.1.0 $ ORACLE_HOME / rdbms / admin / utlrp.sql以重新编译无效对象。您可以使用SET SERVEROUTPUT ON查看各个无效对象; EXECUTE DBMS_PREUP.INVALID_OBJECTS; 3个对象是INVALID。在数据库升级之前，SYS / SYSTEM或用户模式中不应有INVALID对象。2。查看并删除任何不必要的HIDDEN / UNDERSCORE参数。该数据库包含以下名称以下划线开头的初始化参数：_exclude_seed_cdb_view在数据库升级之前删除隐藏的参数，除非您的应用程序供应商和/或Oracle Support状态不同。需要在pfile / spfile中进行更改。3。（AUTOFIXUP）使用以下命令收集非高峰时间数据库升级之前的过时数据字典统计信息：EXECUTE DBMS_STATS.GATHER_DICTIONARY_STATS;字典统计信息不存在或过时（不是最新的）。字典统计有助于Oracle优化器找到有效的SQL执行计划，对于正确的升级时序至关重要。Oracle建议在数据库升级之前的最近24小时内收集字典统计信息。有关管理优化程序统计信息的信息，请参阅“12.2.0.1 Oracle数据库SQL调优指南”。仅提供信息================ 4。为了帮助您跟踪表空间分配，以下AUTOEXTEND表空间应在升级过程中成功扩展。最小尺寸表空间大小升级---------- ---------- ----------- SYSAUX 550 MB 616 MB系统700 MB 1117 MB TEMP 22 MB 150 MB UNDOTBS1 315 MB 433 MB用于升级的最小表空间大小是估计值。5。无需任何行动。使用默认并行升级选项，具有1个PDB的此CDB将首先升级CDB $ ROOT，然后使用每个PDB 2个并行进程一次升级最多1个PDB。可以按照“数据库升级指南”中的说明调整并行升级的PDB数量和每个PDB的并行进程数。ORACLE生成的修补脚本=============================数据库CDB2容器CDB $ ROOT中的所有问题，上面都标识为BEFORE UPGRADE“（AUTOFIXUP）”可以通过从容器SQL&gt; @ / u01 / app / oracle / cfgtoollogs / CDB2 / preupgrade / preupgrade_fixups.sql =============中执行以下内容来解决。升级=============要求采取的行动================无推荐行动=============== ==== 6。使用DBMS_DST包升级数据库时区文件。数据库使用时区文件版本26，目标18.0.0.0.0版本附带时区文件版本31。Oracle建议升级到所需（最新）版本的时区文件。有关更多信息，请参阅“18.0.0.0.0 Oracle数据库全球化支持指南”中的“使用时区数据升级时区文件和时间戳”。7。（AUTOFIXUP）使用以下命令在升级后收集字典统计信息：EXECUTE DBMS_STATS.GATHER_DICTIONARY_STATS; Oracle建议在升级后收集字典统计信息。字典统计为Oracle优化器提供了必要的信息，以帮助它找到有效的SQL执行计划。数据库升级后，需要重新收集统计信息，因为现在可能存在在升级期间发生重大更改的表或尚未收集统计信息的新表。8。在升级后以及使用以下命令在系统上存在代表性工作负载时收集有关固定对象的统计信息：EXECUTE DBMS_STATS.GATHER_FIXED_OBJECTS_STATS;所有preupgrade运行都会给出此建议。固定对象统计信息为Oracle优化器提供基本信息，以帮助其找到有效的SQL执行计划。这些统计信息特定于生成它们的Oracle数据库版本，并且可能在数据库升级时过时。有关管理优化程序统计信息的信息，请参阅“12.2.0.1 Oracle数据库SQL调优指南”。ORACLE生成的修补脚本=============================数据库CDB2容器CDB $ ROOT中的所有问题，上面标识为AFTER UPGRADE“（AUTOFIXUP）”可以通过在容器SQL&gt; @ / u01 / app / oracle / cfgtoollogs / CDB2 / preupgrade / postupgrade_fixups.sql中执行以下内容来解决：Oracle Database升级前信息工具版本18.0.0.0生成的报告.0在2018-06-13T15：08：58升级到版本：18.0.0.0.0 ============================ ===========升级前数据库的状态================================ =======数据库名称：CDB2容器名称：PDB $ SEED容器ID：2版本：12.2.0.1.0兼容：12.2.0 Blocksize：8192平台：Linux x86 64位时区文件：26数据库日志模式：NOARCHIVELOG Readonly：TRUE Edition：EE Oracle组件升级操作当前状态---------------- -------------- ------ -------- Oracle Server [待升级] VALID Real Application Clusters [待升级] OPTION OFF Oracle Workspace Manager [待升级] VALID Oracle XML数据库[待升级] VALID ==============升级之前==============要求的行动=== =============无推荐行动=================== 1。运行12.2.0.1.0 $ ORACLE_HOME / rdbms / admin / utlrp.sql以重新编译无效对象。您可以使用SET SERVEROUTPUT ON查看各个无效对象; EXECUTE DBMS_PREUP.INVALID_OBJECTS; 6个对象是INVALID。在数据库升级之前，SYS / SYSTEM或用户模式中不应有INVALID对象。2。查看并删除任何不必要的HIDDEN / UNDERSCORE参数。该数据库包含以下名称以下划线开头的初始化参数：_exclude_seed_cdb_view在数据库升级之前删除隐藏的参数，除非您的应用程序供应商和/或Oracle Support状态不同。需要在pfile / spfile中进行更改。3。（AUTOFIXUP）使用以下命令收集非高峰时间数据库升级之前的过时数据字典统计信息：EXECUTE DBMS_STATS.GATHER_DICTIONARY_STATS;字典统计信息不存在或过时（不是最新的）。字典统计有助于Oracle优化器找到有效的SQL执行计划，对于正确的升级时序至关重要。Oracle建议在数据库升级之前的最近24小时内收集字典统计信息。有关管理优化程序统计信息的信息，请参阅“12.2.0.1 Oracle数据库SQL调优指南”。4。（AUTOFIXUP）在升级之前收集有关固定对象的统计信息。没有固定对象表收集了统计信息。在升级之前，建议收集有关固定对象的统计信息（如果尚未收集）。有关管理优化程序统计信息的信息，请参阅“12.2.0.1 Oracle数据库SQL调优指南”。仅提供信息================ 5。为了帮助您跟踪表空间分配，以下AUTOEXTEND表空间应在升级过程中成功扩展。最小尺寸表空间大小升级---------- ---------- ----------- SYSAUX 235 MB 500 MB系统210 MB 584 MB TEMP 20 MB 150 MB UNDOTBS1 210 MB 412 MB用于升级的最小表空间大小是估计值。6。无需任何行动。使用默认并行升级选项，具有1个PDB的此CDB将首先升级CDB $ ROOT，然后使用每个PDB 2个并行进程一次升级最多1个PDB。可以按照“数据库升级指南”中的说明调整并行升级的PDB数量和每个PDB的并行进程数。ORACLE生成的修补脚本=============================数据库CDB2容器PDB $ SEED中的所有问题，上面都标识为BEFORE UPGRADE“（AUTOFIXUP）”可以通过在容器SQL&gt; @ / u01 / app / oracle / cfgtoollogs / CDB2 / preupgrade / preupgrade_fixups.sql =============中执行以下内容来解决。升级=============要求采取的行动================无推荐行动=============== ==== 7。使用DBMS_DST包升级数据库时区文件。数据库使用时区文件版本26，目标18.0.0.0.0版本附带时区文件版本31。Oracle建议升级到所需（最新）版本的时区文件。有关更多信息，请参阅“18.0.0.0.0 Oracle数据库全球化支持指南”中的“使用时区数据升级时区文件和时间戳”。8。（AUTOFIXUP）使用以下命令在升级后收集字典统计信息：EXECUTE DBMS_STATS.GATHER_DICTIONARY_STATS; Oracle建议在升级后收集字典统计信息。字典统计为Oracle优化器提供了必要的信息，以帮助它找到有效的SQL执行计划。数据库升级后，需要重新收集统计信息，因为现在可能存在在升级期间发生重大更改的表或尚未收集统计信息的新表。9。在升级后以及使用以下命令在系统上存在代表性工作负载时收集有关固定对象的统计信息：EXECUTE DBMS_STATS.GATHER_FIXED_OBJECTS_STATS;所有preupgrade运行都会给出此建议。固定对象统计信息为Oracle优化器提供基本信息，以帮助其找到有效的SQL执行计划。这些统计信息特定于生成它们的Oracle数据库版本，并且可能在数据库升级时过时。有关管理优化程序统计信息的信息，请参阅“12.2.0.1 Oracle数据库SQL调优指南”。ORACLE GENERATED FIXUP SCRIPT =============================数据库CDB2容器PDB $ SEED中的所有问题，上面标识为AFTER UPGRADE“（AUTOFIXUP）”可以通过在容器SQL&gt; @ / u01 / app / oracle / cfgtoollogs / CDB2 / preupgrade / postupgrade_fixups.sql ==============中执行以下操作来解决。 ==== PREUPGRADE SUMMARY ================== /u01/app/oracle/cfgtoollogs/CDB2/preupgrade/preupgrade.log / u01 / app / oracle / cfgtoollogs / CDB2 /pregrade/preupgrade_fixups.sql /u01/app/oracle/cfgtoollogs/CDB2/preupgrade/postupgrade_fixups.sql在整个CDB上执行修复脚本：升级前：1。使用以下命令执行preupgrade fixups $ ORACLE_HOME / perl / bin / perl -I $ ORACLE_HOME / perl / lib -I $ ORACLE_HOME / rdbms / admin $ ORACLE_HOME / rdbms / admin / catcon.pl -l / u01 / app / oracle / cfgtoollogs / CDB2 / preupgrade / -b preup_CDB2 /u01/app/oracle/cfgtoollogs/CDB2/preupgrade/preupgrade_fixups.sql 2。查看/ u01 / app / oracle / cfgtoollogs / CDB2 / preupgrade /下的日志：升级后：1。使用以下命令执行postupgrade fixups $ ORACLE_HOME / perl / bin / perl -I $ ORACLE_HOME / perl / lib -I $ ORACLE_HOME / rdbms / admin $ ORACLE_HOME / rdbms / admin / catcon.pl -l / u01 / app / oracle / cfgtoollogs / CDB2 / preupgrade / -b postup_CDB2 /u01/app/oracle/cfgtoollogs/CDB2/preupgrade/postupgrade_fixups.sql 2。在/ u01 / app / oracle / cfgtoollogs / CDB2 / preupgrade / Preupgrade完成后查看日志：2018-06-13T15：09：00</code></pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-C0219AF1-AD43-4097-B358-E53E48958647" title="查看这些主题以了解并使用升级前信息工具（preupgrade.jar）。">使用Oracle数据库的升级前信息工具</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD52784"></a><div class="props_rev_3"><a id="GUID-DC0F9DF2-4001-48E5-AC18-4F2FA10B869E" name="GUID-DC0F9DF2-4001-48E5-AC18-4F2FA10B869E"></a><h3 id="UPGRD-GUID-DC0F9DF2-4001-48E5-AC18-4F2FA10B869E" class="sect3">Oracle数据库的升级前信息工具警告和建议</h3>
               <div>
                  <p>在升级到新版Oracle数据库之前，请分析任何升级前信息工具警告。对于该工具报告的每个项目，它会为您提供有关如何解决问题或警告的信息。</p>
                  <p>有关更多详细信息，请参阅My Oracle Support说明472937.1，以获取有关已安装的数据库组件和模式的信息。有关诊断具有<code class="codeph">NON VALID</code>状态的组件的信息，请参阅My Oracle Support说明753041.1。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-C2D486E3-BA9E-408B-8E0B-B3717932013F">更新访问控制列表和网络实用程序包</a><br>使用此过程更新访问控制列表（ACL）和网络实用程序包。
                     </li>
                     <li class="ulchildlink"><a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-3A3CF5F6-C123-4AAE-AADA-B4280C6EC410">评估网络实用程序包的依赖关系和添加ACL</a><br>您可以收到有关网络实用程序包依赖项的警告。使用此过程评估依赖关系，并通过添加适当的访问控制列表（ACL）来提供访问权限。
                     </li>
                     <li class="ulchildlink"><a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-BA1C2912-3F72-4544-BEF4-F626C026567B">关于来自早期Oracle数据库版本的密码的数据库链接</a><br>此信息仅对在执行升级后降级到原始数据库版本很重要。
                     </li>
                     <li class="ulchildlink"><a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-88B53A2B-23C3-46F4-90A1-9AE5FD836BCE">关于带有TIME ZONE数据类型的TIMESTAMP的Oracle数据库警告</a><br>Oracle数据库升级包括更新的时区数据类型，这可能会影响现有的<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据类型。
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;id=472937.1" target="_blank">https://support.oracle.com/rs?type=doc&amp;id=472937.1</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;iid=753041.1" target="_blank">https://support.oracle.com/rs?type=doc&amp;id=753041.1</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-C0219AF1-AD43-4097-B358-E53E48958647" title="查看这些主题以了解并使用升级前信息工具（preupgrade.jar）。">使用Oracle数据库的升级前信息工具</a></p>
                     </div>
                  </div>
               </div><a id="UPGRD52786"></a><div class="props_rev_3"><a id="GUID-C2D486E3-BA9E-408B-8E0B-B3717932013F" name="GUID-C2D486E3-BA9E-408B-8E0B-B3717932013F"></a><h4 id="UPGRD-GUID-C2D486E3-BA9E-408B-8E0B-B3717932013F" class="sect4">更新访问控制列表和网络实用程序包</h4>
                  <div>
                     <p>使用此过程更新访问控制列表（ACL）和网络实用程序包。</p>
                     <p>与Oracle数据库<span class="italic">12c的</span>开始，UTL包的访问控制是使用Oracle数据库真正应用的安全实现。UTL包包括UTL_TCP，UTL_SMTP，UTL_MAIL，UTL_HTTP和UTL_INADDR。访问控制不需要Oracle XML DB。</p>
                     <ol>
                        <li>
                           <p>确保登录用户具有<code class="codeph">DBMS_LDAP.init</code>指定的主机和端口的<code class="codeph">connect</code>权限。<code class="codeph">DBMS_LDAP</code> PL / SQL包和<code class="codeph">HttpUriType</code>类型有新的行为。由于此新行为，您必须在升级到新的Oracle数据库发行版后创建或更新访问控制列表（ACL）。
                           </p>
                           <p>例如，如果您的应用程序依赖于<code class="codeph">DBMS_LDAP</code>程序包，则可能会出现错误“ORA-24247：访问控制列表（ACL）拒绝的网络访问”。要避免此错误，登录用户必须具有<code class="codeph">DBMS_LDAP.init</code>指定的主机和端口的<code class="codeph">connect</code>权限。
                           </p>
                        </li>
                        <li>
                           <p>如果安装了以下任何软件包，则可能需要在升级后重新安装这些软件包：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">UTL_TCP</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">UTL_SMTP</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">UTL_MAIL</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">UTL_HTTP</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">UTL_INADDR</code></p>
                              </li>
                           </ul>
                           <p>确保您拥有新Oracle Database发行版的最新版本的软件包。</p>
                        </li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C2D486E3-BA9E-408B-8E0B-B3717932013F__GUID-D7167C78-0D52-465B-8BA4-DBC9043347AE">
                        <p class="notep1">也可以看看：</p>
                        <p>有关配置访问控制列表的信息<a href="../dbfsg/configuring-application-privileges-and-access-contol-lists.html#DBFSG99821" target="_blank"><span class="italic">，请参见“Oracle数据库Real Application Security管理员和开发人员指南”</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-DC0F9DF2-4001-48E5-AC18-4F2FA10B869E" title="在升级到新版Oracle数据库之前，请分析任何升级前信息工具警告。对于该工具报告的每个项目，它会为您提供有关如何解决问题或警告的信息。">Oracle数据库的升级前信息工具警告和建议</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="UPGRD52787"></a><div class="props_rev_3"><a id="GUID-3A3CF5F6-C123-4AAE-AADA-B4280C6EC410" name="GUID-3A3CF5F6-C123-4AAE-AADA-B4280C6EC410"></a><h4 id="UPGRD-GUID-3A3CF5F6-C123-4AAE-AADA-B4280C6EC410" class="sect4">评估网络实用程序包的依赖关系和添加ACL</h4>
                  <div>
                     <p>您可以收到有关网络实用程序包依赖项的警告。使用此过程评估依赖关系，并通过添加适当的访问控制列表（ACL）来提供访问权限。</p>
                     <ol>
                        <li>
                           <p>运行升级前信息工具。</p>
                        </li>
                        <li>
                           <p>检查升级前信息工具（ <code class="codeph">preupgrade.jar</code> ）的输出以获取警告消息，例如以下示例：</p><pre class="oac_no_warn" dir="ltr">警告： - &gt;数据库包含具有依赖于网络包的对象的模式。....有关配置网络ACL的说明，请参阅“数据库升级指南”。....USER WKSYS具有依赖对象。....USER SYSMAN具有依赖对象。....USER FLOWS_010600具有依赖对象。。</pre></li>
                        <li>
                           <p>查询视图<code class="codeph">DBA_DEPENDENCIES</code>以获取有关依赖项的更多信息。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM DBA_DEPENDENCIES WHERE referenced_name IN（'UTL_TCP'，'UTL_SMTP'，'UTL_MAIL'，'UTL_HTTP'，'UTL_INADDR'，'DBMS_LDAP'）和所有者NOT IN（'SYS'，'PUBLIC'，'ORDPLUGINS'）;</pre></li>
                        <li>
                           <p>要确保新访问控制是升级测试的一部分，请准备升级后脚本以使脚本在数据库环境中可用。</p>
                           <p>使用程序包<code class="codeph">DBMS_NETWORK_ACL_ADMIN</code>更新数据库访问控制列表（ACL）。您可以使用此程序包为新的访问控制创建，分配和添加权限，以便更新的访问控制包可以像以前的版本一样工作。请参阅<cite>Oracle数据库Real Application Security管理员和开发人员指南中</cite>提供的示例脚本，了解如何使用<code class="codeph">DBMS_NETWORK_ACL_ADMIN</code>更新访问控制列表。
                           </p>
                        </li>
                        <li>
                           <p>升级后，授予特定的所需权限。访问权限基于原始数据库中的使用情况。</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../dbfsg/configuring-application-privileges-and-access-contol-lists.html#DBFSG99821" target="_blank"><span><cite>Oracle数据库Real Application安全管理员和开发人员指南</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-DC0F9DF2-4001-48E5-AC18-4F2FA10B869E" title="在升级到新版Oracle数据库之前，请分析任何升级前信息工具警告。对于该工具报告的每个项目，它会为您提供有关如何解决问题或警告的信息。">Oracle数据库的升级前信息工具警告和建议</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="UPGRD52788"></a><div class="props_rev_3"><a id="GUID-BA1C2912-3F72-4544-BEF4-F626C026567B" name="GUID-BA1C2912-3F72-4544-BEF4-F626C026567B"></a><h4 id="UPGRD-GUID-BA1C2912-3F72-4544-BEF4-F626C026567B" class="sect4">关于来自早期Oracle数据库版本的密码的数据库链接</h4>
                  <div>
                     <p>此信息仅对在执行升级后降级到原始数据库版本很重要。</p>
                     <p>在升级到新的Oracle数据库版本期间，数据库链接中的所有密码都是加密的。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要降级到升级版本，必须在降级之前删除所有带有加密密码的数据库链接。因此，降级的数据库中不存在数据库链接。</p>
                        </li>
                        <li>
                           <p>如果必须能够降级到原始版本，请从<code class="codeph">SYS.LINK$</code>表中保存有关受影响的数据库链接的信息，以便在降级后重新创建数据库链接。
                           </p>
                        </li>
                        <li>
                           <p>有关早期版本的信息，请参阅升级后的Oracle数据库版本的原始文档。另请参阅早期版本的特定于平台的<cite>Oracle数据库安装指南</cite> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-BA1C2912-3F72-4544-BEF4-F626C026567B__GUID-F9A8F22A-FB98-46A1-BDF8-7394C8566F3E">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../admin/distributed-database-concepts.html#ADMIN12101" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关身份验证和数据库链接的信</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-DC0F9DF2-4001-48E5-AC18-4F2FA10B869E" title="在升级到新版Oracle数据库之前，请分析任何升级前信息工具警告。对于该工具报告的每个项目，它会为您提供有关如何解决问题或警告的信息。">Oracle数据库的升级前信息工具警告和建议</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="UPGRD52790"></a><a id="UPGRD52789"></a><div class="props_rev_3"><a id="GUID-88B53A2B-23C3-46F4-90A1-9AE5FD836BCE" name="GUID-88B53A2B-23C3-46F4-90A1-9AE5FD836BCE"></a><h4 id="UPGRD-GUID-88B53A2B-23C3-46F4-90A1-9AE5FD836BCE" class="sect4">关于带有TIME ZONE数据类型的TIMESTAMP的Oracle数据库警告</h4>
                  <div>
                     <p>Oracle数据库升级包括更新的时区数据类型，这可能会影响现有的<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据类型。
                     </p>
                     <p>随Oracle Database 12 <span class="italic">c</span>提供的时区文件将更新，以反映某些时区区域的转换规则的更改。这些更改可能会影响现有的<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据类型。
                     </p>
                     <p>Oracle建议您在升级数据库之前确保拥有最新的时区文件。如果要升级的数据库的时区文件版本不是可用于新版Oracle数据库的最新版本的时区文件，则升级前信息工具会显示警告并说明如何继续。下表介绍了警告，并总结了如何解决时区文件版本中的不匹配问题。</p>
                     <div class="infoboxnote" id="GUID-88B53A2B-23C3-46F4-90A1-9AE5FD836BCE__GUID-E81E4FB3-22D0-4259-A924-282865809324">
                        <p class="notep1">警告：</p>
                        <p>如果存在时区文件版本不匹配，则在升级期间存储在数据库中的<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据可能会损坏。
                        </p>
                     </div>
                     <div class="tblformal" id="GUID-88B53A2B-23C3-46F4-90A1-9AE5FD836BCE__BABEIGDJ">
                        <p class="titleintable">表2-1修复时区文件版本的选择</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="修复时区文件版本的选择" width="100%" border="1" summary="This table describes how to handle warnings if the time zone file version on the database being upgraded is older or newer than the version provided with the Oracle Database release you just installed." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="30%" id="d13104e2095">数据库升级时区版本</th>
                                 <th align="left" valign="bottom" width="70%" id="d13104e2098">何时修复时区文件</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d13104e2103" headers="d13104e2095 ">
                                    <p>早于新数据库版本和升级前信息工具中包含的最新版本，显示“数据库正在使用早于版本<span class="variable" translate="no">n</span>的时区文件”。</p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d13104e2103 d13104e2098 ">
                                    <p>完成数据库升级后。</p>
                                    <p>使用<code class="codeph">DBMS_DST</code> PL / SQL程序包，并按照“使用时区数据升级时区文件和时间戳的步骤”中的说明进行操作。请参阅以下文档：</p>
                                    <p><a href="../nlspg/datetime-data-types-and-time-zone-support.html#NLSPG261" target="_blank"><span class="italic">Oracle数据库全球化支持指南</span></a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d13104e2124" headers="d13104e2095 ">
                                    <p>比新数据库版本中包含的版本晚，并且升级前信息工具显示“数据库正在使用大于版本<span class="variable" translate="no">n</span>的时区文件”。</p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d13104e2124 d13104e2098 ">
                                    <p>在开始数据库升级之前。</p>
                                    <p>您必须使用<code class="codeph">RDBMS DST</code>修补程序修补Oracle主目录，该修补程序包含正在使用的时区文件版本的相应修补程序。为要升级的每个数据库应用修补程序。否则，升级脚本将终止而不升级数据库。<code class="codeph">RDBMS DST</code>修补程序可从My Oracle Support说明ID 412160.1获得。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../arpls/DBMS_DST.html#ARPLS234" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></li>
                           <li><a href="https://support.oracle.com/rs?type=doc&amp;id=1509653.1" target="_blank">https://support.oracle.com/rs?type=doc&amp;id=1509653.1</a></li>
                           <li><a href="https://support.oracle.com/rs?type=doc&amp;id=412160.1" target="_blank">https://support.oracle.com/rs?type=doc&amp;id=412160.1</a></li>
                           <li><a href="../nlspg/datetime-data-types-and-time-zone-support.html#NLSPG259" target="_blank"><span><cite>Oracle数据库全球化支持指南</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-preupgrade-information-tool-for-oracle-database.html#GUID-DC0F9DF2-4001-48E5-AC18-4F2FA10B869E" title="在升级到新版Oracle数据库之前，请分析任何升级前信息工具警告。对于该工具报告的每个项目，它会为您提供有关如何解决问题或警告的信息。">Oracle数据库的升级前信息工具警告和建议</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00553.aq-internet-access.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can access Oracle Database Advanced Queuing (AQ) over the Internet by using SOAP with non-sharded queues. IDAP is the SOAP specification for Oracle Database Advanced Queuing operations."></meta>
      <meta name="description" content="You can access Oracle Database Advanced Queuing (AQ) over the Internet by using SOAP with non-sharded queues. IDAP is the SOAP specification for Oracle Database Advanced Queuing operations."></meta>
      <title>Internet访问Oracle数据库高级队列</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Advanced Queuing User&#39;s Guide "></meta>
      <meta property="og:description" content="You can access Oracle Database Advanced Queuing (AQ) over the Internet by using SOAP with non-sharded queues. IDAP is the SOAP specification for Oracle Database Advanced Queuing operations."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Advanced Queuing User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96511-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="aq-performance-scalability.html" title="Previous" type="text/html"></link>
      <link rel="next" href="aq-troubleshooting.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle® Database Advanced Queuing"></meta>
    <meta name="dcterms.isVersionOf" content="ADQUE"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="aq-performance-scalability.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="aq-troubleshooting.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">高级排队用户指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Internet访问Oracle数据库高级队列</li>
            </ol>
            <a id="GUID-8BCF7E15-F69B-4BDB-B8A7-CEEB4932211C" name="GUID-8BCF7E15-F69B-4BDB-B8A7-CEEB4932211C"></a><a id="ADQUE0600"></a>
            
            <h2 id="ADQUE-GUID-8BCF7E15-F69B-4BDB-B8A7-CEEB4932211C" class="sect2"><span class="enumeration_chapter">6</span> Internet访问Oracle数据库高级队列</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以使用具有非分片队列的SOAP通过Internet访问Oracle数据库高级队列（AQ）。IDAP是Oracle数据库高级队列操作的SOAP规范。</p>
               <p>IDAP定义XML <a id="d27853e45" class="indexterm-anchor"></a> <a href="glossary.html#GUID-E7071131-B116-41B7-B9D8-F54E36AE982F"><span class="xrefglossterm">简单对象访问协议</span></a> （SOAP）请求主体的<a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">消息</span></a>结构。 <a href="glossary.html#GUID-DDF7D235-94BE-4294-A4DC-811C06EF06F3"><span class="xrefglossterm">互联网数据访问演示</span></a> （IDAP） - 结构化消息使用HTTP在Internet上传输。</p>
               <p>用户可以使用IDAP界面注册通知。</p>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="aq-internet-access.html#GUID-0669D4B6-CA0D-4008-AAA9-04986947F4E7" title="本节讨论这些主题。">Internet上的Oracle数据库高级排队操作概述</a></p>
                  </li>
                  <li>
                     <p><a href="aq-internet-access.html#GUID-7E494A63-EF86-49FC-8120-3EC93ED81AE6" title="AQ servlet可以与任何Web服务器一起部署，例如Tomcat。按照以下步骤使用Tomcat部署AQ XML servlet：">部署Oracle数据库高级排队XML Servlet</a></p>
                  </li>
                  <li>
                     <p><a href="aq-internet-access.html#GUID-6FC93A65-12A0-46AF-9873-FD5BA1C4DD64" title="Internet数据访问演示（IDAP）使用text-type of text / xml来指定SOAP请求的主体。">互联网数据访问演示（IDAP）</a></p>
                  </li>
                  <li>
                     <p><a href="aq-internet-access.html#GUID-25BB208A-A345-40C2-B3D7-60954DC997DD" title="SOAP消息的主体是IDAP消息。此XML文档的名称空间为http://ns.oracle.com/AQ/schemas/access。">请求和响应IDAP文档</a></p>
                  </li>
                  <li>
                     <p><a href="aq-internet-access.html#GUID-0E9C7792-F4A6-41FD-B6B9-6B7A00A5AFBF" title="这些是为电子邮件通知设置数据库的步骤。">通过电子邮件通知消息</a></p>
                  </li>
               </ul>
            </div><a id="ADQUE2606"></a><div class="props_rev_3"><a id="GUID-0669D4B6-CA0D-4008-AAA9-04986947F4E7" name="GUID-0669D4B6-CA0D-4008-AAA9-04986947F4E7"></a><h3 id="ADQUE-GUID-0669D4B6-CA0D-4008-AAA9-04986947F4E7" class="sect3"><span class="enumeration_section">6.1</span> Internet数据库高级排队操作概述</h3>
               <div>
                  <p>本节讨论这些主题。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="aq-internet-access.html#GUID-EF2E052A-78D6-4089-ACF3-898DBC4F9967" title="该图显示了通过HTTP执行Oracle Database Advanced Queuing操作的体系结构。">Oracle数据库高级队列Internet操作体系结构</a></p>
                     </li>
                     <li>
                        <p><a href="aq-internet-access.html#GUID-EADC1AC0-A16B-465E-BE43-9883478C4904" title="Oracle数据库高级队列支持三种类型的消息：RAW，Oracle对象和JMS。可以使用SOAP和Web服务访问所有这些消息类型。">互联网邮件有效负载</a></p>
                     </li>
                     <li>
                        <p><a href="aq-internet-access.html#GUID-6A2EE683-248D-457E-9B1C-6E66A1C71A19" title="安装servlet后，必须将Web服务器配置为对向Oracle Database Advanced Queuing servlet发送POST请求的所有用户进行身份验证。Oracle数据库高级队列servlet仅允许经过身份验证的用户访问servlet。如果用户未经过身份验证，则servlet会返回错误。">配置Web服务器以验证发送POST请求的用户</a></p>
                     </li>
                     <li>
                        <p><a href="aq-internet-access.html#GUID-0554C1BB-E10E-436E-8F4F-02EA82051A97" title="Oracle Database Advanced Queuing客户端通过打开与服务器的连接，使用HTTP开始对Oracle Database Advanced Queuing servlet的请求。客户端使用HTTP基本身份验证（使用或不使用SSL）或基于SSL证书的客户端身份验证登录服务器。客户端构造表示发送，发布，接收或注册请求的XML消息。">使用HTTP的客户端请求</a></p>
                     </li>
                     <li>
                        <p><a href="aq-internet-access.html#GUID-7AE7BE61-CAA4-4A34-8AE5-4038A1A64252" title="服务器接受客户端HTTP（S）连接并验证客户端指定的用户（Oracle数据库高级队列代理）。服务器接收POST请求并调用Oracle Database Advanced Queuing servlet。">使用HTTP的Oracle数据库高级队列Servlet响应</a></p>
                     </li>
                     <li>
                        <p><a href="aq-internet-access.html#GUID-3D7F636E-EA86-422A-9B43-D75DA5962764" title="您可以通过HTTP和HTTPS（HTTP over SSL）而不是Oracle Net Services进行传播。与Oracle Net Services不同，HTTP易于配置防火墙。执行传播的后台进程将消息推送到Oracle数据库高级队列servlet，该servlet将它们排入目标数据库，如图所示。">使用HTTP和HTTPS进行Oracle数据库高级排队传播</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2608"></a><a id="ADQUE2607"></a><div class="props_rev_3"><a id="GUID-EF2E052A-78D6-4089-ACF3-898DBC4F9967" name="GUID-EF2E052A-78D6-4089-ACF3-898DBC4F9967"></a><h4 id="ADQUE-GUID-EF2E052A-78D6-4089-ACF3-898DBC4F9967" class="sect4"><span class="enumeration_section">6.1.1</span> Oracle数据库高级排队Internet操作体系结构</h4>
                  <div>
                     <p>该图显示了通过HTTP执行Oracle Database Advanced Queuing操作的体系结构。</p>
                     <p> <a id="d27853e268" class="indexterm-anchor"></a>主要组成部分是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle数据库高级队列客户端程序</p>
                        </li>
                        <li>
                           <p>托管Oracle Database Advanced Queuing <a href="glossary.html#GUID-06CAA1CB-595D-492E-9543-7F003B45839A"><span class="xrefglossterm">servlet的</span></a> Web服务器/ servlet <a href="glossary.html#GUID-06CAA1CB-595D-492E-9543-7F003B45839A"><span class="xrefglossterm">运行器</span></a></p>
                        </li>
                        <li>
                           <p>Oracle数据库服务器</p>
                        </li>
                     </ul>
                     <p>Web浏览器或任何其他HTTP客户端可用作Oracle数据库高级队列客户端程序，将符合IDAP的XML消息发送到Oracle数据库高级队列servlet，后者解释传入的XML消息。Oracle数据库高级队列servlet连接到Oracle数据库服务器并对用户队列执行操作。</p>
                     <div class="figure" id="GUID-EF2E052A-78D6-4089-ACF3-898DBC4F9967__i1005601">
                        <p class="titleinfigure">图6-1使用HTTP执行Oracle数据库高级排队操作的体系结构</p><img src="img/adque430.gif" width="464" alt="下面是图6-1的描述" title="下面是图6-1的描述" longdesc="img_text/adque430.html"><br><a href="img_text/adque430.html">“图6-1使用HTTP执行Oracle数据库高级排队操作的体系结构”的说明</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="ADQUE2610"></a><a id="ADQUE2611"></a><a id="ADQUE2612"></a><a id="ADQUE2609"></a><div class="props_rev_3"><a id="GUID-EADC1AC0-A16B-465E-BE43-9883478C4904" name="GUID-EADC1AC0-A16B-465E-BE43-9883478C4904"></a><h4 id="ADQUE-GUID-EADC1AC0-A16B-465E-BE43-9883478C4904" class="sect4"><span class="enumeration_section">6.1.2</span> Internet消息有效负载</h4>
                  <div>
                     <p>Oracle数据库高级队列支持三种类型的消息：RAW，Oracle对象和JMS。可以使用SOAP和Web服务访问所有这些消息类型。</p>
                     <p>如果队列以RAW，Oracle对象或<a href="glossary.html#GUID-3A98EBD4-296B-4BE8-82AE-5B42D07E9894"><span class="xrefglossterm">Java消息服务</span></a> （JMS）格式保存消息，则在队列中将XML有效负载转换为适当的内部格式并存储在队列中。在出队期间，当从包含任何前述格式的消息的队列获得消息时，它们在被发送到客户端之前被转换为XML。
                     </p>
                     <p>消息有效内容类型取决于正在执行操作的队列类型：</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EADC1AC0-A16B-465E-BE43-9883478C4904__GUID-49BA31E4-CEA6-4531-B96F-C4FD5658FF4F">原始队列</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>RAW队列的内容是原始字节。您必须在XML消息中提供消息有效内容的十六进制表示。例如， <code class="codeph">&lt;raw&gt;023f4523&lt;/raw&gt;</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EADC1AC0-A16B-465E-BE43-9883478C4904__GUID-3F39275D-5383-448C-BC21-B6883C38A692">Oracle对象类型队列</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>对于非JMS队列的Oracle <a href="glossary.html#GUID-5A1E34E2-9B71-497D-879B-E355EDCF7108"><span class="xrefglossterm">对象类型</span></a>队列（即，它们不是类型<code class="codeph">AQ$_JMS_*</code> ），有效负载的类型取决于创建保存队列的队列表时指定的类型。XML元素的内容必须映射到队列表的对象类型的属性。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EADC1AC0-A16B-465E-BE43-9883478C4904__GUID-E77A93C5-42F1-4CAA-8BAA-2C12FDCD077C">JMS类型队列/主题</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>对于具有JMS类型的队列（即具有类型为<code class="codeph">AQ$_JMS_*</code>有效负载的<code class="codeph">AQ$_JMS_*</code> ），有四个XML元素，具体取决于JMS类型。IDAP支持具有以下JMS类型的队列或主题：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">TextMessage的</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">MapMessage消息</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">BytesMessage</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ObjectMessage</code> 
                              </p>
                           </li>
                        </ul>
                        <p>IDAP不支持具有有效负载类型<code class="codeph">StreamMessage</code> JMS队列。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE2613"></a><div class="props_rev_3"><a id="GUID-6A2EE683-248D-457E-9B1C-6E66A1C71A19" name="GUID-6A2EE683-248D-457E-9B1C-6E66A1C71A19"></a><h4 id="ADQUE-GUID-6A2EE683-248D-457E-9B1C-6E66A1C71A19" class="sect4"><span class="enumeration_section">6.1.3</span>配置Web服务器以验证发送POST请求的用户</h4>
                  <div>
                     <p>安装servlet后，必须将Web服务器配置为对向Oracle Database Advanced Queuing servlet发送<code class="codeph">POST</code>请求的所有用户进行身份验证。Oracle数据库高级队列servlet仅允许经过身份验证的用户访问servlet。如果用户未经过身份验证，则servlet会返回错误。
                     </p>
                     <p>可以通过多种方式配置Web服务器以限制访问。一些常见技术是基于SSL和客户端证书的基本身份验证（用户名/密码）。请参阅Web服务器文档，了解如何限制对servlet的访问。</p>
                     <p>在Oracle Database Advanced Queuing servlet的上下文中，用于连接到Web服务器的用户名称为Oracle Database Advanced Queuing HTTP代理或Oracle Database Advanced Queuing Internet用户。</p>
                  </div>
               </div><a id="ADQUE3682"></a><a id="ADQUE2614"></a><div class="props_rev_3"><a id="GUID-0554C1BB-E10E-436E-8F4F-02EA82051A97" name="GUID-0554C1BB-E10E-436E-8F4F-02EA82051A97"></a><h4 id="ADQUE-GUID-0554C1BB-E10E-436E-8F4F-02EA82051A97" class="sect4"><span class="enumeration_section">6.1.4</span>使用HTTP的客户端请求</h4>
                  <div>
                     <p>Oracle Database Advanced Queuing客户端通过打开与服务器的连接，使用HTTP开始对Oracle Database Advanced Queuing servlet的请求。客户端使用HTTP基本身份验证（使用或不使用SSL）或基于SSL证书的客户端身份验证登录服务器。客户端构造表示发送，发布，接收或注册请求的XML消息。</p>
                     <p>客户端将HTTP <code class="codeph">POST</code>发送到远程服务器上的servlet。
                     </p>
                     <div class="infoboxnotealso" id="GUID-0554C1BB-E10E-436E-8F4F-02EA82051A97__GUID-68984313-0596-4A6B-A888-E41D7E801AA8">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="aq-internet-access.html#GUID-25BB208A-A345-40C2-B3D7-60954DC997DD" title="SOAP消息的主体是IDAP消息。此XML文档的名称空间为http://ns.oracle.com/AQ/schemas/access。">请求和响应IDAP文档</a> ”</span></p>
                     </div>
                     <div class="section" id="GUID-0554C1BB-E10E-436E-8F4F-02EA82051A97__CHDJFGID">
                        <p class="subhead3" id="GUID-0554C1BB-E10E-436E-8F4F-02EA82051A97__GUID-FFF015AC-6C1F-4679-A24E-77FE2BF66F91">用户会话和交易</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在对客户端进行身份验证并连接到Oracle Database Advanced Queuing servlet之后，将代表用户创建HTTP会话。会话中的第一个请求也隐式启动新的数据库事务。此事务在明确提交或终止之前保持打开状态。来自servlet的响应将HTTP标头中的会话ID包括为cookie。</p>
                        <p>如果客户端希望继续在同一事务中工作，那么它必须在后续请求中包含此HTTP头，其中包含会话ID cookie。这是由大多数Web浏览器自动完成的。但是，如果客户端使用Java或C客户端发布请求，则必须以编程方式完成此操作。</p>
                        <p>必须应用显式提交或回滚才能结束事务。提交或回滚请求也可以作为其他Oracle数据库高级队列操作的一部分包含在内。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE2616"></a><div class="props_rev_3"><a id="GUID-7AE7BE61-CAA4-4A34-8AE5-4038A1A64252" name="GUID-7AE7BE61-CAA4-4A34-8AE5-4038A1A64252"></a><h4 id="ADQUE-GUID-7AE7BE61-CAA4-4A34-8AE5-4038A1A64252" class="sect4"><span class="enumeration_section">6.1.5</span>使用HTTP的Oracle数据库高级队列Servlet响应</h4>
                  <div>
                     <p>服务器接受客户端HTTP（S）连接并验证客户端指定的用户（Oracle数据库高级队列代理）。服务器接收<code class="codeph">POST</code>请求并调用Oracle Database Advanced Queuing servlet。
                     </p>
                     <p>如果这是来自此客户端的第一个请求，则会创建新的HTTP会话。解析XML消息并验证其内容。如果客户端在HTTP标头中传递会话ID，则此操作将在该会话的上下文中执行。</p>
                     <p>servlet确定代理尝试对哪个对象（队列/主题）执行操作。servlet查看映射到此Oracle Database Advanced Queuing代理的数据库用户列表。如果这些用户中的任何一个具有访问请求中指定的队列/主题的权限，则Oracle Database Advanced Queuing servlet超级用户将代表此用户创建会话。</p>
                     <p>如果HTTP会话中没有活动的事务，则启动新的数据库事务。会话中的后续请求是同一事务的一部分，直到发出显式<code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code>请求。事务的效果仅在提交后才可见。如果事务在120秒内保持不活动状态，则会自动终止。
                     </p>
                     <p>执行请求的操作。响应被格式化为XML消息并发送回客户端。响应还包括HTTP标头中的会话ID作为cookie。</p>
                     <div class="p">
                        <div class="infoboxnotealso" id="GUID-7AE7BE61-CAA4-4A34-8AE5-4038A1A64252__GUID-527F1115-D6CF-4CC4-8278-8B7D59FD2FA8">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="aq-internet-access.html#GUID-0554C1BB-E10E-436E-8F4F-02EA82051A97__CHDJFGID">用户会话和交易</a> ”</span></p>
                        </div>
                     </div>
                  </div>
               </div><a id="ADQUE2618"></a><a id="ADQUE2617"></a><div class="props_rev_3"><a id="GUID-3D7F636E-EA86-422A-9B43-D75DA5962764" name="GUID-3D7F636E-EA86-422A-9B43-D75DA5962764"></a><h4 id="ADQUE-GUID-3D7F636E-EA86-422A-9B43-D75DA5962764" class="sect4"><span class="enumeration_section">6.1.6</span>使用HTTP和HTTPS进行Oracle数据库高级排队传播</h4>
                  <div>
                     <p>您可以通过HTTP和HTTPS（HTTP over SSL）而不是Oracle Net Services进行传播。与Oracle Net Services不同，HTTP易于配置防火墙。执行传播的后台进程将消息推送到Oracle数据库高级队列servlet，该servlet将它们排入目标数据库，如图所示。</p>
                     <div class="figure" id="GUID-3D7F636E-EA86-422A-9B43-D75DA5962764__CHDEGGDA">
                        <p class="titleinfigure">图6-2 HTTP Oracle数据库高级排队传播</p><img src="img/adque445.gif" width="432" alt="下面是图6-2的描述" title="下面是图6-2的描述" longdesc="img_text/adque445.html"><br><a href="img_text/adque445.html">“图6-2 HTTP Oracle数据库高级排队传播”的说明</a></div>
                     <!-- class="figure" -->
                     <p>您可以设置任何应用程序以使用Oracle数据库高级队列HTTP传播，而无需对现有代码进行任何更改。使用Oracle数据库高级队列HTTP传播的应用程序只需通过使用Net Services连接字符串重新创建数据库链接即可轻松切换回Net Services传播，而无需进行任何其他更改。</p>
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-7E494A63-EF86-49FC-8120-3EC93ED81AE6" name="GUID-7E494A63-EF86-49FC-8120-3EC93ED81AE6"></a><h3 id="ADQUE-GUID-7E494A63-EF86-49FC-8120-3EC93ED81AE6" class="sect3"><span class="enumeration_section">6.2</span>部署Oracle数据库高级排队XML Servlet</h3>
               <div>
                  <p>AQ servlet可以与任何Web服务器一起部署，例如Tomcat。按照以下步骤使用Tomcat部署AQ XML servlet：</p>
                  <ol>
                     <li class="stepexpand"><span>对于JDK1.8.x，请在<code class="codeph">CLASSPATH</code>包含以下内容：</span><div><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> /jdbc/lib/ojdbc8.jar <span class="italic">ORACLE_HOME</span> /jlib/jndi.jar <span class="italic">ORACLE_HOME</span> /jlib/jta.jar <span class="italic">ORACLE_HOME</span> /jlib/orai18n.jar <span class="italic">ORACLE_HOME</span> /jlib/orai18n-collation.jar <span class="italic">ORACLE_HOME</span> /jlib/orai18n-mapping.jar <span class="italic">ORACLE_HOME</span> / jlib / orai18n-utility.jar <span class="italic">ORACLE_HOME</span> /lib/http_client.jar <span class="italic">ORACLE_HOME</span> /lib/lclasses12.zip <span class="italic">ORACLE_HOME</span> /lib/servlet.jar <span class="italic">ORACLE_HOME</span> /lib/xmlparserv2.jar <span class="italic">ORACLE_HOME</span> /lib/xschema.jar <span class="italic">ORACLE_HOME</span> /lib/xsu12.jar <span class="italic">ORACLE_HOME</span> /rdbms/jlib/aqapi.jar <span class="italic">ORACLE_HOME</span> /rdbms/jlib/aqxml.jar <span class="italic">ORACLE_HOME</span> /rdbms/jlib/jmscommon.jar <span class="italic">ORACLE_HOME</span> /rdbms/jlib/xdb.jar</pre></div>
                     </li>
                     <li class="stepexpand"><span>将以下jar文件复制到<code class="codeph">tomcat/lib</code>目录中：</span><div><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> /jdbc/lib/ojdbc8.jar <span class="italic">ORACLE_HOME</span> /jlib/jndi.jar <span class="italic">ORACLE_HOME</span> /jlib/jta.jar <span class="italic">ORACLE_HOME</span> /lib/http_client.jar <span class="italic">ORACLE_HOME</span> /lib/lclasses12.zip <span class="italic">ORACLE_HOME</span> /lib/servlet.jar <span class="italic">ORACLE_HOME</span> / lib / xmlparserv2。罐子<span class="italic">ORACLE_HOME</span> /lib/xschema.jar <span class="italic">ORACLE_HOME</span> /lib/xsu12.jar <span class="italic">ORACLE_HOME</span> /rdbms/jlib/aqapi.jar <span class="italic">ORACLE_HOME</span> /rdbms/jlib/aqxml.jar <span class="italic">ORACLE_HOME</span> /rdbms/jlib/jmscommon.jar <span class="italic">ORACLE_HOME</span> / RDBMS / jlib / XDB。罐</pre></div>
                     </li>
                     <li class="stepexpand"><span>适当地为访问队列的Web应用程序用户创建或更新<code class="codeph">tomcat-users.xml</code>文件。例如：</span><div><pre class="oac_no_warn" dir="ltr"><span class="italic">用户</span> <span class="italic">密码</span> ----------------------------------- john welcome</pre></div>
                     </li>
                     <li class="stepexpand"><span>在数据库中设置队列并创建AQ代理，以便在步骤3中创建的Tomcat用户在访问AQ队列之前进行身份验证。DBA需要使用<code class="codeph">DBMS_AQADM.CREATE_AQ_AGENT</code>和<code class="codeph">DBMS_AQADM.ENABLE_DB_ACCESS</code>过程。例如，如果我们假设<code class="codeph">JOHN</code>是在Tomcat中创建的用户，而<code class="codeph">AQXMLUSER</code>是在数据库上创建的AQ代理，那么为了使用HTTP访问AQ servlet，请运行以下查询：</span><div><pre class="oac_no_warn" dir="ltr">EXECUTE dbms_aqadm.create_aq_agent（agent_name =&gt;'JOHN'，enable_http =&gt; true）; EXECUTE dbms_aqadm.enable_db_access（'JOHN'，'AQXMLUSER'）;</pre><p>这里<code class="codeph">AQXMLUSER</code>是在数据库中创建的AQ用户。
                           </p>
                           <p>DBA可以使用以下查询检查Internet AQ用户代理详细信息：</p><pre class="oac_no_warn" dir="ltr">SELECT agent_name，db_username，http_enabled FROM aq $ internet_users;</pre></div>
                     </li>
                     <li class="stepexpand"><span>部署扩展<code class="codeph">oracle.的AQ XML servlet <code class="codeph">oracle.AQ.xml。AQxmlServlet</code>类。</span></li>
                     <li class="stepexpand"><span>启动或停止Tomcat实例，如下所示：</span><ol type="a">
                           <li><span>使用<code class="codeph">sh tomcat/bin/startup.sh</code>启动Tomcat实例 </span></li>
                           <li><span>使用<code class="codeph">sh tomcat/bin/shutdown.sh</code> Tomcat实例</span></li>
                           <li><span>对于Tomcat中的日志，请检查<code class="codeph">tomcat/logs/catalina.out</code>文件</span></li>
                        </ol>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adque&amp;id=JMSAD565" target="_blank">融合中间件为Oracle WebLogic Server配置和管理JMS</a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADQUE2620"></a><div class="props_rev_3"><a id="GUID-6FC93A65-12A0-46AF-9873-FD5BA1C4DD64" name="GUID-6FC93A65-12A0-46AF-9873-FD5BA1C4DD64"></a><h3 id="ADQUE-GUID-6FC93A65-12A0-46AF-9873-FD5BA1C4DD64" class="sect3"><span class="enumeration_section">6.3</span>互联网数据访问演示（IDAP）</h3>
               <div>
                  <p>Internet数据访问演示（IDAP）使用<code class="codeph">text/xml</code> -type of <code class="codeph">text/xml</code>来指定SOAP请求的主体。</p>
                  <p>XML提供IDAP请求和响应消息的表示，如下所示：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>所有请求和响应标记都在SOAP名称空间中作用域。</p>
                     </li>
                     <li>
                        <p>Oracle数据库高级队列操作的作用域在IDAP名称空间中。</p>
                     </li>
                     <li>
                        <p>发件人包括IDAP元素中的名称空间和SOAP正文中的属性。</p>
                     </li>
                     <li>
                        <p>接收方处理具有正确名称空间的SOAP消息，并为具有不正确名称空间的请求返回无效请求错误。</p>
                     </li>
                     <li>
                        <p>SOAP命名空间的值为<code class="codeph">http://schemas.xmlsoap.org/soap/envelope/</code></p>
                     </li>
                     <li>
                        <p>IDAP名称空间的值为<code class="codeph">http://ns.oracle.com/AQ/schemas/access</code></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2621"></a><div class="props_rev_3"><a id="GUID-2BF65C3A-784B-4461-B268-DB972B617915" name="GUID-2BF65C3A-784B-4461-B268-DB972B617915"></a><h4 id="ADQUE-GUID-2BF65C3A-784B-4461-B268-DB972B617915" class="sect4"><span class="enumeration_section">6.3.1</span> SOAP消息结构</h4>
                  <div>
                     <p>这些主题显示了SOAP如何构造消息请求或响应。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="aq-internet-access.html#GUID-F9395CCB-66F8-4D1C-AC82-DD33E31BDE53" title="这是XML树中的根或顶部元素。它的标签是SOAP：Envelope。SOAP定义了一个全局属性SOAP：encodingStyle，它指示使用的序列化规则，而不是SOAP规范描述的规则。">SOAP信封</a></p>
                        </li>
                        <li>
                           <p><a href="aq-internet-access.html#GUID-05A18DB0-3BE8-41A5-949C-5DCDBA322F62" title="这是根目录下的第一个元素。它的标签是SOAP：Header。SOAP标头传递必要的信息，例如事务标识符。">SOAP标头</a></p>
                        </li>
                        <li>
                           <p><a href="aq-internet-access.html#GUID-459E584E-B1D0-48A0-B874-D150E8304913" title="这是Oracle数据库高级排队XML文档。它的标签是SOAP：Body，它包含第一个子元素，其名称是方法名称。">SOAP Body</a></p>
                        </li>
                     </ul>
                  </div><a id="ADQUE2622"></a><div class="props_rev_3"><a id="GUID-F9395CCB-66F8-4D1C-AC82-DD33E31BDE53" name="GUID-F9395CCB-66F8-4D1C-AC82-DD33E31BDE53"></a><h5 id="ADQUE-GUID-F9395CCB-66F8-4D1C-AC82-DD33E31BDE53" class="sect5"><span class="enumeration_section">6.3.1.1</span> SOAP信封</h5>
                     <div>
                        <p>这是XML树中的根或顶部元素。它的标签是<code class="codeph">SOAP:Envelope</code> 。SOAP定义了一个全局属性<code class="codeph">SOAP:encodingStyle</code> ，它指示使用的序列化规则，而不是SOAP规范描述的规则。
                        </p>
                        <p>此属性可以出现在任何元素上，并且范围限定为该元素，并且所有子元素本身不包含此类属性。省略此属性意味着除非被父元素覆盖，否则已遵循类型规范。</p>
                        <p>SOAP信封还包含名称空间声明和其他属性，前提是它们是名称空间限定的。其他符合命名空间的子元素可以跟随正文。</p>
                     </div>
                  </div><a id="ADQUE2623"></a><div class="props_rev_3"><a id="GUID-05A18DB0-3BE8-41A5-949C-5DCDBA322F62" name="GUID-05A18DB0-3BE8-41A5-949C-5DCDBA322F62"></a><h5 id="ADQUE-GUID-05A18DB0-3BE8-41A5-949C-5DCDBA322F62" class="sect5"><span class="enumeration_section">6.3.1.2</span> SOAP标头</h5>
                     <div>
                        <p>这是根目录下的第一个元素。它的标签是<code class="codeph">SOAP:Header</code> 。SOAP标头传递必要的信息，例如事务标识符。
                        </p>
                        <p>标头被编码为<code class="codeph">SOAP:Envelope</code> XML元素的子元素。标头由name元素标识，并且是名称空间限定的。标题条目被编码为嵌入元素。
                        </p>
                     </div>
                  </div><a id="ADQUE2624"></a><div class="props_rev_3"><a id="GUID-459E584E-B1D0-48A0-B874-D150E8304913" name="GUID-459E584E-B1D0-48A0-B874-D150E8304913"></a><h5 id="ADQUE-GUID-459E584E-B1D0-48A0-B874-D150E8304913" class="sect5"><span class="enumeration_section">6.3.1.3</span> SOAP主体</h5>
                     <div>
                        <p>这是Oracle数据库高级排队XML文档。它的标签是<code class="codeph">SOAP:Body</code> ，它包含第一个子元素，其名称是方法名称。
                        </p>
                        <p>此方法request元素包含每个输入和输出参数的元素。元素名称是参数名称。正文还包含<code class="codeph">SOAP:Fault</code> ，指示有关错误的信息。Oracle Database Advanced Queuing XML文档的名称空间为<code class="codeph">http://ns.oracle.com/AQ/schemas/access</code></p>
                     </div>
                  </div>
               </div><a id="ADQUE2625"></a><div class="props_rev_3"><a id="GUID-7E47AB55-9DBE-4395-8853-63D1277984D3" name="GUID-7E47AB55-9DBE-4395-8853-63D1277984D3"></a><h4 id="ADQUE-GUID-7E47AB55-9DBE-4395-8853-63D1277984D3" class="sect4"><span class="enumeration_section">6.3.2</span> SOAP方法调用</h4>
                  <div>
                     <p>通过创建请求标头和正文以及处理返回的响应标头和正文来执行方法调用。请求和响应标头可以包含标准传输协议特定标头和扩展标头。</p>
                  </div><a id="ADQUE2626"></a><div class="props_rev_3"><a id="GUID-FAEB15BA-B7D4-4C18-8182-439C67AED1B1" name="GUID-FAEB15BA-B7D4-4C18-8182-439C67AED1B1"></a><h5 id="ADQUE-GUID-FAEB15BA-B7D4-4C18-8182-439C67AED1B1" class="sect5"><span class="enumeration_section">6.3.2.1</span> HTTP标头</h5>
                     <div>
                        <p>HTTP请求标头中的<code class="codeph">POST</code>方法执行SOAP方法调用。请求应包含标头<code class="codeph">SOAPMethodName,</code>其值指示要在目标上调用的方法。值的格式为<span class="italic"><code class="codeph">URI</code></span> <code class="codeph">#</code> <span class="italic"><code class="codeph">method name</code></span> 。
                        </p>
                        <p>例如：</p><pre class="oac_no_warn" dir="ltr">SOAPMethodName：http：//ns.oracle.com/AQ/schemas/access#AQXmlSend</pre><p>用于接口的URI必须与有效负载的<code class="codeph">SOAP:Body</code>部分中方法名称元素的隐含或指定的命名空间限定匹配。方法名称不得包含“＃”字符。
                        </p>
                     </div>
                  </div><a id="ADQUE2627"></a><div class="props_rev_3"><a id="GUID-B926E3CE-9821-4552-8357-A0F65E1D8768" name="GUID-B926E3CE-9821-4552-8357-A0F65E1D8768"></a><h5 id="ADQUE-GUID-B926E3CE-9821-4552-8357-A0F65E1D8768" class="sect5"><span class="enumeration_section">6.3.2.2</span>方法调用主体</h5>
                     <div>
                        <p>SOAP方法调用由方法请求和可选的方法响应组成。SOAP方法请求和方法响应分别是HTTP请求和响应，其内容是由根和必需主体元素组成的XML文档。</p>
                        <p>这些XML文档在其余部分中称为SOAP有效内容。</p>
                        <p>SOAP有效负载定义如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>SOAP根元素是XML树中的顶级元素。</p>
                           </li>
                           <li>
                              <p>SOAP有效负载标头包含必须随请求一起传递的其他信息。</p>
                           </li>
                           <li>
                              <p>方法请求表示为XML元素，其中包含参数的附加元素。它是<code class="codeph">SOAP:Body</code>元素的第一个子元素。此请求可以是下一节中描述的Oracle数据库高级排队XML客户端请求之一。
                              </p>
                           </li>
                           <li>
                              <p>响应是返回值或传递回客户端的错误或异常。</p>
                           </li>
                        </ul>
                        <p>在接收站点，请求可以具有以下结果之一：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>接收站点上的HTTP基础结构可以接收和处理请求。在这种情况下，HTTP基础结构将标头和主体传递给SOAP基础结构。</p>
                           </li>
                           <li>
                              <p>接收站点上的HTTP基础结构无法接收和处理请求。在这种情况下，结果是HTTP响应，其在状态字段中包含HTTP错误，而没有XML正文。</p>
                           </li>
                           <li>
                              <p>接收站点上的SOAP基础结构可以解码输入参数，分派到由服务器地址指示的适当服务器，并调用与语法对应于方法请求中指示的方法的应用程序级功能。在这种情况下，方法请求的结果包含响应或错误。</p>
                           </li>
                           <li>
                              <p>接收站点上的SOAP基础结构不能解码输入参数，分派到服务器地址指示的适当服务器，并调用与语法对应的方法请求中指示的接口或方法的应用程序级功能。在这种情况下，该方法的结果是一个错误，该错误阻止了接收方的调度基础设施成功完成。</p>
                           </li>
                        </ul>
                        <p>在最后两种情况中，可扩展性请求的结果中可能存在其他消息头。</p>
                     </div>
                  </div><a id="ADQUE2628"></a><div class="props_rev_3"><a id="GUID-97435D1A-4691-4A19-846B-3F5AE4D2110F" name="GUID-97435D1A-4691-4A19-846B-3F5AE4D2110F"></a><h5 id="ADQUE-GUID-97435D1A-4691-4A19-846B-3F5AE4D2110F" class="sect5"><span class="enumeration_section">6.3.2.3</span>方法请求的结果</h5>
                     <div>
                        <p>请求的结果将以请求响应的形式提供。HTTP响应必须是Content-Type <code class="codeph">text/xml</code> 。
                        </p>
                        <p><a id="d27853e1622" class="indexterm-anchor"></a> SOAP结果表示成功，错误表示失败。方法响应从不包含结果和错误。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="ADQUE2629"></a><div class="props_rev_3"><a id="GUID-25BB208A-A345-40C2-B3D7-60954DC997DD" name="GUID-25BB208A-A345-40C2-B3D7-60954DC997DD"></a><h3 id="ADQUE-GUID-25BB208A-A345-40C2-B3D7-60954DC997DD" class="sect3"><span class="enumeration_section">6.4</span>请求和响应IDAP文档</h3>
               <div>
                  <p>SOAP消息的主体是IDAP消息。此XML文档的名称空间为<code class="codeph">http://ns.oracle.com/AQ/schemas/access</code> 。</p>
                  <p><a id="d27853e1686" class="indexterm-anchor"></a><a id="d27853e1690" class="indexterm-anchor"></a>身体代表：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>客户请求入<a href="glossary.html#GUID-B21E60F7-4BFA-42A2-9A8F-B781C2A55ED9"><span class="xrefglossterm">队</span></a> ， <a href="glossary.html#GUID-BC8D60E8-953A-4C6C-8163-F7AE187B768B"><span class="xrefglossterm">出列</span></a>和注册</p>
                     </li>
                     <li>
                        <p>服务器响应客户端对入队，出队和注册的请求</p>
                     </li>
                     <li>
                        <p>从服务器到客户端的通知</p>
                        <div class="infoboxnote" id="GUID-25BB208A-A345-40C2-B3D7-60954DC997DD__GUID-5D16AA6F-67E9-4AC8-A38B-083D07D26466">
                           <p class="notep1">注意：</p>
                           <p>Oracle数据库高级队列仅支持8.1或更高级别的队列Internet访问。</p>
                           <p>分片队列不支持通过SOAP访问Internet。</p>
                        </div>
                     </li>
                  </ul>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="aq-internet-access.html#GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F" title="客户端发送和发布请求使用AQXmlSend排入单用户队列，AQXmlPublish排入多用户队列/主题。">IDAP客户端请求入队</a></p>
                     </li>
                     <li>
                        <p><a href="aq-internet-access.html#GUID-A3DA13BD-73C8-4A75-893B-EE02F80C003B" title="客户端对dequeue的请求使用AQXmlReceive，其中包含这些元素。">IDAP客户请求出列</a></p>
                     </li>
                     <li>
                        <p><a href="aq-internet-access.html#GUID-575EE4D3-59C0-4DBD-A7E7-6DE5C5A0AE0B" title="客户端注册请求使用AQXmlRegister，它必须包含register_options元素。register_options元素包含这些子元素。">IDAP客户注册请求</a></p>
                     </li>
                     <li>
                        <p><a href="aq-internet-access.html#GUID-71188515-8351-48AB-BD12-9ABABBA0AD5B" title="提交用户在会话中执行的所有操作的请求使用AQXmlCommit。">IDAP客户端请求提交事务</a></p>
                     </li>
                     <li>
                        <p><a href="aq-internet-access.html#GUID-61060416-54AF-4C63-B2B4-DE3FA34278B0" title="回滚会话中用户执行的所有操作的请求使用AQXmlRollback。使用IMMEDIATE可见性执行的操作不会回滚。">用于回滚事务的IDAP客户端请求</a></p>
                     </li>
                     <li>
                        <p><a href="aq-internet-access.html#GUID-E7C7929E-CDF4-4218-8223-E6F9DA6E0F29" title="对单个使用者队列的入队请求的响应使用AQXmlSendResponse。">IDAP服务器对入队请求的响应</a></p>
                     </li>
                     <li>
                        <p><a href="aq-internet-access.html#GUID-2FB266E5-5C88-42C8-BC77-173AA506995A" title="对出列请求的响应使用AQXmlReceiveResponse。">IDAP服务器对出列请求的响应</a></p>
                     </li>
                     <li>
                        <p><a href="aq-internet-access.html#GUID-2BE2040D-7AA9-4EED-A25B-9FF0E0A5F693" title="对注册请求的响应使用AQXmlRegisterResponse。">IDAP服务器对注册请求的响应</a></p>
                     </li>
                     <li>
                        <p><a href="aq-internet-access.html#GUID-3E5B2A65-B842-44A3-A424-E0FF22517902" title="对提交请求的响应使用AQXmlCommitResponse。">IDAP提交响应</a></p>
                     </li>
                     <li>
                        <p><a href="aq-internet-access.html#GUID-8692D6DF-C4FD-46C5-9DFE-D2A11B3490E3" title="对回滚请求的响应使用AQXmlRollbackResponse。">IDAP回滚响应</a></p>
                     </li>
                     <li>
                        <p><a href="aq-internet-access.html#GUID-0EF6835E-BD73-4E58-8456-3F6BEE05CF78" title="当发生客户端已注册的事件时，将使用AQXmlNotification在REGISTER请求中指定的URL处向客户端发送通知。">IDAP通知</a></p>
                     </li>
                     <li>
                        <p><a href="aq-internet-access.html#GUID-632FAF73-0E02-42C5-A008-1A3BBD4E548D" title="如果在任何前述请求中出现错误，则生成FAULT。">错误情况下的IDAP响应</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2631"></a><a id="ADQUE2632"></a><a id="ADQUE2633"></a><a id="ADQUE2634"></a><a id="ADQUE2635"></a><a id="ADQUE2630"></a><div class="props_rev_3"><a id="GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F" name="GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F"></a><h4 id="ADQUE-GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F" class="sect4"><span class="enumeration_section">6.4.1</span> IDAP客户端入队请求</h4>
                  <div>
                     <p>客户端发送和发布请求使用<code class="codeph">AQXmlSend</code>排入单用户队列， <code class="codeph">AQXmlPublish</code>排入多用户队列/主题。
                     </p>
                     <p><code class="codeph">AQXmlSend</code>和<code class="codeph">AQXmlPublish</code>包含以下元素：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="aq-internet-access.html#GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__CHDJEFCI">producer_options</a></p>
                        </li>
                        <li>
                           <p><a href="aq-internet-access.html#GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__CHDEGGDC">message_set</a></p>
                        </li>
                        <li>
                           <p><a href="aq-internet-access.html#GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__CHDFEAEJ">message_header</a></p>
                        </li>
                        <li>
                           <p><a href="aq-internet-access.html#GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__CHDEHDEB">message_payload</a></p>
                        </li>
                        <li>
                           <p><a href="aq-internet-access.html#GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__CHDEEDBE">AQXmlCommit</a></p>
                        </li>
                     </ul>
                     <div class="section" id="GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__CHDJEFCI">
                        <p class="subhead3" id="GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__GUID-E01E08CD-7B2E-4D88-B837-8007B422D9E4">producer_options</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>这是必需的元素。它包含以下子元素：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">目的地</code> 
                              </p>
                              <p>这个元素是必需的。它指定要将消息发送到的<a href="glossary.html#GUID-583DEF67-C9BC-4B83-B8DC-2375A5BE08BB"><span class="xrefglossterm">队列</span></a> /主题。它有一个可选的<code class="codeph">lookup_type</code>属性，用于确定如何解释目标值。如果lookup_type是<code class="codeph">DATABASE</code> （默认值），则目标将被解释为<code class="codeph">schema.queue_name</code> 。如果<code class="codeph">lookup_type</code>是<code class="codeph">LDAP</code> ，则LDAP服务器用于解析目标。
                              </p>
                           </li>
                           <li>
                              <p><a id="d27853e2015" class="indexterm-anchor"></a><code class="codeph">visibility</code> 
                              </p>
                              <p>此元素是可选的。它确定何时可以看到入队。默认值为<code class="codeph">ON_COMMIT</code> ，这使得当前事务提交时enqueue可见。如果指定了<code class="codeph">IMMEDIATE</code> ，则在请求完成后立即可以看到入队的效果。入队不是当前交易的一部分。该操作本身构成交易。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">转型</code> 
                              </p>
                              <p>此元素是可选的。它指定在消息入队之前要调用的PL / SQL <a href="glossary.html#GUID-A668A987-B1D3-4330-97FD-0589DB780225"><span class="xrefglossterm">转换</span></a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__CHDEGGDC">
                        <p class="subhead3" id="GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__GUID-0A99CD03-4976-4C97-9B61-3135F8FEB249">message_set</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>这是必需元素，包含一条或多条消息。每条消息都包含一条<a href="aq-internet-access.html#GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__CHDFEAEJ">message_header</a>和一条<a href="aq-internet-access.html#GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__CHDEHDEB">message_payload</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__CHDFEAEJ">
                        <p class="subhead3" id="GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__GUID-71E219DE-70DC-4452-8AC6-770517ABE62A">message_header</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此元素是可选的。它包含以下子元素：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">发件人ID</code> 
                              </p>
                              <p>如果包含<code class="codeph">message_header</code>元素，则它必须包含<code class="codeph">sender_id</code>元素，该元素指定特定于应用程序的标识符。<code class="codeph">sender_id</code>元素可以包含<code class="codeph">agent_name</code> ， <code class="codeph">address</code> ， <code class="codeph">protocol</code>和<code class="codeph">agent_alias</code>元素。<code class="codeph">agent_alias</code>元素使用LDAP解析为名称，地址和协议。</p>
                           </li>
                           <li>
                              <p><code class="codeph">MESSAGE_ID</code> 
                              </p>
                              <p>此元素是可选的。它是在出列期间提供的消息的唯一标识符。</p>
                           </li>
                           <li>
                              <p><code class="codeph">相关</code> 
                              </p>
                              <p>此元素是可选的。它是消息的相关标识符。</p>
                           </li>
                           <li>
                              <p><code class="codeph">延迟</code> 
                              </p>
                              <p>此元素是可选的。它指定消息可用于处理的持续时间（以秒为单位）。</p>
                           </li>
                           <li>
                              <p><code class="codeph">呼气</code> 
                              </p>
                              <p>此元素是可选的。它指定消息可用于出列的持续时间（以秒为单位）。此参数是延迟的偏移量。默认情况下，邮件永不过期。如果消息在到期之前未出列，则将其移至<code class="codeph">EXPIRED</code>状态的<a href="glossary.html#GUID-38CB652B-C8D2-49F4-92FD-926EB001284F"><span class="xrefglossterm">异常队列</span></a> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">优先</code> 
                              </p>
                              <p>此元素是可选的。它指定消息的优先级。优先级可以是任何数字，包括负数。数字越小表示优先级越高。</p>
                           </li>
                           <li>
                              <p><code class="codeph">RECIPIENT_LIST</code> 
                              </p>
                              <p>此元素是可选的。它是覆盖默认订户列表的收件人列表。每个收件人都在<code class="codeph">recipient_list</code>由<code class="codeph">recipient</code>元素表示，该元素可以包含<code class="codeph">agent_name</code> ， <code class="codeph">address</code> ， <code class="codeph">protocol</code>和<code class="codeph">agent_alias</code>元素。<code class="codeph">agent_alias</code>元素使用LDAP解析为名称，地址和协议。</p>
                           </li>
                           <li>
                              <p><code class="codeph">message_state</code> 
                              </p>
                              <p>此元素是可选的。它指定消息的状态。它在出列时自动填充。如果<code class="codeph">message_state</code>为0，则表明该消息已准备好进行处理。如果为1，则尚未达到消息延迟。如果是2，则消息已被处理并保留。如果为3，则消息已移至异常队列。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">exception_queue</code> 
                              </p>
                              <p>此元素是可选的。如果不成功的出列尝试次数超过<code class="codeph">max_retries</code>或消息已过期，则指定要将消息移动到的队列的名称。异常队列中的所有消息都处于<code class="codeph">EXPIRED</code>状态。
                              </p>
                              <p>如果在移动时指定的异常队列不存在，则将消息移动到与队列表关联的缺省异常队列，并在警报日志中记录警告。如果使用默认异常队列，则参数在出列时返回<code class="codeph">NULL</code>值。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__CHDEHDEB">
                        <p class="subhead3" id="GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__GUID-506F1213-858A-478F-8E41-164BE06978C7">message_payload</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>这是必需的元素。它可以包含基于目标队列/主题的有效负载类型的不同元素。<span class="q">“ <a href="aq-internet-access.html#GUID-A3DA13BD-73C8-4A75-893B-EE02F80C003B" title="客户端对dequeue的请求使用AQXmlReceive，其中包含这些元素。">IDAP客户端请求队列</a> ”</span>中描述了不同的有效负载类型。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__CHDEEDBE">
                        <p class="subhead3" id="GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__GUID-5E35E896-5D3F-47E9-A361-515DE1D23D6A">AQXmlCommit</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>这是一个可选的空元素。如果包含它，则在请求结束时提交事务。</p>
                        <div class="infoboxnotealso" id="GUID-770F59CF-ABBA-48A4-9AF0-A39F4701472F__GUID-2FA15936-2B46-4BDE-B6DD-CC2E4FE0CF12">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="aq-internet-access.html#GUID-EADC1AC0-A16B-465E-BE43-9883478C4904" title="Oracle数据库高级队列支持三种类型的消息：RAW，Oracle对象和JMS。可以使用SOAP和Web服务访问所有这些消息类型。">Internet Message</a></span> Payloads <span class="q">”</span>用于解释IDAP消息有效负载</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE2637"></a><a id="ADQUE2638"></a><a id="ADQUE2636"></a><div class="props_rev_3"><a id="GUID-A3DA13BD-73C8-4A75-893B-EE02F80C003B" name="GUID-A3DA13BD-73C8-4A75-893B-EE02F80C003B"></a><h4 id="ADQUE-GUID-A3DA13BD-73C8-4A75-893B-EE02F80C003B" class="sect4"><span class="enumeration_section">6.4.2</span> IDAP客户端请求队列请求</h4>
                  <div>
                     <p>客户端对dequeue的请求使用<code class="codeph">AQXmlReceive</code> ，其中包含这些元素。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="aq-internet-access.html#GUID-A3DA13BD-73C8-4A75-893B-EE02F80C003B__CHDHBBAE">consumer_options</a></p>
                        </li>
                        <li>
                           <p><a href="aq-internet-access.html#GUID-A3DA13BD-73C8-4A75-893B-EE02F80C003B__CHDJICCE">AQXmlCommit</a></p>
                        </li>
                     </ul>
                     <div class="section" id="GUID-A3DA13BD-73C8-4A75-893B-EE02F80C003B__CHDHBBAE">
                        <p class="subhead3" id="GUID-A3DA13BD-73C8-4A75-893B-EE02F80C003B__GUID-5632DAC9-8BF6-4544-BCA0-2DBA004B343E">consumer_options</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>这是必需的元素。它包含以下子元素：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">目的地</code> 
                              </p>
                              <p>这个元素是必需的。它指定从中接收消息的队列/主题。<code class="codeph">destination</code>元素具有可选的<code class="codeph">lookup_type</code>属性，该属性确定如何解释目标值。如果lookup_type是<code class="codeph">DATABASE</code> （默认值），则目标将被解释为<code class="codeph">schema.queue_name</code> 。如果<code class="codeph">lookup_type</code>是<code class="codeph">LDAP</code> ，则LDAP服务器用于解析目标。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">CONSUMER_NAME</code> 
                              </p>
                              <p>此元素是可选的。它指定<a href="glossary.html#GUID-B9071BDE-395F-4686-B2D2-A1B83F986BCC"><span class="xrefglossterm">消费者</span></a>的名称。仅访问与消费者名称匹配的那些消息。如果没有为多个使用者设置队列，则不应指定此字段。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">等待时间</code> 
                              </p>
                              <p>此元素是可选的。它指定当前没有可用的消息与搜索条件匹配时等待的秒数。</p>
                           </li>
                           <li>
                              <p><code class="codeph">选择</code> 
                              </p>
                              <p>此元素是可选的。它指定用于选择消息的标准。它可以包含子元素<code class="codeph">correlation</code> ， <code class="codeph">message_id</code>或<code class="codeph">condition</code> 。
                              </p>
                              <p>dequeue <code class="codeph">condition</code>元素是一个布尔表达式，使用类似于SQL查询的<code class="codeph">WHERE</code>子句的语法。此布尔表达式可以包括有关消息属性，用户对象有效内容数据属性以及PL / SQL或SQL函数的条件。消息属性包括队列表中的<code class="codeph">priority</code> ， <code class="codeph">corrid</code>和其他列。
                              </p>
                              <p>要在消息有效内容上指定出列条件，请在子句中使用<a href="glossary.html#GUID-5A1E34E2-9B71-497D-879B-E355EDCF7108"><span class="xrefglossterm">对象类型的</span></a>属性。您必须在每个属性前加上<code class="codeph">tab</code> 。 <code class="codeph">user_data</code>作为限定符，用于指示存储有效内容的队列表的特定列。
                              </p>
                              <p>出队<code class="codeph">condition</code>元素不能超过4000个字符。
                              </p>
                              <div class="infoboxnote" id="GUID-A3DA13BD-73C8-4A75-893B-EE02F80C003B__GUID-E86D1760-AE20-44FE-B731-6DDE42DAA202">
                                 <p class="notep1">注意：</p>
                                 <p>当使用出列条件或相关标识符时，出列的消息的顺序是不确定的，并且不遵守队列的排序顺序。</p>
                              </div>
                           </li>
                           <li>
                              <p><a id="d27853e2406" class="indexterm-anchor"></a><code class="codeph">visibility</code> 
                              </p>
                              <p>此元素是可选的。它确定何时出列队列可见。默认值为<code class="codeph">ON_COMMIT</code> ，这使得当前事务提交时出列<code class="codeph">ON_COMMIT</code>可见。如果指定了<code class="codeph">IMMEDIATE</code> ，则在请求完成后立即可以看到出列的效果。出列人不是当前交易的一部分。该操作本身构成交易。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">dequeue_mode</code></p>
                              <p>此元素是可选的。它指定与出列关联的锁定操作。可能的值为<code class="codeph">REMOVE</code> ， <code class="codeph">BROWSE</code>和<code class="codeph">LOCKED</code> 。</p>
                              <p><code class="codeph">REMOVE</code>是默认值，可以读取和删除消息。可以根据保留属性将消息保留在队列表中。<code class="codeph">BROWSE</code>在不获取任何锁定的情况下读取消息。这相当于一个select语句。<code class="codeph">LOCKED</code>读取消息并获取其上的写锁定。锁定持续到交易期间。这相当于select for update语句。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">navigation_mode</code></p>
                              <p>此元素是可选的。它指定检索的消息的位置。首先，确定位置。其次，应用搜索标准。最后，检索消息。可能的值为<code class="codeph">FIRST_MESSAGE</code> ， <code class="codeph">NEXT_MESSAGE</code>和<code class="codeph">NEXT_TRANSACTION</code> 。</p>
                              <p><code class="codeph">FIRST_MESSAGE</code>检索第一条可用且与搜索条件匹配的消息。这会将位置重置为队列的开头。<code class="codeph">NEXT_MESSAGE</code>是默认值，并检索下一条可用且与搜索条件匹配的消息。如果先前的消息属于消息组，则Oracle数据库高级队列将检索与搜索条件匹配且属于消息组的下一个可用消息。<code class="codeph">NEXT_TRANSACTION</code>跳过当前事务组的剩余部分并检索下一个事务组的第一条消息。仅当为当前队列启用了消息分组时，才能使用此选项。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">转型</code> 
                              </p>
                              <p>此元素是可选的。它指定在消息出列后要调用的PL / SQL <a href="glossary.html#GUID-A668A987-B1D3-4330-97FD-0589DB780225"><span class="xrefglossterm">转换</span></a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-A3DA13BD-73C8-4A75-893B-EE02F80C003B__CHDJICCE">
                        <p class="subhead3" id="GUID-A3DA13BD-73C8-4A75-893B-EE02F80C003B__GUID-B4DDB521-4F7F-44E7-BB45-0DF8842409D0">AQXmlCommit</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>这是一个可选的空元素。如果包含它，则在请求结束时提交事务。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE2639"></a><div class="props_rev_3"><a id="GUID-575EE4D3-59C0-4DBD-A7E7-6DE5C5A0AE0B" name="GUID-575EE4D3-59C0-4DBD-A7E7-6DE5C5A0AE0B"></a><h4 id="ADQUE-GUID-575EE4D3-59C0-4DBD-A7E7-6DE5C5A0AE0B" class="sect4"><span class="enumeration_section">6.4.3</span> IDAP客户注册请求</h4>
                  <div>
                     <p>客户端注册请求使用<code class="codeph">AQXmlRegister</code> ，它必须包含<code class="codeph">register_options</code>元素。<code class="codeph">register_options</code>元素包含这些子元素。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">目的地</code> 
                           </p>
                           <p>这个元素是必需的。它指定注册通知的队列/主题。<code class="codeph">destination</code>元素具有可选的<code class="codeph">lookup_type</code>属性，该属性确定如何解释目标值。如果lookup_type是<code class="codeph">DATABASE</code> （默认值），则目标将被解释为<code class="codeph">schema.queue_name</code> 。如果<code class="codeph">lookup_type</code>是<code class="codeph">LDAP</code> ，则LDAP服务器用于解析目标。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CONSUMER_NAME</code></p>
                           <p>此元素是可选的。它指定多消费者队列或主题的使用者名称。不得为单用户队列指定此参数。</p>
                        </li>
                        <li>
                           <p><code class="codeph">notify_url</code></p>
                           <p>这个元素是必需的。它指定邮件入队时发送通知的位置。表单可以是<code class="codeph">http://</code> <span class="italic"><code class="codeph">url</code></span> ， <code class="codeph">mailto://</code> <span class="italic"><code class="codeph">email address</code></span>或<code class="codeph">plsql://</code> <span class="italic"><code class="codeph">pl/sql procedure</code></span> 。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADQUE2640"></a><div class="props_rev_3"><a id="GUID-71188515-8351-48AB-BD12-9ABABBA0AD5B" name="GUID-71188515-8351-48AB-BD12-9ABABBA0AD5B"></a><h4 id="ADQUE-GUID-71188515-8351-48AB-BD12-9ABABBA0AD5B" class="sect4"><span class="enumeration_section">6.4.4</span>提交事务的IDAP客户端请求</h4>
                  <div>
                     <p>提交用户在会话中执行的所有操作的请求使用<code class="codeph">AQXmlCommit</code> 。
                     </p>
                     <p>提交请求具有以下格式：</p><pre class="oac_no_warn" dir="ltr">&lt;？xml版本=“1.0”？&gt; &lt;Envelope xmlns =“http://schemas.xmlsoap.org/soap/envelope/”&gt; &lt;Body&gt; &lt;AQXmlCommit xmlns =“http://ns.oracle.com/AQ/schemas/access”/&gt; &lt;/ Body&gt; &lt;/ Envelope&gt;</pre></div>
               </div><a id="ADQUE2641"></a><div class="props_rev_3"><a id="GUID-61060416-54AF-4C63-B2B4-DE3FA34278B0" name="GUID-61060416-54AF-4C63-B2B4-DE3FA34278B0"></a><h4 id="ADQUE-GUID-61060416-54AF-4C63-B2B4-DE3FA34278B0" class="sect4"><span class="enumeration_section">6.4.5</span>回滚事务的IDAP客户端请求</h4>
                  <div>
                     <p>回滚会话中用户执行的所有操作的请求使用<code class="codeph">AQXmlRollback</code> 。使用<code class="codeph">IMMEDIATE</code>可见性执行的操作不会回滚。
                     </p>
                     <p><a id="d27853e2766" class="indexterm-anchor"></a> IDAP客户端回滚请求具有以下格式：</p><pre class="oac_no_warn" dir="ltr">&lt;？xml版本=“1.0”？&gt; &lt;Envelope xmlns =“http://schemas.xmlsoap.org/soap/envelope/”&gt; &lt;Body&gt; &lt;AQXmlRollback xmlns =“http://ns.oracle.com/AQ/schemas/access”/&gt; &lt;/ Body&gt; &lt;/ Envelope&gt;</pre></div>
               </div><a id="ADQUE2642"></a><div class="props_rev_3"><a id="GUID-E7C7929E-CDF4-4218-8223-E6F9DA6E0F29" name="GUID-E7C7929E-CDF4-4218-8223-E6F9DA6E0F29"></a><h4 id="ADQUE-GUID-E7C7929E-CDF4-4218-8223-E6F9DA6E0F29" class="sect4"><span class="enumeration_section">6.4.6</span> IDAP服务器对入队请求的响应</h4>
                  <div>
                     <p>对单个使用者队列的入队请求的响应使用<code class="codeph">AQXmlSendResponse</code> 。
                     </p>
                     <p>它包含以下元素：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">status_response</code> 
                           </p>
                           <p>此元素包含子元素<code class="codeph">status_code</code> ， <code class="codeph">error_code</code>和<code class="codeph">error_message</code> 。<code class="codeph">status_code</code>元素的值为<code class="codeph">0</code>表示成功，或<code class="codeph">-1</code>表示失败。<code class="codeph">error_code</code>元素包含Oracle错误代码。<code class="codeph">error_message</code>元素包含错误的描述。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">send_result</code></p>
                           <p>该元素包含子元素<code class="codeph">destination</code>和<code class="codeph">message_id</code> 。<code class="codeph">destination</code>元素指定消息的发送位置。<code class="codeph">message_id</code>元素唯一标识发送的每条消息。
                           </p>
                        </li>
                     </ul>
                     <p>对多<code class="codeph">AQXmlPublishResponse</code>队列或主题的入队请求的响应使用<code class="codeph">AQXmlPublishResponse</code> 。它包含以下元素：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">status_response</code> 
                           </p>
                           <p>此元素包含子元素<code class="codeph">status_code</code> ， <code class="codeph">error_code</code>和<code class="codeph">error_message</code> 。<code class="codeph">status_code</code>元素的值为<code class="codeph">0</code>表示成功，或<code class="codeph">-1</code>表示失败。<code class="codeph">error_code</code>元素包含Oracle错误代码。<code class="codeph">error_message</code>元素包含错误的描述。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">publish_result</code></p>
                           <p>该元素包含子元素<code class="codeph">destination</code>和<code class="codeph">message_id</code> 。<code class="codeph">destination</code>元素指定消息的发送位置。<code class="codeph">message_id</code>元素唯一标识发送的每条消息。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADQUE2643"></a><div class="props_rev_3"><a id="GUID-2FB266E5-5C88-42C8-BC77-173AA506995A" name="GUID-2FB266E5-5C88-42C8-BC77-173AA506995A"></a><h4 id="ADQUE-GUID-2FB266E5-5C88-42C8-BC77-173AA506995A" class="sect4"><span class="enumeration_section">6.4.7</span> IDAP服务器对出列请求的响应</h4>
                  <div>
                     <p>对出列请求的响应使用<code class="codeph">AQXmlReceiveResponse</code> 。
                     </p>
                     <p>它包含以下元素：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">status_response</code> 
                           </p>
                           <p>此元素包含子元素<code class="codeph">status_code</code> ， <code class="codeph">error_code</code>和<code class="codeph">error_message</code> 。<code class="codeph">status_code</code>元素的值为<code class="codeph">0</code>表示成功，或<code class="codeph">-1</code>表示失败。<code class="codeph">error_code</code>元素包含Oracle错误代码。<code class="codeph">error_message</code>元素包含错误的描述。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">receive_result</code></p>
                           <p>此元素包含子元素<code class="codeph">destination</code>和<code class="codeph">message_set</code> 。<code class="codeph">destination</code>元素指定消息的发送位置。<code class="codeph">message_set</code>元素指定出列的消息集。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADQUE2644"></a><div class="props_rev_3"><a id="GUID-2BE2040D-7AA9-4EED-A25B-9FF0E0A5F693" name="GUID-2BE2040D-7AA9-4EED-A25B-9FF0E0A5F693"></a><h4 id="ADQUE-GUID-2BE2040D-7AA9-4EED-A25B-9FF0E0A5F693" class="sect4"><span class="enumeration_section">6.4.8</span> IDAP服务器对注册请求的响应</h4>
                  <div>
                     <p>对注册请求的响应使用<code class="codeph">AQXmlRegisterResponse</code> 。
                     </p>
                     <p>它包含<span class="q">“ <a href="aq-internet-access.html#GUID-2FB266E5-5C88-42C8-BC77-173AA506995A" title="对出列请求的响应使用AQXmlReceiveResponse。">IDAP服务器对出列请求的响应</a> ”中</span>描述的<code class="codeph">status_response</code>元素。
                     </p>
                  </div>
               </div><a id="ADQUE2645"></a><div class="props_rev_3"><a id="GUID-3E5B2A65-B842-44A3-A424-E0FF22517902" name="GUID-3E5B2A65-B842-44A3-A424-E0FF22517902"></a><h4 id="ADQUE-GUID-3E5B2A65-B842-44A3-A424-E0FF22517902" class="sect4"><span class="enumeration_section">6.4.9</span> IDAP提交响应</h4>
                  <div>
                     <p>对提交请求的响应使用<code class="codeph">AQXmlCommitResponse</code> 。
                     </p>
                     <p>它包含<span class="q">“ <a href="aq-internet-access.html#GUID-2FB266E5-5C88-42C8-BC77-173AA506995A" title="对出列请求的响应使用AQXmlReceiveResponse。">IDAP服务器对出列请求的响应</a> ”中</span>描述的<code class="codeph">status_response</code>元素。对提交请求的响应具有以下格式：</p><pre class="oac_no_warn" dir="ltr">&lt;？xml版本='1.0'？&gt; &lt;Envelope xmlns =“http://schemas.xmlsoap.org/soap/envelope/”&gt; &lt;Body&gt; &lt;AQXmlCommitResponse xmlns =“http://ns.oracle.com/AQ/schemas/access”&gt; &lt;status_response&gt; &lt;status_code&gt; 0 &lt;/ status_code&gt; &lt;/ status_response&gt; &lt;/ AQXmlCommitResponse&gt; &lt;/ Body&gt; &lt;/ Envelope&gt;</pre></div>
               </div><a id="ADQUE2646"></a><div class="props_rev_3"><a id="GUID-8692D6DF-C4FD-46C5-9DFE-D2A11B3490E3" name="GUID-8692D6DF-C4FD-46C5-9DFE-D2A11B3490E3"></a><h4 id="ADQUE-GUID-8692D6DF-C4FD-46C5-9DFE-D2A11B3490E3" class="sect4"><span class="enumeration_section">6.4.10</span> IDAP回滚响应</h4>
                  <div>
                     <p>对回滚请求的响应使用<code class="codeph">AQXmlRollbackResponse</code> 。
                     </p>
                     <p>它包含<span class="q">“ <a href="aq-internet-access.html#GUID-2FB266E5-5C88-42C8-BC77-173AA506995A" title="对出列请求的响应使用AQXmlReceiveResponse。">IDAP服务器对出列请求的响应</a> ”中</span>描述的<code class="codeph">status_response</code>元素。
                     </p>
                  </div>
               </div><a id="ADQUE2647"></a><div class="props_rev_3"><a id="GUID-0EF6835E-BD73-4E58-8456-3F6BEE05CF78" name="GUID-0EF6835E-BD73-4E58-8456-3F6BEE05CF78"></a><h4 id="ADQUE-GUID-0EF6835E-BD73-4E58-8456-3F6BEE05CF78" class="sect4"><span class="enumeration_section">6.4.11</span> IDAP通知</h4>
                  <div>
                     <p>当发生客户端已注册的事件时，将使用<code class="codeph">AQXmlNotification</code>在<code class="codeph">REGISTER</code>请求中指定的URL处向客户端发送通知。
                     </p>
                     <p>它包含以下元素：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">notification_options</code></p>
                           <p>此元素具有子元素<code class="codeph">destination</code>和<code class="codeph">consumer_name</code> 。<code class="codeph">destination</code>元素指定发生事件的目标队列/主题。consumer_name元素指定偶数发生的使用者名称。它仅适用于多消费者队列/主题。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">message_set</code></p>
                           <p>此元素指定消息属性集。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADQUE2648"></a><div class="props_rev_3"><a id="GUID-632FAF73-0E02-42C5-A008-1A3BBD4E548D" name="GUID-632FAF73-0E02-42C5-A008-1A3BBD4E548D"></a><h4 id="ADQUE-GUID-632FAF73-0E02-42C5-A008-1A3BBD4E548D" class="sect4"><span class="enumeration_section">6.4.12</span>错误情况下的IDAP响应</h4>
                  <div>
                     <p>如果在任何前述请求中出现错误，则生成<code class="codeph">FAULT</code> 。
                     </p>
                     <p><code class="codeph">FAULT</code>元素包含以下元素：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">的faultcode</code></p>
                           <p>此元素指定错误的错误代码。</p>
                        </li>
                        <li>
                           <p><code class="codeph">faultstring</code></p>
                           <p>此元素表示客户端错误或服务器错误。客户端错误意味着请求无效。服务器错误表示尚未正确设置Oracle数据库高级队列servlet。</p>
                        </li>
                        <li>
                           <p><code class="codeph">详情</code></p>
                           <p>此元素包含<code class="codeph">status_response</code>元素，该元素在<span class="q">“ <a href="aq-internet-access.html#GUID-2FB266E5-5C88-42C8-BC77-173AA506995A" title="对出列请求的响应使用AQXmlReceiveResponse。">IDAP服务器对出列请求的响应</a> ”中描述</span> 。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADQUE2649"></a><div class="props_rev_3"><a id="GUID-0E9C7792-F4A6-41FD-B6B9-6B7A00A5AFBF" name="GUID-0E9C7792-F4A6-41FD-B6B9-6B7A00A5AFBF"></a><h3 id="ADQUE-GUID-0E9C7792-F4A6-41FD-B6B9-6B7A00A5AFBF" class="sect3"><span class="enumeration_section">6.5</span>通过电子邮件通知消息</h3>
               <div>
                  <p>这些是为电子邮件通知设置数据库的步骤。</p>
                  <ol>
                     <li><span>通过将<code class="codeph">DBMS_AQELM.SET_MAILHOST</code>作为Oracle数据库高级队列管理员调用<code class="codeph">DBMS_AQELM.SET_MAILHOST</code>设置SMTP邮件主机。</span></li>
                     <li><span>通过调用<code class="codeph">DBMS_AQELM.SET_MAILPORT</code>作为Oracle数据库高级队列管理员来设置SMTP邮件端口。如果不明确，请将默认值设置为25。</span></li>
                     <li><span>通过调用<code class="codeph">DBMS_AQELM.SET_SENDFROM</code>设置SendFrom地址。</span></li>
                     <li><span>设置完成后，您可以使用Oracle Call Interface（OCI）或PL / SQL API注册电子邮件通知。</span></li>
                  </ol>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04823.performance-topics.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter describes topics about OCI performance features."></meta>
      <meta name="description" content="This chapter describes topics about OCI performance features."></meta>
      <title>表演主题</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="This chapter describes topics about OCI performance features."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="user-defined-callback-functions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="database-startup-and-shutdown.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="user-defined-callback-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="database-startup-and-shutdown.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">表演主题</li>
            </ol>
            <a id="GUID-DF9CF68A-3F33-4CB6-B192-4480359FBFE2" name="GUID-DF9CF68A-3F33-4CB6-B192-4480359FBFE2"></a><a id="LNOCI73039"></a><a id="LNOCI092"></a>
            
            <h2 id="LNOCI-GUID-DF9CF68A-3F33-4CB6-B192-4480359FBFE2" class="sect2"><span class="enumeration_chapter">15</span>性能主题</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍有关OCI性能功能的主题。</p>
               <p>您可以使用OCI访问Oracle TimesTen内存数据库和Oracle TimesTen应用程序层数据库缓存。</p>
               <div class="section">
                  <div class="p">本章包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="performance-topics.html#GUID-4947CAE8-1F00-4897-BB2B-7F921E495175" title="语句缓存是指为每个会话提供和管理语句缓存的功能。">OCI中的语句缓存</a></p>
                        </li>
                        <li>
                           <p><a href="performance-topics.html#GUID-03884D82-8E0C-4CAB-84F4-4ED4D8D8674B" title="本节介绍以下主题：">ROWID的隐式提取</a></p>
                        </li>
                        <li>
                           <p><a href="performance-topics.html#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F" title="从Oracle Database 12c第1版（12.1）开始，PL / SQL可以从存储过程和匿名PL / SQL块中隐式返回结果（游标）。提供OCIStmtGetNextResult（）以检索和处理隐式结果。">OCI支持隐含结果</a></p>
                        </li>
                        <li>
                           <p><a href="performance-topics.html#GUID-F8BAB50F-7D21-43C0-846D-416D34429117" title="OCI应用程序可以使用客户端内存来利用OCI结果缓存来改善重复查询的响应时间。">客户端结果缓存</a></p>
                        </li>
                        <li>
                           <p><a href="performance-topics.html#GUID-75169FE4-DE2C-431F-BBA7-3691C7C33360" title="描述有关客户端语句高速缓存自动调整的主题。">客户端语句缓存自动调整</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
            <div class="props_rev_3"><a id="GUID-4947CAE8-1F00-4897-BB2B-7F921E495175" name="GUID-4947CAE8-1F00-4897-BB2B-7F921E495175"></a><h3 id="LNOCI-GUID-4947CAE8-1F00-4897-BB2B-7F921E495175" class="sect3"><span class="enumeration_section">15.1</span> OCI中的语句缓存</h3>
               <div>
                  <p>语句缓存是指为每个会话提供和管理语句缓存的功能。</p>
                  <p>在服务器中，这意味着可以使用游标而无需再次解析语句。您可以将语句缓存与连接池和会话池一起使用，并提高性能和可伸缩性。您也可以在没有会话池的情况下使用它。OCI调用实现语句缓存是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">OCIStmtPrepare2（）</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">OCIStmtRelease（）</code></p>
                     </li>
                  </ul>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="performance-topics.html#GUID-3525B9FE-2EE8-4016-90FF-54A684DF8198" title="要在没有会话池的情况下执行语句缓存，用户执行通常的OCI步骤来登录。">OCI中没有会话池的语句缓存</a></p>
                        </li>
                        <li>
                           <p><a href="performance-topics.html#GUID-75CA667E-81A1-4DDF-898B-9B1A46459ACA" title="对于具有会话池的语句缓存，概念保持不变，除了在会话池层而不是在会话层启用语句高速缓存。">在OCI中使用会话池进行语句缓存</a></p>
                        </li>
                        <li>
                           <p><a href="performance-topics.html#GUID-49C78457-8F76-48E1-A2CD-7EB22175042F" title="如果您正在使用语句缓存，请遵循这些规则。">OCI中的语句缓存规则</a></p>
                        </li>
                        <li>
                           <p><a href="performance-topics.html#GUID-969F29B1-BF1B-4D0F-B06D-5B90FDC56D78" title="为避免应用程序对缓存中的语句重复绑定和定义操作，应用程序可以使用从语句高速缓存中获取的语句注册不透明上下文，并使用服务上下文注册回调函数。">在语句缓存中绑定和定义优化</a></p>
                        </li>
                        <li>
                           <p><a href="performance-topics.html#GUID-514CBC11-2222-43B4-A8AD-C71842DF9840" title="指示在何处查找语句缓存的工作示例。">OCI语句缓存代码示例</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-4947CAE8-1F00-4897-BB2B-7F921E495175__GUID-9191985B-BC63-438A-AE5B-360FA3DAE8B9">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="准备SQL或PL / SQL语句以便执行。">OCIStmtPrepare2（）</a></p>
                        </li>
                        <li>
                           <p><a href="statement-functions.html#GUID-256034CE-2ADB-4BE5-BC8D-748307F2EA8E" title="释放通过调用OCIStmtPrepare2（）获得的语句句柄。">OCIStmtRelease（）</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-3525B9FE-2EE8-4016-90FF-54A684DF8198" name="GUID-3525B9FE-2EE8-4016-90FF-54A684DF8198"></a><h4 id="LNOCI-GUID-3525B9FE-2EE8-4016-90FF-54A684DF8198" class="sect4"><span class="enumeration_section">15.1.1</span> OCI中没有会话池的语句缓存</h4>
                  <div>
                     <p>要在没有会话池的情况下执行语句缓存，用户执行通常的OCI步骤来登录。</p>
                     <p>获取会话的调用具有一种模式，该模式指定是否为会话启用语句高速缓存。最初语句缓存为空。开发人员尝试使用语句文本在缓存中查找语句。如果该语句存在，则API返回先前准备的语句句柄;否则，它返回一个新准备的语句句柄。</p>
                     <p>应用程序开发人员可以执行绑定和定义，然后在将语句返回缓存之前简单地执行和获取语句。如果在缓存中找不到语句句柄，则除了其他步骤之外，开发人员还必须在句柄上设置不同的属性。</p>
                     <p>如果在缓存中找不到该语句，则<code class="codeph">OCIStmtPrepare2()</code>采用一种模式来确定开发人员是否需要<code class="codeph">OCIStmtPrepare2()</code>准备语句句柄或空语句句柄。
                     </p>
                     <p>伪代码看起来像这样：</p><pre class="oac_no_warn" dir="ltr">OCISessionBegin（userhp，...OCI_STMT_CACHE）; OCIAttrset（svchp，userhp，...）; / *在服务上下文中设置用户句柄* / OCIStmtPrepare2（svchp，＆stmthp，stmttext，key，...）; OCIBindByPos（stmthp，...）; OCIDefineByPos（stmthp，...）; OCIStmtExecute（svchp，stmthp，...）; OCIStmtFetch2（svchp，...）; OCIStmtRelease（stmthp，...）; ...</pre><div class="infoboxnotealso" id="GUID-3525B9FE-2EE8-4016-90FF-54A684DF8198__GUID-A466A27D-1961-450F-8C0A-77A0084ADD41">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="准备SQL或PL / SQL语句以便执行。">OCIStmtPrepare2（）</a></p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-75CA667E-81A1-4DDF-898B-9B1A46459ACA" name="GUID-75CA667E-81A1-4DDF-898B-9B1A46459ACA"></a><h4 id="LNOCI-GUID-75CA667E-81A1-4DDF-898B-9B1A46459ACA" class="sect4"><span class="enumeration_section">15.1.2</span> OCI中使用会话池的语句缓存</h4>
                  <div>
                     <p>对于具有会话池的语句缓存，概念保持不变，除了在会话池层而不是在会话层启用语句高速缓存。</p>
                     <p>属性<code class="codeph">OCI_ATTR_SPOOL_STMTCACHESIZE</code>为会话池中的每个会话设置默认语句高速缓存大小。它在<code class="codeph">OCI_HTYPE_SPOOL</code>句柄上设置。通过在该会话上使用<code class="codeph">OCI_ATTR_STMTCACHESIZE</code> ，可以随时覆盖池中特定会话的语句高速缓存大小。<code class="codeph">OCI_ATTR_SPOOL_STMTCACHESIZE</code>的值可以随时更改。您可以使用此属性在创建后启用或禁用池级别的语句高速缓存，就像使用属性<code class="codeph">OCI_ATTR_STMTCACHESIZE</code> （在服务上下文中）在会话级别启用或禁用语句高速缓存一样。当这些更改提供给用户时，此更改将反映在池中的各个会话中。标记的会话是此行为的一个例外。这将在本节后面解释。
                     </p>
                     <div class="infoboxnote" id="GUID-75CA667E-81A1-4DDF-898B-9B1A46459ACA__GUID-F8243F9A-3B83-4CD4-8114-F00044ADCBD3">
                        <p class="notep1">注意：</p>
                        <p>您可以在获取会话后更改属性。但是，一旦属性发生更改，它将保持在基础物理会话上设置。在将会话释放回会话池时，不会隐式重置此值。因此，开发人员有责任在使用<code class="codeph">OCIStmtRelease()</code>释放会话之前维护会话状态。
                        </p>
                     </div>
                     <p>在非池化会话中，允许在单个池化会话上启用或禁用语句高速缓存。</p>
                     <p>用户可以通过在mode参数中分别指定<code class="codeph">OCI_SESSGET_STMTCACHE</code>或<code class="codeph">OCI_LOGON2_STMTCACHE</code> ，在<code class="codeph">OCISessionGet()</code>或<code class="codeph">OCILogon2()</code>调用中从非语句高速缓存池中检索的会话上启用语句高速缓存。
                     </p>
                     <p>当用户从会话池请求会话时，该会话的语句高速缓存大小默认为池的大小。这也可能意味着在该会话中启用或禁用语句缓存。例如，如果池化会话（会话A）启用了语句缓存，并且池中的语句缓存已关闭，并且用户请求会话，并且返回了会话A，则会话A中的语句缓存将关闭。再举一个例子，如果池中的会话A没有启用语句缓存，并且池级别的语句缓存打开，那么在将会话A返回给用户之前，会话A上的语句缓存大小等于池的大小打开了。</p>
                     <p>如果要求并检索标记的会话，则不适用。在这种情况下，语句高速缓存的大小不会更改。因此，它没有打开或关闭。此外，如果用户在<code class="codeph">OCISessionGet()</code>调用中指定模式<code class="codeph">OCI_SESSGET_STMTCACHE</code> ，则会在标记会话时忽略该模式。在前面的示例中，如果标记了会话A，则将其原样返回给用户。
                     </p>
                     <div class="infoboxnotealso" id="GUID-75CA667E-81A1-4DDF-898B-9B1A46459ACA__GUID-BF2EDD53-B3FD-479C-AE9D-04B23F8599B6">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-890DFBC4-718B-4339-A0EA-6226A25B8241" title="获取一个会话。">OCISessionGet（）</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-425D4B32-257C-480E-B69C-7112BE9482E6" title="获取一个会话。">OCILogon2（）</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-49C78457-8F76-48E1-A2CD-7EB22175042F" name="GUID-49C78457-8F76-48E1-A2CD-7EB22175042F"></a><h4 id="LNOCI-GUID-49C78457-8F76-48E1-A2CD-7EB22175042F" class="sect4"><span class="enumeration_section">15.1.3</span> OCI中的语句缓存规则</h4>
                  <div>
                     <p>如果您正在使用语句缓存，请遵循这些规则。</p>
                     <p>以下是OCI中语句缓存的一些规则：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用函数<code class="codeph">OCIStmtPrepare2()</code>代替<code class="codeph">OCIStmtPrepare()</code> 。如果您正在使用<code class="codeph">OCIStmtPrepare()</code> ，强烈建议您不要在不同的服务上下文中使用语句句柄。如果<code class="codeph">OCIStmtPrepare2()</code>已获取该语句，则这样做会引发错误。将语句句柄迁移到新服务上下文实际上会关闭与旧会话关联的游标，因此不会实现共享。还没有获得客户端共享，因为在迁移语句句柄时，OCI释放与旧会话关联的所有缓冲区。
                           </p>
                        </li>
                        <li>
                           <p>您需要在每个会话中保留一个服务上下文。使用具有特定服务上下文的<code class="codeph">OCIStmtPrepare2()</code>获得的任何语句句柄随后应仅与相同的服务上下文一起使用，并且永远不会与不同的服务上下文一起使用。
                           </p>
                        </li>
                        <li>
                           <p>调用<code class="codeph">OCIStmtPrepare2()</code> ，即使会话没有语句高速缓存，也会分配语句句柄。因此，仅使用<code class="codeph">OCIStmtPrepare2()</code>应用程序不得为语句句柄调用<code class="codeph">OCIHandleAlloc()</code> 。
                           </p>
                        </li>
                        <li>
                           <p>要在通话<code class="codeph">OCIStmtPrepare2()</code>必须跟随一个呼叫<code class="codeph">OCIStmtRelease()</code>用户与该语句句柄完成之后。如果使用语句缓存，则会将语句释放到缓存。如果未使用语句高速缓存，则释放该语句。不要调用<code class="codeph">OCIHandleFree()</code>来释放内存。
                           </p>
                        </li>
                        <li>
                           <p>如果使用<code class="codeph">OCI_PREP2_CACHE_SEARCHONLY</code>模式调用<code class="codeph">OCIStmtPrepare2()</code>并返回<code class="codeph">NULL</code>语句（未找到语句），则不需要后续调用<code class="codeph">OCIStmtRelease()</code>也不得执行。
                           </p>
                        </li>
                        <li>
                           <p>不要叫<code class="codeph">OCIStmtRelease()</code>为方式，使用一份声明中<code class="codeph">OCIStmtPrepare()</code>
                           </p>
                        </li>
                        <li>
                           <p>语句高速缓存具有可由服务上下文的属性<code class="codeph">OCI_ATTR_STMTCACHESIZE</code>修改的最大大小（语句数）。默认值为20。此属性还可用于启用或禁用会话（池化或非池化）的语句缓存。如果在未将模式设置为<code class="codeph">OCI_STMT_CACHE</code>情况下调用<code class="codeph">OCISessionBegin()</code> ，则可以在服务上下文<code class="codeph">OCI_ATTR_STMTCACHESIZE</code>设置为非零属性以启用语句高速缓存。如果未在会话池级别打开语句高速缓存，则<code class="codeph">OCISessionGet()</code>将返回启用非语句高速缓存的会话。您可以使用<code class="codeph">OCI_ATTR_STMTCACHESIZE</code>打开缓存。同样，您可以使用相同的属性通过将高速缓存大小设置为零来关闭语句高速缓存。
                           </p>
                        </li>
                        <li>
                           <p>您可以在发布时标记语句，以便下次可以请求相同标记的语句。标签用于搜索缓存。未标记的语句（标记为<code class="codeph">NULL</code> ）是标记语句的特例。如果两个语句的标签不同，或者一个语句没有标记而另一个语句没有标记，则认为它们不同。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-49C78457-8F76-48E1-A2CD-7EB22175042F__GUID-C4C4DA8B-7450-45E0-977D-951DB47323DE">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="准备SQL或PL / SQL语句以便执行。">OCIStmtPrepare2（）</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5" title="返回指向已分配和初始化句柄的指针。">OCIHandleAlloc（）</a></p>
                           </li>
                           <li>
                              <p><a href="statement-functions.html#GUID-256034CE-2ADB-4BE5-BC8D-748307F2EA8E" title="释放通过调用OCIStmtPrepare2（）获得的语句句柄。">OCIStmtRelease（）</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-functions.html#GUID-E87E9F91-D3DC-4F35-BE7C-F1EFBFEEBA0A" title="显式释放句柄">OCIHandleFree（）</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-31B1FDB3-056E-4AF9-9B89-8DA6AA156947" title="创建用户会话并开始给定服务器的用户会话。">OCISessionBegin（）</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-890DFBC4-718B-4339-A0EA-6226A25B8241" title="获取一个会话。">OCISessionGet（）</a></p>
                           </li>
                           <li>
                              <p><a href="statement-functions.html#GUID-7C0AF073-7870-4866-BBC9-D2BF3D8E5CCE" title="列出并描述语句功能。">声明函数</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-D8EE68EB-7E38-4068-B06E-DF5686379E5E" title="列出并描述服务上下文句柄属性。">服务上下文句柄属性</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-34071823-66D0-4C54-BFBB-6323BDEF8015" title="列出并描述会话池句柄属性。">会话池句柄属性</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-969F29B1-BF1B-4D0F-B06D-5B90FDC56D78" name="GUID-969F29B1-BF1B-4D0F-B06D-5B90FDC56D78"></a><h4 id="LNOCI-GUID-969F29B1-BF1B-4D0F-B06D-5B90FDC56D78" class="sect4"><span class="enumeration_section">15.1.4</span>在语句缓存中绑定和定义优化</h4>
                  <div>
                     <p>为避免应用程序对缓存中的语句重复绑定和定义操作，应用程序可以使用从语句高速缓存中获取的语句注册不透明上下文，并使用服务上下文注册回调函数。</p>
                     <p>诸如bind和define缓冲区之类的应用程序数据可以包含在opaque上下文中。在第一次从缓存中获取时，该语句将在语句中注册。当第二次及以后从缓存中获取语句时，应用程序可以重用已在该语句中注册的绑定和定义缓冲区。应用程序仍然负责管理绑定和定义。它可以重用绑定和定义数据以及缓冲区，或者它只能更改数据并重用缓冲区，或者如果当前大小不够，它可以释放和重新分配缓冲区。在最后一种情况下，它必须重新定义和重新定义。要清除应用程序为这些绑定和定义缓冲区分配的内存，在语句老化或在整个缓存中清除作为会话闭包的一部分时，将调用回调函数。为每个被清除的语句调用回调。应用程序释放内存并在回调函数中执行所需的任何其他清理。<a href="performance-topics.html#GUID-969F29B1-BF1B-4D0F-B06D-5B90FDC56D78__CACJDEDA">例15-1</a>显示了伪代码。
                     </p>
                     <div class="example" id="GUID-969F29B1-BF1B-4D0F-B06D-5B90FDC56D78__CACJDEDA">
                        <p class="titleinexample">示例15-1优化绑定并定义高速缓存中语句的操作</p><pre class="oac_no_warn" dir="ltr">使用OCIStmtPrepare2（...）获取声明从语句中获取不透明上下文（如果存在）如果不存在opaque上下文{分配获取缓冲区，执行OCIBindByPos，OCIDefineByPos等等，在上下文中包含缓冲区地址并在语句上设置上下文和回调函数}执行/使用该语句获取，并处理获取缓冲区中的数据。OCIStmtRelease（）语句Next OCIStmtPrepare2（）OCIAttrGet（）来自语句句柄的opaque应用程序上下文使用语句执行/获取并处理获取缓冲区中的数据。OCIStmtRelease（）。 。 。void callback_fn（context，statement，mode）{/ * mode = OCI_CBK_STMTCACHE_STMTPURGE表示当语句从语句缓存中老化或者会话结束时调用* / &lt;释放上下文中的缓冲区。&gt;}</pre><div class="infoboxnotealso" id="GUID-969F29B1-BF1B-4D0F-B06D-5B90FDC56D78__GUID-1B56ABFB-29B0-4323-AD27-DE975A7A0FB7">
                           <p class="notep1">也可以看看：</p>
                           <p> </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="handle-and-descriptor-attributes.html#GUID-A251CF91-EB9F-4DBC-8BB8-FB5EA92C20DE__BAJIDBEG">OCI_ATTR_STMTCACHE_CBKCTX</a></p>
                              </li>
                              <li>
                                 <p></p><a href="handle-and-descriptor-attributes.html#GUID-D8EE68EB-7E38-4068-B06E-DF5686379E5E__BAJDGBHB">OCI_ATTR_STMTCACHE_CBK</a></li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-514CBC11-2222-43B4-A8AD-C71842DF9840" name="GUID-514CBC11-2222-43B4-A8AD-C71842DF9840"></a><h4 id="LNOCI-GUID-514CBC11-2222-43B4-A8AD-C71842DF9840" class="sect4"><span class="enumeration_section">15.1.5</span> OCI语句缓存代码示例</h4>
                  <div>
                     <p>指示在何处查找语句缓存的工作示例。</p>
                     <p>有关语句缓存的工作示例，请参阅目录<code class="codeph">demo</code>中的<code class="codeph">cdemostc.c</code> 。
                     </p>
                  </div>
               </div>
            </div><a id="LNOCI73044"></a><a id="LNOCI10100"></a><div class="props_rev_3"><a id="GUID-03884D82-8E0C-4CAB-84F4-4ED4D8D8674B" name="GUID-03884D82-8E0C-4CAB-84F4-4ED4D8D8674B"></a><h3 id="LNOCI-GUID-03884D82-8E0C-4CAB-84F4-4ED4D8D8674B" class="sect3"><span class="enumeration_section">15.2</span> ROWID的隐式提取</h3>
               <div>
                  <p>本节介绍以下主题：</p>
                  <div class="p">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="performance-topics.html#GUID-37F2A8CC-0350-4CEC-90C0-F007FCFA6064" title="ROWID是数据库中行的全局唯一标识符。它是在将行插入表中时创建的，并在删除时销毁。">关于ROWID的隐式提取</a></p>
                        </li>
                        <li>
                           <p><a href="performance-topics.html#GUID-5E17BFDD-07B5-4CE2-9301-DC3C41312993" title="显示隐式提取ROWID的示例。">ROWID的隐式提取示例</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI73045"></a><div class="props_rev_3"><a id="GUID-37F2A8CC-0350-4CEC-90C0-F007FCFA6064" name="GUID-37F2A8CC-0350-4CEC-90C0-F007FCFA6064"></a><h4 id="LNOCI-GUID-37F2A8CC-0350-4CEC-90C0-F007FCFA6064" class="sect4"><span class="enumeration_section">15.2.1</span>关于ROWID的隐式提取</h4>
                  <div>
                     <p><code class="codeph">ROWID</code>是数据库中行的全局唯一标识符。它是在将行插入表中时创建的，并在删除时销毁。
                     </p>
                     <p><code class="codeph">ROWID</code>值有几个重要用途。它们是表中行的唯一标识符。它们是访问单行的最快方法，可以显示表中行的存储方式。
                     </p>
                     <p>在<code class="codeph">SELECT</code>隐式提取<code class="codeph">ROWID</code> <code class="codeph">...</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code>语句表示在客户端检索<code class="codeph">ROWID</code> ，即使它不是select语句中指定的列之一。<code class="codeph">OCIDefineByPos()</code>的<code class="codeph">position</code>参数设置为零（0）。可以指定这些主机变量来检索<code class="codeph">ROWID</code>伪列值：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">SQLT_CHR</code> （ <code class="codeph">VARCHAR2</code> ）</p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_VCS</code> （ <code class="codeph">VARCHAR</code> ）</p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_STR</code> （ <code class="codeph">NULL</code> -terminated string）</p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_LVC</code> （ <code class="codeph">LONG</code> <code class="codeph">VARCHAR</code> ）</p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_AFC</code> （ <code class="codeph">CHAR</code> ）</p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_AVC</code> （ <code class="codeph">CHARZ</code> ）</p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_VST</code> （ <span>OCI字符串</span> ）</p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_RDD</code> （ <code class="codeph">ROWID</code>描述符）</p>
                        </li>
                     </ul>
                     <p><code class="codeph">SELECT</code> <code class="codeph">...</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code>语句标识要更新的行，然后锁定结果集中的每一行。当您想要对行中的现有值进行更新时，这非常有用。在这种情况下，您必须确保其他用户不更改该行。
                     </p>
                     <p>当您指定用于存储<code class="codeph">ROWID</code>的值的字符缓冲区时（例如，如果以<code class="codeph">SQLT_STR</code>格式获取它），请分配足够的内存来存储<code class="codeph">ROWID</code> 。请记住<code class="codeph">ROWID</code>数据类型和<code class="codeph">UROWID</code>数据类型之间的差异。<code class="codeph">ROWID</code>数据类型只能存储物理<code class="codeph">ROWID</code> ，但<code class="codeph">UROWID</code>也可以存储逻辑<code class="codeph">ROWID</code> （索引组织表行的标识符）。<code class="codeph">ROWID</code>类型的最大内部长度是10个字节; <code class="codeph">UROWID</code>数据类型为3950字节。
                     </p>
                     <p>动态定义等效于调用<code class="codeph">OCIDefineByPos()</code>或<code class="codeph">OCIDefineByPos2()</code> ， <code class="codeph">mode</code>设置为<code class="codeph">OCI_DYNAMIC_FETCH</code> 。动态定义使您可以为特定的定义句柄设置其他属性。它指定一个回调函数，该函数在运行时调用以获取指向缓冲区的指针，读取的数据或其中的一部分将被检索到该缓冲区中。
                     </p>
                     <p>必须在语句句柄上设置属性<code class="codeph">OCI_ATTR_FETCH_ROWID</code>然后才能使用隐式提取<code class="codeph">ROWID</code> ，这样：</p><pre class="oac_no_warn" dir="ltr">OCIAttrSet（stmthp，OCI_HTYPE_STMT，0,0，OCI_ATTR_FETCH_ROWID，errhp）;</pre><p>动态定义与<code class="codeph">ROWID</code>的隐式提取不兼容。在正常情况下，此模式允许应用程序为每行的列提供缓冲区;也就是说，每次获取列值时都会调用回调。
                     </p>
                     <p>此功能使用<code class="codeph">OCIDefineByPos()</code>或<code class="codeph">OCIDefineByPos2()</code>作为位置0，用于同时将数据数据提取到用户缓冲区并同时获取它们各自的<code class="codeph">ROWID</code> 。它允许使用<code class="codeph">SELECT....获取<code class="codeph">ROWID</code> 。FOR UPDATE</code>语句，即使<code class="codeph">ROWID</code>不是<code class="codeph">SELECT</code>查询中的列之一。将数据逐个提取到用户缓冲区时，可以使用现有属性<code class="codeph">OCI_ATTR_ROWID</code> 。</p>
                     <p>如果使用此功能来获取<code class="codeph">ROWID</code> ，则不能同时使用语句句柄上的属性<code class="codeph">OCI_ATTR_ROWID</code>来获取<code class="codeph">ROWID</code> 。您一次只能使用其中一个用于特定语句句柄。
                     </p>
                     <div class="infoboxnotealso" id="GUID-37F2A8CC-0350-4CEC-90C0-F007FCFA6064__GUID-7BE90B21-8615-42AF-9D5D-8753E726B2FA">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-A251CF91-EB9F-4DBC-8BB8-FB5EA92C20DE__CHDEJDEE">OCI_ATTR_FETCH_ROWID</a></p>
                           </li>
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-CFE5AA54-DEBC-42D3-8A27-AFF1E7815691" title="将选择列表中的项与类型和输出数据缓冲区相关联。">OCIDefineByPos（）</a>或<a href="bind-define-describe-functions.html#GUID-74939FB5-919E-4D24-B327-AFB532435061" title="将选择列表中的项与类型和输出数据缓冲区相关联。当客户端上的实际长度超过UB2MAXVAL时，在处理数据类型时使用此调用。">OCIDefineByPos2（）</a></p>
                           </li>
                        </ul>
                        <p></p>
                     </div>
                  </div>
               </div><a id="LNOCI72695"></a><a id="LNOCI16738"></a><div class="props_rev_3"><a id="GUID-5E17BFDD-07B5-4CE2-9301-DC3C41312993" name="GUID-5E17BFDD-07B5-4CE2-9301-DC3C41312993"></a><h4 id="LNOCI-GUID-5E17BFDD-07B5-4CE2-9301-DC3C41312993" class="sect4"><span class="enumeration_section">15.2.2</span> ROWID的隐式提取示例</h4>
                  <div>
                     <p>显示隐式提取ROWID的示例。</p>
                     <div class="section">
                        <p>使用<a href="performance-topics.html#GUID-5E17BFDD-07B5-4CE2-9301-DC3C41312993__CEGFFICH">例15-2</a>中的C程序片段进行构建。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-5E17BFDD-07B5-4CE2-9301-DC3C41312993__CEGFFICH">
                        <p class="titleinexample">例15-2 ROWID的隐式提取</p><pre class="oac_no_warn" dir="ltr">#include &lt;oci.h&gt; int main（）{...text * mySql =（text *）“SELECT emp_name FROM emp FOR UPDATE”; text rowid [100] [15] = {0}; text empName [100] [15] = {0}; .../ *设置环境，错误句柄等* / .../ *准备声明 - 选择...进行更新。* / if（OCIStmtPrepare（select_p，errhp，mySql，strlen（mySql），OCI_NTV_SYNTAX，OCI_DEFAULT））{printf（“Prepare failed \ n”）; return（OCI_ERROR）; / *设置在语句句柄上隐式提取ROWID的属性。* / if（OCIAttrSet（select_p，OCI_HTYPE_STMT，0,0，OCI_ATTR_FETCH_ROWID，errhp））{printf（“无法设置属性 -  OCI_ATTR_FETCH_ROWID \ n”）;返回OCI_ERROR; } / * *定义位置：0表示获取ROWID和其他位置*以获取其他列。*此外，通过以字符串格式获取* ROWID来隐式完成定义转换。* / if（OCIDefineByPos（select_p，＆defnp0，errhp，0，rowid [0]，15，SQLT_STR，（void *）ind，（void *）0，（void *）0，OCI_DEFAULT）|| OCIDefineByPos（select_p，＆defnp1 ，errhp，1，empName [0]，15，SQLT_STR，（void *）0，（void *）0，（void *）0，OCI_DEFAULT））{printf（“无法定义\ n”）; return（OCI_ERROR）; } / *执行语句。* / if（errr = OCIStmtExecute（svchp，select_p，errhp，（ub4）5，（ub4）0，（OCISnapshot *）NULL，（OCISnapshot *）NULL，（ub4）OCI_DEFAULT））{if（错误！= OCI_NO_DATA）return errr; } printf（“Column 0 \ t Column 1 \ n”）; printf（“_________ \ t ________ \ n”）; for（i = 0; i &lt;5 i ++）{printf（“％s \ t \ t％s \ n”，rowid [i]，empName [i]）; } return OCI_SUCCESS; }</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="LNOCI73046"></a><a id="LNOCI73047"></a><a id="LNOCI73048"></a><a id="LNOCI73049"></a><a id="LNOCI73008"></a><div class="props_rev_3"><a id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F" name="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F"></a><h3 id="LNOCI-GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F" class="sect3"><span class="enumeration_section">15.3</span> OCI对隐含结果的支持</h3>
               <div>
                  <p>从Oracle Database <span class="italic">12c</span>第1版（12.1）开始，PL / SQL可以从存储过程和匿名PL / SQL块中隐式返回结果（游标）。<code class="codeph">OCIStmtGetNextResult()</code>以检索和处理隐式结果。
                  </p>
                  <div class="section">
                     <p>PL / SQL在<code class="codeph">DBMS_SQL</code>包中提供了一个子程序<code class="codeph">RETURN_RESULT</code> ，用于返回执行语句的结果，如<a href="performance-topics.html#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGBHFGH">例15-3</a>所示。在当前版本中，PL / SQL过程块只能隐式返回<code class="codeph">SELECT</code>查询结果集。<code class="codeph">OCIStmtGetNextResult()</code>返回一个OCI语句句柄，通常在其上执行OCI定义和获取调用以检索行。
                     </p>
                     <p><a href="performance-topics.html#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGDFBAF">例15-4</a>显示了一个PL / SQL存储过程，用于隐式地将结果集（游标）返回给客户端。
                     </p>
                     <p><a href="performance-topics.html#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGHGBDI">例15-5</a>显示了使用客户端发送的匿名PL / SQL块的相同方法。此示例显示应用程序如何使用隐式结果功能从OCI应用程序实现SQL语句的批处理。OCI应用程序可以动态形成PL / SQL匿名块，以执行多个和变量<code class="codeph">SELECT</code>语句，并使用<code class="codeph">DBMS_SQL.RETURN_RESULT</code>返回相应的游标。</p>
                     <p><a href="performance-topics.html#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGIHJDF">例15-6</a>列出了一个OCI程序，它显示了如何使用<code class="codeph">OCIStmtGetNextResult()</code>调用来检索和处理PL / SQL存储过程（参见<a href="performance-topics.html#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGDFBAF">例15-4</a> ）或匿名PL / SQL块返回的隐式结果（参见<a href="performance-topics.html#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGHGBDI">例15） -5</a> ）。
                     </p>
                     <p>应用程序可以迭代地调用<code class="codeph">OCIStmtGetNextResult()</code> ，以从执行的PL / SQL语句中检索每个隐式结果。应用程序按顺序检索每个结果集，但可以独立地从任何结果集中获取行。顶级OCI语句句柄跟踪所有关联的结果集语句句柄。释放或释放顶级OCI语句句柄会自动关闭并释放所有隐式结果集。
                     </p>
                     <p>在OCI语句句柄上提供属性<code class="codeph">OCI_ATTR_IMPLICIT_RESULT_COUNT</code>以确定可用的隐式结果的数量。
                     </p>
                     <p><code class="codeph">OCIStmtGetNextResult()</code>的<code class="codeph">rtype</code>参数返回结果的类型。在此版本中，仅支持类型： <code class="codeph">OCI_RESULT_TYPE_SELECT</code> 。可以类似于任何<code class="codeph">SELECT</code> ResultSet访问返回结果集的描述元数据。
                     </p>
                     <div class="infoboxnote" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__GUID-3C5A3433-15B7-4882-B34E-8BE7EA95CFA6">
                        <p class="notep1">注意：</p>
                        <p>以下OCI代码也可以在外部过程中使用，以从隐式结果中获取。在这种情况下， <code class="codeph">OCI_PREP2_IMPL_RESULTS_CLIENT</code>作为模式传递给<code class="codeph">OCIStmtPrepare2()</code>调用。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGBHFGH">
                     <p class="titleinexample">例15-3 DBMS_SQL RETURN_RESULT子程序</p><pre class="oac_no_warn" dir="ltr">procedure return_result（rc in out sys_refcursor，to_client in boolean default true）; procedure return_result（rc in out integer，to_client in boolean default true）;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGDFBAF">
                     <p class="titleinexample">示例15-4将结果集（游标）隐式返回给客户端的PL / SQL存储过程</p><pre class="oac_no_warn" dir="ltr">CREATE PROCEDURE foo AS c1 sys_refcursor; c2 sys_refcursor;从emp开始打开c1 for select *; dbms_sql.return_result（C1）; - 返回客户端 - 打开另一个光标打开c2 for select * from dept; dbms_sql.return_result（c2）; - 回到客户端;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGHGBDI">
                     <p class="titleinexample">示例15-5匿名PL / SQL块以隐式返回结果集（游标）到客户端</p><pre class="oac_no_warn" dir="ltr">声明c1 sys_refcursor; c2 sys_refcursor;从emp开始打开c1 for select *; dbms_sql.return_result（c1）; - 返回客户端 - 打开另一个光标打开c2 for select * from dept; dbms_sql.return_result（c2）; - 回到客户端;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGIHJDF">
                     <p class="titleinexample">示例15-6使用OCIStmtGetNextResult（）检索和处理PL / SQL存储过程或匿名块返回的隐式结果</p><pre class="oac_no_warn" dir="ltr">OCIStmt * stmthp; ub4 rsetcnt;无效*结果; ub4 rtype; char * sql =“begin foo; end;”; / *准备并执行PL / SQL过程。* / OCIStmtPrepare2（svchp，＆stmthp，errhp，（oratext *）sql，strlen（sql），NULL，0，OCI_NTV_SYNTAX，OCI_DEFAULT）; OCIStmtExecute（svchp，stmthp，errhp，1,0，（const OCISnapshot *）0，（OCISnapshot *）0，OCI_DEFAULT）; / *现在检查是否有任何隐式结果可用。* / OCIAttrGet（（void *）stmthp，OCI_HTYPE_STMT，＆rsetcnt，0，OCI_ATTR_IMPLICIT_RESULT_COUNT，errhp）; / *循环并检索隐式结果集。* ResultSet以与PL / SQL *过程/块中相同的顺序返回。* / while（OCIStmtGetNextResult（stmthp，errhp，＆result，＆rtype，OCI_DEFAULT）== OCI_SUCCESS）{/ *检查隐式ResultSet的类型，当前*仅支持的类型为OCI_RESULT_TYPE_SELECT * / if（rtype == OCI_RESULT_TYPE_SELECT）{OCIStmt * rsethp =（OCIStmt *）结果; / *执行正常的OCI操作以定义和获取行。* /} else printf（“未知结果类型％d \ n”，rtype）; / *结果集句柄不应由用户释放。* /} OCIStmtRelease（stmthp，errhp，NULL，0，OCI_DEFAULT）; / *释放语句句柄。* /</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__GUID-3AAA3F6E-229F-41A2-931E-ECD008CF3B6D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="statement-functions.html#GUID-60B998F9-F213-43BA-AB84-76F1EC6A6687" title="返回已执行的PL / SQL语句句柄的隐式结果。">OCIStmtGetNextResult（）</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-A251CF91-EB9F-4DBC-8BB8-FB5EA92C20DE" title="列出并描述语句句柄属性。">语句句柄属性</a>有关属性<code class="codeph">OCI_ATTR_IMPLICIT_RESULT_COUNT</code>更多信息。</p>
                           </li>
                           <li>
                              <p><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="准备SQL或PL / SQL语句以便执行。">OCIStmtPrepare2（）</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNOCI10103"></a><div class="props_rev_3"><a id="GUID-F8BAB50F-7D21-43C0-846D-416D34429117" name="GUID-F8BAB50F-7D21-43C0-846D-416D34429117"></a><h3 id="LNOCI-GUID-F8BAB50F-7D21-43C0-846D-416D34429117" class="sect3"><span class="enumeration_section">15.4</span>客户端结果缓存</h3>
               <div>
                  <p>OCI应用程序可以使用客户端内存来利用OCI结果缓存来改善重复查询的响应时间。</p>
                  <div class="infoboxnotealso" id="GUID-F8BAB50F-7D21-43C0-846D-416D34429117__GUID-BAC8F6A3-FA60-4DF2-901F-48EE88AC27D0">
                     <p class="notep1">也可以看看：</p>
                     <p>有关使用OCI客户端结果缓存的完整信息，请参见<a href="../adfns/performance-and-scalability.html#ADFNS213" target="_blank"><span><cite>“Oracle数据库开发指南</cite></span></a></p>
                  </div>
               </div>
            </div><a id="LNOCI73050"></a><a id="LNOCI73009"></a><div class="props_rev_3"><a id="GUID-75169FE4-DE2C-431F-BBA7-3691C7C33360" name="GUID-75169FE4-DE2C-431F-BBA7-3691C7C33360"></a><h3 id="LNOCI-GUID-75169FE4-DE2C-431F-BBA7-3691C7C33360" class="sect3"><span class="enumeration_section">15.5</span>客户端语句缓存自动调整</h3>
               <div>
                  <p>描述有关客户端语句高速缓存自动调整的主题。</p>
                  <div class="p">本节介绍以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="performance-topics.html#GUID-6E21AA56-5BBE-422A-802C-197CAC8AAEA4" title="自动调整可优化中间层应用程序的OCI客户端会话功能，以获得更高的性能，而无需重新编程您的OCI应用程序。">关于自动调整客户端语句缓存</a></p>
                        </li>
                        <li>
                           <p><a href="performance-topics.html#GUID-5FA63226-6372-4A36-B36E-47141A73D036" title="自动调整客户端语句高速缓存的更具体的好处是透明地检测，监视和调整语句高速缓存大小，以提高性能或减少内存使用。">自动调整客户端语句缓存的好处</a></p>
                        </li>
                        <li>
                           <p><a href="performance-topics.html#GUID-C7D627E2-E210-4234-AF42-648E7295DA13" title="oraccess.xml中的以下连接特定参数可以按照配置别名设置，也可以使用默认的连接特定参数在所有连接字符串中设置。">客户端语句缓存自动调整参数</a></p>
                        </li>
                        <li>
                           <p><a href="performance-topics.html#GUID-A3B6A67A-9DB9-41DC-9D73-DC8557808EF0" title="以下是一些使用示例，显示了客户端语句高速缓存自动调整参数的使用和交互，这些参数也是特定于连接的参数。">客户端语句缓存自动调整的用法示例</a></p>
                        </li>
                        <li>
                           <p><a href="performance-topics.html#GUID-02A81F8A-84F7-44AB-942F-5F8BFA878289" title="描述启用和禁用OCI客户端自动调整的条件。">启用和禁用OCI客户端自动调整</a></p>
                        </li>
                        <li>
                           <p><a href="performance-topics.html#GUID-ECB2DEFC-6DCE-41C8-8A9C-162A13745E63" title="描述设置自动调整参数时使用的准则。">自动调整客户端语句缓存的使用指南</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI73051"></a><div class="props_rev_3"><a id="GUID-6E21AA56-5BBE-422A-802C-197CAC8AAEA4" name="GUID-6E21AA56-5BBE-422A-802C-197CAC8AAEA4"></a><h4 id="LNOCI-GUID-6E21AA56-5BBE-422A-802C-197CAC8AAEA4" class="sect4"><span class="enumeration_section">15.5.1</span>关于自动调整客户端语句缓存</h4>
                  <div>
                     <p>自动调整可优化中间层应用程序的OCI客户端会话功能，以获得更高的性能，而无需重新编程您的OCI应用程序。</p>
                     <p>在<code class="codeph">OCIStmtPrepare2()</code>和<code class="codeph">OCIStmtRelease()</code>定期调用期间，隐式地发生自动调整操作，如增加或减少高速缓存。如果需要检查，则在服务句柄上使用<code class="codeph">OCI_ATTR_STMTCACHESIZE</code>调用<code class="codeph">OCIAttrGet()</code>会使用当前缓存大小。
                     </p>
                     <p>编码的OCI客户端语句高速缓存大小设置可能是次优的。例如，这可能发生在更改工作负载导致不同的SQL语句工作集的情况下。如果大小太小，将导致过多的网络活动和服务器上的更多解析。如果尺寸太大，将使用过多的内存。客户端应用程序可能难以始终保持此高速缓存大小最佳。</p>
                     <p>自动调整会自动定期重新配置OCI语句高速缓存大小。通过提供部署时间设置来实现自动调整，该设置提供了重新配置OCI语句缓存以解决此潜在性能问题的选项。</p>
                     <p>这些设置在客户端<code class="codeph">oraaccess.xml</code>文件中作为基于连接字符串的部署设置提供，该文件将手动设置覆盖到OCI功能的用户配置。
                     </p>
                     <div class="infoboxnotealso" id="GUID-6E21AA56-5BBE-422A-802C-197CAC8AAEA4__GUID-60C0F818-4FCE-42E7-AA5A-82EBA05C4168">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="准备SQL或PL / SQL语句以便执行。">OCIStmtPrepare2（）</a></p>
                           </li>
                           <li>
                              <p><a href="statement-functions.html#GUID-256034CE-2ADB-4BE5-BC8D-748307F2EA8E" title="释放通过调用OCIStmtPrepare2（）获得的语句句柄。">OCIStmtRelease（）</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI73010"></a><div class="props_rev_3"><a id="GUID-5FA63226-6372-4A36-B36E-47141A73D036" name="GUID-5FA63226-6372-4A36-B36E-47141A73D036"></a><h4 id="LNOCI-GUID-5FA63226-6372-4A36-B36E-47141A73D036" class="sect4"><span class="enumeration_section">15.5.2</span>自动调整客户端语句缓存的好处</h4>
                  <div>
                     <p>自动调整客户端语句高速缓存的更具体的好处是透明地检测，监视和调整语句高速缓存大小，以提高性能或减少内存使用。</p>
                     <p>开发人员和DBA可以期望看到为其OCI客户端应用程序使用自动调整的以下好处：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>减少诊断和修复系统各部分性能问题的时间和精力，例如语句缓存</p>
                        </li>
                        <li>
                           <p>最小化手动修改以配置此OCI功能以提高性能。通常，此手动更正要求应用程序使用不同的配置参数重新启动多次，从而进一步降低客户端的高可用性</p>
                        </li>
                        <li>
                           <p>所有OCI应用程序都可以使用一种解决方案，即使在开箱即用的情况下也可以提高性能，而无需进行任何应用程序更改</p>
                        </li>
                        <li>
                           <p>OCI应用程序可以自由调整其OCI应用程序以优化性能和内存使用，从而无需进行自定义实现（可能容易出错）。此处自动调整仅限于OCI客户端语句高速缓存大小的内部自动调整。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI73011"></a><div class="props_rev_3"><a id="GUID-C7D627E2-E210-4234-AF42-648E7295DA13" name="GUID-C7D627E2-E210-4234-AF42-648E7295DA13"></a><h4 id="LNOCI-GUID-C7D627E2-E210-4234-AF42-648E7295DA13" class="sect4"><span class="enumeration_section">15.5.3</span>客户端语句缓存自动调整参数</h4>
                  <div>
                     <p><code class="codeph">oraccess.xml</code>的以下连接特定参数可以按照配置别名设置，也可以使用默认的连接特定参数在所有连接字符串中设置。
                     </p>
                     <p>客户端<code class="codeph">oraaccess.xml</code>配置文件中指定的值将覆盖编程设置。
                     </p>
                     <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="performance-topics.html#GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2" title="此参数是可选的，并设置语句高速缓存可调组件的限制。">&lt;statement_cache&gt;</a></p>
                           </li>
                           <li>
                              <p><a href="performance-topics.html#GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4" title="本节指定自动调整参数。">&lt;auto_tune&gt;</a></p>
                           </li>
                           <li>
                              <p><a href="performance-topics.html#GUID-53634FE6-85C0-4C37-92FF-FB711676F82A" title="列出并描述所有自动调整参数的比较。">连接特定自动调整参数的比较</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-C7D627E2-E210-4234-AF42-648E7295DA13__GUID-72B2DFC5-E5BA-4D68-BE39-716A87B8FF14">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="build-and-configure-oci-applications.html#GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" title="描述可以为跨连接共享的连接参数设置的默认值。">关于为连接参数指定默认值</a>有关使用默认连接特定参数设置每个配置别名或所有连接字符串的详细信息</p>
                     </div>
                  </div><a id="LNOCI73013"></a><div class="props_rev_3"><a id="GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2" name="GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2"></a><h5 id="LNOCI-GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2" class="sect5"><span class="enumeration_section">15.5.3.1</span> &lt;statement_cache&gt;</h5>
                     <div>
                        <p>此参数是可选的，并设置语句高速缓存可调组件的限制。</p>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">&lt;statement_cache&gt; &lt;size&gt; 100 &lt;/ size&gt; &lt;/ statement_cache&gt;</pre><p>限制是每个会话可以缓存的最大语句数。如果启用了自动调整，则<code class="codeph">oraaccess.xml</code>此设置<code class="codeph">oraaccess.xml</code>覆盖OCI语句高速缓存大小的编程设置。
                           </p>
                           <p>如果启用了自动调整，则此设置将是语句高速缓存大小的上限，同时进行动态调整。</p>
                           <p>如果会话未使用<code class="codeph">OCIStmtPrepare2()</code>和<code class="codeph">OCIStmtRelease()</code>语句缓存API，则忽略此设置。
                           </p>
                           <p>默认值如下：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果启用了自动调整，则会动态调整语句高速缓存，并将初始语句高速缓存大小设置为100个语句。</p>
                              </li>
                              <li>
                                 <p>如果禁用自动调整，则此设置将用作语句缓存大小的部署设置，从而覆盖任何编程设置。</p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2__GUID-56565C29-4873-4D32-82E5-A6001ABBB805">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="准备SQL或PL / SQL语句以便执行。">OCIStmtPrepare2（）</a></p>
                                 </li>
                                 <li>
                                    <p><a href="statement-functions.html#GUID-256034CE-2ADB-4BE5-BC8D-748307F2EA8E" title="释放通过调用OCIStmtPrepare2（）获得的语句句柄。">OCIStmtRelease（）</a></p>
                                 </li>
                                 <li>
                                    <p><a href="performance-topics.html#GUID-02A81F8A-84F7-44AB-942F-5F8BFA878289" title="描述启用和禁用OCI客户端自动调整的条件。">启用和禁用OCI客户端自动调整</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI73012"></a><div class="props_rev_3"><a id="GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4" name="GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4"></a><h5 id="LNOCI-GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4" class="sect5"><span class="enumeration_section">15.5.3.2</span> &lt;auto_tune&gt;</h5>
                     <div>
                        <p>本节指定自动调整参数。</p>
                        <div class="section">
                           <p>如果OCI会话未使用<code class="codeph">OCIStmtPrepare2()</code>或<code class="codeph">OCIStmtRelease()</code>语句缓存API，则会话将忽略自动调整参数。在某个过程中，某些会话或连接可以启用自动调整，某些会话或连接可以禁用。
                           </p>
                           <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="performance-topics.html#GUID-D02F22EA-9A36-4672-AE22-85C5CBD3691B" title="此参数可打开或关闭自动调谐。">&lt;启用&gt;真&lt;/启用&gt;</a></p>
                                 </li>
                                 <li>
                                    <p><a href="performance-topics.html#GUID-93048857-C168-4BA9-A126-CE06DA8F2D33" title="此参数是可选的。">&lt;ram_threshold&gt;</a></p>
                                 </li>
                                 <li>
                                    <p><a href="performance-topics.html#GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F" title="此参数是可选的。">&lt;MEMORY_TARGET&gt;</a></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="infoboxnotealso" id="GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4__GUID-1A20E822-01D1-45FE-9890-18293AD02F03">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="准备SQL或PL / SQL语句以便执行。">OCIStmtPrepare2（）</a></p>
                                 </li>
                                 <li>
                                    <p><a href="statement-functions.html#GUID-256034CE-2ADB-4BE5-BC8D-748307F2EA8E" title="释放通过调用OCIStmtPrepare2（）获得的语句句柄。">OCIStmtRelease（）</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div class="props_rev_3"><a id="GUID-D02F22EA-9A36-4672-AE22-85C5CBD3691B" name="GUID-D02F22EA-9A36-4672-AE22-85C5CBD3691B"></a><h6 id="LNOCI-GUID-D02F22EA-9A36-4672-AE22-85C5CBD3691B" class="sect6"><span class="enumeration_section">15.5.3.2.1</span> &lt;enable&gt; true &lt;/ enable&gt;</h6>
                        <div>
                           <p>此参数可打开或关闭自动调谐。</p>
                           <div class="section">
                              <p>默认为自动关闭<code class="codeph">(FALSE)</code>或禁用。
                              </p><pre class="oac_no_warn" dir="ltr">&lt;auto_tune&gt; &lt;enable&gt; true &lt;/ enable&gt; &lt;/ auto_tune&gt;</pre><p>启用自动调整以及内部默认设置。</p>
                              <div class="infoboxnotealso" id="GUID-D02F22EA-9A36-4672-AE22-85C5CBD3691B__GUID-6B0FCBAB-4D02-4440-AF48-9A0DAC8EB40F">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="performance-topics.html#GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2" title="此参数是可选的，并设置语句高速缓存可调组件的限制。">&lt;statement_cache&gt;</a>有关自动调整的更多信息以及内部默认设置已启用</p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="LNOCI73058"></a><div class="props_rev_3"><a id="GUID-93048857-C168-4BA9-A126-CE06DA8F2D33" name="GUID-93048857-C168-4BA9-A126-CE06DA8F2D33"></a><h6 id="LNOCI-GUID-93048857-C168-4BA9-A126-CE06DA8F2D33" class="sect6"><span class="enumeration_section">15.5.3.2.2</span> &lt;ram_threshold&gt;</h6>
                        <div>
                           <p>此参数是可选的。</p>
                           <div class="section"><pre class="oac_no_warn" dir="ltr">&lt;auto_tune&gt; &lt;enable&gt; true &lt;/ enable&gt; &lt;ram_threshold&gt; 0.1 &lt;/ ram_threshold&gt; &lt;/ auto_tune&gt;</pre><p>默认值为0.01％。它被指定为已安装RAM的百分比。这指定了共享此设置的进程中自动调整会话中可用的总内存。可以按进程或每个连接字符串别名指定此设置。</p>
                              <p>请注意，如果按连接字符串别名指定，则客户端进程使用的总自动调整内存可以相加。</p>
                              <p>因此，最好在<code class="codeph">oraaccess.xml</code>文件的<code class="codeph">&lt;default_parameters&gt;</code>部分中指定自动调整限制。这样，您就可以为客户端进程中的所有会话创建公共内存池。
                              </p>
                              <p>较小的限制使用较少的RAM进行自动调整，但最大限度地减少了系统上运行的其他程序在性能方面不会降低的可能性。</p>
                              <p>必须在<code class="codeph">&lt;auto_tune&gt;&lt;/auto_tune&gt;</code>部署设置中指定此参数。
                              </p>
                              <div class="infoboxnotealso" id="GUID-93048857-C168-4BA9-A126-CE06DA8F2D33__GUID-D9D4A61A-66CC-476E-AABF-DC489C9FD8F9">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="build-and-configure-oci-applications.html#GUID-CD599644-135A-4116-8B3B-40A9BA172E5C" title="从Oracle Database Release 12c第1版（12.1）开始，Oracle提供了oraaccess.xml文件，即客户端配置文件。">关于oraaccess.xml</a></p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="LNOCI73057"></a><div class="props_rev_3"><a id="GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F" name="GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F"></a><h6 id="LNOCI-GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F" class="sect6"><span class="enumeration_section">15.5.3.2.3</span> &lt;memory_target&gt;</h6>
                        <div>
                           <p>此参数是可选的。</p>
                           <div class="section"><pre class="oac_no_warn" dir="ltr">&lt;auto_tune&gt; &lt;enable&gt; true &lt;/ enable&gt; &lt;memory_target&gt; 40M &lt;/ memory_target&gt; &lt;/ auto_tune&gt;</pre><p>以字节为单位指定。默认值未定义。它指定共享此设置的进程中自动调整会话中可用的总内存。可以按进程或每个连接字符串别名指定此设置。</p>
                              <p>请注意，如果按连接字符串别名指定，则客户端进程使用的总自动调整内存可以相加。</p>
                              <p>因此，最好在<code class="codeph">oraaccess.xml</code>文件的<code class="codeph">&lt;default_parameters&gt;</code>部分中指定自动调整限制。这样，您就可以为客户端进程中的所有会话创建公共内存池。
                              </p>
                              <p>必须在<code class="codeph">&lt;auto_tune&gt;&lt;/auto_tune&gt;</code>部署设置中指定此参数。
                              </p>
                              <p>使用此参数可确保使用一致的内存限制进行自动调整，而不管该系统上安装的RAM是什么。</p>
                              <p>如果未指定，则自动调整内存限制基于<code class="codeph">&lt;ram_threshold&gt;</code>参数设置。
                              </p>
                              <p>如果同时指定了<code class="codeph">&lt;ram_threshold&gt;</code>和<code class="codeph">&lt;memory_target&gt;</code>参数，则有效限制是两个参数中的最小值。
                              </p>
                              <div class="infoboxnotealso" id="GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F__GUID-5B2CC834-9233-4AC8-90A2-6CD14889A4CC">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="build-and-configure-oci-applications.html#GUID-CD599644-135A-4116-8B3B-40A9BA172E5C" title="从Oracle Database Release 12c第1版（12.1）开始，Oracle提供了oraaccess.xml文件，即客户端配置文件。">关于oraaccess.xml</a></p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div><a id="LNOCI73019"></a><div class="props_rev_3"><a id="GUID-53634FE6-85C0-4C37-92FF-FB711676F82A" name="GUID-53634FE6-85C0-4C37-92FF-FB711676F82A"></a><h5 id="LNOCI-GUID-53634FE6-85C0-4C37-92FF-FB711676F82A" class="sect5"><span class="enumeration_section">15.5.3.3</span>连接特定自动调整参数的比较</h5>
                     <div>
                        <p>列出并描述所有自动调整参数的比较。</p>
                        <div class="section">
                           <p><a href="performance-topics.html#GUID-53634FE6-85C0-4C37-92FF-FB711676F82A__CEGJIEJE" title="描述所有自动调整参数的比较。该表由3列组成。第1列是自动调整参数名称，第2列是设置信息及其语义，第3列表示参数是用于自动调整还是部署设置。">表15-1</a>显示了特定于连接的自动调整参数的比较。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformalwide" id="GUID-53634FE6-85C0-4C37-92FF-FB711676F82A__CEGJIEJE">
                           <p class="titleintable">表15-1某些特定于连接的自动调整参数的比较</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="某些连接特定自动调整参数的比较" width="100%" border="1" summary="Describes a comparison of all auto-tuning parameters. The table consists of 3 columns. Column 1 is the auto-tuning parameter name, column 2 is the setting information and its semantics, and column 3 indicates whether the parameter is for auto-tuning or deployment setting." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d131832e5375">参数</th>
                                    <th align="left" valign="bottom" width="27%" id="d131832e5378">设置和语义</th>
                                    <th align="left" valign="bottom" width="36%" id="d131832e5381">用于自动调整或部署设置</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d131832e5386" headers="d131832e5375 ">
                                       <p><code class="codeph">&lt;statement_cache&gt;</code></p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d131832e5386 d131832e5378 ">
                                       <p>可选设置。</p>
                                       <p>每个会话缓存大小。</p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d131832e5386 d131832e5381 ">
                                       <p>如果启用了自动调整（请参阅<span class="q">“ <a href="performance-topics.html#GUID-02A81F8A-84F7-44AB-942F-5F8BFA878289" title="描述启用和禁用OCI客户端自动调整的条件。">启用和禁用OCI客户端自动调整</a> ”</span> ），则这是每个会话语句高速缓存大小的上限，同时通过自动调整进行调整。
                                       </p>
                                       <p>否则它指的是语句缓存的部署设置。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d131832e5408" headers="d131832e5375 ">
                                       <p><code class="codeph">&lt;auto_tune&gt;</code></p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d131832e5408 d131832e5378 ">
                                       <p>可选设置。</p>
                                       <p>指定此参数以使用自动调整。如果指定了null connect string，则适用于使用此连接字符串的所有连接或所有连接。</p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d131832e5408 d131832e5381 ">
                                       <p>只有自动调整相关</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d131832e5421" headers="d131832e5375 ">
                                       <p><code class="codeph">&lt;ram_threshold&gt;</code> <code class="codeph">0.1&lt;/ram_threshold&gt;</code></p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d131832e5421 d131832e5378 ">
                                       <p>可选设置。</p>
                                       <p>根据该客户端或中间层系统上安装的RAM将百分比设置转换为内存值。</p>
                                       <p>这是用于客户端进程内自动调整的内存上限。</p>
                                       <p>对于已安装的8GB RAM，未指定此参数会在会话中提供800 KB的内存。</p>
                                       <p>请注意，每个连接都可能有自己的自动调整参数设置，因此这些值可以根据配置设置累加整个过程。因此最好在<code class="codeph">oraaccess.xml</code>文件的<code class="codeph">&lt;default_parameters&gt;</code>部分中使用此参数。有关语法的说明，请参阅<span class="q">“ <a href="build-and-configure-oci-applications.html#GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691" title="为简单起见，列出了有关oraaccess.xml文件语法的一些高级规则。">文件（oraaccess.xml）属性</a> ”</span> 。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d131832e5421 d131832e5381 ">
                                       <p>只有自动调整相关。如果禁用自动调整，则忽略此参数设置。必须在<code class="codeph">&lt;auto_tune&gt;&lt;/auto_tune&gt;</code>部署设置中指定此参数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d131832e5462" headers="d131832e5375 ">
                                       <p><code class="codeph">&lt;MEMORY_TARGET&gt; 1048576 &lt;/ MEMORY_TARGET&gt;</code></p>
                                    </td>
                                    <td align="left" valign="top" width="27%" headers="d131832e5462 d131832e5378 ">
                                       <p>可选设置。</p>
                                       <p>这是用于客户端进程内自动调整的内存上限。</p>
                                       <p>请注意，每个连接都可能有自己的自动调整参数设置，因此这些值可以根据配置设置累加整个过程。因此最好在<code class="codeph">oraaccess.xml</code>文件的<code class="codeph">&lt;default_parameters&gt;</code>部分中使用此参数。
                                       </p>
                                       <p>有关语法的说明，请参阅<span class="q">“ <a href="build-and-configure-oci-applications.html#GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691" title="为简单起见，列出了有关oraaccess.xml文件语法的一些高级规则。">文件（oraaccess.xml）属性</a> ”</span> 。
                                       </p>
                                       <p>值以字节为单位。 1,048,576字节是1 MB。</p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d131832e5462 d131832e5381 ">
                                       <p>只有自动调整相关。如果禁用自动调整，则忽略此参数设置。必须在<code class="codeph">&lt;auto_tune&gt;&lt;/auto_tune&gt;</code>部署设置中指定此参数。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div><a id="LNOCI73020"></a><div class="props_rev_3"><a id="GUID-A3B6A67A-9DB9-41DC-9D73-DC8557808EF0" name="GUID-A3B6A67A-9DB9-41DC-9D73-DC8557808EF0"></a><h4 id="LNOCI-GUID-A3B6A67A-9DB9-41DC-9D73-DC8557808EF0" class="sect4"><span class="enumeration_section">15.5.4</span>客户端语句缓存自动调整的使用示例</h4>
                  <div>
                     <p>以下是一些使用示例，显示了客户端语句高速缓存自动调整参数的使用和交互，这些参数也是特定于连接的参数。</p><pre class="oac_no_warn" dir="ltr">&lt;statement_cache&gt; &lt;size&gt; 100 &lt;/ size&gt; &lt;/ statement_cache&gt;</pre><p>程序语句高速缓存大小将替换为此设置。禁用自动调整，并根据LRU管理缓存。在这种情况下，应用程序开发人员认为不需要覆盖OCI应用程序语句预取程序设置。</p><pre class="oac_no_warn" dir="ltr">&lt;auto_tune&gt; &lt;enable&gt; true &lt;/ enable&gt; &lt;/ auto_tune&gt;</pre><p>启用自动调整以及内部默认设置。</p><pre class="oac_no_warn" dir="ltr">&lt;statement_cache&gt; &lt;size&gt; 100 &lt;/ size&gt; &lt;/ statement_cache&gt; &lt;auto_tune&gt; &lt;enable&gt; true &lt;/ enable&gt; &lt;memory_target&gt; 40M &lt;/ memory_target&gt; &lt;/ auto_tune&gt;</pre><p>此语句缓存部署设置为100将替换程序语句高速缓存大小，并且由于启用了自动调整，因此将自动调整语句高速缓存。内存目标设置有效，因为启用了自动调整。</p>
                     <p>自动调整将始终尝试限制内存目标周围使用的总语句高速缓存内存。如果未指定内存目标，则它基于总安装RAM的百分比。</p>
                     <p>在这种情况下，内存限制是指定的内存目标。</p>
                     <div class="infoboxnotealso" id="GUID-A3B6A67A-9DB9-41DC-9D73-DC8557808EF0__GUID-3C52903D-1A11-4326-B93E-4F5381BA5114">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="performance-topics.html#GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2" title="此参数是可选的，并设置语句高速缓存可调组件的限制。">&lt;statement_cache&gt;</a>有关自动调整的更多信息以及内部默认设置已启用</p>
                     </div>
                  </div>
               </div><a id="LNOCI73025"></a><div class="props_rev_3"><a id="GUID-02A81F8A-84F7-44AB-942F-5F8BFA878289" name="GUID-02A81F8A-84F7-44AB-942F-5F8BFA878289"></a><h4 id="LNOCI-GUID-02A81F8A-84F7-44AB-942F-5F8BFA878289" class="sect4"><span class="enumeration_section">15.5.5</span>启用和禁用OCI客户端自动调整</h4>
                  <div>
                     <p>描述启用和禁用OCI客户端自动调整的条件。</p>
                     <p>以下条件启用和禁用OCI客户端自动调整：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>添加客户端<code class="codeph">oraaccess.xml</code> <code class="codeph">&lt;auto_tune&gt;</code>部分并启用指定为true， <code class="codeph">&lt;enable&gt;true&lt;/enable&gt;</code>时，将启用自动调整</p>
                        </li>
                        <li>
                           <p>自动调谐默认禁用或启用时被设置为假，&lt;启用&gt;假&lt;/启用&gt;在<code class="codeph">oraaccess.xml</code>下<code class="codeph">&lt;auto_tune&gt;</code>部。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI73022"></a><div class="props_rev_3"><a id="GUID-ECB2DEFC-6DCE-41C8-8A9C-162A13745E63" name="GUID-ECB2DEFC-6DCE-41C8-8A9C-162A13745E63"></a><h4 id="LNOCI-GUID-ECB2DEFC-6DCE-41C8-8A9C-162A13745E63" class="sect4"><span class="enumeration_section">15.5.6</span>自动调整客户端语句缓存的使用指南</h4>
                  <div>
                     <p>描述设置自动调整参数时使用的准则。</p>
                     <p>以下是设置自动调整参数时要使用的一些准则：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当客户端响应，内存分配或客户端CPU很高并且您希望在不重建OCI应用程序的情况下获得性能时，可以使用<code class="codeph">&lt;auto_tune&gt;</code>设置或部署<code class="codeph">&lt;statement_cache&gt;</code>设置。自动调整还可以减少客户端和服务器之间传输的网络字节数。
                           </p>
                        </li>
                        <li>
                           <p>当AWR或ADDM报告大量解析但您不能或者您可能不希望以编程方式修改语句高速缓存大小时，可以指定语句高速缓存的自动调整或使用部署语句高速缓存设置<code class="codeph">&lt;statement_cache&gt;</code> 。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="10421.CREATE-DATABASE.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>创建数据库</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="CREATE-CONTROLFILE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CREATE-DATABASE-LINK.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CREATE-CONTROLFILE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CREATE-DATABASE-LINK.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-COMMIT-to-CREATE-JAVA.html" property="item" typeof="WebPage"><span property="name">SQL语句：COMMIT到CREATE JAVA</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">创建数据库</li>
            </ol>
            <a id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C" name="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C"></a><a id="SQLRF53840"></a><a id="SQLRF53841"></a><a id="SQLRF53842"></a><a id="SQLRF53843"></a><a id="SQLRF53844"></a><a id="SQLRF53845"></a><a id="SQLRF53846"></a><a id="SQLRF53847"></a><a id="SQLRF55684"></a><a id="SQLRF56580"></a><a id="SQLRF55685"></a><a id="SQLRF53848"></a><a id="SQLRF53849"></a><a id="SQLRF53850"></a><a id="SQLRF53851"></a><a id="SQLRF53852"></a><a id="SQLRF53853"></a><a id="SQLRF53854"></a><a id="SQLRF53855"></a><a id="SQLRF53867"></a><a id="SQLRF53856"></a><a id="SQLRF53857"></a><a id="SQLRF53858"></a><a id="SQLRF53859"></a><a id="SQLRF53860"></a><a id="SQLRF53861"></a><a id="SQLRF53862"></a><a id="SQLRF53863"></a><a id="SQLRF53864"></a><a id="SQLRF53865"></a><a id="SQLRF53866"></a><a id="SQLRF53873"></a><a id="SQLRF53868"></a><a id="SQLRF53869"></a><a id="SQLRF53870"></a><a id="SQLRF53871"></a><a id="SQLRF53872"></a><a id="SQLRF53874"></a><a id="SQLRF55890"></a><a id="SQLRF55893"></a><a id="SQLRF55894"></a><a id="SQLRF55895"></a><a id="SQLRF53875"></a><a id="SQLRF55896"></a><a id="SQLRF01204"></a>
            
            <h2 id="SQLRF-GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C" class="sect2">创建数据库</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <div class="infoboxnote" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-B2EBFAF3-B605-4585-9F7A-49578DC3F3A7">
                     <p class="notep1">注意：</p>
                     <p>此语句为初始使用准备数据库，并擦除当前在指定文件中的任何数据。仅在了解其后果时才使用此声明。</p>
                  </div>
                  <div class="infoboxnote" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-AD682035-6549-400A-94DA-ECAC65321435">
                     <p class="notep1">注意：</p>
                     <p>在此版本的Oracle数据库和后续版本中，正在进行一些增强以确保默认数据库用户帐户的安全性。您可以在“ <a href="../dbseg/keeping-your-oracle-database-secure.html#DBSEG009" target="_blank"><span class="italic">Oracle数据库安全指南”中</span></a>找到此版本的安全核对表。Oracle建议您阅读此清单并相应地配置数据库。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-186ECDB2-960F-474D-B989-43A80D0AA977">目的</p>
                  <p><a id="d307847e231" class="indexterm-anchor"></a>使用<code class="codeph">CREATE</code> <code class="codeph">DATABASE</code>语句创建数据库，使其可供一般使用。
                  </p>
                  <p><a id="d307847e243" class="indexterm-anchor"></a>此语句将删除已存在的任何指定数据文件中的所有数据，以便为初始数据库使用做好准备。如果在现有数据库上使用该语句，则数据文件中的所有数据都将丢失。
                  </p>
                  <p><a id="d307847e249" class="indexterm-anchor"></a><a id="d307847e253" class="indexterm-anchor"></a>创建数据库后，此语句将以独占或并行模式安装它，具体取决于<code class="codeph">CLUSTER_DATABASE</code>初始化参数的值并打开它，使其可供正常使用。然后，您可以为数据库创建表空间。
                  </p>
                  <div class="infoboxnotealso" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-D924A579-94FF-4513-8DC2-B2FE69FD62AF">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关修改数据库的信息，请参阅<a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986">ALTER DATABASE</a></p>
                        </li>
                        <li>
                           <p>有关创建Oracle Java虚拟机的信息，请参见<a href="../jjdev/Java-overview.html#JJDEV13016" target="_blank"><span class="italic">“Oracle数据库Java开发人员指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关创建表空间的信息，请创建<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9">TABLESPACE</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-CFA9129B-88B9-4315-9C7F-DA746A62A720">先决条件</p>
                  <p>要创建数据库，您必须具有<code class="codeph">SYSDBA</code>系统特权。必须提供具有要创建的数据库名称的初始化参数文件，并且您必须处于<code class="codeph">STARTUP</code> <code class="codeph">NOMOUNT</code>模式。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__BGEDGCDC">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-4041AEEB-D81B-477F-BBBC-A65D96B86947">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-9B2ABCBE-359C-4B5F-87D5-E53D5D7BD564"><span class="italic">create_database</span> :: =</p>
                  <div class="figure" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-CBA29364-06B8-44C2-A17D-B7ED9BF2B57F"><img src="img/create_database.gif" alt="下面是create_database.eps的描述" title="下面是create_database.eps的描述" longdesc="img_text/create_database.html"><br><a href="img_text/create_database.html">说明create_database.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2143359">database_logging_clauses :: =</a></span> ， <span class="italic"><a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2143375">tablespace_clauses :: =</a></span> ， <span class="italic"><a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2127485">set_time_zone_clause :: =</a></span> ， <span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__CHDHEGJH">datafile_tempfile_spec :: =</a></span> ， <span class="italic"><a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__ENABLE_PLUGGABLE_DATABASE-5AE49A3F">enable_pluggable_database :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2143359">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-64EBE9EA-2D4F-4A13-BA9D-4B1A732C49B8"><span class="italic">database_logging_clauses</span> :: =</p>
                  <div class="figure" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-C194F33D-BE17-4917-9BDE-19731B260F07"><img src="img/database_logging_clauses.gif" alt="下面是database_logging_clauses.eps的描述" title="下面是database_logging_clauses.eps的描述" longdesc="img_text/database_logging_clauses.html"><br><a href="img_text/database_logging_clauses.html">插图描述database_logging_clauses.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__CJADEBBF">file_specification :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2143375">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-BF9BBCF6-BB29-44B7-A1BE-AC17C6CB4C7B"><span class="italic">tablespace_clauses</span> :: =</p>
                  <div class="figure" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-28AD4FFE-57BE-44C7-95A8-8DCFF2F26D5A"><img src="img/tablespace_clauses.gif" alt="下面是tablespace_clauses.eps的描述" title="下面是tablespace_clauses.eps的描述" longdesc="img_text/tablespace_clauses.html"><br><a href="img_text/tablespace_clauses.html">说明tablespace_clauses.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__CJADEBBF">file_specification :: =</a></span> ， <span class="italic"><a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2186919">default_tablespace :: =</a></span> ， <span class="italic"><a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2142113">default_temp_tablespace :: =</a></span> ， <span class="italic"><a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2127474">undo_tablespace :: =</a></span> ， <span class="italic"><a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2127474">undo_tablespace :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2186919">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-FD7EC5A4-0956-4F5D-9DB5-22A5CCF33FE6"><span class="italic">default_tablespace</span> :: =</p>
                  <div class="figure" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-28FF25AD-3B35-4FCF-82E0-98E84797D0BD"><img src="img/default_tablespace.gif" alt="下面是default_tablespace.eps的描述" title="下面是default_tablespace.eps的描述" longdesc="img_text/default_tablespace.html"><br><a href="img_text/default_tablespace.html">说明default_tablespace.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2142113">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-F28BB40C-FCD0-4449-86DF-0CFAE88B6FE3"><span class="italic">default_temp_tablespace</span> :: =</p><a id="d307847e384" class="indexterm-anchor"></a><a id="d307847e390" class="indexterm-anchor"></a><a id="d307847e394" class="indexterm-anchor"></a><div class="figure" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-310DC65D-89DC-417E-9562-CEAE38270FD1"><img src="img/default_temp_tablespace.gif" alt="下面是default_temp_tablespace.eps的描述" title="下面是default_temp_tablespace.eps的描述" longdesc="img_text/default_temp_tablespace.html"><br><a href="img_text/default_temp_tablespace.html">说明default_temp_tablespace.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__CJADEBBF">file_specification :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-72C549C3-645D-47B0-9736-6C8097319F28"></p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__BGEIBGJH">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-0698291B-1A65-4E34-A856-915649C3B216"><span class="italic">extent_management_clause</span> :: =</p><a id="d307847e414" class="indexterm-anchor"></a><a id="d307847e418" class="indexterm-anchor"></a><div class="figure" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-47395282-3009-4CCD-B701-B1B1B3CC1293"><img src="img/extent_management_clause.gif" alt="下面是extent_management_clause.eps的描述" title="下面是extent_management_clause.eps的描述" longdesc="img_text/extent_management_clause.html"><br><a href="img_text/extent_management_clause.html">说明extent_management_clause.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2127474">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-11DC36FB-20E8-4093-8874-3078FCF7D9EB"><span class="italic">undo_tablespace</span> :: =</p>
                  <div class="figure" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-AC6F11AB-8CD7-443E-9C05-10F8EC82D06D"><img src="img/undo_tablespace.gif" alt="下面是undo_tablespace.eps的描述" title="下面是undo_tablespace.eps的描述" longdesc="img_text/undo_tablespace.html"><br><a href="img_text/undo_tablespace.html">说明undo_tablespace.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__CJADEBBF">file_specification :: =</a></span> ）<a id="d307847e446" class="indexterm-anchor"></a><a id="d307847e450" class="indexterm-anchor"></a></p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2127485">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-0FF7A22B-611B-41BA-A208-FC04593B96AF"><span class="italic">set_time_zone_clause</span> :: =</p><a id="d307847e459" class="indexterm-anchor"></a><div class="figure" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-4D413BA7-D03F-49CC-A887-1B07DF12AEAF"><img src="img/set_time_zone_clause.gif" alt="下面是set_time_zone_clause.eps的描述" title="下面是set_time_zone_clause.eps的描述" longdesc="img_text/set_time_zone_clause.html"><br><a href="img_text/set_time_zone_clause.html">插图描述set_time_zone_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__ENABLE_PLUGGABLE_DATABASE-5AE49A3F">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-CE324E9B-A58F-4C85-87AA-9EA5952BCB10"><span class="italic">enable_pluggable_database</span> :: =</p>
                  <div class="figure" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-8F8938B2-9994-4A9F-B4A8-216D50974EF2"><img src="img/enable_pluggable_database.gif" alt="下面是enable_pluggable_database.eps的说明" title="下面是enable_pluggable_database.eps的说明" longdesc="img_text/enable_pluggable_database.html"><br><a href="img_text/enable_pluggable_database.html">说明enable_pluggable_database.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__TABLESPACE_DATAFILE_CLAUSES-5AE4C9AF">tablespace_datafile_clauses :: =</a></span> ， <span class="italic"><a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__UNDO_MODE_CLAUSE-5AE4C3C4">undo_mode_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-27E8E207-0FDB-4072-A075-D25003033CFA"><span class="italic">file_name_convert</span> :: =</p>
                  <div class="figure" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-5644CE43-A948-4147-A443-08FB207E7E93"><img src="img/file_name_convert.gif" alt="下面是file_name_convert.eps的描述" title="下面是file_name_convert.eps的描述" longdesc="img_text/file_name_convert.html"><br><a href="img_text/file_name_convert.html">插图file_name_convert.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__TABLESPACE_DATAFILE_CLAUSES-5AE4C9AF">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-DAD4D1CF-B788-4751-A157-754D55A3B1B9"><span class="italic">tablespace_datafile_clauses</span> :: =</p>
                  <div class="figure" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-5AB25E91-C01E-4466-93BF-2B2CA4F6EA8E"><img src="img/tablespace_datafile_clauses.gif" alt="下面是tablespace_datafile_clauses.eps的描述" title="下面是tablespace_datafile_clauses.eps的描述" longdesc="img_text/tablespace_datafile_clauses.html"><br><a href="img_text/tablespace_datafile_clauses.html">说明tablespace_datafile_clauses.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause :: =</a></span> ， <span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__CHDBAADC">autoextend_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__UNDO_MODE_CLAUSE-5AE4C3C4">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-1FB430FB-A335-4839-87FB-719342943E9A"><span class="italic">undo_mode_clause</span> :: =</p>
                  <div class="figure" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-A7CCB51A-D1E7-4DB1-8EF2-8E824D56F821"><img src="img/undo_mode_clause.gif" alt="下面是undo_mode_clause.eps的描述" title="下面是undo_mode_clause.eps的描述" longdesc="img_text/undo_mode_clause.html"><br><a href="img_text/undo_mode_clause.html">说明undo_mode_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-0A100F2D-2107-40CC-B1B5-9B2CA5D520A7">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-26EEA20F-D669-4555-A6A9-1B3391364788"><span class="italic">数据库</span></p>
                  <p>指定要创建的数据库的名称。该名称必须与<code class="codeph">DB_NAME</code>初始化参数的值匹配。名称最长可达8个字节，只能包含ASCII字符。以下字符在数据库名称中有效：字母数字字符，下划线（_），数字符号（＃）和美元符号（$）。没有其他字符有效。数据库名称必须以字母字符开头。Oracle数据库将此名称写入控制文件。如果随后发出显式指定数据库名称的<code class="codeph">ALTER</code> <code class="codeph">DATABASE</code>语句，则Oracle Database将使用控制文件中的名称验证该名称。
                  </p>
                  <p>数据库名称不区分大小写，并以大写ASCII字符存储。如果将数据库名称指定为带引号的标识符，则会以静默方式忽略引号。</p>
                  <div class="infoboxnote" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-48ED0D39-8579-4D07-BF2F-440D22C00759">
                     <p class="notep1">注意：</p>
                     <p>您不能在数据库名称中使用欧洲或亚洲字符集中的特殊字符。例如，不允许使用带有变音符号的字符。</p>
                  </div>
                  <p>如果从<code class="codeph">CREATE</code> <code class="codeph">DATABASE</code>语句中省略数据库名称，则Oracle数据库将使用初始化参数<code class="codeph">DB_NAME</code>指定的名称。必须在数据库初始化参数文件中设置<code class="codeph">DB_NAME</code>初始化参数，并且如果指定与该参数的值不同的名称，则数据库将返回错误。有关数据库名称应遵循的其他规则，请参阅<span class="q">“ <a href="Database-Object-Names-and-Qualifiers.html#GUID-75337742-67FD-4EC0-985F-741C93D918DA">数据库对象命名规则</a> ”</span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-59CF49DD-8AE5-40A7-839B-B9643161A2FF">USER SYS ...，用户系统......</p>
                  <p><a id="d307847e563" class="indexterm-anchor"></a><a id="d307847e567" class="indexterm-anchor"></a><a id="d307847e571" class="indexterm-anchor"></a><a id="d307847e575" class="indexterm-anchor"></a><a id="d307847e579" class="indexterm-anchor"></a>使用这些子句为<code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code>用户建立密码。这些条款在本新闻稿中不是强制性的。但是，如果指定任一子句，则必须指定两个子句。
                  </p>
                  <p>如果未指定这些子句，则Oracle数据库会为用户<code class="codeph">SYS</code>创建默认密码<code class="codeph">change_on_install</code> ，为用户<code class="codeph">SYSTEM</code>创建<code class="codeph">manager</code> 。您可以随后使用<code class="codeph">ALTER</code> <code class="codeph">USER</code>语句更改这些密码。您还可以在创建数据库后使用<code class="codeph">ALTER</code> <code class="codeph">USER</code>添加密码管理属性。
                  </p>
                  <div class="infoboxnotealso" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-EC16A4CD-5112-4520-9F74-7969E7ECBA31">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="ALTER-USER.html#GUID-9FCD038D-8193-4241-85CD-2F4723B27D44">更改用户</a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-68E553D6-BEB1-463A-8D49-8F77AAD8F47C">CONTROLFILE REUSE子句</p>
                  <p><a id="d307847e625" class="indexterm-anchor"></a><a id="d307847e629" class="indexterm-anchor"></a><a id="d307847e633" class="indexterm-anchor"></a>指定<code class="codeph">CONTROLFILE</code> <code class="codeph">REUSE</code>以重用由初始化参数<code class="codeph">CONTROL_FILES</code>标识的现有控制文件，覆盖它们当前包含的任何信息。通常，只有在重新创建数据库时才使用此子句，而不是第一次创建数据库。首次创建数据库时，Oracle数据库会在默认目标中创建一个控制文件，该文件取决于值或多个初始化参数。请参阅<code class="codeph">CREATE</code> <code class="codeph">CONTROLFILE</code> ， <span class="q">“ <a href="CREATE-CONTROLFILE.html#GUID-9B389F28-C4D0-405D-BFE6-48237E8BD791__I2146881">Semantics</a> ”</span> 。
                  </p>
                  <p>如果还指定了一个要求控制文件大于现有文件的参数值，则不能使用此子句。这些参数是<code class="codeph">MAXLOGFILES</code> ， <code class="codeph">MAXLOGMEMBERS</code> ， <code class="codeph">MAXLOGHISTORY</code> ， <code class="codeph">MAXDATAFILES</code>和<code class="codeph">MAXINSTANCES</code> 。</p>
                  <p>如果省略此子句并且<code class="codeph">CONTROL_FILES</code>指定的任何文件已存在，则数据库将返回错误。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-0D3FB994-A235-456F-82F4-BBE615D2D170">MAXDATAFILES条款</p>
                  <p><a id="d307847e684" class="indexterm-anchor"></a>在<code class="codeph">CREATE</code> <code class="codeph">DATABASE</code>或<code class="codeph">CREATE</code> <code class="codeph">CONTROLFILE</code>时指定控制文件的数据文件部分的初始大小。尝试添加数量大于<code class="codeph">MAXDATAFILES</code>但小于或等于<code class="codeph">DB_FILES</code>文件会导致Oracle Database控制文件自动扩展，以便数据文件部分可以容纳更多文件。
                  </p>
                  <p>实例可访问的数据文件数也受初始化参数<code class="codeph">DB_FILES</code> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-EF6858EE-8FF0-47CA-87AF-CA30ACF48EB5">最大条款</p>
                  <p><a id="d307847e718" class="indexterm-anchor"></a><a id="d307847e722" class="indexterm-anchor"></a>指定可以同时装入和打开此数据库的最大实例数。此值优先于初始化参数<code class="codeph">INSTANCES</code>的值。最小值为1。最大值为1055。默认值取决于您的操作系统。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-5893546B-C5B1-4474-B991-41B725A61006">字符集条款</p>
                  <p><a id="d307847e734" class="indexterm-anchor"></a><a id="d307847e738" class="indexterm-anchor"></a><a id="d307847e742" class="indexterm-anchor"></a><a id="d307847e746" class="indexterm-anchor"></a>指定数据库用于存储数据的字符集。支持的字符集和此参数的默认值取决于您的操作系统。
                  </p>
                  <p><span class="bold">对CHARACTER SET的限制</span></p>
                  <p>您不能将<code class="codeph">AL16UTF16</code>字符集指定为数据库字符集。
                  </p>
                  <div class="infoboxnotealso" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-923A5594-46EB-4C28-8E66-94585BD5AB11">
                     <p class="notep1">也可以看看：</p>
                     <p>有关选择字符集的详细信息，请参阅<a href="../nlspg/choosing-character-set.html#NLSPG002" target="_blank"><span class="italic">“Oracle数据库全球化支持指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-E96D34F5-009F-4CEC-9C27-3100891A8FA2">国家字符集条款</p>
                  <p><a id="d307847e770" class="indexterm-anchor"></a><a id="d307847e774" class="indexterm-anchor"></a>指定用于在专门定义为<code class="codeph">NCHAR</code> ， <code class="codeph">NCLOB</code>或<code class="codeph">NVARCHAR2</code>列中存储数据的国家字符集。有效值为<code class="codeph">AL16UTF16</code>和<code class="codeph">UTF8</code> 。默认值为<code class="codeph">AL16UTF16</code> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-57115F5D-20CD-4D91-B3DE-0E36B18DE676">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../nlspg/programming-with-unicode.html#NLSPG0073" target="_blank"><span class="italic">Oracle数据库全球化支持指南</span></a> ，了解有关Unicode数据类型支持的信息</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2177341">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-42D2BC3B-60F3-4C1D-AA5E-54670EF9226B">SET DEFAULT TABLESPACE子句</p>
                  <p><a id="d307847e809" class="indexterm-anchor"></a><a id="d307847e815" class="indexterm-anchor"></a>使用此子句可确定随后创建的表空间以及<code class="codeph">SYSTEM</code>和<code class="codeph">SYSAUX</code>表空间的缺省类型。指定<code class="codeph">BIGFILE</code>或<code class="codeph">SMALLFILE</code>以将随后创建的表空间的默认类型分别设置为<code class="codeph">SMALLFILE</code>或smallfile表空间。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">bigfile表空间</span>只包含一个数据文件或临时文件，最多可包含大约40亿（2 <sup>32</sup> ）个块。对于具有32K块的表空间，单个数据文件或临时文件的最大大小为128太字节（TB），对于具有8K块的表空间，最大大小为32TB。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">smallfile表空间</span>是一个传统的Oracle表空间，它可以包含1022个数据文件或临时文件，每个文件最多可包含大约4百万（2 <sup>22</sup> ）个块。
                        </p>
                     </li>
                  </ul>
                  <p>如果省略此子句，则Oracle Database默认创建smallfile表空间。</p>
                  <div class="infoboxnotealso" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-C4FB360D-F95C-4217-8A7B-18D046B837CE">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关bigfile表空间的更多信息，请参见<a href="../admin/managing-tablespaces.html#ADMIN01102" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__I2187081">设置表空间的默认类型：示例</a> ”</span>以获取使用此语法的示例</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-83C7BC99-9352-40FE-94E0-AC8BA156C978"><span class="italic">database_logging_clauses</span></p>
                  <p>使用<span class="italic"><code class="codeph">database_logging_clauses</code></span>确定Oracle数据库将如何处理此数据库的重做日志文件。
                  </p>
                  <p id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2160227"><span class="bold">LOGFILE子句</span> <a id="d307847e884" class="indexterm-anchor"></a><a id="d307847e888" class="indexterm-anchor"></a><a id="d307847e894" class="indexterm-anchor"></a><a id="d307847e898" class="indexterm-anchor"></a></p>
                  <p>指定一个或多个要用作重做日志文件的文件。使用<span class="italic"><code class="codeph">file_specification</code></span>的<span class="italic"><code class="codeph">redo_log_file_spec</code></span>形式在操作系统文件系统中创建常规重做日志文件或创建Oracle ASM磁盘组重做日志文件。使用<span class="italic"><code class="codeph">ASM_filename</code></span>形式时，不能指定<span class="italic"><code class="codeph">redo_log_file_spec.</code></span>的<span class="italic"><code class="codeph">autoextend_clause</code></span> <span class="italic"><code class="codeph">redo_log_file_spec.</code></span></p>
                  <p><span class="italic"><code class="codeph">redo_log_file_spec</code></span>子句指定包含一个或多个重做日志文件成员（副本）的重做日志文件组。在<code class="codeph">CREATE</code> <code class="codeph">DATABASE</code>语句中指定的所有重做日志文件都将添加到重做日志线程号1。
                  </p>
                  <div class="infoboxnotealso" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-750456A5-2309-4A52-8FDA-6916023EE164">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688">file_specification</a></span>以获取此子句的完整描述</p>
                  </div>
                  <p>如果省略<code class="codeph">LOGFILE</code>子句，则Oracle数据库会在默认目标中创建Oracle管理的日志文件成员，该目标是以下位置之一（按优先顺序排列）：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果设置了<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span> ，则数据库会在指定的每个目录中创建一个日志文件成员，最多为<code class="codeph">MAXLOGMEMBERS</code>初始化参数的值。
                        </p>
                     </li>
                     <li>
                        <p>如果未设置<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数，但同时设置了<code class="codeph">DB_CREATE_FILE_DEST</code>和<code class="codeph">DB_RECOVERY_FILE_DEST</code>初始化参数，则数据库将在每个位置创建一个Oracle管理的日志文件成员。<code class="codeph">DB_CREATE_FILE_DEST</code>目标中的日志文件是第一个成员。
                        </p>
                     </li>
                     <li>
                        <p>如果仅指定了<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数，则Oracle数据库会在该位置创建日志文件成员。
                        </p>
                     </li>
                     <li>
                        <p>如果仅指定了<code class="codeph">DB_RECOVERY_FILE_DEST</code>初始化参数，则Oracle数据库会在该位置创建日志文件成员。
                        </p>
                     </li>
                  </ul>
                  <p>在所有这些情况下，参数设置必须根据需要正确指定操作系统文件名或创建Oracle ASM文件名。</p>
                  <p>如果没有为这些参数中的任何参数设置任何值，则数据库会在运行数据库的操作系统的默认位置创建日志文件。此日志文件不是Oracle托管文件。</p>
                  <p><span class="bold">GROUP</span> <span class="bold"><span class="italic">整数</span></span></p>
                  <p>指定标识重做日志文件组的编号。<span class="italic"><code class="codeph">integer</code></span>的值可以是1到<code class="codeph">MAXLOGFILES</code>参数的值。数据库必须至少有两个重做日志文件组。您不能指定具有相同<code class="codeph">GROUP</code>值的多个重做日志文件组。如果省略此参数，则Oracle Database会自动生成其值。您可以通过动态性能视图<code class="codeph">V$LOG</code>检查重做日志文件组的<code class="codeph">GROUP</code>值。</p>
                  <p><span class="bold">MAXLOGFILES条款</span> <a id="d307847e1023" class="indexterm-anchor"></a></p>
                  <p>指定可以为数据库创建的最大重做日志文件组数。Oracle数据库使用此值来确定在控制文件中为重做日志文件的名称分配多少空间。默认值，最小值和最大值取决于您的操作系统。</p>
                  <p><span class="bold">MAXLOGMEMBERS条款</span> <a id="d307847e1033" class="indexterm-anchor"></a></p>
                  <p>指定重做日志文件组的最大成员数或副本数。Oracle数据库使用此值来确定在控制文件中为重做日志文件的名称分配多少空间。最小值为1。最大值和默认值取决于您的操作系统。</p>
                  <p><span class="bold">MAXLOGHISTORY条款</span> <a id="d307847e1043" class="indexterm-anchor"></a></p>
                  <p>仅当您在<code class="codeph">ARCHIVELOG</code>模式下将Oracle数据库与Oracle Real Application Clusters（Oracle RAC）一起使用时，此参数才有用。指定用于Oracle RAC自动介质恢复的最大归档重做日志文件数。数据库使用此值来确定在控制文件中为归档重做日志文件的名称分配多少空间。最小值为0。默认值是<code class="codeph">MAXINSTANCES</code>值的倍数，取决于您的操作系统。最大值仅受控制文件的最大大小限制。
                  </p>
                  <p><span class="bold">ARCHIVELOG</span><a id="d307847e1058" class="indexterm-anchor"></a><a id="d307847e1062" class="indexterm-anchor"></a><a id="d307847e1066" class="indexterm-anchor"></a><a id="d307847e1070" class="indexterm-anchor"></a></p>
                  <p>如果希望在重用组之前归档重做日志文件组的内容，请指定<code class="codeph">ARCHIVELOG</code> 。该条款为媒体恢复的可能性做好准备。
                  </p>
                  <p><span class="bold">NOARCHIVELOG</span><a id="d307847e1082" class="indexterm-anchor"></a></p>
                  <p>如果在重用组之前无需归档重做日志文件组的内容，请指定<code class="codeph">NOARCHIVELOG</code> 。本条款不允许媒体恢复的可能性。
                  </p>
                  <p>默认为<code class="codeph">NOARCHIVELOG</code>模式。创建数据库后，可以使用<code class="codeph">ALTER</code> <code class="codeph">DATABASE</code>语句在<code class="codeph">ARCHIVELOG</code>模式和<code class="codeph">NOARCHIVELOG</code>模式之间进行<code class="codeph">ALTER</code> 。
                  </p>
                  <p><span class="bold">强制记录</span> <a id="d307847e1113" class="indexterm-anchor"></a><a id="d307847e1117" class="indexterm-anchor"></a></p>
                  <p>使用此子句将数据库置于<code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>模式。除了临时表空间和临时段的更改之外，Oracle数据库将记录数据库中的所有更改。此设置优先于您为各个表空间指定的任何<code class="codeph">NOLOGGING</code>或<code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>设置，并且与您为各个数据库对象指定的任何<code class="codeph">NOLOGGING</code>设置无关。
                  </p>
                  <p><code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>模式在数据库的实例之间是持久的。如果关闭并重新启动数据库，则数据库仍处于<code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>模式。但是，如果重新创建控制文件，则Oracle数据库将使数据库退出<code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>模式，除非您在<code class="codeph">CREATE</code> <code class="codeph">CONTROLFILE</code>语句中指定<code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> 。
                  </p>
                  <div class="infoboxnote" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-5F948526-FA86-411D-BAD1-7799B1296853">
                     <p class="notep1">注意：</p>
                     <p><code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>模式可以产生性能影响。有关何时使用此设置的信息，请参阅<a href="../admin/managing-tablespaces.html#ADMIN011" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a> 。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-15231322-C4E9-49BA-AF31-91344F38A6B4">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="CREATE-CONTROLFILE.html#GUID-9B389F28-C4D0-405D-BFE6-48237E8BD791">创建CONTROLFILE</a> 
                     </p>
                  </div>
                  <p><span class="bold">为数据可用性设置备用数据|负载性能</span></p>
                  <p><code class="codeph">SET STANDBY NOLOGGING</code>禁用备用数据库的日志记录。您可以在两种模式中指定它：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">SET STANDBY NOLOGGING FOR DATA AVAILABILITY</span>保证完整数据复制到备用数据库。主数据库和备用数据库在加载期间同步。在网络拥塞的情况下，主数据库将限制其负载。
                        </p>
                     </li>
                     <li>
                        <p>为备份<span class="bold">性能设置STANDBY NOLOGGING</span>以保持主数据库负载的速度并在以后与备用数据库同步。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">限制SET STANDBY NOLOGGING</span></p>
                  <p><code class="codeph">SET STANDBY NOLOGGING</code>子句不能与<code class="codeph">FORCE LOGGING</code> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-6BA53102-9AA5-4F6A-B530-7D6A8535C2FF"><span class="italic">tablespace_clauses</span></p>
                  <p>使用tablespace子句配置<code class="codeph">SYSTEM</code>和<code class="codeph">SYSAUX</code>表空间，并指定默认临时表空间和undo表空间。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-4F9C9FCF-B698-48A6-A624-4C1A770E93AC"><span class="italic">extent_management_clause</span></p>
                  <p><a id="d307847e1239" class="indexterm-anchor"></a><a id="d307847e1243" class="indexterm-anchor"></a>使用此子句可以创建本地管理的<code class="codeph">SYSTEM</code>表空间。如果省略此子句，则<code class="codeph">SYSTEM</code>表空间将被字典管理。
                  </p>
                  <div class="infoboxnote" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-25E05394-94AE-44C5-AFEE-18227A4F32D1">
                     <p class="notep1">注意：</p>
                     <p>创建本地管理的<code class="codeph">SYSTEM</code>表空间时，不能将其更改为字典管理，也不能在此数据库中创建任何其他字典管理的表空间。
                     </p>
                  </div>
                  <p>如果指定此子句，则数据库必须具有默认临时表空间，因为本地管理的<code class="codeph">SYSTEM</code>表空间无法存储临时段。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果指定<code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">LOCAL</code>但未指定<code class="codeph">DATAFILE</code>子句，则可以省略<span class="italic"><code class="codeph">default_temp_tablespace</code></span>子句。Oracle数据库将创建一个名为<code class="codeph">TEMP</code>的默认临时表空间，其中一个大小为10M且禁用了自动扩展的数据文件。
                        </p>
                     </li>
                     <li>
                        <p>如果同时指定<code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">LOCAL</code>和<code class="codeph">DATAFILE</code>子句，则还必须指定<span class="italic"><code class="codeph">default_temp_tablespace</code></span>子句并为该临时表空间显式指定临时文件。
                        </p>
                     </li>
                  </ul>
                  <p>如果已在自动撤消模式下打开实例，则对数据库撤消表空间存在类似要求：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果指定<code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">LOCAL</code>但未指定<code class="codeph">DATAFILE</code>子句，则可以省略<span class="italic"><code class="codeph">undo_tablespace</code></span>子句。Oracle数据库将创建名为<code class="codeph">SYS_UNDOTBS</code>的撤消表空间。</p>
                     </li>
                     <li>
                        <p>如果同时指定<code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">LOCAL</code>和<code class="codeph">DATAFILE</code>子句，则还必须指定<span class="italic"><code class="codeph">undo_tablespace</code></span>子句并显式指定该表空间的数据文件。
                        </p>
                        <div class="infoboxnotealso" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-34A6FC9F-3DBD-4C9F-A5B6-61DFD99A7884">
                           <p class="notep1">也可以看看：</p>
                           <p>有关本地管理和字典管理的表空间的更多信息，请参见<a href="../admin/managing-tablespaces.html#ADMIN11359" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </div>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2150088">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-83167363-C016-4DF6-B358-6CB54334CD3B">DATAFILE子句</p>
                  <p><a id="d307847e1364" class="indexterm-anchor"></a><a id="d307847e1368" class="indexterm-anchor"></a><a id="d307847e1374" class="indexterm-anchor"></a>指定一个或多个要用作数据文件的文件。所有这些文件都成为<code class="codeph">SYSTEM</code>表空间的一部分。使用<span class="italic"><code class="codeph">file_specification</code></span>的数据<span class="italic"><code class="codeph">file_tempfile_spec</code></span>形式在操作系统文件系统中创建常规数据文件和临时文件，或创建Oracle ASM磁盘组文件。
                  </p>
                  <div class="infoboxnote" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-FCC65817-E5A1-4819-90A7-8F9ED9322115">
                     <p class="notep1">注意：</p>
                     <p>该子句是可选的， <span class="italic"><code class="codeph">undo_tablespace</code></span>子句的<code class="codeph">DATAFILE</code>子句也是可选的。因此，为避免歧义，如果你的目的是要指定一个数据文件<code class="codeph">SYSTEM</code>本条款的表空间，那么<span class="italic">不要</span>马上一个后指定其<span class="italic"><code class="codeph">undo_tablespace</code></span>不包括可选的子句<code class="codeph">DATAFILE</code>子句。如果这样做，那么Oracle数据库将把<code class="codeph">DATAFILE</code>子句解释为<span class="italic"><code class="codeph">undo_tablespace</code></span>子句的一部分。
                     </p>
                  </div>
                  <p>指定<code class="codeph">SYSTEM</code>表空间的数据文件的语法与使用<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>语句创建表空间期间指定数据文件的语法相同，无论是使用Oracle ASM还是在文件系统中存储文件。
                  </p>
                  <div class="infoboxnotealso" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-AF2D7CB1-2978-48FE-8B78-3B217B305A78">
                     <p class="notep1">也可以看看：</p>
                     <p>有关指定数据文件的信息，请<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9">创建TABLESPACE</a></p>
                  </div>
                  <p>如果以自动撤消模式运行数据库并指定<code class="codeph">SYSTEM</code>表空间的数据文件名，则Oracle数据库希望为所有表空间生成数据文件。如果您使用的是Oracle托管文件，Oracle数据库会自动执行此操作 - 您已为<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数设置了值。但是，如果您未使用Oracle Managed Files并指定此子句，则还必须指定<span class="italic"><code class="codeph">undo_tablespace</code></span>子句和<span class="italic"><code class="codeph">default_temp_tablespace</code></span>子句。
                  </p>
                  <p>如果省略此子句，则：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果设置了<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数，则Oracle数据库将在参数中指定的缺省文件目标中创建一个100 MB Oracle管理的数据文件，其中包含系统生成的名称。
                        </p>
                     </li>
                     <li>
                        <p>如果未设置<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数，则Oracle数据库会创建一个数据文件，其名称和大小取决于您的操作系统。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-DD81A620-6067-4A14-BB15-05D0111680C2">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688">file_specification</a></span>用于语法</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-27E73892-1712-40D7-A16A-C07C8E60F3C5">SYSAUX条款</p>
                  <p><a id="d307847e1480" class="indexterm-anchor"></a><a id="d307847e1484" class="indexterm-anchor"></a> Oracle数据库创建<code class="codeph">SYSTEM</code>和<code class="codeph">SYSAUX</code>表空间作为每个数据库的一部分。如果您不使用Oracle Managed Files并且要为<code class="codeph">SYSAUX</code>表空间指定一个或多个数据文件，请使用此子句。
                  </p>
                  <p>如果已使用<code class="codeph">DATAFILE</code>子句为<code class="codeph">SYSTEM</code>表空间指定了一个或多个数据文件，则必须指定此子句。如果您使用的是Oracle Managed Files并且省略了该子句，则数据库会在为Oracle Managed Files设置的默认位置创建<code class="codeph">SYSAUX</code>数据文件。
                  </p>
                  <p>如果已启用Oracle Managed Files并省略了<code class="codeph">SYSAUX</code>子句，则数据库<code class="codeph">SYSAUX</code>表空间创建为一个在线，永久，本地管理的表空间，其中一个数据文件为100 MB，启用了日志记录并自动进行了段空间管理。
                  </p>
                  <p>指定<code class="codeph">SYSAUX</code>表空间的数据文件的语法与使用<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>语句创建表空间期间指定数据文件的语法相同，无论是使用Oracle ASM还是在文件系统中存储文件。
                  </p>
                  <div class="infoboxnotealso" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-9841F00C-0FE9-4B59-A246-11319A0FC920">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9">CREATE TABLESPACE</a>以获取有关在数据库升级期间创建<code class="codeph">SYSAUX</code>表空间的信息以及有关在表空间中指定数据文件的信息</p>
                        </li>
                        <li>
                           <p>有关创建<code class="codeph">SYSAUX</code>表空间的更多信息，请<code class="codeph">SYSAUX</code> <a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN00203" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2186890">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-D333F0CE-1434-49DE-87CE-BC9F40D20A78"><span class="italic">default_tablespace</span></p>
                  <p><a id="d307847e1553" class="indexterm-anchor"></a><a id="d307847e1557" class="indexterm-anchor"></a>指定此子句可为数据库创建默认永久表空间。Oracle数据库创建一个smallfile表空间，随后将为此表空间分配任何未指定其他永久表空间的非<code class="codeph">SYSTEM</code>用户。如果未指定此子句，则<code class="codeph">SYSTEM</code>表空间是非<code class="codeph">SYSTEM</code>用户的默认永久表空间。
                  </p>
                  <p><code class="codeph">DATAFILE</code>子句和<span class="italic"><code class="codeph">extent_management_clause</code></span>具有与<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>语句中相同的语义。有关这些子句的信息，请参阅<span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2171920">DATAFILE | TEMPFILE子句</a> ”</span>和<span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2063392">extent_management_clause</a></span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__DEFAULT_TEMP_TABLESPACE-5498451C">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-53E2E5B3-2064-4AA6-B68F-A57CCE365120"><span class="italic">DEFAULT_TEMP_TABLESPACE</span></p>
                  <p><a id="d307847e1598" class="indexterm-anchor"></a><a id="d307847e1604" class="indexterm-anchor"></a>使用此子句可以创建默认的共享临时表空间或默认的本地临时表空间。Oracle数据库将为这些临时表空间分配您未指定不同临时表空间的任何用户。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">DEFAULT</code> <code class="codeph">TEMPORARY</code> <code class="codeph">TABLESPACE</code>以为数据库创建默认的共享临时表空间。先前版本的Oracle数据库中提供了共享临时表空间，称为“临时表空间”。在本指南的其他地方，术语“临时表空间”指的是共享临时表空间，除非另有说明。如果未指定此子句，并且数据库在创建本地管理的<code class="codeph">SYSTEM</code>表空间的过程中未自动创建默认的共享临时表空间，则<code class="codeph">SYSTEM</code>表空间是默认的共享临时表空间。
                        </p>
                     </li>
                     <li>
                        <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，您可以指定<code class="codeph">DEFAULT</code> <code class="codeph">LOCAL</code> <code class="codeph">TEMPORARY</code> <code class="codeph">TABLESPACE</code>来创建默认的本地临时表空间。本地临时表空间对Oracle Real Application Clusters和Oracle Flex Clusters非常有用。它们为每个数据库实例存储一个单独的非共享临时文件，这可以提高I / O性能。本地临时表空间必须是<code class="codeph">BIGFILE</code>表空间。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>指定<code class="codeph">FOR</code> <code class="codeph">ALL</code>以指示数据库为所有HUB和LEAF节点创建单独的非共享临时文件。
                              </p>
                           </li>
                           <li>
                              <p>指定<code class="codeph">FOR</code> <code class="codeph">LEAF</code>以指示数据库仅为LEAF节点创建单独的非共享临时文件。如果指定此子句，则HUB节点将使用默认的共享临时表空间。对于跨越HUB和LEAF节点的SQL操作，HUB节点将使用默认的共享临时表空间，LEAF节点将使用默认的本地临时表空间。
                              </p>
                           </li>
                        </ul>
                        <p>如果不创建本地临时表空间，则HUB和LEAF节点将使用默认的共享临时表空间。</p>
                     </li>
                  </ul>
                  <p>指定<code class="codeph">BIGFILE</code>或<code class="codeph">SMALLFILE</code>以确定默认临时表空间是bigfile还是smallfile表空间。这些子句具有与<span class="q">“ <a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2177341">SET DEFAULT TABLESPACE子句</a> ”中</span>相同的语义。
                  </p>
                  <p>如果已通过设置<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数启用了Oracle托管文件，则此子句的<code class="codeph">TEMPFILE</code>子句部分是可选的。如果尚未为此参数指定值，则需要<code class="codeph">TEMPFILE</code>子句。如果已指定<code class="codeph">BIGFILE</code> ，则可以在此子句中仅指定一个临时文件。
                  </p>
                  <p>指定临时表空间的临时文件的语法与使用<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>语句创建临时表空间期间指定临时文件的语法相同，无论是使用Oracle ASM还是在文件系统中存储文件。
                  </p>
                  <p><span class="italic"><code class="codeph">extent_management_clause</code></span>子句在<code class="codeph">CREATE</code> <code class="codeph">DATABASE</code>和<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>语句中具有相同的语义。有关完整信息，请参阅<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code> ... <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2063392">extent_management_clause</a></span> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-B95A774F-8F57-4840-8A69-35BC902D3C7D">
                     <p class="notep1">也可以看看：</p>
                     <p>有关指定临时文件的信息，请<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9">创建TABLESPACE</a></p>
                  </div>
                  <div class="infoboxnote" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-ED0837AA-0A9D-4AE5-B6B3-31336FA0C7AF">
                     <p class="notep1">注意：</p>
                     <p>在某些操作系统上，在实际访问临时文件块之前，Oracle不会为临时文件分配空间。空间分配的这种延迟导致更快地创建和调整临时文件的大小，但是当稍后使用临时文件时，它需要足够的磁盘空间。为避免潜在问题，在创建临时文件或调整其大小之前，请确保可用磁盘空间超过新临时文件的大小或调整大小的临时文件的大小。多余的空间应该允许不相关的操作预期增加磁盘空间的使用。然后继续创建或调整大小操作。</p>
                  </div>
                  <p><span class="bold">默认临时表空间的限制</span></p>
                  <p>默认临时表空间受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能在此子句中指定<code class="codeph">SYSTEM</code>表空间。
                        </p>
                     </li>
                     <li>
                        <p>默认临时表空间必须具有标准块大小。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-5DFC840F-BA48-44C1-8207-1703B870C83A"><span class="italic">UNDO_TABLESPACE</span></p>
                  <p>如果已在自动撤消模式下打开实例（ <code class="codeph">UNDO_MANAGEMENT</code>初始化参数设置为<code class="codeph">AUTO</code> ，这是默认值），则可以指定<span class="italic"><code class="codeph">undo_tablespace</code></span>以创建用于撤消数据的表空间。Oracle强烈建议您使用自动撤消模式。但是，如果要通过回滚段处理撤消空间管理，则必须省略此子句。如果已为<code class="codeph">UNDO_TABLESPACE</code>初始化参数设置了值，则也可以省略此子句。如果已设置该参数，并且指定了此子句，则<span class="italic"><code class="codeph">tablespace</code></span>必须与该参数值相同。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果希望undo表空间是bigfile表空间，请指定<code class="codeph">BIGFILE</code> 。<span class="bold">bigfile</span> <span class="bold">表空间</span>只包含一个数据文件，最大可达8艾字节（800万兆兆字节）。
                        </p>
                     </li>
                     <li>
                        <p>如果希望undo表空间为smallfile表空间，请指定<code class="codeph">SMALLFILE</code> 。<span class="bold">smallfile</span> <span class="bold">表空间</span>是传统的Oracle数据库表空间，可以包含1022个数据文件或临时文件，每个文件最多可包含大约4百万（2 <sup>22</sup> ）个块。
                        </p>
                     </li>
                     <li>
                        <p>如果通过设置<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数启用了Oracle Managed Files，则此子句的<code class="codeph">DATAFILE</code>子句部分是可选的。如果尚未为此参数指定值，则需要<code class="codeph">DATAFILE</code>子句。如果已指定<code class="codeph">BIGFILE</code> ，则可以在此子句中仅指定一个数据文件。
                        </p>
                     </li>
                  </ul>
                  <p>无论是使用Oracle ASM还是在文件系统中存储文件，为使用<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>语句创建表空间期间指定数据文件的语法都与指定撤消表空间的数据文件的语法相同。
                  </p>
                  <div class="infoboxnotealso" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-9D6486E1-CA60-421D-B4D6-1AD1554966E0">
                     <p class="notep1">也可以看看：</p>
                     <p>有关指定数据文件的信息，请<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9">创建TABLESPACE</a></p>
                  </div>
                  <p>如果指定此子句，则Oracle数据库会创建名为<span class="italic"><code class="codeph">tablespace</code></span>的撤消表<span class="italic"><code class="codeph">tablespace</code></span> ，将指定的数据文件作为撤消表空间的一部分创建，并将此表空间指定为实例的撤消表空间。Oracle数据库将使用此撤消表空间管理撤消数据。此子句的<code class="codeph">DATAFILE</code>子句与<span class="q">“ <a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2150088">DATAFILE子句</a> ”中</span>描述的行为相同。
                  </p>
                  <p>如果在装入数据库之前在初始化参数文件中为<code class="codeph">UNDO_TABLESPACE</code>初始化参数指定了值，则必须在此子句中指定相同的名称。如果这些名称不同，则Oracle Database将在您打开数据库时返回错误。
                  </p>
                  <p>如果省略此子句，则Oracle数据库会创建一个默认数据库，其中包含名为<code class="codeph">SYS_UNDOTBS</code>的默认小文件撤消表空间，并将此默认表空间指定为实例的撤消表空间。此撤消表空间从<code class="codeph">CREATE</code> <code class="codeph">DATABASE</code>语句使用的缺省文件中分配磁盘空间，其初始范围为10M。 Oracle数据库处理系统生成的数据文件，如<span class="q">“ <a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2150088">DATAFILE子句</a> ”中所述</span> 。如果Oracle数据库无法创建撤消表空间，则整个<code class="codeph">CREATE</code> <code class="codeph">DATABASE</code>操作将失败。
                  </p>
                  <div class="infoboxnotealso" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-1E49F612-8F63-47EE-BBBF-67D18FC43F4A">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关自动撤消管理和撤消表空间的信息，请参见<a href="../admin/managing-undo.html#ADMIN013" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关在创建数据库后创建撤消表空间的信息，请创建<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9">TABLESPACE</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2082011">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-F8F1FADC-7AC5-4C7F-B397-07D114386DDE"><span class="italic">set_time_zone_clause</span></p>
                  <p>使用<code class="codeph">SET</code> <code class="codeph">TIME_ZONE</code>子句设置数据库的时区。您可以通过两种方式指定时区：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>通过指定UTC的位移（协调世界时 - 以前的格林威治标准时间）。<span class="italic"><code class="codeph">hh:mi</code></span>的有效范围是-12：00到+14：00。
                        </p>
                     </li>
                     <li>
                        <p>通过指定时区区域。要查看有效时区区域名称列表，请查询<code class="codeph">V$TIMEZONE_NAMES</code>动态性能视图的<code class="codeph">TZNAME</code>列。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-37D11125-EA85-4EBF-8F83-90AADB83E48B">
                     <p class="notep1">注意：</p>
                     <p>Oracle建议您将数据库时区设置为UTC（ <code class="codeph">0:00</code> ）。这样做可以提高性能，尤其是跨数据库，因为不需要转换时区。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-B9D7448D-6D5D-45A3-8E9F-80DBA6382670">
                     <p class="notep1">也可以看看：</p>
                     <p>有关动态性能视图的信息，请参阅<a href="../refrn/dynamic-performance-views.html#REFRN003" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                  </div>
                  <p>当数据存储在磁盘上时，Oracle数据库将所有<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>数据规范化为数据库的时区。如果未指定<code class="codeph">SET</code> <code class="codeph">TIME_ZONE</code>子句，则数据库使用服务器的操作系统时区。如果操作系统时区不是有效的Oracle数据库时区，则数据库时区默认为UTC。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-4EB2A207-B66D-47C8-924B-C8EB30802AA6">USER_DATA TABLESPACE子句</p>
                  <p>此子句允许您创建用于存储用户数据和数据库选项（如Oracle XML DB）的表空间。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果在创建多租户容器数据库（CDB）时指定此子句，则表空间将作为种子的一部分创建。随后使用种子创建的可插入数据库（PDB）将包括此表空间及其数据文件。根目录不使用此子句中指定的表空间和数据文件。</p>
                     </li>
                     <li>
                        <p>如果在创建非CDB时指定此子句，则表空间将作为非CDB的一部分创建。</p>
                     </li>
                  </ul>
                  <p>指定<code class="codeph">BIGFILE</code>或<code class="codeph">SMALLFILE</code>以确定表空间是bigfile还是smallfile表空间。如果省略这些子句，则Oracle数据库会创建使用<code class="codeph">SET</code> <code class="codeph">DEFAULT</code> <code class="codeph">TABLESPACE</code>子句指定的类型的表空间。如果未指定<code class="codeph">SET</code> <code class="codeph">DEFAULT</code> <code class="codeph">TABLESPACE</code>子句，则Oracle数据库会创建一个smallfile表空间。这些子句具有与<span class="q">“ <a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__I2177341">SET DEFAULT TABLESPACE子句</a> ”中</span>相同的语义。
                  </p>
                  <p>使用<span class="italic"><code class="codeph">datafile_tempfile_spec</code></span>子句为表空间指定一个或多个数据文件。有关此子句的完整语义，请参阅<span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__I1030551">datafile_tempfile_spec</a></span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-08CC19B5-6CAE-44AA-BE68-23B8C067EF23"><span class="italic">enable_pluggable_database</span></p>
                  <p><a id="d307847e2018" class="indexterm-anchor"></a><a id="d307847e2022" class="indexterm-anchor"></a>指定此子句以创建CDB。在发出<code class="codeph">CREATE</code> <code class="codeph">DATABASE</code>语句之前，必须将<code class="codeph">ENABLE_PLUGGABLE_DATABASE</code>初始化参数设置为<code class="codeph">TRUE</code> 。 <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code>语句将创建一个包含根和种子容器的CDB。然后，您可以使用<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句在CDB中创建PDB。如果省略<span class="italic"><code class="codeph">enable_pluggable_database</code></span>子句，则会创建非CDB，并且它永远不会包含任何容器。
                  </p>
                  <div class="infoboxnotealso" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-32D1D7CF-0429-4931-B34D-51015200A005">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关创建CDB的完整步骤的<a href="../multi/creating-and-configuring-a-cdb.html#ADMIN13514" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a></p>
                        </li>
                        <li>
                           <p><a href="CREATE-PLUGGABLE-DATABASE.html#GUID-F2DBA8DD-EEA8-4BB7-A07F-78DC04DB1FFC">创建可插入的数据库</a></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__BGEDGEGE">创建CDB：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-B06F0DDE-3AE4-489E-9EF3-E730CA04806B"><span class="italic">file_name_convert</span></p>
                  <p>使用<span class="italic"><code class="codeph">file_name_convert</code></span>子句确定数据库如何使用与根关联的文件名生成与种子关联的文件名（如数据文件和钱包文件）。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于<span class="italic"><code class="codeph">filename_pattern</code></span> ，请指定在与根关联的文件名中找到的字符串。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">replacement_filename_pattern</code></span> ，请指定替换字符串。
                        </p>
                     </li>
                  </ul>
                  <p>在生成与种子关联的文件的名称时，Oracle数据库将使用<span class="italic"><code class="codeph">replacement_filename_pattern</code></span>替换<span class="italic"><code class="codeph">filename_pattern</code></span> 。
                  </p>
                  <p>文件名模式与Oracle Managed Files管理的文件或目录不匹配。</p>
                  <p>您可以指定<code class="codeph">FILE_NAME_CONVERT</code> <code class="codeph">=</code> <code class="codeph">NONE</code> ，这与省略此子句相同。如果省略此子句，则数据库首先尝试使用Oracle Managed Files生成种子文件名。如果您未使用Oracle Managed Files，则数据库使用<code class="codeph">PDB_FILE_NAME_CONVERT</code>初始化参数来生成文件名。如果未设置此参数，则会发生错误。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-1387B6B4-AC78-496D-A4A7-EAEFADE1AF1B"><span class="italic">tablespace_datafile_clauses</span></p>
                  <p>使用这些子句为种子PDB中包含<code class="codeph">SYSTEM</code>和<code class="codeph">SYSAUX</code>表空间的所有数据文件指定属性。如果未指定<code class="codeph">SIZE</code> <span class="italic"><code class="codeph">size_clause</code></span> ，则给定表空间的数据文件大小将设置为相应根数据文件大小的预定部分。如果未指定<span class="italic"><code class="codeph">autoextend_clause</code></span> ，那么这些值将从根继承。
                  </p>
                  <p>有关这些子句的完整语义，请参阅<span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517">size_clause</a></span>和<span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__CJAJIHDC">autoextend_clause</a></span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__UNDO_MODE_CLAUSE-53B363BB">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-5F73440C-3CD4-4442-AF49-85730E8970B3"><span class="italic">undo_mode_clause</span></p>
                  <p>此子句允许您为CDB指定本地撤消模式或共享撤消模式。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用<code class="codeph">LOCAL</code> <code class="codeph">UNDO</code> <code class="codeph">ON</code>为CDB指定本地撤消模式。在此模式下，CDB中的每个容器都使用本地撤消。
                        </p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">LOCAL</code> <code class="codeph">UNDO</code> <code class="codeph">OFF</code>指定CDB的共享撤消模式。在此模式下，单实例CDB有一个活动的撤消表空间，或者对于Oracle RAC CDB，每个实例都有一个活动的撤消表空间。
                        </p>
                     </li>
                  </ul>
                  <p>如果省略此子句，则默认为<code class="codeph">LOCAL</code> <code class="codeph">UNDO</code> <code class="codeph">OFF</code> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-A3C151A8-7AEC-45A6-B57E-FF6046A97F32">使用镜像复制</p>
                  <p>使用此子句使用由<span class="italic"><code class="codeph">mirror_name</code></span>标识的镜像副本的准备文件，使用<span class="italic"><code class="codeph">new_database_name</code></span>创建数据库。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__GUID-88B8EC14-4D41-4F28-B823-78D6C37755DE">例子</p>
                  <p><span class="bold">创建数据库：示例</span></p>
                  <p>以下语句创建数据库并完全指定每个参数：</p><pre class="oac_no_warn" dir="ltr">CREATE DATABASE示例CONTROLFILE REUSE LOGFILE GROUP 1（'diskx：log1.log'，'disky：log1.log'）SIZE 50K，GROUP 2（'diskx：log2.log'，'disky：log2.log'）SIZE 50K MAXLOGFILES 5 MAXLOGHISTORY 100 MAXDATAFILES 10 MAXINSTANCES 2 ARCHIVELOG CHARACTER SET AL32UTF8 NATIONAL CHARACTER SET AL16UTF16 DATAFILE'disk1：df1.dbf'AUTOEXTEND ON，'disk2：df2.dbf'AUTOEXTEND ON NEXT 10M MAXSIZE UNLIMITED DEFAULT TEMPORARY TABLESPACE temp_ts UNDO TABLESPACE undo_ts SET TIME_ZONE =' 02：00' ;</pre><p>此示例假定您已通过在初始化参数文件中指定<code class="codeph">DB_CREATE_FILE_DEST</code>参数的值来启用Oracle Managed Files。因此， <code class="codeph">DEFAULT</code> <code class="codeph">TEMPORARY</code> <code class="codeph">TABLESPACE</code>和<code class="codeph">UNDO</code> <code class="codeph">TABLESPACE</code>子句不需要文件规范。
                  </p>
                  <p id="GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C__BGEDGEGE"><span class="bold">创建CDB：示例</span></p>
                  <p>以下语句创建CDB <code class="codeph">newcdb</code> 。<code class="codeph">ENABLE PLUGGABLE DATABASE</code>子句指示正在创建CDB。CDB将包含根（ <code class="codeph">CDB$ROOT</code> ）和种子（ <code class="codeph">PDB$SEED</code> ）。所述<code class="codeph">FILE_NAME_CONVERT</code>子句指定为种子的文件名称将通过替换来生成<code class="codeph">/u01/app/oracle/oradata/newcdb</code>结合与所述相关联的根文件的名称<code class="codeph">/u01/app/oracle/oradata/pdbseed</code> 。
                  </p><pre class="oac_no_warn" dir="ltr">CREATE DATABASE newcdb由sys_password标识的USER SYS由system_password标识的用户系统LOGFILE GROUP 1（'/ u01 / logs / my / red01a.log'，'/ u02 / logs / my / red01b.log'）SIZE 100M BLOCKSIZE 512，GROUP 2 （'/ u01/logs/my/redo02a.log','/u02/logs/my/redo02b.log'）SIZE 100M BLOCKSIZE 512，GROUP 3（'/ u01 / logs / my / redo03a.log'，'/ u02 / logs / my / redo03b.log'）SIZE 100M BLOCKSIZE 512 MAXLOGHISTORY 1 MAXLOGFILES 16 MAXLOGMEMBERS 3 MAXDATAFILES 1024 CHARACTER SET AL32UTF8 NATIONAL CHARACTER SET AL16UTF16 EXTENT MANAGEMENT LOCAL DATAFILE'/u01/app/oracle/oradata/newcdb/system01.dbf' SIZE 700M REUSE AUTOEXTEND ON NEXT 10240K MAXSIZE UNLIMITED SYSAUX DATAFILE'/u01/app/oracle/oradata/newcdb/sysaux01.dbf'SIZE 550M REUSE AUTOEXTEND ON NEXT 10240K MAXSIZE UNLIMITED DEFAULT TABLESPACE deftbs DATAFILE'/ u01 / app / oracle / oradata / newcdb / deftbs01.dbf'SIZE 500M REUSE AUTOEXTEND ON MAXSIZE UNLIMITED DEFAULT TEMPORARY TABLESPACE tempts1 TEMPFILE'/u01/app/oracle/oradata/newcdb/temp01.dbf'SIZE 20M REUSE AUTOEXTEN D ON NEXT 640K MAXSIZE UNLIMITED UNDO TABLESPACE undotbs1 DATAFILE'/u01/app/oracle/oradata/newcdb/undotbs01.dbf'SIZE 200M REUSE AUTOEXTEND ON NEXT 5120K MAXSIZE UNLIMITED ENABLE PLABGABLE SEATED FILE_NAME_CONVERT =（'/ u01 / app / oracle / oradata / newcdb /'，'/ u01 / app / oracle / oradata / pdbseed /'）SYSTEM DATAFILES SIZE 125M AUTOEXTEND ON NEXT 10M MAXSIZE UNLIMITED SYSAUX DATAFILES SIZE 100M USER_DATA TABLESPACE usertbs DATAFILE'/ u01 / app / oracle / oradata / pdbseed / usertbs01.dbf'SIZE 200M REUSE AUTOEXTEND MAXSIZE UNLIMITED;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="13263.editing-topologies.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Node and edge data in a topology can be edited. The operations include adding, moving, and removing nodes and edges, and updating the coordinates of an edge."></meta>
      <meta name="description" content="Node and edge data in a topology can be edited. The operations include adding, moving, and removing nodes and edges, and updating the coordinates of an edge."></meta>
      <title>编辑拓扑</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Topology Data Model and Network Data Model Graph Developer&#39;s Guide"></meta>
      <meta property="og:description" content="Node and edge data in a topology can be edited. The operations include adding, moving, and removing nodes and edges, and updating the coordinates of an edge."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Topology Data Model and Network Data Model Graph Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-topology-data-model-and-network-data-model-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T12:24:53-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94802-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="topology-data-model-overview.html" title="Previous" type="text/html"></link>
      <link rel="next" href="SDO_TOPO-reference.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Topology Data Model and Network Data Model Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="TOPOL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="topology-data-model-overview.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="SDO_TOPO-reference.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">拓扑数据模型和网络数据模型图开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="topology-data-model.html" property="item" typeof="WebPage"><span property="name">拓扑数据模型</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">编辑拓扑</li>
            </ol>
            <a id="GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA" name="GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA"></a><a id="TOPOL150"></a>
            
            <h2 id="TOPOL-GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA" class="sect2"><span class="enumeration_chapter">2</span>编辑拓扑</h2>
         </header>
         <div class="ind">
            <div>
               <p>可以编辑拓扑中的节点和边缘数据。这些操作包括添加，移动和删除节点和边，以及更新边的坐标。</p>
               <p>本章介绍了编辑拓扑数据的两种方法，并解释了为什么在大多数情况下，一种方法（创建和使用特殊缓存）更好。它还描述了一些主要类型的编辑操作的行为和含义。</p>
               <p>本章中的解释主要涉及MDSYS.SDO_TOPO_MAP包中提供的PL / SQL应用程序编程接口（API），该程序包记录在<a href="SDO_TOPO_MAP-reference.html#GUID-7DDDFF77-C1B6-43A3-8F7A-684F03B4F0F0" title="MDSYS.SDO_TOPO_MAP包中包含子程序（函数和过程），这些子程序构成了空间和图形拓扑数据模型功能的PL / SQL应用程序编程接口（API）的一部分。">SDO_TOPO_MAP包子程序中</a> 。但是，您也可以使用客户端Java API执行拓扑编辑操作，该API在<a href="topology-data-model-overview.html#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">拓扑数据模型Java接口中</a>引入，并在Javadoc生成的文档中进行了解释。
               </p>
               <p>要编辑拓扑数据，请始终使用PL / SQL或Java API。不要尝试通过直接修改节点，边或面信息表来执行编辑操作。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="editing-topologies.html#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF">编辑拓扑数据的方法</a><br>无论何时需要编辑拓扑，都可以使用PL / SQL或Java API。在这两种情况下，Oracle Spatial and Graph都使用内存中的拓扑缓存，特别是TopoMap对象。
                  </li>
                  <li class="ulchildlink"><a href="editing-topologies.html#GUID-FC9B2AC9-2B65-4327-91F6-893A4EAC2A40">在节点上执行操作</a><br>本主题包含描述添加，移动和删除节点的效果的部分，以及解释如何使用PL / SQL API执行这些操作的部分。</li>
                  <li class="ulchildlink"><a href="editing-topologies.html#GUID-48615C1B-6AAA-4088-B575-B9183737931C">在边缘上执行操作</a><br>本主题描述添加，移动，删除和更新边的效果，并说明如何使用PL / SQL API执行这些操作。</li>
               </ul>
               <div class="infoboxnotealso" id="GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA__GUID-C12E4D8E-997B-4CD2-B58D-1D07018310E2">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="topology-data-model-overview.html#GUID-C9C61D47-EE18-42E8-BC46-984CC8322566">跨模式拓扑编辑</a></p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="topology-data-model.html#GUID-568DB747-C605-43E8-A8B4-8FA268B9D687" title="本部分介绍Oracle Spatial and Graph的拓扑数据模型功能。">拓扑数据模型</a></p>
                  </div>
               </div>
            </div>
            <a id="TOPOL792"></a><div class="props_rev_3"><a id="GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF" name="GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF"></a><h3 id="TOPOL-GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF" class="sect3"><span class="enumeration_section">2.1</span>编辑拓扑数据的方法</h3>
               <div>
                  <div><span>无论何时需要编辑拓扑，都可以使用PL / SQL或Java API。在这两种情况下，Oracle Spatial and Graph都使用内存中的拓扑缓存，特别是TopoMap对象。</span> （ <a href="editing-topologies.html#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects中</a>描述了<a href="editing-topologies.html#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">此对象</a> 。）
                  </div>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果使用PL / SQL API，则可以显式创建和使用缓存，也可以允许Spatial和Graph自动创建和使用缓存。</p>
                     </li>
                     <li>
                        <p>如果使用Java API，则必须显式创建并使用缓存。</p>
                     </li>
                  </ul>
                  <p>允许Spatial和Graph自动创建和管理缓存更简单，因为它比创建和使用缓存涉及更少的步骤。但是，由于允许Spatial和Graph创建和管理缓存涉及更多的数据库活动和磁盘访问，因此当您需要编辑多个拓扑元素时效率较低。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap对象</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B">使用拓扑参数指定编辑方法</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">使用GET_xxx拓扑函数</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-787B4DAE-DE0B-4D0B-9DA2-4690EDCB97AB">显式使用缓存编辑的过程（PL / SQL API）</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-E6572550-0C53-422B-BE94-51E8F07AC138">使用Java API进行编辑的过程</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-C909018F-4031-48DF-8EAB-81F4152B90CD">拓扑编辑的错误处理</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA" title="可以编辑拓扑中的节点和边缘数据。这些操作包括添加，移动和删除节点和边，以及更新边的坐标。">编辑拓扑</a></p>
                     </div>
                  </div>
               </div>
               <a id="TOPOL793"></a><div class="props_rev_3"><a id="GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87" name="GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87"></a><h4 id="TOPOL-GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87" class="sect4"><span class="enumeration_section">2.1.1</span> TopoMap对象</h4>
                  <div>
                     <p><span class="bold">TopoMap对象</span>与与拓扑关联的内存高速缓存关联。如果显式创建并使用缓存来编辑拓扑，则必须创建要与拓扑关联的TopoMap对象，将全部或部分拓扑加载到缓存中，编辑对象，定期更新拓扑以将更改写入数据库，提交缓存中所做的更改，并清除缓存。
                     </p>
                     <p>尽管此方法涉及的步骤多于允许Spatial和Graph自动创建和使用缓存，但对于大多数拓扑编辑会话而言，它通常会影响数百或数千个拓扑元素，因此速度更快，效率更高。这是大多数解释和插图中显示的方法。</p>
                     <p><a id="d13818e223" class="indexterm-anchor"></a><a id="d13818e227" class="indexterm-anchor"></a><a id="d13818e231" class="indexterm-anchor"></a><a id="d13818e233" class="indexterm-anchor"></a> TopoMap对象可以是可更新的或只读的，具体取决于调用<a href="SDO_TOPO_MAP-reference.html#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>函数或过程时<code class="codeph">allow_updates</code>参数的值：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用只读TopoMap对象，加载拓扑元素（基元）但不锁定。</p>
                        </li>
                        <li>
                           <p>使用可更新的TopoMap对象，可以加载和锁定拓扑元素（基元）。如果为可更新的TopoMap对象指定了矩形窗口，则只能编辑指定窗口内的拓扑元素。（TopoMap对象还可能包含您无法直接编辑的锁定拓扑元素，但Oracle Spatial和Graph可以根据需要间接修改。）</p>
                           <p>有关使用可更新的TopoMap对象时发生的情况的更多信息，请参阅<a href="SDO_TOPO_MAP-reference.html#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>函数或过程的使用说明。
                           </p>
                        </li>
                     </ul>
                     <p>以下过程将可更新的TopoMap对象设置为只读：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="SDO_TOPO_MAP-reference.html#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a></p>
                        </li>
                        <li>
                           <p><a href="SDO_TOPO_MAP-reference.html#GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a></p>
                        </li>
                        <li>
                           <p><a href="SDO_TOPO_MAP-reference.html#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a></p>
                        </li>
                     </ul>
                     <p>在任何给定时间的用户会话中，只能有一个可更新的TopoMap对象。但是，多个不同的用户会话可以使用基于相同拓扑的可更新TopoMap对象，只要它们的编辑窗口不包含任何其他可更新TopoMap对象中的任何拓扑元素。用户会话内和跨用户会话可以有多个只读TopoMap对象。</p>
                     <p>只要编辑窗口（在调用<a href="SDO_TOPO_MAP-reference.html#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>函数或过程中指定）不重叠，两个或多个用户就可以同时编辑拓扑。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF" title="无论何时需要编辑拓扑，都可以使用PL / SQL或Java API。在这两种情况下，Oracle Spatial and Graph都使用内存中的拓扑缓存，特别是TopoMap对象。">编辑拓扑数据的方法</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL794"></a><div class="props_rev_3"><a id="GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B" name="GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B"></a><h4 id="TOPOL-GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B" class="sect4"><span class="enumeration_section">2.1.2</span>使用拓扑参数指定编辑方法</h4>
                  <div>
                     <p>对于许多编辑拓扑的SDO_TOPO_MAP包函数和过程，例如<a href="SDO_TOPO_MAP-reference.html#GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2">SDO_TOPO_MAP.ADD_NODE</a>或<a href="SDO_TOPO_MAP-reference.html#GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC">SDO_TOPO_MAP.MOVE_EDGE</a> ，通过为第一个参数指定拓扑名称或空值来指示您用于编辑的方法，该参数名为<code class="codeph">topology</code> ：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果指定拓扑名称，则Spatial和Graph将检查用户会话中是否已存在可更新的TopoMap对象;如果不存在，Spatial和Graph将创建一个内部TopoMap对象，使用该缓存执行编辑操作，提交更改（如果发生异常，则在流程开始时将更改回滚到保存点），并删除TopoMap对象。（如果已存在可更新的TopoMap对象，则会引发异常。）例如，以下语句从<code class="codeph">MY_TOPO</code>拓扑中删除节点ID值为99的节点：</p><pre class="oac_no_warn" dir="ltr">CALL SDO_TOPO_MAP.REMOVE_NODE（'MY_TOPO'，99）;</pre></li>
                        <li>
                           <p>如果指定空值，则Spatial和Graph将检查用户会话中是否已存在可更新的TopoMap对象;如果确实存在，Spatial和Graph将在TopoMap对象的缓存中执行操作。（如果不存在可更新的TopoMap对象，则会引发异常。）例如，以下语句从当前可更新的TopoMap对象中删除节点ID值为99的节点：</p><pre class="oac_no_warn" dir="ltr">CALL SDO_TOPO_MAP.REMOVE_NODE（null，99）;</pre></li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF" title="无论何时需要编辑拓扑，都可以使用PL / SQL或Java API。在这两种情况下，Oracle Spatial and Graph都使用内存中的拓扑缓存，特别是TopoMap对象。">编辑拓扑数据的方法</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL795"></a><div class="props_rev_3"><a id="GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB" name="GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB"></a><h4 id="TOPOL-GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB" class="sect4"><span class="enumeration_section">2.1.3</span>使用GET_xxx拓扑函数</h4>
                  <div>
                     <p>一些获取有关拓扑信息的SDO_TOPO_MAP包函数将<code class="codeph">topology</code>和<code class="codeph">topo_map</code>作为前两个参数。此类函数的示例是<a href="SDO_TOPO_MAP-reference.html#GUID-8579639E-B35B-4186-9AB5-A9C8CAE8D943">SDO_TOPO_MAP.GET_EDGE_COORDS</a>和<a href="SDO_TOPO_MAP-reference.html#GUID-FF02C5F8-CF94-4E91-AEE8-6E6067F07124">SDO_TOPO_MAP.GET_NODE_STAR</a> 。要使用这些函数，请为一个参数指定有效值，为另一个参数指定空值，如下所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果指定有效的<code class="codeph">topology</code>参数值，则Spatial和Graph将检索指定拓扑的信息。它创建一个内部TopoMap对象，使用该缓存执行操作，并删除TopoMap对象。例如，以下语句返回<code class="codeph">CITY_DATA</code>拓扑中ID值为1的边的边坐标：</p><pre class="oac_no_warn" dir="ltr">SELECT SDO_TOPO_MAP.GET_EDGE_COORDS（'CITY_DATA'，null，1）FROM DUAL;</pre></li>
                        <li>
                           <p>如果指定空<code class="codeph">topology</code>参数值和有效的<code class="codeph">topo_map</code>参数值，则Spatial和Graph将使用指定的TopoMap对象（可以更新或只读）来检索指定拓扑的信息。例如，以下语句从<code class="codeph">CITY_DATA_TOPOMAP</code> TopoMap对象返回ID值为1的边的边坐标：</p><pre class="oac_no_warn" dir="ltr">SELECT SDO_TOPO_MAP.GET_EDGE_COORDS（null，'CITY_DATA_TOPOMAP'，1）FROM DUAL;</pre></li>
                        <li>
                           <p>如果为<code class="codeph">topology</code>和<code class="codeph">topo_map</code>参数指定null或invalid值，则会引发异常。
                           </p>
                        </li>
                     </ul>
                     <p>获取有关拓扑编辑操作的信息的某些SDO_TOPO_MAP包函数没有参数。此类函数的示例是<a href="SDO_TOPO_MAP-reference.html#GUID-83435605-07A4-4BAD-A77B-B7BB1F2A54B9">SDO_TOPO_MAP.GET_FACE_ADDITIONS</a>和<a href="SDO_TOPO_MAP-reference.html#GUID-0FEF9A33-788D-4BE1-B93D-489B873EF5B5">SDO_TOPO_MAP.GET_NODE_CHANGES</a> 。这些函数使用当前可更新的TopoMap对象。如果不存在可更新的TopoMap对象，则会引发异常。例如，以下语句返回SDO_NUMBER_ARRAY对象（在<a href="topology-data-model-overview.html#GUID-CC31A2D6-2225-492F-B930-B8C438E28E3B">SDO_EDGE_ARRAY和SDO_NUMBER_ARRAY类型中</a>描述），其中包含已添加到当前可更新TopoMap对象的节点的节点ID值：</p><pre class="oac_no_warn" dir="ltr">从DUAL中选择SDO_TOPO_MAP.GET_NODE_ADDITIONS;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF" title="无论何时需要编辑拓扑，都可以使用PL / SQL或Java API。在这两种情况下，Oracle Spatial and Graph都使用内存中的拓扑缓存，特别是TopoMap对象。">编辑拓扑数据的方法</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL797"></a><a id="TOPOL796"></a><div class="props_rev_3"><a id="GUID-787B4DAE-DE0B-4D0B-9DA2-4690EDCB97AB" name="GUID-787B4DAE-DE0B-4D0B-9DA2-4690EDCB97AB"></a><h4 id="TOPOL-GUID-787B4DAE-DE0B-4D0B-9DA2-4690EDCB97AB" class="sect4"><span class="enumeration_section">2.1.4</span>显式使用缓存编辑的过程（PL / SQL API）</h4>
                  <div>
                     <p><a href="editing-topologies.html#GUID-787B4DAE-DE0B-4D0B-9DA2-4690EDCB97AB__CEGBBECG">图2-1</a>显示了使用PL / SQL API编辑拓扑元素并显式使用TopoMap对象及其关联缓存的推荐过程。
                     </p>
                     <div class="figure" id="GUID-787B4DAE-DE0B-4D0B-9DA2-4690EDCB97AB__CEGBBECG">
                        <p class="titleinfigure">图2-1使用TopoMap对象缓存（PL / SQL API）编辑拓扑</p><img width="568" src="img/topo_editing_plsql.gif" alt="下面描述图2-1" title="下面描述图2-1" longdesc="img_text/topo_editing_plsql.html"><br><a href="img_text/topo_editing_plsql.html">“图2-1使用TopoMap对象缓存（PL / SQL API）编辑拓扑”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a href="editing-topologies.html#GUID-787B4DAE-DE0B-4D0B-9DA2-4690EDCB97AB__CEGBBECG">如图2-1</a>所示，基本顺序如下：</p>
                     <ol>
                        <li>
                           <p>使用<a href="SDO_TOPO_MAP-reference.html#GUID-846D5683-FCFD-4BBB-8969-47B41ADAEE0D">SDO_TOPO_MAP.CREATE_TOPO_MAP</a>过程创建TopoMap对象。
                           </p>
                           <p>这将创建一个内存高速缓存，用于编辑与指定拓扑关联的对象。</p>
                        </li>
                        <li>
                           <p>使用<a href="SDO_TOPO_MAP-reference.html#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>函数或过程将整个拓扑或矩形窗口从拓扑加载到TopoMap对象缓存中以进行更新。
                           </p>
                           <p>您可以指定在正在加载的边和面上构建内存中的R树索引。这些索引使用一些内存资源，需要一些时间来创建和定期重建;但是，如果在会话中编辑大量拓扑元素，它们可以显着提高性能。（它们还可以提高使用只读TopoMap对象的查询的性能。）</p>
                        </li>
                        <li>
                           <p>执行许多拓扑编辑操作（例如，添加1000个节点）。</p>
                           <p>定期通过调用<a href="SDO_TOPO_MAP-reference.html#GUID-0B1B7F60-E0C0-4D5F-9EF5-96EF14E4E4B1">SDO_TOPO_MAP.VALIDATE_TOPO_MAP</a>函数来验证缓存。
                           </p>
                           <p>您可以使用<a href="SDO_TOPO_MAP-reference.html#GUID-92DF4764-8E33-4854-B869-B6C67D163FE1">SDO_TOPO_MAP.CREATE_EDGE_INDEX</a>和<a href="SDO_TOPO_MAP-reference.html#GUID-CDE0AF3B-444A-4C93-B4F9-B77E0D04FCB5">SDO_TOPO_MAP.CREATE_FACE_INDEX</a>过程在TopoMap对象的边和面上重建现有的内存中R树索引，或者如果不存在则创建新索引。为了获得最佳索引性能，在编辑大量拓扑元素时，应定期重建这些索引。
                           </p>
                           <p>如果要放弃在缓存中进行的编辑，请调用<a href="SDO_TOPO_MAP-reference.html#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>过程。如果有任何未提交的更新，此过程将失败;否则，它清除缓存中的数据并将缓存设置为只读。
                           </p>
                        </li>
                        <li>
                           <p>通过调用<a href="SDO_TOPO_MAP-reference.html#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>过程来更新拓扑。
                           </p>
                        </li>
                        <li>
                           <p>根据需要，重复步骤3和4（编辑对象，验证缓存，重建R树索引以及更新拓扑），直到完成拓扑编辑操作。</p>
                        </li>
                        <li>
                           <p>通过调用<a href="SDO_TOPO_MAP-reference.html#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>过程来提交拓扑更改。（ <a href="SDO_TOPO_MAP-reference.html#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>过程在提交更改之前自动执行<a href="SDO_TOPO_MAP-reference.html#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>过程的操作。）在提交操作之后，缓存变为只读（即，它不再可更新）。但是，如果要使用相同的TopoMap对象执行进一步的编辑操作，可以再次加载并使用它（即，重复步骤2到5，必要时首先清除缓存）。
                           </p>
                           <p>要执行进一步的编辑操作，请通过调用<a href="SDO_TOPO_MAP-reference.html#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>过程清除TopoMap对象缓存，然后转到步骤2。
                           </p>
                           <p>如果要放弃所有未提交的拓扑更改，可以随时调用<a href="SDO_TOPO_MAP-reference.html#GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>过程。在回滚操作之后，清除缓存。
                           </p>
                        </li>
                        <li>
                           <p>通过调用<a href="SDO_TOPO_MAP-reference.html#GUID-48216A60-21E7-4DFB-8AE9-D1C8D50EE6DA">SDO_TOPO_MAP.DROP_TOPO_MAP</a>过程删除TopoMap对象。
                           </p>
                           <p>此过程将删除TopoMap对象并释放它已使用的所有资源。（如果您忘记删除TopoMap对象，则会在用户会话结束时自动删除它。）此过程还会回滚缓存中尚未提交的任何拓扑更改。</p>
                           <p>如果应用程序异常终止，则将丢弃对数据库的所有未提交的更改。</p>
                        </li>
                     </ol>
                     <p>如果计划执行大量拓扑编辑操作，则可以在多个编辑会话之间划分操作，每个编辑会话执行前面列表中的步骤1到7。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF" title="无论何时需要编辑拓扑，都可以使用PL / SQL或Java API。在这两种情况下，Oracle Spatial and Graph都使用内存中的拓扑缓存，特别是TopoMap对象。">编辑拓扑数据的方法</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL799"></a><a id="TOPOL798"></a><div class="props_rev_3"><a id="GUID-E6572550-0C53-422B-BE94-51E8F07AC138" name="GUID-E6572550-0C53-422B-BE94-51E8F07AC138"></a><h4 id="TOPOL-GUID-E6572550-0C53-422B-BE94-51E8F07AC138" class="sect4"><span class="enumeration_section">2.1.5</span>使用Java API进行编辑的过程</h4>
                  <div>
                     <p><a href="editing-topologies.html#GUID-E6572550-0C53-422B-BE94-51E8F07AC138__CEGHDDBF">图2-2</a>显示了使用客户端Java API编辑拓扑元素的推荐过程，该API在<a href="topology-data-model-overview.html#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">拓扑数据模型Java接口中</a>引入，并在Javadoc生成的文档中进行了解释。Java API要求您创建和管理TopoMap对象及其关联的缓存。
                     </p>
                     <div class="figure" id="GUID-E6572550-0C53-422B-BE94-51E8F07AC138__CEGHDDBF">
                        <p class="titleinfigure">图2-2使用TopoMap对象缓存（Java API）编辑拓扑</p><img width="533" src="img/topo_editing_java.gif" alt="下面是图2-2的描述" title="下面是图2-2的描述" longdesc="img_text/topo_editing_java.html"><br><a href="img_text/topo_editing_java.html">“图2-2使用TopoMap对象缓存（Java API）编辑拓扑”的说明</a></div>
                     <!-- class="figure" -->
                     <p><a href="editing-topologies.html#GUID-E6572550-0C53-422B-BE94-51E8F07AC138__CEGHDDBF">如图2-2</a>所示，基本顺序如下：</p>
                     <ol>
                        <li>
                           <p>使用<code class="codeph">TopoMap</code>类的构造函数创建TopoMap对象，指定拓扑和数据库连接。
                           </p>
                           <p>这将创建一个内存高速缓存，用于编辑与指定拓扑关联的对象。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">TopoMap</code>类的<code class="codeph">loadTopology</code>或<code class="codeph">loadWindow</code>方法将整个拓扑或矩形窗口从拓扑加载到TopoMap对象缓存中以进行更新。
                           </p>
                           <p>您可以指定在受影响的边缘和边缘面上构建内存中的R树索引。这些索引使用一些内存资源，需要一些时间来创建和定期重建;但是，如果在数据库连接期间编辑大量拓扑元素，它们可以显着提高性能。</p>
                        </li>
                        <li>
                           <p>执行许多拓扑编辑操作（例如，添加1000个节点），并通过调用<code class="codeph">TopoMap</code>类的<code class="codeph">updateTopology</code>方法更新拓扑。
                           </p>
                           <p>定期通过调用<code class="codeph">TopoMap</code>类的<code class="codeph">validateCache</code>方法验证缓存。
                           </p>
                           <p>如果在加载TopoMap对象时创建了内存中的R树索引（在步骤2中），则可以定期（例如，在每次添加100个节点之后）通过调用<code class="codeph">createEdgeIndex</code>和<code class="codeph">createFaceIndex</code>方法重建索引。 <code class="codeph">TopoMap</code>类。为了获得最佳索引性能，在编辑大量拓扑元素时，应定期重建这些索引。
                           </p>
                           <p>如果您不想更新拓扑但希望放弃自上次更新以来在缓存中进行的编辑，请调用<code class="codeph">TopoMap</code>类的<code class="codeph">clearCache</code>方法。如果有任何未提交的更新， <code class="codeph">clearCache</code>方法将失败;否则，它清除缓存中的数据并将缓存设置为只读。
                           </p>
                        </li>
                        <li>
                           <p>通过调用<code class="codeph">TopoMap</code>类的<code class="codeph">updateTopology</code>方法更新拓扑。
                           </p>
                        </li>
                        <li>
                           <p>根据需要，重复步骤3和4（编辑对象，验证缓存，重建R树索引以及更新拓扑），直到完成拓扑编辑操作。</p>
                        </li>
                        <li>
                           <p>通过调用<code class="codeph">TopoMap</code>类的<code class="codeph">commitDB</code>方法来提交拓扑更改。（ <code class="codeph">commitDB</code>方法在提交更改之前会自动调用<code class="codeph">updateTopology</code>方法。）在提交操作之后，缓存变为只读（即，它不再可更新）。但是，如果要使用相同的TopoMap对象执行进一步的编辑操作，可以再次加载并使用它（即，重复步骤2到5，必要时首先清除缓存）。
                           </p>
                           <p>要执行进一步的编辑操作，请通过调用<code class="codeph">TopoMap</code>类的<code class="codeph">clearCache</code>方法清除TopoMap对象缓存，然后转到步骤2。
                           </p>
                           <p>如果要放弃所有未提交的拓扑更改，可以随时调用<code class="codeph">TopoMap</code>类的<code class="codeph">rollbackDB</code>方法。在回滚操作之后，清除缓存。
                           </p>
                        </li>
                        <li>
                           <p>通过将TopoMap对象设置为null来删除TopoMap对象，这使该对象可用于垃圾回收并释放它已使用的任何资源。（如果您忘记删除TopoMap对象，它将在应用程序结束时自动进行垃圾回收。）</p>
                           <p>如果应用程序异常终止，则将丢弃对数据库的所有未提交的更改。</p>
                        </li>
                     </ol>
                     <p>如果计划执行大量拓扑编辑操作，则可以在多个编辑会话之间划分操作，每个编辑会话执行前面列表中的步骤1到7。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF" title="无论何时需要编辑拓扑，都可以使用PL / SQL或Java API。在这两种情况下，Oracle Spatial and Graph都使用内存中的拓扑缓存，特别是TopoMap对象。">编辑拓扑数据的方法</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL800"></a><div class="props_rev_3"><a id="GUID-C909018F-4031-48DF-8EAB-81F4152B90CD" name="GUID-C909018F-4031-48DF-8EAB-81F4152B90CD"></a><h4 id="TOPOL-GUID-C909018F-4031-48DF-8EAB-81F4152B90CD" class="sect4"><span class="enumeration_section">2.1.6</span>拓扑编辑的错误处理</h4>
                  <div>
                     <p>本节讨论以下条件。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="editing-topologies.html#GUID-A9CD95C6-F639-40E8-9B0E-DE1BEBE357BB">输入参数错误</a><br></li>
                        <li class="ulchildlink"><a href="editing-topologies.html#GUID-DBEA9CB9-EDCC-4416-B0A6-9B2A83CE2EA5">所有例外情况</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF" title="无论何时需要编辑拓扑，都可以使用PL / SQL或Java API。在这两种情况下，Oracle Spatial and Graph都使用内存中的拓扑缓存，特别是TopoMap对象。">编辑拓扑数据的方法</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TOPOL801"></a><div class="props_rev_3"><a id="GUID-A9CD95C6-F639-40E8-9B0E-DE1BEBE357BB" name="GUID-A9CD95C6-F639-40E8-9B0E-DE1BEBE357BB"></a><h5 id="TOPOL-GUID-A9CD95C6-F639-40E8-9B0E-DE1BEBE357BB" class="sect5"><span class="enumeration_section">2.1.6.1</span>输入参数错误</h5>
                     <div>
                        <p>当调用<code class="codeph">TopoMap</code> Java类中的SDO_TOPO_MAP PL / SQL子程序或公共方法时，它会验证输入参数的值，并使用或创建TopoMap对象来执行编辑或只读操作。每当出现输入错误时，都会出现<code class="codeph">oracle.spatial.topo.抛出了TopoDataException</code>异常。当底层TopoMap对象执行操作时，可能会发生其他错误。
                        </p>
                        <p>如果从SQL或PL / SQL调用该方法，则调用方将收到以下错误消息：</p><pre class="oac_no_warn" dir="ltr">ORA-29532：Java调用因未捕获的Java异常而终止：&lt;特定错误消息文本&gt;</pre><p>以下PL / SQL示例显示了如何处理<code class="codeph">TopoDataException</code>异常：</p><pre class="oac_no_warn" dir="ltr">DECLARE topo_data_error EXCEPTION; PRAGMA EXCEPTION_INIT（topo_data_error，-29532）; BEGIN sdo_topo_map.create_topo_map（null，null，100,100,100）; topo_data_error那么EXMSPTION DBMS_OUTPUT.PUT_LINE（SQLERRM）;结束;/</pre><p>上面的示例生成以下输出：</p><pre class="oac_no_warn" dir="ltr">ORA-29532：Java调用因未捕获的Java异常终止：oracle.spatial.topo。TopoDataException：TopoMap名称无效</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-C909018F-4031-48DF-8EAB-81F4152B90CD">拓扑编辑的错误处理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TOPOL802"></a><div class="props_rev_3"><a id="GUID-DBEA9CB9-EDCC-4416-B0A6-9B2A83CE2EA5" name="GUID-DBEA9CB9-EDCC-4416-B0A6-9B2A83CE2EA5"></a><h5 id="TOPOL-GUID-DBEA9CB9-EDCC-4416-B0A6-9B2A83CE2EA5" class="sect5"><span class="enumeration_section">2.1.6.2</span>所有例外情况</h5>
                     <div>
                        <p>在对<code class="codeph">TopoMap</code> Java类中的任何以下SDO_TOPO_MAP PL / SQL子程序或其相关方法的调用中发生任何异常时，将自动执行以下操作： <a href="SDO_TOPO_MAP-reference.html#GUID-D3945002-582C-484A-8D86-F20CF35C4555">SDO_TOPO_MAP.ADD_EDGE</a> （ <code class="codeph">addEdge</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-7752EB56-41C8-4180-8C85-920B8E1A831A">SDO_TOPO_MAP.ADD_ISOLATED_NODE</a> （ <code class="codeph">addIsolatedNode</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-D25D7695-9ABE-4087-93B7-A11E4A760027">SDO_TOPO_MAP.ADD_LOOP</a> （ <code class="codeph">addLoop</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2">SDO_TOPO_MAP.ADD_NODE</a> （ <code class="codeph">addNode</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-F469AC4E-0985-483F-A9FB-A3C2D22DD488">SDO_TOPO_MAP.ADD_POINT_GEOMETRY</a> （ <code class="codeph">addPointGeometry</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-3D557747-2249-4BAF-B3C8-3D4A6CA80876">SDO_TOPO_MAP.ADD_POLYGON_GEOMETRY</a> （ <code class="codeph">addPolygonGeometry</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-785884A2-4894-469B-B272-10E480F9EFC9">SDO_TOPO_MAP.CHANGE_EDGE_COORDS</a> （ <code class="codeph">changeEdgeCoords</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-7D9214F5-D127-4A34-B34C-A1F4D807564E">SDO_TOPO_MAP.MOVE_ISOLATED_NODE</a> （ <code class="codeph">moveIsolatedNode</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-5A836D8B-A319-46F2-B644-E845D6B804B9">SDO_TOPO_MAP.MOVE_NODE</a> （ <code class="codeph">moveNode</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC">SDO_TOPO_MAP.MOVE_EDGE</a> （ <code class="codeph">moveEdge</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-B3C764F7-A021-4FBC-9ACB-ABB748DB1971">SDO_TOPO_MAP.REMOVE_EDGE</a> （ <code class="codeph">removeEdge</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-087936D6-3E29-4598-9B86-A340C112F81C">SDO_TOPO_MAP.REMOVE_NODE</a> （ <code class="codeph">removeNode</code> ）和<a href="SDO_TOPO_MAP-reference.html#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> （ <code class="codeph">updateTopology</code> ）。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>该事务被回滚。</p>
                           </li>
                           <li>
                              <p>TopoMap对象缓存已清除。</p>
                           </li>
                           <li>
                              <p>TopoMap对象是只读的。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-C909018F-4031-48DF-8EAB-81F4152B90CD">拓扑编辑的错误处理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="TOPOL803"></a><div class="props_rev_3"><a id="GUID-FC9B2AC9-2B65-4327-91F6-893A4EAC2A40" name="GUID-FC9B2AC9-2B65-4327-91F6-893A4EAC2A40"></a><h3 id="TOPOL-GUID-FC9B2AC9-2B65-4327-91F6-893A4EAC2A40" class="sect3"><span class="enumeration_section">2.2</span>在节点上执行操作</h3>
               <div>
                  <p>本主题包含描述添加，移动和删除节点的效果的部分，以及解释如何使用PL / SQL API执行这些操作的部分。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61">添加节点</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B">移动节点</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867">删除节点</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-723A45B4-D759-4807-8A30-081552D0C8DF">删除过时的节点</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA" title="可以编辑拓扑中的节点和边缘数据。这些操作包括添加，移动和删除节点和边，以及更新边的坐标。">编辑拓扑</a></p>
                     </div>
                  </div>
               </div>
               <a id="TOPOL805"></a><a id="TOPOL806"></a><a id="TOPOL804"></a><div class="props_rev_3"><a id="GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61" name="GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61"></a><h4 id="TOPOL-GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61" class="sect4"><span class="enumeration_section">2.2.1</span>添加节点</h4>
                  <div>
                     <p>添加非隔离节点会将节点添加到当前位于边缘的点处的边缘。此操作还会分割边缘，从而将原始边缘分成两条边。Spatial和Graph会自动调整原始边的定义并创建新边（为其指定一个在拓扑中的边之间唯一的ID值）。</p>
                     <p>要添加非隔离节点，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2">SDO_TOPO_MAP.ADD_NODE</a>函数。要添加隔离节点，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-7752EB56-41C8-4180-8C85-920B8E1A831A">SDO_TOPO_MAP.ADD_ISOLATED_NODE</a>函数。
                     </p>
                     <p><a href="editing-topologies.html#GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61__CEGCJDJE">图2-3</a>显示了在边缘E1上添加节点（N3）。
                     </p>
                     <div class="figure" id="GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61__CEGCJDJE">
                        <p class="titleinfigure">图2-3添加非隔离节点</p><img width="437" src="img/add_node.gif" alt="下面是图2-3的描述" title="下面是图2-3的描述" longdesc="img_text/add_node.html"><br><a href="img_text/add_node.html">“图2-3添加非隔离节点”的描述</a></div>
                     <!-- class="figure" -->
                     <p>由于操作如图<a href="editing-topologies.html#GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61__CEGCJDJE">2-3</a>所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>边缘E1被重新定义在原始边缘的起始点和添加节点（N3）的点之间。</p>
                        </li>
                        <li>
                           <p>边缘E2已创建。它的起始点是节点N3处的点，其终点是原始边缘的终点。</p>
                        </li>
                        <li>
                           <p>如果在原始边缘上定义了任何线性要素，则会自动将它们重新定义为在两个结果边缘上，分割边缘，并将记录添加到拓扑的历史信息表（在<a href="topology-data-model-overview.html#GUID-68020A3E-978F-4EB7-AAA8-8DABA17533BF">历史信息表中</a>进行说明）。例如，如果在<a href="editing-topologies.html#GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61__CEGCJDJE">图2-3中</a>的原始边缘E1上定义了名为Main Street的街道，则在添加节点N3之后，将在E1和E2的两个边缘上定义主街道。
                           </p>
                        </li>
                     </ul>
                     <p><a href="editing-topologies.html#GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61__CEGHJIEE">图2-4</a>显示了添加节点的更复杂示例，其中结果取决于添加的节点是否是原始边缘的新形状点（即，对于<code class="codeph">is_new_shape_point</code>参数的<a href="SDO_TOPO_MAP-reference.html#GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2">值</a>功能）。
                     </p>
                     <div class="figure" id="GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61__CEGHJIEE">
                        <p class="titleinfigure">图2-4 is_new_shape_point值对添加节点的影响</p><img width="439" src="img/add_node_2.gif" alt="下面是图2-4的描述" title="下面是图2-4的描述" longdesc="img_text/add_node_2.html"><br><a href="img_text/add_node_2.html">“图2-4 is_new_shape_point值对添加节点的影响”的描述</a></div>
                     <!-- class="figure" -->
                     <p>在<a href="editing-topologies.html#GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61__CEGHJIEE">图2-4中</a> ：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在图的顶部，原始边缘（E1）从节点N1开始，在节点N2处结束，并且具有两个中间形状点。</p>
                        </li>
                        <li>
                           <p>在图的中间部分，添加了一个新节点（N3），它不是原始边的形状点，而是一个新的形状点（即， <code class="codeph">is_new_shape_point=&gt;'TRUE'</code> ）。新节点添加在使用<code class="codeph">point</code>参数指定的位置，并在<code class="codeph">coord_index</code>参数中指定的顶点之后添加（在这种情况下， <code class="codeph">coord_index=&gt;1</code>以指示在第一个顶点之后）。新节点成为边缘E1的终端节点和新边缘E2的起始节点，新节点E2终止于节点N2。
                           </p>
                        </li>
                        <li>
                           <p>在图的底部，添加了新节点（N3），其是原始边缘的形状点，因此不是新的形状点（即， <code class="codeph">is_new_shape_point=&gt;'FALSE'</code> ）。因为它不是新的形状点，所以在使用<code class="codeph">coord_index</code>参数指定的顶点处添加节点（在这种情况下， <code class="codeph">coord_index=&gt;2</code> ）。如图的中间部分，新节点成为边缘E1的结束节点和新边缘E2的起始节点，其终止于节点N2。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-FC9B2AC9-2B65-4327-91F6-893A4EAC2A40" title="本主题包含描述添加，移动和删除节点的效果的部分，以及解释如何使用PL / SQL API执行这些操作的部分。">在节点上执行操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL808"></a><a id="TOPOL809"></a><a id="TOPOL810"></a><a id="TOPOL807"></a><div class="props_rev_3"><a id="GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B" name="GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B"></a><h4 id="TOPOL-GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B" class="sect4"><span class="enumeration_section">2.2.2</span>移动节点</h4>
                  <div>
                     <p>将非隔离节点移动到新位置会导致连接到节点的所有边的末端随节点移动。您必须为受节点移动影响的所有边指定顶点;附加到节点的每个点（开始或结束）必须与节点的新位置具有相同的坐标，并且每个受影响边缘的其他端点（不是移动的节点）必须保持不变。</p>
                     <p>要移动非隔离节点，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-5A836D8B-A319-46F2-B644-E845D6B804B9">SDO_TOPO_MAP.MOVE_NODE</a>过程。要移动隔离节点，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-7D9214F5-D127-4A34-B34C-A1F4D807564E">SDO_TOPO_MAP.MOVE_ISOLATED_NODE</a>过程。
                     </p>
                     <p><a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGHFDHJ">图2-5</a>显示了移动节点N1之前的原始拓扑。
                     </p>
                     <div class="figure" id="GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGHFDHJ">
                        <p class="titleinfigure">图2-5移动非隔离节点前的拓扑图</p><img width="208" src="img/move_node_1.gif" alt="下面是图2-5的描述" title="下面是图2-5的描述" longdesc="img_text/move_node_1.html"><br><a href="img_text/move_node_1.html">“图2-5移动非隔离节点之前的拓扑”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGCJDDC">图2-6</a>显示了移动节点N1后原始拓扑的两种情况。在一种情况下，不会发生重塑;也就是说，受运动影响的所有边都被指定为直线。在另一种情况下，重塑发生;也就是说，一个或多个受影响的边被指定为具有多个顶点的线段。
                     </p>
                     <div class="figure" id="GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGCJDDC">
                        <p class="titleinfigure">图2-6移动非隔离节点后的拓扑</p><img width="409" src="img/move_node_2b.gif" alt="下面是图2-6的描述" title="下面是图2-6的描述" longdesc="img_text/move_node_2b.html"><br><a href="img_text/move_node_2b.html">“图2-6移动非隔离节点后的拓扑”的描述</a></div>
                     <!-- class="figure" -->
                     <p>在<a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGCJDDC">图2-6</a>所示的两种情况下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>拓扑不会改变。也就是说，节点，边和面的数量不会改变，并且节点，边和面之间的关系（例如邻接和连接）不会改变。</p>
                        </li>
                        <li>
                           <p>节点，边和面上定义的所有要素都保留其定义。</p>
                        </li>
                     </ul>
                     <p>由于在非隔离节点上的移动操作，任何孤立的节点和边缘可能保留在同一面中或移动到不同的面。<a href="SDO_TOPO_MAP-reference.html#GUID-5A836D8B-A319-46F2-B644-E845D6B804B9">SDO_TOPO_MAP.MOVE_NODE</a>过程有两个输出参数， <code class="codeph">moved_iso_nodes</code>和<code class="codeph">moved_iso_edges</code> ，它们存储由于操作而移动到不同面的任何隔离节点和边的ID号。
                     </p>
                     <p>如果由于移动而导致以下任何一种情况发生，则无法移动节点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>连接到节点的任何边都将与任何其他边相交。例如，假设<a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGCJDDC">图2-6</a>中<a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGCJDDC">所示</a>的原始拓扑包括在节点N1的正上方和右侧通过的另一个边缘E20。如果节点N1的移动将导致边缘E3，E4，E6，E8或E9与边缘E20相交，则不执行移动操作。
                           </p>
                        </li>
                        <li>
                           <p>节点将移动到当前未绑定节点的面。例如，如果节点N1的移动将其置于<a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGCJDDC">图2-6</a>所示的原始拓扑之外，则不执行移动操作。
                           </p>
                        </li>
                        <li>
                           <p>节点将移动到隔离面的相对侧。这是不允许的，因为移动会通过更改以下一项或多项来更改拓扑：面部周围边缘的关系或顺序，以及每条边缘的左右面。<a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGDACBI">图2-7</a>显示了不允许的节点移动（从隔离面F1的一侧向另一侧翻转节点N1）。
                           </p>
                           <div class="figure" id="GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGDACBI">
                              <p class="titleinfigure">图2-7不允许节点移动</p><img width="413" src="img/flip_node.gif" alt="下面是图2-7的描述" title="下面是图2-7的描述" longdesc="img_text/flip_node.html"><br><a href="img_text/flip_node.html">“图2-7不允许节点移动”的描述</a></div>
                           <!-- class="figure" -->
                        </li>
                     </ul>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="editing-topologies.html#GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4">允许和不允许的节点移动的其他示例</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-FC9B2AC9-2B65-4327-91F6-893A4EAC2A40" title="本主题包含描述添加，移动和删除节点的效果的部分，以及解释如何使用PL / SQL API执行这些操作的部分。">在节点上执行操作</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TOPOL812"></a><a id="TOPOL811"></a><div class="props_rev_3"><a id="GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4" name="GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4"></a><h5 id="TOPOL-GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4" class="sect5"><span class="enumeration_section">2.2.2.1</span>允许和不允许的节点移动的其他示例</h5>
                     <div>
                        <p>本节提供允许或不允许的节点移动操作的其他示例。全部参考<a href="editing-topologies.html#GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4__CEGBEJIF">图2-8</a>中<a href="editing-topologies.html#GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4__CEGBEJIF">所示</a>的拓扑。
                        </p>
                        <div class="figure" id="GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4__CEGBEJIF">
                           <p class="titleinfigure">图2-8节点移动示例拓扑</p><img width="259" src="img/node_moves_several.gif" alt="下面是图2-8的描述" title="下面是图2-8的描述" longdesc="img_text/node_moves_several.html"><br><a href="img_text/node_moves_several.html">“图2-8节点移动示例拓扑”的说明</a></div>
                        <!-- class="figure" -->
                        <p>在<a href="editing-topologies.html#GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4__CEGBEJIF">图2-8</a>所示的拓扑中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将尝试将节点N1移动到点P1，P2，P3和P4。（这些点是位置，但不是现有节点。）</p>
                           </li>
                           <li>
                              <p>在移动操作之前或之后，边缘没有形状点。</p>
                           </li>
                           <li>
                              <p>为边缘E1，E2，E3和E4指定新顶点，但边缘的起点和终点的ID值保持不变。</p>
                           </li>
                        </ul>
                        <p>使用<a href="editing-topologies.html#GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4__CEGBEJIF">图2-8</a>中<a href="editing-topologies.html#GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4__CEGBEJIF">所示</a>的拓扑尝试以下节点移动操作时，会出现以下结果：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将节点N1移动到点P1：不允许，因为四个附加边中的一个或多个将与边E5相交。（如果允许移动，边缘E3肯定会与边缘E5相交。）</p>
                           </li>
                           <li>
                              <p>将节点N1移动到点P2：允许。</p>
                           </li>
                           <li>
                              <p>将节点N1移动到点P3：允许。然而，该操作使得隔离节点N2从面F2变为面F1，这可能导致应用程序想要回退或不允许节点N1的移动。类似地，如果节点的移动会导致任何孤立的边或面从一个面改变到另一个面，则应用程序可能希望回滚或禁止节点移动操作。</p>
                           </li>
                           <li>
                              <p>将节点N1移动到点P4：不允许，因为必须将节点移动到界定节点原始（当前）位置的面中的点。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B">移动节点</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="TOPOL814"></a><a id="TOPOL813"></a><div class="props_rev_3"><a id="GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867" name="GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867"></a><h4 id="TOPOL-GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867" class="sect4"><span class="enumeration_section">2.2.3</span>删除节点</h4>
                  <div>
                     <p>您可以删除单个节点（隔离或非隔离），如本节中所述，您可以删除拓扑中的所有过时节点，如<a href="editing-topologies.html#GUID-723A45B4-D759-4807-8A30-081552D0C8DF">删除过时节点中所述</a> 。
                     </p>
                     <p>删除非隔离节点会删除节点，并将附加到节点的边合并为单个边。（空间和图形应用复杂的规则，未记录，以确定结果边缘的ID值和方向。）</p>
                     <p>要删除非隔离或隔离的节点，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-087936D6-3E29-4598-9B86-A340C112F81C">SDO_TOPO_MAP.REMOVE_NODE</a>过程。
                     </p>
                     <p><a href="editing-topologies.html#GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867__CEGCDECG">图2-9</a>显示了连接到边缘E1和E2的节点（N1）的移除。
                     </p>
                     <div class="figure" id="GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867__CEGCDECG">
                        <p class="titleinfigure">图2-9拆除非隔离节点</p><img width="437" src="img/delete_node.gif" alt="下面是图2-9的描述" title="下面是图2-9的描述" longdesc="img_text/delete_node.html"><br><a href="img_text/delete_node.html">“图2-9删除非隔离节点”的描述</a></div>
                     <!-- class="figure" -->
                     <p>由于<a href="editing-topologies.html#GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867__CEGCDECG">图2-9</a>所示的操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>边缘E1被重新定义为由表示原始边缘E1和E2的线段组成。</p>
                        </li>
                        <li>
                           <p>边缘E2被删除。</p>
                        </li>
                        <li>
                           <p>如果在两个原始边缘上定义了任何线性要素，则会自动将它们重新定义为在结果边缘上，并将记录添加到拓扑的历史信息表（在<a href="topology-data-model-overview.html#GUID-68020A3E-978F-4EB7-AAA8-8DABA17533BF">历史信息表中说明</a> ）中。例如，如果在<a href="editing-topologies.html#GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867__CEGCDECG">图2-9中</a>的原始边缘E1和E2上定义了名为Main Street的街道，则在移除节点N1之后，将在边缘E1上定义主街道。
                           </p>
                        </li>
                     </ul>
                     <p>如果满足以下一个或多个条件，则无法删除节点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在节点上定义点要素。例如，如果在<a href="editing-topologies.html#GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867__CEGCDECG">图2-9</a>中的节点N1上定义了名为Metropolitan Art Museum的点要素，则无法删除节点N1。在这种情况下，在删除节点之前，必须删除节点上任何点要素的定义。
                           </p>
                        </li>
                        <li>
                           <p>在两个边缘上也没有定义在原始边缘上定义的线性特征。例如，如果在<a href="editing-topologies.html#GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867__CEGCDECG">图2-9中</a>在边缘E1上定义了名为Main Street的线性特征而没有定义边缘E2，则无法移除节点N1。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-FC9B2AC9-2B65-4327-91F6-893A4EAC2A40" title="本主题包含描述添加，移动和删除节点的效果的部分，以及解释如何使用PL / SQL API执行这些操作的部分。">在节点上执行操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL816"></a><a id="TOPOL815"></a><div class="props_rev_3"><a id="GUID-723A45B4-D759-4807-8A30-081552D0C8DF" name="GUID-723A45B4-D759-4807-8A30-081552D0C8DF"></a><h4 id="TOPOL-GUID-723A45B4-D759-4807-8A30-081552D0C8DF" class="sect4"><span class="enumeration_section">2.2.4</span>删除过时的节点</h4>
                  <div>
                     <p><span class="bold">过时节点</span>是仅连接到两个不同边的节点，未分配给任何点要素，并且不用作不同线性要素之间的分界。当重复使用<a href="SDO_TOPO_MAP-reference.html#GUID-3D557747-2249-4BAF-B3C8-3D4A6CA80876">SDO_TOPO_MAP.ADD_POLYGON_GEOMETRY</a>函数构建拓扑时，或者在编辑操作期间删除了边缘时，会产生过时的节点，从而留下一些不必要的节点。因此，建议您在这种情况下使用<a href="SDO_TOPO_MAP-reference.html#GUID-6C17F5AA-0233-475B-BB32-0094E9C7C182">SDO_TOPO_MAP.REMOVE_OBSOLETE_NODES</a>过程删除过时的节点。
                     </p>
                     <p>Spatial和Graph会自动更新&lt;topology-name&gt; _NODE $和&lt;topology-name&gt; _EDGE $表中的相应条目，并在必要时更新&lt;topology-name&gt; _FACE $表中的相应条目。</p>
                     <p><a href="editing-topologies.html#GUID-723A45B4-D759-4807-8A30-081552D0C8DF__CEGCIIAA">图2-10</a>显示了在简单拓扑中删除过时节点。在此拓扑中，节点N1上定义了名为Art Museum的点要素，节点N3在其上定义了名为Town Hall的点要素。边缘E1，E2和E3具有在其上定义的名为Main Street的线性特征，边缘E4具有在其上定义的名为First Avenue的线性特征。
                     </p>
                     <div class="figure" id="GUID-723A45B4-D759-4807-8A30-081552D0C8DF__CEGCIIAA">
                        <p class="titleinfigure">图2-10删除过时的节点</p><img width="440" src="img/delete_obsolete_nodes.gif" alt="下面是图2-10的描述" title="下面是图2-10的描述" longdesc="img_text/delete_obsolete_nodes.html"><br><a href="img_text/delete_obsolete_nodes.html">“图2-10删除过时节点”的说明</a></div>
                     <!-- class="figure" -->
                     <p>在<a href="editing-topologies.html#GUID-723A45B4-D759-4807-8A30-081552D0C8DF__CEGCIIAA">图2-10中</a> ，唯一删除的节点是N2，因为只有该节点满足过时节点的所有条件。至于其他节点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>N1仅连接到一个边缘（E1），并且在其上定义了点特征（美术馆）。</p>
                        </li>
                        <li>
                           <p>N3上有一个点特征（市政厅）。</p>
                        </li>
                        <li>
                           <p>N4是两个不同线性特征（主街和第一大道）之间的界限。</p>
                        </li>
                        <li>
                           <p>N5仅连接到一条边（E4）。</p>
                        </li>
                        <li>
                           <p>节点N6是隔离节点（未连接到任何边缘）。</p>
                        </li>
                     </ul>
                     <p>同样，作为<a href="editing-topologies.html#GUID-723A45B4-D759-4807-8A30-081552D0C8DF__CEGCIIAA">图2-10</a>中<a href="editing-topologies.html#GUID-723A45B4-D759-4807-8A30-081552D0C8DF__CEGCIIAA">所示</a>的操作的结果，由于节点N2的移除，边缘E2被移除。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-FC9B2AC9-2B65-4327-91F6-893A4EAC2A40" title="本主题包含描述添加，移动和删除节点的效果的部分，以及解释如何使用PL / SQL API执行这些操作的部分。">在节点上执行操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TOPOL817"></a><div class="props_rev_3"><a id="GUID-48615C1B-6AAA-4088-B575-B9183737931C" name="GUID-48615C1B-6AAA-4088-B575-B9183737931C"></a><h3 id="TOPOL-GUID-48615C1B-6AAA-4088-B575-B9183737931C" class="sect3"><span class="enumeration_section">2.3</span>对边缘执行操作</h3>
               <div>
                  <p>本主题描述添加，移动，删除和更新边的效果，并说明如何使用PL / SQL API执行这些操作。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-C9D44B8A-6D3E-4179-822D-5BB8EB82A364">添加边缘</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447">移动边缘</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6">删除边缘</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-CB25F5C8-6F22-44FB-8107-367BFA327C4D">更新边缘</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA" title="可以编辑拓扑中的节点和边缘数据。这些操作包括添加，移动和删除节点和边，以及更新边的坐标。">编辑拓扑</a></p>
                     </div>
                  </div>
               </div>
               <a id="TOPOL819"></a><a id="TOPOL818"></a><div class="props_rev_3"><a id="GUID-C9D44B8A-6D3E-4179-822D-5BB8EB82A364" name="GUID-C9D44B8A-6D3E-4179-822D-5BB8EB82A364"></a><h4 id="TOPOL-GUID-C9D44B8A-6D3E-4179-822D-5BB8EB82A364" class="sect4"><span class="enumeration_section">2.3.1</span>添加边缘</h4>
                  <div>
                     <p>添加非隔离边缘会将边缘添加到面部。它还会分割脸部，使原始脸部分为两个脸部。Spatial和Graph会自动调整原始面的定义并创建一个新面（为其指定一个在拓扑中的面之间唯一的ID值）。</p>
                     <p>要添加边缘，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-D3945002-582C-484A-8D86-F20CF35C4555">SDO_TOPO_MAP.ADD_EDGE</a>过程。您必须将现有节点指定为添加边的起始节点和结束节点。
                     </p>
                     <p><a href="editing-topologies.html#GUID-C9D44B8A-6D3E-4179-822D-5BB8EB82A364__CEGFGGBC">图2-11</a>显示了在面F3上节点N3和N5之间添加边（E7）。
                     </p>
                     <div class="figure" id="GUID-C9D44B8A-6D3E-4179-822D-5BB8EB82A364__CEGFGGBC">
                        <p class="titleinfigure">图2-11添加非隔离边缘</p><img width="468" src="img/add_edge.gif" alt="下面是图2-11的描述" title="下面是图2-11的描述" longdesc="img_text/add_edge.html"><br><a href="img_text/add_edge.html">“图2-11添加非隔离边”的说明</a></div>
                     <!-- class="figure" -->
                     <p>作为<a href="editing-topologies.html#GUID-C9D44B8A-6D3E-4179-822D-5BB8EB82A364__CEGFGGBC">图2-11</a>所示操作的结果，面F3被重新定义为两个面F1和F3。（空间和图形应用复杂的规则，未记录，以确定结果面的ID值。）
                     </p>
                     <p>在原始面上定义的任何面要素都会自动重新定义为在两个结果面上。例如，如果在<a href="editing-topologies.html#GUID-C9D44B8A-6D3E-4179-822D-5BB8EB82A364__CEGFGGBC">图2-11中</a>的原始面F3上定义了一个名为Walden State Park的公园，那么在添加边缘E7之后，将在面部F1和F3上定义Walden州立公园。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-48615C1B-6AAA-4088-B575-B9183737931C" title="本主题描述添加，移动，删除和更新边的效果，并说明如何使用PL / SQL API执行这些操作。">对边执行操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL821"></a><a id="TOPOL820"></a><div class="props_rev_3"><a id="GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447" name="GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447"></a><h4 id="TOPOL-GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447" class="sect4"><span class="enumeration_section">2.3.2</span>移动边缘</h4>
                  <div>
                     <p>移动非隔离边缘将边缘的起点或终点保持在相同位置，并将这两个点中的另一个移动到另一个现有节点位置。您必须指定源节点（移动要移动的节点之前的位置），目标节点（移动移动节点后的位置）以及移动边缘的顶点。</p>
                     <p>要移动边缘，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC">SDO_TOPO_MAP.MOVE_EDGE</a>过程。
                     </p>
                     <p><a href="editing-topologies.html#GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447__CEGEGBHJ">图2-12</a>显示了最初在节点N3和N5之间的边缘E7在节点N2和N5之间的移动。
                     </p>
                     <div class="figure" id="GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447__CEGEGBHJ">
                        <p class="titleinfigure">图2-12移动非隔离边缘</p><img width="468" src="img/move_edge.gif" alt="下面是图2-12的描述" title="下面是图2-12的描述" longdesc="img_text/move_edge.html"><br><a href="img_text/move_edge.html">“图2-12移动非隔离边缘”的描述</a></div>
                     <!-- class="figure" -->
                     <p>作为<a href="editing-topologies.html#GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447__CEGEGBHJ">图2-12</a>所示操作的结果，面F1和F3会自动重新定义以反映其边的坐标，包括边E7的新坐标。
                     </p>
                     <p>由于在非隔离边缘上的移动操作，任何孤立的节点和边缘可能保留在同一面中或移动到不同的面。<a href="SDO_TOPO_MAP-reference.html#GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC">SDO_TOPO_MAP.MOVE_EDGE</a>过程有两个输出参数， <code class="codeph">moved_iso_nodes</code>和<code class="codeph">moved_iso_edges</code> ，它们存储由于操作而移动到不同面的任何隔离节点和边的ID号。
                     </p>
                     <p>如果由于移动而发生以下任何一种情况，则无法移动边缘：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>移动的边缘将与任何其他边缘相交。例如，假设移动前的拓扑（ <a href="editing-topologies.html#GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447__CEGEGBHJ">如图2-12</a>所示）包含了节点N3和N4之间的另一条边（E10）。在这种情况下，边缘E7的移动将使其与边缘E10相交，因此不执行移动操作。
                           </p>
                        </li>
                        <li>
                           <p>节点将移动到当前未绑定边缘的面。例如，如果边缘E7的移动将其终止点放置在<a href="editing-topologies.html#GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447__CEGEGBHJ">图2-12</a> （F1和F3）中<a href="editing-topologies.html#GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447__CEGEGBHJ">所示</a>的面之外的节点处，则不执行移动操作。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-48615C1B-6AAA-4088-B575-B9183737931C" title="本主题描述添加，移动，删除和更新边的效果，并说明如何使用PL / SQL API执行这些操作。">对边执行操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL823"></a><a id="TOPOL822"></a><div class="props_rev_3"><a id="GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6" name="GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6"></a><h4 id="TOPOL-GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6" class="sect4"><span class="enumeration_section">2.3.3</span>删除边缘</h4>
                  <div>
                     <p>移除非隔离边将删除边并合并边界的边。（Spatial和Graph应用未记录的复杂规则来确定结果面的ID值。）</p>
                     <p>要删除边缘，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-B3C764F7-A021-4FBC-9ACB-ABB748DB1971">SDO_TOPO_MAP.REMOVE_EDGE</a>过程。
                     </p>
                     <p><a href="editing-topologies.html#GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6__CEGCFABJ">图2-13</a>显示了由面F1和F3限定的边缘（E7）的移除。
                     </p>
                     <div class="figure" id="GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6__CEGCFABJ">
                        <p class="titleinfigure">图2-13删除非隔离边缘</p><img width="468" src="img/delete_edge.gif" alt="下面是图2-13的描述" title="下面是图2-13的描述" longdesc="img_text/delete_edge.html"><br><a href="img_text/delete_edge.html">“图2-13删除非隔离边”的说明</a></div>
                     <!-- class="figure" -->
                     <p>由于操作如图<a href="editing-topologies.html#GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6__CEGCFABJ">2-13</a>所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>面F1被重新定义为由原始面F1和F3的面积组成。</p>
                        </li>
                        <li>
                           <p>面部F3被删除。</p>
                        </li>
                        <li>
                           <p>删除的边缘（节点N3和N5）的开始和结束节点不会被删除。</p>
                        </li>
                     </ul>
                     <p><a id="d13818e1887" class="indexterm-anchor"></a>在两个原始面上定义的任何面要素都会自动重新定义为在结果面上。例如，如果在<a href="editing-topologies.html#GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6__CEGCFABJ">图2-13中</a>的原始面F1和F3上定义了名为Adams Park的公园，则在移除边E7后，将在面F1上定义Adams Park。
                     </p>
                     <p>如果满足以下一个或多个条件，则无法删除非隔离边：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>边缘上定义了线性特征。例如，如果在<a href="editing-topologies.html#GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6__CEGCFABJ">图2-13</a>中的边缘E7上定义了名为Main Street的线性特征，则无法移除边E7。在这种情况下，在删除边缘之前，必须删除边缘上任何线性要素的定义。
                           </p>
                        </li>
                        <li>
                           <p>在两个面上也未定义在任一原始面上定义的面要素。例如，如果在<a href="editing-topologies.html#GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6__CEGCFABJ">图2-13中</a>在面F1上定义了名为Adams Park的线性特征而不是面F3，则无法移除边E7。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-48615C1B-6AAA-4088-B575-B9183737931C" title="本主题描述添加，移动，删除和更新边的效果，并说明如何使用PL / SQL API执行这些操作。">对边执行操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL824"></a><div class="props_rev_3"><a id="GUID-CB25F5C8-6F22-44FB-8107-367BFA327C4D" name="GUID-CB25F5C8-6F22-44FB-8107-367BFA327C4D"></a><h4 id="TOPOL-GUID-CB25F5C8-6F22-44FB-8107-367BFA327C4D" class="sect4"><span class="enumeration_section">2.3.4</span>更新边缘</h4>
                  <div>
                     <p>更新隔离边意味着更改边的一个或多个坐标，但不更改起点和终点。</p>
                     <p>要更新边缘，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-785884A2-4894-469B-B272-10E480F9EFC9">SDO_TOPO_MAP.CHANGE_EDGE_COORDS</a>过程。
                     </p>
                     <p>由于非隔离边缘上的更新操作，任何孤立的节点和边缘可能保留在同一面中或移动到不同的面。<a href="SDO_TOPO_MAP-reference.html#GUID-785884A2-4894-469B-B272-10E480F9EFC9">SDO_TOPO_MAP.CHANGE_EDGE_COORDS</a>过程有两个输出参数， <code class="codeph">moved_iso_nodes</code>和<code class="codeph">moved_iso_edges</code> ，它们存储由于操作而移动到不同面的任何隔离节点和边的ID号。
                     </p>
                     <p>如果作为操作的结果，它将与任何其他边相交，则不能更新边。有关更新边缘的详细信息，请参阅<a href="SDO_TOPO_MAP-reference.html#GUID-785884A2-4894-469B-B272-10E480F9EFC9">SDO_TOPO_MAP.CHANGE_EDGE_COORDS</a>过程的使用说明。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-48615C1B-6AAA-4088-B575-B9183737931C" title="本主题描述添加，移动，删除和更新边的效果，并说明如何使用PL / SQL API执行这些操作。">对边执行操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="02663.book-index.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>指数</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Enterprise User Security Administrator&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Enterprise User Security Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="enterprise-user-security-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:14:01-08:00"></meta>
      <meta name="dcterms.title" content="Enterprise User Security Administrator&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2000, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96086-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="glossary.html" title="Previous" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="DBIMI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="glossary.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="#" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li class="active" property="itemListElement" typeof="ListItem">指数</li>
            </ol>
            
            <h2 class="it">指数</h2>
         </header>
         <div class="ind">
            <div><a href="#A">A</a> <a href="#B">B</a> <a href="#C">C</a> <a href="#D">D</a> <a href="#E">E</a> <a href="#G">G</a> <a href="#I">I</a> <a href="#K">K</a> <a href="#L">L</a> <a href="#M">M</a> <a href="#N">N</a> <a href="#O">O</a> <a href="#P">P</a> <a href="#R">R</a> <a href="#S">S</a> <a href="#U">U</a> <a href="#V">V</a> <a href="#W">W</a> <a href="#X">X.</a>  
            </div>
            <div class="index-list">
               <div class="index-group"><a id="A"></a><hr>
                  <h2>一个</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">Active Directory集成<span class="index-term-targets"><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-D3F3FC53-D2D9-4480-9418-AB45C5520B8D" target="contentwin">1</a></span></li>
                     <li class="index-term">addDatabase<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-F0CA9275-34F0-4F56-9685-DEDC8102A6D1" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">addDBAdmin<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-4895B523-EBD0-46D9-89C4-040092BCD93B" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">addDomainAdmin<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-46B7286F-2A95-4FDC-BF3D-D674308C05DD" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">addGlobalRole<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-86099BC8-F419-4C6F-8897-C9F9AA0C15DC" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">addTargetUser<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-B73B9217-B378-4974-A9B1-B3B1033C8D07" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">addToPwdAccessibleDomains<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-563DCCB9-79EC-4BF4-A184-92FA48AB0D22" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="B"></a><hr>
                  <h2>乙</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">浏览器证书，与Oracle Wallet Manager <span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-CC81F215-0540-4441-AE7D-8BA8F872C5B2" target="contentwin">1一起使用</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="C"></a><hr>
                  <h2>C</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">集中管理的用户<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">使用Microsoft Active Directory <span class="index-term-targets"><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-AD9ACC84-D0EF-4281-8A9E-2916E5BA2AF4" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">证书<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">浏览器，与Oracle Wallet Manager <span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-CC81F215-0540-4441-AE7D-8BA8F872C5B2" target="contentwin">1一起使用</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">命令<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">命令摘要<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-F7EE1F6F-0821-4A1E-A22D-E03606D643BC" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                        </ul>
                     </li>
                     <li class="index-term">连接<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-FD26CF4A-BB46-4686-BA8E-96FB66472555" target="contentwin">1</a></span></li>
                     <li class="index-term">createAppcCtxUsers<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-81A808EC-2FF8-427B-B063-0FF83AA664BE" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">createAppCtxAttribute<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-F34B53FA-88E2-40EF-B852-F7D07CD7BD54" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">createAppCtxAttributeValue<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-ECC0077F-E97C-4AC3-B47A-C87531093218" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">createAppCtxNamespace<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-0A2D40A0-CDE2-4309-B478-CB6F999F2523" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">则createdomain<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-8264867F-4EEF-4D24-B25C-64F2D40E24E0" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">createMapping<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-CE75C45E-4BB1-4F74-8586-4EB2B2D433C1" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">createProxyPerm<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-F4EC7075-AF6D-4958-BB9F-D2968ABE8FA0" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">CREATEROLE<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-F7F4695E-25CD-45DA-B035-6CC59EC2500A" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="D"></a><hr>
                  <h2>d</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">数据库链接<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">RADIUS不受支持<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-7AC9B300-EF5C-4C04-8001-A8CF70FB1BEF" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">deleteAppcCtxUsers<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-726C8083-9FAC-4AC0-A929-A37395C86142" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">deleteAppCtxAttribute<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-0A40BDDE-0380-46E0-9BA9-895B013B9881" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">deleteAppCtxAttributeValue<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-6C7B6C82-EF5C-4BA1-82F1-C0EEF063C8EC" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">deleteAppCtxNamespace<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-2C906524-9C87-4362-95F2-A3F39BE1438A" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">deleteDomain<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-FD07051D-AB3A-4F65-B10A-2DFC64DF28B9" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">deleteMapping<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-CAA183F4-8828-4417-A969-9EBC29F5F2C2" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">deleteProxyPerm<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-A4F240C6-11A2-4F3D-AC75-2C6FA258BFAB" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">deleteRole<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-A53FF3F1-669C-4708-AB02-74AC16C78E30" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">直接整合<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">Microsoft Active Directory <span class="index-term-targets"><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-AD9ACC84-D0EF-4281-8A9E-2916E5BA2AF4" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">目录管理组<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">OracleContextAdmins <span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span></li>
                           <li class="index-term">OracleDBAdmins <span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span></li>
                           <li class="index-term">OracleDBCreators <span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span></li>
                           <li class="index-term">OracleDBSecurityAdmins <span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span></li>
                           <li class="index-term">OraclePasswordAccessibleDomains列表<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span></li>
                           <li class="index-term">OracleUserSecurityAdmins <span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="E"></a><hr>
                  <h2>Ë</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">企业用户安全<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">组件<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-51F42AD1-CF4A-4532-9F00-1A6452BCAA88" target="contentwin">1</a></span></li>
                           <li class="index-term">配置流程图<span class="index-term-targets"><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040" target="contentwin">1</a></span></li>
                           <li class="index-term">配置路线图<span class="index-term-targets"><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-04FF478D-6CE0-40F4-9890-E7B9B4C6C5CC" target="contentwin">1</a></span></li>
                           <li class="index-term">目录条目<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-C5CE376D-2FB1-4A5C-8B5E-D93585621205" target="contentwin">1</a></span></li>
                           <li class="index-term">企业域名<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-9008A678-0D2E-4B9F-AD4B-AAADE1727D42" target="contentwin">1</a></span></li>
                           <li class="index-term">企业角色<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-CF90B9D9-D7D5-4031-AF93-79222F21C7A9" target="contentwin">1</a></span></li>
                           <li class="index-term">企业用户<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-F9B2DE15-6EA1-4341-A029-606CBCF91928" target="contentwin">1</a></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">映射<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-39F27F3C-546B-4A15-A5BE-656C67C17326" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">全球角色<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-CF90B9D9-D7D5-4031-AF93-79222F21C7A9" target="contentwin">1</a></span></li>
                           <li class="index-term">概述<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-D6087241-59ED-40EE-A841-4D70A519AC67" target="contentwin">1</a></span></li>
                           <li class="index-term">共享模式<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-A4158887-5663-461E-AF7E-BB379314A466" target="contentwin">1</a></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">配置<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-2322228B-0331-427B-A252-FEA30EEA106F" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">工具总结<span class="index-term-targets"><a href="configuration-and-administration-tools-overview.html#GUID-3F851ACA-FAB6-4DD3-A2EB-76ADBF3FD961" target="contentwin">1</a></span></li>
                           <li class="index-term">使用第三方目录<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-3EC9FB78-4C73-4BCB-9258-960CEBC3EC9F" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">EUSM命令<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">addDatabase <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-F0CA9275-34F0-4F56-9685-DEDC8102A6D1" target="contentwin">1</a></span></li>
                           <li class="index-term">addDBAdmin <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-4895B523-EBD0-46D9-89C4-040092BCD93B" target="contentwin">1</a></span></li>
                           <li class="index-term">addDomainAdmin <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-46B7286F-2A95-4FDC-BF3D-D674308C05DD" target="contentwin">1</a></span></li>
                           <li class="index-term">addGlobalRole <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-86099BC8-F419-4C6F-8897-C9F9AA0C15DC" target="contentwin">1</a></span></li>
                           <li class="index-term">addTargetUser <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-B73B9217-B378-4974-A9B1-B3B1033C8D07" target="contentwin">1</a></span></li>
                           <li class="index-term">addToPwdAccessibleDomains <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-563DCCB9-79EC-4BF4-A184-92FA48AB0D22" target="contentwin">1</a></span></li>
                           <li class="index-term">createAppCtxAttribute <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-F34B53FA-88E2-40EF-B852-F7D07CD7BD54" target="contentwin">1</a></span></li>
                           <li class="index-term">createAppCtxAttributeValue <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-ECC0077F-E97C-4AC3-B47A-C87531093218" target="contentwin">1</a></span></li>
                           <li class="index-term">createAppCtxNamespace <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-0A2D40A0-CDE2-4309-B478-CB6F999F2523" target="contentwin">1</a></span></li>
                           <li class="index-term">createAppCtxUsers <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-81A808EC-2FF8-427B-B063-0FF83AA664BE" target="contentwin">1</a></span></li>
                           <li class="index-term">createDomain <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-8264867F-4EEF-4D24-B25C-64F2D40E24E0" target="contentwin">1</a></span></li>
                           <li class="index-term">createMapping <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-CE75C45E-4BB1-4F74-8586-4EB2B2D433C1" target="contentwin">1</a></span></li>
                           <li class="index-term">createProxyPerm <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-F4EC7075-AF6D-4958-BB9F-D2968ABE8FA0" target="contentwin">1</a></span></li>
                           <li class="index-term">createRole <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-F7F4695E-25CD-45DA-B035-6CC59EC2500A" target="contentwin">1</a></span></li>
                           <li class="index-term">deleteAppCtxAttribute <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-0A40BDDE-0380-46E0-9BA9-895B013B9881" target="contentwin">1</a></span></li>
                           <li class="index-term">deleteAppCtxAttributeValue <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-6C7B6C82-EF5C-4BA1-82F1-C0EEF063C8EC" target="contentwin">1</a></span></li>
                           <li class="index-term">deleteAppCtxNamespace <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-2C906524-9C87-4362-95F2-A3F39BE1438A" target="contentwin">1</a></span></li>
                           <li class="index-term">deleteAppCtxUsers <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-726C8083-9FAC-4AC0-A929-A37395C86142" target="contentwin">1</a></span></li>
                           <li class="index-term">deleteDomain <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-FD07051D-AB3A-4F65-B10A-2DFC64DF28B9" target="contentwin">1</a></span></li>
                           <li class="index-term">deleteMapping <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-CAA183F4-8828-4417-A969-9EBC29F5F2C2" target="contentwin">1</a></span></li>
                           <li class="index-term">deleteProxyPerm <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-A4F240C6-11A2-4F3D-AC75-2C6FA258BFAB" target="contentwin">1</a></span></li>
                           <li class="index-term">deleteRole <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-A53FF3F1-669C-4708-AB02-74AC16C78E30" target="contentwin">1</a></span></li>
                           <li class="index-term">grantProxyPerm <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-9F094C33-D798-4D47-ACC8-EA1F96554068" target="contentwin">1</a></span></li>
                           <li class="index-term">grantRole <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-DA1AB3CD-BC5A-4EC8-B012-D0D8D06A1CAE" target="contentwin">1</a></span></li>
                           <li class="index-term">listAppCtxAttribute <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-C84019AC-73CA-4CA2-9556-617F6993FBD6" target="contentwin">1</a></span></li>
                           <li class="index-term">listAppCtxAttributeValues <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-D6BB44E3-DD43-45DE-8C4B-F155C889A638" target="contentwin">1</a></span></li>
                           <li class="index-term">listAppCtxNamespaces <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-A83A336A-64F8-42E7-A686-A6FA10D37E54" target="contentwin">1</a></span></li>
                           <li class="index-term">listAppCtxUsers <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-B7D64BF7-AD4B-4DCE-868E-CC5F3572CF76" target="contentwin">1</a></span></li>
                           <li class="index-term">listDBAdmins <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-3073132F-0EAC-4B06-811E-4DF8525AA20F" target="contentwin">1</a></span></li>
                           <li class="index-term">listDBInfo <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-493BE56F-048E-4A7F-AFB1-6F73CAF4EF60" target="contentwin">1</a></span></li>
                           <li class="index-term">listDBOIDAuth <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-4B0B8184-E95C-49E5-BC34-65561DDB2B4F" target="contentwin">1</a></span></li>
                           <li class="index-term">listDomainAdmins <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-ED069179-C2D3-4897-A20A-346E03A1D2FC" target="contentwin">1</a></span></li>
                           <li class="index-term">listDomainInfo <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-4A7DA658-7B7A-4A2A-AEFF-6B3E89467682" target="contentwin">1</a></span></li>
                           <li class="index-term">listDomains <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-315BFC2A-A8F8-4169-8871-DD064B69DF49" target="contentwin">1</a></span></li>
                           <li class="index-term">listEnterPriseRoleInfo <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-2D491343-059C-4BB5-9B07-B91E57813E1B" target="contentwin">1</a></span></li>
                           <li class="index-term">listEnterpriseRoles <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-972E703E-3658-427A-AC31-4883CEDA9B11" target="contentwin">1</a></span></li>
                           <li class="index-term">listEnterpriseRolesOfUser <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-309C1346-F8B3-410C-B436-51A3ED84FFF0" target="contentwin">1</a></span></li>
                           <li class="index-term">listGlobalRolesInDB <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-8DCF7DEE-A494-4A44-97DB-9716D9D2EF1D" target="contentwin">1</a></span></li>
                           <li class="index-term">listMappings <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-CF914435-B9A1-4AA5-A556-BCB9021FF7FA" target="contentwin">1</a></span></li>
                           <li class="index-term">listProxyPermissionInfo <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-0EBD9EF0-2084-406A-B6BE-3A11B673495A" target="contentwin">1</a></span></li>
                           <li class="index-term">listProxyPermissions <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-9B6C5F88-EB4B-4281-8570-34FBF64076B7" target="contentwin">1</a></span></li>
                           <li class="index-term">listProxyPermissionsOfUser <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-218392E5-D0DE-41CA-9661-6B2AE82DF0B8" target="contentwin">1</a></span></li>
                           <li class="index-term">listPwdAccessibleDomains <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-AE041285-E7F9-4AC4-8A17-903EB09C8E3A" target="contentwin">1</a></span></li>
                           <li class="index-term">listRealmCommonAttr <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-A40796AB-C793-414B-853A-DCC17CC3C61B" target="contentwin">1</a></span></li>
                           <li class="index-term">listSharedSchemasInDB <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-6CB97F52-65E2-43BA-958C-9A3AD6BCD41C" target="contentwin">1</a></span></li>
                           <li class="index-term">listTargetUsersInDB <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-1F493F90-36D6-40FA-814E-860148BA0843" target="contentwin">1</a></span></li>
                           <li class="index-term">removeDBAdmin <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-D51822A7-F5A5-479E-A5F0-C9DD37DCEC78" target="contentwin">1</a></span></li>
                           <li class="index-term">removeDomainAdmin <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-34523C6E-4515-4337-BE8F-8CB86E146803" target="contentwin">1</a></span></li>
                           <li class="index-term">removeFromPwdAccessibleDomains <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-8560F34D-9370-4199-947E-4DCE015AD6CF" target="contentwin">1</a></span></li>
                           <li class="index-term">removeGlobalRole <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-0B4AD672-4DBB-4FFD-B003-7F134367BF6A" target="contentwin">1</a></span></li>
                           <li class="index-term">removeTargetUser <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-95BA1996-B88F-49EF-A942-4E7DBCA126DD" target="contentwin">1</a></span></li>
                           <li class="index-term">revokeProxyPerm <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-3C0CC0F0-763E-4BF0-A1F1-FAD236B69AA0" target="contentwin">1</a></span></li>
                           <li class="index-term">revokeRole <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-7DBBC731-B901-49B1-ACB5-6CBCFA91334E" target="contentwin">1</a></span></li>
                           <li class="index-term">setAuthTypes <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-EA6BCFD4-039D-4760-A215-E9222282158A" target="contentwin">1</a></span></li>
                           <li class="index-term">setCulinkStatus <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-BE7FC2CC-C077-49E5-9E79-43DFDD67E122" target="contentwin">1</a></span></li>
                           <li class="index-term">setDBOIDAuth <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-A4AD0294-1073-4024-ACA9-63D31CB5FFCD" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="G"></a><hr>
                  <h2>G</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">grantProxyPerm<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-9F094C33-D798-4D47-ACC8-EA1F96554068" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">grantRole<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-DA1AB3CD-BC5A-4EC8-B012-D0D8D06A1CAE" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">组<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">OracleContextAdmins <span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span></li>
                           <li class="index-term">OracleDBAdmins <span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span></li>
                           <li class="index-term">OracleDBCreators <span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span></li>
                           <li class="index-term">OracleDBSecurityAdmins <span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span></li>
                           <li class="index-term">OraclePasswordAccessibleDomains列表<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span></li>
                           <li class="index-term">OracleUserSecurityAdmins <span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="I"></a><hr>
                  <h2>一世</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">Internet Explorer证书<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">与Oracle Wallet Manager一起使用<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-CC81F215-0540-4441-AE7D-8BA8F872C5B2" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="K"></a><hr>
                  <h2>ķ</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">KERBEROS_PNAME第<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-829B3D41-E988-4C05-96D2-F90A8E8A8CFF" target="contentwin">1</a></span>列</li>
                  </ul>
               </div>
               <div class="index-group"><a id="L"></a><hr>
                  <h2>大号</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">LDAP目录<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">从<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-8D08EBD8-6AEB-43D9-AC20-7613082F50F4" target="contentwin">1开始</a></span>卸载Oracle钱包</li>
                           <li class="index-term">Oracle Wallet支持<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-522A4C03-1F8A-4DA3-B009-CC846AC37736" target="contentwin">1</a></span></li>
                           <li class="index-term">将Oracle钱包上传到<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-29F629B6-9C5E-40D5-9396-782651BC564F" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listAppCtxAttribute<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-C84019AC-73CA-4CA2-9556-617F6993FBD6" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listAppCtxAttributeValues<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-D6BB44E3-DD43-45DE-8C4B-F155C889A638" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listAppCtxNamespaces<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-A83A336A-64F8-42E7-A686-A6FA10D37E54" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listAppCtxUsers<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-B7D64BF7-AD4B-4DCE-868E-CC5F3572CF76" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listDBAdmins<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-3073132F-0EAC-4B06-811E-4DF8525AA20F" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listDBInfo<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-493BE56F-048E-4A7F-AFB1-6F73CAF4EF60" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listDBOIDAuth<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-4B0B8184-E95C-49E5-BC34-65561DDB2B4F" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listDomainAdmins<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-ED069179-C2D3-4897-A20A-346E03A1D2FC" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listDomainInfo<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-4A7DA658-7B7A-4A2A-AEFF-6B3E89467682" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listDomains<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-315BFC2A-A8F8-4169-8871-DD064B69DF49" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listEnterPriseRoleInfo<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-2D491343-059C-4BB5-9B07-B91E57813E1B" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listEnterpriseRoles<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-972E703E-3658-427A-AC31-4883CEDA9B11" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listEnterpriseRolesOfUser<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-309C1346-F8B3-410C-B436-51A3ED84FFF0" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listGlobalRolesInDB<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-8DCF7DEE-A494-4A44-97DB-9716D9D2EF1D" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listMappings<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-CF914435-B9A1-4AA5-A556-BCB9021FF7FA" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listProxyPermissionInfo<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-0EBD9EF0-2084-406A-B6BE-3A11B673495A" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listProxyPermissions<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-9B6C5F88-EB4B-4281-8570-34FBF64076B7" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listProxyPermissionsOfUser<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-218392E5-D0DE-41CA-9661-6B2AE82DF0B8" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listPwdAccessibleDomains<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-AE041285-E7F9-4AC4-8A17-903EB09C8E3A" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listRealmCommonAttr<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-A40796AB-C793-414B-853A-DCC17CC3C61B" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listSharedSchemasInDB<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-6CB97F52-65E2-43BA-958C-9A3AD6BCD41C" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">listTargetUsersInDB<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-1F493F90-36D6-40FA-814E-860148BA0843" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="M"></a><hr>
                  <h2>中号</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">Microsoft Active Directory<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">直接整合<span class="index-term-targets"><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-AD9ACC84-D0EF-4281-8A9E-2916E5BA2AF4" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">Microsoft Internet Explorer证书<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">与Oracle Wallet Manager一起使用<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-CC81F215-0540-4441-AE7D-8BA8F872C5B2" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">Microsoft Windows注册表<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">钱包存储<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-F2A989F2-F566-47F4-A992-4C2E091E544C" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">mkstore实用程序<span class="index-term-targets"><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-0BA363B4-C30A-4BDF-8368-9F34C482A2B1" target="contentwin">1</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="N"></a><hr>
                  <h2>ñ</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">Netscape证书<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">与Oracle Wallet Manager一起使用<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-CC81F215-0540-4441-AE7D-8BA8F872C5B2" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">昵称<span class="index-term-targets"><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F" target="contentwin">1</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="O"></a><hr>
                  <h2>Ø</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">ORA-28885错误<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-BC44C7C3-6568-48AE-AAF5-787BDDC85391" target="contentwin">1</a></span></li>
                     <li class="index-term">Oracle Applications钱包位置<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-16134D08-3155-4610-A22C-96A9F36874DA" target="contentwin">1</a></span></li>
                     <li class="index-term">OracleContextAdmins目录组<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span></li>
                     <li class="index-term">OracleDBAdmins目录组<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">概念<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-BE08052E-9413-4059-882D-A3E0BAD20C57" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">OracleDBCreators目录组<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span></li>
                     <li class="index-term">OracleDBSecurityAdmins目录组<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span></li>
                     <li class="index-term">Oracle Internet Directory<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">Enterprise User Security <span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-3EC9FB78-4C73-4BCB-9258-960CEBC3EC9F" target="contentwin">1</a></span>支持的版本</li>
                        </ul>
                     </li>
                     <li class="index-term">Oracle JDBC OCI驱动程序<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">用户迁移实用程序使用<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-3F2C0FA1-7179-4032-8D8D-F6B55B33F984" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">OraclePasswordAccessibleDomains列出目录组<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span></li>
                     <li class="index-term">OracleUserSecurityAdmins目录组<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A" target="contentwin">1</a></span></li>
                     <li class="index-term">Oracle钱包管理器<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-B382D5BF-7C77-4D8F-BBC6-8C1587CE89EF" target="contentwin">1</a></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">约<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-E3E16C82-E174-4814-98D5-EADF1BCB3C37" target="contentwin">1</a></span></li>
                           <li class="index-term">向后兼容性<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-0F644A8D-B240-4C51-85CC-D70D0E6653A1" target="contentwin">1</a></span></li>
                           <li class="index-term">导入PKCS＃7证书链<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-F1FEFDCC-D197-4731-903F-129840C25A03" target="contentwin">1</a></span></li>
                           <li class="index-term">KeyUsage扩展<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-BC44C7C3-6568-48AE-AAF5-787BDDC85391" target="contentwin">1</a></span></li>
                           <li class="index-term">LDAP目录支持<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-522A4C03-1F8A-4DA3-B009-CC846AC37736" target="contentwin">1</a></span></li>
                           <li class="index-term">Microsoft Windows注册表钱包存储<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-F2A989F2-F566-47F4-A992-4C2E091E544C" target="contentwin">1</a></span></li>
                           <li class="index-term">多证书支持<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-BC44C7C3-6568-48AE-AAF5-787BDDC85391" target="contentwin">1</a></span></li>
                           <li class="index-term">密码管理<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-D2476B5B-6A3F-477B-A1C1-14EE8653F086" target="contentwin">1</a></span></li>
                           <li class="index-term">从<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-5B540307-AB05-490F-AF57-B6428F99060B" target="contentwin">1</a></span>开始</li>
                           <li class="index-term">强大的钱包加密<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-45E85E4F-B8E3-44AC-9FC2-7DDA659752C1" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">Oracle钱包<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">自动登录<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">约<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-27B74C51-66B8-4783-B143-DB031BB3BC95" target="contentwin">1</a></span></li>
                                 <li class="index-term">禁用<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-60513669-FCDD-4154-BE57-0D6DBF332054" target="contentwin">1</a></span></li>
                                 <li class="index-term">启用<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-697E8E89-8B85-47F4-86CA-724B5A4CEBB3" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">证书<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">约<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-C2011E2B-F87A-49EE-802F-7CE9C9A93A77" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">证书，值得信赖<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">出口所有证书<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-7EF86152-5908-4138-B1E7-6DC8F6A3CC1E" target="contentwin">1</a></span></li>
                                 <li class="index-term">出口单一证书<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-5DACDC68-88E6-433A-94F9-AC4266275323" target="contentwin">1</a></span></li>
                                 <li class="index-term">进口<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-7BEA833A-AB6B-4F9B-A3B2-7727BA6608FB" target="contentwin">1</a></span></li>
                                 <li class="index-term">用<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-7BEA833A-AB6B-4F9B-A3B2-7727BA6608FB" target="contentwin">1</a></span>导入文件</li>
                                 <li class="index-term">删除<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-51B41494-C644-4FA3-8299-A7BB3DD7FEAF" target="contentwin">1</a></span></li>
                                 <li class="index-term">纯文本（BASE64），复制和粘贴<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-7BEA833A-AB6B-4F9B-A3B2-7727BA6608FB" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">证书，用户<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">约<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-326745DD-553E-498C-9293-89F137EE4DCB" target="contentwin">1</a></span></li>
                                 <li class="index-term">添加证书请求<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-0092DC62-376B-4E1F-A627-7C04DC59C79C" target="contentwin">1</a></span></li>
                                 <li class="index-term">出口<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-EC6CE0A0-7F1D-4FB1-8166-DB2DED408F2B" target="contentwin">1</a></span></li>
                                 <li class="index-term">从电子邮件文本导入<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-F1FEFDCC-D197-4731-903F-129840C25A03" target="contentwin">1</a></span></li>
                                 <li class="index-term">从文件<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-F1FEFDCC-D197-4731-903F-129840C25A03" target="contentwin">1</a></span>导入</li>
                                 <li class="index-term">从第三方工具导入<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-CC81F215-0540-4441-AE7D-8BA8F872C5B2" target="contentwin">1</a></span></li>
                                 <li class="index-term">导入钱包<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-F1FEFDCC-D197-4731-903F-129840C25A03" target="contentwin">1</a></span></li>
                                 <li class="index-term">进口第三方<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-CC81F215-0540-4441-AE7D-8BA8F872C5B2" target="contentwin">1</a></span></li>
                                 <li class="index-term">删除证书请求<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-1581D9D9-A0C4-4F78-B3B5-A8F6BA943066" target="contentwin">1</a></span></li>
                                 <li class="index-term">从钱包中取出<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-3D8719F8-CE01-4299-BE21-193720CD4FDA" target="contentwin">1</a></span></li>
                                 <li class="index-term">节省<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-B611A988-D264-491E-8C1A-C982D7CF0EA7" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">结束<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-6B075B46-916F-4DA7-99BE-E533810600DB" target="contentwin">1</a></span></li>
                           <li class="index-term">创建硬件安全钱包<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-23362779-0CF1-4DF0-B7AA-971F447E2DAB" target="contentwin">1</a></span></li>
                           <li class="index-term">创建标准钱包<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-1F1CBAE7-3070-4E03-9B7E-9B08D68F1AEC" target="contentwin">1</a></span></li>
                           <li class="index-term">删除<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-64EF6FB2-E837-49C4-86CD-5AA7F32071F3" target="contentwin">1</a></span></li>
                           <li class="index-term">从LDAP目录下载<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-8D08EBD8-6AEB-43D9-AC20-7613082F50F4" target="contentwin">1</a></span></li>
                           <li class="index-term">导出到非PKCS＃12工具<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-7A26EBE4-0E70-4E2B-92FE-4A94815DADD1" target="contentwin">1</a></span></li>
                           <li class="index-term">导出到第三方环境<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-1F1F8621-6EB9-458A-A276-37622F751DE4" target="contentwin">1</a></span></li>
                           <li class="index-term">创建的一般过程<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-AFC3BF3B-3669-40B9-A3B1-7356556B5CFC" target="contentwin">1</a></span></li>
                           <li class="index-term">管理<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-0383B8F6-73CA-4677-9009-A2926267A93B" target="contentwin">1</a></span></li>
                           <li class="index-term">开放<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-7B036634-A89A-4393-A107-F3CF70718A99" target="contentwin">1</a></span></li>
                           <li class="index-term">Oracle Applications钱包位置<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-16134D08-3155-4610-A22C-96A9F36874DA" target="contentwin">1</a></span></li>
                           <li class="index-term">密码指南<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-7D9B1A8E-F77B-4CA2-AACA-D33CC489A935" target="contentwin">1</a></span></li>
                           <li class="index-term">密码，改变<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-89D18B21-A63B-4A31-BE58-7AF6E4E22519" target="contentwin">1</a></span></li>
                           <li class="index-term">将更改保存为<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-31721E04-7CBF-4DE3-BC80-2F5FD1278C87" target="contentwin">1</a></span></li>
                           <li class="index-term">保存到新位置<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-203220E6-B031-4DB4-A586-DEF82B614ECA" target="contentwin">1</a></span></li>
                           <li class="index-term">保存到系统默认目录<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-16134D08-3155-4610-A22C-96A9F36874DA" target="contentwin">1</a></span></li>
                           <li class="index-term">SSL钱包位置<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-1F1CBAE7-3070-4E03-9B7E-9B08D68F1AEC" target="contentwin">1</a> ， <a href="using-oracle-wallet-manager.html#GUID-16134D08-3155-4610-A22C-96A9F36874DA" target="contentwin">2</a></span></li>
                           <li class="index-term">上传到LDAP目录<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-29F629B6-9C5E-40D5-9396-782651BC564F" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">ORCL_GLOBAL_USR_MIGRATION_DATA接口表<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-AC8E6931-1BF9-4C73-B8A7-16345532A887" target="contentwin">1</a></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">访问<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-829B3D41-E988-4C05-96D2-F90A8E8A8CFF" target="contentwin">1</a></span></li>
                           <li class="index-term">KERBEROS_PNAME第<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-829B3D41-E988-4C05-96D2-F90A8E8A8CFF" target="contentwin">1</a></span>列</li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="P"></a><hr>
                  <h2>P</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">密码政策<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-4AA6528E-5141-46C5-90F5-91077E4601BD" target="contentwin">1</a></span></li>
                     <li class="index-term">密码<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">Oracle钱包，指南<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-7D9B1A8E-F77B-4CA2-AACA-D33CC489A935" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">PKCS＃7证书链<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-F1FEFDCC-D197-4731-903F-129840C25A03" target="contentwin">1</a></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">与X.509证书<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-F1FEFDCC-D197-4731-903F-129840C25A03" target="contentwin">1的</a></span>区别</li>
                        </ul>
                     </li>
                     <li class="index-term">代理<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">连接<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-FD26CF4A-BB46-4686-BA8E-96FB66472555" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">公钥加密标准支持<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-B382D5BF-7C77-4D8F-BBC6-8C1587CE89EF" target="contentwin">1</a></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">Oracle钱包<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-B382D5BF-7C77-4D8F-BBC6-8C1587CE89EF" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="R"></a><hr>
                  <h2>[R</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">半径<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">数据库链接不受支持<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-7AC9B300-EF5C-4C04-8001-A8CF70FB1BEF" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">removeDBAdmin<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-D51822A7-F5A5-479E-A5F0-C9DD37DCEC78" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">removeDomainAdmin<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-34523C6E-4515-4337-BE8F-8CB86E146803" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">removeFromPwdAccessibleDomains<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-8560F34D-9370-4199-947E-4DCE015AD6CF" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">removeGlobalRole<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-0B4AD672-4DBB-4FFD-B003-7F134367BF6A" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">removeTargetUser<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-95BA1996-B88F-49EF-A942-4E7DBCA126DD" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">revokeProxyPerm<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-3C0CC0F0-763E-4BF0-A1F1-FAD236B69AA0" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">revokeRole<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-7DBBC731-B901-49B1-ACB5-6CBCFA91334E" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="S"></a><hr>
                  <h2>小号</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">setAuthTypes<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-EA6BCFD4-039D-4760-A215-E9222282158A" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">setCulinkStatus<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-BE7FC2CC-C077-49E5-9E79-43DFDD67E122" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">setDBOIDAuth<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">EUSM命令<span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-A4AD0294-1073-4024-ACA9-63D31CB5FFCD" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">共享模式<span class="index-term-targets"><a href="introducing-enterprise-user-security.html#GUID-2322228B-0331-427B-A252-FEA30EEA106F" target="contentwin">1</a></span></li>
                     <li class="index-term">SSL外部用户转换脚本<span class="index-term-targets"><a href="ssl-external-users-conversion-script.html#GUID-76485F2E-D076-4817-87B9-2CD91F4F610C" target="contentwin">1</a></span></li>
                     <li class="index-term">SSL端口连接<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">通过EUSM到OID <span class="index-term-targets"><a href="enterprise-user-security-manager-eusm-command-summary.html#GUID-B2D179B9-0C68-4B6D-B6E0-8FF0B832CBCA" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">SSL钱包位置<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-1F1CBAE7-3070-4E03-9B7E-9B08D68F1AEC" target="contentwin">1</a> ， <a href="using-oracle-wallet-manager.html#GUID-16134D08-3155-4610-A22C-96A9F36874DA" target="contentwin">2</a></span></li>
                     <li class="index-term">SYS架构<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-AC8E6931-1BF9-4C73-B8A7-16345532A887" target="contentwin">1</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="U"></a><hr>
                  <h2>ü</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">UMU实用程序<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">TRACE_UMU环境变量<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-3B7F22E1-F2AC-4196-AEDE-D8B9BC01C42A" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">升级EUS <span class="index-term-targets"><a href="upgrading-from-oracle9i-to-oracle-database-12c-release-12-2.html#GUID-17FC9A67-3FC1-4A2D-94E5-46AD9CECC250" target="contentwin">1</a></span></li>
                     <li class="index-term">用户迁移工具<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">获得帮助<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-C781B318-FDA0-4B31-910B-58DB9A80B041" target="contentwin">1</a></span></li>
                           <li class="index-term">访问接口表<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-829B3D41-E988-4C05-96D2-F90A8E8A8CFF" target="contentwin">1</a></span></li>
                           <li class="index-term">证书认证用户<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-796FCF4C-60A3-4EEC-9CE5-D0367EB269D8" target="contentwin">1</a></span></li>
                           <li class="index-term">实用程序的目录位置<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-23036B04-1CE2-4568-97F6-9B6480069F9C" target="contentwin">1</a></span></li>
                           <li class="index-term">例<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">参数文本文件（par.txt） <span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-25792A0B-8900-4156-9536-47D49C001F97" target="contentwin">1</a></span></li>
                                 <li class="index-term">用户列表文本文件（usrs.txt） <span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-25792A0B-8900-4156-9536-47D49C001F97" target="contentwin">1</a></span></li>
                                 <li class="index-term">使用CASCADE = NO <span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-284F4E99-8860-4DE2-8D74-D200DB5A9098" target="contentwin">1</a></span></li>
                                 <li class="index-term">使用CASCADE = YES <span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-7DA6FBEA-86BB-43FE-A26A-EDDB40F745D2" target="contentwin">1</a></span></li>
                                 <li class="index-term">使用MAPSCHEMA = PRIVATE <span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-47C7AA7B-A229-4206-B8F8-73CFC8E7DE54" target="contentwin">1</a></span></li>
                                 <li class="index-term">使用MAPSCHEMA = SHARED <span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-284F4E99-8860-4DE2-8D74-D200DB5A9098" target="contentwin">1</a></span></li>
                                 <li class="index-term">使用MAPTYPE选项<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-49C08236-9981-4041-937C-5FADA4080A66" target="contentwin">1</a></span></li>
                                 <li class="index-term">使用PARFILE，USERSFILE和LOGFILE参数<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-25792A0B-8900-4156-9536-47D49C001F97" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">KERBEROS_PNAME第<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-829B3D41-E988-4C05-96D2-F90A8E8A8CFF" target="contentwin">1</a></span>列</li>
                           <li class="index-term">关键字：DBALIAS <span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-12F3F480-1CAF-4CA0-9CD9-D6C588FF81A5" target="contentwin">1</a></span></li>
                           <li class="index-term">关键字：ENTALIAS <span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-51BD990A-6302-4F13-BF42-6A1D9F997630" target="contentwin">1</a></span></li>
                           <li class="index-term">关键字：WALLETLOCATION <span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-08A2CD16-D250-4017-8E52-08070C49B756" target="contentwin">1</a></span></li>
                           <li class="index-term">LOGFILE优先级<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-25792A0B-8900-4156-9536-47D49C001F97" target="contentwin">1</a></span></li>
                           <li class="index-term">MAPTYPE参数<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">SUBTREE映射级别<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-8D9144CE-FEC8-4B8F-948A-5E52B9C7E6DE" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">ORCL_GLOBAL_USR_MIGRATION_DATA接口表<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-AC8E6931-1BF9-4C73-B8A7-16345532A887" target="contentwin">1</a></span></li>
                           <li class="index-term">密码验证用户<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-796FCF4C-60A3-4EEC-9CE5-D0367EB269D8" target="contentwin">1</a></span></li>
                           <li class="index-term">检索已删除的架构对象<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-7DA6FBEA-86BB-43FE-A26A-EDDB40F745D2" target="contentwin">1</a></span></li>
                           <li class="index-term">共享模式映射<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-B05740D6-E66B-4B7D-9493-8155C9C2771A" target="contentwin">1</a></span></li>
                           <li class="index-term">当前版本<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-796FCF4C-60A3-4EEC-9CE5-D0367EB269D8" target="contentwin">1的</a></span> SSL身份验证</li>
                           <li class="index-term">SYS架构<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-AC8E6931-1BF9-4C73-B8A7-16345532A887" target="contentwin">1</a></span></li>
                           <li class="index-term">使用Oracle JDBC OCI驱动程序<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-3F2C0FA1-7179-4032-8D8D-F6B55B33F984" target="contentwin">1</a></span></li>
                           <li class="index-term">X.509 v3证书<span class="index-term-targets"><a href="using-the-user-migration-utility.html#GUID-796FCF4C-60A3-4EEC-9CE5-D0367EB269D8" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="V"></a><hr>
                  <h2>V</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">查看数据库钱包DN <span class="index-term-targets"><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-0BA363B4-C30A-4BDF-8368-9F34C482A2B1" target="contentwin">1</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="W"></a><hr>
                  <h2>w ^</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">钱包<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-D0AA8373-B0AC-4DD8-9FA9-403E345E5A71" target="contentwin">1</a></span><ul class="see-also">
                           <li class="see-also"><span class="see-also-label">另请参阅：</span> Oracle钱包</li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="X"></a><hr>
                  <h2>X</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">X.509证书<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">与PKCS＃7证书链<span class="index-term-targets"><a href="using-oracle-wallet-manager.html#GUID-F1FEFDCC-D197-4731-903F-129840C25A03" target="contentwin">1的</a></span>区别</li>
                        </ul>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="12693.oracle_datapump-access-driver.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The ORACLE_DATAPUMP access driver provides a set of access parameters that are unique to external tables of the type ORACLE_DATAPUMP."></meta>
      <meta name="description" content="The ORACLE_DATAPUMP access driver provides a set of access parameters that are unique to external tables of the type ORACLE_DATAPUMP."></meta>
      <title>ORACLE_DATAPUMP访问驱动程序</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Utilities "></meta>
      <meta property="og:description" content="The ORACLE_DATAPUMP access driver provides a set of access parameters that are unique to external tables of the type ORACLE_DATAPUMP."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Utilities"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-utilities.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T19:07:17-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96081-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle_loader-access-driver.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle_hdfs-oracle_hive-access-drivers.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Utilities"></meta>
    <meta name="dcterms.isVersionOf" content="SUTIL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle_loader-access-driver.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle_hdfs-oracle_hive-access-drivers.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">公用事业</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-external-tables.html" property="item" typeof="WebPage"><span property="name">外部表格</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ORACLE_DATAPUMP访问驱动程序</li>
            </ol>
            <a id="GUID-084DC623-9656-499C-885B-D8180C07704B" name="GUID-084DC623-9656-499C-885B-D8180C07704B"></a>
            
            <h2 id="SUTIL-GUID-084DC623-9656-499C-885B-D8180C07704B" class="sect2"><span class="enumeration_chapter">16</span> ORACLE_DATAPUMP访问驱动程序</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序提供一组访问参数，这些参数对于<code class="codeph">ORACLE_DATAPUMP</code>类型的外部表是唯一的。</p>
               <p>话题：</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-0811F362-161A-4D4B-B480-845CADA0D372">使用ORACLE_DATAPUMP访问驱动程序</a><br>要修改访问驱动程序的默认行为，请使用ORACLE_DATAPUMP访问参数。您通过访问驱动程序提供的信息可确保处理来自数据源的数据，以使其与外部表的定义相匹配。
                  </li>
                  <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A">access_parameters子句</a><br>创建外部表时，可以在<code class="codeph">access_parameters</code>子句中指定某些参数。
                  </li>
                  <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-0B2EC1B2-701D-42ED-874C-47F22F21D847">使用ORACLE_DATAPUMP访问驱动程序卸载和加载数据</a><br>作为使用SQL <code class="codeph">CREATE TABLE AS SELECT</code>语句创建外部表的一部分， <code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序可以将数据写入转储文件。
                  </li>
                  <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-5C97AFA9-C77D-4BF4-A97B-71CBAB58442C">支持的数据类型</a><br>本主题描述了支持的数据类型。
                  </li>
                  <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899">不支持的数据类型</a><br>本主题描述了不受支持的数据类型。
                  </li>
                  <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-1061CC64-EB94-4546-B6B4-82CAF405E36C">使用ORACLE_DATAPUMP访问驱动程序时的性能提示</a><br>本主题介绍使用<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序时的性能提示。
                  </li>
                  <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-F3E32FE4-F0AE-4658-97A3-EBEA141E792B">使用ORACLE_DATAPUMP访问驱动程序时的限制</a><br>本主题描述了<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序的限制。
                  </li>
                  <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-936F4EAA-2F14-48E5-8EE4-A2D9A56C3A05">ORACLE_DATAPUMP访问驱动程序的保留字</a><br>本主题描述<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序的保留字。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="oracle-external-tables.html#GUID-038ED956-A6EE-4C6D-B7C9-0D406B8088B6">外部表</a></p>
                  </div>
               </div>
            </div>
            <a id="SUTIL500"></a><div class="sect2"><a id="GUID-0811F362-161A-4D4B-B480-845CADA0D372" name="GUID-0811F362-161A-4D4B-B480-845CADA0D372"></a><h3 id="SUTIL-GUID-0811F362-161A-4D4B-B480-845CADA0D372" class="sect3"><span class="enumeration_section">16.1</span>使用ORACLE_DATAPUMP访问驱动程序</h3>
               <div>
                  <p>要修改访问驱动程序的默认行为，请使用ORACLE_DATAPUMP访问参数。您通过访问驱动程序提供的信息可确保处理来自数据源的数据，以使其与外部表的定义相匹配。</p>
                  <p></p>
                  <p>要成功使用ORACLE_DATAPUMP访问驱动程序，您必须了解平台上数据文件的文件格式和记录格式（包括字符集和字段数据类型）。您还必须能够使用SQL创建外部表，并对您创建的表执行查询。</p>
                  <div class="infoboxnote" id="GUID-0811F362-161A-4D4B-B480-845CADA0D372__GUID-23D55C7D-B312-4AF4-9985-F2EBA9117453">
                     <p class="notep1">注意：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有时很难在不使用其他语法的情况下描述语法，直到本章后面才详细说明。如果不清楚某些语法应该做什么，那么您可以跳过并阅读该特定元素。</p>
                        </li>
                        <li>
                           <p>当在外部表访问参数中指定标识符（例如，列或表名）时，访问参数解析器将某些值视为保留字。如果保留字用作标识符，则必须用双引号括起来。请参阅<a href="oracle_datapump-access-driver.html#GUID-936F4EAA-2F14-48E5-8EE4-A2D9A56C3A05" title="本主题描述ORACLE_DATAPUMP访问驱动程序的保留字。">ORACLE_DATAPUMP访问驱动程序的保留字</a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL1449"></a><div class="props_rev_3"><a id="GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A" name="GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A"></a><h3 id="SUTIL-GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A" class="sect3"><span class="enumeration_section">16.2</span> access_parameters子句</h3>
               <div>
                  <p>创建外部表时，可以在<code class="codeph">access_parameters</code>子句中指定某些参数。
                  </p>
                  <div class="section">
                     <p>该子句是可选的，其各个参数也是可选的。例如，您可以指定<code class="codeph">LOGFILE</code> ，但不能指定<code class="codeph">VERSION</code> ，反之亦然。<code class="codeph">access_parameters</code>子句的语法如下。
                     </p>
                     <div class="infoboxnote" id="GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A__GUID-3654A11D-E389-432B-AB49-FF9F7141B6C3">
                        <p class="notep1">注意：</p>
                        <p>这些访问参数统称为SQL <code class="codeph">CREATE TABLE...的<code class="codeph">opaque_format_spec</code> <code class="codeph">CREATE TABLE...ORGANIZATION EXTERNAL</code>声明。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A__GUID-3CA25D34-DBBA-4F4F-8C60-62C52997FAF5">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span class="italic">Oracle Database SQL语言参考</span></a>有关在使用SQL <code class="codeph">CREATE TABLE...时指定<code class="codeph">opaque_format_spec</code>信息<code class="codeph">CREATE TABLE...ORGANIZATION EXTERNAL</code>声明</p>
                           </li>
                        </ul>
                     </div>
                     <div class="figure" id="GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A__GUID-A5B49762-3AE7-4D42-A377-50B406EA6B73"><img src="img/et_oracle_datapump.gif" width="459" alt="以下是et_oracle_datapump.eps的说明" title="以下是et_oracle_datapump.eps的说明" longdesc="img_text/et_oracle_datapump.html"><br><a href="img_text/et_oracle_datapump.html">插图描述et_oracle_datapump.eps</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-AD390CF3-3BA1-425D-85A0-A78C21CF5E34">评论</a><br></li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-AAAF7245-F72B-40EB-AC9C-260AD5AEAF8F">压缩</a><br></li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343">加密</a><br></li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-30EF29F8-DCF2-4312-8FE7-50A580B1FA2D">LOGFILE | NOLOGFILE</a><br></li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-1B8E3BBF-09DD-42E6-8034-096E6A0F31BE">版本条款</a><br><code class="codeph">VERSION</code>子句用于指定将读取转储文件的Oracle数据库的最低版本。
                     </li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-039387FC-3011-402F-B38A-B1D392738AD2">使用SQL ENCRYPT子句的影响</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></p>
                     </div>
                  </div>
               </div>
               <a id="SUTIL1450"></a><div class="props_rev_3"><a id="GUID-AD390CF3-3BA1-425D-85A0-A78C21CF5E34" name="GUID-AD390CF3-3BA1-425D-85A0-A78C21CF5E34"></a><h4 id="SUTIL-GUID-AD390CF3-3BA1-425D-85A0-A78C21CF5E34" class="sect4"><span class="enumeration_section">16.2.1</span>评论</h4>
                  <div>
                     <div class="section">
                        <p>注释是以两个连字符开头，后跟文本的行。必须<span class="italic">在</span>任何访问参数<span class="italic">之前</span>放置注释，例如：</p><pre class="oac_no_warn" dir="ltr">- 这是评论。- 这是另一个评论。NOLOG</pre><p>双连字符右侧的所有文本都将被忽略，直到该行的结尾。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A" title="创建外部表时，可以在access_parameters子句中指定某些参数。">access_parameters子句</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL3429"></a><a id="SUTIL3430"></a><a id="SUTIL3431"></a><a id="SUTIL1451"></a><div class="props_rev_3"><a id="GUID-AAAF7245-F72B-40EB-AC9C-260AD5AEAF8F" name="GUID-AAAF7245-F72B-40EB-AC9C-260AD5AEAF8F"></a><h4 id="SUTIL-GUID-AAAF7245-F72B-40EB-AC9C-260AD5AEAF8F" class="sect4"><span class="enumeration_section">16.2.2</span>压缩</h4>
                  <div>
                     <div class="section">
                        <p>默认值： <code class="codeph">DISABLED</code></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AAAF7245-F72B-40EB-AC9C-260AD5AEAF8F__GUID-C22A81CC-E8D4-4023-921A-C300748D280A">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>指定在将数据写入转储文件集之前是否压缩数据（以及可选的压缩算法）。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AAAF7245-F72B-40EB-AC9C-260AD5AEAF8F__GUID-F0E3593A-D48B-48C7-8491-3F62E9200382">语法和说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">压缩[ENABLED {BASIC | LOW | MEDIUM | HIGH} |禁用]</pre><ul style="list-style-type:disc">
                           <li>
                              <p>如果指定了<code class="codeph">ENABLED</code> ，则会为整个卸载操作压缩所有数据。您还可以指定以下压缩选项之一：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">BASIC</code> - 提供压缩比和速度的良好组合;使用的算法与以前版本的Oracle Data Pump中的算法相同。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">LOW</code> - 对卸载吞吐量的影响最小，适用于CPU资源是限制因素的环境。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">MEDIUM</code> - 适用于大多数环境。与<code class="codeph">BASIC</code>选项一样，此选项提供压缩比和速度的良好组合，但它使用与<code class="codeph">BASIC</code>不同的算法。</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">HIGH</code> - 最适合在较慢的网络上卸载，其中限制因素是网络速度。
                                    </p>
                                 </li>
                              </ul>
                              <div class="infoboxnote" id="GUID-AAAF7245-F72B-40EB-AC9C-260AD5AEAF8F__GUID-BC481BC2-F600-4983-A99E-D1DCF17E4749">
                                 <p class="notep1">注意：</p>
                                 <p>要使用这些压缩算法，必须将<code class="codeph">COMPATIBLE</code>初始化参数设置为至少12.0.0。此功能要求启用Oracle Advanced Compression选项。
                                 </p>
                              </div>
                              <p>压缩算法的性能以其CPU使用率和压缩比（压缩输出的大小占未压缩输入的百分比）为特征。这些度量因输入的大小和类型以及所使用的压缩算法的速度而异。压缩比通常从低到高增加，可能会消耗更多的CPU资源。</p>
                              <p>建议您对环境中的数据运行具有不同压缩级别的测试。根据您的环境，工作负载特征以及数据大小和类型选择压缩级别是确保导出的转储文件集压缩级别满足性能和存储要求的唯一方法。</p>
                           </li>
                           <li>
                              <p>如果指定了<code class="codeph">DISABLED</code> ，则不会为上载操作压缩任何数据。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AAAF7245-F72B-40EB-AC9C-260AD5AEAF8F__GUID-CC93B693-E34A-44D5-A524-A70967BDBA6B">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在以下示例中， <code class="codeph">COMPRESSION</code>参数设置为<code class="codeph">ENABLED</code> 。因此，写入<code class="codeph">dept.dmp</code>转储文件的所有数据都将采用压缩格式。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE deptXTec3 ORGANIZATION EXTERNAL（类型ORACLE_DATAPUMP DEFAULT目录def_dir1访问参数（压缩启用）位置（'dept.dmp'））;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A" title="创建外部表时，可以在access_parameters子句中指定某些参数。">access_parameters子句</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL3432"></a><a id="SUTIL3433"></a><a id="SUTIL3434"></a><a id="SUTIL3435"></a><a id="SUTIL1452"></a><div class="props_rev_3"><a id="GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343" name="GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343"></a><h4 id="SUTIL-GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343" class="sect4"><span class="enumeration_section">16.2.3</span>加密</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343__GUID-5BFBAE78-FE11-4730-B850-F141E9DE336E">默认</p>
                        <p><code class="codeph">禁用</code></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343__GUID-9F9095E9-7498-4C4B-912D-B8ECA8A8F8AA">目的</p>
                        <p>指定在将数据写入转储文件集之前是否加密数据。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343__GUID-7616DAF4-8CFE-435E-ABAA-C36826461A2E">语法和说明</p><pre class="pre codeblock"><code>加密[ENABLED |禁用]</code></pre><p>如果指定了<code class="codeph">ENABLED</code> ，则所有数据都将写入以加密格式设置的转储文件中。
                        </p>
                        <p>如果指定了<code class="codeph">DISABLED</code> ，则没有数据以加密格式写入转储文件集。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343__GUID-4B6456DA-C512-4655-B71A-1C8F2FFA7E71">限制</p>
                        <p>此参数仅用于导出操作。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AD528E6B-22CB-4955-9C05-E3F6678DD343__GUID-FCC78061-CA4B-41C7-9E6B-38FFC4E6ABCB">例</p>
                        <p>在以下示例中， <code class="codeph">ENCRYPTION</code>参数设置为<code class="codeph">ENABLED</code> 。因此，写入<code class="codeph">dept.dmp</code>文件的所有数据都将采用加密格式。
                        </p><pre class="pre codeblock"><code>CREATE TABLE deptXTec3 ORGANIZATION EXTERNAL（类型ORACLE_DATAPUMP DEFAULT目录def_dir1访问参数（启用加密）位置（'dept.dmp'））;</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A" title="创建外部表时，可以在access_parameters子句中指定某些参数。">access_parameters子句</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL3436"></a><a id="SUTIL3437"></a><a id="SUTIL3438"></a><a id="SUTIL1453"></a><div class="props_rev_3"><a id="GUID-30EF29F8-DCF2-4312-8FE7-50A580B1FA2D" name="GUID-30EF29F8-DCF2-4312-8FE7-50A580B1FA2D"></a><h4 id="SUTIL-GUID-30EF29F8-DCF2-4312-8FE7-50A580B1FA2D" class="sect4"><span class="enumeration_section">16.2.4</span> LOGFILE | NOLOGFILE</h4>
                  <div>
                     <div class="section">
                        <p>默认值：如果未指定<code class="codeph">LOGFILE</code> ，则会在缺省目录中创建日志文件，并从表名和进程ID生成日志文件的名称，扩展名为。 <code class="codeph">log</code> 。如果日志文件已存在同名，则访问驱动程序将重新打开该日志文件并将新日志信息附加到末尾。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-30EF29F8-DCF2-4312-8FE7-50A580B1FA2D__GUID-E614EB31-1BE0-4B05-A63D-5B62B36A87B2">目的</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">LOGFILE</code>指定日志文件的名称，该文件包含在访问转储文件时生成的任何消息。<code class="codeph">NOLOGFILE</code>阻止创建日志文件。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-30EF29F8-DCF2-4312-8FE7-50A580B1FA2D__GUID-FB0472E9-7C98-4681-A9A1-B9CEECDE4F74">语法和说明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">NOLOGFILE</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">LOGFILE [ <span class="italic">directory_object</span> ：] <span class="italic">logfile_name</span>
</pre><p>如果未将目录对象指定为日志文件名的一部分，则使用<code class="codeph">DEFAULT</code> <code class="codeph">DIRECTORY</code>属性指定的目录对象。如果未指定目录对象且未指定缺省目录，则返回错误。有关在并行加载或卸载期间使用替换变量创建唯一文件名的信息，请参阅<a href="oracle_datapump-access-driver.html#GUID-81D4E310-307B-4AD7-9CE3-BA86656C1332">LOGFILE</a>的文件名。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-30EF29F8-DCF2-4312-8FE7-50A580B1FA2D__GUID-9F55775A-926E-43AA-9248-829ABC515758">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在以下示例中，转储文件<code class="codeph">dept_dmp</code>位于目录对象<code class="codeph">load_dir</code>标识的目录中，但是日志文件<code class="codeph">deptxt</code> 。 <code class="codeph">log</code> ，位于目录对象<code class="codeph">log_dir</code>标识的目录中。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE dept_xt（dept_no INT，dept_name CHAR（20），location CHAR（20））ORGANIZATION EXTERNAL（TYPE ORACLE_DATAPUMP DEFAULT DIRECTORY load_dir ACCESS PARAMETERS（LOGFILE log_dir：deptxt）LOCATION（'dept_dmp'））;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-81D4E310-307B-4AD7-9CE3-BA86656C1332">并行加载中的日志文件命名</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A" title="创建外部表时，可以在access_parameters子句中指定某些参数。">access_parameters子句</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="SUTIL1454"></a><div class="props_rev_3"><a id="GUID-81D4E310-307B-4AD7-9CE3-BA86656C1332" name="GUID-81D4E310-307B-4AD7-9CE3-BA86656C1332"></a><h5 id="SUTIL-GUID-81D4E310-307B-4AD7-9CE3-BA86656C1332" class="sect5"><span class="enumeration_section">16.2.4.1</span>并行加载中的日志文件命名</h5>
                     <div>
                        <div class="section">
                           <p>访问驱动程序执行一些符号替换，以帮助在并行加载的情况下使文件名唯一。支持的符号替换如下：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">%p</code>由当前进程的进程ID替换。例如，如果访问驱动程序的进程ID是12345，则<code class="codeph">exttab_%p</code> 。 <code class="codeph">log</code>变为<code class="codeph">exttab_12345.log</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">%a</code>由当前进程的代理程序编号替换。代理编号是分配给访问外部表的每个并行进程的唯一编号。这个数字用零填充到左边以填充三个字符。例如，如果第三个并行代理正在创建文件并且<code class="codeph">exttab_%a</code> 。 <code class="codeph">log</code>指定为文件名，然后代理将创建名为<code class="codeph">exttab_003.log</code>的文件。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">%%</code>由<code class="codeph">%</code>替换。如果需要在文件名中包含百分号，则必须使用此符号替换。
                                 </p>
                              </li>
                           </ul>
                           <p>如果<code class="codeph">%</code>字符后跟除前面列表中的某个字符之外的任何内容，则返回错误。
                           </p>
                           <p>如果未使用<code class="codeph">%p</code>或<code class="codeph">%a</code>为输出文件创建唯一文件名并且并行访问外部表，则输出文件可能已损坏或代理可能无法写入文件。
                           </p>
                           <p>如果没有为该文件提供扩展名，则默认扩展名为。 <code class="codeph">log</code> 。如果生成的名称不是有效的文件名，则会返回错误，并且不会加载或卸载任何数据。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-30EF29F8-DCF2-4312-8FE7-50A580B1FA2D">LOGFILE | NOLOGFILE</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="SUTIL1455"></a><div class="props_rev_3"><a id="GUID-1B8E3BBF-09DD-42E6-8034-096E6A0F31BE" name="GUID-1B8E3BBF-09DD-42E6-8034-096E6A0F31BE"></a><h4 id="SUTIL-GUID-1B8E3BBF-09DD-42E6-8034-096E6A0F31BE" class="sect4"><span class="enumeration_section">16.2.5</span>版本条款</h4>
                  <div>
                     <p><code class="codeph">VERSION</code>子句用于指定将读取转储文件的Oracle数据库的最低版本。
                     </p>
                     <div class="section">
                        <p>例如，如果指定<code class="codeph">11.1</code> ，那么Oracle Database 11g第1版（11.1和11.2）数据库都可以读取转储文件。如果指定<code class="codeph">11.2</code> ，则只有Oracle Database 11g第2版（11.2）数据库可以读取转储文件。
                        </p>
                        <p>默认值为<code class="codeph">COMPATIBLE</code> 。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A" title="创建外部表时，可以在access_parameters子句中指定某些参数。">access_parameters子句</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL1456"></a><div class="props_rev_3"><a id="GUID-039387FC-3011-402F-B38A-B1D392738AD2" name="GUID-039387FC-3011-402F-B38A-B1D392738AD2"></a><h4 id="SUTIL-GUID-039387FC-3011-402F-B38A-B1D392738AD2" class="sect4"><span class="enumeration_section">16.2.6</span>使用SQL ENCRYPT子句的影响</h4>
                  <div>
                     <p>如果在创建外部表时指定SQL <code class="codeph">ENCRYPT</code>子句，请记住以下几点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>指定<code class="codeph">ENCRYPT</code>子句的列将在写入转储文件之前进行加密。
                           </p>
                        </li>
                        <li>
                           <p>如果将转储文件移动到另一个数据库，则必须对转储文件中的加密列和用于读取转储文件的外部表使用相同的加密密码。</p>
                        </li>
                        <li>
                           <p>如果未在第二个数据库的外部表中为正确的加密列指定密码，则会返回错误。如果未指定正确的密码，则会将垃圾数据写入转储文件。</p>
                        </li>
                        <li>
                           <p>生成的转储文件必须为10.2或更高版本。否则，返回错误。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-039387FC-3011-402F-B38A-B1D392738AD2__GUID-B89D9699-7B9B-4A5E-BA9A-4A7FA53C18A6">
                        <p class="notep1">也可以看看：</p>
                        <p>有关在<code class="codeph">CREATE TABLE</code>语句中使用<code class="codeph">ENCRYPT</code>子句的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sutil&amp;id=SQLRF54460" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-E9780F81-58D7-4E16-863F-8678DE53EC9A" title="创建外部表时，可以在access_parameters子句中指定某些参数。">access_parameters子句</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SUTIL1457"></a><div class="props_rev_3"><a id="GUID-0B2EC1B2-701D-42ED-874C-47F22F21D847" name="GUID-0B2EC1B2-701D-42ED-874C-47F22F21D847"></a><h3 id="SUTIL-GUID-0B2EC1B2-701D-42ED-874C-47F22F21D847" class="sect3"><span class="enumeration_section">16.3</span>使用ORACLE_DATAPUMP访问驱动程序卸载和加载数据</h3>
               <div>
                  <p>作为使用SQL <code class="codeph">CREATE TABLE AS SELECT</code>语句创建外部表的一部分， <code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序可以将数据写入转储文件。
                  </p>
                  <div class="section">
                     <p>文件中的数据以二进制格式写入，只能由<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序读取。创建转储文件后，无法修改它（即，不能对其执行任何数据操作语言（DML）操作）。但是，该文件可以被读取任意次，并用作同一数据库或不同数据库中另一个外部表的转储文件。
                     </p>
                     <p>以下步骤使用示例模式<code class="codeph">oe</code>来显示如何使用<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序卸载和加载数据的扩展示例。（该示例假定目录对象<code class="codeph">def_dir1</code>已存在，并且该用户<code class="codeph">oe</code>具有对其的读写访问权限。）
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>只有在使用<code class="codeph">AS</code> <code class="codeph">SELECT</code>子句创建外部表的过程中，外部表才会使用数据填充文件。以下示例创建名为<code class="codeph">inventories_xt</code>的外部表，并使用<code class="codeph">oe</code>模式中的表<code class="codeph">inventories</code>中的数据填充外部表的转储文件。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE inventories_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'inv_xt.dmp'）7）8 AS SELECT * FROM inventoryories;表创建。
</pre></div>
                     </li>
                     <li class="stepexpand"><span>描述<code class="codeph">inventories</code>和新外部表，如下所示。它们都应该匹配。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE库存名称是否为空？输入---------------------------------------- --------- ---------------- PRODUCT_ID NOT NULL NUMBER（6）WAREHOUSE_ID NOT NULL NUMBER（3）QUANTITY_ON_HAND NOT NULL NUMBER（8）SQL&gt; DESCRIBE inventories_xt Name Null？输入----------------------------------------- -------- ----------------- PRODUCT_ID NOT NULL NUMBER（6）WAREHOUSE_ID NOT NULL NUMBER（3）QUANTITY_ON_HAND NOT NULL NUMBER（8）</pre></div>
                     </li>
                     <li class="stepexpand"><span>现在创建了外部表，可以像查询任何其他表一样查询它。例如，选择外部表中的记录计数，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT COUNT（*）FROM inventories_xt; COUNT（*）---------- 1112</pre></div>
                     </li>
                     <li class="stepexpand"><span>将外部表中的数据与<code class="codeph">inventories</code>中的数据进行比较。应该没有差异。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM inventoryories MINUS SELECT * FROM inventories_xt;没有选择任何行</pre></div>
                     </li>
                     <li class="stepexpand"><span>创建外部表并且<code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code>语句填充转储文件后，不能从外部表添加，更新或删除任何行。任何修改外部表中数据的尝试都将失败并显示错误。</span><div>
                           <p>以下示例显示尝试在现有外部表上使用数据操作语言（DML）。这将返回错误，如图所示。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DELETE FROM inventories_xt WHERE warehouse_id = 5; DELETE FROM inventories_xt WHERE warehouse_id = 5 *第1行的错误：ORA-30657：外部有组织的表不支持操作</pre></div>
                     </li>
                     <li class="stepexpand"><span>现在可以移动为外部表创建的转储文件，并将其用作同一数据库或不同数据库中另一个外部表的转储文件。请注意，在创建使用现有文件的外部表时， <code class="codeph">CREATE</code> <code class="codeph">TABLE</code>语句没有<code class="codeph">AS</code> <code class="codeph">SELECT</code>子句。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE inventories_xt2 2（3 product_id NUMBER（6），4 warehouse_id NUMBER（3），5 quantity_on_hand NUMBER（8）6）7 ORGANIZATION EXTERNAL 8（9 TYPE ORACLE_DATAPUMP 10 DEFAULT DIRECTORY def_dir1 11 LOCATION（'inv_xt.dmp'） 12）;表创建。
</pre></div>
                     </li>
                     <li class="stepexpand"><span>将新外部表的数据与<code class="codeph">inventories</code>表中的数据进行比较。在完成比较之前， <code class="codeph">product_id</code>字段将转换为兼容的数据类型。应该没有差异。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM inventoryories MINUS SELECT * FROM inventories_xt2;没有选择任何行</pre></div>
                     </li>
                     <li class="stepexpand"><span>创建一个包含三个转储文件的外部表，并且具有三个并行度。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE inventories_xt3 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'inv_xt1.dmp'，'inv_xt2.dmp'，'inv_xt3.dmp'）7）8并行3 9 AS SELECT * FROM inventoryories;表创建。
</pre></div>
                     </li>
                     <li class="stepexpand"><span>将数据卸载与<code class="codeph">inventories</code>进行比较。应该没有差异。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM inventoryories MINUS SELECT * FROM inventories_xt3;没有选择任何行</pre></div>
                     </li>
                     <li class="stepexpand"><span>创建一个包含表<code class="codeph">inventories</code>中某些行的外部表。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE inv_part_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'inv_p1_xt.dmp'）7）8 AS SELECT * FROM inventoryories WHERE warehouse_id &lt;5;表创建。
</pre></div>
                     </li>
                     <li class="stepexpand"><span>创建另一个包含<code class="codeph">inventories</code>其余行的外部表。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; drop table inv_part_xt;表丢了。SQL&gt; SQL&gt; CREATE TABLE inv_part_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'inv_p2_xt.dmp'）7）8 AS SELECT * FROM inventoryories WHERE warehouse_id&gt; = 5;表创建。
</pre></div>
                     </li>
                     <li class="stepexpand"><span>创建一个外部表，该表使用在步骤10和11中创建的两个转储文件。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE inv_part_all_xt 2（3 product_id NUMBER（6），4 warehouse_id NUMBER（3），5 quantity_on_hand NUMBER（8）6）7 ORGANIZATION EXTERNAL 8（9 TYPE ORACLE_DATAPUMP 10 DEFAULT DIRECTORY def_dir1 11 LOCATION（'inv_p1_xt.dmp'， 'inv_p2_xt.dmp'）12）;表创建。
</pre></div>
                     </li>
                     <li class="stepexpand"><span>将新外部表与<code class="codeph">inventories</code>表进行比较。应该没有差异。这是因为用于创建外部表的两个转储文件具有相同的元数据（例如，相同的表名<code class="codeph">inv_part_xt</code>和相同的列信息）。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM inventoryories MINUS SELECT * FROM inv_part_all_xt;没有选择任何行</pre></div>
                     </li>
                  </ol>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-3BEF455B-7CEB-4E5D-800A-7000A501A652">并行装卸</a><br>本主题描述并行加载和卸载。
                     </li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-5CEDE96D-98D5-4D1A-9198-0312FBA41D98">组合转储文件</a><br>由不同外部表填充的转储文件都可以在另一个外部表的<code class="codeph">LOCATION</code>子句中指定。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></p>
                     </div>
                  </div>
               </div>
               <a id="SUTIL1458"></a><div class="props_rev_3"><a id="GUID-3BEF455B-7CEB-4E5D-800A-7000A501A652" name="GUID-3BEF455B-7CEB-4E5D-800A-7000A501A652"></a><h4 id="SUTIL-GUID-3BEF455B-7CEB-4E5D-800A-7000A501A652" class="sect4"><span class="enumeration_section">16.3.1</span>平行装卸</h4>
                  <div>
                     <p>本主题描述并行加载和卸载。</p>
                     <p>转储文件必须位于足以容纳所有正在写入的数据的磁盘上。如果没有足够的空间用于所有数据，则会为<code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code>语句返回错误。解决此问题的一种方法是在执行<code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code>语句时在多个目录对象中创建多个文件（假设这些目录位于不同的磁盘上）。可以通过在<code class="codeph">LOCATION</code>子句中的表单<code class="codeph">directory:file</code>中指定多个位置并指定<code class="codeph">PARALLEL</code>子句来创建多个文件。为填充外部表而创建的每个并行I / O服务器进程都会写入其自己的文件。<code class="codeph">LOCATION</code>子句中的文件数应与并行化程度相匹配，因为每个I / O服务器进程都需要自己的文件。将忽略指定的任何额外文件。如果没有足够的文件来指定并行化程度，则降低并行度以匹配<code class="codeph">LOCATION</code>子句中的文件数。
                     </p>
                     <p>以下是将<code class="codeph">inventories</code>表卸载到三个文件中的示例。
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE inventories_XT_3 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'inv_xt1.dmp'，'inv_xt2.dmp'，'inv_xt3.dmp'）7）8 PARALLEL 3 9 AS SELECT * FROM oe。清单;表创建。
</pre><p>当<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序用于加载数据时，并行进程可以同时读取多个转储文件甚至同一个转储文件的块。因此，即使只有一个转储文件，也可以并行加载数据，只要该文件足够大以包含多个文件偏移即可。从<code class="codeph">ORACLE_DATAPUMP</code>外部表读取时，并行化程度与<code class="codeph">LOCATION</code>子句中的文件数无关。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-0B2EC1B2-701D-42ED-874C-47F22F21D847" title="作为使用SQL CREATE TABLE AS SELECT语句创建外部表的一部分，ORACLE_DATAPUMP访问驱动程序可以将数据写入转储文件。">使用ORACLE_DATAPUMP访问驱动程序卸载和加载数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL1459"></a><div class="props_rev_3"><a id="GUID-5CEDE96D-98D5-4D1A-9198-0312FBA41D98" name="GUID-5CEDE96D-98D5-4D1A-9198-0312FBA41D98"></a><h4 id="SUTIL-GUID-5CEDE96D-98D5-4D1A-9198-0312FBA41D98" class="sect4"><span class="enumeration_section">16.3.2</span>组合转储文件</h4>
                  <div>
                     <p>由不同外部表填充的转储文件都可以在另一个外部表的<code class="codeph">LOCATION</code>子句中指定。
                     </p>
                     <p>例如，可以将来自不同生产数据库的数据卸载到单独的文件中，然后这些文件都可以包含在数据仓库中定义的外部表中。这提供了一种从多个来源聚合数据的简便方法。唯一的限制是所有外部表的元数据完全相同。这意味着字符集，时区，模式名称，表名称和列名称必须全部匹配。此外，列必须以相同的顺序定义，并且它们的数据类型必须完全相同。这意味着在创建第一个外部表之后，必须将其删除，以便可以对第二个外部表使用相同的表名。这可确保两个转储文件中列出的元数据相同，并且可以一起使用它们来创建相同的外部表。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE inv_part_1_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'inv_p1_xt.dmp'）7）8 AS SELECT * FROM oe.inventories WHERE warehouse_id &lt;5;表创建。SQL&gt; DROP TABLE inv_part_1_xt; SQL&gt; CREATE TABLE inv_part_1_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT目录def_dir1 6 LOCATION（'inv_p2_xt.dmp'）7）8 AS SELECT * FROM oe.inventories WHERE warehouse_id&gt; = 5;表创建。SQL&gt; CREATE TABLE inv_part_all_xt 2（3 PRODUCT_ID NUMBER（6），4 WAREHOUSE_ID NUMBER（3），5 QUANTITY_ON_HAND NUMBER（8）6）7 ORGANIZATION EXTERNAL 8（9 TYPE ORACLE_DATAPUMP 10 DEFAULT DIRECTORY def_dir1 11 LOCATION（'inv_p1_xt.dmp'， 'inv_p2_xt.dmp'）12）;表创建。SQL&gt; SELECT * FROM inv_part_all_xt MINUS SELECT * FROM oe.inventories;没有选择任何行</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-0B2EC1B2-701D-42ED-874C-47F22F21D847" title="作为使用SQL CREATE TABLE AS SELECT语句创建外部表的一部分，ORACLE_DATAPUMP访问驱动程序可以将数据写入转储文件。">使用ORACLE_DATAPUMP访问驱动程序卸载和加载数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SUTIL1460"></a><div class="props_rev_3"><a id="GUID-5C97AFA9-C77D-4BF4-A97B-71CBAB58442C" name="GUID-5C97AFA9-C77D-4BF4-A97B-71CBAB58442C"></a><h3 id="SUTIL-GUID-5C97AFA9-C77D-4BF4-A97B-71CBAB58442C" class="sect3"><span class="enumeration_section">16.4</span>支持的数据类型</h3>
               <div>
                  <p>本主题描述了支持的数据类型。</p>
                  <p>使用外部表在数据库之间移动数据时，可能会遇到以下情况：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>两个平台之间的数据库字符集和数据库国家字符集可能不同。</p>
                     </li>
                     <li>
                        <p>两个数据库的平台的字节顺序可能不同。</p>
                     </li>
                  </ul>
                  <p><code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序自动解决其中一些情况。
                  </p>
                  <p>在加载和卸载期间会自动转换以下数据类型：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>字符（ <code class="codeph">CHAR</code> ， <code class="codeph">NCHAR</code> ， <code class="codeph">VARCHAR2</code> ， <code class="codeph">NVARCHAR2</code> ）</p>
                     </li>
                     <li>
                        <p><code class="codeph">生的</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">数</code></p>
                     </li>
                     <li>
                        <p>约会时间</p>
                     </li>
                     <li>
                        <p><code class="codeph">BLOB</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">ROWID</code>和<code class="codeph">UROWID</code></p>
                     </li>
                  </ul>
                  <p>如果您尝试使用外部表不支持的数据类型，则会收到错误。以下示例演示了这一点，其中使用了不支持的数据类型<code class="codeph">LONG</code> ：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE bad_datatype_xt 2（3 product_id NUMBER（6），4 language_id VARCHAR2（3），5 translated_name NVARCHAR2（50），6 translated_description LONG 7）8 ORERANIZATION EXTERNAL 9（10类型ORACLE_DATAPUMP 11默认目录def_dir1 12位置（'proddesc .dmp'）13）;在第6行的translated_description LONG * ERROR：ORA-30656：外部有组织的表不支持列类型</pre></div>
               <div>
                  <div class="infoboxnotealso" id="GUID-5C97AFA9-C77D-4BF4-A97B-71CBAB58442C__GUID-8D9B0708-F6FD-4F90-9107-0AF73328DF10">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="oracle_datapump-access-driver.html#GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899" title="本主题描述了不受支持的数据类型。">不支持的数据类型</a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL1461"></a><div class="props_rev_3"><a id="GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899" name="GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899"></a><h3 id="SUTIL-GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899" class="sect3"><span class="enumeration_section">16.5</span>不支持的数据类型</h3>
               <div>
                  <p>本主题描述了不受支持的数据类型。</p>
                  <p>外部表支持列的所有可能数据类型的子集。特别是，它支持字符数据类型（ <code class="codeph">LONG</code>除外）， <code class="codeph">RAW</code>数据类型，所有数字数据类型以及所有日期，时间戳和间隔数据类型。
                  </p>
                  <p>本节介绍如何使用<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序卸载和重新加载某些不受支持的数据类型的数据，具体如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">BFILE</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">LONG</code>和<code class="codeph">LONG</code> <code class="codeph">RAW</code></p>
                     </li>
                     <li>
                        <p>最终对象类型</p>
                     </li>
                     <li>
                        <p>最终对象类型表</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-1C77D335-ACBB-4FC0-AD04-5FF4D40809B4">卸载和加载BFILE数据类型</a><br><code class="codeph">BFILE</code>数据类型中存储有两条信息：文件的目录对象和该目录对象中的文件名。
                     </li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-68CF706F-E629-43EB-9B4B-6ADB37446173">卸载LONG和LONG RAW数据类型</a><br><code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序可用于卸载<code class="codeph">LONG</code>和<code class="codeph">LONG</code> <code class="codeph">RAW</code>列，但该数据只能加载回LOB字段。
                     </li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-719DC4D7-214A-4988-87FC-AFDA846F4578">卸载和加载包含最终对象类型的列</a><br>通过将对象类型中的每个属性移动到外部表中的列中，将最终列对象填充到外部表中。
                     </li>
                     <li class="ulchildlink"><a href="oracle_datapump-access-driver.html#GUID-77783263-FB7F-44E7-ACFE-2A754038D2BA">最终对象类型表</a><br>对象表具有唯一标识表中每一行的对象标识符。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></p>
                     </div>
                  </div>
               </div>
               <a id="SUTIL1462"></a><div class="props_rev_3"><a id="GUID-1C77D335-ACBB-4FC0-AD04-5FF4D40809B4" name="GUID-1C77D335-ACBB-4FC0-AD04-5FF4D40809B4"></a><h4 id="SUTIL-GUID-1C77D335-ACBB-4FC0-AD04-5FF4D40809B4" class="sect4"><span class="enumeration_section">16.5.1</span>卸载和加载BFILE数据类型</h4>
                  <div>
                     <p><code class="codeph">BFILE</code>数据类型中存储有两条信息：文件的目录对象和该目录对象中的文件名。
                     </p>
                     <div class="section">
                        <p>您可以使用<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序卸载<code class="codeph">BFILE</code>列，方法是将目录对象名称和文件名存储在外部表的两列中。程序<code class="codeph">DBMS_LOB</code> 。 <code class="codeph">FILEGETNAME</code>将返回名称的两个部分。但是，因为这是一个过程，所以它不能在<code class="codeph">SELECT</code>语句中使用。相反，需要两个功能。第一个将返回目录对象的名称，第二个将返回文件的名称。
                        </p>
                        <p>以下扩展示例中的步骤演示了<code class="codeph">BFILE</code>数据类型的卸载和加载。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>创建一个函数来提取<code class="codeph">BFILE</code>列的目录对象。请注意，如果<code class="codeph">NULL</code> ，则返回<code class="codeph">NULL</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE FUNCTION get_dir_name（bf BFILE）RETURN VARCHAR2 IS 2 DIR_ALIAS VARCHAR2（255）; 3 FILE_NAME VARCHAR2（255）; 4 BEGIN 5如果bf为NULL 6那么7返回NULL; 8 ELSE 9 DBMS_LOB.FILEGETNAME（bf，dir_alias，file_name）; 10返回dir_alias; 11结束IF; 12结束; 13 /创建功能。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建一个函数来提取<code class="codeph">BFILE</code>列的文件名。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE FUNCTION get_file_name（bf BFILE）RETURN VARCHAR2是2 dir_alias VARCHAR2（255）; 3 file_name VARCHAR2（255）; 4 BEGIN 5如果bf为NULL 6那么7返回NULL; 8 ELSE 9 DBMS_LOB.FILEGETNAME（bf，dir_alias，file_name）; 10 RETURN file_name; 11结束IF; 12结束; 13 /创建功能。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>然后，您可以为<code class="codeph">BFILE</code>列添加一个<code class="codeph">NULL</code>值的行，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT INTO PRINT_MEDIA（product_id，ad_id，ad_graphic）2 VALUES（3515,12001，NULL）;已创建1行。
</pre><p>您可以使用新创建的函数来填充外部表。请注意，如果<code class="codeph">BFILE</code> <code class="codeph">ad_graphic_file</code> <code class="codeph">NULL</code> ，则函数应将列<code class="codeph">ad_graphic_dir</code>和<code class="codeph">ad_graphic_file</code>设置为<code class="codeph">NULL</code> 。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>创建一个外部表以包含<code class="codeph">print_media</code>表中的数据。使用<code class="codeph">get_dir_name</code>和<code class="codeph">get_file_name</code>函数来获取<code class="codeph">BFILE</code>列的组件。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE print_media_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE oracle_datapump 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'pm_xt.dmp'）7）AS 8 SELECT product_id，ad_id，9 get_dir_name（ad_graphic）ad_graphic_dir，10 get_file_name（ad_graphic）ad_graphic_file 11 FROM印刷媒体;表创建。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建一个函数以从外部表中的数据加载<code class="codeph">BFILE</code>列。如果外部表中的<code class="codeph">ad_graphic_dir</code> <code class="codeph">NULL</code>则此函数将返回<code class="codeph">NULL</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE FUNCTION get_bfile（dir VARCHAR2，file VARCHAR2）RETURN BFILE是2 bf BFILE; 3 BEGIN 4如果dir为空5那么6返回NULL; 7 ELSE 8 RETURN BFILENAME（dir，file）; 9结束IF; 10结束; 11 /创建功能。
</pre></div>
                        </li>
                        <li class="stepexpand"><span><code class="codeph">get_bfile</code>函数可用于填充包含<code class="codeph">BFILE</code>列的新表。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE print_media_int AS 2 SELECT product_id，ad_id，3 get_bfile（ad_graphic_dir，ad_graphic_file）ad_graphic 4 FROM print_media_xt;表创建。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>新加载的表的列中的数据应与<code class="codeph">print_media</code>表的列中的数据匹配。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT product_id，ad_id，2 get_dir_name（ad_graphic），3 get_file_name（ad_graphic）4 FROM print_media_int 5 MINUS 6 SELECT product_id，ad_id，7 get_dir_name（ad_graphic），8 get_file_name（ad_graphic）9 FROM print_media;没有选择任何行</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899" title="本主题描述了不受支持的数据类型。">不支持的数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL1463"></a><div class="props_rev_3"><a id="GUID-68CF706F-E629-43EB-9B4B-6ADB37446173" name="GUID-68CF706F-E629-43EB-9B4B-6ADB37446173"></a><h4 id="SUTIL-GUID-68CF706F-E629-43EB-9B4B-6ADB37446173" class="sect4"><span class="enumeration_section">16.5.2</span>卸载LONG和LONG RAW数据类型</h4>
                  <div>
                     <p><code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序可用于卸载<code class="codeph">LONG</code>和<code class="codeph">LONG</code> <code class="codeph">RAW</code>列，但该数据只能加载回LOB字段。
                     </p>
                     <div class="section">
                        <p>以下扩展示例中的步骤演示了<code class="codeph">LONG</code>和<code class="codeph">LONG</code> <code class="codeph">RAW</code>数据类型的卸载。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>如果要卸载的表包含<code class="codeph">LONG</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code>列，则将外部表中的相应列定义为<code class="codeph">LONG</code>列的<code class="codeph">CLOB</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code>列的<code class="codeph">BLOB</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE long_tab 2（3键SMALLINT，4个描述LONG 5）;表创建。SQL&gt; INSERT INTO long_tab VALUES（1，'Description Text'）;已创建1行。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>现在，可以创建一个包含<code class="codeph">CLOB</code>列的外部表，以包含<code class="codeph">LONG</code>列中的数据。请注意，在加载外部表时， <code class="codeph">TO_LOB</code>运算符用于将<code class="codeph">LONG</code>列转换为<code class="codeph">CLOB</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE long_tab_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'long_tab_xt.dmp'）7）8 AS SELECT键，TO_LOB（描述）description FROM long_tab;表创建。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>外部表中的数据可用于创建与卸载的表完全相同的另一个表，除了新表将包含LOB列而不是<code class="codeph">LONG</code>列。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE lob_tab 2来自long_tab_xt的AS SELECT *;表创建。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>验证表是否已正确创建。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM lob_tab;关键描述------------------------------------------------ ---------------------------- 1说明文字</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899" title="本主题描述了不受支持的数据类型。">不支持的数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL1464"></a><div class="props_rev_3"><a id="GUID-719DC4D7-214A-4988-87FC-AFDA846F4578" name="GUID-719DC4D7-214A-4988-87FC-AFDA846F4578"></a><h4 id="SUTIL-GUID-719DC4D7-214A-4988-87FC-AFDA846F4578" class="sect4"><span class="enumeration_section">16.5.3</span>卸载和加载包含最终对象类型的列</h4>
                  <div>
                     <p>通过将对象类型中的每个属性移动到外部表中的列中，将最终列对象填充到外部表中。</p>
                     <div class="section">
                        <p>此外，外部表需要一个新列来跟踪列对象是否为原子<code class="codeph">NULL</code> 。以下步骤演示了卸载和加载包含最终对象类型的列。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在下面的例子中， <code class="codeph">warehouse</code>中的外部表列用于跟踪是否<code class="codeph">warehouse</code>源表列是原子<code class="codeph">NULL</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE inventories_obj_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'inv_obj_xt.dmp'）7）8 AS 9 SELECT oi.product_id，10 DECODE（oi.warehouse，NULL，0,1）仓库，11 oi.warehouse.location_id location_id，12 oi.warehouse.warehouse_id warehouse_id，13 oi.warehouse.warehouse_name warehouse_name，14 oi.quantity_on_hand 15 FROM oc_inventories oi;表创建。
</pre><p>包含对象类型属性的外部表中的列现在可以在加载该类型的列时用作类型构造函数的参数。请注意，外部表中的<code class="codeph">warehouse</code>列用于确定是否为对象调用构造函数或将列设置为<code class="codeph">NULL</code> 。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>加载一个看起来与<code class="codeph">oc_inventories</code>视图完全相同的新内部表。（使用<code class="codeph">WHERE</code> <code class="codeph">1=0</code>子句创建一个看起来与旧表完全相同的新表，但不会将旧表中的任何数据复制到新表中。）</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE oc_inventories_2 AS SELECT * FROM oc_inventories WHERE 1 = 0;表创建。SQL&gt; INSERT INTO oc_inventories_2 2 SELECT product_id，3 DECODE（仓库，0，NULL，4仓库_typ（warehouse_id，仓库名称，5 location_id）），quantity_on_hand 6 FROM inventoryories_obj_xt;创建了1112行。</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899" title="本主题描述了不受支持的数据类型。">不支持的数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL1465"></a><div class="props_rev_3"><a id="GUID-77783263-FB7F-44E7-ACFE-2A754038D2BA" name="GUID-77783263-FB7F-44E7-ACFE-2A754038D2BA"></a><h4 id="SUTIL-GUID-77783263-FB7F-44E7-ACFE-2A754038D2BA" class="sect4"><span class="enumeration_section">16.5.4</span>最终对象类型表</h4>
                  <div>
                     <p>对象表具有唯一标识表中每一行的对象标识符。</p>
                     <p>可能发生以下情况：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果不需要卸载和重新加载对象标识符，则外部表只需要包含对象表的类型属性的字段。</p>
                        </li>
                        <li>
                           <p>如果需要卸载并重新加载对象标识符（OID）并且表的OID是表中的一个或多个字段（也称为基于主键的OID），则外部表对于每个属性都有一列表格的类型。</p>
                        </li>
                        <li>
                           <p>如果需要卸载OID并且表的OID是系统生成的，则该过程更复杂。除了类型的属性之外，还需要创建另一列来保存系统生成的OID。</p>
                        </li>
                     </ul>
                     <p>以下示例中的步骤演示了最后一种情况。</p>
                     <ol>
                        <li>
                           <p>使用系统生成的OID创建一个类型的表：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TYPE person AS OBJECT（name varchar2（20））NOT FINAL 2 / Type created。SQL&gt; CREATE TABLE人物;表创建。SQL&gt; INSERT INTO people VALUES（'Euclid'）;已创建1行。
</pre></li>
                        <li>
                           <p>创建一个外部表，其中列<code class="codeph">OID</code>用于保存包含系统生成的OID的列。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE people_xt 2 ORGANIZATION EXTERNAL 3（4 TYPE ORACLE_DATAPUMP 5 DEFAULT DIRECTORY def_dir1 6 LOCATION（'people.dmp'）7）8 AS SELECT SYS_NC_OID $ oid，name FROM people;表创建。
</pre></li>
                        <li>
                           <p>使用系统生成的OID创建另一个相同类型的表。然后，执行<code class="codeph">INSERT</code>语句以从旧表中卸载数据来加载新表。
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE people2 OF person;表创建。SQL&gt; SQL&gt; INSERT INTO people2（SYS_NC_OID $，SYS_NC_ROWINFO $）2 SELECT oid，person（name）FROM persons_xt;已创建1行。SQL&gt; SQL&gt; SELECT SYS_NC_OID $，name FROM people 2 MINUS 3 SELECT SYS_NC_OID $，name FROM people2;没有选择任何行</pre></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-4FA55A48-2401-4BE2-915E-875AD6B4B899" title="本主题描述了不受支持的数据类型。">不支持的数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SUTIL3439"></a><div class="props_rev_3"><a id="GUID-1061CC64-EB94-4546-B6B4-82CAF405E36C" name="GUID-1061CC64-EB94-4546-B6B4-82CAF405E36C"></a><h3 id="SUTIL-GUID-1061CC64-EB94-4546-B6B4-82CAF405E36C" class="sect3"><span class="enumeration_section">16.6</span>使用ORACLE_DATAPUMP访问驱动程序时的性能提示</h3>
               <div>
                  <p>本主题介绍使用<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序时的性能提示。
                  </p>
                  <p>监控性能时，最重要的衡量指标是负载的运行时间。其他重要的测量是CPU使用率，内存使用率和I / O速率。</p>
                  <p>您可以通过增加或减少并行度来改变性能。并行度表示可以启动以处理数据文件的访问驱动程序的数量。并行度使您能够在较少负载和较少资源使用之间以及使用所有资源的较快负载之间进行选择。访问驱动程序无法自动调整自身，因为它无法确定要将多少资源专用于访问驱动程序。</p>
                  <p>另一个考虑因素是访问驱动程序使用大型I / O缓冲区以获得更好的性能。在具有共享服务器的数据库上，访问驱动程序使用的所有内存都来自系统全局区域（SGA）。因此，在共享服务器上使用外部表时应该小心。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL3440"></a><div class="props_rev_3"><a id="GUID-F3E32FE4-F0AE-4658-97A3-EBEA141E792B" name="GUID-F3E32FE4-F0AE-4658-97A3-EBEA141E792B"></a><h3 id="SUTIL-GUID-F3E32FE4-F0AE-4658-97A3-EBEA141E792B" class="sect3"><span class="enumeration_section">16.7</span>使用ORACLE_DATAPUMP访问驱动程序时的限制</h3>
               <div>
                  <p>本主题描述了<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序的限制。
                  </p>
                  <div class="section">
                     <p>特别：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>不支持导出和导入带有加密列的外部表。</p>
                        </li>
                        <li>
                           <p>列处理：默认情况下，外部表功能提取为外部表定义的所有列。这保证了所有查询的一致结果集。但是，出于性能原因，您可以决定仅处理外部表的引用列，从而最大限度地减少执行查询所需的数据转换和数据处理量。在这种情况下，如果查询未引用该列，则由于行中的列导致数据类型转换错误而被拒绝的行将不会在其他查询中被拒绝。您可以使用<code class="codeph">ALTER TABLE</code>命令更改此列处理行为。
                           </p>
                        </li>
                        <li>
                           <p>外部表无法将数据加载到<code class="codeph">LONG</code>列中。
                           </p>
                        </li>
                        <li>
                           <p>在加载期间处理字节顺序标记：在数据文件字符集为UTF8或UTF16的外部表加载中，不能禁止检查字节顺序标记。仅当数据文件的开头包含与字节顺序标记编码匹配的二进制数据时，才需要禁止字节顺序标记检查。（可以使用SQL * Loader加载来抑制字节顺序标记检查。）请注意，检查字节顺序标记并不意味着数据文件中必须存在字节顺序标记。如果不存在字节顺序标记，则使用服务器平台的字节顺序。</p>
                        </li>
                        <li>
                           <p>外部表功能不支持在字符串中使用反斜杠（\）转义字符。请参阅<a href="oracle-sql-loader-concepts.html#GUID-4626E5AA-FB07-4F09-B82E-64A5C099AF26" title="本节介绍如何使用反斜杠转义字符。">使用反斜杠转义字符</a> 。
                           </p>
                        </li>
                        <li>
                           <p>当在外部表访问参数中指定标识符（例如，列或表名）时，访问参数解析器将某些值视为保留字。如果保留字用作标识符，则必须用双引号括起来。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL1466"></a><div class="props_rev_3"><a id="GUID-936F4EAA-2F14-48E5-8EE4-A2D9A56C3A05" name="GUID-936F4EAA-2F14-48E5-8EE4-A2D9A56C3A05"></a><h3 id="SUTIL-GUID-936F4EAA-2F14-48E5-8EE4-A2D9A56C3A05" class="sect3"><span class="enumeration_section">16.8</span> ORACLE_DATAPUMP访问驱动程序的保留字</h3>
               <div>
                  <p>本主题描述<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序的保留字。
                  </p>
                  <div class="section">
                     <p>当在外部表访问参数中指定标识符（例如，列或表名）时，访问参数解析器将某些值视为保留字。如果保留字用作标识符，则必须用双引号括起来。以下是<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序的保留字：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">BADFILE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">兼容</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">压缩</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">数据泵</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DEBUG</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">加密</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">内部</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">工作</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">最新</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">LOGFILE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NOBADFILE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NOLOGFILE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">平行</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">表</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">版</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">WORKERID</code></p>
                        </li>
                     </ul>
                     <p></p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="02629.indroducing-oracle-database-real-application-security.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>介绍Oracle数据库Real Application Security</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="real-application-security-administrators-and-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:21:48-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2012, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95725-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="release-changes.html" title="Previous" type="text/html"></link>
      <link rel="next" href="configuring-application-users-and-application-roles.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBFSG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="release-changes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="configuring-application-users-and-application-roles.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Security管理员和开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">介绍Oracle数据库Real Application Security</li>
            </ol>
            <a id="GUID-4CA063EE-9405-439A-AAA1-5919E3C1470B" name="GUID-4CA063EE-9405-439A-AAA1-5919E3C1470B"></a><a id="DBFSG10000"></a>
            
            <h2 id="DBFSG-GUID-4CA063EE-9405-439A-AAA1-5919E3C1470B" class="sect2"><span class="enumeration_chapter">1</span> Oracle数据库Real Application Security简介</h2>
         </header>
         <div class="ind">
            <div>
               <div class="p">本章包含：<ul style="list-style-type:disc">
                     <li>
                        <p><a href="indroducing-oracle-database-real-application-security.html#GUID-4C750CA9-4871-4B77-8EE9-FB9B7397044E">什么是Oracle数据库真实应用安全性？</a></p>
                     </li>
                     <li>
                        <p><a href="indroducing-oracle-database-real-application-security.html#GUID-D87CCF3D-B7DF-49DE-B648-3B835100E9CB">实际应用安全中使用的数据安全概念</a></p>
                     </li>
                     <li>
                        <p><a href="indroducing-oracle-database-real-application-security.html#GUID-79BE54B2-D5B8-464B-B311-0638A98B8F92">Application Security中使用的应用程序会话概念</a></p>
                     </li>
                     <li>
                        <p><a href="indroducing-oracle-database-real-application-security.html#GUID-063E5543-FF69-46F9-8FCA-DB4E987647A4" title="您应该熟悉本章介绍的概念，以充分利用Real Application Security。">设计与开发的流程</a></p>
                     </li>
                     <li>
                        <p><a href="indroducing-oracle-database-real-application-security.html#GUID-586753AB-4D90-4196-8D02-CBB2FD7891B0">场景：员工信息的安全人力资源（HR）演示</a></p>
                     </li>
                     <li>
                        <p><a href="indroducing-oracle-database-real-application-security.html#GUID-D9E74B80-8B5F-42D1-A6BD-5EA55ED88A97">关于Oracle数据库实际应用程序安全环境中的审计</a></p>
                     </li>
                     <li>
                        <p><a href="indroducing-oracle-database-real-application-security.html#GUID-054B6840-D2D6-479C-A0CA-33B535954E07">支持可插拔数据库</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBFSG99009"></a><div class="props_rev_3"><a id="GUID-4C750CA9-4871-4B77-8EE9-FB9B7397044E" name="GUID-4C750CA9-4871-4B77-8EE9-FB9B7397044E"></a><h3 id="DBFSG-GUID-4C750CA9-4871-4B77-8EE9-FB9B7397044E" class="sect3">什么是Oracle数据库真实应用安全性？</h3>
               <div>
                  <p>Oracle Database Real Application Security是一种数据库授权模型，它具有：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>支持声明性安全策略</p>
                     </li>
                     <li>
                        <p>为多层应用程序启用端到端安全性</p>
                     </li>
                     <li>
                        <p>提供安全数据库和应用程序资源的集成解决方案</p>
                     </li>
                     <li>
                        <p>推进Oracle数据库的安全体系结构，以满足为Internet开发的应用程序的现有和新兴需求</p>
                     </li>
                  </ul>
                  <p>传统安全性是为客户端/服务器系统设计的。与为互联网设计的新应用程序相比，这些系统的用户数量要少得多。当应用程序开发人员发现传统安全性不足时，他们经常将其从数据库层移到应用程序层。为此，开发人员经常构建自己的表并定义自己的应用程序用户。由于安全性是在应用程序层而不是数据库中编码的，因此应用程序用户和应用程序角色通常只为应用程序所知。换句话说，数据库用户不是应用程序级用户，因此在数据库中的访问控制决策期间不知道用户身份。此外，数据库操作仅限于不代表应用程序级任务或操作的DDL和DML，因此在数据库中的访问控制决策期间也不知道操作上下文。这些做法使数据库暴露于漏洞。</p>
                  <p>Real Application Security旨在：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>管理应用程序用户而不是数据库用户的应用程序安</p>
                     </li>
                     <li>
                        <p>使开发人员能够管理应用级别任务的安全性</p>
                     </li>
                     <li>
                        <p>在安全实施期间启用应用程序用户身份</p>
                     </li>
                     <li>
                        <p>使开发人员能够以增量方式或一次性将所有安全性返回到数据库层</p>
                     </li>
                  </ul>
                  <p>本节讨论传统安全性和Real Application Security，指出Real Application Security如何改进传统安全性。</p>
                  <div class="p">本节介绍这些概念：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-B5DBB9E1-BD03-480B-A9AE-386B07EB0D2B">传统安全性管理应用程序用户的缺点</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-A543583A-15D7-4CA4-99DC-9C282FBA8C49">实际应用程序安全性的优点</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-55E83264-B53B-481C-B5DB-8E34C9A46EE3">实际应用安全体系结构</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99788"></a><div class="props_rev_3"><a id="GUID-B5DBB9E1-BD03-480B-A9AE-386B07EB0D2B" name="GUID-B5DBB9E1-BD03-480B-A9AE-386B07EB0D2B"></a><h4 id="DBFSG-GUID-B5DBB9E1-BD03-480B-A9AE-386B07EB0D2B" class="sect4">传统安全性管理应用程序用户的缺点</h4>
                  <div>
                     <p>使用传统的安全模型<a id="d5876e425" class="indexterm-anchor"></a> ，通常很难管理三层应用程序，尤其是在执行这些安全任务时：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>独立于应用程序代码扩展安全策略</p>
                        </li>
                        <li>
                           <p>在应用程序用户未知的数据库级别实施安全策略</p>
                        </li>
                        <li>
                           <p>强制执行最低权限原则作为完全访问权限授予高权限的两层组件</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99789"></a><div class="props_rev_3"><a id="GUID-A543583A-15D7-4CA4-99DC-9C282FBA8C49" name="GUID-A543583A-15D7-4CA4-99DC-9C282FBA8C49"></a><h4 id="DBFSG-GUID-A543583A-15D7-4CA4-99DC-9C282FBA8C49" class="sect4">实际应用程序安全性的优点</h4>
                  <div>
                     <p>Real Application Security支持这些安全任务，可提高数据库的安全性和性能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>三层和双层应用程序可以在数据库层声明性地定义，提供和实施访问控制要求。</p>
                        </li>
                        <li>
                           <p>数据库可以跨所有层提供统一的安全模型，并支持多个应用程序用户存储，包括关联角色，身份验证凭据，数据库属性和应用程序定义的属性。此模型使应用程序用户可以在Oracle企业中拥有唯一的唯一全局标识。</p>
                        </li>
                        <li>
                           <p>Oracle数据库本身可以支持应用程序安全上下文。数据库支持应用程序和数据库的集成策略规范和实施，因此应用程序不需要通过应用程序代码执行此操作。由于数据库存储应用程序安全上下文信息，因此也会减少网络流量。</p>
                        </li>
                        <li>
                           <p>开发人员可以使用Real Application Security以通用方式控制应用程序用户对Oracle企业所有组件中Oracle数据库中数据的访问。</p>
                           <p>有关定义数据安全策略和访问控制要求的详细信息，请参阅<a href="configuring-data-security.html#GUID-ED34EBA9-8906-41A9-9491-B303DA4824E1" title="描述在同一模式中跨不同应用程序引入Real Application Security策略管理的模式级权限。介绍如何为两个应用程序管理员设置和启用架构级别数据安全策略。介绍如何禁用数据安全策略并撤消用户的系统权限。">配置数据安全</a>性。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99010"></a><a id="DBFSG99790"></a><div class="props_rev_3"><a id="GUID-55E83264-B53B-481C-B5DB-8E34C9A46EE3" name="GUID-55E83264-B53B-481C-B5DB-8E34C9A46EE3"></a><h4 id="DBFSG-GUID-55E83264-B53B-481C-B5DB-8E34C9A46EE3" class="sect4">实际应用安全体系结构</h4>
                  <div>
                     <p>真实应用安全<a id="d5876e699" class="indexterm-anchor"></a>通过PL / SQL和Java API集合进行管理。此体系结构使您能够配置其组件 - 应用程序用户，应用程序角色，会话和其他与安全相关的组件。使用Real Application Security，您可以通过使用存储在表中的实体来为传统用户，角色和会话配置应用程序对应项。
                     </p>
                     <p><a href="indroducing-oracle-database-real-application-security.html#GUID-55E83264-B53B-481C-B5DB-8E34C9A46EE3__BABHAIFD">图1-1</a>显示了各种组件<a id="d5876e707" class="indexterm-anchor"></a>用于Oracle数据库Real Application Security。这包括应用程序用户，应用程序角色，访问控制列表，安全性类和应用程序会话。以下各节将讨论这些组件。<a href="indroducing-oracle-database-real-application-security.html#GUID-55E83264-B53B-481C-B5DB-8E34C9A46EE3__BABHAIFD">图1-1</a>还显示了为数据库建立应用程序会话的Web应用程序。
                     </p>
                     <div class="figure" id="GUID-55E83264-B53B-481C-B5DB-8E34C9A46EE3__BABHAIFD">
                        <p class="titleinfigure">图1-1 Oracle数据库实际应用程序安全组件</p><img src="img/fs_basic.png" alt="下面是图1-1的描述" title="下面是图1-1的描述" longdesc="img_text/fs_basic.html"><br><a href="img_text/fs_basic.html">“图1-1 Oracle数据库实际应用程序安全组件”的说明</a></div>
                     <!-- class="figure" -->
                  </div>
               </div>
            </div><a id="DBFSG99011"></a><div class="props_rev_3"><a id="GUID-D87CCF3D-B7DF-49DE-B648-3B835100E9CB" name="GUID-D87CCF3D-B7DF-49DE-B648-3B835100E9CB"></a><h3 id="DBFSG-GUID-D87CCF3D-B7DF-49DE-B648-3B835100E9CB" class="sect3">实际应用安全中使用的数据安全概念</h3>
               <div>
                  <p>本节介绍在开始配置Real Application Security之前需要了解的访问控制术语和概念。使用PL / SQL管理界面，您可以创建和管理此处描述的实体：应用程序用户，应用程序角色，主体，应用程序权限，安全性类， <span class="italic">访问控制列表</span> （ACL），访问控制条目（ACE）和数据域。
                  </p>
                  <div class="infoboxnote" id="GUID-D87CCF3D-B7DF-49DE-B648-3B835100E9CB__GUID-966F8F98-CA8B-42B1-B62F-4461BB776BE7">
                     <p class="notep1">注意：</p>
                     <p>当此处使用诸如<span class="italic">应用程序用户</span>或<span class="italic">应用程序角色之</span>类的术语时，它适用于Real Application Security;当区分数据库类型很重要时，要么不使用限定符，要么使用限定符<span class="italic">数据库</span> 。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-D87CCF3D-B7DF-49DE-B648-3B835100E9CB__GUID-B1B07A73-66B6-4D1C-84E3-FDC6FB0D957F">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="configuring-application-users-and-application-roles.html#GUID-D6986696-8068-418F-914C-F33B9AD165DF" title="描述对Real Application Security用户的Oracle Label Security支持。">配置应用程序用户和应用程序角色</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-7CA4B68D-D6F0-46FC-96FE-B18F6B4EF43E">配置应用程序权限和访问控制列表</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="p">本节包含：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-153BF3BB-3017-42A1-8257-B8492166D9BE">关于使用Oracle数据库Real Application Security的数据安全性</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-75ECE2BF-08EE-451E-B303-43DB307382F6">校长：用户和角色</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-ADD1B3F5-88A9-42F9-8A5B-1E3A916C5DDF">应用程序权限</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-BCB71BA8-B291-49C3-81AC-1FB28B719313">Oracle数据库Real Application Security中的安全类</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-0829FF53-9730-4C6C-A74B-A6D4B77ABCFA">访问控制条目（ACE）</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-C0E9EFE1-3070-4D81-9EC5-9C5625398464">访问控制列表（ACL）</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-D12A39BD-F6A9-4D93-B9CD-F47D65F99A2F">数据安全政策</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99013"></a><a id="DBFSG99012"></a><div class="props_rev_3"><a id="GUID-153BF3BB-3017-42A1-8257-B8492166D9BE" name="GUID-153BF3BB-3017-42A1-8257-B8492166D9BE"></a><h4 id="DBFSG-GUID-153BF3BB-3017-42A1-8257-B8492166D9BE" class="sect4">关于使用Oracle数据库Real Application Security的数据安全性</h4>
                  <div>
                     <p>有效的安全需要定义<a id="d5876e1013" class="indexterm-anchor"></a><a id="d5876e1017" class="indexterm-anchor"></a>哪些应用程序用户，应用程序或功能可以访问哪些数据，以执行哪种操作。因此，有效的安全性有以下三个方面：</p>
                     <ol>
                        <li>
                           <p><span class="italic">哪个应用用户</span></p>
                        </li>
                        <li>
                           <p>可以执行<span class="italic">哪些操作</span> 
                           </p>
                        </li>
                        <li>
                           <p>在<span class="italic">哪些数据上</span></p>
                        </li>
                     </ol>
                     <p>您可以分别定义（1）主体，（2）应用程序权限和（3）与这三个维度相关的对象。校长是用户和角色。角色可以表示应用程序用户，系统状态或一段代码的属性。</p>
                     <p>通过定义ACL，委托人和应用程序权限以声明方式相关。然后，通过定义保护表数据的行和列的数据安全策略，这些ACL与数据相关。例如，您可以使用PL / SQL过程来设置控制ACL来保护表数据。</p>
                     <p><a href="indroducing-oracle-database-real-application-security.html#GUID-153BF3BB-3017-42A1-8257-B8492166D9BE__BABEJJFC">图1-2</a>说明了一个示例，其中用户<code class="codeph">ProjectManager</code>对由A组项目组成的数据领域具有<code class="codeph">ModifyProject</code>特权。
                     </p>
                     <div class="figure" id="GUID-153BF3BB-3017-42A1-8257-B8492166D9BE__BABEJJFC">
                        <p class="titleinfigure">图1-2数据安全的三个维度</p><img src="img/access_control.gif" alt="下面是图1-2的描述" title="下面是图1-2的描述" longdesc="img_text/access_control.html"><br><a href="img_text/access_control.html">“图1-2数据安全的三个维度”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="DBFSG99014"></a><div class="props_rev_3"><a id="GUID-75ECE2BF-08EE-451E-B303-43DB307382F6" name="GUID-75ECE2BF-08EE-451E-B303-43DB307382F6"></a><h4 id="DBFSG-GUID-75ECE2BF-08EE-451E-B303-43DB307382F6" class="sect4">校长：用户和角色</h4>
                  <div>
                     <p>在讨论细粒度数据库访问控制时， <strong class="term">主体</strong>是应用程序用户或应用程序角色或数据库用户或数据库角色。<strong class="term">应用程序用户</strong>可以是访问数据库中的信息的人员或自主应用程序进程。<strong class="term">应用程序角色</strong>是完成现实生活任务所需的应用程序权限的逻辑分组。应用程序角色可以包含其他应用程序角色，但此递归不能是循环的。您使用应用程序角色将应用程序用户（数据库用户和应用程序用户）与权限相关联
                     </p>
                     <p>Oracle数据库支持以下作为<span class="italic">主体</span> ：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><strong class="term">数据库用户</strong>和<strong class="term">数据库角色</strong></p>
                           <p>数据库用户有时也称为数据库<span class="italic">模式</span>或用户<span class="italic">帐户</span> 。当人员或应用程序登录到数据库时，它使用数据库用户（架构）和密码。
                           </p>
                           <p>数据库角色对应于可以授予数据库用户，应用程序或其他数据库角色的一组数据库特权 - 请参阅<span class="q">“ <a href="indroducing-oracle-database-real-application-security.html#GUID-82D7CB3B-332D-42A7-AAFF-F266CFDBF84A">了解数据库角色和应用程序角色之间的差异</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p><strong class="term">应用用户</strong>和<strong class="term">应用角色</strong> 
                           </p>
                           <p>Real Application Security使用的术语“ <span class="italic">应用程序”</span>是指创建应用程序用户，应用程序角色或会话，其中仅包含与应用程序用户登录的应用程序相关的信息。应用程序用户和应用程序角色由应用程序定义，不需要绑定到任何数据库架构。
                           </p>
                           <p>应用程序用户还可以通过直接连接到数据库来创建重量级数据库会话。这些称为直接登录应用程序用户。请参阅<span class="q">“ <a href="configuring-application-users-and-application-roles.html#GUID-BADE624E-3134-47BC-8949-FCE7E3086A4B" title="描述对Real Application Security用户的Oracle Label Security支持。">关于创建直接登录应用程序用户帐户</a> ”</span> 。当应用程序用户创建重量级数据库会话时，用户的默认架构将设置为仅用于名称解析目的的预配置值，例如<code class="codeph">HR</code> 。</p>
                           <p>应用程序角色只能授予应用程序用户或其他应用程序角色。您无法直接向应用程序用户和应用程序角色授予数据库权限。有关更多详细信息，请参阅<span class="q">“ <a href="indroducing-oracle-database-real-application-security.html#GUID-6B1682B1-6B63-40CB-A6B3-99878BC0AEA2">向应用程序用户和应用程序角色授予数据库权限</a> ”</span> 。
                           </p>
                           <div class="infoboxnotealso" id="GUID-75ECE2BF-08EE-451E-B303-43DB307382F6__GUID-B6719FA7-2F11-455B-B272-CDDB7F8882E3">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="configuring-application-users-and-application-roles.html#GUID-A0929CEA-1456-46A1-B182-C877C79CF9DC" title="描述对Real Application Security用户的Oracle Label Security支持。">关于配置应用程序用户</a> ”</span> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="configuring-application-users-and-application-roles.html#GUID-349C89E8-DC1D-4641-898D-F8B8B94B79B8">关于配置应用程序角色</a> ”</span></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                     <div class="p">本节包括以下部分：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="indroducing-oracle-database-real-application-security.html#GUID-7C0AD947-E961-4D02-819D-F096459A5718">了解数据库用户和应用程序用户之间的差异</a></p>
                           </li>
                           <li>
                              <p><a href="indroducing-oracle-database-real-application-security.html#GUID-82D7CB3B-332D-42A7-AAFF-F266CFDBF84A">了解数据库角色和应用程序角色之间的差异</a></p>
                           </li>
                           <li>
                              <p><a href="indroducing-oracle-database-real-application-security.html#GUID-6B1682B1-6B63-40CB-A6B3-99878BC0AEA2">向应用程序用户和应用程序角色授予数据库权限</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DBFSG99015"></a><div class="props_rev_3"><a id="GUID-7C0AD947-E961-4D02-819D-F096459A5718" name="GUID-7C0AD947-E961-4D02-819D-F096459A5718"></a><h5 id="DBFSG-GUID-7C0AD947-E961-4D02-819D-F096459A5718" class="sect5">了解数据库用户和应用程序用户之间的差异</h5>
                     <div>
                        <p>数据库用户也称为<span class="italic">传统</span>用户，具有以下特征：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>它们与模式和密码相关联。</p>
                           </li>
                           <li>
                              <p>他们可以为与之关联的模式创建重量级会话。</p>
                           </li>
                        </ul>
                        <p>应用程序用户由应用程序定义，具有以下特征：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>它们不拥有数据库模式。</p>
                           </li>
                           <li>
                              <p>他们可以通过中间层创建到数据库的应用程序会话。</p>
                           </li>
                           <li>
                              <p>他们可以通过直接连接到数据库来创建重量级数据库会话。（请参阅<span class="q">“ <a href="configuring-application-users-and-application-roles.html#GUID-BADE624E-3134-47BC-8949-FCE7E3086A4B" title="描述对Real Application Security用户的Oracle Label Security支持。">关于创建直接登录应用程序用户帐户</a> ”</span> 。）
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-7C0AD947-E961-4D02-819D-F096459A5718__GUID-E941B9AB-7FA5-416E-BE33-5206703EF997">
                           <p class="notep1">注意：</p>
                           <p>在重量级会话中，用户与默认架构相关联。</p>
                        </div>
                     </div>
                  </div><a id="DBFSG99016"></a><div class="props_rev_3"><a id="GUID-82D7CB3B-332D-42A7-AAFF-F266CFDBF84A" name="GUID-82D7CB3B-332D-42A7-AAFF-F266CFDBF84A"></a><h5 id="DBFSG-GUID-82D7CB3B-332D-42A7-AAFF-F266CFDBF84A" class="sect5">了解数据库角色和应用程序角色之间的差异</h5>
                     <div>
                        <p>传统上，数据库角色被视为一组命名的数据库特权。</p>
                        <p>数据库角色具有以下特征：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>它们被<span class="italic">授予</span>权限，就像数据库用户可以被授予权限一样。
                              </p>
                           </li>
                           <li>
                              <p>它们用作将数据库权限映射到数据库用户（和应用程序）的中介，如下所示：角色被授予权限，然后将角色授予用户（为其授予权限）。</p>
                              <ol>
                                 <li>
                                    <p><span class="bold">授予数据库角色权限</span></p>
                                 </li>
                                 <li>
                                    <p><span class="bold">将数据库角色授予数据库用户</span></p>
                                 </li>
                              </ol>
                              <p>数据库用户现在具有数据库角色的权限。</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-82D7CB3B-332D-42A7-AAFF-F266CFDBF84A__GUID-44C7E482-E924-4F9E-85A8-A2FE1EA4EC6F">
                           <p class="notep1">注意：</p>
                           <p>在传统的数据库术语中，角色被认为与授予它的权限集相同。</p>
                        </div>
                        <p>可以将应用程序角色视为使用声明式访问控制列表（ACL）机制与其关联的应用程序定义的权限集，在<span class="q">“ <a href="indroducing-oracle-database-real-application-security.html#GUID-C0E9EFE1-3070-4D81-9EC5-9C5625398464">访问控制列表（ACL）</a> ”中进行了讨论</span> 。
                        </p>
                        <p>应用角色具有以下特征：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>他们使用<span class="italic">访问控制列表</span> （ACL）而不是数据库授权作为将应用程序权限映射到用户或角色的中介。
                              </p>
                           </li>
                           <li>
                              <p>它们只能授予应用程序用户或应用程序角色。</p>
                           </li>
                           <li>
                              <p>与数据库角色可以授予应用程序角色不同，它们不能授予数据库角色。</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-82D7CB3B-332D-42A7-AAFF-F266CFDBF84A__GUID-60B2D4D7-2DCC-4F30-8041-8E610CABFFFC">
                           <p class="notep1">注意：</p>
                           <p>在访问控制术语中，应用程序角色按应用程序用户分类为主体。</p>
                        </div>
                     </div>
                  </div><a id="DBFSG99791"></a><div class="props_rev_3"><a id="GUID-6B1682B1-6B63-40CB-A6B3-99878BC0AEA2" name="GUID-6B1682B1-6B63-40CB-A6B3-99878BC0AEA2"></a><h5 id="DBFSG-GUID-6B1682B1-6B63-40CB-A6B3-99878BC0AEA2" class="sect5">向应用程序用户和应用程序角色授予数据库权限</h5>
                     <div>
                        <div class="section">
                           <p>您无法直接向应用程序用户和应用程序角色授予数据库权限。而是将数据库权限授予数据库角色，然后在这些步骤中将数据库角色授予应用程序角色。</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>授予<span class="bold">数据库角色的</span> <span class="bold">数据库权限</span> 。</span></li>
                           <li><span>将<span class="bold">数据库角色</span>授予<span class="bold">应用程序角色</span> 。</span></li>
                        </ol>
                        <div class="section">
                           <p>以下代码中的语句正是这样做的，有效地将数据库<code class="codeph">SELECT</code>权限授予应用程序角色<code class="codeph">HRREP</code> 。</p><pre class="oac_no_warn" dir="ltr">CREATE ROLE db_hrrep;在hr.employees上的GRANT SELECT TO db_hrrep; GRANT db_hrrep TO HRREP;</pre><p>已使用该应用程序角色创建或随后创建的应用程序用户获取此应用程序特权。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="DBFSG99019"></a><div class="props_rev_3"><a id="GUID-ADD1B3F5-88A9-42F9-8A5B-1E3A916C5DDF" name="GUID-ADD1B3F5-88A9-42F9-8A5B-1E3A916C5DDF"></a><h4 id="DBFSG-GUID-ADD1B3F5-88A9-42F9-8A5B-1E3A916C5DDF" class="sect4">应用程序权限</h4>
                  <div>
                     <p><strong class="term">应用程序权限</strong>是一项特殊权利<a id="d5876e1912" class="indexterm-anchor"></a>或者可以授予或拒绝委托人的许可。应用程序开发人员在安全性类中定义应用程
                     </p>
                     <p>授予主体的应用程序权限集控制此主体是否可以对其保护的数据执行给定操作。例如，如果委托人（数据库用户） <code class="codeph">HR</code>要执行<code class="codeph">SELECT</code>给定资源的操作，然后<code class="codeph">SELECT</code>特权必须被授予校长<code class="codeph">HR</code>选择操作之前。
                     </p>
                     <p>还可以聚合应用程序权限。<strong class="term">聚合特权</strong>是<a id="d5876e1936" class="indexterm-anchor"></a>应用程序权限，表示其他应用程序权限。这些隐含权限可以是当前安全类或继承权限定义的任何应用程序权限。授予或拒绝聚合权限时，将隐式授予或拒绝其隐含的应用程序权限。
                     </p>
                     <p>当应用程序权限数量增加时，聚合权限可简化可用性。<a id="d5876e1943" class="indexterm-anchor"></a>例如，您可以将相关的应用程序权限分组为聚合权限，而不是单独授予每个应用程序权限。然后，您可以使用单个授权来使委托人能够访问聚合权限中包含的所有应用程序权限。
                     </p>
                  </div>
               </div><a id="DBFSG99020"></a><div class="props_rev_3"><a id="GUID-BCB71BA8-B291-49C3-81AC-1FB28B719313" name="GUID-BCB71BA8-B291-49C3-81AC-1FB28B719313"></a><h4 id="DBFSG-GUID-BCB71BA8-B291-49C3-81AC-1FB28B719313" class="sect4">Oracle数据库Real Application Security中的安全类</h4>
                  <div>
                     <p><strong class="term">安全性类</strong>是一组应用程序特权的范围。
                     </p>
                     <p>安全性类包括从其他安全性类继承的应用程序特权，它可以包括它定义的应用程序特权。</p>
                     <p>安全性类通常与访问控制列表（ACL）相关联，并且ACL可以将安全性类中的应用程序特权授予特定主体。请参阅<span class="q">“ <a href="indroducing-oracle-database-real-application-security.html#GUID-C0E9EFE1-3070-4D81-9EC5-9C5625398464">访问控制列表（ACL）</a> ”</span> 。
                     </p>
                     <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC__CHDDGCJC">示例4-4</a>显示了如何创建安全性类策略。
                     </p>
                  </div>
               </div><a id="DBFSG99023"></a><div class="props_rev_3"><a id="GUID-0829FF53-9730-4C6C-A74B-A6D4B77ABCFA" name="GUID-0829FF53-9730-4C6C-A74B-A6D4B77ABCFA"></a><h4 id="DBFSG-GUID-0829FF53-9730-4C6C-A74B-A6D4B77ABCFA" class="sect4">访问控制条目（ACE）</h4>
                  <div>
                     <p><strong class="term">访问控制条目</strong> （ <strong class="term">ACE</strong> ）要么授予<a id="d5876e2212" class="indexterm-anchor"></a>或拒绝特定主体（应用程序用户或应用程序角色）的应用程序权限。
                     </p>
                     <p>ACE是名为<code class="codeph">ace_list</code>的数组中的元素。整个数组由访问控制列表（ACL）调用并成为其一部分。
                     </p>
                     <p>ACE本身并未指定要保护的数据;这是通过将ACL与目标数据相关联来完成的，例如订单输入表中的一组行。您可以通过创建<span class="bold">数据域</span>来限制用户仅修改这些行，或者使用PL / SQL过程<code class="codeph">XS_DATA_SECURITY.SET_ACLS</code>来建立此关联。</p>
                  </div>
               </div><a id="DBFSG99025"></a><div class="props_rev_3"><a id="GUID-C0E9EFE1-3070-4D81-9EC5-9C5625398464" name="GUID-C0E9EFE1-3070-4D81-9EC5-9C5625398464"></a><h4 id="DBFSG-GUID-C0E9EFE1-3070-4D81-9EC5-9C5625398464" class="sect4">访问控制列表（ACL）</h4>
                  <div>
                     <p><strong class="term">访问控制列表</strong> （ <strong class="term">ACL</strong> ）是访问控制条目（ACE）的列表，它允许或拒绝一个或多个主体的应用程序权限。
                     </p>
                     <p>如果您创建的ACL依赖于您在自己的安全性类中定义的一组自定义应用程序权限，则必须将该安全性类与ACL明确关联。有关<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-B6EFA21A-327E-461F-B6E4-003FDA109651__CHDIBCFH">示例</a> ，请参见<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-B6EFA21A-327E-461F-B6E4-003FDA109651__CHDIBCFH">示例4-15</a> 。
                     </p>
                     <p>如果ACL中使用的唯一应用程序权限是在DML安全性类中定义的，则不需要安全性类关联，因为这是默认值。请参阅<span class="q">“ <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-0CD2270F-C556-4F2F-A7E2-9A71FBAE650D">DML安全类</a> ”中的说明</span> 。
                     </p>
                  </div>
               </div><a id="DBFSG99022"></a><div class="props_rev_3"><a id="GUID-D12A39BD-F6A9-4D93-B9CD-F47D65F99A2F" name="GUID-D12A39BD-F6A9-4D93-B9CD-F47D65F99A2F"></a><h4 id="DBFSG-GUID-D12A39BD-F6A9-4D93-B9CD-F47D65F99A2F" class="sect4">数据安全政策</h4>
                  <div>
                     <p>要保护数据库表中的数据，必须创建数据安全策略。可以使用本节中描述的细粒度访问控制来保护行级和列级的数据库记录。</p>
                     <p>数据安全策略执行以下功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>指定要保护的数据。数据可以由您设计的一行或多行的数据域中的<code class="codeph">WHERE</code>子句指示。它也可以使用命名表示法来定义，方法是使用关联运算符将参数与箭头（=&gt;）的左侧相关联，并将实际参数与箭头右侧相关联。例如，在<a href="configuring-data-security.html#GUID-389095E3-8F07-4C9F-9C57-35C546E242F1__CDDIEHFH">实施例5-20</a>中，每个<code class="codeph">realm</code>被定义使用关联的运营商。
                           </p>
                           <p>数据安全策略可以包含一个或多个数据域。</p>
                        </li>
                        <li>
                           <p>将每个数据域与一个或多个访问控制列表（ACL）相关联，这些访问控制列表指定访问数据域的行和列所需的应用程序权限，以形成所谓的数据域约束。给定的ACL保护给定的数据领域，并控制对特定应用程序用户或应用程序角色（称为主体）的访问。（有关<span class="q"><a href="indroducing-oracle-database-real-application-security.html#GUID-C0E9EFE1-3070-4D81-9EC5-9C5625398464">ACL</a></span>的更多信息，请参阅<span class="q">“ <a href="indroducing-oracle-database-real-application-security.html#GUID-C0E9EFE1-3070-4D81-9EC5-9C5625398464">访问控制列表（ACL）</a> ”</span> 。）
                           </p>
                        </li>
                        <li>
                           <p>（可选）应用其他应用程序权限以保护特定列以形成所谓的列约束。这在您需要为敏感数据添加额外安全层的情况下非常有用。</p>
                        </li>
                        <li>
                           <p>关联其他自定义应用程序权例如，管理员可以创建<code class="codeph">APPROVE_TRANSACTION</code>权限，该权限控制用户是否可以对该行执行特定操作。假设向所有用户授予了<code class="codeph">SELECT</code>权限，则所有用户都可以看到该行，但只有部分用户可以执行事务审批操作。
                           </p>
                        </li>
                     </ul>
                     <p>总之，只允许登录的应用程序用户根据其关联ACL中的应用程序权限，对数据域内的记录执行包括DML在内的操作，包括单独的数据行。因此，数据安全策略由数据领域约束和列约束组成，这些约束通过仅允许访问在关联的ACL中具有应用程序特权的应用程序用户来保护数据领域。</p>
                     <p>例如，假设您有一个销售表，其中列出了所有销售代表，其区域，他们负责的产品，产品类别和产品价格。当各个销售代表登录时，每个代表将看到所有其他销售代表的选定数据，例如基于数据领域约束的特定产品类别的销售代表。如果要按地区限制产品价格显示给销售代表，可以将其他应用程序权限应用于列出产品价格的列，在本例中使用列约束。</p>
                     <p><a href="configuring-data-security.html#GUID-ED34EBA9-8906-41A9-9491-B303DA4824E1" title="描述在同一模式中跨不同应用程序引入Real Application Security策略管理的模式级权限。介绍如何为两个应用程序管理员设置和启用架构级别数据安全策略。介绍如何禁用数据安全策略并撤消用户的系统权限。">配置数据安全性</a>详细描述了如何保护数据库对象。
                     </p>
                  </div>
               </div>
            </div><a id="DBFSG99794"></a><div class="props_rev_3"><a id="GUID-79BE54B2-D5B8-464B-B311-0638A98B8F92" name="GUID-79BE54B2-D5B8-464B-B311-0638A98B8F92"></a><h3 id="DBFSG-GUID-79BE54B2-D5B8-464B-B311-0638A98B8F92" class="sect3">Application Security中使用的应用程序会话概念</h3>
               <div>
                  <p>Real Application Security引入了应用程序会话的概念。在应用程序会话的上下文中，有三种类型的用户身份：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>应用程序会话用户：与应用程序会话关联的用户。</p>
                        <p>根据授予此用户的权限检查对数据库对象的应用程序会话访问。</p>
                     </li>
                     <li>
                        <p>传统（ <span class="italic">重量级</span> ）会话用户：建立数据库会话的用户。
                        </p>
                        <p>只要数据库身份验证凭据可用，此用户就可以是应用程序用户或数据库用户。</p>
                     </li>
                     <li>
                        <p>架构所有者：数据库架构是与传统数据库会话关联的架构，仅用于对象名称解析。</p>
                     </li>
                  </ul>
                  <p>传统数据库用户会话具有以下特征：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>它们拥有自己的数据库资源，例如事务和游标。</p>
                     </li>
                     <li>
                        <p>它们消耗许多服务器资源。</p>
                     </li>
                  </ul>
                  <p>应用会话具有以下特征：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>它们包含仅与应用程序相关的信息。</p>
                     </li>
                     <li>
                        <p>它们可以专用于每个最终应用程序用户。</p>
                     </li>
                     <li>
                        <p>它们可以持续存在，直到应用程序用户退出应用程序或应用程序意外终止。</p>
                     </li>
                  </ul>
                  <p>有关<a href="configuring-application-sessions.html#GUID-B44ACBB0-AC90-439D-9CDE-541285C31328" title="Describes session privilege scoping through an ACL allowing per principal session privilege grants through an ACL set on the principal, where the principal can be either an application user or a dynamic role.Describes how to grant session privileges on a principal using an ACL while creating the user and after the user is already created.">应用程序会话</a>的详细信息，请参阅<a href="configuring-application-sessions.html#GUID-B44ACBB0-AC90-439D-9CDE-541285C31328" title="描述通过ACL的会话权限范围，允许每个主体会话权限授予通过主体上的ACL集，其中主体可以是应用程序用户或动态角色。描述如何在创建用户时以及在用户创建后使用ACL为主体授予会话权限。">配置应用</a>程序会
                  </p>
               </div>
            </div><a id="DBFSG99759"></a><div class="props_rev_3"><a id="GUID-063E5543-FF69-46F9-8FCA-DB4E987647A4" name="GUID-063E5543-FF69-46F9-8FCA-DB4E987647A4"></a><h3 id="DBFSG-GUID-063E5543-FF69-46F9-8FCA-DB4E987647A4" class="sect3">设计与开发的流程</h3>
               <div>
                  <p>您应该熟悉本章介绍的概念，以充分利用Real Application Security。</p>
                  <p>通常，标识应用程序执行的所有需要应用程序权限来控制数据访问的任务。然后，将适当的应用程序权限添加到安全性类，以便您可以在ACL中引用它们并将它们授予应用程序用户和应用程序角色。此过程涉及以下任务：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>根据应用程序提供的功能创建一组默认的有意义的应用程序角色。</p>
                     </li>
                     <li>
                        <p>根据应用程序表设计和安全要求确定需要数据安全保护的表，并定义数据域，包括列保护。</p>
                     </li>
                     <li>
                        <p>根据应用程序要求和应用于表的规则定义数据安全策略。</p>
                     </li>
                     <li>
                        <p>确保数据安全策略和功能安全性中使用的ACL为应用程序角色授予适当的应用程序权限。</p>
                     </li>
                  </ul>
                  <div class="p">本节包含：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="real-application-security-hr-demo.html#GUID-F0992499-E07A-45A6-A328-C09D62B3AF9B" title="在设计阶段，您可以识别应用程序执行的所有任务，这些任务需要应用程序权限才能控制数据访问。">设计阶段</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-285B290A-0F6B-468C-88FD-EABD24D5F09C" title="在开发阶段，作为Real Application Security管理员，您可以使用Real Application Security组件来开发数据安全策略。">发展流程步骤</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-F0992499-E07A-45A6-A328-C09D62B3AF9B" name="GUID-F0992499-E07A-45A6-A328-C09D62B3AF9B"></a><h4 id="DBFSG-GUID-F0992499-E07A-45A6-A328-C09D62B3AF9B" class="sect4">设计阶段</h4>
                  <div>
                     <p>在设计阶段，您可以识别应用程序执行的所有任务，这些任务需要应用程序权限才能控制数据访问。</p>
                     <p>例如，在设计阶段，应用程序策略设计者必须确定：</p>
                     <ol>
                        <li>
                           <p>需要访问控制的应用程序级操作集。</p>
                        </li>
                        <li>
                           <p>表和视图的行和列，可以作为应用程序级操作的一部分进行访问。</p>
                        </li>
                        <li>
                           <p>可以执行这些操作的一组actor或principal（用户和角色）。</p>
                        </li>
                        <li>
                           <p>运行时应用程序会话属性标识一个或多个表的行。这些属性名称在选择要授权的行的谓词中使用，并且在应用程序执行期间设置它们的值。</p>
                        </li>
                     </ol>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-285B290A-0F6B-468C-88FD-EABD24D5F09C" name="GUID-285B290A-0F6B-468C-88FD-EABD24D5F09C"></a><h4 id="DBFSG-GUID-285B290A-0F6B-468C-88FD-EABD24D5F09C" class="sect4">发展流程步骤</h4>
                  <div>
                     <p>在开发阶段，作为Real Application Security管理员，您可以使用Real Application Security组件来开发数据安全策略。</p>
                     <p>请按照以下步骤开发数据安全策略：</p>
                     <ol>
                        <li>
                           <p>创建相应的应用程序用户和角色。如果使用外部目录服务器，请在目录服务器中创建应用程序用户和角色或用户组。请按照此过程在数据库中本机创建这些主体：</p>
                           <ol type="a">
                              <li>
                                 <p>如果需要，创建应用程序角色并将应用程序角色授予应用程序角色。请参见<a href="configuring-application-users-and-application-roles.html#GUID-349C89E8-DC1D-4641-898D-F8B8B94B79B8">关于配置应用程序角色</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>创建应用程序用户并向应用程序用户授予应用程序角色。请参见<a href="configuring-application-users-and-application-roles.html#GUID-A0929CEA-1456-46A1-B182-C877C79CF9DC" title="描述对Real Application Security用户的Oracle Label Security支持。">关于配置应用用户</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>要配置目录服务器以获取用户和角色，请在使用外部存储的主体时，请参阅<a href="../rasad/index.html#RASAD-GUID-D06BAF94-6C49-4B6D-A0F0-A2C56DC8B4E4" target="_blank"><span><cite>Oracle Database Real Application Security管理中</cite></span></a>的RASADM配置信息。
                                 </p>
                              </li>
                              <li>
                                 <p>对于外部Directory Server中的用户和角色，请参阅管理参数设置以在RASADM中使用<a href="../rasad/index.html#RASAD-GUID-6AF49908-F6AE-4607-86DF-0FC08AC8CF55" target="_blank"><span><cite>Oracle Database Real Application Security管理中</cite></span></a>的目录服务。
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>创建计划用于为应用程序开发安全策略的每个权限类。每个权限类由一个或多个适当的权限组成，您可以在ACL中引用这些权限，并将其授予应用程序用户和应用程序角色。每个权限类都通过ACL授权数据安全策略所需的应用程序级操作。请参见<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-F6C92BDA-15C8-4515-BDED-9CCB2BC02985">关于配置安全类</a>和<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AB53EC7B-C593-4AF3-B991-70E6503586F6">关于配置访问控制列表</a> 。
                           </p>
                        </li>
                        <li>
                           <p>创建一个或多个可在不同应用程序会话中使用的会话命名空间。这包括为会话命名空间定义其属性集（应用程序属性）及其关联的访问控制策略或ACL，您可以从列表或创建中进行选择。请参阅<a href="configuring-application-sessions.html#GUID-1678A791-8C84-4AAF-A6C4-259F8CBB8A87">关于操作应用程序会话状态</a> 。
                           </p>
                        </li>
                        <li>
                           <p>通过将每个数据域与ACL相关联来创建数据安全策略，以便根据需要创建数据域授权和列授权。请参阅<a href="configuring-data-security.html#GUID-3059E7B0-F02B-48FE-89B1-1172CF031CFC">关于数据安全</a> 。
                           </p>
                           <p>这个过程包括四个部分：</p>
                           <ol type="a">
                              <li>
                                 <p>策略信息 - 您选择要保护的对象和保护它的权限类，以及指定策略名称并选择策略所有者。请参阅<a href="configuring-data-security.html#GUID-B6D452FA-CD3E-4909-8512-904C9EF684A5">了解数据安全策略的结构</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>列级别授权 - 选择要保护的列的名称，并选择要授予访问列的权限，该列与您在步骤3a中选择的权限类相关联。请参阅<a href="configuring-data-security.html#GUID-8282C70D-87F2-46D6-BDA5-53174EB0207C">将其他应用程序权限应用于列</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>数据领域授权 - 您创建一个SQL谓词来表示要保护的数据领域，并将每个谓词添加到数据领域授权列表中。然后选择或创建ACL以保护数据领域。接下来，通过选择适当的权限，创建要添加到由每个主体组成的权限授予列表以及是否允许授权或拒绝授权的权限授予。请参见<a href="configuring-data-security.html#GUID-8765D94C-B658-4958-802B-621215F856F0">关于设计数据领域</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>应用策略 - 您可以应用，删除，启用或禁用您正在创建的数据安全策略，并选择指定某些应用选项，允许表或视图的所有者绕过此数据安全策略，以及是否强制执行语句类型这个政策。请参见<a href="configuring-data-security.html#GUID-B7EA7D53-8573-4AAD-8EC7-F6DF7C0B3859">关于为数据库表或视图启用数据安全策略</a> 。
                                 </p>
                              </li>
                           </ol>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-285B290A-0F6B-468C-88FD-EABD24D5F09C__GUID-51048081-3F1A-4159-A133-64A3B2C56495">
                        <p class="notep1">也可以看看：</p>
                     </div>
                     <p><a href="indroducing-oracle-database-real-application-security.html#GUID-586753AB-4D90-4196-8D02-CBB2FD7891B0">场景：安全人力资源（HR）员工信息演示，</a>详细描述了如何使用Real Application Security的概念和组件为员工信息的安全人力资源（HR）演示的示例策略场景实施开发流程。
                     </p>
                  </div>
               </div>
            </div><a id="DBFSG10013"></a><div class="props_rev_3"><a id="GUID-586753AB-4D90-4196-8D02-CBB2FD7891B0" name="GUID-586753AB-4D90-4196-8D02-CBB2FD7891B0"></a><h3 id="DBFSG-GUID-586753AB-4D90-4196-8D02-CBB2FD7891B0" class="sect3">场景：员工信息的安全人力资源（HR）演示</h3>
               <div>
                  <p>本节提供了一个示例策略，该策略提供了Real Application Security的高级概述。这是一个简单的场景，旨在解释基本的Real Application Security概念。您应该熟悉<span class="q">“ <a href="indroducing-oracle-database-real-application-security.html#GUID-D87CCF3D-B7DF-49DE-B648-3B835100E9CB">真实应用程序安全性中使用的数据安全性概念</a> ”中</span>介绍的以下概念：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Principals  - 应用程序用户和应用程序角色</p>
                     </li>
                     <li>
                        <p>安全类和应用程序权限</p>
                     </li>
                     <li>
                        <p>访问控制列表和条目（ACL和ACE）</p>
                     </li>
                     <li>
                        <p>数据安全政策</p>
                     </li>
                  </ul>
                  <p>本书中出现了同样的场景，以说明Real Application Security的不同组件。它还在<a href="real-application-security-hr-demo.html#GUID-F38C8CA7-05B0-4939-AF59-741D8EF7FB87" title="介绍如何使用RASADM使用图形用户界面创建Real Application Security数据安全策略。描述如何运行RASADM应用程序。在设计阶段，您可以识别应用程序执行的所有任务，这些任务需要应用程序权限才能控制数据访问。要使用RASADM开发数据安全策略，您必须遵循一些基本步骤。介绍如何使用RASADM创建HR Demo应用程序。描述如何创建应用程序角色，特别是数据库DB_EMP角色。描述如何使用RASADM创建应用程序角色。描述创建应用程序用户并授予他们角色。描述使用RASADM创建应用程序用户。描述用于创建数据安全策略的流程。描述使用RASADM应用程序输入数据安全策略信息。描述创建数据安全策略的列授权部分。描述创建数据安全策略的数据领域授权部分。描述应用数据安全策略。">Real Application Security HR Demo</a>和<a href="real-application-security-hr-demo-files.html#GUID-9289D66D-6426-4CE5-9E5E-941A360B0E9C">Real Application Security HR Demo Files中</a>进行了详细描述，以演示如何使用Real Application Security的高级概念来处理更复杂的策略。
                  </p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-488939F2-F554-4AA6-8183-473DB5C65B64">基本安全HR演示场景：描述和安全要求</a></p>
                        </li>
                        <li>
                           <p><a href="indroducing-oracle-database-real-application-security.html#GUID-EB971BEC-2DF8-41C3-8AD9-037F79A763D1">基本人力资源情景：实施概述</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99027"></a><div class="props_rev_3"><a id="GUID-488939F2-F554-4AA6-8183-473DB5C65B64" name="GUID-488939F2-F554-4AA6-8183-473DB5C65B64"></a><h4 id="DBFSG-GUID-488939F2-F554-4AA6-8183-473DB5C65B64" class="sect4">基本安全HR演示场景：描述和安全要求</h4>
                  <div>
                     <p>Susan Mavris（ <code class="codeph">SMAVRIS</code> ）是人力资源部门的一名员工。她的职称是人力资源代表。在此职位上，她负责管理所有员工的人力资源信息，包括部门60（IT）。她可以查看和更新所有员工记录，包括<code class="codeph">SALARY</code>列。
                     </p>
                     <p>David Austin（ <code class="codeph">DAUSTIN</code> ）是IT部门的一名员工。他的职称是助理部门经理。在此职位上，他可以查看IT部门的员工记录，但除了自己的工资记录外，他无法查看<code class="codeph">SALARY</code>列。
                     </p>
                     <p>安全授权需要定义哪些应用程序用户和应用程序角色可以访问哪些数据，以执行哪种操作。必须定义这三个安全维：受保护的数据，主体和应用程序权限。 （请参阅<span class="q">“ <a href="indroducing-oracle-database-real-application-security.html#GUID-153BF3BB-3017-42A1-8257-B8492166D9BE">关于使用Oracle数据库Real Application Security的数据安全性</a> ”</span> ）。
                     </p>
                     <p>在这个基本场景中：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要保护的数据是员工信息，它以三种方式受到保护：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>访问员工自己的记录，包括<code class="codeph">SALARY</code>列。
                                 </p>
                              </li>
                              <li>
                                 <p>访问IT部门中的所有记录，不包括<code class="codeph">SALARY</code>列。
                                 </p>
                              </li>
                              <li>
                                 <p>访问所有员工记录，包括<code class="codeph">SALARY</code>列。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>允许用户通过以下方式访问员工数据：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>每个用户都可以查看自己的记录，包括<code class="codeph">SALARY</code>列。
                                 </p>
                              </li>
                              <li>
                                 <p>应用程序用户<code class="codeph">DAUSTIN</code>作为助理部门经理可以查看IT部门中的所有记录，不包括<code class="codeph">SALARY</code>列。
                                 </p>
                              </li>
                              <li>
                                 <p>允许应用程序用户<code class="codeph">SMAVRIS</code>担任人力资源代表，查看和更新所有员工记录，包括<code class="codeph">SALARY</code>列。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>数据库角色<code class="codeph">DB_EMP</code>在<code class="codeph">HR.EMPLOYEES</code>上创建并授予<code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>权限。</p>
                        </li>
                        <li>
                           <p>应用程序角色创建如下：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">EMPLOYEE</code>角色授予应用程序用户<code class="codeph">DAUSTIN</code>和<code class="codeph">SMAVRIS</code> 。数据库角色<code class="codeph">DB_EMP</code>被授予<code class="codeph">EMPLOYEE</code>角色。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">IT_ENGINEER</code>角色仅授予应用程序用户<code class="codeph">DAUSTIN</code> 。数据库角色<code class="codeph">DB_EMP</code>被授予<code class="codeph">IT_ENGINEER</code>角色。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">HR_REPRESENTATIVE</code>角色仅授予应用程序用户<code class="codeph">SMAVRIS</code> 。数据库角色<code class="codeph">DB_EMP</code>被授予<code class="codeph">HR_REPRESENTATIVE</code>角色。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>创建<code class="codeph">VIEW_SALARY</code>应用程序特权以控制对<code class="codeph">SALARY</code>列的访问。创建<code class="codeph">HR_PRIVILEGES</code>安全性类，用于确定<code class="codeph">VIEW_SALARY</code>应用程序特权的范围。
                           </p>
                        </li>
                        <li>
                           <p>创建ACL以通过以下方式定义对员工记录的访问程度：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">EMP_ACL</code>授予<code class="codeph">EMPLOYEE</code>角色<code class="codeph">SELECT</code>数据库权限和<code class="codeph">VIEW_SALARY</code>应用程序权限，以查看员工自己的记录，包括<code class="codeph">SALARY</code>列。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">IT_ACL</code>仅授予<code class="codeph">IT_ENGINEER</code>角色<code class="codeph">SELECT</code>数据库权限以查看IT部门中的员工记录，但它不授予访问<code class="codeph">SALARY</code>列所需的<code class="codeph">VIEW_SALARY</code>特权。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">HR_ACL</code>授予<code class="codeph">HR_REPRESENTATIVE</code>角色<code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>数据库特权，以查看和更新所有员工的记录，并授予<code class="codeph">VIEW_SALARY</code>应用程序特权以查看<code class="codeph">SALARY</code>列。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>HR演示通过创建和应用数据安全策略<code class="codeph">EMPLOYEES_DS</code>保护<code class="codeph">HR.EMPLOYEE</code>表，该策略具有以下三个数据域和列约束：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>员工自己的记录领域。ACL， <code class="codeph">EMP_ACL</code>控制此领域，授予应用程序角色<code class="codeph">EMPLOYEE</code>权限以访问领域，包括<code class="codeph">SALARY</code>列。
                                 </p>
                              </li>
                              <li>
                                 <p>IT部门领域的所有记录。ACL， <code class="codeph">IT_ACL</code>控制此领域，授予应用程序角色<code class="codeph">IT_ENGINEER</code>权限以访问领域，但不包括<code class="codeph">SALARY</code>列。
                                 </p>
                              </li>
                              <li>
                                 <p>所有员工记录领域。ACL， <code class="codeph">HR_ACL</code>控制此领域，授予应用程序角色<code class="codeph">HR_REPRESENTATIVE</code>权限以访问领域，包括<code class="codeph">SALARY</code>列。
                                 </p>
                              </li>
                              <li>
                                 <p>通过要求<code class="codeph">VIEW_SALARY</code>特权查看其敏感数据来保护<code class="codeph">SALARY</code>列的列约束。
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99028"></a><div class="props_rev_3"><a id="GUID-EB971BEC-2DF8-41C3-8AD9-037F79A763D1" name="GUID-EB971BEC-2DF8-41C3-8AD9-037F79A763D1"></a><h4 id="DBFSG-GUID-EB971BEC-2DF8-41C3-8AD9-037F79A763D1" class="sect4">基本人力资源情景：实施概述</h4>
                  <div>
                     <p>要实现基本的人力资源安全方案，除了识别受保护的数据，主体和应用程序权限之外，还必须定义以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>数据库用户作为Real Application Security管理员，然后作为Real Application Security管理员连接以创建组件。</p>
                        </li>
                        <li>
                           <p>委托人如何与数据库连接以访问数据。</p>
                        </li>
                        <li>
                           <p>访问控制列表（ACL），用于授予应用程序权限和主体的任何数据库权限。</p>
                        </li>
                        <li>
                           <p>一种数据安全策略，它将ACL与主体需要访问的特定数据（行）相关联。</p>
                        </li>
                     </ul>
                     <p>在此基本方案中，应用程序用户<code class="codeph">SMAVRIS</code>和<code class="codeph">DAUSTIN</code>直接作为主体连接到数据库。
                     </p>
                     <p>为应用程序用户<code class="codeph">SMAVRIS</code>和<code class="codeph">DAUSTIN</code>创建的应用程序用户帐户是此方案中的主体。每个应用程序用户帐户都被授予应用程序角色，这些角色最终对包含员工信息的数据库表具有<code class="codeph">SELECT</code>权限。应用程序角色是此方案中的主体。
                     </p>
                     <p>作为数据库角色， <code class="codeph">DB_EMP</code>充当应用程序角色和数据库特权之间的中介，因为数据库特权只能授予数据库用户和角色。也就是说，必要的数据库特权被授予数据库角色，并且该角色被授予每个应用程序角色（主体）。
                     </p>
                     <p>数据库<code class="codeph">SELECT</code>权限适用于整个表。还必须为主体授予Real Application Security应用程序特权，例如DML <code class="codeph">SELECT</code>特权，该特权可以限制在数据库表的某些行中。此限制是使用访问控制列表（ACL）和数据安全策略实现的。
                     </p>
                     <p>HR方案需要以下安全模型组件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">受保护的数据</span> ：员工信息存储在示例数据库模式<code class="codeph">HR</code> （随Oracle数据库提供）的表<code class="codeph">EMPLOYEES</code>中。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">应用程序角色</span> ：创建应用程序角色， <code class="codeph">EMPLOYEE</code> ， <code class="codeph">IT_ENGINEER</code>和<code class="codeph">HR_REPRESENTATIVE</code>以执行任务。应用程序角色使用<code class="codeph">XS_PRINCIPAL.CREATE_ROLE</code>过程定义。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">应用程序用户</span> ：创建和定义应用程序用户<code class="codeph">SMAVRIS</code>和<code class="codeph">DAUSTIN</code> 。<code class="codeph">SMAVRIS</code>被授予应用程序角色<code class="codeph">EMPLOYEE</code>和<code class="codeph">HR_REPRESENTATIVE</code> 。 <code class="codeph">DAUSTIN</code>被授予应用程序角色<code class="codeph">EMPLOYEE</code>和<code class="codeph">IT_ENGINEER</code> 。</p>
                        </li>
                        <li>
                           <p><span class="bold">数据库访问</span> ：为应用程序用户提供<code class="codeph">SMAVRIS</code>和<code class="codeph">DAUSTIN</code>数据库密码，以便直接进行数据库登录。为了授予<code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>对表的权限<code class="codeph">EMPLOYEES</code>到应用程序角色<code class="codeph">EMPLOYEE</code> ， <code class="codeph">IT_ENGINEER</code> ， <code class="codeph">HR_REPRESENTATIVE</code>数据库角色， <code class="codeph">DB_EMP</code> ，创建并授予这些数据库的权限。然后，应用程序角色被授予此数据库角色。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">应用程序权限</span> ：创建单个安全性类<code class="codeph">HR_PRIVILEGES</code> ，它定义单个自定义应用程序权限<code class="codeph">VIEW_SALARY</code> 。通过继承，此安全性类中还提供了预定义的应用程序特权<code class="codeph">SELECT</code> 。这些应用程序权限将与数据安全策略结合使用，以允许对员工信息进行读取访问。安全性类由<code class="codeph">XS.SECURITY_CLASS.CREATE_SECURITY_CLASS</code>过程创建。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">ACL：</span>在<code class="codeph">SELECT</code>和<code class="codeph">VIEW_SALARY</code>权限授予应用程序角色<code class="codeph">EMPLOYEE</code>通过访问控制列表（ACL）， <code class="codeph">EMP_ACL</code>由创建<code class="codeph">XS_ACL.CREATE_ACL</code>程序。通过<code class="codeph">XS_ACL.CREATE_ACL</code>过程创建的ACL， <code class="codeph">IT_ACL</code>将<code class="codeph">SELECT</code>权限授予应用程序角色<code class="codeph">IT_ENGINEER</code> 。通过由<code class="codeph">XS_ACL.CREATE_ACL</code>过程创建的ACL， <code class="codeph">HR_ACL</code>将应用程序角色<code class="codeph">HR_REPRESENTATIVE</code>授予<code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>权限，以查看和更新所有员工的记录，并授予<code class="codeph">VIEW_SALARY</code>应用程序特权以查看<code class="codeph">SALARY</code>列。 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">数据安全策略</span> ：使用<code class="codeph">XS_DATA_SECURITY.CREATE_POLICY</code>过程定义和创建数据安全策略。此数据安全策略定义了三个数据域（一个员工自己的记录领域，可以查看领域，包括<code class="codeph">SALARY</code>列，IT部门领域中的所有记录，可以查看除<code class="codeph">SALARY</code>列之外的IT部门，以及所有员工记录领域，可以查看包括<code class="codeph">SALARY</code>列的域和列约束。数据安全策略将ACL <code class="codeph">EMP_ACL,</code> <code class="codeph">IT_ACL</code>和<code class="codeph">HR_ACL</code>与其各自的数据<code class="codeph">IT_ACL</code>相关联。
                           </p>
                        </li>
                     </ul>
                     <p>本章中的此示例简介概述了使用Real Application Security实施策略的要求。这些任务的实际实施需要系统地了解本章介绍的所有Real Application Security概念，并在后续章节中进一步讨论。完整的示例（包括实现细节）显示在<span class="q">“ <a href="configuring-data-security.html#GUID-C6EF75C9-C167-4482-828E-065BD552E0B7">Real Application Security：All It All Together</a> ”中</span> 。
                     </p>
                  </div>
               </div>
            </div><a id="DBFSG837"></a><div class="props_rev_3"><a id="GUID-D9E74B80-8B5F-42D1-A6BD-5EA55ED88A97" name="GUID-D9E74B80-8B5F-42D1-A6BD-5EA55ED88A97"></a><h3 id="DBFSG-GUID-D9E74B80-8B5F-42D1-A6BD-5EA55ED88A97" class="sect3">关于Oracle数据库实际应用程序安全环境中的审计</h3>
               <div>
                  <p>安全的另一个方面是<a id="d5876e4371" class="indexterm-anchor"></a>在Oracle数据库Real Application Security环境中进行审核。可以通过配置和启用统一审核策略来审核实际应用程序安全性管理和运行时操作。有关统一的信息<a id="d5876e4376" class="indexterm-anchor"></a>在Oracle数据库Real Application Security环境中进行审核，请参阅“ <a href="../dbseg/configuring-audit-policies.html#DBSEG367" target="_blank"><span class="italic">Oracle数据库安全指南”</span></a> 。
                  </p>
                  <p>为专门针对Oracle Database Real Application Security的审核策略定义了以下静态数据字典视图：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a id="d5876e4391" class="indexterm-anchor"></a><a id="d5876e4393" class="indexterm-anchor"></a> <code class="codeph">DBA_XS_AUDIT_POLICY_OPTIONS</code> - 描述为Real Application Security统一审计策略定义的审计选项。有关更多信息，请参见<a href="../refrn/DBA_XS_AUDIT_POLICY_OPTIONS.html#REFRN23884" target="_blank"><span class="italic">Oracle数据库参考</span></a>
                        </p>
                     </li>
                     <li>
                        <p><a id="d5876e4407" class="indexterm-anchor"></a><a id="d5876e4409" class="indexterm-anchor"></a> <code class="codeph">DBA_XS_AUDIT_TRAIL</code> - 提供有关已审核的Real Application Security的详细信息。有关更多信息，请参见<a href="../refrn/DBA_XS_AUDIT_TRAIL.html#REFRN23886" target="_blank"><span class="italic">Oracle数据库参考</span></a>
                        </p>
                     </li>
                     <li>
                        <p><a id="d5876e4423" class="indexterm-anchor"></a><a id="d5876e4425" class="indexterm-anchor"></a> <code class="codeph">DBA_XS_ENB_AUDIT_POLICIES</code> - 列出启用了Real Application Security统一审核策略的用户。有关更多信息，请参见<a href="../refrn/DBA_XS_ENB_AUDIT_POLICIES.html#REFRN23885" target="_blank"><span class="italic">Oracle数据库参考</span></a>
                        </p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-054B6840-D2D6-479C-A0CA-33B535954E07" name="GUID-054B6840-D2D6-479C-A0CA-33B535954E07"></a><h3 id="DBFSG-GUID-054B6840-D2D6-479C-A0CA-33B535954E07" class="sect3">支持可插拔数据库</h3>
               <div>
                  <p>多租户体系结构使Oracle数据库能够包含一个可移植的模式，模式对象和非模式对象集合，这些对象在Oracle Real Application Security应用程序用户看来是一个单独的数据库。多租户容器数据库（CDB）是包含一个或多个可插拔数据库（PDB）的Oracle数据库。</p>
                  <p>Oracle Real Application Security可与Oracle Multitenant一起使用，以提高整合的安全性。</p>
                  <p>由于Oracle Real Application Security实体的范围限定在PDB中，因此每个PDB都有自己的Real Application Security元数据，例如用户，角色，权限，ACL，数据安全策略等。因此，Real Application Security可以阻止应用程序之间以及PDB与容器数据库中的公共特权用户之间的PDB内的特权用户访问。</p>
                  <p>由于<code class="codeph">SYS</code>是Oracle Real Application Security实体的架构所有者，因此只能由<code class="codeph">root</code>的<code class="codeph">SYS</code>用户访问在<code class="codeph">root</code>创建的Real Application Security实体。其他操作系统也是如此，因为SYS用户是Oracle Real Application Security实体的架构所有者，只有SYS用户才能访问这些实体。同样，在本地PDB中创建的Real Application Security实体只能在本地PDB中访问。</p>
                  <p>由于Oracle Real Application Security直接登录用户具有与之关联的密码，因此可以使用单个<code class="codeph">sqlnet.ora</code>参数在PDB中配置这些用户以支持这些用户。
                  </p>
                  <p>Oracle Real Application Security管理涉及PDB特定的管理权限和模式，以限定Real Application Security实体的名称。模式名称可以是常见的;但是，在公共模式的命名范围内创建的实体并不常见。</p>
                  <p>Oracle Real Application Security审核是特定于PDB的。</p>
                  <p>Oracle Real Application Security应用程序用户可以连接到<a id="d5876e4579" class="indexterm-anchor"></a> PDB使用其可插拔数据库属性已设置为相关PDB的服务。</p>
                  <div class="infoboxnotealso" id="GUID-054B6840-D2D6-479C-A0CA-33B535954E07__GUID-9DC3F081-F819-4ABE-9C30-5D8F61DA1BE4">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../multi/introduction-to-the-multitenant-architecture.html#CNCPT89234" target="_blank">多租户架构简介</a>和<span><cite>Oracle数据库概念</cite></span> <a href="../multi/overview-of-the-multitenant-architecture.html#CNCPT89248" target="_blank">中的多租户架构概述</a> 。
                     </p>
                     <p>有关PDB的详细信息以及有关配置连接到各种PDB的服务的更多详细信息，请参见<a href="../multi/administering-pdbs-with-sql-plus.html#ADMIN13974" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03330.SQL-statement-support.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle数据库提供程序中的DRDA SQL语句支持</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="provider-drda-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T01:34:46-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2011, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96456-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="PLSQL-packages-used.html" title="Previous" type="text/html"></link>
      <link rel="next" href="scripts-to-create-and-maintain-database-provider-for-DRDA.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Provider for DRDA User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DRDAS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="PLSQL-packages-used.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="scripts-to-create-and-maintain-database-provider-for-DRDA.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle数据库提供程序中的DRDA SQL语句支持</li>
            </ol>
            <a id="GUID-985D4184-603F-4540-B875-D1DB43508DC7" name="GUID-985D4184-603F-4540-B875-D1DB43508DC7"></a>
            
            <h2 id="DRDAS-GUID-985D4184-603F-4540-B875-D1DB43508DC7" class="sect2"><span class="enumeration_chapter">14</span>针对DRDA的Oracle数据库提供程序中的SQL语句支持</h2>
         </header>
         <div class="ind">
            <div>
               <p>用于DRDA的Oracle数据库提供程序支持使用本机DB2 SQL子句。</p>
            </div>
            <div class="props_rev_3"><a id="GUID-99699727-A5F9-42EF-9EE1-26B696332B9C" name="GUID-99699727-A5F9-42EF-9EE1-26B696332B9C"></a><h3 id="DRDAS-GUID-99699727-A5F9-42EF-9EE1-26B696332B9C" class="sect3">SQL语句支持概述</h3>
               <div>
                  <p>用于DRDA的Oracle数据库提供程序在将第三方本机SQL语句发送到Oracle数据库进行处理之前会转换它们。在这个版本中，Oracle为DRDA数据库提供由Oracle数据库版本11 <span class="italic">克</span> ，它没有很多条款没有被Oracle的SQL版本支持原生的理解，因为它不支持SQL翻译兼容。使用SQL Translation时，这会影响转换程序收到的SQL请求的数据和内容。
                  </p>
                  <p>因为转换器永远不会获得<code class="codeph">WITH UR</code>子句，所以语句和后续结果集的转换可能不是用户期望的。
                  </p>
                  <p>因此，此版本的Oracle数据库提供程序用于DRDA包含一些翻译功能。</p>
                  <div class="example" id="GUID-99699727-A5F9-42EF-9EE1-26B696332B9C__GUID-0587E664-274F-4E5D-8295-D481D3ECAEA4">
                     <p class="titleinexample">示例14-1从SQL语句中删除子句</p>
                     <p>如果用户在客户端上输入以下SQL行：</p><pre class="oac_no_warn" dir="ltr">选择*来自UR的员工</pre><p>用于DRDA的Oracle数据库提供程序删除<code class="codeph">WITH UR</code>子句，因此如果用户使用转换程序，它将收到以下SQL行：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM EMPLOYEEES</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-ACC8A214-41F7-43B0-8E6C-2D01CF92B02E" name="GUID-ACC8A214-41F7-43B0-8E6C-2D01CF92B02E"></a><h3 id="DRDAS-GUID-ACC8A214-41F7-43B0-8E6C-2D01CF92B02E" class="sect3">SQL子句限制</h3>
               <div>
                  <p>对Oracle数据库提供程序为DRDA进行转换支持的SQL语句有一些限制。</p>
                  <p>在描述SQL语句时，请记住以下表示法。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用<code class="codeph">(..)</code> ，parantheses，包含适用的SQL语句上下文。例如， <code class="codeph">(SELECT)</code>表示该子句适用于<code class="codeph">SELECT</code>语句。
                        </p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">{..}</code> ，花括号表示可选常量。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">&lt;..&gt;</code>表示可选变量。
                        </p>
                     </li>
                  </ul>
                  <p>SQL语言限制安排在以下组中。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>内部处理的SQL语句</p>
                     </li>
                     <li>
                        <p>删除了保留语义效果的SQL子句</p>
                     </li>
                     <li>
                        <p>忽略的SQL子句</p>
                     </li>
                     <li>
                        <p>翻译的SQL子句</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="SQL-statement-support.html#GUID-6B2372E5-94CA-4DF2-8FB1-8036C1E267B4">内部处理的SQL语句</a></li>
                        <li><a href="SQL-statement-support.html#GUID-63FA9C9B-1B9D-4797-AC27-E161FC8375B0">删除了保留语义效果的SQL子句</a></li>
                        <li><a href="SQL-statement-support.html#GUID-821ADF8A-CE71-4A6B-87FB-368555953EE0">忽略的SQL子句</a></li>
                        <li><a href="SQL-statement-support.html#GUID-3755C382-5D57-4609-8936-489CE8DAF5E2">翻译的SQL子句</a></li>
                     </ul>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-6B2372E5-94CA-4DF2-8FB1-8036C1E267B4" name="GUID-6B2372E5-94CA-4DF2-8FB1-8036C1E267B4"></a><h4 id="DRDAS-GUID-6B2372E5-94CA-4DF2-8FB1-8036C1E267B4" class="sect4">内部处理的SQL语句</h4>
                  <div>
                     <div class="section">
                        <p>以下子句在内部处理。</p><pre class="oac_no_warn" dir="ltr">GRANT {ALL，BIND，COPY，EXECUTE，DROP，SET} ON PACKAGE &lt;collid&gt;。&lt;pkgnam&gt; TO &lt;authid&gt; GRANT {ALL，BIND，COPY，EXECUTE，DROP，SET} ON PACKAGE &lt;collid&gt;。&lt;pkgnam&gt; TO &lt;authid&gt; WITH GRANT OPTION GRANT {ALL，BIND，COPY，EXECUTE，DROP，SET} ON PROGRAM &lt;collid&gt;。&lt;pkgnam&gt; TO &lt;authid&gt; GRANT {ALL，BIND，COPY，EXECUTE，DROP，SET} ON PROGRAM &lt;collid&gt;。&lt;pkgnam&gt; TO &lt;authid&gt; WITH GRANT OPTION REVOKE {ALL，BIND，COPY，EXECUTE，DROP，SET} ON PACKAGE &lt;collid&gt;。&lt;pkgnam&gt; FROM &lt;authid&gt; REVOKE {ALL，BIND，COPY，EXECUTE ，DROP，SET} ON PROGRAM &lt;collid&gt;。&lt;pkgnam&gt; FROM &lt;authid&gt; DROP PACKAGE &lt;collid&gt;。&lt;pkgnam&gt; VERSION &lt;vsn&gt; DROP PACKAGE &lt;collid&gt;。&lt;pkgnam&gt; FREE LOCATOR：H HOLD LOCATOR：H</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-63FA9C9B-1B9D-4797-AC27-E161FC8375B0" name="GUID-63FA9C9B-1B9D-4797-AC27-E161FC8375B0"></a><h4 id="DRDAS-GUID-63FA9C9B-1B9D-4797-AC27-E161FC8375B0" class="sect4">删除了保留语义效果的SQL子句</h4>
                  <div>
                     <div class="section">
                        <p>从SQL语句中删除以下SQL子句。应该注意这一点，因为它们具有语义效果。</p><pre class="oac_no_warn" dir="ltr">（SELECT）FOR READ ONLY（SELECT）FOR FETCH ONLY（DECLARE）WITH HOLD（DECLARE）WITH HOLD（DECLARE）WITH ROWSET POSITIONING（DECLARE）WITH ROWSET POSITIONING（DECLARE）NO SCROLL（DECLARE）SCROLL（CALL）WITH RETURN CLIENT（ CALL）WITH RETURN CALLER（CALL）&lt;：hostvar&gt; USING DESCRIPTOR &lt;：hostvar&gt;（SAVEPOINT）{UNIQUE} on ROLLBACK RETAIN CURSORS（SAVEPOINT）on ROLLBACK RETAIN LOCKS（INSERT）FOR &lt;literal&gt; | &lt;bind-variable&gt; ROWS（ INSERT）FOR STILEXCEPTION的多行（插入）非原子继续</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-821ADF8A-CE71-4A6B-87FB-368555953EE0" name="GUID-821ADF8A-CE71-4A6B-87FB-368555953EE0"></a><h4 id="DRDAS-GUID-821ADF8A-CE71-4A6B-87FB-368555953EE0" class="sect4">忽略的SQL子句</h4>
                  <div>
                     <div class="section">
                        <p>在翻译期间删除并忽略这些子句。</p><pre class="oac_no_warn" dir="ltr">带RR的RR使用并保持{独家|更新|共享}带RS的RS锁定和保持{独家|更新|共享}锁定CS与CS保持锁定与UR与NC</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-3755C382-5D57-4609-8936-489CE8DAF5E2" name="GUID-3755C382-5D57-4609-8936-489CE8DAF5E2"></a><h4 id="DRDAS-GUID-3755C382-5D57-4609-8936-489CE8DAF5E2" class="sect4">翻译的SQL子句</h4>
                  <div>
                     <div class="section">
                        <p>以下SQL子句被转换为替代语法;这可能有语义效果。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>原始子句<code class="codeph">WHERE CURRENT OF &lt;cursorname&gt;</code>变为<code class="codeph">WHERE ROWID = :N</code> 。 <code class="codeph">N</code>是一个数字。
                              </p>
                           </li>
                           <li>
                              <p>原始<code class="codeph">=</code>变为<code class="codeph">'' IS NULL</code> 。</p>
                           </li>
                           <li>
                              <p>原来<code class="codeph">!=</code>变成<code class="codeph">'' IS NOT NULL</code> 。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-5D215D34-E5B2-4CE7-A347-AD629E333E13" name="GUID-5D215D34-E5B2-4CE7-A347-AD629E333E13"></a><h3 id="DRDAS-GUID-5D215D34-E5B2-4CE7-A347-AD629E333E13" class="sect3">支持特别登记册</h3>
               <div>
                  <p>DB2使用一种称为<span class="italic"><span class="bold">特殊寄存器</span></span>的概念;它们可能被认为是SQL上下文中的环境变量。Oracle数据库为特殊寄存器提供有限的本机支持。
                  </p>
               </div>
               <div class="props_rev_3"><a id="GUID-05D56B23-9A54-424D-AADE-02EBF612992F" name="GUID-05D56B23-9A54-424D-AADE-02EBF612992F"></a><h4 id="DRDAS-GUID-05D56B23-9A54-424D-AADE-02EBF612992F" class="sect4">从特殊寄存器中检索值</h4>
                  <div>
                     <div class="example" id="GUID-05D56B23-9A54-424D-AADE-02EBF612992F__GUID-A4587630-9932-4739-BB94-ED01AA7FDDE6">
                        <p class="titleinexample">示例14-2从特殊寄存器中检索值</p>
                        <p>当用户在客户端上输入以下语句时：</p><pre class="oac_no_warn" dir="ltr">从SYSIBM.SYSDUMMY1中选择当前CLIENT_ACCTNG;</pre><p>用于DRDA的Oracle数据库提供程序解析前面的语句，并使用子句<code class="codeph">SYS_CONTEXT('DRDAAS_CTX_NAME','CLIENT_ACCTNG')</code>替换子句<code class="codeph">CURRENT CLIENT_ACCTNG</code> ，如下所示：</p><pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT（'DRDAAS_CTX_NAME'，'CLIENT_ACCTNG'）FROM SYSIBM.SYSDUMMY1;</pre><p>因此，如果翻译者需要<code class="codeph">CURRENT CLIENT_ACCTNG</code>子句，它将收到更改的查询。
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-25D1A5B1-784D-4075-A11C-2CEF82E93BA6" name="GUID-25D1A5B1-784D-4075-A11C-2CEF82E93BA6"></a><h4 id="DRDAS-GUID-25D1A5B1-784D-4075-A11C-2CEF82E93BA6" class="sect4">设置特殊注册表</h4>
                  <div>
                     <div class="example" id="GUID-25D1A5B1-784D-4075-A11C-2CEF82E93BA6__GUID-942D0BF6-586D-4B71-A297-07D802E015F5">
                        <p class="titleinexample">例14-3设置特殊寄存器</p>
                        <p>当用户在客户端上输入以下语句时：</p><pre class="oac_no_warn" dir="ltr">SET CLIENT_ACCTNG ='abc';</pre><p>用于DRDA的Oracle数据库提供程序通过用子句<code class="codeph">SYS_CONTEXT('DRDAAS_CTX_NAME','CLIENT_ACCTNG')</code>替换子句<code class="codeph">CLIENT_ACCTNG = 'abc'</code> ，将<code class="codeph">CLIENT_ACCTNG</code>寄存器的值设置为字符串<code class="codeph">abc</code> ，如下所示：</p><pre class="oac_no_warn" dir="ltr">SET SYS_CONTEXT（'DRDAAS_CTX_NAME'，'CLIENT_ACCTNG'）='abc';</pre><p>因此，如果转换程序需要<code class="codeph">CURRENT CLIENT_ACCTNG</code>子句，它将收到更改的语句。
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-9CB3F4D0-BF44-4249-A976-98E18B359E40" name="GUID-9CB3F4D0-BF44-4249-A976-98E18B359E40"></a><h4 id="DRDAS-GUID-9CB3F4D0-BF44-4249-A976-98E18B359E40" class="sect4">Oracle数据库提供程序为DRDA提供支持的特殊注册表</h4>
                  <div>
                     <p>用于DRDA的Oracle数据库提供程序支持以下寄存器。</p>
                  </div>
                  <div class="props_rev_3"><a id="GUID-F293B395-2C9A-453D-B292-4E950119EC81" name="GUID-F293B395-2C9A-453D-B292-4E950119EC81"></a><h5 id="DRDAS-GUID-F293B395-2C9A-453D-B292-4E950119EC81" class="sect5">申请编码方案</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前的应用程序编码方案</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-F293B395-2C9A-453D-B292-4E950119EC81__GUID-FFFC139E-42F3-4848-B20D-855FDAD497A0">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'APPLICATION_ENCODING_SCHEME'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-F293B395-2C9A-453D-B292-4E950119EC81__GUID-62199414-7B22-45C9-AA59-662E0458B5B1">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-F293B395-2C9A-453D-B292-4E950119EC81__GUID-94DB6442-2DA0-4667-845F-89E40B8BC95F">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-E7FAC8AD-C8D7-44ED-98D3-CDE67CF613B7" name="GUID-E7FAC8AD-C8D7-44ED-98D3-CDE67CF613B7"></a><h5 id="DRDAS-GUID-E7FAC8AD-C8D7-44ED-98D3-CDE67CF613B7" class="sect5">CLIENT_ACCTNG</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前CLIENT_ACCTNG客户端ACCTNG</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-E7FAC8AD-C8D7-44ED-98D3-CDE67CF613B7__GUID-1B74170A-4BB6-4CF8-8CDE-890466A56050">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'CLIENT_ACCTNG'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-E7FAC8AD-C8D7-44ED-98D3-CDE67CF613B7__GUID-448B1A52-223B-4EF7-B65F-506BD5E79839">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code>和<code class="codeph">CLIENT_INFO</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-E7FAC8AD-C8D7-44ED-98D3-CDE67CF613B7__GUID-A762FE61-F863-471C-9698-3C1AFDE62EBE">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">V$SESSION</code> <code class="codeph">CLIENT_INFO</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-E7FAC8AD-C8D7-44ED-98D3-CDE67CF613B7__GUID-D15CC58C-B6FB-4441-9E3D-ECDE7FF7040B">笔记</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>请参阅<code class="codeph">DSNDQMDA</code>宏中记录的由IBM和DB2定义的MVS和DDF记帐信息。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-595978E0-B119-448D-9037-123E3E9CCA06" name="GUID-595978E0-B119-448D-9037-123E3E9CCA06"></a><h5 id="DRDAS-GUID-595978E0-B119-448D-9037-123E3E9CCA06" class="sect5">CLIENT_APPLNAME</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前CLIENT_APPLNAME客户端APPLNAME</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-595978E0-B119-448D-9037-123E3E9CCA06__GUID-01FF6B53-5075-4DF3-9E97-B926F712AA74">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'CLIENT_APPLNAME'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-595978E0-B119-448D-9037-123E3E9CCA06__GUID-3571EB5D-335A-49C1-9E12-A3D82A4794A9">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code>和<code class="codeph">CLIENT_IDENTIFIER</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-595978E0-B119-448D-9037-123E3E9CCA06__GUID-2F88E27F-7C7B-497A-975E-2623CB79495C">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">V$SESSION</code> <code class="codeph">CLIENT_IDENTIFIER</code></p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-7CC9B4AF-3F75-4115-99B7-1AD795F1271F" name="GUID-7CC9B4AF-3F75-4115-99B7-1AD795F1271F"></a><h5 id="DRDAS-GUID-7CC9B4AF-3F75-4115-99B7-1AD795F1271F" class="sect5">CLIENT_PROGRAMID</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">CURRENT CLIENT_PROGRAMID</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-7CC9B4AF-3F75-4115-99B7-1AD795F1271F__GUID-3876A074-3ABE-4894-9D7C-C7A5EA356F63">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'CLIENT_PROGRAMID'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-7CC9B4AF-3F75-4115-99B7-1AD795F1271F__GUID-19363987-6B21-46C5-B42F-A95BD0B622D5">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-7CC9B4AF-3F75-4115-99B7-1AD795F1271F__GUID-E79E6ED5-50F7-4A09-853B-D6927C01AA4F">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-DD7AF816-E4F5-49E8-99AA-702BBE47AF42" name="GUID-DD7AF816-E4F5-49E8-99AA-702BBE47AF42"></a><h5 id="DRDAS-GUID-DD7AF816-E4F5-49E8-99AA-702BBE47AF42" class="sect5">CLIENT_USERID</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">CURRENT CLIENT_USERID CLIENT USERID</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DD7AF816-E4F5-49E8-99AA-702BBE47AF42__GUID-5DF3000D-088B-48C6-9145-90977485DD7A">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'CLIENT_USERID'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DD7AF816-E4F5-49E8-99AA-702BBE47AF42__GUID-0BA7FF1A-266A-41C8-9119-DAF3176EFC90">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DD7AF816-E4F5-49E8-99AA-702BBE47AF42__GUID-64D93CCC-132A-4454-9F92-30EB73D8682F">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-46096CFA-E115-494F-B8E5-9819B626C21A" name="GUID-46096CFA-E115-494F-B8E5-9819B626C21A"></a><h5 id="DRDAS-GUID-46096CFA-E115-494F-B8E5-9819B626C21A" class="sect5">CLIENT_WRKSTNNAME</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">CURRENT CLIENT_WRKSTNNAME客户端WRKSTNNAME</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-46096CFA-E115-494F-B8E5-9819B626C21A__GUID-BE0AEB21-C949-46E9-A0BB-DC861860E8FF">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'CLIENT_WRKSTNNAME'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-46096CFA-E115-494F-B8E5-9819B626C21A__GUID-1663ABCA-75EE-42CA-8D66-B9B5ED91515E">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-46096CFA-E115-494F-B8E5-9819B626C21A__GUID-1FDB27E9-5AC9-487B-B1B8-99589B75FD4D">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-4E44E27A-34F2-4E54-9049-EF36590CA8F0" name="GUID-4E44E27A-34F2-4E54-9049-EF36590CA8F0"></a><h5 id="DRDAS-GUID-4E44E27A-34F2-4E54-9049-EF36590CA8F0" class="sect5">日期</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前日期CURRENT_DATE</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4E44E27A-34F2-4E54-9049-EF36590CA8F0__GUID-BC2EE146-C4F9-419F-ABF2-11020FC5C15A">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前的日期</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4E44E27A-34F2-4E54-9049-EF36590CA8F0__GUID-1EA3EF8A-5986-4A3D-870B-CD77878DA3A6">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4E44E27A-34F2-4E54-9049-EF36590CA8F0__GUID-417AFB02-01C8-4AD3-B9DB-1F6F8839D9E4">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-1E465BF2-013A-4FA3-A85C-22FB40125717" name="GUID-1E465BF2-013A-4FA3-A85C-22FB40125717"></a><h5 id="DRDAS-GUID-1E465BF2-013A-4FA3-A85C-22FB40125717" class="sect5">DBPARTITIONNUM</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前的DBPARTITIONNUM</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1E465BF2-013A-4FA3-A85C-22FB40125717__GUID-6A9D4793-BCFE-4F94-A149-4D39C5BE8B55">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'DBPARTITIONNUM'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1E465BF2-013A-4FA3-A85C-22FB40125717__GUID-BAAE55AA-DCFA-4830-A180-3BE5D38B7C62">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1E465BF2-013A-4FA3-A85C-22FB40125717__GUID-B730F6FD-82A3-46BA-8B63-A99A5818EB7B">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-31B47827-5C3C-420C-8B74-9C3D71889FCC" name="GUID-31B47827-5C3C-420C-8B74-9C3D71889FCC"></a><h5 id="DRDAS-GUID-31B47827-5C3C-420C-8B74-9C3D71889FCC" class="sect5">调试模式</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前的调试模式</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-31B47827-5C3C-420C-8B74-9C3D71889FCC__GUID-7A6A9A51-7735-4B6C-A337-02797677A07D">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'DEBUG_MODE'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-31B47827-5C3C-420C-8B74-9C3D71889FCC__GUID-739CC44E-7C8F-4F66-84B0-055BA3615171">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-31B47827-5C3C-420C-8B74-9C3D71889FCC__GUID-A38D7220-063C-45AF-A417-23F4B87FA5DF">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-1835C517-7813-412E-8133-CA8F4D260F44" name="GUID-1835C517-7813-412E-8133-CA8F4D260F44"></a><h5 id="DRDAS-GUID-1835C517-7813-412E-8133-CA8F4D260F44" class="sect5">DECFLOAT ROUNDING MODE</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前的DECFLOAT ROUNDING模式</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1835C517-7813-412E-8133-CA8F4D260F44__GUID-F8CCF460-C5D3-475F-8155-22E060F2BB01">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'DECFLOAT_ROUNDING_MODE'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1835C517-7813-412E-8133-CA8F4D260F44__GUID-AEF42203-E01D-481E-A855-17307CFB551F">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1835C517-7813-412E-8133-CA8F4D260F44__GUID-94EAADA1-F2EA-47EF-8695-590872FFB555">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-6E21A908-08E3-4173-ADD4-7E3D22DB7585" name="GUID-6E21A908-08E3-4173-ADD4-7E3D22DB7585"></a><h5 id="DRDAS-GUID-6E21A908-08E3-4173-ADD4-7E3D22DB7585" class="sect5">DEFAULT TRANSFORM GROUP</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前默认变革组</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-6E21A908-08E3-4173-ADD4-7E3D22DB7585__GUID-1855FA94-CEDE-45D3-89A3-B027DF2FB33C">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'DEFAULT_TRANSFORM_GROUP'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-6E21A908-08E3-4173-ADD4-7E3D22DB7585__GUID-F9C81E07-F8BC-4C8E-BB66-E73E53910566">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-6E21A908-08E3-4173-ADD4-7E3D22DB7585__GUID-E7D91F15-F022-44F7-A8E2-7F0C22B4AA55">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-A69E5C29-94FE-45D4-AFBD-AEE73FA53C5E" name="GUID-A69E5C29-94FE-45D4-AFBD-AEE73FA53C5E"></a><h5 id="DRDAS-GUID-A69E5C29-94FE-45D4-AFBD-AEE73FA53C5E" class="sect5">学位</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前学位</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-A69E5C29-94FE-45D4-AFBD-AEE73FA53C5E__GUID-58E96C3C-D2AA-43DC-86BA-2B1C131AB5DB">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， '度'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-A69E5C29-94FE-45D4-AFBD-AEE73FA53C5E__GUID-975F2C6C-0F01-4E3F-991A-199157889547">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-A69E5C29-94FE-45D4-AFBD-AEE73FA53C5E__GUID-7F3427DD-142A-4EE9-A9A0-0F36B1BB9D03">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-88915F4F-3DC4-4248-9AFA-14E1BB81D8F8" name="GUID-88915F4F-3DC4-4248-9AFA-14E1BB81D8F8"></a><h5 id="DRDAS-GUID-88915F4F-3DC4-4248-9AFA-14E1BB81D8F8" class="sect5">说明模式</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前的解释模式</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-88915F4F-3DC4-4248-9AFA-14E1BB81D8F8__GUID-B3262C96-305A-4B6F-A30E-C5877CDAB4A4">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'EXPLAIN_MODE'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-88915F4F-3DC4-4248-9AFA-14E1BB81D8F8__GUID-F5B22A1F-1B15-49B8-A626-9BF19CCFA4FF">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-88915F4F-3DC4-4248-9AFA-14E1BB81D8F8__GUID-44B89CB7-8E43-478F-A736-7359CC4E8734">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-DD9CD4F7-2741-4F6D-98AB-D997DDCF6348" name="GUID-DD9CD4F7-2741-4F6D-98AB-D997DDCF6348"></a><h5 id="DRDAS-GUID-DD9CD4F7-2741-4F6D-98AB-D997DDCF6348" class="sect5">解释快照</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前解释快照</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DD9CD4F7-2741-4F6D-98AB-D997DDCF6348__GUID-5D4A1CEF-B017-4173-A38B-3151A96BDB70">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'EXPLAIN_SNAPSHOT'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DD9CD4F7-2741-4F6D-98AB-D997DDCF6348__GUID-450ACE96-482D-4051-B752-E596C8A408FC">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DD9CD4F7-2741-4F6D-98AB-D997DDCF6348__GUID-23217B5E-1CDD-4E96-9E93-D53773240427">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-1A2D618E-4FBB-4A20-B2F5-3392B43FDF8C" name="GUID-1A2D618E-4FBB-4A20-B2F5-3392B43FDF8C"></a><h5 id="DRDAS-GUID-1A2D618E-4FBB-4A20-B2F5-3392B43FDF8C" class="sect5">联邦异步</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前联邦的异步</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1A2D618E-4FBB-4A20-B2F5-3392B43FDF8C__GUID-17B7400C-D9DE-470B-8951-44DEECEE31BE">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'FEDERATED_ASYNCHRONY'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1A2D618E-4FBB-4A20-B2F5-3392B43FDF8C__GUID-060DA566-05F6-4855-9AEE-CD30F20B2DE8">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1A2D618E-4FBB-4A20-B2F5-3392B43FDF8C__GUID-07038A5F-6D27-4441-8861-11807B80AFC6">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-19A8E5D7-1770-4FF0-9EAF-1B0CF27F49A5" name="GUID-19A8E5D7-1770-4FF0-9EAF-1B0CF27F49A5"></a><h5 id="DRDAS-GUID-19A8E5D7-1770-4FF0-9EAF-1B0CF27F49A5" class="sect5">IMPLICIT XMLPARSE选项</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前隐式XMLPARSE选项</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-19A8E5D7-1770-4FF0-9EAF-1B0CF27F49A5__GUID-65D340DC-3428-4787-BD80-F260D1B73AA5">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'IMPLICIT_XMLPARSE_OPTION'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-19A8E5D7-1770-4FF0-9EAF-1B0CF27F49A5__GUID-04ED3EA7-8212-483A-B54C-A4413C2524D8">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-19A8E5D7-1770-4FF0-9EAF-1B0CF27F49A5__GUID-FD7A794D-B42C-4843-84DA-84232AEF4B52">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-EA2B31EB-860D-4CCA-8987-3ACD9571A6EC" name="GUID-EA2B31EB-860D-4CCA-8987-3ACD9571A6EC"></a><h5 id="DRDAS-GUID-EA2B31EB-860D-4CCA-8987-3ACD9571A6EC" class="sect5">隔离</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">目前的隔离</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-EA2B31EB-860D-4CCA-8987-3ACD9571A6EC__GUID-66C9E1F6-6888-4596-8408-7CE260D9812D">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， '隔离'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-EA2B31EB-860D-4CCA-8987-3ACD9571A6EC__GUID-2E4EE723-3A92-4FF5-A362-1866F0428691">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-EA2B31EB-860D-4CCA-8987-3ACD9571A6EC__GUID-AF5FA8EC-10CE-4B3E-9D65-86E2AEDFD0B5">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-3D092DF1-4C8A-4C95-A540-AFFE78910B90" name="GUID-3D092DF1-4C8A-4C95-A540-AFFE78910B90"></a><h5 id="DRDAS-GUID-3D092DF1-4C8A-4C95-A540-AFFE78910B90" class="sect5">锁定超时</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前锁定超时</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-3D092DF1-4C8A-4C95-A540-AFFE78910B90__GUID-203D8174-187F-4380-A61F-39B3FF5F5230">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， '_ TIMEOUT'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-3D092DF1-4C8A-4C95-A540-AFFE78910B90__GUID-4DD59272-5C94-4C6D-815D-96CDB8D787E7">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-3D092DF1-4C8A-4C95-A540-AFFE78910B90__GUID-61E23826-F968-482C-B3E4-7C758CDF3307">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-15D0C73B-EBCA-4FF0-8F9B-9B868CFB30AD" name="GUID-15D0C73B-EBCA-4FF0-8F9B-9B868CFB30AD"></a><h5 id="DRDAS-GUID-15D0C73B-EBCA-4FF0-8F9B-9B868CFB30AD" class="sect5">LOCALE LC_TYPE</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">CURRENT LOCALE LC_TYPE CURRENT_LC_TYPE</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-15D0C73B-EBCA-4FF0-8F9B-9B868CFB30AD__GUID-1A368F73-43B2-440C-B6B8-36621E8C5678">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'LC_TYPE'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-15D0C73B-EBCA-4FF0-8F9B-9B868CFB30AD__GUID-8E435784-5FFC-47BA-9AFC-991C130C114D">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-15D0C73B-EBCA-4FF0-8F9B-9B868CFB30AD__GUID-F090C7CC-5648-4B34-8286-07D638060AE8">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-06B7C7FD-7D47-433B-800E-5D922E2EBA2F" name="GUID-06B7C7FD-7D47-433B-800E-5D922E2EBA2F"></a><h5 id="DRDAS-GUID-06B7C7FD-7D47-433B-800E-5D922E2EBA2F" class="sect5">用于优化的维护表类型</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">用于优化的当前维护表类型</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-06B7C7FD-7D47-433B-800E-5D922E2EBA2F__GUID-4FE25B5A-DC42-4686-A0C7-D2030BE04608">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'MAINTAINED_TYPES'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-06B7C7FD-7D47-433B-800E-5D922E2EBA2F__GUID-F28CC4CB-9027-49D6-9B8B-DF5B77D927D3">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-06B7C7FD-7D47-433B-800E-5D922E2EBA2F__GUID-9476F804-9B81-4803-8363-07810479D61F">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-3332A142-83B8-4432-86A2-096DA93186DA" name="GUID-3332A142-83B8-4432-86A2-096DA93186DA"></a><h5 id="DRDAS-GUID-3332A142-83B8-4432-86A2-096DA93186DA" class="sect5">会员</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">现任会员</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-3332A142-83B8-4432-86A2-096DA93186DA__GUID-47F76D9D-ED54-4773-8385-BB6E13393C64">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， '会员'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-3332A142-83B8-4432-86A2-096DA93186DA__GUID-C5A9CA41-A117-449B-AB4B-473C8CF8FABC">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-3332A142-83B8-4432-86A2-096DA93186DA__GUID-9C325322-26DD-4A2D-8EB6-96756A92EDA6">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-265CD631-46EF-4142-A20A-8272F07CFE62" name="GUID-265CD631-46EF-4142-A20A-8272F07CFE62"></a><h5 id="DRDAS-GUID-265CD631-46EF-4142-A20A-8272F07CFE62" class="sect5">优化提示</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前的优化提示</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-265CD631-46EF-4142-A20A-8272F07CFE62__GUID-A495388A-6923-442A-ABD9-ADFE7418C207">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'OPTIMIZATION_HINT'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-265CD631-46EF-4142-A20A-8272F07CFE62__GUID-925E0588-E791-451E-AA4D-D31C88DC26D5">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-265CD631-46EF-4142-A20A-8272F07CFE62__GUID-307C8837-DA3A-405B-B25E-BAFA1BC6CF02">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-A6A580DC-BCC2-4D9C-B1D4-295FB115950B" name="GUID-A6A580DC-BCC2-4D9C-B1D4-295FB115950B"></a><h5 id="DRDAS-GUID-A6A580DC-BCC2-4D9C-B1D4-295FB115950B" class="sect5">包装路径</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前的包装路径</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-A6A580DC-BCC2-4D9C-B1D4-295FB115950B__GUID-DFD1B52A-078B-4585-A51A-0DB3D8459EC8">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'PACKAGE_PATH'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-A6A580DC-BCC2-4D9C-B1D4-295FB115950B__GUID-04E00A17-2951-4DD0-8D21-C5D6B73DD39A">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-A6A580DC-BCC2-4D9C-B1D4-295FB115950B__GUID-8AE1502E-BF10-4213-B8CE-3E1157926268">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-DED612DE-3948-4C3E-9C31-9B5E74E833BC" name="GUID-DED612DE-3948-4C3E-9C31-9B5E74E833BC"></a><h5 id="DRDAS-GUID-DED612DE-3948-4C3E-9C31-9B5E74E833BC" class="sect5">PACKAGESET</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前的包装</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DED612DE-3948-4C3E-9C31-9B5E74E833BC__GUID-C3D207C7-A2AA-4282-AD47-8DEC3AA8FA5E">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'PACKAGESET'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DED612DE-3948-4C3E-9C31-9B5E74E833BC__GUID-7B315342-D862-44CA-A1BC-E62F3C572432">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DED612DE-3948-4C3E-9C31-9B5E74E833BC__GUID-6AD00309-62D0-4C16-8520-308E57140E8E">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-2E1B5800-D392-4F77-A38C-D68CFFC2AED6" name="GUID-2E1B5800-D392-4F77-A38C-D68CFFC2AED6"></a><h5 id="DRDAS-GUID-2E1B5800-D392-4F77-A38C-D68CFFC2AED6" class="sect5">路径</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">CURRENT PATH CURRENT_PATH当前功能路径</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-2E1B5800-D392-4F77-A38C-D68CFFC2AED6__GUID-6CE7429F-D208-4194-8420-DDA74DE1F0A6">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， '路径'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-2E1B5800-D392-4F77-A38C-D68CFFC2AED6__GUID-A500EADE-F7EA-40AD-BE75-228E565780F0">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-2E1B5800-D392-4F77-A38C-D68CFFC2AED6__GUID-68BF3490-0FAC-4B2F-B966-40BD45ACAAAE">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-289B3FB1-6D45-43AB-9BED-957F22DF1166" name="GUID-289B3FB1-6D45-43AB-9BED-957F22DF1166"></a><h5 id="DRDAS-GUID-289B3FB1-6D45-43AB-9BED-957F22DF1166" class="sect5">精确</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前精度</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-289B3FB1-6D45-43AB-9BED-957F22DF1166__GUID-C457A80B-B3EE-4184-953E-D0BA212BBECF">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'PRECISION'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-289B3FB1-6D45-43AB-9BED-957F22DF1166__GUID-DF1EA381-8CEE-4BC0-BA0A-9054EB596CC6">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-289B3FB1-6D45-43AB-9BED-957F22DF1166__GUID-59A0E5B4-36E5-4496-BC4C-AC4B63E013EE">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-33EC78EA-5B9B-4C40-A813-3C44EA746B08" name="GUID-33EC78EA-5B9B-4C40-A813-3C44EA746B08"></a><h5 id="DRDAS-GUID-33EC78EA-5B9B-4C40-A813-3C44EA746B08" class="sect5">查询加速</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前的查询加速</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-33EC78EA-5B9B-4C40-A813-3C44EA746B08__GUID-C9A99E6C-0A43-4D58-817D-D3A020F676A6">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'QUERY_ACCELERATION'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-33EC78EA-5B9B-4C40-A813-3C44EA746B08__GUID-69F360DC-244E-4C0A-ACED-8103511B2DA3">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-33EC78EA-5B9B-4C40-A813-3C44EA746B08__GUID-92EED8A5-C433-4D60-9B86-1B3D296D3FB9">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-D303A7A7-93B3-4E78-995B-65AE493AC0CE" name="GUID-D303A7A7-93B3-4E78-995B-65AE493AC0CE"></a><h5 id="DRDAS-GUID-D303A7A7-93B3-4E78-995B-65AE493AC0CE" class="sect5">查询优化</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前的查询优化</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D303A7A7-93B3-4E78-995B-65AE493AC0CE__GUID-47F4F806-646A-41D3-8C24-E9F3788F0EC2">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'QUERY_OPTIMIZATION'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D303A7A7-93B3-4E78-995B-65AE493AC0CE__GUID-FC67484F-2EA6-48F9-B735-64B4C8618AA6">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D303A7A7-93B3-4E78-995B-65AE493AC0CE__GUID-CFB8A54D-4E8B-4BE4-A054-3A36D1872125">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-8CA22DB7-AC46-46E9-AA58-B2F12A5E1369" name="GUID-8CA22DB7-AC46-46E9-AA58-B2F12A5E1369"></a><h5 id="DRDAS-GUID-8CA22DB7-AC46-46E9-AA58-B2F12A5E1369" class="sect5">刷新时代</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前的刷新时代</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8CA22DB7-AC46-46E9-AA58-B2F12A5E1369__GUID-50510311-FEE2-40B3-962C-D48F6EDE9286">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'REFRESH_AGE'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8CA22DB7-AC46-46E9-AA58-B2F12A5E1369__GUID-47F31468-2349-438A-A516-99733763D3F5">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8CA22DB7-AC46-46E9-AA58-B2F12A5E1369__GUID-EC7ABCE7-856E-4EDB-A6EF-78050DC43572">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-D8E28399-41DB-4151-ADEB-7314D75A5EC8" name="GUID-D8E28399-41DB-4151-ADEB-7314D75A5EC8"></a><h5 id="DRDAS-GUID-D8E28399-41DB-4151-ADEB-7314D75A5EC8" class="sect5">常规版本</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前的常规版本</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D8E28399-41DB-4151-ADEB-7314D75A5EC8__GUID-4326A3E6-5FB4-49DB-A001-880464E6F4F3">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'ROUTINE_VERSION'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D8E28399-41DB-4151-ADEB-7314D75A5EC8__GUID-76A16C42-CBA0-4BCC-8B82-81E6F5EA715C">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D8E28399-41DB-4151-ADEB-7314D75A5EC8__GUID-7433885E-4215-49CC-9E4A-58A0CDD554AA">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-CA4A28C4-C299-4AC4-9FBE-AFEC142381A7" name="GUID-CA4A28C4-C299-4AC4-9FBE-AFEC142381A7"></a><h5 id="DRDAS-GUID-CA4A28C4-C299-4AC4-9FBE-AFEC142381A7" class="sect5">规则</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">现行规则</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CA4A28C4-C299-4AC4-9FBE-AFEC142381A7__GUID-9A013F9D-2FD1-4FF2-A571-2BE43933C594">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， '规则'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CA4A28C4-C299-4AC4-9FBE-AFEC142381A7__GUID-36D37121-FB82-4182-9C49-7075C259C51F">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CA4A28C4-C299-4AC4-9FBE-AFEC142381A7__GUID-DBF0072B-8BE8-4133-BF49-B0C54944DC38">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-37851810-A786-47CE-8180-2A830A1B6D7E" name="GUID-37851810-A786-47CE-8180-2A830A1B6D7E"></a><h5 id="DRDAS-GUID-37851810-A786-47CE-8180-2A830A1B6D7E" class="sect5">SCHEMA</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">CURRENT SCHEMA CURRENT_SCHEMA</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-37851810-A786-47CE-8180-2A830A1B6D7E__GUID-314C335C-917E-4154-B997-A9C169A4C13F">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'USERENV'， 'CURRENT_SCHEMA'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-37851810-A786-47CE-8180-2A830A1B6D7E__GUID-66D37009-35A5-453B-845C-4EA9DDCA8F82">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-37851810-A786-47CE-8180-2A830A1B6D7E__GUID-9B6535D6-381B-41A7-98D3-D7DA4FD23555">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-4608F21A-209F-44C1-8C79-4BDE3B79CC43" name="GUID-4608F21A-209F-44C1-8C79-4BDE3B79CC43"></a><h5 id="DRDAS-GUID-4608F21A-209F-44C1-8C79-4BDE3B79CC43" class="sect5">服务器</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">CURRENT SERVER CURRENT_SERVER</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4608F21A-209F-44C1-8C79-4BDE3B79CC43__GUID-9DB4E157-7C6D-48D1-9341-4BD2038FEBEF">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， '服务器'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4608F21A-209F-44C1-8C79-4BDE3B79CC43__GUID-CE67EC49-6F0E-4059-8AAC-F241A0DE5DB4">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4608F21A-209F-44C1-8C79-4BDE3B79CC43__GUID-621D110A-20E9-465A-8A44-C5F470DEB8F6">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-CB194906-A884-4AF0-ACAA-0E31849C7D34" name="GUID-CB194906-A884-4AF0-ACAA-0E31849C7D34"></a><h5 id="DRDAS-GUID-CB194906-A884-4AF0-ACAA-0E31849C7D34" class="sect5">SQL_CCFLAGS</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前的SQL_CCFLAGS</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CB194906-A884-4AF0-ACAA-0E31849C7D34__GUID-E450DEA2-E64F-4919-96B3-84CEAC2D02D6">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（ 'DRDAAS'， 'SQL_CCFLAGS'）</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CB194906-A884-4AF0-ACAA-0E31849C7D34__GUID-E57C60ED-B936-4F6E-9D62-37EBF74B7B59">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CB194906-A884-4AF0-ACAA-0E31849C7D34__GUID-0608D646-2986-45AD-87AC-83FAAF6EAF8F">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-8CB4C402-3C07-4535-BB45-5A69C5E897E6" name="GUID-8CB4C402-3C07-4535-BB45-5A69C5E897E6"></a><h5 id="DRDAS-GUID-8CB4C402-3C07-4535-BB45-5A69C5E897E6" class="sect5">SQLID</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前的SQLID用户</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8CB4C402-3C07-4535-BB45-5A69C5E897E6__GUID-F279C5B1-6E9E-4D5C-A1BE-3CFFF2889A88">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">用户</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8CB4C402-3C07-4535-BB45-5A69C5E897E6__GUID-C26309B3-B5B7-4BA8-825B-6D7872ECFA65">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT</code> <code class="codeph">('DRDAAS', 'CURRENT_SQLID')</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-8CB4C402-3C07-4535-BB45-5A69C5E897E6__GUID-1276FA69-066F-4E0F-8B27-12B8786EB0AF">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-79E5BF31-AAB1-4490-9BB2-1AE7F96B4569" name="GUID-79E5BF31-AAB1-4490-9BB2-1AE7F96B4569"></a><h5 id="DRDAS-GUID-79E5BF31-AAB1-4490-9BB2-1AE7F96B4569" class="sect5">TIMESTAMP</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">CURRENT TIMESTAMP CURRENT_TIMESTAMP</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-79E5BF31-AAB1-4490-9BB2-1AE7F96B4569__GUID-70411830-A837-4D62-9F41-ED00FAB1C5D3">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">CURRENT TIMESTAMP</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-79E5BF31-AAB1-4490-9BB2-1AE7F96B4569__GUID-8AE98667-EB22-4ADF-BC37-30B83961E7CC">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-79E5BF31-AAB1-4490-9BB2-1AE7F96B4569__GUID-ABC652A6-DB87-4661-9D43-EC9516DEEBFF">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-100E42CB-A3C9-440A-A5EC-3935AA9E707E" name="GUID-100E42CB-A3C9-440A-A5EC-3935AA9E707E"></a><h5 id="DRDAS-GUID-100E42CB-A3C9-440A-A5EC-3935AA9E707E" class="sect5">用户</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">当前用户CURRENT_USER</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-100E42CB-A3C9-440A-A5EC-3935AA9E707E__GUID-18A3288F-0ED2-40B2-A07D-4BF8BE39589C">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">用户</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-100E42CB-A3C9-440A-A5EC-3935AA9E707E__GUID-18078EB5-0D37-4216-B396-4FEA4EB8A728">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-100E42CB-A3C9-440A-A5EC-3935AA9E707E__GUID-38AD0593-CBB3-4DC3-9555-74CD5737995C">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-D0B17BF1-23A6-4247-AFE5-D434E981DF50" name="GUID-D0B17BF1-23A6-4247-AFE5-D434E981DF50"></a><h5 id="DRDAS-GUID-D0B17BF1-23A6-4247-AFE5-D434E981DF50" class="sect5">SESSION_USER</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SESSION_USER</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D0B17BF1-23A6-4247-AFE5-D434E981DF50__GUID-0309E88E-30CF-41A7-A530-3CABCAE2C244">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">用户</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D0B17BF1-23A6-4247-AFE5-D434E981DF50__GUID-05A0BDDC-484B-4764-9568-C6D39B04C686">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D0B17BF1-23A6-4247-AFE5-D434E981DF50__GUID-B6D2ADD1-5453-4D5C-9881-CBE53F177436">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-1A89741D-2A6E-4023-B29C-DE6D9026C22F" name="GUID-1A89741D-2A6E-4023-B29C-DE6D9026C22F"></a><h5 id="DRDAS-GUID-1A89741D-2A6E-4023-B29C-DE6D9026C22F" class="sect5">SYSTEM_USER</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SYSTE_USER</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1A89741D-2A6E-4023-B29C-DE6D9026C22F__GUID-8FB1F8F3-C8AB-4378-8612-92BA4A033A7A">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">用户</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1A89741D-2A6E-4023-B29C-DE6D9026C22F__GUID-F6C1358F-CA89-4B0F-9BA0-AD03A732B387">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1A89741D-2A6E-4023-B29C-DE6D9026C22F__GUID-0758566A-992C-4F3A-98B9-8F6EAA8C687C">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法设定</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-1716B26D-6991-46F5-98B7-C0AD6636ECF2" name="GUID-1716B26D-6991-46F5-98B7-C0AD6636ECF2"></a><h5 id="DRDAS-GUID-1716B26D-6991-46F5-98B7-C0AD6636ECF2" class="sect5">加密密码</h5>
                     <div>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">加密密码</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1716B26D-6991-46F5-98B7-C0AD6636ECF2__GUID-A0938B64-AED0-4E60-A6F5-FA27A9F331F9">询问</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>无法查询</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1716B26D-6991-46F5-98B7-C0AD6636ECF2__GUID-8CB37A08-7E37-465D-A1D4-7B2D4FA414ED">组</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>更新<code class="codeph">SYS_CONTEXT('DRDAAS','ENCRYPTION_PASSWORD')</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1716B26D-6991-46F5-98B7-C0AD6636ECF2__GUID-567A491C-4C24-4319-833C-CE73285CED66">语义</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>没有效果</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01526.diagnosing-repairing-failures-dra.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>使用Data Recovery Advisor诊断和修复故障</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Backup and Recovery User&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Backup and Recovery User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-backup-and-recovery-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T05:20:45-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96241-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="rman-data-repair-concepts.html" title="Previous" type="text/html"></link>
      <link rel="next" href="validating-database-files-backups.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="BRADV"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="rman-data-repair-concepts.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="validating-database-files-backups.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">备份和恢复用户指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-diagnosing-responding-failures.html" property="item" typeof="WebPage"><span property="name">诊断和应对失败</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用Data Recovery Advisor诊断和修复故障</li>
            </ol>
            <a id="GUID-8C219B50-1F7F-4F7A-95EE-5F029AE7EB2A" name="GUID-8C219B50-1F7F-4F7A-95EE-5F029AE7EB2A"></a><a id="BRADV246"></a>
            
            <h2 id="BRADV-GUID-8C219B50-1F7F-4F7A-95EE-5F029AE7EB2A" class="sect2"><span class="enumeration_chapter">15</span>使用Data Recovery Advisor诊断和修复故障</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何使用RMAN中的Data Recovery Advisor工具诊断和修复数据库故障。本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="diagnosing-repairing-failures-dra.html#GUID-636EA9BE-2DFB-4FA0-959E-B1290C774ABD" title="Data Recovery Advisor是一种通过确定数据库故障的最佳自动修复选项来帮助减少数据库恢复时间的工具。">Data Recovery Advisor概述</a></p>
                  </li>
                  <li>
                     <p><a href="diagnosing-repairing-failures-dra.html#GUID-05C2861A-4EC0-4F0C-8860-42AC2BC4CC17" title="如果您怀疑或知道发生了一个或多个数据库故障，请使用LIST FAILURE获取有关它们的信息。">列出失败</a></p>
                  </li>
                  <li>
                     <p><a href="diagnosing-repairing-failures-dra.html#GUID-D9D58DB7-05ED-4A21-9D1A-94D57D600271" title="当用户事务试图访问损坏的数据时，数据库会被动地调用数据完整性检查。在某些情况下，潜在的故障可能无法检测到。">通过验证数据库检查块损坏</a></p>
                  </li>
                  <li>
                     <p><a href="diagnosing-repairing-failures-dra.html#GUID-13944F9E-545E-480A-A47B-CE0A73FED3C7" title="在RMAN会话中运行LIST FAILURE后，使用ADVISE FAILURE命令显示修复选项。此命令打印故障摘要，并隐式关闭所有已修复的打开故障。">确定修复选项</a></p>
                  </li>
                  <li>
                     <p><a href="diagnosing-repairing-failures-dra.html#GUID-31DF1037-325F-4FED-8A37-23216EFF9526" title="您可以使用Data Recovery Advisor自动修复故障。">修复失败</a></p>
                  </li>
                  <li>
                     <p><a href="diagnosing-repairing-failures-dra.html#GUID-9F467E37-DC05-494A-890E-439330493056" title="在某些情况下，您可能希望使用CHANGE FAILURE命令来更改故障的状态或优先级。">更改故障状态和优先级</a></p>
                  </li>
               </ul>
            </div><a id="BRADV89714"></a><div class="props_rev_3"><a id="GUID-636EA9BE-2DFB-4FA0-959E-B1290C774ABD" name="GUID-636EA9BE-2DFB-4FA0-959E-B1290C774ABD"></a><h3 id="BRADV-GUID-636EA9BE-2DFB-4FA0-959E-B1290C774ABD" class="sect3"><span class="enumeration_section">15.1</span> Data Recovery Advisor概述</h3>
               <p>Data Recovery Advisor是一种通过确定数据库故障的最佳自动修复选项来帮助减少数据库恢复时间的工具。</p><a id="BRADV89715"></a><div class="props_rev_3"><a id="GUID-FC7012E1-0834-4220-873A-B7409B9AB7A7" name="GUID-FC7012E1-0834-4220-873A-B7409B9AB7A7"></a><h4 id="BRADV-GUID-FC7012E1-0834-4220-873A-B7409B9AB7A7" class="sect4"><span class="enumeration_section">15.1.1</span> Data Recovery Advisor的目的</h4>
                  <div>
                     <p>Data Recovery Advisor是一个Oracle数据库工具，可自动诊断数据故障，确定并提供适当的修复选项，并根据用户的请求执行修复。</p>
                     <p>在此上下文中，数据故障是磁盘上的持久性数据损坏或丢失。通过提供用于自动数据修复的集中式工具，Data Recovery Advisor可提高Oracle数据库的可管理性和可靠性，从而有助于降低<a href="glossary.html#GUID-A3EA33D7-BB93-4179-9BFF-5C0CFBFD26D1"><span class="xrefglossterm">MTTR</span></a> 。</p>
                     <p>诊断数据故障并设计最佳维修策略需要高度的培训和经验。与传统的修复技术相比，Data Recovery Advisor具有以下优势：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Data Recovery Advisor可以<span class="italic">在</span>数据库进程发现损坏并发出错误信号<span class="italic">之前</span>检测，分析和修复数据故障。预警有助于限制腐败造成的损害。
                           </p>
                        </li>
                        <li>
                           <p>手动评估数据故障的症状并将其与问题陈述相关联可能很复杂，容易出错且耗时。Data Recovery Advisor自动诊断故障，评估其影响，并将这些发现报告给用户。</p>
                        </li>
                        <li>
                           <p>传统上，用户必须手动确定修复选项以及修复影响。如果存在多个故障，则用户必须确定正确的修复执行顺序并尝试合并修复。相比之下，Data Recovery Advisor会自动确定最佳修复选项并运行检查以确保这些选项在您的环境中可行。</p>
                        </li>
                        <li>
                           <p>执行数据修复可能很复杂且容易出错。如果选择自动修复选项，则Data Recovery Advisor将执行修复并验证其成功与否。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="BRADV89716"></a><div class="props_rev_3"><a id="GUID-665CCC0F-102C-442E-A6AD-89619784294D" name="GUID-665CCC0F-102C-442E-A6AD-89619784294D"></a><h4 id="BRADV-GUID-665CCC0F-102C-442E-A6AD-89619784294D" class="sect4"><span class="enumeration_section">15.1.2</span> Data Recovery Advisor的基本概念</h4>
                  <div>
                     <p>在使用Data Recovery Advisor之前，您必须熟悉一些概念。</p>
                     <div class="infoboxnotealso" id="GUID-665CCC0F-102C-442E-A6AD-89619784294D__GUID-0A2F0204-CC37-4B50-BA6A-F07F41122143">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="diagnosing-repairing-failures-dra.html#GUID-8F059E94-7CCB-4087-AEB5-1EF85DB857E4" title="Data Recovery Advisor具有命令行和GUI界面。Oracle企业管理器云控制中提供了GUI界面。">Data Recovery Advisor的用户界面</a></p>
                           </li>
                           <li>
                              <p><a href="diagnosing-repairing-failures-dra.html#GUID-58AB169E-7015-4551-BEF1-6E2F39B0E844" title="检查器是在Health Monitor中注册的诊断操作或过程，用于评估数据库或其组件的运行状况。">关于数据完整性检查</a></p>
                           </li>
                           <li>
                              <p><a href="diagnosing-repairing-failures-dra.html#GUID-8990058E-4CF3-4165-92DF-F75706D8F310" title="失败是由数据完整性检查检测到的持久性数据损坏。">关于失败</a></p>
                           </li>
                           <li>
                              <p><a href="diagnosing-repairing-failures-dra.html#GUID-04826048-906A-46DD-A9B1-128DEDFA492C" title="ADVISE FAILURE命令可以显示手动和自动修复选项。Data Recovery Advisor将手动操作分类为必需或可选。">关于手动操作和自动修复选项</a></p>
                           </li>
                           <li>
                              <p><a href="diagnosing-repairing-failures-dra.html#GUID-1B27227C-84B1-41E1-98EC-53A89A337FF5" title="仅在某些数据库配置上支持Data Recovery Advisor。">关于Data Recovery Advisor支持的数据库配置</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="BRADV89717"></a><div class="props_rev_3"><a id="GUID-8F059E94-7CCB-4087-AEB5-1EF85DB857E4" name="GUID-8F059E94-7CCB-4087-AEB5-1EF85DB857E4"></a><h5 id="BRADV-GUID-8F059E94-7CCB-4087-AEB5-1EF85DB857E4" class="sect5"><span class="enumeration_section">15.1.2.1</span> Data Recovery Advisor的用户界面</h5>
                     <div>
                        <p>Data Recovery Advisor具有命令行和GUI界面。Oracle企业管理器云控制中提供了GUI界面。</p>
                        <p>在RMAN命令行界面中，Data Recovery Advisor命令是<code class="codeph">LIST FAILURE</code> ， <code class="codeph">ADVISE FAILURE</code> ， <code class="codeph">REPAIR FAILURE</code>和<code class="codeph">CHANGE FAILURE</code> 。</p>
                        <p>数据库或通过手动检查（如<code class="codeph">VALIDATE</code>命令）自动检测到<a href="glossary.html#GUID-046A9407-B78B-4BBA-BE2F-55D74EF4F2D8"><span class="xrefglossterm">故障</span></a> 。您可以使用<code class="codeph">LIST FAILURE</code>命令查看故障的问题语句以及这些故障对数据库操作的影响。每个故障由故障编号唯一标识。在同一个RMAN会话中，您可以使用<code class="codeph">ADVISE FAILURE</code>命令查看修复选项，通常包括自动和手动选项。
                        </p>
                        <p>执行<code class="codeph">ADVISE FAILURE</code> ，您可以手动修复故障或运行<code class="codeph">REPAIR FAILURE</code>命令自动修复故障。<a href="glossary.html#GUID-021686F4-9813-468B-A83E-9E7773FD4D4C"><span class="xrefglossterm">修复</span></a>是修复一个或多个故障的操作。修复示例包括<a href="glossary.html#GUID-923A509A-1C36-4EA4-91C8-6E4F372722C0"><span class="xrefglossterm">块介质恢复</span></a> ， <a href="glossary.html#GUID-01B3A956-DA97-4B47-9600-FA5549B7E868"><span class="xrefglossterm">数据文件介质恢复</span></a>和<a href="glossary.html#GUID-DD883C9B-0441-48D3-9DDC-755597782971"><span class="xrefglossterm">Oracle闪回数据库</span></a> 。选择自动<a href="glossary.html#GUID-76EA30CA-A51E-44C9-AB25-E1D89AF711B2"><span class="xrefglossterm">修复选项时</span></a> ，Data Recovery Advisor会验证修复是否成功并关闭相关的已修复故障。
                        </p>
                     </div>
                  </div><a id="BRADV89718"></a><div class="props_rev_3"><a id="GUID-58AB169E-7015-4551-BEF1-6E2F39B0E844" name="GUID-58AB169E-7015-4551-BEF1-6E2F39B0E844"></a><h5 id="BRADV-GUID-58AB169E-7015-4551-BEF1-6E2F39B0E844" class="sect5"><span class="enumeration_section">15.1.2.2</span>关于数据完整性检查</h5>
                     <div>
                        <p>检查器是在Health Monitor中注册的诊断操作或过程，用于评估数据库或其组件的运行状况。</p>
                        <div class="section">
                           <p>健康评估称为<a href="glossary.html#GUID-AECF0DB7-EEF4-4676-9978-42F0B5F9F9DE"><span class="xrefglossterm">数据完整性检查</span></a> ，可以被动地或主动地调用。
                           </p>
                           <p>通常会被动地检测到故障。涉及数据损坏的数据库操作会导致错误，该错误会自动调用数据完整性检查，以检查数据库中与错误相关的故障。如果诊断出故障，则将它们记录在<a href="glossary.html#GUID-BDCE90D1-13B7-4D2C-A761-1583A238A247"><span class="xrefglossterm">自动诊断存储库（ADR）中</span></a> ，该<a href="glossary.html#GUID-BDCE90D1-13B7-4D2C-A761-1583A238A247"><span class="xrefglossterm">存储库</span></a>是存储在数据库外部的目录结构。只有在数据库检测到故障并存储在ADR中后，才能使用Data Recovery Advisor生成修复建议和修复故障。</p>
                           <p>您还可以主动调用数据完整性检查。您可以通过运行状况监视器执行检查，该监视器以与响应性调用检查时相同的方式检测和存储故障。您还可以使用<code class="codeph">VALIDATE</code>和<code class="codeph">BACKUP VALIDATE</code>命令<span class="q"><a href="diagnosing-repairing-failures-dra.html#GUID-D9D58DB7-05ED-4A21-9D1A-94D57D600271" title="The database invokes data integrity checks reactively when a user transaction is trying to access corrupted data. In some cases, latent failures can go undetected.">检查块损坏</a></span> ，如<span class="q">“ <a href="diagnosing-repairing-failures-dra.html#GUID-D9D58DB7-05ED-4A21-9D1A-94D57D600271" title="当用户事务试图访问损坏的数据时，数据库会被动地调用数据完整性检查。在某些情况下，潜在的故障可能无法检测到。">通过验证数据库检查块损坏</a> ”中所述</span> 。
                           </p>
                           <div class="infoboxnotealso" id="GUID-58AB169E-7015-4551-BEF1-6E2F39B0E844__GUID-24E0C6C3-F867-4DD8-BF23-042DB54CC6B1">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=ADMIN11269" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何使用<a id="d71715e686" class="indexterm-anchor"></a>健康监测</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="BRADV89719"></a><div class="props_rev_3"><a id="GUID-8990058E-4CF3-4165-92DF-F75706D8F310" name="GUID-8990058E-4CF3-4165-92DF-F75706D8F310"></a><h5 id="BRADV-GUID-8990058E-4CF3-4165-92DF-F75706D8F310" class="sect5"><span class="enumeration_section">15.1.2.3</span>关于失败</h5>
                     <div>
                        <p>失败是由数据完整性检查检测到的持久性数据损坏。</p>
                        <p>失败可以表现为可观察到的症状，例如错误消息和警报，但失败与症状不同，因为它代表了诊断<a href="glossary.html#GUID-3D711236-2A12-4726-AF42-A04D030732B0"><span class="xrefglossterm">问题</span></a> 。在数据库将问题诊断为故障后，您可以获取有关故障的信息，并可能使用Data Recovery Advisor对其进行修复。
                        </p>
                        <p>由于故障信息未存储在数据库本身中，因此无需打开或装入数据库即可访问它。您可以在<code class="codeph">NOMOUNT</code>模式下启动数据库时查看失败。因此，控制文件和<a href="glossary.html#GUID-CBFA8015-2DFF-42B1-A818-D6C5B92C608F"><span class="xrefglossterm">恢复目录</span></a>的可用性不会影响查看检测到的故障的能力，尽管它可能会影响某些维修的可行性。
                        </p>
                        <p>Data Recovery Advisor可以诊断以下故障：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>数据文件和控制文件之类的组件（由于它们不存在而无法访问），没有正确的访问权限，已脱机等等</p>
                           </li>
                           <li>
                              <p>物理损坏，例如块校验和失败和无效的块头字段值</p>
                           </li>
                           <li>
                              <p>不一致，例如比其他数据库文件旧的数据文件</p>
                           </li>
                           <li>
                              <p>I / O故障，例如硬件错误，操作系统驱动程序故障和超出操作系统资源限制（例如，打开文件的数量）</p>
                           </li>
                        </ul>
                        <p>Data Recovery Advisor可以检测或处理某些逻辑损坏。通常，此类损坏需要Oracle支持服务的帮助。</p>
                        <div class="infoboxnotealso" id="GUID-8990058E-4CF3-4165-92DF-F75706D8F310__GUID-537072FB-8032-446E-A44C-12630E41306E">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="diagnosing-repairing-failures-dra.html#GUID-C9E7EC3F-5250-45C2-9A4E-3DDE01CA5F20" title="每个故障都有故障状态：OPEN或CLOSED。">关于失败状态</a></p>
                              </li>
                              <li>
                                 <p><a href="diagnosing-repairing-failures-dra.html#GUID-D5E24BF1-3CDF-41EE-8B17-F3067DDEDBD2" title="每个故障都有一个失败优先级：CRITICAL，HIGH或LOW。 Data Recovery Advisor仅为诊断出的故障分配CRITICAL或HIGH优先级。">关于失败优先权</a></p>
                              </li>
                              <li>
                                 <p><a href="diagnosing-repairing-failures-dra.html#GUID-B28DCBBE-ACFA-4199-A5F0-71767CC30B2F" title="为清楚起见，Data Recovery Advisor将相关故障组合在一起。">关于失败分组</a></p>
                              </li>
                           </ul>
                        </div>
                     </div><a id="BRADV89720"></a><div class="props_rev_3"><a id="GUID-C9E7EC3F-5250-45C2-9A4E-3DDE01CA5F20" name="GUID-C9E7EC3F-5250-45C2-9A4E-3DDE01CA5F20"></a><h6 id="BRADV-GUID-C9E7EC3F-5250-45C2-9A4E-3DDE01CA5F20" class="sect6"><span class="enumeration_section">15.1.2.3.1</span>关于故障状态</h6>
                        <div>
                           <p>每个故障都有故障状态： <code class="codeph">OPEN</code>或<code class="codeph">CLOSED</code> 。</p>
                           <p>在调用适当的修复操作之前，失败的状态为<code class="codeph">OPEN</code> 。修复故障后，状态将更改为<code class="codeph">CLOSED</code> 。
                           </p>
                           <p>每次执行<code class="codeph">LIST FAILURE</code> ，Data Recovery Advisor都会重新验证所有打开的故障并关闭不再存在的故障。因此，如果您将某些故障修复为单独过程的一部分，或者如果故障是自身消失的瞬态问题，则运行<code class="codeph">LIST FAILURE</code>自动关闭它们。
                           </p>
                           <p>如果已手动修复，则可以使用<code class="codeph">CHANGE FAILURE</code>将打开故障的状态更改为<code class="codeph">CLOSED</code> 。但是，使用<code class="codeph">CHANGE FAILURE ...是有道理的<code class="codeph">CHANGE FAILURE ...仅在由于某种原因故障未自动CLOSED</code>时才关闭。如果使用<code class="codeph">CHANGE</code>手动关闭它时仍然存在故障，则在执行相应的数据完整性检查时，Data Recover Advisor会使用其他故障ID重新创建它。
                           </p>
                        </div>
                     </div><a id="BRADV89721"></a><div class="props_rev_3"><a id="GUID-D5E24BF1-3CDF-41EE-8B17-F3067DDEDBD2" name="GUID-D5E24BF1-3CDF-41EE-8B17-F3067DDEDBD2"></a><h6 id="BRADV-GUID-D5E24BF1-3CDF-41EE-8B17-F3067DDEDBD2" class="sect6"><span class="enumeration_section">15.1.2.3.2</span>关于故障优先级</h6>
                        <div>
                           <p>每个故障都有一个失败优先级： <code class="codeph">CRITICAL</code> ， <code class="codeph">HIGH</code>或<code class="codeph">LOW</code> 。 Data Recovery Advisor仅为诊断出的故障分配<code class="codeph">CRITICAL</code>或<code class="codeph">HIGH</code>优先级。
                           </p>
                           <p>具有<code class="codeph">CRITICAL</code>优先级的故障需要立即关注，因为它们使整个数据库不可用。例如，包含当前控制文件的磁盘可能会失败。与故障<code class="codeph">HIGH</code>优先级使数据库部分不可用或无法恢复的，通常必须迅速修复。示例包括块损坏和丢失的归档重做日志。
                           </p>
                           <p>如果为故障分配了<code class="codeph">HIGH</code>优先级，但故障对数据库可用性和可恢复性几乎没有影响，则可以将优先级降级为<code class="codeph">LOW</code> 。 <code class="codeph">LOW</code>优先级表示在修复更重要的故障之前可以忽略故障。
                           </p>
                           <p>默认情况下， <code class="codeph">LIST FAILURE</code>仅显示具有<code class="codeph">CRITICAL</code>和<code class="codeph">HIGH</code>优先级的故障。您可以使用<code class="codeph">CHANGE</code>命令更改<code class="codeph">LOW</code>和<code class="codeph">HIGH</code>故障的状态，但不能更改<code class="codeph">CRITICAL</code>故障的状态。将优先级更改为<code class="codeph">LOW</code>主要原因是减少<code class="codeph">LIST FAILURE</code>输出。如果此时无法重新验证故障（例如，由于另一个故障），则<code class="codeph">LIST FAILURE</code>将<code class="codeph">LIST FAILURE</code>显示为打开。
                           </p>
                        </div>
                     </div><a id="BRADV99975"></a><div class="props_rev_3"><a id="GUID-B28DCBBE-ACFA-4199-A5F0-71767CC30B2F" name="GUID-B28DCBBE-ACFA-4199-A5F0-71767CC30B2F"></a><h6 id="BRADV-GUID-B28DCBBE-ACFA-4199-A5F0-71767CC30B2F" class="sect6"><span class="enumeration_section">15.1.2.3.3</span>关于故障分组</h6>
                        <div>
                           <p>为清楚起见，Data Recovery Advisor将相关故障组合在一起。</p>
                           <p>例如，如果文件中的20个不同块被破坏，则这些故障将在单个父故障下分组。默认情况下，Data Recovery Advisor会列出有关失败组的信息，但您可以指定<code class="codeph">DETAIL</code>选项以列出有关各个子故障的信息。
                           </p>
                           <p>子故障具有与故障相同的格式。您可以获得有关次级故障的建议，并单独修复或与其他任何故障一起修复。</p>
                        </div>
                     </div>
                  </div><a id="BRADV89722"></a><div class="props_rev_3"><a id="GUID-04826048-906A-46DD-A9B1-128DEDFA492C" name="GUID-04826048-906A-46DD-A9B1-128DEDFA492C"></a><h5 id="BRADV-GUID-04826048-906A-46DD-A9B1-128DEDFA492C" class="sect5"><span class="enumeration_section">15.1.2.4</span>关于手动操作和自动修复选项</h5>
                     <div>
                        <p><code class="codeph">ADVISE FAILURE</code>命令可以显示手动和自动修复选项。Data Recovery Advisor将手动操作分类为必需或可选。
                        </p>
                        <p>在某些情况下，唯一可能的操作是手动操作。假设丢失的控制文件不存在备份。在这种情况下，手动操作是执行<code class="codeph">CREATE CONTROLFILE</code>语句。Data Recovery Advisor将此手动操作显示为必需操作，因为没有可用的自动修复。相反，假设存在丢失数据文件的RMAN备份。在这种情况下， <code class="codeph">REPAIR FAILURE</code>命令可以通过恢复和恢复数据文件自动执行修复。可选的手动操作是在无意中重命名或移动数据文件时还原该数据文件。Data Recovery Advisor建议使用可选的手动操作，如果它们可能阻止更极端的修复形式，例如数据文件恢复和恢复。
                        </p>
                        <p>与手动操作相比，Data Recovery Advisor可以执行自动修复。<code class="codeph">ADVISE FAILURE</code>命令为每个自动修复选项提供选项ID，并总结操作。
                        </p>
                        <p>Data Recovery Advisor在推荐自动修复之前执行可行性检查。例如，Data Recovery Advisor会检查介质恢复所需的所有备份和归档重做日志是否存在且一致。Data Recovery Advisor可能需要特定备份和归档重做日志。如果恢复所需的文件不可用，则无法进行恢复。</p>
                        <div class="infoboxnote" id="GUID-04826048-906A-46DD-A9B1-128DEDFA492C__GUID-05CEAAA3-A26E-4971-8E13-36726D263988">
                           <p class="notep1">注意：</p>
                           <p>出于性能原因，Data Recovery Advisor不会详尽检查每个文件中的每个字节。因此，由于备份或归档重做日志文件损坏，可行修复可能仍会失败。</p>
                        </div>
                     </div><a id="BRADV99976"></a><div class="props_rev_3"><a id="GUID-025E4E97-B061-4CF9-AB12-665C9AB1D92B" name="GUID-025E4E97-B061-4CF9-AB12-665C9AB1D92B"></a><h6 id="BRADV-GUID-025E4E97-B061-4CF9-AB12-665C9AB1D92B" class="sect6"><span class="enumeration_section">15.1.2.4.1</span>关于综合维修</h6>
                        <div>
                           <p>如果可能，Data Recovery Advisor会整合修复以将多个故障修复为单个修复。合并修复可能包含多个步骤。</p>
                           <p>有时无法进行整合修复，因为当一个故障阻止为其他故障创建修复时。例如，当控制文件丢失时，无法确定数据文件修复的可行性。在这种情况下，Data Recovery Advisor会为可以修复的故障生成修复选项，并打印一条消息，指出此时无法修复某些选定的故障。执行建议的修复后，您可以重复<code class="codeph">LIST</code> ， <code class="codeph">ADVISE</code>和<code class="codeph">REPAIR</code>序列来修复剩余的故障。
                           </p>
                        </div>
                     </div><a id="BRADV328"></a><a id="BRADV89723"></a><div class="props_rev_3"><a id="GUID-E16E2906-B3D4-439C-8F77-8CB52D02A9BE" name="GUID-E16E2906-B3D4-439C-8F77-8CB52D02A9BE"></a><h6 id="BRADV-GUID-E16E2906-B3D4-439C-8F77-8CB52D02A9BE" class="sect6"><span class="enumeration_section">15.1.2.4.2</span>关于修复脚本</h6>
                        <div>
                           <p>每当Data Recovery Advisor生成自动修复选项时，它都会创建一个脚本，说明RMAN打算使用哪些命令来修复故障。Data Recovery Advisor打印此脚本的位置，该脚本是驻留在操作系统上的文本文件。</p>
                           <p><a href="diagnosing-repairing-failures-dra.html#GUID-E16E2906-B3D4-439C-8F77-8CB52D02A9BE__CHDHJBFE">示例15-1</a>显示了一个示例修复脚本，该脚本显示了Data Recovery Advisor如何计划修复数据文件丢失<code class="codeph">27</code> 。
                           </p>
                           <div class="example" id="GUID-E16E2906-B3D4-439C-8F77-8CB52D02A9BE__CHDHJBFE">
                              <p class="titleinexample">示例15-1示例修复脚本</p><pre class="pre codeblock"><code>#recovery and recover data file ALTER DATABASE DATAFILE 27 OFFLINE;恢复数据文件27; recover datafile 27; ALTER DATABASE DATAFILE 27 ONLINE;</code></pre><p>如果您不希望Data Recovery Advisor自动修复故障，则可以复制脚本，编辑脚本并手动执行。</p>
                           </div>
                           <!-- class="example" -->
                        </div>
                     </div>
                  </div><a id="BRADV89724"></a><div class="props_rev_3"><a id="GUID-1B27227C-84B1-41E1-98EC-53A89A337FF5" name="GUID-1B27227C-84B1-41E1-98EC-53A89A337FF5"></a><h5 id="BRADV-GUID-1B27227C-84B1-41E1-98EC-53A89A337FF5" class="sect5"><span class="enumeration_section">15.1.2.5</span>关于Data Recovery Advisor支持的数据库配置</h5>
                     <p>仅在某些数据库配置上支持Data Recovery Advisor。</p><a id="BRADV795"></a><div class="props_rev_3"><a id="GUID-FF08A639-24B2-46C6-BA39-2C0875D6F99E" name="GUID-FF08A639-24B2-46C6-BA39-2C0875D6F99E"></a><h6 id="BRADV-GUID-FF08A639-24B2-46C6-BA39-2C0875D6F99E" class="sect6"><span class="enumeration_section">15.1.2.5.1</span>关于Data Recovery Advisor和Oracle Real Application Clusters</h6>
                        <div>
                           <p>Data Recovery Advisor仅支持单实例数据库。不支持Oracle Real Application Clusters（Oracle RAC）数据库。</p>
                           <p>如果发生导致所有Oracle RAC实例故障的数据故障，则可以在单实例模式下装入数据库，并使用Data Recovery Advisor检测和修复控制文件， <code class="codeph">SYSTEM</code>数据文件和数据字典故障。您还可以主动调用数据恢复检查，以测试其他数据库组件是否存在数据故障。此方法不会检测其他群集实例本地的数据故障，例如，无法访问的数据文件。
                           </p>
                        </div>
                     </div><a id="BRADV796"></a><div class="props_rev_3"><a id="GUID-A5587038-2082-4502-ADD3-647CBCF39684" name="GUID-A5587038-2082-4502-ADD3-647CBCF39684"></a><h6 id="BRADV-GUID-A5587038-2082-4502-ADD3-647CBCF39684" class="sect6"><span class="enumeration_section">15.1.2.5.2</span>关于Data Recovery Advisor和Oracle Data Guard</h6>
                        <div>
                           <p>Oracle Data Guard环境中的Data Recovery Advisor存在一些限制。</p>
                           <p>在Data Guard环境中，Data Recovery Advisor无法执行以下操作：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>使用从<a href="glossary.html#GUID-009B3F56-8C1E-4CF6-AF0F-A9D2C2E4B9C2"><span class="xrefglossterm">物理备用数据库</span></a>传输的文件来修复主数据库上的故障</p>
                              </li>
                              <li>
                                 <p>诊断和修复备用数据库上的故障</p>
                              </li>
                           </ul>
                           <p>但是，如果主数据库不可用，则Data Recovery Advisor可能会建议故障转移到备用数据库。故障转移后，您可以修复旧的主数据库。如果您在Data Guard配置中使用Enterprise Manager Cloud Control，则可以通过Data Recovery Advisor建议页面启动故障转移。</p>
                           <div class="infoboxnotealso" id="GUID-A5587038-2082-4502-ADD3-647CBCF39684__GUID-7DF1DF1A-8DD0-461A-A01D-ECB616246828">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=SBYDB04700" target="_blank"><span><cite>Oracle Data Guard概念和管理</cite></span></a> ，了解如何在Data Guard配置中使用RMAN</p>
                           </div>
                        </div>
                     </div><a id="BRADV797"></a><div class="props_rev_3"><a id="GUID-E6AE8C65-B5DC-4BA4-A2EA-BDB168C0169A" name="GUID-E6AE8C65-B5DC-4BA4-A2EA-BDB168C0169A"></a><h6 id="BRADV-GUID-E6AE8C65-B5DC-4BA4-A2EA-BDB168C0169A" class="sect6"><span class="enumeration_section">15.1.2.5.3</span>关于Data Recovery Advisor和CDB</h6>
                        <p>Data Recovery Advisor只能用于诊断和修复非CDB中的数据损坏以及多租户容器数据库（CDB）的根目录。可插拔数据库（PDB）不支持Data Recovery Advisor。</p>
                     </div>
                  </div>
               </div><a id="BRADV89725"></a><div class="props_rev_3"><a id="GUID-C83E6265-9D82-4636-B041-B10D9C66C1F7" name="GUID-C83E6265-9D82-4636-B041-B10D9C66C1F7"></a><h4 id="BRADV-GUID-C83E6265-9D82-4636-B041-B10D9C66C1F7" class="sect4"><span class="enumeration_section">15.1.3</span>诊断和修复故障的基本步骤</h4>
                  <div>
                     <p>当您怀疑或发现故障时，Data Recovery Advisor工作流程就会开始。您可以通过多种方式发现故障，包括错误消息，警报，跟踪文件和失败的数据完整性检查。</p>
                     <div class="section">
                        <p>如<span class="q">“ <a href="diagnosing-repairing-failures-dra.html#GUID-58AB169E-7015-4551-BEF1-6E2F39B0E844" title="检查器是在Health Monitor中注册的诊断操作或过程，用于评估数据库或其组件的运行状况。">关于数据完整性检查</a> ”</span>中所述，数据库可以在发生错误时自动诊断故障。
                        </p>
                        <p>要响应失败，请启动RMAN会话，并按照列出的顺序在同一会话中执行以下所有步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>通过运行<code class="codeph">LIST FAILURE</code>命令列出故障。</span><div>
                              <p><span class="q">“ <a href="diagnosing-repairing-failures-dra.html#GUID-05C2861A-4EC0-4F0C-8860-42AC2BC4CC17" title="如果您怀疑或知道发生了一个或多个数据库故障，请使用LIST FAILURE获取有关它们的信息。">清单失败</a> ”中</span>解释了此任务。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>如果您怀疑存在未由数据库自动诊断的故障，请运行<code class="codeph">VALIDATE DATABASE</code>以检查是否存在损坏的块和丢失的文件。</span><div>
                              <p>如果<code class="codeph">VALIDATE</code>检测到问题，则RMAN会触发执行故障评估。如果检测到故障，则RMAN将其记录到自动诊断存储库中，Data Recovery Advisor可以访问该存储库。
                              </p>
                              <p><span class="q">“ <a href="diagnosing-repairing-failures-dra.html#GUID-D9D58DB7-05ED-4A21-9D1A-94D57D600271" title="当用户事务试图访问损坏的数据时，数据库会被动地调用数据完整性检查。在某些情况下，潜在的故障可能无法检测到。">通过验证数据库检查块损坏</a> ”中</span>介绍了此任务。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>通过运行<code class="codeph">ADVISE FAILURE</code>命令确定修复选项。</span><div>
                              <p><span class="q">“ <a href="diagnosing-repairing-failures-dra.html#GUID-13944F9E-545E-480A-A47B-CE0A73FED3C7" title="在RMAN会话中运行LIST FAILURE后，使用ADVISE FAILURE命令显示修复选项。此命令打印故障摘要，并隐式关闭所有已修复的打开故障。">确定修复选项</a> ”中</span>介绍了此任务。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>选择修复选项。您可以手动修复故障或运行<code class="codeph">REPAIR FAILURE</code>命令自动修复它们。</span><div>
                              <p><span class="q">“ <a href="diagnosing-repairing-failures-dra.html#GUID-31DF1037-325F-4FED-8A37-23216EFF9526" title="您可以使用Data Recovery Advisor自动修复故障。">修复故障</a> ”中</span>介绍了此任务。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>返回第一步以确认所有故障都已修复或确定哪些故障仍然存在。</span></li>
                     </ol>
                     <div class="section">
                        <p>按照与本节中列出的顺序不同的顺序执行诊断和修复故障的步骤可能会导致错误。</p>
                        <p>如果适用，您可以随时在Data Recovery Advisor工作流程中使用<code class="codeph">CHANGE FAILURE</code>命令将故障的优先级从<code class="codeph">LOW</code>更改为<code class="codeph">HIGH</code>或<code class="codeph">HIGH</code>更改为<code class="codeph">LOW</code> ，或关闭已手动修复的故障。<span class="q">“ <a href="diagnosing-repairing-failures-dra.html#GUID-9F467E37-DC05-494A-890E-439330493056" title="在某些情况下，您可能希望使用CHANGE FAILURE命令来更改故障的状态或优先级。">更改故障状态和优先级</a> ”中</span>说明了此任务。
                        </p>
                        <div class="infoboxnotealso" id="GUID-C83E6265-9D82-4636-B041-B10D9C66C1F7__GUID-6169906B-75DC-453D-A83C-D666A5E3E16D">
                           <p class="notep1">也可以看看：</p>
                           <p>有关使用Data Recovery Advisor恢复数据库的完整示例，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=RCMRF90269" target="_blank"><span><cite>Oracle Data Guard概念和管理</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV743"></a><div class="props_rev_3"><a id="GUID-E932D9A9-5505-43BC-AC56-774BBD5A9DCE" name="GUID-E932D9A9-5505-43BC-AC56-774BBD5A9DCE"></a><h4 id="BRADV-GUID-E932D9A9-5505-43BC-AC56-774BBD5A9DCE" class="sect4"><span class="enumeration_section">15.1.4</span>诊断和修复CDB中的故障</h4>
                  <div>
                     <p>您可以使用Data Recovery Advisor自动诊断数据故障，确定适当的修复选项以及在CDB中执行修复。</p>
                     <div class="section">
                        <p>用于CDB的步骤类似于您将用于<a href="glossary.html#GUID-62A96A52-3B97-455A-A443-75B999DCAC94"><span class="xrefglossterm">非CDB的步骤</span></a> 。唯一的区别是，对于CDB，您连接到根，然后使用本章中描述的步骤执行修复操作。
                        </p>
                        <p>您无法诊断数据故障并对CDB中的各个<a href="glossary.html#GUID-993BFB3F-3305-481C-999D-26132095DEC9"><span class="xrefglossterm">PDB</span></a>执行修复。</p>
                        <div class="infoboxnotealso" id="GUID-E932D9A9-5505-43BC-AC56-774BBD5A9DCE__GUID-2A24D345-D8EB-4113-A989-6190305B749F">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="starting-interacting-with-rman-client.html#GUID-B397ADD8-D9CF-4DDA-B6AC-8C5FF04447AD" title="您可以将RMAN客户端连接到多租户容器数据库（CDB）和可插拔数据库（PDB）。">与CDB建立RMAN连接</a> ”</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="BRADV89726"></a><div class="props_rev_3"><a id="GUID-05C2861A-4EC0-4F0C-8860-42AC2BC4CC17" name="GUID-05C2861A-4EC0-4F0C-8860-42AC2BC4CC17"></a><h3 id="BRADV-GUID-05C2861A-4EC0-4F0C-8860-42AC2BC4CC17" class="sect3"><span class="enumeration_section">15.2</span>列出失败</h3>
               <div>
                  <p>如果您怀疑或知道发生了一个或多个数据库故障，请使用<code class="codeph">LIST FAILURE</code>获取有关它们的信息。
                  </p>
                  <p>您可以列出所有或部分故障并以各种方式限制输出。故障由故障编号唯一标识。这些数字不是连续的，因此故障数之间的差距没有意义。</p>
                  <p><code class="codeph">LIST FAILURE</code>命令不执行数据完整性检查以诊断新故障;相反，它列出了先前执行的评估的结果。因此，重复执行<code class="codeph">LIST FAILURE</code>只有在数据库自动诊断它们以响应命令执行之间发生的错误时才会显示新故障。但是，执行<code class="codeph">LIST FAILURE</code>会导致Data Recovery Advisor重新验证所有现有故障。如果用户手动修复了故障，或者瞬态故障消失，则Data Recovery Advisor会从<code class="codeph">LIST FAILURE</code>输出中删除这些故障。如果此时无法重新验证故障（例如，由于另一个故障）， <code class="codeph">LIST FAILURE</code>将<code class="codeph">LIST FAILURE</code>显示为打开。
                  </p>
                  <div class="infoboxnotealso" id="GUID-05C2861A-4EC0-4F0C-8860-42AC2BC4CC17__GUID-C40CFA38-B64B-41D6-983C-79A7DBCEB506">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="diagnosing-repairing-failures-dra.html#GUID-1D2A9D25-C112-4F11-BCE1-7163A37E9750" title="确定数据库遇到问题的最简单方法是使用LIST FAILURE命令。">列出所有失败</a></p>
                        </li>
                        <li>
                           <p><a href="diagnosing-repairing-failures-dra.html#GUID-D94EC4F3-02C8-4C0B-A09B-CC871E394947" title="除了提供更详细的输出外，LIST FAILURE还可以限制输出。">列出失败的子集</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="BRADV329"></a><a id="BRADV89727"></a><div class="props_rev_3"><a id="GUID-1D2A9D25-C112-4F11-BCE1-7163A37E9750" name="GUID-1D2A9D25-C112-4F11-BCE1-7163A37E9750"></a><h4 id="BRADV-GUID-1D2A9D25-C112-4F11-BCE1-7163A37E9750" class="sect4"><span class="enumeration_section">15.2.1</span>列出所有失败</h4>
                  <div>
                     <p>确定数据库遇到问题的最简单方法是使用<code class="codeph">LIST FAILURE</code>命令。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1D2A9D25-C112-4F11-BCE1-7163A37E9750__GUID-BA926F65-8ACD-4DC2-8B37-D279D8B8168B">列出所有失败：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>启动RMAN并连接到目标数据库。必须启动目标数据库实例。</span></li>
                        <li class="stepexpand"><span>执行<code class="codeph">LIST FAILURE</code>命令。</span><div>
                              <p>以下示例报告Data Recovery Advisor已知的所有故障（输出已重新格式化以适合页面）。</p><pre class="pre codeblock"><code>RMAN&gt; LIST FAILURE;数据库故障列表=========================故障ID优先级状态检测时间摘要---------- ---- ---- --------- ------------- ------- 142 HIGH OPEN 23-APR-13缺少一个或多个非系统数据文件101 HIGH OPEN 23-APR-13数据文件1：'/ disk1 / oddata / prod / system01.dbf'包含一个或多个损坏的块</code></pre><p>在此示例中，RMAN报告两种不同的故障：一组丢失的数据文件和一个包含损坏块的数据文件。输出指示每个故障（142和101）的唯一标识符，优先级，状态和检测时间。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>（可选）执行<code class="codeph">LIST FAILURE ...DETAIL</code>列出单独的故障。</span><div>
                              <p>Data Recovery Advisor会在可能的情况下整合故障。指定<code class="codeph">DETAIL</code>选项以单独列出故障。例如，如果文件中存在多个块损坏，则指定<code class="codeph">DETAIL</code>选项会列出每个块损坏。以下示例列出了有关故障101的详细信息。
                              </p><pre class="pre codeblock"><code>RMAN&gt; LIST FAILURE 101 DETAIL;数据库故障列表=========================故障ID优先级状态检测时间摘要---------- ---- ---- --------- ------------- ------- 101 HIGH OPEN 23-APR-13数据文件1：'/ disk1 / oradata / prod / system01.dbf'包含一个或多个损坏的块父故障的子故障列表ID 101故障ID优先级状态检测到的时间摘要---------- -------- ---- ----- ------------- ------- 104 HIGH OPEN 23-APR-13数据文件1中的块56416：'/ disk1 / oddata / prod / system01.dbf '是媒体损坏影响：SYS拥有的对象BLKTEST可能不可用</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>继续确定如何修复<code class="codeph">LIST FAILURE</code>命令显示的<code class="codeph">LIST FAILURE</code> ，如<span class="q">“ <a href="diagnosing-repairing-failures-dra.html#GUID-13944F9E-545E-480A-A47B-CE0A73FED3C7" title="在RMAN会话中运行LIST FAILURE后，使用ADVISE FAILURE命令显示修复选项。此命令打印故障摘要，并隐式关闭所有已修复的打开故障。">确定修复选项</a> ”中所述</span> 。</span></li>
                     </ol>
                  </div>
               </div><a id="BRADV330"></a><a id="BRADV89728"></a><div class="props_rev_3"><a id="GUID-D94EC4F3-02C8-4C0B-A09B-CC871E394947" name="GUID-D94EC4F3-02C8-4C0B-A09B-CC871E394947"></a><h4 id="BRADV-GUID-D94EC4F3-02C8-4C0B-A09B-CC871E394947" class="sect4"><span class="enumeration_section">15.2.2</span>列出失败子集</h4>
                  <div>
                     <p>除了提供更详细的输出外， <code class="codeph">LIST FAILURE</code>还可以限制输出。
                     </p>
                     <div class="section">
                        <p>例如，您可以使用<code class="codeph">CRITICAL</code> ， <code class="codeph">HIGH</code> ， <code class="codeph">LOW</code>或<code class="codeph">CLOSED</code>选项执行<code class="codeph">LIST FAILURE</code> ，以仅列出具有特定状态或优先级的故障。您还可以通过指定<code class="codeph">EXCLUDE FAILURE</code>从输出中排除指定的失败。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D94EC4F3-02C8-4C0B-A09B-CC871E394947__GUID-6E1693DF-5DC7-4E68-8BF3-2292074E0B92">列出失败的子集：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>启动RMAN并连接到目标数据库。必须启动目标数据库实例。</span></li>
                        <li class="stepexpand"><span>使用所需选项执行<code class="codeph">LIST FAILURE</code> 。</span><div>
                              <p>以下示例说明了一些<code class="codeph">LIST FAILURE</code>命令：</p><pre class="pre codeblock"><code>列表失败低;列表失败已关闭; LIST FAILURE EXCLUDE FAILURE 234234;</code></pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-D94EC4F3-02C8-4C0B-A09B-CC871E394947__GUID-91857CC9-1ADD-4A88-88A8-993C4290F8F7">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=RCMRF132" target="_blank"><span><cite>Oracle数据库备份和恢复参考</cite></span></a>了解<code class="codeph">LIST FAILURE</code>命令</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="BRADV331"></a><a id="BRADV89729"></a><div class="props_rev_3"><a id="GUID-D9D58DB7-05ED-4A21-9D1A-94D57D600271" name="GUID-D9D58DB7-05ED-4A21-9D1A-94D57D600271"></a><h3 id="BRADV-GUID-D9D58DB7-05ED-4A21-9D1A-94D57D600271" class="sect3"><span class="enumeration_section">15.3</span>通过验证数据库检查块损坏</h3>
               <div>
                  <p>当用户事务试图访问损坏的数据时，数据库会被动地调用数据完整性检查。在某些情况下，潜在的故障可能无法检测到。</p>
                  <div class="section">
                     <p>例如，当发生数据块损坏错误时，数据库会反应性地执行数据完整性检查，以检查发生错误的块和其附近的其他块。但是，附近的区域可能已损坏。此外，无法通过反应式数据完整性检查检测到数据库永远不会读取的损坏块。</p>
                     <p>主动执行数据完整性检查的一种有效方法是在RMAN中运行<code class="codeph">VALIDATE</code>或<code class="codeph">BACKUP VALIDATE</code>命令。这些命令可以检查数据文件和控制文件是否存在物理和逻辑损坏。如果RMAN发现块损坏，则会将它们记录到自动诊断存储库中并创建一个或多个故障。然后，您可以使用Data Recovery Advisor列出有关故障的信息并进行修复。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D9D58DB7-05ED-4A21-9D1A-94D57D600271__GUID-E45CCCCA-70D8-48C1-81B2-5827BD9E9E13">要验证数据库：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>启动RMAN并连接到目标数据库。必须安装目标数据库。</span></li>
                     <li class="stepexpand"><span>验证所需的数据库文件。</span><div>
                           <p>以下示例使用<code class="codeph">VALIDATE DATABASE</code>检查整个数据库中的物理和逻辑损坏（包括部分示例输出）。因为<span class="q">“ <a href="diagnosing-repairing-failures-dra.html#GUID-05C2861A-4EC0-4F0C-8860-42AC2BC4CC17" title="如果您怀疑或知道发生了一个或多个数据库故障，请使用LIST FAILURE获取有关它们的信息。">列出失败</a> ”</span>表示缺少某些数据文件，所以指定了<code class="codeph">SKIP INACCESSIBLE</code>子句。输出显示<code class="codeph">system01.dbf</code>数据库文件有一个新损坏的块（块失败），并且之前没有被数据库标记为损坏的块（标记为已损坏）。
                           </p><pre class="pre codeblock"><code>RMAN&gt;验证检查逻辑跳过无法访问的数据库;在23-APR-13分配的通道上启动验证：ORA_DISK_1通道ORA_DISK_1：SID = 103设备类型= DISK无法访问数据文件28跳过不可访问的文件28 RMAN-06060：警告：跳过数据文件会损害表空间USERS可恢复性RMAN-06060：警告：跳过datafile危害表空间USERS可恢复性通道ORA_DISK_1：开始验证数据文件通道ORA_DISK_1：指定数据文件以进行验证输入数据文件文件号= 00001 name = / disk1 / oradata / prod / system01.dbf输入数据文件文件号= 00002 name = / disk1 /oradata/prod/sysaux01.dbf输入数据文件文件号= 00022 name = / disk1 / oradata / prod / undotbs01.dbf输入数据文件文件号= 00023名称= / disk1 / oradata / prod / cwmlite01.dbf输入数据文件文件号= 00024 name = / disk1 / oradata / prod / drsys01.dbf input datafile file number = 00025 name = / disk1 / oradata / prod / example01.dbf input datafile file number = 00026 name = / disk1 / oradata / prod / indx01.dbf input datafile文件号= 00027 name = / disk1 / oradata / prod / tool s01.dbf通道ORA_DISK_1：验证完成，已用时间：00：00：25数据文件列表=================文件状态标记已损坏空块已检测到高SCN --- -  ------ -------------- ------------ ---------------  - -------- 1 FAILED 0 3536 57600 637711文件名：/disk1/oradata/prod/system01.dbf块类型块处理失败块---------- ------- ------- ----------------数据1 41876索引0 7721其他0 4467。。。文件状态标记损坏空块阻止检查高SCN ---- ------ -------------- ------------ ---- ----------- ---------- 27 OK 0 1272 1280 400914文件名：/disk1/oradata/prod/tools01.dbf块类型块处理失败块---- ------ -------------- ----------------数据0 0索引0 0其他0 8验证找到一个或多个损坏的块请参阅跟踪文件/disk1/oracle/log/diag/rdbms/prod/prod/trace/prod_ora_2596.trc以获取详细信息通道ORA_DISK_1：开始验证数据文件通道ORA_DISK_1：指定用于验证的数据文件，包括用于验证的当前控制文件包括备份集通道ORA_DISK_1中的当前SPFILE：验证完成，已用时间：00：00：01控制文件列表和SPFILE ======================== =======文件类型状态块检查失败块------------ ------ -------------- ---- ----------- SPFILE OK 0 2控制文件OK 0 512在23-APR-13完成验证</code></pre></div>
                     </li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-D9D58DB7-05ED-4A21-9D1A-94D57D600271__GUID-07C2152E-8660-4648-B637-35E43750F453">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="diagnosing-repairing-failures-dra.html#GUID-58AB169E-7015-4551-BEF1-6E2F39B0E844" title="检查器是在Health Monitor中注册的诊断操作或过程，用于评估数据库或其组件的运行状况。">关于数据完整性检查</a></p>
                           </li>
                           <li>
                              <p><a href="validating-database-files-backups.html#GUID-CC967929-9610-410D-B881-66E71353D84C" title="验证使您可以检查备份的完整性。RMAN验证的主要目的是检查损坏的块和丢失的文件。您还可以使用RMAN确定是否可以还原备份。数据库可防止导致无法使用的备份文件或损坏的已还原数据文件的操作。损坏的块是一个已更改的块，因此它与Oracle数据库期望找到的块不同。在物理损坏（也称为媒体损坏）中，数据库根本无法识别块：校验和无效，块包含全零，或块的页眉和页脚不匹配。您可以使用SET MAXCORRUPT命令设置RMAN备份文件中允许的未标记损坏总数。默认值为零，这意味着RMAN不会容忍任何类型的未标记的损坏块。Oracle数据库支持用于检测，修复和监视块损坏的不同技术。您可以使用VALIDATE命令手动检查数据库文件中的物理和逻辑损坏。您还可以使用BACKUP VALIDATE命令执行验证。你可以运行RESTORE ...VALIDATE以测试RMAN是否可以从备份还原特定文件或文件集。RMAN选择要使用的备份。RMAN使您可以使用VALIDATE命令验证多租户容器数据库（CDB）和可插拔数据库（PDB）。验证CDB的步骤与用于验证非CDB的步骤类似。有多种方法可以验证PDB。">验证数据库文件和备份</a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=RCMRF162" target="_blank"><span><cite>Oracle数据库备份和恢复参考</cite></span></a>了解<code class="codeph">VALIDATE</code>命令</p>
                           </li>
                           <li>
                              <p><a href="../admin/diagnosing-and-resolving-problems.html#ADMIN11007" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解Oracle数据库如何管理诊断数据</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="BRADV89730"></a><div class="props_rev_3"><a id="GUID-13944F9E-545E-480A-A47B-CE0A73FED3C7" name="GUID-13944F9E-545E-480A-A47B-CE0A73FED3C7"></a><h3 id="BRADV-GUID-13944F9E-545E-480A-A47B-CE0A73FED3C7" class="sect3"><span class="enumeration_section">15.4</span>确定修复选项</h3>
               <div>
                  <p>在RMAN会话中运行<code class="codeph">LIST FAILURE</code>后，使用<code class="codeph">ADVISE FAILURE</code>命令显示修复选项。此命令打印故障摘要，并隐式关闭所有已修复的打开故障。
                  </p>
                  <p>在适当的情况下， <code class="codeph">ADVISE FAILURE</code>命令会显示手动和自动修复选项列表。首先显示手动选项，这些选项分为强制选项或可选选项。在某些情况下，可选的手动修复可以避免更极端的操作，例如恢复和恢复数据文件。通常，使用对数据库影响最小且修复可能性最小的修复技术。
                  </p>
                  <div class="infoboxnotealso" id="GUID-13944F9E-545E-480A-A47B-CE0A73FED3C7__GUID-33698374-CF88-429A-88EA-1EA1AAB92F15">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="diagnosing-repairing-failures-dra.html#GUID-916107F7-7DB8-4E4D-8787-D50A30BD7CB6" title="如果存在一个或多个故障，则通常使用LIST FAILURE显示有关故障的信息，然后在同一个RMAN会话中显示ADVISE FAILURE以获取修复选项的报告。">确定所有故障的修复选项</a></p>
                        </li>
                        <li>
                           <p><a href="diagnosing-repairing-failures-dra.html#GUID-C9CDEE7B-EDA6-4E74-AB78-300A60B6CA3C" title="您还可以请求特定故障的修复选项。您可以按状态（CRITICAL，HIGH或LOW）或故障编号指定故障。您还可以使用EXCLUDE FAILURE从报告中排除一个或多个故障。">确定故障子集的修复选项</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="BRADV332"></a><a id="BRADV89731"></a><div class="props_rev_3"><a id="GUID-916107F7-7DB8-4E4D-8787-D50A30BD7CB6" name="GUID-916107F7-7DB8-4E4D-8787-D50A30BD7CB6"></a><h4 id="BRADV-GUID-916107F7-7DB8-4E4D-8787-D50A30BD7CB6" class="sect4"><span class="enumeration_section">15.4.1</span>确定所有故障的修复选项</h4>
                  <div>
                     <p>如果存在一个或多个故障，则通常使用<code class="codeph">LIST FAILURE</code>显示有关故障的信息，然后在同一个RMAN会话中显示<code class="codeph">ADVISE FAILURE</code>以获取修复选项的报告。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-916107F7-7DB8-4E4D-8787-D50A30BD7CB6__GUID-2EADA743-E70E-4085-AFBF-AFC71DBA398D">要确定所有故障的修复选项：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>列出<span class="q">“ <a href="diagnosing-repairing-failures-dra.html#GUID-1D2A9D25-C112-4F11-BCE1-7163A37E9750" title="The easiest way to determine problems that your database is encountering is to use the LIST FAILURE command.">列出所有失败</a> ”中</span>描述的<span class="q"><a href="diagnosing-repairing-failures-dra.html#GUID-1D2A9D25-C112-4F11-BCE1-7163A37E9750" title="确定数据库遇到问题的最简单方法是使用LIST FAILURE命令。">失败</a></span> 。</span></li>
                        <li class="stepexpand"><span>在同一个RMAN会话中，执行<code class="codeph">ADVISE FAILURE</code> 。</span><div>
                              <p>以下示例请求Data Recovery Advisor已知的所有故障的修复选项，并包括示例输出（重新格式化以适合页面）。</p><pre class="pre codeblock"><code>RMAN&gt;建议失败;数据库故障列表=========================故障ID优先级状态检测时间摘要---------- ---- ---- --------- ------------- ------- 142 HIGH OPEN 23-APR-13缺少一个或多个非系统数据文件101 HIGH OPEN 23-APR-13数据文件1：'/ disk1 / oddata / prod / system01.dbf'包含一个或多个分析自动修复选项的损坏块;这可能需要一些时间使用通道ORA_DISK_1分析自动修复选项完成强制手动操作========================没有可用的手动操作可选手动操作=== ==================== 1。如果无意中重命名或移动了文件/disk1/oradata/prod/users01.dbf，请将其恢复为自动修复选项========================选项修复说明------ ------------------ 1恢复和恢复数据文件28;在文件1中执行块56416的块介质恢复策略：修复包括完整的介质恢复，没有数据丢失修复脚本：/disk1/oracle/log/diag/rdbms/prod/prod/hm/reco_660500184.hm</code></pre><p>在前面的示例中， <code class="codeph">ADVISE FAILURE</code>报告了两个故障：缺少数据文件和具有损坏块的数据文件。该命令未列出必需的手动操作，但它建议确保不会意外重命名或删除丢失的数据文件。自动修复选项涉及<a href="glossary.html#GUID-923A509A-1C36-4EA4-91C8-6E4F372722C0"><span class="xrefglossterm">块介质恢复</span></a>以及恢复和恢复丢失的数据文件。<code class="codeph">ADVISE FAILURE</code>列出修复脚本的位置。
                              </p>
                              <p>同一示例的以下变体显示了自动修复所需的RMAN备份或归档重做日志不可用时的输出。命令<code class="codeph">ADVISE FAILURE</code>现在显示强制手动操作。
                              </p><pre class="pre codeblock"><code>RMAN&gt;建议失败;数据库故障列表=========================故障ID优先级状态检测时间摘要---------- ---- ---- --------- ------------- ------- 142 HIGH OPEN 23-APR-13缺少一个或多个非系统数据文件101 HIGH OPEN 23-APR-13数据文件1：'/ disk1 / oddata / prod / system01.dbf'包含一个或多个分析自动修复选项的损坏块;这可能需要一些时间分配通道：ORA_DISK_1通道ORA_DISK_1：SID = 103设备类型= DISK分析自动修复选项完成强制手动操作======================= = 1。如果无意中重命名或移动了文件/disk1/oradata/prod/users01.dbf，请将其恢复2。如果无法使用上述建议，或者如果它们未修复为修复选择的故障，请联系Oracle支持服务可选手动操作=======================否可用的手动操作自动修复选项========================选项修复说明------ ----------- ------- 1在文件1中执行块56416的块介质恢复策略：修复包括完整的介质恢复，没有数据丢失修复脚本：/ disk1 / oracle / log / diag / rdbms / prod / prod / hm / reco_1863891774.hm</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>继续<span class="q">“ <a href="diagnosing-repairing-failures-dra.html#GUID-31DF1037-325F-4FED-8A37-23216EFF9526" title="您可以使用Data Recovery Advisor自动修复故障。">修复故障</a> ”</span>以确定如何修复<code class="codeph">LIST FAILURE</code>输出中显示的<code class="codeph">LIST FAILURE</code> 。</span></li>
                     </ol>
                  </div>
               </div><a id="BRADV333"></a><a id="BRADV89732"></a><div class="props_rev_3"><a id="GUID-C9CDEE7B-EDA6-4E74-AB78-300A60B6CA3C" name="GUID-C9CDEE7B-EDA6-4E74-AB78-300A60B6CA3C"></a><h4 id="BRADV-GUID-C9CDEE7B-EDA6-4E74-AB78-300A60B6CA3C" class="sect4"><span class="enumeration_section">15.4.2</span>确定故障子集的修复选项</h4>
                  <div>
                     <p>您还可以请求特定故障的修复选项。您可以按状态（ <code class="codeph">CRITICAL</code> ， <code class="codeph">HIGH</code>或<code class="codeph">LOW</code> ）或故障编号指定故障。您还可以使用<code class="codeph">EXCLUDE FAILURE</code>从报告中排除一个或多个故障。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C9CDEE7B-EDA6-4E74-AB78-300A60B6CA3C__GUID-E6CBCEB7-A3AE-4A6F-B18B-8CAF2A3FA01F">要确定故障子集的修复选项：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>列出<span class="q">“ <a href="diagnosing-repairing-failures-dra.html#GUID-1D2A9D25-C112-4F11-BCE1-7163A37E9750" title="The easiest way to determine problems that your database is encountering is to use the LIST FAILURE command.">列出所有失败</a> ”中</span>描述的<span class="q"><a href="diagnosing-repairing-failures-dra.html#GUID-1D2A9D25-C112-4F11-BCE1-7163A37E9750" title="确定数据库遇到问题的最简单方法是使用LIST FAILURE命令。">失败</a></span> 。</span></li>
                        <li class="stepexpand"><span>在同一个RMAN会话中，使用所需选项执行<code class="codeph">ADVISE FAILURE</code> 。</span><div>
                              <p>以下示例仅请求故障101的修复选项。</p><pre class="pre codeblock"><code>RMAN&gt; ADVISE FAILURE 101;数据库故障列表=========================故障ID优先级状态检测时间摘要---------- ---- ---- --------- ------------- ------- 101 HIGH OPEN 23-APR-13数据文件1：'/ disk1 / oradata / prod / system01.dbf'包含一个或多个分析自动修复选项的损坏块;这可能需要一些时间使用通道ORA_DISK_1分析自动修复选项完成强制手动操作========================没有可用的手动操作可选手动操作=== ====================没有可用的手动操作自动修复选项======================= =选项修复说明------ ------------------ 1在文件1中执行块56416的块介质恢复策略：修复包括完整的介质恢复，没有数据丢失修复脚本：/disk1/oracle/log/diag/rdbms/prod/prod/hm/reco_708819503.htm</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>继续<span class="q">“ <a href="diagnosing-repairing-failures-dra.html#GUID-31DF1037-325F-4FED-8A37-23216EFF9526" title="您可以使用Data Recovery Advisor自动修复故障。">修复故障</a> ”</span>以确定如何修复<code class="codeph">LIST FAILURE</code>命令显示的<code class="codeph">LIST FAILURE</code> 。</span></li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-C9CDEE7B-EDA6-4E74-AB78-300A60B6CA3C__GUID-D7853B49-0AB8-4C7B-88D0-20F558F817AB">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../rcmrf/ADVISE-FAILURE.html#RCMRF166" target="_blank"><span><cite>Oracle数据库备份和恢复参考</cite></span></a> ，了解<code class="codeph">ADVISE FAILURE</code>命令</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="BRADV89733"></a><div class="props_rev_3"><a id="GUID-31DF1037-325F-4FED-8A37-23216EFF9526" name="GUID-31DF1037-325F-4FED-8A37-23216EFF9526"></a><h3 id="BRADV-GUID-31DF1037-325F-4FED-8A37-23216EFF9526" class="sect3"><span class="enumeration_section">15.5</span>修复故障</h3>
               <div>
                  <p>您可以使用Data Recovery Advisor自动修复故障。</p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="diagnosing-repairing-failures-dra.html#GUID-CABB41D1-393B-4A6C-A3B9-F66D49895942" title="如果ADVISE FAILURE建议手动修理，请先尝试这些。如果无法进行手动修复，或者无法修复所有故障，则可以使用REPAIR FAILURE自动修复当前RMAN会话中最新ADVISE FAILURE命令中建议的故障。">关于修复失败</a></p>
                     </li>
                     <li>
                        <p><a href="diagnosing-repairing-failures-dra.html#GUID-3DCF4326-2B62-43B0-BAFA-B9F5F6AF484F" title="默认情况下，脚本显示为标准输出。您可以使用SPOOL命令将脚本写入可编辑文件。">修复失败</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV89734"></a><div class="props_rev_3"><a id="GUID-CABB41D1-393B-4A6C-A3B9-F66D49895942" name="GUID-CABB41D1-393B-4A6C-A3B9-F66D49895942"></a><h4 id="BRADV-GUID-CABB41D1-393B-4A6C-A3B9-F66D49895942" class="sect4"><span class="enumeration_section">15.5.1</span>关于修复故障</h4>
                  <div>
                     <p>如果<code class="codeph">ADVISE FAILURE</code>建议手动修理，请先尝试这些。如果无法进行手动维修，或者无法修复所有故障，则可以使用<code class="codeph">REPAIR FAILURE</code>自动修复当前RMAN会话中最新<code class="codeph">ADVISE FAILURE</code>命令中建议的<code class="codeph">ADVISE FAILURE</code> 。
                     </p>
                     <p>默认情况下， <code class="codeph">REPAIR FAILURE</code>在开始执行之前会提示确认。您可以通过指定<code class="codeph">NOPROMPT</code>选项来禁止确认提示。在它开始执行后，该命令指示当前的修复阶段。根据具体情况，RMAN可能会提示您做出回应。执行修复后，RMAN会重新评估所有现有故障，以确定在修复期间可能已修复的故障。
                     </p>
                     <p>在修复故障时，只要有可能，RMAN会将文件联机，恢复并恢复，然后再将其重新联机。您可以修复所选数据库，表空间或数据文件的故障。</p>
                     <p>在执行修复之前，通常建议通过指定<code class="codeph">PREVIEW</code>选项进行<code class="codeph">PREVIEW</code> 。RMAN不进行任何修复并生成包含所有修复操作和注释的脚本。如果未指定特定的修复选项，则RMAN将使用当前会话中最新<code class="codeph">ADVISE FAILURE</code>命令的第一个修复选项。默认情况下，修复脚本显示为标准输出。您可以使用<code class="codeph">SPOOL</code>命令将脚本写入可编辑文件。
                     </p>
                     <div class="infoboxnotealso" id="GUID-CABB41D1-393B-4A6C-A3B9-F66D49895942__GUID-92C3373A-2F0A-4220-A7E8-53C605E73B19">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../rcmrf/REPAIR-FAILURE.html#RCMRF199" target="_blank"><span><cite>Oracle数据库备份和恢复参考</cite></span></a>以了解<code class="codeph">REPAIR FAILURE</code>命令</p>
                           </li>
                           <li>
                              <p><a href="../rcmrf/SPOOL.html#RCMRF156" target="_blank"><span><cite>Oracle数据库备份和恢复参考，</cite></span></a>以了解<code class="codeph">SPOOL</code>命令</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="BRADV334"></a><a id="BRADV89735"></a><div class="props_rev_3"><a id="GUID-3DCF4326-2B62-43B0-BAFA-B9F5F6AF484F" name="GUID-3DCF4326-2B62-43B0-BAFA-B9F5F6AF484F"></a><h4 id="BRADV-GUID-3DCF4326-2B62-43B0-BAFA-B9F5F6AF484F" class="sect4"><span class="enumeration_section">15.5.2</span>修复故障</h4>
                  <div>
                     <p>默认情况下，脚本显示为标准输出。您可以使用<code class="codeph">SPOOL</code>命令将脚本写入可编辑文件。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3DCF4326-2B62-43B0-BAFA-B9F5F6AF484F__GUID-CB2ADE72-BDB9-46BB-9838-FE82E9B1F324">修复故障：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>列出<span class="q">“ <a href="diagnosing-repairing-failures-dra.html#GUID-1D2A9D25-C112-4F11-BCE1-7163A37E9750" title="The easiest way to determine problems that your database is encountering is to use the LIST FAILURE command.">列出所有失败</a> ”中</span>描述的<span class="q"><a href="diagnosing-repairing-failures-dra.html#GUID-1D2A9D25-C112-4F11-BCE1-7163A37E9750" title="确定数据库遇到问题的最简单方法是使用LIST FAILURE命令。">失败</a></span> 。</span></li>
                        <li class="stepexpand"><span>显示<span class="q">“ <a href="diagnosing-repairing-failures-dra.html#GUID-13944F9E-545E-480A-A47B-CE0A73FED3C7" title="Use the ADVISE FAILURE command to display repair options after running LIST FAILURE in an RMAN session. This command prints a summary of the failures and implicitly closes all open failures that are repaired.">确定修复选项</a> ”中</span>所述的<span class="q"><a href="diagnosing-repairing-failures-dra.html#GUID-13944F9E-545E-480A-A47B-CE0A73FED3C7" title="在RMAN会话中运行LIST FAILURE后，使用ADVISE FAILURE命令显示修复选项。此命令打印故障摘要，并隐式关闭所有已修复的打开故障。">修复选项</a></span> 。</span></li>
                        <li class="stepexpand"><span>（可选）执行<code class="codeph">REPAIR FAILURE PREVIEW</code> 。</span><div>
                              <p>以下示例预览RMAN会话中先前<code class="codeph">ADVISE FAILURE</code>命令显示的第一个修复选项。
                              </p><pre class="pre codeblock"><code>RMAN&gt;维修失败预览;策略：修复包括完整的介质恢复，没有数据丢失修复脚本：/disk1/oracle/log/diag/rdbms/prod/prod/hm/reco_475549922.hm修复脚本的内容：#recovery and recover datafile sql'alter database datafile 28离线';恢复数据文件28;恢复数据文件28; sql'alter database datafile 28 online'; #block media recovery recover datafile 1 block 56416;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>执行<code class="codeph">REPAIR FAILURE</code> 。</span><div>
                              <p>以下修复将恢复并恢复一个数据文件，并在一个损坏的块上执行块介质恢复。RMAN会提示确认它应该执行修复。用户输入的文本以粗体显示。</p><pre class="pre codeblock"><code>RMAN&gt;维修失败;策略：修复包括完整的介质恢复，没有数据丢失修复脚本：/disk1/oracle/log/diag/rdbms/prod/prod/hm/reco_475549922.hm修复脚本的内容：＃恢复和恢复数据文件sql'alter database datafile 28 offline';恢复数据文件28;恢复数据文件28; sql'alter database datafile 28 online'; #block media recovery recover datafile 1 block 56416;你真的想要执行上面的修复（输入是或否）？<span class="bold">是</span>执行修复脚本sql语句：alter database datafile 28 offline使用通道ORA_DISK_1通道在23-APR-13开始恢复ORA_DISK_1：启动数据文件备份集恢复通道ORA_DISK_1：指定要从备份集通道恢复的数据文件ORA_DISK_1：恢复数据文件00028到/disk1/oradata/prod/users01.dbf频道ORA_DISK_1：从备份片段读取/disk2/PROD/backupset/2013_04_18/o1_mf_nnndf_TAG20130418T182042_32fjzd3z_.bkp频道ORA_DISK_1：piece handle = / disk2 / PROD / backupset / 2013_04_18 / o1_mf_nnndf_TAG20130418T182042_32fjzd3z_.bkp tag = TAG20130418T182042频道ORA_DISK_1：恢复备份1频道ORA_DISK_1：恢复完成，已用时间：00：00：03 23-APR-13完成恢复使用频道ORA_DISK_1开始恢复23-APR-13开始媒体恢复媒体恢复完成，已用时间：00：00：01在23-APR-13 sql语句完成恢复：alter database datafile 28 online使用通道ORA_DISK_1搜索在23-APR-13开始恢复阻止图像的闪回日志，直到SCN 429690完成闪回日志搜索，恢复1个块开始介质恢复介质恢复完成，已用时间：00：00：03完成恢复23-APR-13修复失败完成</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>（可选）执行<code class="codeph">LIST FAILURE</code>确认</span></li>
                     </ol>
                  </div>
               </div>
            </div><a id="BRADV335"></a><a id="BRADV89736"></a><div class="props_rev_3"><a id="GUID-9F467E37-DC05-494A-890E-439330493056" name="GUID-9F467E37-DC05-494A-890E-439330493056"></a><h3 id="BRADV-GUID-9F467E37-DC05-494A-890E-439330493056" class="sect3"><span class="enumeration_section">15.6</span>更改故障状态和优先级</h3>
               <div>
                  <p>在某些情况下，您可能希望使用<code class="codeph">CHANGE FAILURE</code>命令来<code class="codeph">CHANGE FAILURE</code>的状态或优先级。
                  </p>
                  <div class="section">
                     <p>例如，如果块损坏具有<code class="codeph">HIGH</code>优先级，则如果块位于一个很少使用的表空间中，您可能希望暂时将其更改为<code class="codeph">LOW</code> 。
                     </p>
                     <p>如果通过<code class="codeph">REPAIR FAILURE</code>命令以外的方法<code class="codeph">REPAIR FAILURE</code> ，则Data Recovery Advisor会在您下次执行<code class="codeph">LIST FAILURE</code>时隐式关闭它。因此，您通常不需要执行<code class="codeph">CHANGE FAILURE ...CLOSED</code>命令。仅当自动故障重新验证失败时才需要使用此命令，但您认为故障不再存在。如果使用<code class="codeph">CHANGE FAILURE</code>关闭仍然存在的故障，则在执行适当的数据完整性检查时，Data Recovery Advisor会使用其他故障ID重新创建该故障。
                     </p>
                     <p>通常，您指定要按故障编号更改的故障。您还可以通过指定<code class="codeph">ALL</code> ， <code class="codeph">CRITICAL</code> ， <code class="codeph">HIGH</code>或<code class="codeph">LOW</code>来批量更改故障。您可以将故障更改为<code class="codeph">CLOSED</code>或<code class="codeph">PRIORITY HIGH</code>或<code class="codeph">PRIORITY LOW</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9F467E37-DC05-494A-890E-439330493056__GUID-41C1C8A2-D517-4D4E-A93B-65FD67C56F4C">要更改故障的状态或优先级：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>列出<span class="q">“ <a href="diagnosing-repairing-failures-dra.html#GUID-1D2A9D25-C112-4F11-BCE1-7163A37E9750" title="The easiest way to determine problems that your database is encountering is to use the LIST FAILURE command.">列出所有失败</a> ”中</span>描述的<span class="q"><a href="diagnosing-repairing-failures-dra.html#GUID-1D2A9D25-C112-4F11-BCE1-7163A37E9750" title="确定数据库遇到问题的最简单方法是使用LIST FAILURE命令。">失败</a></span> 。</span><div>
                           <p>以下示例列出了一个涉及损坏数据块的故障。</p><pre class="pre codeblock"><code>RMAN&gt; LIST FAILURE;数据库故障列表=========================故障ID优先级状态检测时间摘要---------- ---- ---- --------- ------------- ------- 142 HIGH OPEN 23-APR-13缺少一个或多个非系统数据文件101 HIGH OPEN 23-APR-13数据文件25：'/ disk1 / oradata / prod / example01.dbf'包含一个或多个损坏的块</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>使用所需选项执行<code class="codeph">CHANGE FAILURE</code> 。</span><div>
                           <p>以下示例将块损坏故障的优先级从<code class="codeph">HIGH</code>更改为<code class="codeph">LOW</code> 。</p><pre class="pre codeblock"><code>RMAN&gt; CHANGE FAILURE 101优先级低;数据库故障列表=========================故障ID优先级状态检测时间摘要---------- ---- ---- --------- ------------- ------- 101 HIGH OPEN 23-APR-13数据文件25：'/ disk1 / oradata / prod / example01.dbf'包含一个或多个损坏的块你真的想改变上面的失败（输入YES或NO）吗？<span class="bold">YES</span>将1个故障更改为LOW优先级</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>（可选）执行<code class="codeph">LIST FAILURE ALL</code>以查看更改。</span><div>
                           <p>如果在没有<code class="codeph">ALL</code>情况下执行<code class="codeph">LIST FAILURE</code> ，则只有在不存在<code class="codeph">CRITICAL</code>或<code class="codeph">HIGH</code>优先级故障时，该命令才会列出具有<code class="codeph">LOW</code>优先级的故障。
                           </p><pre class="pre codeblock"><code>RMAN&gt; LIST FAILURE ALL;数据库故障列表=========================故障ID优先级状态检测时间摘要---------- ---- ---- --------- ------------- ------- 142 HIGH OPEN 23-APR-13缺少一个或多个非系统数据文件101 LOW OPEN 23-APR-13数据文件25：'/ disk1 / oddata / prod / example01.dbf'包含一个或多个损坏的块</code></pre></div>
                     </li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-9F467E37-DC05-494A-890E-439330493056__GUID-0019CB88-CB52-469C-A996-79B1B9246479">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../rcmrf/CHANGE.html#RCMRF110" target="_blank"><span><cite>Oracle数据库备份和恢复参考</cite></span></a>了解<code class="codeph">CHANGE</code>命令</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>