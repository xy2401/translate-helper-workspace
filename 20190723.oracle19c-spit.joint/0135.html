<html id="06052.config-drda-gateway.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>为DRDA配置Oracle数据库网关</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Installation and Configuration Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Installation and Configuration Guide for IBM AIX on POWER Systems (64-Bit), Linux x86-64, Oracle Solaris on SPARC (64-Bit), Oracle Solaris on x86-64 (64-Bit), and HP-UX Itanium"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-installation-and-configuration-guide-aix-5l-based-systems-64-bit-hp-ux-itanium-solaris-operating-system-sparc-64-bit-linux-x86-and-linux-x86-64.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T19:11:50-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18243-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="config-drda-server.html" title="Previous" type="text/html"></link>
      <link rel="next" href="drda-gateway-security-consideration.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64"></meta>
    <meta name="dcterms.isVersionOf" content="OTGIS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="config-drda-server.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="drda-gateway-security-consideration.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安装和配置指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-drda-gateway.html" property="item" typeof="WebPage"><span property="name">为DRDA安装和配置Oracle数据库网关</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">为DRDA配置Oracle数据库网关</li>
            </ol>
            <a id="GUID-ACFC0477-3122-4423-8845-5DC257F7636D" name="GUID-ACFC0477-3122-4423-8845-5DC257F7636D"></a><a id="OTGIS140"></a>
            
            <h2 id="OTGIS-GUID-ACFC0477-3122-4423-8845-5DC257F7636D" class="sect2"><span class="enumeration_chapter">14</span>为DRDA配置Oracle数据库网关</h2>
         </header>
         <div class="ind">
            <div>
               <p>安装网关后，执行以下任务为DRDA配置Oracle数据库网关：</p>
               <ol>
                  <li>
                     <p><a href="config-drda-gateway.html#GUID-71F1CC41-4ED1-4762-AF52-EA31D732D735">配置网关初始化参数文件</a></p>
                  </li>
                  <li>
                     <p><a href="config-drda-gateway.html#GUID-C264695C-3A10-42E6-9295-85AC7AF86803">为网关配置Oracle Net</a></p>
                  </li>
                  <li>
                     <p><a href="config-drda-gateway.html#GUID-68076A11-7808-46B9-B31F-88FBA31D3263">配置两阶段提交</a></p>
                  </li>
                  <li>
                     <p><a href="config-drda-gateway.html#GUID-2E3C6894-FDFC-48D9-B425-C62FBA3510A5">为数据字典支持创建表和视图</a></p>
                  </li>
                  <li>
                     <p><a href="config-drda-gateway.html#GUID-B51F5834-717F-4260-B3DB-9CC9DBA83F4D">配置Oracle数据库以进行网关访问</a></p>
                  </li>
                  <li>
                     <p><a href="config-drda-gateway.html#GUID-28055BC7-5509-4E92-8442-810DA43B4848">创建数据库链接</a></p>
                  </li>
                  <li>
                     <p><a href="config-drda-gateway.html#GUID-30001CB2-F707-475E-97EC-874B8E02061C">配置网关以访问多个DRDA数据库</a></p>
                  </li>
               </ol>
               <p>提供SQL脚本以执行诸如创建<code class="codeph">HS_TRANSACTION_LOG</code>表，删除过时的表和视图以及创建要提供的表和视图等步骤<a id="d37763e73" class="indexterm-anchor"></a>数据字典支持。
               </p>
               <p>必须使用数据库本机工具（例如，）在DRDA服务器平台上运行这些脚本<a id="d37763e80" class="indexterm-anchor"></a> DB2 UDB for z / OS上的SPUFI），因为没有为网关提供执行这些脚本的工具。请注意，运行这些脚本时，必须对使用的用户ID进行适当授权。
               </p>
               <p>SQL脚本位于<code class="codeph">dg4db2/admin</code>目录中。通过在其文件名中具有DB2平台标识符（例如：“zos”，“as400”和“luw”）和版本特定数字（例如：vw7，vw8）来指定适当的平台脚本。
               </p>
            </div><a id="OTGIS1074"></a><div class="props_rev_3"><a id="GUID-71F1CC41-4ED1-4762-AF52-EA31D732D735" name="GUID-71F1CC41-4ED1-4762-AF52-EA31D732D735"></a><h3 id="OTGIS-GUID-71F1CC41-4ED1-4762-AF52-EA31D732D735" class="sect3">配置网关初始化参数文件</h3>
               <div>
                  <div class="section">
                     <p>执行以下任务以配置网关初始化参数文件：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-drda-gateway.html#GUID-BE8E3E21-2B82-430A-A796-88CB305A4D59">选择网关的系统标识符</a></span></li>
                     <li><span><a href="config-drda-gateway.html#GUID-9C9C23D7-A1A7-4BB8-8C64-40EAEADC437E">自定义初始化参数文件</a></span></li>
                  </ol>
               </div><a id="OTGIS1075"></a><div class="props_rev_3"><a id="GUID-BE8E3E21-2B82-430A-A796-88CB305A4D59" name="GUID-BE8E3E21-2B82-430A-A796-88CB305A4D59"></a><h4 id="OTGIS-GUID-BE8E3E21-2B82-430A-A796-88CB305A4D59" class="sect4">选择网关的系统标识符</h4>
                  <div>
                     <p>网关系统标识符（SID）是标识网关实例的字母数字字符串。对于要访问的每个DRDA数据库，您需要一个网关实例，因此需要一个网关SID。但是，如果要访问两个DRDA数据库，则需要两个网关SID，一个用于网关的每个实例。如果您有一个DRDA数据库并且希望有时使用一组网关参数设置来访问它，而有时使用不同的网关参数设置来访问它，则可以通过为单个DRDA数据库提供多个网关SID来实现。SID用作初始化参数文件的文件名的一部分。</p>
                  </div>
               </div><a id="OTGIS1076"></a><div class="props_rev_3"><a id="GUID-9C9C23D7-A1A7-4BB8-8C64-40EAEADC437E" name="GUID-9C9C23D7-A1A7-4BB8-8C64-40EAEADC437E"></a><h4 id="OTGIS-GUID-9C9C23D7-A1A7-4BB8-8C64-40EAEADC437E" class="sect4">自定义初始化参数文件</h4>
                  <div>
                     <p><a id="d37763e201" class="indexterm-anchor"></a>根据需要使用其他参数定制参数文件。请参阅<a href="initialization-parameters-for-gateways.html#GUID-82BEBA7B-5B1A-46F6-9ADC-7375C17A9E1F">初始化参数</a>支持的初始化参数列表。有关定制参数文件的安全性方面，请参阅<a href="drda-gateway-security-consideration.html#GUID-19E4856D-3FD0-4C5F-8A21-B81038C87D59">安全注意事项</a> 。
                     </p>
                  </div>
               </div>
            </div><a id="OTGIS1077"></a><div class="props_rev_3"><a id="GUID-C264695C-3A10-42E6-9295-85AC7AF86803" name="GUID-C264695C-3A10-42E6-9295-85AC7AF86803"></a><h3 id="OTGIS-GUID-C264695C-3A10-42E6-9295-85AC7AF86803" class="sect3">为网关配置Oracle Net</h3>
               <div>
                  <div class="section">
                     <p>网关要求Oracle Net与Oracle数据库通信。配置网关后，执行以下任务以配置Oracle Net以使用网关：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-drda-gateway.html#GUID-2129F858-357C-4A4D-9801-F5994066CAEC">为网关配置Oracle Net Listener</a></span></li>
                     <li><span><a href="config-drda-gateway.html#GUID-0FEEDD7A-6F73-47BF-8965-B5070D6AC4C1">停止并启动Gateway的Oracle Net Listener</a></span></li>
                  </ol>
               </div><a id="OTGIS1078"></a><div class="props_rev_3"><a id="GUID-2129F858-357C-4A4D-9801-F5994066CAEC" name="GUID-2129F858-357C-4A4D-9801-F5994066CAEC"></a><h4 id="OTGIS-GUID-2129F858-357C-4A4D-9801-F5994066CAEC" class="sect4">为网关配置Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>Oracle Net Listener侦听来自Oracle数据库的传入请求。要使Oracle Net Listener监听网关，必须将有关网关的信息添加到Oracle Net Listener配置文件<code class="codeph">listener.ora</code> 。默认情况下，此文件位于<code class="codeph">$ORACLE_HOME/network/admin</code> ，其中<code class="codeph">$ORACLE_HOME</code>是安装网关的目录。
                        </p>
                        <p>必须将以下条目添加到<code class="codeph">listener.ora</code>文件中：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Oracle Net Listener侦听的Oracle Net地址列表</p>
                           </li>
                           <li>
                              <p>Oracle Net Listener响应传入连接请求而启动的网关的可执行文件名</p>
                           </li>
                        </ul>
                        <p><code class="codeph">$ORACLE_HOME/dg4db2/admin</code>目录中提供了<code class="codeph">listener.ora</code>条目（ <code class="codeph">listener.ora.sample</code> ）的示例，其中<code class="codeph">$</code> <code class="codeph">ORACLE_HOME</code>是安装网关的目录。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="OTGIS1079"></a><div class="props_rev_3"><a id="GUID-EBD1D2CB-679D-4B15-AC87-D34F5BEF7C7E" name="GUID-EBD1D2CB-679D-4B15-AC87-D34F5BEF7C7E"></a><h5 id="OTGIS-GUID-EBD1D2CB-679D-4B15-AC87-D34F5BEF7C7E" class="sect5">listener.ora文件条目的语法</h5>
                     <div>
                        <p>Oracle数据库使用Oracle Net和任何支持的协议适配器与网关通信。Oracle Net Listener使用TCP / IP协议适配器侦听的地址语法如下：</p><pre class="oac_no_warn" dir="ltr">LISTENER =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name</span> ）（PORT = <span class="italic">port_number</span> ））</pre><p>哪里：</p>
                        <div class="tblformal" id="GUID-EBD1D2CB-679D-4B15-AC87-D34F5BEF7C7E__GUID-66C0076A-F49E-442D-A521-8F09BF66E4A9">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable definition" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d37763e391">变量</th>
                                    <th align="left" valign="bottom" width="75%" id="d37763e394">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d37763e399" headers="d37763e391 ">
                                       <p><span class="italic"><code class="codeph">主机名</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d37763e399 d37763e394 ">
                                       <p>是安装网关的计算机的名称。此版本支持IPv6格式。有关详细信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=NETRF008" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d37763e413" headers="d37763e391 ">
                                       <p><span class="italic"><code class="codeph">端口号</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d37763e413 d37763e394 ">
                                       <p>指定Oracle Net Listener使用的端口号。如果在同一台机器上运行其他侦听器，则<span class="italic">port_number</span>的值必须与其他侦听器的端口号不同。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>要指示Oracle Net Listener启动网关以响应传入的连接请求，请在<code class="codeph">listener.ora</code>文件中添加一个条目。
                        </p>
                        <div class="infoboxnote" id="GUID-EBD1D2CB-679D-4B15-AC87-D34F5BEF7C7E__GUID-511D388D-8221-453A-BCB3-E63C5D95E941">
                           <p class="notep1">注意：</p>
                           <p>您必须在<code class="codeph">listener.ora</code>文件和将在下一步中配置的<code class="codeph">tnsnames.ora</code>文件中使用相同的SID值。
                           </p>
                        </div><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =（SID_NAME = <span class="italic">gateway_sid</span> ）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4db2）））</pre><p>哪里：</p>
                        <div class="tblformal" id="GUID-EBD1D2CB-679D-4B15-AC87-D34F5BEF7C7E__GUID-DE84BEF2-A8C0-406A-BD9F-3B1BCCD9E524">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable definition" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d37763e456">变量</th>
                                    <th align="left" valign="bottom" width="75%" id="d37763e459">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d37763e464" headers="d37763e456 ">
                                       <p><span class="italic"><code class="codeph">gateway_sid</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d37763e464 d37763e459 ">
                                       <p>指定网关的SID，并匹配<code class="codeph">tnsnames.ora</code>文件中连接描述符条目中指定的网关SID。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d37763e476" headers="d37763e456 ">
                                       <p><span class="italic"><code class="codeph">oracle_home_directory</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d37763e476 d37763e459 ">
                                       <p>指定网关所在的Oracle主目录。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d37763e485" headers="d37763e456 ">
                                       <p><code class="codeph">dg4db2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d37763e485 d37763e459 ">
                                       <p>指定DRDA的Oracle数据库网关的可执行文件名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>如果您已在运行侦听多个数据库SID的Oracle Net Listener，请在现有<code class="codeph">listener.ora</code>文件中仅将以下语法添加到<code class="codeph">SID_LIST</code> ：</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =。。）（SID_DESC =。。）（SID_DESC =（SID_NAME = <span class="italic">gateway_sid</span> ）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4db2）））</pre><div class="infoboxnotealso" id="GUID-EBD1D2CB-679D-4B15-AC87-D34F5BEF7C7E__GUID-C875D750-616C-41D3-8C21-EC3094D8F0BE">
                           <p class="notep1">也可以看看：</p>
                           <p>有关更改<code class="codeph">listener.ora</code>文件的信息，请参见“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=NETAG294" target="_blank"><span class="italic">Oracle数据库网络服务管理员指南”</span></a> 。
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="OTGIS1239"></a><a id="OTGIS1080"></a><div class="props_rev_3"><a id="GUID-0FEEDD7A-6F73-47BF-8965-B5070D6AC4C1" name="GUID-0FEEDD7A-6F73-47BF-8965-B5070D6AC4C1"></a><h4 id="OTGIS-GUID-0FEEDD7A-6F73-47BF-8965-B5070D6AC4C1" class="sect4">停止并启动Gateway的Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>您必须停止并重新启动Oracle Net Listener才能启动新设置，如下所示：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>将<code class="codeph">PATH</code>环境变量设置为<code class="codeph">$ORACLE_HOME/bin</code> ，其中<code class="codeph">$ORACLE_HOME</code>是安装网关的目录。如果您有Bourne或Korn Shell，请输入以下内容：</span><div><pre class="oac_no_warn" dir="ltr">$ PATH = $ ORACLE_HOME / bin：$ PATH; export PATH $ LD_LIBRARY_PATH = $ ORACLE_HOME / lib：$ LD_LIBRARY_PATH; export LD_LIBRARY_PATH</pre><p>如果您有C Shell，请输入以下内容：</p><pre class="oac_no_warn" dir="ltr">$ setenv PATH $ ORACLE_HOME / bin：$ PATH $ setenv LD_LIBRARY_PATH $ ORACLE_HOME / lib：$ LD_LIBRARY_PATH</pre><p><a href="config-drda-gateway.html#GUID-0FEEDD7A-6F73-47BF-8965-B5070D6AC4C1__BIHEEFHE" title="摘要">表14-1</a>指定了用于不同平台的参数值：</p>
                              <div class="tblformal" id="GUID-0FEEDD7A-6F73-47BF-8965-B5070D6AC4C1__BIHEEFHE">
                                 <p class="titleintable">表14-1基于UNIX的平台的DRDA参数值的Oracle数据库网关</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="适用于基于UNIX的平台的DRDA参数值的Oracle数据库网关" width="90%" border="1" summary="summary" frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="39%" id="d37763e591">平台</th>
                                          <th align="left" valign="bottom" width="61%" id="d37763e594">参数值</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d37763e599" headers="d37763e591 ">
                                             <p>Oracle Solaris（SPARC）64位和x86-64（64位）上的Oracle Solaris</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d37763e599 d37763e594 ">
                                             <p><code class="codeph">LD_LIBRARY_PATH_64 = $ ORACLE_HOME / lib目录</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d37763e607" headers="d37763e591 ">
                                             <p>HP-UX Itanium</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d37763e607 d37763e594 ">
                                             <p><code class="codeph">LD_LIBRARY_PATH = $ ORACLE_HOME / lib目录</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d37763e615" headers="d37763e591 ">
                                             <p>Linux x86 64位</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d37763e615 d37763e594 ">
                                             <p><code class="codeph">LD_LIBRARY_PATH = $ ORACLE_HOME / lib目录</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d37763e623" headers="d37763e591 ">
                                             <p>POWER Systems上的IBM AIX（64位）</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d37763e623 d37763e594 ">
                                             <p><code class="codeph">LIBPATH = $ ORACLE_HOME / lib目录</code></p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>如果侦听器已在运行，请使用<code class="codeph">lsnrctl</code>命令停止侦听器，然后使用新设置启动它，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">$ lsnrctl停止$ lsnrctl start</pre></div>
                        </li>
                        <li class="stepexpand"><span>使用新设置检查侦听器的状态，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">$ lsnrctl状态</pre><p>以下是<code class="codeph">lsnrctl</code>状态检查的部分输出：</p>
                           </div>
                        </li>
                     </ol>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">。。。听力端点摘要......（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = 204.179.99.15）（PORT = 1551）））服务摘要......服务“dg4db2”有1个实例。实例“dg4db2”，状态为UNKNOWN，有1个此服务的处理程序...命令成功完成</pre><p>在此示例中，服务名称为<code class="codeph">dg4db2</code> ，这是安装期间分配的默认SID值。
                        </p>
                        <div class="infoboxnote" id="GUID-0FEEDD7A-6F73-47BF-8965-B5070D6AC4C1__GUID-40E2628D-C0DA-45F8-9891-98CC4FC3D552">
                           <p class="notep1">注意：</p>
                           <p>您必须在<code class="codeph">tnsnames.ora</code>文件和<code class="codeph">listener.ora</code>文件中使用相同的SID值。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OTGIS1081"></a><div class="props_rev_3"><a id="GUID-68076A11-7808-46B9-B31F-88FBA31D3263" name="GUID-68076A11-7808-46B9-B31F-88FBA31D3263"></a><h3 id="OTGIS-GUID-68076A11-7808-46B9-B31F-88FBA31D3263" class="sect3">配置两阶段提交</h3>
               <div>
                  <div class="section">
                     <p>支持两阶段提交需要在DB2服务器上运行<code class="codeph">$ORACLE_HOME/dg4db2/admin/dg4db2_tx.sql</code>脚本。此脚本将创建网关用于两阶段提交的对象。编辑脚本并使用为<code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code>初始化参数指定的帐户名替换默认的恢复帐户架构（ <code class="codeph">RECOVER</code> ）。有关更多详细信息，请参阅<a href="initialization-parameters-for-gateways.html#GUID-82BEBA7B-5B1A-46F6-9ADC-7375C17A9E1F">初始化参数</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OTGIS1085"></a><div class="props_rev_3"><a id="GUID-2E3C6894-FDFC-48D9-B425-C62FBA3510A5" name="GUID-2E3C6894-FDFC-48D9-B425-C62FBA3510A5"></a><h3 id="OTGIS-GUID-2E3C6894-FDFC-48D9-B425-C62FBA3510A5" class="sect3">为数据字典支持创建表和视图</h3>
               <div>
                  <div class="section">
                     <p>要启用数据字典转换支持，必须在要通过网关访问的每个非Oracle系统上创建数据字典表和视图。</p>
                     <p>执行以下步骤以使用数据库本机工具创建数据字典表和视图：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>从以前的网关版本升级</span><div>
                           <p>如果要从以前版本的网关升级，请运行相应的脚本以删除旧的数据字典定义。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果连接到DB2 UDB for Linux，Unix和Windows，则运行</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / dg4db2 /管理/ dg4db2_luw_drop.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for z / OS，则运行</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / dg4db2 /管理/ dg4db2_zos_drop.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for iSeries，则运行</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / dg4db2 /管理/ dg4db2_as400_drop.sql</pre></li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>创建数据字典表</span><div>
                           <p>运行相应的脚本以创建数据字典表。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果连接到DB2 UDB for Linux，Unix和Windows，则运行</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / dg4db2 /管理/ dg4db2_luw_tab.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for z / OS，则运行</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / dg4db2 /管理/ dg4db2_zos_tab.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for iSeries，则运行</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / dg4db2 /管理/ dg4db2_as400_tab.sql</pre></li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>创建数据字典视图</span><div>
                           <p>运行相应的脚本以创建数据字典视图。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果连接到DB2 UDB for Linux，Unix和Windows，则运行</p>
                                 <p>对于DB2 UDB for Linux，Unix和Windows V7：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / dg4db2 /管理/ dg4db2_luw_vw7.sql</pre><p>对于DB2 UDB for Linux，Unix和Windows V8和V9：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / dg4db2 /管理/ dg4db2_luw_vw8.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for z / OS，则运行</p>
                                 <p>对于DB2 UDB for z / OS V7（RACF安全性）：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / dg4db2 /管理/ dg4db2_zos_vw7r.sql</pre><p>对于DB2 UDB for z / OS V7（DB2安全性）：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / dg4db2 /管理/ dg4db2_zos_vw7s.sql</pre><p>对于DB2 UDB for z / OS V8和V9（RACF安全性）：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / dg4db2 /管理/ dg4db2_zos_vw8r.sql</pre><p>对于DB2 UDB for z / OS V8和V9（DB2安全性）：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / dg4db2 /管理/ dg4db2_zos_vw8s.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for iSeries，则运行</p>
                                 <p>对于DB2 UDB for iSeries V5.1：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / dg4db2 /管理/ dg4db2_as400_vw51.sql</pre><p>对于DB2 UDB for iSeries V5.2：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / dg4db2 /管理/ dg4db2_as400_vw52.sql</pre><p>对于DB2 UDB iSeries V5.3或更高版本：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / dg4db2 /管理/ dg4db2_as400_vw53.sql</pre></li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="OTGIS1087"></a><div class="props_rev_3"><a id="GUID-B51F5834-717F-4260-B3DB-9CC9DBA83F4D" name="GUID-B51F5834-717F-4260-B3DB-9CC9DBA83F4D"></a><h3 id="OTGIS-GUID-B51F5834-717F-4260-B3DB-9CC9DBA83F4D" class="sect3">配置Oracle数据库以进行网关访问</h3>
               <div>
                  <div class="section">
                     <p>在使用网关访问DB2数据之前，必须配置Oracle数据库以启用与Oracle Net上的网关通信。</p>
                     <p>要配置Oracle数据库，必须将连接描述符添加到<code class="codeph">tnsnames.ora</code>文件中。默认情况下，此文件位于<code class="codeph">$ORACLE_HOME/network/admin</code> ，其中<code class="codeph">$ORACLE_HOME</code>是安装Oracle数据库的目录。您无法使用Oracle Net Assistant或Oracle Net Easy Config工具来配置<code class="codeph">tnsnames.ora</code>文件。您必须手动编辑该文件。
                     </p>
                     <p><code class="codeph">$ORACLE_HOME/dg4db2/admin</code>目录中提供了<code class="codeph">tnsnames.ora</code>条目（ <code class="codeph">tnsnames.ora.sample</code> ）的示例，其中<code class="codeph">$</code> <code class="codeph">ORACLE_HOME</code>是安装网关的目录。
                     </p>
                     <div class="infoboxnotealso" id="GUID-B51F5834-717F-4260-B3DB-9CC9DBA83F4D__GUID-C97D66B8-189F-44AB-9DC3-D31298A3EF64">
                        <p class="notep1">也可以看看：</p>
                        <p>有关编辑<code class="codeph">tnsnames.ora</code>文件的信息，请<code class="codeph">tnsnames.ora</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=NETAG256" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="OTGIS1088"></a><div class="props_rev_3"><a id="GUID-0F0E295E-B0ED-4B9C-9746-227D7B1F8C9A" name="GUID-0F0E295E-B0ED-4B9C-9746-227D7B1F8C9A"></a><h4 id="OTGIS-GUID-0F0E295E-B0ED-4B9C-9746-227D7B1F8C9A" class="sect4">配置tnsnames.ora</h4>
                  <div>
                     <div class="section">
                        <p>编辑<code class="codeph">tnsnames.ora</code>文件以添加网关的连接描述符。以下是使用TCP / IP协议的Oracle Net条目的语法：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">connect_descriptor</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name</span> ）（PORT = <span class="italic">port_number</span> ））（CONNECT_DATA =（SID = <span class="italic">gateway_sid</span> ））（HS = OK））</pre><p>哪里：</p>
                        <div class="tblformal" id="GUID-0F0E295E-B0ED-4B9C-9746-227D7B1F8C9A__GUID-5A03E32F-8ED6-4882-AD49-3B64C669576D">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable definition" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d37763e993">变量</th>
                                    <th align="left" valign="bottom" width="75%" id="d37763e996">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d37763e1001" headers="d37763e993 ">
                                       <p><span class="italic"><code class="codeph">connect_descriptor</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d37763e1001 d37763e996 ">
                                       <p>是在创建数据库链接时指定的要连接的对象的描述，例如<code class="codeph">dg4db2</code> 。
                                       </p>
                                       <p>检查sqlnet.ora <span class="bold"> </span>用于以下参数设置的文件：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">names.directory_path =（TNSNAMES）</code></p>
                                          </li>
                                       </ul>
                                       <p><span class="bold">注意</span> ：sqlnet.ora文件通常存储在<code class="codeph">$ORACLE_HOME/network/admin</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d37763e1030" headers="d37763e993 ">
                                       <p><code class="codeph">TCP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d37763e1030 d37763e996 ">
                                       <p>是用于TCP / IP连接的TCP协议。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d37763e1038" headers="d37763e993 ">
                                       <p><span class="italic"><code class="codeph">主机名</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d37763e1038 d37763e996 ">
                                       <p>指定运行网关的计算机。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d37763e1047" headers="d37763e993 ">
                                       <p><span class="italic"><code class="codeph">端口号</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d37763e1047 d37763e996 ">
                                       <p>匹配正在侦听网关的Oracle Net Listener使用的端口号。Oracle Net Listener的端口号可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。请参阅<a href="config-drda-gateway.html#GUID-EBD1D2CB-679D-4B15-AC87-D34F5BEF7C7E">listener.ora文件条目的语法</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d37763e1063" headers="d37763e993 ">
                                       <p><span class="italic"><code class="codeph">gateway_sid</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d37763e1063 d37763e996 ">
                                       <p>指定网关的SID，并匹配正在侦听网关的Oracle Net Listener的<code class="codeph">listener.ora</code>文件中指定的SID。有关更多信息，请参阅<a href="config-drda-gateway.html#GUID-2129F858-357C-4A4D-9801-F5994066CAEC">为网关配置Oracle Net Listener</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d37763e1079" headers="d37763e993 ">
                                       <p><code class="codeph">（HS = OK）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d37763e1079 d37763e996 ">
                                       <p>指定此连接描述符连接到非Oracle系统。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1282"></a><div class="props_rev_3"><a id="GUID-281D0203-DD47-471A-9107-4CD86A4773AA" name="GUID-281D0203-DD47-471A-9107-4CD86A4773AA"></a><h4 id="OTGIS-GUID-281D0203-DD47-471A-9107-4CD86A4773AA" class="sect4">为多个侦听器配置tnsnames.ora</h4>
                  <div>
                     <div class="section">
                        <p>要确保更高的可用性，您可以指定多个<a id="d37763e1133" class="indexterm-anchor"></a> connect de scriptor中的监听器。
                        </p><pre class="oac_no_warn" dir="ltr"> <a id="d37763e1141" class="indexterm-anchor"></a> <span class="italic">connect_descriptor</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name_1</span> ）（PORT = <span class="italic">port_number_1</span> ））（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name_2</span> ）（PORT = <span class="italic">port_number_2</span> ））（CONNECT_DATA =（SID = <span class="italic">gateway_sid</span> ））（HS = OK））</pre><p>这表明，如果<span class="italic"><code class="codeph">host_name_1</code></span>和<span class="italic"><code class="codeph">port_number_1</code></span>的侦听器不可用，则<span class="italic"><code class="codeph">host_name_2</code></span>和<span class="italic"><code class="codeph">port_number_2</code></span>的第二个侦听器将接管。
                        </p>
                        <div class="infoboxnotealso" id="GUID-281D0203-DD47-471A-9107-4CD86A4773AA__GUID-DAF7EA8E-A81D-4150-8FAD-2F81BACDE235">
                           <p class="notep1">也可以看看：</p>
                           <p>有关编辑<code class="codeph">tnsnames.ora</code>文件的信息，请<code class="codeph">tnsnames.ora</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=NETAG256" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OTGIS1089"></a><div class="props_rev_3"><a id="GUID-28055BC7-5509-4E92-8442-810DA43B4848" name="GUID-28055BC7-5509-4E92-8442-810DA43B4848"></a><h3 id="OTGIS-GUID-28055BC7-5509-4E92-8442-810DA43B4848" class="sect3">创建数据库链接</h3>
               <div>
                  <div class="section">
                     <p>连接到Oracle数据库的任何Oracle客户端都可以通过网关访问DB2数据。Oracle客户端和Oracle数据库可以驻留在不同的计算机上。网关仅接受来自Oracle数据库的连接。</p>
                     <p>首次在Oracle会话中使用时，通过数据库链接建立与网关的连接。在此上下文中，连接是指Oracle数据库与网关之间的连接。在Oracle会话结束之前，连接将保持建立状态。另一个会话或用户可以访问相同的数据库链接，并获得与网关和DRDA数据库的不同连接。</p>
                     <p>数据库链接在网关会话期间处于活动状态。如果要在会话期间关闭数据库链接，可以使用<code class="codeph">ALTER SESSION</code>语句执行此操作。
                     </p>
                     <p>要访问DRDA服务器，您必须创建数据库链接。公共数据库链接是最常见的数据库链接。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK <span class="italic">dblink</span> CONNECT TO 2“ <span class="italic">user”</span> IDENTIFIED BY <span class="italic">“password”</span> <span class="italic">USING'tns_name_entry</span> ';</pre><p>哪里：</p>
                     <div class="tblformal" id="GUID-28055BC7-5509-4E92-8442-810DA43B4848__GUID-BB7467AE-B377-44C0-9502-3AF37BCCE2C2">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable definition" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d37763e1266">变量</th>
                                 <th align="left" valign="bottom" width="75%" id="d37763e1269">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d37763e1274" headers="d37763e1266 ">
                                    <p><span class="italic"><code class="codeph">DBLINK</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d37763e1274 d37763e1269 ">
                                    <p>是完整的数据库链接名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d37763e1283" headers="d37763e1266 ">
                                    <p><span class="italic"><code class="codeph">tns_name_entry</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d37763e1283 d37763e1269 ">
                                    <p>指定<code class="codeph">tnsnames.ora</code>文件中指定的标识网关的Oracle Net连接描述符</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>创建数据库链接后，您可以验证与DRDA数据库的连接，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM DUAL @dblink;</pre><div class="infoboxnotealso" id="GUID-28055BC7-5509-4E92-8442-810DA43B4848__GUID-62EDDED9-1BF9-41F5-B181-C23769D510B8">
                        <p class="notep1">也可以看看：</p>
                        <p>有关使用数据库链接的详细信息，请<a href="../admin/distributed-database-concepts.html#ADMIN12083" target="_blank"><span><cite>参见Oracle数据库管理员指南</cite></span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OTGIS1090"></a><div class="props_rev_3"><a id="GUID-30001CB2-F707-475E-97EC-874B8E02061C" name="GUID-30001CB2-F707-475E-97EC-874B8E02061C"></a><h3 id="OTGIS-GUID-30001CB2-F707-475E-97EC-874B8E02061C" class="sect3">配置网关以访问多个DRDA数据库</h3>
               <div>
                  <p>配置网关以访问多个DRDA数据库的任务类似于为单个数据库配置网关的任务。配置示例假定以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用默认SID <code class="codeph">dg4db2</code>安装和配置网关</p>
                     </li>
                     <li>
                        <p><code class="codeph">ORACLE_HOME</code>环境变量设置为安装网关的目录</p>
                     </li>
                     <li>
                        <p>为一个名为<code class="codeph">db1</code> DRDA数据库配置网关</p>
                     </li>
                     <li>
                        <p>正在添加具有IP地址204.179.79.15的主机上名为<code class="codeph">db2</code>和<code class="codeph">db3</code>两个DRDA数据库</p>
                     </li>
                  </ul>
               </div><a id="OTGIS1240"></a><a id="OTGIS1241"></a><a id="OTGIS1091"></a><div class="props_rev_3"><a id="GUID-B9691DE9-84AE-47B8-B744-EF0DC600ECE1" name="GUID-B9691DE9-84AE-47B8-B744-EF0DC600ECE1"></a><h4 id="OTGIS-GUID-B9691DE9-84AE-47B8-B744-EF0DC600ECE1" class="sect4">多个DRDA数据库示例：配置网关</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-B9691DE9-84AE-47B8-B744-EF0DC600ECE1__GUID-906A4C7C-0926-4E7C-B326-DC4DAFC4AE5F">为每个DRDA数据库选择一个系统ID</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>每个DRDA数据库都需要一个单独的网关实例。每个实例都需要自己的网关系统ID（SID）。对于此示例，为访问DRDA数据库的实例选择网关SID：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">dg4db22</code> <span class="bold"> </span>用于访问数据库<code class="codeph">db2</code>的网关</p>
                           </li>
                           <li>
                              <p><code class="codeph">dg4db23</code>用于访问数据库<code class="codeph">db3</code>的网关</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B9691DE9-84AE-47B8-B744-EF0DC600ECE1__GUID-396E70F9-F983-4D1D-8918-88275C7764A7">创建两个初始化参数文件</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>通过复制原始初始化参数文件<code class="codeph">$ORACLE_HOME/dg4db2/admin/initdg4db2.ora</code>两次，为<code class="codeph">db2</code>的网关SID命名一个，为<code class="codeph">db3</code>的网关SID命名另一个，为网关的每个实例创建一个初始化参数文件：</p><pre class="oac_no_warn" dir="ltr">$ cd $ ORACLE_HOME / dg4db2 / admin $ cp initdg4db2.ora initdg4db22.ora $ cp initdg4db2.ora initdg4db23.ora</pre><div class="infoboxnote" id="GUID-B9691DE9-84AE-47B8-B744-EF0DC600ECE1__GUID-9E2D8891-757E-4F99-A833-711C463954FD">
                           <p class="notep1">注意：</p>
                           <p>如果您有相同DRDA数据库的多个网关SID，因为您希望在不同时间使用不同的网关参数设置，请按照相同的步骤进行操作。您可以创建多个初始化参数文件，每个文件具有不同的SID和不同的参数设置。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1242"></a><a id="OTGIS1092"></a><div class="props_rev_3"><a id="GUID-DE098DA2-B1FB-4E7E-B5C8-B6948EBF4BE1" name="GUID-DE098DA2-B1FB-4E7E-B5C8-B6948EBF4BE1"></a><h4 id="OTGIS-GUID-DE098DA2-B1FB-4E7E-B5C8-B6948EBF4BE1" class="sect4">多个DRDA数据库示例：配置Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-DE098DA2-B1FB-4E7E-B5C8-B6948EBF4BE1__GUID-B7A695C3-8ED7-42FC-BF6F-9990EA382C2B">将条目添加到listener.ora</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在Oracle Net Listener配置文件中添加两个新条目， <span class="bold"> </span> <code class="codeph">listener.ora</code> 。即使多个网关实例访问同一数据库，您也必须为每个网关实例提供一个条目。
                        </p>
                        <p>以下示例首先显示原始安装网关的条目，然后显示新条目：</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =（SID_NAME = dg4db2）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4db2））（SID_DESC =（SID_NAME = dg4db22）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4db2））（SID_DESC =（SID_NAME = dg4db23） ）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4db2）））</pre><p>其中， <code class="codeph">oracle_home_directory</code>是网关所在的目录。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1093"></a><div class="props_rev_3"><a id="GUID-F7315B3E-4475-4A3F-8443-E0FE275FE6FF" name="GUID-F7315B3E-4475-4A3F-8443-E0FE275FE6FF"></a><h4 id="OTGIS-GUID-F7315B3E-4475-4A3F-8443-E0FE275FE6FF" class="sect4">多个DRDA数据库示例：停止并启动Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>如果侦听器已在运行，请使用<code class="codeph">lsnrctl</code>命令停止侦听器，然后使用新设置启动它，如下所示：</p><pre class="oac_no_warn" dir="ltr">$ lsnrctl停止$ lsnrctl start</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1094"></a><div class="props_rev_3"><a id="GUID-6429FBB4-D70B-4A9A-9B65-373143379CE7" name="GUID-6429FBB4-D70B-4A9A-9B65-373143379CE7"></a><h4 id="OTGIS-GUID-6429FBB4-D70B-4A9A-9B65-373143379CE7" class="sect4">多个数据库示例：为网关访问配置Oracle数据库</h4>
                  <div>
                     <p>例子：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="config-drda-gateway.html#GUID-EEA380E6-EC6B-4419-AA70-BF9DFC586D39">为多个网关实例配置Oracle Net</a></p>
                        </li>
                     </ul>
                  </div><a id="OTGIS1095"></a><div class="props_rev_3"><a id="GUID-EEA380E6-EC6B-4419-AA70-BF9DFC586D39" name="GUID-EEA380E6-EC6B-4419-AA70-BF9DFC586D39"></a><h5 id="OTGIS-GUID-EEA380E6-EC6B-4419-AA70-BF9DFC586D39" class="sect5">为多个网关实例配置Oracle Net</h5>
                     <div>
                        <div class="section">
                           <p>将两个连接描述符条目添加到<code class="codeph">tnsnames.ora</code>文件中。即使网关实例访问同一数据库，您也必须为每个网关实例创建一个条目。
                           </p>
                           <p>以下DRDA示例首先显示原始安装网关的条目，然后显示新网关实例的两个条目：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">old_db_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name））（CONNECT_DATA =（SID = dg4db2））（HS = OK）） <span class="italic">new_db2_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name））（CONNECT_DATA =（SID = dg4db22））（HS = OK）） <span class="italic">new_db3_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name ））（CONNECT_DATA =（SID = dg4db23））（HS = OK））</pre><p><code class="codeph">PORT</code>的值是正在侦听网关的Oracle Net Listener的TCP / IP端口号。该数字可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。<code class="codeph">HOST</code>的值是运行网关的计算机的名称。该名称也可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="OTGIS1096"></a><div class="props_rev_3"><a id="GUID-DF94D718-3CE7-4A89-AA8E-4C08CDC590F0" name="GUID-DF94D718-3CE7-4A89-AA8E-4C08CDC590F0"></a><h4 id="OTGIS-GUID-DF94D718-3CE7-4A89-AA8E-4C08CDC590F0" class="sect4">多个DRDA数据库示例：访问DB2数据</h4>
                  <div>
                     <div class="section">
                        <p>输入以下内容<code class="codeph">dg4db22</code>网关创建数据库链接：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK DRDA2 CONNECT TO 2 <span class="italic">“user2”</span> IDENTIFIED BY <span class="italic">“password2”</span> USING'new_db2_using';</pre><p>输入以下内容<code class="codeph">dg4db23</code>网关创建数据库链接：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK DRDA3 CONNECT TO 2 <span class="italic">“user3”</span> IDENTIFIED BY <span class="italic">“password3”</span> USING'new_db3_using';</pre><p>创建数据库链接后，您可以验证与新DRDA数据库的连接，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM ALL_USERS @ DRDA2;</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM ALL_USERS @ DRDA3;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03941.OM.layer.WMSTileLayer.html" dir="ltr"></html><html lang="zh-Hans" dir="ltr">
<head>
	<meta charset="utf-8"></meta>
	<meta name="viewport" content="width=device-width"></meta>
	<title>Oracle Maps HTML5 JavaScript API参考类：WMSTileLayer</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css"></link>

	<link type="text/css" rel="stylesheet" href="styles/site.yeti.css"></link>


    <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
    <meta name="dcterms.created" content="2019-01-15T02:06:19+00:00"></meta>
    <meta name="dcterms.title" content="Spatial and Graph Map Visualization Component Oracle Maps HTML5 JavaScript API Reference"></meta>
    <meta name="dcterms.category" content="database"></meta>
    <meta name="dcterms.isVersionOf" content="JIMJS"></meta>
    <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
    <meta name="dcterms.identifier" content="E95755-01"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  <script id="ssot-metadata" type="application/json"> {"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}} </script>
    </head>

<body dir="ltr">

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">Oracle Maps HTML5 JavaScript API参考</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation"></button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">命名空间<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="OM.html">OM</a></li><li><a href="OM.control.html">OM.control</a></li><li><a href="OM.edit.html">OM.edit</a></li><li><a href="OM.event.html">OM.event</a></li><li><a href="OM.filter.html">OM.filter</a></li><li><a href="OM.geometry.html">OM.geometry</a></li><li><a href="OM.gv.html">OM.gv</a></li><li><a href="OM.layer.html">OM.layer</a></li><li><a href="OM.lbs.html">OM.lbs</a></li><li><a href="OM.proj.html">OM.proj</a></li><li><a href="OM.server.html">OM.server</a></li><li><a href="OM.style.html">OM.style</a></li><li><a href="OM.template.html">OM.template</a></li><li><a href="OM.tool.html">OM.tool</a></li><li><a href="OM.universe.html">OM.universe</a></li><li><a href="OM.visualfilter.html">OM.visualfilter</a></li><li><a href="OM.wmts.html">OM.wmts</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">类<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="-_.html"></a></li><li><a href="-_anonymous_-OM.Class.html"><anonymous>〜OM.Class</anonymous></a></li><li><a href="-_anonymous_-OM.infowindow.MVInfoWindowTab.html"><anonymous>〜OM.infowindow。MVInfoWindowTab</anonymous></a></li><li><a href="-_anonymous_-OM.layer.TileLayerConfig.html"><anonymous>〜OM.layer。TileLayerConfig</anonymous></a></li><li><a href="-_anonymous_-OM.proj.AlbersUSA.html"><anonymous>〜OM.proj。AlbersUSA</anonymous></a></li><li><a href="-_anonymous_-OM.style.Bar.html"><anonymous>〜OM.style。酒吧</anonymous></a></li><li><a href="-_anonymous_-OM.style.PieSlice.html"><anonymous>〜OM.style。PieSlice</anonymous></a></li><li><a href="-_anonymous_-OM.style.StyleStore.html"><anonymous>〜OM.style。StyleStore</anonymous></a></li><li><a href="-_anonymous_-OM.util.GeomUtil.html"><anonymous>〜OM.util。GeomUtil</anonymous></a></li><li><a href="-_anonymous_-OM.util.WorldMercatorUtil.html"><anonymous>〜OM.util。WorldMercatorUtil</anonymous></a></li><li><a href="OM.Column.html">OM.Column</a></li><li><a href="OM.control.ButtonGroup.html">OM.control。ButtonGroup中</a></li><li><a href="OM.control.CopyRight.html">OM.control。版权</a></li><li><a href="OM.control.LayerControl.html">OM.control。LayerControl</a></li><li><a href="OM.control.Magnifier.html">OM.control。放大镜</a></li><li><a href="OM.control.MapDecoration.html">OM.control。MapDecoration</a></li><li><a href="OM.control.NavigationPanelBar.html">OM.control。NavigationPanelBar</a></li><li><a href="OM.control.ScaleBar.html">OM.control。比例尺</a></li><li><a href="OM.control.ToolBar.html">OM.control。工具栏</a></li><li><a href="OM.control.ToolButton.html">OM.control。工具按钮</a></li><li><a href="OM.edit.EditChangeEvent.html">OM.edit。EditChangeEvent</a></li><li><a href="OM.edit.EditChangeManager.html">OM.edit。EditChangeManager</a></li><li><a href="OM.edit.GeometrySegment.html">OM.edit。GeometrySegment</a></li><li><a href="OM.edit.GeometrySegmentPoint.html">OM.edit。GeometrySegmentPoint</a></li><li><a href="OM.event.Event.html">OM.event。事件</a></li><li><a href="OM.event.KeyboardEvent.html">OM.event。的KeyboardEvent</a></li><li><a href="OM.event.LayerEvent.html">OM.event。LayerEvent</a></li><li><a href="OM.event.MapDecorationEvent.html">OM.event。MapDecorationEvent</a></li><li><a href="OM.event.MapEvent.html">OM.event。MapEvent</a></li><li><a href="OM.event.MouseEvent.html">OM.event。的MouseEvent</a></li><li><a href="OM.event.ToolbarEvent.html">OM.event。ToolbarEvent</a></li><li><a href="OM.event.ToolEvent.html">OM.event。ToolEvent</a></li><li><a href="OM.Feature.html">OM.Feature</a></li><li><a href="OM.filter.All.html">OM.filter。所有</a></li><li><a href="OM.filter.And.html">OM.filter。和</a></li><li><a href="OM.filter.Any.html">OM.filter。任何</a></li><li><a href="OM.filter.AnyInteract.html">OM.filter。AnyInteract</a></li><li><a href="OM.filter.Between.html">OM.filter。之间</a></li><li><a href="OM.filter.Equals.html">OM.filter。等于</a></li><li><a href="OM.filter.Filter.html">OM.filter。过滤</a></li><li><a href="OM.filter.Greater.html">OM.filter。大</a></li><li><a href="OM.filter.GreaterEquals.html">OM.filter。GreaterEquals</a></li><li><a href="OM.filter.In.html">OM.filter。在</a></li><li><a href="OM.filter.InsidePolygon.html">OM.filter。InsidePolygon</a></li><li><a href="OM.filter.IsNotNull.html">OM.filter。IsNotNull</a></li><li><a href="OM.filter.IsNull.html">OM.filter。一片空白</a></li><li><a href="OM.filter.Less.html">OM.filter。减</a></li><li><a href="OM.filter.LessEquals.html">OM.filter。LessEquals</a></li><li><a href="OM.filter.Like.html">OM.filter。喜欢</a></li><li><a href="OM.filter.Not.html">OM.filter。不</a></li><li><a href="OM.filter.NotEquals.html">OM.filter。NotEquals</a></li><li><a href="OM.filter.Or.html">OM.filter。要么</a></li><li><a href="OM.filter.Xor.html">OM.filter。异或</a></li><li><a href="OM.geometry.Circle.html">OM.geometry。圈</a></li><li><a href="OM.geometry.Geometry.html">OM.geometry。几何</a></li><li><a href="OM.geometry.GeometryCollection.html">OM.geometry。的GeometryCollection</a></li><li><a href="OM.geometry.LineString.html">OM.geometry。线串</a></li><li><a href="OM.geometry.MultiLineString.html">OM.geometry。MULTILINESTRING</a></li><li><a href="OM.geometry.MultiPoint.html">OM.geometry。多点</a></li><li><a href="OM.geometry.MultiPolygon.html">OM.geometry。的MultiPolygon</a></li><li><a href="OM.geometry.Point.html">OM.geometry。点</a></li><li><a href="OM.geometry.Polygon.html">OM.geometry。多边形</a></li><li><a href="OM.geometry.Rectangle.html">OM.geometry。长方形</a></li><li><a href="OM.layer.BaiduTileLayer.html">OM.layer。BaiduTileLayer</a></li><li><a href="OM.layer.BuiltinExternalTileLayer.html">OM.layer。BuiltinExternalTileLayer</a></li><li><a href="OM.layer.DynamicTileLayer.html">OM.layer。DynamicTileLayer</a></li><li><a href="OM.layer.ElocationTileLayer.html">OM.layer。ElocationTileLayer</a></li><li><a href="OM.layer.GoogleTileLayer.html">OM.layer。GoogleTileLayer</a></li><li><a href="OM.layer.HereTileLayer.html">OM.layer。HereTileLayer</a></li><li><a href="OM.layer.Layer.html">OM.layer。层</a></li><li><a href="OM.layer.MarkerLayer.html">OM.layer。MarkerLayer</a></li><li><a href="OM.layer.TileLayer.html">OM.layer。TileLayer</a></li><li><a href="OM.layer.VectorLayer.html">OM.layer。VectorLayer</a></li><li><a href="OM.layer.WMSTileLayer.html">OM.layer。WMSTileLayer</a></li><li><a href="OM.layer.WMTSTileLayer.html">OM.layer。WMTSTileLayer</a></li><li><a href="OM.lbs.Address.html">OM.lbs。地址</a></li><li><a href="OM.lbs.DefaultGCResult.html">OM.lbs。DefaultGCResult</a></li><li><a href="OM.lbs.GCResult.html">OM.lbs。GCResult</a></li><li><a href="OM.lbs.GdfFormAddress.html">OM.lbs。GdfFormAddress</a></li><li><a href="OM.lbs.GenFormAddress.html">OM.lbs。GenFormAddress</a></li><li><a href="OM.lbs.Geocoder.html">OM.lbs。地理编码</a></li><li><a href="OM.lbs.Match.html">OM.lbs。比赛</a></li><li><a href="OM.lbs.MetaData.html">OM.lbs。元数据</a></li><li><a href="OM.lbs.OutputAddress.html">OM.lbs。OutputAddress</a></li><li><a href="OM.lbs.UnformatedAddress.html">OM.lbs。UnformatedAddress</a></li><li><a href="OM.lbs.USForm1Address.html">OM.lbs。USForm1Address</a></li><li><a href="OM.lbs.USForm2Address.html">OM.lbs。USForm2Address</a></li><li><a href="OM.Map.html">OM.Map</a></li><li><a href="OM.MapContext.html">OM.MapContext</a></li><li><a href="OM.MapMarker.html">OM.MapMarker</a></li><li><a href="OM.server.ServerJDBCGeorasterTheme.html">OM.server。ServerJDBCGeorasterTheme</a></li><li><a href="OM.server.ServerJDBCTheme.html">OM.server。ServerJDBCTheme</a></li><li><a href="OM.server.ServerMapRequest.html">OM.server。ServerMapRequest</a></li><li><a href="OM.server.ServerPredefinedTheme.html">OM.server。ServerPredefinedTheme</a></li><li><a href="OM.server.ServerTheme.html">OM.server。ServerTheme</a></li><li><a href="OM.style.AnimationColor.html">OM.style。AnimationColor</a></li><li><a href="OM.style.Area.html">OM.style。区域</a></li><li><a href="OM.style.BarChart.html">OM.style。BARCHART</a></li><li><a href="OM.style.BasicAnimation.html">OM.style。BasicAnimation</a></li><li><a href="OM.style.Bucket.html">OM.style。桶</a></li><li><a href="OM.style.BucketStyle.html">OM.style。BucketStyle</a></li><li><a href="OM.style.CollectionBucket.html">OM.style。CollectionBucket</a></li><li><a href="OM.style.Color.html">OM.style。颜色</a></li><li><a href="OM.style.ColorFormatter.html">OM.style。ColorFormatter</a></li><li><a href="OM.style.ColorScheme.html">OM.style。到ColorScheme</a></li><li><a href="OM.style.Div.html">OM.style。DIV</a></li><li><a href="OM.style.Formatter.html">OM.style。格式化</a></li><li><a href="OM.style.GlyphMarker.html">OM.style。GlyphMarker</a></li><li><a href="OM.style.Gradient.html">OM.style。梯度</a></li><li><a href="OM.style.HeatMap.html">OM.style。热图</a></li><li><a href="OM.style.Line.html">OM.style。线</a></li><li><a href="OM.style.LinearGradient.html">OM.style。的LinearGradient</a></li><li><a href="OM.style.Marker.html">OM.style。标记</a></li><li><a href="OM.style.PieChart.html">OM.style。饼形图</a></li><li><a href="OM.style.PulseAnimation.html">OM.style。PulseAnimation</a></li><li><a href="OM.style.RadialGradient.html">OM.style。的RadialGradient</a></li><li><a href="OM.style.RangedBucket.html">OM.style。RangedBucket</a></li><li><a href="OM.style.SizeFormatter.html">OM.style。SizeFormatter</a></li><li><a href="OM.style.StackedMarker.html">OM.style。StackedMarker</a></li><li><a href="OM.style.Style.html">OM.style。样式</a></li><li><a href="OM.style.Text.html">OM.style。文本</a></li><li><a href="OM.style.VariableMarker.html">OM.style。VariableMarker</a></li><li><a href="OM.template.Template.html">OM.template。模板</a></li><li><a href="OM.template.TemplateConfig.html">OM.template。TemplateConfig</a></li><li><a href="OM.TextFeature.html">OM.TextFeature</a></li><li><a href="OM.tool.BreakLineTool.html">OM.tool。BreakLineTool</a></li><li><a href="OM.tool.CircleTool.html">OM.tool。CircleTool</a></li><li><a href="OM.tool.DistanceTool.html">OM.tool。DistanceTool</a></li><li><a href="OM.tool.MarqueeZoomTool.html">OM.tool。MarqueeZoomTool</a></li><li><a href="OM.tool.RectangleTool.html">OM.tool。RectangleTool</a></li><li><a href="OM.tool.RedlineTool.html">OM.tool。RedlineTool</a></li><li><a href="OM.tool.RemoveVertexesTool.html">OM.tool。RemoveVertexesTool</a></li><li><a href="OM.tool.Tool.html">OM.tool。工具</a></li><li><a href="OM.tool.WhiteBoardTool.html">OM.tool。WhiteBoardTool</a></li><li><a href="OM.universe.BaiduUniverse.html">OM.universe。BaiduUniverse</a></li><li><a href="OM.universe.ElocationUniverse.html">OM.universe。ElocationUniverse</a></li><li><a href="OM.universe.LatLonUniverse.html">OM.universe。LatLonUniverse</a></li><li><a href="OM.universe.LocationBoxUniverse.html">OM.universe。LocationBoxUniverse</a></li><li><a href="OM.universe.OSMUniverse.html">OM.universe。OSMUniverse</a></li><li><a href="OM.universe.SElocationUniverse.html">OM.universe。SElocationUniverse</a></li><li><a href="OM.universe.TomTomUniverse.html">OM.universe。TomTomUniverse</a></li><li><a href="OM.universe.Universe.html">OM.universe。宇宙</a></li><li><a href="OM.universe.WorldMercatorUniverse.html">OM.universe。WorldMercatorUniverse</a></li><li><a href="OM.universe.ZoomLevel.html">OM.universe。缩放级别</a></li><li><a href="OM.visualfilter.DropShadow.html">OM.visualfilter。阴影效果</a></li><li><a href="OM.visualfilter.Glow.html">OM.visualfilter。辉光</a></li><li><a href="OM.visualfilter.VisualFilter.html">OM.visualfilter。VisualFilter</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="mixins.list.html" class="dropdown-toggle" data-toggle="dropdown">混入<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="OM.event.EventSource.html">OM.event。EventSource的</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">全球<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="global.html#addTab">addTab</a></li><li><a href="global.html#addToBaseSelArray">addToBaseSelArray</a></li><li><a href="global.html#attachTab">attachTab</a></li><li><a href="global.html#clearBaseSelArray">clearBaseSelArray</a></li><li><a href="global.html#getAllSelectedFeatures">getAllSelectedFeatures</a></li><li><a href="global.html#getBaseSelArray">getBaseSelArray</a></li><li><a href="global.html#getID">的getID</a></li><li><a href="global.html#getPanelContent">getPanelContent</a></li><li><a href="global.html#getPanelTab">getPanelTab</a></li><li><a href="global.html#getSingleTabContainer">getSingleTabContainer</a></li><li><a href="global.html#getTabHeaderTitle">getTabHeaderTitle</a></li><li><a href="global.html#getTitle">的getTitle</a></li><li><a href="global.html#getVectorLayer">getVectorLayer</a></li><li><a href="global.html#hideDrawer">hideDrawer</a></li><li><a href="global.html#initialize">初始化</a></li><li><a href="global.html#isVisible">ISVISIBLE</a></li><li><a href="global.html#moveTabsToLeft">moveTabsToLeft</a></li><li><a href="global.html#moveTabsToRight">moveTabsToRight</a></li><li><a href="global.html#publish">发布</a></li><li><a href="global.html#removeFromBaseSelArray">removeFromBaseSelArray</a></li><li><a href="global.html#setBaseSelArray">setBaseSelArray</a></li><li><a href="global.html#setPosition">setPosition两种</a></li><li><a href="global.html#showDrawer">showDrawer</a></li><li><a href="global.html#subscribe">订阅</a></li><li><a href="global.html#switchMode">开关模式</a></li><li><a href="global.html#update">更新</a></li><li><a href="global.html#updateProgress">的UpdateProgress</a></li><li><a href="global.html#updateScrollButtons">updateScrollButtons</a></li><li><a href="global.html#updateUi">updateUi</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="搜索" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	<h1 class="page-title"> <br>类：WMSTileLayer</h1>
<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="OM.html">OM</a> <a href="OM.layer.html">.layer</a> 。</span>WMSTileLayer</h2>
        
    
</header>


<article>
    <div class="container-overview">
    
        
<hr>
<dt>
    <h4 class="name" id="WMSTileLayer"><span class="type-signature"></span>新的WMSTileLayer（名称，选项）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>此类表示Oracle Map切片图层。它扩展了DynamicTileLayer<br>WMS相关参数。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>名称</code></td>
            

            <td class="type">
            
                
<span class="param-type">串</span>



            
            </td>

            

            

            <td class="description last"><p>唯一的WMS切片图层名称。</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>选项</code></td>
            

            <td class="type">
            
                
<span class="param-type">宾语</span>



            
            </td>

            

            

            <td class="description last"><p>一个JSON对象，指定WMS切片图层相关参数。它可能具有以下属性。<br>  </p><ul><br>  <li>宇宙{OM.universe。Universe}：WMS切片图层Universe对象</li><br>  <li>tileLayerConfig {OM.layer。TileLayerConfig}：WMS切片图层配置对象。</li><br>  <li>wmsServerURL {String}：WMS服务器URL。例如，“http://maps.oracle.com/mapviewer/wms”。<br>此URL可能指向任何符合WMS的服务器。</li><br>  <li>urlBuilderOptions {Object}：可选。包含WMS请求参数的JSON对象。<br>下面给出一个例子：<br>urlBuilderOptions：{<br>“dataSource”：“ELOCATION_MERCATOR”，<br>“版本”： “1.1.1”，<br>“SRS”： “EPSG：4326”<br>“格式化”： “图像/ PNG”，<br>“bgcolor”：“＃a6cae0”，<br>“antialiase”：“false”，<br>“layers”：“M_ADMIN_AREA1_S01，M_STATE_BORDER_S05，M_CITIES_POINTS_S10”<br>}</li><br> </ul></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>OM.layer的一个实例。WMSTileLayer</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type"><a href="OM.layer.WMSTileLayer.html">OM.layer。WMSTileLayer</a></span>



    </dd>
</dl>


        

    
</dd>

    
    </div>

    
        <h3 class="subsection-title">扩展</h3>

        


    <ul>
        <li><a href="OM.layer.DynamicTileLayer.html">OM.layer。DynamicTileLayer</a></li>
    </ul>


    

    

    

    

    

    

    
        <h3 class="subsection-title">方法</h3>

        <dl>
            
<hr>
<dt>
    <h4 class="name" id="bringForward"><span class="type-signature"></span>向前进（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>将图层向前移动一步（靠近地图顶部）。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#bringForward">OM.layer。层＃bringForward</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>新的z指数</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">INT</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="bringToTop"><span class="type-signature"></span> bringToTop（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>将图层一直带到地图顶部</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#bringToTop">OM.layer。层＃bringToTop</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>新的z指数</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">INT</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="enableInfoWindow"><span class="type-signature"></span> enableInfoWindow（启用）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>启用或禁用功能信息窗口。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>启用</code></td>
            

            <td class="type">
            
                
<span class="param-type">布尔</span>



            
            </td>

            

            

            <td class="description last"><p>启用或禁用功能信息窗口。默认情况下，<br>信息窗口已启用。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#enableInfoWindow">OM.layer。层＃enableInfoWindow</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            


<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">空虚</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="enableUTFGridInfoWindow"><span class="type-signature"></span> enableUTFGridInfoWindow（状态）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>适用时启用或禁用UTFGrid信息窗口</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>状态</code></td>
            

            <td class="type">
            
                
<span class="param-type">布尔</span>



            
            </td>

            

            

            <td class="description last"><p>true或false以启用或禁用默认（内置）utfgrid信息窗口</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.TileLayer.html#enableUTFGridInfoWindow">OM.layer。TileLayer＃enableUTFGridInfoWindow</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getCustomTags"><span class="type-signature"></span> getCustomTags（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>从图块层获取自定义标记</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.TileLayer.html#getCustomTags">OM.layer。TileLayer＃getCustomTags</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>对象定义了自定义标记（如果有）</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">宾语</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getCustomURL"><span class="type-signature"></span> getCustomURL（x，y，z）</h4>
    
    
</dt>
<dd>

    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>X</code></td>
            

            <td class="type">
            
                
<span class="param-type">数</span>



            
            </td>

            

            

            <td class="description last"><p>平铺坐标x。</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ÿ</code></td>
            

            <td class="type">
            
                
<span class="param-type">数</span>



            
            </td>

            

            

            <td class="description last"><p>平铺坐标y。</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ž</code></td>
            

            <td class="type">
            
                
<span class="param-type">数</span>



            
            </td>

            

            

            <td class="description last"><p>平铺缩放级别。<br>z：缩放级别</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.DynamicTileLayer.html#getCustomURL">OM.layer。DynamicTileLayer＃getCustomURL</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>图片网址</p>
</div>




        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getEnableInfoWindow"><span class="type-signature"></span> getEnableInfoWindow（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取启用infowindow状态：true表示启用，否则为false<br>信息窗口已启用。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#getEnableInfoWindow">OM.layer。层＃getEnableInfoWindow</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>对或错</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">布尔</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getName"><span class="type-signature"></span>的getName（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取图层名称。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#getName">OM.layer。层＃的getName</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>图层名称</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">串</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getOpacity"><span class="type-signature"></span> getOpacity（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取图层的当前不透明度设置。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#getOpacity">OM.layer。层＃getOpacity</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>图层的不透明度。是介于0和1之间的值。</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">浮动</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getStaticMapURL"><span class="type-signature"></span> getStaticMapURL（宽度）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>此方法返回显示的地图的静态URL。<br>此URL可用于以width和height参数指定的维度打印地图。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>宽度</code></td>
            

            <td class="type">
            
                
<span class="param-type">INT</span>



            
            </td>

            

            

            <td class="description last"><p>包含当前地图视图的图像宽度（以像素为单位）。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.DynamicTileLayer.html#getStaticMapURL">OM.layer。DynamicTileLayer＃getStaticMapURL</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>XML映射请求。此请求可用于在当前地图视图中获取地图。<br>获取的地图将适合由width和height参数指定的给定图像尺寸。</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">串</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getTileLayerConfig"><span class="type-signature"></span> getTileLayerConfig（回调）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取切片图层配置。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>打回来</code></td>
            

            <td class="type">
            
                
<span class="param-type">功能</span>



            
            </td>

            

            

            <td class="description last"><p>获取切片图层配置是异步的。所以<br>你需要一个回调函数来获得结果。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.TileLayer.html#getTileLayerConfig">OM.layer。TileLayer＃getTileLayerConfig</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            


<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">空虚</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getUTFGridResolution"><span class="type-signature"></span> getUTFGridResolution（RES）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>解析并返回utfgrid分辨率</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>水库</code></td>
            

            <td class="type">
            
                
<span class="param-type">串</span>



            
            </td>

            

            

            <td class="description last"><p>utfgrid决议。可以是字符串或数字</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.TileLayer.html#getUTFGridResolution">OM.layer。TileLayer＃getUTFGridResolution</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>utfgrid决议</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">数</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getZIndex"><span class="type-signature"></span> getZIndex（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取图层的z-index。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#getZIndex">OM.layer。层＃getZIndex</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>z-index值。如果图层未添加到地图，则返回-1。</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">INT</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="isInZoomLevelRange"><span class="type-signature"></span> isInZoomLevelRange（curLevel）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>检查当前地图缩放级别是否在此图层的可见缩放级别范围内。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>curLevel</code></td>
            

            <td class="type">
            
                
<span class="param-type">INT</span>



            
            </td>

            

            

            <td class="description last"><p>可选，缩放级别用于检查它是否在minVisibleLevel和maxVisibleLevel范围内<br>范围。如果未指定，则使用当前缩放级别。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#isInZoomLevelRange">OM.layer。层＃isInZoomLevelRange</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>如果当前地图级别在图层的缩放级别范围内，则为true<br>它是可见的。</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">布尔</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="isVisible"><span class="type-signature"></span> ISVISIBLE（curLevel）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取图层的可见性。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>curLevel</code></td>
            

            <td class="type">
            
                
<span class="param-type">INT</span>



            
            </td>

            

            

            <td class="description last"><p>可选，缩放级别用于检查它是否在minVisibleLevel和maxVisibleLevel范围内<br>范围。如果未指定，则使用当前缩放级别。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#isVisible">OM.layer。层＃ISVISIBLE</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>如果基于主题的FOI图层当前可见，则为True，<br>如果基于主题的FOI图层当前不可见，则返回false</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">布尔</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="on"><span class="type-signature"></span>上（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>成员函数addListener的简写名称。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#on">OM.layer。层＃上</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    
        <dt class="mixes">混合物：</dt>

        <dd class="mixes"><ul>
        
            <li><a href="OM.event.EventSource.html#.on">OM.event。EventSource.on</a></li>
        
        </ul></dd>
    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="redraw"><span class="type-signature"></span>重绘（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>刷新图层现有数据的显示。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#redraw">OM.layer。层＃重绘</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>没有</p>
</div>




        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="sendBackward"><span class="type-signature"></span> sendBackward（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>将图层向后发送一步（靠近地图底部）。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#sendBackward">OM.layer。层＃sendBackward</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>新的z指数</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">INT</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="sendToBottom"><span class="type-signature"></span> sendToBottom（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>将图层一直发送到地图的底部</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#sendToBottom">OM.layer。层＃sendToBottom</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>新的z指数</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">INT</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setBindingParameters"><span class="type-signature"></span> setBindingParameters（BP）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>在动态切片图层中设置预定义主题的绑定参数。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>BP</code></td>
            

            <td class="type">
            
                
<span class="param-type">宾语</span>



            
            </td>

            

            

            <td class="description last"><p>包含主题绑定参数的JSON对象数组。<br>例如[{'WIND_THEME'，[{value：0.0，type：'Double'}，{value：'CA'，type：'String'}]}]</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.DynamicTileLayer.html#setBindingParameters">OM.layer。DynamicTileLayer＃setBindingParameters</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setInfoWindowTrigger"><span class="type-signature"></span> setInfoWindowTrigger（状态）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>适用时启用或禁用UTFGridInfoWindow</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>状态</code></td>
            

            <td class="type">
            
                
<span class="param-type">布尔</span>



            
            </td>

            

            

            <td class="description last"><p>true或false以启用或禁用默认（内置）utfgrid信息窗口</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.TileLayer.html#setInfoWindowTrigger">OM.layer。TileLayer＃setInfoWindowTrigger</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setName"><span class="type-signature"></span>的setName（newName）将</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>使用给定名称设置图层名称。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>新名字</code></td>
            

            <td class="type">
            
                
<span class="param-type">串</span>



            
            </td>

            

            

            <td class="description last"><p>要分配给此图层的新图层名称。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#setName">OM.layer。层＃的setName</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            


<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">没有</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setOpacity"><span class="type-signature"></span> setOpacity（不透明度）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>设置图层的不透明度。介于0（透明网）和1（不透明）之间的值。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>不透明度</code></td>
            

            <td class="type">
            
                
<span class="param-type">浮动</span>



            
            </td>

            

            

            <td class="description last"><p>它应该是0到1之间的数字。例如0.5表示50％不透明度。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#setOpacity">OM.layer。层＃setOpacity</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            


<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">空虚</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setVisible"><span class="type-signature"></span>调用setVisible（知名度）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>设置图层的可见性。<br>请注意，如果当前地图缩放级别为，则不会进行可见性更改<br>在图层的“可见缩放级别范围”之外，由setZoomLevelRange（）方法设置。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>能见度</code></td>
            

            <td class="type">
            
                
<span class="param-type">布尔</span>



            
            </td>

            

            

            <td class="description last"><p>布尔值为true（显示图层，即使其可见）或false<br>（隐藏图层）。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#setVisible">OM.layer。层＃调用setVisible</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>空}</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">没有</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setVisibleBound"><span class="type-signature"></span> setVisibleBound（结合）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>为图层可见性设置边界（MBR）。仅呈现提供的边界内的内容。<br>也就是说，地图客户端将仅获取并显示此边界内的地图内容。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>界</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="OM.geometry.Rectangle.html">OM.geometry。长方形</a></span>



            
            </td>

            

            

            <td class="description last"><p>指定图层边界</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#setVisibleBound">OM.layer。层＃setVisibleBound</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            


<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">空虚</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setZIndex"><span class="type-signature"></span> setZIndex（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>设置图层的z-index。</p>
<p>注意：有效的层z-index应该是1到n之间的数字，其中n是<br>当前在地图中显示的图层数。当newIndex<br>setZIndex的参数小于1，将其设置为1。如果是<br>大于n，它将被设置为n。如果已分配z-Index值newIndex<br>到另一个层，然后它仍将被分配给当前层（在其上调用此函数）。<br>将为另一层中的一个或多个分配不同的z-index值。这些变化将取决于<br>此图层是插入当前图层堆栈还是仅在图层堆栈中移动。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#setZIndex">OM.layer。层＃setZIndex</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>旧的z指数</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">INT</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setZoomLevelOffset"><span class="type-signature"></span> setZoomLevelOffset（偏移）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>为配置缩放级别移动设置缩放级别的偏移量。<br>如果配置的缩放级别0与平铺图像提供程序中的1匹配，请将其设置为1<br>如果配置的缩放级别1在平铺图像提供程序中与0匹配，则将其设置为-1</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>抵消</code></td>
            

            <td class="type">
            
                
<span class="param-type">数</span>



            
            </td>

            

            

            <td class="description last"><p>偏移值</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.DynamicTileLayer.html#setZoomLevelOffset">OM.layer。DynamicTileLayer＃setZoomLevelOffset</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>空值</p>
</div>




        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setZoomLevelRange"><span class="type-signature"></span> setZoomLevelRange（minLevel，maxLevel）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>设置此图层可见的缩放级别范围。默认情况下<br>将图层设置为在最小缩放级别0和最大值之间可见<br>（理论上）缩放级别为100。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>定义的MinLevel</code></td>
            

            <td class="type">
            
                
<span class="param-type">INT</span>



            
            </td>

            

            

            <td class="description last"><p>指定最小级别。该图层不会<br>如果缩放级别低于此值，则可见。</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxLevel</code></td>
            

            <td class="type">
            
                
<span class="param-type">INT</span>



            
            </td>

            

            

            <td class="description last"><p>指定最大级别。该图层不会<br>如果缩放级别高于此值，则可见。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.layer.Layer.html#setZoomLevelRange">OM.layer。层＃setZoomLevelRange</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            


<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">没有</span>



    </dd>
</dl>


        

    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" aria-label="关" data-dismiss="modal"><span aria-hidden="true">×</span></button>
            <h4 class="modal-title">搜索结果</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">关</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


	<span class="copyright">版权所有©2010,2019，Oracle和/或其附属公司。版权所有。
	</span> <span class="jsdoc-message"><a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.2</a>在2019年1月9日星期三使用<a href="https://github.com/docstrap/docstrap">DocStrap模板生成的文档</a> 。
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->

<script>
	$( function () {
		$( '#main' ).localScroll( {
			offset : { top : 60 } //offset by the height of your header (give or take a few px, see what works for you)
		} );
		$( "dt.name" ).each( function () {
			var $this = $( this ).find("h4");
			var icon = $( "<i/>" ).addClass( "icon-plus-sign" ).addClass( "pull-right" ).addClass( "icon-white" );
			var dt = $(this);
			var children = dt.next( "dd" );

			dt.prepend( icon ).css( {cursor : "pointer"} );
			dt.addClass( "member-collapsed" ).addClass( "member" );


			children.hide();

			dt.children().on( "click", function () {
				children = dt.next( "dd" );
				children.slideToggle( "fast", function () {

					if ( children.is( ":visible" ) ) {
						icon.addClass( "icon-minus-sign" ).removeClass( "icon-plus-sign" ).removeClass( "icon-white" );
						dt.addClass( "member-open" ).animate( "member-collapsed" );
					} else {
						icon.addClass( "icon-plus-sign" ).removeClass( "icon-minus-sign" ).addClass( "icon-white" );
						dt.addClass( "member-collapsed" ).removeClass( "member-open" );
					}
				} );
			} );

		} );
	} );
</script>


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html><html id="06055.config-odbc-gateway.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>配置Oracle Database Gateway for ODBC</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Installation and Configuration Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Installation and Configuration Guide for IBM AIX on POWER Systems (64-Bit), Linux x86-64, Oracle Solaris on SPARC (64-Bit), Oracle Solaris on x86-64 (64-Bit), and HP-UX Itanium"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-installation-and-configuration-guide-aix-5l-based-systems-64-bit-hp-ux-itanium-solaris-operating-system-sparc-64-bit-linux-x86-and-linux-x86-64.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T19:11:50-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18243-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="install-odbc-gateway.html" title="Previous" type="text/html"></link>
      <link rel="next" href="part-drda-gateway.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64"></meta>
    <meta name="dcterms.isVersionOf" content="OTGIS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="install-odbc-gateway.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="part-drda-gateway.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安装和配置指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-odbc-gateway.html" property="item" typeof="WebPage"><span property="name">安装和配置Oracle Database Gateway for ODBC</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置Oracle Database Gateway for ODBC</li>
            </ol>
            <a id="GUID-D76EBBA5-730F-401E-B0AE-718DF152A6A7" name="GUID-D76EBBA5-730F-401E-B0AE-718DF152A6A7"></a><a id="OTGIS110"></a>
            
            <h2 id="OTGIS-GUID-D76EBBA5-730F-401E-B0AE-718DF152A6A7" class="sect2"><span class="enumeration_chapter">11</span>为ODBC配置Oracle Database Gateway</h2>
         </header>
         <div class="ind">
            <div>
               <p>为非Oracle系统安装网关和ODBC驱动程序后，执行以下任务以配置Oracle Database Gateway for ODBC：</p>
               <ol>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-0D9C61E3-2E7C-4EED-A062-EEF6758D46F9">配置网关初始化参数文件</a></p>
                  </li>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-E4F4EA24-BE30-43AD-ADED-185647224273">为网关配置Oracle Net</a></p>
                  </li>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-21CAE4F1-EE8B-4249-B0D4-8E0C51ACA39F">配置Oracle数据库以进行网关访问</a></p>
                  </li>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-CF945DF0-5504-485D-AD4E-5181A3A104A5">创建数据库链接</a></p>
                  </li>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-CD0EB7AB-8149-421E-A5AB-AE97F1AAE3E9">加密网关初始化参数值</a></p>
                  </li>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-A30EB231-793C-4ECD-ABE4-BF2F44B82DD0">配置网关以访问多个ODBC数据源</a></p>
                  </li>
               </ol>
            </div><a id="OTGIS1045"></a><div class="props_rev_3"><a id="GUID-0D9C61E3-2E7C-4EED-A062-EEF6758D46F9" name="GUID-0D9C61E3-2E7C-4EED-A062-EEF6758D46F9"></a><h3 id="OTGIS-GUID-0D9C61E3-2E7C-4EED-A062-EEF6758D46F9" class="sect3">配置网关初始化参数文件</h3>
               <div>
                  <div class="section">
                     <p>执行以下任务以配置网关初始化文件：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-odbc-gateway.html#GUID-B5F907F0-25F9-4822-9D0A-E554BD366D21">创建初始化参数文件</a></span></li>
                     <li><span><a href="config-odbc-gateway.html#GUID-230BD462-58D6-47A7-B7FC-E1986E8929A5">设置初始化参数值</a></span></li>
                  </ol>
               </div><a id="OTGIS1046"></a><div class="props_rev_3"><a id="GUID-B5F907F0-25F9-4822-9D0A-E554BD366D21" name="GUID-B5F907F0-25F9-4822-9D0A-E554BD366D21"></a><h4 id="OTGIS-GUID-B5F907F0-25F9-4822-9D0A-E554BD366D21" class="sect4">创建初始化参数文件</h4>
                  <div>
                     <div class="section">
                        <p><a id="d31048e157" class="indexterm-anchor"></a><a id="d31048e161" class="indexterm-anchor"></a>您必须为Oracle Database Gateway for ODBC创建初始化文件。 Oracle提供了一个示例初始化文件<code class="codeph">initdg4odbc.ora</code> 。示例文件存储在<code class="codeph">$ORACLE_HOME/hs/admin</code>目录中。
                        </p>
                        <p>要为ODBC网关创建初始化文件，请复制样本初始化文件并将其重命名为<code class="codeph">init</code> <span class="italic"><code class="codeph">sid</code></span> <code class="codeph">.ora</code> ，其中<span class="italic"><code class="codeph">sid</code></span>是要用于网关的非Oracle系统实例的系统标识符（SID）连接。
                        </p>
                        <p>该<a id="d31048e190" class="indexterm-anchor"></a>网关系统标识符<a id="d31048e195" class="indexterm-anchor"></a> （SID）是标识网关实例的字母数字字符串。对于要访问的每个ODBC源，您需要一个网关实例，因此需要一个网关SID。
                        </p>
                        <p>如果要访问两个ODBC源，则需要两个网关SID，一个用于网关的每个实例。如果您只有一个ODBC源，但有时希望使用一组网关参数设置访问它，而其他时候使用不同的网关参数设置，那么您将需要多个网关SID用于单个ODBC源。SID用作初始化参数文件的文件名的一部分。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1047"></a><div class="props_rev_3"><a id="GUID-230BD462-58D6-47A7-B7FC-E1986E8929A5" name="GUID-230BD462-58D6-47A7-B7FC-E1986E8929A5"></a><h4 id="OTGIS-GUID-230BD462-58D6-47A7-B7FC-E1986E8929A5" class="sect4">设置初始化参数值</h4>
                  <div>
                     <div class="section">
                        <p>创建初始化文件后，必须设置初始化参数值。可以使用许多初始化参数来修改网关行为。您必须设置<code class="codeph">HS_FDS_CONNECT_INFO and</code> <code class="codeph">the HS_FDS_SHAREABLE_NAME</code>初始化参数。其他初始化参数具有默认值或是可选的。您可以使用默认值并省略可选参数，也可以使用为安装定制的值指定参数。有关可以设置的初始化参数的完整列表，请参阅<a href="initialization-parameters-for-gateways.html#GUID-82BEBA7B-5B1A-46F6-9ADC-7375C17A9E1F">初始化参数</a> 。对初始化参数所做的更改仅在下一个网关会话中生效。
                        </p>
                        <p><code class="codeph">HS_FDS_CONNECT_INFO</code>初始化参数指定连接到非Oracle系统所需的信息。设置<code class="codeph">HS_FDS_CONNECT_INFO</code>如下：</p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO = <span class="italic">dsn_value</span>
</pre><p>其中<span class="italic">dsn_value</span>是<code class="codeph">odbc.ini</code>文件中配置的数据源名称</p>
                        <p><code class="codeph">HS_FDS_SHAREABLE_NAME</code>初始化参数指定ODBC驱动程序管理器的完整路径。按如下方式设置<code class="codeph">HS_FDS_SHAREABLE_NAME</code> ：</p><pre class="oac_no_warn" dir="ltr">HS_FDS_SHAREABLE_NAME = <span class="italic">full_path_of_odbc_driver</span>
</pre><p>其中<code class="codeph">full_path_of_odbc_driver</code>是ODBC驱动程序管理器的完整路径</p>
                        <div class="infoboxnote" id="GUID-230BD462-58D6-47A7-B7FC-E1986E8929A5__GUID-ACB248FD-1178-4D67-8A5E-C1E0FBBA4098">
                           <p class="notep1">注意：</p>
                           <p>在决定是接受默认值还是更改默认值之前，请参阅<a href="initialization-parameters-for-gateways.html#GUID-82BEBA7B-5B1A-46F6-9ADC-7375C17A9E1F">初始化参数</a>以获取有关所有<a href="initialization-parameters-for-gateways.html#GUID-82BEBA7B-5B1A-46F6-9ADC-7375C17A9E1F">初始化参数</a>的详细信息。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="OTGIS1048"></a><div class="props_rev_3"><a id="GUID-5A82F911-E1D6-4464-9C28-E7267C05588D" name="GUID-5A82F911-E1D6-4464-9C28-E7267C05588D"></a><h5 id="OTGIS-GUID-5A82F911-E1D6-4464-9C28-E7267C05588D" class="sect5">示例：设置初始化参数值</h5>
                     <div>
                        <div class="section">
                           <p>以下是使用DataDirect Technologies SQLServer ODBC驱动程序的<code class="codeph">odbc.ini</code>文件的示例。ODBC驱动程序安装在<code class="codeph">$ODBCHOME</code> ，即<code class="codeph">/opt/odbc520</code>目录。
                           </p><pre class="oac_no_warn" dir="ltr">[ODBC数据源] SQLServerWP = DataDirect 5.20 SQL Server有线协议[SQLServerWP]驱动程序= / opt / odbc520 / lib / ivmsss18.so说明= DataDirect 5.20 SQL Server有线协议数据库= oratst LogonID = TKHOUSER密码= TKHOUSER地址= sqlserver-pc ，1433 QuotedId =是AnsiNPW =否[ODBC] Trace = 0 TraceFile = / opt / odbc520 / odbctrace.out TraceDll = / opt / odbc520 / lib / odbctrac.so InstallDir = / opt / odb520 ConversionTableLocation = / opt / odbc520 / tables UseCursorLib = 0</pre><p>要配置Gateway for ODBC以使用此驱动程序， <code class="codeph">init</code> <span class="italic"><code class="codeph">sid</code></span> <code class="codeph">.ora</code>中需要以下行：</p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO = SQLServerWP HS_FDS_SHAREABLE_NAME = / opt / odbc520 / lib / libodbc.so设置ODBCINI = / opt / odbc / odbc.ini</pre><p>如果您使用的ODBC驱动程序要求您设置一些环境变量，那么您可以在initizlization文件或环境中设置它们。</p>
                           <p><code class="codeph">HS_FDS_CONNECT_INFO</code>初始化参数值必须与<code class="codeph">odbc.ini</code>文件中的ODBC数据源名称匹配。
                           </p>
                           <div class="infoboxnote" id="GUID-5A82F911-E1D6-4464-9C28-E7267C05588D__GUID-5C1D7741-3979-4F71-AF63-05A4F1298F77">
                              <p class="notep1">注意：</p>
                              <p>如果ODBC驱动程序支持带引号的标识符或分隔标识符，则应该打开它。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="OTGIS1049"></a><div class="props_rev_3"><a id="GUID-E4F4EA24-BE30-43AD-ADED-185647224273" name="GUID-E4F4EA24-BE30-43AD-ADED-185647224273"></a><h3 id="OTGIS-GUID-E4F4EA24-BE30-43AD-ADED-185647224273" class="sect3">为网关配置Oracle Net</h3>
               <div>
                  <div class="section">
                     <p>网关要求Oracle Net与Oracle数据库通信。配置网关后，执行以下任务以配置Oracle Net以使用网关：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-odbc-gateway.html#GUID-3BDC76B5-5867-423C-8D56-8B84E03FC318">为网关配置Oracle Net Listener</a></span></li>
                     <li><span><a href="config-odbc-gateway.html#GUID-32187400-1FC2-4014-9193-9FE3ADC5A6A1">停止并启动Gateway的Oracle Net Listener</a></span></li>
                  </ol>
               </div><a id="OTGIS1050"></a><div class="props_rev_3"><a id="GUID-3BDC76B5-5867-423C-8D56-8B84E03FC318" name="GUID-3BDC76B5-5867-423C-8D56-8B84E03FC318"></a><h4 id="OTGIS-GUID-3BDC76B5-5867-423C-8D56-8B84E03FC318" class="sect4">为网关配置Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>Oracle Net Listener侦听来自Oracle数据库的传入请求。要使Oracle Net Listener监听网关，必须将有关网关的信息添加到Oracle Net Listener配置文件<code class="codeph">listener.ora</code> 。默认情况下，此文件位于<code class="codeph">$ORACLE_HOME</code> <code class="codeph">/network/admin</code> ，其中<code class="codeph">$ORACLE_HOME</code>是安装网关的目录。
                        </p>
                        <p>必须将以下条目添加到<code class="codeph">listener.ora</code>文件中：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Oracle Net Listener侦听的Oracle Net地址列表</p>
                           </li>
                           <li>
                              <p>Oracle Net Listener响应传入连接请求而启动的网关的可执行文件名</p>
                           </li>
                        </ul>
                        <p><code class="codeph">$ORACLE_HOME/hs/admin</code>目录中提供了<code class="codeph">listener.ora</code>条目（ <code class="codeph">listener.ora.sample</code> ）的示例，其中<code class="codeph">$</code> <code class="codeph">ORACLE_HOME</code>是安装网关的目录。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="OTGIS1051"></a><div class="props_rev_3"><a id="GUID-41DFC5F6-D431-44BB-8F3F-2B4C6A71C5FE" name="GUID-41DFC5F6-D431-44BB-8F3F-2B4C6A71C5FE"></a><h5 id="OTGIS-GUID-41DFC5F6-D431-44BB-8F3F-2B4C6A71C5FE" class="sect5">listener.ora文件条目的语法</h5>
                     <div>
                        <p>Oracle数据库使用Oracle Net和任何支持的协议适配器与网关通信。以下是Oracle Net Listener使用TCP / IP协议适配器侦听的地址的语法：</p><pre class="oac_no_warn" dir="ltr">LISTENER =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name</span> ）（PORT = <span class="italic">port_number</span> ））</pre><p>哪里：</p>
                        <div class="tblformal" id="GUID-41DFC5F6-D431-44BB-8F3F-2B4C6A71C5FE__GUID-95EC7E4E-AA83-446E-BC94-1BB2B60E3C26">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable definition" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d31048e540">变量</th>
                                    <th align="left" valign="bottom" width="75%" id="d31048e543">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d31048e548" headers="d31048e540 ">
                                       <p><span class="italic"><code class="codeph">主机名</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d31048e548 d31048e543 ">
                                       <p>是安装网关的计算机的名称。此版本支持IPv6格式。有关详细信息，请参阅<a href="../netrf/index.html" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d31048e562" headers="d31048e540 ">
                                       <p><span class="italic"><code class="codeph">端口号</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d31048e562 d31048e543 ">
                                       <p>指定Oracle Net Listener使用的端口号。如果在同一台机器上运行其他侦听器，则<span class="italic">port_number</span>的值必须与其他侦听器的端口号不同。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>要指示Oracle Net Listener启动网关以响应传入的连接请求，请在<code class="codeph">listener.ora</code>文件中添加一个条目。
                        </p>
                        <div class="infoboxnote" id="GUID-41DFC5F6-D431-44BB-8F3F-2B4C6A71C5FE__GUID-75A63062-7062-4915-9987-E4F8DF08E87A">
                           <p class="notep1">注意：</p>
                           <p>您必须在<code class="codeph">tnsnames.ora</code>文件和<code class="codeph">listener.ora</code>文件中使用相同的SID值。
                           </p>
                        </div>
                        <p>对于Linux：</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =（SID_NAME = <span class="italic">gateway_sid</span> ）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4odbc）（ENVS = LD_LIBRARY_PATH = <span class="italic">odbc_library_dir</span> ： <span class="italic">oracle_home_directory</span> / lib）））</pre><p>哪里：</p>
                        <div class="tblformal" id="GUID-41DFC5F6-D431-44BB-8F3F-2B4C6A71C5FE__GUID-5FF68023-9C23-4091-B3D5-3F8F32208081">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable definition" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d31048e613">变量</th>
                                    <th align="left" valign="bottom" width="75%" id="d31048e616">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d31048e621" headers="d31048e613 ">
                                       <p><span class="italic"><code class="codeph">gateway_sid</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d31048e621 d31048e616 ">
                                       <p>指定网关的SID，并匹配<code class="codeph">tnsnames.ora</code>文件中连接描述符条目中指定的网关SID。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d31048e633" headers="d31048e613 ">
                                       <p><span class="italic"><code class="codeph">oracle_home_directory</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d31048e633 d31048e616 ">
                                       <p>指定网关所在的Oracle主目录。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d31048e642" headers="d31048e613 ">
                                       <p><span class="italic"><code class="codeph">odbc_library_dir</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d31048e642 d31048e616 ">
                                       <p>指定ODBC驱动程序库路径</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d31048e651" headers="d31048e613 ">
                                       <p><code class="codeph">dg4odbc</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d31048e651 d31048e616 ">
                                       <p>指定用于ODBC的Oracle数据库网关的可执行文件名。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>如果您已有现有的Oracle Net Listener，请将以下语法添加到现有<code class="codeph">listener.ora</code>文件中的<code class="codeph">SID_LIST</code> ：</p>
                        <p>对于Linux：</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =。。）（SID_DESC =。。）（SID_DESC =（SID_NAME = <span class="italic">gateway_sid</span> ）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4odbc）（ENVS = LD_LIBRARY_PATH = <span class="italic">odbc_library_dir</span> ： <span class="italic"><code class="codeph">oracle_home_directory</code></span> / lib）））</pre><div class="infoboxnotealso" id="GUID-41DFC5F6-D431-44BB-8F3F-2B4C6A71C5FE__GUID-81C7C19E-37F9-4896-9B2A-05D11C40ED8D">
                           <p class="notep1">也可以看看：</p>
                           <p>有关更改<code class="codeph">listener.ora</code>文件的信息，请参见“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=NETAG294" target="_blank"><span class="italic">Oracle Net管理员指南”</span></a> 。
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="OTGIS1228"></a><a id="OTGIS1052"></a><div class="props_rev_3"><a id="GUID-32187400-1FC2-4014-9193-9FE3ADC5A6A1" name="GUID-32187400-1FC2-4014-9193-9FE3ADC5A6A1"></a><h4 id="OTGIS-GUID-32187400-1FC2-4014-9193-9FE3ADC5A6A1" class="sect4">停止并启动Gateway的Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>你必须停止并重新启动<a id="d31048e730" class="indexterm-anchor"></a> Oracle Net Listener启动新设置，如下所示：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>将<code class="codeph">PATH</code>环境变量设置为<code class="codeph">$ORACLE_HOME/bin</code> ，其中<code class="codeph">$ORACLE_HOME</code>是安装网关的目录。</span><div>
                              <p>例如，在Linux平台上，如果您有Bourne或Korn Shell，请输入以下内容：</p><pre class="oac_no_warn" dir="ltr">$ PATH = $ ORACLE_HOME / bin：$ PATH; export PATH $ LD_LIBRARY_PATH = $ ORACLE_HOME / lib：$ LD_LIBRARY_PATH; export LD_LIBRARY_PATH</pre><p>如果您有C Shell，请输入以下内容：</p><pre class="oac_no_warn" dir="ltr">$ setenv PATH $ ORACLE_HOME / bin：$ PATH $ setenv LD_LIBRARY_PATH $ ORACLE_HOME / lib：$ LD_LIBRARY_PATH</pre><p><a href="config-odbc-gateway.html#GUID-32187400-1FC2-4014-9193-9FE3ADC5A6A1__CIHHADFG" title="摘要">表11-1</a>指定了用于不同平台的参数值：</p>
                              <div class="tblformal" id="GUID-32187400-1FC2-4014-9193-9FE3ADC5A6A1__CIHHADFG">
                                 <p class="titleintable">表11-1基于UNIX的平台的ODBC数据库网关ODBC参数值</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="基于UNIX平台的Oracle Database Gateway for ODBC参数值" width="90%" border="1" summary="summary" frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="39%" id="d31048e773">平台</th>
                                          <th align="left" valign="bottom" width="61%" id="d31048e776">参数值</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d31048e781" headers="d31048e773 ">
                                             <p>Oracle Solaris（SPARC）64位和x86-64（64位）上的Oracle Solaris</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d31048e781 d31048e776 ">
                                             <p><code class="codeph">LD_LIBRARY_PATH_64 = $ ORACLE_HOME / lib目录</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d31048e789" headers="d31048e773 ">
                                             <p>HP-UX Itanium</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d31048e789 d31048e776 ">
                                             <p><code class="codeph">LD_LIBRARY_PATH = $ ORACLE_HOME / lib目录</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d31048e797" headers="d31048e773 ">
                                             <p>Linux x86 64位</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d31048e797 d31048e776 ">
                                             <p><code class="codeph">LD_LIBRARY_PATH = $ ORACLE_HOME / lib目录</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d31048e805" headers="d31048e773 ">
                                             <p>POWER Systems上的IBM AIX（64位）</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d31048e805 d31048e776 ">
                                             <p><code class="codeph">LIBPATH = $ ORACLE_HOME / lib目录</code></p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>如果侦听器已在运行，请使用<code class="codeph">lsnrctl</code>命令停止侦听器，然后使用新设置启动它，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">$ lsnrctl停止$ lsnrctl start</pre></div>
                        </li>
                        <li class="stepexpand"><span>使用新设置检查侦听器的状态，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">$ lsnrctl状态</pre><p>以下是<code class="codeph">lsnrctl</code>状态检查的部分输出。在此示例中， <code class="codeph">dg4odbc</code>是SID。</p>
                           </div>
                        </li>
                     </ol>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">。。。服务摘要......服务“dg4odbc”有1个实例。实例“dg4odbc”，状态为UNKNOWN，有1个此服务的处理程序...命令成功完成</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OTGIS1053"></a><div class="props_rev_3"><a id="GUID-21CAE4F1-EE8B-4249-B0D4-8E0C51ACA39F" name="GUID-21CAE4F1-EE8B-4249-B0D4-8E0C51ACA39F"></a><h3 id="OTGIS-GUID-21CAE4F1-EE8B-4249-B0D4-8E0C51ACA39F" class="sect3">配置Oracle数据库以进行网关访问</h3>
               <div>
                  <div class="section">
                     <p>在使用网关访问ODBC数据源之前，必须配置Oracle数据库以启用与Oracle Net上的网关通信。</p>
                     <p>要配置Oracle数据库，必须将连接描述符添加到<code class="codeph">tnsnames.ora</code>文件中。默认情况下，此文件位于<code class="codeph">$ORACLE_HOME/network/admin</code> ，其中<code class="codeph">$ORACLE_HOME</code>是安装Oracle数据库的目录。您无法使用Oracle Net Assistant或Oracle Net Easy Config工具来配置<code class="codeph">tnsnames.ora</code>文件。您必须手动编辑该文件。
                     </p>
                     <p><code class="codeph">$ORACLE_HOME/dg4odbc/admin</code>目录中提供了<code class="codeph">tnsmanes.ora</code>条目（ <code class="codeph">tnsnames.ora.sample</code> ）的示例，其中<code class="codeph">$</code> <code class="codeph">ORACLE_HOME</code>是安装网关的目录。
                     </p>
                     <div class="infoboxnotealso" id="GUID-21CAE4F1-EE8B-4249-B0D4-8E0C51ACA39F__GUID-A3125390-3023-4B73-B14F-D39B8BDC0FF2">
                        <p class="notep1">也可以看看：</p>
                        <p>有关编辑<code class="codeph">tnsnames.ora</code>文件的信息，请<code class="codeph">tnsnames.ora</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=NETAG256" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="OTGIS1054"></a><div class="props_rev_3"><a id="GUID-3D371F46-6B57-4E00-AB9F-BC1334B89F13" name="GUID-3D371F46-6B57-4E00-AB9F-BC1334B89F13"></a><h4 id="OTGIS-GUID-3D371F46-6B57-4E00-AB9F-BC1334B89F13" class="sect4">配置tnsnames.ora</h4>
                  <div>
                     <p>编辑<code class="codeph">tnsnames.ora</code>文件以添加网关的连接描述符。以下是使用TCP / IP协议的Oracle Net条目的语法：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">connect_descriptor</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name</span> ）（PORT = <span class="italic">port_number</span> ））（CONNECT_DATA =（SID = <span class="italic">gateway_sid</span> ））（HS = OK））</pre><p>哪里：</p>
                     <div class="tblformal" id="GUID-3D371F46-6B57-4E00-AB9F-BC1334B89F13__GUID-E654DDDB-0D15-4DB8-ABA6-85471B872915">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable definition" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d31048e975">变量</th>
                                 <th align="left" valign="bottom" width="75%" id="d31048e978">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d31048e983" headers="d31048e975 ">
                                    <p><span class="italic"><code class="codeph">connect_descriptor</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d31048e983 d31048e978 ">
                                    <p>是创建数据库链接时指定的要连接的对象的描述，例如<code class="codeph">dg4odbc</code> 。
                                    </p>
                                    <p></p>
                                    <p>检查sqlnet.ora文件以获取以下参数设置：</p>
                                    <p><code class="codeph">names.directory_path</code> = <code class="codeph">(TNSNAMES)</code> 
                                    </p>
                                    <p>注意： <code class="codeph">sqlnet.ora</code>文件通常存储在<code class="codeph">$ORACLE_HOME</code> <code class="codeph">/network/admin</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d31048e1015" headers="d31048e975 ">
                                    <p><code class="codeph">TCP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d31048e1015 d31048e978 ">
                                    <p>是用于TCP / IP连接的TCP协议。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d31048e1023" headers="d31048e975 ">
                                    <p><span class="italic"><code class="codeph">主机名</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d31048e1023 d31048e978 ">
                                    <p>指定运行网关的计算机。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d31048e1032" headers="d31048e975 ">
                                    <p><span class="italic"><code class="codeph">端口号</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d31048e1032 d31048e978 ">
                                    <p>匹配正在侦听网关的Oracle Net Listener使用的端口号。Oracle Net Listener的端口号可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。请参阅<a href="config-odbc-gateway.html#GUID-41DFC5F6-D431-44BB-8F3F-2B4C6A71C5FE">listener.ora文件条目的语法</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d31048e1048" headers="d31048e975 ">
                                    <p><span class="italic"><code class="codeph">gateway_sid</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d31048e1048 d31048e978 ">
                                    <p>指定网关的SID，并匹配正在侦听网关的Oracle Net Listener的<code class="codeph">listener.ora</code>文件中指定的SID。有关更多信息，请参阅<a href="config-odbc-gateway.html#GUID-3BDC76B5-5867-423C-8D56-8B84E03FC318">为网关配置Oracle Net Listener</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d31048e1064" headers="d31048e975 ">
                                    <p><code class="codeph">（HS = OK）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d31048e1064 d31048e978 ">
                                    <p>指定此连接描述符连接到非Oracle系统。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="OTGIS1281"></a><div class="props_rev_3"><a id="GUID-4DE3CB96-8CCE-4526-8DE0-083872680367" name="GUID-4DE3CB96-8CCE-4526-8DE0-083872680367"></a><h4 id="OTGIS-GUID-4DE3CB96-8CCE-4526-8DE0-083872680367" class="sect4">为多个侦听器配置tnsnames.ora</h4>
                  <div>
                     <div class="section">
                        <p>要确保更高的可用性，您可以指定多个<a id="d31048e1118" class="indexterm-anchor"></a> connect de scriptor中的监听器。
                        </p><pre class="oac_no_warn" dir="ltr"> <a id="d31048e1126" class="indexterm-anchor"></a> <span class="italic">connect_descriptor</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name_1</span> ）（PORT = <span class="italic">port_number_1</span> ））（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name_2</span> ）（PORT = <span class="italic">port_number_2</span> ））（CONNECT_DATA =（SID = <span class="italic">gateway_sid</span> ））（HS = OK））</pre><p>这表明，如果<span class="italic"><code class="codeph">host_name_1</code></span>和<span class="italic"><code class="codeph">port_number_1</code></span>的侦听器不可用，则<span class="italic"><code class="codeph">host_name_2</code></span>和<span class="italic"><code class="codeph">port_number_2</code></span>的第二个侦听器将接管。
                        </p>
                        <div class="infoboxnotealso" id="GUID-4DE3CB96-8CCE-4526-8DE0-083872680367__GUID-CA09A024-0648-4771-B0C3-1697DC87102B">
                           <p class="notep1">也可以看看：</p>
                           <p>有关编辑<code class="codeph">tnsnames.ora</code>文件的信息，请<code class="codeph">tnsnames.ora</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=NETAG256" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OTGIS1055"></a><div class="props_rev_3"><a id="GUID-CF945DF0-5504-485D-AD4E-5181A3A104A5" name="GUID-CF945DF0-5504-485D-AD4E-5181A3A104A5"></a><h3 id="OTGIS-GUID-CF945DF0-5504-485D-AD4E-5181A3A104A5" class="sect3">创建数据库链接</h3>
               <div>
                  <div class="section">
                     <p>连接到Oracle数据库的任何Oracle客户端都可以通过网关访问ODBC数据源。Oracle客户端和Oracle数据库可以驻留在不同的计算机上。网关仅接受来自Oracle数据库的连接。</p>
                     <p>首次在Oracle会话中使用时，通过数据库链接建立与网关的连接。在此上下文中，连接是指Oracle数据库与网关之间的连接。在Oracle会话结束之前，连接将保持建立状态。另一个会话或用户可以访问相同的数据库链接，并获得与网关和ODBC数据源的不同连接。</p>
                     <p>数据库链接在网关会话期间处于活动状态。如果要在会话期间关闭数据库链接，可以使用<code class="codeph">ALTER SESSION</code>语句执行此操作。
                     </p>
                     <p>要访问ODBC数据源，您必须创建数据库链接。公共数据库链接是最常见的数据库链接。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK <span class="italic">dblink</span> CONNECT TO 2“ <span class="italic">user”</span> IDENTIFIED BY <span class="italic">“password”</span> <span class="italic">USING'tns_name_entry</span> ';</pre><p>哪里：</p>
                     <div class="tblformal" id="GUID-CF945DF0-5504-485D-AD4E-5181A3A104A5__GUID-30CE0834-A74A-48E7-B289-C69DC2B8F4B8">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable definition" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d31048e1250">变量</th>
                                 <th align="left" valign="bottom" width="75%" id="d31048e1253">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d31048e1258" headers="d31048e1250 ">
                                    <p><span class="italic"><code class="codeph">DBLINK</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d31048e1258 d31048e1253 ">
                                    <p>是完整的数据库链接名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d31048e1267" headers="d31048e1250 ">
                                    <p><span class="italic"><code class="codeph">tns_name_entry</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d31048e1267 d31048e1253 ">
                                    <p>指定<code class="codeph">tnsnames.ora</code>文件中指定的标识网关的Oracle Net连接描述符</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>创建数据库链接后，您可以验证与ODBC数据源的连接，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM DUAL @dblink;</pre><div class="infoboxnotealso" id="GUID-CF945DF0-5504-485D-AD4E-5181A3A104A5__GUID-A042CD13-3D00-418E-B39C-F1BE84B425E3">
                        <p class="notep1">也可以看看：</p>
                        <p>有关使用数据库链接的详细信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=ADMIN12083" target="_blank"><span><cite>参见Oracle数据库管理员指南</cite></span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OTGIS1056"></a><div class="props_rev_3"><a id="GUID-CD0EB7AB-8149-421E-A5AB-AE97F1AAE3E9" name="GUID-CD0EB7AB-8149-421E-A5AB-AE97F1AAE3E9"></a><h3 id="OTGIS-GUID-CD0EB7AB-8149-421E-A5AB-AE97F1AAE3E9" class="sect3">加密网关初始化参数值</h3>
               <div>
                  <p>网关使用用户标识和密码来访问远程数据库中的信息。必须在网关初始化文件中定义一些用户标识和密码，以处理资源恢复等功能。在当前具有安全意识的环境中，具有可在初始化文件中访问的纯文本密码被认为是不安全的。<code class="codeph">dg4pwd</code>加密实用程序已添加为异构服务的一部分，以帮助提高安全性。此网关可以访问此实用程序。包含敏感值的初始化参数可以以加密形式存储。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CD0EB7AB-8149-421E-A5AB-AE97F1AAE3E9__GUID-E6BD4EF1-77EF-472A-9DC9-C15DB5FB61E8">
                     <p class="notep1">也可以看看：</p>
                     <p>有关使用此实用程序的详细信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=HETER4010" target="_blank"><span class="italic">参见“Oracle数据库异构连接用户指南”</span></a> 。
                     </p>
                  </div>
               </div>
            </div><a id="OTGIS1057"></a><div class="props_rev_3"><a id="GUID-A30EB231-793C-4ECD-ABE4-BF2F44B82DD0" name="GUID-A30EB231-793C-4ECD-ABE4-BF2F44B82DD0"></a><h3 id="OTGIS-GUID-A30EB231-793C-4ECD-ABE4-BF2F44B82DD0" class="sect3">配置网关以访问多个ODBC数据源</h3>
               <div>
                  <p>配置网关以访问多个ODBC数据源的任务类似于为单个数据源配置网关的任务。配置示例假定以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>网关安装并配置了SID为<code class="codeph">dg4odbc</code> 。
                        </p>
                     </li>
                     <li>
                        <p>网关配置为访问名为<code class="codeph">dsn1</code>一个ODBC数据源。
                        </p>
                     </li>
                     <li>
                        <p>正在添加两个名为dsn2和dsn3的ODBC数据源，其中dsn2和dsn3是odbc.ini文件中配置的数据源名称。</p>
                     </li>
                  </ul>
               </div><a id="OTGIS1229"></a><a id="OTGIS1230"></a><a id="OTGIS1058"></a><div class="props_rev_3"><a id="GUID-5C7138AC-C33C-46E5-8CC2-CC33BDEAEB9A" name="GUID-5C7138AC-C33C-46E5-8CC2-CC33BDEAEB9A"></a><h4 id="OTGIS-GUID-5C7138AC-C33C-46E5-8CC2-CC33BDEAEB9A" class="sect4">多个ODBC数据源示例：配置网关</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-5C7138AC-C33C-46E5-8CC2-CC33BDEAEB9A__GUID-94D450E8-B3EB-43C4-ACB2-34B75B83E9F0">为每个ODBC数据源选择一个系统ID</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>每个ODBC数据源都需要一个单独的网关实例。每个实例都需要自己的网关系统ID（SID）。对于此示例，为访问ODBC数据源的实例选择网关SID：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">dg4odbc2</code>用于访问数据源<code class="codeph">dsn2</code>的网关。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">dg4odbc3</code>用于访问数据源<code class="codeph">dsn3</code>的网关。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5C7138AC-C33C-46E5-8CC2-CC33BDEAEB9A__GUID-026010BB-14B5-4B4C-B574-37D18895E4A6">创建两个初始化参数文件</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>通过复制原来的初始化参数文件创建用于网关的每个实例的初始化参数文件<code class="codeph">$ORACLE_HOME</code> <code class="codeph">/hs/admin/initdg4odbc.ora</code> ，两次，命名一个与网关SID为<code class="codeph">dsn2</code>和其他与网关的SID <code class="codeph">dsn3</code> ：</p><pre class="oac_no_warn" dir="ltr">$ cd ORACLE_HOME / hs / admin $ cp initdg4odbc.ora initdg4odbc2.ora $ cp initdg4odbc.ora initdg4odbc3.ora</pre><p>更改新文件中<code class="codeph">HS_FDS_CONNECT_INFO</code>参数的值，如下所示：</p>
                        <p>对于<code class="codeph">initdg4odbc2.ora</code> ，请输入以下内容：</p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO = DSN2</pre><p>对于<code class="codeph">initdg4odbc3.ora</code> ，请输入以下内容：</p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO = dsn3</pre><div class="infoboxnote" id="GUID-5C7138AC-C33C-46E5-8CC2-CC33BDEAEB9A__GUID-9AEA983A-E1B1-4A71-B1B9-0ED943995939">
                           <p class="notep1">注意：</p>
                           <p>如果您有相同ODBC数据源的多个网关SID，因为您希望在不同时间使用不同的网关参数设置，请遵循相同的过程。您可以创建多个初始化参数文件，每个文件具有不同的SID和不同的参数设置。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1231"></a><a id="OTGIS1059"></a><div class="props_rev_3"><a id="GUID-B174B3FC-04F2-493D-B550-00AB7E3C5684" name="GUID-B174B3FC-04F2-493D-B550-00AB7E3C5684"></a><h4 id="OTGIS-GUID-B174B3FC-04F2-493D-B550-00AB7E3C5684" class="sect4">多个ODBC数据源示例：配置Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-B174B3FC-04F2-493D-B550-00AB7E3C5684__GUID-2452C4FE-7B6E-4B3C-A564-CDC02BDC2A11">将条目添加到listener.ora</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在Oracle Net Listener配置文件中添加两个新条目， <span class="bold"> </span> <code class="codeph">listener.ora</code> 。即使多个网关实例访问同一数据库，您也必须为每个网关实例提供一个条目。
                        </p>
                        <p>以下示例首先显示原始安装网关的条目，然后显示新条目。</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =（SID_NAME = dg4odbc）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4odbc）（ENVS = LD_LIBRARY_PATH = <span class="italic">odbc_library_dir</span> ： <span class="italic"><code class="codeph">oracle_home_directory</code></span> / lib））（SID_DESC =（SID_NAME = dg4odbc2）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4odbc）（ENVS = LD_LIBRARY_PATH = <span class="italic">odbc_library_dir</span> ： <span class="italic"><code class="codeph">oracle_home_directory</code></span> / lib））（SID_DESC =（SID_NAME = dg4odbc3）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4odbc）（ENVS = LD_LIBRARY_PATH = <span class="italic">odbc_library_dir</span> ： <span class="italic"><code class="codeph">oracle_home_directory</code></span> / lib）））</pre><p>其中， <code class="codeph">oracle_home_directory</code>是网关所在的目录。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1060"></a><div class="props_rev_3"><a id="GUID-71EEAA8E-8ECB-4EA8-B416-646F6CC07292" name="GUID-71EEAA8E-8ECB-4EA8-B416-646F6CC07292"></a><h4 id="OTGIS-GUID-71EEAA8E-8ECB-4EA8-B416-646F6CC07292" class="sect4">多个ODBC数据源示例：停止和启动Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>如果侦听器已在运行，请使用<code class="codeph">lsnrctl</code>命令停止侦听器，然后使用新设置启动它，如下所示：</p><pre class="oac_no_warn" dir="ltr">$ lsnrctl停止$ lsnrctl start</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1061"></a><div class="props_rev_3"><a id="GUID-FFA3AC98-B3BB-4EB6-9C20-707699C8E895" name="GUID-FFA3AC98-B3BB-4EB6-9C20-707699C8E895"></a><h4 id="OTGIS-GUID-FFA3AC98-B3BB-4EB6-9C20-707699C8E895" class="sect4">多个ODBC数据源示例：为网关访问配置Oracle数据库</h4>
                  <div>
                     <div class="section">
                        <p>将两个连接描述符条目添加到<code class="codeph">tnsnames.ora</code>文件中。即使网关实例访问同一数据库，您也必须为每个网关实例创建一个条目。
                        </p>
                        <p>以下示例首先显示原始安装网关的条目，然后显示新网关实例的两个条目：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">old_dsn_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name））（CONNECT_DATA =（SID = dg4odbc））（HS = OK）） <span class="italic">new_dsn2_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name））（CONNECT_DATA =（SID = dg4odbc2））（HS = OK）） <span class="italic">new_dsn3_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name ））（CONNECT_DATA =（SID = dg4odbc3））（HS = OK））</pre><p><code class="codeph">PORT</code>的值是正在侦听网关的Oracle Net Listener的TCP / IP端口号。该数字可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。<code class="codeph">HOST</code>的值是运行网关的计算机的名称。该名称也可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1062"></a><div class="props_rev_3"><a id="GUID-66051131-C323-4315-9FA6-16D657A4D386" name="GUID-66051131-C323-4315-9FA6-16D657A4D386"></a><h4 id="OTGIS-GUID-66051131-C323-4315-9FA6-16D657A4D386" class="sect4">多个ODBC数据源示例：访问ODBC数据</h4>
                  <div>
                     <div class="section">
                        <p>输入以下内容<code class="codeph">dg4odbc2</code>网关创建数据库链接：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK ODBC2 CONNECT TO 2“ <span class="italic">user2”</span> IDENTIFIED BY“ <span class="italic">password2</span> ”USING'new_dsn2_using';</pre><p>输入以下内容<code class="codeph">dg4odbc3</code>网关创建数据库链接：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK ODBC3 CONNECT TO 2“ <span class="italic">user3”</span> IDENTIFIED BY <span class="italic">“password3</span> ”USING'new_dsn3_using';</pre><p>创建数据库链接后，您可以验证与新ODBC数据源的连接，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM ALL_USERS @ ODBC2;</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM ALL_USERS @ ODBC3;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="02880.configuring-thin-jdbc-client-network.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Database native network encryption and strong authentication enables thin Java Database Connectivity (JDBC) clients to securely connect to Oracle databases."></meta>
      <meta name="description" content="Oracle Database native network encryption and strong authentication enables thin Java Database Connectivity (JDBC) clients to securely connect to Oracle databases."></meta>
      <title>配置瘦JDBC客户端网络</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Security Guide "></meta>
      <meta property="og:description" content="Oracle Database native network encryption and strong authentication enables thin Java Database Connectivity (JDBC) clients to securely connect to Oracle databases."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Security Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-security-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-28T14:57:12-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96299-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-network-data-encryption-and-integrity.html" title="Previous" type="text/html"></link>
      <link rel="next" href="part_5.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Security Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBSEG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-network-data-encryption-and-integrity.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="part_5.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安全指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part_4.html" property="item" typeof="WebPage"><span property="name">保护网络上的数据</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置瘦JDBC客户端网络</li>
            </ol>
            <a id="GUID-0F1BD5F3-7004-4BDF-A12D-F7C0A3F06361" name="GUID-0F1BD5F3-7004-4BDF-A12D-F7C0A3F06361"></a><a id="DBSEG030"></a>
            
            <h2 id="DBSEG-GUID-0F1BD5F3-7004-4BDF-A12D-F7C0A3F06361" class="sect2"><span class="enumeration_chapter">17</span>配置瘦JDBC客户端网络</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle数据库本机网络加密和强身份验证使瘦Java数据库连接（JDBC）客户端能够安全地连接到Oracle数据库。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="configuring-thin-jdbc-client-network.html#GUID-F3419552-B012-423F-BB02-560BDA629611">关于Java实现</a><br>Oracle数据库提供本机网络加密和强身份验证的Java实现。
                  </li>
                  <li class="ulchildlink"><a href="configuring-thin-jdbc-client-network.html#GUID-CE6E229E-532A-4C58-A1EC-0D48F756A198">Java数据库连接支持</a><br>JDBC是一种行业标准的Java接口，是一种Java标准，用于从Java程序连接到关系数据库。
                  </li>
                  <li class="ulchildlink"><a href="configuring-thin-jdbc-client-network.html#GUID-D230B84F-0EA0-4A02-ACC0-77610DE5F307">精简JDBC功能</a><br>Thin JDBC驱动程序提供安全功能，如强身份验证，数据加密和数据完整性检查。
                  </li>
                  <li class="ulchildlink"><a href="configuring-thin-jdbc-client-network.html#GUID-3F8757A1-0A3F-4097-A64A-3F3534161CAC">实施概述</a><br>在服务器端，算法协商和密钥生成功能与Oracle数据库本机加密完全相同。
                  </li>
                  <li class="ulchildlink"><a href="configuring-thin-jdbc-client-network.html#GUID-31465C42-71F1-4EE0-A2CE-BC190E64C9DB">Java密码术代码的混淆</a><br>Java加密代码的混淆使用混淆软件保护包含加密和解密功能的Java类和方法。
                  </li>
                  <li class="ulchildlink"><a href="configuring-thin-jdbc-client-network.html#GUID-E6D66328-8F0B-4436-9DE7-72B42A708B1A">瘦JDBC网络实现的配置参数</a><br>客户端的瘦JDBC网络实现提供控制加密，完整性和身份验证服务的参数。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part_4.html" title="第IV部分介绍了如何保护网络上的数据。">保护网络上的数据</a></p>
                  </div>
               </div>
            </div>
            <a id="DBSEG9602"></a><div class="props_rev_3"><a id="GUID-F3419552-B012-423F-BB02-560BDA629611" name="GUID-F3419552-B012-423F-BB02-560BDA629611"></a><h3 id="DBSEG-GUID-F3419552-B012-423F-BB02-560BDA629611" class="sect3">关于Java实现</h3>
               <div>
                  <p>Oracle数据库提供本机网络加密和强身份验证的Java实现。</p>
                  <p>Oracle数据库本机网络加密和强身份验证的Java实现为必须与具有Oracle数据库本机网络加密和配置的强身份验证的Oracle数据库通信的瘦JDBC客户端提供网络身份验证，加密和完整性保护。</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-F3419552-B012-423F-BB02-560BDA629611__GUID-C909BE61-2D41-4E8E-91A9-493F5C0CF0D5">
                     <p class="notep1">也可以看看：</p><a href="../jjdbc/introducing-JDBC.html#JJDBC28025" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南</span></a> ，了解有关JDBC的信息，包括示例</div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-thin-jdbc-client-network.html#GUID-0F1BD5F3-7004-4BDF-A12D-F7C0A3F06361" title="Oracle数据库本机网络加密和强身份验证使瘦Java数据库连接（JDBC）客户端能够安全地连接到Oracle数据库。">配置瘦JDBC客户端网络</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG9603"></a><div class="props_rev_3"><a id="GUID-CE6E229E-532A-4C58-A1EC-0D48F756A198" name="GUID-CE6E229E-532A-4C58-A1EC-0D48F756A198"></a><h3 id="DBSEG-GUID-CE6E229E-532A-4C58-A1EC-0D48F756A198" class="sect3">Java数据库连接支持</h3>
               <div>
                  <p>JDBC是一种行业标准的Java接口，是一种Java标准，用于从Java程序连接到关系数据库。</p>
                  <p>Sun Microsystems定义了JDBC标准，Oracle使用自己的JDBC驱动程序实现并扩展了标准。</p>
                  <p>Oracle JDBC驱动程序用于创建<a href="glossary.html#GUID-28257ADC-6496-4852-9246-34C28EAEE786"><span class="xrefglossterm">Java数据库连接（JDBC）</span></a>应用程序以与Oracle数据库通信。Oracle实现了两种类型的JDBC驱动程序：基于C的Oracle Net客户端构建的胖JDBC驱动程序，以及支持可下载applet的Thin（纯Java）JDBC驱动程序。JDBC的JDBC扩展包括以下功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数据访问和操作</p>
                     </li>
                     <li>
                        <p>LOB访问和操作</p>
                     </li>
                     <li>
                        <p>Oracle对象类型映射</p>
                     </li>
                     <li>
                        <p>对象引用访问和操作</p>
                     </li>
                     <li>
                        <p>数组访问和操作</p>
                     </li>
                     <li>
                        <p>应用性能增强</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-thin-jdbc-client-network.html#GUID-0F1BD5F3-7004-4BDF-A12D-F7C0A3F06361" title="Oracle数据库本机网络加密和强身份验证使瘦Java数据库连接（JDBC）客户端能够安全地连接到Oracle数据库。">配置瘦JDBC客户端网络</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG9604"></a><div class="props_rev_3"><a id="GUID-D230B84F-0EA0-4A02-ACC0-77610DE5F307" name="GUID-D230B84F-0EA0-4A02-ACC0-77610DE5F307"></a><h3 id="DBSEG-GUID-D230B84F-0EA0-4A02-ACC0-77610DE5F307" class="sect3">精简JDBC功能</h3>
               <div>
                  <p>Thin JDBC驱动程序提供安全功能，如强身份验证，数据加密和数据完整性检查。</p>
                  <p>由于Thin JDBC驱动程序旨在与可通过Internet使用的可下载applet一起使用，因此Oracle设计了100％Java实现的Oracle Database本机网络加密和强大的身份验证，加密和完整性算法，以便与瘦客户端一起使用。</p>
                  <p>Oracle数据库为Thin JDBC提供以下功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>强认证</p>
                     </li>
                     <li>
                        <p>数据加密</p>
                     </li>
                     <li>
                        <p>数据完整性检查</p>
                     </li>
                     <li>
                        <p>从Thin JDBC客户端到Oracle RDBMS的安全连接</p>
                     </li>
                     <li>
                        <p>开发人员能够构建通过安全通信渠道传输数据的applet</p>
                     </li>
                     <li>
                        <p>使用Java Server Pages（JSP）从中间层服务器到Oracle RDBMS的安全连接</p>
                     </li>
                     <li>
                        <p>保护从当前版本的Oracle数据库到旧版Oracle数据库的连接</p>
                     </li>
                  </ul>
                  <p>Oracle JDBC Thin驱动程序支持Oracle Database SSL实现和第三方身份验证方法，如RADIUS和Kerberos。Oracle Database 11g第1版（11.1）中引入了对RADIUS，Kerberos和SSL等身份验证方法的精简JDBC支持。</p>
                  <p>Oracle数据库本机网络加密和强身份验证Java实现提供以下加密算法的Java版本：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">AES256</code> ：AES 256位密钥</p>
                     </li>
                     <li>
                        <p><code class="codeph">AES192</code> ：AES 192位密钥</p>
                     </li>
                     <li>
                        <p><code class="codeph">AES128</code> ：AES 128位密钥</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-D230B84F-0EA0-4A02-ACC0-77610DE5F307__GUID-D8B3D966-2430-4350-9A58-2BEA522E4261">
                     <p class="notep1">注意：</p>
                     <p>在前面的算法列表中，CBC指的是密码块链接模式。</p>
                  </div>
                  <p>Oracle Database 12c第1版（12.1）中引入了对高级加密标准（AES）的精简JDBC支持。</p>
                  <p>此外，此实现还使用安全散列算法（ <code class="codeph">SHA1</code> ）和消息摘要5（ <code class="codeph">MD5</code> ）为Thin JDBC提供数据完整性检查。Oracle Database <span class="italic">11g第</span> 1版（11.1）中引入了对<code class="codeph">SHA1</code>精简JDBC支持。
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-D230B84F-0EA0-4A02-ACC0-77610DE5F307__GUID-A524BC1E-7785-4D5F-9E43-610A5F03EE81">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../jjdbc/client-side-security.html#JJDBC28295" target="_blank"><span><cite>“Oracle数据库JDBC开发人员指南”</cite></span></a> ，详细介绍了如何为瘦JDBC客户端配置身份验证，加密和完整性。
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-thin-jdbc-client-network.html#GUID-0F1BD5F3-7004-4BDF-A12D-F7C0A3F06361" title="Oracle数据库本机网络加密和强身份验证使瘦Java数据库连接（JDBC）客户端能够安全地连接到Oracle数据库。">配置瘦JDBC客户端网络</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG9605"></a><div class="props_rev_3"><a id="GUID-3F8757A1-0A3F-4097-A64A-3F3534161CAC" name="GUID-3F8757A1-0A3F-4097-A64A-3F3534161CAC"></a><h3 id="DBSEG-GUID-3F8757A1-0A3F-4097-A64A-3F3534161CAC" class="sect3">实施概述</h3>
               <div>
                  <p>在服务器端，算法协商和密钥生成功能与Oracle数据库本机加密完全相同。</p>
                  <p>此功能可实现客户端和服务器的向后和向前兼容性。</p>
                  <p>在客户端，算法协商和密钥生成以与OCI客户端完全相同的方式发生。客户端和服务器协商加密算法，生成随机数，使用Diffie-Hellman交换会话密钥，并使用Oracle密码协议，方式与传统的Oracle Net客户端相同。精简JDBC包含纯Java中Oracle Net客户端的完整实现。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-thin-jdbc-client-network.html#GUID-0F1BD5F3-7004-4BDF-A12D-F7C0A3F06361" title="Oracle数据库本机网络加密和强身份验证使瘦Java数据库连接（JDBC）客户端能够安全地连接到Oracle数据库。">配置瘦JDBC客户端网络</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG9606"></a><div class="props_rev_3"><a id="GUID-31465C42-71F1-4EE0-A2CE-BC190E64C9DB" name="GUID-31465C42-71F1-4EE0-A2CE-BC190E64C9DB"></a><h3 id="DBSEG-GUID-31465C42-71F1-4EE0-A2CE-BC190E64C9DB" class="sect3">Java密码术代码的混淆</h3>
               <div>
                  <p>Java加密代码的混淆使用混淆软件保护包含加密和解密功能的Java类和方法。</p>
                  <p>Java字节码<a href="glossary.html#GUID-23589056-B739-4D28-9EF7-712493D95720"><span class="xrefglossterm">混淆器</span></a>是一种经常用于保护以Java程序形式编写的知识产权的过程。它混合了代码中的Java符号。该过程使原始程序结构保持不变，让程序在更改类，方法和变量的名称时正确运行，以隐藏预期的行为。虽然可以反编译和读取非混淆的Java代码，但混淆的Java代码很难反编译以满足美国政府的出口控制。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-thin-jdbc-client-network.html#GUID-0F1BD5F3-7004-4BDF-A12D-F7C0A3F06361" title="Oracle数据库本机网络加密和强身份验证使瘦Java数据库连接（JDBC）客户端能够安全地连接到Oracle数据库。">配置瘦JDBC客户端网络</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG9607"></a><div class="props_rev_3"><a id="GUID-E6D66328-8F0B-4436-9DE7-72B42A708B1A" name="GUID-E6D66328-8F0B-4436-9DE7-72B42A708B1A"></a><h3 id="DBSEG-GUID-E6D66328-8F0B-4436-9DE7-72B42A708B1A" class="sect3">瘦JDBC网络实现的配置参数</h3>
               <div>
                  <p>客户端的瘦JDBC网络实现提供控制加密，完整性和身份验证服务的参数。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-thin-jdbc-client-network.html#GUID-0E85A4D0-F529-48FE-A86B-4BBDE7CA123D">关于精简JDBC网络实施配置参数</a><br>JDBC网络实现配置参数控制网络设置，例如客户端和服务器连接之间使用的安全级别。
                     </li>
                     <li class="ulchildlink"><a href="configuring-thin-jdbc-client-network.html#GUID-96B18FF8-611F-46BC-B7D3-217023234BCB">客户端加密级别参数</a><br><code class="codeph">CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_LEVEL</code>参数定义客户端用于与服务器协商的安全级别。
                     </li>
                     <li class="ulchildlink"><a href="configuring-thin-jdbc-client-network.html#GUID-F1ECCDB6-2093-4397-9230-4EA542BFD4DA">客户端加密选择列表参数</a><br><code class="codeph">CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_TYPES</code>参数定义要使用的加密算法。
                     </li>
                     <li class="ulchildlink"><a href="configuring-thin-jdbc-client-network.html#GUID-45B03F04-5194-4591-8708-99437F8129CC">客户端完整性级别参数</a><br><code class="codeph">CONNECTION_PROPERTY_THIN_NET_CHECKSUM_LEVEL</code>参数定义与服务器协商以确保数据完整性的安全级别。
                     </li>
                     <li class="ulchildlink"><a href="configuring-thin-jdbc-client-network.html#GUID-0576477B-9676-4570-AAFE-431D7D44DDE1">客户端完整性选择列表参数</a><br><code class="codeph">CONNECTION_PROPERTY_THIN_NET_CHECKSUM_TYPES</code>参数定义要使用的数据完整性算法。
                     </li>
                     <li class="ulchildlink"><a href="configuring-thin-jdbc-client-network.html#GUID-EC5EC4BF-2872-45E0-9DF4-6ED5ACD93A63">客户端认证服务参数</a><br><code class="codeph">CONNECTION_PROPERTY_THIN_NET_AUTHENTICATION_SERVICES</code>参数确定要使用的身份验证服务。
                     </li>
                     <li class="ulchildlink"><a href="configuring-thin-jdbc-client-network.html#GUID-00927EC4-7F7F-4FB9-AB6F-3C98EDFDD025">AnoServices常量</a><br><code class="codeph">oracle.net.ano.AnoServices</code>接口包括JDBC Thin驱动程序支持的加密，身份验证和校验和算法的名称。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-thin-jdbc-client-network.html#GUID-0F1BD5F3-7004-4BDF-A12D-F7C0A3F06361" title="Oracle数据库本机网络加密和强身份验证使瘦Java数据库连接（JDBC）客户端能够安全地连接到Oracle数据库。">配置瘦JDBC客户端网络</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG1050"></a><div class="props_rev_3"><a id="GUID-0E85A4D0-F529-48FE-A86B-4BBDE7CA123D" name="GUID-0E85A4D0-F529-48FE-A86B-4BBDE7CA123D"></a><h4 id="DBSEG-GUID-0E85A4D0-F529-48FE-A86B-4BBDE7CA123D" class="sect4">关于精简JDBC网络实施配置参数</h4>
                  <div>
                     <p>JDBC网络实现配置参数控制网络设置，例如客户端和服务器连接之间使用的安全级别。</p>
                     <p>包含多个配置参数的属性类对象将传递到Oracle数据库本机网络加密和强身份验证接口。</p>
                     <p>所有JDBC连接属性（包括与Oracle数据库有关的属性）都在<code class="codeph">oracle.jdbc.中定义为常量<code class="codeph">oracle.jdbc.OracleConnection</code>接口。以下列表列举了其中一些连接属性：</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-0E85A4D0-F529-48FE-A86B-4BBDE7CA123D__GUID-FBA3532B-427E-4F83-8882-3DEBC3B7C33F">
                        <p class="notep1">也可以看看：</p>
                        <p>有关配置参数和配置示例的详细信息，请<a href="../jjdbc/client-side-security.html#JJDBC28295" target="_blank"><span><cite>参见“Oracle数据库JDBC开发人员指南”</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-thin-jdbc-client-network.html#GUID-E6D66328-8F0B-4436-9DE7-72B42A708B1A" title="客户端的瘦JDBC网络实现提供控制加密，完整性和身份验证服务的参数。">瘦JDBC网络实现的配置参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG10176"></a><a id="DBSEG9608"></a><div class="props_rev_3"><a id="GUID-96B18FF8-611F-46BC-B7D3-217023234BCB" name="GUID-96B18FF8-611F-46BC-B7D3-217023234BCB"></a><h4 id="DBSEG-GUID-96B18FF8-611F-46BC-B7D3-217023234BCB" class="sect4">客户端加密级别参数</h4>
                  <div>
                     <p><code class="codeph">CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_LEVEL</code>参数定义客户端用于与服务器协商的安全级别。
                     </p>
                     <div class="section">
                        <p><a href="configuring-thin-jdbc-client-network.html#GUID-96B18FF8-611F-46BC-B7D3-217023234BCB__BJFBFAHB" title="此表列出了ORACLE.NET.CRYPTO_CHECKSUM_CLIENT参数属性并描述了它们的用法。">表17-1</a>介绍了该参数的属性。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-96B18FF8-611F-46BC-B7D3-217023234BCB__BJFBFAHB">
                        <p class="titleintable">表17-1 CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_LEVEL属性</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_LEVEL属性" width="100%" border="1" summary="This table lists ORACLE.NET.CRYPTO_CHECKSUM_CLIENT parameter attributes and describes their use." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d120290e1292">属性</th>
                                 <th align="left" valign="bottom" width="69%" id="d120290e1295">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1300" headers="d120290e1292 ">
                                    <p>参数类型</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1300 d120290e1295 ">
                                    <p>串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1307" headers="d120290e1292 ">
                                    <p>参数类</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1307 d120290e1295 ">
                                    <p>静态的</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1314" headers="d120290e1292 ">
                                    <p>允许的值</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1314 d120290e1295 ">
                                    <p><code class="codeph">REJECTED</code> ; <code class="codeph">ACCEPTED</code> ; <code class="codeph">REQUESTED</code> ; <code class="codeph">REQUIRED</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1331" headers="d120290e1292 ">
                                    <p>默认值</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1331 d120290e1295 ">
                                    <p><code class="codeph">公认</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1339" headers="d120290e1292 ">
                                    <p>句法</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1339 d120290e1295 ">
                                    <p><code class="codeph">prop.setProperty（的OracleConnection。CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_LEVEL,</code> <span class="italic"><code class="codeph">level</code></span> <code class="codeph">);</code></p>
                                    <p>其中<code class="codeph">prop</code>是<code class="codeph">Properties</code>类的对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1360" headers="d120290e1292 ">
                                    <p>例</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1360 d120290e1295 ">
                                    <p><code class="codeph">prop.setProperty（的OracleConnection。CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_LEVEL， “要求”）;</code></p>
                                    <p>其中<code class="codeph">prop</code>是<code class="codeph">Properties</code>类的对象</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-thin-jdbc-client-network.html#GUID-E6D66328-8F0B-4436-9DE7-72B42A708B1A" title="客户端的瘦JDBC网络实现提供控制加密，完整性和身份验证服务的参数。">瘦JDBC网络实现的配置参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG10177"></a><a id="DBSEG9609"></a><div class="props_rev_3"><a id="GUID-F1ECCDB6-2093-4397-9230-4EA542BFD4DA" name="GUID-F1ECCDB6-2093-4397-9230-4EA542BFD4DA"></a><h4 id="DBSEG-GUID-F1ECCDB6-2093-4397-9230-4EA542BFD4DA" class="sect4">客户端加密选择列表参数</h4>
                  <div>
                     <p><code class="codeph">CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_TYPES</code>参数定义要使用的加密算法。
                     </p>
                     <div class="section">
                        <p><a href="configuring-thin-jdbc-client-network.html#GUID-F1ECCDB6-2093-4397-9230-4EA542BFD4DA__BJFBJHIH" title="该表列出了ORACLE.NET.ENCRYPTION_TYPES_CLIENT参数属性并描述了它们的用法。">表17-2</a>描述了该参数的属性。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-F1ECCDB6-2093-4397-9230-4EA542BFD4DA__BJFBJHIH">
                        <p class="titleintable">表17-2 CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_TYPES属性</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_TYPES属性" width="100%" border="1" summary="This table lists ORACLE.NET.ENCRYPTION_TYPES_CLIENT parameter attributes and describes their use." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d120290e1504">属性</th>
                                 <th align="left" valign="bottom" width="69%" id="d120290e1507">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1512" headers="d120290e1504 ">
                                    <p>参数类型</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1512 d120290e1507 ">
                                    <p>串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1519" headers="d120290e1504 ">
                                    <p>参数类</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1519 d120290e1507 ">
                                    <p>静态的</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1526" headers="d120290e1504 ">
                                    <p>允许的值</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1526 d120290e1507 ">
                                    <p><span class="apiname" translate="no">AES256</span> （AES 256位密钥）， <span class="apiname" translate="no">AES192</span> （AES 192位密钥）， <span class="apiname" translate="no">AES128</span> （AES 128位密钥），</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1541" headers="d120290e1504 ">
                                    <p>句法</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1541 d120290e1507 ">
                                    <p><code class="codeph">prop.setProperty（的OracleConnection。CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_TYPES,</code> <span class="italic"><code class="codeph">algorithm</code></span> <code class="codeph">);</code></p>
                                    <p>其中<code class="codeph">prop</code>是<code class="codeph">Properties</code>类的对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1562" headers="d120290e1504 ">
                                    <p>例</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1562 d120290e1507 ">
                                    <p><code class="codeph">prop.setProperty（的OracleConnection。CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_TYPES，“（AES256，AES192）”）;</code></p>
                                    <p>其中<code class="codeph">prop</code>是<code class="codeph">Properties</code>类的对象</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-thin-jdbc-client-network.html#GUID-E6D66328-8F0B-4436-9DE7-72B42A708B1A" title="客户端的瘦JDBC网络实现提供控制加密，完整性和身份验证服务的参数。">瘦JDBC网络实现的配置参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG10178"></a><a id="DBSEG9610"></a><div class="props_rev_3"><a id="GUID-45B03F04-5194-4591-8708-99437F8129CC" name="GUID-45B03F04-5194-4591-8708-99437F8129CC"></a><h4 id="DBSEG-GUID-45B03F04-5194-4591-8708-99437F8129CC" class="sect4">客户端完整性级别参数</h4>
                  <div>
                     <p><code class="codeph">CONNECTION_PROPERTY_THIN_NET_CHECKSUM_LEVEL</code>参数定义与服务器协商以确保数据完整性的安全级别。
                     </p>
                     <div class="section">
                        <p><a href="configuring-thin-jdbc-client-network.html#GUID-45B03F04-5194-4591-8708-99437F8129CC__BJFBFIIC" title="该表列出了ORACLE.NET.ENCRYPTION_CLIENT参数属性并描述了它们的用法。">表17-3</a>说明了该参数的属性。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-45B03F04-5194-4591-8708-99437F8129CC__BJFBFIIC">
                        <p class="titleintable">表17-3 CONNECTION_PROPERTY_THIN_NET_CHECKSUM_LEVEL属性</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="CONNECTION_PROPERTY_THIN_NET_CHECKSUM_LEVEL属性" width="100%" border="1" summary="This table lists ORACLE.NET.ENCRYPTION_CLIENT parameter attributes and describes their use." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d120290e1706">属性</th>
                                 <th align="left" valign="bottom" width="69%" id="d120290e1709">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1714" headers="d120290e1706 ">
                                    <p>参数类型</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1714 d120290e1709 ">
                                    <p>串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1721" headers="d120290e1706 ">
                                    <p>参数类</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1721 d120290e1709 ">
                                    <p>静态的</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1728" headers="d120290e1706 ">
                                    <p>允许的值</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1728 d120290e1709 ">
                                    <p><code class="codeph">REJECTED</code> ; <code class="codeph">ACCEPTED</code> ; <code class="codeph">REQUESTED</code> ; <code class="codeph">REQUIRED</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1745" headers="d120290e1706 ">
                                    <p>默认值</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1745 d120290e1709 ">
                                    <p><code class="codeph">公认</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1753" headers="d120290e1706 ">
                                    <p>句法</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1753 d120290e1709 ">
                                    <p><code class="codeph">prop.setProperty（的OracleConnection。CONNECTION_PROPERTY_THIN_NET_CHECKSUM_LEVEL,</code> <span class="italic"><code class="codeph">level</code></span> <code class="codeph">);</code></p>
                                    <p>其中<code class="codeph">prop</code>是<code class="codeph">Properties</code>类的对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1774" headers="d120290e1706 ">
                                    <p>例</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1774 d120290e1709 ">
                                    <p><code class="codeph">prop.setProperty（的OracleConnection。CONNECTION_PROPERTY_THIN_NET_CHECKSUM_LEVEL， “要求”）;</code></p>
                                    <p>其中<code class="codeph">prop</code>是<code class="codeph">Properties</code>类的对象</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-thin-jdbc-client-network.html#GUID-E6D66328-8F0B-4436-9DE7-72B42A708B1A" title="客户端的瘦JDBC网络实现提供控制加密，完整性和身份验证服务的参数。">瘦JDBC网络实现的配置参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG10179"></a><a id="DBSEG9611"></a><div class="props_rev_3"><a id="GUID-0576477B-9676-4570-AAFE-431D7D44DDE1" name="GUID-0576477B-9676-4570-AAFE-431D7D44DDE1"></a><h4 id="DBSEG-GUID-0576477B-9676-4570-AAFE-431D7D44DDE1" class="sect4">客户端完整性选择列表参数</h4>
                  <div>
                     <p><code class="codeph">CONNECTION_PROPERTY_THIN_NET_CHECKSUM_TYPES</code>参数定义要使用的数据完整性算法。
                     </p>
                     <div class="section">
                        <p><a href="configuring-thin-jdbc-client-network.html#GUID-0576477B-9676-4570-AAFE-431D7D44DDE1__BJFBJEDA" title="此表列出了ORACLE.NET.CRYPTO_CHEKSUM_TYPES_CLIENT参数属性并描述了它们的用法。">表17-4说明</a>了此参数的属性。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-0576477B-9676-4570-AAFE-431D7D44DDE1__BJFBJEDA">
                        <p class="titleintable">表17-4 CONNECTION_PROPERTY_THIN_NET_CHECKSUM_TYPES属性</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="CONNECTION_PROPERTY_THIN_NET_CHECKSUM_TYPES属性" width="100%" border="1" summary="This table lists ORACLE.NET.CRYPTO_CHEKSUM_TYPES_CLIENT parameter attributes and describes their use." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d120290e1919">属性</th>
                                 <th align="left" valign="bottom" width="69%" id="d120290e1922">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1927" headers="d120290e1919 ">
                                    <p>参数类型</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1927 d120290e1922 ">
                                    <p>串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1934" headers="d120290e1919 ">
                                    <p>参数类</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1934 d120290e1922 ">
                                    <p>静态的</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1941" headers="d120290e1919 ">
                                    <p>允许的值</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1941 d120290e1922 ">
                                    <p><span class="apiname" translate="no">SHA1</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1949" headers="d120290e1919 ">
                                    <p>句法</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1949 d120290e1922 ">
                                    <p><code class="codeph">prop.setProperty（的OracleConnection。CONNECTION_PROPERTY_THIN_NET_CHECKSUM_TYPES,</code> <span class="italic"><code class="codeph">algorithm</code></span> <code class="codeph">);</code></p>
                                    <p>其中<code class="codeph">prop</code>是<code class="codeph">Properties</code>类的对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e1970" headers="d120290e1919 ">
                                    <p>例</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e1970 d120290e1922 ">
                                    <p><code class="codeph">prop.setProperty（的OracleConnection。CONNECTION_PROPERTY_THIN_NET_CHECKSUM_TYPES，“（MD5，SHA1）”）;</code></p>
                                    <p>其中<code class="codeph">prop</code>是<code class="codeph">Properties</code>类的对象</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-thin-jdbc-client-network.html#GUID-E6D66328-8F0B-4436-9DE7-72B42A708B1A" title="客户端的瘦JDBC网络实现提供控制加密，完整性和身份验证服务的参数。">瘦JDBC网络实现的配置参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG10180"></a><a id="DBSEG9612"></a><div class="props_rev_3"><a id="GUID-EC5EC4BF-2872-45E0-9DF4-6ED5ACD93A63" name="GUID-EC5EC4BF-2872-45E0-9DF4-6ED5ACD93A63"></a><h4 id="DBSEG-GUID-EC5EC4BF-2872-45E0-9DF4-6ED5ACD93A63" class="sect4">客户端认证服务参数</h4>
                  <div>
                     <p><code class="codeph">CONNECTION_PROPERTY_THIN_NET_AUTHENTICATION_SERVICES</code>参数确定要使用的身份验证服务。
                     </p>
                     <div class="section">
                        <p><a href="configuring-thin-jdbc-client-network.html#GUID-EC5EC4BF-2872-45E0-9DF4-6ED5ACD93A63__CIHCABAH" title="此表列出了ORACLE.NET.CRYPTO_CHEKSUM_TYPES_CLIENT参数属性并描述了它们的用法。">表17-5说明</a>了此参数的属性。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-EC5EC4BF-2872-45E0-9DF4-6ED5ACD93A63__CIHCABAH">
                        <p class="titleintable">表17-5 CONNECTION_PROPERTY_THIN_NET_AUTHENTICATION_SERVICES属性</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="CONNECTION_PROPERTY_THIN_NET_AUTHENTICATION_SERVICES属性" width="100%" border="1" summary="This table lists ORACLE.NET.CRYPTO_CHEKSUM_TYPES_CLIENT parameter attributes and describes their use." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d120290e2114">属性</th>
                                 <th align="left" valign="bottom" width="69%" id="d120290e2117">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e2122" headers="d120290e2114 ">
                                    <p>参数类型</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e2122 d120290e2117 ">
                                    <p>串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e2129" headers="d120290e2114 ">
                                    <p>参数类</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e2129 d120290e2117 ">
                                    <p>静态的</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e2136" headers="d120290e2114 ">
                                    <p>允许的值</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e2136 d120290e2117 ">
                                    <p><code class="codeph">RADIUS，KERBEROS，SSL</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e2144" headers="d120290e2114 ">
                                    <p>句法</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e2144 d120290e2117 ">
                                    <p><code class="codeph">prop.setProperty（的OracleConnection。CONNECTION_PROPERTY_THIN_NET_AUTHENTICATION_SERVICES,</code> <span class="italic"><code class="codeph">authentication</code></span> <code class="codeph">);</code></p>
                                    <p>其中<code class="codeph">prop</code>是<code class="codeph">Properties</code>类的对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d120290e2165" headers="d120290e2114 ">
                                    <p>例</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d120290e2165 d120290e2117 ">
                                    <p><code class="codeph">prop.setProperty（的OracleConnection。CONNECTION_PROPERTY_THIN_NET_AUTHENTICATION_SERVICES，“（RADIUS，KERBEROS，SSL）”）;</code></p>
                                    <p>其中<code class="codeph">prop</code>是<code class="codeph">Properties</code>类的对象</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-thin-jdbc-client-network.html#GUID-E6D66328-8F0B-4436-9DE7-72B42A708B1A" title="客户端的瘦JDBC网络实现提供控制加密，完整性和身份验证服务的参数。">瘦JDBC网络实现的配置参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG10181"></a><a id="DBSEG9613"></a><div class="props_rev_3"><a id="GUID-00927EC4-7F7F-4FB9-AB6F-3C98EDFDD025" name="GUID-00927EC4-7F7F-4FB9-AB6F-3C98EDFDD025"></a><h4 id="DBSEG-GUID-00927EC4-7F7F-4FB9-AB6F-3C98EDFDD025" class="sect4">AnoServices常量</h4>
                  <div>
                     <p><code class="codeph">oracle.net.ano.AnoServices</code>接口包括JDBC Thin驱动程序支持的加密，身份验证和校验和算法的名称。
                     </p>
                     <div class="section">
                        <p>以下常量位于<code class="codeph">oracle.net.ano.AnoServices</code>接口：</p><pre class="oac_no_warn" dir="ltr">// ----支持ENCRYPTION ALG ----- public static final String ENCRYPTION_RC4_40 =“RC4_40”; public static final String ENCRYPTION_RC4_56 =“RC4_56”; public static final String ENCRYPTION_RC4_128 =“RC4_128”; public static final String ENCRYPTION_RC4_256 =“RC4_256”; public static final String ENCRYPTION_DES40C =“DES40C”; public static final String ENCRYPTION_DES56C =“DES56C”; public static final String ENCRYPTION_3DES112 =“3DES112”; public static final String ENCRYPTION_3DES168 =“3DES168”; public static final String ENCRYPTION_AES128 =“AES128”; public static final String ENCRYPTION_AES192 =“AES192”; public static final String ENCRYPTION_AES256 =“AES256”; // ---- SUPPORTED INTEGRITY ALG ---- public static final String CHECKSUM_MD5 =“MD5”; public static final String CHECKSUM_SHA1 =“SHA1”; // ----支持的身份验证适配器---- public static final String AUTHENTICATION_RADIUS =“RADIUS”; public static final String AUTHENTICATION_KERBEROS =“KERBEROS”;</pre><p>您可以使用这些常量来设置加密，完整性和身份验证参数。<a href="configuring-thin-jdbc-client-network.html#GUID-00927EC4-7F7F-4FB9-AB6F-3C98EDFDD025__CIHECEBG">例17-1</a>说明了一个这样的场景。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-00927EC4-7F7F-4FB9-AB6F-3C98EDFDD025__CIHECEBG">
                        <p class="titleinexample">示例17-1在JDBC客户端代码中使用AnoServices常量</p><pre class="oac_no_warn" dir="ltr">import java.sql。*; import java.util。属性;导入oracle.jdbc。*; import oracle.net.ano。AnoServices; / ** * JDBC瘦驱动程序演示：11gR1中的新安全功能。* *此程序尝试使用JDBC thin *驱动程序连接到数据库，并要求使用AES256或AES192 *加密连接，并使用SHA1验证数据完整性。* *为了激活数据库中的加密和校验和，您需要*修改sqlnet.ora文件。例如：* * SQLNET.ENCRYPTION_TYPES_SERVER =（AES256，AES192，AES128）* SQLNET.ENCRYPTION_SERVER = accepted * SQLNET.CRYPTO_CHECKSUM_TYPES_SERVER =（SHA1）* SQLNET.CRYPTO_CHECKSUM_SERVER = accepted * *此程序的输出为：*连接已创建！加密算法是：AES256，数据完整性算法*是：SHA1 * * / public class DemoAESAndSHA1 {static final String USERNAME =“hr”; static final String PASSWORD =“hr”; static final String URL =“jdbc：oracle：thin：@（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = somehost.us.example.com）（PORT = 5561））”+“（CONNECT_DATA =（SERVICE_NAME = itydemo.regress.rdbms.dev.us.example.com）））“; public static final void main（String [] argv）{DemoAESAndSHA1 demo = new DemoAESAndSHA1（）;试试{demo.run（）; } catch（SQLException ex）{ex.printStackTrace（）; void run（）抛出SQLException {OracleDriver dr = new OracleDriver（）;属性prop = new Properties（）; //我们要求使用AES256或AES192加密连接。//如果数据库不接受这样的安全级别，则连接//尝试将失败。prop.setProperty（OracleConnection。CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_LEVEL，AnoServices。ANO_REQUIRED）; prop.setProperty（OracleConnection。CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_TYPES，“（”+ AnoServices。ENCRYPTION_AES256 +“，”+ AnoServices。ENCRYPTION_AES192 +“）”）; //我们还需要使用SHA1算法进行数据完整性检查。prop.setProperty（OracleConnection。CONNECTION_PROPERTY_THIN_NET_CHECKSUM_LEVEL，AnoServices。ANO_REQUIRED）; prop.setProperty（OracleConnection。CONNECTION_PROPERTY_THIN_NET_CHECKSUM_TYPES，“（”+ AnoServices。CHECKSUM_SHA1 +“）”）; prop.setProperty（ “用户”，DemoAESAndSHA1。用户名）; prop.setProperty（ “密码”，DemoAESAndSHA1。密码）; OracleConnection oraConn =（OracleConnection）dr.connect（DemoAESAndSHA1。URL，道具）; System.out.println（“连接已创建！加密算法是：“+ oraConn.getEncryptionAlgorithmName（）+”，数据完整性算法是：“+ oraConn.getDataIntegrityAlgorithmName（））; oraConn.close（）;}}</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-thin-jdbc-client-network.html#GUID-E6D66328-8F0B-4436-9DE7-72B42A708B1A" title="客户端的瘦JDBC网络实现提供控制加密，完整性和身份验证服务的参数。">瘦JDBC网络实现的配置参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="07426.DBA_HIST_SEG_STAT.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="DBA_HIST_SEG_STAT displays historical information about segment-level statistics."></meta>
      <meta name="description" content="DBA_HIST_SEG_STAT displays historical information about segment-level statistics."></meta>
      <title>DBA_HIST_SEG_STAT</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Reference"></meta>
      <meta property="og:description" content="DBA_HIST_SEG_STAT displays historical information about segment-level statistics."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00"></meta>
      <meta name="dcterms.title" content="Database Reference"></meta>
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96196-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBA_HIST_RULE_SET.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBA_HIST_SEG_STAT_OBJ.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBA_HIST_RULE_SET.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBA_HIST_SEG_STAT_OBJ.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views-4.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图：DBA_HIST_LATCH到DBA_STORED_SETTINGS</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBA_HIST_SEG_STAT</li>
            </ol>
            <a id="GUID-B0B7903A-727A-4F2A-A5DC-88937670DCFD" name="GUID-B0B7903A-727A-4F2A-A5DC-88937670DCFD"></a><a id="REFRN23436"></a>
            
            <h2 id="REFRN-GUID-B0B7903A-727A-4F2A-A5DC-88937670DCFD" class="sect2"><span class="enumeration_section">5.44</span> DBA_HIST_SEG_STAT</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBA_HIST_SEG_STAT</code>显示有关段级统计信息的历史信息。
               </p>
               <div class="section">
                  <p>该视图根据一组标准捕获顶部细分，并从<code class="codeph">V$SEGSTAT</code>捕获信息。总值是自实例启动以来统计信息的值。增量值是<code class="codeph">DBA_HIST_SNAPSHOT</code>视图中从<code class="codeph">BEGIN_INTERVAL_TIME</code>到<code class="codeph">END_INTERVAL_TIME</code>的统计值。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-B0B7903A-727A-4F2A-A5DC-88937670DCFD__GUID-6620D0BD-21B6-401B-826B-CD97FC3FA80E">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="This table describes the columns for this database view" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="24%" id="d1047661e185">柱</th>
                           <th align="left" valign="bottom" width="18%" id="d1047661e188">数据类型</th>
                           <th align="left" valign="bottom" width="14%" id="d1047661e191">空值</th>
                           <th align="left" valign="bottom" width="45%" id="d1047661e194">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e199" headers="d1047661e185 ">
                              <p><code class="codeph">SNAP_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e199 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e199 d1047661e191 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e199 d1047661e194 ">
                              <p>唯一快照ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e215" headers="d1047661e185 ">
                              <p><code class="codeph">DBID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e215 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e215 d1047661e191 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e215 d1047661e194 ">
                              <p>快照的数据库ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e231" headers="d1047661e185 ">
                              <p><code class="codeph">INSTANCE_NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e231 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e231 d1047661e191 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e231 d1047661e194 ">
                              <p>快照的实例编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e247" headers="d1047661e185 ">
                              <p><code class="codeph">TS＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e247 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e247 d1047661e191 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e247 d1047661e194 ">
                              <p>表空间编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e263" headers="d1047661e185 ">
                              <p><code class="codeph">OBJ＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e263 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e263 d1047661e191 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e263 d1047661e194 ">
                              <p>字典对象编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e279" headers="d1047661e185 ">
                              <p><code class="codeph">DATAOBJ＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e279 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e279 d1047661e191 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e279 d1047661e194 ">
                              <p>数据对象编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e295" headers="d1047661e185 ">
                              <p><code class="codeph">LOGICAL_READS_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e295 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e295 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e295 d1047661e194 ">
                              <p>逻辑读取的累积值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e310" headers="d1047661e185 ">
                              <p><code class="codeph">LOGICAL_READS_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e310 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e310 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e310 d1047661e194 ">
                              <p>逻辑读取的Delta值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e325" headers="d1047661e185 ">
                              <p><code class="codeph">BUFFER_BUSY_WAITS_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e325 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e325 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e325 d1047661e194 ">
                              <p>缓冲区忙等待的累积值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e340" headers="d1047661e185 ">
                              <p><code class="codeph">BUFFER_BUSY_WAITS_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e340 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e340 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e340 d1047661e194 ">
                              <p>缓冲区忙等待的增量值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e355" headers="d1047661e185 ">
                              <p><code class="codeph">DB_BLOCK_CHANGES_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e355 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e355 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e355 d1047661e194 ">
                              <p>db块更改的累积值（以块为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e371" headers="d1047661e185 ">
                              <p><code class="codeph">DB_BLOCK_CHANGES_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e371 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e371 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e371 d1047661e194 ">
                              <p>db块更改的Delta值（以块为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e386" headers="d1047661e185 ">
                              <p><code class="codeph">PHYSICAL_READS_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e386 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e386 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e386 d1047661e194 ">
                              <p>物理读取的累积值（以块为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e401" headers="d1047661e185 ">
                              <p><code class="codeph">PHYSICAL_READS_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e401 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e401 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e401 d1047661e194 ">
                              <p>物理读取的Delta值（以块为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e416" headers="d1047661e185 ">
                              <p><code class="codeph">PHYSICAL_WRITES_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e416 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e416 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e416 d1047661e194 ">
                              <p>物理写入的累积值（以块为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e431" headers="d1047661e185 ">
                              <p><code class="codeph">PHYSICAL_WRITES_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e431 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e431 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e431 d1047661e194 ">
                              <p>物理写入的增量值（以块为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e446" headers="d1047661e185 ">
                              <p><code class="codeph">PHYSICAL_READS_DIRECT_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e446 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e446 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e446 d1047661e194 ">
                              <p>直接物理读取的累积值（以块为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e461" headers="d1047661e185 ">
                              <p><code class="codeph">PHYSICAL_READS_DIRECT_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e461 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e461 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e461 d1047661e194 ">
                              <p>物理读取的Delta值直接（以块为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e476" headers="d1047661e185 ">
                              <p><code class="codeph">PHYSICAL_WRITES_DIRECT_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e476 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e476 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e476 d1047661e194 ">
                              <p>物理写入的累积值直接（以块为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e491" headers="d1047661e185 ">
                              <p><code class="codeph">PHYSICAL_WRITES_DIRECT_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e491 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e491 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e491 d1047661e194 ">
                              <p>物理写入的Delta值直接（以块为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e506" headers="d1047661e185 ">
                              <p><code class="codeph">ITL_WAITS_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e506 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e506 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e506 d1047661e194 ">
                              <p>ITL的累积价值等待</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e521" headers="d1047661e185 ">
                              <p><code class="codeph">ITL_WAITS_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e521 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e521 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e521 d1047661e194 ">
                              <p>ITL的Delta值等待</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e537" headers="d1047661e185 ">
                              <p><code class="codeph">ROW_LOCK_WAITS_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e537 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e537 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e537 d1047661e194 ">
                              <p>行锁的累积值等待</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e552" headers="d1047661e185 ">
                              <p><code class="codeph">ROW_LOCK_WAITS_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e552 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e552 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e552 d1047661e194 ">
                              <p>行锁的Delta值等待</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e567" headers="d1047661e185 ">
                              <p><code class="codeph">GC_CR_BLOCKS_SERVED_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e567 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e567 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e567 d1047661e194 ">
                              <p>提供的全局缓存CR块的累积值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e582" headers="d1047661e185 ">
                              <p><code class="codeph">GC_CR_BLOCKS_SERVED_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e582 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e582 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e582 d1047661e194 ">
                              <p>提供的全局高速缓存CR块的增量值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e597" headers="d1047661e185 ">
                              <p><code class="codeph">GC_CU_BLOCKS_SERVED_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e597 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e597 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e597 d1047661e194 ">
                              <p>提供的全局高速缓存当前块的累积值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e612" headers="d1047661e185 ">
                              <p><code class="codeph">GC_CU_BLOCKS_SERVED_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e612 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e612 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e612 d1047661e194 ">
                              <p>提供的全局高速缓存当前块的增量值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e627" headers="d1047661e185 ">
                              <p><code class="codeph">GC_BUFFER_BUSY_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e627 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e627 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e627 d1047661e194 ">
                              <p>全局缓存缓冲区繁忙的累积值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e642" headers="d1047661e185 ">
                              <p><code class="codeph">GC_BUFFER_BUSY_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e642 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e642 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e642 d1047661e194 ">
                              <p>全局缓存缓冲区忙的增量值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e657" headers="d1047661e185 ">
                              <p><code class="codeph">GC_CR_BLOCKS_RECEIVED_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e657 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e657 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e657 d1047661e194 ">
                              <p>收到的全局缓存CR块的累积值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e672" headers="d1047661e185 ">
                              <p><code class="codeph">GC_CR_BLOCKS_RECEIVED_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e672 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e672 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e672 d1047661e194 ">
                              <p>收到的全局缓存CR块的Delta值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e687" headers="d1047661e185 ">
                              <p><code class="codeph">GC_CU_BLOCKS_RECEIVED_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e687 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e687 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e687 d1047661e194 ">
                              <p>收到的全局缓存当前块的累积值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e703" headers="d1047661e185 ">
                              <p><code class="codeph">GC_CU_BLOCKS_RECEIVED_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e703 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e703 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e703 d1047661e194 ">
                              <p>收到的全局缓存当前块的Delta值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e718" headers="d1047661e185 ">
                              <p><code class="codeph">SPACE_USED_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e718 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e718 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e718 d1047661e194 ">
                              <p>用户数据使用的字节数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e733" headers="d1047661e185 ">
                              <p><code class="codeph">SPACE_USED_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e733 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e733 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e733 d1047661e194 ">
                              <p>用户数据使用的空间的增量值（以字节为单位）。负值表示段中删除的字节数。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e748" headers="d1047661e185 ">
                              <p><code class="codeph">SPACE_ALLOCATED_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e748 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e748 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e748 d1047661e194 ">
                              <p>分配的字节数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e763" headers="d1047661e185 ">
                              <p><code class="codeph">SPACE_ALLOCATED_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e763 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e763 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e763 d1047661e194 ">
                              <p>分配的空间的增量值（以字节为单位）。负值表示释放到表空间的字节数。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e778" headers="d1047661e185 ">
                              <p><code class="codeph">TABLE_SCANS_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e778 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e778 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e778 d1047661e194 ">
                              <p>表扫描的累积值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e793" headers="d1047661e185 ">
                              <p><code class="codeph">TABLE_SCANS_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e793 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e793 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e793 d1047661e194 ">
                              <p>表扫描的Delta值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e808" headers="d1047661e185 ">
                              <p><code class="codeph">CHAIN_ROW_EXCESS_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e808 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e808 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e808 d1047661e194 ">
                              <p>可以通过表重组消除的链式行数的累积值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e823" headers="d1047661e185 ">
                              <p><code class="codeph">CHAIN_ROW_EXCESS_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e823 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e823 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e823 d1047661e194 ">
                              <p>可以通过表重组消除的链式行数的增量值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e838" headers="d1047661e185 ">
                              <p><code class="codeph">PHYSICAL_READ_REQUESTS_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e838 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e838 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e838 d1047661e194 ">
                              <p>为受监视段发出的物理读取I / O请求数的累积值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e853" headers="d1047661e185 ">
                              <p><code class="codeph">PHYSICAL_READ_REQUESTS_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e853 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e853 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e853 d1047661e194 ">
                              <p>为受监视段发出的物理读取I / O请求数的增量值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e869" headers="d1047661e185 ">
                              <p><code class="codeph">PHYSICAL_WRITE_REQUESTS_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e869 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e869 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e869 d1047661e194 ">
                              <p>为受监视的段发出的物理写入I / O请求数的累积值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e884" headers="d1047661e185 ">
                              <p><code class="codeph">PHYSICAL_WRITE_REQUESTS_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e884 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e884 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e884 d1047661e194 ">
                              <p>为受监视段发出的物理写入I / O请求数的增量值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e899" headers="d1047661e185 ">
                              <p><code class="codeph">OPTIMIZED_PHYSICAL_READS_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e899 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e899 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e899 d1047661e194 ">
                              <p>来自受监视段的数据库智能闪存缓存的物理读取数的累积值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e914" headers="d1047661e185 ">
                              <p><code class="codeph">OPTIMIZED_PHYSICAL_READS_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e914 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e914 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e914 d1047661e194 ">
                              <p>来自受监控段的数据库智能闪存缓存的物理读取数量的增量值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e929" headers="d1047661e185 ">
                              <p><code class="codeph">IM_SCANS_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e929 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e929 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e929 d1047661e194 ">
                              <p>细分统计数量</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e944" headers="d1047661e185 ">
                              <p><code class="codeph">IM_SCANS_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e944 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e944 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e944 d1047661e194 ">
                              <p>内存扫描的增量值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e959" headers="d1047661e185 ">
                              <p><code class="codeph">POPULATE_CUS_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e959 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e959 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e959 d1047661e194 ">
                              <p>每个段填充的压缩单元（CU）的数量</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e974" headers="d1047661e185 ">
                              <p><code class="codeph">POPULATE_CUS_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e974 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e974 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e974 d1047661e194 ">
                              <p>压缩单元（CU）的增量值填充操作</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e989" headers="d1047661e185 ">
                              <p><code class="codeph">REPOPULATE_CUS_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e989 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e989 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e989 d1047661e194 ">
                              <p>每个段重新填充的CU数量</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e1004" headers="d1047661e185 ">
                              <p><code class="codeph">REPOPULATE_CUS_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e1004 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e1004 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e1004 d1047661e194 ">
                              <p>压缩单元（CU）的增量值重新填充操作</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e1019" headers="d1047661e185 ">
                              <p><code class="codeph">IM_DB_BLOCK_CHANGES_TOTAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e1019 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e1019 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e1019 d1047661e194 ">
                              <p>对块进行更新或删除操作的更改总数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e1035" headers="d1047661e185 ">
                              <p><code class="codeph">IM_DB_BLOCK_CHANGES_DELTA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e1035 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e1035 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e1035 d1047661e194 ">
                              <p>数据库块更改的增量值</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e1050" headers="d1047661e185 ">
                              <p><code class="codeph">CON_DBID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e1050 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e1050 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e1050 d1047661e194 ">
                              <p>采样会话的PDB的数据库ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1047661e1065" headers="d1047661e185 ">
                              <p><code class="codeph">CON_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1047661e1065 d1047661e188 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1047661e1065 d1047661e191 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1047661e1065 d1047661e194 ">
                              <p><code class="codeph">CON_DBID</code>标识的容器的ID。可能的值包括：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">0</code> ：此值用于包含与整个CDB相关的数据的行。此值还用于非CDB中的行。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">1</code> ：此值用于包含仅与根有关的数据的行</p>
                                 </li>
                                 <li>
                                    <p><span class="italic">n</span> ：其中<span class="italic">n</span>是包含数据的行的适用容器ID</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-B0B7903A-727A-4F2A-A5DC-88937670DCFD__GUID-04A9F554-0310-4170-8435-63FE28059F73">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="V-SEGSTAT.html#GUID-097DB23C-7BA5-4C02-B595-90F1D3337AA2" title="V $ SEGSTAT显示有关段级统计信息的信息。">V $ SEGSTAT</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="DBA_HIST_SNAPSHOT.html#GUID-542B6CA6-793B-4D15-AAFD-4D3E6550C0B6" title="DBA_HIST_SNAPSHOT显示有关Workload Repository中快照的信息。">DBA_HIST_SNAPSHOT</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="12889.oracle-database-performance-method.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle数据库性能方法</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database 2 Day + Performance Tuning Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database 2 Day + Performance Tuning Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-2-day-performance-tuning-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T02:50:24-08:00"></meta>
      <meta name="dcterms.title" content="Database 2 Day + Performance Tuning Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96346-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="introduction.html" title="Previous" type="text/html"></link>
      <link rel="next" href="part-II-proactive-database-tuning.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TDPPT"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="introduction.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="part-II-proactive-database-tuning.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库2天+性能调整指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-I-getting-started.html" property="item" typeof="WebPage"><span property="name">入门</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle数据库性能方法</li>
            </ol>
            <a id="GUID-6203E485-FA06-4EE3-9003-4449FBDE214B" name="GUID-6203E485-FA06-4EE3-9003-4449FBDE214B"></a><a id="TDPPT006"></a>
            
            <h2 id="TDPPT-GUID-6203E485-FA06-4EE3-9003-4449FBDE214B" class="sect2"><span class="enumeration_chapter">2</span> Oracle数据库性能方法</h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d3429e79" class="indexterm-anchor"></a><a id="d3429e83" class="indexterm-anchor"></a>性能改进是一个迭代过程。消除第一个<span class="bold">瓶颈</span> （资源争用最高的点）可能不会立即导致性能提升，因为可能会发现另一个瓶颈对系统产生更大的性能影响。准确诊断性能问题是确保您的更改提高性能的第一步。
               </p>
               <p>通常，性能问题是由于缺乏<span class="bold">吞吐量</span> （可在指定时间内完成的工作量），不可接受的用户或作业<span class="bold">响应时间</span> （完成指定工作负载的时间）或两者兼而有之。问题可能已本地化到特定的应用程序模块，也可能跨越系统。
               </p>
               <p>在查看数据库或操作系统统计信息之前，从系统用户和负责应用程序的人员那里获取反馈至关重要。此反馈可以更轻松地设置性能目标。可以根据业务目标而不是系统统计来衡量改进的性能。</p>
               <p>可以应用Oracle性能方法，直到达到性能目标或认为不切实际。由于此过程是迭代的，因此某些调查可能对系统性能几乎没有影响。准确快速地确定关键瓶颈需要时间和经验。自动数据库诊断监视器（ADDM）实现Oracle性能方法并分析统计信息，以提供主要性能问题的自动诊断。由于ADDM可以显着缩短提高系统性能所需的时间，因此它是本指南中使用的方法。</p>
               <p>本章讨论Oracle数据库性能方法，并包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="oracle-database-performance-method.html#GUID-811C438C-149B-4BFE-A40A-1FAF2BF67C95">使用自动工作负载存储库收集数据库统计信息</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-database-performance-method.html#GUID-46A6FDCF-F5B5-40AF-A0A5-7E3617F26B65">使用Oracle性能方法</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-database-performance-method.html#GUID-D5B54332-FE40-4537-B1C9-0704343CEF54">数据库中常见的性能问题</a></p>
                  </li>
               </ul>
            </div><a id="TDPPT007"></a><div class="props_rev_3"><a id="GUID-811C438C-149B-4BFE-A40A-1FAF2BF67C95" name="GUID-811C438C-149B-4BFE-A40A-1FAF2BF67C95"></a><h3 id="TDPPT-GUID-811C438C-149B-4BFE-A40A-1FAF2BF67C95" class="sect3"><span class="enumeration_section">2.1</span>使用自动工作负载存储库收集数据库统计信息</h3>
               <div>
                  <p>数据库统计信息提供有关数据库上的负载类型以及数据库使用的内部和外部资源的信息。要使用ADDM准确诊断数据库的性能问题，必须提供统计信息。</p>
                  <p><span class="bold">累积统计量</span>是一个计数，例如块读取的数量。Oracle数据库为系统，会话和单个SQL语句生成许多类型的累积统计信息。Oracle数据库还跟踪有关细分和服务的累积统计信息。自动工作负载存储库（AWR）通过收集，处理和维护性能统计信息来自动化数据库统计信息收集，以便进行数据库问题检测和自我调整。
                  </p>
                  <p>默认情况下，数据库每小时收集统计信息并创建一个<span class="bold">AWR快照</span> ，这是一组用于性能比较的特定时间的数据。快照捕获的增量值表示该时间段内每个统计信息的更改。AWR收集的统计信息是从内存中查询的。收集的数据可以显示在报告和视图中。
                  </p>
                  <p>以下初始化参数与AWR相关：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">STATISTICS_LEVEL</code></p>
                        <p>将此参数设置为<code class="codeph">TYPICAL</code> （默认值）或<code class="codeph">ALL</code>以启用AWR的统计信息收集。将<code class="codeph">STATISTICS_LEVEL</code>设置为<code class="codeph">BASIC</code>会禁用许多数据库功能，包括AWR，因此不建议这样做。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code></p>
                        <p>设置为<code class="codeph">DIAGNOSTIC+TUNING</code> （默认）或<code class="codeph">DIAGNOSTIC</code>以启用自动数据库诊断监控。将<code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code>设置为<code class="codeph">NONE</code>会禁用许多数据库功能，包括ADDM，强烈建议不要这样做。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-811C438C-149B-4BFE-A40A-1FAF2BF67C95__GUID-964279E3-5C7B-49C8-9420-0CBD597153DC">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关<code class="codeph">STATISTICS_LEVEL</code>初始化参数的更多信息，请<a href="../refrn/STATISTICS_LEVEL.html#REFRN10214" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code>初始化参数的详细信息，请<a href="../refrn/CONTROL_MANAGEMENT_PACK_ACCESS.html#REFRN10296" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <p>AWR收集和处理的数据库统计信息包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="oracle-database-performance-method.html#GUID-8DEA5079-6AAB-47D8-857A-9B5301843290">时间模型统计</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-database-performance-method.html#GUID-964A8DD3-EEBB-43FA-8C04-FF16EF7F2B5C">等待事件统计</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-database-performance-method.html#GUID-63D4213C-2115-4C71-AF14-96BAB3CF8835">会话和系统统计</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-database-performance-method.html#GUID-0591FD6F-7CB8-4522-80B2-62B88B442D38">活动会话历史统计</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-database-performance-method.html#GUID-031F2D19-550C-4DF9-ADE0-EDA0CA14D9E9">高负载SQL统计信息</a></p>
                     </li>
                  </ul>
               </div><a id="TDPPT345"></a><a id="TDPPT346"></a><a id="TDPPT008"></a><div class="props_rev_3"><a id="GUID-8DEA5079-6AAB-47D8-857A-9B5301843290" name="GUID-8DEA5079-6AAB-47D8-857A-9B5301843290"></a><h4 id="TDPPT-GUID-8DEA5079-6AAB-47D8-857A-9B5301843290" class="sect4"><span class="enumeration_section">2.1.1</span>时间模型统计</h4>
                  <div>
                     <p><a id="d3429e421" class="indexterm-anchor"></a><a id="d3429e425" class="indexterm-anchor"></a><a id="d3429e429" class="indexterm-anchor"></a>时间模型统计信息按操作类型测量数据库中花费的时间。最重要的时间模型统计是<span class="bold">数据库时间（DB时间）</span> 。数据库时间表示前台会话在数据库调用中花费的总时间，并且是总实例工作负载的指示符。<a href="oracle-database-performance-method.html#GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__CIHCDGCI">如图2-1</a>所示，数据库时间构成了应用程序整体用户响应时间的一部分。
                     </p>
                     <div class="figure" id="GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__CIHCDGCI">
                        <p class="titleinfigure">图2-1总体用户响应时间内的DB时间</p><img src="img/tdppt001.gif" alt="下面描述图2-1" title="下面描述图2-1" longdesc="img_text/tdppt001.html"><br><a href="img_text/tdppt001.html">“图2-1总体用户响应时间中的DB时间”的说明</a></div>
                     <!-- class="figure" -->
                     <p><a id="d3429e445" class="indexterm-anchor"></a><a id="d3429e449" class="indexterm-anchor"></a><a id="d3429e453" class="indexterm-anchor"></a><a id="d3429e455" class="indexterm-anchor"></a><a id="d3429e457" class="indexterm-anchor"></a> <span class="bold">会话</span>是数据库实例内存中的逻辑实体，表示当前用户登录数据库的状态。通过聚合所有<span class="bold">活动会话</span> （非空闲会话）的CPU时间和等待时间来计算数据库时间。对于任何数据库请求，CPU时间是处理请求所花费的时间的总和，而等待时间是各种数据库实例资源的所有等待的总和。数据库时间仅包括在客户端进程上花费的时间，不包括在后台进程（如PMON）上花费的时间。</p>
                     <p>例如，用户会话可能涉及在线书商进行的在线交易，该在线书商包括<a href="oracle-database-performance-method.html#GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__CIHDFGGJ">图2-2</a>中<a href="oracle-database-performance-method.html#GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__CIHDFGGJ">所示</a>的动作。
                     </p>
                     <div class="figure" id="GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__CIHDFGGJ">
                        <p class="titleinfigure">图2-2用户事务中的DB时间</p><img src="img/tdppt002.gif" alt="下面是图2-2的描述" title="下面是图2-2的描述" longdesc="img_text/tdppt002.html"><br><a href="img_text/tdppt002.html">“图2-2用户事务中的DB时间”的说明</a></div>
                     <!-- class="figure" -->
                     <ol>
                        <li>
                           <p>通过作者查询小说</p>
                           <p>用户执行特定作者对小说的搜索。此操作使应用程序为作者执行小说的数据库查询。</p>
                        </li>
                        <li>
                           <p>浏览查询结果</p>
                           <p>用户浏览作者返回的小说列表并访问其他详细信息，例如用户评论和库存状态。此操作会导致应用程序执行其他数据库查询。</p>
                        </li>
                        <li>
                           <p>将商品添加到购物车</p>
                           <p>在浏览了关于小说的细节之后，用户决定将一本小说添加到购物车中。此操作会导致应用程序进行数据库调用以更新购物车。</p>
                        </li>
                        <li>
                           <p>查看</p>
                           <p>用户通过使用先前在先前购买的书店网站上保存的地址和支付信息签出来完成交易。此操作使应用程序执行各种数据库操作以检索用户的信息，添加新订单，更新库存以及生成电子邮件确认。</p>
                        </li>
                     </ol>
                     <p>对于上述每个操作，用户向数据库发出请求， <a href="oracle-database-performance-method.html#GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__CIHDFGGJ">如图2-2中</a>的向下箭头<a href="oracle-database-performance-method.html#GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__CIHDFGGJ">所示</a> 。处理请求的数据库所花费的CPU时间和等待数据库所花费的等待时间被视为DB时间，如阴影区域所示。请求完成后，结果将返回给用户，如向上箭头所示。向上和向下箭头之间的空格表示处理请求的总用户响应时间，其中包含除DB时间之外的其他组件， <a href="oracle-database-performance-method.html#GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__CIHCDGCI">如图2-1所示</a> 。
                     </p>
                     <div class="infoboxnote" id="GUID-8DEA5079-6AAB-47D8-857A-9B5301843290__GUID-11031689-027C-4FE1-AD2E-7519A2B3D313">
                        <p class="notep1">注意：</p>
                        <p>从实例开始时累积测量DB时间。由于DB时间结合了所有非空闲用户会话的时间，因此DB时间可能超过实例启动后经过的时间。例如，运行5分钟的实例可能有四个活动会话，其累积数据库时间为20分钟。</p>
                     </div>
                     <p>数据库调优的目的是减少DB时间。通过这种方式，您可以改善应用程序中用户事务的总体响应时间。</p>
                  </div>
               </div><a id="TDPPT009"></a><div class="props_rev_3"><a id="GUID-964A8DD3-EEBB-43FA-8C04-FF16EF7F2B5C" name="GUID-964A8DD3-EEBB-43FA-8C04-FF16EF7F2B5C"></a><h4 id="TDPPT-GUID-964A8DD3-EEBB-43FA-8C04-FF16EF7F2B5C" class="sect4"><span class="enumeration_section">2.1.2</span>等待事件统计</h4>
                  <div>
                     <p><a id="d3429e590" class="indexterm-anchor"></a><a id="d3429e594" class="indexterm-anchor"></a><a id="d3429e598" class="indexterm-anchor"></a>等待事件由会话递增，以指示会话必须等待事件完成才能继续处理。当会话在处理用户请求时必须等待时，数据库通过使用一组预定义的等待事件之一来记录等待。然后将事件分组为等待类，例如用户I / O和网络。等待事件数据显示可能影响性能的问题的症状，例如锁存，缓冲或I / O争用。
                     </p>
                     <div class="infoboxnotealso" id="GUID-964A8DD3-EEBB-43FA-8C04-FF16EF7F2B5C__GUID-ED761ADC-6FD5-427B-8BBE-EF81FD56CFD3">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../tgdba/measuring-database-performance.html#TGDBA149" target="_blank"><span class="italic">Oracle数据库性能调整指南</span></a></p>
                           </li>
                           <li>
                              <p><a href="../refrn/oracle-wait-events.html#REFRN101" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="TDPPT010"></a><div class="props_rev_3"><a id="GUID-63D4213C-2115-4C71-AF14-96BAB3CF8835" name="GUID-63D4213C-2115-4C71-AF14-96BAB3CF8835"></a><h4 id="TDPPT-GUID-63D4213C-2115-4C71-AF14-96BAB3CF8835" class="sect4"><span class="enumeration_section">2.1.3</span>会话和系统统计</h4>
                  <div>
                     <p><a id="d3429e699" class="indexterm-anchor"></a><a id="d3429e703" class="indexterm-anchor"></a>系统和会话级别上提供了大量累积数据库统计信息。其中一些统计数据由AWR收集。</p>
                  </div>
               </div><a id="TDPPT347"></a><a id="TDPPT348"></a><a id="TDPPT011"></a><div class="props_rev_3"><a id="GUID-0591FD6F-7CB8-4522-80B2-62B88B442D38" name="GUID-0591FD6F-7CB8-4522-80B2-62B88B442D38"></a><h4 id="TDPPT-GUID-0591FD6F-7CB8-4522-80B2-62B88B442D38" class="sect4"><span class="enumeration_section">2.1.4</span>活动会话历史统计</h4>
                  <div>
                     <p><a id="d3429e792" class="indexterm-anchor"></a><a id="d3429e796" class="indexterm-anchor"></a><a id="d3429e800" class="indexterm-anchor"></a><a id="d3429e804" class="indexterm-anchor"></a>活动会话历史记录（ASH）统计信息是数据库中会话活动的样本。数据库每秒对活动会话进行采样，并将它们存储在系统全局区域（SGA）中的循环缓冲区中。连接到数据库并使用CPU或正在等待不属于空闲等待类的事件的任何会话都被视为活动会话。通过仅捕获活动会话，可以表示一组可管理的数据。数据的大小与正在执行的工作直接相关，而不是与数据库上允许的会话数相关。
                     </p>
                     <p>使用<span class="q">“ <a href="oracle-database-performance-method.html#GUID-8DEA5079-6AAB-47D8-857A-9B5301843290">时间模型统计</a> ”中</span>描述的DB时间示例，会话活动的样本从书商网站上进行的在线交易中收集，表示为<a href="oracle-database-performance-method.html#GUID-0591FD6F-7CB8-4522-80B2-62B88B442D38__CIHBAFGI">图2-3中</a>水平箭头下方的垂直线。
                     </p>
                     <div class="figure" id="GUID-0591FD6F-7CB8-4522-80B2-62B88B442D38__CIHBAFGI">
                        <p class="titleinfigure">图2-3活动会话历史记录</p><img src="img/tdppt003.gif" alt="下面是图2-3的描述" title="下面是图2-3的描述" longdesc="img_text/tdppt003.html"><br><a href="img_text/tdppt003.html">“图2-3活动会话历史”的描述</a></div>
                     <!-- class="figure" -->
                     <p>浅垂直线表示未在ASH统计中捕获的非活动会话活动的样本。粗体垂直线表示在以下位置捕获的活动会话样本：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>7:38，而作者的小说正在被查询</p>
                        </li>
                        <li>
                           <p>7:42，用户正在浏览查询结果</p>
                        </li>
                        <li>
                           <p>7:50，将一本小说添加到购物车中</p>
                        </li>
                        <li>
                           <p>7:52，在结账过程中</p>
                        </li>
                     </ul>
                     <p><a href="oracle-database-performance-method.html#GUID-0591FD6F-7CB8-4522-80B2-62B88B442D38__CIHDGJAH" title="列出了4个ASH采样，其中包含时间，SID，模块，SQL ID，状态和事件的值">表2-1</a>列出了为活动会话收集的ASH统计信息，以及会话ID（SID），模块，SQL ID，会话状态和采样的等待事件的示例。
                     </p>
                     <div class="tblformal" id="GUID-0591FD6F-7CB8-4522-80B2-62B88B442D38__CIHDGJAH">
                        <p class="titleintable">表2-1活动会话历史记录</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="活动会话历史记录" width="100%" border="1" summary="4 ASH samplings are listed with values for time, SID, module, SQL  ID, state, and event" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d3429e858">时间</th>
                                 <th align="left" valign="bottom" width="20%" id="d3429e861">SID</th>
                                 <th align="left" valign="bottom" width="20%" id="d3429e864">模</th>
                                 <th align="left" valign="bottom" width="20%" id="d3429e867">SQL ID</th>
                                 <th align="left" valign="bottom" width="20%" id="d3429e870">州</th>
                                 <th align="left" valign="bottom" width="20%" id="d3429e873">事件</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d3429e878" headers="d3429e858 ">
                                    <p>7:38</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e878 d3429e861 ">
                                    <p>213</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e878 d3429e864 ">
                                    <p>按作者预订</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e878 d3429e867 ">
                                    <p>qa324jffritcf</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e878 d3429e870 ">
                                    <p>等候</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e878 d3429e873 ">
                                    <p>db文件顺序读取</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d3429e897" headers="d3429e858 ">
                                    <p>7:42</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e897 d3429e861 ">
                                    <p>213</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e897 d3429e864 ">
                                    <p>获取评论ID</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e897 d3429e867 ">
                                    <p>aferv5desfzs5</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e897 d3429e870 ">
                                    <p>中央处理器</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e897 d3429e873 ">
                                    <p>N / A</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d3429e916" headers="d3429e858 ">
                                    <p>7:50</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e916 d3429e861 ">
                                    <p>213</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e916 d3429e864 ">
                                    <p>将商品添加到购物车</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e916 d3429e867 ">
                                    <p>hk32pekfcbdfr</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e916 d3429e870 ">
                                    <p>等候</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e916 d3429e873 ">
                                    <p>缓冲忙等待</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d3429e935" headers="d3429e858 ">
                                    <p>7:52</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e935 d3429e861 ">
                                    <p>213</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e935 d3429e864 ">
                                    <p>查看</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e935 d3429e867 ">
                                    <p>abngldf95f4de</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e935 d3429e870 ">
                                    <p>等候</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d3429e935 d3429e873 ">
                                    <p>日志文件同步</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="TDPPT012"></a><div class="props_rev_3"><a id="GUID-031F2D19-550C-4DF9-ADE0-EDA0CA14D9E9" name="GUID-031F2D19-550C-4DF9-ADE0-EDA0CA14D9E9"></a><h4 id="TDPPT-GUID-031F2D19-550C-4DF9-ADE0-EDA0CA14D9E9" class="sect4"><span class="enumeration_section">2.1.5</span>高负载SQL统计</h4>
                  <div>
                     <p><a id="d3429e1034" class="indexterm-anchor"></a><a id="d3429e1038" class="indexterm-anchor"></a>消耗最多资源的SQL语句会根据已用时间和CPU时间等条件在系统上产生最高负载。
                     </p>
                  </div>
               </div>
            </div><a id="TDPPT490"></a><div class="props_rev_3"><a id="GUID-46A6FDCF-F5B5-40AF-A0A5-7E3617F26B65" name="GUID-46A6FDCF-F5B5-40AF-A0A5-7E3617F26B65"></a><h3 id="TDPPT-GUID-46A6FDCF-F5B5-40AF-A0A5-7E3617F26B65" class="sect3"><span class="enumeration_section">2.2</span>使用Oracle性能方法</h3>
               <div>
                  <p>使用Oracle性能方法进行性能调整<a id="d3429e1125" class="indexterm-anchor"></a>通过识别和消除数据库中的瓶颈，以及开发有效的SQL语句来实现。数据库调优分两个阶段进行：主动和被动。
                  </p>
                  <p>在主动调优阶段，您必须执行调整任务，作为日常数据库维护例程的一部分，例如查看ADDM分析和结果，监视数据库的实时性能以及响应警报。</p>
                  <p>在响应调优阶段，您必须响应用户报告的问题，例如可能在短时间内发生的性能问题，或者在一段时间内数据库性能下降。</p>
                  <p>SQL调优是一个迭代过程，用于识别，调整和提高高负载SQL语句的效率。</p>
                  <p>应用Oracle性能方法涉及以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>执行预调整准备工作，如<span class="q">“ <a href="oracle-database-performance-method.html#GUID-D8F76D20-8E7C-4FF8-9F03-918E94A8E49E">准备调整数据库</a> ”中所述</span></p>
                     </li>
                     <li>
                        <p>定期主动调整数据库，如<span class="q">“ <a href="oracle-database-performance-method.html#GUID-1272C55B-4D9C-4249-8637-CCF336411AC9">主动调整数据库</a> ”中所述</span></p>
                     </li>
                     <li>
                        <p>在用户报告性能问题时反应性地调整数据库，如<span class="q">“ <a href="oracle-database-performance-method.html#GUID-C4C0667F-E44B-4F09-9EF9-3370F6A68C8A">反应性地调整数据库</a> ”中所述</span></p>
                     </li>
                     <li>
                        <p>识别，调整和优化高负载SQL语句，如<span class="q">“ <a href="oracle-database-performance-method.html#GUID-8A2BF70E-A635-4675-8189-606B35B49FD6">调整SQL语句</a> ”中所述</span></p>
                     </li>
                  </ul>
                  <p>要提高数据库性能，必须迭代应用这些原则。</p>
               </div><a id="TDPPT491"></a><div class="props_rev_3"><a id="GUID-D8F76D20-8E7C-4FF8-9F03-918E94A8E49E" name="GUID-D8F76D20-8E7C-4FF8-9F03-918E94A8E49E"></a><h4 id="TDPPT-GUID-D8F76D20-8E7C-4FF8-9F03-918E94A8E49E" class="sect4"><span class="enumeration_section">2.2.1</span>准备数据库以进行调整</h4>
                  <div>
                     <div class="section">
                        <p>本节列出并描述了在正确调整数据库之前必须执行的步骤。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D8F76D20-8E7C-4FF8-9F03-918E94A8E49E__GUID-F17EAF65-953C-47D5-B465-2252771B4A83">准备数据库以进行调整：</p>
                        <ol>
                           <li>
                              <p>获取用户的反馈。</p>
                              <p>确定绩效项目的范围和后续绩效目标，并确定未来的绩效目标。此过程是未来容量规划的关键。</p>
                           </li>
                           <li>
                              <p>检查涉及用户性能的所有系统的操作系统。</p>
                              <p>检查已充分利用的硬件或操作系统资源。列出任何过度使用的资源，以便以后分析。此外，确保所有硬件都正常运行。</p>
                           </li>
                           <li>
                              <p>确保<code class="codeph">STATISTICS_LEVEL</code>初始化参数设置为<code class="codeph">TYPICAL</code> （默认值）或<code class="codeph">ALL</code>以启用Oracle数据库的自动性能调整功能，包括AWR和ADDM。</p>
                           </li>
                           <li>
                              <p><a id="d3429e1291" class="indexterm-anchor"></a><a id="d3429e1293" class="indexterm-anchor"></a>确保<code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code>初始化参数设置为<code class="codeph">DIAGNOSTIC+TUNING</code> （默认值）或<code class="codeph">DIAGNOSTIC</code>以启用ADDM。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-D8F76D20-8E7C-4FF8-9F03-918E94A8E49E__GUID-DF2E6B79-39CC-44C0-B2C8-A12A17DD6423">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="oracle-database-performance-method.html#GUID-811C438C-149B-4BFE-A40A-1FAF2BF67C95">使用自动工作负载存储库收集数据库统计</a></span>信息<span class="q">”</span>以获取有关配置AWR的信息</p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="automatic-database-performance-monitoring.html#GUID-DE45C80A-1825-4E24-A9C6-521610B63B07">配置自动数据库诊断监视器</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT492"></a><div class="props_rev_3"><a id="GUID-1272C55B-4D9C-4249-8637-CCF336411AC9" name="GUID-1272C55B-4D9C-4249-8637-CCF336411AC9"></a><h4 id="TDPPT-GUID-1272C55B-4D9C-4249-8637-CCF336411AC9" class="sect4"><span class="enumeration_section">2.2.2</span>主动调整数据库</h4>
                  <div>
                     <div class="section">
                        <p>本节列出并描述了定期对数据库进行适当调整所需的主动步骤。执行这些步骤作为Oracle数据库日常维护的一部分。重复调整过程，直到达到性能目标或由于其他限制而无法实现。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1272C55B-4D9C-4249-8637-CCF336411AC9__GUID-26A0D1D8-2799-4701-B2C2-696003981D1C">要主动调整数据库：</p>
                        <ol>
                           <li>
                              <p>查看ADDM结果，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监控中所述</a> 。
                              </p>
                              <p>ADDM自动检测并报告数据库的性能问题，包括大多数<span class="q">“ <a href="oracle-database-performance-method.html#GUID-D5B54332-FE40-4537-B1C9-0704343CEF54">数据库中发现的常见性能问题</a> ”</span> 。结果在Oracle Enterprise Manager云控制（云控制）中的数据库主页上显示为ADDM结果。通过查看这些发现，您可以快速确定需要引起注意的性能问题。
                              </p>
                           </li>
                           <li>
                              <p>实现ADDM建议，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视中所述</a> 。
                              </p>
                              <p>通过每次ADDM发现，ADDM会自动提供一系列建议，以减少性能问题的影响。实施建议应用建议的更改以提高数据库性能。</p>
                           </li>
                           <li>
                              <p>实时监控数据库的性能问题，如<a href="monitoring-real-time-database-performance.html#GUID-EB19F9B4-A912-4354-8D8D-F89EEFD56704">监控实时数据库性能中所述</a> 。
                              </p>
                              <p>Cloud Control中的“性能”页面使您能够识别并响应实时性能问题。通过深入到适当的页面，您可以实时识别和解决数据库的性能问题，而无需等到下一次ADDM分析。</p>
                           </li>
                           <li>
                              <p>响应与性能相关的警报，如<a href="monitoring-performance-alerts.html#GUID-884BBFEE-BDEB-447E-9384-9FE8FC1D69F9">监控性能警报中所述</a> 。
                              </p>
                              <p>Cloud Control中的数据库主页显示数据库生成的与性能相关的警报。通常，解决这些警报指示的问题可提高数据库性能。</p>
                           </li>
                           <li>
                              <p>验证所有更改是否产生了所需的效果，并验证用户是否体验到了性能改进。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT493"></a><div class="props_rev_3"><a id="GUID-C4C0667F-E44B-4F09-9EF9-3370F6A68C8A" name="GUID-C4C0667F-E44B-4F09-9EF9-3370F6A68C8A"></a><h4 id="TDPPT-GUID-C4C0667F-E44B-4F09-9EF9-3370F6A68C8A" class="sect4"><span class="enumeration_section">2.2.3</span>反应调优数据库</h4>
                  <div>
                     <div class="section">
                        <p>本节列出并描述了根据用户反馈调整数据库所需的步骤。该调整过程被认为是被动的。当用户报告性能问题时，请定期执行此过程。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C4C0667F-E44B-4F09-9EF9-3370F6A68C8A__GUID-8A44A55F-D067-4271-9FD1-11B62762CB88">以反应方式调整数据库：</p>
                        <ol>
                           <li>
                              <p>手动运行ADDM以在用户报告性能问题时诊断当前和历史数据库性能，如<a href="manual-database-performance-monitoring.html#GUID-BF18504A-3CFC-46FC-A2D9-F17D38EA38E8">手动数据库性能监视中所述</a> 。
                              </p>
                              <p>通过这种方式，您可以在下一次ADDM分析之前分析当前数据库性能，或者在未主动监视系统时分析历史数据库性能。</p>
                           </li>
                           <li>
                              <p>解决瞬态性能问题，如<a href="resolving-transient-performance-problems.html#GUID-2AE0B06D-65E5-45A2-AFCB-F027568BC601">解决瞬态性能问题中所述</a> 。
                              </p>
                              <p>通过活动会话历史记录（ASH）报告，您可以分析数据库的瞬态性能问题，这些问题是短暂的，并且不会出现在ADDM分析中。</p>
                           </li>
                           <li>
                              <p>解决性能随时间降低的问题，如<a href="resolving-performance-degradation-over-time.html#GUID-71C2B1BD-6906-47B0-9FF5-BD3268F0C7C8">解决性能随时间的降级中</a>所述。
                              </p>
                              <p>自动工作负载存储库（AWR）比较周期报告使您能够比较两个时间段之间的数据库性能，并解决从一个时间段到另一个时间段可能发生的性能下降。</p>
                           </li>
                           <li>
                              <p>验证所做的更改是否产生了所需的效果，并验证用户是否体验到了性能改进。</p>
                           </li>
                           <li>
                              <p>重复这些步骤，直到达到您的性能目标或由于其他限制而无法实现。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT494"></a><div class="props_rev_3"><a id="GUID-8A2BF70E-A635-4675-8189-606B35B49FD6" name="GUID-8A2BF70E-A635-4675-8189-606B35B49FD6"></a><h4 id="TDPPT-GUID-8A2BF70E-A635-4675-8189-606B35B49FD6" class="sect4"><span class="enumeration_section">2.2.4</span>调整SQL语句</h4>
                  <div>
                     <div class="section">
                        <p>本节列出并描述了识别，调优和优化高负载SQL语句所需的步骤。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8A2BF70E-A635-4675-8189-606B35B49FD6__GUID-6ACBC7C5-970A-4958-9AE9-07C2078EE1EA">调整SQL语句：</p>
                        <ol>
                           <li>
                              <p>识别高负载SQL语句，如<a href="identifying-high-load-sql-statements.html#GUID-D4D8C985-93B4-402C-A6C9-D5ABA980BEDB">识别高负载SQL语句中所述</a> 。
                              </p>
                              <p>使用ADDM结果和Top SQL部分来识别导致最大争用的高负载SQL语句。</p>
                           </li>
                           <li>
                              <p>调整高负载SQL语句，如<a href="tuning-sql-statements.html#GUID-6B386EC1-A58F-4CFC-AEFB-9F787A112396">调整SQL语句中所述</a> 。
                              </p>
                              <p>您可以通过使用SQL Tuning Advisor进行调优来提高高负载SQL语句的效率。</p>
                           </li>
                           <li>
                              <p>优化数据访问路径，如<a href="optimizing-data-access-paths.html#GUID-1E926221-441F-483A-B045-8AE4A5764B8C">优化数据访问路径中所述</a> 。
                              </p>
                              <p>您可以通过创建适当的集合来优化数据访问路径的性能<a id="d3429e1728" class="indexterm-anchor"></a>物化观点， <a id="d3429e1733" class="indexterm-anchor"></a>物化视图日志，和<a id="d3429e1738" class="indexterm-anchor"></a>使用SQL Access Advisor的给定工作负载的索引。
                              </p>
                           </li>
                           <li>
                              <p>使用SQL Performance Analyzer分析SQL调优和其他系统更改对SQL性能的影响。</p>
                              <p>要了解如何使用SQL Performance Analyzer，请参阅“ <a href="../ratug/introduction-to-sql-performance-analyzer.html#RATUG166" target="_blank"><span class="italic">Oracle数据库测试指南”</span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>重复这些步骤，直到调优所有高负载SQL语句以获得最高效率。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="TDPPT018"></a><div class="props_rev_3"><a id="GUID-D5B54332-FE40-4537-B1C9-0704343CEF54" name="GUID-D5B54332-FE40-4537-B1C9-0704343CEF54"></a><h3 id="TDPPT-GUID-D5B54332-FE40-4537-B1C9-0704343CEF54" class="sect3"><span class="enumeration_section">2.3</span>数据库中常见的性能问题</h3>
               <div>
                  <p>本节列出并描述了数据库中常见的性能问题。通过遵循Oracle性能方法，您应该能够在Oracle数据库实例中避免这些问题。如果遇到这些问题，请重复Oracle性能方法中的步骤，如<span class="q">“ <a href="oracle-database-performance-method.html#GUID-46A6FDCF-F5B5-40AF-A0A5-7E3617F26B65">使用Oracle性能方法</a> ”中所述</span> ，或参考解决这些问题的相应部分：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>CPU瓶颈</p>
                        <p>由于系统受CPU限制，应用程序是否表现不佳？由CPU瓶颈引起的性能问题由ADDM诊断，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视中所述</a> 。您还可以使用“云控制<span class="q">”</span>中的<span class="q">“</span>性能”页面来识别CPU瓶颈，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002">监控CPU利用率</a> ”中所述</span> 。
                        </p>
                     </li>
                     <li>
                        <p>小型内存结构</p>
                        <p>Oracle内存结构（如系统全局区域（SGA），程序全局区域（PGA）和缓冲区缓存）是否足够大？ADDM会诊断由尺寸过小的内存结构导致的性能问题，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视中所述</a> 。您还可以使用“云控制<span class="q">”</span>中的<span class="q">“</span>性能”页面来识别内存使用问题，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A">监视内存利用率</a> ”中所述</span> 。
                        </p>
                     </li>
                     <li>
                        <p>I / O容量问题</p>
                        <p>I / O子系统是否按预期运行？由I / O容量问题引起的性能问题由ADDM诊断，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视中所述</a> 。您还可以使用Cloud Control中的<span class="q">“</span>性能”页面来识别磁盘I / O问题，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF">监视磁盘I / O利用率</a> ”中所述</span> 。
                        </p>
                     </li>
                     <li>
                        <p>应用程序对Oracle数据库的次优使用</p>
                        <p>该应用程序是否使用Oracle数据库次优？诸如重复建立新的数据库连接，过多的SQL解析以及针对少量数据的高级别争用（也称为应用程序级块争用）等问题会显着降低应用程序性能。应用程序对Oracle数据库的次优使用导致的性能问题由ADDM诊断，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视中所述</a> 。您还可以使用“云控制<span class="q">”</span>中的<span class="q">“</span>性能”页面监视各种维度的顶级活动，包括SQL，会话，服务，模块和操作，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">监控用户活动</a> ”中所述</span> 。
                        </p>
                     </li>
                     <li>
                        <p>并发问题</p>
                        <p>由于数据库中的高度并发活动，数据库是否执行次优？高度并发活动可能导致争用共享资源，这些资源可以以锁的形式显示或等待缓冲区缓存。并发问题导致的性能问题由ADDM诊断，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视中所述</a> 。您还可以使用云控制中的热门会话来识别并发问题，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-F89D9B48-A4CA-4AC6-80FB-81EF8BB78DFC">监控热门会话</a> ”中所述</span> 。
                        </p>
                     </li>
                     <li>
                        <p>数据库配置问题</p>
                        <p>数据库是否以最佳方式配置以提供所需的性能级别？例如，是否有证据表明日志文件大小不正确，归档问题，检查点太多或参数设置次优？数据库配置问题导致的性能问题由ADDM诊断，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视中所述</a> 。
                        </p>
                     </li>
                     <li>
                        <p>短暂的性能问题</p>
                        <p>用户是否抱怨短暂或间歇性的性能问题？根据AWR拍摄的快照之间的间隔，ADDM可能无法捕获持续时间较短的性能问题。您可以使用“活动会话历史记录”报告来识别短期性能问题，如<a href="resolving-transient-performance-problems.html#GUID-2AE0B06D-65E5-45A2-AFCB-F027568BC601">解决瞬态性能问题中所述</a> 。
                        </p>
                     </li>
                     <li>
                        <p>随着时间的推移降低数据库性能</p>
                        <p>是否有证据表明数据库性能随着时间的推移而降低？例如，您或您的用户是否注意到数据库的性能不如6个月前？您可以生成AWR比较周期报告，以将性能较差的周期与性能稳定的周期进行比较，以识别这两个时间段之间不同的配置设置，工作负载配置文件和统计信息。此技术可帮助您确定性能下降的原因，如<a href="resolving-performance-degradation-over-time.html#GUID-71C2B1BD-6906-47B0-9FF5-BD3268F0C7C8">解决性能随时间的降级中</a>所述。
                        </p>
                     </li>
                     <li>
                        <p>低效或高负载的SQL语句</p>
                        <p>是否有任何SQL语句使用过多影响系统的系统资源？高负载SQL语句导致的性能问题由ADDM诊断，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视</a>和<span class="q">“ <a href="identifying-high-load-sql-statements.html#GUID-795AF9F0-5CBF-44FB-8D20-FC170EFA149C">使用ADDM查找识别高负载SQL语句</a> ”中所述</span> 。您还可以使用Cloud Control中的Top SQL来识别高负载SQL语句，如<span class="q">“ <a href="identifying-high-load-sql-statements.html#GUID-572D0FE3-BC16-4107-A8CC-EF59480B9C9E">使用Top SQL识别高负载SQL语句</a> ”中所述</span> 。确定它们之后，您可以使用SQL Tuning Advisor调整高负载SQL语句，如<a href="tuning-sql-statements.html#GUID-6B386EC1-A58F-4CFC-AEFB-9F787A112396">调整SQL语句中所述</a> 。
                        </p>
                     </li>
                     <li>
                        <p>对象争用</p>
                        <p>是否有任何数据库对象成为瓶颈的源头，因为它们会被持续访问？由ADDM诊断由对象争用引起的性能问题，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视中所述</a> 。您还可以使用SQL Access Advisor <a href="optimizing-data-access-paths.html#GUID-1E926221-441F-483A-B045-8AE4A5764B8C">优化</a>这些对象的数据访问路径，如<a href="optimizing-data-access-paths.html#GUID-1E926221-441F-483A-B045-8AE4A5764B8C">优化数据访问路径中所述</a> 。
                        </p>
                     </li>
                     <li>
                        <p>调优SQL语句后出现意外的性能回归</p>
                        <p>调整后SQL语句的性能是否会降低？调优SQL语句可能会导致其执行计划发生更改，从而对SQL性能产生重大影响。在某些情况下，更改可能会导致SQL性能的提高。在其他情况下，更改可能导致SQL语句回退，从而导致SQL性能下降。</p>
                        <p>在对生产系统进行更改之前，您可以使用SQL Performance Analyzer分析SQL调优对测试系统的影响。此功能使您可以通过以下方式预测系统更改对SQL工作负载的影响：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>测量变化前后的性能</p>
                           </li>
                           <li>
                              <p>生成描述性能变化的报告</p>
                           </li>
                           <li>
                              <p>识别回归或改进的SQL语句</p>
                           </li>
                           <li>
                              <p>为每个回归的SQL语句提供调优建议</p>
                           </li>
                           <li>
                              <p>允许您在适当时实施调整建议</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-D5B54332-FE40-4537-B1C9-0704343CEF54__GUID-92E36EBD-0365-4A97-8F11-9A6C396E66D9">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdppt&amp;id=RATUG166" target="_blank"><span class="italic">Oracle数据库测试指南</span></a>了解有关如何使用SQL Performance Analyzer的更多信息</p>
                        </div>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="02667.getting-started-with-enterprise-user-security.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>企业用户安全入门</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Enterprise User Security Administrator&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Enterprise User Security Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="enterprise-user-security-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:14:01-08:00"></meta>
      <meta name="dcterms.title" content="Enterprise User Security Administrator&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2000, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96086-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="introducing-enterprise-user-security.html" title="Previous" type="text/html"></link>
      <link rel="next" href="configuration-and-administration-tools-overview.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="DBIMI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="introducing-enterprise-user-security.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="configuration-and-administration-tools-overview.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">企业用户安全管理员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">企业用户安全入门</li>
            </ol>
            <a id="GUID-F141E5DA-B824-4258-9FA8-67AB19D84C11" name="GUID-F141E5DA-B824-4258-9FA8-67AB19D84C11"></a><a id="DBIMI234"></a>
            
            <h2 id="DBIMI-GUID-F141E5DA-B824-4258-9FA8-67AB19D84C11" class="sect2"><span class="enumeration_chapter">2</span>企业用户安全入门</h2>
         </header>
         <div class="ind">
            <div>
               <p>Enterprise User Security使您可以集中管理整个企业中的数据库用户。企业用户在Oracle Internet Directory中创建，可以在向目录注册的各种企业数据库中分配角色和权限。</p>
               <div class="p">本章使用教程方法来帮助您开始使用Enterprise User Security。以下步骤讨论配置企业用户安全性：<ol>
                     <li>
                        <p><a href="getting-started-with-enterprise-user-security.html#GUID-941C4042-75F4-40E3-BFDB-E940A705A7F1">配置数据库以使用目录</a></p>
                     </li>
                     <li>
                        <p><a href="getting-started-with-enterprise-user-security.html#GUID-E7630A49-7279-4B0A-9068-EC8E45E6EB77">使用目录注册数据库</a></p>
                     </li>
                     <li>
                        <p><a href="getting-started-with-enterprise-user-security.html#GUID-F02B0E21-8805-4599-A15A-9020B42FDDDC">在数据库中创建共享架构</a></p>
                     </li>
                     <li>
                        <p><a href="getting-started-with-enterprise-user-security.html#GUID-2EFFF189-C67D-4C78-8A8C-270428A977B4">将企业用户映射到共享架构</a></p>
                     </li>
                     <li>
                        <p><a href="getting-started-with-enterprise-user-security.html#GUID-143F77C6-B304-4720-A844-3CCDD9F56C5F">以企业用户身份连接到数据库</a></p>
                     </li>
                     <li>
                        <p><a href="getting-started-with-enterprise-user-security.html#GUID-86219ABB-1E28-4206-A847-F9366A679785">使用企业角色</a></p>
                     </li>
                     <li>
                        <p><a href="getting-started-with-enterprise-user-security.html#GUID-475A2CAA-7D97-42FF-8985-CF3DB0E0284D">使用代理权限</a></p>
                     </li>
                     <li>
                        <p><a href="getting-started-with-enterprise-user-security.html#GUID-ECF44B7C-610F-49FC-9865-ED9BAA0DF22C">使用可插拔数据库</a></p>
                     </li>
                  </ol>
               </div>
            </div><a id="DBIMI565"></a><a id="DBIMI235"></a><div class="props_rev_3"><a id="GUID-941C4042-75F4-40E3-BFDB-E940A705A7F1" name="GUID-941C4042-75F4-40E3-BFDB-E940A705A7F1"></a><h3 id="DBIMI-GUID-941C4042-75F4-40E3-BFDB-E940A705A7F1" class="sect3">配置数据库以使用目录</h3>
               <div>
                  <div class="section">
                     <p>配置企业用户安全性的第一步是配置数据库以使用该目录。通过运行Net Configuration Assistant（NetCA）工具，您可以配置数据库应使用的目录主机名和端口。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-941C4042-75F4-40E3-BFDB-E940A705A7F1__GUID-2C79BA38-8CDB-4414-9A55-B360C8D6812C">要配置数据库以使用目录：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>使用<code class="codeph">netca</code>命令启动NetCA。</span><div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在Windows上，您还可以从“开始”菜单启动NetCA：</p>
                                 <p>单击<span class="bold">开始，所有程序，Oracle  -</span> <span class="italic"><span class="bold">OracleHomeName</span></span> ， <span class="bold">配置和迁移工具，Net Configuration Assistant。</span></p>
                              </li>
                              <li>
                                 <p>在Unix系统上，您可以使用以下命令启动NetCA：</p>
                                 <p><span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <code class="codeph">/bin/netca</code> 
                                 </p>
                              </li>
                           </ul>
                           <p>出现欢迎屏幕。</p>
                           <div class="figure" id="GUID-941C4042-75F4-40E3-BFDB-E940A705A7F1__GUID-05F09E34-8A9F-448B-9D55-8FCE66A74B48"><img src="img/netca1.gif" width="523" alt="netca1.gif的描述如下" title="netca1.gif的描述如下" longdesc="img_text/netca1.html"><br><a href="img_text/netca1.html">netca1.gif插图的描述</a></div>
                           <!-- class="figure" -->
                        </div>
                     </li>
                     <li class="stepexpand"><span>选择<span class="bold">目录使用配置</span> 。单击<span class="bold">下一步</span> 。</span><div>
                           <p>将出现“目录类型”屏幕。</p>
                           <div class="figure" id="GUID-941C4042-75F4-40E3-BFDB-E940A705A7F1__GUID-950513B4-465E-4BAD-A0F2-580BF1F0080D"><img src="img/netca2.gif" width="523" alt="netca2.gif的描述如下" title="netca2.gif的描述如下" longdesc="img_text/netca2.html"><br><a href="img_text/netca2.html">netca2.gif插图的描述</a></div>
                           <!-- class="figure" -->
                        </div>
                     </li>
                     <li class="stepexpand"><span>单击<span class="bold">下一步</span> 。</span><div>
                           <p>出现“目录位置”屏幕。</p>
                           <div class="figure" id="GUID-941C4042-75F4-40E3-BFDB-E940A705A7F1__GUID-0B9ADC9B-65E9-4AF1-B31D-334D46944E1A"><img src="img/netca3.gif" width="523" alt="netca3.gif的描述如下" title="netca3.gif的描述如下" longdesc="img_text/netca3.html"><br><a href="img_text/netca3.html">netca3.gif插图的描述</a></div>
                           <!-- class="figure" -->
                        </div>
                     </li>
                     <li class="stepexpand"><span>输入运行Oracle Internet Directory服务器的主机的名称。同时输入LDAP非SSL和SSL端口号。默认情况下，这些端口号为3060和3131。点击下一步。</span><div>
                           <p>将出现“选择Oracle上下文”屏幕。</p>
                           <div class="figure" id="GUID-941C4042-75F4-40E3-BFDB-E940A705A7F1__GUID-9EA4FA0C-5DC0-408A-8EDB-2ED4D23D20B6"><img src="img/netca4.gif" width="523" alt="netca4.gif的描述如下" title="netca4.gif的描述如下" longdesc="img_text/netca4.html"><br><a href="img_text/netca4.html">netca4.gif插图的描述</a></div>
                           <!-- class="figure" -->
                        </div>
                     </li>
                     <li class="stepexpand"><span>选择要使用的默认Oracle上下文。如果目录服务器上有多个身份管理域，则需要选择此项。单击<span class="bold">下一步</span> 。</span><div>
                           <p>将显示“目录使用配置，完成”屏幕。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>确认目录使用配置已成功完成。单击<span class="bold">下一步</span> 。</span></li>
                     <li class="stepexpand"><span>单击<span class="bold">完成</span> 。</span><div>
                           <p>NetCA在<span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <code class="codeph">/network/admin</code>目录中创建一个<code class="codeph">ldap.ora</code>文件。这是Windows中的<span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <code class="codeph">\network\admin</code>目录。<code class="codeph">ldap.ora</code>文件存储有关目录的连接信息详细信息。
                           </p>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="DBIMI566"></a><a id="DBIMI236"></a><div class="props_rev_3"><a id="GUID-E7630A49-7279-4B0A-9068-EC8E45E6EB77" name="GUID-E7630A49-7279-4B0A-9068-EC8E45E6EB77"></a><h3 id="DBIMI-GUID-E7630A49-7279-4B0A-9068-EC8E45E6EB77" class="sect3">使用目录注册数据库</h3>
               <div>
                  <div class="section">
                     <p>下一步是使用目录服务注册数据库。Database Configuration Assistant（DBCA）工具使您可以使用Oracle Internet Directory注册数据库。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E7630A49-7279-4B0A-9068-EC8E45E6EB77__GUID-3C81A92C-2832-4860-92CD-711AC3E0288A">要使用以下目录注册数据库：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>使用<code class="codeph">dbca</code>命令启动DBCA。</span><div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在Windows上，您还可以从“开始”菜单启动DBCA：</p>
                                 <p>单击<span class="bold">开始，所有程序，Oracle  -</span> <span class="italic"><span class="bold">OracleHomeName</span></span> ， <span class="bold">配置和迁移工具，数据库配置助手。</span></p>
                              </li>
                              <li>
                                 <p>在Unix系统上，您可以使用以下命令启动DBCA：</p>
                                 <p><span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <code class="codeph">/bin/dbca</code> 
                                 </p>
                              </li>
                           </ul>
                           <p>出现欢迎屏幕。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>单击<span class="bold">下一步</span> 。</span><div>
                           <p>将显示“操作”屏幕。</p>
                           <div class="figure" id="GUID-E7630A49-7279-4B0A-9068-EC8E45E6EB77__GUID-95386736-9970-4E60-A37E-50237BE1AF26"><img src="img/dbca2.gif" alt="下面是dbca2.gif的描述" title="下面是dbca2.gif的描述" longdesc="img_text/dbca2.html"><br><a href="img_text/dbca2.html">说明dbca2.gif的描述</a></div>
                           <!-- class="figure" -->
                        </div>
                     </li>
                     <li class="stepexpand"><span>选择<span class="bold">配置数据库选项</span> 。单击<span class="bold">下一步</span> 。</span><div>
                           <p>出现数据库屏幕。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>选择要配置的数据库名称。如果不使用操作系统身份验证，可能还会要求您输入<code class="codeph">SYS</code>用户凭据。单击<span class="bold">下一步</span> 。</span><div>
                           <p>出现“管理选项”屏幕。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>选择管理选项，然后单击“ <span class="bold">下一步”</span> 。</span><div>
                           <p>出现“安全设置”屏幕。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>选择<span class="bold">保留增强的12c默认安全设置</span>以保留Oracle Database 12 <span class="italic">c</span>安全设置。单击<span class="bold">下一步</span> 。</span><div>
                           <p>出现“网络配置”屏幕。</p>
                           <div class="figure" id="GUID-E7630A49-7279-4B0A-9068-EC8E45E6EB77__GUID-860469C2-8CE3-4F85-8E4E-97E3C2F93096"><img src="img/dbca6.gif" alt="下面是dbca6.gif的描述" title="下面是dbca6.gif的描述" longdesc="img_text/dbca6.html"><br><a href="img_text/dbca6.html">说明dbca6.gif的描述</a></div>
                           <!-- class="figure" -->
                        </div>
                     </li>
                     <li class="stepexpand"><span>选择<span class="bold">是，注册数据库</span>以使用目录注册数据库。输入有权在Oracle Internet Directory中注册数据库的用户的可分辨名称（DN）。另外，输入目录用户的密码。输入钱包密码。在“ <span class="bold">确认密码”</span>字段中重新输入密码。单击<span class="bold">下一步</span> 。</span><div>
                           <div class="infoboxnote" id="GUID-E7630A49-7279-4B0A-9068-EC8E45E6EB77__GUID-D0E6D7ED-2695-48EC-B22C-E8BA9C69DE93">
                              <p class="notep1">注意：</p>
                              <p>数据库使用随机生成的密码登录目录。此数据库密码存储在Oracle钱包中。钱包还可用于存储SSL连接所需的证书。</p>
                              <p>您指定的钱包密码与数据库密码不同。钱包密码用于保护钱包。</p>
                           </div>
                           <p>出现“ <span class="bold">数据库组件”</span>屏幕。
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>单击<span class="bold">下一步</span> 。</span><div>
                           <p>将出现“ <span class="bold">连接模式”</span>页面。
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>选择<span class="bold">专用服务器模式</span>或<span class="bold">共享服务器模式</span> 。单击<span class="bold">完成</span> 。</span><div>
                           <p>出现“ <span class="bold">确认”</span>对话框。
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>单击<span class="bold">确定</span> 。</span></li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-E7630A49-7279-4B0A-9068-EC8E45E6EB77__GUID-E9F2538A-3675-4A42-B673-10B00A49EBE1">
                        <p class="notep1">注意：</p>
                        <p>使用目录注册数据库后，请确保为数据库钱包启用了自动登录。默认钱包在<span class="italic"><code class="codeph">$ORACLE_BASE</code></span> <code class="codeph">/admin/</code> <span class="italic"><code class="codeph">database_sid</code></span> <code class="codeph">/wallet</code>目录中创建。
                        </p>
                        <p>您可以通过检查wallet目录中是否存在<code class="codeph">cwallet.sso</code>文件来验证是否启用了钱包的自动登录。如果该文件不存在，您可以通过使用Oracle Wallet Manager打开钱包并使用该选项启用钱包的自动登录来启用自动登录。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBIMI567"></a><a id="DBIMI237"></a><div class="props_rev_3"><a id="GUID-F02B0E21-8805-4599-A15A-9020B42FDDDC" name="GUID-F02B0E21-8805-4599-A15A-9020B42FDDDC"></a><h3 id="DBIMI-GUID-F02B0E21-8805-4599-A15A-9020B42FDDDC" class="sect3">在数据库中创建共享架构</h3>
               <div>
                  <div class="section">
                     <p>通过在数据库中创建共享模式，您可以将多个企业用户映射到同一模式。<a href="getting-started-with-enterprise-user-security.html#GUID-F02B0E21-8805-4599-A15A-9020B42FDDDC__CBHGCHGH">示例2-1</a>创建了一个共享模式<code class="codeph">global_ident_schema_user</code> ，并向其授予<code class="codeph">CONNECT</code>角色。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-F02B0E21-8805-4599-A15A-9020B42FDDDC__CBHGCHGH">
                     <p class="titleinexample">示例2-1创建共享架构</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE USER global_ident_schema_user全局识别;用户创建。SQL&gt; GRANT CONNECT TO global_ident_schema_user;格兰特成功了。
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="DBIMI568"></a><a id="DBIMI238"></a><div class="props_rev_3"><a id="GUID-2EFFF189-C67D-4C78-8A8C-270428A977B4" name="GUID-2EFFF189-C67D-4C78-8A8C-270428A977B4"></a><h3 id="DBIMI-GUID-2EFFF189-C67D-4C78-8A8C-270428A977B4" class="sect3">将企业用户映射到共享架构</h3>
               <div>
                  <div class="section">
                     <p>可以使用Enterprise Manager管理企业用户安全性。<a href="getting-started-with-enterprise-user-security.html#GUID-2EFFF189-C67D-4C78-8A8C-270428A977B4__CBHJGBDH">示例2-2</a>将DN， <code class="codeph">cn=users, dc=us, dc=oracle, dc=com</code>映射到共享数据库模式<code class="codeph">global_ident_schema_user</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-2EFFF189-C67D-4C78-8A8C-270428A977B4__CBHJGBDH">
                     <p class="titleinexample">示例2-2将企业用户映射到共享架构</p>
                     <p>要创建用户架构映射：</p>
                     <ol>
                        <li>
                           <p>以管理用户身份登录Enterprise Manager Cloud Control。</p>
                        </li>
                        <li>
                           <p>要导航到数据库，请从“ <span class="bold">目标”</span>菜单中选择“ <span class="bold">数据库</span> ”。
                           </p>
                        </li>
                        <li>
                           <p>单击出现的列表中的数据库名称。出现数据库页面。</p>
                        </li>
                        <li>
                           <p>在<span class="bold">Administration</span>菜单下，选择<span class="bold">Security，Enterprise User Security。</span> 将显示“Oracle Internet Directory登录”页面。
                           </p>
                        </li>
                        <li>
                           <p>在“ <span class="bold">用户”</span>字段中输入可以管理企业用户的目录用户的可分辨名称（DN）。在“ <span class="bold">密码”</span>字段中输入用户密码。单击<span class="bold">登录</span> 。
                           </p>
                           <div class="infoboxnotealso" id="GUID-2EFFF189-C67D-4C78-8A8C-270428A977B4__GUID-E4AD6756-EAF0-4E01-9248-4FD022AB8591">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="getting-started-with-enterprise-user-security.html#GUID-E7630A49-7279-4B0A-9068-EC8E45E6EB77">使用目录注册数据库</a> ，特别是步骤6，您先前已输入用户DN和密码以使用目录服务注册数据库</p>
                           </div>
                           <p>将显示“企业用户安全性”页面</p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">管理企业域”</span> 。
                           </p>
                           <p>将显示“管理企业域”页面。</p>
                        </li>
                        <li>
                           <p>选择包含数据库的企业域。单击<span class="bold">配置</span> 。
                           </p>
                           <p>将显示“配置域”页面。</p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">用户架构映射”</span>选项卡。将显示适用于企业域的所有用户架构映射。
                           </p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">创建”</span>
                           </p>
                           <p>系统弹出“创建映射”页面。</p>
                        </li>
                        <li>
                           <p>在“发件人”部分下，选择<span class="bold">“子树”</span> 。单击“搜索”图标。选择DN， <span class="bold">cn = Users，dc = us，dc = oracle，dc = com</span> 。
                           </p>
                        </li>
                        <li>
                           <p>在“收件人”部分下，在“ <span class="bold">架构”</span>字段中输入global_ident_schema_user。单击<span class="bold">继续</span> 。
                           </p>
                           <p>用户架构映射将添加到“配置域”页面中。</p>
                        </li>
                        <li>
                           <p>单击<span class="bold">确定</span> 。</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="example" -->
               </div>
            </div><a id="DBIMI569"></a><a id="DBIMI239"></a><div class="props_rev_3"><a id="GUID-143F77C6-B304-4720-A844-3CCDD9F56C5F" name="GUID-143F77C6-B304-4720-A844-3CCDD9F56C5F"></a><h3 id="DBIMI-GUID-143F77C6-B304-4720-A844-3CCDD9F56C5F" class="sect3">以企业用户身份连接到数据库</h3>
               <div>
                  <div class="section">
                     <p>映射的Oracle Internet Directory子树中的所有用户现在都可以作为企业用户连接到数据库。<a href="getting-started-with-enterprise-user-security.html#GUID-143F77C6-B304-4720-A844-3CCDD9F56C5F__CBHEDHGI">例2-3</a>显示了连接到数据库的<code class="codeph">cn=orcladmin, cn=users, dc=us,dc=oracle,dc=com</code>用户。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-143F77C6-B304-4720-A844-3CCDD9F56C5F__CBHEDHGI">
                     <p class="titleinexample">示例2-3以企业用户身份连接到数据库</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CONNECT orcladmin输入密码：已连接。
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="DBIMI570"></a><a id="DBIMI240"></a><div class="props_rev_3"><a id="GUID-86219ABB-1E28-4206-A847-F9366A679785" name="GUID-86219ABB-1E28-4206-A847-F9366A679785"></a><h3 id="DBIMI-GUID-86219ABB-1E28-4206-A847-F9366A679785" class="sect3">使用企业角色</h3>
               <div>
                  <div class="section">
                     <p>企业角色在目录中创建。企业角色包含来自作为企业域一部分的不同数据库的全局角色。企业角色用于为企业用户分配数据库权限。</p>
                     <p><a href="getting-started-with-enterprise-user-security.html#GUID-86219ABB-1E28-4206-A847-F9366A679785__CBHEAFJD">示例2-4</a>创建了两个企业用户Joe和Nina。这两个用户都是在子树中创建的， <code class="codeph">cn=Users, dc=us,dc=oracle,dc=com</code> ，它已映射到EUSDB数据库中的<code class="codeph">global_ident_schema_user</code> 。有关上一个子树示例中显示的LDAP属性类型的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=rfc4519_ldap_attr_types" target="_blank">RFC4519  - 轻量级目录访问协议（LDAP）：用户应用程序的架构</a> 。
                     </p>
                     <p>尼娜是一名人力资源经理。她需要EUSDB数据库中<code class="codeph">hr.employees</code>表的<code class="codeph">SELECT</code>权限。<a href="getting-started-with-enterprise-user-security.html#GUID-86219ABB-1E28-4206-A847-F9366A679785__CBHEAFJD">例2-4</a>使用企业角色实现了这一点。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-86219ABB-1E28-4206-A847-F9366A679785__CBHEAFJD">
                     <p class="titleinexample">示例2-4使用企业角色</p>
                     <p>我们首先创建两个企业用户Joe和Nina。您可以使用Oracle Internet Directory自助服务控制台创建企业用户。</p>
                     <p><span class="bold">为了创建企业用户，Joe和Nina：</span></p>
                     <ol>
                        <li>
                           <p>连接到Oracle Internet Directory自助服务控制台。使用以下URL：</p>
                           <p><code class="codeph">http://</code> <span class="italic"><code class="codeph">hostname</code></span> ： <span class="italic"><code class="codeph">port</code></span> <code class="codeph">/oiddas/</code></p>
                           <p>这里， <span class="italic"><code class="codeph">hostname</code></span>是运行Oracle Internet Directory服务器的主机的名称。<span class="italic"><code class="codeph">port</code></span>号是运行Oracle Internet Directory自助服务控制台的TCP端口号。默认情况下为7777。
                           </p>
                           <div class="figure" id="GUID-86219ABB-1E28-4206-A847-F9366A679785__GUID-EA31618F-1204-43CC-BE91-C2AC937DDC00"><img src="img/getstrtd7.gif" alt="getstrtd7.gif的描述如下" title="getstrtd7.gif的描述如下" longdesc="img_text/getstrtd7.html"><br><a href="img_text/getstrtd7.html">插图描述getstrtd7.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>单击“ <span class="bold">目录”</span>选项卡。
                           </p>
                           <p>将出现“登录”页面。</p>
                           <div class="figure" id="GUID-86219ABB-1E28-4206-A847-F9366A679785__GUID-1FE61019-B988-43BA-ADC5-1AE6A8FB7ADD"><img src="img/getstrtd8.gif" width="469" alt="getstrtd8.gif的描述如下" title="getstrtd8.gif的描述如下" longdesc="img_text/getstrtd8.html"><br><a href="img_text/getstrtd8.html">插图描述getstrtd8.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>以可在Oracle Internet Directory中创建用户的用户身份登录。</p>
                           <p>出现“用户”页面。</p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">创建”</span>
                           </p>
                           <p>将出现“创建用户”页面。</p>
                           <div class="figure" id="GUID-86219ABB-1E28-4206-A847-F9366A679785__GUID-609415AE-7FC9-4317-A168-D919750EF17F"><img src="img/getstrtd9.gif" alt="getstrtd9.gif的描述如下" title="getstrtd9.gif的描述如下" longdesc="img_text/getstrtd9.html"><br><a href="img_text/getstrtd9.html">插图描述getstrtd9.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>在<span class="bold">用户</span>名下输入joe。输入其他必填字段的值。在<span class="bold">“已启用”</span>下选择<span class="bold">“已启用”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">提交”</span>
                           </p>
                        </li>
                        <li>
                           <p>单击<span class="bold">创建另一个用户</span> 。
                           </p>
                           <p>将出现“创建用户”页面。</p>
                        </li>
                        <li>
                           <p>在<span class="bold">用户</span>名下输入Nina。输入其他必填字段的值。在<span class="bold">“已启用”</span>下选择<span class="bold">“已启用”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">提交”</span>单击<span class="bold">确定</span> 。</p>
                        </li>
                     </ol>
                     <p>接下来，我们在数据库中创建一个全局角色，允许访问<code class="codeph">hr.employees</code>表。以下SQL * Plus语句创建全局角色<code class="codeph">hr_access</code>并<code class="codeph">hr_access</code>授予必要的权限。
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE ROLE hr_access全局识别;角色创建。SQL&gt; GRANT SELECT ON hr.employees TO hr_access;格兰特成功了。
</pre><p>接下来，我们创建一个名为<code class="codeph">hr_access</code>的企业角色，并为其分配全局角色。然后，我们将此企业角色分配给企业用户Nina。可以使用Enterprise Manager创建企业角色。
                     </p>
                     <p><span class="bold">要创建企业角色，</span> <span class="bold"><code class="codeph">hr_access:</code></span></p>
                     <ol>
                        <li>
                           <p>以管理用户身份登录Enterprise Manager Cloud Control。</p>
                        </li>
                        <li>
                           <p>要导航到数据库，请从“ <span class="bold">目标”</span>菜单中选择“ <span class="bold">数据库</span> ”。
                           </p>
                        </li>
                        <li>
                           <p>单击出现的列表中的数据库名称。出现数据库页面。</p>
                        </li>
                        <li>
                           <p>在<span class="bold">Administration</span>菜单下，选择<span class="bold">Security，Enterprise User Security。</span> 将显示“Oracle Internet Directory登录”页面。
                           </p>
                        </li>
                        <li>
                           <p>在“ <span class="bold">用户”</span>字段中输入可以管理企业用户的目录用户的可分辨名称（DN）。在“ <span class="bold">密码”</span>字段中输入用户密码。单击<span class="bold">登录</span> 。
                           </p>
                           <p>将显示“企业用户安全性”页面</p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">管理企业域”</span> 。
                           </p>
                           <p>将显示“管理企业域”页面。此页面列出了身份管理领域中的企业域。</p>
                        </li>
                        <li>
                           <p>选择包含数据库的企业域。单击<span class="bold">配置</span> 。
                           </p>
                           <p>将显示“配置域”页面。</p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">企业角色”</span>选项卡。
                           </p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">创建”</span>
                           </p>
                           <p>将显示“ <span class="bold">创建企业角色”</span>页面。
                           </p>
                        </li>
                        <li>
                           <p>在“ <span class="bold">名称”</span>字段中输入hr_access。
                           </p>
                           <div class="figure" id="GUID-86219ABB-1E28-4206-A847-F9366A679785__GUID-590987BF-A687-45F7-B2FE-D337132F5444"><img src="img/getstrtd11.gif" alt="getstrtd11.gif的描述如下" title="getstrtd11.gif的描述如下" longdesc="img_text/getstrtd11.html"><br><a href="img_text/getstrtd11.html">插图描述getstrtd11.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>单击“ <span class="bold">添加”</span>将数据库全局角色<span class="bold">添加</span>到企业角色。
                           </p>
                           <p>将显示“搜索和选择数据库全局角色”窗口。</p>
                           <div class="figure" id="GUID-86219ABB-1E28-4206-A847-F9366A679785__GUID-F4A78DD4-4D5D-4276-AFFF-0AC067507C64"><img src="img/getstrtd12.gif" alt="getstrtd12.gif的描述如下" title="getstrtd12.gif的描述如下" longdesc="img_text/getstrtd12.html"><br><a href="img_text/getstrtd12.html">插图描述getstrtd12.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>在数据库中选择<code class="codeph">hr_access</code>全局角色。单击<span class="bold">选择</span> 。
                           </p>
                           <div class="infoboxnote" id="GUID-86219ABB-1E28-4206-A847-F9366A679785__GUID-C3E13170-B821-4D49-9B11-32CF2BC06FDB">
                              <p class="notep1">注意：</p>
                              <p>在选择全局角色之前，您需要登录数据库。</p>
                           </div>
                        </li>
                        <li>
                           <p>单击<span class="bold">Grantees</span>选项卡。单击<span class="bold">添加</span> 。
                           </p>
                           <p>将出现“选择用户或组”窗口。</p>
                        </li>
                        <li>
                           <p>选择用户Nina。单击<span class="bold">选择</span> 。
                           </p>
                           <div class="figure" id="GUID-86219ABB-1E28-4206-A847-F9366A679785__GUID-627786CE-122D-49CF-8E2B-EBF9CDE99258"><img src="img/getstrtd10.gif" alt="getstrtd10.gif的描述如下" title="getstrtd10.gif的描述如下" longdesc="img_text/getstrtd10.html"><br><a href="img_text/getstrtd10.html">插图说明getstrtd10.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>单击“创建企业角色”页面中的“ <span class="bold">继续</span> ”
                           </p>
                        </li>
                        <li>
                           <p>在“配置域”页面中单击“ <span class="bold">确定</span> ”。
                           </p>
                        </li>
                     </ol>
                     <p>企业用户Nina现在可以访问数据库中的<code class="codeph">hr.employees</code>表。以下SQL * Plus语句说明了这一点：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CONNECT Nina输入密码：已连接。SQL&gt; SELECT employee_id FROM hr.employees; EMPLOYEE_ID ----------- 100 101 102 .........选择了107行。
</pre><p>企业用户Joe无法访问<code class="codeph">hr.employees</code>表，因为他没有分配给他的企业角色。
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CONNECT joe输入密码：已连接。SQL&gt; SELECT employee_id FROM hr.employees; SELECT employee_id FROM hr.employees第1行的错误：ORA-00942：表或视图不存在</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="DBIMI571"></a><a id="DBIMI241"></a><div class="props_rev_3"><a id="GUID-475A2CAA-7D97-42FF-8985-CF3DB0E0284D" name="GUID-475A2CAA-7D97-42FF-8985-CF3DB0E0284D"></a><h3 id="DBIMI-GUID-475A2CAA-7D97-42FF-8985-CF3DB0E0284D" class="sect3">使用代理权限</h3>
               <div>
                  <div class="section">
                     <p>代理权限是在企业域级别创建的。代理权限允许企业用户代理本地数据库用户，这意味着企业用户可以作为本地数据库用户登录数据库。您可以向单个企业用户或组授予代理权限。代理权限对于作为企业用户跨多个数据库运行的中间层应用程序特别有用。</p>
                     <p><a href="getting-started-with-enterprise-user-security.html#GUID-475A2CAA-7D97-42FF-8985-CF3DB0E0284D__CBHJJJIG">例2-5</a>说明了代理权限的使用。企业用户<code class="codeph">joe</code>是销售经理，需要以目标数据库用户<code class="codeph">SH</code>身份登录企业数据库。 <code class="codeph">SH</code>用户拥有包含与销售历史相关的表的样本<code class="codeph">SH</code>模式。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-475A2CAA-7D97-42FF-8985-CF3DB0E0284D__CBHJJJIG">
                     <p class="titleinexample">示例2-5使用代理权限</p>
                     <p>在允许企业用户代理的第一步是<code class="codeph">ALTER</code>目标数据库用户允许<code class="codeph">CONNECT</code>通过企业用户。以下<code class="codeph">SQL</code>语句解锁<code class="codeph">SH</code>数据库帐户，为其设置密码，并<code class="codeph">ALTER</code>帐户以允许企业用户代理：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CONNECT SYSTEM输入密码：已连接。SQL&gt; ALTER USER SH由hrd2guess ACCOUNT UNLOCK识别;用户改动了。SQL&gt; ALTER USER SH GRANT通过企业用户连接;用户改动了。
</pre><p>接下来，使用Enterprise Manager配置代理权限。这允许企业用户<code class="codeph">joe</code>以本地数据库用户<code class="codeph">SH</code>身份进行连接。</p>
                     <p><span class="bold">要配置企业用户，代理权限</span> <span class="bold"><code class="codeph">joe</code></span> <span class="bold">：</span></p>
                     <ol>
                        <li>
                           <p>以管理用户身份登录Enterprise Manager Cloud Control。</p>
                        </li>
                        <li>
                           <p>要导航到数据库，请从“ <span class="bold">目标”</span>菜单中选择“ <span class="bold">数据库</span> ”。
                           </p>
                        </li>
                        <li>
                           <p>单击出现的列表中的数据库名称。出现数据库页面。</p>
                        </li>
                        <li>
                           <p>在<span class="bold">Administration</span>菜单下，选择<span class="bold">Security，Enterprise User Security。</span> 将显示“Oracle Internet Directory登录”页面。
                           </p>
                        </li>
                        <li>
                           <p>在“ <span class="bold">用户”</span>字段中输入可以管理企业用户的目录用户的可分辨名称（DN）。在“ <span class="bold">密码”</span>字段中输入用户密码。单击<span class="bold">登录</span> 。
                           </p>
                           <p>将显示“企业用户安全性”页面</p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">管理企业域”</span> 。
                           </p>
                           <p>将显示“管理企业域”页面。此页面列出了身份管理领域中的企业域。</p>
                        </li>
                        <li>
                           <p>选择要配置的企业域。单击<span class="bold">配置</span> 。
                           </p>
                           <p>将显示“配置域”页面。</p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">代理权限”</span>选项卡。
                           </p>
                           <div class="figure" id="GUID-475A2CAA-7D97-42FF-8985-CF3DB0E0284D__GUID-2F2A1035-E9C9-467C-84C4-89407AC48A22"><img src="img/getstrtd13.gif" alt="getstrtd13.gif的描述如下" title="getstrtd13.gif的描述如下" longdesc="img_text/getstrtd13.html"><br><a href="img_text/getstrtd13.html">插图描述getstrtd13.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>单击“ <span class="bold">创建”</span>以创建新的代理权限。
                           </p>
                           <p>将出现“ <span class="bold">创建代理权限”</span>页面。
                           </p>
                        </li>
                        <li>
                           <p>在“ <span class="bold">名称”</span>字段中输入SH_Proxy作为代理权限的<span class="bold">名称</span> 。
                           </p>
                           <div class="figure" id="GUID-475A2CAA-7D97-42FF-8985-CF3DB0E0284D__GUID-DAD56C5A-0393-40A9-8FF5-BB23AAE30BFD"><img src="img/getstrtd14.gif" alt="getstrtd14.gif的描述如下" title="getstrtd14.gif的描述如下" longdesc="img_text/getstrtd14.html"><br><a href="img_text/getstrtd14.html">插图描述getstrtd14.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>确保选中“ <span class="bold">目标数据库用户”</span>选项卡。单击<span class="bold">添加</span> 。
                           </p>
                           <p>将出现“搜索和选择”窗口。</p>
                        </li>
                        <li>
                           <p>登录包含<code class="codeph">SH</code>用户的数据库。显示已更改为允许企业用户代理的所有数据库用户的列表。
                           </p>
                        </li>
                        <li>
                           <p>选择SH用户。单击<span class="bold">选择</span> 。
                           </p>
                           <p><code class="codeph">SH</code>用户添加在“创建代理权限”页面中的“目标数据库用户”下。
                           </p>
                           <div class="figure" id="GUID-475A2CAA-7D97-42FF-8985-CF3DB0E0284D__GUID-F3BCBF7D-6913-48B5-97C3-B4875071297C"><img src="img/getstrtd15.gif" alt="getstrtd15.gif的描述如下" title="getstrtd15.gif的描述如下" longdesc="img_text/getstrtd15.html"><br><a href="img_text/getstrtd15.html">插图描述getstrtd15.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>单击<span class="bold">Grantees</span>选项卡。
                           </p>
                        </li>
                        <li>
                           <p>单击<span class="bold">添加</span> 。
                           </p>
                           <p>将出现“选择用户或组”窗口。</p>
                        </li>
                        <li>
                           <p>在<span class="bold">Search Base</span>下选择<code class="codeph">cn=users,dc=us,dc=oracle,dc=com</code> 。在<span class="bold">View</span>下选择<code class="codeph">User</code> 。单击<span class="bold">Go</span> 。</p>
                           <p>显示子<code class="codeph">cn=users,dc=us,dc=oracle,dc=com</code>的用户列表， <code class="codeph">cn=users,dc=us,dc=oracle,dc=com</code> 。
                           </p>
                           <div class="figure" id="GUID-475A2CAA-7D97-42FF-8985-CF3DB0E0284D__GUID-73C05E2B-3562-4081-9C3A-D2612698D432"><img src="img/getstrtd16.gif" width="559" alt="getstrtd16.gif的描述如下" title="getstrtd16.gif的描述如下" longdesc="img_text/getstrtd16.html"><br><a href="img_text/getstrtd16.html">插图描述getstrtd16.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>选择<code class="codeph">cn=joe,cn=users,dc=us,dc=oracle,dc=com</code> 。单击<span class="bold">选择</span> 。
                           </p>
                           <p>用户<code class="codeph">joe</code>在“创建代理权限”页面的<span class="bold">Grantees</span>下添加。
                           </p>
                           <div class="figure" id="GUID-475A2CAA-7D97-42FF-8985-CF3DB0E0284D__GUID-A0711055-3325-4E89-8CD9-BA46E5682F07"><img src="img/getstrtd17.gif" alt="getstrtd17.gif的描述如下" title="getstrtd17.gif的描述如下" longdesc="img_text/getstrtd17.html"><br><a href="img_text/getstrtd17.html">插图描述getstrtd17.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>在“创建代理权限”页面中单击“ <span class="bold">继续</span> ”。
                           </p>
                           <p>在配置域页面中添加了代理权限<code class="codeph">SH_Proxy</code> 。
                           </p>
                           <div class="figure" id="GUID-475A2CAA-7D97-42FF-8985-CF3DB0E0284D__GUID-B1D85938-FF14-4926-8B5D-A7183A561ACA"><img src="img/getstrtd18.gif" alt="getstrtd18.gif的描述如下" title="getstrtd18.gif的描述如下" longdesc="img_text/getstrtd18.html"><br><a href="img_text/getstrtd18.html">插图描述getstrtd18.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>单击<span class="bold">确定</span> 。</p>
                        </li>
                     </ol>
                     <p>企业用户<code class="codeph">joe</code>现在可以作为本地数据库用户<code class="codeph">SH</code>登录。以下<code class="codeph">SQL</code>语句说明了这一点：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; REMARK Joe使用自己的密码作为本地数据库用户SH进行连接。 SQL&gt; CONNECT joe [SH]输入密码：已连接。SQL&gt; SELECT * FROM SH.sales WHERE cust_id = 4; PROD_ID CUST_ID TIME_ID CHANNEL_ID PROMO_ID QUANTITY_SOLD AMOUNT_SOLD ---------- ---------- --------- ---------- ---- ------ ------------- ----------- 37 4 31-MAY-00 3 999 1 60.43 39 4 31-MAY-00 3 999 1 38.45 40 4 31-MAY-00 3 999 1 48.1 .........选择了72行。
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="DBIMI10231"></a><div class="props_rev_3"><a id="GUID-ECF44B7C-610F-49FC-9865-ED9BAA0DF22C" name="GUID-ECF44B7C-610F-49FC-9865-ED9BAA0DF22C"></a><h3 id="DBIMI-GUID-ECF44B7C-610F-49FC-9865-ED9BAA0DF22C" class="sect3">使用可插拔数据库</h3>
               <div>
                  <p>您可以将企业用户安全性与Oracle Database 12 <span class="italic">c</span>第1版（12.1）中引入的可插拔数据库（PDB）结合使用。每个PDB都有自己的企业用户安全元数据，例如全局用户，全局角色等。每个PDB应在目录中具有自己的标识。PDB就像在目录中注册的任何常规数据库一样，但以下限制除外：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>客户端SSL身份验证使用为侦听器配置的容器数据库（CDB）全钱包。特定于PDB的钱包用于数据库到目录的身份验证。</p>
                     </li>
                     <li>
                        <p>如果客户端到数据库身份验证使用<code class="codeph">SSL</code> ，并且数据库到目录身份验证也使用<code class="codeph">SSL</code> ，则需要为具有证书的数据库配置两个钱包。第一个钱包是CDB全钱包，第二个钱包是PDB专用钱包。
                        </p>
                     </li>
                     <li>
                        <p>CDB环境不支持当前用户数据库链接。</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-ECF44B7C-610F-49FC-9865-ED9BAA0DF22C__GUID-42BE03FE-4145-4B99-943C-66BB6CAF1CD9">
                     <p class="notep1">注意：</p>
                     <p><code class="codeph">LDAP_DIRECTORY_ACCESS</code>参数对于所有PDB都是相同的。即使只有一部分PDB向目录注册，每个PDB <code class="codeph">LDAP_DIRECTORY_ACCESS</code>看到<code class="codeph">LDAP_DIRECTORY_ACCESS</code>值，就像PDB已注册一样。
                     </p>
                  </div>
                  <div class="p">以下部分描述了有关使用可插拔数据库的更多信息：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="getting-started-with-enterprise-user-security.html#GUID-BAD7A4B7-3655-4E3C-9643-72A3FFA9E5E8">可插拔数据库的钱包位置</a></p>
                        </li>
                        <li>
                           <p><a href="getting-started-with-enterprise-user-security.html#GUID-39030131-575E-49E8-AB7B-D2F75D0122E4">默认数据库DN格式</a></p>
                        </li>
                        <li>
                           <p><a href="getting-started-with-enterprise-user-security.html#GUID-79CFC1AB-B23A-44AA-8CC6-E74C9FEFEEB6">插入和拔出PDB</a></p>
                        </li>
                        <li>
                           <p><a href="getting-started-with-enterprise-user-security.html#GUID-B2397A52-42C7-4482-A68D-184573C03B3C">切换容器</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBIMI10232"></a><div class="props_rev_3"><a id="GUID-BAD7A4B7-3655-4E3C-9643-72A3FFA9E5E8" name="GUID-BAD7A4B7-3655-4E3C-9643-72A3FFA9E5E8"></a><h4 id="DBIMI-GUID-BAD7A4B7-3655-4E3C-9643-72A3FFA9E5E8" class="sect4">可插拔数据库的钱包位置</h4>
                  <div>
                     <p>对于可插拔数据库，当PDB注册到目录时，Database Configuration Assistant（DBCA）会在以下位置创建钱包：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果设置了<code class="codeph">ORACLE_BASE</code>环境变量：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_BASE</span> / admin / <span class="italic">db_unique_name</span> / <span class="italic">pdb_GUID</span> / wallet</pre></li>
                        <li>
                           <p>如果未设置<code class="codeph">ORACLE_BASE</code> ：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> / admin / <span class="italic">db_unique_name</span> / <span class="italic">pdb_GUID</span> / wallet</pre><p>使用PDB的GUID是因为PDB名称可以更改，但GUID不会更改。因此，即使PDB名称发生更改，PDB钱包位置仍然有效。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-BAD7A4B7-3655-4E3C-9643-72A3FFA9E5E8__GUID-8B93B688-B60F-4F95-9BC4-71948C900E87">
                        <p class="notep1">注意：</p>
                        <p>在Microsoft Windows x64平台上，未在<code class="codeph">listener.ora</code>文件和服务器端<code class="codeph">sqlnet.ora</code>文件中指定<code class="codeph">WALLET_LOCATION</code>参数，服务器不会从默认系统位置（ <span class="italic"><code class="codeph">%USERPROFILE%</code></span> <code class="codeph">\ORACLE\WALLETS</code>选取<code class="codeph">\ORACLE\WALLETS</code> 。因此，当您尝试使用SSL连接登录时，登录失败并显示以下错误： <code class="codeph">ORA-28864: SSL connection closed gracefully</code> 。这个已知问题没有解决方法。
                        </p>
                     </div>
                  </div>
               </div><a id="DBIMI10233"></a><div class="props_rev_3"><a id="GUID-39030131-575E-49E8-AB7B-D2F75D0122E4" name="GUID-39030131-575E-49E8-AB7B-D2F75D0122E4"></a><h4 id="DBIMI-GUID-39030131-575E-49E8-AB7B-D2F75D0122E4" class="sect4">默认数据库DN格式</h4>
                  <div>
                     <p>使用DBCA在目录中注册PDB时，将使用以下格式生成默认的PDB可分辨名称（DN）：</p><pre class="oac_no_warn" dir="ltr">cn = <span class="italic">PDB_NAME</span> 。 <span class="italic">DB_UNIQUE_NAME</span> ，cn = oraclecontext， <span class="italic">境界</span>
</pre><p>您可以在DBCA注册屏幕中将默认<code class="codeph">cn</code> （ <span class="italic">PDB_NAME.DB_UNIQUE_NAME）</span>更改为自定义值。注册后不能更改。
                     </p>
                  </div>
               </div><a id="DBIMI10234"></a><div class="props_rev_3"><a id="GUID-79CFC1AB-B23A-44AA-8CC6-E74C9FEFEEB6" name="GUID-79CFC1AB-B23A-44AA-8CC6-E74C9FEFEEB6"></a><h4 id="DBIMI-GUID-79CFC1AB-B23A-44AA-8CC6-E74C9FEFEEB6" class="sect4">插入和拔出PDB</h4>
                  <div>
                     <div class="section">
                        <p>您可以将现有的已注册数据库插入CDB。只要执行以下步骤，您就不需要再次注册PDB：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>从源位置选择钱包文件，并将它们放入PDB的新默认钱包位置。</p>
                           </li>
                           <li>
                              <p>将<code class="codeph">LDAP_DIRECTORY_ACCESS</code>参数设置为<code class="codeph">LDAP_DIRECTORY_ACCESS</code>中的所需值。</p>
                           </li>
                        </ul>
                        <p>同样，在拔出向目录注册的现有PDB时，无需重新注册数据库。拔下电源后，您需要将钱包复制到新的默认位置。默认位置应为：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果设置了<code class="codeph">ORACLE_BASE</code>环境变量：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_BASE</span> / admin / <span class="italic">db_unique_name</span> / wallet</pre></li>
                           <li>
                              <p>如果未设置<code class="codeph">ORACLE_BASE</code> ：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> / admin / <span class="italic">db_unique_name</span> / wallet</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBIMI10235"></a><div class="props_rev_3"><a id="GUID-B2397A52-42C7-4482-A68D-184573C03B3C" name="GUID-B2397A52-42C7-4482-A68D-184573C03B3C"></a><h4 id="DBIMI-GUID-B2397A52-42C7-4482-A68D-184573C03B3C" class="sect4">切换容器</h4>
                  <div>
                     <p>企业用户无法执行<code class="codeph">ALTER SESSION SET CONTAINER</code> <span class="italic"><code class="codeph">target-CDB</code></span>命令，因为企业用户不是普通用户。
                     </p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01083.DBMS_REFRESH.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_REFRESH package enables you to create groups of materialized views that can be refreshed together to a transactionally consistent point in time. These groups are called refresh groups."></meta>
      <meta name="description" content="The DBMS_REFRESH package enables you to create groups of materialized views that can be refreshed together to a transactionally consistent point in time. These groups are called refresh groups."></meta>
      <title>DBMS_REFRESH</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_REFRESH package enables you to create groups of materialized views that can be refreshed together to a transactionally consistent point in time. These groups are called refresh groups."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_REDEFINITION.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_REPAIR.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_REDEFINITION.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_REPAIR.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_REFRESH</li>
            </ol>
            <a id="GUID-C27E6349-10B1-4DEE-9705-E5DD38A135D8" name="GUID-C27E6349-10B1-4DEE-9705-E5DD38A135D8"></a><a id="ARPLS043"></a><a id="ARPLS043"></a>
            
            <h2 id="ARPLS-GUID-C27E6349-10B1-4DEE-9705-E5DD38A135D8" class="sect2"><span class="enumeration_chapter">133</span> DBMS_REFRESH</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_REFRESH</code>包使您可以创建<code class="codeph">DBMS_REFRESH</code>化视图组，这些视图可以一起刷新到事务一致的时间点。这些组称为刷新组。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_REFRESH.html#GUID-800A963E-BD24-42D4-AA42-A21119FE5E29" title="如果物化视图在事务上彼此一致很重要，则可以将它们组织到刷新组中。">DBMS_REFRESH概述</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_REFRESH.html#GUID-250210F3-CB14-4D00-AA41-32F44962EBFC" title="用户必须具有EXECUTE特权才能运行DBMS_REFRESH程序包的过程。">DBMS_REFRESH安全模型</a></p>
                  </li>
               </ul>
            </div>
            <div class="props_rev_3"><a id="GUID-800A963E-BD24-42D4-AA42-A21119FE5E29" name="GUID-800A963E-BD24-42D4-AA42-A21119FE5E29"></a><h3 id="ARPLS-GUID-800A963E-BD24-42D4-AA42-A21119FE5E29" class="sect3"><span class="enumeration_section">133.1</span> DBMS_REFRESH概述</h3>
               <div>
                  <p>如果物化视图在事务上彼此一致很重要，则可以将它们组织到刷新组中。</p>
                  <div class="section">
                     <p>通过刷新刷新组，可以确保刷新组中所有实例化视图中的数据对应于相同的事务一致性时间点。刷新组中的实例化视图仍可单独刷新，但这样做会使刷新组的优势无效，因为单独刷新实例化视图不会刷新刷新组中的其他实例化视图</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-250210F3-CB14-4D00-AA41-32F44962EBFC" name="GUID-250210F3-CB14-4D00-AA41-32F44962EBFC"></a><h3 id="ARPLS-GUID-250210F3-CB14-4D00-AA41-32F44962EBFC" class="sect3"><span class="enumeration_section">133.2</span> DBMS_REFRESH安全模型</h3>
               <p>用户必须具有<code class="codeph">EXECUTE</code>特权才能运行<code class="codeph">DBMS_REFRESH</code>程序包的过程。
               </p>
            </div>
            <div class="props_rev_3"><a id="GUID-4E89F90F-A971-46F0-8356-7B2D952DAA0C" name="GUID-4E89F90F-A971-46F0-8356-7B2D952DAA0C"></a><h3 id="ARPLS-GUID-4E89F90F-A971-46F0-8356-7B2D952DAA0C" class="sect3"><span class="enumeration_section">133.3</span> DBMS_REFRESH子程序摘要</h3>
               <div>
                  <p>该表列出了<code class="codeph">DBMS_REFRESH</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-4E89F90F-A971-46F0-8356-7B2D952DAA0C__GUID-46C5D7EA-9359-424D-863F-FAA10BBD6D0A">
                     <p class="titleintable">表133-1 DBMS_REFRESH包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_REFRESH包子程序" width="100%" border="1" summary="This table lists the DBMS_REFRESH subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="47%" id="d705922e381">子程序</th>
                              <th align="left" valign="bottom" width="53%" id="d705922e384">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d705922e389" headers="d705922e381 ">
                                 <p><a href="DBMS_REFRESH.html#GUID-25DB0716-32FF-4FAE-8A0C-A6E70A2500E2" title="此过程将实例化视图添加到刷新组。">ADD程序</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d705922e389 d705922e384 ">
                                 <p>将实例化视图添加到刷新组</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d705922e400" headers="d705922e381 ">
                                 <p><a href="DBMS_REFRESH.html#GUID-5366C7A1-B577-479D-B1EA-627F74BCA448" title="此过程更改刷新组的刷新间隔。">改变程序</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d705922e400 d705922e384 ">
                                 <p>更改刷新组的刷新间隔</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d705922e411" headers="d705922e381 ">
                                 <p><a href="DBMS_REFRESH.html#GUID-D40A1F40-B959-4D52-AF9B-3369F7497BA0" title="此过程将从刷新组中删除所有实例化视图，并删除刷新组。">摧毁程序</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d705922e411 d705922e384 ">
                                 <p>从刷新组中删除所有实例化视图并删除刷新组</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d705922e422" headers="d705922e381 ">
                                 <p><a href="DBMS_REFRESH.html#GUID-E59B5D2E-0D78-4A9B-AF85-BBA164BC4076" title="此过程指定刷新组的成员以及用于确定何时刷新此组成员的时间间隔。">制定程序</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d705922e422 d705922e384 ">
                                 <p>指定刷新组的成员以及用于确定何时刷新该组成员的时间间隔</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d705922e433" headers="d705922e381 ">
                                 <p><a href="DBMS_REFRESH.html#GUID-1CDA8331-2852-4C1A-AE14-4D5B9533AA7B" title="此过程手动刷新刷新组。">REFRESH程序</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d705922e433 d705922e384 ">
                                 <p>手动刷新刷新组</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d705922e444" headers="d705922e381 ">
                                 <p><a href="DBMS_REFRESH.html#GUID-F69450F0-622C-4AB9-8300-A1C0D5EADB76" title="此过程从刷新组中删除实例化视图。">减法程序</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d705922e444 d705922e384 ">
                                 <p>从刷新组中删除实例化视图</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div class="props_rev_3"><a id="GUID-25DB0716-32FF-4FAE-8A0C-A6E70A2500E2" name="GUID-25DB0716-32FF-4FAE-8A0C-A6E70A2500E2"></a><h4 id="ARPLS-GUID-25DB0716-32FF-4FAE-8A0C-A6E70A2500E2" class="sect4"><span class="enumeration_section">133.3.1</span> ADD程序</h4>
                  <div>
                     <p>此过程将实例化视图添加到刷新组。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-25DB0716-32FF-4FAE-8A0C-A6E70A2500E2__GUID-5B865012-0350-4E0A-914A-08287AAAB6BA">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_REFRESH.ADD（名称IN VARCHAR2，{list IN VARCHAR2，| tab in DBMS_UTILITY.UNCL_ARRAY，} lax IN BOOLEAN：= FALSE）;</pre><div class="infoboxnote" id="GUID-25DB0716-32FF-4FAE-8A0C-A6E70A2500E2__GUID-253A36D1-4FB0-4F49-9F6A-59109BD67BCE">
                           <p class="notep1">注意：</p>此过程已超载。<code class="codeph">list</code>和<code class="codeph">tab</code>参数是互斥的。
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25DB0716-32FF-4FAE-8A0C-A6E70A2500E2__GUID-ADC2DED4-B886-4E6E-A90D-8993CA03F949">参数</p>
                        <div class="tblformal" id="GUID-25DB0716-32FF-4FAE-8A0C-A6E70A2500E2__GUID-3FD88805-6754-4B2D-892B-AAF36B9AA698">
                           <p class="titleintable">表133-2 ADD过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADD过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_REFRESH.ADD subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d705922e568">参数</th>
                                    <th align="left" valign="bottom" width="77%" id="d705922e571">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e576" headers="d705922e568 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e576 d705922e571 ">
                                       <p>要添加成员的刷新组的名称，指定为<code class="codeph">[ <span class="codeinlineitalic">schema_name</span> .] <span class="codeinlineitalic">refresh_group_name</span></code> 。如果未指定架构，则当前用户是默认用户。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e592" headers="d705922e568 ">
                                       <p><code class="codeph">名单</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e592 d705922e571 ">
                                       <p>要添加到刷新组的实体化视图的逗号分隔列表。不支持同义词。</p>
                                       <p>每个物化视图都指定为<code class="codeph">[ <span class="codeinlineitalic">schema_name</span> .] <span class="codeinlineitalic">materialized_view_name</span></code> 。如果未指定架构，则刷新组所有者是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e610" headers="d705922e568 ">
                                       <p><code class="codeph">标签</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e610 d705922e571 ">
                                       <p>您可以提供<code class="codeph">DBMS_UTILITY.UNCL_ARRAY</code>类型的PL / SQL关联数组， <code class="codeph">DBMS_UTILITY.UNCL_ARRAY</code>是以逗号分隔的列表，其中每个元素都是<code class="codeph">DBMS_UTILITY.UNCL_ARRAY</code>化视图的名称。第一个物化视图应位于第1位。最后一个位置必须为<code class="codeph">NULL</code> 。</p>
                                       <p>每个物化视图都指定为<code class="codeph">[ <span class="codeinlineitalic">schema_name</span> .] <span class="codeinlineitalic">materialized_view_name</span></code> 。如果未指定架构，则刷新组所有者是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e634" headers="d705922e568 ">
                                       <p><code class="codeph">松</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e634 d705922e571 ">
                                       <p>物化视图一次只能属于一个刷新组。如果要将实体化视图从一个组移动到另一个组，则必须将<code class="codeph">lax</code>标志设置为<code class="codeph">TRUE</code>才能成功。然后，Oracle会自动从其他刷新组中删除实例化视图，并将其刷新间隔更新为其新组的刷新间隔。否则，对<code class="codeph">ADD</code>的调用会生成错误消息。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-5366C7A1-B577-479D-B1EA-627F74BCA448" name="GUID-5366C7A1-B577-479D-B1EA-627F74BCA448"></a><h4 id="ARPLS-GUID-5366C7A1-B577-479D-B1EA-627F74BCA448" class="sect4"><span class="enumeration_section">133.3.2</span>更改程序</h4>
                  <div>
                     <p>此过程更改刷新组的刷新间隔。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5366C7A1-B577-479D-B1EA-627F74BCA448__GUID-5B865012-0350-4E0A-914A-08287AAAB6BA">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_REFRESH.CHANGE（名称IN VARCHAR2，next_date IN DATE：= NULL，interval IN VARCHAR2：= NULL，implicit_destroy IN BOOLEAN：= NULL，rollback_seg IN VARCHAR2：= NULL，push_deferred_rpc IN BOOLEAN：= NULL，refresh_after_errors IN BOOLEAN：= NULL， purge_option IN BINARY_INTEGER：= NULL，parallelism IN BINARY_INTEGER：= NULL，heap_size IN BINARY_INTEGER：= NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5366C7A1-B577-479D-B1EA-627F74BCA448__GUID-ADC2DED4-B886-4E6E-A90D-8993CA03F949">参数</p>
                        <div class="tblformal" id="GUID-5366C7A1-B577-479D-B1EA-627F74BCA448__GUID-3FD88805-6754-4B2D-892B-AAF36B9AA698">
                           <p class="titleintable">表133-3 CHANGE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CHANGE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_REFRESH.CHANGE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d705922e757">参数</th>
                                    <th align="left" valign="bottom" width="77%" id="d705922e760">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e765" headers="d705922e757 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e765 d705922e760 ">
                                       <p>要更改刷新间隔的刷新组的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e773" headers="d705922e757 ">
                                       <p><code class="codeph">NEXT_DATE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e773 d705922e760 ">
                                       <p>您希望刷新的下一个日期。默认情况下，此日期保持不变。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e781" headers="d705922e757 ">
                                       <p><code class="codeph">间隔</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e781 d705922e760 ">
                                       <p>用于计算下次刷新刷新组中的实例化视图的函数。在刷新之前立即评估此间隔。因此，请选择一个大于执行刷新所需时间的间隔。默认情况下，间隔保持不变。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e789" headers="d705922e757 ">
                                       <p><code class="codeph">implicit_destroy</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e789 d705922e760 ">
                                       <p>允许您重置<code class="codeph">implicit_destroy</code>标志的值。如果设置了此标志，则Oracle会自动删除该组（如果该组不再包含任何成员）。默认情况下，此标志保持不变。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e800" headers="d705922e757 ">
                                       <p><code class="codeph">rollback_seg</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e800 d705922e760 ">
                                       <p>允许您更改使用的回滚段。默认情况下，回滚段保持不变。要重置此参数以使用默认回滚段，请指定<code class="codeph">NULL</code> ，包括引号。指定不带引号的<code class="codeph">NULL</code>表示您不想更改当前正在使用的回滚段。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e814" headers="d705922e757 ">
                                       <p><code class="codeph">push_deferred_rpc</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e814 d705922e760 ">
                                       <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，将忽略此参数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e825" headers="d705922e757 ">
                                       <p><code class="codeph">refresh_after_errors</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e825 d705922e760 ">
                                       <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，将忽略此参数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e836" headers="d705922e757 ">
                                       <p><code class="codeph">purge_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e836 d705922e760 ">
                                       <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，将忽略此参数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e847" headers="d705922e757 ">
                                       <p><code class="codeph">排比</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e847 d705922e760 ">
                                       <div class="p">
                                          <ul style="list-style-type:disc">
                                             <li>
                                                <p>0指定串行传播。</p>
                                             </li>
                                             <li>
                                                <p><span class="italic">n</span> &gt; 1指定具有n个并行进程的并行传播。
                                                </p>
                                             </li>
                                             <li>
                                                <p>1仅使用一个并行处理来指定并行传播。</p>
                                             </li>
                                          </ul>
                                       </div>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e866" headers="d705922e757 ">
                                       <p><code class="codeph">heap_size</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e866 d705922e760 ">
                                       <p>并行传播调度同时检查的最大事务数。Oracle会自动计算默认设置以获得最佳性能。</p>
                                       <div class="infoboxnote" id="GUID-5366C7A1-B577-479D-B1EA-627F74BCA448__GUID-9BD2BEFD-2FC2-4007-B5A7-C3C3924DA230">
                                          <p class="notep1">注意：</p>除非Oracle支持服务指示，否则请勿设置此参数。
                                       </div>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-D40A1F40-B959-4D52-AF9B-3369F7497BA0" name="GUID-D40A1F40-B959-4D52-AF9B-3369F7497BA0"></a><h4 id="ARPLS-GUID-D40A1F40-B959-4D52-AF9B-3369F7497BA0" class="sect4"><span class="enumeration_section">133.3.3</span>破坏程序</h4>
                  <div>
                     <p>此过程将从刷新组中删除所有实例化视图，并删除刷新组。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D40A1F40-B959-4D52-AF9B-3369F7497BA0__GUID-5B865012-0350-4E0A-914A-08287AAAB6BA">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_REFRESH.DESTROY（名称IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D40A1F40-B959-4D52-AF9B-3369F7497BA0__GUID-ADC2DED4-B886-4E6E-A90D-8993CA03F949">参数</p>
                        <div class="tblformal" id="GUID-D40A1F40-B959-4D52-AF9B-3369F7497BA0__GUID-3FD88805-6754-4B2D-892B-AAF36B9AA698">
                           <p class="titleintable">表133-4 DESTROY过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DESTROY程序参数" width="100%" border="1" summary="This table describes the parameters of DBMS_REFRESH.DESTROY subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d705922e981">参数</th>
                                    <th align="left" valign="bottom" width="77%" id="d705922e984">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e989" headers="d705922e981 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e989 d705922e984 ">
                                       <p>要销毁的刷新组的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-E59B5D2E-0D78-4A9B-AF85-BBA164BC4076" name="GUID-E59B5D2E-0D78-4A9B-AF85-BBA164BC4076"></a><h4 id="ARPLS-GUID-E59B5D2E-0D78-4A9B-AF85-BBA164BC4076" class="sect4"><span class="enumeration_section">133.3.4</span>制定程序</h4>
                  <div>
                     <p>此过程指定刷新组的成员以及用于确定何时刷新此组成员的时间间隔。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E59B5D2E-0D78-4A9B-AF85-BBA164BC4076__GUID-5B865012-0350-4E0A-914A-08287AAAB6BA">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_REFRESH.MAKE（名称IN VARCHAR2 {list IN VARCHAR2，| tab IN DBMS_UTILITY.UNCL_ARRAY，} next_date IN DATE，interval IN VARCHAR2，implicit_destroy IN BOOLEAN：= FALSE，lax IN BOOLEAN：= FALSE，job IN BINARY_INTEGER：= 0，rollback_seg IN VARCHAR2：= NULL，push_deferred_rpc IN BOOLEAN：= TRUE，refresh_after_errors IN BOOLEAN：= FALSE purge_option IN BINARY_INTEGER：= NULL，parallelism IN BINARY_INTEGER：= NULL，heap_size IN BINARY_INTEGER：= NULL job_name IN VARCHAR2：= NULL，auto_commit IN BOOLEAN： = NULL）;</pre><div class="infoboxnote" id="GUID-E59B5D2E-0D78-4A9B-AF85-BBA164BC4076__GUID-76AED84F-26F6-40BD-8496-7333CD331B10">
                           <p class="notep1">注意：</p>此过程已超载。<code class="codeph">list</code>和<code class="codeph">tab</code>参数是互斥的。
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E59B5D2E-0D78-4A9B-AF85-BBA164BC4076__GUID-ADC2DED4-B886-4E6E-A90D-8993CA03F949">参数</p>
                        <div class="tblformal" id="GUID-E59B5D2E-0D78-4A9B-AF85-BBA164BC4076__GUID-3FD88805-6754-4B2D-892B-AAF36B9AA698">
                           <p class="titleintable">表133-5 MAKE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="制作程序参数" width="100%" border="1" summary="This table describes the parameters of DBMS_REFRESH.MAKE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d705922e1110">参数</th>
                                    <th align="left" valign="bottom" width="77%" id="d705922e1113">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1118" headers="d705922e1110 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1118 d705922e1113 ">
                                       <p>用于标识刷新组的唯一名称，指定为<code class="codeph">[ <span class="codeinlineitalic">schema_name</span> .] <span class="codeinlineitalic">refresh_group_name</span></code> 。如果未指定架构，则当前用户是默认用户。刷新组必须遵循与表相同的命名约定。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1134" headers="d705922e1110 ">
                                       <p><code class="codeph">名单</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1134 d705922e1113 ">
                                       <p>要刷新的以逗号分隔的实体化视图列表。不支持同义词。这些物化视图可以位于不同的模式中，并具有不同的主表或主物化视图。但是，所有列出的物化视图必须位于当前数据库中。</p>
                                       <p>每个物化视图都指定为<code class="codeph">[ <span class="codeinlineitalic">schema_name</span> .] <span class="codeinlineitalic">materialized_view_name</span></code> 。如果未指定架构，则刷新组所有者是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1152" headers="d705922e1110 ">
                                       <p><code class="codeph">标签</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1152 d705922e1113 ">
                                       <p>您可以使用数据类型<code class="codeph">DBMS_UTILITY.UNCL_ARRAY</code>要刷新的<code class="codeph">DBMS_UTILITY.UNCL_ARRAY</code>化视图名称的PL / SQL关联数组， <code class="codeph">DBMS_UTILITY.UNCL_ARRAY</code>是以逗号分隔的列表。如果表包含<span class="italic">n个</span>物化视图的名称，则第一个物化视图应位于位置1，而<span class="italic">n</span> + 1位置应设置为<code class="codeph">NULL</code> 。</p>
                                       <p>每个物化视图都指定为<code class="codeph">[ <span class="codeinlineitalic">schema_name</span> .] <span class="codeinlineitalic">materialized_view_name</span></code> 。如果未指定架构，则刷新组所有者是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1182" headers="d705922e1110 ">
                                       <p><code class="codeph">NEXT_DATE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1182 d705922e1113 ">
                                       <p>您希望刷新的下一个日期。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1190" headers="d705922e1110 ">
                                       <p><code class="codeph">间隔</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1190 d705922e1113 ">
                                       <p>用于计算下次刷新组中物化视图的函数。该字段与<code class="codeph">next_date</code>值一起使用。
                                       </p>
                                       <p>例如，如果您指定<code class="codeph">NEXT_DAY(SYSDATE+1, "MONDAY")</code>作为您的间隔，并且如果您的<code class="codeph">next_date</code>计算为星期一，则Oracle会在每周一刷新<code class="codeph">next_date</code>化视图。在刷新之前立即评估此间隔。因此，请选择一个大于执行刷新所需时间的间隔。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1209" headers="d705922e1110 ">
                                       <p><code class="codeph">implicit_destroy</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1209 d705922e1113 ">
                                       <p>将其设置为<code class="codeph">TRUE</code>可在刷新组不再包含任何成员时自动删除该刷新组。只有在调用<code class="codeph">SUBTRACT</code>过程时，Oracle才会检查此标志。也就是说，设置此标志仍然可以创建空刷新组。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1223" headers="d705922e1110 ">
                                       <p><code class="codeph">松</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1223 d705922e1113 ">
                                       <p>物化视图一次只能属于一个刷新组。如果要将实体化视图从现有组移动到新刷新组，则必须将其设置为<code class="codeph">TRUE</code>才能成功。然后，Oracle会自动从其他刷新组中删除实例化视图，并将其刷新间隔更新为其新组的刷新间隔。否则，对<code class="codeph">MAKE</code>的调用会生成错误消息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1237" headers="d705922e1110 ">
                                       <p><code class="codeph">工作</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1237 d705922e1113 ">
                                       <p>导入实用程序所需。使用默认值0。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1245" headers="d705922e1110 ">
                                       <p><code class="codeph">rollback_seg</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1245 d705922e1113 ">
                                       <p>刷新实体化视图时要使用的回滚段的名称。默认值<code class="codeph">NULL</code>使用默认的回滚段。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1256" headers="d705922e1110 ">
                                       <p><code class="codeph">push_deferred_rpc</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1256 d705922e1113 ">
                                       <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，将忽略此参数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1267" headers="d705922e1110 ">
                                       <p><code class="codeph">refresh_after_errors</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1267 d705922e1113 ">
                                       <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，将忽略此参数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1279" headers="d705922e1110 ">
                                       <p><code class="codeph">purge_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1279 d705922e1113 ">
                                       <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，将忽略此参数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1290" headers="d705922e1110 ">
                                       <p><code class="codeph">排比</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1290 d705922e1113 ">
                                       <div class="p">
                                          <ul style="list-style-type:disc">
                                             <li>
                                                <p>0指定串行传播。</p>
                                             </li>
                                             <li>
                                                <p><span class="italic">n</span> &gt; 1指定具有n个并行进程的并行传播。
                                                </p>
                                             </li>
                                             <li>
                                                <p>1仅使用一个并行处理来指定并行传播。</p>
                                             </li>
                                          </ul>
                                       </div>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1309" headers="d705922e1110 ">
                                       <p><code class="codeph">heap_size</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1309 d705922e1113 ">
                                       <p>并行传播调度同时检查的最大事务数。Oracle会自动计算默认设置以获得最佳性能。</p>
                                       <div class="infoboxnote" id="GUID-E59B5D2E-0D78-4A9B-AF85-BBA164BC4076__GUID-9BD2BEFD-2FC2-4007-B5A7-C3C3924DA230">
                                          <p class="notep1">注意：</p>除非Oracle支持服务指示，否则请勿设置此参数。
                                       </div>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1319" headers="d705922e1110 ">
                                       <p><code class="codeph">JOB_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1319 d705922e1113 ">
                                       <p>导入实用程序需要此参数。用户应使用默认值<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1330" headers="d705922e1110 ">
                                       <p><code class="codeph">AUTO_COMMIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1330 d705922e1113 ">
                                       <p>支持的值为<code class="codeph">NULL</code> ， <code class="codeph">TRUE</code>和<code class="codeph">FALSE</code> 。</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">NULL</code>允许用户继续使用<code class="codeph">DBMS_JOB</code> 。</p>
                                          </li>
                                          <li>
                                             <p>在<code class="codeph">DBMS_REFRESH.MAKE</code>创建刷新组的作业后，将自动发出<code class="codeph">TRUE</code> -commit语句。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FALSE</code> -user必须在调用<code class="codeph">DBMS_REFRESH.MAKE</code>后发出commit语句来完成事务。</p>
                                          </li>
                                       </ul>
                                       <p>默认值为<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E59B5D2E-0D78-4A9B-AF85-BBA164BC4076__GUID-49F41F76-7DCF-45AC-B2F2-7C5F742D1044">使用说明</p>
                        <p>如果使用<code class="codeph">DBMS_SCHEDULER</code>作业，则导入实用程序和导出实用程序需要<code class="codeph">CREATE JOB</code>权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-1CDA8331-2852-4C1A-AE14-4D5B9533AA7B" name="GUID-1CDA8331-2852-4C1A-AE14-4D5B9533AA7B"></a><h4 id="ARPLS-GUID-1CDA8331-2852-4C1A-AE14-4D5B9533AA7B" class="sect4"><span class="enumeration_section">133.3.5</span> REFRESH程序</h4>
                  <div>
                     <p>此过程手动刷新刷新组。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1CDA8331-2852-4C1A-AE14-4D5B9533AA7B__GUID-5B865012-0350-4E0A-914A-08287AAAB6BA">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_REFRESH.REFRESH（名称IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1CDA8331-2852-4C1A-AE14-4D5B9533AA7B__GUID-ADC2DED4-B886-4E6E-A90D-8993CA03F949">参数</p>
                        <div class="tblformal" id="GUID-1CDA8331-2852-4C1A-AE14-4D5B9533AA7B__GUID-3FD88805-6754-4B2D-892B-AAF36B9AA698">
                           <p class="titleintable">表133-6 REFRESH程序参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REFRESH程序参数" width="100%" border="1" summary="This table describes the parameters of DBMS_REFRESH.REFRESH subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d705922e1494">参数</th>
                                    <th align="left" valign="bottom" width="77%" id="d705922e1497">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1502" headers="d705922e1494 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1502 d705922e1497 ">
                                       <p>要手动刷新的刷新组的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-F69450F0-622C-4AB9-8300-A1C0D5EADB76" name="GUID-F69450F0-622C-4AB9-8300-A1C0D5EADB76"></a><h4 id="ARPLS-GUID-F69450F0-622C-4AB9-8300-A1C0D5EADB76" class="sect4"><span class="enumeration_section">133.3.6</span>减法程序</h4>
                  <div>
                     <p>此过程从刷新组中删除实例化视图。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F69450F0-622C-4AB9-8300-A1C0D5EADB76__GUID-5B865012-0350-4E0A-914A-08287AAAB6BA">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_REFRESH.SUBTRACT（名称IN VARCHAR2，{list IN VARCHAR2，| tab in DBMS_UTILITY.UNCL_ARRAY，} lax IN BOOLEAN：= FALSE）;</pre><div class="infoboxnote" id="GUID-F69450F0-622C-4AB9-8300-A1C0D5EADB76__GUID-253A36D1-4FB0-4F49-9F6A-59109BD67BCE">
                           <p class="notep1">注意：</p>此过程已超载。<code class="codeph">list</code>和<code class="codeph">tab</code>参数是互斥的。
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F69450F0-622C-4AB9-8300-A1C0D5EADB76__GUID-ADC2DED4-B886-4E6E-A90D-8993CA03F949">参数</p>
                        <div class="tblformal" id="GUID-F69450F0-622C-4AB9-8300-A1C0D5EADB76__GUID-3FD88805-6754-4B2D-892B-AAF36B9AA698">
                           <p class="titleintable">表133-7减法程序参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="减法程序参数" width="100%" border="1" summary="This table describes the parameters of DBMS_REFRESH.SUBTRACT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d705922e1623">参数</th>
                                    <th align="left" valign="bottom" width="77%" id="d705922e1626">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1631" headers="d705922e1623 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1631 d705922e1626 ">
                                       <p>要从中删除成员的刷新组的名称，指定为<code class="codeph">[ <span class="codeinlineitalic">schema_name</span> .] <span class="codeinlineitalic">refresh_group_name</span></code> 。如果未指定架构，则当前用户是默认用户。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1647" headers="d705922e1623 ">
                                       <p><code class="codeph">名单</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1647 d705922e1626 ">
                                       <p>要从刷新组中删除的以逗号分隔的实体化视图列表。（不支持同义词。）这些物化视图可以位于不同的模式中，并具有不同的主表或主物化视图。但是，所有列出的物化视图必须位于当前数据库中。</p>
                                       <p>每个物化视图都指定为<code class="codeph">[ <span class="codeinlineitalic">schema_name</span> .] <span class="codeinlineitalic">materialized_view_name</span></code> 。如果未指定架构，则刷新组所有者是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1665" headers="d705922e1623 ">
                                       <p><code class="codeph">标签</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1665 d705922e1626 ">
                                       <p>您可以提供<code class="codeph">DBMS_UTILITY.UNCL_ARRAY</code>类型的PL / SQL关联数组， <code class="codeph">DBMS_UTILITY.UNCL_ARRAY</code>是以逗号分隔的列表，其中每个元素都是<code class="codeph">DBMS_UTILITY.UNCL_ARRAY</code>化视图的名称。第一个物化视图应位于第1位。最后一个位置必须为<code class="codeph">NULL</code> 。</p>
                                       <p>每个物化视图都指定为<code class="codeph">[ <span class="codeinlineitalic">schema_name</span> .] <span class="codeinlineitalic">materialized_view_name</span></code> 。如果未指定架构，则刷新组所有者是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d705922e1689" headers="d705922e1623 ">
                                       <p><code class="codeph">松</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d705922e1689 d705922e1626 ">
                                       <p>如果您希望Oracle在您尝试删除的实体化视图不是刷新组的成员时生成错误消息，请将此项设置为<code class="codeph">FALSE</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="13542.sample-xstream-client-application.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Examples illustrate how to configure the Oracle Database components that are used by XStream. The examples configure sample client applications that communicate with an XStream outbound server and inbound server."></meta>
      <meta name="description" content="Examples illustrate how to configure the Oracle Database components that are used by XStream. The examples configure sample client applications that communicate with an XStream outbound server and inbound server."></meta>
      <title>示例XStream客户端应用程序</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="XStream Guide "></meta>
      <meta property="og:description" content="Examples illustrate how to configure the Oracle Database components that are used by XStream. The examples configure sample client applications that communicate with an XStream outbound server and inbound server."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="XStream Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xstream-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:45:15-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2009, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96280-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="appendixes.html" title="Previous" type="text/html"></link>
      <link rel="next" href="xstream-out-restrictions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XStream Guide"></meta>
    <meta name="dcterms.isVersionOf" content="XSTRM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="appendixes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="xstream-out-restrictions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">XStream指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="appendixes.html" property="item" typeof="WebPage"><span property="name">附录</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">示例XStream客户端应用程序</li>
            </ol>
            <a id="GUID-B914FF75-92AA-4270-BF71-E9A5AA9228F8" name="GUID-B914FF75-92AA-4270-BF71-E9A5AA9228F8"></a>
            
            <h2 id="XSTRM-GUID-B914FF75-92AA-4270-BF71-E9A5AA9228F8" class="sect2"><span class="enumeration_chapter">A</span>样品XStream的客户端应用程序</h2>
         </header>
         <div class="ind">
            <div>
               <p>示例说明如何配置XStream使用的Oracle数据库组件。这些示例配置与XStream出站服务器和入站服务器通信的示例客户端应用程序。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="sample-xstream-client-application.html#GUID-0C0C8EC2-3730-4294-B8D8-D865DF5CAC94">关于Sample XStream客户端应用程序</a><br>示例XStream客户端应用程序说明了XStream Out和XStream In应用程序所需的基本任务。
                  </li>
                  <li class="ulchildlink"><a href="sample-xstream-client-application.html#GUID-E54E3782-5710-4889-B206-77CCB5BE0EB4">Oracle Call Interface API的示例XStream客户端应用程序</a><br>要为OCI API运行示例XStream客户端应用程序，请编译并链接应用程序文件。
                  </li>
                  <li class="ulchildlink"><a href="sample-xstream-client-application.html#GUID-952CEB45-9E0D-49AE-853A-912524B49853">Java API的示例XStream客户端应用程序</a><br>要为Java API运行示例XStream客户端应用程序，请编译并链接应用程序文件。
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-B914FF75-92AA-4270-BF71-E9A5AA9228F8__GUID-23B0AF79-7AA7-43A2-8A86-14BDFBF48D7E">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="xstream-out-concepts.html#GUID-B59B1F79-91F6-4495-B946-5DCEB317E0D6" title="熟悉与XStream Out相关的概念。">XStream Out Concepts</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="introduction-to-xstream.html#GUID-21FC23DF-2881-4CFD-AF74-9A1173D768FF" title="有几种常见的XStream用例。">XStream用例</a> ”</span></p>
                     </li>
                     <li>
                        <p><a href="../lnoci/intro-to-oci-interface-for-XStream.html#LNOCI72903" target="_blank"><span><cite>Oracle调用接口程序员指南</cite></span></a></p>
                     </li>
                     <li>
                        <p><a href="../stxjv/index.html" target="_blank"><span><cite>Oracle数据库XStream Java API参考</cite></span></a></p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="appendixes.html#GUID-08D451B5-2D76-447B-B39B-20CC73110D19" title="附录包括有关XStream客户端应用程序和XStream限制的信息。">附录</a></p>
                  </div>
               </div>
            </div>
            <a id="XSTRM1640"></a><a id="XSTRM1568"></a><a id="XSTRM72732"></a><div class="props_rev_3"><a id="GUID-0C0C8EC2-3730-4294-B8D8-D865DF5CAC94" name="GUID-0C0C8EC2-3730-4294-B8D8-D865DF5CAC94"></a><h3 id="XSTRM-GUID-0C0C8EC2-3730-4294-B8D8-D865DF5CAC94" class="sect3"><span class="enumeration_section">A.1</span>关于示例XStream客户端应用程序</h3>
               <div>
                  <p>示例XStream客户端应用程序说明了XStream Out和XStream In应用程序所需的基本任务。</p>
                  <p>该应用程序执行以下任务：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>它附加到XStream出站服务器和入站服务器，并等待来自出站服务器的LCR。出站服务器和入站服务器位于两个不同的数据库中。</p>
                     </li>
                     <li>
                        <p>当它从出站服务器收到LCR时，它会立即将LCR发送到入站服务器。</p>
                     </li>
                     <li>
                        <p>它定期从入站服务器获取已处理的低位置，并将此值发送到出站服务器。</p>
                     </li>
                     <li>
                        <p>它定期从出站服务器向入站服务器发送“ping”LCR，以便在活动较少时将入站服务器处理的低位置向前移动。</p>
                     </li>
                  </ul>
                  <p>在不将LCR发送到入站服务器的XStream Out配置中，客户端应用程序必须以另一种方式获取已处理的低位置。</p>
                  <p>此应用程序无限期地等待来自出站服务器的事务。要中断应用程序，请输入操作系统的中断命令。例如，某些操作系统上的中断命令是<code class="codeph">control-C</code> 。如果程序重新启动，则出站服务器开始从上一次运行期间设置的已处理低位发送LCR。
                  </p>
                  <p><a href="sample-xstream-client-application.html#GUID-0C0C8EC2-3730-4294-B8D8-D865DF5CAC94__CBDIHADI">图A-1</a>提供了本节中配置的XStream环境的概述。
                  </p>
                  <div class="figure" id="GUID-0C0C8EC2-3730-4294-B8D8-D865DF5CAC94__CBDIHADI">
                     <p class="titleinfigure">图A-1 XStream配置示例</p><img src="img/xstrm508.gif" width="600" alt="下面是图A-1的描述" title="下面是图A-1的描述" longdesc="img_text/xstrm508.html"><br><a href="img_text/xstrm508.html">“图A-1 XStream配置示例”的说明</a></div>
                  <!-- class="figure" -->
                  <p>在运行示例应用程序之前，请确保存在以下组件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>两个Oracle数据库，它们之间具有网络连接</p>
                     </li>
                     <li>
                        <p>两个数据库上的XStream管理员</p>
                     </li>
                     <li>
                        <p>一个数据库上的出站服务器配置，包括捕获进程，队列和出站服务器</p>
                     </li>
                     <li>
                        <p>另一个数据库上的入站服务器配置</p>
                     </li>
                  </ul>
                  <p>如果您使用多租户容器数据库（CDB）运行示例应用程序，请确保客户端应用程序连接到正确的容器：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>当客户端应用程序连接到出站服务器时，它必须连接到根。</p>
                     </li>
                     <li>
                        <p>当客户端应用程序连接到入站服务器时，它必须连接到创建入站服务器的容器。</p>
                     </li>
                  </ul>
                  <p>以下部分中的示例应用程序执行相同的任务。一个示例应用程序使用OCI API，另一个使用Java API。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="sample-xstream-client-application.html#GUID-E54E3782-5710-4889-B206-77CCB5BE0EB4" title="要为OCI API运行示例XStream客户端应用程序，请编译并链接应用程序文件。">Oracle Call Interface API的示例XStream客户端应用程序</a></p>
                     </li>
                     <li>
                        <p><a href="sample-xstream-client-application.html#GUID-952CEB45-9E0D-49AE-853A-912524B49853" title="要为Java API运行示例XStream客户端应用程序，请编译并链接应用程序文件。">Java API的示例XStream客户端应用程序</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-0C0C8EC2-3730-4294-B8D8-D865DF5CAC94__GUID-4231CE64-849C-4E9B-BDE1-268608E66A2E">
                     <p class="notep1">注意：</p>
                     <p>Oracle数据库安装包括几个XStream演示。这些演示位于以下位置：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / RDBMS /演示/ XStream的</pre></div>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-0C0C8EC2-3730-4294-B8D8-D865DF5CAC94__GUID-EA6145CF-AA41-47AE-BB6E-900BE0424BA2">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="general-xstream-concepts.html#GUID-077AAE24-54CF-4102-9969-9540608FFB65" title="每个LCR都有一个位置属性。LCR的位置标识其在交易中的LCR流中的位置。">在LCR流中定位订单</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="configuring-xstream-out.html#GUID-1338E648-E214-4666-98A1-8B8D0085EB23" title="您可以配置XStream Out使用的Oracle数据库组件。">配置XStream Out</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="configuring-xstream-in.html#GUID-B0F20D2D-7F63-4CE6-B15F-435B5A3DFBED" title="您可以配置XStream使用的Oracle数据库组件。">配置XStream</a> ”</span></p>
                        </li>
                        <li>
                           <p><a href="../arpls/DBMS_XSTREAM_AUTH.html#ARPLS73653" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="sample-xstream-client-application.html#GUID-B914FF75-92AA-4270-BF71-E9A5AA9228F8" title="示例说明如何配置XStream使用的Oracle数据库组件。这些示例配置与XStream出站服务器和入站服务器通信的示例客户端应用程序。">示例XStream客户端应用程序</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="XSTRM1569"></a><div class="props_rev_3"><a id="GUID-E54E3782-5710-4889-B206-77CCB5BE0EB4" name="GUID-E54E3782-5710-4889-B206-77CCB5BE0EB4"></a><h3 id="XSTRM-GUID-E54E3782-5710-4889-B206-77CCB5BE0EB4" class="sect3"><span class="enumeration_section">A.2</span> Oracle Call Interface API的示例XStream客户端应用程序</h3>
               <div>
                  <p>要为OCI API运行示例XStream客户端应用程序，请编译并链接应用程序文件。</p>
                  <p>接下来，在命令行中输入以下内容：</p><pre class="oac_no_warn" dir="ltr">xio -ob_svr <span class="italic">xout_name</span> -ob_db <span class="italic">sn_xout_db</span> -ob_usr <span class="italic">xout_cu</span> -ob_pwd <span class="italic">xout_cu_pass</span> -ib_svr <span class="italic">xin_name</span> -ib_db <span class="italic">sn_xin_db</span> -ib_usr <span class="italic">xin_au</span> -ib_pwd <span class="italic">xin_au_pass</span>
</pre><p>替换以下占位符的适当值：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic">xout_name</span>是出站服务器的名称。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">sn_xout_db</span>是出站服务器数据库的服务名称。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">xout_cu</span>是出站服务器的连接用户。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">xout_cu_pass</span>是出站服务器的连接用户的密码。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">xin_name</span>是入站服务器的名称。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">sn_xin_db</span>是入站服务器数据库的服务名称。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">xin_au</span>是入站服务器的应用用户。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">xin_au_pass</span>是入站服务器的应用用户的密码。
                        </p>
                     </li>
                  </ul>
                  <p>示例客户端应用程序运行时，它会打印有关正在处理的行LCR的信息。输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">----------- ROW LCR标题----------------- src_db_name = DB.EXAMPLE.COM cmd_type = UPDATE txid = 17.0.74 owner = HR oname = COUNTRIES ----------- ROW LCR标题----------------- src_db_name = DB.EXAMPLE.COM cmd_type = COMMIT txid = 17.0.74  - --------- ROW LCR标题----------------- src_db_name = DB.EXAMPLE.COM cmd_type = UPDATE txid = 12.25.77 owner = OE oname = ORDERS ----------- ROW LCR标题----------------- src_db_name = DB.EXAMPLE.COM cmd_type = UPDATE txid = 12.25.77 owner = OE oname =订单</pre><p>此输出包含每行LCR的以下信息：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">src_db_name</code>显示封装在行LCR中的更改的源数据库。</p>
                     </li>
                     <li>
                        <p><code class="codeph">cmd_type</code>显示进行更改的SQL语句的类型。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">txid</code>显示包含行LCR的事务的事务ID。</p>
                     </li>
                     <li>
                        <p><code class="codeph">owner</code>显示已更改的数据库对象的所有者。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oname</code>显示已更改的数据库对象的名称。
                        </p>
                     </li>
                  </ul>
                  <p>此演示位于以下位置：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / RDBMS /演示/ XStream的/ OCI</pre><p>演示的文件名是<code class="codeph">xio.c</code>有关编译和运行应用程序的更多信息，请参阅演示目录中的<code class="codeph">README.txt</code>文件。
                  </p>
                  <p>使用OCI API的示例应用程序的代码如下：</p><pre class="oac_no_warn" dir="ltr">#ifndef OCI_ORACLE #include &lt;oci.h&gt; #endif #ifndef _STDIO_H #include &lt;stdio.h&gt; #endif #ifndef _STDLIB_H #include &lt;stdlib.h&gt; #endif #ifndef _STRING_H #include &lt;string.h&gt; #endif #ifndef _MALLOC_H #include &lt;malloc.h&gt; #endif / * -------------------------------------- -------------------------------- *内部结构* -------------- -------------------------------------------------- ------ * / #define M_DBNAME_LEN（128）typedef struct conn_info / * connect info * / {oratext * user; ub4 userlen; oratext * passw; ub4 passwlen; oratext * dbname; ub4 dbnamelen; oratext * svrnm; ub4 svrnmlen; } conn_info_t; typedef struct params {conn_info_t xout; / *出站信息* / conn_info_t xin; / *入站信息* /} params_t; typedef struct oci / * OCI处理* / {OCIEnv * envp; / *环境句柄* / OCIError * errp; / *错误句柄* / OCIServer * srvp; / *服务器句柄* / OCISvcCtx * svcp; / *服务句柄* / OCISession * authp; OCIStmt * stmtp;布尔附加;布尔出站; } oci_t; static void connect_db（conn_info_t * opt_params_p，oci_t ** ocip，ub2 char_csid，ub2 nchar_csid）; static void disconnect_db（oci_t * ocip）; static void ocierror（oci_t * ocip，char * msg）; static void attach（oci_t * ocip，conn_info_t * conn，boolean outbound）; static void detach（oci_t * ocip）; static void get_lcrs（oci_t * xin_ocip，oci_t * xout_ocip）; static void get_chunks（oci_t * xin_ocip，oci_t * xout_ocip）; static void print_lcr（oci_t * ocip，void * lcrp，ub1 lcrtype，oratext ** src_db_name，ub2 * src_db_namel）; static void print_chunk（ub1 * chunk_ptr，ub4 chunk_len，ub2 dty）; static void get_inputs（conn_info_t * xout_params，conn_info_t * xin_params，int argc，char ** argv）; static void get_db_charsets（conn_info_t * params_p，ub2 * char_csid，ub2 * nchar_csid）; static void set_client_charset（oci_t * outbound_ocip）; #define OCICALL（ocip，function）do {\ sword status = function; \ if（OCI_SUCCESS == status）break; \ else if（OCI_ERROR == status）\ {ocierror（ocip，（char *）“OCI_ERROR”）; \ exit（1）;} \ else {printf（“遇到错误％d \ n”，状态）; \ exit（1）;} \} while（0）/ * ----------- -------------------------------------------------- -------- * MAINPROGRAM * --------------------------------------- ------------------------------ * / main（int argc，char ** argv）{/ *出站和入站连接信息* / conn_info_t xout_params; conn_info_t xin_params; oci_t * xout_ocip =（oci_t *）NULL; oci_t * xin_ocip =（oci_t *）NULL; ub2 obdb_char_csid = 0; / * outbound db char csid * / ub2 obdb_nchar_csid = 0; / * outbound db nchar csid * / / *解析命令行参数* / get_inputs（＆xout_params，＆xin_params，argc，argv）; / *获取出站数据库CHAR和NCHAR字符集信息* / get_db_charsets（＆xout_params，＆obdb_char_csid，＆obdb_nchar_csid）; / *连接到出站数据库并将客户端env设置为出站字符集*，以便在将LCR从出站*直接传输到入站服务器时最小化字符转换。* / connect_db（＆xout_params，＆xout_ocip，obdb_char_csid，obdb_nchar_csid）; / *附加到出站服务器* / attach（xout_ocip，＆xout_params，TRUE）; / *连接到入站数据库并将客户端字符集设置为与*出站数据库字符集相同。* / connect_db（＆xin_params，＆xin_ocip，obdb_char_csid，obdb_nchar_csid）; / *附加到入站服务器* / attach（xin_ocip，＆xin_params，FALSE）; / *从出站服务器获取lcrs并发送到入站服务器* / get_lcrs（xin_ocip，xout_ocip）; / *从XStream服务器分离* / detach（xout_ocip）;分离（xin_ocip）; / *从两个数据库断开连接* / disconnect_db（xout_ocip）; disconnect_db（xin_ocip）;自由（xout_ocip）;自由（xin_ocip）;退出（0）; } / * ----------------------------------------------- ---------------------- * connect_db  - 连接到数据库并将env设置为给定的* char和nchar字符集id。* ------------------------------------------------- -------------------- * / static void connect_db（conn_info_t * params_p，oci_t ** ociptr，ub2 char_csid，ub2 nchar_csid）{oci_t * ocip; printf（“以％作为％。* s @％。*”连接到Oracle，params_p-&gt; userlen，params_p-&gt; user，params_p-&gt; dbnamelen，params_p-&gt; dbname）; if（char_csid &amp;&amp; nchar_csid）printf（“使用char csid =％d和nchar csid =％d”，char_csid，nchar_csid）;的printf（ “\ n”）; ocip =（oci_t *）malloc（sizeof（oci_t））; if（OCIEnvNlsCreate（＆ocip-&gt; envp，OCI_OBJECT，（dvoid *）0，（dvoid *（*）（dvoid *，size_t））0，（dvoid *（*）（dvoid *，dvoid *，size_t））0， （void（*）（dvoid *，dvoid *））0，（size_t）0，（dvoid **）0，char_csid，nchar_csid））{ocierror（ocip，（char *）“OCIEnvCreate（）failed”）; } if（OCIHandleAlloc（（dvoid *）ocip-&gt; envp，（dvoid **）＆ocip-&gt; errp，（ub4）OCI_HTYPE_ERROR，（size_t）0，（dvoid **）0））{ocierror（ocip，（char * ）“OCIHandleAlloc（OCI_HTYPE_ERROR）失败”）; } / *登录到数据库* / OCICALL（ocip，OCILogon（ocip-&gt; envp，ocip-&gt; errp，＆ocip-&gt; svcp，params_p-&gt; user，params_p-&gt; userlen，params_p-&gt; passw，params_p-&gt; passwlen，params_p - &gt; dbname，params_p-&gt; dbnamelen））; / *分配服务器句柄* / OCICALL（ocip，OCIHandleAlloc（（dvoid *）ocip-&gt; envp，（dvoid **）＆ocip-&gt; srvp，OCI_HTYPE_SERVER，（size_t）0，（dvoid **）0））; OCICALL（ocip，OCIHandleAlloc（（dvoid *）ocip-&gt; envp，（dvoid **）＆ocip-&gt; stmtp，（ub4）OCI_HTYPE_STMT，（size_t）0，（dvoid **）0））; if（* ociptr ==（oci_t *）NULL）{* ociptr = ocip; } / * ---------------------------------------------- ----------------------- * get_db_charsets  - 获取数据库CHAR和NCHAR字符集ID。* ------------------------------------------------- -------------------- * / static const oratext GET_DB_CHARSETS [] = \“select parameter，value from nls_database_parameters where parameter = \'NLS_CHARACTERSET'或parameter ='NLS_NCHAR_CHARACTERSET' “; #define PARM_BUFLEN（30）static void get_db_charsets（conn_info_t * params_p，ub2 * char_csid，ub2 * nchar_csid）{OCIDefine * defnp1 =（OCIDefine *）NULL; OCIDefine * defnp2 =（OCIDefine *）NULL; oratext parm [PARM_BUFLEN]; oratext值[OCI_NLS_MAXBUFSZ]; ub2 parm_len = 0; ub2 value_len = 0; oci_t ocistruct; oci_t * ocip =＆ocistruct; * char_csid = 0; * nchar_csid = 0; memset（ocip，0，sizeof（ocistruct））; if（OCIEnvCreate（＆ocip-&gt; envp，OCI_OBJECT，（dvoid *）0，（dvoid *（*）（dvoid *，size_t））0，（dvoid *（*）（dvoid *，dvoid *，size_t））0， （void（*）（dvoid *，dvoid *））0，（size_t）0，（dvoid **）0））{ocierror（ocip，（char *）“OCIEnvCreate（）failed”）; } if（OCIHandleAlloc（（dvoid *）ocip-&gt; envp，（dvoid **）＆ocip-&gt; errp，（ub4）OCI_HTYPE_ERROR，（size_t）0，（dvoid **）0））{ocierror（ocip，（char * ）“OCIHandleAlloc（OCI_HTYPE_ERROR）失败”）; } OCICALL（ocip，OCILogon（ocip-&gt; envp，ocip-&gt; errp，＆ocip-&gt; svcp，params_p-&gt; user，params_p-&gt; userlen，params_p-&gt; passw，params_p-&gt; passwlen，params_p-&gt; dbname，params_p-&gt; dbnamelen））; OCICALL（ocip，OCIHandleAlloc（（dvoid *）ocip-&gt; envp，（dvoid **）＆ocip-&gt; stmtp，（ub4）OCI_HTYPE_STMT，（size_t）0，（dvoid **）0））; / *执行stmt以选择db nls char和nchar字符集* / OCICALL（ocip，OCIStmtPrepare（ocip-&gt; stmtp，ocip-&gt; errp，（CONST text *）GET_DB_CHARSETS，（ub4）strlen（（char *）GET_DB_CHARSETS） ，（ub4）OCI_NTV_SYNTAX，（ub4）OCI_DEFAULT））; OCICALL（ocip，OCIDefineByPos（ocip-&gt; stmtp，＆defnp1，ocip-&gt; errp，（ub4）1，parm，PARM_BUFLEN，SQLT_CHR，（void *）0，＆parm_len，（ub2 *）0，OCI_DEFAULT））; OCICALL（ocip，OCIDefineByPos（ocip-&gt; stmtp，＆defnp2，ocip-&gt; errp，（ub4）2，value，OCI_NLS_MAXBUFSZ，SQLT_CHR，（void *）0，＆value_len，（ub2 *）0，OCI_DEFAULT））; OCICALL（ocip，OCIStmtExecute（ocip-&gt; svcp，ocip-&gt; stmtp，ocip-&gt; errp，（ub4）0，（ub4）0，（const OCISnapshot *）0，（OCISnapshot *）0，（ub4）OCI_DEFAULT）） ; while（OCIStmtFetch（ocip-&gt; stmtp，ocip-&gt; errp，1，OCI_FETCH_NEXT，OCI_DEFAULT）== OCI_SUCCESS）{value [value_len] ='\ 0'; if（parm_len == strlen（“NLS_CHARACTERSET”）&amp;&amp;！memcmp（parm，“NLS_CHARACTERSET”，parm_len））{* char_csid = OCINlsCharSetNameToId（ocip-&gt; envp，value）; printf（“出站数据库NLS_CHARACTERSET =％。* s（csid =％d）\ n”，value_len，value，* char_csid）; } else if（parm_len == strlen（“NLS_NCHAR_CHARACTERSET”）&amp;&amp;！memcmp（parm，“NLS_NCHAR_CHARACTERSET”，parm_len））{* nchar_csid = OCINlsCharSetNameToId（ocip-&gt; envp，value）; printf（“出站数据库NLS_NCHAR_CHARACTERSET =％。* s（csid =％d）\ n”，value_len，value，* nchar_csid）; disconnect_db（ocip）; } / * ----------------------------------------------- ---------------------- * attach  - 附加到连接信息中指定的XStream服务器* ---------------- -------------------------------------------------- --- * / static void attach（oci_t * ocip，conn_info_t * conn，boolean outbound）{sword err; printf（“附加到XStream％s服务器'％。* s'\ n”，出站？“outbound”：“inbound”，conn-&gt; svrnmlen，conn-&gt; svrnm）; if（outbound）{OCICALL（ocip，OCIXStreamOutAttach（ocip-&gt; svcp，ocip-&gt; errp，conn-&gt; svrnm，（ub2）conn-&gt; svrnmlen，（ub1 *）0,0，OCI_DEFAULT））; } else {OCICALL（ocip，OCIXStreamInAttach（ocip-&gt; svcp，ocip-&gt; errp，conn-&gt; svrnm，（ub2）conn-&gt; svrnmlen，（oratext *）“From_XOUT”，9，（ub1 *）0,0， OCI_DEFAULT））; } ocip-&gt; attached = TRUE; ocip-&gt; outbound = outbound; } / * ----------------------------------------------- ---------------------- * ping_svr  - 通过发送提交LCR来Ping入站服务器。 * ------------------------------------------------- -------------------- * / static void ping_svr（oci_t * xin_ocip，void * commit_lcr，ub1 * cmtpos，ub2 cmtpos_len，oratext * source_db，ub2 source_db_len）{OCIDate src_time; oratext txid [128]; OCICALL（xin_ocip，OCIDateSysDate（xin_ocip-&gt; errp，＆src_time））; sprintf（（char *）txid，“Ping％2d：％2d：％2d”，src_time。OCIDateTime。OCITimeHH，src_time。OCIDateTime。OCITimeMI，src_time。OCIDateTime。OCITimeSS）; / *使用新的txid初始化LCR并提交位置* / OCICALL（xin_ocip，OCILCRHeaderSet（xin_ocip-&gt; svcp，xin_ocip-&gt; errp，source_db，source_db_len，（oratext *）OCI_LCR_ROW_CMD_COMMIT，（ub2）strlen（OCI_LCR_ROW_CMD_COMMIT），（oratext *） 0,0，/ * null owner * /（oratext *）0,0，/ * null object * /（ub1 *）0,0，/ * null tag * / txid，（ub2）strlen（（char *）txid ），＆src_time，cmtpos，cmtpos_len，0，commit_lcr，OCI_DEFAULT））; / *将commit lcr发送到入站服务器。* / if（OCIXStreamInLCRSend（xin_ocip-&gt; svcp，xin_ocip-&gt; errp，commit_lcr，OCI_LCR_XROW，0，OCI_DEFAULT）== OCI_ERROR）{ocierror（xin_ocip，（char *）“oCIXStreamInLCRSend在ping_svr（）中失败”）; } / * ---------------------------------------------- ----------------------- * get_lcrs  - 从出站服务器获取LCR并发送到入站服务器。* ------------------------------------------------- -------------------- * / static void get_lcrs（oci_t * xin_ocip，oci_t * xout_ocip）{sword status = OCI_SUCCESS; void * lcr; ub1 lcrtype; oraub8标志; ub1 proclwm [OCI_LCR_MAX_POSITION_LEN]; ub2 proclwm_len = 0; ub1 sv_pingpos [OCI_LCR_MAX_POSITION_LEN]; ub2 sv_pingpos_len = 0; ub1 fetchlwm [OCI_LCR_MAX_POSITION_LEN]; ub2 fetchlwm_len = 0; void * commit_lcr =（void *）0; oratext * lcr_srcdb =（oratext *）0; ub2 lcr_srcdb_len = 0; oratext source_db [M_DBNAME_LEN]; ub2 source_db_len = 0; ub4 lcrcnt = 0; / *通过发送* commit lcr创建一个lcr来定期ping入站服务器。* / commit_lcr =（void *）0; OCICALL（xin_ocip，OCILCRNew（xin_ocip-&gt; svcp，xin_ocip-&gt; errp，OCI_DURATION_SESSION，OCI_LCR_XROW，＆commit_lcr，OCI_DEFAULT））; while（status == OCI_SUCCESS）{lcrcnt = 0; / *在每个批处理之前重置lcr计数* / while（（status = OCIXStreamOutLCRReceive（xout_ocip-&gt; svcp，xout_ocip-&gt; errp，＆lcr，＆lcrtype，＆flag，fetchlwm，＆fetchlwm_len，OCI_DEFAULT））== OCI_STILL_EXECUTING）{lcrcnt ++; / * LCR的打印头刚收到* / print_lcr（xout_ocip，lcr，lcrtype，＆lcr_srcdb，＆lcr_srcdb_len）; / *保存源数据库以构建ping lcr以后* / if（！source_db_len &amp;&amp; lcr_srcdb_len）{memcpy（source_db，lcr_srcdb，lcr_srcdb_len）; source_db_len = lcr_srcdb_len; } / *发送刚收到的LCR * / if（OCIXStreamInLCRSend（xin_ocip-&gt; svcp，xin_ocip-&gt; errp，lcr，lcrtype，flag，OCI_DEFAULT）== OCI_ERROR）{ocierror（xin_ocip，（char *）“OCIXStreamInLCRSend failed”） ;如果LCR具有分块列（即，具有LOB / Long / XMLType列）* / if（flag＆OCI_XSTREAM_MORE_ROW_DATA）{/ *接收并发送分块列* / get_chunks（xin_ocip，xout_ocip）; if（status == OCI_ERROR）ocierror（xout_ocip，（char *）“OCIXStreamOutLCRReceive failed”）; / *清除保存的ping位置，如果我们刚收到一些新的lcrs * / if（lcrcnt）{sv_pingpos_len = 0; / *如果在之前的WHILE循环期间没有收到lcrs并获得新的fetch * LWM，则发送commit lcr以使用新的* fetch LWM位置ping入站服务器。* / else if（fetchlwm_len&gt; 0 &amp;&amp; source_db_len&gt; 0 &amp;&amp;（fetchlwm_len！= sv_pingpos_len || memcmp（sv_pingpos，fetchlwm，fetchlwm_len）））{/ *为了确保我们不发送具有重复位置的多个lcrs，只有在我们保存了最后一个ping位置时才发送*新的ping。* / if（sv_pingpos_len&gt; 0）{ping_svr（xin_ocip，commit_lcr，fetchlwm，fetchlwm_len，source_db，source_db_len）; } / *保存刚刚发送到入站服务器的位置* / memcpy（sv_pingpos，fetchlwm，fetchlwm_len）; sv_pingpos_len = fetchlwm_len; / *刷新入站网络以将所有lcrs刷新到入站服务器* / OCICALL（xin_ocip，OCIXStreamInFlush（xin_ocip-&gt; svcp，xin_ocip-&gt; errp，OCI_DEFAULT））; / *获取处理的入站服务器的LWM * / OCICALL（xin_ocip，OCIXStreamInProcessedLWMGet（xin_ocip-&gt; svcp，xin_ocip-&gt; errp，proclwm，＆proclwm_len，OCI_DEFAULT））; if（proclwm_len&gt; 0）{/ *为出站服务器设置已处理的LWM * / OCICALL（xout_ocip，OCIXStreamOutProcessedLWMSet（xout_ocip-&gt; svcp，xout_ocip-&gt; errp，proclwm，proclwm_len，OCI_DEFAULT））;如果（状态！= OCI_SUCCESS）ocierror（xout_ocip，（char *）“get_lcrs（）遇到错误”）; } / * ----------------------------------------------- ---------------------- * get_chunks  - 获取当前LCR的每个块并将其发送到入站服务器。* ------------------------------------------------- -------------------- * / static void get_chunks（oci_t * xin_ocip，oci_t * xout_ocip）{oratext * colname; ub2 colname_len; ub2寒冷; oraub8 col_flags; ub2 col_csid; ub4 chunk_len; ub1 * chunk_ptr; oraub8 row_flag;剑错; sb4 rtncode; do {/ *从出站服务器* / OCICALL获取一个块（xout_ocip，OCIXStreamOutChunkReceive（xout_ocip-&gt; svcp，xout_ocip-&gt; errp，＆colname，＆colname_len，＆coldty，＆col_flags，＆col_csid，＆chunk_len，＆chunk_ptr，＆row_flag，OCI_DEFAULT））; / * print chunked column info * / printf（“Chunked column name =％。* s DTY =％d chunk len =％d csid =％d col_flag = 0x％lx \ n”，colname_len，colname，coldty，chunk_len，col_csid ，col_flags）; / * print chunk data * / print_chunk（chunk_ptr，chunk_len，coldty）; / *将刚刚收到的块发送到入站服务器* / OCICALL（xin_ocip，OCIXStreamInChunkSend（xin_ocip-&gt; svcp，xin_ocip-&gt; errp，colname，colname_len，coldty，col_flags，col_csid，chunk_len，chunk_ptr，row_flag，OCI_DEFAULT））; } while（row_flag＆OCI_XSTREAM_MORE_ROW_DATA）; } / * ----------------------------------------------- ---------------------- * print_chunk  - 打印分块列信息。仅打印每个块的前50个字节。* ------------------------------------------------- -------------------- * / static void print_chunk（ub1 * chunk_ptr，ub4 chunk_len，ub2 dty）{＃define MAX_PRINT_BYTES（50）/ * print max of 50 bytes每块* / ub4 print_bytes; if（chunk_len == 0）返回; print_bytes = chunk_len&gt; MAX_PRINT_BYTES？MAX_PRINT_BYTES：chunk_len; printf（“Data =”）; if（dty == SQLT_CHR）printf（“％。* s”，print_bytes，chunk_ptr）;别的{ub2 idx; for（idx = 0; idx &lt;print_bytes; idx ++）printf（“％02x”，chunk_ptr [idx]）; } printf（“\ n”）; } / * ----------------------------------------------- ---------------------- * print_lcr  - 打印给定lcr的标题信息。* ------------------------------------------------- -------------------- * / static void print_lcr（oci_t * ocip，void * lcrp，ub1 lcrtype，oratext ** src_db_name，ub2 * src_db_namel）{oratext * cmd_type ; ub2 cmd_type_len; oratext *所有者; ub2 ownerl; oratext * oname; ub2 onamel; oratext * txid; ub2 txidl;剑回; printf（“\ n -----------％s LCR Header ----------------- \ n”，lcrtype == OCI_LCR_XDDL？“DDL”：“ROW”）; / *获取LCR标头信息* / ret = OCILCRHeaderGet（ocip-&gt; svcp，ocip-&gt; errp，src_db_name，src_db_namel，/ * source db * /＆cmd_type，＆cmd_type_len，/ *命令类型* /＆owner，＆ownerl，/ *所有者名称* /＆oname，＆onamel，/ *对象名称* /（ub1 **）0，（ub2 *）0，/ * lcr标签* /＆txid，＆txidl，（OCIDate *）0，/ * txn id＆src time * / （ub2 *）0，（ub2 *）0，/ * OLD / NEW col cnts * /（ub1 **）0，（ub2 *）0，/ * LCR位置* /（oraub8 *）0，lcrp，OCI_DEFAULT） ;如果（退！= OCI_SUCCESS）ocierror（ocip，（char *）“OCILCRHeaderGet failed”）; else {printf（“src_db_name =％。* s \ n cmd_type =％。* s txid =％。* s \ n”，* src_db_namel，* src_db_name，cmd_type_len，cmd_type，txidl，txid）; if（ownerl&gt; 0）printf（“owner =％。* s oname =％。* s \ n”，ownerl，owner，onamel，oname）; } / * ---------------------------------------------- ----------------------- * detach  - 从XStream服务器分离* ------------------- -------------------------------------------------- * / static void detach（oci_t * ocip）{sword err = OCI_SUCCESS; printf（“从XStream％s服务器分离\ n”，ocip-&gt; outbound？“出境”：“入境”）; if（ocip-&gt; outbound）{OCICALL（ocip，OCIXStreamOutDetach（ocip-&gt; svcp，ocip-&gt; errp，OCI_DEFAULT））; } else {OCICALL（ocip，OCIXStreamInDetach（ocip-&gt; svcp，ocip-&gt; errp，（ub1 *）0，（ub2 *）0，/ *处理后的LWM * / OCI_DEFAULT））; } / * ---------------------------------------------- ----------------------- * disconnect_db  - 从数据库注销* ------------------- -------------------------------------------------- * / static void disconnect_db（oci_t * ocip）{if（OCILogoff（ocip-&gt; svcp，ocip-&gt; errp））{ocierror（ocip，（char *）“OCILogoff（）failed”）; } if（ocip-&gt; errp）OCIHandleFree（（dvoid *）ocip-&gt; errp，（ub4）OCI_HTYPE_ERROR）; if（ocip-&gt; envp）OCIHandleFree（（dvoid *）ocip-&gt; envp，（ub4）OCI_HTYPE_ENV）; } / * ----------------------------------------------- ---------------------- * ocierror  - 打印错误状态并退出程序* ------------------ -------------------------------------------------- -  * / static void ocierror（oci_t * ocip，char * msg）{sb4 errcode = 0; text bufp [4096]; if（ocip-&gt; errp）{OCIErrorGet（（dvoid *）ocip-&gt; errp，（ub4）1，（text *）NULL，＆errcode，bufp，（ub4）4096，（ub4）OCI_HTYPE_ERROR）; printf（“％s \ n％s”，msg，bufp）; } else puts（msg）; printf（“\ n”）;出口（1）; } / * ----------------------------------------------- --------------------- * print_usage  - 打印命令用法* ---------------------- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - -*/ 静态的void print_usage（int exitcode）{puts（“\ nUsage：xio -ob_svr &lt;outbound_svr&gt; -ob_db &lt;outbound_db&gt; \ n”“ -  ob_usr &lt;conn_user&gt; -ob_pwd &lt;conn_user_pwd&gt; \ n”“ -  ib_svr &lt;inbound_svr&gt; -ib_db &lt; inbound_db&gt; \ n“” -  ib_usr &lt;apply_user&gt; -ib_pwd &lt;apply_user_pwd&gt; \ n“）; puts（“ob_svr：出站服务器名称\ n”“ob_db：出站服务器的数据库名称\ n”“ob_usr：将用户连接到出站服务器\ n”“ob_pwd：出站连接用户的密码\ n”“ib_svr：入站服务器名称\ n“”ib_db：入站服务器的数据库名称\ n“”ib_usr：为入站服务器申请用户\ n“”ib_pwd：入站申请用户的密码\ n“）;出口（退出码）; } / * ----------------------------------------------- --------------------- * get_inputs  - 从命令行获取用户输入* ------------------- -------------------------------------------------- * / static void get_inputs（conn_info_t * xout_params，conn_info_t * xin_params，int argc，char ** argv）{char * option; char *值; memset（xout_params，0，sizeof（* xout_params））; memset（xin_params，0，sizeof（* xin_params））; while（ -  argc）{/ *获取选项名称* / argv ++; option = * argv; / *检查选项是否以“ - ”开头* / if（！strncmp（option，（char *）“ - ”，1））{option ++; } else {printf（“错误：错误的参数'％s'\ n”，选项）; print_usage（1）; } / *获取选项* / --argc的值;的argv ++; value = * argv;如果（！strncmp（option，（char *）“ob_db”，5））{xout_params-&gt; dbname =（oratext *）value; xout_params-&gt; dbnamelen =（ub4）strlen（value）;如果（！）strncmp（option，（char *）“ob_usr”，6））{xout_params-&gt; user =（oratext *）value; xout_params-&gt; userlen =（ub4）strlen（value）;如果（！）strncmp（option，（char *）“ob_pwd”，6））{xout_params-&gt; passw =（oratext *）value; xout_params-&gt; passwlen =（ub4）strlen（value）;如果（！）strncmp（option，（char *）“ob_svr”，6））{xout_params-&gt; svrnm =（oratext *）value; xout_params-&gt; svrnmlen =（ub4）strlen（value）;如果（！）strncmp（option，（char *）“ib_db”，5））{xin_params-&gt; dbname =（oratext *）value; xin_params-&gt; dbnamelen =（ub4）strlen（value）;如果（！）strncmp（option，（char *）“ib_usr”，6））{xin_params-&gt; user =（oratext *）value; xin_params-&gt; userlen =（ub4）strlen（value）;如果（！）strncmp（option，（char *）“ib_pwd”，6））{xin_params-&gt; passw =（oratext *）value; xin_params-&gt; passwlen =（ub4）strlen（value）;如果（！）strncmp（option，（char *）“ib_svr”，6））{xin_params-&gt; svrnm =（oratext *）value; xin_params-&gt; svrnmlen =（ub4）strlen（value）; } else {printf（“错误：未知选项'％s'。\ n”，选项）; print_usage（1）;如果没有指定任何参数，则打印用法和退出* / if（！）xout_params-&gt; svrnmlen || ！xout_params-&gt; passwlen || ！xout_params-&gt; userlen || ！xout_params-&gt; dbnamelen || ！xin_params-&gt; svrnmlen || ！xin_params-&gt; passwlen || ！xin_params-&gt; userlen || ！xin_params-&gt; dbnamelen）{printf（“错误：缺少命令参数。\ n”）; print_usage（1）; }}</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="sample-xstream-client-application.html#GUID-B914FF75-92AA-4270-BF71-E9A5AA9228F8" title="示例说明如何配置XStream使用的Oracle数据库组件。这些示例配置与XStream出站服务器和入站服务器通信的示例客户端应用程序。">示例XStream客户端应用程序</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="XSTRM1570"></a><div class="props_rev_3"><a id="GUID-952CEB45-9E0D-49AE-853A-912524B49853" name="GUID-952CEB45-9E0D-49AE-853A-912524B49853"></a><h3 id="XSTRM-GUID-952CEB45-9E0D-49AE-853A-912524B49853" class="sect3"><span class="enumeration_section">A.3</span> Java API的示例XStream客户端应用程序</h3>
               <div>
                  <p>要为Java API运行示例XStream客户端应用程序，请编译并链接应用程序文件。</p>
                  <p>接下来，在命令行中输入以下内容：</p><pre class="oac_no_warn" dir="ltr">java xio <span class="italic">xsin_oraclesid</span> <span class="italic">xsin_host</span> <span class="italic">xsin_port</span> <span class="italic">xsin_username</span> <span class="italic">xsin_passwd</span> <span class="italic">xin_servername</span> <span class="italic">xsout_oraclesid</span> <span class="italic">xsout_host</span> <span class="italic">xsout_port</span> <span class="italic">xsout_username</span> <span class="italic">xsout_passwd</span> <span class="italic">xsout_servername</span>
</pre><p>替换以下占位符的适当值：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic">xsin_oraclesid</span>是入站服务器数据库的Oracle SID。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">xsin_host</span>是运行入站服务器的计算机系统的主机名。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">xsin_port</span>是入站服务器数据库的侦听器的端口号。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">xsin_username</span>是入站服务器的应用用户。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">xsin_passwd</span>是入站服务器的应用用户的密码。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">xin_servername</span>是入站服务器的名称。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">xsout_oraclesid</span>是出站服务器数据库的Oracle SID。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">xsout_host</span>是运行出站服务器的计算机系统的主机名。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">xsout_port</span>是出站服务器数据库的侦听器的端口号。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">xsout_username</span>是出站服务器的连接用户。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">xsout_passwd</span>是出站服务器的连接用户的密码。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">xsout_servername</span>是出站服务器的名称。
                        </p>
                     </li>
                  </ul>
                  <p>示例客户端应用程序运行时，它会打印有关附加到入站服务器和出站服务器的信息，以及每个服务器的最后位置。输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">xsin_host = server2.example.com xsin_port = 1482 xsin_ora_sid = db2 xsin connection url：jdbc：oracle：oci：@ server2.example.com:1482:db2 xsout_host = server1.example.com xsout_port = 1481 xsout_ora_sid = db1 xsout connection url： jdbc：oracle：oci：@ server1.example.com:1481：db1附加到入站服务器：xin入站服务器最后位置是：0000000920250000000100000001000000092025000000010000000101附加到出站服务器：xout最后位置是：0000000920250000000100000001000000092025000000010000000101</pre><p>此演示位于以下位置：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / RDBMS /演示/ XStream的/ JAVA</pre><p>该演示的文件名是<code class="codeph">xio.java</code> 。有关编译和运行应用程序的更多信息，请参阅演示目录中的<code class="codeph">README.txt</code>文件。
                  </p>
                  <p>使用Java API的示例应用程序的代码如下：</p><pre class="oac_no_warn" dir="ltr">导入oracle.streams。*; import oracle.jdbc.internal。的OracleConnection; import oracle.jdbc。*; import oracle.sql。*; import java.sql。*; import java.util。*; public class xio {public static String xsinusername = null; public static String xsinpasswd = null; public static String xsinName = null; public static String xsoutusername = null; public static String xsoutpasswd = null; public static String xsoutName = null; public static String in_url = null; public static String out_url = null; public static Connection in_conn = null; public static Connection out_conn = null; public static XStreamIn xsIn = null; public static XStreamOut xsOut = null; public static byte [] lastPosition = null; public static byte [] processedLowPosition = null; public static void main（String args []）{//获取入站和出站服务器的连接URL in_url = parseXSInArguments（args）; out_url = parseXSOutArguments（args）; //创建与入站和出站服务器的连接in_conn = createConnection（in_url，xsinusername，xsinpasswd）; out_conn = createConnection（out_url，xsoutusername，xsoutpasswd）; //附加到入站和出站服务器xsIn = attachInbound（in_conn）; xsOut = attachOutbound（out_conn）; //主循环获取lcrs get_lcrs（xsIn，xsOut）; //从入站和出站服务器detachInbound（xsIn）分离; detachOutbound（xsOut）; } //解析参数以获取conncetion url到入站db public static String parseXSInArguments（String args []）{String trace，pref;字符串orasid，主机，端口; if（args.length！= 12）{printUsage（）; System.exit（0）; } orasid = args [0]; host = args [1]; port = args [2]; xsinusername = args [3]; xsinpasswd = args [4]; xsinName = args [5]; System.out.println（“xsin_host =”+ host）; System.out.println（“xsin_port =”+ port）; System.out.println（“xsin_ora_sid =”+ orasid）; String in_url =“jdbc：oracle：oci：@”+ host +“：”+ port +“：”+ orasid; System.out.println（“xsin connection url：”+ in_url）; return in_url; } //解析参数以获取conncetion url到outbound db public static String parseXSOutArguments（String args []）{String trace，pref;字符串orasid，主机，端口; if（args.length！= 12）{printUsage（）; System.exit（0）; } orasid = args [6]; host = args [7]; port = args [8]; xsoutusername = args [9]; xsoutpasswd = args [10]; xsoutName = args [11]; System.out.println（“xsout_host =”+ host）; System.out.println（“xsout_port =”+ port）; System.out.println（“xsout_ora_sid =”+ orasid）; String out_url =“jdbc：oracle：oci：@”+ host +“：”+ port +“：”+ orasid; System.out.println（“xsout connection url：”+ out_url）;返回out_url; } //打印出示例程序用法消息public static void printUsage（）{System.out.println（“”）; System.out.println（“用法：java xio”+“&lt;xsin_oraclesid&gt;”+“&lt;xsin_host&gt;”+“&lt;xsin_port&gt;”）; System.out.println（“”+“&lt;xsin_username&gt;”+“&lt;xsin_passwd&gt;”+“&lt;xsin_servername&gt;”）; System.out.println（“”+“&lt;xsout_oraclesid&gt;”+“&lt;xsout_host&gt;”+“&lt;xsout_port&gt;”）; System.out.println（“”+“&lt;xsout_username&gt;”+“&lt;xsout_passwd&gt;”+“&lt;xsout_servername&gt;”）; } //创建与Oracle数据库的连接public static Connection createConnection（String url，String username，String passwd）{try {DriverManager.registerDriver（new oracle.jdbc。一个OracleDriver（））; return DriverManager.getConnection（url，username，passwd）; } catch（Exception e）{System.out.println（“无法建立DB连接到：”+ url）; e.printStackTrace（）; return null; } // //附加到XStream入站服务器public static XStreamIn attachInbound（Connection in_conn）{XStreamIn xsIn = null;尝试{xsIn = XStreamIn.attach（（OracleConnection）in_conn，xsinName，“XSDEMOINCLIENT”，XStreamIn。DEFAULT_MODE）; //使用最后一个位置来决定我们应该从哪里开始发送LCRs lastPosition = xsIn.getLastPosition（）; System.out.println（“附加到入站服务器：”+ xsinName）; System.out.print（“入站服务器最后位置是：”）; if（null == lastPosition）{System.out.println（“null”）; } else {printHex（lastPosition）; } return xsIn; } catch（例外e）{System.out.println（“无法附加到入站服务器：”+ xsinName）;的System.out.println（e.getMessage（））; e.printStackTrace（）; return null; } // //附加到XStream出站服务器public static XStreamOut attachOutbound（Connection out_conn）{XStreamOut xsOut = null;尝试{//当连接到出站服务器时，客户端需要告诉出站//服务器最后一个位置。xsOut = XStreamOut.attach（（OracleConnection）out_conn，xsoutName，lastPosition，XStreamOut。DEFAULT_MODE）; System.out.println（“附加到出站服务器：”+ xsoutName）; System.out.print（“Last Position is：”）; if（lastPosition！= null）{printHex（lastPosition）; } else {System.out.println（“NULL”）; } return xsOut; } catch（例外e）{System.out.println（“无法附加到出站服务器：”+ xsoutName）;的System.out.println（e.getMessage（））; e.printStackTrace（）; return null; //从XStream入站服务器分离public static void detachInbound（XStreamIn xsIn）{byte [] processedLowPosition = null;尝试{processedLowPosition = xsIn.detach（XStreamIn。DEFAULT_MODE）; System.out.print（“入站服务器处理低位置是：”）; if（processedLowPosition！= null）{printHex（processedLowPosition）; } else {System.out.println（“NULL”）; catch（Exception e）{System.out.println（“无法从入站服务器分离：”+ xsinName）;的System.out.println（e.getMessage（））; e.printStackTrace（）; //从XStream Outbound Server分离public static void detachOutbound（XStreamOut xsOut）{try {xsOut.detach（XStreamOut。DEFAULT_MODE）; } catch（Exception e）{System.out.println（“无法从出站服务器分离：”+ xsoutName）;的System.out.println（e.getMessage（））; e.printStackTrace（）; public static void get_lcrs（XStreamIn xsIn，XStreamOut xsOut）{if（null == xsIn）{System.out.println（“xstreamIn is null”）; System.exit（0）; } if（null == xsOut）{System.out.println（“xstreamOut is null”）; System.exit（0）; } try {while（true）{//从出站服务器接收LCR LCR alcr = xsOut.receiveLCR（XStreamOut。DEFAULT_MODE）; if（xsOut.getBatchStatus（）== XStreamOut。EXECUTING）//批处理是活动的{断言！= null; //将LCR发送到入站服务器xsIn.sendLCR（alcr，XStreamIn。DEFAULT_MODE）; //也为此LCR获取块数据（如果有的话）（例如RowLCR实例）{//从出站接收块然后发送到入站if（（（RowLCR）alcr）.hasChunkData（））{ChunkColumnValue chunk = null; do {chunk = xsOut.receiveChunk（XStreamOut。DEFAULT_MODE）; xsIn.sendChunk（chunk，XStreamIn。DEFAULT_MODE）;而（！chunk.isEndOfRow（））; processedLowPosition = alcr.getPosition（）; } else // batch is end {assert alcr == null; //刷新网络xsIn.flush（XStreamIn。DEFAULT_MODE）; //从入站服务器获取processed_low_position processedLowPosition = xsIn.getProcessedLowWatermark（）; //更新oubound服务器上的processed_low_position if（null！= processedLowPosition）xsOut.setProcessedLowWatermark（processedLowPosition，XStreamOut。DEFAULT_MODE）; catch（Exception e）{System.out.println（“处理LCR时的异常”）;的System.out.println（e.getMessage（））; e.printStackTrace（）; public static void printHex（byte [] b）{for（int i = 0; i &lt;b.length; ++ i）{System.out.print（Integer.toHexString（（b [i]＆0xFF）| 0x100 ）.substring（1,3））; System.out.println（“”）; }}</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="sample-xstream-client-application.html#GUID-B914FF75-92AA-4270-BF71-E9A5AA9228F8" title="示例说明如何配置XStream使用的Oracle数据库组件。这些示例配置与XStream出站服务器和入站服务器通信的示例客户端应用程序。">示例XStream客户端应用程序</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="06003.create-diskgroups.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This topic introduces information about creating disk groups."></meta>
      <meta name="description" content="This topic introduces information about creating disk groups."></meta>
      <title>创建磁盘组</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content="This topic introduces information about creating disk groups."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96198-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="manage-diskgroup-attributes.html" title="Previous" type="text/html"></link>
      <link rel="next" href="alter-diskgroups.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OSTMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="manage-diskgroup-attributes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="alter-diskgroups.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-instance-diskgroup.html" property="item" typeof="WebPage"><span property="name">Oracle ASM实例和磁盘组</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="admin-asm-diskgroups.html" property="item" typeof="WebPage"><span property="name">管理Oracle ASM磁盘组</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">创建磁盘组</li>
            </ol>
            <a id="GUID-D8A4F1E1-D5F2-4372-8BF8-2A6CB9724930" name="GUID-D8A4F1E1-D5F2-4372-8BF8-2A6CB9724930"></a><a id="OSTMG10040"></a>
            
            <h2 id="OSTMG-GUID-D8A4F1E1-D5F2-4372-8BF8-2A6CB9724930" class="sect2">创建磁盘组</h2>
         </header>
         <div class="ind">
            <div>
               <p>本主题介绍有关创建磁盘组的信息。</p>
               <p>您可以使用<code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code> SQL语句来创建磁盘组。
               </p>
               <p>本节包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="create-diskgroups.html#GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6" title="创建磁盘组时需要指定多个项目。">关于创建磁盘组</a></p>
                  </li>
                  <li>
                     <p><a href="create-diskgroups.html#GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D" title="您可以使用CREATE DISKGROUP SQL语句为数据和快速恢复区创建磁盘组。">使用CREATE DISKGROUP SQL语句创建磁盘组</a></p>
                  </li>
                  <li>
                     <p><a href="create-diskgroups.html#GUID-CACF13FD-1CEF-4A2B-BF17-DB4CF0E1800C" title="本主题介绍在新安装Oracle Grid Infrastructure独立（Oracle Restart）选件和Oracle数据库期间创建磁盘组的基本过程。">为新的Oracle安装创建磁盘组</a></p>
                  </li>
                  <li>
                     <p><a href="create-diskgroups.html#GUID-8B656725-D347-4166-8775-1070B6C4D580" title="您可以将可选的LOGICAL_SECTOR_SIZE和SECTOR_SIZE磁盘组属性与CREATE DISKGROUP和ALTER DISKGROUP SQL语句一起使用，以指定磁盘组的逻辑扇区大小和物理扇区大小。">指定逻辑和物理扇区大小</a></p>
                  </li>
                  <li>
                     <p><a href="create-diskgroups.html#GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE" title="您可以在Oracle ASM磁盘组中存储Oracle Cluster Registry（OCR）和投票文件。">在Oracle ASM磁盘组中存储Oracle Cluster Registry和Voting Files</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-D8A4F1E1-D5F2-4372-8BF8-2A6CB9724930__ORACLEGRIDINFRASTRUCTUREINSTALLATIO-AA125784">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="../install-and-upgrade.html" target="_blank"><span><cite>“Oracle Grid Infrastructure安装和升级指南”，</cite></span></a>以获取有关Oracle自动存储管理的存储要求的信息</p>
                     </li>
                     <li>
                        <p>有关<code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code> SQL语句的信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=SQLRF01114" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="OSTMG10202"></a><div class="props_rev_3"><a id="GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6" name="GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6"></a><h3 id="OSTMG-GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6" class="sect3">关于创建磁盘组</h3>
               <div>
                  <p>创建磁盘组时需要指定多个项目。</p>
                  <p>创建磁盘组时，您：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>为磁盘组分配唯一的名称。</p>
                        <p>指定的磁盘组名称不区分大小写，并且在内部存储时始终转换为大写。</p>
                        <div class="infoboxnote" id="GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6__GUID-6B399634-FDA5-410D-909F-CBBDCC2438D9">
                           <p class="notep1">注意：</p>
                           <p>不要对必须引用的Oracle ASM磁盘组名称使用标识符，包括<code class="codeph">#</code>和<code class="codeph">$</code>字符。虽然Oracle Database对象的带引号标识符的使用在某些工具中可能作为名称有效，但在使用管理该对象的其他工具时，这些名称可能无效。有关命名Oracle数据库对象的更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=SQLRF51129" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> 。
                           </p>
                        </div>
                     </li>
                     <li>
                        <p>确定磁盘组的冗余级别。</p>
                        <p>要使Oracle ASM镜像文件，请指定冗余级别，例如<code class="codeph">NORMAL REDUNDANCY</code> （大多数文件类型默认为双向镜像）， <code class="codeph">HIGH REDUNDANCY</code> （所有文件的三向镜像）， <code class="codeph">FLEX REDUNDANCY</code>或<code class="codeph">EXTENDED REDUNDANCY</code> 。</p>
                        <p>如果您不希望Oracle ASM进行镜像，请指定<code class="codeph">EXTERNAL REDUNDANCY</code> 。例如，您可以选择<code class="codeph">EXTERNAL REDUNDANCY</code>来使用存储阵列保护功能。
                        </p>
                        <p>使用<code class="codeph">NORMAL</code>或<code class="codeph">HIGH</code>冗余创建磁盘组后，可以使用<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> SQL语句的<code class="codeph">CONVERT</code> <code class="codeph">REDUNDANCY</code> <code class="codeph">TO</code> <code class="codeph">FLEX</code>子句将磁盘组迁移到<code class="codeph">FLEX</code>冗余磁盘组。您无法将<code class="codeph">EXTERNAL</code>磁盘组迁移到<code class="codeph">FLEX</code>冗余磁盘组。迁移到Flex磁盘组时，磁盘组必须至少具有三个故障组，并且必须在迁移期间以受限模式（ <code class="codeph">MOUNTED</code> <code class="codeph">RESTRICTED</code> ）挂载。
                        </p>
                        <p>要更改冗余级别<code class="codeph">NORMAL</code> ， <code class="codeph">HIGH</code> ，或<code class="codeph">EXTERNAL</code>磁盘组的<code class="codeph">NORMAL</code> ， <code class="codeph">HIGH</code> ，还是<code class="codeph">EXTERNAL</code> ，你必须创建另一个磁盘组与适当的冗余，然后将文件移动到新的磁盘组。
                        </p>
                        <p>对于<code class="codeph">FLEX</code>和<code class="codeph">EXTENDED</code>冗余磁盘组，无法更改磁盘组冗余。但是，可以通过修改相应文件组的<code class="codeph">REDUNDANCY</code>属性来更改磁盘组中文件的<code class="codeph">REDUNDANCY</code> 。
                        </p>
                     </li>
                     <li>
                        <p>确定要格式化为属于磁盘组的Oracle ASM磁盘的磁盘。</p>
                        <p>可以使用搜索字符串中与操作系统相关的通配符来指定磁盘，Oracle ASM随后会使用这些字符来查找磁盘。您可以使用<code class="codeph">NAME</code>子句指定磁盘的<code class="codeph">NAME</code>也可以使用系统生成的名称。
                        </p>
                     </li>
                     <li>
                        <p>（可选）指示磁盘属于特定故障组。</p>
                        <p>您必须创建相同大小的故障组，以维持镜像数据的空间平衡和均匀分布。</p>
                     </li>
                     <li>
                        <p>（可选）确定故障组的类型，例如仲裁（ <code class="codeph">QUORUM</code> ）或常规（默认）。
                        </p>
                     </li>
                     <li>
                        <p>（可选）提供磁盘组属性值，例如软件兼容性或分配单元大小的值。</p>
                     </li>
                  </ul>
                  <p>磁盘组中的所有磁盘大小必须相同。Oracle ASM以编程方式确定每个磁盘的大小。如果由于某种原因无法确定大小，或者限制磁盘上使用的空间量，则可以为磁盘指定<code class="codeph">SIZE</code>子句;但是，必须为磁盘组中的每个磁盘指定相同的大小值。
                  </p>
                  <p>Oracle ASM为磁盘组中的磁盘创建独立于操作系统的名称，您可以使用这些名称来引用其他SQL语句中的磁盘。（可选）您可以使用<code class="codeph">NAME</code>子句为磁盘提供自己的名称。磁盘名称在<code class="codeph">V$ASM_DISK</code>视图中可用。
                  </p>
                  <p>在创建使用它们的磁盘组之前，可以使用ASMCMD <code class="codeph">stamp</code>命令为Oracle ASM配置磁盘。如果配置了磁盘，则在配置磁盘时指定磁盘名称，故障组和站点信息，并且在创建磁盘组时不需要指定磁盘名称，故障组和站点信息。
                  </p>
                  <div class="infoboxnote" id="GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6__GUID-A788EF72-7E48-4007-84B8-A77B7AF9B21B">
                     <p class="notep1">注意：</p>
                     <p>磁盘不能属于多个磁盘组。</p>
                  </div>
                  <p>Oracle ASM实例确保新创建的磁盘组中的任何磁盘都是可寻址的，并且当前不是另一个磁盘组的成员。只有在添加使用<code class="codeph">FORCE</code>删除的磁盘时，才必须使用<code class="codeph">FORCE</code> 。如果使用<code class="codeph">NOFORCE</code>删除磁盘，则可以使用<code class="codeph">NOFORCE</code>添加它。例如，磁盘可能已发生故障并从磁盘组中删除。修复磁盘后，它不再是任何磁盘组的一部分，但Oracle ASM仍然会识别该磁盘是磁盘组的成员。必须使用<code class="codeph">FORCE</code>标志将磁盘包含在新磁盘组中。此外，磁盘必须是可寻址的。否则，操作失败。
                  </p>
                  <div class="infoboxnote" id="GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6__GUID-D63FDFFD-28CC-4710-BE7B-C94A53541ED9">
                     <p class="notep1">注意：</p>
                     <p>使用<code class="codeph">FORCE</code>选项将以前使用过的磁盘添加到磁盘组时要小心;您可能会导致另一个磁盘组无法使用。
                     </p>
                  </div>
                  <p><code class="codeph">CREATE DISKGROUP</code>语句首次装入磁盘组，如果正在使用服务器参数文件，则将磁盘组名称添加到<code class="codeph">ASM_DISKGROUPS</code>初始化参数。如果正在使用文本初始化参数文件，并且您希望在实例启动时自动装入磁盘组，则必须记住在关闭并重新启动Oracle ASM实例之前将磁盘组名称添加到<code class="codeph">ASM_DISKGROUPS</code>初始化参数。您还可以使用Oracle ASM Configuration Assistant（ASMCA）和ASMCMD <code class="codeph">mkdg</code>命令创建磁盘组。
                  </p>
                  <div class="infoboxnotealso" id="GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6__GUID-A730792F-AA4B-4B5E-955C-3AB86643B5B0">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关Flex磁盘组和文件组的信息，请<a href="asm-filegroups.html#GUID-1A056184-65E1-449C-B36A-83AF259A2309" title="Oracle ASM提供面向数据库的存储管理，包括flex和扩展磁盘组。">管理Oracle ASM Flex Disk Groups</a></p>
                        </li>
                        <li>
                           <p><a href="mirroring-diskgroup-redundancy.html#GUID-C93FC8D9-5FB8-452B-860F-EFB4D3DE95BD">镜像，冗余和故障组选项</a>以及<a href="asm-intro.html#GUID-051330D2-680F-4A2B-B559-02246C551AC7" title="本主题介绍了关键Oracle ASM组件的概念。">了解Oracle ASM概念，</a>以获取有关冗余级别和故障组的信息</p>
                        </li>
                        <li>
                           <p><a href="create-diskgroups.html#GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE" title="您可以在Oracle ASM磁盘组中存储Oracle Cluster Registry（OCR）和投票文件。">将Oracle Cluster Registry和Voting Files存储在Oracle ASM磁盘组中，</a>以获取有关<code class="codeph">QUORUM</code>和<code class="codeph">REGULAR</code>故障组的信息</p>
                        </li>
                        <li>
                           <p><a href="asmcmd-diskgroup-commands.html#GUID-B0ECE8DA-2C57-4973-875A-3083BDBBDB4F">邮票</a>有关ASMCMD信息<code class="codeph">stamp</code>命令</p>
                        </li>
                        <li>
                           <p><a href="manage-asm-asmca.html#GUID-F78B035C-168D-4CBB-B321-21BB57FED363" title="Oracle ASM Configuration Assistant使您可以使用“配置ASM磁盘组”选项卡配置或创建Oracle ASM磁盘组。">使用ASMCA管理磁盘组以</a>获取有关使用Oracle ASM Configuration Assistant（ASMCA）创建磁盘组的信息</p>
                        </li>
                        <li>
                           <p><a href="asmcmd-diskgroup-commands.html#GUID-241C6676-FA7C-4505-ABA0-BD45657CF4AA">mkdg</a>有关使用ASMCMD创建磁盘组的信息<code class="codeph">mkdg</code>命令</p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code> SQL语句的信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=SQLRF01114" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94108"></a><a id="OSTMG94109"></a><a id="OSTMG94107"></a><div class="props_rev_3"><a id="GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D" name="GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D"></a><h3 id="OSTMG-GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D" class="sect3">使用CREATE DISKGROUP SQL语句创建磁盘组</h3>
               <div>
                  <p>您可以使用<code class="codeph">CREATE DISKGROUP</code> SQL语句为数据和快速恢复区创建磁盘组。
                  </p>
                  <p><a href="create-diskgroups.html#GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D__CHDDEHJH">例4-1中</a>的SQL语句创建一个名为<code class="codeph">data</code>的磁盘组，其中包含两个故障组<code class="codeph">controller1</code>或<code class="codeph">controller2</code> ，每个故障组中有四个磁盘。<code class="codeph">data</code>磁盘组通常用于存储数据库数据文件。
                  </p>
                  <p>该示例假定<code class="codeph">ASM_DISKSTRING</code>初始化参数设置为' <code class="codeph">/devices/*</code> '字符串。Oracle ASM磁盘发现通过<code class="codeph">/devices</code>目录中的<code class="codeph">diska4</code>和<code class="codeph">diskb1</code>到<code class="codeph">diskb4</code>识别<code class="codeph">diska1</code> 。
                  </p>
                  <p>在<a href="create-diskgroups.html#GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D__CHDDEHJH">示例4-1中</a> ， <code class="codeph">NAME</code>子句使您可以显式地为磁盘分配名称，而不是默认的系统生成的名称。系统生成的名称采用<span class="italic"><code class="codeph">diskgroup_nnnn</code></span>格式，其中<span class="italic"><code class="codeph">nnnn</code></span>是磁盘组中磁盘的磁盘编号。
                  </p>
                  <p>在<a href="create-diskgroups.html#GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D__CHDDEHJH">示例4-1中</a>创建磁盘组时，显式设置了以下磁盘组属性的值：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">AU_SIZE</code> 
                        </p>
                        <p>指定磁盘组的分配单元的大小。</p>
                        <p>您可以在<code class="codeph">V$ASM_DISKGROUP</code>视图的<code class="codeph">ALLOCATION_UNIT_SIZE</code>列中查看<code class="codeph">AU_SIZE</code>磁盘组属性的值。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">COMPATIBLE</code> 。 <code class="codeph">ASM</code> 
                        </p>
                        <p>确定使用磁盘组的任何Oracle ASM实例的最低软件版本。</p>
                     </li>
                     <li>
                        <p><code class="codeph">COMPATIBLE</code> 。 <code class="codeph">RDBMS</code> 
                        </p>
                        <p>确定使用磁盘组的任何数据库实例的最低软件版本。</p>
                     </li>
                     <li>
                        <p><code class="codeph">COMPATIBLE</code> 。 <code class="codeph">ADVM</code> 
                        </p>
                        <p>确定磁盘组是否可以包含Oracle ADVM卷。</p>
                     </li>
                  </ul>
                  <p>在<a href="create-diskgroups.html#GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D__CHDGBABC">示例4-2中</a> ，使用默认磁盘组属性值创建<code class="codeph">fra</code>磁盘组（通常为快速恢复区创建）。未指定Oracle ASM磁盘的名称，并且未明确指定故障组。此示例假定<code class="codeph">diskc1</code>到<code class="codeph">diskc9</code>存在于<code class="codeph">/devices</code>目录中。
                  </p>
                  <div class="example" id="GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D__CHDDEHJH">
                     <p class="titleinexample">示例4-1创建DATA磁盘组</p><pre class="oac_no_warn" dir="ltr">CREATE DISKGROUP数据正常冗余FAILGROUP控制器1 DISK'/ devices / diska1'名称diska1，'/ devices / diska2'名称diska2，'/ devices / diska3'名称diska3，'/ devices / diska4'名称diska4 FAILGROUP controller2 DISK'/ devices / diskb1'名称diskb1，'/ devices / diskb2'NAME diskb2，'/ devices / diskb3'NAME diskb3，'/ devices / diskb4'NAME diskb4 ATTRIBUTE'au_size'='4M'，'compatible.asm'= '19 .0'， 'compatible.rdbms'= '19 .0'，'compatible.advm'= '19 .0';</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D__CHDGBABC">
                     <p class="titleinexample">示例4-2创建FRA磁盘组</p><pre class="oac_no_warn" dir="ltr">CREATE DISKGROUP fra NORMAL REDUNDANCY DISK'/ devices / diskc *';</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-7FB8914B-0995-4DA0-8F37-15B8EEAEEE4D__GUID-C3345317-6252-4FC0-9362-C94DFB4F7B20">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p> <a href="administer-filter-driver.html#GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123" title="Oracle ASM Filter Driver (Oracle ASMFD) simplifies the configuration and management of disk devices by eliminating the need to rebind disk devices used with Oracle ASM each time the system is restarted.">使用Oracle ASM筛选器驱动程序时</a> ， <a href="administer-filter-driver.html#GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123" title="Oracle ASM过滤器驱动程序（Oracle ASMFD）通过在每次重新启动系统时无需重新绑定与Oracle ASM一起使用的磁盘设备，从而简化了磁盘设备的配置和管理。">管理Oracle ASM筛选器驱动程序</a>以获取有关磁盘名称格式的信息</p>
                           </li>
                           <li>
                              <p><a href="asm-intro.html#GUID-81DB40C2-76E5-4B2D-8761-91EE2AAD332C" title="每个Oracle ASM磁盘都分为分配单元（AU）。">关于Oracle ASM分配单元，</a>以获取有关分配单元的信息</p>
                           </li>
                           <li>
                              <p><a href="diskgroup-compatibility.html#GUID-AE540604-92D9-4CFE-A40E-BF4486163772">磁盘组兼容性属性，</a>以获取有关<code class="codeph">COMPATIBLE.ASM</code> ， <code class="codeph">COMPATIBLE.RDBMS</code>和<code class="codeph">COMPATIBLE.ADVM</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG10206"></a><div class="props_rev_3"><a id="GUID-CACF13FD-1CEF-4A2B-BF17-DB4CF0E1800C" name="GUID-CACF13FD-1CEF-4A2B-BF17-DB4CF0E1800C"></a><h3 id="OSTMG-GUID-CACF13FD-1CEF-4A2B-BF17-DB4CF0E1800C" class="sect3">为新的Oracle安装创建磁盘组</h3>
               <div>
                  <p>本主题介绍在新安装Oracle Grid Infrastructure独立（Oracle Restart）选件和Oracle数据库期间创建磁盘组的基本过程。</p>
                  <p>本主题中介绍的Oracle Grid Infrastructure独立安装（Oracle Restart）的过程假定磁盘组配置为存储数据库数据文件，并且磁盘组配置为存储快速恢复区文件。</p>
                  <div class="infoboxnote" id="GUID-CACF13FD-1CEF-4A2B-BF17-DB4CF0E1800C__GUID-5AA30BC9-E599-4A22-A36F-752501F7D1F1">
                     <p class="notep1">注意：</p>
                     <p>在用于群集配置的Oracle Grid Infrastructure中，Oracle Cluster Registry（OCR）和投票文件应存储在其自己的磁盘组中。但是，如果仅为Oracle ASM安装创建了两个磁盘组，则将OCR和投票文件存储在包含数据库数据文件的磁盘组中。</p>
                  </div>
                  <ol>
                     <li>
                        <p>按照屏幕提示，使用OUI安装Oracle Restart。</p>
                        <p>在安装过程中，创建一个用于存储数据库数据文件和控制文件的磁盘组（ <code class="codeph">data</code> ）。
                        </p>
                        <p>此OUI磁盘组创建过程类似于使用Oracle ASM Configuration Assistant（ASMCA）创建磁盘组。有关使用Oracle Universal Installer（OUI）进行安装以及使用Database Configuration Assistant（DBCA）创建数据库的详细信息，请参见特定操作系统的安装指南。</p>
                     </li>
                     <li>
                        <p>安装Oracle Grid Infrastructure后，使用ASMCA创建用于存储快速恢复区文件的磁盘组（ <code class="codeph">fra</code> ）。
                        </p>
                        <p>您还可以使用<code class="codeph">fra</code> Oracle Grid Infrastructure主目录运行的SQL * Plus或ASMCMD命令创建<code class="codeph">fra</code>磁盘组。
                        </p>
                     </li>
                     <li>
                        <p>按照屏幕提示，使用OUI安装Oracle数据库软件。</p>
                     </li>
                     <li>
                        <p>安装数据库软件后，按照屏幕提示运行DBCA以创建数据库。</p>
                        <p>在创建数据库期间，进行适当的选择以使用Oracle ASM存储数据文件和快速恢复区域文件。提示时：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将数据库数据文件存储在<code class="codeph">data</code>磁盘组中</p>
                           </li>
                           <li>
                              <p>将快速恢复区文件存储在<code class="codeph">fra</code>盘组中</p>
                           </li>
                        </ul>
                     </li>
                  </ol>
                  <div class="infoboxnotealso" id="GUID-CACF13FD-1CEF-4A2B-BF17-DB4CF0E1800C__GUID-42EACEAF-A0E9-4773-B9CF-D3EB1F6CD73A">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="manage-asm-asmca.html#GUID-F78B035C-168D-4CBB-B321-21BB57FED363" title="Oracle ASM Configuration Assistant使您可以使用“配置ASM磁盘组”选项卡配置或创建Oracle ASM磁盘组。">使用ASMCA管理磁盘组，</a>以获取有关使用ASMCA创建或更改磁盘组的信息</p>
                        </li>
                        <li>
                           <p><a href="create-diskgroups.html#GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE" title="您可以在Oracle ASM磁盘组中存储Oracle Cluster Registry（OCR）和投票文件。">将Oracle Cluster Registry和Voting Files存储在Oracle ASM磁盘组中，</a>以获取有关存储Oracle Cluster Registry（OCR）和投票文件的信息</p>
                        </li>
                        <li>
                           <p><a href="create-diskgroups.html#GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6" title="There are multiple items you need to specify when you create a disk group.">关于创建磁盘组</a>以获取有关使用SQL * Plus <a href="create-diskgroups.html#GUID-3CD04FD2-D3DB-4001-BA52-48B3FB83CDE6" title="创建磁盘组时需要指定多个项目。">创建磁盘组</a>的信息</p>
                        </li>
                        <li>
                           <p>有关使用ASMCMD创建磁盘组的信息，请<a href="asmcmd-diskgroup-commands.html#GUID-241C6676-FA7C-4505-ABA0-BD45657CF4AA">参阅mkdg</a></p>
                        </li>
                        <li>
                           <p>有关配置快速恢复区域的信息<a href="../bradv/configuring-rman-client-basic.html#BRADV8183" target="_blank"><span><cite>，请参见“Oracle数据库备份和恢复用户指南”</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关指定快速恢复区域的信息，请参见<a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN11103" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关安装Oracle Grid Infrastructure和Oracle Restart的详细信息，请<a href="../install-and-upgrade.html" target="_blank"><span><cite>参见</cite></span></a>适用于您的操作系统的<a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure安装和升级指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关安装Oracle数据库的详细信息，请<a href="../install-and-upgrade.html" target="_blank"><span><cite>参见</cite></span></a>适用于您的操作系统的<a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle数据库安装指南</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94110"></a><a id="OSTMG10203"></a><div class="props_rev_3"><a id="GUID-8B656725-D347-4166-8775-1070B6C4D580" name="GUID-8B656725-D347-4166-8775-1070B6C4D580"></a><h3 id="OSTMG-GUID-8B656725-D347-4166-8775-1070B6C4D580" class="sect3">指定逻辑和物理扇区大小</h3>
               <div>
                  <p>您可以将可选的<code class="codeph">LOGICAL_SECTOR_SIZE</code>和<code class="codeph">SECTOR_SIZE</code>磁盘组属性与<code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code>和<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> SQL语句一起使用，以指定磁盘组的逻辑扇区大小和物理扇区大小。
                  </p>
                  <div class="infoboxnote" id="GUID-8B656725-D347-4166-8775-1070B6C4D580__GUID-FE8DA06C-127A-48EA-9A8D-CAE828CB9871">
                     <p class="notep1">注意：</p>
                     <p>要指定逻辑和物理扇区大小，磁盘必须支持扇区大小仿真。</p>
                  </div>
                  <p>该<code class="codeph">SECTOR_SIZE</code>磁盘组属性可以被设置为<code class="codeph">512</code> ， <code class="codeph">4096</code> ，或<code class="codeph">4K</code>如果磁盘支持这些值。默认值取决于平台。必须将<code class="codeph">COMPATIBLE.ASM</code>和<code class="codeph">COMPATIBLE.RDBMS</code>磁盘组属性设置为<code class="codeph">11.2</code>或更高，才能在创建磁盘组期间设置扇区大小的值。必须将<code class="codeph">COMPATIBLE.ASM</code>磁盘组属性设置为<code class="codeph">12.2</code>或更高才能更改扇区大小。
                  </p>
                  <p><code class="codeph">LOGICAL_SECTOR_SIZE</code>磁盘组属性可以显式设置磁盘组的逻辑扇区大小，而不是从加入磁盘组的磁盘估计的大小。该<code class="codeph">LOGICAL_SECTOR_SIZE</code>磁盘组属性可以被设置为<code class="codeph">512</code> ， <code class="codeph">4096</code> ，或<code class="codeph">4K</code> 。该值指定磁盘组可以接受的最小I / O，并且还限制可以加入磁盘组的磁盘类型。必须将<code class="codeph">COMPATIBLE.ASM</code>磁盘组属性设置为<code class="codeph">12.2</code>或更高，才能在创建磁盘组期间设置逻辑扇区大小，或者更改已创建的磁盘组的大小。
                  </p>
                  <p><a href="create-diskgroups.html#GUID-8B656725-D347-4166-8775-1070B6C4D580__POSSIBLECOMBINATIONSOFLOGICALSIZEAN-AF5D1663" title="此表按磁盘大小和类型列出了sector_size和logical_sector_size属性的可能组合。">表4-1</a>列出了磁盘组创建期间磁盘大小和类型的逻辑扇区大小和扇区大小磁盘组属性的可能有效组合。第一列描述了在创建磁盘组期间用户指定的逻辑扇区大小和扇区大小属性值。<code class="codeph">NS</code>表示未指定值。
                  </p>
                  <p>表的顶行描述了所用磁盘的组合。512本机扇区大小的磁盘的扇区大小等于逻辑扇区大小等于<code class="codeph">512</code> 。512本机和512仿真标题描述了512个本机磁盘和512个仿真磁盘的组合。512仿真磁盘具有4 k物理扇区大小和512逻辑扇区大小。每个表格单元格中的值表示磁盘组的扇区大小的最终值。<code class="codeph">Error</code>表示磁盘组创建失败，并显示错误消息。
                  </p>
                  <div class="tblformalwide" id="GUID-8B656725-D347-4166-8775-1070B6C4D580__POSSIBLECOMBINATIONSOFLOGICALSIZEAN-AF5D1663">
                     <p class="titleintable">表4-1磁盘大小和类型的扇区大小和逻辑扇区大小的可能组合</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="扇区大小和逻辑扇区大小的可能组合，按磁盘大小和类型" width="100%" border="1" summary="This table lists the possible combinations of the sector_size and logical_sector_size attributes by disk size and type." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d24895e1594">创建磁盘组时指定的SECTOR_SIZE / LOGICAL_SECTOR_SIZE</th>
                              <th align="left" valign="bottom" id="d24895e1596">512个本机磁盘</th>
                              <th align="left" valign="bottom" id="d24895e1598">512个模拟磁盘</th>
                              <th align="left" valign="bottom" id="d24895e1600">4K本机磁盘</th>
                              <th align="left" valign="bottom" id="d24895e1602">512个本机磁盘+ 512个模拟磁盘</th>
                              <th align="left" valign="bottom" id="d24895e1604">512个模拟磁盘+ 4K本机磁盘</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24895e1608" headers="d24895e1594 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                              <td align="left" valign="top" headers="d24895e1608 d24895e1596 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1608 d24895e1598 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                              <td align="left" valign="top" headers="d24895e1608 d24895e1600 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                              <td align="left" valign="top" headers="d24895e1608 d24895e1602 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1608 d24895e1604 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24895e1639" headers="d24895e1594 "><code class="codeph">NS</code> / <code class="codeph">4K</code></td>
                              <td align="left" valign="top" headers="d24895e1639 d24895e1596 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1639 d24895e1598 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                              <td align="left" valign="top" headers="d24895e1639 d24895e1600 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                              <td align="left" valign="top" headers="d24895e1639 d24895e1602 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1639 d24895e1604 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24895e1670" headers="d24895e1594 "><code class="codeph">4K</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1670 d24895e1596 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1670 d24895e1598 "><code class="codeph">4K</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1670 d24895e1600 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1670 d24895e1602 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1670 d24895e1604 "><code class="codeph">错误</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24895e1695" headers="d24895e1594 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1695 d24895e1596 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1695 d24895e1598 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1695 d24895e1600 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1695 d24895e1602 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1695 d24895e1604 "><code class="codeph">错误</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24895e1726" headers="d24895e1594 "><code class="codeph">512</code> / <code class="codeph">NS</code></td>
                              <td align="left" valign="top" headers="d24895e1726 d24895e1596 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1726 d24895e1598 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1726 d24895e1600 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1726 d24895e1602 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1726 d24895e1604 "><code class="codeph">错误</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24895e1757" headers="d24895e1594 "><code class="codeph">4K</code> / <code class="codeph">NS</code></td>
                              <td align="left" valign="top" headers="d24895e1757 d24895e1596 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1757 d24895e1598 "><code class="codeph">4K</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1757 d24895e1600 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                              <td align="left" valign="top" headers="d24895e1757 d24895e1602 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1757 d24895e1604 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24895e1788" headers="d24895e1594 "><code class="codeph">NS</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1788 d24895e1596 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1788 d24895e1598 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1788 d24895e1600 "><code class="codeph">错误</code></td>
                              <td align="left" valign="top" headers="d24895e1788 d24895e1602 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1788 d24895e1604 "><code class="codeph">错误</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24895e1819" headers="d24895e1594 "><code class="codeph">NS</code> / <code class="codeph">NS</code></td>
                              <td align="left" valign="top" headers="d24895e1819 d24895e1596 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1819 d24895e1598 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1819 d24895e1600 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                              <td align="left" valign="top" headers="d24895e1819 d24895e1602 "><code class="codeph">512</code> / <code class="codeph">512</code></td>
                              <td align="left" valign="top" headers="d24895e1819 d24895e1604 "><code class="codeph">4K</code> / <code class="codeph">4K</code></td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>通过查询<code class="codeph">V$ASM</code>视图或运行ASMCMD命令，可以确定为成功创建磁盘组而假定或显式设置的逻辑扇区和扇区大小值。<code class="codeph">LOGICAL_SECTOR_SIZE</code>和<code class="codeph">SECTOR_SIZE</code>列包含在<code class="codeph">V$ASM_DISKGROUP</code>和<code class="codeph">V$ASM_ATTRIBUTE</code>视图中以显示值。这些列表示磁盘组的逻辑扇区大小和扇区大小值（以字节为单位）。ASMCMD <code class="codeph">lsdg</code>还显示磁盘组的逻辑扇区大小和扇区大小的值。此外，磁盘组属性显示为<code class="codeph">V$ASM_ATTRIBUTE</code>视图和ASMCMD <code class="codeph">lsattr</code>命令。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT name，value FROM V $ ASM_ATTRIBUTE WHERE（name ='sector_size'OR name ='logical_sector_size'）AND group_number = 1; NAME VALUE ----------------------------- ------------------- -------- sector_size 4096 logical_sector_size 512 SQL&gt; SELECT logical_sector_size，sector_size FROM V $ ASM_DISKGROUP WHERE group_number = 1; LOGICAL_SECTOR_SIZE SECTOR_SIZE ------------------- ----------- 512 4096</pre><p>如<a href="create-diskgroups.html#GUID-8B656725-D347-4166-8775-1070B6C4D580__CHDFFDAD">例4-3</a>所示，您可以将<code class="codeph">LOGICAL_SECTOR_SIZE</code>和<code class="codeph">SECTOR_SIZE</code>磁盘组属性与<code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code>和<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> SQL语句一起使用，以指定Oracle ASM磁盘组的逻辑和物理扇区大小。
                  </p>
                  <p>以下说明适用于逻辑扇区大小和扇区大小磁盘组属性。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在迁移过程中，从512字节到4096字节，不需要迁移或重新创建存储在Oracle ASM磁盘组上的密码文件。密码文件是一种特殊情况，即使在新的扇区大小为4096字节后，也会保留其512字节的块大小。</p>
                     </li>
                     <li>
                        <p>如果<code class="codeph">LOGICAL_SECTOR_SIZE</code>列的值为512，而<code class="codeph">SECTOR_SIZE</code>列中的值为4096，则磁盘组支持512扇区大小仿真。这意味着I / O操作的大小可以是512或4096。例如，我们可以在磁盘组中具有可以读取和写入的文件块大小为512字节的重做日志文件，以及创建文件块大小为4096字节的新重做日志文件。
                        </p>
                     </li>
                     <li>
                        <p>物理扇区大小（ <code class="codeph">SECTOR_SIZE</code> ）不能小于Oracle ASM磁盘组中的逻辑扇区大小（ <code class="codeph">LOGICAL_SECTOR_SIZE</code> ）。
                        </p>
                     </li>
                     <li>
                        <p>并非所有磁盘都支持所有可能的<code class="codeph">SECTOR_SIZE</code>值。扇区大小属性设置必须与物理硬件兼容。
                        </p>
                     </li>
                  </ul>
                  <div class="example" id="GUID-8B656725-D347-4166-8775-1070B6C4D580__CHDFFDAD">
                     <p class="titleinexample">示例4-3指定磁盘组中磁盘的逻辑和扇区大小</p><pre class="oac_no_warn" dir="ltr">CREATE DISKGROUP数据正常冗余FAILGROUP控制器1 DISK'/ devices / diska1'，'/ devices / diska2'，'/ devices / diska3'，'/ devices / diska4'FAILGROUP controller2 DISK'/ devices / diskb1'，'/ devices / diskb2 '，'/ devices / diskb3'，'/ devices / diskb4'QUORUM FAILGROUP quorum_failgrp DISK'/ devices / diskc1'ATTRIBUTE'compliances.asm'= '12 .2'，'compatible.rdbms'= '12 .2'，'sector_size'= '4096'，'logical_sector_size'='512'; ALTER DISKGROUP data2 SET ATTRIBUTE'compliances.asm'= '12 .2'，'compatible.rdbms'= '12 .2'; ALTER DISKGROUP data2 SET ATTRIBUTE' sector_size'='4096'，'logical_sector_size'='4096';</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-8B656725-D347-4166-8775-1070B6C4D580__GUID-31072D5E-9F14-4FC7-8CF3-4491933AC387">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关磁盘组属性和<code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code> SQL语句的信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=SQLRF01114" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">BLOCKSIZE</code>关键字的信息，请<a href="../sqlrf/file_specification.html#SQLRF01602" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">V$ASM_ATTRIBUTE</code> ， <code class="codeph">V$ASM_DISK</code>和<code class="codeph">V$ASM_DISKGROUP</code>视图的详细信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=REFRN003" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                           </li>
                           <li>
                              <p><a href="asmcmd-diskgroup-commands.html#GUID-3BA40908-0543-4968-B834-BD4D873E1059" title="本主题提供ASMCMD磁盘组管理命令的摘要。">ASMCMD磁盘组管理命令，</a>以获取有关ASMCMD磁盘组管理命令的信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG94111"></a><a id="OSTMG10204"></a><div class="props_rev_3"><a id="GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE" name="GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE"></a><h3 id="OSTMG-GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE" class="sect3">在Oracle ASM磁盘组中存储Oracle Cluster Registry和Voting Files</h3>
               <div>
                  <p>您可以在Oracle ASM磁盘组中存储Oracle Cluster Registry（OCR）和投票文件。</p>
                  <p>您还可以将OCR文件的备份存储在磁盘组中。投票文件和OCR是Oracle Clusterware的两个重要组件。投票文件管理有关节点成员资格的信息。OCR管理集群和Oracle Real Application Clusters（Oracle RAC）数据库配置信息。</p>
                  <p>仲裁失败组是一种特殊类型的失败组，不包含用户数据。仲裁失败组用于存储Oracle ASM元数据。如果这些文件存储在包含仲裁失败组的磁盘组中，则仲裁失败组也可能包含投票文件。此外，Oracle ASM使用仲裁故障组来帮助确定是否可以在丢失一个或多个故障组时装入磁盘组。</p>
                  <p>由于仲裁失败组中的磁盘不包含用户数据，因此在确定有关存储用户数据的冗余要求时，不会考虑仲裁失败组。</p>
                  <p>您可以使用CRSCTL和<code class="codeph">ocrconfig</code>命令行工具， <code class="codeph">CREATE</code>和<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> SQL语句以及<code class="codeph">V$ASM</code>视图来管理和监视OCR和表决文件。
                  </p>
                  <p>CRSCTL和<code class="codeph">ocrconfig</code>命令可以在Oracle ASM管理的磁盘组中放置OCR存储和群集同步服务（CSS）投票文件。</p>
                  <p><code class="codeph">CREATE</code>和<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> SQL语句中的<code class="codeph">QUORUM</code>和<code class="codeph">REGULAR</code>关键字可在创建或更改磁盘组时为故障组或磁盘指定其他限定符。请注意， <code class="codeph">QUORUM</code>磁盘（或<code class="codeph">QUORUM</code>故障组中的磁盘）不能包含用户数据，而<code class="codeph">REGULAR</code>磁盘（或非仲裁故障组中的磁盘）不具有此限制。
                  </p>
                  <p>如果明确指定了故障组，则可以在关键字<code class="codeph">FAILGROUP</code>之前使用这些关键字。如果隐含暗示了失败组，则可以在关键字<code class="codeph">DISK</code>之前使用这些关键字（ <code class="codeph">QUORUM</code> / <code class="codeph">REGULAR</code> ）。显式指定故障组时，在关键字<code class="codeph">DISK</code>之前指定这些关键字（ <code class="codeph">QUORUM</code> / <code class="codeph">REGULAR</code> ）是错误的。 <code class="codeph">REGULAR</code>是默认的失败组类型。
                  </p>
                  <p>在现有磁盘或故障组上执行操作时，SQL中指定的限定符必须与磁盘或故障组添加到磁盘组时指定的限定符匹配。</p>
                  <p><a href="create-diskgroups.html#GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE__CHDBIHEH">例4-4</a>显示了创建具有<code class="codeph">QUORUM</code>故障组的磁盘组。对于Oracle Clusterware文件，正常冗余磁盘组至少需要三个磁盘设备或三个故障组。在确定关于存储用户数据的冗余要求时，不考虑<code class="codeph">QUORUM</code>故障组。必须将<code class="codeph">COMPATIBLE.ASM</code>磁盘组兼容性属性设置为<code class="codeph">11.2</code>或更高，才能在磁盘组中存储OCR或投票文件。
                  </p>
                  <p><code class="codeph">V$ASM_DISK</code>或<code class="codeph">V$ASM_DISK_STAT</code>视图中的<code class="codeph">FAILGROUP_TYPE</code>列指定故障组类型。对于常规故障组，此列的值为<code class="codeph">REGULAR</code> ，对于仲裁故障组，该值为<code class="codeph">QUORUM</code> 。<code class="codeph">V$ASM_DISK</code>或<code class="codeph">V$ASM_DISK_STAT</code>视图中的<code class="codeph">VOTING_FILE</code>列指定磁盘是否包含投票文件。如果磁盘包含投票文件，则此列的值为<code class="codeph">Y</code>如果不包含，则为<code class="codeph">N</code><code class="codeph">V$ASM_DISKGROUP</code>或<code class="codeph">V$ASM_DISKGROUP_STAT</code>中<code class="codeph">USABLE_FILE_MB</code>的值不考虑<code class="codeph">QUORUM</code>磁盘中存在的任何可用空间，因为该空间不可用于客户端数据文件。
                  </p>
                  <div class="example" id="GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE__CHDBIHEH">
                     <p class="titleinexample">示例4-4在创建故障组时使用QUORUM关键字</p><pre class="oac_no_warn" dir="ltr">CREATE DISKGROUP mgmt_dg正常冗余失败fg1磁盘'/ devices / diskg1'FAILGROUP fg2 DISK'/ devices / diskg2'QUORUM FAILGROUP fg3 DISK'/ devices / diskg3'ATTRIBUTE'compilener.asm'= '12 .2.0.0.0';</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE__GUID-CB554BA5-D3C5-41DD-9BC3-BF5B96E4E4F5">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关故障组的信息，请<a href="mirroring-diskgroup-redundancy.html#GUID-9AAB5AE7-D819-4CDA-9552-4B41C3383C73">参见Oracle ASM</a>故障组</p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">V$ASM</code>视图的<a href="views-asm-info.html#GUID-7CAB3FBA-5B76-4F30-A13F-C4C16BD59147">信息</a> ， <a href="views-asm-info.html#GUID-7CAB3FBA-5B76-4F30-A13F-C4C16BD59147">包含Oracle ASM信息</a>的视图</p>
                           </li>
                           <li>
                              <p>有关配置投票文件和Oracle Cluster Registry（OCR）的信息，请参阅<a href="../install-and-upgrade.html" target="_blank"><span><cite>“Oracle Grid Infrastructure安装和升级指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关管理Oracle Cluster Registry和投票文件的信息，请参阅<a href="../cwadd/managing-oracle-cluster-registry-and-voting-files.html#CWADD92368" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关<a href="../sqlrf/CREATE-DISKGROUP.html#SQLRF01114" target="_blank"><code class="codeph">CREATE DISKGROUP</code></a>和<a href="../sqlrf/ALTER-DISKGROUP.html#SQLRF01113" target="_blank"><code class="codeph">ALTER DISKGROUP</code></a> SQL语句的信息，请<a href="../sqlrf/CREATE-DISKGROUP.html#SQLRF01114" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">V$ASM</code> *动态性能视图的详细信息，请<a href="../refrn/dynamic-performance-views.html#REFRN003" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00005.development.html" dir="ltr"></html><html lang="zh-Hans" dir="ltr"><head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
        <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
        
        
        <link rel="stylesheet" href="/sp_common/site-template/ohc-site-template/css/site.css"></link>
        <script src="/sp_common/site-template/requirejs/require.js" data-main="/sp_common/site-template/ohc-site-template/js/site-config"></script>
        <script>
        if(window.require === undefined) {
          document.write('<script data-main="sp_common/site-template/ohc-site-template/js/site-config" src="sp_common/site-template/requirejs/require.js"><\/script>');
          document.write('<link href="sp_common/site-template/ohc-site-template/css/site.css" rel="stylesheet">');
        }
        </script>
        <link rel="shortcut icon" href="/sp_common/site-template/ohc-common/img/favicon.ico"></link>
        
                <title>Oracle数据库19c  - 开发</title>
                <meta name="description" content=""></meta>
                <meta property="og:description" content=""></meta>
                <meta property="og:site_name" content="Oracle Help Center"></meta>
                <meta name="generator" content="Oracle Interface Page Generator 1.7.07.20"></meta>
                <meta property="og:title" content="Oracle Database 19c - Development"></meta>
                
                
                <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
                <meta name="dcterms.created" content="2019-04-30T21:56:28.302Z"></meta>
                
                <meta name="dcterms.dateCopyrighted" content="2019"></meta>
                <meta name="dcterms.category" content="database"></meta>
                <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
                
        
                

    
    <meta name="dcterms.title" content="Oracle Database 19c"></meta>
    <meta name="dcterms.identifier" content="en/database/oracle/oracle-database/19"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  <script id="ssot-metadata" type="application/json"> {"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}} </script>
    </head>
    <body dir="ltr">
        <noscript>
            <div>必须启用JavaScript才能正确显示此内容</div>
        </noscript>
    
                <div class="ohc-grid">
                    <div role="banner">
                        <div>
                            <a href="#" class="offscreen skipto-top skipto">转到主要内容</a>
                            <nav class="navbar navbar-default">
                                <div class="container">
                                    <div class="navbar-header">
                                        <a class="navbar-brand" href="https://docs.oracle.com/">
                                            <img alt="Oracle帮助中心" src="https://docs.oracle.com/sp_common/site-template/ohc-common/img/ohc-logo.png" onerror="this.onerror=&#39;&#39;;this.src=&#39;sp_common/site-template/ohc-common/img/ohc-logo.png&#39;;">
                                        </a>
                                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1"><span class="sr-only">切换导航</span> <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>
                                    </div>
        
                                    <div class="collapse navbar-collapse" id="navbar-collapse-1">
        
                                        <p class="navbar-text navbar-right logged-in-content hidden"><span class="append-firstname-greeting"></span> <a class="logout-link" href="#">登出</a></p>
                                        <p class="navbar-text navbar-right logged-out-content hidden"><a class="login-link" href="#"><i class="fa fa-user"></i>登入</a></p>
        
                                        <form class="navbar-form ohc-search-form visible-xs-block" action="https://docs.oracle.com/apps/search/search.jsp" method="get">
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" class="form-control" name="q" aria-label="搜索查询字段" placeholder="搜索...">
                                                    <span class="input-group-btn">
                                                        <button type="submit" class="btn btn-default" aria-label="提交搜索查询"><span class="glyphicon glyphicon-search" aria-hidden="true"></span> <span class="sr-only">搜索</span></button>
                                                    </span>
                                                </div>
                                            </div>
                                            <input type="hidden" name="category" value="database">
                                            <input type="hidden" name="product" value="en/database/oracle/oracle-database/19">
                                        </form>
        
                                        <ul class="nav navbar-nav visible-xs-block">
                                                <li><a href="index.html">入门</a></li>
                                                
                                                <li><a href="whats-new.html">什么是新的</a></li>
                                                
                                                <li><a href="install-and-upgrade.html">安装和升级</a></li>
                                                
                                                <li><a href="administration.html">管理</a></li>
                                                
                                                <li><a href="development.html">发展</a></li>
                                                
                                                <li><a href="security.html">安全</a></li>
                                                
                                                <li><a href="performance.html">性能</a></li>
                                                
                                                <li><a href="clustering.html">聚类</a></li>
                                                
                                                <li><a href="high-availability.html">高可用性</a></li>
                                                
                                                <li><a href="data-warehousing.html">数据仓库</a></li>
                                                
                                                <li><a href="spatial-and-graph.html">空间和图形</a></li>
                                                
                                                <li><a href="distributed-data.html">分布式数据</a></li>
                                                
                                                <li><a href="dbrst/index.html">REST API参考</a></li>
                                                
                                                <li><a href="books.html">图书</a></li>
                                                
                                        </ul>
        
                                    </div>
                                </div>
                            </nav>
                        </div>
                    </div>
        
                    <main>
                        <div>
                            <div class="ohc-grid">
                                <div>
                                    <div class="ohc-sidebar hidden-xs">
                                        <form class="ohc-search-form" action="https://docs.oracle.com/apps/search/search.jsp" method="get">
                                            <div class="form-group">
                                                <div class="input-group">
                                                    <input type="text" class="form-control" name="q" aria-label="搜索查询字段" placeholder="搜索...">
                                                    <span class="input-group-btn">
                                                        <button type="submit" class="btn btn-default" aria-label="提交搜索查询"><span class="glyphicon glyphicon-search" aria-hidden="true"></span> <span class="sr-only">搜索</span></button>
                                                    </span>
                                                </div>
                                            </div>
                                            <input type="hidden" name="category" value="database">
                                            <input type="hidden" name="product" value="en/database/oracle/oracle-database/19">
                                        </form>
        
                                        <ul class="up">
                                            <li><a href="https://docs.oracle.com/"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"> </span>帮助中心主页</a></li>
                                        </ul>
        
        
                                            
                                            <ul class="links">
                                                <li>  <a href="index.html">入门</a>
        
                                                </li>
                                                <li>  <a href="whats-new.html">什么是新的</a>
        
                                                </li>
                                            </ul>
                                            <hr>
                                            <ul class="links">
                                                <li>  <a href="install-and-upgrade.html">安装和升级</a>
        
                                                </li>
                                                <li>  <a href="administration.html">管理</a>
        
                                                </li>
                                                <li>  <a href="development.html">发展</a>
        
                                                </li>
                                                <li>  <a href="security.html">安全</a>
        
                                                </li>
                                                <li>  <a href="performance.html">性能</a>
        
                                                </li>
                                                <li>  <a href="clustering.html">聚类</a>
        
                                                </li>
                                                <li>  <a href="high-availability.html">高可用性</a>
        
                                                </li>
                                                <li>  <a href="data-warehousing.html">数据仓库</a>
        
                                                </li>
                                                <li>  <a href="spatial-and-graph.html">空间和图形</a>
        
                                                </li>
                                                <li>  <a href="distributed-data.html">分布式数据</a>
        
                                                </li>
                                            </ul>
                                            <hr>
                                            <ul class="links">
                                                <li>  <a href="dbrst/index.html">REST API参考</a>
        
                                                </li>
                                                <li>  <a href="books.html">图书</a>
        
                                                </li>
                                            </ul>
        
                                    </div>
        
                                    <article class="container-fluid learning-path" role="main">
        
                                            <img class="pull-right hidden-xs hidden-sm" src="sp_common/shared-images/database270x170.png" alt="">
                                            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
                                                <li property="itemListElement" typeof="ListItem"><a href="https://docs.oracle.com/index.html" property="item" typeof="WebPage"><span property="name">家</span></a><meta property="position" content="0"></meta></li>
                                                <li property="itemListElement" typeof="ListItem"><a href="https://docs.oracle.com/en/database/index.html" property="item" typeof="WebPage"><span property="name">数据库</span></a><meta property="position" content="1"></meta></li>
                                                <li property="itemListElement" typeof="ListItem"><a href="https://docs.oracle.com/en/database/oracle/index.html" property="item" typeof="WebPage"><span property="name">神谕</span></a><meta property="position" content="2"></meta></li>
                                                <li property="itemListElement" typeof="ListItem"><a href="https://docs.oracle.com/en/database/oracle/oracle-database/index.html" property="item" typeof="WebPage"><span property="name">Oracle数据库</span></a><meta property="position" content="3"></meta></li>
                                                <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">第19版</span></a><meta property="position" content="4"></meta></li>
                                            </ol>
                                            <h1>Oracle数据库19c</h1>
                                            <div class="h2">发展</div>
                                            
        
        
        
        
                                        <div id="bookCategories">
                                            
                                        <div class="clearfix"></div><div class="book" aria-labelledby="ns-book-0" aria-describedby="ns-book-0-description">
                                                    <div class="h4" id="ns-book-0" tabindex="-1">2天+ Java开发人员指南</div>
                                                    <a href="tdpjd/index.html" aria-labelledby="ns-book-0 ns-book-0-html"><span id="ns-book-0-html">HTML</span></a> <a href="tdpjd/2-day-java-developers-guide.pdf" aria-labelledby="ns-book-0 ns-book-0-pdf"><span id="ns-book-0-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-0-description">
                                                             <div class="well well-sm">指导应用程序开发人员如何使用Java访问和修改Oracle数据库中的数据。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-1" aria-describedby="ns-book-1-description">
                                                    <div class="h4" id="ns-book-1" tabindex="-1">2天开发人员指南</div>
                                                    <a href="tdddg/index.html" aria-labelledby="ns-book-1 ns-book-1-html"><span id="ns-book-1-html">HTML</span></a> <a href="tdddg/2-day-developers-guide.pdf" aria-labelledby="ns-book-1 ns-book-1-pdf"><span id="ns-book-1-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-1-description">
                                                             <div class="well well-sm">针对Oracle数据库新手的开发人员介绍应用程序开发。解释Oracle数据库开发背后的一般概念，介绍SQL和PL / SQL的基本功能，提供对Oracle数据库库中其他地方的深入信息的参考，并展示如何创建一个简单的应用程序。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-2" aria-describedby="ns-book-2-description">
                                                    <div class="h4" id="ns-book-2" tabindex="-1">数据库开发指南</div>
                                                    <a href="adfns/index.html" aria-labelledby="ns-book-2 ns-book-2-html"><span id="ns-book-2-html">HTML</span></a> <a href="adfns/database-development-guide.pdf" aria-labelledby="ns-book-2 ns-book-2-pdf"><span id="ns-book-2-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-2-description">
                                                             <div class="well well-sm">介绍Oracle数据库中可用的各种功能以及如何在实时应用程序中使用它们。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-3" aria-describedby="ns-book-3-description">
                                                    <div class="h4" id="ns-book-3" tabindex="-1">数据库PL / SQL语言参考</div>
                                                    <a href="lnpls/index.html" aria-labelledby="ns-book-3 ns-book-3-html"><span id="ns-book-3-html">HTML</span></a> <a href="lnpls/database-pl-sql-language-reference.pdf" aria-labelledby="ns-book-3 ns-book-3-pdf"><span id="ns-book-3-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-3-description">
                                                             <div class="well well-sm">介绍PL / SQL，SQL的Oracle过程扩展，一种先进的第四代编程语言。解释PL / SQL背后的概念，并说明该语言的各个方面。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-4" aria-describedby="ns-book-4-description">
                                                    <div class="h4" id="ns-book-4" tabindex="-1">数据库PL / SQL包和类型参考</div>
                                                    <a href="arpls/index.html" aria-labelledby="ns-book-4 ns-book-4-html"><span id="ns-book-4-html">HTML</span></a> <a href="arpls/database-pl-sql-packages-and-types-reference.pdf" aria-labelledby="ns-book-4 ns-book-4-pdf"><span id="ns-book-4-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-4-description">
                                                             <div class="well well-sm">描述Oracle数据库服务器提供的PL / SQL包，它扩展了数据库功能并提供对SQL功能的PL / SQL访问。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-5" aria-describedby="ns-book-5-description">
                                                    <div class="h4" id="ns-book-5" tabindex="-1">SQL语言快速参考</div>
                                                    <a href="sqlqr/index.html" aria-labelledby="ns-book-5 ns-book-5-html"><span id="ns-book-5-html">HTML</span></a> <a href="sqlqr/sql-language-quick-reference.pdf" aria-labelledby="ns-book-5 ns-book-5-pdf"><span id="ns-book-5-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-5-description">
                                                             <div class="well well-sm">包含用于管理Oracle数据库中信息的SQL语法的高级文本描述。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-6" aria-describedby="ns-book-6-description">
                                                    <div class="h4" id="ns-book-6" tabindex="-1">SQL语言参考</div>
                                                    <a href="sqlrf/index.html" aria-labelledby="ns-book-6 ns-book-6-html"><span id="ns-book-6-html">HTML</span></a> <a href="sqlrf/sql-language-reference.pdf" aria-labelledby="ns-book-6 ns-book-6-pdf"><span id="ns-book-6-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-6-description">
                                                             <div class="well well-sm">包含Oracle SQL的完整描述，Oracle SQL是用于管理Oracle数据库中信息的语言。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-7" aria-describedby="ns-book-7-description">
                                                    <div class="h4" id="ns-book-7" tabindex="-1">Java开发人员指南</div>
                                                    <a href="jjdev/index.html" aria-labelledby="ns-book-7 ns-book-7-html"><span id="ns-book-7-html">HTML</span></a> <a href="jjdev/java-developers-guide.pdf" aria-labelledby="ns-book-7 ns-book-7-pdf"><span id="ns-book-7-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-7-description">
                                                             <div class="well well-sm">描述如何在Oracle数据库中开发，加载和运行Java应用程序。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-8" aria-describedby="ns-book-8-description">
                                                    <div class="h4" id="ns-book-8" tabindex="-1">JDBC开发人员指南</div>
                                                    <a href="jjdbc/index.html" aria-labelledby="ns-book-8 ns-book-8-html"><span id="ns-book-8-html">HTML</span></a> <a href="jjdbc/jdbc-developers-guide.pdf" aria-labelledby="ns-book-8 ns-book-8-pdf"><span id="ns-book-8-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-8-description">
                                                             <div class="well well-sm">描述如何使用Oracle JDBC驱动程序开发功能强大的Java数据库应用程序。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-9" aria-describedby="ns-book-9-description">
                                                    <div class="h4" id="ns-book-9" tabindex="-1">Oracle®数据库JDBC Java API参考</div>
                                                    <a href="jajdb/index.html" aria-labelledby="ns-book-9 ns-book-9-html"><span id="ns-book-9-html">HTML</span></a>
                                                    
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-9-description">
                                                             <div class="well well-sm">为Java数据库连接提供Java API参考。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-10" aria-describedby="ns-book-10-description">
                                                    <div class="h4" id="ns-book-10" tabindex="-1">Oracle®DatabaseRAC FAN事件Java API参考</div>
                                                    <a href="jafan/index.html" aria-labelledby="ns-book-10 ns-book-10-html"><span id="ns-book-10-html">HTML</span></a>
                                                    
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-10-description">
                                                             <div class="well well-sm">提供对Oracle快速应用程序通知（FAN）事件的轻松访问。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-11" aria-describedby="ns-book-11-description">
                                                    <div class="h4" id="ns-book-11" tabindex="-1">Oracle®UniversalConnection Pool Java API参考</div>
                                                    <a href="jjuar/index.html" aria-labelledby="ns-book-11 ns-book-11-html"><span id="ns-book-11-html">HTML</span></a>
                                                    
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-11-description">
                                                             <div class="well well-sm">为JDBC的通用连接池提供Java API参考。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-12" aria-describedby="ns-book-12-description">
                                                    <div class="h4" id="ns-book-12" tabindex="-1">通用连接池开发人员指南</div>
                                                    <a href="jjucp/index.html" aria-labelledby="ns-book-12 ns-book-12-html"><span id="ns-book-12-html">HTML</span></a> <a href="jjucp/universal-connection-pool-developers-guide.pdf" aria-labelledby="ns-book-12 ns-book-12-pdf"><span id="ns-book-12-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-12-description">
                                                             <div class="well well-sm">提供有关使用Oracle Universal Connection Pooling API的说明。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-13" aria-describedby="ns-book-13-description">
                                                    <div class="h4" id="ns-book-13" tabindex="-1">JSON开发人员指南</div>
                                                    <a href="adjsn/index.html" aria-labelledby="ns-book-13 ns-book-13-html"><span id="ns-book-13-html">HTML</span></a> <a href="adjsn/json-developers-guide.pdf" aria-labelledby="ns-book-13 ns-book-13-pdf"><span id="ns-book-13-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-13-description">
                                                             <div class="well well-sm">本手册描述了存储在Oracle数据库中的JSON数据的使用。它介绍了如何存储，生成，查看，操作，管理，搜索和索引它。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-14" aria-describedby="ns-book-14-description">
                                                    <div class="h4" id="ns-book-14" tabindex="-1">Oracle C ++调用接口程序员指南</div>
                                                    <a href="lncpp/index.html" aria-labelledby="ns-book-14 ns-book-14-html"><span id="ns-book-14-html">HTML</span></a> <a href="lncpp/oracle-c-call-interface-programmers-guide.pdf" aria-labelledby="ns-book-14 ns-book-14-pdf"><span id="ns-book-14-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-14-description">
                                                             <div class="well well-sm">介绍Oracle C ++调用接口，这是一个应用程序接口，它使用C ++编写的应用程序能够与一个或多个Oracle数据库进行交互。为了扩展由对象类型转换器生成的代码的功能，程序员可能希望在OTT生成的文件中添加代码。OTT可以通过查找某些预定义标记（标记）来区分OTT生成的代码和用户生成的代码。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-15" aria-describedby="ns-book-15-description">
                                                    <div class="h4" id="ns-book-15" tabindex="-1">Oracle调用接口程序员指南</div>
                                                    <a href="lnoci/index.html" aria-labelledby="ns-book-15 ns-book-15-html"><span id="ns-book-15-html">HTML</span></a> <a href="lnoci/oracle-call-interface-programmers-guide.pdf" aria-labelledby="ns-book-15 ns-book-15-pdf"><span id="ns-book-15-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-15-description">
                                                             <div class="well well-sm">描述Oracle调用接口（OCI），它是一个应用程序编程接口（API），允许使用C或C ++编写的应用程序与Oracle数据库进行交互。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-16" aria-describedby="ns-book-16-description">
                                                    <div class="h4" id="ns-book-16" tabindex="-1">SecureFiles和大对象开发人员指南</div>
                                                    <a href="adlob/index.html" aria-labelledby="ns-book-16 ns-book-16-html"><span id="ns-book-16-html">HTML</span></a> <a href="adlob/securefiles-and-large-objects-developers-guide.pdf" aria-labelledby="ns-book-16 ns-book-16-pdf"><span id="ns-book-16-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-16-description">
                                                             <div class="well well-sm">本指南解释了什么是大对象（LOB），不同类型的LOB，它们的用法和实用程序，配置LOB以及如何在实时应用程序中使用LOB</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-17" aria-describedby="ns-book-17-description">
                                                    <div class="h4" id="ns-book-17" tabindex="-1">文本应用程序开发人员指南</div>
                                                    <a href="ccapp/index.html" aria-labelledby="ns-book-17 ns-book-17-html"><span id="ns-book-17-html">HTML</span></a> <a href="ccapp/text-application-developers-guide.pdf" aria-labelledby="ns-book-17 ns-book-17-pdf"><span id="ns-book-17-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-17-description">
                                                             <div class="well well-sm">提供有关使用Oracle Text构建应用程序的信息。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-18" aria-describedby="ns-book-18-description">
                                                    <div class="h4" id="ns-book-18" tabindex="-1">文字参考</div>
                                                    <a href="ccref/index.html" aria-labelledby="ns-book-18 ns-book-18-html"><span id="ns-book-18-html">HTML</span></a> <a href="ccref/text-reference.pdf" aria-labelledby="ns-book-18 ns-book-18-pdf"><span id="ns-book-18-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-18-description">
                                                             <div class="well well-sm">提供使用Oracle Text构建应用程序的参考信息。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-19" aria-describedby="ns-book-19-description">
                                                    <div class="h4" id="ns-book-19" tabindex="-1">Oracle®数据库XML Java API参考</div>
                                                    <a href="jaxml/index.html" aria-labelledby="ns-book-19 ns-book-19-html"><span id="ns-book-19-html">HTML</span></a>
                                                    
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-19-description">
                                                             <div class="well well-sm">描述用于XML的Java API。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-20" aria-describedby="ns-book-20-description">
                                                    <div class="h4" id="ns-book-20" tabindex="-1">XML C API参考</div>
                                                    <a href="caxml/index.html" aria-labelledby="ns-book-20 ns-book-20-html"><span id="ns-book-20-html">HTML</span></a> <a href="caxml/xml-c-api-reference.pdf" aria-labelledby="ns-book-20 ns-book-20-pdf"><span id="ns-book-20-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-20-description">
                                                             <div class="well well-sm">描述用于C编程语言的Oracle XML Developer's Kit（XDK）和Oracle XML DB API。它主要列出了与这些API相关的函数，方法和过程的语法。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-21" aria-describedby="ns-book-21-description">
                                                    <div class="h4" id="ns-book-21" tabindex="-1">XML C ++ API参考</div>
                                                    <a href="cpxml/index.html" aria-labelledby="ns-book-21 ns-book-21-html"><span id="ns-book-21-html">HTML</span></a> <a href="cpxml/xml-c-api-reference.pdf" aria-labelledby="ns-book-21 ns-book-21-pdf"><span id="ns-book-21-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-21-description">
                                                             <div class="well well-sm">描述用于C ++编程语言的Oracle XML Developer's Kit（XDK）和Oracle XML DB API。本手册主要列出与这些API相关的函数，方法和过程的语法。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-22" aria-describedby="ns-book-22-description">
                                                    <div class="h4" id="ns-book-22" tabindex="-1">XML DB开发人员指南</div>
                                                    <a href="adxdb/index.html" aria-labelledby="ns-book-22 ns-book-22-html"><span id="ns-book-22-html">HTML</span></a> <a href="adxdb/xml-db-developers-guide.pdf" aria-labelledby="ns-book-22 ns-book-22-pdf"><span id="ns-book-22-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-22-description">
                                                             <div class="well well-sm">本手册介绍了Oracle XML DB。它包括在Oracle数据库中存储，生成，访问，搜索，验证，转换，发展和索引XML数据的指南和示例。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-23" aria-describedby="ns-book-23-description">
                                                    <div class="h4" id="ns-book-23" tabindex="-1">XML开发人员套件程序员指南</div>
                                                    <a href="adxdk/index.html" aria-labelledby="ns-book-23 ns-book-23-html"><span id="ns-book-23-html">HTML</span></a> <a href="adxdk/xml-developers-kit-programmers-guide.pdf" aria-labelledby="ns-book-23 ns-book-23-pdf"><span id="ns-book-23-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-23-description">
                                                             <div class="well well-sm">向需要使用Oracle XML Developer Kit（XDK）组件的应用程序开发人员提供信息，以便在数据库或数据库外部的文档中生成和存储XML数据。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-24" aria-describedby="ns-book-24-description">
                                                    <div class="h4" id="ns-book-24" tabindex="-1">SQL * Plus快速参考</div>
                                                    <a href="sqpqr/index.html" aria-labelledby="ns-book-24 ns-book-24-html"><span id="ns-book-24-html">HTML</span></a> <a href="sqpqr/sqlplus-quick-reference.pdf" aria-labelledby="ns-book-24 ns-book-24-pdf"><span id="ns-book-24-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-24-description">
                                                             <div class="well well-sm">包含SQL * Plus命令语法的完整列表。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-25" aria-describedby="ns-book-25-description">
                                                    <div class="h4" id="ns-book-25" tabindex="-1">SQL * Plus发行说明</div>
                                                    <a href="sqprn/index.html" aria-labelledby="ns-book-25 ns-book-25-html"><span id="ns-book-25-html">HTML</span></a> <a href="sqprn/sqlplus-release-notes.pdf" aria-labelledby="ns-book-25 ns-book-25-pdf"><span id="ns-book-25-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-25-description">
                                                             <div class="well well-sm">包含SQL * Plus用户指南和参考中未包含的重要信息。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-26" aria-describedby="ns-book-26-description">
                                                    <div class="h4" id="ns-book-26" tabindex="-1">SQL * Plus用户指南和参考</div>
                                                    <a href="sqpug/index.html" aria-labelledby="ns-book-26 ns-book-26-html"><span id="ns-book-26-html">HTML</span></a> <a href="sqpug/sqlplus-users-guide-and-reference.pdf" aria-labelledby="ns-book-26 ns-book-26-pdf"><span id="ns-book-26-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-26-description">
                                                             <div class="well well-sm">包含Oracle数据库的SQL * Plus命令行界面的完整描述，以及对SQL * Plus命令和语法的完整参考。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-27" aria-describedby="ns-book-27-description">
                                                    <div class="h4" id="ns-book-27" tabindex="-1">数据库全球化开发工具包Java API参考</div>
                                                    <a href="jvgdk/index.html" aria-labelledby="ns-book-27 ns-book-27-html"><span id="ns-book-27-html">HTML</span></a>
                                                    
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-27-description">
                                                             <div class="well well-sm">描述Oracle数据库全球化开发工具包（GDK）的Java API。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-28" aria-describedby="ns-book-28-description">
                                                    <div class="h4" id="ns-book-28" tabindex="-1">数据库全球化支持指南</div>
                                                    <a href="nlspg/index.html" aria-labelledby="ns-book-28 ns-book-28-html"><span id="ns-book-28-html">HTML</span></a> <a href="nlspg/database-globalization-support-guide.pdf" aria-labelledby="ns-book-28 ns-book-28-pdf"><span id="ns-book-28-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-28-description">
                                                             <div class="well well-sm">描述对数据库的Oracle全球化支持。解释如何设置全球化支持环境，选择和迁移字符集，自定义区域设置数据，进行语言排序，在全局环境中编程以及使用Unicode编程。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-29" aria-describedby="ns-book-29-description">
                                                    <div class="h4" id="ns-book-29" tabindex="-1">数据盒式开发人员指南</div>
                                                    <a href="addci/index.html" aria-labelledby="ns-book-29 ns-book-29-html"><span id="ns-book-29-html">HTML</span></a> <a href="addci/data-cartridge-developers-guide.pdf" aria-labelledby="ns-book-29 ns-book-29-pdf"><span id="ns-book-29-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-29-description">
                                                             <div class="well well-sm">描述如何实现自定义索引和查询优化服务，以及如何将这些服务打包并用作称为数据盒式磁带的服务器扩展。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-30" aria-describedby="ns-book-30-description">
                                                    <div class="h4" id="ns-book-30" tabindex="-1">对象关系开发人员指南</div>
                                                    <a href="adobj/index.html" aria-labelledby="ns-book-30 ns-book-30-html"><span id="ns-book-30-html">HTML</span></a> <a href="adobj/object-relational-developers-guide.pdf" aria-labelledby="ns-book-30 ns-book-30-pdf"><span id="ns-book-30-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-30-description">
                                                             <div class="well well-sm">说明如何使用Oracle数据库的对象关系功能。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-31" aria-describedby="ns-book-31-description">
                                                    <div class="h4" id="ns-book-31" tabindex="-1">Workspace Manager开发人员指南</div>
                                                    <a href="adwsm/index.html" aria-labelledby="ns-book-31 ns-book-31-html"><span id="ns-book-31-html">HTML</span></a> <a href="adwsm/workspace-manager-developers-guide.pdf" aria-labelledby="ns-book-31 ns-book-31-pdf"><span id="ns-book-31-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-31-description">
                                                             <div class="well well-sm">提供有关Oracle Workspace Manager的使用和参考信息，该信息使应用程序能够创建工作空间并将不同版本的表行值分组到不同的工作空间中。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-32" aria-describedby="ns-book-32-description">
                                                    <div class="h4" id="ns-book-32" tabindex="-1">Pro * C / C ++程序员指南</div>
                                                    <a href="lnpcc/index.html" aria-labelledby="ns-book-32 ns-book-32-html"><span id="ns-book-32-html">HTML</span></a> <a href="lnpcc/c-c-programmers-guide.pdf" aria-labelledby="ns-book-32 ns-book-32-pdf"><span id="ns-book-32-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-32-description">
                                                             <div class="well well-sm">描述如何开发使用SQL和PL / SQL数据库语言访问和操作Oracle数据的C ++程序。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-33" aria-describedby="ns-book-33-description">
                                                    <div class="h4" id="ns-book-33" tabindex="-1">Pro * C / C ++发行说明</div>
                                                    <a href="pccrn/index.html" aria-labelledby="ns-book-33 ns-book-33-html"><span id="ns-book-33-html">HTML</span></a> <a href="pccrn/c-c-release-notes.pdf" aria-labelledby="ns-book-33 ns-book-33-pdf"><span id="ns-book-33-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-33-description">
                                                             <div class="well well-sm">包含Pro * C / C ++程序员指南中未包含的重要信息。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-34" aria-describedby="ns-book-34-description">
                                                    <div class="h4" id="ns-book-34" tabindex="-1">Pro * COBOL程序员指南</div>
                                                    <a href="lnpcb/index.html" aria-labelledby="ns-book-34 ns-book-34-html"><span id="ns-book-34-html">HTML</span></a> <a href="lnpcb/cobol-programmers-guide.pdf" aria-labelledby="ns-book-34 ns-book-34-pdf"><span id="ns-book-34-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-34-description">
                                                             <div class="well well-sm">描述如何开发使用数据库语言SQL和PL / SQL来访问和操作Oracle数据的COBOL程序。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-35" aria-describedby="ns-book-35-description">
                                                    <div class="h4" id="ns-book-35" tabindex="-1">Pro * COBOL发行说明</div>
                                                    <a href="pcbrn/index.html" aria-labelledby="ns-book-35 ns-book-35-html"><span id="ns-book-35-html">HTML</span></a> <a href="pcbrn/cobol-release-notes.pdf" aria-labelledby="ns-book-35 ns-book-35-pdf"><span id="ns-book-35-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-35-description">
                                                             <div class="well well-sm">包含Pro * COBOL程序员指南中未包含的重要信息。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-36" aria-describedby="ns-book-36-description">
                                                    <div class="h4" id="ns-book-36" tabindex="-1">Pro * FORTRAN对Oracle预编译器的补充</div>
                                                    <a href="zzfor/index.html" aria-labelledby="ns-book-36 ns-book-36-html"><span id="ns-book-36-html">HTML</span></a> <a href="zzfor/fortran-supplement-oracle-precompilers.pdf" aria-labelledby="ns-book-36 ns-book-36-pdf"><span id="ns-book-36-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-36-description">
                                                             <div class="well well-sm">补充Oracle数据库程序员Oracle预编译器指南，以提供有关如何开发使用数据库语言SQL和PL / SQL访问和操作Oracle数据的FORTRAN程序的其他信息。</div>
                                                        </div>
                                                </div><div class="book" aria-labelledby="ns-book-37" aria-describedby="ns-book-37-description">
                                                    <div class="h4" id="ns-book-37" tabindex="-1">程序员指南Oracle预编译器</div>
                                                    <a href="zzpre/index.html" aria-labelledby="ns-book-37 ns-book-37-html"><span id="ns-book-37-html">HTML</span></a> <a href="zzpre/programmers-guide-oracle-precompilers.pdf" aria-labelledby="ns-book-37 ns-book-37-pdf"><span id="ns-book-37-pdf">PDF</span></a>
                                                    
                                                    
                                                    <div class="clearfix"></div>
                                                        <div id="ns-book-37-description">
                                                             <div class="well well-sm">描述如何使用Oracle预编译器以及SQL和PL / SQL数据库语言开发应用程序来访问和操作Oracle数据。</div>
                                                        </div>
                                                </div></div>
        
                                            
                                                <h2 id="RelatedProductInformation">相关产品信息</h2>
                                            
                                            
                                            
                                            
                                            
                                            <ul class="topics">
                                                <li>  <a href="https://docs.oracle.com/en/database/oracle/application-express/"><div class="h4">Oracle Application Express</div> </a>
                                            </li>
                                                <li>  <a href="https://docs.oracle.com/en/database/oracle/sql-developer/"><div class="h4">Oracle SQL Developer</div> </a>
                                            </li>
                                                <li>  <a href="https://docs.oracle.com/en/database/oracle/simple-oracle-document-access/"><div class="h4">简单的Oracle文档访问（SODA）</div> </a>
                                            </li>
                                                <li>  <a href="http://www.oracle.com/technetwork/database/application-development/oracle-document-store/index.html"><div class="h4">Oracle作为文档存储</div> </a>
                                            </li>
                                            </ul>
                                            
                                            <div class="section row">
                                            </div>
                                            
        
        
                                    </article>
        
                                    <div><div><!-- resizable column --></div></div>
                                </div>
                            </div>
                        </div>
                    </main>
                    <a href="#" class="offscreen skipto-bottom skipto">回到主要内容</a>
        
                    <footer>
                        <div>
                            <div class="container">
                                <div class="pull-left footer-left">
                                    <ul class="footer-nav list-inline">
                                        <li><a href="https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&amp;id=about">关于Oracle</a></li>
                                        <li><a href="https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&amp;id=contact">联系我们</a></li>
                                        <li><a href="https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&amp;id=privacy">使用条款和隐私</a></li>
                                        <li><div id="teconsent" style="display:inline-block"></div></li>
                                    </ul>
                                    <span class="copyright"><a href="https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&amp;id=cpyr">版权所有©2019，Oracle和/或其附属公司。</a></span>
                                </div>
                            </div>
                        </div>
                    </footer>
                </div>

    

</body></html><html id="09737.SDO_TIN_PKG-reference.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The MDSYS.SDO_TIN_PKG package contains subprograms to support working with triangulated irregular networks (TINs)."></meta>
      <meta name="description" content="The MDSYS.SDO_TIN_PKG package contains subprograms to support working with triangulated irregular networks (TINs)."></meta>
      <title>SDO_TIN_PKG封装（TIN）</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="The MDSYS.SDO_TIN_PKG package contains subprograms to support working with triangulated irregular networks (TINs)."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94799-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="SDO_SAM-reference.html" title="Previous" type="text/html"></link>
      <link rel="next" href="SDO_TRKR-reference.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="SPATL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SDO_SAM-reference.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="SDO_TRKR-reference.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-reference-information.html" property="item" typeof="WebPage"><span property="name">参考信息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SDO_TIN_PKG封装（TIN）</li>
            </ol>
            <a id="GUID-CCCA829C-CB07-4F64-9339-4D84C3D382E7" name="GUID-CCCA829C-CB07-4F64-9339-4D84C3D382E7"></a><a id="SPATL1207"></a><a id="SPATL171"></a>
            
            <h2 id="SPATL-GUID-CCCA829C-CB07-4F64-9339-4D84C3D382E7" class="sect2"><span class="enumeration_chapter">32</span> SDO_TIN_PKG封装（TIN）</h2>
         </header>
         <div class="ind">
            <div>
               <p>MDSYS.SDO_TIN_PKG包中包含支持使用不规则三角网（TIN）的子程序。</p>
               <p>要使用此包中的子程序，您必须了解与三维几何相关的主要概念，包括使用三角形不规则网络（TIN）来模拟曲面。<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a>描述了对三维几何的支持， <a href="spatial-concepts.html#GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB">建模曲面</a>描述了使用TIN来模拟曲面，而<a href="spatial-datatypes-metadata.html#GUID-5D9C0035-7470-470F-B006-B217A67CD66B" title="This topic describes the object types related to support for triangulated irregular networks (TINs),">TIN相关对象类型</a>描述了与<a href="spatial-datatypes-metadata.html#GUID-5D9C0035-7470-470F-B006-B217A67CD66B" title="本主题描述与支持不规则三角网（TIN）相关的对象类型，">TIN相关的</a>数据类型。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="SDO_TIN_PKG-reference.html#GUID-878FD6C7-56EA-4B38-A428-2099ABDC185F">SDO_TIN_PKG.CLIP_TIN</a><br></li>
                  <li class="ulchildlink"><a href="SDO_TIN_PKG-reference.html#GUID-088CFF52-91B0-43A3-9195-812D32201A66">SDO_TIN_PKG.CREATE_TIN</a><br></li>
                  <li class="ulchildlink"><a href="SDO_TIN_PKG-reference.html#GUID-B3FA130C-98E4-409F-92B7-ADFF970A7D9F">SDO_TIN_PKG.DROP_DEPENDENCIES</a><br></li>
                  <li class="ulchildlink"><a href="SDO_TIN_PKG-reference.html#GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6">SDO_TIN_PKG.INIT</a><br></li>
                  <li class="ulchildlink"><a href="SDO_TIN_PKG-reference.html#GUID-72D0324B-28F4-4D68-93D8-7554B35347C3">SDO_TIN_PKG.PROJECT_ORDINATES_ONTO_TIN</a><br></li>
                  <li class="ulchildlink"><a href="SDO_TIN_PKG-reference.html#GUID-4D332C48-9574-4475-8248-90006200754B">SDO_TIN_PKG.TO_DEM</a><br></li>
                  <li class="ulchildlink"><a href="SDO_TIN_PKG-reference.html#GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD">SDO_TIN_PKG.TO_GEOMETRY</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="spatial-reference-information.html#GUID-343C3A98-6564-49CF-AA31-F86C5AEAAF02">参考信息</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL1208"></a><div class="props_rev_3"><a id="GUID-878FD6C7-56EA-4B38-A428-2099ABDC185F" name="GUID-878FD6C7-56EA-4B38-A428-2099ABDC185F"></a><h3 id="SPATL-GUID-878FD6C7-56EA-4B38-A428-2099ABDC185F" class="sect3"><span class="enumeration_section">32.1</span> SDO_TIN_PKG.CLIP_TIN</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-878FD6C7-56EA-4B38-A428-2099ABDC185F__GUID-3A49636D-AA19-4C86-AF1D-05E984BF7FC1">格式</p><pre class="oac_no_warn" dir="ltr">SDO_TIN_PKG.CLIP_TIN（inp IN SDO_TIN，qry IN SDO_GEOMETRY，qry_min_res IN NUMBER，qry_max_res IN NUMBER，blkid IN NUMBER DEFAULT NULL）RETURN SDO_TIN_BLK_TYPE;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-878FD6C7-56EA-4B38-A428-2099ABDC185F__GUID-A6A5B98D-0A94-4CB8-83CB-96F20BA62F0F">描述</p>
                     <p>在TIN上执行剪辑操作。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-878FD6C7-56EA-4B38-A428-2099ABDC185F__GUID-6A2CFA02-49C4-445A-8DE8-B14A6D180314">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-878FD6C7-56EA-4B38-A428-2099ABDC185F__GUID-9F709B47-04FB-4365-9FB7-2D7B11E3E19A"><!-- --></a> inp</dt>
                        <dd>
                           <p>要执行剪辑操作的TIN。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-878FD6C7-56EA-4B38-A428-2099ABDC185F__GUID-2FBF6669-AA5C-41EF-AF6B-1E8E7752B7A7"><!-- --></a> qry</dt>
                        <dd>
                           <p>从中选择要返回的对象的窗口;通常是用于二维几何的多边形或用于三维几何的平截头体。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-878FD6C7-56EA-4B38-A428-2099ABDC185F__GUID-E05A8502-1CFE-4791-B078-B265BEC31349"><!-- --></a> qry_min_res</dt>
                        <dd>
                           <p>最低分辨率值。剪辑操作返回<code class="codeph">qry</code>具有等于或大于<code class="codeph">qry_min_res</code>且小于或等于<code class="codeph">qry_max_res</code>分辨率的对象。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-878FD6C7-56EA-4B38-A428-2099ABDC185F__GUID-0F0E1C9C-A984-4AB1-ACD3-277B7F0979C6"><!-- --></a> qry_max_res</dt>
                        <dd>
                           <p>最大分辨率值。剪辑操作返回<code class="codeph">qry</code>具有等于或大于<code class="codeph">qry_min_res</code>且小于或等于<code class="codeph">qry_max_res</code>分辨率的对象。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-878FD6C7-56EA-4B38-A428-2099ABDC185F__GUID-1DBBC1DC-4193-4118-A76A-D9F51898859E"><!-- --></a> blkid</dt>
                        <dd>
                           <p>要限制剪辑操作返回的对象的块的块ID号。如果此参数为null，则返回满足其他参数的所有对象。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-878FD6C7-56EA-4B38-A428-2099ABDC185F__GUID-562D5552-5CFF-429C-AC41-3F9D2DF8CA05">使用说明</p>
                     <p>此函数从TIN返回指定查询窗口内的三角形，并满足参数指定的任何其他要求。此函数的常见用途是对TIN执行查询。您可以通过最小化函数需要考虑操作的对象数来最大化TIN查询的性能。</p>
                     <p>SDO_TIN和SDO_TIN_BLK_TYPE数据类型在<a href="spatial-datatypes-metadata.html#GUID-5D9C0035-7470-470F-B006-B217A67CD66B" title="本主题描述与支持不规则三角网（TIN）相关的对象类型，">TIN相关对象类型</a>中描述。
                     </p>
                     <p><a href="spatial-concepts.html#GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB">建模曲面</a>描述了如何使用TIN对<a href="spatial-concepts.html#GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB">曲面建模</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-878FD6C7-56EA-4B38-A428-2099ABDC185F__GUID-36052694-6BB4-486B-B285-4F0071E81B4D">例子</p>
                     <p>以下示例对TIN执行剪辑操作。它取自<code class="codeph">$ORACLE_HOME/md/demo/TIN/examples/plsql/tin.sql</code>示例程序，如果您安装了Oracle数据库示例介质中的文件，则可以使用该程序（请参阅“ <a href="../exmpl/index.html" target="_blank"><span class="italic">Oracle数据库示例安装指南”</span></a> ）。
                     </p><pre class="oac_no_warn" dir="ltr">。 。 。声明inp sdo_tin;开始从基数中选择锡INTO inp，其中rownum = 1;插入到restst select * from table（sdo_tin_pkg.clip_tin（inp， - 输入TIN对象sdo_geometry（2003，null，null，mdsys.sdo_elem_info_array（1,1003,3），mdsys.sdo_ordinate_array（-74.1，-73.9,39.99999， 40.00001））， - 查询null，null））;结束; 。 。 。</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_TIN_PKG-reference.html#GUID-CCCA829C-CB07-4F64-9339-4D84C3D382E7" title="MDSYS.SDO_TIN_PKG包中包含支持使用不规则三角网（TIN）的子程序。">SDO_TIN_PKG包（TIN）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1209"></a><div class="props_rev_3"><a id="GUID-088CFF52-91B0-43A3-9195-812D32201A66" name="GUID-088CFF52-91B0-43A3-9195-812D32201A66"></a><h3 id="SPATL-GUID-088CFF52-91B0-43A3-9195-812D32201A66" class="sect3"><span class="enumeration_section">32.2</span> SDO_TIN_PKG.CREATE_TIN</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-088CFF52-91B0-43A3-9195-812D32201A66__GUID-61D89666-1A15-4B1A-8AE0-8874A9AB3B2D">格式</p><pre class="oac_no_warn" dir="ltr">SDO_TIN_PKG.CREATE_TIN（inp IN SDO_TIN，intable in VARCHAR2，clstPcdataTbl IN VARCHAR2 DEFAULT NULL）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-088CFF52-91B0-43A3-9195-812D32201A66__GUID-37D1BFE2-CF84-45FC-9AB3-016EC4FBC0E8">描述</p>
                     <p>使用<code class="codeph">inptable</code>参数中指定的点创建TIN。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-088CFF52-91B0-43A3-9195-812D32201A66__GUID-63D5FD52-94DE-417D-BDC5-797AF9ADE36D">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-088CFF52-91B0-43A3-9195-812D32201A66__GUID-A638D7B4-828A-4C6C-8057-94E88148E86F"><!-- --></a> inp</dt>
                        <dd>
                           <p>要使用的SDO_TIN对象。该对象必须由<a href="SDO_TIN_PKG-reference.html#GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6">SDO_TIN_PKG.INIT</a>函数创建</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-088CFF52-91B0-43A3-9195-812D32201A66__GUID-D54A791F-7A35-4523-832D-21356E1365F6"><!-- --></a> inptable</dt>
                        <dd>
                           <p>包含输入TIN数据的表或视图的名称。此表或视图应包含以下列：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>RID（VARCHAR2（24））：每个点的唯一ID</p>
                              </li>
                              <li>
                                 <p>VAL_D1（NUMBER）：尺寸1中的纵坐标</p>
                              </li>
                              <li>
                                 <p>VAL_D2（NUMBER）：尺寸2中的纵坐标</p>
                              </li>
                              <li>
                                 <p>。 。 。</p>
                              </li>
                              <li>
                                 <p>VAL_D <span class="italic">n</span> （NUMBER）：维度<span class="italic">n中的</span>纵坐标，其中<span class="italic">n</span>是编号最大的维度。当初始化TIN时， <span class="italic">n</span>应该与<a href="SDO_TIN_PKG-reference.html#GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6">SDO_TIN_PKG.INIT</a>函数调用中的<code class="codeph">tin_tot_dimensions</code>参数值匹配。
                                 </p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-088CFF52-91B0-43A3-9195-812D32201A66__GUID-89FA5716-E7EB-4B6F-806C-359E654D46EC"><!-- --></a> clstPcdataTbl</dt>
                        <dd>
                           <p>用于存储结果点数据的表的名称。如果未指定值，则不会创建此表。有关该表的更多信息，请参阅使用说明。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-088CFF52-91B0-43A3-9195-812D32201A66__GUID-F5CDF510-79B3-4794-9A4A-85ACFC1794C4">使用说明</p>
                     <p>TIN的前几个维度已编制索引，稍后可使用<a href="SDO_TIN_PKG-reference.html#GUID-878FD6C7-56EA-4B38-A428-2099ABDC185F">SDO_TIN_PKG.CLIP_TIN</a>函数进行搜索。要索引的维度的确切数量由初始化的TIN对象中的TIN范围的维度确定，具体为： <code class="codeph">inp.tin_extent.sdo_gtype/1000</code></p>
                     <p>如果在<code class="codeph">inptable</code>参数中指定视图名称，则查询<code class="codeph">SELECT ROWID FROM &lt;view-name&gt;</code>不得返回任何错误。
                     </p>
                     <p>如果在<code class="codeph">clstPcdataTbl</code>参数中指定表名，则该表必须存在并具有以下列：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PTN_ID（NUMBER）</p>
                        </li>
                        <li>
                           <p>POINT_ID（NUMBER）</p>
                        </li>
                        <li>
                           <p>RID（VARCHAR2（24）：每个点的唯一ID</p>
                        </li>
                        <li>
                           <p>VAL_D1（NUMBER）：尺寸1中的纵坐标</p>
                        </li>
                        <li>
                           <p>VAL_D2（NUMBER）：尺寸2中的纵坐标</p>
                        </li>
                        <li>
                           <p>。 。 。</p>
                        </li>
                        <li>
                           <p>VAL_D <span class="italic">n</span> （NUMBER）：维度<span class="italic">n中的</span>纵坐标，其中<span class="italic">n</span>是编号最大的维度。当初始化TIN时， <span class="italic">n</span>应该与<a href="SDO_TIN_PKG-reference.html#GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6">SDO_TIN_PKG.INIT</a>函数调用中的<code class="codeph">tin_tot_dimensions</code>参数值匹配。
                           </p>
                        </li>
                     </ul>
                     <p>如果为<code class="codeph">clstPcdataTbl</code>参数指定了值，则此函数通过为PTN_ID和POINT_ID分配适当的值并通过从<code class="codeph">inptable</code>表或视图中复制其他属性的值来<code class="codeph">inptable</code>表。可以将此表创建为索引组织表。它可以在应用程序中使用SQL查询进行搜索，而不是索引维度中反映的维度。（有关索引维度和总维度的说明，请参阅<a href="SDO_TIN_PKG-reference.html#GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6">SDO_TIN_PKG.INIT</a>函数的<code class="codeph">tin_tot_dimensions</code>参数的说明。）
                     </p>
                     <p>在<a href="spatial-datatypes-metadata.html#GUID-5D9C0035-7470-470F-B006-B217A67CD66B" title="This topic describes the object types related to support for triangulated irregular networks (TINs),">TIN相关对象类型中</a>描述了SDO_TIN数据<a href="spatial-datatypes-metadata.html#GUID-5D9C0035-7470-470F-B006-B217A67CD66B" title="本主题描述与支持不规则三角网（TIN）相关的对象类型，">类型</a> 。
                     </p>
                     <p><a href="spatial-concepts.html#GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB">建模曲面</a>描述了如何使用TIN对<a href="spatial-concepts.html#GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB">曲面建模</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-088CFF52-91B0-43A3-9195-812D32201A66__GUID-890CA97C-C138-4FA7-A2CC-30B02FB423F2">例子</p>
                     <p>以下示例创建一个TIN。它取自<code class="codeph">$ORACLE_HOME/md/demo/TIN/examples/plsql/tin.sql</code>示例程序，如果您安装了Oracle数据库示例介质中的文件，则可以使用该程序（请参阅“ <a href="../exmpl/index.html" target="_blank"><span class="italic">Oracle数据库示例安装指南”</span></a> ）。
                     </p><pre class="oac_no_warn" dir="ltr">。 。 。- 为TIN创建块。 sdo_tin_pkg.create_tin（tin， - 初始化的TIN对象'INPTAB'， - 要插入pointcloud'RES'的输入表的名称 - 存储点的输出表的名称（使用ptn_id，pt_id））; /。 。 。</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_TIN_PKG-reference.html#GUID-CCCA829C-CB07-4F64-9339-4D84C3D382E7" title="MDSYS.SDO_TIN_PKG包中包含支持使用不规则三角网（TIN）的子程序。">SDO_TIN_PKG包（TIN）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1210"></a><div class="props_rev_3"><a id="GUID-B3FA130C-98E4-409F-92B7-ADFF970A7D9F" name="GUID-B3FA130C-98E4-409F-92B7-ADFF970A7D9F"></a><h3 id="SPATL-GUID-B3FA130C-98E4-409F-92B7-ADFF970A7D9F" class="sect3"><span class="enumeration_section">32.3</span> SDO_TIN_PKG.DROP_DEPENDENCIES</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-B3FA130C-98E4-409F-92B7-ADFF970A7D9F__GUID-FB634082-09C9-4F7A-ABD2-C9E55B208BAC">格式</p><pre class="oac_no_warn" dir="ltr">SDO_TIN_PKG.DROP_DEPENDENCIES（基表IN VARCHAR2，col IN VARCHAR2）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B3FA130C-98E4-409F-92B7-ADFF970A7D9F__GUID-CA26C9F2-DDDD-40D9-851F-D6AEF2F94D9C">描述</p>
                     <p>删除TIN块表与指定的基表和列之间的依赖关系。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B3FA130C-98E4-409F-92B7-ADFF970A7D9F__GUID-EB2902FE-E57B-4E50-B776-0F6115BA3C50">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B3FA130C-98E4-409F-92B7-ADFF970A7D9F__GUID-DE5C551B-9D10-4E4C-AB08-E400E1C08812"><!-- --></a>基础</dt>
                        <dd>
                           <p>初始化TIN时指定的基表的名称（在<a href="SDO_TIN_PKG-reference.html#GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6">SDO_TIN_PKG.INIT</a>函数的<code class="codeph">basetable</code>参数中）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B3FA130C-98E4-409F-92B7-ADFF970A7D9F__GUID-F8279B4D-2B10-474B-85F6-DE736B827E67"><!-- --></a> col</dt>
                        <dd>
                           <p>基表中的列的名称，该列在<a href="SDO_TIN_PKG-reference.html#GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6">SDO_TIN_PKG.INIT</a>函数的<code class="codeph">basecol</code>参数中指定。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B3FA130C-98E4-409F-92B7-ADFF970A7D9F__GUID-FB3ED25F-D032-49ED-980B-C62D159F7835">使用说明</p>
                     <p>此过程截断TIN块表并删除块表与基表和列组合之间的关联。</p>
                     <p>执行此过程后，可以删除TIN块表或将表与另一个基表和列组合关联。有关更多信息，请参阅<a href="SDO_TIN_PKG-reference.html#GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6">SDO_TIN_PKG.INIT</a>函数的使用说明。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B3FA130C-98E4-409F-92B7-ADFF970A7D9F__GUID-555A6545-BC56-48D3-9858-8A3EACCDD7EE">例子</p>
                     <p>以下示例分别删除TIN块表与名为BASE和TIN的基表和列之间的依赖关系。</p><pre class="oac_no_warn" dir="ltr">。 。 。声明开始mdsys.sdo_tin_pkg.drop_dependencies（'BASE'，'TIN'）;结束; /</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_TIN_PKG-reference.html#GUID-CCCA829C-CB07-4F64-9339-4D84C3D382E7" title="MDSYS.SDO_TIN_PKG包中包含支持使用不规则三角网（TIN）的子程序。">SDO_TIN_PKG包（TIN）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1211"></a><div class="props_rev_3"><a id="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6" name="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6"></a><h3 id="SPATL-GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6" class="sect3"><span class="enumeration_section">32.4</span> SDO_TIN_PKG.INIT</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-C666C4D0-FF98-43D8-AAF8-5236F9F1DBE1">格式</p><pre class="oac_no_warn" dir="ltr">SDO_TIN_PKG.INIT（basetable IN VARCHAR2，basecol IN VARCHAR2，blktable IN VARCHAR2，ptn_params IN VARCHAR2，tin_extent IN SDO_GEOMETRY，tin_tol IN NUMBER DEFAULT 0.000000000000005，tin_tot_dimensions IN NUMBER DEFAULT 2，tin_domain IN SDO_ORGSCL_TYPE DEFAULT NULL，tin_break_lines IN SDO_GEOMETRY DEFAULT NULL，tin_stop_lines IN SDO_GEOMETRY DEFAULT NULL，tin_void_rgns IN SDO_GEOMETRY DEFAULT NULL，tin_val_attr_tables IN SDO_STRING_ARRAY DEFAULT NULL，tin_other_attrs IN XMLTYPE DEFAULT NULL，）RETURN SDO_TIN;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-034EF2C0-9CEE-4E7A-BBBF-7F045693986D">描述</p>
                     <p>通过创建SDO_TIN对象来初始化TIN。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-89AD34D3-6D2E-444A-BCAC-60196B5A5427">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-952BC2E3-E2ED-4F63-BD68-BA665047E40A"><!-- --></a>基本表格</dt>
                        <dd>
                           <p>包含SDO_TIN类型列的基表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-66C7F582-7DB3-4F95-BB5E-43F2B2E61B25"><!-- --></a> basecol</dt>
                        <dd>
                           <p>基表中SDO_TIN类型的列的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-ED314F62-009D-4C5E-AEB1-418FB966DB33"><!-- --></a> blktable</dt>
                        <dd>
                           <p>TIN块表的名称，用于存储TIN的块。此表必须存在，并且必须由以下格式的语句创建： <code class="codeph">CREATE TABLE &lt;table-name&gt; AS select * from mdsys.sdo_tin_blk_table;</code></p>
                           <p>每个TIN块表只能与一个<code class="codeph">basetable</code>和<code class="codeph">basecol</code>组合相关联。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-06B971C9-3124-48A4-8F85-2135D21EDF67"><!-- --></a> ptn_params</dt>
                        <dd>
                           <p>用于分区TIN的参数，指定为带引号的字符串，并带有逗号分隔的关键字。例如：' <code class="codeph">blk_capacity=1000,work_tablespace=my_work_ts'</code> 。如果此参数为null，则不对TIN进行分区。允许以下关键字：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">blk_capacity=n</code> ，其中<span class="italic">n</span>是每个分区中的最大行数。默认值为5000。如果指定，则必须是大于或等于50的数字。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">work_tablespace=x</code> ，其中<span class="italic">x</span>是在分区操作期间在其中创建临时表的表空间的名称。
                                 </p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-8E9561B1-0F7C-4B20-AB27-972FC4445B4A"><!-- --></a> tin_extent</dt>
                        <dd>
                           <p>SDO_GEOMETRY对象，表示TIN的空间范围（包含TIN中所有对象的最小边界对象。此参数不能为空。</p>
                           <p>对于大地测量数据，此几何体必须具有两个维度;否则，它最多可以有四个维度。此几何的维度用作<code class="codeph">tin_tot_dimensions</code>参数允许的最小值，如该参数的说明中所述。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-152066A8-0513-4DCD-A1DF-22017F7E2AC4"><!-- --></a> tin_tol</dt>
                        <dd>
                           <p>TIN中对象的容差值。 （有关空间容差的信息，请参见第1.5.5节。）如果此参数为null，则默认值为0.0000000000005。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-74439DF5-96E2-4A19-BC5B-BACE698EDDC5"><!-- --></a> tin_tot_dimensions</dt>
                        <dd>
                           <p>一个数字，指定TIN对象的<span class="italic">总维度</span> 。对于TIN块中的每个点，存储<code class="codeph">tin_tot_dimensions</code>坐标（值）。
                           </p>
                           <p>的总维数必须大于或等于该索引的维数，这是在维数<code class="codeph">tin_extent</code>几何形状。指定总维度大于索引维度，可以在具有空间数据的相同提取操作中检索必要的非空间属性。最大总维度值为8。此参数的默认值为2。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-16267793-9515-4A0B-B541-AF9C7F634BD9"><!-- --></a> tin_domain</dt>
                        <dd>
                           <p>（目前未使用。）</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-971843D8-475F-45B2-94E2-1A09F765E892"><!-- --></a> tin_break_lines</dt>
                        <dd>
                           <p>（目前未使用。）</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-86851471-31FA-47B4-83B7-63C03E71BD5E"><!-- --></a> tin_stop_lines</dt>
                        <dd>
                           <p>（目前未使用。）</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-DA7BF5B2-3CD4-4F96-8744-4F9DAD155601"><!-- --></a> tin_void_rgns</dt>
                        <dd>
                           <p>（目前未使用。）</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-002D90A1-9933-4A33-9560-96F4D5DFFD29"><!-- --></a> tin_val_attr_tables</dt>
                        <dd>
                           <p>SDO_STRING_ARRAY对象，指定TIN的任何值属性表的名称。如果此参数为null，则TIN没有关联的值属性表。类型SDO_STRING_ARRAY被定义为VARRAY（1048576）OF VARCHAR2（32）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-008B03DB-6E15-4021-BF89-45BA0F162FE0"><!-- --></a> tin_other_attrs</dt>
                        <dd>
                           <p>XMLTYPE对象，指定TIN的任何其他属性。如果此参数为null，则TIN没有其他属性。</p>
                           <p>此参数可以包含有关TIN金字塔的元数据，如使用说明中所述。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-D0AEB5D5-4D04-4B4D-90F5-C1051071C3D5">使用说明</p>
                     <p>使用此函数初始化SDO_TIN对象后，可以通过将此对象指定为<a href="SDO_TIN_PKG-reference.html#GUID-088CFF52-91B0-43A3-9195-812D32201A66">SDO_TIN_PKG.CREATE_TIN</a>过程的输入来创建TIN。
                     </p>
                     <p>在<a href="spatial-datatypes-metadata.html#GUID-5D9C0035-7470-470F-B006-B217A67CD66B" title="This topic describes the object types related to support for triangulated irregular networks (TINs),">TIN相关对象类型中</a>描述了SDO_TIN数据<a href="spatial-datatypes-metadata.html#GUID-5D9C0035-7470-470F-B006-B217A67CD66B" title="本主题描述与支持不规则三角网（TIN）相关的对象类型，">类型</a> 。
                     </p>
                     <p><a href="spatial-concepts.html#GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB">建模曲面</a>描述了如何使用TIN对<a href="spatial-concepts.html#GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB">曲面建模</a> 。
                     </p>
                     <p><code class="codeph">tin_other_attrs</code>参数可用于指定TIN金字塔的元数据，例如：</p><pre class="oac_no_warn" dir="ltr">xmltype（'&lt;opc：sdoTinObjectMetadata xmlns：opc =“http://xmlns.oracle.com/spatial/vis3d/2011/sdovis3d.xsd”xmlns：las =“http://liblas.org/schemas/LAS/1.0 “xmlns：xsi =”http://www.w3.org/2001/XMLSchema-instance“&gt; &lt;opc：sdoTinPyramid /&gt; &lt;/ opc：sdoTinObjectMetadata&gt;'）</pre><p>TIN金字塔创建了从1级（最详细）到<span class="italic">n</span>级（最不详细）的多个金字塔等级。与点云金字塔形成对比（在<a href="SDO_PC_PKG-reference.html#GUID-6F67239D-3C8F-4360-A973-2E1B58C23065">SDO_PC_PKG.INIT</a>的使用说明中<a href="SDO_PC_PKG-reference.html#GUID-6F67239D-3C8F-4360-A973-2E1B58C23065">描述</a> ），没有与使用TIN金字塔保留级别1相关的选项。具有金字塔的TIN将比没有金字塔的TIN需要更多的存储空间，因为级别1基本上等于没有金字塔化的TIN，并且所有其他级别需要额外的空间。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6__GUID-9343F35F-26B0-4BB9-A5E8-9CA49EDC5DF3">例子</p>
                     <p>以下示例通过创建SDO_TIN对象来初始化TIN。它取自<code class="codeph">$ORACLE_HOME/md/demo/TIN/examples/plsql/tin.sql</code>示例程序，如果您安装了Oracle数据库示例介质中的文件，则可以使用该程序（请参阅“ <a href="../exmpl/index.html" target="_blank"><span class="italic">Oracle数据库示例安装指南”</span></a> ）。
                     </p><pre class="oac_no_warn" dir="ltr">声明锡sdo_tin; begin  - 初始化TIN对象。tin：= sdo_tin_pkg.init（'BASE'， -  SDO_TIN列定义为'TIN'的表， -  SDO_TIN对象的列名'BLKTAB'， - 表存储TIN的块'blk_capacity = 1000' ， - 每块最大点数mdsys.sdo_geometry（2003，null，null，mdsys.sdo_elem_info_array（1,1003,3），mdsys.sdo_ordinate_array（-180，-90,180,90））， - 范围0.0000000005 ， -  TIN 3的容差， - 维的总数null）; 。 。 。</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_TIN_PKG-reference.html#GUID-CCCA829C-CB07-4F64-9339-4D84C3D382E7" title="MDSYS.SDO_TIN_PKG包中包含支持使用不规则三角网（TIN）的子程序。">SDO_TIN_PKG包（TIN）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1490"></a><div class="props_rev_3"><a id="GUID-72D0324B-28F4-4D68-93D8-7554B35347C3" name="GUID-72D0324B-28F4-4D68-93D8-7554B35347C3"></a><h3 id="SPATL-GUID-72D0324B-28F4-4D68-93D8-7554B35347C3" class="sect3"><span class="enumeration_section">32.5</span> SDO_TIN_PKG.PROJECT_ORDINATES_ONTO_TIN</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-72D0324B-28F4-4D68-93D8-7554B35347C3__GUID-93ADC666-FCA9-42A0-9029-418DF1ACD061">格式</p><pre class="oac_no_warn" dir="ltr">SDO_TIN_PKG.PROJECT_ORDINATES_ONTO_TIN（纵坐标SD SDO_ORDINATE_ARRAY，SDO_TIN）返回SDO_ORDINATE_ARRAY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-72D0324B-28F4-4D68-93D8-7554B35347C3__GUID-4F5EF73C-EB72-473E-B71F-3FE540C6EA05">描述</p>
                     <p>将二维点投影到TIN上，从而确定点高度。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-72D0324B-28F4-4D68-93D8-7554B35347C3__GUID-369136F1-C5E7-47B5-80DA-2AD673D32D4C">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-72D0324B-28F4-4D68-93D8-7554B35347C3__GUID-8CE49048-DAB2-4751-823E-ED4F9A5EB250"><!-- --></a>纵坐标<a name="GUID-72D0324B-28F4-4D68-93D8-7554B35347C3__GUID-8CE49048-DAB2-4751-823E-ED4F9A5EB250"><!-- --></a></dt>
                        <dd>
                           <p>具有要投影的二维点的SDO_ORDINATE_ARRAY对象。这些不能是定向点（在<a href="spatial-datatypes-metadata.html#GUID-04642757-36CC-4ACE-BA1F-B1AAF7D83731">Oriented Point</a>中描述）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-72D0324B-28F4-4D68-93D8-7554B35347C3__GUID-48B97513-B9C1-470F-9473-2ABA74E9EE3A"><!-- --></a>锡</dt>
                        <dd>
                           <p>投影点的SDO_TIN对象。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-72D0324B-28F4-4D68-93D8-7554B35347C3__GUID-B6D7075C-3804-4251-BAC7-9ED321315C7C">使用说明</p>
                     <p>该功能可以被认为是对指定的二维输入点执行高度插值。</p>
                     <p>在<a href="spatial-datatypes-metadata.html#GUID-5D9C0035-7470-470F-B006-B217A67CD66B" title="This topic describes the object types related to support for triangulated irregular networks (TINs),">TIN相关对象类型中</a>描述了SDO_TIN数据<a href="spatial-datatypes-metadata.html#GUID-5D9C0035-7470-470F-B006-B217A67CD66B" title="本主题描述与支持不规则三角网（TIN）相关的对象类型，">类型</a> 。
                     </p>
                     <p><a href="spatial-concepts.html#GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB">建模曲面</a>描述了如何使用TIN对<a href="spatial-concepts.html#GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB">曲面建模</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-72D0324B-28F4-4D68-93D8-7554B35347C3__GUID-22AE8BA4-3047-4879-BCF5-62E90D38BC85">例子</p>
                     <p>以下示例将二维点（2.3,3.4），（4.5,5.6），（6.7,7.8）投影到TIN上，产生三维点（2.3,3.4,5.7），（4.5,5.6,10.1）， （6.7,7.8,14.5）。在该示例中，TIN形状是具有<code class="codeph">zi=xi+yi</code>的倾斜表面。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT sdo_tin_pkg.project_ordinates_onto_tin（ordinates2d =&gt; sdo_ordinate_array（2.3,3.4,4.5,5.6,6.7,7.8），tin =&gt;（从tin中选择tin，其中tin_id = 1））FROM DUAL; SDO_TIN_PKG.PROJECT_ORDINATES_ONTO_TIN（ORDINATES2D =&gt; SDO_ORDINATE_ARRAY（2.3,3.4,4 ------------------------------------ -------------------------------------------- SDO_ORDINATE_ARRAY（2.3,3.4， 5.7,4.5,5.6,10.1,6.7,7.8,14.5）选择1行。</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_TIN_PKG-reference.html#GUID-CCCA829C-CB07-4F64-9339-4D84C3D382E7" title="MDSYS.SDO_TIN_PKG包中包含支持使用不规则三角网（TIN）的子程序。">SDO_TIN_PKG包（TIN）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1484"></a><div class="props_rev_3"><a id="GUID-4D332C48-9574-4475-8248-90006200754B" name="GUID-4D332C48-9574-4475-8248-90006200754B"></a><h3 id="SPATL-GUID-4D332C48-9574-4475-8248-90006200754B" class="sect3"><span class="enumeration_section">32.6</span> SDO_TIN_PKG.TO_DEM</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-4D332C48-9574-4475-8248-90006200754B__GUID-3EE0C017-53E7-42E4-A590-2133F9388D3A">格式</p><pre class="oac_no_warn" dir="ltr">SDO_TIN_PKG.TO_DEM（输入SDO_TIN，输入输出SDO_GEORASTER，阻止输入数字，crs_units_per_pixel输入数字）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D332C48-9574-4475-8248-90006200754B__GUID-F72EE4CD-9BD0-4B1A-84FB-2BFBF0A59705">描述</p>
                     <p>从TIN创建DEM（数字高程模型）GeoRaster对象。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D332C48-9574-4475-8248-90006200754B__GUID-B7EA319D-FD67-4DBB-A5BB-79281C20F97C">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-4D332C48-9574-4475-8248-90006200754B__GUID-E84DC6CB-A6D3-4F42-B8EB-91951441DC98"><!-- --></a>锡</dt>
                        <dd>
                           <p>TIN对象。（SDO_TIN数据类型在<a href="spatial-datatypes-metadata.html#GUID-5D9C0035-7470-470F-B006-B217A67CD66B" title="本主题描述与支持不规则三角网（TIN）相关的对象类型，">TIN相关对象类型中</a>描述。）
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4D332C48-9574-4475-8248-90006200754B__GUID-E1600609-FDBC-4BF5-8E63-442AAB5926EE"><!-- --></a> dem</dt>
                        <dd>
                           <p>DEM GeoRaster对象。（SDO_GEORASTER数据类型在<a href="../geors/georaster-datatypes.html#GEORS953" target="_blank"><span class="italic">Oracle Spatial and Graph GeoRaster开发人员指南中有描述</span></a> 。）
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4D332C48-9574-4475-8248-90006200754B__GUID-DD5C130D-D641-49B3-B484-2C62888BAB98"><!-- --></a> blocksize</dt>
                        <dd>
                           <p>DEM的像素块大小。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4D332C48-9574-4475-8248-90006200754B__GUID-6B8804C8-0416-4E17-A1F4-18377D14E54D"><!-- --></a> crs_units_per_pixel</dt>
                        <dd>
                           <p>每个像素的TIN和DEM坐标参考系统（SRID）单位。例如，如果SRID度量单位是十进制度，并且如果每个像素表示1/100度，则<code class="codeph">crs_units_per_pixel</code>值为<code class="codeph">0.01</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D332C48-9574-4475-8248-90006200754B__GUID-B2E86B8A-EF9D-4DC2-894F-44649CEBC162">使用说明</p>
                     <p>此过程根据输入TIN中的信息修改指定的GeoRaster对象（ <code class="codeph">dem</code>参数）。</p>
                     <p>TIN和DEM必须具有相同的坐标参照系（SRID）。</p>
                     <p>对于<code class="codeph">dem</code>参数，可以通过将GeoRaster对象插入表中并将GeoRaster对象返回到变量中来获取输入SDO_GEORASTER对象。例如：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO raster_table VALUES（1，sdo_geor.init（'raster_data_table'））RETURNING raster_image INTO geor;</pre><p>要确定DEM的像素水平范围， <code class="codeph">crs_units_per_pixel</code> SRID单位的水平范围除以<code class="codeph">crs_units_per_pixel</code>参数值。例如，假设以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>TIN和DEM SRID是4326。</p>
                        </li>
                        <li>
                           <p>SRID单位是十进制度。</p>
                        </li>
                        <li>
                           <p>输入TIN的水平范围为7个十进制度。</p>
                        </li>
                        <li>
                           <p><code class="codeph">crs_units_per_pixel</code>值为<code class="codeph">0.01</code> 。
                           </p>
                        </li>
                     </ul>
                     <p>在此示例中，DEM水平范围是700像素（7 / .01 = 700）。</p>
                     <p>在<a href="spatial-datatypes-metadata.html#GUID-5D9C0035-7470-470F-B006-B217A67CD66B" title="This topic describes the object types related to support for triangulated irregular networks (TINs),">TIN相关对象类型中</a>描述了SDO_TIN数据<a href="spatial-datatypes-metadata.html#GUID-5D9C0035-7470-470F-B006-B217A67CD66B" title="本主题描述与支持不规则三角网（TIN）相关的对象类型，">类型</a> 。
                     </p>
                     <p><a href="spatial-concepts.html#GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB">建模曲面</a>描述了如何使用TIN对<a href="spatial-concepts.html#GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB">曲面建模</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D332C48-9574-4475-8248-90006200754B__GUID-436B3C29-D4F0-4AF3-BAF3-AD6C013D4A9F">例子</p>
                     <p>以下示例从TIN创建DEM。它取自<code class="codeph">$ORACLE_HOME/md/demo/TIN/examples/plsql/tin.sql</code>示例程序，如果您安装了Oracle数据库示例介质中的文件，则可以使用该程序（请参阅“ <a href="../exmpl/index.html" target="_blank"><span class="italic">Oracle数据库示例安装指南”</span></a> ）。
                     </p><pre class="oac_no_warn" dir="ltr">create table raster_table（id number，raster_image sdo_georaster）;创建sdo_raster的表raster_data_table（主键（rasterId，pyramidLevel，bandBlockNumber，rowBlockNumber，columnBlockNumber））lob（rasterblock）存储为（nocache nologging）; DECLARE inp sdo_tin; geor sdo_georaster; BEGIN从tins_hawaii_4326中选择锡INTO inp，其中rownum = 1;插入raster_table值（1，sdo_geor.init（'raster_data_table'））将raster_image返回到geor; sdo_tin_pkg.to_dem（tin =&gt; inp，dem =&gt; geor，blocksize =&gt; 128，crs_units_per_pixel =&gt; 0.01）; update raster_table set raster_image = geor where id = 1;结束; /</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_TIN_PKG-reference.html#GUID-CCCA829C-CB07-4F64-9339-4D84C3D382E7" title="MDSYS.SDO_TIN_PKG包中包含支持使用不规则三角网（TIN）的子程序。">SDO_TIN_PKG包（TIN）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1212"></a><div class="props_rev_3"><a id="GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD" name="GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD"></a><h3 id="SPATL-GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD" class="sect3"><span class="enumeration_section">32.7</span> SDO_TIN_PKG.TO_GEOMETRY</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD__GUID-67666A51-34D0-4743-ABE7-2424E68289D1">格式</p><pre class="oac_no_warn" dir="ltr">SDO_TIN_PKG.TO_GEOMETRY（pBL IN BLOB，trs IN BLOB，num_pts IN NUMBER，num_trs IN NUMBER，tin_ind_dim IN NUMBER，tin_tot_dim IN NUMBER，srid IN NUMBER DEFAULT NULL，blk_domain IN SDO_ORGSCL_TYPE DEFAULT NULL，get_ids IN NUMBER DEFAULT NULL）RETURN SDO_GEOMETRY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD__GUID-5E92C557-AA2F-427B-8E84-0B39C155044D">描述</p>
                     <p>返回表示TIN的全部或部分的几何对象。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD__GUID-81E5D55C-972B-4CFA-8D63-1EAC1AB721A4">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD__GUID-C7EE7C28-4CB2-496D-BC62-205E5BF5EEAE"><!-- --></a>分</dt>
                        <dd>
                           <p>BLOB包含点。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD__GUID-AC763869-0423-42A6-8149-65809EC5EE38"><!-- --></a> trs</dt>
                        <dd>
                           <p>包含三角形的BLOB。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD__GUID-B1BA4435-14F7-41D5-B8D0-BD8A27DF0EB6"><!-- --></a> num_pts</dt>
                        <dd>
                           <p>要生成的几何图形中包含的最大点数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD__GUID-B2528F9A-02B8-4E5E-8ED1-FE83BF64B3E7"><!-- --></a> num_pts</dt>
                        <dd>
                           <p>生成的几何体中包含的最大三角形数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD__GUID-4B998805-FF51-40EB-97C4-CD66680B2D8F"><!-- --></a> tin_ind_dim</dt>
                        <dd>
                           <p>索引的空间维数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD__GUID-E92F933A-4680-4615-983B-6DAC865F9189"><!-- --></a> tin_tot_dim</dt>
                        <dd>
                           <p>为数据定义的空间维度数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD__GUID-EDA35432-3FD3-4B85-98B7-02B3575B5227"><!-- --></a> srid</dt>
                        <dd>
                           <p>与数据关联的空间参考（坐标系）ID。如果此参数为null，则不会将SRID值与数据关联。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD__GUID-625D5CA0-B887-4121-883C-B82B1290476C"><!-- --></a> blk_domain</dt>
                        <dd>
                           <p>（目前未使用。）</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD__GUID-0610E885-BC01-4790-BE4C-6B344C50977C"><!-- --></a> get_ids</dt>
                        <dd>
                           <p>Null或0（默认值）不包括返回几何中每个点的块ID和点ID; 1包括返回几何中每个点的块ID和点ID。如果<code class="codeph">get_ids</code>为1，则返回几何中的每个点都有其空间尺寸和两个附加尺寸。例如：（x，y，z，blk_id，pt_id）。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD__GUID-BA576625-D72F-43E2-8649-AF22E02B1774">使用说明</p>
                     <p>此函数返回单个集合SDO_GEOMETRY对象，该对象表示<code class="codeph">pts</code>参数中的所有点几何以及<code class="codeph">trs</code>参数中的所有三角形几何。例如，点和三角形可以反映剪辑操作的结果或整个块的内容。
                     </p>
                     <p><a href="spatial-concepts.html#GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB">建模曲面</a>描述了如何使用TIN对<a href="spatial-concepts.html#GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB">曲面建模</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD__GUID-898F7BE1-7FF6-4236-8995-4399FEDEC506">例子</p>
                     <p>以下示例返回表示TIN的多点集合几何对象。它取自<code class="codeph">$ORACLE_HOME/md/demo/TIN/examples/plsql/tin.sql</code>示例程序，如果您安装了Oracle数据库示例介质中的文件，则可以使用该程序（请参阅“ <a href="../exmpl/index.html" target="_blank"><span class="italic">Oracle数据库示例安装指南”</span></a> ）。
                     </p><pre class="oac_no_warn" dir="ltr">。 。 。- 将TIN的blk_id中的返回点作为多点集合。选择sdo_tin_pkg.to_geometry（a.points， - 指向LOB a.triangles， - 指向LOB a.num_points， -  LOB a.num_triangles中的点数， -  LOB 2中的点数， - 索引维度（在INIT中范围内的gtype dim）3， - 总维度null  -  SRID）来自blktab a，其中blk_id = 0; 。 。 。</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_TIN_PKG-reference.html#GUID-CCCA829C-CB07-4F64-9339-4D84C3D382E7" title="MDSYS.SDO_TIN_PKG包中包含支持使用不规则三角网（TIN）的子程序。">SDO_TIN_PKG包（TIN）</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="04882.performance-tuning.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>性能调优</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="cobol-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T02:40:40-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96466-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="reserved-words-keywords-and-namespaces.html" title="Previous" type="text/html"></link>
      <link rel="next" href="syntactic-and-semantic-checking.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Pro*COBOL Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNPCB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="reserved-words-keywords-and-namespaces.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="syntactic-and-semantic-checking.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">性能调优</li>
            </ol>
            <a id="GUID-D9700BF7-EE70-4807-A9E0-DAAB72099E5C" name="GUID-D9700BF7-EE70-4807-A9E0-DAAB72099E5C"></a><a id="LNPCB018"></a>
            
            <h2 id="LNPCB-GUID-D9700BF7-EE70-4807-A9E0-DAAB72099E5C" class="sect2"><span class="enumeration_chapter">C</span>性能调优</h2>
         </header>
         <div class="ind">
            <div>
               <p>本附录向您展示了一些简单易用的方法，可以提高应用程序的性能。使用这些方法，您通常可以将处理时间缩短25％或更多。主题是：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="performance-tuning.html#GUID-79F9FCF1-EE89-49D5-A362-077ABC003E4A">表现不佳的原因</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-4EFA93E1-E692-483D-BB97-484B4D15C528">提高绩效</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-E8E89EDE-974E-488B-BA12-CAE501AF0924">使用主机表</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-4399828B-91E3-469C-8EBB-99619A1B961A">使用PL / SQL和Java</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-DFD3F197-64B8-4CB9-BB1A-B8670BDF7A1E">优化SQL语句</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-BC06A47E-994F-4B09-9437-5EA733E9F532">使用索引</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-D4111055-0CC9-4B61-B106-6474641CFCBD">利用行级锁定</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-E569398C-E455-47C6-8CCA-D3C0458A6518">消除不必要的解析</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61" title="Traffic Director Mode中的Oracle Connection Manager是一个放置在支持的数据库客户端和数据库实例之间的代理。">关于在Traffic Director模式下使用Oracle Connection Manager</a></p>
                  </li>
               </ul>
            </div><a id="LNPCB1310"></a><div class="props_rev_3"><a id="GUID-79F9FCF1-EE89-49D5-A362-077ABC003E4A" name="GUID-79F9FCF1-EE89-49D5-A362-077ABC003E4A"></a><h3 id="LNPCB-GUID-79F9FCF1-EE89-49D5-A362-077ABC003E4A" class="sect3"><span class="enumeration_section">C.1</span>性能不佳的原因</h3>
               <div>
                  <p>性能不佳的一个原因是Oracle通信开销很高。Oracle必须一次处理一个SQL语句。因此，每个语句都会导致对Oracle的另一次调用以及更高的开销。在网络环境中，必须通过网络发送SQL语句，从而增加网络流量。繁重的网络流量会显着降低您的应用程序速度<a id="d99810e94" class="indexterm-anchor"></a><a id="d99810e98" class="indexterm-anchor"></a></p>
                  <p>性能不佳的另一个原因是效率低下的SQL语句。由于SQL非常灵活，因此可以使用两个不同的语句获得相同的结果。使用一个语句可能效率较低。例如，以下两个SELECT语句返回相同的行（每个部门的名称和编号至少有一名员工）：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT DNAME，DEPTNO FROM DEPT DEPERENO IN（从EMP中选择DEPTNO）END-EXEC。</pre><p>与：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT DNAME，DEPTNO FROM DEPT EXERE EXTS（从DEPE.DEPTNO = EMP.DEPTNO的EMP中选择DEPTNO）END-EXEC。</pre><p>第一个语句较慢，因为它为DEPT表中的每个部门号执行耗时的EMP表全扫描。即使EMP中的DEPTNO列已编制索引，也不会使用索引，因为子查询缺少一个命名DEPTNO的WHERE子句。</p>
                  <p>性能不佳的另一个原因是不必要的解析和绑定。回想一下，在执行SQL语句之前，Oracle必须解析并绑定它。解析意味着检查SQL语句以确保它遵循语法规则并引用有效的数据库对象。绑定意味着将SQL语句中的主机变量与其地址相关联，以便Oracle可以读取或写入其值。</p>
                  <p>许多应用程序管理游标很差。这导致不必要的解析和绑定，这显着增加了处理开销。</p>
               </div>
            </div><a id="LNPCB1311"></a><div class="props_rev_3"><a id="GUID-4EFA93E1-E692-483D-BB97-484B4D15C528" name="GUID-4EFA93E1-E692-483D-BB97-484B4D15C528"></a><h3 id="LNPCB-GUID-4EFA93E1-E692-483D-BB97-484B4D15C528" class="sect3"><span class="enumeration_section">C.2</span>提高绩效</h3>
               <div>
                  <p>如果您对预编译程序的性能不满意，可以通过多种方法减少开销。</p>
                  <p>您可以大大减少Oracle通信开销，尤其是在网络环境中<a id="d99810e140" class="indexterm-anchor"></a></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用主机表</p>
                     </li>
                     <li>
                        <p>使用嵌入式PL / SQL</p>
                     </li>
                  </ul>
                  <p>您可以减少处理开销 - 有时可以显着降低</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>优化SQL语句</p>
                     </li>
                     <li>
                        <p>SQL语句缓存</p>
                     </li>
                     <li>
                        <p>使用索引</p>
                     </li>
                     <li>
                        <p>利用行级锁定</p>
                     </li>
                     <li>
                        <p>消除不必要的解析</p>
                     </li>
                     <li>
                        <p>避免不必要的重新分析</p>
                     </li>
                  </ul>
                  <p>以下部分将介绍减少开销的每种方法。</p>
               </div>
            </div><a id="LNPCB1312"></a><div class="props_rev_3"><a id="GUID-E8E89EDE-974E-488B-BA12-CAE501AF0924" name="GUID-E8E89EDE-974E-488B-BA12-CAE501AF0924"></a><h3 id="LNPCB-GUID-E8E89EDE-974E-488B-BA12-CAE501AF0924" class="sect3"><span class="enumeration_section">C.3</span>使用主机表</h3>
               <div>
                  <p>主机表可以提高性能，因为它们允许您使用单个SQL语句操作整个数据集合。例如，假设您要将300名员工的工资插入EMP表。如果没有表格，您的程序必须执行300次单独插入 - 每位员工一次。对于数组，只需要一个INSERT。请考虑以下声明：<a id="d99810e199" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">EXEC SQL INSERT INTO EMP（SAL）VALUES（：SALARY）END-EXEC。</pre><p>如果<span class="italic">SALARY</span>是一个简单的主机变量，Oracle会执行一次INSERT语句，将一行插入EMP表。在该行中，SAL列的值为<span class="italic">SALARY</span> 。要以这种方式插入300行，必须执行300次INSERT语句。
                  </p>
                  <p>但是，如果<span class="italic">SALARY</span>是大小为300的主机表，则Oracle会立即将所有300行插入到EMP表中。在每一行中，SAL列都具有<span class="italic">SALARY</span>表中元素的值。
                  </p>
                  <p>有关更多信息，请参阅<a href="host-tables.html#GUID-B4A3765E-BBA7-4D71-860D-1058CD2D23C6">主机表</a></p>
               </div>
            </div><a id="LNPCB1314"></a><a id="LNPCB1313"></a><div class="props_rev_3"><a id="GUID-4399828B-91E3-469C-8EBB-99619A1B961A" name="GUID-4399828B-91E3-469C-8EBB-99619A1B961A"></a><h3 id="LNPCB-GUID-4399828B-91E3-469C-8EBB-99619A1B961A" class="sect3"><span class="enumeration_section">C.4</span>使用PL / SQL和Java</h3>
               <div>
                  <p><a href="performance-tuning.html#GUID-4399828B-91E3-469C-8EBB-99619A1B961A__CHEIIGJI">如图C-1</a>所示，如果您的应用程序是数据库密集型的，您可以使用控制结构在PL / SQL块中对SQL语句进行分组，然后将整个块发送到Oracle。这可以大大减少应用程序和数据库之间的通信。 <a id="d99810e253" class="indexterm-anchor"></a> 
                  </p>
                  <p>此外，您可以使用PL / SQL和Java子程序来减少从应用程序到数据库的调用。例如，要执行十个单独的SQL语句，需要进行十次调用，但要执行包含十个SQL语句的子程序，只需要一次调用。<a id="d99810e260" class="indexterm-anchor"></a></p>
                  <p>与匿名块不同，PL / SQL和Java子程序可以单独编译并存储在数据库中。调用时，它们会立即传递给PL / SQL引擎。此外，只需要将子程序的一个副本加载到存储器中以供多个用户执行。 <a id="d99810e266" class="indexterm-anchor"></a> 
                  </p>
                  <div class="figure" id="GUID-4399828B-91E3-469C-8EBB-99619A1B961A__CHEIIGJI">
                     <p class="titleinfigure">图C-1 PL / SQL提升性能</p><img src="img/pco81060.gif" alt="下面是图C-1的描述" title="下面是图C-1的描述" longdesc="img_text/pco81060.html"><br><a href="img_text/pco81060.html">“图C-1 PL / SQL提升性能”的描述</a></div>
                  <!-- class="figure" -->
               </div>
            </div><a id="LNPCB1315"></a><div class="props_rev_3"><a id="GUID-DFD3F197-64B8-4CB9-BB1A-B8670BDF7A1E" name="GUID-DFD3F197-64B8-4CB9-BB1A-B8670BDF7A1E"></a><h3 id="LNPCB-GUID-DFD3F197-64B8-4CB9-BB1A-B8670BDF7A1E" class="sect3"><span class="enumeration_section">C.5</span>优化SQL语句</h3>
               <div>
                  <p>对于每个SQL语句，优化器都会生成一个<span class="italic">执行计划</span> ，这是Oracle执行该语句所采取的一系列步骤。这些步骤由<a href="../adfns/index.html" target="_blank"><span class="italic">Oracle数据库高级应用程序开发人员指南</span></a>中的规则确定。遵循这些规则将帮助您编写最佳SQL语句。<a id="d99810e308" class="indexterm-anchor"></a><a id="d99810e312" class="indexterm-anchor"></a><a id="d99810e314" class="indexterm-anchor"></a></p>
               </div><a id="LNPCB1316"></a><div class="props_rev_3"><a id="GUID-6722D75E-6DC3-40EB-AEBB-C9ACFD30CEEE" name="GUID-6722D75E-6DC3-40EB-AEBB-C9ACFD30CEEE"></a><h4 id="LNPCB-GUID-6722D75E-6DC3-40EB-AEBB-C9ACFD30CEEE" class="sect4"><span class="enumeration_section">C.5.1</span>优化器提示</h4>
                  <div>
                     <p>对于每个SQL语句，优化器都会生成一个<span class="italic">执行计划</span> ，这是Oracle执行该语句所采取的一系列步骤。在某些情况下，您可以建议优化SQL语句的方法。这些建议称为<span class="italic">提示</span> ，可以影响优化程序的决策。<a id="d99810e346" class="indexterm-anchor"></a><a id="d99810e348" class="indexterm-anchor"></a></p>
                     <p>提示不是指令;他们只是帮助优化者完成它的工作。一些提示限制了用于优化SQL语句的信息范围，而其他提示则提出了整体策略。您可以使用提示指定：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>SQL语句的优化方法</p>
                        </li>
                        <li>
                           <p>每个引用表的访问路径</p>
                        </li>
                        <li>
                           <p>加入加入订单</p>
                        </li>
                        <li>
                           <p>用于连接表的方法</p>
                        </li>
                     </ul>
                  </div><a id="LNPCB1317"></a><div class="props_rev_3"><a id="GUID-4F17C941-C793-4D11-A92F-34E99E584A98" name="GUID-4F17C941-C793-4D11-A92F-34E99E584A98"></a><h5 id="LNPCB-GUID-4F17C941-C793-4D11-A92F-34E99E584A98" class="sect5"><span class="enumeration_section">C.5.1.1</span>给出提示</h5>
                     <div>
                        <p>您可以通过在SELECT，UPDATE或DELETE语句中的动词后立即将它们放在C样式的注释中来为优化器提供提示。您可以选择基于规则或基于成本的优化。通过基于成本的优化，提示有助于最大化吞吐量或响应时间。在以下示例中，ALL_ROWS提示有助于最大化查询吞吐量：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT / * + ALL_ROWS（基于成本）* / EMPNO，ENAME，SAL INTO：EMP-NUMBER，：EMP-NAME，：来自EMP的SALARY DEPTNO =：DEPT-NUMBER END-EXEC。</pre><p>加号（+）必须紧跟在注释开头之后，表示注释包含一个或多个提示。请注意，Comment可以包含备注和提示。</p>
                        <p>有关优化程序提示的更多信息，请参阅<a href="../adfns/performance-and-scalability.html#ADFNS-GUID-826DD1D3-C722-4915-8790-E870D6B5123A" target="_blank">性能和可伸缩性</a> 。
                        </p>
                        <p>跟踪设施</p>
                        <p>您可以使用SQL跟踪工具和EXPLAIN PLAN语句来标识可能会降低应用程序速度的SQL语句。跟踪工具为Oracle执行的每个SQL语句生成统计信息。从这些统计信息中，您可以确定哪些语句需要花费最多的时间来处理。然后，您可以将调整工作集中在这些语句上。<a id="d99810e403" class="indexterm-anchor"></a><a id="d99810e407" class="indexterm-anchor"></a></p>
                        <p>EXPLAIN PLAN语句显示应用程序中每个SQL语句的执行计划。您可以使用执行计划来识别低效的SQL语句。</p>
                        <p>另请参阅： <a href="../adfns/performance-and-scalability.html#ADFNS-GUID-3BC2DA6F-0836-42EF-8155-C6FA27893360" target="_blank">性能工具，</a>了解有关使用跟踪工具和分析其输出的说明。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="LNPCB1318"></a><div class="props_rev_3"><a id="GUID-ED51FFB2-8B07-4F86-BCC2-B0FC21403B5B" name="GUID-ED51FFB2-8B07-4F86-BCC2-B0FC21403B5B"></a><h3 id="LNPCB-GUID-ED51FFB2-8B07-4F86-BCC2-B0FC21403B5B" class="sect3"><span class="enumeration_section">C.6</span> SQL语句缓存</h3>
               <div>
                  <p>使用语句缓存在预编译器应用程序中实现了性能改进。任何使用动态SQL语句的程序（其中游标必须与语句的重新分析一起使用）将通过语句缓存获得性能提升。使用此新功能，总体执行时间将减少。</p>
                  <p>可以将stmt_cache选项设置为保存应用程序中预期的不同动态SQL语句数。客户可以使用新的预编译器命令行选项设置stmt_cache大小。无法设置stmt_cache的最佳值，因为它取决于输入程序行为。</p>
                  <p>可以使用执行时间的更改来测量性能（使用和不使用语句缓存）。</p>
               </div>
            </div><a id="LNPCB1319"></a><div class="props_rev_3"><a id="GUID-BC06A47E-994F-4B09-9437-5EA733E9F532" name="GUID-BC06A47E-994F-4B09-9437-5EA733E9F532"></a><h3 id="LNPCB-GUID-BC06A47E-994F-4B09-9437-5EA733E9F532" class="sect3"><span class="enumeration_section">C.7</span>使用索引</h3>
               <div>
                  <p>使用rowid， <span class="italic">索引</span>将表列中的每个不同值与包含该值的行相关联。使用CREATE INDEX语句创建索引。有关详细信息，请参见<a href="../sqlrf/CREATE-INDEX.html#SQLRF-GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE" target="_blank">CREATE INDEX</a> 。<a id="d99810e479" class="indexterm-anchor"></a></p>
                  <p>您可以使用索引来提高返回少于表中行的15％的查询的性能。通过<span class="italic">完全扫描</span> ，即通过顺序读取所有行，可以更快地执行返回表中15％或更多行的查询。在WHERE子句中命名索引列的任何查询都可以使用索引。有关帮助您选择要编制索引的列的准则，请参阅<a href="../adfns/indexes.html#ADFNS-GUID-5C53546D-8C54-4F38-B472-835F94030016" target="_blank">在数据库应用程序中使用索引</a> 。<a id="d99810e492" class="indexterm-anchor"></a></p>
               </div>
            </div><a id="LNPCB1320"></a><div class="props_rev_3"><a id="GUID-D4111055-0CC9-4B61-B106-6474641CFCBD" name="GUID-D4111055-0CC9-4B61-B106-6474641CFCBD"></a><h3 id="LNPCB-GUID-D4111055-0CC9-4B61-B106-6474641CFCBD" class="sect3"><span class="enumeration_section">C.8</span>利用行级锁定</h3>
               <div>
                  <p>默认情况下，Oracle会在行级而不是表级别锁定数据。行级锁定允许多个用户同时访问同一表中的不同行。由此带来的性能提升非常显着。</p>
                  <p>您可以指定表级锁定，但会降低事务处理选项的有效性。有关表锁定的更多信息，请参阅“使用LOCK TABLE语句”中的<span class="q">“ <a href="database-concepts.html#GUID-D7F99FE8-D739-4E12-B17C-A7A7F21032F0">使用LOCK TABLE语句</a> ”</span> 。<a id="d99810e525" class="indexterm-anchor"></a></p>
                  <p>进行在线事务处理的应用程序从行级锁定中获益最多。如果您的应用程序依赖于表级锁定，请对其进行修改以利用行级锁定。通常，避免显式表级锁定。</p>
               </div>
            </div><a id="LNPCB1321"></a><div class="props_rev_3"><a id="GUID-E569398C-E455-47C6-8CCA-D3C0458A6518" name="GUID-E569398C-E455-47C6-8CCA-D3C0458A6518"></a><h3 id="LNPCB-GUID-E569398C-E455-47C6-8CCA-D3C0458A6518" class="sect3"><span class="enumeration_section">C.9</span>消除不必要的解析</h3>
               <div>
                  <p>消除不必要的解析需要正确处理游标并选择性地使用以下游标管理选项：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>MAXOPENCURSORS</p>
                     </li>
                     <li>
                        <p>HOLD_CURSOR</p>
                     </li>
                     <li>
                        <p>RELEASE_CURSOR</p>
                     </li>
                  </ul>
                  <p>这些选项会影响隐式和显式游标，游标缓存和私有SQL区域。 <a id="d99810e568" class="indexterm-anchor"></a><a id="d99810e570" class="indexterm-anchor"></a><a id="d99810e574" class="indexterm-anchor"></a><a id="d99810e578" class="indexterm-anchor"></a><a id="d99810e582" class="indexterm-anchor"></a><a id="d99810e584" class="indexterm-anchor"></a> 
                  </p>
                  <p><span class="bold">注意：</span>您可以使用ORACA获取游标缓存统计信息。请参阅<span class="q">“ <a href="error-handling-and-diagnostics.html#GUID-709278BE-8149-4F60-BB83-CABC59E67F89">使用Oracle通信区域</a> ”</span> 。
                  </p>
               </div><a id="LNPCB1322"></a><div class="props_rev_3"><a id="GUID-972C3CA9-009A-4288-8138-B186B7F7C31A" name="GUID-972C3CA9-009A-4288-8138-B186B7F7C31A"></a><h4 id="LNPCB-GUID-972C3CA9-009A-4288-8138-B186B7F7C31A" class="sect4"><span class="enumeration_section">C.9.1</span>处理显式游标</h4>
                  <div>
                     <p>回想一下，有两种类型的游标：隐式和显式（参见<span class="q">“ <a href="precompiler-concepts.html#GUID-767065E6-7AD4-45F5-AE4C-7D5E50564303">错误和警告</a> ”</span> ）。Oracle隐式声明了所有数据定义和数据操作语句的游标。但是，对于返回多行的查询，您应该显式声明游标并批量获取而不是选择进入主机表。您使用DECLARE CURSOR语句来声明显式游标。如何处理显式游标的打开和关闭会影响性能。<a id="d99810e627" class="indexterm-anchor"></a></p>
                     <p>如果需要重新评估活动集，只需重新打开游标即可。OPEN语句将使用任何新的主机变量值。如果不先关闭光标，可以节省处理时间。</p>
                     <p>只有在想要释放通过打开光标获取的资源（内存和锁）时才关闭光标。例如，您的程序应该在退出之前关闭所有游标。</p>
                     <p><span class="bold">注意：</span>为了简化性能调优，预编译器允许您重新打开已打开的游标。但是，这是ANSI / ISO嵌入式SQL标准的Oracle扩展。因此，当MODE = ANSI时，必须在重新打开之前关闭游标。
                     </p>
                  </div><a id="LNPCB1323"></a><div class="props_rev_3"><a id="GUID-0CD475B4-C816-457B-954E-7D8EEFFD08C5" name="GUID-0CD475B4-C816-457B-954E-7D8EEFFD08C5"></a><h5 id="LNPCB-GUID-0CD475B4-C816-457B-954E-7D8EEFFD08C5" class="sect5"><span class="enumeration_section">C.9.1.1</span>光标控制</h5>
                     <div>
                        <p>通常，有三个因素会影响对显式声明的游标的控制：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用DECLARE，OPEN，FETCH和CLOSE语句。</p>
                           </li>
                           <li>
                              <p>使用PREPARE，DECLARE，OPEN，FETCH和CLOSE语句</p>
                           </li>
                           <li>
                              <p>当MODE = ANSI时，COMMIT关闭光标</p>
                           </li>
                        </ul>
                        <p>用第一种方法，注意不必要的解析。OPEN语句执行解析，但前提是解析后的语句不可用，因为游标已关闭或从未打开过。您的程序应该声明游标，每次主机变量的值发生更改时重新打开它，并且只有在不再需要SQL语句时才关闭它。</p>
                        <p>使用第二种方法（在动态SQL方法3和4中使用），PREPARE语句执行解析，并且解析的语句可用，直到执行CLOSE语句。您的程序应准备SQL语句并声明游标，每次主机变量的值更改时重新打开游标，重新准备SQL语句并在SQL语句更改时重新打开游标，并仅关闭游标何时不再需要SQL语句。</p>
                        <p>如果可能，避免将OPEN和CLOSE语句放在循环中;这是不必要的重新解析SQL语句的潜在原因。在下一个示例中，OPEN和CLOSE语句都在外部循环内。当MODE = ANSI时，CLOSE语句必须如图所示定位，因为ANSI要求在重新打开之前关闭游标。</p><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE emp_cursor CURSOR FOR SELECT ENAME，SAL FROM EMP WHERE SAL&gt;：SALARY AND SAL &lt;=：SALARY + 1000 END-EXEC。移动0到SALARY。最佳。 EXEC SQL OPEN emp_cursor END-EXEC。环。 EXEC SQL FETCH emp_cursor INTO .......如果SQLCODE = 0，则转到LOOP ELSE将1000添加到SALARY END-IF。 EXEC SQL CLOSE emp_cursor END-EXEC。如果SALARY &lt;5000转到顶部。</pre><p>但是，使用MODE = ORACLE，通过将CLOSE语句放在外部循环之外，可以避免在OPEN语句的每次迭代时重新解析。</p><pre class="oac_no_warn" dir="ltr">最佳。 EXEC SQL OPEN emp_cursor END-EXEC。环。 EXEC SQL FETCH emp_cursor INTO .......如果SQLCODE = 0，则转到LOOP ELSE将1000添加到SALARY END-IF。如果SALARY &lt;5000转到顶部。 EXEC SQL CLOSE emp_cursor END-EXEC。</pre></div>
                  </div>
               </div><a id="LNPCB1324"></a><div class="props_rev_3"><a id="GUID-76CAF5EE-6765-46AA-8760-A5A25776424B" name="GUID-76CAF5EE-6765-46AA-8760-A5A25776424B"></a><h4 id="LNPCB-GUID-76CAF5EE-6765-46AA-8760-A5A25776424B" class="sect4"><span class="enumeration_section">C.9.2</span>使用光标管理选项</h4>
                  <div>
                     <p>除非您更改其构成，否则只需解析一次SQL语句。例如，通过向其选择列表或WHERE子句添加列来更改查询的组成。HOLD_CURSOR，RELEASE_CURSOR和MAXOPENCURSORS选项使您可以控制Oracle如何管理SQL语句的解析和重新解析。声明显式游标可以最大程度地控制解析。</p>
                  </div><a id="LNPCB1326"></a><a id="LNPCB1325"></a><div class="props_rev_3"><a id="GUID-476778F5-F63D-4270-9F7B-DF03C0A5A2F8" name="GUID-476778F5-F63D-4270-9F7B-DF03C0A5A2F8"></a><h5 id="LNPCB-GUID-476778F5-F63D-4270-9F7B-DF03C0A5A2F8" class="sect5"><span class="enumeration_section">C.9.2.1</span>私有SQL区域和游标缓存</h5>
                     <div>
                        <p>执行任何语句时，其关联的游标将链接到游标缓存中的条目。游标缓存是用于游标管理的不断更新的内存区域。游标缓存条目又链接到私有SQL区域。<a id="d99810e734" class="indexterm-anchor"></a></p>
                        <p>私有SQL区域是Oracle在运行时动态创建的工作区，包含已解析的SQL语句，主机变量的地址以及处理该语句所需的其他信息。动态方法3允许您命名SQL语句，访问其私有SQL区域中的信息，并在某种程度上控制其处理。<a id="d99810e740" class="indexterm-anchor"></a></p>
                        <p><a href="performance-tuning.html#GUID-476778F5-F63D-4270-9F7B-DF03C0A5A2F8__I24609">图C-2</a>表示程序完成插入和删除后的游标缓存。
                        </p>
                        <div class="figure" id="GUID-476778F5-F63D-4270-9F7B-DF03C0A5A2F8__I24609">
                           <p class="titleinfigure">图C-2通过游标缓存链接的游标</p><img src="img/pco81062.gif" width="461" alt="下面是图C-2的描述" title="下面是图C-2的描述" longdesc="img_text/pco81062.html"><br><a href="img_text/pco81062.html">“通过游标缓存链接的图C-2游标”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                  </div><a id="LNPCB1327"></a><div class="props_rev_3"><a id="GUID-D3445B31-46EA-4D01-8B46-30A71B110010" name="GUID-D3445B31-46EA-4D01-8B46-30A71B110010"></a><h5 id="LNPCB-GUID-D3445B31-46EA-4D01-8B46-30A71B110010" class="sect5"><span class="enumeration_section">C.9.2.2</span>资源使用</h5>
                     <div>
                        <p>每个用户会话的最大打开游标数由初始化参数OPEN_CURSORS设置。</p>
                        <p>MAXOPENCURSORS指定游标缓存的<span class="italic">初始</span>大小。如果需要新的游标且没有可用的缓存条目，Oracle会尝试重用一个条目。它的成功取决于HOLD_CURSOR和RELEASE_CURSOR的值，对于显式游标，它取决于游标本身的状态。
                        </p>
                        <p>如果MAXOPENCURSORS的值小于在执行程序期间需要缓存的语句数，则Oracle将在MAXOPENCURSORS缓存条目用尽后搜索游标缓存条目以重用。例如，假设INSERT语句的高速缓存条目<span class="italic">E</span> （1）被标记为可重用，并且高速缓存条目的数量已经等于MAXOPENCURSORS。如果程序执行新语句，则可以将高速缓存条目<span class="italic">E</span> （1）及其私有SQL区域重新分配给新语句。要重新执行INSERT语句，Oracle必须重新解析它并重新分配另一个缓存条目。
                        </p>
                        <p>如果找不到要重用的缓存条目，Oracle会分配一个额外的缓存条目。例如，如果MAXOPENCURSORS = 8并且所有八个条目都处于活动状态，则会创建第九个条目。如有必要，Oracle会继续分配其他缓存条目，直到内存不足或达到OPEN_CURSORS设置的限制为止。这种动态分配增加了处理开销。</p>
                        <p>因此，使用HOLD_CURSOR = NO（默认值）为MAXOPENCURSORS指定低值会节省内存，但会导致可能代价高昂的动态分配和新缓存条目的取消分配。为MAXOPENCURSORS指定一个高值可确保快速执行但使用更多内存。</p>
                     </div>
                  </div><a id="LNPCB1328"></a><div class="props_rev_3"><a id="GUID-707BA635-83F3-466F-B0D0-8361C1FF3B41" name="GUID-707BA635-83F3-466F-B0D0-8361C1FF3B41"></a><h5 id="LNPCB-GUID-707BA635-83F3-466F-B0D0-8361C1FF3B41" class="sect5"><span class="enumeration_section">C.9.2.3</span>不经常执行</h5>
                     <div>
                        <p>有时， <span class="italic">不经常</span>执行的SQL语句与其私有SQL区域之间的链接应该是临时的。
                        </p>
                        <p>当HOLD_CURSOR = NO（默认值）时，在Oracle执行SQL语句并关闭游标后，预编译器会将游标和游标缓存之间的链接标记为可重用。只要另一个SQL语句需要它指向的游标缓存条目，就会重用该链接。这将释放分配给私有SQL区域的内存并释放解析锁。但是，由于准备好的游标必须保持活动状态，因此即使HOLD_CURSOR = NO，也会保持其链接。</p>
                        <p>当RELEASE_CURSOR = YES时，在Oracle执行SQL语句并且游标关闭后，将自动释放私有SQL区域并丢失解析的语句。例如，如果您希望节省内存，则可能需要这样做。</p>
                        <p>当RELEASE_CURSOR = YES时，将立即删除私有SQL区域和高速缓存条目之间的链接，并释放私有SQL区域。即使您尝试指定HOLD_CURSOR = YES，Oracle仍必须为私有SQL区域重新分配内存，并在执行之前重新解析SQL语句。因此，指定RELEASE_CURSOR = YES会覆盖HOLD_CURSOR = YES。</p>
                     </div>
                  </div><a id="LNPCB1329"></a><div class="props_rev_3"><a id="GUID-11BEC4D0-37FA-483A-8374-140D96E0B00B" name="GUID-11BEC4D0-37FA-483A-8374-140D96E0B00B"></a><h5 id="LNPCB-GUID-11BEC4D0-37FA-483A-8374-140D96E0B00B" class="sect5"><span class="enumeration_section">C.9.2.4</span>频繁执行</h5>
                     <div>
                        <p>应保持<span class="italic">频繁</span>执行的SQL语句与其私有SQL区域之间的链接，因为私有SQL区域包含执行该语句所需的所有信息。维护对此信息的访问使得后续执行语句的速度更快。
                        </p>
                        <p>当HOLD_CURSOR = YES时，Oracle执行SQL语句后，将保持游标和游标缓存之间的链接。因此，解析的语句和分配的内存仍然可用。这对于您希望保持活动状态的SQL语句非常有用，因为它可以避免不必要的重新解析。<a id="d99810e856" class="indexterm-anchor"></a></p>
                     </div>
                  </div><a id="LNPCB1330"></a><div class="props_rev_3"><a id="GUID-DA4CB847-9FD9-4EDD-A0D7-8E3634AA0E47" name="GUID-DA4CB847-9FD9-4EDD-A0D7-8E3634AA0E47"></a><h5 id="LNPCB-GUID-DA4CB847-9FD9-4EDD-A0D7-8E3634AA0E47" class="sect5"><span class="enumeration_section">C.9.2.5</span>对共享SQL区域的影响</h5>
                     <div>
                        <p>Oracle在其共享SQL缓存中缓存SQL语句和PL / SQL的已解析表示。由于需要将空间用于其他陈述，这些陈述一直保持到老化状态。有关更多信息，请参阅<a href="../cncpt/memory-architecture.html#CNCPT1228" target="_blank"><span class="italic">Oracle数据库概念</span></a>手册。在这方面，Oracle服务器的行为不受预编译器的游标管理设置的影响，因此可以产生以下影响：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>当RELEASE_CURSOR = YES并且重新执行语句时，将向服务器发送请求以解析语句，但可能不需要完整解析，因为语句可能仍然被高速缓存。</p>
                           </li>
                           <li>
                              <p>使用HOLD_CURSOR = YES时，不会对语句中引用的任何对象保持锁定，因此重新定义语句中的一个对象将强制缓存的语句变为无效，并且服务器将自动重新分析语句。这可能会导致意外结果。</p>
                           </li>
                           <li>
                              <p>尽管如此，当RELEASE_CURSOR = YES时，重新解析可能不需要额外的处理，因为Oracle在其<span class="italic">共享SQL缓存中缓存</span>了SQL语句和PL / SQL块的解析表示。即使其光标关闭，解析后的表示仍然可用，直到它从缓存中老化。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNPCB1331"></a><div class="props_rev_3"><a id="GUID-96CB266B-EDFD-458B-B43F-B278D6BCE866" name="GUID-96CB266B-EDFD-458B-B43F-B278D6BCE866"></a><h5 id="LNPCB-GUID-96CB266B-EDFD-458B-B43F-B278D6BCE866" class="sect5"><span class="enumeration_section">C.9.2.6</span>嵌入式PL / SQL注意事项</h5>
                     <div>
                        <p>出于游标管理的目的，嵌入式PL / SQL块被视为SQL语句。当执行嵌入式PL / SQL块时，父光标与整个块相关联，并且在嵌入式PL / SQL块的PGA中的高速缓存条目和私有SQL区域之间创建链接。请注意，嵌入块内的每个SQL语句也需要PGA中的私有SQL区域。这些SQL语句使用PL / SQL自行管理的子游标。子游标的处置是通过其关联的父游标确定的。也就是说，子游标使用的私有SQL区域在释放其父游标的私有SQL区域后被释放。</p>
                        <p>注意：</p>
                        <p>使用默认值HOLD_CURSOR = YES和RELEASE_CURSOR = NO，在执行具有早期Oracle版本的SQL语句之后，其解析的表示仍然可用。对于Oracle，在类似条件下，解析后的表示只有在老化出共享SQL缓存之后才可用。通常，这不是问题，但如果在重新解析SQL语句之前引用对象的定义发生更改，则可能会出现意外结果。</p>
                     </div>
                  </div><a id="LNPCB1333"></a><a id="LNPCB1332"></a><div class="props_rev_3"><a id="GUID-2D27C84E-31CC-4EFC-904B-8FF6AE3F13A8" name="GUID-2D27C84E-31CC-4EFC-904B-8FF6AE3F13A8"></a><h5 id="LNPCB-GUID-2D27C84E-31CC-4EFC-904B-8FF6AE3F13A8" class="sect5"><span class="enumeration_section">C.9.2.7</span>参数交互</h5>
                     <div>
                        <p><a href="performance-tuning.html#GUID-2D27C84E-31CC-4EFC-904B-8FF6AE3F13A8__i24652">HOLD_CURSOR和RELEASE _CURSOR交互</a>显示HOLD_CURSOR和RELEASE_CURSOR如何交互。请注意，HOLD_CURSOR = NO会覆盖RELEASE_CURSOR = NO，而RELEASE_CURSOR = YES会覆盖HOLD_CURSOR = YES。</p>
                        <div class="tblformal" id="GUID-2D27C84E-31CC-4EFC-904B-8FF6AE3F13A8__CHEHJFCA">
                           <p class="titleintable">表C-1 <span class="italic" id="GUID-2D27C84E-31CC-4EFC-904B-8FF6AE3F13A8__i24652"><span class="bold">HOLD_CURSOR和RELEASE _CURSOR交互</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="HOLD_CURSOR和RELEASE _CURSOR交互" width="100%" border="1" summary="q" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="39%" id="d99810e971">HOLD_CURSOR</th>
                                    <th align="left" valign="bottom" width="31%" id="d99810e974">RELEASE_CURSOR</th>
                                    <th align="left" valign="bottom" width="31%" id="d99810e977">链接是......</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d99810e982" headers="d99810e971 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d99810e982 d99810e974 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d99810e982 d99810e977 ">
                                       <p>标记为可重复使用</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d99810e992" headers="d99810e971 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d99810e992 d99810e974 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d99810e992 d99810e977 ">
                                       <p>保持</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d99810e1002" headers="d99810e971 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d99810e1002 d99810e974 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d99810e1002 d99810e977 ">
                                       <p>立即删除</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d99810e1012" headers="d99810e971 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d99810e1012 d99810e974 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d99810e1012 d99810e977 ">
                                       <p>立即删除</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div>
            </div><a id="LNPCB1334"></a><div class="props_rev_3"><a id="GUID-3883BE9D-97E3-4170-B2AF-0E3B44094E00" name="GUID-3883BE9D-97E3-4170-B2AF-0E3B44094E00"></a><h3 id="LNPCB-GUID-3883BE9D-97E3-4170-B2AF-0E3B44094E00" class="sect3"><span class="enumeration_section">C.10</span>避免不必要的重新分析</h3>
               <div>
                  <p>当嵌入式SQL语句在循环中执行时，它只被解析一次。但是，SQL语句的执行阶段可能会导致错误，并且会重新声明语句，但以下情况除外：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>ORA-1403（未找到）</p>
                     </li>
                     <li>
                        <p>ORA-1405（截断）</p>
                     </li>
                     <li>
                        <p>ORA-1406（空值）</p>
                     </li>
                  </ul>
                  <p>通过纠正错误，您可以消除这种不必要的重新分析。</p>
                  <p></p>
               </div>
            </div>
            <div class="sect2"><a id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61" name="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61"></a><h3 id="LNPCB-GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61" class="sect3"><span class="enumeration_section">C.11</span>关于在Traffic Director模式下使用Oracle Connection Manager</h3>
               <div>
                  <p>Traffic Director Mode中的Oracle Connection Manager是一个放置在支持的数据库客户端和数据库实例之间的代理。</p>
                  <div class="p">Oracle Database <span class="italic">11g</span>第2版（11.2）及更高版本中支持的客户端可以在Traffic Director模式下连接到Oracle Connection Manager。流量控制器模式中的Oracle连接管理器为计划内和计划外数据库服务器中断，连接多路复用支持和负载平衡提供了改进的高可用性（HA）。以下各节将更详细地介绍对Traffic Director模式中的Oracle Connection Manager的支持<ul style="list-style-type:disc">
                        <li>
                           <p><a href="performance-tuning.html#GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__MODESOFOPERATION-4FD4C8FE">运作模式</a></p>
                        </li>
                        <li>
                           <p><a href="performance-tuning.html#GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__KEYFEATURES-4FD4D08F">主要特点</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="section" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__MODESOFOPERATION-4FD4C8FE">
                     <p class="subhead2" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__GUID-749BC524-93BC-42F1-B765-970605875B7F">运作模式</p>
                     <p>流量控制器模式中的Oracle连接管理器支持以下操作模式：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <div class="p">在池连接模式下，流量控制器模式中的Oracle连接管理器支持使用以下数据库客户端版本的任何应用程序：<ul style="list-style-type:disc">
                                 <li>
                                    <p>OCI，OCCI和开源驱动程序（Oracle Database <span class="italic">11g第</span> 2版（11.2.0.4）及更高版本））</p>
                                 </li>
                                 <li>
                                    <p>JDBC（Oracle Database 12c <span class="italic">第</span> 1版（12.1）及更高版本）</p>
                                 </li>
                                 <li>
                                    <p>ODP.NET（Oracle Database 12 <span class="italic">c第</span> 2版（12.2）及更高版本）</p>
                                 </li>
                              </ul>
                           </div>
                           <p>此外，应用程序必须使用DRCP。也就是说，应用程序必须在连接字符串（或<code class="codeph">tnsnames.ora</code>别名）中启用DRCP。
                           </p>
                        </li>
                        <li>
                           <p>在非池化连接（或专用）模式下，流量控制器模式中的Oracle连接管理器支持使用数据库客户机版本Oracle Database <span class="italic">11g第</span> 2版（11.2.0.4）及更高版本的任何应用程序。在此模式下，某些功能（如连接多路复用）不可用。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__KEYFEATURES-4FD4D08F">
                     <p class="subhead2" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__GUID-3A52B2C3-D63C-4ACB-8FED-1BAFC3801338">主要特点</p>
                     <div class="p">Traffic Director Mode中的Oracle Connection Manager提供以下支持：<ul style="list-style-type:disc">
                           <li>
                              <div class="p">透明的性能增强和连接多路复用，包括：<ul style="list-style-type:disc">
                                    <li>
                                       <p>对所有操作模式自动启用语句高速缓存，行预取和结果集高速缓存。</p>
                                    </li>
                                    <li>
                                       <p>使用代理驻留连接池（PRCP）的数据库会话多路复用（仅池化模式），其中PRCP是数据库驻留连接池（DRCP）的代理模式。应用程序在Traffic Director模式下的Oracle Connection Manager与数据库之间获得透明的连接时负载平衡和运行时负载平衡。</p>
                                    </li>
                                    <li>
                                       <p>对于Traffic Director模式实例中的多个Oracle Connection Manager，应用程序通过客户端连接时间负载平衡或负载均衡器（BIG-IP，NGINX等）获得更高的可扩展性</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <div class="p">零应用程序停机时间<ul style="list-style-type:disc">
                                    <li>
                                       <div class="p">计划数据库维护或可插拔数据库（PDB）重定位<ul style="list-style-type:disc">
                                             <li>
                                                <p>合并模式</p>
                                                <p>流量控制器模式中的Oracle Connection Manager响应Oracle Notification Service（ONS）事件以计划中断和重定向工作。请求完成后，在流量控制器模式下，Oracle Connection Manager上的池中的连接将耗尽。Oracle Database <span class="italic">11g第</span> 2版（11.2.0.4）及更高版本支持服务重定位。
                                                </p>
                                                <p>对于PDB重定位，当PDB重新定位时，流量控制器模式中的Oracle连接管理器会响应带内通知，即使未配置ONS时也是如此（对于Oracle数据库版本18c，仅限版本18.1及更高版本的服务器）</p>
                                             </li>
                                             <li>
                                                <p>非汇集或专用模式</p>
                                                <div class="p">当客户端没有请求边界信息时，流量控制器模式中的Oracle连接管理器支持许多应用程序的计划中断（只要在请求/事务边界上只需要保留简单的会话状态和游标状态）。这种支持包括：<ul style="list-style-type:disc">
                                                      <li>
                                                         <p>在事务边界处停止服务/ PDB，或者利用Oracle数据库版本18c连续应用程序可用性来停止请求边界处的服务</p>
                                                      </li>
                                                      <li>
                                                         <p>流量控制器模式中的Oracle连接管理器利用透明应用程序故障转移（TAF）故障转移还原来重新连接和还原简单状态。</p>
                                                      </li>
                                                   </ul>
                                                </div>
                                             </li>
                                          </ul>
                                       </div>
                                    </li>
                                    <li>
                                       <p>针对大多数读取工作负载的计划外数据库中断</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <div class="p">流量控制器模式中Oracle Connection Manager的高可用性，以避免单点故障。这得到以下支持：<ul style="list-style-type:disc">
                                    <li>
                                       <p>流量控制器模式中的多个Oracle连接管理器实例，使用连接字符串中的负载平衡器或客户端负载平衡/故障转移</p>
                                    </li>
                                    <li>
                                       <p>在Traffic Director模式实例中滚动升级Oracle Connection Manager</p>
                                    </li>
                                    <li>
                                       <p>针对计划中断，在流量控制器模式下从客户端到Oracle Connection Manager的现有连接的正常关闭</p>
                                    </li>
                                    <li>
                                       <p>带有Oracle数据库版本18c及更高版本客户端的带内通知</p>
                                    </li>
                                    <li>
                                       <p>对于较旧的客户端，通知将与当前请求的响应一起发送</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <div class="p">为了安全性和隔离性，Traffic Director Mode中的Oracle Connection Manager提供：<ul style="list-style-type:disc">
                                    <li>
                                       <p>数据库代理支持传输控制协议/传输控制协议安全（TCP / TCPS）和协议转换</p>
                                    </li>
                                    <li>
                                       <p>防火墙基于IP地址，服务名称和安全套接字层/传输层安全性（SSL / TLS）钱包</p>
                                    </li>
                                    <li>
                                       <p>多租户环境中的租户隔离</p>
                                    </li>
                                    <li>
                                       <p>防止拒绝服务和模糊测试攻击</p>
                                    </li>
                                    <li>
                                       <p>跨Oracle数据库本地和Oracle Cloud安全地隧道传输数据库流量</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__GUID-A2DD3A99-8792-4704-A482-B66B30AD1B85">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关配置<code class="codeph">cman.ora</code>配置文件以在Traffic Director模式下设置Oracle Connection Manager的信息，请<code class="codeph">cman.ora</code> <a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-58847B76-3836-41DB-9EB6-A81D5C397024" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> ，了解有关在Traffic Director模式代理身份验证中为Oracle Connection Manager配置数据库的信息</p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-96FA23BA-F32B-4D47-9CBB-69D27E8D94F6" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> ，了解有关在流量控制器模式下为计划外停机事件配置Oracle Connection Manager的信息</p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-E73658E7-BBF7-4C13-AAD5-70D32062AD8D" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> ，了解有关在Traffic Director模式下为计划的关闭事件配置Oracle Connection Manager的信息</p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-15756B12-5ED5-4EDE-9D4B-6B890D5BE9AF" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”，</cite></span></a>以获取有关在流量控制器模式下配置Oracle Connection Manager使用的代理驻留连接池的信息</p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-FC833F8F-CE5A-4C02-A962-244954158853" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> ，了解有关在流量控制器模式下使用Oracle Connection Manager的所有驱动程序不支持的功能的信息</p>
                           </li>
                           <li>
                              <p><a href="../netrf/index.html" target="_blank"><span><cite>Oracle Database Net Services参考</cite></span></a> ，以获取Oracle CMAN配置文件的概述</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="13528.configuring-xstream-in.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can configure the Oracle Database components that are used by XStream."></meta>
      <meta name="description" content="You can configure the Oracle Database components that are used by XStream."></meta>
      <title>配置XStream</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="XStream Guide "></meta>
      <meta property="og:description" content="You can configure the Oracle Database components that are used by XStream."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="XStream Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xstream-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:45:15-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2009, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96280-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="xstream-in-concepts.html" title="Previous" type="text/html"></link>
      <link rel="next" href="managing-xstream-in.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XStream Guide"></meta>
    <meta name="dcterms.isVersionOf" content="XSTRM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="xstream-in-concepts.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="managing-xstream-in.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">XStream指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="xstream-in.html" property="item" typeof="WebPage"><span property="name">XStream In</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置XStream</li>
            </ol>
            <a id="GUID-B0F20D2D-7F63-4CE6-B15F-435B5A3DFBED" name="GUID-B0F20D2D-7F63-4CE6-B15F-435B5A3DFBED"></a><a id="XSTRM72713"></a>
            
            <h2 id="XSTRM-GUID-B0F20D2D-7F63-4CE6-B15F-435B5A3DFBED" class="sect2"><span class="enumeration_chapter">9</span>配置XStream</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以配置XStream使用的Oracle数据库组件。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="configuring-xstream-in.html#GUID-46DD1410-EDB2-447B-BF02-350CEED7C088">为XStream做准备</a><br>在配置XStream In之前必须满足先决条件。
                  </li>
                  <li class="ulchildlink"><a href="configuring-xstream-in.html#GUID-AB865A69-45EE-4B21-939F-BFE15EF28AF1">配置XStream</a><br>该<code class="codeph">CREATE_INBOUND</code>在程序<code class="codeph">DBMS_XSTREAM_ADM</code>包创建入站服务器。您必须创建与入站服务器通信的客户端应用程序，并将LCR发送到入站服务器。
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-B0F20D2D-7F63-4CE6-B15F-435B5A3DFBED__GUID-5120B758-AC87-4676-B229-E3C7675F37C2">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="xstream-out-concepts.html#GUID-B59B1F79-91F6-4495-B946-5DCEB317E0D6" title="熟悉与XStream Out相关的概念。">XStream Out Concepts</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="introduction-to-xstream.html#GUID-21FC23DF-2881-4CFD-AF74-9A1173D768FF" title="有几种常见的XStream用例。">XStream用例</a> ”</span></p>
                     </li>
                     <li>
                        <p><a href="../lnoci/intro-to-oci-interface-for-XStream.html#LNOCI72903" target="_blank"><span><cite>Oracle调用接口程序员指南</cite></span></a></p>
                     </li>
                     <li>
                        <p><a href="../stxjv/index.html" target="_blank"><span><cite>Oracle数据库XStream Java API参考</cite></span></a></p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="xstream-in.html#GUID-D7F5E262-D5D6-4286-95CD-E69FFB8DAAAE" title="您可以配置和管理XStream In环境。">XStream In</a></p>
                  </div>
               </div>
            </div>
            <a id="XSTRM1502"></a><div class="props_rev_3"><a id="GUID-46DD1410-EDB2-447B-BF02-350CEED7C088" name="GUID-46DD1410-EDB2-447B-BF02-350CEED7C088"></a><h3 id="XSTRM-GUID-46DD1410-EDB2-447B-BF02-350CEED7C088" class="sect3"><span class="enumeration_section">9.1</span>准备XStream In</h3>
               <p>在配置XStream In之前必须满足先决条件。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-xstream-in.html#GUID-445DEEE0-6449-490B-8264-87CDB0183E1F">配置XStream管理员</a><br>XStream管理员在XStream In环境中配置和管理XStream组件。
                     </li>
                     <li class="ulchildlink"><a href="configuring-xstream-in.html#GUID-87F931F3-1D62-44B7-BCAD-240CA24EA4A9">设置相关初始化参数</a><br>某些初始化参数对于XStream入站服务器的配置，操作，可靠性和性能很重要。适当地设置这些参数。
                     </li>
                     <li class="ulchildlink"><a href="configuring-xstream-in.html#GUID-75239A64-29D2-4364-9F8D-2E6CF7156E9C">配置Streams池</a><br>Streams池是系统全局区域（SGA）中的一部分内存，Oracle Replication和XStream组件都使用它。Streams池将缓冲的队列LCR存储在内存中，并为入站服务器提供内存。
                     </li>
                     <li class="ulchildlink"><a href="configuring-xstream-in.html#GUID-E1D311AD-9B1C-49B5-B6AE-59A49C15B996">如果需要，请在源数据库中指定补充日志记录</a><br>在XStream配置中，入站服务器在XStream Out配置中应用捕获进程捕获的更改，源数据库可能需要在入站服务器应用更改的表中的列上进行补充日志记录。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-xstream-in.html#GUID-B0F20D2D-7F63-4CE6-B15F-435B5A3DFBED" title="您可以配置XStream使用的Oracle数据库组件。">配置XStream In</a></p>
                     </div>
                  </div>
               </div>
               <a id="XSTRM72880"></a><a id="XSTRM72881"></a><a id="XSTRM73006"></a><a id="XSTRM73007"></a><a id="XSTRM73008"></a><a id="XSTRM73009"></a><a id="XSTRM73010"></a><a id="XSTRM1564"></a><div class="props_rev_3"><a id="GUID-445DEEE0-6449-490B-8264-87CDB0183E1F" name="GUID-445DEEE0-6449-490B-8264-87CDB0183E1F"></a><h4 id="XSTRM-GUID-445DEEE0-6449-490B-8264-87CDB0183E1F" class="sect4"><span class="enumeration_section">9.1.1</span>配置XStream管理员</h4>
                  <div>
                     <p>XStream管理员在XStream In环境中配置和管理XStream组件。</p>
                     <div class="section">
                        <p>您可以通过向用户授予适当的权限来配置XStream管理员。您必须在XStream配置中包含的每个Oracle数据库中配置XStream管理员。</p>
                        <p>如果要在多租户容器数据库（CDB）中配置XStream In，请在将运行入站服务器的容器中配置XStream管理员。此容器可以是CDB根，可插拔数据库（PDB），应用程序根或应用程序PDB。有关在CDB中使用XStream In的信息，请参阅<span class="q">“ <a href="xstream-in-concepts.html#GUID-4E7FDA7C-002C-41D3-8E7C-2918913C2B13" title="多租户环境使Oracle数据库能够包含一组可移植的模式，对象和相关结构，这些模式在逻辑上作为单独的数据库出现在应用程序中。">XStream In和多租户环境</a> ”</span> 。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-445DEEE0-6449-490B-8264-87CDB0183E1F__GUID-347822EB-B44B-4BFD-83D2-2B0A0A2B683B">先决条件</p>
                     </div>
                     <!-- class="section" -->
                     <div class="p">
                        <p>在配置XStream管理员之前，请确保满足以下先决条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>确保您可以作为可以创建用户，授予权限和创建表空间的管理用户登录XStream配置中的每个数据库。</p>
                           </li>
                           <li>
                              <p>确定可信用户模型和不受信任的用户模型之间的安全性。有关更多信息，请参见<span class="q">“ <a href="introduction-to-xstream.html#GUID-E7C2EC43-186F-4163-AAEB-1D119C9D1DF1" title="使用XStream，您可以实施最符合组织要求的安全模型。">XStream安全模型</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>确定将成为XStream管理员的用户。创建具有适当权限的新用户或将这些权限授予现有用户。</p>
                              <p>不要将<code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code>用户用作XStream管理员，并确保XStream管理员不使用<code class="codeph">SYSTEM</code>表空间作为其默认表空间。
                              </p>
                           </li>
                           <li>
                              <p>如果XStream管理员需要新的表空间，请确保表空间的XStream配置中的每个计算机系统上都有足够的磁盘空间。表空间的建议大小为25 MB。</p>
                           </li>
                           <li>
                              <p>执行<code class="codeph">DBMS_XSTREAM_AUTH</code>包中的子程序的用户必须具有<code class="codeph">SYSDBA</code>管理权限，并且用户必须在连接时使用<code class="codeph">AS SYSDBA</code>行使权限。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-445DEEE0-6449-490B-8264-87CDB0183E1F__GUID-C34BA607-2EF9-485B-83B2-9543B8126E1C">假设</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>本节做出以下假设：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>对于非CDB，XStream管理员的用户名是<code class="codeph">xstrmadmin</code> 。在CDB中，当XStream管理员是普通用户时，XStream管理员的用户名是<code class="codeph">c##xstrmadmin</code> 。当CDB中的XStream管理员是容器中的本地用户时，XStream管理员的用户名是<code class="codeph">xstrmadmin</code> 。
                              </p>
                           </li>
                           <li>
                              <p>XStream管理员使用的表空间是<code class="codeph">xstream_tbs</code> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-445DEEE0-6449-490B-8264-87CDB0183E1F__GUID-7178ABA4-088D-45B4-A1AE-68A0C1FC4449">配置XStream管理员：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，以管理用户身份进行连接，该用户可以创建用户，授予权限和创建表空间。对于所有后续步骤，作为此管理用户保持连接。</p>
                              <div class="infoboxnotealso" id="GUID-445DEEE0-6449-490B-8264-87CDB0183E1F__GUID-E5C20EDE-33AB-4E70-A1C3-35454C80704B">
                                 <p class="notep1">也可以看看：</p>
                                 <p>有关在SQL * Plus中连接数据库的信息，请参见<a href="../admin/index.html" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                              </div>
                           </li>
                           <li>
                              <p>为XStream管理员创建表空间或使用现有表空间。</p>
                              <p>此表空间存储在XStream管理员架构中创建的所有对象。</p>
                              <p>例如，以下语句为XStream管理员创建新的表空间：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE xstream_tbs DATAFILE'/ usr / oracle / dbs / xstream_tbs.dbf'SIZE 25M REUSE AUTOEXTEND MAXSIZE UNLIMITED;</pre><p>如果要将XStream管理员创建为CDB中的公共用户，则必须在CDB根目录和所有容器中创建表空间。所有容器都需要表空间，因为普通用户必须能够访问任何容器中的表空间。</p>
                           </li>
                           <li>
                              <p>创建新用户以充当XStream管理员或标识现有用户。</p>
                              <p>例如，要创建名为<code class="codeph">xstrmadmin</code>的用户并指定此用户使用<code class="codeph">xstream_tbs</code>表空间，请运行以下语句：</p><pre class="oac_no_warn" dir="ltr">CREATE USER xstrmadmin IDENTIFIED BY <span class="italic">password</span> DEFAULT TABLESPACE xstream_tbs QUOTA UNLIMITED on xstream_tbs;</pre><p>如果要在CDB中创建XStream管理员且入站服务器位于CDB根目录中，则XStream管理员必须是普通用户。</p>
                              <p>如果要在CDB中创建XStream管理员，并且入站服务器位于PDB，应用程序根目录或应用程序PDB中，则XStream管理员可以是普通用户或本地用户。Oracle建议将公共用户配置为XStream管理员，即使入站服务器位于CDB根目录以外的容器中也是如此。</p>
                              <p>要创建公共用户，请在当前容器为CDB根目录时在<code class="codeph">CREATE</code> <code class="codeph">USER</code>语句中包含<code class="codeph">CONTAINER=ALL</code>子句：</p><pre class="oac_no_warn" dir="ltr">CREATE USER c ## xstrmadmin IDENTIFIED BY <span class="italic">password</span> DEFAULT TABLESPACE xstream_tbs QUOTA UNLIMITED ON xstream_tbs CONTAINER = ALL;</pre><div class="infoboxnote" id="GUID-445DEEE0-6449-490B-8264-87CDB0183E1F__GUID-14624C2C-9B33-44D3-BCAE-A1CD71E54095">
                                 <p class="notep1">注意：</p>
                                 <p>为管理用户输入适当的密码。</p>
                              </div>
                              <div class="infoboxnotealso" id="GUID-445DEEE0-6449-490B-8264-87CDB0183E1F__GUID-85C111D8-3346-4140-AEA2-96E80B8C3DE9">
                                 <p class="notep1">也可以看看：</p>
                                 <p>有关选择密码的<a href="../dbseg/configuring-authentication.html#DBSEG33223" target="_blank"><span><cite>指南</cite></span></a> ，请参阅“ <a href="../dbseg/configuring-authentication.html#DBSEG33223" target="_blank"><span><cite>Oracle数据库安</cite></span></a></p>
                              </div>
                           </li>
                           <li>
                              <p>将<code class="codeph">CREATE</code> <code class="codeph">SESSION</code>权限授予XStream管理员。
                              </p>
                              <p>如果您创建了一个新用户以充当XStream管理员，则授予此用户<code class="codeph">CREATE</code> <code class="codeph">SESSION</code>权限。
                              </p>
                              <p>例如，要将<code class="codeph">CREATE</code> <code class="codeph">SESSION</code>权限授予用户<code class="codeph">xstrmadmin</code> ，请运行以下语句：</p><pre class="oac_no_warn" dir="ltr">授予xstrmadmin创建会话;</pre><p>如果要将XStream管理员创建为CDB中的公共用户，则将XATE管理员的<code class="codeph">CREATE</code> <code class="codeph">SESSION</code>权限和<code class="codeph">SET</code> <code class="codeph">CONTAINER</code>权限授予，并在语句中包含<code class="codeph">CONTAINER=ALL</code>子句。
                              </p>
                              <p>例如，要将这些权限授予CDB中的用户<code class="codeph">xstrmadmin</code> ，请运行以下语句：</p><pre class="oac_no_warn" dir="ltr">GRANT CREATE SESSION，SET CONTAINER to c ## xstrmadmin CONTAINER = ALL;</pre></li>
                           <li>
                              <p>在<code class="codeph">DBMS_XSTREAM_AUTH</code>包中运行<code class="codeph">GRANT_ADMIN_PRIVILEGE</code>过程。
                              </p>
                              <p>用户必须已明确授予程序包的<code class="codeph">EXECUTE</code>特权才能在用户创建的子程序内执行程序包中的子程序，并且用户必须对数据字典视图具有显式的<code class="codeph">READ</code>或<code class="codeph">SELECT</code>权限才能查询用户内部的视图 - 创建的子程序。无法通过角色授予这些权限。您可以运行<code class="codeph">GRANT_ADMIN_PRIVILEGE</code>过程以向XStream管理员授予此类权限，也可以直接授予它们。
                              </p>
                              <p>根据<code class="codeph">GRANT_ADMIN_PRIVILEGE</code>过程的参数设置，它可以为受信任或不受信任的XStream管理员授予适当的权限，并且可以在非CDB或CDB中授予权限。 <a href="configuring-xstream-in.html#GUID-445DEEE0-6449-490B-8264-87CDB0183E1F__CEGCDGAD" title="此表根据正在配置的XStream管理员类型显示每个参数所需的设置。">表9-1</a>描述了每种情况的关键参数设置。
                              </p>
                              <div class="tblformal" id="GUID-445DEEE0-6449-490B-8264-87CDB0183E1F__CEGCDGAD">
                                 <p class="titleintable">表9-1 GRANT_ADMIN_PRIVILEGE的关键参数设置</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="GRANT_ADMIN_PRIVILEGE的关键参数设置" width="90%" border="1" summary="This table shows the required setting for each parameter based on the type XStream administrator being configured." frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="31%" id="d47427e662">XStream管理员的类型</th>
                                          <th align="left" valign="bottom" width="34%" id="d47427e665">grant_select_privileges参数设置</th>
                                          <th align="left" valign="bottom" width="34%" id="d47427e668">容器参数设置</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="31%" id="d47427e673" headers="d47427e662 ">
                                             <p>在非CDB中受信任</p>
                                          </td>
                                          <td align="left" valign="top" width="34%" headers="d47427e673 d47427e665 ">
                                             <p><code class="codeph">真正</code></p>
                                          </td>
                                          <td align="left" valign="top" width="34%" headers="d47427e673 d47427e668 ">
                                             <p><code class="codeph">CURRENT</code> （默认）</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="31%" id="d47427e686" headers="d47427e662 ">
                                             <p>在非CDB中不受信任</p>
                                          </td>
                                          <td align="left" valign="top" width="34%" headers="d47427e686 d47427e665 ">
                                             <p><code class="codeph">FALSE</code> （默认）</p>
                                          </td>
                                          <td align="left" valign="top" width="34%" headers="d47427e686 d47427e668 ">
                                             <p><code class="codeph">CURRENT</code> （默认）</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="31%" id="d47427e700" headers="d47427e662 ">
                                             <p>在CDB中受信任</p>
                                          </td>
                                          <td align="left" valign="top" width="34%" headers="d47427e700 d47427e665 ">
                                             <p><code class="codeph">真正</code></p>
                                          </td>
                                          <td align="left" valign="top" width="34%" headers="d47427e700 d47427e668 ">
                                             <p><code class="codeph">ALL</code>或<code class="codeph">CURRENT</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="31%" id="d47427e715" headers="d47427e662 ">
                                             <p>不受信任的CDB</p>
                                          </td>
                                          <td align="left" valign="top" width="34%" headers="d47427e715 d47427e665 ">
                                             <p><code class="codeph">FALSE</code> （默认）</p>
                                          </td>
                                          <td align="left" valign="top" width="34%" headers="d47427e715 d47427e668 ">
                                             <p><code class="codeph">ALL</code>或<code class="codeph">CURRENT</code></p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                              <div class="infoboxnote" id="GUID-445DEEE0-6449-490B-8264-87CDB0183E1F__GUID-1316BE98-C028-4802-805F-D4DFF2617C30">
                                 <p class="notep1">注意：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>对于任何方案，当XStream管理员必须同时管理数据库上的XStream Out和XStream In配置时，请为<code class="codeph">privilege_type</code>参数指定<code class="codeph">*</code> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p>在CDB中，当为<code class="codeph">container</code>参数指定<code class="codeph">ALL</code>时，当前容器必须是CDB根（ <code class="codeph">CDB$ROOT</code> ）。
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                              <div class="infoboxnotealso" id="GUID-445DEEE0-6449-490B-8264-87CDB0183E1F__GUID-80D6EA59-6260-4643-AD0E-9A07F4B3E924">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="../arpls/DBMS_XSTREAM_AUTH.html#ARPLS73653" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                              </div>
                           </li>
                           <li>
                              <p>如有必要，请为XStream管理员授予其他权限。</p>
                              <p>请参阅<span class="q">“ <a href="configuring-xstream-in.html#GUID-B3CD06A1-D923-4A30-9B03-71AA8CA6020C" title="XStream管理员可能需要其他权限。">向XStream管理员授予其他权限</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>在将使用XStream的环境中的每个Oracle数据库重复上述所有步骤。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-445DEEE0-6449-490B-8264-87CDB0183E1F__GUID-3AFF5175-F821-4F1A-A316-64A45DD76703">
                        <p class="titleinexample">示例9-1在不生成脚本的情况下向非CDB中的受信任XStream管理员授予权限</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_XSTREAM_AUTH.GRANT_ADMIN_PRIVILEGE（grantee =&gt;'xstrmadmin'，privilege_type =&gt;'APPLY'，grant_select_privileges =&gt; TRUE）;结束; /</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-445DEEE0-6449-490B-8264-87CDB0183E1F__GUID-C0EC60C2-38AF-47C1-BD6E-2F15A59873E1">
                        <p class="titleinexample">示例9-2向非CDB中的受信任XStream管理员授予权限并生成脚本</p>
                        <p><code class="codeph">directory_name</code>参数中指定的<code class="codeph">directory_name</code>必须存在且必须可供当前用户访问。
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_XSTREAM_AUTH.GRANT_ADMIN_PRIVILEGE（grantee =&gt;'xstrmadmin'，privilege_type =&gt;'APPLY'，grant_select_privileges =&gt; TRUE，do_grants =&gt; TRUE，file_name =&gt;'grant_xstrm_privs.sql'，directory_name =&gt;'xstrm_dir'）;结束; /</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-445DEEE0-6449-490B-8264-87CDB0183E1F__GUID-4059702A-87BF-4E46-80EE-62D5DBD0A020">
                        <p class="titleinexample">示例9-3在不生成脚本的情况下向非CDB中的不受信任的XStream管理员授予权限</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_XSTREAM_AUTH.GRANT_ADMIN_PRIVILEGE（grantee =&gt;'xstrmadmin'，privilege_type =&gt;'APPLY'，grant_select_privileges =&gt; FALSE）;结束; /</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-445DEEE0-6449-490B-8264-87CDB0183E1F__GUID-68E6ED7C-E927-4999-86A1-297E00B582EA">
                        <p class="titleinexample">示例9-4在不生成脚本的情况下向CDB中的受信任XStream管理员授予权限</p>
                        <p>在此示例中，XStream管理员是普通用户。</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_XSTREAM_AUTH.GRANT_ADMIN_PRIVILEGE（grantee =&gt;'c ## xstrmadmin'，privilege_type =&gt;'APPLY'，grant_select_privileges =&gt; TRUE，container =&gt;'ALL'）;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-xstream-in.html#GUID-B3CD06A1-D923-4A30-9B03-71AA8CA6020C">向XStream管理员授予其他权限</a><br>XStream管理员可能需要其他权限。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-xstream-in.html#GUID-46DD1410-EDB2-447B-BF02-350CEED7C088" title="在配置XStream In之前必须满足先决条件。">准备XStream In</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="XSTRM72983"></a><div class="props_rev_3"><a id="GUID-B3CD06A1-D923-4A30-9B03-71AA8CA6020C" name="GUID-B3CD06A1-D923-4A30-9B03-71AA8CA6020C"></a><h5 id="XSTRM-GUID-B3CD06A1-D923-4A30-9B03-71AA8CA6020C" class="sect5"><span class="enumeration_section">9.1.1.1</span>向XStream管理员授予其他权限</h5>
                     <div>
                        <p>XStream管理员可能需要其他权限。</p>
                        <div class="section">
                           <p>如有必要，请向XStream管理员授予以下任何其他权限：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果您计划使用Oracle Enterprise Manager Cloud Control来管理具有XStream组件的数据库，则必须信任XStream管理员，并且必须授予其<code class="codeph">DBA</code>角色。您还必须将XStream管理员配置为Oracle Enterprise Manager管理用户。这样做可以授予Oracle Enterprise Manager Cloud Control所需的其他权限，例如运行Oracle Enterprise Manager Cloud Control作业所需的权限。有关创建Oracle Enterprise Manager管理用户的信息，请参阅Oracle Enterprise Manager Cloud Control联机帮助。
                                 </p>
                              </li>
                              <li>
                                 <p>如果没有为入站服务器指定应用用户，则授予XStream管理员必要的权限，以对其他用户拥有的应用对象执行DML和DDL更改。如果指定了apply用户，则apply用户必须具有这些权限。可以直接或通过角色授予这些权限。</p>
                              </li>
                              <li>
                                 <p>如果没有为入站服务器指定apply应用程序，则为入站服务器<code class="codeph">EXECUTE</code>的另一个用户拥有的任何PL / SQL子程序授予XStream管理员<code class="codeph">EXECUTE</code>特权。这些子程序可用于应用处理程序或错误处理程序。如果指定了apply用户，则apply用户必须具有这些权限。必须直接授予这些权限。他们不能通过角色授予。
                                 </p>
                              </li>
                              <li>
                                 <p>为在入站服务器使用的规则的基于规则的自定义转换中指定的另一个用户拥有的任何PL / SQL函数授予XStream管理员<code class="codeph">EXECUTE</code>特权。对于入站服务器，如果指定了应用用户，则应用用户必须具有这些权限。必须直接授予这些权限。他们不能通过角色授予。
                                 </p>
                              </li>
                              <li>
                                 <p>如果XStream管理员不拥有入站服务器使用的队列，并且在创建队列时未指定为队列的队列用户，则必须将XStream管理员配置为队列的安全队列用户（如果需要） XStream管理员能够将LCR排入队列中或将队列中的LCR排队。XStream管理员可能还需要队列上的<code class="codeph">ENQUEUE</code>或<code class="codeph">DEQUEUE</code>权限，或两者都需要。
                                 </p>
                              </li>
                              <li>
                                 <p>为XStream管理员可能需要访问的任何对象类型授予XStream管理员<code class="codeph">EXECUTE</code>特权。可以直接或通过角色授予这些权限。
                                 </p>
                              </li>
                              <li>
                                 <p>如果您使用的是Oracle Database Vault，则需要以下附加权限：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>必须授权入站服务器的应用用户将更改应用于包含复制数据库对象的域。复制的数据库对象是入站服务器应用的对象更改。</p>
                                       <p>要为领域授权应用用户，请运行<code class="codeph">DVSYS.DBMS_MACADM.ADD_AUTH_TO_REALM</code>过程并指定领域和应用用户。例如，要授权将用户<code class="codeph">xstrmadmin</code>应用于<code class="codeph">sales</code>领域，请运行以下过程：</p><pre class="oac_no_warn" dir="ltr">BEGIN DVSYS.DBMS_MACADM.ADD_AUTH_TO_REALM（realm_name =&gt;'sales'，grantee =&gt;'xstrmadmin'）;结束; /</pre></li>
                                    <li>
                                       <p>必须为创建或更改入站服务器的<code class="codeph">USER</code>授予<code class="codeph">BECOME</code> <code class="codeph">USER</code>系统特权。
                                       </p>
                                       <p>如果未安装Oracle Database Vault，则不需要向执行这些操作的用户授予<code class="codeph">BECOME</code> <code class="codeph">USER</code>系统特权。如有必要，您可以在完成其中一个操作后撤消<code class="codeph">USER</code>的<code class="codeph">BECOME</code> <code class="codeph">USER</code>系统特权。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B3CD06A1-D923-4A30-9B03-71AA8CA6020C__GUID-8E316BB3-F8D8-4031-A220-F26E09703FEB">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../dvadm/index.html" target="_blank"><span><cite>Oracle Database Vault管理员指南</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-xstream-in.html#GUID-445DEEE0-6449-490B-8264-87CDB0183E1F" title="XStream管理员在XStream In环境中配置和管理XStream组件。">配置XStream管理员</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="XSTRM1565"></a><div class="props_rev_3"><a id="GUID-87F931F3-1D62-44B7-BCAD-240CA24EA4A9" name="GUID-87F931F3-1D62-44B7-BCAD-240CA24EA4A9"></a><h4 id="XSTRM-GUID-87F931F3-1D62-44B7-BCAD-240CA24EA4A9" class="sect4"><span class="enumeration_section">9.1.2</span>设置相关的初始化参数</h4>
                  <div>
                     <p>某些初始化参数对于XStream入站服务器的配置，操作，可靠性和性能很重要。适当地设置这些参数。</p>
                     <div class="section">
                        <p>以下要求适用于XStream入站服务器：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>确保<code class="codeph">PROCESSES</code>初始化参数设置为足以容纳入站服务器后台进程和所有其他Oracle数据库后台进程的值。
                              </p>
                           </li>
                           <li>
                              <p>确保将<code class="codeph">SESSIONS</code>初始化参数设置为足够大的值，以容纳入站服务器后台进程和所有其他Oracle数据库会话使用的会话。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-xstream-in.html#GUID-46DD1410-EDB2-447B-BF02-350CEED7C088" title="在配置XStream In之前必须满足先决条件。">准备XStream In</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM1566"></a><div class="props_rev_3"><a id="GUID-75239A64-29D2-4364-9F8D-2E6CF7156E9C" name="GUID-75239A64-29D2-4364-9F8D-2E6CF7156E9C"></a><h4 id="XSTRM-GUID-75239A64-29D2-4364-9F8D-2E6CF7156E9C" class="sect4"><span class="enumeration_section">9.1.3</span>配置Streams池</h4>
                  <div>
                     <p>Streams池是系统全局区域（SGA）中的一部分内存，Oracle Replication和XStream组件都使用它。Streams池将缓冲的队列LCR存储在内存中，并为入站服务器提供内存。</p>
                     <div class="section">
                        <p>以下是配置Streams池的注意事项：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Streams池至少需要300 MB的内存。</p>
                           </li>
                           <li>
                              <p>最佳做法是将<code class="codeph">STREAMS_POOL_SIZE</code>初始化参数显式设置为所需的Streams池大小。
                              </p>
                           </li>
                           <li>
                              <p>配置XStream In后，可以使用<code class="codeph">max_sga_size</code> apply参数来控制专门分配给入站服务器的SGA内存量。
                              </p>
                           </li>
                           <li>
                              <p>确保每个数据库的Streams池中有足够的空间来运行XStream组件并存储LCR并正确运行组件。</p>
                           </li>
                           <li>
                              <p>Streams池在第一次启动入站服务器时初始化。</p>
                           </li>
                        </ul>
                        <p>如果满足以下条件，则Streams池大小是<code class="codeph">STREAMS_POOL_SIZE</code>参数指定的值（以字节为单位）：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>的<code class="codeph">MEMORY_TARGET</code> ， <code class="codeph">MEMORY_MAX_TARGET</code>和<code class="codeph">SGA_TARGET</code>初始化参数都被设定为<code class="codeph">0</code> （零）。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">STREAMS_POOL_SIZE</code>初始化参数设置为非零值。
                              </p>
                           </li>
                        </ul>
                        <p>满足以下条件时，自动共享内存管理功能会自动管理Streams池的大小：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>的<code class="codeph">MEMORY_TARGET</code>和<code class="codeph">MEMORY_MAX_TARGET</code>初始化参数都被设置为<code class="codeph">0</code> （零）。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SGA_TARGET</code>初始化参数设置为非零值。
                              </p>
                           </li>
                        </ul>
                        <p>如果使用自动共享内存管理，并且<code class="codeph">STREAMS_POOL_SIZE</code>初始化参数也设置为非零值，则自动共享内存管理将此值用作Oracle Replication池的最小值。如果您的环境需要Oracle Replication池中的最小内存量才能正常运行，则可以设置最小大小。要查看通过自动共享内存管理分配给Oracle Replication池的当前内存，请查询<code class="codeph">V$SGA_DYNAMIC_COMPONENTS</code>视图。此外，您可以查询<code class="codeph">V$STREAMS_POOL_STATISTICS</code>视图以查看Oracle Replication池的当前使用情况。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-75239A64-29D2-4364-9F8D-2E6CF7156E9C__GUID-C446883D-0EBA-42C5-BF1B-8AC0B672F112">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">max_sga_size</code> apply参数的详细信息，请<code class="codeph">max_sga_size</code> <a href="../arpls/DBMS_APPLY_ADM.html#ARPLS314" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-memory.html#ADMIN00207" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../refrn/SGA_TARGET.html#REFRN10256" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-xstream-in.html#GUID-46DD1410-EDB2-447B-BF02-350CEED7C088" title="在配置XStream In之前必须满足先决条件。">准备XStream In</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM73028"></a><div class="props_rev_3"><a id="GUID-E1D311AD-9B1C-49B5-B6AE-59A49C15B996" name="GUID-E1D311AD-9B1C-49B5-B6AE-59A49C15B996"></a><h4 id="XSTRM-GUID-E1D311AD-9B1C-49B5-B6AE-59A49C15B996" class="sect4"><span class="enumeration_section">9.1.4</span>如果需要，请在源数据库中指定补充日志记录</h4>
                  <div>
                     <p>在XStream配置中，入站服务器在XStream Out配置中应用捕获进程捕获的更改，源数据库可能需要在入站服务器应用更改的表中的列上进行补充日志记录。</p>
                     <div class="section">
                        <p>所需的补充日志记录取决于您创建的入站服务器的配置。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E1D311AD-9B1C-49B5-B6AE-59A49C15B996__GUID-CBFF674C-6A35-493C-A9EA-74DBAF6AADB8">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="configuring-xstream-out.html#GUID-56F322CB-1598-4FC8-92D9-A14CD4F7971B" title="使用捕获过程捕获更改时，必须为源数据库中的某些列指定补充日志记录，以更改要在目标数据库中成功应用的列。">如果需要，请配置补充日志记录</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-xstream-in.html#GUID-46DD1410-EDB2-447B-BF02-350CEED7C088" title="在配置XStream In之前必须满足先决条件。">准备XStream In</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="XSTRM72593"></a><a id="XSTRM72594"></a><a id="XSTRM72714"></a><a id="XSTRM1501"></a><div class="props_rev_3"><a id="GUID-AB865A69-45EE-4B21-939F-BFE15EF28AF1" name="GUID-AB865A69-45EE-4B21-939F-BFE15EF28AF1"></a><h3 id="XSTRM-GUID-AB865A69-45EE-4B21-939F-BFE15EF28AF1" class="sect3"><span class="enumeration_section">9.2</span>配置XStream</h3>
               <div>
                  <p>该<code class="codeph">CREATE_INBOUND</code>在程序<code class="codeph">DBMS_XSTREAM_ADM</code>包创建入站服务器。您必须创建与入站服务器通信的客户端应用程序，并将LCR发送到入站服务器。
                  </p>
                  <div class="section">
                     <p>XStream In配置中的入站服务器从客户端应用程序接收更改流。入站服务器可以将这些更改应用于Oracle数据库中的数据库对象，也可以以自定义方式处理更改。客户端应用程序可以附加到入站服务器，并使用OCI或Java接口发送封装在LCR中的行更改和DDL更改。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AB865A69-45EE-4B21-939F-BFE15EF28AF1__GUID-54B9A68D-44ED-4ECB-A552-BB74EACE33D6">先决条件</p>
                  </div>
                  <!-- class="section" -->
                  <div class="p">
                     <p>在配置XStream In之前，请确保满足以下先决条件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>完成<span class="q">“ <a href="configuring-xstream-in.html#GUID-46DD1410-EDB2-447B-BF02-350CEED7C088" title="在配置XStream In之前必须满足先决条件。">准备XStream In</a> ”中</span>描述的任务。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AB865A69-45EE-4B21-939F-BFE15EF28AF1__GUID-2A47E5F5-CEC6-4F5B-AC36-17A0468C3308">配置中的示例XStream的假设</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>本节做出以下假设：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>入站服务器的名称是<code class="codeph">xin</code> 。
                           </p>
                        </li>
                        <li>
                           <p>入站服务器应用从XStream客户端应用程序接收的所有更改。</p>
                        </li>
                        <li>
                           <p>入站服务器使用的队列是<code class="codeph">xstrmadmin.xin_queue</code> 。
                           </p>
                        </li>
                     </ul>
                     <p><a href="configuring-xstream-in.html#GUID-AB865A69-45EE-4B21-939F-BFE15EF28AF1__CEGEAGCJ">图9-1</a>提供了此XStream In配置的概述。
                     </p>
                     <div class="figure" id="GUID-AB865A69-45EE-4B21-939F-BFE15EF28AF1__CEGEAGCJ">
                        <p class="titleinfigure">图9-1配置中的XStream示例</p><img src="img/xstrm072.gif" width="359" alt="下面是图9-1的描述" title="下面是图9-1的描述" longdesc="img_text/xstrm072.html"><br><a href="img_text/xstrm072.html">“图9-1配置中的XStream示例”的说明</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AB865A69-45EE-4B21-939F-BFE15EF28AF1__GUID-AAD41381-7422-4167-8264-7AED74689E79">要创建入站服务器：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus中，连接到将以XStream管理员身份运行入站服务器的数据库。</p>
                           <p>如果要在CDB中配置XStream In，则连接到将应用入站服务器的容器更改。容器可以是CDB根，PDB，应用程序根或应用程序PDB。入站服务器只能在其自己的容器中应用更改。</p>
                           <div class="infoboxnotealso" id="GUID-AB865A69-45EE-4B21-939F-BFE15EF28AF1__GUID-A6EB22AE-9292-4446-83A3-A10BCA537E73">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关在SQL * Plus中连接数据库的信息，请参见<a href="../admin/index.html" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                                 </li>
                                 <li>
                                    <p>有关在SQL * Plus中连接到CDB中的容器的信息，请参阅<a href="../multi/administering-a-cdb-with-sql-plus.html#ADMIN13607" target="_blank"><span><cite>“Oracle Multitenant管理员指南”</cite></span></a></p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="xstream-in-concepts.html#GUID-4E7FDA7C-002C-41D3-8E7C-2918913C2B13" title="多租户环境使Oracle数据库能够包含一组可移植的模式，对象和相关结构，这些模式在逻辑上作为单独的数据库出现在应用程序中。">XStream In和多租户环境</a> ”</span> ，了解有关在CDB中使用XStream In的信息</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>运行<code class="codeph">CREATE_INBOUND</code>过程。
                           </p>
                           <p>例如，以下<code class="codeph">CREATE_INBOUND</code>过程配置名为<code class="codeph">xin</code>的入站服务器：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_XSTREAM_ADM.CREATE_INBOUND（server_name =&gt;'xin'，queue_name =&gt;'xin_queue'）;结束; /</pre><p>运行此过程将执行以下操作：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>创建名为<code class="codeph">xin</code>的入站服务器。
                                 </p>
                              </li>
                              <li>
                                 <p>将名为<code class="codeph">xin_queue</code>的队列设置为入站服务器的队列，如果该队列不存在，则创建该队列。此队列不存储客户端应用程序发送的LCR。相反，如果LCR引发错误，队列将存储错误事务。当前用户是队列所有者。在此示例中，当前用户是XStream管理员。
                                 </p>
                              </li>
                              <li>
                                 <p>将当前用户设置为入站服务器的应用用户。在此示例中，当前用户是XStream管理员。客户端应用程序必须以apply用户身份连接到数据库才能与入站服务器进行交互。</p>
                              </li>
                           </ul>
                           <div class="infobox-tip" id="GUID-AB865A69-45EE-4B21-939F-BFE15EF28AF1__GUID-2462D5E6-CB5F-4674-94BA-4B19EAF36941">
                              <p class="notep1">小费：</p>
                              <p>默认情况下，入站服务器不使用规则或规则集。因此，它处理客户端应用程序发送给它的所有LCR。要添加规则和规则集，请使用<code class="codeph">DBMS_XSTREAM_ADM</code>包或<code class="codeph">DBMS_RULE_ADM</code>包。请参见<a href="../arpls/DBMS_XSTREAM_ADM.html#ARPLS73643" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a> 。
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>如有必要，请为入站服务器创建应用处理程序。</p>
                           <p>应用处理程序是可选的。应用处理程序以自定义方式处理发送到入站服务器的LCR。</p>
                           <div class="infoboxnotealso" id="GUID-AB865A69-45EE-4B21-939F-BFE15EF28AF1__GUID-F67B7888-A9B6-4B9B-8EE9-1E399471E5C8">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="xstream-in-concepts.html#GUID-B075A397-158F-4187-A9EB-6AEA14BB9755" title="入站服务器可以直接应用LCR，也可以将LCR发送到应用处理程序进行处理。您的LCR处理选项取决于入站服务器接收的LCR是行LCR还是DDL LCR。">入站服务器的LCR处理选项</a> ”</span></p>
                           </div>
                        </li>
                        <li>
                           <p>创建并运行将连接到入站服务器并将LCR发送给它的客户端应用程序。</p>
                           <div class="infoboxnotealso" id="GUID-AB865A69-45EE-4B21-939F-BFE15EF28AF1__GUID-1C6B0B81-1D90-4DD2-9D3C-3FFD67ACEE55">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q"><a href="sample-xstream-client-application.html#GUID-B914FF75-92AA-4270-BF71-E9A5AA9228F8" title="Examples illustrate how to configure the Oracle Database components that are used by XStream. The examples configure sample client applications that communicate with an XStream outbound server and inbound server.">示例应用程序的</a> “ <a href="sample-xstream-client-application.html#GUID-B914FF75-92AA-4270-BF71-E9A5AA9228F8" title="示例说明如何配置XStream使用的Oracle数据库组件。这些示例配置与XStream出站服务器和入站服务器通信的示例客户端应用程序。">示例XStream客户端应用程序</a> ”</span></p>
                           </div>
                        </li>
                        <li>
                           <p>如果禁用入站服务器，则启动入站服务器。</p>
                           <p>例如，输入以下内容：</p><pre class="oac_no_warn" dir="ltr">exec DBMS_APPLY_ADM.START_APPLY（'xin'）;</pre><div class="infoboxnotealso" id="GUID-AB865A69-45EE-4B21-939F-BFE15EF28AF1__GUID-FF9A3D11-D554-4B45-A994-8F87E5456BC1">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../arpls/DBMS_XSTREAM_ADM.html#ARPLS70196" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-xstream-in.html#GUID-B0F20D2D-7F63-4CE6-B15F-435B5A3DFBED" title="您可以配置XStream使用的Oracle数据库组件。">配置XStream In</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="04832.transaction-functions.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Lists and describes the transaction functions."></meta>
      <meta name="description" content="Lists and describes the transaction functions."></meta>
      <title>交易功能</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="Lists and describes the transaction functions."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="thread-management-functions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="shard-functions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="thread-management-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="shard-functions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="more-database-access-c-api.html" property="item" typeof="WebPage"><span property="name">更多Oracle Database Access C API</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">交易功能</li>
            </ol>
            <a id="GUID-69F748A0-89C2-431C-A126-1C0DF0552084" name="GUID-69F748A0-89C2-431C-A126-1C0DF0552084"></a><a id="LNOCI17276"></a><a id="LNOCI166"></a>
            
            <h2 id="LNOCI-GUID-69F748A0-89C2-431C-A126-1C0DF0552084" class="sect2"><span class="enumeration_section">26.7</span>交易功能</h2>
         </header>
         <div class="ind">
            <div>
               <p>列出并描述交易功能。</p>
               <div class="section">
                  <p><a href="transaction-functions.html#GUID-69F748A0-89C2-431C-A126-1C0DF0552084__CIHFIBHC" title="该表有2列。第1列是OCI函数名称，第2列描述其目的。">表26-6</a>列出了本节中描述的事务功能。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-69F748A0-89C2-431C-A126-1C0DF0552084__CIHFIBHC">
                  <p class="titleintable">表26-6事务功能</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="交易功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the OCI function name and column 2 describes its purpose. " frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="61%" id="d223602e207">功能</th>
                           <th align="left" valign="bottom" width="39%" id="d223602e210">目的</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d223602e215" headers="d223602e207 ">
                              <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="提交与指定服务上下文关联的事务。">OCITransCommit（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d223602e215 d223602e210 ">
                              <p>在服务上下文上提交事务</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d223602e227" headers="d223602e207 ">
                              <p><a href="transaction-functions.html#GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09" title="分离全局事务。">OCITransDetach（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d223602e227 d223602e210 ">
                              <p>从服务上下文中分离事务</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d223602e239" headers="d223602e207 ">
                              <p><a href="transaction-functions.html#GUID-1BBB1A11-66F5-424D-B0CA-8034085C7E00" title="导致服务器忘记启发式完成的全局事务。">OCITransForget（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d223602e239 d223602e210 ">
                              <p>忘记准备好的全球交易</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d223602e251" headers="d223602e207 ">
                              <p><a href="transaction-functions.html#GUID-8278951C-98FA-4C08-A48B-5F24EADA6BD7" title="在一次调用中准备具有多个分支的事务。">OCITransMultiPrepare（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d223602e251 d223602e210 ">
                              <p>在单个单元格中准备具有多个分支的事务</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d223602e263" headers="d223602e207 ">
                              <p><a href="transaction-functions.html#GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3" title="准备提交的全局事务。">OCITransPrepare（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d223602e263 d223602e210 ">
                              <p>准备提交的全局事务</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d223602e275" headers="d223602e207 ">
                              <p><a href="transaction-functions.html#GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366" title="回滚当前交易。">OCITransRollback（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d223602e275 d223602e210 ">
                              <p>回滚交易</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d223602e287" headers="d223602e207 ">
                              <p><a href="transaction-functions.html#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" title="设置事务的开始。">OCITransStart（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d223602e287 d223602e210 ">
                              <p>在服务上下文上启动事务</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNOCI13112"></a><div class="props_rev_3"><a id="GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" name="GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4"></a><h3 id="LNOCI-GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" class="sect3"><span class="enumeration_section">26.7.1</span> OCITransCommit（）</h3>
               <div>
                  <p>提交与指定服务上下文关联的事务。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4__GUID-EEC30B29-0E58-40F6-8C0E-A8DF541065C0">目的</p>
                     <p>提交与指定服务上下文关联的事务。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4__GUID-08C1266D-FCEF-45CE-9A65-9ED4F5067F3B">句法</p><pre class="oac_no_warn" dir="ltr">剑OCITransCommit（OCISvcCtx * svchp，OCIError * errhp，ub4标志）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4__GUID-0E9162B4-8DB6-41DA-A21F-B75F0D062919">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4__GUID-F2FFDCD2-C177-4BE8-9989-98BCFF07B452"><!-- --></a> <span class="bold">svchp</span> （IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4__GUID-176CA3A7-9C2E-4886-B7B0-F90E94DD427C"><!-- --></a> <span class="bold">errhp</span> （IN）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4__GUID-45DB65B3-D111-49F2-8340-80B03783E248"><!-- --></a> <span class="bold">标志（IN）</span></dt>
                        <dd>
                           <p>用于全局事务中的一阶段提交优化的标志。</p>
                           <p><code class="codeph">OCI_DEFAULT</code> - 如果事务是非分布式的，则忽略flags参数，并且可以将<code class="codeph">OCI_DEFAULT</code>作为其值传递。
                           </p>
                           <p><code class="codeph">OCI_TRANS_TWOPHASE</code> - 管理全局事务的OCI应用程序应将此值传递给flags参数以进行两阶段提交。默认值是单阶段提交。
                           </p>
                           <p><code class="codeph">OCI_TRANS_WRITEIMMED</code> -  I / O由LGWR（后台的Log Writer Process）启动，将（内存中）重做缓冲区写入联机重做日志。<code class="codeph">IMMEDIATE</code>表示通过向LGWR发送消息立即写出事务的重做缓冲区，LGWR立即处理消息。
                           </p>
                           <p><code class="codeph">OCI_TRANS_WRITEBATCH</code> -  LGWR没有发出I / O来将事务的内存中重做缓冲区写入联机重做日志。<code class="codeph">BATCH</code>意味着LGWR在启动整个批次的I / O之前批量重做缓冲区。指定<code class="codeph">BATCH</code>和<code class="codeph">IMMEDIATE</code>时发生错误。 <code class="codeph">IMMEDIATE</code>是默认值。
                           </p>
                           <p><code class="codeph">OCI_TRANS_WRITEWAIT</code> - 请求LGWR将提交的重做写入联机重做日志，并且提交等待将重做缓冲区写入联机重做日志。<code class="codeph">WAIT</code>表示在对应于事务的内存中重做缓冲区写入（持久性）联机重做日志之前，提交不会返回。
                           </p>
                           <p><code class="codeph">OCI_TRANS_WRITENOWAIT</code> - 请求LGWR将提交的重做写入联机重做日志，但提交将返回，而不等待将缓冲区写入联机重做日志。<code class="codeph">NOWAIT</code>意味着在将内存中重做缓冲区刷新到联机重做日志之前，提交将返回给用户。指定<code class="codeph">WAIT</code>和<code class="codeph">NOWAIT</code>时发生错误。 <code class="codeph">WAIT</code>是默认值。
                           </p>
                           <div class="infoboxnote" id="GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4__GUID-A46BB779-9928-4668-9C5A-49164B5A3A6B">
                              <p class="notep1">注意：</p>
                              <p>使用<code class="codeph">OCI_TRANS_WRITENOWAIT</code>时，可能会发生静默事务丢失。使用shutdown abort，startup force以及任何实例或节点故障，都会以静默方式发生事务丢失。在Oracle RAC系统上，异步提交的更改可能无法立即在其他实例上读取。
                              </p>
                           </div>
                           <p>最后四个选项仅影响顶级非分布式事务的提交，并且对于外部协调的分布式事务将被忽略。根据规定的限制，可以使用<code class="codeph">OR</code>运算符组合它们。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4__GUID-8C301DFF-2B62-4DAA-9F7D-47007103FAD3">评论</p>
                     <p>当前与服务上下文关联的事务已提交。如果它是服务器无法提交的全局事务，则此调用还会从数据库中检索事务的状态，以便在错误句柄中返回给用户。</p>
                     <p>如果应用程序已定义多个事务，则此函数对当前与服务上下文关联的事务进行操作。如果应用程序仅使用在进行数据库更改时创建的隐式本地事务，则提交该隐式事务。</p>
                     <p>如果应用程序在对象模式下运行，则此事务的对象高速缓存中的已修改或更新的对象也将被刷新并提交。</p>
                     <p>在正常情况下， <code class="codeph">OCITransCommit()</code>返回一个状态，指示事务已提交或回滚。对于全局事务，事务现在可能存在疑问，这意味着事务既未提交也未终止。在这种情况下， <code class="codeph">OCITransCommit()</code>尝试从服务器检索事务的状态。状态将返回。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4__GUID-32C4D474-9872-40C7-A73D-E509D4D6CC76">例</p>
                     <p>以下代码示例演示如何使用简单本地事务，如<span class="q">“ <a href="managing-scalable-platforms.html#GUID-7190D8FF-EA02-4D7B-9967-62A3FC458605" title="许多应用程序仅使用简单的本地事务。">简单本地事务</a> ”中所述</span> 。
                     </p>
                     <p>在简单本地事务中使用OCITransCommit（）</p><pre class="oac_no_warn" dir="ltr">int main（）{OCIEnv * envhp; OCIServer * srvhp; OCIError * errhp; OCISvcCtx * svchp; OCIStmt * stmthp; void * tmp; text sqlstmt [128]; OCIEnvCreate（＆envhp，OCI_DEFAULT，（void *）0,0,0,0，（size_t）0，（void *）0）; OCIHandleAlloc（（void *）envhp，（void **）＆errhp，（ub4）OCI_HTYPE_ERROR，（size_t）0，（void **）0）; OCIHandleAlloc（（void *）envhp，（void **）＆srvhp，（ub4）OCI_HTYPE_SERVER，（size_t）0，（void **）0）; OCIServerAttach（srvhp，errhp，（text *）0，（sb4）0，（ub4）OCI_DEFAULT）; OCIHandleAlloc（（void *）envhp，（void **）＆svchp，（ub4）OCI_HTYPE_SVCCTX，（size_t）0，（void **）0）; OCIHandleAlloc（（void *）envhp，（void **）＆stmthp，OCI_HTYPE_STMT，0,0）; OCIAttrSet（（void *）svchp，OCI_HTYPE_SVCCTX，（void *）srvhp，0，OCI_ATTR_SERVER，errhp）; OCILogon（envhp，errhp，＆svchp，（text *）“HR”，strlen（“HR”），（text *）“HR”，strlen（“HR”），0,0）; / * update hr.employees employee_id = 7902，增加工资* / sprintf（（char *）sqlstmt，“UPDATE EMPLOYEES SET SALARY = SALARY + 1 \ WHERE EMPLOYEE_ID = 7902”）; OCIStmtPrepare（stmthp，errhp，sqlstmt，strlen（（char *）sqlstmt），OCI_NTV_SYNTAX，0）; OCIStmtExecute（svchp，stmthp，errhp，1,0,0,0,0）; OCITransCommit（svchp，errhp，（ub4）0）; / * update hr.employees employee_id = 7902，再次增加工资，但回滚* / OCIStmtExecute（svchp，stmthp，errhp，1,0,0,0,0）; OCITransRollback（svchp，errhp，（ub4）0）; }</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="transaction-functions.html#GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366" title="回滚当前交易。">OCITransRollback（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17277"></a><div class="props_rev_3"><a id="GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09" name="GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09"></a><h3 id="LNOCI-GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09" class="sect3"><span class="enumeration_section">26.7.2</span> OCITransDetach（）</h3>
               <div>
                  <p>分离全局事务。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09__GUID-C9C5AF56-03E9-48DC-A81D-2AC65BD899D8">目的</p>
                     <p>分离全局事务。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09__GUID-AABF22E7-1CDB-43BB-BEC1-F2E1FFC92E8D">句法</p><pre class="oac_no_warn" dir="ltr">剑OCITransDetach（OCISvcCtx * svchp，OCIError * errhp，ub4标志）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09__GUID-B211FFD9-1A66-4D89-BFE5-8C37CB7A82A0">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09__GUID-5379F0BF-8DF7-42D6-B8FA-2744C8215BC0"><!-- --></a> <span class="bold">svchp</span> （IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09__GUID-8DA3D419-4C2A-4641-9367-3097C3C57FF1"><!-- --></a> <span class="bold">errhp</span> （IN）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09__GUID-C1F25EAD-6D17-4D95-9A91-912900F4F8C7"><!-- --></a> <span class="bold">标志</span> （IN）</dt>
                        <dd>
                           <p>您必须为此参数传递值<code class="codeph">OCI_DEFAULT</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09__GUID-8A268D13-EC7C-4F99-B000-B4DEEEEA95CD">评论</p>
                     <p>从服务上下文句柄中分离全局事务。当前附加到服务上下文句柄的事务在此调用结束时变为非活动状态。稍后可以通过调用<code class="codeph">OCITransStart()</code>来指定<code class="codeph">OCI_TRANS_RESUME</code>的标志值来恢复该事务。</p>
                     <p>分离事务时，启动事务时在<code class="codeph">OCITransStart()</code>的<code class="codeph">timeout</code>参数中指定的值用于确定分支在被服务器的<code class="codeph">PMON</code>进程删除之前保持非活动状态的时间。
                     </p>
                     <div class="infoboxnote" id="GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09__GUID-2B3BD6E7-81B9-47C4-B59B-3DE789B39609">
                        <p class="notep1">注意：</p>
                        <p>如果事务具有相同的授权，则事务可以通过与分离事务不同的进程来恢复。如果在实际启动事务之前调用此函数，则此函数无效。</p>
                     </div>
                     <p>例如代码演示使用<code class="codeph">OCITransDetach()</code>见实施例部分<code class="codeph">OCITransStart()</code>
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="transaction-functions.html#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" title="设置事务的开始。">OCITransStart（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17278"></a><div class="props_rev_3"><a id="GUID-1BBB1A11-66F5-424D-B0CA-8034085C7E00" name="GUID-1BBB1A11-66F5-424D-B0CA-8034085C7E00"></a><h3 id="LNOCI-GUID-1BBB1A11-66F5-424D-B0CA-8034085C7E00" class="sect3"><span class="enumeration_section">26.7.3</span> OCITransForget（）</h3>
               <div>
                  <p>导致服务器忘记启发式完成的全局事务。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-1BBB1A11-66F5-424D-B0CA-8034085C7E00__GUID-86C34B86-B4E2-419A-92D9-11435E9E9998">目的</p>
                     <p>导致服务器忘记启发式完成的全局事务。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1BBB1A11-66F5-424D-B0CA-8034085C7E00__GUID-A928B2E0-CAA9-4EC9-85D9-2DCE11266E2D">句法</p><pre class="oac_no_warn" dir="ltr">剑OCITransForget（OCISvcCtx * svchp，OCIError * errhp，ub4标志）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1BBB1A11-66F5-424D-B0CA-8034085C7E00__GUID-C8B38AC7-A6CA-4B26-BBC0-4ABABD235926"><span class="bold">参数</span></p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-1BBB1A11-66F5-424D-B0CA-8034085C7E00__GUID-9E30D41E-0CC7-4349-A6B8-DB61CAA0EF3E"><!-- --></a> <span class="bold">svchp</span> （IN）</dt>
                        <dd>
                           <p>事务所在的服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1BBB1A11-66F5-424D-B0CA-8034085C7E00__GUID-D268B6A8-DC7E-43D7-A799-5A4C01BC7E18"><!-- --></a> <span class="bold">errhp</span> （IN）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1BBB1A11-66F5-424D-B0CA-8034085C7E00__GUID-3FB91A76-F11C-4E94-AC37-A427116D1864"><!-- --></a>标志（IN）</dt>
                        <dd>
                           <p>您必须为此参数传递<code class="codeph">OCI_DEFAULT</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1BBB1A11-66F5-424D-B0CA-8034085C7E00__GUID-64795878-86AD-462E-BDA4-405A2097DA55">评论</p>
                     <p>忘记启发式完成的全球交易。服务器从系统的挂起事务表中删除事务的状态。</p>
                     <p>您将要忘记的事务的XID设置为事务句柄的属性（ <code class="codeph">OCI_ATTR_XID</code> ）。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="提交与指定服务上下文关联的事务。">OCITransCommit（）</a></li>
                        <li><a href="transaction-functions.html#GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366" title="回滚当前交易。">OCITransRollback（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17279"></a><div class="props_rev_3"><a id="GUID-8278951C-98FA-4C08-A48B-5F24EADA6BD7" name="GUID-8278951C-98FA-4C08-A48B-5F24EADA6BD7"></a><h3 id="LNOCI-GUID-8278951C-98FA-4C08-A48B-5F24EADA6BD7" class="sect3"><span class="enumeration_section">26.7.4</span> OCITransMultiPrepare（）</h3>
               <div>
                  <p>在一次调用中准备具有多个分支的事务。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-8278951C-98FA-4C08-A48B-5F24EADA6BD7__GUID-329956AC-2CD5-48A0-BE00-20C0FFDD710C">目的</p>
                     <p>在一次调用中准备具有多个分支的事务。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8278951C-98FA-4C08-A48B-5F24EADA6BD7__GUID-8F0D93C6-B342-4162-8628-14D1A5688742">句法</p><pre class="oac_no_warn" dir="ltr">剑OCITransMultiPrepare（OCISvcCtx * svchp，ub4 numBranches，OCITrans ** txns，OCIError ** errhp）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8278951C-98FA-4C08-A48B-5F24EADA6BD7__GUID-E8BFF08D-85F0-420F-8E7D-3F56AA47EE83"><span class="bold">参数</span></p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-8278951C-98FA-4C08-A48B-5F24EADA6BD7__GUID-70A94F00-E8BD-459C-AE69-EC25E072F567"><!-- --></a> srvchp（IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-8278951C-98FA-4C08-A48B-5F24EADA6BD7__GUID-DB67F55E-54F6-4268-876B-F0D293E55BD5"><!-- --></a> numBranches（IN）</dt>
                        <dd>
                           <p>预期的分支数量。它也是接下来两个参数的数组大小。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-8278951C-98FA-4C08-A48B-5F24EADA6BD7__GUID-32F5BC4B-2123-4E2D-AD15-2B0B75A7452D"><!-- --></a> txns（IN）</dt>
                        <dd>
                           <p>要准备分支的事务句柄数组。它们都应该设置<code class="codeph">OCI_ATTR_XID</code> 。全局事务ID应该相同。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-8278951C-98FA-4C08-A48B-5F24EADA6BD7__GUID-A4F40037-4E87-4A13-BA0D-6211F218076B"><!-- --></a> errhp（IN）</dt>
                        <dd>
                           <p>错误句柄数组。如果未返回<code class="codeph">OCI_SUCCESS</code> ，则这些指示哪些分支接收到哪些错误。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8278951C-98FA-4C08-A48B-5F24EADA6BD7__GUID-7C2079DB-FC91-49ED-B523-E60398107F3D">评论</p>
                     <p>准备指定的全局事务以进行提交。此调用仅对分布式事务有效。此调用是一种高级性能功能，仅用于调用者负责准备事务中所有分支的情况。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="transaction-functions.html#GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3" title="准备提交的全局事务。">OCITransPrepare（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17280"></a><div class="props_rev_3"><a id="GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3" name="GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3"></a><h3 id="LNOCI-GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3" class="sect3"><span class="enumeration_section">26.7.5</span> OCITransPrepare（）</h3>
               <div>
                  <p>准备提交的全局事务。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3__GUID-201EC530-CFC2-4C64-BCA9-E1637EAFB35F">目的</p>
                     <p>准备提交的全局事务。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3__GUID-3B503B20-48F9-4AF3-8D57-8D91F3661DAB">句法</p><pre class="oac_no_warn" dir="ltr">剑OCITransPrepare（OCISvcCtx * svchp，OCIError * errhp，ub4标志）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3__GUID-D323588C-124A-4663-9095-EBFE675BB81D"><span class="bold">参数</span></p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3__GUID-BAE1828C-ED34-4CAA-BAB3-D97473F3FC8C"><!-- --></a> <span class="bold">svchp</span> （IN）</dt>
                        <dd>
                           <p>服务上下文句柄。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3__GUID-25447DA7-DB1B-4ABC-9799-0598248D40E6"><!-- --></a> <span class="bold">errhp</span> （IN）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3__GUID-900E10FB-C0CA-4C81-A595-50903A9EB92B"><!-- --></a>标志（IN）</dt>
                        <dd>
                           <p>您必须为此参数传递<code class="codeph">OCI_DEFAULT</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3__GUID-667EAAAE-CB3D-4084-BBC3-D115E4EC706D">评论</p>
                     <p>准备指定的全局事务以进行提交。</p>
                     <p>此调用仅对全局事务有效。</p>
                     <p>如果事务未进行任何更改，则调用返回<code class="codeph">OCI_SUCCESS_WITH_INFO</code> 。错误句柄表示事务是只读的。目前不使用<code class="codeph">flags</code>参数。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="提交与指定服务上下文关联的事务。">OCITransCommit（）</a></li>
                        <li><a href="transaction-functions.html#GUID-1BBB1A11-66F5-424D-B0CA-8034085C7E00" title="导致服务器忘记启发式完成的全局事务。">OCITransForget（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17281"></a><div class="props_rev_3"><a id="GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366" name="GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366"></a><h3 id="LNOCI-GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366" class="sect3"><span class="enumeration_section">26.7.6</span> OCITransRollback（）</h3>
               <div>
                  <p>回滚当前交易。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366__GUID-F3002757-A55A-4965-A9B0-1BA9F307DA42">目的</p>
                     <p>回滚当前交易。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366__GUID-0F07F1F4-788A-4F77-9595-F4451DADB7BE">句法</p><pre class="oac_no_warn" dir="ltr">剑OCITransRollback（void * svchp，OCIError * errhp，ub4 flags）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366__GUID-C9BECF36-DB41-46B3-9A08-35416D459F94">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366__GUID-AE70ED24-0E28-4901-BD15-C73716DE1703"><!-- --></a> <span class="bold">svchp</span> （IN）</dt>
                        <dd>
                           <p>服务上下文句柄。回滚当前在服务上下文句柄中设置的事务。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366__GUID-E73915F8-9EC3-4E9B-8002-F7B8453D1FF6"><!-- --></a> <span class="bold">errhp</span> （IN）</dt>
                        <dd>
                           <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366__GUID-86DAAED8-945D-4FED-BFEF-47DDECC421CA"><!-- --></a> <span class="bold">标志</span> （IN）</dt>
                        <dd>
                           <p>您必须为此参数传递值<code class="codeph">OCI_DEFAULT</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366__GUID-D2637ACF-3825-4DC4-9EED-5D0DAB3CE212">评论</p>
                     <p>当前事务 - 定义为自上一次<code class="codeph">OCITransCommit()</code>或自<code class="codeph">OCISessionBegin()</code>回滚以来执行的语句集。
                     </p>
                     <p>如果应用程序在对象模式下运行，则还会回滚此事务的对象高速缓存中的已修改或更新对象。</p>
                     <p>尝试回滚当前未处于活动状态的全局事务会导致错误。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366__GUID-9122FF44-CCB6-462C-B80C-B704522A77C3">例子</p>
                     <p>例如代码演示使用<code class="codeph">OCITransRollback()</code>参见实施例部分<a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="提交与指定服务上下文关联的事务。">OCITransCommit（） 。</a>
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="提交与指定服务上下文关联的事务。">OCITransCommit（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-31B1FDB3-056E-4AF9-9B89-8DA6AA156947" title="创建用户会话并开始给定服务器的用户会话。">OCISessionBegin（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17282"></a><div class="props_rev_3"><a id="GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" name="GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8"></a><h3 id="LNOCI-GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" class="sect3"><span class="enumeration_section">26.7.7</span> OCITransStart（）</h3>
               <div>
                  <p>设置事务的开始。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8__GUID-FBC9198D-B206-4E74-8387-9EDB52244D42">目的</p>
                     <p>设置事务的开始。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8__GUID-ACDB61EF-7119-4FF6-9B64-3A3234DB9BF9">句法</p><pre class="oac_no_warn" dir="ltr">剑OCITransStart（OCISvcCtx * svchp，OCIError * errhp，uword timeout，ub4 flags）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8__GUID-38CF5412-0439-465B-AD25-41518926FF7B">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8__GUID-8BF25001-5A67-4497-83BD-5698FC9240E7"><!-- --></a> <span class="bold">svchp</span> （IN / OUT）</dt>
                        <dd>
                           <p>服务上下文句柄。如果标志指定了要启动的新事务，则在调用结束时初始化服务上下文句柄中的事务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8__GUID-B73FF5FF-B936-4376-919F-0D2B651DCED1"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。可以通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8__GUID-75388E09-1371-4AF8-99FA-3A53B5FE6A9D"><!-- --></a>超时（IN）</dt>
                        <dd>
                           <p>指定<code class="codeph">OCI_TRANS_RESUME</code>时等待事务可用于恢复的时间（以秒为<code class="codeph">OCI_TRANS_RESUME</code> ）。指定<code class="codeph">OCI_TRANS_NEW</code> ，timeout参数指示事务在系统自动终止之前可以处于非活动状态的秒数。在事务分离（使用<code class="codeph">OCITransDetach()</code> ）与使用<code class="codeph">OCITransStart()</code>恢复的时间之间，事务处于非活动状态。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8__GUID-22062DD4-2877-4E4F-9F18-37CB68F33402"><!-- --></a>标志（IN）</dt>
                        <dd>
                           <p>指定是启动新事务还是恢复现有事务。还指定可序列化或只读状态。可以指定多个值。默认情况下，启动读/写事务。标志值为：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_TRANS_NEW</code> - 启动新的事务分支。默认情况下，启动紧密耦合和可迁移的分支。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_TRANS_TIGHT</code> - 明确指定紧耦合分支。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_TRANS_LOOSE</code> - 指定松散耦合的分支。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_TRANS_RESUME</code> - 恢复现有的事务分支。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_TRANS_READONLY</code> - 启动只读事务。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_TRANS_SERIALIZABLE</code> - 启动可序列化的事务。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_TRANS_SEPARABLE</code> - 在每次调用后分离事务。
                           </p>
                           <p>此标志会导致警告事务是使用<span class="italic">常规</span>事务启动的。服务器的9.0.1版不支持单独的事务。
                           </p>
                        </li>
                     </ul>
                     <p>如果代码或事务服务中存在错误，则会出现错误消息。该错误表示您尝试对已准备好的事务执行操作。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8__GUID-74DFE040-FF6C-439D-8B4B-CA35BE84811D">评论</p>
                     <p>此函数设置全局或可序列化事务的开始。如果<code class="codeph">flags</code>参数指定应该启动新事务，则在调用结束时初始化当前与服务上下文句柄关联的事务上下文。
                     </p>
                     <p>事务的XID被设置为事务句柄的属性（ <code class="codeph">OCI_ATTR_XID</code> ）</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8__GUID-2CD8B3E5-8089-4B2B-BEB7-B1D730CF9037">例子</p>
                     <p>下面的代码示例和后面的代码示例演示了如何使用OCI事务调用来操作全局事务。如下面的代码示例所示，在不同分支上运行的单个会话的概念<a href="managing-scalable-platforms.html#GUID-9C16201F-7975-4E14-8162-62695B1C9AE4__I433197">如图10-2所示</a> 。
                     </p>
                     <p>在不同分支上运行的单个会话中使用OCITransStart（）</p><pre class="oac_no_warn" dir="ltr">int main（）{OCIEnv * envhp; OCIServer * srvhp; OCIError * errhp; OCISvcCtx * svchp; OCISession * usrhp; OCIStmt * stmthp1，* stmthp2; OCITrans * txnhp1，* txnhp2; void * tmp; XID gxid; text sqlstmt [128]; OCIEnvCreate（＆envhp，OCI_DEFAULT，（void *）0,0,0,0，（size_t）0，（void *）0）; OCIHandleAlloc（（void *）envhp，（void **）＆errhp，（ub4）OCI_HTYPE_ERROR，52，（void **）＆tmp）; OCIHandleAlloc（（void *）envhp，（void **）＆srvhp，（ub4）OCI_HTYPE_SERVER，52，（void **）＆tmp）; OCIServerAttach（srvhp，errhp，（text *）0，（sb4）0，（ub4）OCI_DEFAULT）; OCIHandleAlloc（（void *）envhp，（void **）＆svchp，（ub4）OCI_HTYPE_SVCCTX，52，（void **）＆tmp）; OCIHandleAlloc（（void *）envhp，（void **）＆stmthp1，OCI_HTYPE_STMT，0,0）; OCIHandleAlloc（（void *）envhp，（void **）＆stmthp2，OCI_HTYPE_STMT，0,0）; OCIAttrSet（（void *）svchp，OCI_HTYPE_SVCCTX，（void *）srvhp，0，OCI_ATTR_SERVER，errhp）; / *在服务器句柄中设置外部名称和内部名称* / OCIAttrSet（（void *）srvhp，OCI_HTYPE_SERVER，（void *）“demo”，0，OCI_ATTR_EXTERNAL_NAME，errhp）; OCIAttrSet（（void *）srvhp，OCI_HTYPE_SERVER，（void *）“txn demo”，0，OCI_ATTR_INTERNAL_NAME，errhp）; / *分配用户上下文句柄* / OCIHandleAlloc（（void *）envhp，（void **）＆usrhp，（ub4）OCI_HTYPE_SESSION，（size_t）0，（void **）0）; OCIAttrSet（（void *）usrhp，（ub4）OCI_HTYPE_SESSION，（void *）“HR”，（ub4）strlen（“HR”），OCI_ATTR_USERNAME，errhp）; OCIAttrSet（（void *）usrhp，（ub4）OCI_HTYPE_SESSION，（void *）“HR”，（ub4）strlen（“HR”），OCI_ATTR_PASSWORD，errhp）; OCISessionBegin（svchp，errhp，usrhp，OCI_CRED_RDBMS，0）; OCIAttrSet（（void *）svchp，（ub4）OCI_HTYPE_SVCCTX，（void *）usrhp，（ub4）0，OCI_ATTR_SESSION，errhp）; / *分配事务句柄1并将其设置在服务句柄* / OCIHandleAlloc（（void *）envhp，（void **）＆txnhp1，OCI_HTYPE_TRANS，0,0）; OCIAttrSet（（void *）svchp，OCI_HTYPE_SVCCTX，（void *）txnhp1,0，OCI_ATTR_TRANS，errhp）; / *以全局事务id = [1000,123,1] * / gxid.formatID = 1000开始事务; / * format id = 1000 * / gxid.gtrid_length = 3; / * gtrid = 123 * / gxid.data [0] = 1; gxid.data [1] = 2; gxid.data [2] = 3; gxid.bqual_length = 1; / * bqual = 1 * / gxid.data [3] = 1; OCIAttrSet（（void *）txnhp1，OCI_HTYPE_TRANS，（void *）＆gxid，sizeof（XID），OCI_ATTR_XID，errhp）; / *以分离的* / OCITransStart（svchp，errhp，60，OCI_TRANS_NEW）生成60秒的时间启动全局事务1; / * update hr.employees employee_id = 7902，增加工资* / sprintf（（char *）sqlstmt，“UPDATE EMPLOYEES SET SALARY = SALARY + 1 \ WHERE EMPLOYEE_ID = 7902”）; OCIStmtPrepare（stmthp1，errhp，sqlstmt，strlen（（char *）sqlstmt），OCI_NTV_SYNTAX，0）; OCIStmtExecute（svchp，stmthp1，errhp，1,0,0,0,0）; / *分离事务* / OCITransDetach（svchp，errhp，0）; / *分配事务句柄2并将其设置在服务句柄* / OCIHandleAlloc（（void *）envhp，（void **）＆txnhp2，OCI_HTYPE_TRANS，0,0）; OCIAttrSet（（void *）svchp，OCI_HTYPE_SVCCTX，（void *）txnhp2,0，OCI_ATTR_TRANS，errhp）; / *以全局事务id = [1000,124,1] * / gxid.formatID = 1000开始事务; / * format id = 1000 * / gxid.gtrid_length = 3; / * gtrid = 124 * / gxid.data [0] = 1; gxid.data [1] = 2; gxid.data [2] = 4; gxid.bqual_length = 1; / * bqual = 1 * / gxid.data [3] = 1; OCIAttrSet（（void *）txnhp2，OCI_HTYPE_TRANS，（void *）＆gxid，sizeof（XID），OCI_ATTR_XID，errhp）; / *以分离的* / OCITransStart（svchp，errhp，90，OCI_TRANS_NEW）生成90秒的时间启动全局事务2; / * update hr.employees employee_id = 7934，增加工资* / sprintf（（char *）sqlstmt，“UPDATE EMPLOYEES SET SALARY = SALARY + 1 \ WHERE EMPLOYEE_ID = 7934”）; OCIStmtPrepare（stmthp2，errhp，sqlstmt，strlen（（char *）sqlstmt），OCI_NTV_SYNTAX，0）; OCIStmtExecute（svchp，stmthp2，errhp，1,0,0,0,0）; / *分离事务* / OCITransDetach（svchp，errhp，0）; / *恢复事务1，增加工资并提交它* / / *将事务句柄1设置到服务句柄* / OCIAttrSet（（void *）svchp，OCI_HTYPE_SVCCTX，（void *）txnhp1,0，OCI_ATTR_TRANS，errhp）; / *附加到事务1，如果事务忙，则等待10秒* / / *在此示例中显然不需要等待，因为没有其他* / / *进程/线程正在使用该事务。它仅用于说明* / OCITransStart（svchp，errhp，10，OCI_TRANS_RESUME）; OCIStmtExecute（svchp，stmthp1，errhp，1,0,0,0,0）; OCITransCommit（svchp，errhp，（ub4）0）; / *附加到事务2并将其提交* / / *将事务句柄2设置到服务句柄* / OCIAttrSet（（void *）svchp，OCI_HTYPE_SVCCTX，（void *）txnhp2,0，OCI_ATTR_TRANS，errhp）; OCITransCommit（svchp，errhp，（ub4）0）; }</pre><p>在多个分支上运行的单个会话中使用OCITransStart（）共享相同的事务</p><pre class="oac_no_warn" dir="ltr">int main（）{OCIEnv * envhp; OCIServer * srvhp; OCIError * errhp; OCISvcCtx * svchp; OCISession * usrhp; OCIStmt * stmthp; OCITrans * txnhp1，* txnhp2; void * tmp; XID gxid; text sqlstmt [128]; OCIEnvCreate（＆envhp，OCI_DEFAULT，（void *）0,0,0,0，（size_t）0，（void *）0）; OCIHandleAlloc（（void *）envhp，（void **）＆errhp，（ub4）OCI_HTYPE_ERROR，52，（void **）＆tmp）; OCIHandleAlloc（（void *）envhp，（void **）＆srvhp，（ub4）OCI_HTYPE_SERVER，52，（void **）＆tmp）; OCIServerAttach（srvhp，errhp，（text *）0，（sb4）0，（ub4）OCI_DEFAULT）; OCIHandleAlloc（（void *）envhp，（void **）＆svchp，（ub4）OCI_HTYPE_SVCCTX，52，（void **）＆tmp）; OCIHandleAlloc（（void *）envhp，（void **）＆stmthp，OCI_HTYPE_STMT，0,0）; OCIAttrSet（（void *）svchp，OCI_HTYPE_SVCCTX，（void *）srvhp，0，OCI_ATTR_SERVER，errhp）; / *在服务器句柄中设置外部名称和内部名称* / OCIAttrSet（（void *）srvhp，OCI_HTYPE_SERVER，（void *）“demo”，0，OCI_ATTR_EXTERNAL_NAME，errhp）; OCIAttrSet（（void *）srvhp，OCI_HTYPE_SERVER，（void *）“txn demo2”，0，OCI_ATTR_INTERNAL_NAME，errhp）; / *分配用户上下文句柄* / OCIHandleAlloc（（void *）envhp，（void **）＆usrhp，（ub4）OCI_HTYPE_SESSION，（size_t）0，（void **）0）; OCIAttrSet（（void *）usrhp，（ub4）OCI_HTYPE_SESSION，（void *）“HR”，（ub4）strlen（“HR”），OCI_ATTR_USERNAME，errhp）; OCIAttrSet（（void *）usrhp，（ub4）OCI_HTYPE_SESSION，（void *）“HR”，（ub4）strlen（“HR”），OCI_ATTR_PASSWORD，errhp）; OCISessionBegin（svchp，errhp，usrhp，OCI_CRED_RDBMS，0）; OCIAttrSet（（void *）svchp，（ub4）OCI_HTYPE_SVCCTX，（void *）usrhp，（ub4）0，OCI_ATTR_SESSION，errhp）; / *分配事务句柄1并将其设置在服务句柄* / OCIHandleAlloc（（void *）envhp，（void **）＆txnhp1，OCI_HTYPE_TRANS，0,0）; OCIAttrSet（（void *）svchp，OCI_HTYPE_SVCCTX，（void *）txnhp1,0，OCI_ATTR_TRANS，errhp）; / *以全局事务id = [1000,123,1] * / gxid.formatID = 1000开始事务; / * format id = 1000 * / gxid.gtrid_length = 3; / * gtrid = 123 * / gxid.data [0] = 1; gxid.data [1] = 2; gxid.data [2] = 3; gxid.bqual_length = 1; / * bqual = 1 * / gxid.data [3] = 1; OCIAttrSet（（void *）txnhp1，OCI_HTYPE_TRANS，（void *）＆gxid，sizeof（XID），OCI_ATTR_XID，errhp）; / *以分离的* / OCITransStart（svchp，errhp，60，OCI_TRANS_NEW）生成60秒的时间启动全局事务1; / * update hr.employees employee_id = 7902，增加工资* / sprintf（（char *）sqlstmt，“UPDATE EMPLOYEES SET SALARY = SALARY + 1 \ WHERE EMPLOYEE_ID = 7902”）; OCIStmtPrepare（stmthp，errhp，sqlstmt，strlen（（char *）sqlstmt），OCI_NTV_SYNTAX，0）; OCIStmtExecute（svchp，stmthp，errhp，1,0,0,0,0）; / *分离事务* / OCITransDetach（svchp，errhp，0）; / *分配事务句柄2并将其设置在服务句柄* / OCIHandleAlloc（（void *）envhp，（void **）＆txnhp2，OCI_HTYPE_TRANS，0,0）; OCIAttrSet（（void *）svchp，OCI_HTYPE_SVCCTX，（void *）txnhp2,0，OCI_ATTR_TRANS，errhp）; / *用全局事务id = [1000,123,2]开始一个事务* / / *全局事务与先前的事务紧密结合* / / *这样做没有多少实际价值但是示例* / / *说明了紧密耦合的事务分支的使用。* / / *在实际情况中，第一个与* / / *紧密耦合的第二个事务可以从不同的进程/线程执行。* / gxid.formatID = 1000; / * format id = 1000 * / gxid.gtrid_length = 3; / * gtrid = 123 * / gxid.data [0] = 1; gxid.data [1] = 2; gxid.data [2] = 3; gxid.bqual_length = 1; / * bqual = 2 * / gxid.data [3] = 2; OCIAttrSet（（void *）txnhp2，OCI_HTYPE_TRANS，（void *）＆gxid，sizeof（XID），OCI_ATTR_XID，errhp）; / *以分离的* / OCITransStart（svchp，errhp，90，OCI_TRANS_NEW）生成90秒的时间启动全局事务2; / * update hr.employees employee_id = 7902，增加工资* / / *即使先前的事务已锁定此行* / / *，这是可能的，因为两个全局事务紧密耦合* / OCIStmtExecute（svchp，stmthp，errhp， 1,0,0,0,0）; / *分离事务* / OCITransDetach（svchp，errhp，0）; / *恢复事务1并准备它。这将返回* / / * OCI_SUCCESS_WITH_INFO，因为除了最后一个分支* / / *之外的所有分支都被视为紧密耦合事务的只读事务* / OCIAttrSet（（void *）svchp，OCI_HTYPE_SVCCTX，（void *）txnhp1,0，OCI_ATTR_TRANS ，errhp）; if（OCITransPrepare（svchp，errhp，（ub4）0）== OCI_SUCCESS_WITH_INFO）{text errbuf [512]; ub4 buflen; sb4错误代码; OCIErrorGet（（void *）errhp，（ub4）1，（text *）NULL，＆errcode，errbuf，（ub4）sizeof（errbuf），（ub4）OCI_HTYPE_ERROR）; printf（“OCITransPrepare  - ％s \ n”，errbuf）; } / *附加到事务2并将其提交* / / *将事务句柄2设置到服务句柄* / OCIAttrSet（（void *）svchp，OCI_HTYPE_SVCCTX，（void *）txnhp2,0，OCI_ATTR_TRANS，errhp）; OCITransCommit（svchp，errhp，（ub4）0）; }</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="transaction-functions.html#GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09" title="分离全局事务。">OCITransDetach（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="07897.DBA_WORKLOAD_REPLAYS.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="DBA_WORKLOAD_REPLAYS displays all the workload replays that have been performed in the current database."></meta>
      <meta name="description" content="DBA_WORKLOAD_REPLAYS displays all the workload replays that have been performed in the current database."></meta>
      <title>DBA_WORKLOAD_REPLAYS</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Reference"></meta>
      <meta property="og:description" content="DBA_WORKLOAD_REPLAYS displays all the workload replays that have been performed in the current database."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00"></meta>
      <meta name="dcterms.title" content="Database Reference"></meta>
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96196-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBA_WORKLOAD_REPLAY_SCHEDULES.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBA_WORKLOAD_SCHEDULE_CAPTURES.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBA_WORKLOAD_REPLAY_SCHEDULES.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBA_WORKLOAD_SCHEDULE_CAPTURES.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views-5.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图：DBA_STREAMS_ADD_COLUMN到USER_ZONEMAPS</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBA_WORKLOAD_REPLAYS</li>
            </ol>
            <a id="GUID-EAAAECF2-77B5-4BD9-8A43-AE8E2F3410AA" name="GUID-EAAAECF2-77B5-4BD9-8A43-AE8E2F3410AA"></a><a id="REFRN23631"></a>
            
            <h2 id="REFRN-GUID-EAAAECF2-77B5-4BD9-8A43-AE8E2F3410AA" class="sect2"><span class="enumeration_section">6.126</span> DBA_WORKLOAD_REPLAYS</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBA_WORKLOAD_REPLAYS</code>显示已在当前数据库中执行的所有工作负载重放。
               </p>
               <div class="section">
                  <p>它还列出了已调用<code class="codeph">DBMS_WORKLOAD_REPLAY.GET_REPLAY_INFO()</code>重放。每行包含有关一个工作负载重放的信息。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-EAAAECF2-77B5-4BD9-8A43-AE8E2F3410AA__GUID-CD08BA7E-CD98-4C8C-A8FF-1F4947E652FA">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="This table describes the columns for this database view" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="24%" id="d1377259e176">柱</th>
                           <th align="left" valign="bottom" width="18%" id="d1377259e179">数据类型</th>
                           <th align="left" valign="bottom" width="14%" id="d1377259e182">空值</th>
                           <th align="left" valign="bottom" width="45%" id="d1377259e185">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e190" headers="d1377259e176 ">
                              <p><code class="codeph">ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e190 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e190 d1377259e182 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e190 d1377259e185 ">
                              <p>工作负载重放的内部密钥</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e206" headers="d1377259e176 ">
                              <p><code class="codeph">名称</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e206 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e206 d1377259e182 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e206 d1377259e185 ">
                              <p>工作负载重播的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e222" headers="d1377259e176 ">
                              <p><code class="codeph">DBID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e222 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e222 d1377259e182 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e222 d1377259e185 ">
                              <p>重放工作负载的数据库的ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e238" headers="d1377259e176 ">
                              <p><code class="codeph">DBNAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e238 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（10）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e238 d1377259e182 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e238 d1377259e185 ">
                              <p>重放工作负载的数据库的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e254" headers="d1377259e176 ">
                              <p><code class="codeph">DBVERSION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e254 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e254 d1377259e182 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e254 d1377259e185 ">
                              <p>重放工作负载的数据库版本</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e270" headers="d1377259e176 ">
                              <p><code class="codeph">平行</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e270 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e270 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e270 d1377259e185 ">
                              <p>指示重放工作负载的数据库是Oracle RAC数据库（ <code class="codeph">YES</code> ）还是单实例数据库（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e291" headers="d1377259e176 ">
                              <p><code class="codeph">目录</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e291 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e291 d1377259e182 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e291 d1377259e185 ">
                              <p>工作负载重放的目录对象的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e307" headers="d1377259e176 ">
                              <p><code class="codeph">CAPTURE_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e307 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e307 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e307 d1377259e185 ">
                              <p>已重播的捕获ID（ <code class="codeph">DBA_WORKLOAD_CAPTURES.ID</code> ）。如果重播涉及重播计划，则<code class="codeph">CAPTURE_ID</code>将为空。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e328" headers="d1377259e176 ">
                              <p><code class="codeph">状态</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e328 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（40）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e328 d1377259e182 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e328 d1377259e185 ">
                              <p>工作负载重放的当前状态：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">PREPARE</code> - 已启动Workload准备并正在等待客户端加入</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">IN PROGRESS</code> - 工作负载重播正在进行中</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">COMPLETED</code> -负载重放已成功完成</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">CANCELLED</code> - 工作负载重放或工作负载准备已取消</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">FAILED</code> - 由于遇到错误而中止了工作负载重放。有关详细信息，请参阅<code class="codeph">COMMENTS</code>列。
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e373" headers="d1377259e176 ">
                              <p><code class="codeph">PREPARE_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e373 d1377259e179 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e373 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e373 d1377259e185 ">
                              <p>工作负载准备开始的日期时间</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e388" headers="d1377259e176 ">
                              <p><code class="codeph">开始时间</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e388 d1377259e179 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e388 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e388 d1377259e185 ">
                              <p>重播开始的日期时间</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e404" headers="d1377259e176 ">
                              <p><code class="codeph">时间结束</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e404 d1377259e179 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e404 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e404 d1377259e185 ">
                              <p>重播完成或取消的日期时间;如果重播仍在进行中，则为NULL</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e419" headers="d1377259e176 ">
                              <p><code class="codeph">DURATION_SEC秒</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e419 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e419 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e419 d1377259e185 ">
                              <p>工作负载重放的持续时间（以秒为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e434" headers="d1377259e176 ">
                              <p><code class="codeph">NUM_CLIENTS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e434 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e434 d1377259e182 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e434 d1377259e185 ">
                              <p>此工作负载重播中使用的工作负载重播客户端进程数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e450" headers="d1377259e176 ">
                              <p><code class="codeph">NUM_CLIENTS_DONE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e450 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e450 d1377259e182 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e450 d1377259e185 ">
                              <p>已完成重播的工作负载重播客户端进程数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e466" headers="d1377259e176 ">
                              <p><code class="codeph">FILTER_SET_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e466 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（1000）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e466 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e466 d1377259e185 ">
                              <p>用于重放的过滤器集的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e481" headers="d1377259e176 ">
                              <p><code class="codeph">DEFAULT_ACTION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e481 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（30）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e481 d1377259e182 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e481 d1377259e185 ">
                              <p>保留供将来使用</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e497" headers="d1377259e176 ">
                              <p><code class="codeph">同步</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e497 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（9）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e497 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e497 d1377259e185 ">
                              <p>指示是否应保持记录的事务语义（ <code class="codeph">TRUE</code> ）（ <code class="codeph">FALSE</code> ）</p>
                              <p>启用同步时，将保留在原始工作负载捕获期间观察到的提交顺序。每次重放的操作只有在执行了所有依赖提交后才会执行。从属提交是在原始工作负载捕获中的给定操作之前发出的提交。</p>
                              <p><span class="bold">另请参阅：</span> <a href="../arpls/DBMS_WORKLOAD_REPLAY.html#ARPLS69086" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a>中的<code class="codeph">DBMS_WORKLOAD_REPLAY.PREPARE_REPLAY()</code>以获取此重播参数的详细说明</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e533" headers="d1377259e176 ">
                              <p><code class="codeph">CONNECT_TIME_SCALE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e533 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e533 d1377259e182 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e533 d1377259e185 ">
                              <p>重放期间捕获的流的连接时间缩放因子。该值被解释为百分比。默认值100表示100％。</p>
                              <p><span class="bold">另请参阅：</span> <a href="../arpls/DBMS_WORKLOAD_REPLAY.html#ARPLS69086" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a>中的<code class="codeph">DBMS_WORKLOAD_REPLAY.PREPARE_REPLAY()</code>以获取此重播参数的详细说明</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e562" headers="d1377259e176 ">
                              <p><code class="codeph">THINK_TIME_SCALE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e562 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e562 d1377259e182 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e562 d1377259e185 ">
                              <p>在重放期间考虑捕获流的时间缩放因子。它缩放了来自同一捕获流的两个连续用户调用之间经过的思考时间。输入被解释为百分比。默认值100表示100％。</p>
                              <p><span class="bold">另请参阅：</span> <a href="../arpls/DBMS_WORKLOAD_REPLAY.html#ARPLS69086" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a>中的<code class="codeph">DBMS_WORKLOAD_REPLAY.PREPARE_REPLAY()</code>以获取此重播参数的详细说明</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e591" headers="d1377259e176 ">
                              <p><code class="codeph">THINK_TIME_AUTO_CORRECT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e591 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（5）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e591 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e591 d1377259e185 ">
                              <p>指示是否应在呼叫之间自动更正思考时间（ <code class="codeph">TRUE</code> ）（ <code class="codeph">FALSE</code> ）</p>
                              <p>如果重放比捕获慢，则值<code class="codeph">TRUE</code>会缩短思考时间。
                              </p>
                              <p>值为<code class="codeph">FALSE</code>导致无法执行操作。
                              </p>
                              <p><span class="bold">另请参阅：</span> <a href="../arpls/DBMS_WORKLOAD_REPLAY.html#ARPLS69086" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a>中的<code class="codeph">DBMS_WORKLOAD_REPLAY.PREPARE_REPLAY()</code>以获取此重播参数的详细说明</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e635" headers="d1377259e176 ">
                              <p><code class="codeph">SCALE_UP_MULTIPLIER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e635 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e635 d1377259e182 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e635 d1377259e185 ">
                              <p>在多次捕获重放之前， <code class="codeph">SCALE_UP_MULTIPLIER</code>用于扩展工作负载捕获的查询部分。来自每个捕获的会话的查询将同时重播<code class="codeph">SCALE_UP_MULTIPLIER</code>的值。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e658" headers="d1377259e176 ">
                              <p><code class="codeph">USER_CALLS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e658 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e658 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e658 d1377259e185 ">
                              <p>重播的用户呼叫总数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e673" headers="d1377259e176 ">
                              <p><code class="codeph">DBTIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e673 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e673 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e673 d1377259e185 ">
                              <p>重播的累计数据库时间（以微秒为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e688" headers="d1377259e176 ">
                              <p><code class="codeph">NETWORK_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e688 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e688 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e688 d1377259e185 ">
                              <p>重播的累计网络时间（以微秒为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e703" headers="d1377259e176 ">
                              <p><code class="codeph">THINK_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e703 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e703 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e703 d1377259e185 ">
                              <p>重播的累计思考时间（以微秒为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e718" headers="d1377259e176 ">
                              <p><code class="codeph">PAUSE_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e718 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e718 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e718 d1377259e185 ">
                              <p>重播暂停的总时间（以秒为单位）（通过调用PAUSE_REPLAY过程）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e733" headers="d1377259e176 ">
                              <p><code class="codeph">PLSQL_CALLS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e733 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e733 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e733 d1377259e185 ">
                              <p>重播的顶级PL / SQL调用总数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e748" headers="d1377259e176 ">
                              <p><code class="codeph">PLSQL_SUBCALLS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e748 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e748 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e748 d1377259e185 ">
                              <p>从PL / SQL执行的SQL的重放调用总数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e763" headers="d1377259e176 ">
                              <p><code class="codeph">PLSQL_DBTIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e763 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e763 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e763 d1377259e185 ">
                              <p>PL / SQL调用的数据库时间总量（以微秒为单位）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e778" headers="d1377259e176 ">
                              <p><code class="codeph">ELAPSED_TIME_DIFF</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e778 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e778 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e778 d1377259e185 ">
                              <p>保留供将来使用</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e793" headers="d1377259e176 ">
                              <p><code class="codeph">REPLAY_DEADLOCKS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e793 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e793 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e793 d1377259e185 ">
                              <p>工作负载重放使用捕获文件中的计时信息或基于提交的同步。</p>
                              <p>使用基于提交的同步，在重放期间保留捕获时提交顺序，并且会话通常等待进行下一次提交的会话;这种等待被归类为“WCR：重播时钟”等。</p>
                              <p>如果要执行下一次提交的会话本身被等待“WCR：重播时钟”的会话阻止，则会发生重播死锁。通过允许阻止程序继续执行并且不按顺序提交来解决重播死锁。</p>
                              <p>重放死锁未被检测为数据库死锁，因为“WCR：重放时钟”是一个空闲等待，专门针对数据库重放而引入。</p>
                              <p><span class="bold">另请参阅</span> ： <span class="q">“ <a href="descriptions-of-wait-events.html#GUID-3900C9ED-E52E-4AC6-AE02-854AAAF87E0F" title="如果会话在另一个尚未提交其工作的会话上具有某些逻辑依赖性，则会话将在重播期间等待此事件。">WCR：重播时钟</a> ”</span></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e824" headers="d1377259e176 ">
                              <p><code class="codeph">AWR_DBID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e824 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e824 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e824 d1377259e185 ">
                              <p>与此工作负载重放相对应的AWR快照的数据库ID。对于在当前数据库中执行的重放，此值等于当前数据库的DBID。对于在其他数据库中执行的重放，此值将为NULL或将由<code class="codeph">DBMS_WORKLOAD_REPLAY.IMPORT_AWR()</code>填充。
                              </p>
                              <p><span class="bold">另请参见：</span> <a href="../arpls/DBMS_WORKLOAD_REPLAY.html#ARPLS69081" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考中的</cite></span></a> DBMS_WORKLOAD_REPLAY.IMPORT_AWR（）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e852" headers="d1377259e176 ">
                              <p><code class="codeph">AWR_BEGIN_SNAP</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e852 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e852 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e852 d1377259e185 ">
                              <p>开始与此工作负载重放相对应的AWR快照的快照ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e867" headers="d1377259e176 ">
                              <p><code class="codeph">AWR_END_SNAP</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e867 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e867 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e867 d1377259e185 ">
                              <p>与此工作负载重放相对应的AWR快照的结束快照ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e882" headers="d1377259e176 ">
                              <p><code class="codeph">AWR_EXPORTED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e882 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（12）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e882 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e882 d1377259e185 ">
                              <p>指示是否对应于该负载重放的AWR快照一直在使用出口<code class="codeph">DBMS_WORKLOAD_REPLAY.EXPORT_AWR()</code> <code class="codeph">YES</code> ）否（ <code class="codeph">NO</code> ），或者是否AWR快照无法导出，因为重播仍在进行中，已完成运行成功，或者是在从它没有导出不同的数据库（做<code class="codeph">NOT POSSIBLE</code> ）</p>
                              <p><span class="bold">另请参见：</span> <a href="../arpls/DBMS_WORKLOAD_REPLAY.html#ARPLS69077" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考中的</cite></span></a> DBMS_WORKLOAD_REPLAY.EXPORT_AWR（）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e918" headers="d1377259e176 ">
                              <p><code class="codeph">错误代码</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e918 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e918 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e918 d1377259e185 ">
                              <p>此工作负载重播的错误代码</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e933" headers="d1377259e176 ">
                              <p><code class="codeph">错误信息</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e933 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（300）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e933 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e933 d1377259e185 ">
                              <p>此工作负载重播的错误消息</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e948" headers="d1377259e176 ">
                              <p><code class="codeph">DIR_PATH</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e948 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（4000）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e948 d1377259e182 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e948 d1377259e185 ">
                              <p>重播目录对象的完整目录路径</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e964" headers="d1377259e176 ">
                              <p><code class="codeph">REPLAY_DIR_NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e964 d1377259e179 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e964 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e964 d1377259e185 ">
                              <p>基于此视图中其他列的值计算的哈希值，例如<code class="codeph">NAME</code> ， <code class="codeph">DBID</code> ， <code class="codeph">DBNAME</code> ， <code class="codeph">PREPARE_TIME</code> ， <code class="codeph">START_TIME</code>和<code class="codeph">END_TIME</code>列。对于任何重播，它应该是相当独特的。该值用于在replay目录下创建子目录。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e998" headers="d1377259e176 ">
                              <p><code class="codeph">SQLSET_OWNER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e998 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e998 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e998 d1377259e185 ">
                              <p>SQL调整集所有者的用户名</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e1013" headers="d1377259e176 ">
                              <p><code class="codeph">SQLSET_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e1013 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e1013 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e1013 d1377259e185 ">
                              <p>此工作负载重放的SQL调整集的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e1028" headers="d1377259e176 ">
                              <p><code class="codeph">SCHEDULE_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e1028 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e1028 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e1028 d1377259e185 ">
                              <p>要重播的计划的名称。它定义了一个或多个工作负载捕获，以及开始重放的顺序。</p>
                              <p>如果<code class="codeph">SCHEDULE_NAME</code>为<code class="codeph">NULL</code> ，则重播是自Oracle Database <span class="italic">11g</span>以来引入的定期重播，使用来自<code class="codeph">DBMS_WORKLOAD_REPLAY</code>现有API： <code class="codeph">INITIALIZE_REPLAY</code> ， <code class="codeph">PREPARE_REPLAY</code>和<code class="codeph">START_REPLAY</code> 。</p>
                              <p>如果<code class="codeph">SCHEDULE_NAME</code>不为<code class="codeph">NULL</code> ，则重播是Oracle Database 12 <span class="italic">c中</span>引入的新的整合重播。也就是说，它是在<code class="codeph">DBMS_WORKLOAD_REPLAY</code>使用新API完成的一个或多个工作负载捕获的<code class="codeph">DBMS_WORKLOAD_REPLAY</code> ： <code class="codeph">INITIALIZE_CONSOLIDATED_REPLAY</code> ， <code class="codeph">PREPARE_CONSOLIDATED_REPLAY</code>和<code class="codeph">START_CONSOLIDATED_REPLAY</code> 。</p>
                              <p><span class="bold">另请参见：</span> <a href="../arpls/DBMS_WORKLOAD_REPLAY.html#ARPLS208" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考中的</cite></span></a> <code class="codeph">DBMS_WORKLOAD_REPLAY</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e1103" headers="d1377259e176 ">
                              <p><code class="codeph">DIVERGENCE_LOAD_STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e1103 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（5）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e1103 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e1103 d1377259e185 ">
                              <p>指示是否已加载重播分歧数据（ <code class="codeph">TRUE</code> ）（ <code class="codeph">FALSE</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e1125" headers="d1377259e176 ">
                              <p><code class="codeph">PLSQL_MODE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e1125 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（23）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e1125 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e1125 d1377259e185 ">
                              <p>PL / SQL调用的重播选项。可能的值：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">TOP_LEVEL</code> ：仅限顶级PL / SQL</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">EXTENDED</code> ：如果PL / SQL中没有记录SQL，则从PL / SQL或顶级PL / SQL执行SQL</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e1151" headers="d1377259e176 ">
                              <p><code class="codeph">CONNECT_TIME_AUTO_CORRECT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e1151 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（12）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e1151 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e1151 d1377259e185 ">
                              <p>指示当重放比捕获更快时，是否自动减少新会话的等待时间。减少的数量由重放和最慢会话的捕获之间的经过时间差确定。默认值是true。</p>
                              <p>当重放比捕获慢时，没有影响。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e1168" headers="d1377259e176 ">
                              <p><code class="codeph">RAC_MODE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e1168 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（19）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e1168 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e1168 d1377259e185 ">
                              <p>Oracle RAC环境中的重播选项：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">GLOBAL_SYNC</code> ：同步跨越所有实例。这是默认值。
                                    </p>
                                    <p>来自工作负载重放客户端（wrc）的数据库连接基于连接重新映射完成。</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">PER_INSTANCE_CLIENT</code> ：同步跨越所有实例。
                                    </p>
                                    <p>来自一个wrc的所有数据库连接仅连接到一个实例。</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">PER_INSTANCE_SYNC</code> ：同步在一个实例中。
                                    </p>
                                    <p>来自一个wrc的所有数据库连接仅连接到一个实例。</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1377259e1205" headers="d1377259e176 ">
                              <p><code class="codeph">QUERY_ONLY</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1377259e1205 d1377259e179 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1377259e1205 d1377259e182 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1377259e1205 d1377259e185 ">
                              <p>指示是否仅重播当前工作负载捕获的仅查询工作负载，跳过可能更新数据库（ <code class="codeph">Y</code> ）的所有DML / DDL（ <code class="codeph">N</code> ）</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-EAAAECF2-77B5-4BD9-8A43-AE8E2F3410AA__GUID-11D5E2FE-CB2A-40A7-9CBF-064738CEFE4D">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">DBMS_WORKLOAD_REPLAY</code>包的更多信息，请<code class="codeph">DBMS_WORKLOAD_REPLAY</code> <a href="../arpls/DBMS_WORKLOAD_REPLAY.html#ARPLS208" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>