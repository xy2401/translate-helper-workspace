<html id="09736.SDO_SAM-reference.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining."></meta>
      <meta name="description" content="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining."></meta>
      <title>SDO_SAM包（空间分析和挖掘）</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94799-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="SDO_PC_PKG-reference.html" title="Previous" type="text/html"></link>
      <link rel="next" href="SDO_TIN_PKG-reference.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="SPATL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SDO_PC_PKG-reference.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="SDO_TIN_PKG-reference.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-reference-information.html" property="item" typeof="WebPage"><span property="name">参考信息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SDO_SAM包（空间分析和挖掘）</li>
            </ol>
            <a id="GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" name="GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC"></a><a id="SPATL1196"></a><a id="SPATL190"></a>
            
            <h2 id="SPATL-GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" class="sect2"><span class="enumeration_chapter">31</span> SDO_SAM包（空间分析和挖掘）</h2>
         </header>
         <div class="ind">
            <div>
               <p>MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。</p>
               <p><a id="d152862e51" class="indexterm-anchor"></a><a id="d152862e55" class="indexterm-anchor"></a><a id="d152862e59" class="indexterm-anchor"></a><a id="d152862e65" class="indexterm-anchor"></a><a id="d152862e67" class="indexterm-anchor"></a><a id="d152862e69" class="indexterm-anchor"></a><a id="d152862e73" class="indexterm-anchor"></a>要使用本章中的子程序，你必须了解有关空间分析和数据挖掘的概念信息<a href="spatial-analysis-mining.html#GUID-67115788-00C2-49D6-85CA-6027F759AF1F" title="本章介绍了Oracle Spatial和Graph功能，这些功能支持在数据挖掘应用程序中使用空间数据。">空间分析和挖掘</a> 。
               </p>
               <div class="infoboxnote" id="GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC__GUID-22215780-B90C-4389-BC87-D597608E6562">
                  <p class="notep1">注意：</p>
                  <p>SDO_SAM子程序仅支持二维几何。它们不支持三维几何。</p>
               </div>
               <p>本章的其余部分提供了按字母顺序列出的空间分析和挖掘子程序的参考信息。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-3755052C-D6AD-494B-AF75-370B32C797B5">SDO_SAM.AGGREGATES_FOR_GEOMETRY</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-1074B640-8614-4EB6-9149-B60D2FB19363">SDO_SAM.AGGREGATES_FOR_LAYER</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-39661C3E-314A-45FF-B02D-FD988C32E96B">SDO_SAM.BIN_GEOMETRY</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0">SDO_SAM.BIN_LAYER</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9">SDO_SAM.COLOCATED_REFERENCE_FEATURES</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-3811D8E9-1355-4527-BD65-D43B3631079C">SDO_SAM.SIMPLIFY_GEOMETRY</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-EC873FC0-BDFB-45D8-9F78-81112497D951">SDO_SAM.SIMPLIFY_LAYER</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252">SDO_SAM.SPATIAL_CLUSTERS</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9">SDO_SAM.TILED_AGGREGATES</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB">SDO_SAM.TILED_BINS</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="spatial-reference-information.html#GUID-343C3A98-6564-49CF-AA31-F86C5AEAAF02">参考信息</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL1197"></a><div class="props_rev_3"><a id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5" name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5"></a><h3 id="SPATL-GUID-3755052C-D6AD-494B-AF75-370B32C797B5" class="sect3"><span class="enumeration_section">31.1</span> SDO_SAM.AGGREGATES_FOR_GEOMETRY</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-BE702C0D-1CE8-4767-BEC7-EC8D357AA405">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.AGGREGATES_FOR_GEOMETRY（theme_name IN VARCHAR2，theme_colname IN VARCHAR2，aggr_type_string IN VARCHAR2，aggr_col_string IN VARCHAR2，geom IN SDO_GEOMETRY，dst_spec IN VARCHAR2 DEFAULT NULL）返回号码;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-7CC477F2-2BA0-45E2-816F-659BFA813953">描述</p>
                     <p>计算几何的主题聚合。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-74B2090D-CEB2-458E-B7BC-ABE25B36FC23">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-7C934FAD-6129-45A9-BCA7-F1D6094CB726"><!-- --></a> theme_name</dt>
                        <dd>
                           <p>主题表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-8C2ED8F7-FF20-4D6E-8E28-FFE0BF377864"><!-- --></a> theme_colname</dt>
                        <dd>
                           <p><code class="codeph">theme_name</code>几何列的<code class="codeph">theme_name</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-8DC72494-2431-42F4-B78B-C4231F768D93"><!-- --></a> aggr_type_string</dt>
                        <dd>
                           <p>任何Oracle SQL聚合函数，它接受一个或多个数值并计算数值，例如<code class="codeph">SUM</code> ， <code class="codeph">MIN</code> ， <code class="codeph">MAX</code>或<code class="codeph">AVG</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-6BB11948-CA7B-4F9A-85C2-18852527639F"><!-- --></a> aggr_col_string</dt>
                        <dd>
                           <p>在<code class="codeph">theme_name</code>中用于计算聚合值的列的名称，如“使用说明”中所述。一个例子可能是POPULATION列。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-3D0652E5-EB55-4477-A165-C428F9340945"><!-- --></a> geom</dt>
                        <dd>
                           <p>几何对象。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-C1145288-6393-4EDE-B495-04BFBCD39196"><!-- --></a> dst_spec</dt>
                        <dd>
                           <p>带引号的字符串，用于指定要考虑的距离缓冲区或多个最近邻居几何。有关格式和含义的说明，请参阅“使用说明”。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-1E088F6A-62B9-478A-B7BD-44306DC2214A">使用说明</p>
                     <p>对于特定几何体，此函数标识<code class="codeph">theme_name</code>表中的几何，找到它们的交叉比率，使用此交叉比率将指定的聚合体相乘，并将其聚合为几何体。具体来说，对于与指定几何体相交的<code class="codeph">theme_name</code>表的所有行，它将返回以下函数中的值：</p><pre class="oac_no_warn" dir="ltr">aggr_type_string（aggr_col_string * proportional_area_of_intersection（geometry，theme_name.theme_colname））</pre><p><code class="codeph">theme_colname</code>列必须在其上定义空间索引。为获得最佳性能，请将简化的几何图形插入此列。
                     </p>
                     <p><code class="codeph">dst_spec</code>参数（如果指定）是带引号的字符串，必须包含以下任一项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">distance</code>关键字和可选的<code class="codeph">unit</code>关键字（与距离值相关联的度量单位），用于指定几何体周围的缓冲区。例如， <code class="codeph">'distance=2 unit=km'</code>指定输入几何体周围的2公里缓冲区。如果未指定<code class="codeph">dst_spec</code> ，则不使用缓冲区。
                           </p>
                           <p>如果指定了<code class="codeph">unit</code>关键字，则该值必须是MDSYS.SDO_DIST_UNITS表中的SDO_UNIT值（例如， <code class="codeph">'unit=km'</code> ）。如果未指定<code class="codeph">unit</code>关键字，则使用与几何关联的度量单位。有关<a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="Geometry functions that involve measurement allow an optional unit parameter to specify the unit of measurement for a specified distance or area, if a georeferenced coordinate system (SDO_SRID value) is associated with the input geometry or geometries.">测量</a>单位规范的更多信息，请参见<a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="如果地理参考坐标系（SDO_SRID值）与输入几何或几何相关联，则涉及测量的几何函数允许可选单位参数指定指定距离或区域的测量单位。">测量支持</a>单位。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">sdo_num_res</code>关键字，用于指定要考虑的最近邻几何的数量，而不考虑比例覆盖。例如， <code class="codeph">'sdo_num_res=5'</code>可以在查询中使用，该查询要求最接近指定点的五个城市的人口。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-7F7D4D4A-1209-45F8-AEEB-F85A127609D8">例子</p>
                     <p>以下示例计算围绕指定点几何的半径为3英里的区域的主题聚合。在这种情况下，该区域的总人口是根据不同县内圈子面积的比例计算的，假设县内人口的分布均匀。</p><pre class="oac_no_warn" dir="ltr">SELECT sdo_sam.aggregates_for_geometry（'GEOD_COUNTIES'，'GEOM'，'sum'，'totpop'，SDO_GEOMETRY（2001,8307，SDO_POINT_TYPE（-73.943849,40.6698，NULL），NULL，NULL），'distance = 3 unit = mile' ）FROM DUAL a;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1198"></a><div class="props_rev_3"><a id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363" name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363"></a><h3 id="SPATL-GUID-1074B640-8614-4EB6-9149-B60D2FB19363" class="sect3"><span class="enumeration_section">31.2</span> SDO_SAM.AGGREGATES_FOR_LAYER</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-B0ECC95F-E020-43D1-B155-5B4F52319549">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.AGGREGATES_FOR_LAYER（theme_name IN VARCHAR2，theme_colname IN VARCHAR2，aggr_type_string IN VARCHAR2，aggr_col_string IN VARCHAR2，tablename IN VARCHAR2，colname IN VARCHAR2，dst_spec IN VARCHAR2 DEFAULT NULL）RETURN SDO_REGAGGRSET;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-EA5EFCCC-E591-4765-B737-104E7595B28C">描述</p>
                     <p>计算几何图层的主题聚合。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-F9E4FB3E-9CFC-4B50-B901-474D110C7312">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-46B08AE2-F29E-4AA6-AB83-8B2DF5C0794A"><!-- --></a> theme_name</dt>
                        <dd>
                           <p>主题表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-F7455971-9E62-4E84-971A-ACD36935E09F"><!-- --></a> theme_colname</dt>
                        <dd>
                           <p><code class="codeph">theme_name</code>几何列的<code class="codeph">theme_name</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-D883F8A0-7959-4E4E-8B00-C48FF4C7C3BC"><!-- --></a> aggr_type_string</dt>
                        <dd>
                           <p>任何Oracle SQL聚合函数，它接受一个或多个数值并计算数值，例如<code class="codeph">SUM</code> ， <code class="codeph">MIN</code> ， <code class="codeph">MAX</code>或<code class="codeph">AVG</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-F4BAD472-E40A-439D-9061-98AFE4D72059"><!-- --></a> aggr_col_string</dt>
                        <dd>
                           <p>在<code class="codeph">theme_name</code>中用于计算聚合值的列的名称，如“使用说明”中所述。一个例子可能是POPULATION列。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-7FE8C328-7E1F-424B-9E3A-81DB77B8CF5C"><!-- --></a> tablename</dt>
                        <dd>
                           <p>数据挖掘表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-1DE52E40-85ED-4284-95E0-D8E314149969"><!-- --></a> colname</dt>
                        <dd>
                           <p><code class="codeph">tablename</code>中包含几何的列的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-0663905D-7807-4495-BA03-F3DD8D55E6E2"><!-- --></a> dst_spec</dt>
                        <dd>
                           <p>带引号的字符串，用于指定要考虑的距离缓冲区或多个最近邻居几何。有关格式和含义的说明，请参阅本章中<a href="SDO_SAM-reference.html#GUID-3755052C-D6AD-494B-AF75-370B32C797B5">SDO_SAM.AGGREGATES_FOR_GEOMETRY</a>函数的使用说明。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-AC634098-39EC-43FF-B6C1-8ABC611D137D">使用说明</p>
                     <p>对于<code class="codeph">tablename</code>每个几何，此函数标识<code class="codeph">theme_name</code>表中的几何，找到它们的交叉比率，使用此交叉比率乘以指定的聚合，并为<code class="codeph">tablename</code>每个几何聚合它。具体来说，对于<code class="codeph">theme_name</code>表的所有行，它返回以下函数中的值：</p><pre class="oac_no_warn" dir="ltr">aggr_type_string（aggr_col_string * proportional_area_of_intersection（geometry，theme_name.theme_colname））</pre><p><a id="d152862e531" class="indexterm-anchor"></a><a id="d152862e533" class="indexterm-anchor"></a>此函数返回SDO_REGAGGRSET类型的对象。 SDO_REGAGGRSET对象类型定义为：</p><pre class="oac_no_warn" dir="ltr">SDO_REGAGGR表</pre><p>SDO_REGAGGR对象类型定义为：</p><pre class="oac_no_warn" dir="ltr">名字空？输入----------------------------------------- -------- ---------------------------- REGION_ID VARCHAR2（24）GEOMETRY MDSYS.SDO_GEOMETRY AGGREGATE_VALUE NUMBER</pre><p><code class="codeph">theme_colname</code>列必须在其上定义空间索引。为获得最佳性能，请将简化的几何图形插入此列。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-9831CCC5-CB60-4C4B-934D-09BF1B7EC257">例子</p>
                     <p>以下示例针对指定点几何周围半径为3英里的区域，计算名为TEST_TAB的表中所有几何的主题聚合。在这种情况下，每个区域的总人口是根据不同县内圈子面积的比例计算的，假设县内人口分布均匀。</p><pre class="oac_no_warn" dir="ltr">从表中选择a.aggregate_value（sdo_sam.aggregates_for_layer（'GEOD_COUNTIES'，'GEOM'，'SUM'，TOTPOP'，TEST_TAB'，'GEOM''距离= 3 unit = mile'））a;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1199"></a><div class="props_rev_3"><a id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B" name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B"></a><h3 id="SPATL-GUID-39661C3E-314A-45FF-B02D-FD988C32E96B" class="sect3"><span class="enumeration_section">31.3</span> SDO_SAM.BIN_GEOMETRY</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-1623B60D-CCCF-4415-96E4-4AC118DCFAE5">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.BIN_GEOMETRY（geom IN SDO_GEOMETRY，tol in SDO_DIM_ARRAY，bin_tablename IN VARCHAR2，bin_colname IN VARCHAR2）RETURN NUMBER;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.BIN_GEOMETRY（geom IN SDO_GEOMETRY，dim IN SDO_DIM_ARRAY，bin_tablename IN VARCHAR2，bin_colname IN VARCHAR2）RETURN NUMBER;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-D376C100-C7BD-4132-9214-702384AF31DF">描述</p>
                     <p>计算几何的最交叉的切片。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-3C737181-A785-4055-A841-863CD27AD74B">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-70FC0702-203C-48C1-8542-1AA7628A64D7"><!-- --></a> geom</dt>
                        <dd>
                           <p>要为其计算箱的几何。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-5D84F8F6-29CE-4E46-85EF-91DDE5E7C5BD"><!-- --></a> tol</dt>
                        <dd>
                           <p>公差值（见<a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">公差</a> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-898E6D93-1926-4A37-ABD2-DF096E2A22BA"><!-- --></a>昏暗</dt>
                        <dd>
                           <p>用于保存箱的几何的表的维数组。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-1E79D5EE-EB43-46C8-84D0-A093FC266FF0"><!-- --></a> bin_tablename</dt>
                        <dd>
                           <p>包含容器几何的表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-CA2BFE2C-C24E-40FA-B93D-D98EBEA8F86E"><!-- --></a> bin_colname</dt>
                        <dd>
                           <p><code class="codeph">bin_tablename</code>中的列，用于保存bin的几何。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-5104A8B9-AACB-49E3-9903-1F7E225E7C0D">使用说明</p>
                     <p>此函数返回与指定几何体最相交的bin。如果多个箱与指定几何相交到相同范围，则返回面积最小的箱。</p>
                     <p>要使用指定的<code class="codeph">bin_tablename</code>对数据挖掘表中的所有行执行此操作，可以使用<a href="SDO_SAM-reference.html#GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0">SDO_SAM.BIN_LAYER</a>过程。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-84E28D96-2B24-47E8-8325-4F5F3A3C1832">例子</p>
                     <p>以下示例计算指定几何的bin。</p><pre class="oac_no_warn" dir="ltr">SELECT sdo_sam.bin_geometry（a.geometry，0.0000005，'BINTBL'，'GEOMETRY'）FROM poly_4pt a，user_sdo_geom_metadata b WHERE b.table_name ='POLY_4PT'AND a.gid = 1; SDO_SAM.BIN_GEOMETRY（A.GEOMETRY，0.0000005，'BINTBL'，'GEOMETRY'）-------------------------------- ------------------------------ 43选1行。</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1200"></a><div class="props_rev_3"><a id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0" name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0"></a><h3 id="SPATL-GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0" class="sect3"><span class="enumeration_section">31.4</span> SDO_SAM.BIN_LAYER</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-6A8C37CE-E1A9-4917-BF51-756E02DFEBF0">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.BIN_LAYER（tablename IN VARCHAR2，colname IN VARCHAR2，bin_tablename IN VARCHAR2，bin_colname IN VARCHAR2，bin_id_colname IN VARCHAR2，commit_interval IN NUMBER DEFAULT 20）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-0A8E08B5-E792-4147-8A64-2B3AB8F59478">描述</p>
                     <p>将数据挖掘表中的每个位置（和相应的行）分配给空间箱。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-A970D422-27BA-4B1C-BCC3-75583A11D2BF">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-DD371940-C6CC-40AF-9F32-39333C388218"><!-- --></a> tablename</dt>
                        <dd>
                           <p>数据挖掘表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-2435B8D1-3020-470F-865C-532A7A02F7E8"><!-- --></a> colname</dt>
                        <dd>
                           <p><code class="codeph">table_name</code>中包含位置坐标的列的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-ABA4B7AC-D7E5-4AC9-A3B7-C0D7D1232A02"><!-- --></a> bin_tablename</dt>
                        <dd>
                           <p>包含有关空间区间的信息（预先计算整个二维空间）的表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-A98BF70D-4491-4DD3-9D98-AF2F48961D40"><!-- --></a> bin_colname</dt>
                        <dd>
                           <p><code class="codeph">bin_tablename</code>中的列，用于保存bin的几何。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-CBAE3ED4-C626-4F5F-A9ED-E468489AFED3"><!-- --></a> bin_id_colname</dt>
                        <dd>
                           <p>数据挖掘表中列的名称，用于保存添加到bin中的每个几何的bin ID值。（数据挖掘表中的每个受影响的行都使用<code class="codeph">bin_tablename</code> bin单元的ID值进行更新。）
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-EDAFFFCA-EF4D-449C-BB31-CEB0F536CF7F"><!-- --></a> commit_interval</dt>
                        <dd>
                           <p>在Spatial和Graph执行内部提交操作之前要执行的bin插入操作的数量。如果未指定<code class="codeph">commit_interval</code> ，则在每20次插入操作后执行提交。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-5E7D0E87-7802-4F16-8F6A-47EDA41507B4">使用说明</p>
                     <p>此过程使用<code class="codeph">bin_tablename</code>的bin计算指定图层中每个几何体的最交叉的tile。每个几何体的bin ID值都添加在<code class="codeph">bin_id_colname</code> 。
                     </p>
                     <p>使用此过程可以获得与使用指定的<code class="codeph">bin_tablename</code>在数据挖掘表中的每一行上使用<a href="SDO_SAM-reference.html#GUID-39661C3E-314A-45FF-B02D-FD988C32E96B">SDO_SAM.BIN_GEOMETRY</a>函数相同的结果。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-59AB03EC-D3F9-4897-BF5B-918B9641CDC6">例子</p>
                     <p>以下示例将POLY_4PT_TEMP数据挖掘表中的每个GEOMETRY列位置和相应行分配给空间bin，并在每个bin表插入后执行内部提交操作。</p><pre class="oac_no_warn" dir="ltr">CALL SDO_SAM.BIN_LAYER（'POLY_4PT_TEMP'，'GEOMETRY'，'BINTBL'，'GEOMETRY'，'BIN_ID'，1）;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1201"></a><div class="props_rev_3"><a id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9" name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9"></a><h3 id="SPATL-GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9" class="sect3"><span class="enumeration_section">31.5</span> SDO_SAM.COLOCATED_REFERENCE_FEATURES</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-588B9E7A-BB6B-4EDA-B7D6-326A8A66747D">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.COLOCATED_REFERENCE_FEATURES（theme_tablename IN VARCHAR2，theme_colname IN VARCHAR2，tablename IN VARCHAR2，colname IN VARCHAR2，ref_predicate IN VARCHAR2，dst_spec IN VARCHAR2，result_tablename IN VARCHAR2，commit_interval IN NUMBER DEFAULT 100）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-5EF96F86-14A9-44A6-A31C-107E15A58DBC">描述</p>
                     <p>执行基于部分谓词的表连接，并将连接结果具体化为表。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-D433CBD3-7D02-4B5D-AB45-9355851A9EF0">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-A2500CAD-0549-43A2-A042-834E91083EF8"><!-- --></a> theme_tablename</dt>
                        <dd>
                           <p>要与表名连接的<code class="codeph">tablename</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-50B99A66-CB0F-4844-9BDD-1CDCA484D3B0"><!-- --></a> theme_colname</dt>
                        <dd>
                           <p><code class="codeph">theme_tablename</code>几何列的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-DB28F04B-F5F3-4D64-B038-2C259C6C7CBA"><!-- --></a> theme_predicate</dt>
                        <dd>
                           <p>限定WHERE子句谓词应用于<code class="codeph">theme_tablename</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-B77F1A7A-8AED-4730-A022-2FEB31BABE79"><!-- --></a>表名</dt>
                        <dd>
                           <p>数据挖掘表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-DA086059-2B83-4224-B454-82BF63031A76"><!-- --></a> colname</dt>
                        <dd>
                           <p><code class="codeph">tablename</code>中包含位置坐标的列的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-9485B362-AAF0-4A3D-9350-0ED4F5F3A8A1"><!-- --></a> ref_predicate</dt>
                        <dd>
                           <p>限定WHERE子句谓词应用于<code class="codeph">tablename</code> 。必须为null或非null值：如果为null，则不应用谓词;如果为非null，则它必须是单个表谓词，例如<code class="codeph">'country_code=10'.</code></p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-298E0F26-2220-4B75-97E5-5D87B2559659"><!-- --></a> dst_spec</dt>
                        <dd>
                           <p>带引号的字符串，包含距离值和可选的几何周围缓冲区的单位值。有关格式和含义的说明，请参阅“使用说明”。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-2D8D137C-7BF8-4BB1-98D5-5EECACFE316D"><!-- --></a> result_tablename</dt>
                        <dd>
                           <p>存储物化连接结果的表。此表必须存在且必须具有以下定义： <code class="codeph">(tid NUMBER, rid1 VARCHAR2(24), rid2 VARCHAR2(24))</code></p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-F1207747-8A1C-419E-B194-C2E5730A6E01"><!-- --></a> commit_interval</dt>
                        <dd>
                           <p>在Spatial和Graph执行内部提交操作之前要执行的内部联接操作的数量。如果未指定<code class="codeph">commit_interval</code> ，则在每100次内部联接操作后执行提交。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-F2D9A10C-4442-4C52-8978-E1D109798F20">使用说明</p>
                     <p>此过程实现从基于谓词的连接操作返回的每对rowid，并将它们存储在<code class="codeph">result_tablename</code>的<code class="codeph">rid1, rid2</code>列中。<code class="codeph">tid</code>是对应于每个<code class="codeph">rid1</code>值的唯一生成的“交互”数字。
                     </p>
                     <p>如果指定， <code class="codeph">dst_spec</code>参数是带引号的字符串，其包含<code class="codeph">distance</code>关键字和可选的<code class="codeph">unit</code>关键字（与距离值相关联的度量单位），以指定几何体周围的缓冲区。例如， <code class="codeph">'distance=2 unit=km'</code>指定输入几何体周围的2公里缓冲区。如果未指定<code class="codeph">dst_spec</code> ，则不使用缓冲区。
                     </p>
                     <p>如果指定了<code class="codeph">unit</code>关键字，则该值必须是MDSYS.SDO_DIST_UNITS表中的SDO_UNIT值（例如， <code class="codeph">'unit=KM'</code> ）。如果未指定<code class="codeph">unit</code>关键字，则使用与几何关联的度量单位。有关<a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="Geometry functions that involve measurement allow an optional unit parameter to specify the unit of measurement for a specified distance or area, if a georeferenced coordinate system (SDO_SRID value) is associated with the input geometry or geometries.">测量</a>单位规范的更多信息，请参见<a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="如果地理参考坐标系（SDO_SRID值）与输入几何或几何相关联，则涉及测量的几何函数允许可选单位参数指定指定距离或区域的测量单位。">测量支持</a>单位。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-3AE34706-2BFE-4238-8D1D-1A7405759026">例子</p>
                     <p>以下示例确定位于州际高速公路20公里范围内的1990年人口（POP90列值）大于120,000的城市（GEOD_INTERSTATES表中的GEOM列）。它将结果存储在名为COLOCATION_TABLE的表中，并在每20次内部操作后执行内部提交操作。</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_SAM.COLOCATED_REFERENCE_FEATURES（'geod_cities'，'location'，'pop90&gt; 120000'，'geod_interstates'，'geom'，null，'distance = 20 unit = km'，'colocation_table'，20）;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1202"></a><div class="props_rev_3"><a id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C" name="GUID-3811D8E9-1355-4527-BD65-D43B3631079C"></a><h3 id="SPATL-GUID-3811D8E9-1355-4527-BD65-D43B3631079C" class="sect3"><span class="enumeration_section">31.6</span> SDO_SAM.SIMPLIFY_GEOMETRY</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-5E0C0299-629E-4BB9-A2E1-5E804B05B9D2">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.SIMPLIFY_GEOMETRY（geom IN SDO_GEOMETRY，dim in SDO_DIM_ARRAY，pct_area_change_limit in NUMBER DEFAULT 2）RETURN SDO_GEOMETRY;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.SIMPLIFY_GEOMETRY（geom IN SDO_GEOMETRY，tol in NUMBER，pct_area_change_limit in NUMBER DEFAULT 2）RETURN SDO_GEOMETRY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-D2B9803B-1268-40E7-B747-242EFA2F8BD9">描述</p>
                     <p>简化几何体。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-9B3DA3EE-ABDF-4994-B5C2-4134B5D5B180">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-4B60ACD6-14FD-4392-BE85-E33F89A580D0"><!-- --></a> geom</dt>
                        <dd>
                           <p>几何要简化。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-0806048B-BB1B-464D-BD59-F3CF6C1F8996"><!-- --></a>昏暗</dt>
                        <dd>
                           <p>要简化的几何体的尺寸数组。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-BD100873-24FF-4027-8586-415504095051"><!-- --></a> tol</dt>
                        <dd>
                           <p>公差值（见<a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">公差</a> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-88EC033E-861B-41DD-81FE-FA05D8714590"><!-- --></a> pct_area_change_limit</dt>
                        <dd>
                           <p>如“使用说明”中所述，更改的区域百分比将用于每次简化迭代。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-946D446D-C25A-46EA-98A8-0ADB84E4CB23">使用说明</p>
                     <p>此函数通过在内部应用具有适当阈值的<a href="SDO_UTIL-reference.html#GUID-1013175B-8A1A-45F7-BC60-A3DF5B109BEF">SDO_UTIL.SIMPLIFY</a>函数（在<a href="SDO_UTIL-reference.html#GUID-7A79F1C4-FABF-432A-AF94-9E9CB23BBFBA" title="MDSYS.SDO_UTIL包中包含空间实用程序子程序。">SDO_UTIL包（实用程序）中记录</a> ）来减少几何中的顶点数。
                     </p>
                     <p>减少顶点数量可能会导致几何体区域发生变化。<code class="codeph">pct_area_change_limit</code>参数指定在简化几何图形时可以容许多少区域更改。它通常是1到100之间的数字。默认值为2;也就是说，由于几何形状的简化，几何体的面积与原始几何体相比可以增加或减少至多2％。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-60571175-F53B-420A-9AE8-66FCB943385E">例子</p>
                     <p>以下示例简化了POLY_4PT_TEMP表的GEOMETRY列中的几何。</p><pre class="oac_no_warn" dir="ltr">SELECT sdo_sam.simplify_geometry（a.geometry，0.00000005）FROM poly_4pt_temp a，user_sdo_geom_metadata b WHERE b.table_name ='POLY_4PT_TEMP'; SDO_SAM.SIMPLIFY_GEOMETRY（A.GEOMETRY，0.00000005）（ORIG_AREA，CUR_AREA，ORIG_LEN，--------------------------------- ----------------------------------------------- SDO_SMPL_GEOMETRY（28108.5905 ，28108.5905,758.440118,758.440118，SDO_GEOMETRY（2 003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,1），SDO_ORDINATE_ARRAY（-122.4215,37.7862，-122.422,37.7869，-122.421,37.789，-122.42,37.7866，-122.4215， 37.78 62）））SDO_SMPL_GEOMETRY（4105.33806,4105.33806,394.723053,394.723053，SDO_GEOMETRY（2 003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,1），SDO_ORDINATE_ARRAY（-122.4019,3.8052，-122.4027,3.8055，-122.4031,37.806， -122.4012,3.8052，-122.4019,3 7.8052）））。。。选择了50行。</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1203"></a><div class="props_rev_3"><a id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951" name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951"></a><h3 id="SPATL-GUID-EC873FC0-BDFB-45D8-9F78-81112497D951" class="sect3"><span class="enumeration_section">31.7</span> SDO_SAM.SIMPLIFY_LAYER</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-6EDC5AAD-FF95-47B9-8603-0C484EF38586">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.SIMPLIFY_LAYER（theme_tablename IN VARCHAR2，theme_colname IN VARCHAR2，smpl_geom_colname IN VARCHAR2，commit_interval IN NUMBER DEFAULT 10，pct_area_change_limit in NUMBER DEFAULT 2）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-40FA0858-925E-4B1D-B272-2736A66C948D">描述</p>
                     <p>简化几何图层。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-CAAB27EC-30A6-49EB-BC99-0E0E1F896FDE">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-8E51025A-0861-4A82-93B9-9BF4A14BAFC7"><!-- --></a> theme_tablename</dt>
                        <dd>
                           <p>包含要简化的几何图层的表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-3F6A08A8-DA47-418C-8AB4-A718AC27D8A9"><!-- --></a> theme_colname</dt>
                        <dd>
                           <p>类型为SDO_GEOMETRY的<code class="codeph">theme_tablename</code>的列，包含要简化的几何。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-646E3D62-3F2C-4358-8D47-FADD52940D5B"><!-- --></a> smpl_geom_colname</dt>
                        <dd>
                           <p>类型为SDO_GEOMETRY的<code class="codeph">theme_tablename</code>的列，此过程将在其中放置简化的几何。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-3809B5D3-96A3-48CF-96EE-92E760D0F827"><!-- --></a> commit_interval</dt>
                        <dd>
                           <p>在Spatial和Graph执行内部提交操作之前要简化的几何数量。如果未指定<code class="codeph">commit_interval</code> ，则在每10次简化操作后执行提交。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-D0E2A417-AD80-4412-AA1D-2BF721E467AC"><!-- --></a> pct_area_change_limit</dt>
                        <dd>
                           <p>更改为用于每次简化迭代的区域百分比，如<a href="SDO_SAM-reference.html#GUID-3811D8E9-1355-4527-BD65-D43B3631079C">SDO_SAM.SIMPLIFY_GEOMETRY</a>函数的使用说明中所述。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-7493F3C7-19F6-40F3-A2D3-E3427537F1B7">使用说明</p>
                     <p>此过程简化了图层中的所有几何图形。它等效于为<a href="SDO_SAM-reference.html#GUID-3811D8E9-1355-4527-BD65-D43B3631079C">图层</a>中的每个几何体调用<a href="SDO_SAM-reference.html#GUID-3811D8E9-1355-4527-BD65-D43B3631079C">SDO_SAM.SIMPLIFY_GEOMETRY</a>函数，除了每个简化几何体都放在表中的单独列中，而不是返回给调用者。另请参阅<a href="SDO_SAM-reference.html#GUID-3811D8E9-1355-4527-BD65-D43B3631079C">SDO_SAM.SIMPLIFY_GEOMETRY</a>函数的使用说明。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-696AD47E-DECE-43E5-9C8C-884E5305A906">例子</p>
                     <p>以下示例将名为SMPL_GEOM的列添加到POLY_4PT_TEMP表中，然后简化POLY_4PT_TEMP表的GEOMETRY列中的所有几何，将每个简化的几何图形放在同一行中的SMPL_GEOM列及其关联的原始几何图形中。</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE poly_4pt_temp ADD（smpl_geom mdsys.sdo_geometry）;表改变了。EXECUTE sdo_sam.simplify_layer（'POLY_4PT_TEMP'，'GEOMETRY'，'SMPL_GEOM'）; PL / SQL过程成功完成。</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1204"></a><div class="props_rev_3"><a id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252" name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252"></a><h3 id="SPATL-GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252" class="sect3"><span class="enumeration_section">31.8</span> SDO_SAM.SPATIAL_CLUSTERS</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-9E62BA01-E775-4D7C-A525-409FE6096383">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.SPATIAL_CLUSTERS（tablename IN VARCHAR2，colname IN VARCHAR2，max_clusters IN NUMBER，allow_outliers IN VARCHAR2 DEFAULT'TRUE'，tablepartition IN VARCHAR2 DEFAULT NULL）RETURN SDO_REGIONSET;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-382302D8-F6DA-4B6C-B8C8-66E720E002A8">描述</p>
                     <p>使用现有R树索引计算集群，并返回一组SDO_REGION对象，其中geometry列指定每个集群的边界，并且<code class="codeph">geometry_key</code>值设置为null。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-B6F244AF-D495-451D-8E13-8F076EE4E8C9">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-91B2ABC4-BA85-4219-B841-533332923D49"><!-- --></a>表名</dt>
                        <dd>
                           <p>数据挖掘表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-1CFEADD8-332B-4C34-9996-812192630887"><!-- --></a> colname</dt>
                        <dd>
                           <p><code class="codeph">tablename</code>中包含位置坐标的列的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-0761FEA1-8D24-410B-BEC1-5CFFB588205C"><!-- --></a> max_clusters</dt>
                        <dd>
                           <p>要获取的最大簇数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-116710A8-4871-43B4-B294-7A7D534D8188"><!-- --></a> allow_outliers</dt>
                        <dd>
                           <p><code class="codeph">TRUE</code> （默认值）导致外围值（隔离实例）包含在空间簇中; <code class="codeph">FALSE</code>导致外围值不包含在空间簇中。（ <code class="codeph">TRUE</code>适应所有数据并可能导致更大的集群; <code class="codeph">FALSE</code>可能会排除某些数据并可能导致更小的集群。）
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-178D1878-FE25-44D9-81DC-9982A82D6C62"><!-- --></a> tablepartition</dt>
                        <dd>
                           <p><code class="codeph">tablename</code>分区的名称。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-952E1585-749D-40B2-B4FA-7346B36D08BB">使用说明</p>
                     <p>使用<code class="codeph">tablename</code>上的空间R树索引计算聚类。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-FE5FCF8C-7B90-4246-B832-17DBCE086605">例子</p>
                     <p>以下示例将城市中的位置聚类为最多三个群集，并在群集中包含异常值。</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM TABLE（sdo_sam.spatial_clusters（'PROJ_CITIES'，'LOCATION'，3，'TRUE'））;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1205"></a><div class="props_rev_3"><a id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9" name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9"></a><h3 id="SPATL-GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9" class="sect3"><span class="enumeration_section">31.9</span> SDO_SAM.TILED_AGGREGATES</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-BF0A8284-CE97-4F25-ADCB-C22DB1B0C4C5">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.TILED_AGGREGATES（theme_name IN VARCHAR2，theme_colname IN VARCHAR2，aggr_type_string IN VARCHAR2，treg_level IN NUMBER DEFAULT NULL，tiling_domain IN SDO_DIM_ARRAY DEFAULT NULL，zero_agg_tiles IN NUMBER DEFAULT 0，xdivs IN NUMBER DEFAULT NULL，ydivs IN NUMBER DEFAULT NULL）返回SDO_REGAGGRSET;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-D423E7E5-22E7-4456-A803-853F91C445A3">描述</p>
                     <p>Tiles聚合域的聚合。对于每个图块，计算主题表中的相交几何图形; <code class="codeph">aggr_col_string</code>列中的值按交集区域的比例加权，并根据<code class="codeph">aggr_col_string</code>聚合。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-5EA53CD9-BF9E-410F-83EE-396AF4DB5A9B">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-7AB9D1B6-641E-4BA0-B80D-CBF92BCAABE0"><!-- --></a> theme_name</dt>
                        <dd>
                           <p>包含主题信息的表（例如，人口统计信息）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-9107E2B3-514D-4EF2-9DAC-702405114D37"><!-- --></a> theme_colname</dt>
                        <dd>
                           <p><code class="codeph">theme_name</code>表中包含几何对象的列的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-F3FE657B-8318-4693-9CE8-16778ABBB1A4"><!-- --></a> aggr_type_string</dt>
                        <dd>
                           <p>任何Oracle SQL聚合函数，它接受一个或多个数值并计算数值，例如<code class="codeph">SUM</code> ， <code class="codeph">MIN</code> ， <code class="codeph">MAX</code>或<code class="codeph">AVG</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-6344ECF0-7F7F-4122-A315-B39EDB7835DE"><!-- --></a> aggr_col_string</dt>
                        <dd>
                           <p>要在其上计算聚合值的<code class="codeph">theme_name</code>表中的列的名称。一个例子可能是POPULATION列。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-29546E17-5DBF-407B-B2CB-DFEDA7926274"><!-- --></a> tiling_level</dt>
                        <dd>
                           <p>用于创建切片的级别。如果指定此参数，则每个维度的范围将划分为2 ^ <code class="codeph">tiling_level</code>部分，最多生成4 * <code class="codeph">tiling_level</code>切片。（指定此参数或<code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>参数的组合。）
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-539FE5F1-C318-4EE1-B3D6-689735060382"><!-- --></a> tiling_domain</dt>
                        <dd>
                           <p>平铺级别的域。该参数不是必需的，如果不指定，则使用与<code class="codeph">theme_name</code>表关联的范围。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-013D2546-9DCA-4175-99E9-4F1D1927D45E"><!-- --></a> zero_agg_tiles</dt>
                        <dd>
                           <p>指定0以排除计算聚合的值为0的切片，或指定1以返回所有切片。默认值为0，这可确保仅返回具有非零聚合值的切片。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-0A76D078-AD2D-4CA9-BF63-A1941B9748B1"><!-- --></a> xdivs</dt>
                        <dd>
                           <p>分割第一维中的范围的次数，使得部件的总数是<code class="codeph">xdivs</code> + 1。例如，如果为<code class="codeph">xdivs</code>指定10，则第一个维度的范围分为11个部分。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-D9B8A566-ECB3-4BCB-8CEF-65DC22A9CEF3"><!-- --></a> ydivs</dt>
                        <dd>
                           <p>分割第二维中的范围的次数，使得部件的总数是<code class="codeph">ydivs</code> + 1。例如，如果为<code class="codeph">ydivs</code>指定10，则第二个维度的范围分为11个部分。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-1E1196A9-6CDB-4007-8D49-2898ACC3965A">使用说明</p>
                     <p>此函数类似于<a href="SDO_SAM-reference.html#GUID-1074B640-8614-4EB6-9149-B60D2FB19363">SDO_SAM.AGGREGATES_FOR_LAYER</a> ，但结果是使用平铺信息动态生成的。给定<code class="codeph">theme_name</code>表，确定平铺域。基于<code class="codeph">tiling_level</code>值或<code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>值，生成必要的切片。对于每个切片几何体，将按照<a href="SDO_SAM-reference.html#GUID-1074B640-8614-4EB6-9149-B60D2FB19363">SDO_SAM.AGGREGATES_FOR_LAYER</a>的使用说明中的说明计算主题聚合。</p>
                     <p>您必须指定<code class="codeph">tiling_level</code>参数或同时指定<code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>参数。如果指定了所有这三个参数中， <code class="codeph">tiling_level</code>参数被忽略， <code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>参数使用。
                     </p>
                     <p>如果指定<code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>参数，则返回的网格（平铺）总数为<code class="codeph">(xdivs+1)*(ydivs+1)</code> 。
                     </p>
                     <p><a id="d152862e1765" class="indexterm-anchor"></a><a id="d152862e1767" class="indexterm-anchor"></a>此函数返回SDO_REGAGGRSET类型的对象。 SDO_REGAGGRSET对象类型定义为：</p><pre class="oac_no_warn" dir="ltr">SDO_REGAGGR表</pre><p>SDO_REGAGGR对象类型定义为：</p><pre class="oac_no_warn" dir="ltr">名字空？输入----------------------------------------- -------- ---------------------------- REGION_ID VARCHAR2（24）GEOMETRY MDSYS.SDO_GEOMETRY AGGREGATE_VALUE NUMBER</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-8F107816-2C56-4991-9D0C-825026B118D5">例子</p>
                     <p>以下示例计算与每个图块相交的POLY_4PT_TEMP表的总体行的总和。存储在USER_SDO_GEOM_METADATA视图中的POLY_4PT_TEMP表的范围用作域，并且使用平铺级别2（即，域被分为16个区块）。</p><pre class="oac_no_warn" dir="ltr">从TABLE中选择a.geometry，a.aggregate_value（sdo_sam.tiled_aggregates（'POLY_4PT_TEMP'，'GEOMETRY'，'SUM'，'POPULATION'，2））a;几何（SDO_GTYPE，SDO_SRID，SDO_POINT（X，Y，Z），SDO_ELEM_INFO，SDO_ORDINATES）------------------------------- ------------------------------------------------- AGGREGATE_VALUE --------------- SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（-180，-90，-90，-45））。007150754 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（-180，-45，-90,0））。034831005 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3） ，SDO_ORDINATE_ARR AY（-180,0，-90,45））7.73307783 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（-90，-90,0，-45））。019498368 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（-90，-45,0,0））.939061456 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3）， SDO_ORDINATE_ARR AY（-90,0,0,45））1.26691592 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（0,0,90,45））40选择了7行。</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1206"></a><div class="props_rev_3"><a id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB" name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB"></a><h3 id="SPATL-GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB" class="sect3"><span class="enumeration_section">31.10</span> SDO_SAM.TILED_BINS</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-0E82679D-4952-4FAC-BEF5-86C389CA6CC3">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.TILED_BINS（l1 IN NUMBER，u1 in NUMBER，l2 in NUMBER，u2 in NUMBER，tiling_level IN NUMBER DEFAULT NULL，srid IN NUMBER DEFAULT NULL，xdivs IN NUMBER DEFAULT NULL，ydivs IN NUMBER DEFAULT NULL）RETURN SDO_REGIONSET;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-E8C35E0A-3075-4EDA-A469-E8DBE59B0DCE">描述</p>
                     <p>平铺二维空间并返回与这些图块对应的几何图形。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-143C5274-569E-4375-A44D-34746279BEC3">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-D2A11A77-F54B-4FEE-BA1A-A422DF31D5F8"><!-- --></a> l1</dt>
                        <dd>
                           <p>第一维中范围的下限。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-C141B1B2-FB3C-4E4B-9F9D-0598B76FFD16"><!-- --></a> u1</dt>
                        <dd>
                           <p>第一维中范围的上限。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-0ED4DA4C-2B18-4018-B109-3F1493EF45C9"><!-- --></a> l2</dt>
                        <dd>
                           <p>第二维中范围的下限。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-06126713-8F1F-4111-BDEA-1FDFEDFDE0C7"><!-- --></a> u2</dt>
                        <dd>
                           <p>第二维中范围的上限。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-9AECFB8A-B5F7-4785-A6FD-F644736FA7D2"><!-- --></a> tiling_level</dt>
                        <dd>
                           <p>用于平铺指定范围的级别。如果指定此参数，则每个维度的范围将划分为2 ^ <code class="codeph">tiling_level</code>部分，最多生成4 * <code class="codeph">tiling_level</code>切片。（指定此参数或<code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>参数的组合。）
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-9FEF4902-04F1-4B68-AD95-8B0EF3DEA50E"><!-- --></a> srid</dt>
                        <dd>
                           <p>要在返回的切片几何中包含的坐标系的SRID值。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-1A57B873-2A82-48EA-9E0C-A770A3EE71EB"><!-- --></a> xdivs</dt>
                        <dd>
                           <p>分割第一维中的范围的次数，使得部件的总数是<code class="codeph">xdivs</code> + 1。例如，如果为<code class="codeph">xdivs</code>指定10，则第一个维度的范围分为11个部分。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-B8583327-AF38-476B-B8FD-F2A5C38D85D0"><!-- --></a> ydivs</dt>
                        <dd>
                           <p>分割第二维中的范围的次数，使得部件的总数是<code class="codeph">ydivs</code> + 1。例如，如果为<code class="codeph">ydivs</code>指定10，则第二个维度的范围分为11个部分。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-4D7DF381-136E-489A-BDA7-E8077600B6B7">使用说明</p>
                     <p>您必须指定<code class="codeph">tiling_level</code>参数或同时指定<code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>参数。如果指定了所有这三个参数中， <code class="codeph">tiling_level</code>参数被忽略， <code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>参数使用。
                     </p>
                     <p>如果指定<code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>参数，则返回的网格（平铺）总数为<code class="codeph">(xdivs+1)*(ydivs+1)</code> 。
                     </p>
                     <p><a id="d152862e1977" class="indexterm-anchor"></a><a id="d152862e1979" class="indexterm-anchor"></a>此函数返回SDO_REGIONSET类型的对象。 SDO_REGIONSET对象类型定义为：</p><pre class="oac_no_warn" dir="ltr">SDO_REGION表</pre><p>SDO_REGION对象类型定义为：</p><pre class="oac_no_warn" dir="ltr">名字空？输入----------------------------------------- -------- ---------------------------- ID NUMBER GEOMETRY MDSYS.SDO_GEOMETRY</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-6BF490CF-8254-4971-89D9-942E315F5EE8">例子</p>
                     <p>以下示例使用标准经度和纬度坐标系（SRID 8307）在第一个平铺级别平铺整个地球表面。生成的SDO_REGIONSET对象包含四个SDO_REGION对象，每个对象一个。</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM TABLE（sdo_sam.tiled_bins（-180,180，-90,90,1,8307））ORDER BY id; ID ---------- GEOMETRY（SDO_GTYPE，SDO_SRID，SDO_POINT（X，Y，Z），SDO_ELEM_INFO，SDO_ORDINATES）-------------------- -------------------------------------------------- ---------- 0 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（-180，-90,0,0））1 SDO_GEOMETRY（2003,8307，NULL ，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（-180,0,0,90））2 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（0，-90,180） ，0））3 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（0,0,180,90））选择4行。</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="09778.sql-indexing-spatial-data.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter describes the SQL statements used when working with the spatial object data type."></meta>
      <meta name="description" content="This chapter describes the SQL statements used when working with the spatial object data type."></meta>
      <title>用于索引空间数据的SQL语句</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="This chapter describes the SQL statements used when working with the spatial object data type."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94799-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="spatial-reference-information.html" title="Previous" type="text/html"></link>
      <link rel="next" href="spatial-operators-reference.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="SPATL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="spatial-reference-information.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="spatial-operators-reference.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-reference-information.html" property="item" typeof="WebPage"><span property="name">参考信息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">用于索引空间数据的SQL语句</li>
            </ol>
            <a id="GUID-E356011F-BC91-44EC-9E86-E5E786EDC2BC" name="GUID-E356011F-BC91-44EC-9E86-E5E786EDC2BC"></a><a id="SPATL1015"></a><a id="SPATL090"></a>
            
            <h2 id="SPATL-GUID-E356011F-BC91-44EC-9E86-E5E786EDC2BC" class="sect2"><span class="enumeration_chapter">19</span>索引空间数据的SQL语句</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍使用空间对象数据类型时使用的SQL语句。</p>
               <p><a id="d112553e51" class="indexterm-anchor"></a>有关任何语句的完整参考信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/spatl&amp;id=SQLRF" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
               </p>
               <p>粗体斜体文本通常用于本章的“ <span class="bold">关键字和参数”</span>部分，以标识关键字的分组，然后是组中的特定关键字。例如， <span class="italic"><span class="bold">INDEX_PARAMS</span></span>标识一组与索引相关的关键字的开头。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="sql-indexing-spatial-data.html#GUID-D1F318B7-F224-4576-A59C-F42E14427B99">改变指数</a><br></li>
                  <li class="ulchildlink"><a href="sql-indexing-spatial-data.html#GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677">ALTER INDEX REBUILD</a><br></li>
                  <li class="ulchildlink"><a href="sql-indexing-spatial-data.html#GUID-17F46CB0-57E2-4DAB-9E43-DC57426ED028">ALTER INDEX RENAME TO</a><br></li>
                  <li class="ulchildlink"><a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">创建指数</a><br></li>
                  <li class="ulchildlink"><a href="sql-indexing-spatial-data.html#GUID-A661EFD5-59E6-4084-A511-B5141F9205A7">DROP INDEX</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="spatial-reference-information.html#GUID-343C3A98-6564-49CF-AA31-F86C5AEAAF02">参考信息</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL1016"></a><div class="props_rev_3"><a id="GUID-D1F318B7-F224-4576-A59C-F42E14427B99" name="GUID-D1F318B7-F224-4576-A59C-F42E14427B99"></a><h3 id="SPATL-GUID-D1F318B7-F224-4576-A59C-F42E14427B99" class="sect3"><span class="enumeration_section">19.1改变</span>指数</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-D1F318B7-F224-4576-A59C-F42E14427B99__GUID-0B6F5049-15F5-4B13-BF3B-450BB294FFB0">目的</p>
                     <p>更改空间索引的特定参数。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D1F318B7-F224-4576-A59C-F42E14427B99__GUID-6EB3D17E-D7CD-4F93-957E-47D78C27376C">句法</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX [schema。] index PARAMETERS（'index_params [physical_storage_params]'）[{NOPARALLEL | PARALLEL [整数]}];</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D1F318B7-F224-4576-A59C-F42E14427B99__GUID-0C51BCA7-96E7-4930-8256-FB62EA43A771">关键词和参数</p>
                     <div class="tblformal" id="GUID-D1F318B7-F224-4576-A59C-F42E14427B99__GUID-883F3842-407B-4361-8375-77637D36A0D4">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for ALTER INDEX" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d112553e184">值</th>
                                 <th align="left" valign="bottom" width="71%" id="d112553e187">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e192" headers="d112553e184 ">
                                    <p><span class="italic"><span class="bold">INDEX_PARAMS</span></span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e192 d112553e187 ">
                                    <p>改变空间索引的特征。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e201" headers="d112553e184 ">
                                    <p><a id="d112553e203" class="indexterm-anchor"></a> sdo_indx_dims</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e201 d112553e187 ">
                                    <p>指定要编制索引的维数。例如，值2仅导致前两个维度被索引。必须小于或等于实际尺寸的数量。有关三维几何的使用信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。数据类型为NUMBER。默认= 2。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e219" headers="d112553e184 ">
                                    <p>sdo_rtr_pctfree</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e219 d112553e187 ">
                                    <p>指定创建索引时要保留为空的每个索引树节点中的最小插槽百分比。当新数据插入表中时，可以稍后填充留空的插槽。该值的范围为0到50。默认值最适合大多数应用程序;但是，如果不对几何列执行任何更新，则建议值为0。数据类型为NUMBER。默认= 10。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e228" headers="d112553e184 ">
                                    <p><span class="italic"><span class="bold">PHYSICAL_STORAGE_PARAMS</span></span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e228 d112553e187 ">
                                    <p>确定用于更改空间索引数据表的存储参数。空间索引数据表是具有规定格式的标准Oracle表。并非支持CREATE TABLE语句的STORAGE子句中允许的所有物理存储参数。以下是受支持子集的列表。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e237" headers="d112553e184 ">
                                    <p><span>表空间</span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e237 d112553e187 ">
                                    <p>指定创建索引数据表的表空间。此参数与CREATE TABLE语句的STORAGE子句中的TABLESPACE相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e245" headers="d112553e184 ">
                                    <p><span>初始</span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e245 d112553e187 ">
                                    <p>与CREATE TABLE语句的STORAGE子句中的INITIAL相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e253" headers="d112553e184 ">
                                    <p><span>下一个</span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e253 d112553e187 ">
                                    <p>与CREATE TABLE语句的STORAGE子句中的NEXT相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e261" headers="d112553e184 ">
                                    <p><span>MINEXTENTS</span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e261 d112553e187 ">
                                    <p>与CREATE TABLE语句的STORAGE子句中的MINEXTENTS相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e269" headers="d112553e184 ">
                                    <p><span>MAXEXTENTS</span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e269 d112553e187 ">
                                    <p>与CREATE TABLE语句的STORAGE子句中的MAXEXTENTS相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e277" headers="d112553e184 ">
                                    <p><span>PCTINCREASE</span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e277 d112553e187 ">
                                    <p>与CREATE TABLE语句的STORAGE子句中的PCTINCREASE相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e285" headers="d112553e184 ">
                                    <p><span class="italic"><span class="bold">{NOPARALLEL | PARALLEL [整数]}</span></span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e285 d112553e187 ">
                                    <p><a id="d112553e296" class="indexterm-anchor"></a><a id="d112553e302" class="indexterm-anchor"></a>控制串行（NOPARALLEL）执行或并行（PARALLEL）执行是否用于后续查询和使用索引的DML操作。对于并行执行，您可以指定并行度的整数值。有关适用于PARALLEL关键字使用的准则和限制，请参阅<a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a>语句的使用说明。默认值= NOPARALLEL。 （如果指定PARALLEL时没有整数值，则Oracle数据库会计算最佳并行度。）
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D1F318B7-F224-4576-A59C-F42E14427B99__GUID-7CE1ADB0-BED5-431F-96A9-6C487AA8AAB9">先决条件</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您必须对索引类型及其实现类型具有EXECUTE特权。</p>
                        </li>
                        <li>
                           <p>要更改的空间索引未标记正在进行中。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D1F318B7-F224-4576-A59C-F42E14427B99__GUID-E26A5978-5AD0-4361-A675-C30C34C004FA">使用说明</p>
                     <p>使用此语句可更改现有索引的参数。</p>
                     <p>有关许多其他可用参数的用法信息，请参阅<a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a>语句的使用说明。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D1F318B7-F224-4576-A59C-F42E14427B99__GUID-3BF33235-5916-4C44-BC45-6CA1349BDB7E">例子</p>
                     <p>以下示例修改名为BGI的空间索引的分区IP2的表空间。</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX bgi MODIFY PARTITION ip2 PARAMETERS（'tablespace = TBS_3'）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D1F318B7-F224-4576-A59C-F42E14427B99__GUID-F5B66061-014E-4515-B5BD-A520C568E74E">相关话题</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="sql-indexing-spatial-data.html#GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677">ALTER INDEX REBUILD</a></p>
                        </li>
                        <li>
                           <p><a href="sql-indexing-spatial-data.html#GUID-17F46CB0-57E2-4DAB-9E43-DC57426ED028">ALTER INDEX RENAME TO</a></p>
                        </li>
                        <li>
                           <p><a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">创建指数</a></p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/spatl&amp;id=SQLRF01001" target="_blank"><span class="italic">Oracle数据库SQL语言参考中的</span></a> ALTER TABLE（分区维护的子句）</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="sql-indexing-spatial-data.html#GUID-E356011F-BC91-44EC-9E86-E5E786EDC2BC" title="本章介绍使用空间对象数据类型时使用的SQL语句。">索引空间数据的SQL语句</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1017"></a><div class="props_rev_3"><a id="GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677" name="GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677"></a><h3 id="SPATL-GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677" class="sect3"><span class="enumeration_section">19.2</span> ALTER INDEX REBUILD</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677__GUID-0B666115-222E-4192-A2EB-C3052C7B6A18">句法</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX [schema。] index REBUILD [PARAMETERS（'rebuild_params [physical_storage_params]'）] [{NOPARALLEL | PARALLEL [整数]}];</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX [schema。] index REBUILD ONLINE [PARAMETERS（'rebuild_params [physical_storage_params]'）] [{NOPARALLEL | PARALLEL [整数]}];</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX [schema。] index REBUILD PARTITION partition [PARAMETERS（'rebuild_params [physical_storage_params]'）];</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677__GUID-4D613C5E-3ECD-43AB-A5E3-FE21446A196A">目的</p>
                     <p>重建分区索引的空间索引或指定分区。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677__GUID-C1240E3B-5B2B-4F4C-814A-5772C1E7EBE6">关键词和参数</p>
                     <div class="tblformal" id="GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677__GUID-786415AC-0A48-4571-BC89-606E484E52B2">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters  and descriptions for ALTER INDEX REBUILD" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d112553e473">值</th>
                                 <th align="left" valign="bottom" width="71%" id="d112553e476">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e481" headers="d112553e473 ">
                                    <p><span class="italic"><span class="bold">REBUILD_PARAMS</span></span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e481 d112553e476 ">
                                    <p>在命令字符串中指定用于重建空间索引的索引参数。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e490" headers="d112553e473 ">
                                    <p>index_status =清理</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e490 d112553e476 ">
                                    <p>对于联机重建操作（ALTER INDEX REBUILD ONLINE），对与旧版索引关联的表执行清理操作。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e497" headers="d112553e473 ">
                                    <p>LAYER_GTYPE</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e497 d112553e476 ">
                                    <p>检查以确保所有几何都具有指定的几何类型。该值必须来自<a href="spatial-datatypes-metadata.html#GUID-4D84CE67-67E4-4A84-8255-C586E765A94B">SDO_GTYPE中</a>的Geometry Type列（除了不允许使用UNKNOWN_GEOMETRY）。此外，指定POINT可以优化点数据处理。数据类型是VARCHAR2。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e510" headers="d112553e473 ">
                                    <p>sdo_dml_batch_size</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e510 d112553e476 ">
                                    <p>指定提交操作后要在每批更新中处理的索引更新数。默认值为4000;例如，如果向空间表中插入5000行，然后执行提交操作，则会在两批插入操作（4000和1000）中执行对空间索引表的更新。有关更多信息，请参见<a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a>语句的用法说明。数据类型为NUMBER。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e523" headers="d112553e473 ">
                                    <p>sdo_indx_dims</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e523 d112553e476 ">
                                    <p>指定要编制索引的维数。例如，值2仅导致前两个维度被索引。必须小于或等于实际尺寸的数量。有关三维几何的使用信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。数据类型为NUMBER。默认= 2。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e539" headers="d112553e473 ">
                                    <p>sdo_max_memory</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e539 d112553e476 ">
                                    <p>指定可以分配用于执行空间索引构建或重建操作的最大内存量。可以从64000（约64 KB）到200000000（约200 MB）。如果无法分配指定的字节数，则分配64000（约64 KB）。指定大于默认值的值可以显着提高索引创建性能;但是，请勿指定超过20％的可用内存。数据类型为NUMBER。默认值= 10000000（约10 MB）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e548" headers="d112553e473 ">
                                    <p>sdo_rtr_pctfree</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e548 d112553e476 ">
                                    <p>指定创建索引时要保留为空的每个索引树节点中的最小插槽百分比。当新数据插入表中时，可以稍后填充留空的插槽。该值的范围为0到50。数据类型为NUMBER。默认= 10。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e557" headers="d112553e473 ">
                                    <p><span class="italic"><span class="bold">PHYSICAL_STORAGE_PARAMS</span></span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e557 d112553e476 ">
                                    <p>确定用于重建空间索引数据表的存储参数。空间索引数据表是具有规定格式的常规Oracle表。并非支持CREATE TABLE语句的STORAGE子句中允许的所有物理存储参数。以下是受支持子集的列表。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e566" headers="d112553e473 ">
                                    <p>表空间</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e566 d112553e476 ">
                                    <p>指定创建索引数据表的表空间。与CREATE TABLE语句的STORAGE子句中的TABLESPACE相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e573" headers="d112553e473 ">
                                    <p>初始</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e573 d112553e476 ">
                                    <p>与CREATE TABLE语句的STORAGE子句中的INITIAL相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e580" headers="d112553e473 ">
                                    <p>下一个</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e580 d112553e476 ">
                                    <p>与CREATE TABLE语句的STORAGE子句中的NEXT相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e588" headers="d112553e473 ">
                                    <p>MINEXTENTS</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e588 d112553e476 ">
                                    <p>与CREATE TABLE语句的STORAGE子句中的MINEXTENTS相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e595" headers="d112553e473 ">
                                    <p>MAXEXTENTS</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e595 d112553e476 ">
                                    <p>与CREATE TABLE语句的STORAGE子句中的MAXEXTENTS相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e602" headers="d112553e473 ">
                                    <p>PCTINCREASE</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e602 d112553e476 ">
                                    <p>与CREATE TABLE语句的STORAGE子句中的PCTINCREASE相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e609" headers="d112553e473 ">
                                    <p><span class="italic"><span class="bold">{NOPARALLEL | PARALLEL [整数]}</span></span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e609 d112553e476 ">
                                    <p><a id="d112553e620" class="indexterm-anchor"></a><a id="d112553e626" class="indexterm-anchor"></a>控制是使用串行（NOPARALLEL）执行还是并行（PARALLEL）执行来重建索引以及后续查询和使用索引的DML操作。对于并行执行，您可以指定并行度的整数值。有关适用于PARALLEL关键字使用的准则和限制，请参阅<a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a>语句的使用说明。默认值= NOPARALLEL。 （如果指定PARALLEL时没有整数值，则Oracle数据库会计算最佳并行度。）
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677__GUID-1389525F-671A-446B-8788-B28A0EE27E13">先决条件</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您必须对索引类型及其实现类型具有EXECUTE特权。</p>
                        </li>
                        <li>
                           <p>要更改的空间索引未标记正在进行中。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677__GUID-EDFCF842-48B5-4D0B-B932-2AADA07105B2">使用说明</p>
                     <p>ALTER INDEX REBUILD'rebuild_params'语句使用提供的参数重建索引。空间索引创建涉及为空间索引的基础表列中的每一行创建和插入索引数据到具有指定格式的表中。在提交索引数据的插入之前，将处理基础表中的所有行，这需要足够的回滚段空间。</p>
                     <p>ONLINE关键字重建索引而不阻塞索引;也就是说，查询可以在重建时使用空间索引。但是，在重建操作期间发出的所有查询都已完成后，您必须通过以下格式输入SQL语句来清除旧索引信息（在MDRT表中）：</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX [schema。] index REBUILD ONLINE PARAMETERS（'index_status = cleanup'）;</pre><p>以下限制适用于ONLINE关键字的使用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在重建索引时，只允许查询操作。在重建索引时，将阻止会影响索引的插入，更新和删除操作;当正在执行任何会影响索引的插入，更新或删除操作时，将阻止联机重建。</p>
                        </li>
                        <li>
                           <p>如果索引是使用<code class="codeph">'sdo_non_leaf_tbl=TRUE'</code>参数创建的，则不能使用ONLINE关键字进行重建操作。
                           </p>
                        </li>
                        <li>
                           <p>您不能将ONLINE关键字用于分区空间索引。</p>
                        </li>
                     </ul>
                     <p>从版本12.1开始，ALTER INDEX REBUILD语句重用索引创建中的所有先前参数。如果传递了新参数或更改的参数，则新参数将与之前的参数合并，并且更改的参数将覆盖先前的参数。</p>
                     <p>有关使用<code class="codeph">layer_gtype</code>关键字将图层中的<a href="indexing-querying-spatial-data.html#GUID-0A054242-4FCC-4DBB-97FC-E375DE9773EE">数据约束为几何类型的</a>更多信息，请参阅将<a href="indexing-querying-spatial-data.html#GUID-0A054242-4FCC-4DBB-97FC-E375DE9773EE">数据约束到几何类型</a> 。
                     </p>
                     <p>使用分区空间索引，必须为要重建的每个分区使用单独的ALTER INDEX REBUILD语句。</p>
                     <p>如果要使用<span class="italic">本地</span>分区空间索引，请按照<a href="indexing-querying-spatial-data.html#GUID-3009AE2A-2BB3-48D7-94D2-57D11BDE7496">创建本地分区空间索引中的过程进行操作</a> 。
                     </p>
                     <p>有关许多可用参数的使用信息以及PARALLEL关键字的使用，另请参阅<a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a>语句的使用说明。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677__GUID-0D264F1E-F3ED-4D80-BC90-15DE23A978D6">例子</p>
                     <p>以下示例重建OLDINDEX并指定用于创建索引数据表的表空间。</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX oldindex REBUILD PARAMETERS（'tablespace = TBS_3'）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677__GUID-46BBB5E7-0EC7-4FDD-85FD-4C554B2A3BD0">相关话题</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">创建指数</a></p>
                        </li>
                        <li>
                           <p><a href="sql-indexing-spatial-data.html#GUID-A661EFD5-59E6-4084-A511-B5141F9205A7">DROP INDEX</a></p>
                        </li>
                        <li>
                           <p><span class="italic">Oracle数据库SQL语言参考中的</span> <a href="../sqlrf/ALTER-TABLE.html#SQLRF01001" target="_blank"><span>ALTER TABLE</span></a>和<a href="../sqlrf/ALTER-INDEX.html#SQLRF00805" target="_blank"><span>ALTER INDEX</span></a> （分区维护的子句）</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="sql-indexing-spatial-data.html#GUID-E356011F-BC91-44EC-9E86-E5E786EDC2BC" title="本章介绍使用空间对象数据类型时使用的SQL语句。">索引空间数据的SQL语句</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1018"></a><div class="props_rev_3"><a id="GUID-17F46CB0-57E2-4DAB-9E43-DC57426ED028" name="GUID-17F46CB0-57E2-4DAB-9E43-DC57426ED028"></a><h3 id="SPATL-GUID-17F46CB0-57E2-4DAB-9E43-DC57426ED028" class="sect3"><span class="enumeration_section">19.3</span> ALTER INDEX RENAME TO</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-17F46CB0-57E2-4DAB-9E43-DC57426ED028__GUID-D99F5AFB-79E4-4E6C-A598-95905A7E4684">句法</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX [schema。] index RENAME TO &lt;new_index_name&gt;; ALTER INDEX [schema。] index PARTITION分区RENAME TO &lt;new_partition_name&gt;;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-17F46CB0-57E2-4DAB-9E43-DC57426ED028__GUID-3A9F2C94-0E78-40E5-BBE8-59DC6849B988">目的</p>
                     <p>更改空间索引的名称或空间索引的分区。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-17F46CB0-57E2-4DAB-9E43-DC57426ED028__GUID-D728EB7F-E0BD-4BA7-9C2D-A32BC150C18B">关键词和参数</p>
                     <div class="tblformal" id="GUID-17F46CB0-57E2-4DAB-9E43-DC57426ED028__GUID-795522BC-8ADA-4180-936F-76A657FD281A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for ALTER INDEX RENAME TO" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d112553e819">值</th>
                                 <th align="left" valign="bottom" width="71%" id="d112553e822">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e827" headers="d112553e819 ">
                                    <p>new_index_name</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e827 d112553e822 ">
                                    <p>指定索引的新名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e834" headers="d112553e819 ">
                                    <p>new_partition_name</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e834 d112553e822 ">
                                    <p>指定分区的新名称。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-17F46CB0-57E2-4DAB-9E43-DC57426ED028__GUID-D863B45A-3EA4-4AA9-A1C7-7073113D9464">先决条件</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您必须对索引类型及其实现类型具有EXECUTE特权。</p>
                        </li>
                        <li>
                           <p>要更改的空间索引未标记正在进行中。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-17F46CB0-57E2-4DAB-9E43-DC57426ED028__GUID-497E76F6-8DBD-4E6F-BF0D-2E073E220A29">使用说明</p>
                     <p>没有。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-17F46CB0-57E2-4DAB-9E43-DC57426ED028__GUID-74D64920-B1A4-44F5-89AB-697DAE5279D5">例子</p>
                     <p>以下示例将OLDINDEX重命名为NEWINDEX。</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX oldindex RENAME TO newindex;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-17F46CB0-57E2-4DAB-9E43-DC57426ED028__GUID-B3A20F4C-68BA-4BAC-BFCE-2B868C414FFA">相关话题</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">创建指数</a></p>
                        </li>
                        <li>
                           <p><a href="sql-indexing-spatial-data.html#GUID-A661EFD5-59E6-4084-A511-B5141F9205A7">DROP INDEX</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="sql-indexing-spatial-data.html#GUID-E356011F-BC91-44EC-9E86-E5E786EDC2BC" title="本章介绍使用空间对象数据类型时使用的SQL语句。">索引空间数据的SQL语句</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1019"></a><div class="props_rev_3"><a id="GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C" name="GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C"></a><h3 id="SPATL-GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C" class="sect3"><span class="enumeration_section">19.4</span>创建指数</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C__GUID-477A8175-C7A1-4B59-A763-04D686375CB4">句法</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX [schema。] index ON [schema。] table（column）INDEXTYPE IS MDSYS.SPATIAL_INDEX_V2 [PARAMETERS（'index_params [physical_storage_params]'）] [{NOPARALLEL | PARALLEL [整数]}];</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C__GUID-39831AC9-C1AE-473F-AE77-6C6FC30B9EC9">目的</p>
                     <p>在类型为SDO_GEOMETRY的列上创建空间索引。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C__GUID-841C02FF-8AA2-482C-A0DE-EF810CC7B260">关键词和参数</p>
                     <div class="tblformal" id="GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C__GUID-44884142-0681-4320-99D3-7BE3999AB8A8">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for CREATE INDEX" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d112553e961">值</th>
                                 <th align="left" valign="bottom" width="71%" id="d112553e964">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e969" headers="d112553e961 ">
                                    <p><span class="italic"><span class="bold">INDEX_PARAMS</span></span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e969 d112553e964 ">
                                    <p>确定空间索引的特征。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e978" headers="d112553e961 ">
                                    <p>LAYER_GTYPE</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e978 d112553e964 ">
                                    <p>检查以确保所有几何都具有指定的几何类型。该值必须来自<a href="spatial-datatypes-metadata.html#GUID-4D84CE67-67E4-4A84-8255-C586E765A94B">SDO_GTYPE中</a>的Geometry Type列（除了不允许使用UNKNOWN_GEOMETRY）。此外，指定POINT可以优化点数据处理。数据类型是VARCHAR2。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e991" headers="d112553e961 ">
                                    <p>sdo_dml_batch_size</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e991 d112553e964 ">
                                    <p>指定提交操作后要在每批更新中处理的索引更新数。默认值为4000;例如，如果向空间表中插入5000行，然后执行提交操作，则会在两批插入操作（4000和1000）中执行对空间索引表的更新。有关更多信息，请参阅使用说明。数据类型为NUMBER。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1000" headers="d112553e961 ">
                                    <p>sdo_indx_dims</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1000 d112553e964 ">
                                    <p>指定要编制索引的维数。例如，值2仅导致前两个维度被索引。必须小于或等于实际尺寸的数量。有关三维几何的使用信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。数据类型为NUMBER。默认= 2。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1016" headers="d112553e961 ">
                                    <p>sdo_max_memory</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1016 d112553e964 ">
                                    <p>指定可以分配用于执行空间索引构建或重建操作的最大内存量。可以从64000（约64 KB）到200000000（约200 MB）。如果无法分配指定的字节数，则分配64000（约64 KB）。指定大于默认值的值可以显着提高索引创建性能;但是，请勿指定超过20％的可用内存。数据类型为NUMBER。默认值= 10000000（约10 MB）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1025" headers="d112553e961 ">
                                    <p>sdo_non_leaf_tbl</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1025 d112553e964 ">
                                    <p><code class="codeph">'sdo_non_leaf_tbl=TRUE'</code>为索引的非叶节点创建一个单独的索引表（名称格式为MDNT _... $），此外还创建索引表（名称格式为MDRT _... $）对于叶节点。 <code class="codeph">'sdo_non_leaf_tbl=FALSE'</code>为索引的叶节点和非叶节点创建单个表（名称格式为MDRT _... $）。有关更多信息，请参阅使用说明。数据类型是VARCHAR2。默认值= FALSE</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1039" headers="d112553e961 ">
                                    <p>sdo_rtr_pctfree</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1039 d112553e964 ">
                                    <p>指定创建索引时要保留为空的每个索引树节点中的最小插槽百分比。当新数据插入表中时，可以稍后填充留空的插槽。该值的范围为0到50。数据类型为NUMBER。默认= 10。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1048" headers="d112553e961 ">
                                    <p>sequence_initial</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1048 d112553e964 ">
                                    <p>指定索引创建期间Spatial和Graph在内部使用的“初始”序列缓存值。如果预期空间数据集大小显着增加，则可以通过增加<code class="codeph">sequence_initial</code>值（例如， <code class="codeph">'sequence_initial=500'</code> ）来提高DML操作的运行时性能。默认= 100。（对于“普通”DML环境，建议使用默认值。）
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1063" headers="d112553e961 ">
                                    <p>sequence_next</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1063 d112553e964 ">
                                    <p>指定创建索引后由Spatial和Graph在内部使用的“下一个”序列缓存值，即，由于正常用户DML操作而更新索引的时间。如果期望频繁添加大量空间数据，则可以通过增加<code class="codeph">sequence_next</code>值来改善DML操作的运行时性能（例如， <code class="codeph">'sequence_next=500'</code> ）。默认= 100。（对于“普通”DML环境，建议使用默认值。）
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1078" headers="d112553e961 ">
                                    <p><span class="italic"><span class="bold">PHYSICAL_STORAGE_PARAMS</span></span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1078 d112553e964 ">
                                    <p>确定用于创建空间索引数据表的存储参数。空间索引数据表是具有规定格式的常规Oracle表。并非支持CREATE TABLE语句的STORAGE子句中允许的所有物理存储参数。以下是受支持子集的列表。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1087" headers="d112553e961 ">
                                    <p>表空间</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1087 d112553e964 ">
                                    <p>指定创建索引数据表的表空间。与CREATE TABLE语句的STORAGE子句中的TABLESPACE相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1095" headers="d112553e961 ">
                                    <p>初始</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1095 d112553e964 ">
                                    <p>与CREATE TABLE语句的STORAGE子句中的INITIAL相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1102" headers="d112553e961 ">
                                    <p>下一个</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1102 d112553e964 ">
                                    <p>与CREATE TABLE语句的STORAGE子句中的NEXT相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1109" headers="d112553e961 ">
                                    <p>MINEXTENTS</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1109 d112553e964 ">
                                    <p>与CREATE TABLE语句的STORAGE子句中的MINEXTENTS相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1116" headers="d112553e961 ">
                                    <p>MAXEXTENTS</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1116 d112553e964 ">
                                    <p>与CREATE TABLE语句的STORAGE子句中的MAXEXTENTS相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1123" headers="d112553e961 ">
                                    <p>PCTINCREASE</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1123 d112553e964 ">
                                    <p>与CREATE TABLE语句的STORAGE子句中的PCTINCREASE相同。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1130" headers="d112553e961 ">
                                    <p>work_tablespace</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1130 d112553e964 ">
                                    <p>指定用于创建索引的临时表的表空间。（仅适用于创建空间R树索引，而不适用于其他类型的索引。）指定工作表空间可以减少索引表空间中的碎片，但它需要的存储空间是最终索引大小的两倍;但是，在创建索引后，您可以删除或重用工作表空间。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1137" headers="d112553e961 ">
                                    <p>的SecureFile</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1137 d112553e964 ">
                                    <p><code class="codeph">'securefile=TRUE'</code>允许使用SecureFiles智能压缩; <code class="codeph">'securefile=FALSE'</code>导致不使用SecureFiles智能压缩。有关更多信息，请参阅<code class="codeph">compression</code>参数说明。数据类型是VARCHAR2。默认= <code class="codeph">'securefile=FALSE'</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1156" headers="d112553e961 ">
                                    <p>压缩</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1156 d112553e964 ">
                                    <p><code class="codeph">'compression=&lt;OFF|LOW|MEDIUM|HIGH&gt;'</code>控制空间索引节点压缩的级别。要指定<code class="codeph">OFF</code>以外的任何值，还必须指定<code class="codeph">'securefile=TRUE'</code> ，并且必须拥有Oracle Advanced Compression选件的许可证并实施SecureFiles Intelligent Compression。有关更多信息，请参阅使用说明。数据类型是VARCHAR2。默认= <code class="codeph">'compression=OFF'</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1175" headers="d112553e961 ">
                                    <p><span class="italic"><span class="bold">{NOPARALLEL | PARALLEL [整数]}</span></span></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1175 d112553e964 ">
                                    <p><a id="d112553e1186" class="indexterm-anchor"></a><a id="d112553e1192" class="indexterm-anchor"></a>控制是使用串行（NOPARALLEL）执行还是并行（PARALLEL）执行来创建索引以及后续查询和使用索引的DML操作。对于并行执行，您可以指定并行度的整数值。有关并行索引创建的更多信息，请参阅使用说明。默认值= NOPARALLEL。 （如果指定PARALLEL时没有整数值，则Oracle数据库会计算最佳并行度。）
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C__GUID-8A527D60-282E-48CA-A5D6-A824AAD48244">先决条件</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>所有当前的SQL CREATE INDEX先决条件都适用。</p>
                        </li>
                        <li>
                           <p>您必须具有索引类型及其实现类型的EXECUTE特权。</p>
                        </li>
                        <li>
                           <p>USER_SDO_GEOM_METADATA视图必须包含一个条目，其中包含要在空间索引的表列的维度和坐标边界信息。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C__GUID-E449CED8-5FF4-4A6B-8CCB-7B677BAC977C">使用说明</p>
                     <p>有关空间索引的信息，请参阅<a href="spatial-concepts.html#GUID-54CCC43F-56B7-42C6-8C87-86843FA25AFC" title="空间索引功能与Oracle数据库引擎的集成是Spatial and Graph产品的关键特性。">空间数据的索引</a> 。
                     </p>
                     <p>有关INDEXTYPE IS MDSYS.SPATIAL_INDEX_V2中“_V2”的说明，请参阅<a href="indexing-querying-spatial-data.html#GUID-6BBF58C4-10D0-4993-8DF2-60C3157412D7">使用系统管理的空间索引</a> 。
                     </p>
                     <p>在创建空间索引之前，请确保回滚段大小和SORT_AREA_SIZE参数值足够，如<a href="indexing-querying-spatial-data.html#GUID-18BB2973-096E-4239-9A01-0C95E9AFEFA1" title="一旦通过批量或事务加载将数据加载到空间表中，就必须在表中的每个几何列上创建空间索引（即空间R树索引），以便有效地访问数据。">创建空间索引中所述</a> 。
                     </p>
                     <p>如果在线性参考系统（LRS）数据上使用R树索引，并且如果LRS数据具有四个维度（三个加上M维度），则必须使用<code class="codeph">sdo_indx_dims</code>参数并且必须指定3（维度数减一） ，以避免默认的<code class="codeph">sdo_indx_dims</code>值为2，这将仅索引X和Y维度。例如，如果尺寸为X，Y，Z和M，则指定<code class="codeph">sdo_indx_dims=3</code>以索引X，Y和Z尺寸，但不指定尺寸（M）尺寸。（LRS数据模型，包括度量维度，在<a href="lrs-linear-referencing-system-concepts.html#GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20" title="Oracle Spatial and Graph LRS数据模型将度量信息合并到点级别的几何表示中。">LRS数据模型中进行了</a>解释。）
                     </p>
                     <p>可以在分区表上创建分区空间索引。有关<a href="indexing-querying-spatial-data.html#GUID-DB52CEB5-4A4D-44E5-B6F6-F80E00A39E61">分区空间索引</a>的详细信息，请参阅<a href="indexing-querying-spatial-data.html#GUID-DB52CEB5-4A4D-44E5-B6F6-F80E00A39E61">使用</a>分区空间索引，包括优点和限制。
                     </p>
                     <p>如果要使用<span class="italic">本地</span>分区空间索引，请按照<a href="indexing-querying-spatial-data.html#GUID-3009AE2A-2BB3-48D7-94D2-57D11BDE7496">创建本地分区空间索引中的过程进行操作</a> 。
                     </p>
                     <p><a id="d112553e1270" class="indexterm-anchor"></a>无法在索引组织表上创建空间索引。
                     </p>
                     <p>您可以指定PARALLEL关键字以使索引创建并行化。例如：</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX cola_spatial_idx ON cola_markets（shape）INDEXTYPE是MDSYS.SPATIAL_INDEX_V2 PARALLEL;</pre><p>有关使用PARALLEL关键字的信息，请参阅<a href="../sqlrf/CREATE-INDEX.html#SQLRF01209" target="_blank"><span class="italic">Oracle数据库SQL语言参考中</span></a>有关CREATE INDEX语句的部分中<code class="codeph">parallel_clause</code>的说明。此外，以下注释适用于使用PARALLEL关键字创建或重建（使用<a href="sql-indexing-spatial-data.html#GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677">ALTER INDEX REBUILD</a>语句）空间索引：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>用于创建或重建索引的并行执行的性能成本和好处取决于系统资源和负载。如果CPU或磁盘控制器已经负载很重，则不应指定PARALLEL关键字。</p>
                        </li>
                        <li>
                           <p>指定用于在具有简单几何的表（例如点数据）上创建或重建索引的PARALLEL通常会导致与具有复杂几何的表相比性能提升较少。</p>
                        </li>
                     </ul>
                     <p>常规索引（例如ASC和DESC）的其他可用选项不适用于空间索引。</p>
                     <p>空间索引创建涉及为空间索引的基础表列中的每一行创建和插入索引数据到具有指定格式的表中。在提交索引数据的插入之前，将处理基础表中的所有行，这需要足够的回滚段空间。</p>
                     <p>如果在parameters子句中提供了表空间名称，则用户（基础表所有者）必须具有该表空间的适当权限。</p>
                     <p>有关使用<code class="codeph">layer_gtype</code>关键字将图层中的<a href="indexing-querying-spatial-data.html#GUID-0A054242-4FCC-4DBB-97FC-E375DE9773EE">数据约束为几何类型的</a>更多信息，请参阅将<a href="indexing-querying-spatial-data.html#GUID-0A054242-4FCC-4DBB-97FC-E375DE9773EE">数据约束到几何类型</a> 。
                     </p>
                     <p><code class="codeph">sdo_dml_batch_size</code>参数可以提高应用程序性能，因为Spatial和Graph可以预先分配系统资源，以便比连续的单个索引更新更有效地执行多个索引更新;但是，要获得性能优势，必须在每次插入操作后或以小于或等于<code class="codeph">sdo_dml_batch_size</code>值的间隔执行提交操作。您不应指定大于10000（万）的值，因为所需的额外内存和其他资源的成本可能会超过由此值导致的任何边际性能增加。
                     </p>
                     <p>如果整个R树表可能不适合KEEP缓冲池，则指定<code class="codeph">'sdo_non_leaf_tbl=TRUE'</code>可以帮助查询大数据集的性能。在这种情况下，还必须使Oracle在KEEP缓冲池中缓冲MDNT _... $表，例如，使用<span>ALTER TABLE</span>并指定<span>STORAGE（BUFFER_POOL KEEP）</span> 。对于分区索引，必须为所有分区使用相同的<code class="codeph">sdo_non_leaf_tbl</code>值。除<code class="codeph">tablespace</code>外，任何物理存储参数仅应用于MDRT _... $表。MDNT _... $ table仅使用<code class="codeph">tablespace</code>参数（如果已指定），并使用所有其他物理存储参数的默认值。
                     </p>
                     <p>值为<code class="codeph">LOW</code> ， <code class="codeph">MEDIUM</code>或<code class="codeph">HIGH</code>的<code class="codeph">compression</code>参数会导致使用SecureFiles智能压缩功能。压缩越高，发生的延迟越高。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>'compression = HIGH'会产生更多的工作，但会更好地压缩数据。</p>
                        </li>
                        <li>
                           <p>'compression = LOW'使用轻量级压缩算法，可以消除文件压缩时常见的大部分CPU成本。压缩的SecureFiles，因此为SecureFiles LOB存储提供了非常有效的选择。压缩为<code class="codeph">LOW</code> SecureFiles LOB通常比BasicFiles LOB消耗更少的存储和CPU时间，并且由于磁盘I / O的减少，帮助应用程序运行得更快。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C__GUID-B41A4912-1CB7-4357-966D-4E7B055977E2">
                        <p class="notep1">注意：</p>
                        <p>使用除<code class="codeph">OFF</code>以外的任何值的<code class="codeph">compression</code>时，请将<a href="../refrn/DB_BLOCK_CHECKING.html#REFRN10029" target="_blank"><code class="codeph">DB_BLOCK_CHECKING</code></a>数据库参数设置为<code class="codeph">FALSE</code>或<code class="codeph">OFF</code> 。将任何其他<code class="codeph">DB_BLOCK_CHECKING</code>数据库参数值与<code class="codeph">OFF</code>以外的<code class="codeph">compression</code>值结合使用可能会对空间索引DML（插入，更新或删除）操作产生负面影响。
                        </p>
                     </div>
                     <p>如果要创建基于函数的空间索引，则参数数量不得超过32。有关使用基于函数的空间索引的信息，请参阅基于函数的索引中的<a href="extending-spatial-indexing.html#GUID-CFB6B6DB-4B97-43D1-86A1-21C1BA853089" title="基于函数的空间索引有助于使用函数或表达式返回的位置信息（类型为SDO_GEOMETRY）的查询。在这种情况下，空间索引是根据函数或表达式返回的预先计算的值创建的。">SDO_GEOMETRY对象</a> 。
                     </p>
                     <p>要确定空间索引的<a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a>语句是否失败，请检查USER_INDEXES视图中的DOMIDX_OPSTATUS列是否设置为FAILED。这与常规索引的情况不同，在常规索引中，您检查USER_INDEXES视图中的STATUS列是否设置为FAILED。</p>
                     <p>如果<a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a>语句由于无效的几何图形而失败，则会在错误消息中返回失败几何图形的ROWID以及失败的原因。
                     </p>
                     <p>如果<a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a>语句因任何原因失败，则必须使用<a href="sql-indexing-spatial-data.html#GUID-A661EFD5-59E6-4084-A511-B5141F9205A7">DROP INDEX</a>语句来清除部分构建的索引和关联的元数据。如果<a href="sql-indexing-spatial-data.html#GUID-A661EFD5-59E6-4084-A511-B5141F9205A7">DROP INDEX</a>不起作用，请添加FORCE参数并重试。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C__GUID-898A8B31-B5D9-42D8-9EB1-345FC0072675">例子</p>
                     <p>以下示例创建名为COLA_SPATIAL_IDX的空间R树索引。</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX cola_spatial_idx ON cola_markets（shape）INDEXTYPE是MDSYS.SPATIAL_INDEX_V2;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C__GUID-90E1193A-C2E3-4FEC-A2EE-8CCBD010933D">相关话题</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="sql-indexing-spatial-data.html#GUID-D1F318B7-F224-4576-A59C-F42E14427B99">改变指数</a></p>
                        </li>
                        <li>
                           <p><a href="sql-indexing-spatial-data.html#GUID-A661EFD5-59E6-4084-A511-B5141F9205A7">DROP INDEX</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="sql-indexing-spatial-data.html#GUID-E356011F-BC91-44EC-9E86-E5E786EDC2BC" title="本章介绍使用空间对象数据类型时使用的SQL语句。">索引空间数据的SQL语句</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1020"></a><div class="props_rev_3"><a id="GUID-A661EFD5-59E6-4084-A511-B5141F9205A7" name="GUID-A661EFD5-59E6-4084-A511-B5141F9205A7"></a><h3 id="SPATL-GUID-A661EFD5-59E6-4084-A511-B5141F9205A7" class="sect3"><span class="enumeration_section">19.5</span> DROP INDEX</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-A661EFD5-59E6-4084-A511-B5141F9205A7__GUID-F7B51566-8003-467B-8C94-B92910F0D10B">句法</p><pre class="oac_no_warn" dir="ltr">DROP INDEX [schema。] index [FORCE];</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A661EFD5-59E6-4084-A511-B5141F9205A7__GUID-7F4F4A09-CDD5-4821-A4FD-EB2EE98ED161">目的</p>
                     <p>删除空间索引。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A661EFD5-59E6-4084-A511-B5141F9205A7__GUID-555649E0-C773-4292-B3C6-21A860C55DCB">关键词和参数</p>
                     <div class="tblformal" id="GUID-A661EFD5-59E6-4084-A511-B5141F9205A7__GUID-BAEB30E7-9462-439B-804A-DFF1959EB62C">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for DROP INDEX" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d112553e1542">值</th>
                                 <th align="left" valign="bottom" width="71%" id="d112553e1545">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d112553e1550" headers="d112553e1542 ">
                                    <p>力</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d112553e1550 d112553e1545 ">
                                    <p>即使索引标记为正在进行或发生某些其他错误情况，也会导致从系统表中删除空间索引。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A661EFD5-59E6-4084-A511-B5141F9205A7__GUID-D5CC93B3-EF31-4EE2-A754-B881F60639B2">先决条件</p>
                     <p>您必须对索引类型及其实现类型具有EXECUTE特权。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A661EFD5-59E6-4084-A511-B5141F9205A7__GUID-8D6F3C30-5944-4111-823C-3217D22601D1">使用说明</p>
                     <p>使用<a href="sql-indexing-spatial-data.html#GUID-A661EFD5-59E6-4084-A511-B5141F9205A7">DROP INDEX索引名称</a> FORCE在<a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a>语句失败后进行清理。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A661EFD5-59E6-4084-A511-B5141F9205A7__GUID-E9CF13E3-55FB-4655-8EFD-4D2658692AA8">例子</p>
                     <p>以下示例删除名为OLDINDEX的空间索引，并强制执行删除操作，即使索引已在进程中标记或发生错误也是如此。</p><pre class="oac_no_warn" dir="ltr">DROP INDEX oldindex FORCE;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A661EFD5-59E6-4084-A511-B5141F9205A7__GUID-B1D64556-E9BF-48C6-B5D7-7FEA233A16B8">相关话题</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">创建指数</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="sql-indexing-spatial-data.html#GUID-E356011F-BC91-44EC-9E86-E5E786EDC2BC" title="本章介绍使用空间对象数据类型时使用的SQL语句。">索引空间数据的SQL语句</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="04679.anydata-class.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>AnyData类</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-c-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-06T02:31:59-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96205-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="agent-class.html" title="Previous" type="text/html"></link>
      <link rel="next" href="batchsqlexcept-class.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle C++ Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNCPP"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="agent-class.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="batchsqlexcept-class.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="occi-application-programing-interface.html" property="item" typeof="WebPage"><span property="name">OCCI应用程序编程接口</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">AnyData类</li>
            </ol>
            <a id="GUID-489730B6-61C1-4575-82EF-CC9E5A59B6F5" name="GUID-489730B6-61C1-4575-82EF-CC9E5A59B6F5"></a><a id="LNCPP20531"></a><a id="LNCPP20532"></a><a id="LNCPP20533"></a><a id="LNCPP20534"></a><a id="LNCPP20535"></a><a id="LNCPP20536"></a><a id="LNCPP1028"></a>
            
            <h2 id="LNCPP-GUID-489730B6-61C1-4575-82EF-CC9E5A59B6F5" class="sect2"><span class="enumeration_section">13.4</span> AnyData类</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p><code class="codeph">AnyData</code>类通过使用实际数据封装类型信息来建模自描述数据。<code class="codeph">AnyData</code>主要用于OCCI高级队列功能，用于表示和排队数据以及从队列接收消息作为<code class="codeph">AnyData</code>实例。
                  </p>
                  <p>可以使用<code class="codeph">setFrom</code> <span class="italic"><code class="codeph">xxx</code></span> <code class="codeph">()</code>方法将大多数SQL和用户定义的类型转换为<code class="codeph">AnyData</code>类型。可以使用<code class="codeph">getAs</code> <span class="italic"><code class="codeph">xxx</code></span> <code class="codeph">()</code>方法将<code class="codeph">AnyData</code>对象转换为大多数SQL和用户定义的类型。<code class="codeph">SYS.ANYDATA</code>款型<code class="codeph">AnyData</code>无论是在SQL和PL / SQL。有关支持的数据类型，请参阅<a href="anydata-class.html#GUID-489730B6-61C1-4575-82EF-CC9E5A59B6F5__CACCAAHG" title="第一列列出了数据类型;第二列提供相应的TypeCodes。">表13-4</a> 。
                  </p>
                  <p><a href="anydata-class.html#GUID-07633E11-38D5-4871-96AD-B7B250DEB89F">getType（）</a>调用返回<code class="codeph">AnyData</code>对象表示的<code class="codeph">TypeCode</code> ，而<a href="anydata-class.html#GUID-C0A1A33A-1672-4C4D-B4A2-2EAD6F67FFB5">isNull（）</a>调用确定<code class="codeph">AnyData</code>包含<code class="codeph">NULL</code>值。<a href="anydata-class.html#GUID-78674C4F-F62E-42D6-BE86-F023867AD826">setNull（）</a>方法将<code class="codeph">AnyData</code>的值<code class="codeph">AnyData</code>为<code class="codeph">NULL</code> 。</p>
                  <p>要使用OCCI <code class="codeph">AnyData</code>类型，必须在<code class="codeph">OBJECT</code>模式下启动环境。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-489730B6-61C1-4575-82EF-CC9E5A59B6F5__GUID-A4E7545F-F451-4DFE-9EAC-C106F3E85321">
                  <p class="titleinexample">示例13-1从SQL预定义类型转换为AnyData类型</p>
                  <p>此示例演示如何将类型从<code class="codeph">string</code>转换为<code class="codeph">AnyData</code> 。
                  </p><pre class="oac_no_warn" dir="ltr">连接*连接; ...AnyData any（conn）; string str（“Hello World”）; any.setFromString（STR）; ...</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-489730B6-61C1-4575-82EF-CC9E5A59B6F5__GUID-A9F2CB04-EA38-4103-88B4-E4E3284A1CA1">
                  <p class="titleinexample">示例13-2从AnyData类型创建SQL预定义类型</p>
                  <p>此示例演示如何将<code class="codeph">AnyData</code>对象转换回<code class="codeph">string</code>对象。注意使用<a href="anydata-class.html#GUID-07633E11-38D5-4871-96AD-B7B250DEB89F">getType（）</a>和<a href="anydata-class.html#GUID-C0A1A33A-1672-4C4D-B4A2-2EAD6F67FFB5">isNull（）</a>方法在转换之前验证<code class="codeph">AnyData</code> 。
                  </p><pre class="oac_no_warn" dir="ltr">连接*连接; string str; ...如果（！任何。 <span class="bold">isNULL（）</span> ）{if（any.getType <span class="bold">（）</span> == OCCI_TYPECODE_VARCHAR2）{str = any.getAsString（）; COUT &lt;&lt;海峡; } ...</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-489730B6-61C1-4575-82EF-CC9E5A59B6F5__GUID-96C0FACB-BEF9-4AC2-AC65-E611263350BC">
                  <p class="titleinexample">示例13-3从用户定义的类型转换为AnyData类型</p>
                  <p>此示例演示如何从用户定义的类型转换为<code class="codeph">AnyData</code>类型。
                  </p><pre class="oac_no_warn" dir="ltr">连接*连接; ...//假设类型为Person的OBJECT具有以下定义的字段// CREATE TYPE person as OBJECT（// FRIST_NAME VARCHAR2（20），// LAST_NAME VARCHAR2（25），// EMAIL VARCHAR2（25），// SALARY NUMBER（ 8,2）//）; //假设OTT生成了相关的类。 ...Person * pers new Person（“Steve”，“Addams”，“steve.addams@anycompany.com”，50000.00）; AnyData anyObj（conn）; anyObj.setFromObject（个人）; ...</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-489730B6-61C1-4575-82EF-CC9E5A59B6F5__GUID-D359059C-37FB-4B3D-A050-0B557C1FDF1A">
                  <p class="titleinexample">示例13-4从用户定义的类型转换为AnyData类型</p>
                  <p>此示例演示如何将<code class="codeph">AnyData</code>对象转换回用户定义的类型。注意使用<a href="anydata-class.html#GUID-07633E11-38D5-4871-96AD-B7B250DEB89F">getType（）</a>和<a href="anydata-class.html#GUID-C0A1A33A-1672-4C4D-B4A2-2EAD6F67FFB5">isNull（）</a>方法在转换之前验证<code class="codeph">AnyData</code> 。
                  </p><pre class="oac_no_warn" dir="ltr">连接*连接; //假设类型为Person的OBJECT具有以下定义的字段// CREATE TYPE person as OBJECT（// FRIST_NAME VARCHAR2（20），// LAST_NAME VARCHAR2（25），// EMAIL VARCHAR2（25），// SALARY NUMBER（ 8,2）//）; //假设OTT生成了相关的类。人* pers = new Person（）; ...如果（！anyObj。 <span class="bold">isNull（）</span> ）{if（anyObj.getType <span class="bold">（）</span> == OCCI_TYPECODE_OBJECT）pers = anyObj.getAsObject（）; } ...</pre></div>
               <!-- class="example" -->
               <div class="tblformal" id="GUID-489730B6-61C1-4575-82EF-CC9E5A59B6F5__CACCAAHG">
                  <p class="titleintable">表13-4 AnyData类支持的OCCI数据类型</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="AnyData类支持的OCCI数据类型" width="100%" border="1" summary="First column lists datatypes; second column provides corresponding TypeCodes." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="30%" id="d82191e272">数据类型</th>
                           <th align="left" valign="bottom" width="70%" id="d82191e275">类型码</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d82191e280" headers="d82191e272 "><pre class="oac_no_warn" dir="ltr">B双击</pre></td>
                           <td align="left" valign="top" width="70%" headers="d82191e280 d82191e275 "><pre class="oac_no_warn" dir="ltr">OCCI_TYPECODE_BDOUBLE</pre></td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d82191e287" headers="d82191e272 "><pre class="oac_no_warn" dir="ltr">BFILE</pre></td>
                           <td align="left" valign="top" width="70%" headers="d82191e287 d82191e275 "><pre class="oac_no_warn" dir="ltr">OCCI_TYPECODE_BFILE</pre></td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d82191e294" headers="d82191e272 "><pre class="oac_no_warn" dir="ltr">BFloat</pre></td>
                           <td align="left" valign="top" width="70%" headers="d82191e294 d82191e275 "><pre class="oac_no_warn" dir="ltr">OCCI_TYPECODE_BFLOAT</pre></td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d82191e301" headers="d82191e272 "><pre class="oac_no_warn" dir="ltr">字节</pre></td>
                           <td align="left" valign="top" width="70%" headers="d82191e301 d82191e275 "><pre class="oac_no_warn" dir="ltr">OCCI_TYPECODE_RAW</pre></td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d82191e308" headers="d82191e272 "><pre class="oac_no_warn" dir="ltr">日期</pre></td>
                           <td align="left" valign="top" width="70%" headers="d82191e308 d82191e275 "><pre class="oac_no_warn" dir="ltr">OCCI_TYPECODE_DATE</pre></td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d82191e315" headers="d82191e272 "><pre class="oac_no_warn" dir="ltr">IntervalDS</pre></td>
                           <td align="left" valign="top" width="70%" headers="d82191e315 d82191e275 "><pre class="oac_no_warn" dir="ltr">OCCI_TYPECODE_INTERVAL_DS</pre></td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d82191e322" headers="d82191e272 "><pre class="oac_no_warn" dir="ltr">IntervalYM</pre></td>
                           <td align="left" valign="top" width="70%" headers="d82191e322 d82191e275 "><pre class="oac_no_warn" dir="ltr">OCCI_TYPECODE_INTERVAL_YM</pre></td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d82191e329" headers="d82191e272 "><pre class="oac_no_warn" dir="ltr">数</pre></td>
                           <td align="left" valign="top" width="70%" headers="d82191e329 d82191e275 "><pre class="oac_no_warn" dir="ltr">OCCI_TYPECODE_NUMBERB</pre></td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d82191e336" headers="d82191e272 "><pre class="oac_no_warn" dir="ltr">PObject</pre></td>
                           <td align="left" valign="top" width="70%" headers="d82191e336 d82191e275 "><pre class="oac_no_warn" dir="ltr">OCCI_TYPECODE_OBJECT</pre></td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d82191e343" headers="d82191e272 "><pre class="oac_no_warn" dir="ltr">参考</pre></td>
                           <td align="left" valign="top" width="70%" headers="d82191e343 d82191e275 "><pre class="oac_no_warn" dir="ltr">OCCI_TYPECODE_REF</pre></td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d82191e350" headers="d82191e272 "><pre class="oac_no_warn" dir="ltr">串</pre></td>
                           <td align="left" valign="top" width="70%" headers="d82191e350 d82191e275 "><pre class="oac_no_warn" dir="ltr">OCCI_TYPECODE_VARCHAR2</pre></td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d82191e358" headers="d82191e272 "><pre class="oac_no_warn" dir="ltr">时间戳</pre></td>
                           <td align="left" valign="top" width="70%" headers="d82191e358 d82191e275 "><pre class="oac_no_warn" dir="ltr">OCCI_TYPECODE_TIMESTAMP</pre></td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="tblformal" id="GUID-489730B6-61C1-4575-82EF-CC9E5A59B6F5__GUID-68AF7D27-4F30-4355-9451-CD3976FA052D">
                  <p class="titleintable">表13-5 AnyData方法摘要</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="AnyData方法摘要" width="100%" border="1" summary="First column lists methods; second column provides description of these methods." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="37%" id="d82191e374">方法</th>
                           <th align="left" valign="bottom" width="63%" id="d82191e377">摘要</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e382" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-24B0DD8B-8FD1-4E30-8463-F8321F24CF0A">AnyDATA公司（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e382 d82191e377 ">
                              <p><code class="codeph">AnyData</code>类构造函数。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e392" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-812927D9-346D-4CA4-91E2-CCB874ED85B9">getAsBDouble（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e392 d82191e377 ">
                              <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">BDouble</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e406" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-D4C5CD96-2E2D-4093-8C35-6A3812D91CD4">getAsBfile（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e406 d82191e377 ">
                              <p>一个转换<code class="codeph">AnyData</code>对象插入<code class="codeph">Bfile</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e420" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-37A38908-CB27-495D-9103-3F917F080D2E">getAsBFloat（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e420 d82191e377 ">
                              <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">BFloat</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e434" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-5295839E-16F2-462A-9BF2-C86FB107602D">getAsBytes（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e434 d82191e377 ">
                              <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">Bytes</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e448" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-F4D87DDC-F0AB-4356-A425-1A47A95D5AE6">getAsDate（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e448 d82191e377 ">
                              <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">Date</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e462" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-486A41F2-8BA8-44C6-87CC-EDD799164EAA">getAsIntervalDS（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e462 d82191e377 ">
                              <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">IntervalDS</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e476" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-9082EF7E-AEDE-42A1-AD26-7597FA33DC32">getAsIntervalYM（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e476 d82191e377 ">
                              <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">IntervalYM</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e490" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-81CB7AD6-FCA4-4307-9A56-ADC389ED9AD0">getAsNumber（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e490 d82191e377 ">
                              <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">Number</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e504" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-39BC99A6-5E82-4BE1-82A7-58F5BAA7ECB4">的getAsObject（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e504 d82191e377 ">
                              <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">PObject</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e518" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-950F33D8-66D4-4583-BA42-9A0BB9691E11">getAsRef（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e518 d82191e377 ">
                              <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">RefAny</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e533" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-F3C55CFF-B225-4652-AA7C-E629AD03AEA0">符getAsString（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e533 d82191e377 ">
                              <p>将<code class="codeph">AnyData</code>对象转换为命名空间<code class="codeph">string</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e547" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-2B92EB28-5E09-4636-A69D-AB8BED6794E4">getAsTimestamp（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e547 d82191e377 ">
                              <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">Timestamp.</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e560" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-07633E11-38D5-4871-96AD-B7B250DEB89F">的getType（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e560 d82191e377 ">
                              <p>检索<code class="codeph">AnyData</code>对象持有的DataType。<a href="anydata-class.html#GUID-489730B6-61C1-4575-82EF-CC9E5A59B6F5__CACCAAHG" title="第一列列出了数据类型;第二列提供相应的TypeCodes。">见表13-4</a> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e576" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-C0A1A33A-1672-4C4D-B4A2-2EAD6F67FFB5">一片空白（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e576 d82191e377 ">
                              <p>测试<code class="codeph">AnyData</code>对象是否为<code class="codeph">NULL</code> 。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e590" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-03D31A59-F000-4B7A-8F31-B43E2F7960BA">setFromBDouble（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e590 d82191e377 ">
                              <p>将<code class="codeph">BDouble</code>转换为<code class="codeph">Anydata</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e604" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-CB443B88-D052-4A5E-A754-6B1E69FC7CC9">setFromBfile（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e604 d82191e377 ">
                              <p>一个转换<code class="codeph">Bfile</code>到<code class="codeph">Anydata</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e618" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-0DBCE89B-76D8-430F-B18E-6677B77124A8">setFromBFloat（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e618 d82191e377 ">
                              <p>将<code class="codeph">BFloat</code>转换为<code class="codeph">Anydata</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e632" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-E6B47FF2-6D2B-43D0-A503-2ACBFBEA842F">setFromBytes（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e632 d82191e377 ">
                              <p>将<code class="codeph">Bytes</code>转换为<code class="codeph">Anydata</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e646" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-2F4C0472-7A7C-49F6-AB48-A52D0612BE5E">setFromDate（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e646 d82191e377 ">
                              <p>将<code class="codeph">Date</code>转换为<code class="codeph">Anydata</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e660" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-6EDD0A07-B2F7-4994-B58E-6DEF195F020F">setFromIntervalDS（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e660 d82191e377 ">
                              <p>将<code class="codeph">IntervalDS</code>转换为<code class="codeph">Anydata</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e674" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-B3B204C2-EC42-4F60-BD26-2A9E0CA61106">setFromIntervalYM（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e674 d82191e377 ">
                              <p>将<code class="codeph">IntervalYM</code>转换为<code class="codeph">Anydata</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e689" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-1D48C03C-15C0-4025-88B7-AF0C6E501B23">setFromNumber（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e689 d82191e377 ">
                              <p>将<code class="codeph">Number</code>转换为<code class="codeph">Anydata</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e703" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-4E39405A-DCCF-4798-A1F1-B676FA7C3BBE">setFromObject（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e703 d82191e377 ">
                              <p>将<code class="codeph">PObject</code>转换为<code class="codeph">Anydata</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e717" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-D78F5640-2083-4828-BFB1-6B80E948D482">setFromRef（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e717 d82191e377 ">
                              <p>将<code class="codeph">RefAny</code>转换为<code class="codeph">Anydata</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e731" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-7028FF6D-92B7-4A80-B1C8-2AC80CB29C89">setFromString（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e731 d82191e377 ">
                              <p>将命名空间<code class="codeph">string</code>转换为<code class="codeph">Anydata</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e745" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-77FDB54B-B814-4E25-B242-226B6FABA32B">setFromTimestamp（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e745 d82191e377 ">
                              <p>将<code class="codeph">Timestamp</code>转换为<code class="codeph">Anydata</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d82191e759" headers="d82191e374 ">
                              <p><a href="anydata-class.html#GUID-78674C4F-F62E-42D6-BE86-F023867AD826">的setNull（）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d82191e759 d82191e377 ">
                              <p>将<code class="codeph">AnyData</code>对象设置为<code class="codeph">NULL</code> 。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNCPP20538"></a><a id="LNCPP20537"></a><div class="props_rev_3"><a id="GUID-24B0DD8B-8FD1-4E30-8463-F8321F24CF0A" name="GUID-24B0DD8B-8FD1-4E30-8463-F8321F24CF0A"></a><h3 id="LNCPP-GUID-24B0DD8B-8FD1-4E30-8463-F8321F24CF0A" class="sect3"><span class="enumeration_section">13.4.1</span> AnyData（）</h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">AnyData</code>构造函数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-24B0DD8B-8FD1-4E30-8463-F8321F24CF0A__GUID-48E7C6DF-F535-4EAE-A607-A561211DA5B8">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">AnyData（const Connection * conn）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-24B0DD8B-8FD1-4E30-8463-F8321F24CF0A__GUID-3AEDE93F-EB13-4AE9-AF7D-BA2A6F463629">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d82191e856">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d82191e859">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d82191e864" headers="d82191e856 "><pre class="oac_no_warn" dir="ltr">康恩</pre></td>
                              <td align="left" valign="top" width="72%" headers="d82191e864 d82191e859 ">
                                 <p>连接。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20540"></a><a id="LNCPP20539"></a><div class="props_rev_3"><a id="GUID-812927D9-346D-4CA4-91E2-CCB874ED85B9" name="GUID-812927D9-346D-4CA4-91E2-CCB874ED85B9"></a><h3 id="LNCPP-GUID-812927D9-346D-4CA4-91E2-CCB874ED85B9" class="sect3"><span class="enumeration_section">13.4.2</span> getAsBDouble（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">BDouble</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-812927D9-346D-4CA4-91E2-CCB874ED85B9__GUID-81ABE083-4E83-404E-8874-D98989B3D915">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">BDouble getAsBDouble（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20542"></a><a id="LNCPP20541"></a><div class="props_rev_3"><a id="GUID-D4C5CD96-2E2D-4093-8C35-6A3812D91CD4" name="GUID-D4C5CD96-2E2D-4093-8C35-6A3812D91CD4"></a><h3 id="LNCPP-GUID-D4C5CD96-2E2D-4093-8C35-6A3812D91CD4" class="sect3"><span class="enumeration_section">13.4.3</span> getAsBfile（）</h3>
               <div>
                  <div class="section">
                     <p>一个转换<code class="codeph">AnyData</code>对象插入<code class="codeph">Bfile</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D4C5CD96-2E2D-4093-8C35-6A3812D91CD4__GUID-9C522D40-1535-49CA-8F9A-158F1D21DD2D">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">Bfile getAsBfile（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20544"></a><a id="LNCPP20543"></a><div class="props_rev_3"><a id="GUID-37A38908-CB27-495D-9103-3F917F080D2E" name="GUID-37A38908-CB27-495D-9103-3F917F080D2E"></a><h3 id="LNCPP-GUID-37A38908-CB27-495D-9103-3F917F080D2E" class="sect3"><span class="enumeration_section">13.4.4</span> getAsBFloat（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">BFloat</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-37A38908-CB27-495D-9103-3F917F080D2E__GUID-0D8500D7-B264-41CE-9FEA-B0A047376B59">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">BFloat getAsBFloat（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20546"></a><a id="LNCPP20545"></a><div class="props_rev_3"><a id="GUID-5295839E-16F2-462A-9BF2-C86FB107602D" name="GUID-5295839E-16F2-462A-9BF2-C86FB107602D"></a><h3 id="LNCPP-GUID-5295839E-16F2-462A-9BF2-C86FB107602D" class="sect3"><span class="enumeration_section">13.4.5</span> getAsBytes（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">AnyData</code>对象转换为字节。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5295839E-16F2-462A-9BF2-C86FB107602D__GUID-A065A15A-D8B3-40B4-AC15-DF76564365E1">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">字节getAsBytes（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20548"></a><a id="LNCPP20547"></a><div class="props_rev_3"><a id="GUID-F4D87DDC-F0AB-4356-A425-1A47A95D5AE6" name="GUID-F4D87DDC-F0AB-4356-A425-1A47A95D5AE6"></a><h3 id="LNCPP-GUID-F4D87DDC-F0AB-4356-A425-1A47A95D5AE6" class="sect3"><span class="enumeration_section">13.4.6</span> getAsDate（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">Date</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F4D87DDC-F0AB-4356-A425-1A47A95D5AE6__GUID-3BF96EBB-1E88-446A-B24F-7CA70E435B9F">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">日期getAsDate（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20550"></a><a id="LNCPP20549"></a><div class="props_rev_3"><a id="GUID-486A41F2-8BA8-44C6-87CC-EDD799164EAA" name="GUID-486A41F2-8BA8-44C6-87CC-EDD799164EAA"></a><h3 id="LNCPP-GUID-486A41F2-8BA8-44C6-87CC-EDD799164EAA" class="sect3"><span class="enumeration_section">13.4.7</span> getAsIntervalDS（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">IntervalDS</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-486A41F2-8BA8-44C6-87CC-EDD799164EAA__GUID-C486D092-A3CC-4A63-A4F4-615724670C39">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">IntervalDS getAsIntervalDS（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20552"></a><a id="LNCPP20551"></a><div class="props_rev_3"><a id="GUID-9082EF7E-AEDE-42A1-AD26-7597FA33DC32" name="GUID-9082EF7E-AEDE-42A1-AD26-7597FA33DC32"></a><h3 id="LNCPP-GUID-9082EF7E-AEDE-42A1-AD26-7597FA33DC32" class="sect3"><span class="enumeration_section">13.4.8</span> getAsIntervalYM（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">IntervalYM</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9082EF7E-AEDE-42A1-AD26-7597FA33DC32__GUID-8831ABB5-C632-4D44-BDC2-2F98712EA309">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">IntervalYS getAsIntervalYM（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20554"></a><a id="LNCPP20553"></a><div class="props_rev_3"><a id="GUID-81CB7AD6-FCA4-4307-9A56-ADC389ED9AD0" name="GUID-81CB7AD6-FCA4-4307-9A56-ADC389ED9AD0"></a><h3 id="LNCPP-GUID-81CB7AD6-FCA4-4307-9A56-ADC389ED9AD0" class="sect3"><span class="enumeration_section">13.4.9</span> getAsNumber（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">Number</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-81CB7AD6-FCA4-4307-9A56-ADC389ED9AD0__GUID-8D7ABB36-0B23-450E-B42C-3998961A4A8A">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">Number getAsNumber（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20556"></a><a id="LNCPP20555"></a><div class="props_rev_3"><a id="GUID-39BC99A6-5E82-4BE1-82A7-58F5BAA7ECB4" name="GUID-39BC99A6-5E82-4BE1-82A7-58F5BAA7ECB4"></a><h3 id="LNCPP-GUID-39BC99A6-5E82-4BE1-82A7-58F5BAA7ECB4" class="sect3"><span class="enumeration_section">13.4.10</span> getAsObject（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">PObject</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39BC99A6-5E82-4BE1-82A7-58F5BAA7ECB4__GUID-FCBB7639-9526-44C3-B08F-596B9B2B57F2">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">PObject * getAsObject（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20558"></a><a id="LNCPP20557"></a><div class="props_rev_3"><a id="GUID-950F33D8-66D4-4583-BA42-9A0BB9691E11" name="GUID-950F33D8-66D4-4583-BA42-9A0BB9691E11"></a><h3 id="LNCPP-GUID-950F33D8-66D4-4583-BA42-9A0BB9691E11" class="sect3"><span class="enumeration_section">13.4.11</span> getAsRef（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">RefAny</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-950F33D8-66D4-4583-BA42-9A0BB9691E11__GUID-A0178A4D-7CC3-4831-9D03-3A9C63FE4295">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">RefAny getAsRef（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20560"></a><a id="LNCPP20559"></a><div class="props_rev_3"><a id="GUID-F3C55CFF-B225-4652-AA7C-E629AD03AEA0" name="GUID-F3C55CFF-B225-4652-AA7C-E629AD03AEA0"></a><h3 id="LNCPP-GUID-F3C55CFF-B225-4652-AA7C-E629AD03AEA0" class="sect3"><span class="enumeration_section">13.4.12</span> getAsString（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">AnyData</code>对象转换为命名空间<code class="codeph">string</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F3C55CFF-B225-4652-AA7C-E629AD03AEA0__GUID-EF1BF074-18F2-4D6E-97CD-850BAF55D818">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">string getAsString（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20562"></a><a id="LNCPP20561"></a><div class="props_rev_3"><a id="GUID-2B92EB28-5E09-4636-A69D-AB8BED6794E4" name="GUID-2B92EB28-5E09-4636-A69D-AB8BED6794E4"></a><h3 id="LNCPP-GUID-2B92EB28-5E09-4636-A69D-AB8BED6794E4" class="sect3"><span class="enumeration_section">13.4.13</span> getAsTimestamp（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">AnyData</code>对象转换为<code class="codeph">Timestamp</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2B92EB28-5E09-4636-A69D-AB8BED6794E4__GUID-F5627F43-2E7B-47E8-89D3-6AC064EBBA53">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">时间戳getAsTimestamp（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20564"></a><a id="LNCPP20563"></a><div class="props_rev_3"><a id="GUID-07633E11-38D5-4871-96AD-B7B250DEB89F" name="GUID-07633E11-38D5-4871-96AD-B7B250DEB89F"></a><h3 id="LNCPP-GUID-07633E11-38D5-4871-96AD-B7B250DEB89F" class="sect3"><span class="enumeration_section">13.4.14</span> getType（）</h3>
               <div>
                  <div class="section">
                     <p>检索<code class="codeph">AnyData</code>对象持有的数据类型。有关<code class="codeph">TypeCode</code>有效值，请参阅<a href="anydata-class.html#GUID-489730B6-61C1-4575-82EF-CC9E5A59B6F5__CACCAAHG" title="第一列列出了数据类型;第二列提供相应的TypeCodes。">表13-4</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-07633E11-38D5-4871-96AD-B7B250DEB89F__GUID-86B695FE-30F9-43C6-87C0-9D3576A8825E">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">TypeCode getType（）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20566"></a><a id="LNCPP20565"></a><div class="props_rev_3"><a id="GUID-C0A1A33A-1672-4C4D-B4A2-2EAD6F67FFB5" name="GUID-C0A1A33A-1672-4C4D-B4A2-2EAD6F67FFB5"></a><h3 id="LNCPP-GUID-C0A1A33A-1672-4C4D-B4A2-2EAD6F67FFB5" class="sect3"><span class="enumeration_section">13.4.15</span> isNull（）</h3>
               <div>
                  <div class="section">
                     <p>测试<code class="codeph">AnyData</code>对象是否为<code class="codeph">NULL</code> 。如果<code class="codeph">AnyData</code>对象为<code class="codeph">NULL</code> ，则返回<code class="codeph">TRUE</code> ;否则，返回<code class="codeph">FALSE</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C0A1A33A-1672-4C4D-B4A2-2EAD6F67FFB5__GUID-EA357222-91C0-45A5-BA5D-AA732854DE55">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool isNull（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20568"></a><a id="LNCPP20567"></a><div class="props_rev_3"><a id="GUID-03D31A59-F000-4B7A-8F31-B43E2F7960BA" name="GUID-03D31A59-F000-4B7A-8F31-B43E2F7960BA"></a><h3 id="LNCPP-GUID-03D31A59-F000-4B7A-8F31-B43E2F7960BA" class="sect3"><span class="enumeration_section">13.4.16</span> setFromBDouble（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">BDouble</code>转换为<code class="codeph">AnyData</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03D31A59-F000-4B7A-8F31-B43E2F7960BA__GUID-B8FE23AD-F251-47D6-8D1C-A0A3780E6FD0">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setFromBDouble（const BDouble＆bdouble）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-03D31A59-F000-4B7A-8F31-B43E2F7960BA__GUID-B4125A92-05CB-4B88-88B8-1E6BF34DCB6F">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d82191e2098">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d82191e2101">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d82191e2106" headers="d82191e2098 "><pre class="oac_no_warn" dir="ltr">B双击</pre></td>
                              <td align="left" valign="top" width="72%" headers="d82191e2106 d82191e2101 ">
                                 <p>的<code class="codeph">BDouble</code>被转换为<code class="codeph">AnyData</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20570"></a><a id="LNCPP20569"></a><div class="props_rev_3"><a id="GUID-CB443B88-D052-4A5E-A754-6B1E69FC7CC9" name="GUID-CB443B88-D052-4A5E-A754-6B1E69FC7CC9"></a><h3 id="LNCPP-GUID-CB443B88-D052-4A5E-A754-6B1E69FC7CC9" class="sect3"><span class="enumeration_section">13.4.17</span> setFromBfile（）</h3>
               <div>
                  <div class="section">
                     <p>一个转换<code class="codeph">Bfile</code>到<code class="codeph">AnyData</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CB443B88-D052-4A5E-A754-6B1E69FC7CC9__GUID-632A4CF6-5C4C-432C-8765-F8478489F699">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setFromBfile（const Bfile＆bfile）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CB443B88-D052-4A5E-A754-6B1E69FC7CC9__GUID-B3E13920-E4F2-4179-9D90-BC01338BAD68">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d82191e2206">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d82191e2209">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d82191e2214" headers="d82191e2206 "><pre class="oac_no_warn" dir="ltr">BFILE</pre></td>
                              <td align="left" valign="top" width="72%" headers="d82191e2214 d82191e2209 ">
                                 <p>的<code class="codeph">Bfile</code>被转换为<code class="codeph">AnyData</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20572"></a><a id="LNCPP20571"></a><div class="props_rev_3"><a id="GUID-0DBCE89B-76D8-430F-B18E-6677B77124A8" name="GUID-0DBCE89B-76D8-430F-B18E-6677B77124A8"></a><h3 id="LNCPP-GUID-0DBCE89B-76D8-430F-B18E-6677B77124A8" class="sect3"><span class="enumeration_section">13.4.18</span> setFromBFloat（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">BFloat</code>转换为<code class="codeph">AnyData</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0DBCE89B-76D8-430F-B18E-6677B77124A8__GUID-4B577895-892B-40C9-94C5-E2F5ABF1E745">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setFromBFloat（const BFloat＆bfloat）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-0DBCE89B-76D8-430F-B18E-6677B77124A8__GUID-C33753AF-6B6B-4C7B-9EC4-55A4810CD6F8">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d82191e2315">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d82191e2318">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d82191e2323" headers="d82191e2315 "><pre class="oac_no_warn" dir="ltr">bfloat</pre></td>
                              <td align="left" valign="top" width="72%" headers="d82191e2323 d82191e2318 ">
                                 <p>该<code class="codeph">BFloat</code>被转换为<code class="codeph">AnyData</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20574"></a><a id="LNCPP20573"></a><div class="props_rev_3"><a id="GUID-E6B47FF2-6D2B-43D0-A503-2ACBFBEA842F" name="GUID-E6B47FF2-6D2B-43D0-A503-2ACBFBEA842F"></a><h3 id="LNCPP-GUID-E6B47FF2-6D2B-43D0-A503-2ACBFBEA842F" class="sect3"><span class="enumeration_section">13.4.19</span> setFromBytes（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">Bytes</code>转换为<code class="codeph">AnyData</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E6B47FF2-6D2B-43D0-A503-2ACBFBEA842F__GUID-FE1C81E4-ACD6-4F6B-AF1E-05ED344C1E2A">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setFromBytes（const Bytes＆bytes）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-E6B47FF2-6D2B-43D0-A503-2ACBFBEA842F__GUID-AC7606D4-4E1A-4556-8459-8304DC48520E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d82191e2423">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d82191e2426">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d82191e2431" headers="d82191e2423 "><pre class="oac_no_warn" dir="ltr">字节</pre></td>
                              <td align="left" valign="top" width="72%" headers="d82191e2431 d82191e2426 ">
                                 <p>转换为<code class="codeph">AnyData</code>的<code class="codeph">Bytes</code> <code class="codeph">AnyData</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20576"></a><a id="LNCPP20575"></a><div class="props_rev_3"><a id="GUID-2F4C0472-7A7C-49F6-AB48-A52D0612BE5E" name="GUID-2F4C0472-7A7C-49F6-AB48-A52D0612BE5E"></a><h3 id="LNCPP-GUID-2F4C0472-7A7C-49F6-AB48-A52D0612BE5E" class="sect3"><span class="enumeration_section">13.4.20</span> setFromDate（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">Date</code>转换为<code class="codeph">AnyData</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2F4C0472-7A7C-49F6-AB48-A52D0612BE5E__GUID-DE82FE54-5596-4C45-9E63-676FAE481C8C">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setFromDate（const Date＆date）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2F4C0472-7A7C-49F6-AB48-A52D0612BE5E__GUID-802908D9-6CDE-4B8A-9668-C1C519D078D9">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d82191e2531">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d82191e2534">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d82191e2539" headers="d82191e2531 "><pre class="oac_no_warn" dir="ltr">日期</pre></td>
                              <td align="left" valign="top" width="72%" headers="d82191e2539 d82191e2534 ">
                                 <p>转换为<code class="codeph">AnyData</code>的<code class="codeph">Date</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20578"></a><a id="LNCPP20577"></a><div class="props_rev_3"><a id="GUID-6EDD0A07-B2F7-4994-B58E-6DEF195F020F" name="GUID-6EDD0A07-B2F7-4994-B58E-6DEF195F020F"></a><h3 id="LNCPP-GUID-6EDD0A07-B2F7-4994-B58E-6DEF195F020F" class="sect3"><span class="enumeration_section">13.4.21</span> setFromIntervalDS（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">IntervalDS</code>转换为<code class="codeph">AnyData</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6EDD0A07-B2F7-4994-B58E-6DEF195F020F__GUID-D629248A-44BB-4A83-8282-6899C6634B41">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setFromIntervalDS（const IntervalDS＆intervalds）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-6EDD0A07-B2F7-4994-B58E-6DEF195F020F__GUID-CFFDB72C-F1F9-4818-BF9D-71C3F1A6A7CB">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d82191e2640">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d82191e2643">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d82191e2648" headers="d82191e2640 "><pre class="oac_no_warn" dir="ltr">invtervalds</pre></td>
                              <td align="left" valign="top" width="72%" headers="d82191e2648 d82191e2643 ">
                                 <p>该<code class="codeph">IntervalDS</code>被转换为<code class="codeph">AnyData</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20580"></a><a id="LNCPP20579"></a><div class="props_rev_3"><a id="GUID-B3B204C2-EC42-4F60-BD26-2A9E0CA61106" name="GUID-B3B204C2-EC42-4F60-BD26-2A9E0CA61106"></a><h3 id="LNCPP-GUID-B3B204C2-EC42-4F60-BD26-2A9E0CA61106" class="sect3"><span class="enumeration_section">13.4.22</span> setFromIntervalYM（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">IntervalYM</code>转换为<code class="codeph">AnyData</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B3B204C2-EC42-4F60-BD26-2A9E0CA61106__GUID-8BC4727A-A414-4D9C-A77F-259EA2ED9BFE">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setFromIntervalYM（const IntervalYM＆intervalym）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-B3B204C2-EC42-4F60-BD26-2A9E0CA61106__GUID-3440A743-3F84-4699-AB84-032F5E5CFBF6">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d82191e2748">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d82191e2751">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d82191e2756" headers="d82191e2748 "><pre class="oac_no_warn" dir="ltr">invalym</pre></td>
                              <td align="left" valign="top" width="72%" headers="d82191e2756 d82191e2751 ">
                                 <p>该<code class="codeph">IntervalYM</code>被转换为<code class="codeph">AnyData</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20582"></a><a id="LNCPP20581"></a><div class="props_rev_3"><a id="GUID-1D48C03C-15C0-4025-88B7-AF0C6E501B23" name="GUID-1D48C03C-15C0-4025-88B7-AF0C6E501B23"></a><h3 id="LNCPP-GUID-1D48C03C-15C0-4025-88B7-AF0C6E501B23" class="sect3"><span class="enumeration_section">13.4.23</span> setFromNumber（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">Number</code>转换为<code class="codeph">AnyData</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1D48C03C-15C0-4025-88B7-AF0C6E501B23__GUID-F7B6B4CA-0047-4B3B-80A5-A4E5A1D0D84B">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setFromNumber（const Number＆num）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-1D48C03C-15C0-4025-88B7-AF0C6E501B23__GUID-BA4A2609-731B-4EDF-92B3-C76D10F5C7A9">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d82191e2856">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d82191e2859">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d82191e2864" headers="d82191e2856 "><pre class="oac_no_warn" dir="ltr">NUM</pre></td>
                              <td align="left" valign="top" width="72%" headers="d82191e2864 d82191e2859 ">
                                 <p>的<code class="codeph">Number</code>被转换成<code class="codeph">AnyData</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20584"></a><a id="LNCPP20583"></a><div class="props_rev_3"><a id="GUID-4E39405A-DCCF-4798-A1F1-B676FA7C3BBE" name="GUID-4E39405A-DCCF-4798-A1F1-B676FA7C3BBE"></a><h3 id="LNCPP-GUID-4E39405A-DCCF-4798-A1F1-B676FA7C3BBE" class="sect3"><span class="enumeration_section">13.4.24</span> setFromObject（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">PObject</code>转换为<code class="codeph">AnyData</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4E39405A-DCCF-4798-A1F1-B676FA7C3BBE__GUID-61F8A50C-6DB6-4F8C-B8EA-11CD96413AE8">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setFromObject（const PObject * objptr）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4E39405A-DCCF-4798-A1F1-B676FA7C3BBE__GUID-1E0F0C4E-0F5C-4CCE-8D1F-328479FF6C5A">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d82191e2965">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d82191e2968">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d82191e2973" headers="d82191e2965 "><pre class="oac_no_warn" dir="ltr">objptr</pre></td>
                              <td align="left" valign="top" width="72%" headers="d82191e2973 d82191e2968 ">
                                 <p>该<code class="codeph">PObject</code>被转换为<code class="codeph">AnyData</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20586"></a><a id="LNCPP20585"></a><div class="props_rev_3"><a id="GUID-D78F5640-2083-4828-BFB1-6B80E948D482" name="GUID-D78F5640-2083-4828-BFB1-6B80E948D482"></a><h3 id="LNCPP-GUID-D78F5640-2083-4828-BFB1-6B80E948D482" class="sect3"><span class="enumeration_section">13.4.25</span> setFromRef（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">PObject</code>转换为<code class="codeph">AnyData</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D78F5640-2083-4828-BFB1-6B80E948D482__GUID-7B66902E-8F4D-4C68-8A57-ED2EE126279A">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setFromRef（const RefAny＆ref const string＆typeName，const string＆schema）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D78F5640-2083-4828-BFB1-6B80E948D482__GUID-4B395B7A-A3C2-41C6-8310-0D1922604DE6">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d82191e3073">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d82191e3076">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d82191e3081" headers="d82191e3073 "><pre class="oac_no_warn" dir="ltr">REF</pre></td>
                              <td align="left" valign="top" width="72%" headers="d82191e3081 d82191e3076 ">
                                 <p>该<code class="codeph">RefAny</code>被转换为<code class="codeph">AnyData</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d82191e3094" headers="d82191e3073 "><pre class="oac_no_warn" dir="ltr">的typeName</pre></td>
                              <td align="left" valign="top" width="72%" headers="d82191e3094 d82191e3076 ">
                                 <p>类型的名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d82191e3101" headers="d82191e3073 "><pre class="oac_no_warn" dir="ltr">模式</pre></td>
                              <td align="left" valign="top" width="72%" headers="d82191e3101 d82191e3076 ">
                                 <p>定义类型的架构的名称。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20588"></a><a id="LNCPP20587"></a><div class="props_rev_3"><a id="GUID-7028FF6D-92B7-4A80-B1C8-2AC80CB29C89" name="GUID-7028FF6D-92B7-4A80-B1C8-2AC80CB29C89"></a><h3 id="LNCPP-GUID-7028FF6D-92B7-4A80-B1C8-2AC80CB29C89" class="sect3"><span class="enumeration_section">13.4.26</span> setFromString（）</h3>
               <div>
                  <div class="section">
                     <p>将命名空间<code class="codeph">string</code>转换为<code class="codeph">AnyData</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7028FF6D-92B7-4A80-B1C8-2AC80CB29C89__GUID-38824B29-1923-4B9B-87D0-C1BA0F3395B7">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setFromString（string＆str）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-7028FF6D-92B7-4A80-B1C8-2AC80CB29C89__GUID-CBDD6412-8E5D-4137-B7E7-3F7C9198AA52">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d82191e3195">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d82191e3198">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d82191e3203" headers="d82191e3195 "><pre class="oac_no_warn" dir="ltr">海峡</pre></td>
                              <td align="left" valign="top" width="72%" headers="d82191e3203 d82191e3198 ">
                                 <p>转换为<code class="codeph">AnyData</code>的命名空间<code class="codeph">string</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20590"></a><a id="LNCPP20589"></a><div class="props_rev_3"><a id="GUID-77FDB54B-B814-4E25-B242-226B6FABA32B" name="GUID-77FDB54B-B814-4E25-B242-226B6FABA32B"></a><h3 id="LNCPP-GUID-77FDB54B-B814-4E25-B242-226B6FABA32B" class="sect3"><span class="enumeration_section">13.4.27</span> setFromTimestamp（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">Timestamp</code>转换为<code class="codeph">AnyData</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-77FDB54B-B814-4E25-B242-226B6FABA32B__GUID-63294615-FE66-4C4F-8733-BB2BF6A15629">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setFromTimestamp（const Timestamp＆timestamp）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-77FDB54B-B814-4E25-B242-226B6FABA32B__GUID-63699261-5783-4E57-B02C-84954B148385">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d82191e3304">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d82191e3307">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d82191e3312" headers="d82191e3304 "><pre class="oac_no_warn" dir="ltr">时间戳</pre></td>
                              <td align="left" valign="top" width="72%" headers="d82191e3312 d82191e3307 ">
                                 <p>转换为<code class="codeph">AnyData</code>的<code class="codeph">Timestamp</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20592"></a><a id="LNCPP20591"></a><div class="props_rev_3"><a id="GUID-78674C4F-F62E-42D6-BE86-F023867AD826" name="GUID-78674C4F-F62E-42D6-BE86-F023867AD826"></a><h3 id="LNCPP-GUID-78674C4F-F62E-42D6-BE86-F023867AD826" class="sect3"><span class="enumeration_section">13.4.28</span> setNull（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">AnyData object</code>设置为<code class="codeph">NULL</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-78674C4F-F62E-42D6-BE86-F023867AD826__GUID-A1CE1E29-C53F-4748-9B2B-71B841AF7FB5">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setNull（）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03351.auditing-oracle-database-vault.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can audit activities in Oracle Database Vault, such as changes to policy configurations."></meta>
      <meta name="description" content="You can audit activities in Oracle Database Vault, such as changes to policy configurations."></meta>
      <title>审核Oracle Database Vault</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide "></meta>
      <meta property="og:description" content="You can audit activities in Oracle Database Vault, such as changes to policy configurations."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-vault-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-28T15:24:22-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96302-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-database-vault-reports.html" title="Previous" type="text/html"></link>
      <link rel="next" href="disabling-and-enabling-oracle-database-vault.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Vault Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DVADM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-database-vault-reports.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="disabling-and-enabling-oracle-database-vault.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">审核Oracle Database Vault</li>
            </ol>
            <a id="GUID-9E9C7DBE-A8C5-4F02-8E90-F7311D47AB92" name="GUID-9E9C7DBE-A8C5-4F02-8E90-F7311D47AB92"></a>
            
            <h2 id="DVADM-GUID-9E9C7DBE-A8C5-4F02-8E90-F7311D47AB92" class="sect2"><span class="enumeration_appendix">一个</span>审计的Oracle Database Vault的</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以审核Oracle Database Vault中的活动，例如对策略配置的更改。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="auditing-oracle-database-vault.html#GUID-63C81158-5324-41C4-9931-B0E6A06EDAB2">关于Oracle Database Vault中的审核</a><br>可以审核Oracle Database Vault中的所有活动，包括Database Vault管理员活动。
                  </li>
                  <li class="ulchildlink"><a href="auditing-oracle-database-vault.html#GUID-1B46C5B8-1C4D-4552-B75C-F294A48CE55C">保护Oracle Database Vault环境中的统一审计跟踪</a><br>默认情况下，包含统一审计跟踪的<code class="codeph">AUDSYS</code>架构不受域保护。
                  </li>
                  <li class="ulchildlink"><a href="auditing-oracle-database-vault.html#GUID-30A8337F-DEBA-42CE-B845-35B090C64FAA">Oracle Database Vault特定审计事件</a><br>Oracle Database Vault审核事件跟踪活动，例如在域上尝试的操作是否成功。
                  </li>
                  <li class="ulchildlink"><a href="auditing-oracle-database-vault.html#GUID-2CE05A86-E814-4848-864D-2E1A74E2BD07">归档和清除Oracle Database Vault审计跟踪</a><br>如果尚未迁移到统一审核，则应定期归档和清除Oracle Database Vault审核跟踪。
                  </li>
                  <li class="ulchildlink"><a href="auditing-oracle-database-vault.html#GUID-F64C864D-8A5D-484C-A3AA-25F17E4CDBAC">为Oracle Database Vault创建的Oracle数据库审计设置</a><br>安装Oracle Database Vault时，它会在数据库中创建多个<code class="codeph">AUDIT</code>设置。
                  </li>
               </ul>
            </div>
            <a id="DVADM011"></a><a id="DVADM71187"></a><div class="props_rev_3"><a id="GUID-63C81158-5324-41C4-9931-B0E6A06EDAB2" name="GUID-63C81158-5324-41C4-9931-B0E6A06EDAB2"></a><h3 id="DVADM-GUID-63C81158-5324-41C4-9931-B0E6A06EDAB2" class="sect3">关于Oracle Database Vault中的审核</h3>
               <div>
                  <p>可以审核Oracle Database Vault中的所有活动，包括Database Vault管理员活动。</p>
                  <p>（可选）您可以审核为领域，规则集和因子创建的各个策略。审核指示用户的操作是否成功（即，策略是否允许用户完成任务），或者用户的操作是否失败（策略是否被违反）。这些操作将写入审核日志，您可以通过查询相应的数据字典视图或运行<a href="oracle-database-vault-reports.html#GUID-1B6D02DE-3FB2-4ADB-9916-4491B37FDECD" title="Oracle Database Vault提供跟踪活动的报告，例如Database Vault配置设置。">Oracle Database Vault Reports中</a>描述的报告来查找其内容。
                  </p>
                  <p>强制审核对Database Vault所做的所有配置更改，包括尝试修改Database Vault策略的非特权用户的操作。</p>
                  <p>安装新数据库并将其配置为使用Oracle Database Vault时，默认情况下它使用混合模式环境，即统一审计和预迁移审计的混合。如果您已从先前版本升级，则Database Vault将使用该版本中提供的审核。</p>
                  <p>在迁移到完全统一的审核环境之前，您可以按如下方式创建审核策略：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">使用Database Vault API：</span>即，在Enterprise Manager中使用<code class="codeph">DBMS_MACADM</code> PL / SQL包或Database Vault页。在这种情况下，审计记录将写入Database Vault审计跟踪，该跟踪存储在<code class="codeph">DVSYS.AUDIT_TRAIL$</code>表中。您可以查询这些审核记录的<code class="codeph">DVSYS.DV$CONFIGURATION_AUDIT</code>和<code class="codeph">DVSYS.DV$ENFORCEMENT_AUDIT</code>视图。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">使用统一审计策略SQL语句：</span>这些语句是<code class="codeph">CREATE AUDIT POLICY</code> ， <code class="codeph">ALTER AUDIT POLICY</code> ， <code class="codeph">DROP AUDIT POLICY</code> ， <code class="codeph">AUDIT</code>和<code class="codeph">NO AUDIT</code>语句。它们被写入统一审计跟踪，由<code class="codeph">UNIFIED_AUDIT_TRAIL</code> ， <code class="codeph">AUDSYS.DV$CONFIGURATION_AUDIT</code>和<code class="codeph">AUDSYS.DV$ENFORCEMENT_AUDIT</code>数据字典视图<code class="codeph">AUDSYS.DV$ENFORCEMENT_AUDIT</code> 。
                        </p>
                     </li>
                  </ul>
                  <p>迁移到统一审核时，Database Vault API中的审核功能不再有效。您应该归档和清除这些审核记录，如<a href="auditing-oracle-database-vault.html#GUID-2CE05A86-E814-4848-864D-2E1A74E2BD07" title="如果尚未迁移到统一审核，则应定期归档和清除Oracle Database Vault审核跟踪。">存档和清除Oracle Database Vault审计跟踪中所述</a> 。从那时起，您可以通过统一审计策略PL / SQL语句管理Database Vault审计策略。
                  </p>
                  <p>除非另有说明，否则本章的其余部分将介绍Database Vault审核如何在非统一或混合模式审核环境中工作。</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-63C81158-5324-41C4-9931-B0E6A06EDAB2__GUID-00495594-BE00-44D7-9CDF-6590F6197333">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../dbseg/configuring-audit-policies.html#DBSEG419" target="_blank"><span><cite>“Oracle数据库安全指南”</cite></span></a> ，了解有关统一审计如何在Oracle Database Vault中工作以及如何创建统一审计策略的信息</p>
                        </li>
                        <li>
                           <p><a href="auditing-oracle-database-vault.html#GUID-DD4D7B05-8C12-4696-8231-71E769014EED" title="如果不使用统一审核，则Oracle Database Vault会将审核记录写入DVSYS.AUDIT_TRAIL $表。">Oracle Database Vault审计跟踪记录格式</a></p>
                        </li>
                        <li>
                           <p>以下数据字典视图，特定于Database Vault统一审计：</p>
                           <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-98E3B6EB-C6C7-4917-AB78-C93B9A0645AE" title="DVSYS.DV $ CONFIGURATION_AUDIT数据字典视图捕获DVSYS.AUDIT_TRAIL $表审计跟踪记录。">DVSYS.DV $ CONFIGURATION_AUDIT查看</a></p>
                           <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-00538A9F-4193-414A-B88E-FB9C072F4E13" title="DVSYS.DV $ ENFORCEMENT_AUDIT数据字典视图提供有关DVSYS.AUDIT_TRAIL $表中与执行相关的审核的信息。">DVSYS.DV $ ENFORCEMENT_AUDIT查看</a> 
                           </p>
                        </li>
                        <li>
                           <p><a href="../upgrd/recommended-and-best-practices-complete-upgrading-oracle-database.html#UPGRD52810" target="_blank"><span><cite>Oracle数据库升级指南，</cite></span></a>用于将数据库迁移到统一审计</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="auditing-oracle-database-vault.html#GUID-9E9C7DBE-A8C5-4F02-8E90-F7311D47AB92" title="您可以审核Oracle Database Vault中的活动，例如对策略配置的更改。">审核Oracle Database Vault</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM71234"></a><div class="props_rev_3"><a id="GUID-1B46C5B8-1C4D-4552-B75C-F294A48CE55C" name="GUID-1B46C5B8-1C4D-4552-B75C-F294A48CE55C"></a><h3 id="DVADM-GUID-1B46C5B8-1C4D-4552-B75C-F294A48CE55C" class="sect3">保护Oracle Database Vault环境中的统一审计跟踪</h3>
               <div>
                  <p>默认情况下，包含统一审计跟踪的<code class="codeph">AUDSYS</code>架构不受域保护。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="configuring-realms.html#GUID-CC84928B-7D89-426E-9517-CC04CCEACD9B" title="要启用域保护，请创建域并将其配置为包括域安全对象，角色和授权。">创造一个领域</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="auditing-oracle-database-vault.html#GUID-9E9C7DBE-A8C5-4F02-8E90-F7311D47AB92" title="您可以审核Oracle Database Vault中的活动，例如对策略配置的更改。">审核Oracle Database Vault</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="DVADM71054"></a><div class="props_rev_3"><a id="GUID-30A8337F-DEBA-42CE-B845-35B090C64FAA" name="GUID-30A8337F-DEBA-42CE-B845-35B090C64FAA"></a><h3 id="DVADM-GUID-30A8337F-DEBA-42CE-B845-35B090C64FAA" class="sect3">Oracle Database Vault特定审计事件</h3>
               <div>
                  <p>Oracle Database Vault审核事件跟踪活动，例如在域上尝试的操作是否成功。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="auditing-oracle-database-vault.html#GUID-86CE5DCA-E8E8-4A7D-A54F-EFBFCCFD76B9">Oracle Database Vault策略审核事件</a><br>Oracle Database Vault使用审计事件来跟踪配置活动。
                     </li>
                     <li class="ulchildlink"><a href="auditing-oracle-database-vault.html#GUID-DD4D7B05-8C12-4696-8231-71E769014EED">Oracle Database Vault审计跟踪记录格式</a><br>如果不使用统一审核，则Oracle Database Vault会将审核记录写入<code class="codeph">DVSYS.AUDIT_TRAIL$</code>表。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="auditing-oracle-database-vault.html#GUID-9E9C7DBE-A8C5-4F02-8E90-F7311D47AB92" title="您可以审核Oracle Database Vault中的活动，例如对策略配置的更改。">审核Oracle Database Vault</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM71055"></a><div class="props_rev_3"><a id="GUID-86CE5DCA-E8E8-4A7D-A54F-EFBFCCFD76B9" name="GUID-86CE5DCA-E8E8-4A7D-A54F-EFBFCCFD76B9"></a><h4 id="DVADM-GUID-86CE5DCA-E8E8-4A7D-A54F-EFBFCCFD76B9" class="sect4">Oracle Database Vault策略审核事件</h4>
                  <div>
                     <p>Oracle Database Vault使用审计事件来跟踪配置活动。</p>
                     <p>这些活动如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">境界审计。</span> 您可以根据在创建领域时设置的审核选项来审核成功和失败的操作。例外情况是架构所有者执行的操作。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">规则集审计。</span> 审核规则集处理结果。您可以审核成功和失败的处理。可以使用规则集管理领域授权。您可以审核规则集处理结果。可以使用规则集管理因子分配和安全应用程序角色审核。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">因素审计。</span> 您可以审核成功和失败的因子处理。对于失败的因子处理，您可以审核以下所有或任何事件：检索错误，检索空，验证错误，验证错误，信任级别空或信任级别小于零。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Oracle Label Security会话初始化失败。</span> 审核Oracle Label Security会话无法初始化的实例。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Oracle Label Security尝试升级会话标签失败。</span> 审核Oracle Label Security组件阻止会话设置超过最大会话标签的标签的实例。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-factors.html#GUID-D4BA8031-3ED5-4274-AA21-E6B7B7B1076E" title="在“审核选项”下，如果未使用统一审核环境，则可以生成审核跟踪。">设置因子的审计选项</a></li>
                           <li><a href="configuring-realms.html#GUID-18D6FFCB-42C2-49D1-9F53-BADE7B0754AB" title="领域授权建立了一组数据库帐户和角色，用于管理或访问领域中受保护的对象。">关于领域授权</a></li>
                           <li><a href="oracle-database-vault-reports.html#GUID-1B6D02DE-3FB2-4ADB-9916-4491B37FDECD" title="Oracle Database Vault提供跟踪活动的报告，例如Database Vault配置设置。">Oracle Database Vault报告</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="auditing-oracle-database-vault.html#GUID-30A8337F-DEBA-42CE-B845-35B090C64FAA" title="Oracle Database Vault审核事件跟踪活动，例如在域上尝试的操作是否成功。">Oracle Database Vault特定审计事件</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71057"></a><a id="DVADM71056"></a><div class="props_rev_3"><a id="GUID-DD4D7B05-8C12-4696-8231-71E769014EED" name="GUID-DD4D7B05-8C12-4696-8231-71E769014EED"></a><h4 id="DVADM-GUID-DD4D7B05-8C12-4696-8231-71E769014EED" class="sect4">Oracle Database Vault审计跟踪记录格式</h4>
                  <div>
                     <p>如果不使用统一审核，则Oracle Database Vault会将审核记录写入<code class="codeph">DVSYS.AUDIT_TRAIL$</code>表。
                     </p>
                     <p>这些审计记录不是Oracle数据库审计跟踪的一部分，如何在数据库中启用审计对Oracle Database Vault如何在<code class="codeph">DVSYS.AUDIT_TRAIL$</code>表中收集其审计数据没有影响。实际上，即使在Oracle数据库中禁用了审核，Oracle Database Vault审核功能仍会继续写入<code class="codeph">DVSYS.AUDIT_TRAIL$</code>表。
                     </p>
                     <p>已被授予<code class="codeph">DV_OWNER</code> ， <code class="codeph">DV_ADMIN</code> ， <code class="codeph">DV_SECANALYST</code>或<code class="codeph">DV_MONITOR</code>角色的用户可以直接查询<code class="codeph">DVYS.AUDIT_TRAIL$</code>表。
                     </p>
                     <p><a href="auditing-oracle-database-vault.html#GUID-DD4D7B05-8C12-4696-8231-71E769014EED__CIHBJJDI" title="审计跟踪格式">表A-1</a>说明了审计跟踪的格式，如果您计划创建使用<code class="codeph">DVSYS.AUDIT_TRAIL$</code>表的自定义报表，则必须了解该格式。
                     </p>
                     <div class="tblformalwide" id="GUID-DD4D7B05-8C12-4696-8231-71E769014EED__CIHBJJDI">
                        <p class="titleintable">表A-1 Oracle Database Vault审计跟踪格式</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle Database Vault审计跟踪格式" width="100%" border="1" summary="audit trail format" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d173729e865">柱</th>
                                 <th align="left" valign="bottom" width="19%" id="d173729e868">数据类型</th>
                                 <th align="left" valign="bottom" width="13%" id="d173729e871">空值</th>
                                 <th align="left" valign="bottom" width="44%" id="d173729e874">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e879" headers="d173729e865 ">
                                    <p><code class="codeph">ID＃</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e879 d173729e868 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e879 d173729e871 ">
                                    <p><code class="codeph">不是NULL</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e879 d173729e874 ">
                                    <p>审计记录的数字标识符</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e896" headers="d173729e865 ">
                                    <p><code class="codeph">OS_USERNAME</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e896 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（255）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e896 d173729e871 ">
                                    <p><code class="codeph">空值</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e896 d173729e874 ">
                                    <p>操作系统登录审核其操作的用户的用户名</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e914" headers="d173729e865 ">
                                    <p><code class="codeph">用户名</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e914 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（30）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e914 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e914 d173729e874 ">
                                    <p>审核其操作的数据库用户的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e930" headers="d173729e865 ">
                                    <p><code class="codeph">USERHOST</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e930 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（128）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e930 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e930 d173729e874 ">
                                    <p>客户计算机名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e946" headers="d173729e865 ">
                                    <p><code class="codeph">终奌站</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e946 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（255）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e946 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e946 d173729e874 ">
                                    <p>用户终端的标识符</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e962" headers="d173729e865 ">
                                    <p><code class="codeph">TIMESTAMP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e962 d173729e868 ">
                                    <p><code class="codeph">日期</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e962 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e962 d173729e874 ">
                                    <p>创建审计跟踪条目的日期和时间（在本地数据库会话时区中）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e978" headers="d173729e865 ">
                                    <p><code class="codeph">所有者</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e978 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（30）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e978 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e978 d173729e874 ">
                                    <p>受动作影响的对象的创建者，总是<code class="codeph">DVSYS</code> （因为<code class="codeph">DVSYS</code>是创建对象的地方）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1000" headers="d173729e865 ">
                                    <p><code class="codeph">OBJ_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1000 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（128）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1000 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1000 d173729e874 ">
                                    <p>受操作影响的对象的名称。预期值为：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">ROLE $</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">REALM $</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">代码$</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">FACTOR $</code></p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1033" headers="d173729e865 ">
                                    <p><code class="codeph">行动</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1033 d173729e868 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1033 d173729e871 ">
                                    <p><code class="codeph">不是NULL</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1033 d173729e874 ">
                                    <p>数字操作类型代码。操作类型的相应名称位于<code class="codeph">ACTION_NAME</code>列中。有关预期的<code class="codeph">ACTION</code>和<code class="codeph">ACTION_NAME</code>值的列表，请参阅<a href="oracle-database-vault-data-dictionary-views.html#GUID-98E3B6EB-C6C7-4917-AB78-C93B9A0645AE__BACJACFA" title="SYS.DV $ CONFIGURATION_AUDIT.ACTION值。列从左到右操作类型代码和操作名称。">表24-3</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1064" headers="d173729e865 ">
                                    <p><code class="codeph">ACTION_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1064 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（128）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1064 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1064 d173729e874 ">
                                    <p>与<code class="codeph">ACTION</code>列中的数字代码对应的操作类型的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1083" headers="d173729e865 ">
                                    <p><code class="codeph">ACTION_OBJECT_ID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1083 d173729e868 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1083 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1083 d173729e874 ">
                                    <p><code class="codeph">OBJ_NAME</code>下指定的表中记录的唯一标识符。对于域，此字段包含具有“审核失败时审核”选项的所有域ID的逗号分隔值列表。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1103" headers="d173729e865 ">
                                    <p><code class="codeph">ACTION_OBJECT_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1103 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（128）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1103 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1103 d173729e874 ">
                                    <p><code class="codeph">OBJ_NAME</code>下指定的表中记录的唯一名称或自然键。对于领域，此字段包含具有“审核失败时审核”选项的所有领域名称的逗号分隔值列表。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1122" headers="d173729e865 ">
                                    <p><code class="codeph">ACTION_COMMAND</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1122 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（4000）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1122 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1122 d173729e874 ">
                                    <p>执行的命令过程的SQL文本导致审计事件被触发</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1138" headers="d173729e865 ">
                                    <p><code class="codeph">AUDIT_OPTION</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1138 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（4000）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1138 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1138 d173729e874 ">
                                    <p>记录中指定的所有审计选项的标签，这些标签导致审计事件被触发。例如，应该在get failure和get <code class="codeph">NULL</code>上进行审计的因子集操作将指示这两个选项。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1157" headers="d173729e865 ">
                                    <p><code class="codeph">RULE_SET_ID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1157 d173729e868 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1157 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1157 d173729e874 ">
                                    <p>正在执行并导致审计事件触发的规则集的唯一标识符</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1173" headers="d173729e865 ">
                                    <p><code class="codeph">RULE_SET_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1173 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（30）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1173 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1173 d173729e874 ">
                                    <p>正在执行并导致审计事件触发的规则集的唯一名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1189" headers="d173729e865 ">
                                    <p><code class="codeph">RULE_ID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1189 d173729e868 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1189 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1189 d173729e874 ">
                                    <p>不曾用过</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1205" headers="d173729e865 ">
                                    <p><code class="codeph">RULE_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1205 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（30）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1205 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1205 d173729e874 ">
                                    <p>不曾用过</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1221" headers="d173729e865 ">
                                    <p><code class="codeph">FACTOR_CONTEXT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1221 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（4000）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1221 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1221 d173729e874 ">
                                    <p>一个XML文档，其中包含触发审计事件时当前会话的所有因子标识符</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1237" headers="d173729e865 ">
                                    <p><code class="codeph">COMMENT_TEXT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1237 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（4000）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1237 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1237 d173729e874 ">
                                    <p>审计跟踪条目的文本注释，提供有关审计的语句的更多信息</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1253" headers="d173729e865 ">
                                    <p><code class="codeph">SESSIONID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1253 d173729e868 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1253 d173729e871 ">
                                    <p><code class="codeph">不是NULL</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1253 d173729e874 ">
                                    <p>每个Oracle会话的数字标识符</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1270" headers="d173729e865 ">
                                    <p><code class="codeph">ENTRYID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1270 d173729e868 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1270 d173729e871 ">
                                    <p><code class="codeph">不是NULL</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1270 d173729e874 ">
                                    <p>与<code class="codeph">ID#</code>列中的值相同</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1291" headers="d173729e865 ">
                                    <p><code class="codeph">STATEMENTID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1291 d173729e868 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1291 d173729e871 ">
                                    <p><code class="codeph">不是NULL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1291 d173729e874 ">
                                    <p>调用的语句的数字标识符，该标识符导致生成审计事件。对于大多数Oracle Database Vault事件，这是空的。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1307" headers="d173729e865 ">
                                    <p><code class="codeph">RETURNCODE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1307 d173729e868 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1307 d173729e871 ">
                                    <p><code class="codeph">不是NULL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1307 d173729e874 ">
                                    <p>操作生成的Oracle错误代码。调用的语句或过程的错误代码导致生成审计事件。对于大多数Oracle Database Vault事件，这是空的。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1323" headers="d173729e865 ">
                                    <p><code class="codeph">EXTENDED_TIMESTAMP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1323 d173729e868 ">
                                    <p><code class="codeph">TIMESTAMP（6）带时区</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1323 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1323 d173729e874 ">
                                    <p>在UTC（协调世界时）时区中创建审计跟踪条目（条目的用户登录时间戳）的时间戳</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1339" headers="d173729e865 ">
                                    <p><code class="codeph">PROXY_SESSIONID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1339 d173729e868 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1339 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1339 d173729e874 ">
                                    <p>代理会话序列号，如果企业用户已通过代理机制登录</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1355" headers="d173729e865 ">
                                    <p><code class="codeph">GLOBAL_UID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1355 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（32）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1355 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1355 d173729e874 ">
                                    <p>用户的全局用户标识符（如果用户已以企业用户身份登录）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1371" headers="d173729e865 ">
                                    <p><code class="codeph">INSTANCE_NUMBER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1371 d173729e868 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1371 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1371 d173729e874 ">
                                    <p><code class="codeph">INSTANCE_NUMBER</code>初始化参数指定的实例编号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1390" headers="d173729e865 ">
                                    <p><code class="codeph">OS_PROCESS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1390 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（16）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1390 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1390 d173729e874 ">
                                    <p>操作系统进程标识Oracle进程</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1406" headers="d173729e865 ">
                                    <p><code class="codeph">由...制作</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1406 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（30）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1406 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1406 d173729e874 ">
                                    <p>审核其操作的用户的数据库登录用户名</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1422" headers="d173729e865 ">
                                    <p><code class="codeph">CREATE_DATE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1422 d173729e868 ">
                                    <p><code class="codeph">日期</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1422 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1422 d173729e874 ">
                                    <p>基于<code class="codeph">SYSDATE</code>日期发生操作的日期</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1441" headers="d173729e865 ">
                                    <p><code class="codeph">UPDATED_BY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1441 d173729e868 ">
                                    <p><code class="codeph">VARCHAR2（30）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1441 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1441 d173729e874 ">
                                    <p>与<code class="codeph">CREATED_BY</code>列值相同</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d173729e1460" headers="d173729e865 ">
                                    <p><code class="codeph">更新日期</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d173729e1460 d173729e868 ">
                                    <p><code class="codeph">日期</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d173729e1460 d173729e871 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d173729e1460 d173729e874 ">
                                    <p>与<code class="codeph">UPDATED_BY</code>列值相同</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="auditing-oracle-database-vault.html#GUID-30A8337F-DEBA-42CE-B845-35B090C64FAA" title="Oracle Database Vault审核事件跟踪活动，例如在域上尝试的操作是否成功。">Oracle Database Vault特定审计事件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DVADM71058"></a><div class="props_rev_3"><a id="GUID-2CE05A86-E814-4848-864D-2E1A74E2BD07" name="GUID-2CE05A86-E814-4848-864D-2E1A74E2BD07"></a><h3 id="DVADM-GUID-2CE05A86-E814-4848-864D-2E1A74E2BD07" class="sect3">归档和清除Oracle Database Vault审计跟踪</h3>
               <div>
                  <p>如果尚未迁移到统一审核，则应定期归档和清除Oracle Database Vault审核跟踪。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="auditing-oracle-database-vault.html#GUID-14ADB000-F1C5-4F51-8466-6301194F71FC">关于存档和清除Oracle Database Vault审计跟踪</a><br>在非统一审计环境中，您可以通过将<code class="codeph">DVSYS.AUDIT_TRAIL$</code>表导出到转储文件来归档Oracle Database Vault审计跟踪。
                     </li>
                     <li class="ulchildlink"><a href="auditing-oracle-database-vault.html#GUID-E48F3536-A9A2-4CFE-8E15-485E07B8FAF1">归档Oracle Database Vault审计跟踪</a><br>您可以使用SQL * Plus和Oracle Data Pump来存档Oracle Database Vault审计跟踪。
                     </li>
                     <li class="ulchildlink"><a href="auditing-oracle-database-vault.html#GUID-CEDFFEB5-1397-46C8-A487-9A264671219C">清除Oracle Database Vault审计跟踪</a><br>您可以在SQL * Plus中清除Oracle Database Vault审计跟踪。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="auditing-oracle-database-vault.html#GUID-9E9C7DBE-A8C5-4F02-8E90-F7311D47AB92" title="您可以审核Oracle Database Vault中的活动，例如对策略配置的更改。">审核Oracle Database Vault</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM71276"></a><div class="props_rev_3"><a id="GUID-14ADB000-F1C5-4F51-8466-6301194F71FC" name="GUID-14ADB000-F1C5-4F51-8466-6301194F71FC"></a><h4 id="DVADM-GUID-14ADB000-F1C5-4F51-8466-6301194F71FC" class="sect4">关于存档和清除Oracle Database Vault审计跟踪</h4>
                  <div>
                     <p>在非统一审计环境中，您可以通过将<code class="codeph">DVSYS.AUDIT_TRAIL$</code>表导出到转储文件来归档Oracle Database Vault审计跟踪。
                     </p>
                     <p>您应该定期存档然后清除审计跟踪以防止它变得太大。</p>
                     <p>如果选择迁移到统一审核，则在完成迁移后，使用此过程归档并清除Database Vault审核跟踪记录。当统一审计开始收集记录时，新记录将可从<code class="codeph">UNIFIED_AUDIT_TRAIL</code> ， <code class="codeph">AUDSYS.DV$CONFIGURATION_AUDIT</code>和<code class="codeph">AUDSYS.DV$ENFORCEMENT_AUDIT</code>数据字典视图中查看。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="auditing-oracle-database-vault.html#GUID-2CE05A86-E814-4848-864D-2E1A74E2BD07" title="如果尚未迁移到统一审核，则应定期归档和清除Oracle Database Vault审核跟踪。">存档和清除Oracle Database Vault审计跟踪</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM71277"></a><div class="props_rev_3"><a id="GUID-E48F3536-A9A2-4CFE-8E15-485E07B8FAF1" name="GUID-E48F3536-A9A2-4CFE-8E15-485E07B8FAF1"></a><h4 id="DVADM-GUID-E48F3536-A9A2-4CFE-8E15-485E07B8FAF1" class="sect4">归档Oracle Database Vault审计跟踪</h4>
                  <div>
                     <p>您可以使用SQL * Plus和Oracle Data Pump来存档Oracle Database Vault审计跟踪。</p>
                     <div class="section">
                        <ol>
                           <li>
                              <p>使用<code class="codeph">SYSDBA</code>管理权限以<code class="codeph">SYS</code>用户身份登录数据库实例。
                              </p><pre class="oac_no_warn" dir="ltr">sqlplus sys as sysdba输入密码： <span class="italic">password</span>
</pre></li>
                           <li>
                              <p>确保将执行归档的用户具有适当的权限。</p>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">GRANT创建任何目录，EXP_FULL_DATABASE，无限制的表格到psmith;</pre></li>
                           <li>
                              <p>以已被授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_AUDIT_CLEANUP</code>角色的用户身份进行连接。
                              </p>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">connect ebrown输入密码： <span class="italic">密码</span>
</pre></li>
                           <li>
                              <p>将Oracle Database Vault审计跟踪归档到适当模式中的新表中。</p>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE psmith.dv_audit_trail nologging \ AS SELECT * FROM DVSYS.AUDIT_TRAIL $;</pre></li>
                           <li>
                              <p>如果架构已受域保护，则确保您或执行导出操作的用户已获得在Database Vault环境中使用Oracle Data Pump的适当授权。</p>
                              <p>例如，要授权用户<code class="codeph">psmith</code>在自己的架构上执行数据泵操作：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_DATAPUMP_USER（'PSMITH'，'PSMITH'）;</pre></li>
                           <li>
                              <p>作为Data Pump用户连接。</p>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT psmith输入密码： <span class="italic">密码</span>
</pre></li>
                           <li>
                              <p>为Database Vault审计跟踪创建目录。</p><pre class="oac_no_warn" dir="ltr">创建目录dv_audit_dir AS'dv_audit_trail_directory';</pre></li>
                           <li>
                              <p>退出SQL * Plus。</p><pre class="oac_no_warn" dir="ltr">出口</pre></li>
                           <li>
                              <p>使用Data Pump，将Database Vault审计跟踪导出到刚刚创建的目录对象中。</p><pre class="oac_no_warn" dir="ltr">expdp psmith directory = dv_audit_dir tables = psmith.dv_audit_trail \ dumpfile = dv_audit.dmp log = dv_audit_exp.log</pre></li>
                           <li>
                              <p>以已被授予<code class="codeph">DV_OWNER</code>角色的用户身份连接到SQL * Plus。
                              </p><pre class="oac_no_warn" dir="ltr">sqlplus ebrown输入密码： <span class="italic">密码</span>
</pre></li>
                           <li>
                              <p>如果尚未执行此操作，请在现在包含Database Vault审计跟踪的架构周围创建一个域。</p>
                              <ol type="a">
                                 <li>
                                    <p>创造领域。例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_REALM（realm_name =&gt;'DV Audit Trail Realm'，description =&gt;'用于保护DV审计跟踪的域'，启用=&gt; DBMS_MACUTL.G_YES，audit_options =&gt; DBMS_MACUTL.G_REALM_AUDIT_FAIL + DBMS_MACUTL.G_REALM_AUDIT_SUCCESS，realm_type =&gt; 1 ）;结束; /</pre></li>
                                 <li>
                                    <p>将包含审计跟踪的架构添加到此领域。例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.ADD_OBJECT_TO_REALM（realm_name =&gt;'DV Audit Trail Realm'，object_owner =&gt;'psmith'，object_name =&gt;'％'，object_type =&gt;'％'）;结束; /</pre></li>
                                 <li>
                                    <p>为此领域授权可信用户。</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.ADD_AUTH_TO_REALM（realm_name =&gt;'DV Audit Trail Realm'，grantee =&gt;'PSMITH'，auth_options =&gt; DBMS_MACUTL.G_REALM_AUTH_OWNER）;结束; /</pre></li>
                              </ol>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E48F3536-A9A2-4CFE-8E15-485E07B8FAF1__GUID-9E8838AA-945A-4496-BBF3-545FC84DF6DE">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-F43AB786-056D-4875-A555-F036D75EE63B" title="数据库管理员可以授权Oracle Data Pump用户在Database Vault环境中工作。">将Oracle Data Pump与Oracle Database Vault配合使用</a> ，以获取有关在Database Vault环境中授予用户Oracle Data Pump权限的更多信息</p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">CREATE DIRECTORY</code>语句的信息，请<a href="../sqlrf/CREATE-DIRECTORY.html#SQLRF01207" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关Oracle Data Pump <code class="codeph">expdp</code>实用<a href="../sutil/oracle-data-pump-export-utility.html#SUTIL200" target="_blank"><span><cite>程序</cite></span></a>的信息，请<code class="codeph">expdp</code> <a href="../sutil/oracle-data-pump-export-utility.html#SUTIL200" target="_blank"><span><cite>Oracle数据库实用</cite></span></a>程序</p>
                           </li>
                           <li>
                              <p><a href="oracle-database-vault-realm-apis.html#GUID-8C2577B4-2DA0-4169-B801-0BA02A523CAB" title="The DBMS_MACADM PL/SQL package enables you to configure Oracle Database Vault realms.">Oracle Database Vault Realm API</a> ，以获取有关<a href="oracle-database-vault-realm-apis.html#GUID-8C2577B4-2DA0-4169-B801-0BA02A523CAB" title="DBMS_MACADM PL / SQL包使您可以配置Oracle Database Vault领域。">域</a>相关<code class="codeph">DBMS_MACADM</code>过程的信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="auditing-oracle-database-vault.html#GUID-2CE05A86-E814-4848-864D-2E1A74E2BD07" title="如果尚未迁移到统一审核，则应定期归档和清除Oracle Database Vault审核跟踪。">存档和清除Oracle Database Vault审计跟踪</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM71278"></a><div class="props_rev_3"><a id="GUID-CEDFFEB5-1397-46C8-A487-9A264671219C" name="GUID-CEDFFEB5-1397-46C8-A487-9A264671219C"></a><h4 id="DVADM-GUID-CEDFFEB5-1397-46C8-A487-9A264671219C" class="sect4">清除Oracle Database Vault审计跟踪</h4>
                  <div>
                     <p>您可以在SQL * Plus中清除Oracle Database Vault审计跟踪。</p>
                     <ol>
                        <li class="stepexpand"><span>以已被授予<code class="codeph">DV_OWNER</code>角色或<code class="codeph">DV_AUDIT_CLEANUP</code>角色的用户身份登录数据库实例。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus psmith输入密码： <span class="italic">密码</span>
</pre><p>请注意， <code class="codeph">DV_OWNER</code>和<code class="codeph">DV_AUDIT_CLEANUP</code>角色不允许其受助者截断<code class="codeph">DVSYS.AUDIT_TRAIL$</code>系统表。
                              </p>
                              <p>您可以查询<code class="codeph">DBA_ROLE_PRIVS</code>数据字典视图以查找已授予用户的角色。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>清除Database Vault审计跟踪。</span><div><pre class="oac_no_warn" dir="ltr">DELETE FROM DVSYS.AUDIT_TRAIL $;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2" title="DV_AUDIT_CLEANUP角色用于清除操作。">DV_AUDIT_CLEANUP审计跟踪清理角色</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="auditing-oracle-database-vault.html#GUID-2CE05A86-E814-4848-864D-2E1A74E2BD07" title="如果尚未迁移到统一审核，则应定期归档和清除Oracle Database Vault审核跟踪。">存档和清除Oracle Database Vault审计跟踪</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="DVADM71060"></a><a id="DVADM71059"></a><div class="props_rev_3"><a id="GUID-F64C864D-8A5D-484C-A3AA-25F17E4CDBAC" name="GUID-F64C864D-8A5D-484C-A3AA-25F17E4CDBAC"></a><h3 id="DVADM-GUID-F64C864D-8A5D-484C-A3AA-25F17E4CDBAC" class="sect3">为Oracle Database Vault创建的Oracle数据库审计设置</h3>
               <div>
                  <p>安装Oracle Database Vault时，它会在数据库中创建多个<code class="codeph">AUDIT</code>设置。
                  </p>
                  <p>在非统一审计环境中，为了进行这些审计设置，必须在此数据库中启用审计。您可以使用<code class="codeph">SHOW PARAMETER</code>命令检查是否启用了审计，以查找<code class="codeph">AUDIT_TRAIL</code>初始化参数的值。默认情况下，Oracle数据库中启用了审核。
                  </p>
                  <p><a href="auditing-oracle-database-vault.html#GUID-F64C864D-8A5D-484C-A3AA-25F17E4CDBAC__BGBIAHJD" title="审核策略设置">表A-2</a>列出了Oracle Database Vault添加到数据库的<code class="codeph">AUDIT</code>设置。
                  </p>
                  <div class="tblformalwide" id="GUID-F64C864D-8A5D-484C-A3AA-25F17E4CDBAC__BGBIAHJD">
                     <p class="titleintable">表A-2审核策略设置Oracle Database Vault添加到Oracle数据库</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="审核策略设置Oracle Database Vault添加到Oracle数据库" width="100%" border="1" summary="Audit Policy Settings" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="37%" id="d173729e2250">审核设置类型</th>
                              <th align="left" valign="bottom" width="63%" id="d173729e2253">经审核的声明（按访问和成功或失败除非另有说明）</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d173729e2258" headers="d173729e2250 ">
                                 <p><code class="codeph">DVSYS</code> / <code class="codeph">DVF</code>用户审核设置</p>
                                 <p><code class="codeph">LBACSYS</code>用户审核设置</p>
                                 <p>有关这些帐户的详细信息，请参阅<a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F__BABJBIAG" title="列出默认的Data Vault数据库帐户">表13-2</a> 。
                                 </p>
                                 <p>有关<code class="codeph">DVSYS</code>和<code class="codeph">DVF</code>架构的详细信息，另请参阅这些部分：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4D275449-513A-4153-86EF-60620F2CD94D" title="DVSYS架构包含Oracle Database Vault数据库对象。">DVSYS架构</a></p>
                                    </li>
                                    <li>
                                       <p><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-B19FC1C8-5798-407D-B18B-50F497CE92B5" title="DVF架构是Oracle Database Vault DBMS_MACSEC_FUNCTION PL / SQL程序包的所有者。">DVF架构</a></p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d173729e2258 d173729e2253 ">
                                 <p><code class="codeph">管理员数据库触发器</code></p>
                                 <p><code class="codeph">ALTER</code> <span class="italic"><code class="codeph">object</code></span></p>
                                 <p><code class="codeph">审计系统</code></p>
                                 <p><code class="codeph">成为用户</code></p>
                                 <p><code class="codeph">簇</code></p>
                                 <p><code class="codeph">评论</code></p>
                                 <p><code class="codeph">CONTEXT</code></p>
                                 <p><code class="codeph">CREATE</code> <span class="italic"><code class="codeph">object</code></span></p>
                                 <p><code class="codeph">数据库链接</code></p>
                                 <p><code class="codeph">DEBUG</code></p>
                                 <p><code class="codeph">目录</code></p>
                                 <p><code class="codeph">DROP</code> <span class="italic"><code class="codeph">object</code></span></p>
                                 <p><code class="codeph">EXECUTE LIBRARY</code> （ <code class="codeph">WHENEVER NOT SUCCESSFUL</code> ）</p>
                                 <p><code class="codeph">EXECUTE PROCEDURE</code> （ <code class="codeph">WHENEVER NOT SUCCESSFUL</code> ）</p>
                                 <p><code class="codeph">豁免访问政策</code></p>
                                 <p><code class="codeph">导出完整数据库</code></p>
                                 <p><code class="codeph">GRANT</code> <span class="italic"><code class="codeph">object</code></span></p>
                                 <p><code class="codeph">导入完整数据库</code></p>
                                 <p><code class="codeph">指数</code> 
                                 </p>
                                 <p><code class="codeph">管理计划员</code></p>
                                 <p><code class="codeph">管理表格</code></p>
                                 <p><code class="codeph">MATERIALIZED VIEW</code> （审核访问和创建物化视图）</p>
                                 <p><code class="codeph">SELECT SEQUENCE</code> （ <code class="codeph">WHENEVER NOT SUCCESSFUL</code> ）</p>
                                 <p><code class="codeph">SELECT TABLE</code> （ <code class="codeph">WHENEVER NOT SUCCESSFUL</code> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d173729e2419" headers="d173729e2250 ">
                                 <p><code class="codeph">DVF</code>对象审核设置</p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d173729e2419 d173729e2253 ">
                                 <p><code class="codeph">审核包/程序/功能/序列/表</code></p>
                                 <p><code class="codeph">评论表/视图</code></p>
                                 <p><code class="codeph">删除表/视图</code></p>
                                 <p><code class="codeph">EXECUTE PACKAGE/PROCEDURE/FUNCTION</code> （ <code class="codeph">WHENEVER NOT SUCCESSFUL</code> ）</p>
                                 <p><code class="codeph">授权包/程序/功能/序列/表</code></p>
                                 <p><code class="codeph">重命名包/程序/功能/顺序/视图/表</code></p>
                                 <p><code class="codeph">SELECT SEQUENCE/TABLE/VIEW</code> （ <code class="codeph">WHENEVER NOT SUCCESSFUL</code> ）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d173729e2455" headers="d173729e2250 ">
                                 <p><code class="codeph">DVSYS</code>对象审核设置</p>
                                 <p><code class="codeph">LBACSYS</code>对象审核设置</p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d173729e2455 d173729e2253 ">
                                 <p><code class="codeph">审核包/程序/功能/序列/表</code></p>
                                 <p><code class="codeph">评论表/视图</code></p>
                                 <p><code class="codeph">删除表/视图</code></p>
                                 <p><code class="codeph">EXECUTE PACKAGE/PROCEDURE/FUNCTION</code> （ <code class="codeph">WHENEVER NOT SUCCESSFUL</code> ）</p>
                                 <p><code class="codeph">授权包/程序/功能/序列/表</code></p>
                                 <p><code class="codeph">INSERT TABLE / VIEW</code></p>
                                 <p><code class="codeph">重命名包/程序/功能/顺序/视图/表</code></p>
                                 <p><code class="codeph">SELECT SEQUENCE/TABLE/VIEW</code> （ <code class="codeph">WHENEVER NOT SUCCESSFUL</code> ）</p>
                                 <p><code class="codeph">更新表/视图</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="auditing-oracle-database-vault.html#GUID-9E9C7DBE-A8C5-4F02-8E90-F7311D47AB92" title="您可以审核Oracle Database Vault中的活动，例如对策略配置的更改。">审核Oracle Database Vault</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="05928.understanding-data-labels-and-user-labels.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You should understand fundamental concepts of data labels and user labels."></meta>
      <meta name="description" content="You should understand fundamental concepts of data labels and user labels."></meta>
      <title>了解数据标签和用户标签</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content="You should understand fundamental concepts of data labels and user labels."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="label-security-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-11T09:39:52-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96303-05"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="introduction-to-oracle-label-security.html" title="Previous" type="text/html"></link>
      <link rel="next" href="access-controls-and-privileges.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Label Security Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OLSAG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="introduction-to-oracle-label-security.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="access-controls-and-privileges.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part1.html" property="item" typeof="WebPage"><span property="name">Oracle Label Security入门</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">了解数据标签和用户标签</li>
            </ol>
            <a id="GUID-F29D48CE-EE9A-495E-A35B-55B38BAB1FDB" name="GUID-F29D48CE-EE9A-495E-A35B-55B38BAB1FDB"></a><a id="OLSAG007"></a>
            
            <h2 id="OLSAG-GUID-F29D48CE-EE9A-495E-A35B-55B38BAB1FDB" class="sect2"><span class="enumeration_chapter">2</span>了解数据标签和用户标签</h2>
         </header>
         <div class="ind">
            <div>
               <p>您应该了解数据标签和用户标签的基本概念。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="understanding-data-labels-and-user-labels.html#GUID-AE035F45-7AE0-4278-AD4B-E3430E3EC714">关于基于标签的安全性</a><br>基于标签的安全性提供了一种灵活的方式来控制对敏感数据的访问。
                  </li>
                  <li class="ulchildlink"><a href="understanding-data-labels-and-user-labels.html#GUID-03F54A78-61AC-4A3B-82E2-609C1F12170E">关于用户标签和权限管理</a><br>要管理用户标签和权限，您必须具有<code class="codeph">SA_USER_ADMIN</code>包的<code class="codeph">EXECUTE</code>特权， <code class="codeph">SA_USER_ADMIN</code>授予<span class="italic"><code class="codeph">policy</code></span> <code class="codeph">_DBA</code>角色。
                  </li>
                  <li class="ulchildlink"><a href="understanding-data-labels-and-user-labels.html#GUID-2BE362E7-915F-4C55-AD5F-37DC9F6ED66F">标签组件</a><br>您应该了解标签中使用的元素。
                  </li>
                  <li class="ulchildlink"><a href="understanding-data-labels-and-user-labels.html#GUID-497CAE65-23ED-4CAC-8A9D-C55DC04A66BC">标签语法和类型</a><br>定义标签组件后，您可以通过组合特定的级别，隔离专区和组来创建数据标签。
                  </li>
                  <li class="ulchildlink"><a href="understanding-data-labels-and-user-labels.html#GUID-CA610A91-D376-4768-960A-60F6653040D7">数据标签和用户标签如何协同工作</a><br>用户只能在他或她自己的标签授权范围内访问数据。
                  </li>
                  <li class="ulchildlink"><a href="understanding-data-labels-and-user-labels.html#GUID-C699FFAF-39C4-4F6B-A88F-58B81251F47D">标签管理</a><br>Oracle Label Security提供管理界面来定义和管理数据库中使用的标签。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part1.html" title="第一部分介绍构成Oracle Label Security基本元素的术语，概念和关系。">Oracle Label Security入门</a></p>
                  </div>
               </div>
            </div>
            <a id="OLSAG3720"></a><a id="OLSAG008"></a><div class="props_rev_3"><a id="GUID-AE035F45-7AE0-4278-AD4B-E3430E3EC714" name="GUID-AE035F45-7AE0-4278-AD4B-E3430E3EC714"></a><h3 id="OLSAG-GUID-AE035F45-7AE0-4278-AD4B-E3430E3EC714" class="sect3">关于基于标签的安全性</h3>
               <div>
                  <p>基于标签的安全性提供了一种灵活的方式来控制对敏感数据的访问。</p>
                  <p>Oracle Label Security根据用户的身份和标签以及数据的敏感性和标签来控制数据访问。标签安全性增加了自主访问控制之外的保护，这些访问控制决定了用户可以对<span class="italic">对象</span> （例如表或视图）中的数据执行的操作。
                  </p>
                  <p><a href="understanding-data-labels-and-user-labels.html#GUID-AE035F45-7AE0-4278-AD4B-E3430E3EC714__CBJFDHED" title="此非正式表格说明了数据标签，用户标签和策略权限。">表2-1</a>显示了Oracle Label Security策略控制数据访问的三个维度。
                  </p>
                  <div class="tblformal" id="GUID-AE035F45-7AE0-4278-AD4B-E3430E3EC714__CBJFDHED">
                     <p class="titleintable">表2-1 Oracle Label Security数据维度</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle Label Security数据维度" width="100%" border="1" summary="This informal table explains data labels, user labels, and policy privileges." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d6657e202">数据维度</th>
                              <th align="left" valign="bottom" width="75%" id="d6657e205">说明</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d6657e210" headers="d6657e202 ">
                                 <p>数据标签</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d6657e210 d6657e205 ">
                                 <p>数据行标签指示行灵敏度的级别和性质，并指定用户访问该行必须满足的其他条件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d6657e217" headers="d6657e202 ">
                                 <p>用户标签</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d6657e217 d6657e205 ">
                                 <p>用户标签指定用户的敏感度级别以及限制用户访问标记数据的任何隔离专区和组。为每个用户分配一系列级别，隔离专区和组，并且每个会话可以在该授权范围内操作以访问该范围内的标记数据。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d6657e224" headers="d6657e202 ">
                                 <p>政策特权</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d6657e224 d6657e205 ">
                                 <p>可以为用户授予特定权限（特权）以执行特殊操作或访问标签授权之外的数据。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>请注意，此处的讨论涉及对数据的<span class="italic">访问</span> 。<a href="access-controls-and-privileges.html#GUID-A222EB99-83C4-4BCC-84F6-D20087101E9D" title="Oracle提供了访问控制和权限，用于确定用户对标记行的访问类型。">访问控制和权限中</a>包含特定<span class="italic">类型</span>的访问，例如读取或写入数据。
                  </p>
                  <p>将Oracle Label Security策略应用于数据库表时，会在表中添加一列以包含每行的标签。管理员可以选择显示或隐藏此列。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="understanding-data-labels-and-user-labels.html#GUID-F29D48CE-EE9A-495E-A35B-55B38BAB1FDB" title="您应该了解数据标签和用户标签的基本概念。">了解数据标签和用户标签</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="OLSAG048"></a><div class="props_rev_3"><a id="GUID-03F54A78-61AC-4A3B-82E2-609C1F12170E" name="GUID-03F54A78-61AC-4A3B-82E2-609C1F12170E"></a><h3 id="OLSAG-GUID-03F54A78-61AC-4A3B-82E2-609C1F12170E" class="sect3">关于用户标签和权限管理</h3>
               <div>
                  <p>要管理用户标签和权限，您必须具有<code class="codeph">SA_USER_ADMIN</code>包的<code class="codeph">EXECUTE</code>特权， <code class="codeph">SA_USER_ADMIN</code>授予<span class="italic"><code class="codeph">policy</code></span> <code class="codeph">_DBA</code>角色。
                  </p>
                  <p><code class="codeph">SA_USER_ADMIN</code>包提供了管理Oracle Label Security用户安全属性的过程和函数。它包含几个按组件管理用户标签的过程：即指定用户级别，隔离专区和组。为方便起见，还有其他过程接受完整标签的字符串表示，而不是组件。请注意，level，compartment和group参数使用为每个组件定义的短名称。
                  </p>
                  <p>所有标签和权限信息都存储在Oracle Label Security数据字典表中。当用户连接到数据库时，会根据Oracle Label Security数据字典中存储的信息建立会话标签。</p>
                  <p>请注意，可以根据多个策略授权用户。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oracle-label-security-pl-sql-packages.html#GUID-6567095A-13E5-43F8-9A2C-30A84E095B87" title="SA_USER_ADMIN PL / SQL包按标签组件管理用户标签。">SA_USER_ADMIN PL / SQL包</a></li>
                        <li><a href="oracle-label-security-pl-sql-packages.html#GUID-73B905A4-6B4F-4BA0-A44E-9475F2AEC414" title="SA_USER_ADMIN.SET_USER_PRIVS过程为用户设置特定于策略的权限。">SA_USER_ADMIN.SET_USER_PRIVS</a></li>
                        <li><a href="introduction-to-oracle-label-security.html#GUID-97B4941D-079A-48D1-BF98-04DDB128F990" title="Oracle Label Security管理员具有一组基于包和角色的权限。">Oracle Label Security管理员的职责</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="understanding-data-labels-and-user-labels.html#GUID-F29D48CE-EE9A-495E-A35B-55B38BAB1FDB" title="您应该了解数据标签和用户标签的基本概念。">了解数据标签和用户标签</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="OLSAG009"></a><div class="props_rev_3"><a id="GUID-2BE362E7-915F-4C55-AD5F-37DC9F6ED66F" name="GUID-2BE362E7-915F-4C55-AD5F-37DC9F6ED66F"></a><h3 id="OLSAG-GUID-2BE362E7-915F-4C55-AD5F-37DC9F6ED66F" class="sect3">标签组件</h3>
               <div>
                  <p>您应该了解标签中使用的元素。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="understanding-data-labels-and-user-labels.html#GUID-96E593D2-1C5A-42AB-B96E-F23A58B9D778">标签组件定义和有效字符</a><br>敏感度标签是具有多个组件的单个属性。
                     </li>
                     <li class="ulchildlink"><a href="understanding-data-labels-and-user-labels.html#GUID-2C0383D3-4AA5-4263-B938-827E2CCC40C0">电平灵敏度组件</a><br><span class="italic">级别</span>是表示其标记的信息的敏感度的排名。
                     </li>
                     <li class="ulchildlink"><a href="understanding-data-labels-and-user-labels.html#GUID-625E38AA-19E6-4538-B3FF-FE272399DE41">隔间组件</a><br>隔离区识别描述标记数据敏感性的区域，在一个级别内提供更精细的粒度级别。
                     </li>
                     <li class="ulchildlink"><a href="understanding-data-labels-and-user-labels.html#GUID-29BE3851-93A9-47C1-92BF-57C7BF7D4181">组件</a><br>组识别拥有或访问数据的组织，例如<code class="codeph">EASTERN_REGION</code> ， <code class="codeph">WESTERN_REGION</code> ， <code class="codeph">WR_SALES</code> 。</li>
                     <li class="ulchildlink"><a href="understanding-data-labels-and-user-labels.html#GUID-EE3D719C-63FF-4BEB-83CA-0002B5B77E8E">行业，级别和组的示例</a><br>Oracle Label Security级别，隔离专区，组旨在在各个行业中实施。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="understanding-data-labels-and-user-labels.html#GUID-F29D48CE-EE9A-495E-A35B-55B38BAB1FDB" title="您应该了解数据标签和用户标签的基本概念。">了解数据标签和用户标签</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG4123"></a><a id="OLSAG3038"></a><a id="OLSAG3036"></a><div class="props_rev_3"><a id="GUID-96E593D2-1C5A-42AB-B96E-F23A58B9D778" name="GUID-96E593D2-1C5A-42AB-B96E-F23A58B9D778"></a><h4 id="OLSAG-GUID-96E593D2-1C5A-42AB-B96E-F23A58B9D778" class="sect4">标签组件定义和有效字符</h4>
                  <div>
                     <p>敏感度标签是具有多个组件的单个属性。</p>
                     <p>所有数据标签必须包含级别组件，但隔离专区和组组件是可选的。管理员必须在创建标签之前定义标签组件。</p>
                     <p>虽然管理员为标签组件定义了长名称和短名称，但在检索时仅显示名称的简短形式。当用户操作标签时，他们只使用组件名称的简短形式。短表的<span class="bold">实例</span>在下表的<span class="bold">实施例</span>栏中说明。
                     </p>
                     <div class="tblformal" id="GUID-96E593D2-1C5A-42AB-B96E-F23A58B9D778__CBJFCIGF">
                        <p class="titleintable">表2-2灵敏度标签组件</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="灵敏度标签组件" width="100%" border="1" summary="This table lists and describes the components of labels and gives examples of each." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th class="text-center" valign="bottom" width="21%" id="d6657e564">零件</th>
                                 <th class="text-center" valign="bottom" width="47%" id="d6657e567">描述</th>
                                 <th class="text-center" valign="bottom" width="32%" id="d6657e570">例子</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d6657e575" headers="d6657e564 ">
                                    <p>水平</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d6657e575 d6657e567 ">
                                    <p>建立了有序排名中标记数据灵敏度的单一规范</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d6657e575 d6657e570 ">
                                    <p><code class="codeph">CONFIDENTIAL</code> （1）， <code class="codeph">SENSITIVE</code> （2）， <code class="codeph">HIGHLY_SENSITIVE</code> <code class="codeph">SENSITIVE</code> （3）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d6657e593" headers="d6657e564 ">
                                    <p>车厢</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d6657e593 d6657e567 ">
                                    <p>与标记数据关联的零个或多个类别</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d6657e593 d6657e570 ">
                                    <p><code class="codeph">FINANCIAL</code> ， <code class="codeph">STRATEGIC</code> ， <code class="codeph">NUCLEAR</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d6657e610" headers="d6657e564 ">
                                    <p>组</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d6657e610 d6657e567 ">
                                    <p>拥有或访问数据的组织的零个或多个标识符</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d6657e610 d6657e570 ">
                                    <p><code class="codeph">EASTERN_REGION</code> ， <code class="codeph">WESTERN_REGION</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>用于指定所有标签组件的有效字符包括字母数字字符，下划线和空格。（忽略前导和尾随空格。）</p>
                     <p>下图说明了使用级别，隔离专区和组对数据进行逻辑分类的三个维度。</p>
                     <div class="figure" id="GUID-96E593D2-1C5A-42AB-B96E-F23A58B9D778__GUID-F3D8FAA4-0227-466F-A4ED-8A23E70F8CC8">
                        <p class="titleinfigure">图2-1包含级别，隔间和组的数据分类</p><img src="img/olsag006.gif" alt="下面描述图2-1" title="下面描述图2-1" longdesc="img_text/olsag006.html"><br><a href="img_text/olsag006.html">“图2-1使用级别，隔间和组的数据分类”的说明</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="understanding-data-labels-and-user-labels.html#GUID-2BE362E7-915F-4C55-AD5F-37DC9F6ED66F" title="您应该了解标签中使用的元素。">标签组件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG4125"></a><a id="OLSAG3041"></a><a id="OLSAG4124"></a><div class="props_rev_3"><a id="GUID-2C0383D3-4AA5-4263-B938-827E2CCC40C0" name="GUID-2C0383D3-4AA5-4263-B938-827E2CCC40C0"></a><h4 id="OLSAG-GUID-2C0383D3-4AA5-4263-B938-827E2CCC40C0" class="sect4">电平灵敏度组件</h4>
                  <div>
                     <p><span class="italic">级别</span>是表示其标记的信息的敏感度的排名。
                     </p>
                     <p>信息越敏感，其级别越高。信息越不敏感，其级别越低。</p>
                     <p>每个标签必须包含一个级别。Oracle Label Security允许在策略中定义多达10,000个级别。对于每个级别，Oracle Label Security管理员定义数字表单，长字符表单和所需的短字符表单。</p>
                     <p><a href="understanding-data-labels-and-user-labels.html#GUID-96E593D2-1C5A-42AB-B96E-F23A58B9D778__CBJFCIGF" title="此表列出并描述了标签的组件，并给出了每个组件的示例。">表2-2</a>显示了级别的示例。
                     </p>
                     <div class="tblformal" id="GUID-2C0383D3-4AA5-4263-B938-827E2CCC40C0__G1010051">
                        <p class="titleintable">表2-3级别示例</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="等级示例" width="100%" border="1" summary="This table gives examples of levels in their numeric form, long, form, and short form." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d6657e729">数字表格</th>
                                 <th align="left" valign="bottom" width="35%" id="d6657e732">长表</th>
                                 <th align="left" valign="bottom" width="34%" id="d6657e735">简写</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d6657e740" headers="d6657e729 ">
                                    <p><code class="codeph">40</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d6657e740 d6657e732 ">
                                    <p><code class="codeph">HIGHLY_SENSITIVE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d6657e740 d6657e735 ">
                                    <p><code class="codeph">HS</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d6657e753" headers="d6657e729 ">
                                    <p><code class="codeph">三十</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d6657e753 d6657e732 ">
                                    <p><code class="codeph">敏感</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d6657e753 d6657e735 ">
                                    <p><code class="codeph">小号</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d6657e766" headers="d6657e729 ">
                                    <p><code class="codeph">20</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d6657e766 d6657e732 ">
                                    <p><code class="codeph">机密</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d6657e766 d6657e735 ">
                                    <p><code class="codeph">C</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d6657e779" headers="d6657e729 ">
                                    <p><code class="codeph">10</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d6657e779 d6657e732 ">
                                    <p><code class="codeph">上市</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d6657e779 d6657e735 ">
                                    <p><code class="codeph">P</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a href="understanding-data-labels-and-user-labels.html#GUID-2C0383D3-4AA5-4263-B938-827E2CCC40C0__CBJJEFHF" title="此表列出并说明了可以指定级别的表单（数字，长整型）。">表2-4</a>显示了指定级别的不同方法。
                     </p>
                     <div class="tblformal" id="GUID-2C0383D3-4AA5-4263-B938-827E2CCC40C0__CBJJEFHF">
                        <p class="titleintable">表2-4指定级别的形式</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="指定级别的形式" width="100%" border="1" summary="This table lists and explains the forms in which levels can be specified (numeric, long, and short)." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th class="text-center" valign="bottom" width="25%" id="d6657e807">形成</th>
                                 <th class="text-center" valign="bottom" width="75%" id="d6657e810">说明</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d6657e815" headers="d6657e807 ">
                                    <p>数字形式，也称为“标签”</p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d6657e815 d6657e810 ">
                                    <p>级别的数字形式可以是0到9999。灵敏度按此数值排名，因此您必须将更高的数字分配给更敏感的级别，将较低的数字分配给不太敏感的级别。在<a href="understanding-data-labels-and-user-labels.html#GUID-2C0383D3-4AA5-4263-B938-827E2CCC40C0__G1010051" title="此表以数字形式，长形式，短形式和简短形式提供级别示例。">表2-3中</a> ，40（ <code class="codeph">HIGHLY_SENSITIVE</code> ）的级别高于<code class="codeph">HIGHLY_SENSITIVE</code>和10。
                                    </p>
                                    <p>管理员应避免使用数字形式的级别的序号。一个好的策略是在级别之间使用偶数增量（例如50或100）。然后，您可以在以后的两个预先存在的级别之间插入其他级别。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d6657e832" headers="d6657e807 ">
                                    <p>长表</p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d6657e832 d6657e810 ">
                                    <p>级别名称的长格式最多可包含80个字符。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d6657e839" headers="d6657e807 ">
                                    <p>简写</p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d6657e839 d6657e810 ">
                                    <p>短格式最多可包含30个字符。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>虽然管理员为级别（以及每个其他标签组件）定义了长名称和短名称，但在Oracle Label Security策略生效时，只有在检索记录时才会显示名称的缩写形式。当用户操作标签时，他们只使用组件名称的简短形式。</p>
                     <p>用户通常定义的其他级别包括<code class="codeph">TOP_SECRET</code> ， <code class="codeph">SECRET</code> ， <code class="codeph">CONFIDENTIAL</code>和<code class="codeph">UNCLASSIFIED</code>或<code class="codeph">TRADE_SECRET</code> ， <code class="codeph">PROPRIETARY</code> ， <code class="codeph">COMPANY_CONFIDENTIAL</code> ， <code class="codeph">PUBLIC_DOMAIN</code> 。</p>
                     <p>如果仅使用级别，则级别40用户（在此示例中）可以访问或更改级别为40或更低的任何数据行。</p>
                     <div class="infoboxnote" id="GUID-2C0383D3-4AA5-4263-B938-827E2CCC40C0__GUID-EC524BED-7278-4F1B-B07A-2F23CE5324B9">
                        <p class="notep1">注意：</p>
                        <p>本指南中的所有级别和标签（包括<code class="codeph">TOP_SECRET</code> ， <code class="codeph">SECRET</code> ， <code class="codeph">CONFIDENTIAL</code>等）仅用作说明。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="understanding-data-labels-and-user-labels.html#GUID-2BE362E7-915F-4C55-AD5F-37DC9F6ED66F" title="您应该了解标签中使用的元素。">标签组件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG4127"></a><a id="OLSAG4128"></a><a id="OLSAG4129"></a><a id="OLSAG4126"></a><div class="props_rev_3"><a id="GUID-625E38AA-19E6-4538-B3FF-FE272399DE41" name="GUID-625E38AA-19E6-4538-B3FF-FE272399DE41"></a><h4 id="OLSAG-GUID-625E38AA-19E6-4538-B3FF-FE272399DE41" class="sect4">隔间组件</h4>
                  <div>
                     <p>隔离区识别描述标记数据敏感性的区域，在一个级别内提供更精细的粒度级别。</p>
                     <p>隔离专区将数据与一个或多个安全区域相关联。与特定项目相关的所有数据都可以使用相同的隔离专区进行标记。</p>
                     <p><a href="understanding-data-labels-and-user-labels.html#GUID-625E38AA-19E6-4538-B3FF-FE272399DE41__G1010095" title="此表提供标签的隔离部分的数字，长整型和短格式的示例。">表2-5</a>显示了隔离专区的示例。
                     </p>
                     <div class="tblformal" id="GUID-625E38AA-19E6-4538-B3FF-FE272399DE41__G1010095">
                        <p class="titleintable">表2-5隔室示例</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="隔间示例" width="100%" border="1" summary="This table gives examples of the numeric, long, and short forms of the compartment part of a label." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d6657e980">数字表格</th>
                                 <th align="left" valign="bottom" width="35%" id="d6657e983">长表</th>
                                 <th align="left" valign="bottom" width="34%" id="d6657e986">简写</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d6657e991" headers="d6657e980 ">
                                    <p><code class="codeph">85</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d6657e991 d6657e983 ">
                                    <p><code class="codeph">金融</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d6657e991 d6657e986 ">
                                    <p><code class="codeph">FINCL</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d6657e1004" headers="d6657e980 ">
                                    <p><code class="codeph">65</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d6657e1004 d6657e983 ">
                                    <p><code class="codeph">化工</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d6657e1004 d6657e986 ">
                                    <p><code class="codeph">CHEM</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d6657e1017" headers="d6657e980 ">
                                    <p><code class="codeph">45</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d6657e1017 d6657e983 ">
                                    <p><code class="codeph">操作</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d6657e1017 d6657e986 ">
                                    <p><code class="codeph">OP</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a href="understanding-data-labels-and-user-labels.html#GUID-625E38AA-19E6-4538-B3FF-FE272399DE41__CBJHFACE" title="此表说明了指定隔离专区的三种形式：数字，长整数和短整数。">表2-6</a>显示了指定隔离专区的不同方法。
                     </p>
                     <div class="tblformal" id="GUID-625E38AA-19E6-4538-B3FF-FE272399DE41__CBJHFACE">
                        <p class="titleintable">表2-6指定隔间的格式</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="指定隔间的形式" width="100%" border="1" summary="This table explains the three forms of specifying compartments: numeric, long, and short." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th class="text-center" valign="bottom" width="25%" id="d6657e1045">形成</th>
                                 <th class="text-center" valign="bottom" width="75%" id="d6657e1048">说明</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d6657e1053" headers="d6657e1045 ">
                                    <p>数字形式</p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d6657e1053 d6657e1048 ">
                                    <p>数字形式的范围为0到9999。它与用于级别的数字无关。隔间的数字形式并不表示灵敏度更高或更低。相反，它控制标签字符串中的短格式隔间名称的显示顺序。例如，假设创建了一个标签，其中包含<a href="understanding-data-labels-and-user-labels.html#GUID-625E38AA-19E6-4538-B3FF-FE272399DE41__G1010095" title="此表提供标签的隔离部分的数字，长整型和短格式的示例。">表2-5中</a>列出的所有三个隔离专区，以及一个<code class="codeph">SENSITIVE</code>级别，其缩写形式为<code class="codeph">S</code>当此标签以字符串格式显示时，它看起来如下所示，意思是<code class="codeph">SENSITIVE</code> ： <code class="codeph">OPERATIONAL</code> ， <code class="codeph">CHEMICAL</code> ， <code class="codeph">FINANCIAL</code> ：</p><pre class="oac_no_warn" dir="ltr">S：OP，CHEM，FINCL</pre><p>显示顺序遵循分配给隔室的编号顺序：45低于65，65低于85。相反，如果分配给<code class="codeph">FINCL</code>隔离专区的编号为5，则标签的字符串格式如下所示：</p><pre class="oac_no_warn" dir="ltr">S：FINCL，OP，CHEM</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d6657e1093" headers="d6657e1045 ">
                                    <p>长表</p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d6657e1093 d6657e1048 ">
                                    <p>隔离专区名称扫描的长形式最多包含80个字符。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d6657e1100" headers="d6657e1045 ">
                                    <p>简写</p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d6657e1100 d6657e1048 ">
                                    <p>短格式最多可包含30个字符。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>隔间是可选的。标签可以包含零个或多个隔间。Oracle Label Security允许定义多达10,000个隔离专区。</p>
                     <p>并非所有标签都需要隔层。例如，您可以指定没有隔离专区的<code class="codeph">HIGHLY_SENSITIVE</code>和<code class="codeph">CONFIDENTIAL</code>级别，以及包含隔离专区的<code class="codeph">SENSITIVE</code>级别。
                     </p>
                     <p>分析数据的敏感性时，您可能会发现某些分区仅在特定级别有用。</p>
                     <p><a href="understanding-data-labels-and-user-labels.html#GUID-625E38AA-19E6-4538-B3FF-FE272399DE41__I1006363">图2-2</a>显示了如何使用隔离专区对数据进行分类。
                     </p>
                     <div class="figure" id="GUID-625E38AA-19E6-4538-B3FF-FE272399DE41__I1006363">
                        <p class="titleinfigure">图2-2标签矩阵</p><img src="img/olsag005.gif" width="479" alt="下面是图2-2的描述" title="下面是图2-2的描述" longdesc="img_text/olsag005.html"><br><a href="img_text/olsag005.html">“图2-2标签矩阵”的说明</a></div>
                     <!-- class="figure" -->
                     <p>这里，隔室<code class="codeph">FINCL</code> ， <code class="codeph">CHEM</code>和<code class="codeph">OP</code>与<code class="codeph">HIGHLY_SENSITIVE</code> （40）级<code class="codeph">HIGHLY_SENSITIVE</code>使用。标签<code class="codeph">HIGHLY_SENSITIVE</code> ： <code class="codeph">FINCL</code> ， <code class="codeph">CHEM</code>表示两个命名隔间的水平为40。车厢<code class="codeph">FINCL</code>不大于敏感<code class="codeph">CHEM</code> ，也不是<code class="codeph">CHEM</code>比更敏感<code class="codeph">FINCL</code> 。另请注意，受保护表中的某些数据可能不属于任何隔离专区。
                     </p>
                     <p>如果指定了分区，那么除非用户的标签还包含出现在该行标签中的所有分区，否则将阻止其级别通常允许访问行数据的用户进行此类访问。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="understanding-data-labels-and-user-labels.html#GUID-2BE362E7-915F-4C55-AD5F-37DC9F6ED66F" title="您应该了解标签中使用的元素。">标签组件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG4131"></a><a id="OLSAG4132"></a><a id="OLSAG4133"></a><a id="OLSAG4130"></a><div class="props_rev_3"><a id="GUID-29BE3851-93A9-47C1-92BF-57C7BF7D4181" name="GUID-29BE3851-93A9-47C1-92BF-57C7BF7D4181"></a><h4 id="OLSAG-GUID-29BE3851-93A9-47C1-92BF-57C7BF7D4181" class="sect4">组件</h4>
                  <div>
                     <p>组识别拥有或访问数据的组织，例如<code class="codeph">EASTERN_REGION</code> ， <code class="codeph">WESTERN_REGION</code> ， <code class="codeph">WR_SALES</code> 。</p>
                     <p>与某个部门相关的所有数据都可以在标签中包含该部门的组。小组对于受控制的数据传播和对组织变革的及时反应非常有用。当公司重组时，数据访问可以随着重组而改变。</p>
                     <p>组是分层的。您可以根据组织基础架构标记数据。因此，组可以与父组相关联。</p>
                     <p><a href="understanding-data-labels-and-user-labels.html#GUID-29BE3851-93A9-47C1-92BF-57C7BF7D4181__I1006377">图2-3</a>显示了如何定义与以下组织层次结构对应的一组组。
                     </p>
                     <div class="figure" id="GUID-29BE3851-93A9-47C1-92BF-57C7BF7D4181__I1006377">
                        <p class="titleinfigure">图2-3组示例</p><img src="img/olsag009.gif" width="496" alt="下面是图2-3的描述" title="下面是图2-3的描述" longdesc="img_text/olsag009.html"><br><a href="img_text/olsag009.html">“图2-3组示例”的说明</a></div>
                     <!-- class="figure" -->
                     <p><code class="codeph">WESTERN_REGION</code>组包括三个子组： <code class="codeph">WR_SALES</code> ， <code class="codeph">WR_HUMAN_RESOURCES</code>和<code class="codeph">WR_FINANCE</code> 。 <code class="codeph">WR_FINANCE</code>子组细分为<code class="codeph">WR_ACCOUNTS_RECEIVABLE</code>和<code class="codeph">WR_ACCOUNTS_PAYABLE</code> 。</p>
                     <p><a href="understanding-data-labels-and-user-labels.html#GUID-29BE3851-93A9-47C1-92BF-57C7BF7D4181__G1010115" title="此表显示此示例组中rhte标签的数字形式，长形式和短形式。">表2-7</a>显示了此示例中的组织结构如何以Oracle Label Security组的形式表示。请注意，分配给组的数字形式仅影响显示顺序。管理员分别指定层次结构（即父/子关系）。
                     </p>
                     <div class="tblformal" id="GUID-29BE3851-93A9-47C1-92BF-57C7BF7D4181__G1010115">
                        <p class="titleintable">表2-7组示例</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="小组示例" width="100%" border="1" summary="This table shows the numeric, long, and short forms of rhte labels in this example group." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d6657e1324">数字表格</th>
                                 <th align="left" valign="bottom" width="40%" id="d6657e1327">长表</th>
                                 <th align="left" valign="bottom" width="22%" id="d6657e1330">简写</th>
                                 <th align="left" valign="bottom" width="19%" id="d6657e1333">家长小组</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d6657e1338" headers="d6657e1324 ">
                                    <p><code class="codeph">1000</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d6657e1338 d6657e1327 ">
                                    <p><code class="codeph">WESTERN_REGION</code></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d6657e1338 d6657e1330 ">
                                    <p><code class="codeph">WR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d6657e1338 d6657e1333 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d6657e1353" headers="d6657e1324 ">
                                    <p><code class="codeph">1100</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d6657e1353 d6657e1327 ">
                                    <p><code class="codeph">WR_SALES</code></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d6657e1353 d6657e1330 ">
                                    <p><code class="codeph">WR_SAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d6657e1353 d6657e1333 ">
                                    <p><code class="codeph">WR</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d6657e1370" headers="d6657e1324 ">
                                    <p><code class="codeph">1200</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d6657e1370 d6657e1327 ">
                                    <p><code class="codeph">WR_HUMAN_RESOURCES</code></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d6657e1370 d6657e1330 ">
                                    <p><code class="codeph">WR_HR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d6657e1370 d6657e1333 ">
                                    <p><code class="codeph">WR</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d6657e1387" headers="d6657e1324 ">
                                    <p><code class="codeph">1300</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d6657e1387 d6657e1327 ">
                                    <p><code class="codeph">WR_FINANCE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d6657e1387 d6657e1330 ">
                                    <p><code class="codeph">WR_FIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d6657e1387 d6657e1333 ">
                                    <p><code class="codeph">WR</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d6657e1404" headers="d6657e1324 ">
                                    <p><code class="codeph">1310</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d6657e1404 d6657e1327 ">
                                    <p><code class="codeph">WR_ACCOUNTS_PAYABLE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d6657e1404 d6657e1330 ">
                                    <p><code class="codeph">包裹</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d6657e1404 d6657e1333 ">
                                    <p><code class="codeph">WR_FIN</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d6657e1421" headers="d6657e1324 ">
                                    <p><code class="codeph">1320</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d6657e1421 d6657e1327 ">
                                    <p><code class="codeph">WR_ACCOUNTS_RECEIVABLE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d6657e1421 d6657e1330 ">
                                    <p><code class="codeph">WR_AR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d6657e1421 d6657e1333 ">
                                    <p><code class="codeph">WR_FIN</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a href="understanding-data-labels-and-user-labels.html#GUID-29BE3851-93A9-47C1-92BF-57C7BF7D4181__CBJHFJDI" title="此表说明了指定组的三种形式：数字，长整型和短整型。">表2-8</a>显示了指定组的不同方法。
                     </p>
                     <div class="tblformal" id="GUID-29BE3851-93A9-47C1-92BF-57C7BF7D4181__CBJHFJDI">
                        <p class="titleintable">表2-8指定组的形式</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="指定组的形式" width="100%" border="1" summary="This table explains the three forms of specifying groups: numeric, long, and short." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th class="text-center" valign="bottom" width="31%" id="d6657e1453">形成</th>
                                 <th class="text-center" valign="bottom" width="69%" id="d6657e1456">说明</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d6657e1461" headers="d6657e1453 ">
                                    <p>数字形式</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d6657e1461 d6657e1456 ">
                                    <p>组的数字形式范围为0到9999，并且每个策略必须是唯一的。</p>
                                    <p>数字形式不表示任何类型的排名。它不表示亲子关系，或更高或更低的敏感性。它仅控制标签字符串中短格式组名称的显示顺序。</p>
                                    <p>例如，假设一个标签被创建，其具有水平<code class="codeph">SENSITIVE</code> ，隔室<code class="codeph">CHEMICAL</code> ，并且基团<code class="codeph">WESTERN_REGION</code>和<code class="codeph">WR_HUMAN_RESOURCES</code>如中列出<a href="understanding-data-labels-and-user-labels.html#GUID-29BE3851-93A9-47C1-92BF-57C7BF7D4181__G1010115" title="此表显示此示例组中rhte标签的数字形式，长形式和短形式。">表2-7</a> 。以字符串格式显示时，标签如下所示：</p><pre class="oac_no_warn" dir="ltr">S：药品：WR，WR_HR</pre><p><code class="codeph">WR</code>在<code class="codeph">WR_HR</code>之前显示，因为1000在1200之前。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d6657e1498" headers="d6657e1453 ">
                                    <p>长表</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d6657e1498 d6657e1456 ">
                                    <p>组名的长形式最多可包含80个字符。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d6657e1505" headers="d6657e1453 ">
                                    <p>简写</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d6657e1505 d6657e1456 ">
                                    <p>短格式最多可包含30个字符。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>组是可选的;标签可以包含零个或多个组。Oracle Label Security允许最多定义10,000个组。</p>
                     <p>所有标签都不需要有组。分析数据的敏感性时，您可能会发现某些组仅在特定级别使用。例如，您可以指定不带组的<code class="codeph">HIGHLY_SENSITIVE</code>和<code class="codeph">CONFIDENTIAL</code>标签，以及包含组的<code class="codeph">SENSITIVE</code>标签。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="releasability-using-inverse-groups.html#GUID-D3DFD6C6-79F7-4DCE-82BB-DB453BA50D75" title="Oracle Label Security可以使用反向组实现可释放性。">使用反向组的可释放性</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="understanding-data-labels-and-user-labels.html#GUID-2BE362E7-915F-4C55-AD5F-37DC9F6ED66F" title="您应该了解标签中使用的元素。">标签组件</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="OLSAG3051"></a><a id="OLSAG3050"></a><div class="props_rev_3"><a id="GUID-EE3D719C-63FF-4BEB-83CA-0002B5B77E8E" name="GUID-EE3D719C-63FF-4BEB-83CA-0002B5B77E8E"></a><h4 id="OLSAG-GUID-EE3D719C-63FF-4BEB-83CA-0002B5B77E8E" class="sect4">行业，级别和组的示例</h4>
                  <div>
                     <p>Oracle Label Security级别，隔离专区，组旨在在各个行业中实施。</p>
                     <p><a href="understanding-data-labels-and-user-labels.html#GUID-EE3D719C-63FF-4BEB-83CA-0002B5B77E8E__G1010189" title="此表说明了各行业公司选择的典型级别，隔离专区和组。">表2-9</a>通过列出在各个行业中实施它们的典型方式，说明了Oracle Label Security级别，隔离专区和组的灵活性。
                     </p>
                     <div class="tblformalwide" id="GUID-EE3D719C-63FF-4BEB-83CA-0002B5B77E8E__G1010189">
                        <p class="titleintable">表2-9按行业划分的典型级别，隔室和组</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="按行业划分的典型级别，隔间和组" width="100%" border="1" summary="This table illustrates typical levels, compartments, and groups as chosen by companies in various industries." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d6657e1616">行业</th>
                                 <th align="left" valign="bottom" width="25%" id="d6657e1619">水平</th>
                                 <th align="left" valign="bottom" width="27%" id="d6657e1622">车厢</th>
                                 <th align="left" valign="bottom" width="24%" id="d6657e1625">组</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d6657e1630" headers="d6657e1616 ">
                                    <p>企业与企业之间</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d6657e1630 d6657e1619 ">
                                    <p><code class="codeph">商业秘密</code></p>
                                    <p><code class="codeph">所有权</code></p>
                                    <p><code class="codeph">公司机密</code></p>
                                    <p><code class="codeph">上市</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d6657e1630 d6657e1622 ">
                                    <p><code class="codeph">MARKETING</code></p>
                                    <p><code class="codeph">金融</code></p>
                                    <p><code class="codeph">销售</code></p>
                                    <p><code class="codeph">人员</code></p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d6657e1630 d6657e1625 ">
                                    <p><code class="codeph">AJAX_CORP</code></p>
                                    <p><code class="codeph">BILTWELL_CO</code></p>
                                    <p><code class="codeph">ACME_INC</code></p>
                                    <p><code class="codeph">ERSATZ_LTD</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d6657e1673" headers="d6657e1616 ">
                                    <p>金融服务</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d6657e1673 d6657e1619 ">
                                    <p><code class="codeph">收购事项</code></p>
                                    <p><code class="codeph">CORPORATE</code></p>
                                    <p><code class="codeph">客户</code></p>
                                    <p><code class="codeph">营运</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d6657e1673 d6657e1622 ">
                                    <p><code class="codeph">保险</code></p>
                                    <p><code class="codeph">EQUITIES</code></p>
                                    <p><code class="codeph">信托</code></p>
                                    <p><code class="codeph">COMMERCIAL_LOANS</code></p>
                                    <p><code class="codeph">CONSUMER_LOANS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d6657e1673 d6657e1625 ">
                                    <p><code class="codeph">客户</code></p>
                                    <p><code class="codeph">受托人</code></p>
                                    <p><code class="codeph">受益人</code></p>
                                    <p><code class="codeph">管理</code></p>
                                    <p><code class="codeph">员工</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d6657e1722" headers="d6657e1616 ">
                                    <p>司法</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d6657e1722 d6657e1619 ">
                                    <p><code class="codeph">国家安全</code></p>
                                    <p><code class="codeph">敏感</code></p>
                                    <p><code class="codeph">上市</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d6657e1722 d6657e1622 ">
                                    <p><code class="codeph">民事</code></p>
                                    <p><code class="codeph">刑事</code></p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d6657e1722 d6657e1625 ">
                                    <p><code class="codeph">管理</code></p>
                                    <p><code class="codeph">防御</code></p>
                                    <p><code class="codeph">检控</code></p>
                                    <p><code class="codeph">法庭</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d6657e1756" headers="d6657e1616 ">
                                    <p>卫生保健</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d6657e1756 d6657e1619 ">
                                    <p><code class="codeph">PRIMARY_PHYSICIAN</code></p>
                                    <p><code class="codeph">PATIENT_CONFIDENTIAL</code></p>
                                    <p><code class="codeph">PATIENT_RELEASE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d6657e1756 d6657e1622 ">
                                    <p><code class="codeph">制药</code></p>
                                    <p><code class="codeph">传染性疾病</code></p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d6657e1756 d6657e1625 ">
                                    <p><code class="codeph">CDC</code></p>
                                    <p><code class="codeph">研究</code></p>
                                    <p><code class="codeph">NURSING_STAFF</code></p>
                                    <p><code class="codeph">HOSPITAL_STAFF</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d6657e1790" headers="d6657e1616 ">
                                    <p>防御</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d6657e1790 d6657e1619 ">
                                    <p><code class="codeph">绝密</code></p>
                                    <p><code class="codeph">秘密</code></p>
                                    <p><code class="codeph">机密</code></p>
                                    <p><code class="codeph">未分类</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d6657e1790 d6657e1622 ">
                                    <p><code class="codeph">Α</code></p>
                                    <p><code class="codeph">三角洲</code></p>
                                    <p><code class="codeph">SIGMA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d6657e1790 d6657e1625 ">
                                    <p><code class="codeph">联合王国</code></p>
                                    <p><code class="codeph">北约</code></p>
                                    <p><code class="codeph">西班牙</code></p>
                                    <p></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="understanding-data-labels-and-user-labels.html#GUID-2BE362E7-915F-4C55-AD5F-37DC9F6ED66F" title="您应该了解标签中使用的元素。">标签组件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="OLSAG4134"></a><div class="props_rev_3"><a id="GUID-497CAE65-23ED-4CAC-8A9D-C55DC04A66BC" name="GUID-497CAE65-23ED-4CAC-8A9D-C55DC04A66BC"></a><h3 id="OLSAG-GUID-497CAE65-23ED-4CAC-8A9D-C55DC04A66BC" class="sect3">标签语法和类型</h3>
               <div>
                  <p>定义标签组件后，您可以通过组合特定的级别，隔离专区和组来创建数据标签。</p>
                  <p>您可以使用Oracle Enterprise Manager图形用户界面或命令行过程。标签的字符串表示使用以下语法：</p>
                  <p><span class="italic"><code class="codeph">LEVEL</code></span> <code class="codeph">:</code> <span class="italic"><code class="codeph">COMPARTMENT1</code></span> <code class="codeph">,...,</code> <span class="italic"><code class="codeph">COMPARTMENTn</code></span> <code class="codeph">:</code> <span class="italic"><code class="codeph">GROUP1</code></span> <code class="codeph">,...,</code> <span class="italic"><code class="codeph">GROUPn</code></span></p>
                  <p>指定标签的文本字符串最多可包含4,000个字符，包括字母数字字符，空格和下划线。标签不区分大小写。您可以以大写，小写或大小写形式输入它们，但字符串存储在数据字典中并以大写形式显示。冒号用作组件之间的分隔符。没有必要在此语法中输入尾随分隔符。</p>
                  <p>例如，您可以创建有效的标签，例如：</p><pre class="oac_no_warn" dir="ltr">敏感：金融，化学：EASTERN_REGION，WESTERN_REGION CONFIDENTIAL：财务：VP_GRP敏感度高度敏感：财务敏感:: WESTERN_REGION</pre><p>创建有效数据标签时，会发生另外两件事：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>标签自动指定为有效数据标签。此功能限制了可以分配给数据的标签。Oracle Label Security还可以在运行时动态创建有效的数据标签，这些标签来自Oracle Internet Directory中预定义的标签。但是，大多数用户更喜欢手动创建标签以限制数据标签的扩散。</p>
                     </li>
                     <li>
                        <p>数字标签标签与表示标签的文本字符串相关联。这是标签标签，而不是文本字符串，它存储在受保护表的策略标签列中。</p>
                        <div class="infoboxnote" id="GUID-497CAE65-23ED-4CAC-8A9D-C55DC04A66BC__GUID-8D3CE6B5-7841-4305-A708-9E8D486828D8">
                           <p class="notep1">注意：</p>
                           <p>对于不使用Oracle Internet Directory的Oracle Label Security安装，动态创建有效数据标签使用<code class="codeph">TO_DATA_LABEL</code>函数。它的使用应该严格控制。
                           </p>
                        </div>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="working-with-labeled-data.html#GUID-200BD865-1840-4A11-B179-D445A2342C21" title="TO_DATA_LABEL函数可以动态生成新标签。">使用TO_DATA_LABEL插入标签</a></li>
                        <li><a href="working-with-labeled-data.html#GUID-2C84DF95-0A12-4BBA-94C8-4FF369C54128" title="您应该了解如何创建和填充表或模式中的策略标签列。">策略标签列和标签标签的工作原理</a></li>
                        <li><a href="working-with-labeled-data.html#GUID-C5D22293-2F11-4C83-B281-ADCA31D28D07" title="您可以创建定义标签组件的标签标签，手动或自动生成标签标签。">标签标签</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="understanding-data-labels-and-user-labels.html#GUID-F29D48CE-EE9A-495E-A35B-55B38BAB1FDB" title="您应该了解数据标签和用户标签的基本概念。">了解数据标签和用户标签</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="OLSAG3052"></a><a id="OLSAG3053"></a><a id="OLSAG011"></a><div class="props_rev_3"><a id="GUID-CA610A91-D376-4768-960A-60F6653040D7" name="GUID-CA610A91-D376-4768-960A-60F6653040D7"></a><h3 id="OLSAG-GUID-CA610A91-D376-4768-960A-60F6653040D7" class="sect3">数据标签和用户标签如何协同工作</h3>
               <div>
                  <p>用户只能在他或她自己的标签授权范围内访问数据。</p>
                  <p>用户具有以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>最高和最低水平</p>
                     </li>
                     <li>
                        <p>一套授权隔间</p>
                     </li>
                     <li>
                        <p>一组授权组（并且隐含地，授权任何子组）</p>
                     </li>
                  </ul>
                  <p>例如，假设您具有以下级别：</p>
                  <ul id="GUID-CA610A91-D376-4768-960A-60F6653040D7__UL_LHP_BDY_LGB" style="list-style-type:disc">
                     <li><code class="codeph">HIGHLY_SENSITIVE</code> ，数字形式40</li>
                     <li><code class="codeph">SENSITIVE</code> ，数字形式30</li>
                     <li><code class="codeph">CONFIDENTIAL</code> ，数字形式20</li>
                     <li><code class="codeph">PUBLIC</code> ，数字形式10</li>
                  </ul>
                  <p>如果为用户分配了最高级别的<code class="codeph">SENSITIVE</code> ，则用户可能有权访问<code class="codeph">SENSITIVE</code> ， <code class="codeph">CONFIDENTIAL</code>和<code class="codeph">PUBLIC</code>数据。用户无法访问<code class="codeph">HIGHLY_SENSITIVE</code>数据，因为此级别太高。
                  </p>
                  <p><a href="understanding-data-labels-and-user-labels.html#GUID-CA610A91-D376-4768-960A-60F6653040D7__I1006679">图2-4</a>显示了数据标签和用户标签如何协同工作以在Oracle Label Security中提供访问控制。虽然数据标签是离散的，但用户标签是包容性的。根据授权的隔间和组，用户可以潜在地访问与他或她的范围内的所有级别相对应的数据。
                  </p>
                  <div class="figure" id="GUID-CA610A91-D376-4768-960A-60F6653040D7__I1006679">
                     <p class="titleinfigure">图2-4示例：数据标签和用户标签</p><img src="img/olsag007new.gif" alt="下面是图2-4的描述" title="下面是图2-4的描述" longdesc="img_text/olsag007new.html"><br><a href="img_text/olsag007new.html">“图2-4示例：数据标签和用户标签”的说明</a></div>
                  <!-- class="figure" -->
                  <p>如图所示，用户1可以访问第2,3和4行，因为她的最高级别是<code class="codeph">HS</code> 。她可以访问<code class="codeph">FIN</code>隔离专区，并且她对组<code class="codeph">WR</code>访问分层次地包括组<code class="codeph">WR_SAL</code> 。她不能进入第1排，因为她没有<code class="codeph">CHEM</code>隔间。（用户必须拥有行的数据标签中<span class="italic">所有</span>隔离专区的权限才能访问该行。）
                  </p>
                  <p>用户2可以访问第3行和第4行。他的最高等级是<code class="codeph">S</code> ，小于第2行的<code class="codeph">HS</code> 。虽然他可以访问<code class="codeph">FIN</code>区域，但他只拥有<code class="codeph">WR_SAL</code>组的<code class="codeph">WR_SAL</code> 。所以，他无法访问第1行。
                  </p>
                  <p><a href="understanding-data-labels-and-user-labels.html#GUID-CA610A91-D376-4768-960A-60F6653040D7__I1006694">图2-5</a>显示了与组织层次结构相关的数据如何适合数据级别和隔离专区。
                  </p>
                  <div class="figure" id="GUID-CA610A91-D376-4768-960A-60F6653040D7__I1006694">
                     <p class="titleinfigure">图2-5标签组件如何相互关联</p><img src="img/olsag010.gif" alt="下面是图2-5的描述" title="下面是图2-5的描述" longdesc="img_text/olsag010.html"><br><a href="img_text/olsag010.html">“图2-5标签组件如何相互关联”的描述</a></div>
                  <!-- class="figure" -->
                  <p>例如， <code class="codeph">UNITED_STATES</code>组包括三个子组： <code class="codeph">EASTERN_REGION</code> ， <code class="codeph">CENTRAL_REGION</code>和<code class="codeph">WESTERN_REGION</code> 。 <code class="codeph">WESTERN_REGION</code>子组进一步细分为<code class="codeph">CALIFORNIA</code>和<code class="codeph">NEVADA</code> 。对于每个组和子组，可能存在属于数据库中某些有效隔离专区和级别的数据。因此，在<code class="codeph">CALIFORNIA</code>子组中可能存在<code class="codeph">FINANCIAL</code> <code class="codeph">SENSITIVE</code>数据。
                  </p>
                  <p>请注意，数据通常用单个组标记，而用户标签形成层次结构。如果用户具有特定组，则该组可以隐含地包括子组。这样，与<code class="codeph">UNITED_STATES</code>组关联的用户可以访问所有数据，但与<code class="codeph">CALIFORNIA</code>关联的用户可以访问仅与该子组相关的数据。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="understanding-data-labels-and-user-labels.html#GUID-F29D48CE-EE9A-495E-A35B-55B38BAB1FDB" title="您应该了解数据标签和用户标签的基本概念。">了解数据标签和用户标签</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="OLSAG012"></a><div class="props_rev_3"><a id="GUID-C699FFAF-39C4-4F6B-A88F-58B81251F47D" name="GUID-C699FFAF-39C4-4F6B-A88F-58B81251F47D"></a><h3 id="OLSAG-GUID-C699FFAF-39C4-4F6B-A88F-58B81251F47D" class="sect3">标签管理</h3>
               <div>
                  <p>Oracle Label Security提供管理界面来定义和管理数据库中使用的标签。</p>
                  <p>您可以使用Oracle Label Security PL / SQL包或使用Oracle Enterprise Manager在Oracle数据库中定义标签。最初，管理员必须定义组成标签的级别，隔离专区和组，然后，用户可以为数据库的内容定义有效数据标签集。</p>
                  <p>管理员可以将策略应用于数据库中的各个表或整个应用程序模式。最后，管理员为每个数据库用户分配用户工作职能所需的标签组件（以及特权，如果需要）。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="understanding-data-labels-and-user-labels.html#GUID-F29D48CE-EE9A-495E-A35B-55B38BAB1FDB" title="您应该了解数据标签和用户标签的基本概念。">了解数据标签和用户标签</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="05775.understanding-cursor-classes-and-concepts.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>理解游标类和概念</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Java API Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Java API Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="olap-java-api-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T13:53:39-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2000, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96402-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="using-transaction-provider.html" title="Previous" type="text/html"></link>
      <link rel="next" href="retrieving-query-results.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OLAP Java API Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OLAAP"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-transaction-provider.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="retrieving-query-results.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Java API开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">理解游标类和概念</li>
            </ol>
            <a id="GUID-317FD4C8-9000-4A25-99FC-4D84D1894E0B" name="GUID-317FD4C8-9000-4A25-99FC-4D84D1894E0B"></a><a id="OLAAP338"></a>
            
            <h2 id="OLAAP-GUID-317FD4C8-9000-4A25-99FC-4D84D1894E0B" class="sect2"><span class="enumeration_chapter">8</span>了解游标类和概念</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍Oracle OLAP Java API <code class="codeph">Cursor</code>类以及用于检索查询结果的相关类。本章还介绍了位置，提取大小和范围的<code class="codeph">Cursor</code>概念。有关创建和使用<code class="codeph">Cursor</code>及其相关对象的示例，请参阅<a href="retrieving-query-results.html#GUID-41769CCE-61BC-4A3C-8086-A4F6342458DA">检索查询结果</a> 。
               </p>
               <p>本章包括以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="understanding-cursor-classes-and-concepts.html#GUID-CDD1F930-25CA-4B2A-BD95-E19EB839AE68">OLAP Java API游标对象概述</a></p>
                  </li>
                  <li>
                     <p><a href="understanding-cursor-classes-and-concepts.html#GUID-70DE6442-EDEC-4CBC-B174-BBB547E9D61D">游标类</a></p>
                  </li>
                  <li>
                     <p><a href="understanding-cursor-classes-and-concepts.html#GUID-9BC50D01-62E1-4FB4-8520-42442F6F7218">CursorInfoSpecification类</a></p>
                  </li>
                  <li>
                     <p><a href="understanding-cursor-classes-and-concepts.html#GUID-8B03C4BF-8A6E-4B59-8069-A6DD67AC89E2">CursorManager类</a></p>
                  </li>
                  <li>
                     <p><a href="understanding-cursor-classes-and-concepts.html#GUID-A698B1E8-65BC-4535-B14D-9365B1A0F8A3">关于光标位置和范围</a></p>
                  </li>
                  <li>
                     <p><a href="understanding-cursor-classes-and-concepts.html#GUID-CC91C2DF-4BA8-4B0A-8D26-1A0DEF7CAE7A">关于获取尺寸</a></p>
                  </li>
               </ul>
            </div><a id="OLAAP339"></a><div class="props_rev_3"><a id="GUID-CDD1F930-25CA-4B2A-BD95-E19EB839AE68" name="GUID-CDD1F930-25CA-4B2A-BD95-E19EB839AE68"></a><h3 id="OLAAP-GUID-CDD1F930-25CA-4B2A-BD95-E19EB839AE68" class="sect3"><span class="enumeration_section">8.1</span> OLAP Java API游标对象概述</h3>
               <div>
                  <p><a id="d23114e115" class="indexterm-anchor"></a> <code class="codeph">Cursor</code>检索<code class="codeph">Source</code>指定的结果集。您可以通过调用<code class="codeph">CursorManager</code>的<code class="codeph">createCursor</code>方法来创建<code class="codeph">Cursor</code> 。您可以通过调用<code class="codeph">DataProvider</code>的<code class="codeph">createCursorManager</code>方法来创建<code class="codeph">CursorManager</code> 。
                  </p>
                  <p><a id="d23114e146" class="indexterm-anchor"></a><a id="d23114e150" class="indexterm-anchor"></a>您可以通过Oracle OLAP SQL生成器获取为<code class="codeph">Source</code>生成的SQL，而无需创建<code class="codeph">Cursor</code> 。要获取<code class="codeph">Source</code>的SQL，可以使用<code class="codeph">DataProvider</code>的<code class="codeph">createSQLCursorManager</code>方法创建<code class="codeph">SQLCursorManager</code> 。然后，您可以使用OLAP Java API之外的类或其他方法，使用生成的SQL检索数据。</p>
               </div><a id="OLAAP340"></a><div class="props_rev_3"><a id="GUID-13E4B667-7BC0-422E-8312-F347EB3371E3" name="GUID-13E4B667-7BC0-422E-8312-F347EB3371E3"></a><h4 id="OLAAP-GUID-13E4B667-7BC0-422E-8312-F347EB3371E3" class="sect4"><span class="enumeration_section">8.1.1</span>创建游标</h4>
                  <div>
                     <div class="section">
                        <p><a id="d23114e208" class="indexterm-anchor"></a><a id="d23114e212" class="indexterm-anchor"></a><a id="d23114e216" class="indexterm-anchor"></a><a id="d23114e218" class="indexterm-anchor"></a>您可以通过执行以下操作为<code class="codeph">Source</code>创建<code class="codeph">Cursor</code> ：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>通过调用<code class="codeph">DataProvider</code>的<code class="codeph">createCursorManager</code>方法之一并将其传递给<code class="codeph">Source</code>创建<code class="codeph">CursorManager</code> 。如果要更改<code class="codeph">Cursor</code>的行为，则可以创建<code class="codeph">CursorInfoSpecification</code>并使用它的方法来指定行为。然后使用获取<code class="codeph">Source</code>和<code class="codeph">CursorInfoSpecification</code>的方法创建<code class="codeph">CursorManager</code> 。</span></li>
                        <li><span>通过调用<code class="codeph">CursorManager</code>的<code class="codeph">createCursor</code>方法创建<code class="codeph">Cursor</code> 。</span></li>
                     </ol>
                  </div>
               </div><a id="OLAAP341"></a><div class="props_rev_3"><a id="GUID-FB4C72FA-0906-44ED-B7C3-86A4702B3C9F" name="GUID-FB4C72FA-0906-44ED-B7C3-86A4702B3C9F"></a><h4 id="OLAAP-GUID-FB4C72FA-0906-44ED-B7C3-86A4702B3C9F" class="sect4"><span class="enumeration_section">8.1.2</span>无法创建游标的源</h4>
                  <div>
                     <p><a id="d23114e306" class="indexterm-anchor"></a><a id="d23114e310" class="indexterm-anchor"></a>某些<code class="codeph">Source</code>对象不指定<code class="codeph">Cursor</code>可以从数据存储中检索的数据。以下是您无法创建包含值的<code class="codeph">Cursor</code> <code class="codeph">Source</code>对象。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>指定计算不可能的操作的<code class="codeph">Source</code> 。一个示例是指定无限递归的<code class="codeph">Source</code> 。
                           </p>
                        </li>
                        <li>
                           <p>定义无限结果集的<code class="codeph">Source</code> 。一个示例是表示所有<code class="codeph">String</code>对象集的基本<code class="codeph">Source</code> 。
                           </p>
                        </li>
                        <li>
                           <p>甲<code class="codeph">Source</code>不具有元件或包括另一<code class="codeph">Source</code>不具有要素。实例是一个<code class="codeph">Source</code>由返回<code class="codeph">getEmptySource</code>的方法<code class="codeph">DataProvider</code>和另一<code class="codeph">Source</code>从空衍生<code class="codeph">Source</code> 。另一个示例是派生的<code class="codeph">Source</code> ，它是从您从<code class="codeph">MdmDimension</code>获取的主要<code class="codeph">Source</code>中选择一个值而得到的，并且维度中不存在所选值。
                           </p>
                        </li>
                     </ul>
                     <p>如果为这样的<code class="codeph">Source</code>创建<code class="codeph">Cursor</code>并尝试获取<code class="codeph">Cursor</code>的值，则会发生<code class="codeph">Exception</code> 。
                     </p>
                  </div>
               </div><a id="OLAAP342"></a><div class="props_rev_3"><a id="GUID-EF2F6AF8-7E0C-4E6E-9C66-F59655838107" name="GUID-EF2F6AF8-7E0C-4E6E-9C66-F59655838107"></a><h4 id="OLAAP-GUID-EF2F6AF8-7E0C-4E6E-9C66-F59655838107" class="sect4"><span class="enumeration_section">8.1.3</span>游标对象和事务对象</h4>
                  <div>
                     <p><a id="d23114e433" class="indexterm-anchor"></a><a id="d23114e437" class="indexterm-anchor"></a><a id="d23114e441" class="indexterm-anchor"></a>在创建派<code class="codeph">Source</code>或更改<code class="codeph">Template</code>状态时，可以在当前<code class="codeph">Transaction</code>的上下文中创建<code class="codeph">Source</code> 。该<code class="codeph">Source</code>是在活动<code class="codeph">Transaction</code>中创建它还是一个孩子<code class="codeph">Transaction</code>是的<code class="codeph">Transaction</code> 。<code class="codeph">Source</code>必须在当前<code class="codeph">Transaction</code>处于活动状态才能为其创建<code class="codeph">Cursor</code> 。
                     </p>
                     <p>创建派生<code class="codeph">Source</code>发生在写<code class="codeph">Transaction</code> 。在读取<code class="codeph">Transaction</code>创建<code class="codeph">Cursor</code> 。创建派生后<code class="codeph">Source</code> ，之前你可以创建一个<code class="codeph">Cursor</code>为<code class="codeph">Source</code> ，必须更改写入<code class="codeph">Transaction</code>放置到读<code class="codeph">Transaction</code>通过调用<code class="codeph">commitCurrentTransaction</code>的方法<code class="codeph">TransactionProvider</code>您的应用程序使用。有关<code class="codeph">Transaction</code>和<code class="codeph">TransactionProvider</code>对象的信息，请参阅<a href="using-transaction-provider.html#GUID-E290E8B5-CC10-4BDF-91B1-7189BE7F12B9">使用TransactionProvider</a> 。
                     </p>
                     <p>对于为包含参数化<code class="codeph">Source</code>的查询创建的<code class="codeph">Cursor</code> ，您可以更改<code class="codeph">Parameter</code>对象的值，然后获取<code class="codeph">Cursor</code>的新值，而无需再次提交<code class="codeph">Transaction</code> 。有关参数化<code class="codeph">Source</code>对象的信息，请参阅<a href="understanding-source-objects.html#GUID-871159BB-8ED1-454B-B9FA-62F36683F4B2">了解源对象</a> 。
                     </p>
                  </div>
               </div>
            </div><a id="OLAAP343"></a><div class="props_rev_3"><a id="GUID-70DE6442-EDEC-4CBC-B174-BBB547E9D61D" name="GUID-70DE6442-EDEC-4CBC-B174-BBB547E9D61D"></a><h3 id="OLAAP-GUID-70DE6442-EDEC-4CBC-B174-BBB547E9D61D" class="sect3"><span class="enumeration_section">8.2</span>游标类</h3>
               <div>
                  <p>在<code class="codeph">oracle.olapi.data.cursor</code>包中，Oracle OLAP Java API定义下表中描述的接口。
                  </p>
                  <div class="tblformal" id="GUID-70DE6442-EDEC-4CBC-B174-BBB547E9D61D__GUID-AD6D3D59-269F-48B4-8427-72093950070E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table lists the Cursor class hierarchy and provides brief descriptions of the interfaces." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d23114e600">接口</th>
                              <th align="left" valign="bottom" width="71%" id="d23114e603">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d23114e608" headers="d23114e600 ">
                                 <p><code class="codeph">光标</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d23114e608 d23114e603 ">
                                 <p>一个抽象的超类，它封装了当前位置的概念。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d23114e616" headers="d23114e600 ">
                                 <p><code class="codeph">ValueCursor</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d23114e616 d23114e603 ">
                                 <p>一个在当前位置具有值的<code class="codeph">Cursor</code> 。<code class="codeph">ValueCursor</code>没有子<code class="codeph">Cursor</code>对象。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d23114e633" headers="d23114e600 ">
                                 <p><code class="codeph">CompoundCursor</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d23114e633 d23114e603 ">
                                 <p>甲<code class="codeph">Cursor</code>具有子<code class="codeph">Cursor</code>对象，这是孩子<code class="codeph">ValueCursor</code>为的值<code class="codeph">Source</code>与它的输出相关联的子<code class="codeph">Cursor</code>用于的每个输出<code class="codeph">Source</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="OLAAP346"></a><a id="OLAAP345"></a><a id="OLAAP344"></a><div class="props_rev_3"><a id="GUID-77D86CD5-9E36-458A-AB88-09CA392B97DE" name="GUID-77D86CD5-9E36-458A-AB88-09CA392B97DE"></a><h4 id="OLAAP-GUID-77D86CD5-9E36-458A-AB88-09CA392B97DE" class="sect4"><span class="enumeration_section">8.2.1</span>光标的结构</h4>
                  <div>
                     <p><a id="d23114e697" class="indexterm-anchor"></a><a id="d23114e701" class="indexterm-anchor"></a><a id="d23114e705" class="indexterm-anchor"></a> <code class="codeph">Cursor</code>的结构反映了与之关联的<code class="codeph">Source</code>的结构。如果<code class="codeph">Source</code>没有任何输出，则该<code class="codeph">Source</code>的<code class="codeph">Cursor</code>是<code class="codeph">ValueCursor</code> 。如果<code class="codeph">Source</code>有一个或多个输出，则该<code class="codeph">Source</code>的<code class="codeph">Cursor</code>是<code class="codeph">CompoundCursor</code> 。<code class="codeph">CompoundCursor</code>具有基本<code class="codeph">ValueCursor</code>作为子<code class="codeph">ValueCursor</code> ， <code class="codeph">ValueCursor</code>具有<code class="codeph">CompoundCursor</code>的<code class="codeph">Source</code>的基础值以及一个或多个输出<code class="codeph">Cursor</code>对象。
                     </p>
                     <p><code class="codeph">Source</code>的输出是另一个<code class="codeph">Source</code> 。输出<code class="codeph">Source</code>本身可以有输出。孩子<code class="codeph">Cursor</code>的的输出<code class="codeph">Source</code>是<code class="codeph">ValueCursor</code>如果输出<code class="codeph">Source</code>没有任何产出和<code class="codeph">CompoundCursor</code>如果它。
                     </p>
                     <p><a href="understanding-cursor-classes-and-concepts.html#GUID-77D86CD5-9E36-458A-AB88-09CA392B97DE__CIHHEGAG">示例8-1</a>创建一个查询，指定所选月份的所选产品项目的价格。在该示例中， <code class="codeph">timeHier</code>是时间值维度的层次结构的<code class="codeph">Source</code> ，而<code class="codeph">prodHier</code>是产品值维度的层次结构的<code class="codeph">Source</code> 。
                     </p>
                     <p>如果为<code class="codeph">prodSel</code>或<code class="codeph">timeSel</code>创建<code class="codeph">Cursor</code> ，则<code class="codeph">Cursor</code>是<code class="codeph">ValueCursor</code>因为<code class="codeph">prodSel</code>和<code class="codeph">timeSel</code>都没有输出。
                     </p>
                     <p><code class="codeph">unitPrice</code>对象是<code class="codeph">MdmBaseMeasure</code>的<code class="codeph">Source</code> ，表示产品单位价格的值。<code class="codeph">MdmBaseMeasure</code>具有表示产品和时间的<code class="codeph">MdmPrimaryDimension</code>对象作为输入， <code class="codeph">unitPrice</code> <code class="codeph">Source</code>具有这些维度的<code class="codeph">Source</code>对象作为输入。
                     </p>
                     <p>该示例选择维层次结构的元素，然后将选择的<code class="codeph">Source</code>对象连接到度量的对象以生成<code class="codeph">querySource</code> ，其具有<code class="codeph">prodSel</code>和<code class="codeph">timeSel</code>作为输出。
                     </p>
                     <div class="example" id="GUID-77D86CD5-9E36-458A-AB88-09CA392B97DE__CIHHEGAG">
                        <p class="titleinexample">示例8-1创建querySource查询</p><pre class="oac_no_warn" dir="ltr">源timeSel = timeHier.selectValues（new String [] {“CALENDAR_YEAR :: MONTH :: 2001.01”，“CALENDAR_YEAR :: MONTH :: 2001.04”，“CALENDAR_YEAR :: MONTH :: 2001.07”，“CALENDAR_YEAR :: MONTH :: 2001.10 “}）; Source prodSel = prodHier.selectValues（new String [] {“PRODUCT_PRIMARY :: ITEM :: ENVY ABM”，“PRODUCT_PRIMARY :: ITEM :: ENVY EXE”，“PRODUCT_PRIMARY :: ITEM :: ENVY STD”}）;源querySource = unitPrice.join（timeSel）.join（prodSel）;</pre><p><a id="d23114e870" class="indexterm-anchor"></a><a id="d23114e872" class="indexterm-anchor"></a><a id="d23114e874" class="indexterm-anchor"></a> <code class="codeph">querySource</code>定义的结果集是所选月份的所选产品的单价值。结果由产出组织。由于<code class="codeph">timeSel</code>连接到<code class="codeph">unitPrice.join(prodSel)</code>操作生成的<code class="codeph">Source</code> ，因此<code class="codeph">timeSel</code>是较慢变化的输出，这意味着结果集为每个选定的时间值指定所选产品的集合。对于每个时间值，结果集具有三个产品值，因此产品值的变化速度快于时间值。<code class="codeph">ValueCursor</code>的基本<code class="codeph">ValueCursor</code>的<code class="codeph">querySource</code>是所有值中变化最快的值，因为每个产品每天都有一个价格值。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="section">
                        <p><a href="retrieving-query-results.html#GUID-8A1CAB10-C688-4366-BC57-8B41170BEE37__I1006606">实施例9-1</a>在<a href="retrieving-query-results.html#GUID-41769CCE-61BC-4A3C-8086-A4F6342458DA">检索查询结果</a> ，创建了一个<code class="codeph">Cursor</code> ， <code class="codeph">queryCursor</code> ，用于<code class="codeph">querySource</code> 。由于<code class="codeph">querySource</code>有输出， <code class="codeph">queryCursor</code>是一个<code class="codeph">CompoundCursor</code> 。<code class="codeph">ValueCursor</code>的基本<code class="codeph">queryCursor</code>具有来自<code class="codeph">unitPrice</code>值， <code class="codeph">unitPrice</code>是创建<code class="codeph">querySource</code>的操作的基本<code class="codeph">Source</code> 。<code class="codeph">unitPrice</code>中的值是输出指定的值。为输出<code class="codeph">queryCursor</code>是一个<code class="codeph">ValueCursor</code>具有从值<code class="codeph">prodSel</code>和<code class="codeph">ValueCursor</code>从具有值<code class="codeph">timeSel</code> 。
                        </p>
                        <div class="figure" id="GUID-77D86CD5-9E36-458A-AB88-09CA392B97DE__I1006814">
                           <p class="titleinfigure">图8-1 queryCursor CompoundCursor的结构</p>
                           <p>该图说明了<code class="codeph">queryCursor</code>的结构。基本<code class="codeph">ValueCursor</code>和两个输出<code class="codeph">ValueCursor</code>对象是<code class="codeph">ValueCursor</code>的子<code class="codeph">queryCursor</code> ，它是父<code class="codeph">CompoundCursor</code> 。
                           </p><img src="img/qrycrstr.gif" width="408" alt="下面是图8-1的描述" title="下面是图8-1的描述" longdesc="img_text/qrycrstr.html"><br><a href="img_text/qrycrstr.html">“图8-1 queryCursor CompoundCursor的结构”的描述</a></div>
                        <!-- class="figure" -->
                        <p>下表显示了表中<code class="codeph">queryCursor</code>的值。左列具有时间值，中间列具有产品值，右列具有该月产品的单价。
                        </p>
                        <div class="tblformal" id="GUID-77D86CD5-9E36-458A-AB88-09CA392B97DE__GUID-565F598D-E467-4FD3-830E-BC70176DC51C">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table lists the values of the base and output ValueCursor components of the queryCursor CompoundCursor." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th class="text-center" valign="bottom" width="31%" id="d23114e999">月</th>
                                    <th class="text-center" valign="bottom" width="31%" id="d23114e1003">产品</th>
                                    <th class="text-center" valign="bottom" width="38%" id="d23114e1006">单位价格</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d23114e1011" headers="d23114e999 ">
                                       <p>2001.01</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d23114e1011 d23114e1003 ">
                                       <p>ENVY ABM</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d23114e1011 d23114e1006 ">
                                       <p>3042.22</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d23114e1021" headers="d23114e999 ">
                                       <p>2001.01</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d23114e1021 d23114e1003 ">
                                       <p>ENVY EXE</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d23114e1021 d23114e1006 ">
                                       <p>3223.28</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d23114e1031" headers="d23114e999 ">
                                       <p>2001.01</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d23114e1031 d23114e1003 ">
                                       <p>ENVY STD</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d23114e1031 d23114e1006 ">
                                       <p>3042.22</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d23114e1041" headers="d23114e999 ">
                                       <p>2001.04</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d23114e1041 d23114e1003 ">
                                       <p>ENVY ABM</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d23114e1041 d23114e1006 ">
                                       <p>2412.42</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d23114e1051" headers="d23114e999 ">
                                       <p>2001.04</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d23114e1051 d23114e1003 ">
                                       <p>ENVY EXE</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d23114e1051 d23114e1006 ">
                                       <p>3107.65</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d23114e1061" headers="d23114e999 ">
                                       <p>2001.04</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d23114e1061 d23114e1003 ">
                                       <p>ENVY STD</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d23114e1061 d23114e1006 ">
                                       <p>3026.12</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d23114e1071" headers="d23114e999 ">
                                       <p>2001.07</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d23114e1071 d23114e1003 ">
                                       <p>ENVY ABM</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d23114e1071 d23114e1006 ">
                                       <p>2505.57</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d23114e1081" headers="d23114e999 ">
                                       <p>2001.07</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d23114e1081 d23114e1003 ">
                                       <p>ENVY EXE</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d23114e1081 d23114e1006 ">
                                       <p>3155.91</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d23114e1091" headers="d23114e999 ">
                                       <p>2001.07</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d23114e1091 d23114e1003 ">
                                       <p>ENVY STD</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d23114e1091 d23114e1006 ">
                                       <p>2892.18</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d23114e1101" headers="d23114e999 ">
                                       <p>2001.10</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d23114e1101 d23114e1003 ">
                                       <p>ENVY ABM</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d23114e1101 d23114e1006 ">
                                       <p>2337.30</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d23114e1111" headers="d23114e999 ">
                                       <p>2001.10</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d23114e1111 d23114e1003 ">
                                       <p>ENVY EXE</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d23114e1111 d23114e1006 ">
                                       <p>3105.53</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d23114e1122" headers="d23114e999 ">
                                       <p>2001.10</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d23114e1122 d23114e1003 ">
                                       <p>ENVY STD</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d23114e1122 d23114e1006 ">
                                       <p>2856.86</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>有关从<code class="codeph">ValueCursor</code>获取值的<code class="codeph">ValueCursor</code> ，请参阅<a href="retrieving-query-results.html#GUID-41769CCE-61BC-4A3C-8086-A4F6342458DA">检索查询结果</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OLAAP347"></a><div class="props_rev_3"><a id="GUID-4C648196-66AE-45D9-8482-DBEBE9705D23" name="GUID-4C648196-66AE-45D9-8482-DBEBE9705D23"></a><h4 id="OLAAP-GUID-4C648196-66AE-45D9-8482-DBEBE9705D23" class="sect4"><span class="enumeration_section">8.2.2</span>指定游标的行为</h4>
                  <div>
                     <p><a id="d23114e1175" class="indexterm-anchor"></a> <code class="codeph">CursorSpecification</code>对象指定其相应<code class="codeph">Cursor</code>对象的行为的某些方面。在创建相应的<code class="codeph">Cursor</code>之前，必须在<code class="codeph">CursorSpecification</code>上指定行为。要指定行为，请使用以下<code class="codeph">CursorSpecification</code>方法：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">setDefaultFetchSize</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">setExtentCalculationSpecified</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">setParentEndCalculationSpecified</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">setParentStartCalculationSpecified</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">specifyDefaultFetchSizeOnChildren</code> （仅适用于<code class="codeph">CompoundCursorSpecification</code> ）</p>
                        </li>
                     </ul>
                     <p><code class="codeph">CursorSpecification</code>还具有可用于发现是否指定了行为的方法。这些方法如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">isExtentCalculationSpecified</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">isParentEndCalculationSpecified</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">isParentStartCalculationSpecified</code></p>
                        </li>
                     </ul>
                     <p>如果您已使用<code class="codeph">CursorSpecification</code>方法设置默认提取大小，或计算值的父级中值的范围或起始位置或结束位置，则可以成功使用以下<code class="codeph">Cursor</code>方法：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">getExtent</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">getFetchSize</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">getParentEnd</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">getParentStart</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">的setFetchSize</code></p>
                        </li>
                     </ul>
                     <p>有关指定<code class="codeph">Cursor</code>行为的示例，请参阅<a href="retrieving-query-results.html#GUID-41769CCE-61BC-4A3C-8086-A4F6342458DA">检索查询结果</a> 。有关提取大小的信息，请参阅<span class="q">“ <a href="understanding-cursor-classes-and-concepts.html#GUID-CC91C2DF-4BA8-4B0A-8D26-1A0DEF7CAE7A">关于提取大小</a> ”</span> 。有关<code class="codeph">Cursor</code>范围的信息，请参阅<span class="q">“ <code class="codeph">Cursor</code> <span class="q"><a href="understanding-cursor-classes-and-concepts.html#GUID-68AD5FFC-4B6F-46CC-AB89-B5ACCBB52CF6">的范围是什么？</a>“</span> 。有关<code class="codeph">Cursor</code>当前值的父<code class="codeph">Cursor</code>中起始位置和结束位置的信息，请参阅<span class="q">“ <a href="understanding-cursor-classes-and-concepts.html#GUID-00A71BFE-C333-483E-9E87-F13ADE9C064B">关于</a></span> <code class="codeph">Cursor</code> <span class="q"><a href="understanding-cursor-classes-and-concepts.html#GUID-00A71BFE-C333-483E-9E87-F13ADE9C064B">中父级起始位置和结束位置</a> ”</span> 。
                     </p>
                  </div>
               </div>
            </div><a id="OLAAP348"></a><div class="props_rev_3"><a id="GUID-9BC50D01-62E1-4FB4-8520-42442F6F7218" name="GUID-9BC50D01-62E1-4FB4-8520-42442F6F7218"></a><h3 id="OLAAP-GUID-9BC50D01-62E1-4FB4-8520-42442F6F7218" class="sect3"><span class="enumeration_section">8.3</span> CursorInfoSpecification类</h3>
               <div>
                  <div class="section">
                     <p><a id="d23114e1342" class="indexterm-anchor"></a><a id="d23114e1344" class="indexterm-anchor"></a> <code class="codeph">CursorInfoSpecification</code>接口和子接口<code class="codeph">CompoundCursorInfoSpecification</code>和<code class="codeph">ValueCursorInfoSpecification</code> ，指定抽象<code class="codeph">CursorSpecification</code>类的方法以及具体的<code class="codeph">CompoundCursorSpecification</code>和<code class="codeph">ValueCursorSpecification</code>类。<code class="codeph">CursorSpecification</code>指定与其对应的<code class="codeph">Cursor</code>行为的某些方面。您可以直接或间接创建实现<code class="codeph">CursorInfoSpecification</code>接口的类的实例。
                     </p>
                     <p>您可以通过调用<code class="codeph">DataProvider</code>的<code class="codeph">createCursorInfoSpecification</code>方法为<code class="codeph">Source</code>创建<code class="codeph">CursorSpecification</code> 。该方法返回<code class="codeph">CompoundCursorSpecification</code>或<code class="codeph">ValueCursorSpecification</code> 。您可以使用<code class="codeph">CursorSpecification</code>的方法来指定<code class="codeph">Cursor</code>行为的各个方面。然后，您可以使用<code class="codeph">CursorSpecification</code>创建<code class="codeph">CursorManager</code>是将其作为<code class="codeph">cursorInfoSpec</code>参数传递给<code class="codeph">DataProvider</code>的<code class="codeph">createCursorManager</code>方法。
                     </p>
                     <p>使用<code class="codeph">CursorSpecification</code>方法，您可以执行以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>获取<code class="codeph">Source</code>对应于<code class="codeph">CursorSpecification</code> 。
                           </p>
                        </li>
                        <li>
                           <p>获取或设置相应<code class="codeph">Cursor</code>的默认提取大小。
                           </p>
                        </li>
                        <li>
                           <p>指定Oracle OLAP应计算<code class="codeph">Cursor</code>的范围。
                           </p>
                        </li>
                        <li>
                           <p>确定是否指定了计算范围。</p>
                        </li>
                        <li>
                           <p>指定Oracle OLAP应计算父<code class="codeph">Cursor</code>相应<code class="codeph">Cursor</code>的当前值的起始位置或结束位置。如果您知道父项中值的起始位置和结束位置，则可以确定父<code class="codeph">Cursor</code>对该值有多少更快的变化元素。
                           </p>
                        </li>
                        <li>
                           <p>确定是否指定计算父对应<code class="codeph">Cursor</code>的当前值的起始位置或结束位置。
                           </p>
                        </li>
                        <li>
                           <p>接受<code class="codeph">CursorSpecificationVisitor</code> 。
                           </p>
                        </li>
                     </ul>
                     <p>有关更多信息，请参阅<span class="q">“ <a href="understanding-cursor-classes-and-concepts.html#GUID-A698B1E8-65BC-4535-B14D-9365B1A0F8A3">关于光标位置和范围</a> ”</span>和<span class="q">“ <a href="understanding-cursor-classes-and-concepts.html#GUID-CC91C2DF-4BA8-4B0A-8D26-1A0DEF7CAE7A">关于获取大小</a> ”</span> 。
                     </p>
                     <p>在<code class="codeph">oracle.olapi.data.source</code>包中，Oracle OLAP Java API定义下表中描述的类。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-9BC50D01-62E1-4FB4-8520-42442F6F7218__GUID-12D03814-56C7-420B-97D6-A80CF71A2E5B">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table lists the CursorSpecification class hierarchy and gives brief descriptions of the interfaces." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="48%" id="d23114e1497">接口</th>
                              <th align="left" valign="bottom" width="52%" id="d23114e1500">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d23114e1505" headers="d23114e1497 ">
                                 <p><code class="codeph">CursorInfoSpecification</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d23114e1505 d23114e1500 ">
                                 <p>一个接口，指定<code class="codeph">CursorSpecification</code>对象的方法。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d23114e1516" headers="d23114e1497 ">
                                 <p><code class="codeph">CursorSpecification</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d23114e1516 d23114e1500 ">
                                 <p>一个实现<code class="codeph">CursorInfoSpecification</code>接口的某些方法的抽象类。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d23114e1527" headers="d23114e1497 ">
                                 <p><code class="codeph">CompoundCursorSpecification</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d23114e1527 d23114e1500 ">
                                 <p>具有一个或多个输出的<code class="codeph">Source</code>的<code class="codeph">CursorSpecification</code> 。<code class="codeph">CompoundCursorSpecification</code>具有组件子<code class="codeph">CursorSpecification</code>对象。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d23114e1547" headers="d23114e1497 ">
                                 <p><code class="codeph">CompoundInfoCursorSpecification</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d23114e1547 d23114e1500 ">
                                 <p>一个接口，指定<code class="codeph">CompoundCursorSpecification</code>对象的方法。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d23114e1558" headers="d23114e1497 ">
                                 <p><code class="codeph">ValueCursorSpecification</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d23114e1558 d23114e1500 ">
                                 <p>具有值且没有输出的<code class="codeph">Source</code>的<code class="codeph">CursorSpecification</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d23114e1572" headers="d23114e1497 ">
                                 <p><code class="codeph">ValueCursorInfoSpecification</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d23114e1572 d23114e1500 ">
                                 <p><code class="codeph">ValueCursorSpecification</code>对象的接口。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">Cursor</code>与<code class="codeph">CursorSpecification</code>具有相同的结构。每个<code class="codeph">ValueCursorSpecification</code>或<code class="codeph">CompoundCursorSpecification</code>都有一个对应的<code class="codeph">ValueCursor</code>或<code class="codeph">CompoundCursor</code> 。为了能够从<code class="codeph">Cursor</code>获取某些信息或行为，您的应用程序必须通过在创建<code class="codeph">Cursor</code>之前调用相应<code class="codeph">CursorSpecification</code>方法来指定它需要该信息或行为。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OLAAP349"></a><div class="props_rev_3"><a id="GUID-8B03C4BF-8A6E-4B59-8069-A6DD67AC89E2" name="GUID-8B03C4BF-8A6E-4B59-8069-A6DD67AC89E2"></a><h3 id="OLAAP-GUID-8B03C4BF-8A6E-4B59-8069-A6DD67AC89E2" class="sect3"><span class="enumeration_section">8.4</span> CursorManager类</h3>
               <div>
                  <p><a id="d23114e1648" class="indexterm-anchor"></a><a id="d23114e1650" class="indexterm-anchor"></a><a id="d23114e1654" class="indexterm-anchor"></a>使用<code class="codeph">CursorManager</code> ，您可以为<code class="codeph">Source</code>创建<code class="codeph">Cursor</code> 。由<code class="codeph">DataProvider</code>的<code class="codeph">createCursorManager</code>方法之一返回的类管理它创建的<code class="codeph">Cursor</code>对象的数据缓冲。
                  </p>
                  <p>您可以从同一<code class="codeph">CursorManager</code>创建多个<code class="codeph">Cursor</code> ，这对于以不同格式（如表格或图形）显示结果集的数据非常有用。<code class="codeph">CursorManager</code>创建的所有<code class="codeph">Cursor</code>对象都具有相同的规范，例如默认的提取大小。由于<code class="codeph">Cursor</code>对象具有相同的规范，因此它们可以共享<code class="codeph">CursorManager</code>管理的数据。
                  </p>
                  <p><a id="d23114e1698" class="indexterm-anchor"></a><a id="d23114e1700" class="indexterm-anchor"></a> <code class="codeph">SQLCursorManager</code>具有返回Oracle OLAP SQL生成器为<code class="codeph">Source</code>生成的SQL的方法。您可以通过调用<code class="codeph">DataProvider</code>的<code class="codeph">createSQLCursorManager</code>或<code class="codeph">createSQLCursorManagers</code>方法来创建一个或多个<code class="codeph">SQLCursorManager</code>对象。您不使用<code class="codeph">SQLCursorManager</code>来创建<code class="codeph">Cursor</code> 。相反，您使用<code class="codeph">SQLCursorManager</code>返回的SQL与OLAP Java API之外的类或其他方法来检索查询指定的数据。
                  </p>
               </div><a id="OLAAP350"></a><div class="props_rev_3"><a id="GUID-B50FE965-62C1-446A-926C-DC9CE4E98337" name="GUID-B50FE965-62C1-446A-926C-DC9CE4E98337"></a><h4 id="OLAAP-GUID-B50FE965-62C1-446A-926C-DC9CE4E98337" class="sect4"><span class="enumeration_section">8.4.1</span>更新CursorManager的CursorInfoSpecification</h4>
                  <div>
                     <p><a id="d23114e1766" class="indexterm-anchor"></a>如果您的应用程序使用OLAP的Java API <code class="codeph">Template</code>对象和的状态<code class="codeph">Template</code>在改变结构的方式改变<code class="codeph">Source</code>所生产<code class="codeph">Template</code> ，那么任何<code class="codeph">CursorInfoSpecification</code>为对象的<code class="codeph">Source</code>不再有效。您需要为更改的<code class="codeph">Source</code>创建新的<code class="codeph">CursorInfoSpecification</code>对象。
                     </p>
                     <p>创建新的<code class="codeph">CursorInfoSpecification</code> ，您可以为<code class="codeph">Source</code>创建一个新的<code class="codeph">CursorManager</code> 。但是，您不需要创建新的<code class="codeph">CursorManager</code> 。您可以调用现有<code class="codeph">CursorManager</code>的<code class="codeph">updateSpecification</code>方法，将先前的<code class="codeph">CursorInfoSpecification</code>替换为新的<code class="codeph">CursorInfoSpecification</code> 。然后，您可以从<code class="codeph">CursorManager</code>创建一个新的<code class="codeph">Cursor</code> 。
                     </p>
                  </div>
               </div>
            </div><a id="OLAAP351"></a><div class="props_rev_3"><a id="GUID-A698B1E8-65BC-4535-B14D-9365B1A0F8A3" name="GUID-A698B1E8-65BC-4535-B14D-9365B1A0F8A3"></a><h3 id="OLAAP-GUID-A698B1E8-65BC-4535-B14D-9365B1A0F8A3" class="sect3"><span class="enumeration_section">8.5</span>关于光标位置和范围</h3>
               <div>
                  <p><a id="d23114e1864" class="indexterm-anchor"></a><a id="d23114e1868" class="indexterm-anchor"></a><a id="d23114e1872" class="indexterm-anchor"></a><a id="d23114e1876" class="indexterm-anchor"></a> <code class="codeph">Cursor</code>有一个或多个位置。一个的<span>当前位置</span> <code class="codeph">Cursor</code>是当前处于激活的位置<code class="codeph">Cursor</code> 。要移动的当前位置<code class="codeph">Cursor</code>调用<code class="codeph">setPosition</code>或<code class="codeph">next</code>的方法<code class="codeph">Cursor</code> 。
                  </p>
                  <p>在您尝试对<code class="codeph">Cursor</code>进行操作之前，Oracle OLAP不会验证您在<code class="codeph">Cursor</code>上设置的位置，例如调用<code class="codeph">getCurrentValue</code>方法。如果将当前位置设置为负值或大于<code class="codeph">Cursor</code>中位置数的值，然后尝试<code class="codeph">Cursor</code>操作，则<code class="codeph">Cursor</code>将抛出<code class="codeph">PositionOutOfBoundsException</code> 。
                  </p>
                  <p><code class="codeph">Cursor</code> <span class="q"><a href="understanding-cursor-classes-and-concepts.html#GUID-68AD5FFC-4B6F-46CC-AB89-B5ACCBB52CF6">的范围</a>在<span class="q">“ <code class="codeph">Cursor</code>的范围是<span class="q"><a href="understanding-cursor-classes-and-concepts.html#GUID-68AD5FFC-4B6F-46CC-AB89-B5ACCBB52CF6">什么？</a>“</span> 。
                  </p>
               </div><a id="OLAAP352"></a><div class="props_rev_3"><a id="GUID-843B0389-A605-4425-A112-6D0050FE8BCD" name="GUID-843B0389-A605-4425-A112-6D0050FE8BCD"></a><h4 id="OLAAP-GUID-843B0389-A605-4425-A112-6D0050FE8BCD" class="sect4"><span class="enumeration_section">8.5.1</span> ValueCursor的位置</h4>
                  <div>
                     <p><a id="d23114e1973" class="indexterm-anchor"></a><a id="d23114e1977" class="indexterm-anchor"></a><a id="d23114e1981" class="indexterm-anchor"></a> <code class="codeph">ValueCursor</code>的当前位置指定您可以检索的值。例如， <code class="codeph">prodSel</code> ，派生<code class="codeph">Source</code> <span class="q">“</span>中所述<span class="q"><a href="understanding-cursor-classes-and-concepts.html#GUID-77D86CD5-9E36-458A-AB88-09CA392B97DE">游标的结构</a> ”，</span>是从主选择的三种产品<code class="codeph">Source</code> ，指定的产品和它们的分级分组的尺寸。<code class="codeph">ValueCursor</code>的<code class="codeph">prodSel</code>有三个元素。以下示例获取<code class="codeph">ValueCursor</code>的每个元素的位置，并显示该位置的值。
                     </p><pre class="oac_no_warn" dir="ltr">// prodSelValCursor是prodSel println的ValueCursor（“ValueCursor Position Value”）; println（“-------------------- ------------------------”）; do {println（“”+ prodSelValCursor.getPosition（）+“”+ prodSelValCursor.getCurrentValue（））; } while（prodSelValCursor.next（））;</pre><p>上面的示例显示以下内容：</p><pre class="oac_no_warn" dir="ltr">ValueCursor位置值-------------------- --------------------------- ---- 1 PRODUCT_PRIMARY :: ITEM :: ENVY ABM 2 PRODUCT_PRIMARY :: ITEM :: ENVY EXE 3 PRODUCT_PRIMARY :: ITEM :: ENVY STD</pre><p>以下示例将<code class="codeph">prodSelValCursor</code>的当前位置<code class="codeph">prodSelValCursor</code>为2并检索该位置的值。
                     </p><pre class="oac_no_warn" dir="ltr">prodSelValCursor.setPosition（2）;的println（prodSelValCursor.getCurrentString（））;</pre><p>上面的示例显示以下内容：</p><pre class="oac_no_warn" dir="ltr">PRODUCT_PRIMARY :: ITEM :: ENVY EXE</pre><p>有关获取<code class="codeph">ValueCursor</code>当前值的更多示例，请参阅<a href="retrieving-query-results.html#GUID-41769CCE-61BC-4A3C-8086-A4F6342458DA">检索查询结果</a> 。
                     </p>
                  </div>
               </div><a id="OLAAP354"></a><a id="OLAAP355"></a><a id="OLAAP356"></a><a id="OLAAP357"></a><a id="OLAAP353"></a><div class="props_rev_3"><a id="GUID-73BA5A68-F1BD-4B88-B7DF-EFB0814758EE" name="GUID-73BA5A68-F1BD-4B88-B7DF-EFB0814758EE"></a><h4 id="OLAAP-GUID-73BA5A68-F1BD-4B88-B7DF-EFB0814758EE" class="sect4"><span class="enumeration_section">8.5.2</span> CompoundCursor的位置</h4>
                  <div>
                     <p><a id="d23114e2079" class="indexterm-anchor"></a><a id="d23114e2083" class="indexterm-anchor"></a> <code class="codeph">CompoundCursor</code>对后代<code class="codeph">ValueCursor</code>对象的每组元素都有一个位置。<code class="codeph">CompoundCursor</code>的当前位置指定其中一个集合。
                     </p>
                     <p>例如，在<a href="understanding-cursor-classes-and-concepts.html#GUID-77D86CD5-9E36-458A-AB88-09CA392B97DE__CIHHEGAG">示例8-1中</a>创建的<code class="codeph">Source</code> <code class="codeph">querySource</code>具有度量<code class="codeph">unitPrice</code>值。这些值是不同时间的产品单位价格。<code class="codeph">querySource</code>的输出是<code class="codeph">Source</code>对象，表示来自时间维度的四个月值和来自产品维度的三个产品值的选择。
                     </p>
                     <p><a id="d23114e2118" class="indexterm-anchor"></a> <code class="codeph">querySource</code>的结果集为每个元组（每组输出值）都有一个度量值，因此值的总数为12（对于四个月中的每一个，三个产品中的每一个都有一个值）。因此， <code class="codeph">queryCursor</code> <code class="codeph">CompoundCursor</code>用于创建<code class="codeph">querySource</code>有12个位置。
                     </p>
                     <p><a id="d23114e2136" class="indexterm-anchor"></a> <code class="codeph">queryCursor</code>每个位置指定输出的一组位置和基本<code class="codeph">ValueCursor</code> 。例如， <code class="codeph">queryCursor</code>位置1为输出和基本<code class="codeph">ValueCursor</code>定义以下位置集：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>输出1的位置1（ <code class="codeph">ValueCursor</code>的<code class="codeph">timeSel</code> ）</p>
                        </li>
                        <li>
                           <p>输出2的位置1（ <code class="codeph">ValueCursor</code>的<code class="codeph">prodSel</code> ）</p>
                        </li>
                        <li>
                           <p>基部的位置1 <code class="codeph">ValueCursor</code>为<code class="codeph">queryCursor</code> （此位置具有从值<code class="codeph">unitPrice</code>由该输出的值指定的量度。）
                           </p>
                        </li>
                     </ul>
                     <div class="figure" id="GUID-73BA5A68-F1BD-4B88-B7DF-EFB0814758EE__I1006958">
                        <p class="titleinfigure">图8-2 queryCursor中的光标位置</p>
                        <p>此示例说明了<code class="codeph">queryCursor</code> <code class="codeph">CompoundCursor</code> ，基本<code class="codeph">ValueCursor</code>和输出的位置。
                        </p><img src="img/qrycrspo.gif" width="415" alt="下面是图8-2的描述" title="下面是图8-2的描述" longdesc="img_text/qrycrspo.html"><br><a href="img_text/qrycrspo.html">“图8-2 queryCursor中的光标位置”的说明</a></div>
                     <!-- class="figure" -->
                     <p><code class="codeph">ValueCursor</code>的<code class="codeph">queryCursor</code>只有一个位置，因为输出的任何一组值都只指定了<code class="codeph">unitPrice</code>一个值。对于诸如<code class="codeph">querySource</code>之<code class="codeph">ValueCursor</code>的查询， <code class="codeph">Cursor</code>的<code class="codeph">ValueCursor</code>只有一个值，因此根据<code class="codeph">CompoundCursor</code>任何一个位置一次只有一个位置。
                     </p>
                     <div class="figure" id="GUID-73BA5A68-F1BD-4B88-B7DF-EFB0814758EE__CIHGEHGB">
                        <p class="titleinfigure">图8-3 queryCursor的交叉表显示</p>
                        <p>该图说明了来自<code class="codeph">queryCursor</code>的数据的一种可能显示。它是一个带有四列五行的交叉表视图。左栏中是月份值。在第一行是产品值。在交叉表的每个交叉单元格中是该月的产品价格。
                        </p><img src="img/xtabvudp.gif" width="309" alt="下面是图8-3的描述" title="下面是图8-3的描述" longdesc="img_text/xtabvudp.html"><br><a href="img_text/xtabvudp.html">“图8-3 queryCursor的交叉表显示”的描述</a></div>
                     <!-- class="figure" -->
                     <p><code class="codeph">CompoundCursor</code>协调<code class="codeph">ValueCursor</code>对象相对于彼此的位置。<code class="codeph">CompoundCursor</code>的当前位置指定后代<code class="codeph">ValueCursor</code>对象的当前位置。
                     </p>
                     <div class="example" id="GUID-73BA5A68-F1BD-4B88-B7DF-EFB0814758EE__I1007689">
                        <p class="titleinexample">示例8-2设置CompoundCursor位置并获取当前值</p>
                        <p>此示例设置<code class="codeph">queryCursor</code>的位置，然后获取当前值和子<code class="codeph">Cursor</code>对象的位置。
                        </p><pre class="oac_no_warn" dir="ltr">CompoundCursor rootCursor =（CompoundCursor）queryCursor; ValueCursor baseValueCursor = rootCursor.getValueCursor（）; List outputs = rootCursor.getOutputs（）; ValueCursor output1 =（ValueCursor）outputs.get（0）; ValueCursor output2 =（ValueCursor）outputs.get（1）; int pos = 5; rootCursor.setPosition（POS）; println（“CompoundCursor position set to”+ pos +“。”）; println（“CompoundCursor的当前位置=”+ rootCursor.getPosition（）+“。”）; println（“Output 1 position =”+ output1.getPosition（）+“，value =”+ output1.getCurrentValue（））; println（“Output 2 position =”+ output2.getPosition（）+“，value =”+ output2.getCurrentValue（））; println（“VC position =”+ baseValueCursor.getPosition（）+“，value =”+ baseValueCursor.getCurrentValue（））;</pre><p>此示例显示以下内容：</p><pre class="oac_no_warn" dir="ltr">CompoundCursor位置设置为5。CompoundCursor的当前位置是5。输出1位置= 2，值= CALENDAR_YEAR :: MONTH :: 2001.04输出2位置= 2，值= PRODUCT_PRIMARY :: ITEM :: ENVY EXE VC位置= 1，值= 3107.65</pre><p><a id="d23114e2268" class="indexterm-anchor"></a> <code class="codeph">queryCursor</code>的位置是对称的，因为<code class="codeph">querySource</code>的结果集对于每个时间值总是有三个产品值。该<code class="codeph">ValueCursor</code>为<code class="codeph">prodSel</code> ，因此，总是对的每个值三个位置<code class="codeph">timeSel</code> <code class="codeph">ValueCursor</code> 。<code class="codeph">timeSel</code>输出<code class="codeph">ValueCursor</code>比<code class="codeph">prodSel</code> <code class="codeph">ValueCursor</code> 。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>然而，在非对称情况下， <code class="codeph">ValueCursor</code>的位置数量相对于较慢变化的输出并不总是相同。例如，如果2001.10月产品ENVY ABM的单位价格为空，因为该产品在该日期之前不再销售，并且如果在查询中抑制了空值，则<code class="codeph">queryCursor</code>将只有11个位置。该<code class="codeph">ValueCursor</code>为<code class="codeph">prodSel</code>只会有两个位置时的位置<code class="codeph">ValueCursor</code>为<code class="codeph">timeSel</code>为4。
                        </p>
                        <p><a id="d23114e2325" class="indexterm-anchor"></a> <a href="understanding-cursor-classes-and-concepts.html#GUID-73BA5A68-F1BD-4B88-B7DF-EFB0814758EE__I1007713">示例8-3</a>演示了通过基于度量值的比较选择一维的元素而产生的不对称结果集。该示例使用与<a href="understanding-cursor-classes-and-concepts.html#GUID-77D86CD5-9E36-458A-AB88-09CA392B97DE__CIHHEGAG">示例8-1中</a>相同的产品和时间选择。它使用<code class="codeph">Source</code>来衡量销售的产品单位， <code class="codeph">units</code> ，按产品，时间，销售渠道和客户维度确定尺寸。<code class="codeph">chanSel</code>和<code class="codeph">custSel</code>对象是维度的单个值的选择。该示例生成一个<code class="codeph">Source</code> ， <code class="codeph">querySource2</code> ，它指定哪个选定的产品为所选时间，渠道和客户值销售了多个单位。因为<code class="codeph">querySource2</code>是派生<code class="codeph">Source</code> ，本实施例提交当前<code class="codeph">Transaction</code> 。
                        </p>
                        <p>该示例创建一个<code class="codeph">Cursor</code>为<code class="codeph">querySource2</code> ，通过的位置循环<code class="codeph">CompoundCursor</code>时，获取位置和第一输出的电流值<code class="codeph">ValueCursor</code>和<code class="codeph">ValueCursor</code>所述的<code class="codeph">CompoundCursor</code> ，并且显示的位置和值<code class="codeph">ValueCursor</code>对象。<code class="codeph">getLocalValue</code>方法是程序中的一种方法，它从唯一值中提取本地值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-73BA5A68-F1BD-4B88-B7DF-EFB0814758EE__I1007713">
                        <p class="titleinexample">示例8-3非对称查询中的位置</p><pre class="oac_no_warn" dir="ltr">//创建查询prodSel.join（chanSel）.join（custSel）.join（timeSel）.select（units.gt（1））; //提交当前的交易。try {// DataProvider是dp。（dp.getTransactionProvider（））commitCurrentTransaction（）; } catch（Exception e）{output.println（“无法提交当前事务”+ e）; } //创建CursorManager和Cursor。
<a id="d23114e2392" class="indexterm-anchor"></a> CursorManager cursorManager = dp.createCursorManager（querySource2）; <a id="d23114e2397" class="indexterm-anchor"></a> Cursor queryCursor2 = cursorManager.createCursor（）; CompoundCursor rootCursor =（CompoundCursor）queryCursor2; ValueCursor baseValueCursor = rootCursor.getValueCursor（）; List outputs = rootCursor.getOutputs（）; ValueCursor output1 =（ValueCursor）outputs.get（0）; //获取位置和值并显示它们。println（“CompoundCursor输出ValueCursor ValueCursor”）; println（“position position | value position | value”）; do {println（sp6 + rootCursor.getPosition（）+ // sp6是6个空格sp13 + output1.getPosition（）+ // sp13是13个空格sp7 + getLocalValue（output1.getCurrentString（））+ // sp7是7个空格sp7 + baseValueCursor.getPosition（）+ sp7 + getLocalValue（baseValueCursor.getCurrentString（）））; } while（queryCursor2.next（））;</pre><p>该示例显示以下内容：</p><pre class="oac_no_warn" dir="ltr">CompoundCursor输出ValueCursor ValueCursor位置位置|价值位置|价值1 1 2001.01 1 ENVY ABM 2 1 2001.01 2 ENVY EXE 3 1 2001.01 3 ENVY STD 4 2 2001.04 1 ENVY ABM 5 3 2001.07 1 ENVY ABM 6 3 2001.07 2 ENVY EXE 7 4 2001.10 1 ENVY EXE 8 4 2001.10 2 ENVY STD</pre><p>因为并非产品和时间选择的每个组合对于指定的通道和客户选择都具有大于1的单位销售额， <code class="codeph">ValueCursor</code>对于从输出<code class="codeph">ValueCursor</code>每个值，从<code class="codeph">prodSel</code>派生的值的<code class="codeph">ValueCursor</code>的元素数量<code class="codeph">ValueCursor</code> 。对于时间值2001.01，所有三种产品的销售额均大于一，但对于时间价值2001.04，只有一种产品具有。另外两个时间值2001.07和2001.10有两个符合标准的产品。因此， <code class="codeph">CompoundCursor</code>的<code class="codeph">ValueCursor</code>在时间2001.01中有三个位置， <code class="codeph">ValueCursor</code>时间只有一个位置，2001.07和2001.10时间有两个位置。
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAAP358"></a><div class="props_rev_3"><a id="GUID-00A71BFE-C333-483E-9E87-F13ADE9C064B" name="GUID-00A71BFE-C333-483E-9E87-F13ADE9C064B"></a><h4 id="OLAAP-GUID-00A71BFE-C333-483E-9E87-F13ADE9C064B" class="sect4"><span class="enumeration_section">8.5.3</span>关于光标中的父开始和结束位置</h4>
                  <div>
                     <p><a id="d23114e2459" class="indexterm-anchor"></a><a id="d23114e2463" class="indexterm-anchor"></a>要有效地管理从<code class="codeph">CompoundCursor</code>获取的数据的显示，有时需要知道当前较慢变化的值存在多少更快的变化值。例如，假设您在交叉表中显示来自多维数据集边缘的一行值，那么您可能想知道要在该行的显示中绘制多少列。
                     </p>
                     <p>要确定子<code class="codeph">Cursor</code>的当前值存在多少更快的变化值，您可以在父<code class="codeph">Cursor</code>找到该当前值的起始位置和结束位置。从结束位置减去起始位置，然后加1，如下所示。
                     </p><pre class="oac_no_warn" dir="ltr">long span =（cursor.getParentEnd（） -  cursor.getParentStart（））+ 1;</pre><p><a id="d23114e2482" class="indexterm-anchor"></a><a id="d23114e2486" class="indexterm-anchor"></a>其结果是孩子的当前值的<span>跨度</span> <code class="codeph">Cursor</code>在父<code class="codeph">Cursor</code> ，如何变化最快的孩子的许多价值观，它告诉你<code class="codeph">Cursor</code>当前存在的价值。计算起始位置和结束位置的时间和计算资源成本很高，因此您应该只指定在应用程序需要信息时执行这些计算。
                     </p>
                     <p>Oracle OLAP Java API <code class="codeph">Cursor</code>使您的应用程序只能拥有当前显示的数据实际存在于客户端计算机上。有关指定<code class="codeph">Cursor</code>的数据量的信息，请参阅<span class="q">“ <a href="understanding-cursor-classes-and-concepts.html#GUID-CC91C2DF-4BA8-4B0A-8D26-1A0DEF7CAE7A">关于获取大小</a> ”</span> 。
                     </p>
                     <p>在客户端计算机上的数据，但是，你不能在什么父的位置确定<code class="codeph">Cursor</code>孩子的当前值<code class="codeph">Cursor</code>开始或结束。要获取该信息，请使用<code class="codeph">Cursor</code>的<code class="codeph">getParentStart</code>和<code class="codeph">getParentEnd</code>方法。
                     </p>
                     <p>要指定您希望Oracle OLAP计算父<code class="codeph">Cursor</code> <code class="codeph">CursorSpecification</code> <code class="codeph">Cursor</code>值的起始位置和结束位置，请调用与<code class="codeph">Cursor</code>对应的<code class="codeph">CursorSpecification</code>的<code class="codeph">setParentStartCalculationSpecified</code>和<code class="codeph">setParentEndCalculationSpecified</code>方法。你可以决定是否计算起点或终点的位置是通过调用指定<code class="codeph">isParentStartCalculationSpecified</code>或<code class="codeph">isParentEndCalculationSpecified</code>的方法<code class="codeph">CursorSpecification</code> 。有关指定这些计算的示例，请参阅<a href="retrieving-query-results.html#GUID-41769CCE-61BC-4A3C-8086-A4F6342458DA">检索查询结果</a> 。
                     </p>
                  </div>
               </div><a id="OLAAP359"></a><div class="props_rev_3"><a id="GUID-68AD5FFC-4B6F-46CC-AB89-B5ACCBB52CF6" name="GUID-68AD5FFC-4B6F-46CC-AB89-B5ACCBB52CF6"></a><h4 id="OLAAP-GUID-68AD5FFC-4B6F-46CC-AB89-B5ACCBB52CF6" class="sect4"><span class="enumeration_section">8.5.4</span>游标的范围是多少？
                  </h4>
                  <div>
                     <p><a id="d23114e2602" class="indexterm-anchor"></a><a id="d23114e2606" class="indexterm-anchor"></a><a id="d23114e2610" class="indexterm-anchor"></a> <code class="codeph">Cursor</code>的范围是它包含的元素相对于任何较慢变化输出的总数。
                     </p>
                     <p><a id="d23114e2619" class="indexterm-anchor"></a>范围是您可以使用的信息，例如，显示正确的列数或正确大小的滚动条。然而，计算的范围可能很昂贵。例如，表示多维数据集的<code class="codeph">Source</code>可能有四个输出。每个输出可能有数百个值。如果从结果集中消除了输出集的度量的所有空值和零值，则为了计算<code class="codeph">Source</code>的<code class="codeph">CompoundCursor</code>的范围，Oracle OLAP必须在创建<code class="codeph">CompoundCursor</code>之前遍历整个结果空间。如果未指定要计算范围，则Oracle OLAP仅需要遍历由<code class="codeph">Cursor</code>的提取大小和应用程序所需的多维数据集输出定义的元素集。
                     </p>
                     <p>要指定您希望Oracle OLAP计算<code class="codeph">Cursor</code>的范围，请调用与<code class="codeph">Cursor</code>对应的<code class="codeph">CursorSpecification</code>的<code class="codeph">setExtentCalculationSpecified</code>方法。就可以判断是否计算的程度是通过调用指定<code class="codeph">isExtentCalculationSpecified</code>所述的方法<code class="codeph">CursorSpecification</code> 。有关指定<code class="codeph">Cursor</code>范围计算的示例，请参阅<a href="retrieving-query-results.html#GUID-41769CCE-61BC-4A3C-8086-A4F6342458DA">检索查询结果</a> 。
                     </p>
                  </div>
               </div>
            </div><a id="OLAAP361"></a><a id="OLAAP360"></a><div class="props_rev_3"><a id="GUID-CC91C2DF-4BA8-4B0A-8D26-1A0DEF7CAE7A" name="GUID-CC91C2DF-4BA8-4B0A-8D26-1A0DEF7CAE7A"></a><h3 id="OLAAP-GUID-CC91C2DF-4BA8-4B0A-8D26-1A0DEF7CAE7A" class="sect3"><span class="enumeration_section">8.6</span>关于获取大小</h3>
               <div>
                  <p><a id="d23114e2705" class="indexterm-anchor"></a><a id="d23114e2709" class="indexterm-anchor"></a> OLAP Java API <code class="codeph">Cursor</code>表示<code class="codeph">Source</code>的整个结果集。但是， <code class="codeph">Cursor</code>是一个<span>虚拟</span> <code class="codeph">Cursor</code> ，因为它一次只从Oracle OLAP检索结果集的一部分。 <code class="codeph">CursorManager</code>管理虚拟<code class="codeph">Cursor</code>并在您的应用程序需要时从Oracle OLAP检索结果。通过管理虚拟<code class="codeph">Cursor</code> ， <code class="codeph">CursorManager</code>可以减轻您的应用程序的负担。
                  </p>
                  <p><a id="d23114e2743" class="indexterm-anchor"></a><a id="d23114e2747" class="indexterm-anchor"></a> <code class="codeph">Cursor</code>在单个提取操作中检索的数据量由为<code class="codeph">Cursor</code>指定的<span>提取大小</span>确定。您可以指定提取大小以限制应用程序在本地计算机上缓存所需的数据量，并通过自定义提取来最大限度地提高提取效率，以满足显示数据方法的需要。
                  </p>
                  <p>您还可以在构造查询时使用<code class="codeph">Parameter</code>和参数化的<code class="codeph">Source</code>对象来规范Oracle OLAP返回的元素数。有关<code class="codeph">Parameter</code>对象的详细信息，请参阅<a href="understanding-source-objects.html#GUID-871159BB-8ED1-454B-B9FA-62F36683F4B2">了解源对象</a> 。有关使用参数化<code class="codeph">Source</code>对象的示例，请参阅<a href="making-queries-using-source-methods.html#GUID-B5D5AF5D-330E-46D3-8BD7-E84B1373E6A7">使用源方法进行查询</a> 。
                  </p>
                  <p>为<code class="codeph">Source</code>创建<code class="codeph">CursorManager</code> ，Oracle OLAP在根<code class="codeph">CursorSpecification</code>上指定默认的提取大小。您可以使用根<code class="codeph">CursorSpecification</code>的<code class="codeph">setDefaultFetchSize</code>方法更改默认提取大小。
                  </p>
                  <p>您可以从同一<code class="codeph">CursorManager</code>创建两个或多个<code class="codeph">Cursor</code>对象，并同时使用两个<code class="codeph">Cursor</code>对象。<code class="codeph">Cursor</code>对象可以共享由<code class="codeph">CursorManager</code>管理的数据，而不是具有单独的数据高速缓存。
                  </p>
                  <p>一个示例是一个应用程序，它将查询结果作为表和图形显示给用户。应用程序为<code class="codeph">Source</code>创建<code class="codeph">CursorManager</code> 。应用程序从同一<code class="codeph">CursorManager</code>创建两个单独的<code class="codeph">Cursor</code>对象，一个用于表视图，另一个用于图表视图。这两个视图共享相同的查询并以不同的格式显示相同的数据。
                  </p>
                  <div class="figure" id="GUID-CC91C2DF-4BA8-4B0A-8D26-1A0DEF7CAE7A__I1007426">
                     <p class="titleinfigure">图8-4不同视图值的源和两个游标</p>
                     <p>此图说明了<code class="codeph">Source</code> ， <code class="codeph">Cursor</code>对象和视图之间的关系。
                     </p><img src="img/crsvlvus.gif" width="488" alt="下面是图8-4的描述" title="下面是图8-4的描述" longdesc="img_text/crsvlvus.html"><br><a href="img_text/crsvlvus.html">“图8-4不同视图值的源和两个游标”的描述</a></div>
                  <!-- class="figure" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01591.datatypes.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>XML C API的数据类型</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="XML C API Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="XML C API Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-c-api-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T06:29:15-08:00"></meta>
      <meta name="dcterms.title" content="XML C API Reference"></meta>
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96478-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="preface.html" title="Previous" type="text/html"></link>
      <link rel="next" href="package-callback-API.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CAXML"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="preface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="package-callback-API.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">XML C API参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">XML C API的数据类型</li>
            </ol>
            <a id="GUID-B899DABC-3687-489D-964F-92A868724B8D" name="GUID-B899DABC-3687-489D-964F-92A868724B8D"></a><a id="CAXML00100"></a>
            
            <h2 id="CAXML-GUID-B899DABC-3687-489D-964F-92A868724B8D" class="sect2"><span class="enumeration_chapter">1</span> XML C API的数据类型</h2>
         </header>
         <div class="ind">
            <div>
               <p>下表列出了所有C数据类型及其说明。</p>
               <div class="tblformal" id="GUID-B899DABC-3687-489D-964F-92A868724B8D__CIHBHFAD">
                  <p class="titleintable">表1-1 XML C实现的数据类型摘要</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="XML C实现的数据类型摘要" width="100%" border="1" summary="The first column lists the datatype, the second column provides a brief description" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="30%" id="d4542e38">数据类型</th>
                           <th align="left" valign="bottom" width="70%" id="d4542e41">目的</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e46" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-896B240F-F4AA-4959-A6ED-643D7629A285">oracheck</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e46 d4542e41 ">
                              <p>用于验证数据结构的校验码。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e55" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-A3F32F92-4E3B-4701-BE17-1C7433988BD2">oraerr</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e55 d4542e41 ">
                              <p>错误代码： <code class="codeph">0</code>表示成功，非<code class="codeph">0</code>表示失败。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e70" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-73E0D00D-B1B3-42CE-90E9-F090BCB1A5A7">oraprop_id</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e70 d4542e41 ">
                              <p>财产的身份;如果<code class="codeph">&gt;= 0</code>则有效，如果<code class="codeph">&lt; 0</code> ，则无效。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e85" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-42DD4AB7-0AEB-46C0-B398-700C84E3A619">oramemctx</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e85 d4542e41 ">
                              <p>不透明的内存上下文。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e94" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-CF1DE3C1-A7AC-4EE5-A386-A0BF0B4CEC9E">oraprop</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e94 d4542e41 ">
                              <p>物业名称。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e103" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-C09FD219-88A3-43EE-9E80-6BCAD4D136DB">oraprop_t</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e103 d4542e41 ">
                              <p>属性值类型。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e112" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-A116B87E-34ED-4EB0-9262-141A6396BEA4">oraprop_v</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e112 d4542e41 ">
                              <p>值：所有数据类型的存储联合。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e121" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-E165340D-045F-4909-B116-1D5D09917D5E">orastream</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e121 d4542e41 ">
                              <p>不透明的流对象。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e130" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-1C026C33-D50F-4595-9BFF-2053B2D1AFFB">orastreamhdl</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e130 d4542e41 ">
                              <p>存储文件句柄。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e139" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-5C77A401-60F1-4CE6-8347-1F3B0ECE7ACA">xmlcmphow</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e139 d4542e41 ">
                              <p>用于DOM范围比较的常量。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e148" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-1E11E0BC-398E-4F78-AC02-8D1D1E92065D">xmlctx</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e148 d4542e41 ">
                              <p>为XML会话中的所有文档共享上下文。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e158" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-69FED319-A92D-4545-B54E-E958A556CC78">xmldfsrct</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e158 d4542e41 ">
                              <p>指定<code class="codeph">XmlDiff</code>操作的输入类型</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e170" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-7A362398-6E0A-4B8C-8621-94430E8CBB71">xmlerr</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e170 d4542e41 ">
                              <p>许多函数返回的数字错误代码。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e179" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-E7250EF9-783A-474D-B27E-49C5593CC549">xmlevctx</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e179 d4542e41 ">
                              <p>XML事件上下文。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e188" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-D019F2E2-0C91-4E27-8145-7EFA3320E356">xmlhasht</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e188 d4542e41 ">
                              <p>XML树或子树的哈希值;也被称为摘要。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e197" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-9B361306-C567-469A-A98B-BF96498AC47C">xmlistream</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e197 d4542e41 ">
                              <p>通用用户定义的输入流。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e206" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-0C7AE1C9-1EB6-421F-B248-4B41C75351B1">xmliter</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e206 d4542e41 ">
                              <p>DOM2 <code class="codeph">NodeIterator</code>和<code class="codeph">TreeWalker</code>控制结构。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e221" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-9D747AD7-4CB4-4F17-89F2-548E575D6566">xmlnodetype</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e221 d4542e41 ">
                              <p>节点的数字类型代码。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e230" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-4ADA1C58-C398-4CFB-9981-1C8C6A901F92">xmlostream</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e230 d4542e41 ">
                              <p>通用用户定义的输出流。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e239" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-73530677-DA48-4D4C-9C2C-FF18696188DE">xmlpoint</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e239 d4542e41 ">
                              <p>XPointer点位置。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e248" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-8D4F1F84-AF74-46C2-B3B5-6E5BFCF35373">xmlrange</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e248 d4542e41 ">
                              <p>控制DOM2范围的结构。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e257" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-928AB26E-AD6D-4B66-BFCF-5EC9A8A9B025">xmlsoapbind</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e257 d4542e41 ">
                              <p>绑定SOAP连接。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e267" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-A6043A25-8D11-4BB0-8B50-90731DD0623E">xmlsoapcon</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e267 d4542e41 ">
                              <p>SOAP连接对象。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e276" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-91900176-A646-4B6C-8D82-9ADF4A3ABEE3">xmlsoapctx</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e276 d4542e41 ">
                              <p>SOAP操作的上下文。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e285" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-D5C51C12-3345-43F5-A2C1-46224650D46A">xmlsoaprole</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e285 d4542e41 ">
                              <p>SOAP节点的角色。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e294" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-F57E9360-9558-4310-BC2D-55D93819DFCE">xmlshowbits</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e294 d4542e41 ">
                              <p>位标志用于选择要显示的节点类型。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e303" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-651AB6E4-3BEA-44FA-9C16-58071A5F943C">xmlurlacc</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e303 d4542e41 ">
                              <p>这是用于从URL检索数据的已知访问方法的枚举。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e312" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-C79DD416-8EF1-4109-8C1D-BF4DBA5A18FD">xmlurlhdl</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e312 d4542e41 ">
                              <p>此联合包含访问URL数据所需的句柄，可以是流或<code class="codeph">stdio</code>指针，文件描述符等。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e324" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-3E147626-2197-47E6-856C-5DE87587A3BA">xmlurlpart</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e324 d4542e41 ">
                              <p>此结构包含URL的子部分。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e333" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-38292B99-CDBF-4816-9883-0E06D71AF8DA">xmlxptrloc</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e333 d4542e41 ">
                              <p>XPointer位置数据类型。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e342" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-4190C6DF-4160-4A2B-8B65-324CC0A02FB7">xmlxptrlocset</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e342 d4542e41 ">
                              <p>XPointer位置设置数据类型。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e351" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-60FFD1C2-D3EF-4744-BEBB-82A67BAA3A86">xmlxslobjtype</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e351 d4542e41 ">
                              <p>可以返回的XSLT对象的类型。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e360" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-A0A9C968-3AEB-481E-A6DF-D14B041E4E89">xmlxslomethod</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e360 d4542e41 ">
                              <p>XSLT处理器生成的输出类型。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e370" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-F2540266-BE11-4CD3-8A2E-F1CCE762D67D">xmlxvm</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e370 d4542e41 ">
                              <p><code class="codeph">xmlxvm</code>类型的对象用于XML文档转换。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e382" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-FB02C3D1-57D9-4F66-A2EC-3ED8AF8655C9">xmlxvmcomp</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e382 d4542e41 ">
                              <p><code class="codeph">xmlxvmcomp</code>类型的对象用于编译XSL样式表。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e394" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-CEE296D9-BF62-4FA8-8B53-B7F9CE4F117F">xmlxvmflags</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e394 d4542e41 ">
                              <p>XSLT编译器的控制标志。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e403" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-D75DEE4E-6A7E-48EE-BB51-EDD19344CEAE">xmlxvmobjtype</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e403 d4542e41 ">
                              <p>XSLTVM对象的类型。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e412" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-840481D7-0D24-478D-A56C-13B32000C187">xpctx</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e412 d4542e41 ">
                              <p>XPath顶级上下文。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e421" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-FFB5D3DF-6834-4049-9AF6-A7EEBC3C4A27">xpexpr</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e421 d4542e41 ">
                              <p>XPath表达式。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e430" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-35595C9E-E173-4C26-90EE-2C9493C7B842">xpobj</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e430 d4542e41 ">
                              <p>XPath对象。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e439" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-BD2344C2-2189-494F-A986-0AF8ECBE9148">xsdctx</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e439 d4542e41 ">
                              <p>XMLSchema验证器上下文。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e448" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-5D6D6D54-A845-47A1-986B-47B6595F6D8A">xslctx</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e448 d4542e41 ">
                              <p>XSL顶级上下文。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="30%" id="d4542e457" headers="d4542e38 ">
                              <p><a href="datatypes.html#GUID-CFD5D14D-12FB-4CD6-AEF9-A36A0019F8BC">xvmobj</a></p>
                           </td>
                           <td align="left" valign="top" width="70%" headers="d4542e457 d4542e41 ">
                              <p>XSLVM处理器运行时对象;内容是私有的，用户不得访问。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="CAXML5019"></a><a id="CAXML5018"></a><div class="props_rev_3"><a id="GUID-896B240F-F4AA-4959-A6ED-643D7629A285" name="GUID-896B240F-F4AA-4959-A6ED-643D7629A285"></a><h3 id="CAXML-GUID-896B240F-F4AA-4959-A6ED-643D7629A285" class="sect3">oracheck</h3>
               <div>
                  <div class="section">
                     <p>用于验证数据结构的校验码。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-896B240F-F4AA-4959-A6ED-643D7629A285__GUID-BC522697-B929-4F9C-B3BB-262EDE965085">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef ub4 oracheck;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5021"></a><a id="CAXML5020"></a><div class="props_rev_3"><a id="GUID-A3F32F92-4E3B-4701-BE17-1C7433988BD2" name="GUID-A3F32F92-4E3B-4701-BE17-1C7433988BD2"></a><h3 id="CAXML-GUID-A3F32F92-4E3B-4701-BE17-1C7433988BD2" class="sect3">oraerr</h3>
               <div>
                  <div class="section">
                     <p>错误代码： <code class="codeph">0</code>表示成功，非<code class="codeph">0</code>表示失败。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A3F32F92-4E3B-4701-BE17-1C7433988BD2__GUID-EE6AC46D-1C93-42B9-97CD-AA23F22E8BAA">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef ub4 oraerr;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5023"></a><a id="CAXML5022"></a><div class="props_rev_3"><a id="GUID-73E0D00D-B1B3-42CE-90E9-F090BCB1A5A7" name="GUID-73E0D00D-B1B3-42CE-90E9-F090BCB1A5A7"></a><h3 id="CAXML-GUID-73E0D00D-B1B3-42CE-90E9-F090BCB1A5A7" class="sect3">oraprop_id</h3>
               <div>
                  <div class="section">
                     <p>财产的身份;如果<code class="codeph">&gt;= 0</code>则有效，如果<code class="codeph">&lt; 0</code> ，则无效。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-73E0D00D-B1B3-42CE-90E9-F090BCB1A5A7__GUID-6F2850D9-CF74-40E5-BE57-580AA49480FF">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef sb2 oraprop_id;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5025"></a><a id="CAXML5024"></a><div class="props_rev_3"><a id="GUID-42DD4AB7-0AEB-46C0-B398-700C84E3A619" name="GUID-42DD4AB7-0AEB-46C0-B398-700C84E3A619"></a><h3 id="CAXML-GUID-42DD4AB7-0AEB-46C0-B398-700C84E3A619" class="sect3">oramemctx</h3>
               <div>
                  <div class="section">
                     <p>不透明的内存上下文。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-42DD4AB7-0AEB-46C0-B398-700C84E3A619__GUID-17240E8B-F4F5-4DD4-961B-9B86F030CB70">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef struct oramemctx oramemctx;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5027"></a><a id="CAXML5026"></a><div class="props_rev_3"><a id="GUID-CF1DE3C1-A7AC-4EE5-A386-A0BF0B4CEC9E" name="GUID-CF1DE3C1-A7AC-4EE5-A386-A0BF0B4CEC9E"></a><h3 id="CAXML-GUID-CF1DE3C1-A7AC-4EE5-A386-A0BF0B4CEC9E" class="sect3">oraprop</h3>
               <div>
                  <div class="section">
                     <p>物业名称。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CF1DE3C1-A7AC-4EE5-A386-A0BF0B4CEC9E__GUID-2E8FF241-AFAD-49D2-9806-A9DE9506D822">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef struct oraprop {oratext * name_oraprop; oraprop_id id_oraprop; oraprop_t type_oraprop; oraprop_v value_oraprop; oraprop;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5029"></a><a id="CAXML5028"></a><div class="props_rev_3"><a id="GUID-C09FD219-88A3-43EE-9E80-6BCAD4D136DB" name="GUID-C09FD219-88A3-43EE-9E80-6BCAD4D136DB"></a><h3 id="CAXML-GUID-C09FD219-88A3-43EE-9E80-6BCAD4D136DB" class="sect3">oraprop_t</h3>
               <div>
                  <div class="section">
                     <p>属性值类型。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C09FD219-88A3-43EE-9E80-6BCAD4D136DB__GUID-B1F2E319-9A0B-4413-AA64-44DABCFFFC36">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef enum {ORAPROP_TYPE_BOOLEAN，ORAPROP_TYPE_SIGNED，ORAPROP_TYPE_UNSIGNED，ORAPROP_TYPE_POINTER} oraprop_t;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5031"></a><a id="CAXML5030"></a><div class="props_rev_3"><a id="GUID-A116B87E-34ED-4EB0-9262-141A6396BEA4" name="GUID-A116B87E-34ED-4EB0-9262-141A6396BEA4"></a><h3 id="CAXML-GUID-A116B87E-34ED-4EB0-9262-141A6396BEA4" class="sect3">oraprop_v</h3>
               <div>
                  <div class="section">
                     <p>值：所有数据类型的存储联合。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A116B87E-34ED-4EB0-9262-141A6396BEA4__GUID-68019AAA-4275-49B4-B6D1-8118557377B9">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef union oraprop_v {boolean b_oraprop_v; sb4 s_oraprop_v; ub4 u_oraprop_v; void * p_oraprop_v; } oraprop_v;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5033"></a><a id="CAXML5032"></a><div class="props_rev_3"><a id="GUID-E165340D-045F-4909-B116-1D5D09917D5E" name="GUID-E165340D-045F-4909-B116-1D5D09917D5E"></a><h3 id="CAXML-GUID-E165340D-045F-4909-B116-1D5D09917D5E" class="sect3">orastream</h3>
               <div>
                  <div class="section">
                     <p>不透明的流对象。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E165340D-045F-4909-B116-1D5D09917D5E__GUID-7695C0FC-4696-4170-872E-20082B52C37B">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef struct orastream orastream;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5035"></a><a id="CAXML5034"></a><div class="props_rev_3"><a id="GUID-1C026C33-D50F-4595-9BFF-2053B2D1AFFB" name="GUID-1C026C33-D50F-4595-9BFF-2053B2D1AFFB"></a><h3 id="CAXML-GUID-1C026C33-D50F-4595-9BFF-2053B2D1AFFB" class="sect3">orastreamhdl</h3>
               <div>
                  <div class="section">
                     <p>存储文件句柄。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1C026C33-D50F-4595-9BFF-2053B2D1AFFB__GUID-04401EE3-A6A9-4D9A-A959-BDCF35BF3B07">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef union orastreamhdl {void * ptr_orastreamhdl; / *泛型指针流/文件/ etc * / struct {sb4 fd_orastreamhdl; / *文件描述符[FTP需要全部3个！]* / sb4 fd2_orastreamhdl; sb4 fd3_orastreamhdl; } fds_lpihdl; } orastreamhdl;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5037"></a><a id="CAXML5036"></a><div class="props_rev_3"><a id="GUID-5C77A401-60F1-4CE6-8347-1F3B0ECE7ACA" name="GUID-5C77A401-60F1-4CE6-8347-1F3B0ECE7ACA"></a><h3 id="CAXML-GUID-5C77A401-60F1-4CE6-8347-1F3B0ECE7ACA" class="sect3">xmlcmphow</h3>
               <div>
                  <div class="section">
                     <p>用于DOM范围比较的常量。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5C77A401-60F1-4CE6-8347-1F3B0ECE7ACA__GUID-44D2554B-5609-40E3-830C-E7C90A9BD874">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef enum {XMLDOM_START_TO_START，XMLDOM_START_TO_END，XMLDOM_END_TO_END，XMLDOM_END_TO_START} xmlcmphow;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5039"></a><a id="CAXML5038"></a><div class="props_rev_3"><a id="GUID-1E11E0BC-398E-4F78-AC02-8D1D1E92065D" name="GUID-1E11E0BC-398E-4F78-AC02-8D1D1E92065D"></a><h3 id="CAXML-GUID-1E11E0BC-398E-4F78-AC02-8D1D1E92065D" class="sect3">xmlctx</h3>
               <div>
                  <div class="section">
                     <p>为XML会话中的所有文档共享上下文。包含编码信息，低级内存分配函数指针，错误消息语言或编码以及可选的处理函数等。需要加载（解析）文档和创建DOM，生成SAX等。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1E11E0BC-398E-4F78-AC02-8D1D1E92065D__GUID-FD1B22AA-58E2-4C19-8D64-BB0DFE4A0C22">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">struct xmlctx; typedef struct xmlctx xmlctx;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5041"></a><a id="CAXML5040"></a><div class="props_rev_3"><a id="GUID-09C30B8A-75E3-4393-970A-CC74B5ACCCBF" name="GUID-09C30B8A-75E3-4393-970A-CC74B5ACCCBF"></a><h3 id="CAXML-GUID-09C30B8A-75E3-4393-970A-CC74B5ACCCBF" class="sect3">xmldfoptype</h3>
               <div>
                  <div class="section">
                     <p>操作类型，表示一个或多个操作。用于将<code class="codeph">diff</code>传递给<a href="package-XmlDiff-API.html#GUID-7D3A370A-FE70-4D5F-B020-B3D0BFE3F4CC">XmlDiff（）</a> <a href="package-XmlDiff-API.html#GUID-7D3A370A-FE70-4D5F-B020-B3D0BFE3F4CC">XmlDiff（）中</a>的自定义操作构建器（OB <a href="package-XmlDiff-API.html#GUID-7D3A370A-FE70-4D5F-B020-B3D0BFE3F4CC">）</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-09C30B8A-75E3-4393-970A-CC74B5ACCCBF__GUID-488F8499-1DBE-4341-8D6E-FF51133B9563">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef enum {XMLDF_OP_NONE，/ *不应将XMLDF_NUM_OP宏设置为非零* / XMLDF_OP_UPDATE，XMLDF_OP_RENAME，XMLDF_OP_DELETE，XMLDF_OP_INSERT_BEFORE，XMLDF_OP_APPEND} xmldfoptype;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5043"></a><a id="CAXML5042"></a><div class="props_rev_3"><a id="GUID-69FED319-A92D-4545-B54E-E958A556CC78" name="GUID-69FED319-A92D-4545-B54E-E958A556CC78"></a><h3 id="CAXML-GUID-69FED319-A92D-4545-B54E-E958A556CC78" class="sect3">xmldfsrct</h3>
               <div>
                  <div class="section">
                     <p>指定<code class="codeph">XmlDiff</code>操作的输入类型。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-69FED319-A92D-4545-B54E-E958A556CC78__GUID-FAA7C9EC-54BA-49EB-8B00-E8D5D36D3E9A">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef enum {XMLDF_SRCT_NONE，/ *默认为DOM * / XMLDF_SRCT_DOM，/ * DOM：必须指定doc节点* / XMLDF_SRCT_FILE，/ *必须指定文件名* / XMLDF_SRCT_URL，/ *编译器编码中的URL * / XMLDF_SRCT_BUFFER，/ * buffer：缓冲区指针和长度必须指定* / XMLDF_SRCT_FILEP，/ * FILE * / XMLDF_SRCT_OSTREAM，/ * orastream：必须指定流指针* / XMLDF_SRCT_DOMNODE / * DOM节点，与XmlHash（）* /} xmldfsrct一起使用;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5045"></a><a id="CAXML5044"></a><div class="props_rev_3"><a id="GUID-7A362398-6E0A-4B8C-8621-94430E8CBB71" name="GUID-7A362398-6E0A-4B8C-8621-94430E8CBB71"></a><h3 id="CAXML-GUID-7A362398-6E0A-4B8C-8621-94430E8CBB71" class="sect3">xmlerr</h3>
               <div>
                  <div class="section">
                     <p>许多函数返回的数字错误代码。零值表示成功;非零值表示错误。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7A362398-6E0A-4B8C-8621-94430E8CBB71__GUID-60325FEA-086B-4E08-813B-D1DE3610B143">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef enum {XMLERR_OK，/ *成功返回* / XMLERR_NULL_PTR，/ * NULL指针* / XMLERR_NO_MEMORY，/ *内存不足* / XMLERR_HASH_DUP，/ *哈希表中的重复条目* / XMLERR_INTERNAL，/ *内部错误* / XMLERR_BUFFER_OVERFLOW，/ * name / quoted string too too * / XMLERR_BAD_CHILD，/ * parent * / XMLERR_EOI的无效子，/ *意外的EndOfInformation * / XMLERR_BAD_MEMCB，/ *无效的内存回调* / XMLERR_UNICODE_ALIGN，/ * Unicode数据错位* / XMLERR_NODE_TYPE，/ *错误节点类型* / XMLERR_UNCLEAN，/ *上下文不干净* / XMLERR_NESTED_STRINGS，/ * internal：嵌套打开str * / XMLERR_PROP_NOT_FOUND，找不到/ *属性* / XMLERR_SAVE_OVERFLOW，/ *保存输出溢出* / XMLERR_NOT_IMP，/ *功能未实现* / XMLERR_NLS_MISMATCH，/ *指定lxglo / lxd或者* / XMLERR_NLS_INIT，/ * NLS初始化时出现错误* / XMLERR_LEH_INIT，LEH初始化时出现错误* / XMLERR_LML_IN在LML初始化时出现错误/ * *错误在LPU初始化时出现错误* / XMLERR_LPU_INIT / *错误* /} xmlerr;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5047"></a><a id="CAXML5046"></a><div class="props_rev_3"><a id="GUID-E7250EF9-783A-474D-B27E-49C5593CC549" name="GUID-E7250EF9-783A-474D-B27E-49C5593CC549"></a><h3 id="CAXML-GUID-E7250EF9-783A-474D-B27E-49C5593CC549" class="sect3">xmlevctx</h3>
               <div>
                  <div class="section">
                     <p>XML事件上下文。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E7250EF9-783A-474D-B27E-49C5593CC549__GUID-3FA91162-4B1B-4BBC-B983-25BD0B71FB3C">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef struct {void * ctx_xmlevctx; / *实现特定上下文* / xmlevdisp disp_xmlevctx; / * dispatch table * / ub4 checkword_xmlevctx; / * checkword for integrity check * / ub4 flags_xmlevctx; / *模式;默认值：expand_entity * / struct xmlevctx; / *输入xmlevctx;链接XML事件上下文* /} xmlevctx;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5049"></a><a id="CAXML5048"></a><div class="props_rev_3"><a id="GUID-7A81095B-5FF3-449D-8D64-35D8A43095B4" name="GUID-7A81095B-5FF3-449D-8D64-35D8A43095B4"></a><h3 id="CAXML-GUID-7A81095B-5FF3-449D-8D64-35D8A43095B4" class="sect3">xmlevtype</h3>
               <div>
                  <div class="section">
                     <p>解析器拉事件的事件类型。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7A81095B-5FF3-449D-8D64-35D8A43095B4__GUID-52F32AF2-1E6A-412C-AEDB-DDE3F1F861AC">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef enum xmlevtype {XML_EVENT_FATAL_ERROR，/ *致命错误* / XML_EVENT_BEFORE_START，/ *开始文档之前* / XML_EVENT_START_DOCUMENT，/ *表示开始文档* / XML_EVENT_START_DTD，/ *启动DTD * / XML_EVENT_END_DTD，/ *结束DTD * / XML_EVENT_NOTATION_DECLARATION，/ *符号Decl * / XML_EVENT_PE_DECLARATION，/ * PE Decl * / XML_EVENT_UE_DECLARATION，/ * US Decl * / XML_EVENT_ELEMENT_DECLARATION，/ * Element Decl * / XML_EVENT_ATTLIST_DECLARATION，/ * Attribute Decl * / XML_EVENT_START_ELEMENT，/ * Start Element * / XML_EVENT_END_ELEMENT，/ * End Element * / XML_EVENT_CHARACTERS，/ *字符（文本）* / XML_EVENT_CHARACTERS_CONT，/ *字符续* / XML_EVENT_PI，/ *处理指令* / XML_EVENT_PI_CONT，/ *处理指令续* / XML_EVENT_COMMENT，/ *注释* / XML_EVENT_COMMENT_CONT，/ *注释续* / XML_EVENT_SPACE，/ *空格* / XML_EVENT_SPACE_CONT，/ *空格连续* / XML_E VENT_ENTITY_REFERENCE，/ *实体参考* / XML_EVENT_CDATA，/ * CDATA * / XML_EVENT_CDATA_CONT，/ * CDATA续* / XML_EVENT_START_ENTITY，/ * Start Entity * / XML_EVENT_END_ENTITY，/ * End Entity * / XML_EVENT_END_DOCUMENT，/ * End Document * / XML_EVENT_ERROR / *错误* /} xmlevtype;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5051"></a><a id="CAXML5050"></a><div class="props_rev_3"><a id="GUID-D019F2E2-0C91-4E27-8145-7EFA3320E356" name="GUID-D019F2E2-0C91-4E27-8145-7EFA3320E356"></a><h3 id="CAXML-GUID-D019F2E2-0C91-4E27-8145-7EFA3320E356" class="sect3">xmlhasht</h3>
               <div>
                  <div class="section">
                     <p>XML树或子树的哈希值;也被称为摘要。</p>
                     <p>如果两个XML树的哈希值相等，那么树被认为是相等的，概率非常高;使用MD5算法。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D019F2E2-0C91-4E27-8145-7EFA3320E356__GUID-56E9406B-9F24-4BFB-9243-978DA0A9E544">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">struct xmlhasht {ub4 l_xmlhasht; / * lenght of digest in bytes * / ub1 d_xmlhasht [XMLDF_DIGEST_MAX]; / *摘要* /}; typedef struct xmlhasht xmlhasht;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5053"></a><a id="CAXML5052"></a><div class="props_rev_3"><a id="GUID-9B361306-C567-469A-A98B-BF96498AC47C" name="GUID-9B361306-C567-469A-A98B-BF96498AC47C"></a><h3 id="CAXML-GUID-9B361306-C567-469A-A98B-BF96498AC47C" class="sect3">xmlistream</h3>
               <div>
                  <div class="section">
                     <p>通用用户定义的输入流。三个函数指针是必需的（但可能是存根）。上下文指针完全由用户定义;将其指向管理流所需的任何状态信息;它将作为第一个参数传递给用户函数。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B361306-C567-469A-A98B-BF96498AC47C__GUID-71529D2C-25B6-46F4-A41F-2AFC72E5A782">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef struct xmlistream {XML_STREAM_OPEN_F（（* open_xmlistream），xctx，sctx，path，parts，length）; XML_STREAM_READ_F（（* read_xmlistream），xctx，sctx，path，dest，size，nraw，eoi）; XML_STREAM_CLOSE_F（（* close_xmlistream），xctx，sctx）; void * ctx_xmlistream; / * user的流上下文* /} xmlistream;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5055"></a><a id="CAXML5054"></a><div class="props_rev_3"><a id="GUID-0C7AE1C9-1EB6-421F-B248-4B41C75351B1" name="GUID-0C7AE1C9-1EB6-421F-B248-4B41C75351B1"></a><h3 id="CAXML-GUID-0C7AE1C9-1EB6-421F-B248-4B41C75351B1" class="sect3">xmliter</h3>
               <div>
                  <div class="section">
                     <p>DOM 2 <code class="codeph">NodeIterator</code>和<code class="codeph">TreeWalker</code>控制结构。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0C7AE1C9-1EB6-421F-B248-4B41C75351B1__GUID-9BFF2D79-850D-430B-A9E8-CA8007C0CA58">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">struct xmliter {xmlnode * root_xmliter; / *迭代空间的根节点* / xmlnode * cur_xmliter; / *当前位置迭代器ref节点* / ub4 show_xmliter; / * node filter mask * / void * filt_xmliter; / * node filter function * / boolean attach_xmliter; / *是迭代器有效吗？* / boolean expan_xmliter; / *外部实体是否扩展？* / boolean before_xmliter; / *在ref节点之前的位置？* /}; typedef struct xmliter xmliter; typedef struct xmliter xmlwalk;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5057"></a><a id="CAXML5056"></a><div class="props_rev_3"><a id="GUID-9D747AD7-4CB4-4F17-89F2-548E575D6566" name="GUID-9D747AD7-4CB4-4F17-89F2-548E575D6566"></a><h3 id="CAXML-GUID-9D747AD7-4CB4-4F17-89F2-548E575D6566" class="sect3">xmlnodetype</h3>
               <div>
                  <div class="section">
                     <p>节点的数字类型代码。 <code class="codeph">0</code>表示无效，1-13是DOM 1.0的标准编号，更高的编号仅供内部使用。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9D747AD7-4CB4-4F17-89F2-548E575D6566__GUID-C1657589-257B-4671-9FBB-7E473BFF3AA6">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef enum {XMLDOM_NONE，/ * bogus node * / XMLDOM_ELEM，/ * element * / XMLDOM_ATTR，/ * attribute * / XMLDOM_TEXT，/ * char数据未被CDATA * / XMLDOM_CDATA转义，/ * char数据被CDATA * / XMLDOM_ENTREF转义， / *实体引用* / XMLDOM_ENTITY，/ * entity * / XMLDOM_PI，/ * &lt;？处理说明？&gt; * / XMLDOM_COMMENT，/ * &lt;！ -  Comments  - &gt; * / XMLDOM_DOC，/ * Document * / XMLDOM_DTD，/ * DTD * / XMLDOM_FRAG，/ * Document fragment * / XMLDOM_NOTATION，/ * notation * / / * Oracle扩展从这里开始* / XMLDOM_ELEMDECL，/ * DTD元素声明* / XMLDOM_ATTRDECL，/ * DTD属性声明* / / *内容粒子（元素内容模型中的节点）* / XMLDOM_CPELEM，/ * element * / XMLDOM_CPCHOICE，/ * choice（a | b）* / XMLDOM_CPSEQ，/ * sequence（a，b）* / XMLDOM_CPPCDATA，/ * #PCDATA * / XMLDOM_CPSTAR，/ *'*'（零或更多）* / XMLDOM_CPPLUS，/ *'+'（一个或多个） ）* / XMLDOM_CPOPT，/ *'？'（可选）* / XMLDOM_CPEND / *结束标记* /} xmlnodetype;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5059"></a><a id="CAXML5058"></a><div class="props_rev_3"><a id="GUID-4ADA1C58-C398-4CFB-9981-1C8C6A901F92" name="GUID-4ADA1C58-C398-4CFB-9981-1C8C6A901F92"></a><h3 id="CAXML-GUID-4ADA1C58-C398-4CFB-9981-1C8C6A901F92" class="sect3">xmlostream</h3>
               <div>
                  <div class="section">
                     <p>通用用户定义的输出流。三个函数指针是必需的（但可能是存根）。上下文指针完全由用户定义;将其指向管理流所需的任何状态信息;它将作为第一个参数传递给用户函数。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4ADA1C58-C398-4CFB-9981-1C8C6A901F92__GUID-FE902E5F-B77D-4A2F-A376-0008162A3E0C">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef struct xmlostream {XML_STREAM_OPEN_F（（* open_xmlostream），xctx，sctx，path，parts，length）; XML_STREAM_WRITE_F（（* write_xmlostream），xctx，sctx，path，src，size）; XML_STREAM_CLOSE_F（（* close_xmlostream），xctx，sctx）; void * ctx_xmlostream; / * user的流上下文* /} xmlostream;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5061"></a><a id="CAXML5060"></a><div class="props_rev_3"><a id="GUID-73530677-DA48-4D4C-9C2C-FF18696188DE" name="GUID-73530677-DA48-4D4C-9C2C-FF18696188DE"></a><h3 id="CAXML-GUID-73530677-DA48-4D4C-9C2C-FF18696188DE" class="sect3">xmlpoint</h3>
               <div>
                  <div class="section">
                     <p>XPointer点位置。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-73530677-DA48-4D4C-9C2C-FF18696188DE__GUID-1E8146F6-92F7-42D9-958F-095E76D4160A">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef struct xmlpoint xmlpoint;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5063"></a><a id="CAXML5062"></a><div class="props_rev_3"><a id="GUID-8D4F1F84-AF74-46C2-B3B5-6E5BFCF35373" name="GUID-8D4F1F84-AF74-46C2-B3B5-6E5BFCF35373"></a><h3 id="CAXML-GUID-8D4F1F84-AF74-46C2-B3B5-6E5BFCF35373" class="sect3">xmlrange</h3>
               <div>
                  <div class="section">
                     <p>DOM 2 Range的控制结构。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8D4F1F84-AF74-46C2-B3B5-6E5BFCF35373__GUID-EEB000FC-F8A2-42F2-9D02-49A79A9142D4">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef struct xmlrange {xmlnode * startnode_xmlrange; / *起点容器* / ub4 startofst_xmlrange; / *起始点索引* / xmlnode * endnode_xmlrange; / * end point container * / ub4 endofst_xmlrange; / * end point index * / xmlnode * doc_xmlrange; / * document node * / xmlnode * root_xmlrange; / *范围的根节点* / boolean collapsed_xmlrange; / *范围是否已折叠？* / boolean detached_xmlrange; / *范围无效，无效？* /} xmlrange;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5065"></a><a id="CAXML5064"></a><div class="props_rev_3"><a id="GUID-928AB26E-AD6D-4B66-BFCF-5EC9A8A9B025" name="GUID-928AB26E-AD6D-4B66-BFCF-5EC9A8A9B025"></a><h3 id="CAXML-GUID-928AB26E-AD6D-4B66-BFCF-5EC9A8A9B025" class="sect3">xmlsoapbind</h3>
               <div>
                  <div class="section">
                     <p>绑定SOAP连接。SOAP没有规定用于传递消息的绑定（传输）;然而，HTTP协议是明确定义的，目前是唯一的选择。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-928AB26E-AD6D-4B66-BFCF-5EC9A8A9B025__GUID-C5AE8BC4-EF6D-4241-B90B-F3CE181F3E29">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef enum xmlsoapbind {XMLSOAP_BIND_NONE，/ * none * / XMLSOAP_BIND_HTTP / * HTTP * /} xmlsoapbind;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5067"></a><a id="CAXML5066"></a><div class="props_rev_3"><a id="GUID-A6043A25-8D11-4BB0-8B50-90731DD0623E" name="GUID-A6043A25-8D11-4BB0-8B50-90731DD0623E"></a><h3 id="CAXML-GUID-A6043A25-8D11-4BB0-8B50-90731DD0623E" class="sect3">xmlsoapcon</h3>
               <div>
                  <div class="section">
                     <p>SOAP连接对象。每个不同的连接都需要此类型的实例，其中包含绑定和端点信息。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A6043A25-8D11-4BB0-8B50-90731DD0623E__GUID-D19654D3-9F65-4508-94CD-0EEDF7CC614F">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef struct xmlsoapcon xmlsoapcon;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5069"></a><a id="CAXML5068"></a><div class="props_rev_3"><a id="GUID-91900176-A646-4B6C-8D82-9ADF4A3ABEE3" name="GUID-91900176-A646-4B6C-8D82-9ADF4A3ABEE3"></a><h3 id="CAXML-GUID-91900176-A646-4B6C-8D82-9ADF4A3ABEE3" class="sect3">xmlsoapctx</h3>
               <div>
                  <div class="section">
                     <p>SOAP操作的上下文。只需要一个上下文，它可以由多个SOAP消息共享。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-91900176-A646-4B6C-8D82-9ADF4A3ABEE3__GUID-488C3981-B38D-4491-83E4-750076ED23A6">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef struct xmlsoapctx xmlsoapctx;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5071"></a><a id="CAXML5070"></a><div class="props_rev_3"><a id="GUID-D5C51C12-3345-43F5-A2C1-46224650D46A" name="GUID-D5C51C12-3345-43F5-A2C1-46224650D46A"></a><h3 id="CAXML-GUID-D5C51C12-3345-43F5-A2C1-46224650D46A" class="sect3">xmlsoaprole</h3>
               <div>
                  <div class="section">
                     <p>SOAP节点的角色。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D5C51C12-3345-43F5-A2C1-46224650D46A__GUID-9B6029B1-E323-4517-864B-CF2F5D4B85AA">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef enum xmlsoaprole {XMLSOAP_ROLE_UNSET，/ *未指定* / XMLSOAP_ROLE_NONE，/ *“none”* / XMLSOAP_ROLE_NEXT，/ *“next”* / XMLSOAP_ROLE_ULT，/ *“ultimateReceiver”* / XMLSOAP_ROLE_OTHER / * other  -  user defined * /} xmlsoaprole ;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5073"></a><a id="CAXML5072"></a><div class="props_rev_3"><a id="GUID-F57E9360-9558-4310-BC2D-55D93819DFCE" name="GUID-F57E9360-9558-4310-BC2D-55D93819DFCE"></a><h3 id="CAXML-GUID-F57E9360-9558-4310-BC2D-55D93819DFCE" class="sect3">xmlshowbits</h3>
               <div>
                  <div class="section">
                     <p>位标志用于选择要显示的节点类型。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F57E9360-9558-4310-BC2D-55D93819DFCE__GUID-C7E0D8EB-9950-4354-B4E8-45E6CE8892EC">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef ub4 xmlshowbits;的#define XMLDOM_SHOW_ALL〜（UB4）0＃定义XMLDOM_SHOW_BIT（n-型）（（UB4）1 &lt;&lt;（n-型））的#define XMLDOM_SHOW_ELEM XMLDOM_SHOW_BIT（XMLDOM_ELEM）的#define XMLDOM_SHOW_ATTR XMLDOM_SHOW_BIT（XMLDOM_ATTR）的#define XMLDOM_SHOW_TEXT XMLDOM_SHOW_BIT（XMLDOM_TEXT）的#define XMLDOM_SHOW_CDATA XMLDOM_SHOW_BIT （XMLDOM_CDATA）的#define XMLDOM_SHOW_ENTREF XMLDOM_SHOW_BIT（XMLDOM_ENTREF）的#define XMLDOM_SHOW_ENTITY XMLDOM_SHOW_BIT（XMLDOM_ENTITY）的#define XMLDOM_SHOW_PI XMLDOM_SHOW_BIT（XMLDOM_PI）的#define XMLDOM_SHOW_COMMENT XMLDOM_SHOW_BIT（XMLDOM_COMMENT）的#define XMLDOM_SHOW_DOC XMLDOM_SHOW_BIT（XMLDOM_DOC）的#define XMLDOM_SHOW_DTD XMLDOM_SHOW_BIT（XMLDOM_DTD）的#define XMLDOM_SHOW_FRAG XMLDOM_SHOW_BIT（ XMLDOM_FRAG）#define XMLDOM_SHOW_NOTATION XMLDOM_SHOW_BIT（XMLDOM_NOTATION）#define XMLDOM_SHOW_DOC_TYPE XMLDOM_SHOW_BIT（XMLDOM_DOC_TYPE）</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5075"></a><a id="CAXML5074"></a><div class="props_rev_3"><a id="GUID-651AB6E4-3BEA-44FA-9C16-58071A5F943C" name="GUID-651AB6E4-3BEA-44FA-9C16-58071A5F943C"></a><h3 id="CAXML-GUID-651AB6E4-3BEA-44FA-9C16-58071A5F943C" class="sect3">xmlurlacc</h3>
               <div>
                  <div class="section">
                     <p>这是用于从URL检索数据的已知访问方法的枚举。可以插入打开/读取/关闭功能以覆盖默认行为。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-651AB6E4-3BEA-44FA-9C16-58071A5F943C__GUID-277DCE07-0D1E-4ABD-A7A8-A7CA476FBBB1">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef enum {XML_ACCESS_NONE，/ *未指定* / XML_ACCESS_UNKNOWN，/ *已指定但未知* / XML_ACCESS_FILE，/ *文件系统访问* / XML_ACCESS_HTTP，/ * HTTP * / XML_ACCESS_FTP，/ * FTP * / XML_ACCESS_GOPHER，/ * Gopher * / XML_ACCESS_ORADB ，/ * Oracle DB * / XML_ACCESS_STREAM / *用户定义的流* /} xmlurlacc;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5077"></a><a id="CAXML5076"></a><div class="props_rev_3"><a id="GUID-C79DD416-8EF1-4109-8C1D-BF4DBA5A18FD" name="GUID-C79DD416-8EF1-4109-8C1D-BF4DBA5A18FD"></a><h3 id="CAXML-GUID-C79DD416-8EF1-4109-8C1D-BF4DBA5A18FD" class="sect3">xmlurlhdl</h3>
               <div>
                  <div class="section">
                     <p>此联合包含访问URL数据所需的句柄，可以是流或stdio指针，文件描述符等。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C79DD416-8EF1-4109-8C1D-BF4DBA5A18FD__GUID-5D66B853-8DB2-4FCA-9FA0-CA37E775333C">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef union xmlurlhdl {void * ptr_xmlurlhdl; / * generic stream / file / ... handle * / struct {sb4 fd1_xmlurlhdl; / *文件描述符[FTP需要全部3个！]* / sb4 fd2_xmlurlhdl; sb4 fd3_xmlurlhdl; } fds_lpihdl; } xmlurlhdl;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5079"></a><a id="CAXML5078"></a><div class="props_rev_3"><a id="GUID-3E147626-2197-47E6-856C-5DE87587A3BA" name="GUID-3E147626-2197-47E6-856C-5DE87587A3BA"></a><h3 id="CAXML-GUID-3E147626-2197-47E6-856C-5DE87587A3BA" class="sect3">xmlurlpart</h3>
               <div>
                  <div class="section">
                     <p>此结构包含URL的子部分。解析原始URL并将这些部分复制（ <code class="codeph">NULL</code> -terminated）到工作缓冲区，然后填充此结构以指向部分。给定URL <code class="codeph">http://user:pwd@baz.com:8080/pub/baz.html;quux=1?huh#fraggy</code> ，将显示此URL中的示例组件部分。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3E147626-2197-47E6-856C-5DE87587A3BA__GUID-497EEC9C-DB98-48CB-82DA-1A6AD1E22EF3">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef struct xmlurlpart {xmlurlacc access_xmlurlpart; / *访问方法代码，XMLACCESS_HTTP * / oratext * accbuf_xmlurlpart; / *访问方法名称：“http”* / oratext * host_xmlurlpart; / *主机名：“baz.com”* / oratext * dir_xmlurlpart; / *目录：“pub”* / oratext * file_xmlurlpart; / * filename：“baz.html”* / oratext * uid_xmlurlpart; / * userid / username：“user”* / oratext * passwd_xmlurlpart; / *密码：“pwd”* / oratext * port_xmlurlpart; / * port（as string）：“8080”* / oratext * frag_xmlurlpart; / * fragment：“fraggy”* / oratext * query_xmlurlpart; / *查询：“huh”* / oratext * param_xmlurlpart; / *参数：“quux = 1”* / ub2 portnum_xmlurlpart; / * port（as number）：8080 * / ub1 abs_xmlurlpart; / *绝对路径？TRUE * /} xmlurlpart;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5081"></a><a id="CAXML5080"></a><div class="props_rev_3"><a id="GUID-38292B99-CDBF-4816-9883-0E06D71AF8DA" name="GUID-38292B99-CDBF-4816-9883-0E06D71AF8DA"></a><h3 id="CAXML-GUID-38292B99-CDBF-4816-9883-0E06D71AF8DA" class="sect3">xmlxptrloc</h3>
               <div>
                  <div class="section">
                     <p>XPointer位置数据类型。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-38292B99-CDBF-4816-9883-0E06D71AF8DA__GUID-EDDD4677-4241-4B02-923C-7DB1B3235B28">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef struct xmlxptrloc xmlxptrloc;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5083"></a><a id="CAXML5082"></a><div class="props_rev_3"><a id="GUID-4190C6DF-4160-4A2B-8B65-324CC0A02FB7" name="GUID-4190C6DF-4160-4A2B-8B65-324CC0A02FB7"></a><h3 id="CAXML-GUID-4190C6DF-4160-4A2B-8B65-324CC0A02FB7" class="sect3">xmlxptrlocset</h3>
               <div>
                  <div class="section">
                     <p>XPointer位置设置数据类型。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4190C6DF-4160-4A2B-8B65-324CC0A02FB7__GUID-42E3E8EF-B109-46FE-9950-DA38B0B04A61">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef struct xmlxptrlocset xmlxptrlocset;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5085"></a><a id="CAXML5084"></a><div class="props_rev_3"><a id="GUID-60FFD1C2-D3EF-4744-BEBB-82A67BAA3A86" name="GUID-60FFD1C2-D3EF-4744-BEBB-82A67BAA3A86"></a><h3 id="CAXML-GUID-60FFD1C2-D3EF-4744-BEBB-82A67BAA3A86" class="sect3">xmlxslobjtype</h3>
               <div>
                  <div class="section">
                     <p>可以返回的XSLT对象的类型。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-60FFD1C2-D3EF-4744-BEBB-82A67BAA3A86__GUID-2B1139F0-4B34-4505-B093-49A0D91DF8D4">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef enum xmlxslobjtype {XMLXSL_TYPE_UNKNOWN，/ *不是定义的类型* / XMLXSL_TYPE_NDSET，/ * Node-set * / XMLXSL_TYPE_BOOL，/ *布尔值* / XMLXSL_TYPE_NUM，/ *数值（double）* / XMLXSL_TYPE_STR，/ * String * / XMLXSL_TYPE_FRAG / * Document Fragment * /} xmlxslobjtype;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5087"></a><a id="CAXML5086"></a><div class="props_rev_3"><a id="GUID-A0A9C968-3AEB-481E-A6DF-D14B041E4E89" name="GUID-A0A9C968-3AEB-481E-A6DF-D14B041E4E89"></a><h3 id="CAXML-GUID-A0A9C968-3AEB-481E-A6DF-D14B041E4E89" class="sect3">xmlxslomethod</h3>
               <div>
                  <div class="section">
                     <p>XSLT处理器生成的输出类型。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A0A9C968-3AEB-481E-A6DF-D14B041E4E89__GUID-FC6C564A-AA38-408D-94EB-4879B202E4F3">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef enum xmlxslomethod {XMLXSL_OUTPUT_UNKNOWN，/ *未定义* / XMLXSL_OUTPUT_XML，/ *生成文档片段* / XMLXSL_OUTPUT_STREAM，/ *流出格式化结果* / XMLXSL_OUTPUT_HTML / *流出HTML格式化结果* /} xmlxslomethod;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5089"></a><a id="CAXML5088"></a><div class="props_rev_3"><a id="GUID-F2540266-BE11-4CD3-8A2E-F1CCE762D67D" name="GUID-F2540266-BE11-4CD3-8A2E-F1CCE762D67D"></a><h3 id="CAXML-GUID-F2540266-BE11-4CD3-8A2E-F1CCE762D67D" class="sect3">xmlxvm</h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">xmlxvm</code>类型的对象用于XML文档转换。<code class="codeph">xmlxvm</code>的内容是私有的，用户不得访问。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F2540266-BE11-4CD3-8A2E-F1CCE762D67D__GUID-4A4145F8-D1BC-45A3-A919-6FC6E8334122">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">struct xmlxvm; typedef struct xmlxvm xmlxvm;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5091"></a><a id="CAXML5090"></a><div class="props_rev_3"><a id="GUID-FB02C3D1-57D9-4F66-A2EC-3ED8AF8655C9" name="GUID-FB02C3D1-57D9-4F66-A2EC-3ED8AF8655C9"></a><h3 id="CAXML-GUID-FB02C3D1-57D9-4F66-A2EC-3ED8AF8655C9" class="sect3">xmlxvmcomp</h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">xmlxvmcomp</code>类型的对象用于编译XSL样式表。<code class="codeph">xmlxvmcomp</code>的内容是私有的，用户不得访问。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FB02C3D1-57D9-4F66-A2EC-3ED8AF8655C9__GUID-E4850602-A91D-42C8-9A80-4B4DEF12E062">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">struct xmlxvmcomp; typedef struct xmlxvmcomp xmlxvmcomp;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5093"></a><a id="CAXML5092"></a><div class="props_rev_3"><a id="GUID-CEE296D9-BF62-4FA8-8B53-B7F9CE4F117F" name="GUID-CEE296D9-BF62-4FA8-8B53-B7F9CE4F117F"></a><h3 id="CAXML-GUID-CEE296D9-BF62-4FA8-8B53-B7F9CE4F117F" class="sect3">xmlxvmflags</h3>
               <div>
                  <div class="section">
                     <p>XSLT编译器的控制标志。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">XMLXVM_DEBUG</code>强制编译器将调试信息插入字节码。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">XMLXVM_STRIPSPACE</code>强制执行与<code class="codeph">xsl:strip-space elements="*"</code>相同的行为<code class="codeph">xsl:strip-space elements="*"</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CEE296D9-BF62-4FA8-8B53-B7F9CE4F117F__GUID-14E8AC78-0AF2-436D-984C-31A4E5EB43E1">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef ub4 xmlxvmflag; #define XMLXVM_NOFLAG #define XMLXVM_DEBUG / *将调试信息插入字节码* / #define XMLXVM_STRIPSPACE / *与xsl相同：strip-space elements =“*”* /</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5095"></a><a id="CAXML5094"></a><div class="props_rev_3"><a id="GUID-D75DEE4E-6A7E-48EE-BB51-EDD19344CEAE" name="GUID-D75DEE4E-6A7E-48EE-BB51-EDD19344CEAE"></a><h3 id="CAXML-GUID-D75DEE4E-6A7E-48EE-BB51-EDD19344CEAE" class="sect3">xmlxvmobjtype</h3>
               <div>
                  <div class="section">
                     <p>XSLTVM对象的类型。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D75DEE4E-6A7E-48EE-BB51-EDD19344CEAE__GUID-F6361DDC-3E19-48E2-BCCC-AA858562AA54">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">typedef enum xmlxvmobjtype {XMLXVM_TYPE_UNKNOWN，XMLXVM_TYPE_NDSET，XMLXVM_TYPE_BOOL，XMLXVM_TYPE_NUM，XMLXVM_TYPE_STR，XMLXVM_TYPE_FRAG} xmlxvmobjtype;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5097"></a><a id="CAXML5096"></a><div class="props_rev_3"><a id="GUID-840481D7-0D24-478D-A56C-13B32000C187" name="GUID-840481D7-0D24-478D-A56C-13B32000C187"></a><h3 id="CAXML-GUID-840481D7-0D24-478D-A56C-13B32000C187" class="sect3">xpctx</h3>
               <div>
                  <div class="section">
                     <p>XPath顶级上下文。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-840481D7-0D24-478D-A56C-13B32000C187__GUID-4A0E0426-6AC8-4E75-B066-57442EF32932">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">struct xpctx; typedef struct xpctx xpctx;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5099"></a><a id="CAXML5098"></a><div class="props_rev_3"><a id="GUID-FFB5D3DF-6834-4049-9AF6-A7EEBC3C4A27" name="GUID-FFB5D3DF-6834-4049-9AF6-A7EEBC3C4A27"></a><h3 id="CAXML-GUID-FFB5D3DF-6834-4049-9AF6-A7EEBC3C4A27" class="sect3">xpexpr</h3>
               <div>
                  <div class="section">
                     <p>XPath表达式。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FFB5D3DF-6834-4049-9AF6-A7EEBC3C4A27__GUID-0BEB6308-A0C7-4E85-947C-84E76458D191">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">struct xpexpr; typedef struct xpexpr xpexpr;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5101"></a><a id="CAXML5100"></a><div class="props_rev_3"><a id="GUID-35595C9E-E173-4C26-90EE-2C9493C7B842" name="GUID-35595C9E-E173-4C26-90EE-2C9493C7B842"></a><h3 id="CAXML-GUID-35595C9E-E173-4C26-90EE-2C9493C7B842" class="sect3">xpobj</h3>
               <div>
                  <div class="section">
                     <p>Xpath对象。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-35595C9E-E173-4C26-90EE-2C9493C7B842__GUID-157E754C-11A0-4AD1-8C82-BF47A473C98F">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">struct xpobj; typedef struct xpobj xpobj;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5103"></a><a id="CAXML5102"></a><div class="props_rev_3"><a id="GUID-BD2344C2-2189-494F-A986-0AF8ECBE9148" name="GUID-BD2344C2-2189-494F-A986-0AF8ECBE9148"></a><h3 id="CAXML-GUID-BD2344C2-2189-494F-A986-0AF8ECBE9148" class="sect3">xsdctx</h3>
               <div>
                  <div class="section">
                     <p>XML Schema验证器上下文，由<code class="codeph">XmlSchemaCreate</code>创建并传递给大多数Schema函数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BD2344C2-2189-494F-A986-0AF8ECBE9148__GUID-45044618-2753-42D9-BDD1-E97F7FD07D81">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">#define XSDCTX_DEFINED struct xsdctx; typedef struct xsdctx xsdctx;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5105"></a><a id="CAXML5104"></a><div class="props_rev_3"><a id="GUID-5D6D6D54-A845-47A1-986B-47B6595F6D8A" name="GUID-5D6D6D54-A845-47A1-986B-47B6595F6D8A"></a><h3 id="CAXML-GUID-5D6D6D54-A845-47A1-986B-47B6595F6D8A" class="sect3">xslctx</h3>
               <div>
                  <div class="section">
                     <p>XSL顶级上下文。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5D6D6D54-A845-47A1-986B-47B6595F6D8A__GUID-99AC0258-528D-4CE3-B1D6-5147E19CD099">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">struct xslctx; typedef struct xslctx xslctx;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5107"></a><a id="CAXML5106"></a><div class="props_rev_3"><a id="GUID-CFD5D14D-12FB-4CD6-AEF9-A36A0019F8BC" name="GUID-CFD5D14D-12FB-4CD6-AEF9-A36A0019F8BC"></a><h3 id="CAXML-GUID-CFD5D14D-12FB-4CD6-AEF9-A36A0019F8BC" class="sect3">xvmobj</h3>
               <div>
                  <div class="section">
                     <p>XSLVM处理器运行时对象;内容是私有的，用户不得访问。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CFD5D14D-12FB-4CD6-AEF9-A36A0019F8BC__GUID-28B54BF0-8E0B-4411-8D64-10981175FD48">定义</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">struct xvmobj; typedef struct xvmobj xvmobj;</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="09648.oracle-data-guard-redo-transport-services.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="An Oracle Data Guard configuration requires that Oracle redo transport services be configured and monitored."></meta>
      <meta name="description" content="An Oracle Data Guard configuration requires that Oracle redo transport services be configured and monitored."></meta>
      <title>重做运输服务</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Concepts and Administration "></meta>
      <meta property="og:description" content="An Oracle Data Guard configuration requires that Oracle redo transport services be configured and monitored."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Concepts and Administration"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-guard-concepts-and-administration.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T10:50:21-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96244-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-data-guard-protection-modes.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-data-guard-redo-apply-services.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Concepts and Administration"></meta>
    <meta name="dcterms.isVersionOf" content="SBYDB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-data-guard-protection-modes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-data-guard-redo-apply-services.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">概念和管理</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-guard-concepts.html" property="item" typeof="WebPage"><span property="name">概念和管理</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">重做运输服务</li>
            </ol>
            <a id="GUID-0EC71C7D-A80B-40AA-93E5-28BB7E24ED31" name="GUID-0EC71C7D-A80B-40AA-93E5-28BB7E24ED31"></a><a id="SBYDB00400"></a>
            
            <h2 id="SBYDB-GUID-0EC71C7D-A80B-40AA-93E5-28BB7E24ED31" class="sect2"><span class="enumeration_chapter">7</span>重做运输服务</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Data Guard配置要求配置和监视Oracle重做传输服务。</p>
               <p><a id="d15287e71" class="indexterm-anchor"></a>请参阅以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="oracle-data-guard-redo-transport-services.html#GUID-04851F96-F8F3-4999-AAAD-83C4C3C7AE14" title="重做传输服务在Oracle Data Guard配置的成员之间执行重做数据的自动传输。">重做传输服务简介</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-data-guard-redo-transport-services.html#GUID-8575AE63-9583-4149-9EDF-F4FD9E62B70A" title="必须先配置Oracle数据库，然后才能发送和接收重做数据。部分配置过程涉及设置重做传输安全性。">配置重做传输服务</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-data-guard-redo-transport-services.html#GUID-34BCB162-D996-4678-97F1-497805764950" title="级联重做传输目标（也称为终端目标）从备用数据库间接接收主数据库重做，而不是直接从主数据库接收。">级联重做运输目的地</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-data-guard-redo-transport-services.html#GUID-988FF469-5815-4FC3-B529-AE1BE9ACD67B" title="当您的配置包括级联备用数据库时，每个目标应定义一个LOG_ARCHIVE_DEST_n参数，该参数指向其源以便在故障转移期间使用。">级联备用数据的数据保护注意事项</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-data-guard-redo-transport-services.html#GUID-A0AAA20B-4DF8-4698-A7E0-3BED5A2C11E9" title="要在创建Oracle Data Guard配置后验证它，请从配置中的任何数据库查询V $ DATAGUARD_CONFIG视图。">验证配置</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-data-guard-redo-transport-services.html#GUID-282DA542-4C7C-40E2-A3CB-6486CDCF0C0A" title="您可以监控重做传输状态以及重做传输响应时间。">监控重做传输服务</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-data-guard-redo-transport-services.html#GUID-665E1862-E9F2-4CB2-BFF5-B5F741FD475E" title="您可以优化重做传输以获得最佳性能。">调整重做运输</a></p>
                  </li>
               </ul>
            </div><a id="SBYDB4745"></a><div class="props_rev_3"><a id="GUID-04851F96-F8F3-4999-AAAD-83C4C3C7AE14" name="GUID-04851F96-F8F3-4999-AAAD-83C4C3C7AE14"></a><h3 id="SBYDB-GUID-04851F96-F8F3-4999-AAAD-83C4C3C7AE14" class="sect3"><span class="enumeration_section">7.1</span>重做传输服务简介</h3>
               <div>
                  <p><span class="bold">重做传输服务</span>在Oracle Data Guard配置的成员之间执行重做数据的自动传输。
                  </p>
                  <p>支持以下重做传输目标：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Oracle Data Guard备用数据库</p>
                        <p>本指南介绍如何创建和管理物理，逻辑和快照备用数据库。</p>
                     </li>
                     <li>
                        <p>存档日志存储库</p>
                        <p>此目标类型用于存档重做日志文件的临时异地存储。归档日志存储库由Oracle数据库实例和物理备用控制文件组成。归档日志存储库不包含数据文件，因此它不支持角色转换。</p>
                        <p>用于创建存档日志存储库的过程与用于创建物理备用数据库的过程相同，但复制数据文件除外。</p>
                     </li>
                     <li>
                        <p>Oracle Streams下游捕获数据库</p>
                     </li>
                     <li>
                        <p>远程同步实例</p>
                        <p>有关<a href="creating-oracle-data-guard-far-sync-instance.html#GUID-8AD7FBA2-42B0-46CF-852B-1AF0CB4A36E8" title="An Oracle Data Guard far sync instance is a remote Oracle Data Guard destination that accepts redo from the primary database and then ships that redo to other members of the Oracle Data Guard configuration.">远程同步实例</a>的详细信息，请参阅<a href="creating-oracle-data-guard-far-sync-instance.html#GUID-8AD7FBA2-42B0-46CF-852B-1AF0CB4A36E8" title="Oracle Data Guard远程同步实例是远程Oracle Data Guard目标，它接受来自主数据库的重做，然后将该重做发送到Oracle Data Guard配置的其他成员。">使用远程</a>同步实例。
                        </p>
                     </li>
                     <li>
                        <p>零数据丢失恢复设备（恢复设备）</p>
                     </li>
                  </ul>
                  <p>每个重做传输目标都单独配置为通过两种重做传输模式之一接收重做数据：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>同步</p>
                        <p>同步重做传输模式相对于事务承诺同步地传输重做数据。在该事务生成的所有重做已成功发送到使用同步重做传输模式的每个启用的重做传输目标之前，事务无法提交。</p>
                        <p>虽然对一个主数据库和一个之间的距离没有限制<code class="codeph">SYNC</code>重做传输目的地，事务提交延迟增加作为主数据库和网络之间延迟增加<code class="codeph">SYNC</code>重做传输目的地。
                        </p>
                        <p>此传输模式由<a href="oracle-data-guard-protection-modes.html#GUID-16298839-9B8A-4E58-8EC9-27912E57F1CE" title="Oracle Data Guard lets you set different data protection modes.">Oracle Data Guard保护模式中</a>描述的最大保护和最大可用性数据保护<a href="oracle-data-guard-protection-modes.html#GUID-16298839-9B8A-4E58-8EC9-27912E57F1CE" title="Oracle Data Guard允许您设置不同的数据保护模式。">模式使用</a> 。
                        </p>
                        <div class="infoboxnote" id="GUID-04851F96-F8F3-4999-AAAD-83C4C3C7AE14__GUID-DE685756-6A0D-4246-B66C-94F93B0E0E18">
                           <p class="notep1">注意：</p>
                           <p>零数据丢失恢复设备不支持同步重做传输。</p>
                        </div>
                     </li>
                     <li>
                        <p>异步</p>
                        <p>异步重做传输模式相对于事务承诺异步地传输重做数据。事务可以在不等待该事务生成的重做成功发送到使用异步重做传输模式的任何重做传输目标的情况下提交。</p>
                        <p>此传输模式由<a href="oracle-data-guard-protection-modes.html#GUID-16298839-9B8A-4E58-8EC9-27912E57F1CE" title="Oracle Data Guard lets you set different data protection modes.">Oracle Data Guard保护模式中</a>描述的最高性能数据保护<a href="oracle-data-guard-protection-modes.html#GUID-16298839-9B8A-4E58-8EC9-27912E57F1CE" title="Oracle Data Guard允许您设置不同的数据保护模式。">模式使用</a> 。
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="SBYDB4746"></a><div class="props_rev_3"><a id="GUID-8575AE63-9583-4149-9EDF-F4FD9E62B70A" name="GUID-8575AE63-9583-4149-9EDF-F4FD9E62B70A"></a><h3 id="SBYDB-GUID-8575AE63-9583-4149-9EDF-F4FD9E62B70A" class="sect3"><span class="enumeration_section">7.2</span>配置重做传输服务</h3>
               <div>
                  <p>必须先配置Oracle数据库，然后才能发送和接收重做数据。部分配置过程涉及设置重做传输安全性。</p>
                  <p>请参阅以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-FA3B203C-D28E-4A27-8585-9EBC19836F4C" title="重做传输使用Oracle Net会话来传输重做数据。">重做运输安全</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74" title="要指定重做传输目标，请使用LOG_ARCHIVE_DEST_n数据库初始化参数（其中n是1到31之间的整数）。">配置Oracle数据库以发送重做数据</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-AF64C4FE-2D16-4197-953A-25930F36CFA8" title="必须将重做传输目标配置为从重做源数据库接收和归档重做数据。">配置Oracle数据库以接收重做数据</a></p>
                     </li>
                  </ul>
                  <p>这些主题假设您对以下内容有透彻的了解：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数据库管理员验证</p>
                     </li>
                     <li>
                        <p>数据库初始化参数</p>
                     </li>
                     <li>
                        <p>管理重做日志</p>
                     </li>
                     <li>
                        <p>管理归档重做日志</p>
                     </li>
                     <li>
                        <p>快速恢复区</p>
                     </li>
                     <li>
                        <p>Oracle Net配置</p>
                     </li>
                  </ul>
               </div><a id="SBYDB00523"></a><div class="props_rev_3"><a id="GUID-FA3B203C-D28E-4A27-8585-9EBC19836F4C" name="GUID-FA3B203C-D28E-4A27-8585-9EBC19836F4C"></a><h4 id="SBYDB-GUID-FA3B203C-D28E-4A27-8585-9EBC19836F4C" class="sect4"><span class="enumeration_section">7.2.1</span>重做传输安全性</h4>
                  <div>
                     <p>重做传输使用Oracle Net会话来传输重做数据。</p>
                     <p>这些重做传输会话使用安全套接字层（SSL）协议或远程登录密码文件进行身份验证。</p>
                  </div><a id="SBYDB4747"></a><div class="props_rev_3"><a id="GUID-DB2E46B2-2A4B-4DF0-B925-F07497F3C6A5" name="GUID-DB2E46B2-2A4B-4DF0-B925-F07497F3C6A5"></a><h5 id="SBYDB-GUID-DB2E46B2-2A4B-4DF0-B925-F07497F3C6A5" class="sect5"><span class="enumeration_section">7.2.1.1</span>使用SSL进行重做传输身份验证</h5>
                     <div>
                        <p>安全套接字层（SSL）是用于保护网络连接的行业标准协议。</p>
                        <p>SSL使用RSA公钥加密和对称密钥加密来提供身份验证，加密和数据完整性。在以下情况下，SSL自动用于两个Oracle数据库之间的重做传输身份验证：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>这些数据库是同一Oracle Internet Directory（OID）企业域的成员，该域允许使用当前用户数据库链接。</p>
                           </li>
                           <li>
                              <p>与数据库对应的<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>和<code class="codeph">FAL_SERVER</code>数据库初始化参数使用为SSL配置的Oracle Net连接描述符。</p>
                           </li>
                           <li>
                              <p>每个数据库都有一个Oracle钱包或支持的硬件安全模块，其中包含一个用户证书，其名称（DN）与数据库的OID条目中的DN相匹配。</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-DB2E46B2-2A4B-4DF0-B925-F07497F3C6A5__GUID-9D6495D5-D6A8-4002-A044-9FADA107C37C">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关SSL的更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=DBSEG070" target="_blank"><span class="italic">Oracle数据库安全指南</span></a></p>
                              </li>
                              <li>
                                 <p>有关管理企业域的详细信息，请参见<a href="../dbimi/administering-enterprise-user-security.html#DBIMI130" target="_blank"><span class="italic">“Oracle数据库企业用户安全管理员指南”</span></a></p>
                              </li>
                              <li>
                                 <p>有关管理Oracle Internet Directory的信息，请参阅<a href="../olsag/oracle-label-security-using-oracle-internet-directory.html#OLSAG026" target="_blank"><span class="italic">“Oracle Label Security管理员指南”</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="SBYDB4748"></a><div class="props_rev_3"><a id="GUID-6BF40A23-66E3-42C8-9CF5-DE715F648CD4" name="GUID-6BF40A23-66E3-42C8-9CF5-DE715F648CD4"></a><h5 id="SBYDB-GUID-6BF40A23-66E3-42C8-9CF5-DE715F648CD4" class="sect5"><span class="enumeration_section">7.2.1.2</span>使用密码文件<span class="enumeration_section">进行</span>重做传输身份验证</h5>
                     <div>
                        <p>如果不满足SSL身份验证要求，则每个数据库都必须使用远程登录密码文件。</p>
                        <p>在Oracle Data Guard配置中，所有物理和快照备用数据库都必须使用主数据库中密码文件的副本。如果源数据库和目标数据库上的数据库兼容性设置为12.2或更高，则只要授予或撤消管理权限（ <code class="codeph">SYSDG</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSDBA</code>等），就会自动刷新密码文件的副本，并且具有管理权限的任何用户的密码都已更改。唯一的例外是远同步实例。更新的密码文件仍必须手动复制到远程同步实例，因为远程同步实例会接收重做，但不会应用它。在远程同步实例中密码文件是最新的后，主服务器上包含密码更新的重做将自动传播到任何备用数据库，这些数据库设置为从该远程同步实例接收重做。应用重做时，备用数据库上的密码文件会更新。
                        </p>
                        <p>当密码文件用于重做传输身份验证时，将在启动重做传输会话的数据库与目标数据库之间比较用于重做传输身份验证的用户帐户的密码。两个数据库的密码必须相同才能创建重做传输会话。</p>
                        <p>默认情况下，使用密码文件时， <code class="codeph">SYS</code>用户的密码用于验证重做传输会话。通过将此参数设置为已被授予<code class="codeph">SYSOPER</code>权限的任何用户的名称， <code class="codeph">REDO_TRANSPORT_USER</code>数据库初始化参数可用于为重做传输身份验证选择不同的用户密码。为了便于管理，Oracle建议将<code class="codeph">REDO_TRANSPORT_USER</code>参数设置为重做源数据库和每个重做传输目标上的相同值。
                        </p>
                        <div class="infoboxnotealso" id="GUID-6BF40A23-66E3-42C8-9CF5-DE715F648CD4__GUID-96BA3BD3-823E-4D1F-89E9-A76A45DDFFA1">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=ADMIN001" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> ，了解有关创建和维护远程登录密码文件的更多信息</p>
                        </div>
                     </div>
                  </div>
               </div><a id="SBYDB5028"></a><a id="SBYDB4749"></a><div class="props_rev_3"><a id="GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74" name="GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74"></a><h4 id="SBYDB-GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74" class="sect4"><span class="enumeration_section">7.2.2</span>配置Oracle数据库以发送重做数据</h4>
                  <div>
                     <p>要指定重做传输目标，请使用<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>数据库初始化参数（其中<span class="italic"><code class="codeph">n</code></span>是1到31之间的整数）。
                     </p>
                     <div class="section">
                        <p>有一个<code class="codeph">LOG_ARCHIVE_DEST_STATE_</code> <span class="italic"><code class="codeph">n</code></span>数据库初始化参数（其中<span class="italic"><code class="codeph">n</code></span>是1到31之间的整数），它对应于每个<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数。此参数用于启用或禁用相应的重做目标。<a href="oracle-data-guard-redo-transport-services.html#GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74__BABGFCHH" title="此2列表描述了LOG_ARCHIVE_DEST_STATE_n参数属性：ENABLE，DEFER，ALTERNATE和RESET。">表7-1</a>显示了可以分配给此参数的有效值。
                        </p>
                        <div class="tblformal" id="GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74__BABGFCHH">
                           <p class="titleintable">表7-1 LOG_ARCHIVE_DEST_STATE_n初始化参数值</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="LOG_ARCHIVE_DEST_STATE_n初始化参数值" width="100%" border="1" summary="This 2 column table describes the LOG_ARCHIVE_DEST_STATE_n parameter attributes: ENABLE, DEFER, ALTERNATE, and RESET." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="18%" id="d15287e859">值</th>
                                    <th align="left" valign="bottom" width="82%" id="d15287e862">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="18%" id="d15287e867" headers="d15287e859 ">
                                       <p><code class="codeph">ENABLE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="82%" headers="d15287e867 d15287e862 ">
                                       <p><a id="d15287e873" class="indexterm-anchor"></a><a id="d15287e879" class="indexterm-anchor"></a>重做传输服务可以将重做数据传输到此目的地。这是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="18%" id="d15287e885" headers="d15287e859 ">
                                       <p><code class="codeph">DEFER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="82%" headers="d15287e885 d15287e862 ">
                                       <p><a id="d15287e891" class="indexterm-anchor"></a><a id="d15287e897" class="indexterm-anchor"></a>重做传输服务不会将重做数据传输到此目标。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="18%" id="d15287e903" headers="d15287e859 ">
                                       <p><code class="codeph">备用</code></p>
                                    </td>
                                    <td align="left" valign="top" width="82%" headers="d15287e903 d15287e862 ">
                                       <p>如果与其关联目标的通信失败，则此目标将启用。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>通过将<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数设置为包含一个或多个属性的字符串来配置重做传输目标。本节简要介绍最常用的属性。有关所有<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数属性的完整说明，请参阅<a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-B04FC22C-F0B0-440F-BAF4-182EE547FCC1" title="这是LOG_ARCHIVE_DEST_n初始化参数的属性列表（其中n是1到31之间的整数）。">LOG_ARCHIVE_DEST_n</a>参数属性。
                        </p>
                        <p><code class="codeph">SERVICE</code>属性是重做传输目标的必需属性，必须是属性列表中指定的第一个属性。<code class="codeph">SERVICE</code>属性用于指定用于连接到重做传输目标的Oracle Net服务名称。服务名称必须通过Oracle Net命名方法解析为与重做传输目标上的Oracle Net侦听器匹配的Oracle Net连接描述符。连接描述符必须指定使用专用服务器连接，除非这是重做传输目标的默认连接类型。
                        </p>
                        <div class="infoboxnotealso" id="GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74__GUID-1149A5E0-2FBD-48E4-9D9B-6E4A7B80318F">
                           <p class="notep1">也可以看看：</p>
                           <p>有关Oracle Net服务名称，连接描述符，侦听器和网络安全性的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=NETAG006" target="_blank"><span class="italic">“Oracle数据库网络服务管理员指南”</span></a></p>
                        </div>
                        <p><code class="codeph">SYNC</code>属性指定使用同步重做传输模式将重做数据发送到重做传输目标。
                        </p>
                        <p><code class="codeph">ASYNC</code>属性指定异步重做传输模式用于将重做数据发送到重做传输目标。如果既未指定<code class="codeph">SYNC</code>也未指定<code class="codeph">ASYNC</code>属性，则使用异步重做传输模式。
                        </p>
                        <p><code class="codeph">NET_TIMEOUT</code>属性指定<code class="codeph">LGWR</code>进程等待确认已使用同步重做传输模式的目标已成功接收重做数据的时间。如果在<code class="codeph">NET_TIMEOUT</code>秒内未收到确认，则重做传输连接将终止并记录错误。
                        </p>
                        <p>Oracle建议在使用同步重做传输模式时指定<code class="codeph">NET_TIMEOUT</code>属性，以便可以精确控制由重做传输故障引起的重做源数据库停顿的最大持续时间。有关监视同步重做传输模式响应时间的信息，请参阅<a href="oracle-data-guard-redo-transport-services.html#GUID-666D0186-B639-4DB2-9993-D1947230C50F" title="V $ REDO_DEST_RESP_HISTOGRAM视图包含每个重做传输目标的响应时间数据。">监视同步重做传输响应时间</a> 。
                        </p>
                        <div class="infoboxnote" id="GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74__GUID-69048196-74E9-4FEA-B871-73A31B691415">
                           <p class="notep1">注意：</p>您还可以设置数据库初始化参数<code class="codeph">DATA_GUARD_SYNC_LATENCY</code> ，该参数对于所有同步备用目标都是全局的。它定义了在至少一个同步备用数据库确认收到重做后，主数据库在断开后续目标之前可能等待的最长时间（以秒为单位）。
                           <p>例如，假设您有三个同步备用目标，并将<code class="codeph">DATA_GUARD_SYNC_LATENCY</code>设置为值2。如果第一个备用数据库立即确认收到重做，则主数据库等待的时间不会超过2秒，以便其他两个备用数据库进行响应。如果一个或两个在2秒内响应，则它们将保持为活动目标。未及时响应的目标将标记为失败。在这两种情况下，主数据库仍处于零数据丢失保护模式，因为一个同步备用数据库已确认收到重做。在为<code class="codeph">REOPEN</code>属性指定的<code class="codeph">REOPEN</code>通过后，任何失败的同步备用数据库都会正常重新连接。
                           </p>
                        </div>
                        <p><code class="codeph">AFFIRM</code>属性用于指定从重做源数据库接收的重做在被写入备用重做日志之前不会被确认。<code class="codeph">NOAFFIRM</code>属性用于指定接收到的重做被确认，而不等待接收到的重做被写入备用重做日志。
                        </p>
                        <p><code class="codeph">DB_UNIQUE_NAME</code>属性用于指定重做传输目标的<code class="codeph">DB_UNIQUE_NAME</code> 。如果已定义<code class="codeph">LOG_ARCHIVE_CONFIG</code>数据库初始化参数且其值包含<code class="codeph">DG_CONFIG</code>列表，则必须指定<code class="codeph">DB_UNIQUE_NAME</code>属性。
                        </p>
                        <p>如果指定了<code class="codeph">DB_UNIQUE_NAME</code>属性，则其值必须与<code class="codeph">DG_CONFIG</code>列表中的<code class="codeph">DG_CONFIG</code> <code class="codeph">DB_UNIQUE_NAME</code>值匹配。它还必须与重做传输目标上的<code class="codeph">DB_UNIQUE_NAME</code>数据库初始化参数的值匹配。如果任一匹配失败，则会记录错误，并且无法对该目标执行重做传输。
                        </p>
                        <p><code class="codeph">VALID_FOR</code>属性用于指定重做传输服务何时将重做数据传输到重做传输目标。Oracle建议为Oracle Data Guard配置中的每个站点的每个重做传输目标指定<code class="codeph">VALID_FOR</code>属性，以便重做传输服务在角色转换后继续向所有备用数据库发送重做数据，而不管哪个备用数据库承担主要角色。
                        </p>
                        <p><code class="codeph">REOPEN</code>属性用于指定自动重新连接尝试与由于先前错误而处于非活动状态的重做传输目标之间的最小秒数。
                        </p>
                        <p><code class="codeph">COMPRESSION</code>属性用于指定重做数据以压缩形式传输到重做传输目标。重做传输压缩可以显着提高网络链路上的重做传输性能，具有低带宽和高延迟。
                        </p>
                        <p>重做传输压缩是Oracle Advanced Compression选项的一项功能。在使用重做传输压缩功能之前，您必须购买此选项的许可证。</p>
                        <p>以下示例使用本节中描述的所有<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>属性。已为两个目标指定了<code class="codeph">DB_UNIQUE_NAME</code> ，因为已使用压缩。如果在任一目的地发生重做传输故障，则重做传输尝试重新连接到该目的地，但不会超过每60秒一次。
                        </p><pre class="oac_no_warn" dir="ltr">DB_UNIQUE_NAME = BOSTON LOG_ARCHIVE_CONFIG ='DG_CONFIG =（BOSTON，CHICAGO，HARTFORD）'LOG_ARCHIVE_DEST_2 ='SERVICE = CHICAGO ASYNC NOAFFIRM VALID_FOR =（ONLINE_LOGFILE，PRIMARY_ROLE）REOPEN = 60 COMPRESSION = ENABLE DB_UNIQUE_NAME = CHICAGO'LOG_ARCHIVE_DEST_STATE_2 ='ENABLE'LOG_ARCHIVE_DEST_3 ='SERVICE = HARTFORD SYNC AFFIRM NET_TIMEOUT = 30 VALID_FOR =（ONLINE_LOGFILE，PRIMARY_ROLE）REOPEN = 60 COMPRESSION = ENABLE DB_UNIQUE_NAME = HARTFORD'LOG_ARCHIVE_DEST_STATE_3 ='ENABLE'</pre><div class="infoboxnote" id="GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74__GUID-8212D018-8BBF-43F8-BB8D-15B4454EBA9C">
                           <p class="notep1">注意：</p>
                           <p>零数据丢失恢复设备（恢复设备）的配置与任何备用数据库的配置相同。因此，在前面的示例中，由于Chicago是<code class="codeph">ASYNC</code>目标，因此它可以是备用数据库或恢复设备。（恢复设备不支持同步重做传输）</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="SBYDB4750"></a><div class="props_rev_3"><a id="GUID-DC156D33-A034-4766-85BF-ADF414C19945" name="GUID-DC156D33-A034-4766-85BF-ADF414C19945"></a><h5 id="SBYDB-GUID-DC156D33-A034-4766-85BF-ADF414C19945" class="sect5"><span class="enumeration_section">7.2.2.1</span>使用V $ ARCHIVE_DEST查看属性</h5>
                     <div>
                        <p>可以查询<code class="codeph">V$ARCHIVE_DEST</code>视图以查看每个重做传输目标的当前设置和状态。
                        </p>
                        <div class="section">
                           <p></p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="SBYDB4751"></a><div class="props_rev_3"><a id="GUID-AF64C4FE-2D16-4197-953A-25930F36CFA8" name="GUID-AF64C4FE-2D16-4197-953A-25930F36CFA8"></a><h4 id="SBYDB-GUID-AF64C4FE-2D16-4197-953A-25930F36CFA8" class="sect4"><span class="enumeration_section">7.2.3</span>配置Oracle数据库以接收重做数据</h4>
                  <div>
                     <p>必须将重做传输目标配置为从重做源数据库接收和归档重做数据。</p>
                     <p>请参阅以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="oracle-data-guard-redo-transport-services.html#GUID-E6EC6104-3C38-482D-B807-A0E84ECFB937">管理备用重做日志</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-data-guard-redo-transport-services.html#GUID-7F508757-E1BA-4608-8D0E-946C3C765F61">将重做直接写入存档重做日志文件的情况</a></p>
                        </li>
                     </ul>
                  </div><a id="SBYDB4752"></a><div class="props_rev_3"><a id="GUID-E6EC6104-3C38-482D-B807-A0E84ECFB937" name="GUID-E6EC6104-3C38-482D-B807-A0E84ECFB937"></a><h5 id="SBYDB-GUID-E6EC6104-3C38-482D-B807-A0E84ECFB937" class="sect5"><span class="enumeration_section">7.2.3.1</span>管理备用重做日志</h5>
                     <div>
                        <p>同步和异步重做传输模式要求重做传输目标具有备用重做日志。备用重做日志<a id="d15287e1332" class="indexterm-anchor"></a>用于存储从另一个Oracle数据库接收的重做。备用重做日志在结构上与重做日志相同，并使用用于创建和管理重做日志的相同SQL语句创建和管理。
                        </p>
                        <p>通过重做传输从另一个Oracle数据库接收的重做由远程文件服务器（RFS）前台进程写入当前备用重做日志组。当重做源数据库上发生日志切换时，传入的重做将被写入下一个备用重做日志组，之前使用的备用重做日志组将由<code class="codeph">ARC</code> <span class="italic"><code class="codeph">n</code></span>后台进程存档。
                        </p>
                        <p>在重做源数据库中顺序填充然后归档重做日志文件组的过程通过顺序填充和归档备用重做日志组在每个重做传输目标上进行镜像。</p>
                        <p>每个备用重做日志文件必须至少与重做源数据库的重做日志中的最大重做日志文件一样大。为了便于管理，Oracle建议重做源数据库的重做日志中的所有重做日志文件和重做传输目标的备用重做日志的大小相同。</p>
                        <p>对于重做源数据库中的每个重做线程，备用重做日志必须至少比重做源数据库中的重做日志多一个重做日志组。在重做源数据库中，查询<code class="codeph">V$LOG</code>视图以确定重做源数据库的重做日志中有多少重做日志组，并查询<code class="codeph">V$THREAD</code>视图以确定重做源数据库中存在多少重做线程。
                        </p>
                        <p>在重做源数据库上执行以下查询，以确定每个日志文件的大小以及重做日志中的日志组数：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT GROUP＃，BYTES FROM V $ LOG;</pre><p>对重做目标数据库执行以下查询，以确定每个日志文件的大小以及备用重做日志中的日志组数：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT GROUP＃，BYTES FROM V $ STANDBY_LOG;</pre><p>如果重做源数据库是Oracle Real Applications Cluster（Oracle RAC）或Oracle Real Application Clusters One节点（Oracle RAC One Node）数据库，请在重做源数据库中查询<code class="codeph">V$LOG</code>视图以确定存在多少重做线程并指定将重做日志组添加到备用重做日志时的相应线程号。
                        </p>
                        <p>以下示例SQL语句在数据库中创建备用重做日志，该数据库用于从具有两个重做线程的重做源数据库接收重做：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DATABASE添加STANDBY LOGFILE THREAD 1 SIZE 500M; SQL&gt; ALTER DATABASE添加STANDBY LOGFILE THREAD 1 SIZE 500M; SQL&gt; ALTER DATABASE添加STANDBY LOGFILE THREAD 1 SIZE 500M; SQL&gt; ALTER DATABASE添加STANDBY LOGFILE THREAD 2 SIZE 500M; SQL&gt; ALTER DATABASE添加STANDBY LOGFILE THREAD 2 SIZE 500M; SQL&gt; ALTER DATABASE添加STANDBY LOGFILE THREAD 2 SIZE 500M;</pre><div class="infoboxnote" id="GUID-E6EC6104-3C38-482D-B807-A0E84ECFB937__GUID-45428B55-0C4E-47B6-B422-EA18D87B1513">
                           <p class="notep1">注意：</p>
                           <p>每当将重做日志组添加到主数据库时，还必须将日志组添加到配置中每个备用数据库的备用重做日志中。否则，备用数据库可能会在主日志切换后变得不同步，这可能会暂时阻止零数据丢失故障转移或导致在最大保护模式下运行的主数据库关闭。</p>
                        </div>
                     </div>
                  </div><a id="SBYDB5113"></a><div class="props_rev_3"><a id="GUID-7F508757-E1BA-4608-8D0E-946C3C765F61" name="GUID-7F508757-E1BA-4608-8D0E-946C3C765F61"></a><h5 id="SBYDB-GUID-7F508757-E1BA-4608-8D0E-946C3C765F61" class="sect5"><span class="enumeration_section">7.2.3.2将</span>重做直接写入存档重做日志文件的情况</h5>
                     <div>
                        <p>如果备用重做日志组不可用或者发送重做以解决重做间隙，则备用数据库接收的重做将直接写入存档的重做日志文件。发生这种情况时，redo将写入由一个<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数的<code class="codeph">LOCATION</code>属性指定的位置，该参数对于从另一个数据库接收的归档重做有效。用于此目的的<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数在挂载备用数据库时确定，并且每次修改<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数时都会重新评估此选项。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="SBYDB5122"></a><div class="props_rev_3"><a id="GUID-34BCB162-D996-4678-97F1-497805764950" name="GUID-34BCB162-D996-4678-97F1-497805764950"></a><h3 id="SBYDB-GUID-34BCB162-D996-4678-97F1-497805764950" class="sect3"><span class="enumeration_section">7.3</span>级联重做传输目的地</h3>
               <div>
                  <p>级联重做传输目标（也称为终端目标）从备用数据库间接接收主数据库重做，而不是直接从主数据库接收。</p>
                  <p>在将主数据库重做应用于其本地数据库文件的同时将主数据库重做级联到一个或多个终端目标的物理备用数据库称为级联备用数据库。</p>
                  <p>通过级联，与执行重做传输相关的开销从主数据库卸载到级联备用数据库。</p>
                  <p>级联备用数据库可以将主数据库重做级联到最多30个终端目标。</p>
                  <p>级联备用数据库可以实时级联重做<a id="d15287e1564" class="indexterm-anchor"></a><a id="d15287e1566" class="indexterm-anchor"></a><a id="d15287e1570" class="indexterm-anchor"></a> （因为它被写入备用重做日志文件）或非实时（因为完整的备用重做日志文件正在级联备用数据库中存档）。
                  </p>
                  <p>级联具有以下限制：<a id="d15287e1577" class="indexterm-anchor"></a><a id="d15287e1581" class="indexterm-anchor"></a></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>只有物理备用数据库才能级联重做。</p>
                     </li>
                     <li>
                        <p>实时级联需要Oracle Active Data Guard选项的许可证。</p>
                     </li>
                     <li>
                        <p>仅在目的地1到10上支持非实时级联。（所有目的地都支持实时级联。）</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-34BCB162-D996-4678-97F1-497805764950__GUID-F36FDDF8-2F72-423A-B0E7-2331A1BF6CA9">
                     <p class="notep1">注意：</p>
                     <p>有关<a href="upgrading-patching-downgrading-oracle-data-guard-configuration.html#GUID-784C06D8-9CFA-4244-BA55-D7003CAB3F1E" title="There are several points to consider before beginning to patch or upgrade your Oracle Database software.">在</a> Oracle数据库升级期间如何处理级联重做传输目标的信息，请参阅<a href="upgrading-patching-downgrading-oracle-data-guard-configuration.html#GUID-784C06D8-9CFA-4244-BA55-D7003CAB3F1E" title="在开始修补或升级Oracle数据库软件之前，需要考虑几点。">修补程序或升级Oracle数据库软件</a>之前的信息。
                     </p>
                  </div>
                  <p>另请参阅以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-10CFB766-F688-4CD8-80CC-7824A522D1DF" title="这些步骤描述了如何配置终端目标。">配置终端目的地</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-5CE6C2AB-86AA-4402-AD7E-0820F3935827" title="可以将Data Guard配置设置为级联到单个物理备用数据库或多个物理备用数据库。">级联场景</a></p>
                     </li>
                  </ul>
               </div><a id="SBYDB5124"></a><a id="SBYDB5123"></a><div class="props_rev_3"><a id="GUID-10CFB766-F688-4CD8-80CC-7824A522D1DF" name="GUID-10CFB766-F688-4CD8-80CC-7824A522D1DF"></a><h4 id="SBYDB-GUID-10CFB766-F688-4CD8-80CC-7824A522D1DF" class="sect4"><span class="enumeration_section">7.3.1</span>配置终端目的地</h4>
                  <div>
                     <p>这些步骤描述了如何配置终端目标。</p>
                     <ol>
                        <li class="stepexpand"><span>选择要配置为级联备用数据库的物理备用数据库。</span></li>
                        <li class="stepexpand"><span>在级联备用数据库上，使用<code class="codeph">FAL_SERVER</code>数据库的Oracle Net别名或直接从主数据库接收重做的备用数据库配置<code class="codeph">FAL_SERVER</code>数据库初始化参数。</span></li>
                        <li class="stepexpand"><span>在级联备用数据库上，为一个或多个终端目标配置<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>数据库初始化参数。使用终端目标的Oracle Net别名配置此目标的<code class="codeph">SERVICE</code>属性，并使<code class="codeph">VALID</code>属性在备用角色中对备用重做日志的归档有效。</span><div>
                              <p>如果在目标1到10上指定<code class="codeph">ASYNC</code>传输模式，则重做实时发送。如果未指定传输模式或在目标1到10上指定<code class="codeph">SYNC</code> ，则重做将以非实时方式发送。目的地11到31仅在<code class="codeph">ASYNC</code> （实时）传输模式下操作。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在终端目标，使用级联备用数据库的Oracle Net别名或直接连接到主数据库的另一个备用数据库配置<code class="codeph">FAL_SERVER</code>数据库初始化参数。虽然也可以指定主数据库，但这会破坏级联的目的，即减少主数据库上的重做传输开销。</span></li>
                        <li class="stepexpand"><span><a href="oracle-data-guard-redo-transport-services.html#GUID-10CFB766-F688-4CD8-80CC-7824A522D1DF__BEHHDCCI">示例7-1</a>显示了Oracle Data Guard配置成员使用的一些数据库初始化参数，这些参数包括名为<code class="codeph">boston</code>的主数据库，该数据库将重做发送到名为<code class="codeph">boston2</code>的本地物理备用数据库，然后将主数据库重做级联到远程物理数据库备用数据库名为<code class="codeph">denver</code> 。</span><div>
                              <p>还可以在数据库<code class="codeph">boston</code>上配置<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>数据库初始化参数，该数据库<code class="codeph">boston</code>在数据库<code class="codeph">boston</code>处于备用角色时对数据库<code class="codeph">denver</code>备用重做日志存档有效。如果在数据库<code class="codeph">boston</code>和数据库<code class="codeph">boston2</code>之间执行切换，这将允许重做级联到数据库<code class="codeph">denver</code>继续。
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="example" id="GUID-10CFB766-F688-4CD8-80CC-7824A522D1DF__BEHHDCCI">
                        <p class="titleinexample">例7-1级联重做时使用的一些初始化参数</p>
                        <p><span class="bold">主</span> <span class="bold">数据库</span></p><pre class="oac_no_warn" dir="ltr">DB_UNIQUE_NAME = boston FAL_SERVER = boston2 LOG_ARCHIVE_CONFIG ='DG_CONFIG =（boston，boston2，denver）'LOG_ARCHIVE_DEST_1 ='LOCATION = USE_DB_RECOVERY_FILE_DEST VALID_FOR =（ALL_LOGFILES，ALL_ROLES）DB_UNIQUE_NAME = boston'LOG_ARCHIVE_DEST_2 ='SERVICE = boston2 SYNC VALID_FOR =（ONLINE_LOGFILES，PRIMARY_ROLE） DB_UNIQUE_NAME = boston2'</pre><p><span class="bold">级联物理备用数据库</span></p><pre class="oac_no_warn" dir="ltr">DB_UNIQUE_NAME = boston2 FAL_SERVER =波士顿LOG_ARCHIVE_CONFIG = 'DG_CONFIG =（波士顿，boston2，丹佛）' LOG_ARCHIVE_DEST_1 = 'LOCATION = USE_DB_RECOVERY_FILE_DEST VALID_FOR =（ALL_LOGFILES，ALL_ROLES）DB_UNIQUE_NAME = boston2' LOG_ARCHIVE_DEST_2 =“SERVICE =丹佛VALID_FOR =（STANDBY_LOGFILES，STANDBY_ROLE）DB_UNIQUE_NAME =丹佛</pre><p><span class="bold">级联物理备用数据库</span></p><pre class="oac_no_warn" dir="ltr">DB_UNIQUE_NAME = denver FAL_SERVER = boston2 LOG_ARCHIVE_CONFIG ='DG_CONFIG =（boston，boston2，denver）'LOG_ARCHIVE_DEST_1 ='LOCATION = USE_DB_RECOVERY_FILE_DEST VALID_FOR =（ALL_LOGFILES，ALL_ROLES）DB_UNIQUE_NAME = denver'</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>有关在设置级联环境后验证配置的信息，请参阅<span class="q">“ <a href="oracle-data-guard-redo-transport-services.html#GUID-A0AAA20B-4DF8-4698-A7E0-3BED5A2C11E9" title="要在创建Oracle Data Guard配置后验证它，请从配置中的任何数据库查询V $ DATAGUARD_CONFIG视图。">验证配置</a> ”</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB5126"></a><div class="props_rev_3"><a id="GUID-5CE6C2AB-86AA-4402-AD7E-0820F3935827" name="GUID-5CE6C2AB-86AA-4402-AD7E-0820F3935827"></a><h4 id="SBYDB-GUID-5CE6C2AB-86AA-4402-AD7E-0820F3935827" class="sect4"><span class="enumeration_section">7.3.2</span>级联场景</h4>
                  <div>
                     <p>可以将Data Guard配置设置为级联到单个物理备用数据库或多个物理备用数据库。</p>
                     <p>请参阅以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="oracle-data-guard-redo-transport-services.html#GUID-D1F7299F-0924-46AA-B12D-D2579F8E0FCC" title="这些步骤提供了级联到物理备用数据库的示例。">级联到物理待机</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-data-guard-redo-transport-services.html#GUID-09B8562C-2A31-4B7C-832D-027ED07BE5D4" title="这些步骤提供了级联到多个物理备用数据库的示例。">级联到多个物理备用数据库</a></p>
                        </li>
                     </ul>
                  </div><a id="SBYDB5127"></a><div class="props_rev_3"><a id="GUID-D1F7299F-0924-46AA-B12D-D2579F8E0FCC" name="GUID-D1F7299F-0924-46AA-B12D-D2579F8E0FCC"></a><h5 id="SBYDB-GUID-D1F7299F-0924-46AA-B12D-D2579F8E0FCC" class="sect5"><span class="enumeration_section">7.3.2.1</span>级联到物理备用</h5>
                     <div>
                        <p>这些步骤提供了级联到物理备用数据库的示例。</p>
                        <div class="section">
                           <p>在这种情况下，您拥有一个任务关键型主数据库。此数据库具有严格的性能和数据保护要求，因此您决定部署本地物理备用数据库以提供零数据丢失保护和远程级联物理备用数据库，以防止主要和本地备用数据库站点发生区域性灾难。</p>
                           <p>您可以通过执行以下步骤来实现上述目标：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>在本地站点上创建物理备用数据库。</span></li>
                           <li><span>在远程站点上创建物理备用数据库，以便在主要和本地备用数据库站点上提供针对区域性灾难的保护。</span></li>
                           <li><span>将本地备用数据库配置为主数据库的<code class="codeph">SYNC</code>重做传输目标。</span></li>
                           <li><span>将远程物理备用数据库配置为本地备用数据库的终端目标。</span></li>
                        </ol>
                     </div>
                  </div><a id="SBYDB5128"></a><div class="props_rev_3"><a id="GUID-09B8562C-2A31-4B7C-832D-027ED07BE5D4" name="GUID-09B8562C-2A31-4B7C-832D-027ED07BE5D4"></a><h5 id="SBYDB-GUID-09B8562C-2A31-4B7C-832D-027ED07BE5D4" class="sect5"><span class="enumeration_section">7.3.2.2</span>级联到多个物理备用站</h5>
                     <div>
                        <p>这些步骤提供了级联到多个物理备用数据库的示例。</p>
                        <div class="section">
                           <p>在此方案中，您在北美拥有主数据库，并且您希望在欧洲部署此数据库的三个副本以支持只读报告应用程序。出于成本和性能原因，您不希望维护从北美到每个欧洲站点的网络链接。</p>
                           <p>您可以通过执行以下步骤来实现上述目标：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>在您的北美网站和您的一个欧洲网站之间创建网络链接。</span></li>
                           <li><span>在每个欧洲站点创建物理备用数据库。</span></li>
                           <li><span>以实时查询模式打开物理备用数据库，如<a href="managing-oracle-data-guard-physical-standby-databases.html#GUID-D5FB88EC-799D-40E7-80E1-19474E3167E4" title="可以打开物理备用数据库以进行只读访问，并用于从主数据库卸载查询。">打开物理备用数据库中所述</a> 。</span></li>
                           <li><span>在跨大西洋网络链路的欧洲端点配置物理备用数据库，以便将重做级联到您的其他欧洲备用数据库。</span></li>
                           <li><span>将其他两个物理备用数据库配置为步骤4中配置的级联备用数据库的终端目标。</span></li>
                        </ol>
                     </div>
                  </div>
               </div>
            </div><a id="SBYDB5254"></a><div class="props_rev_3"><a id="GUID-988FF469-5815-4FC3-B529-AE1BE9ACD67B" name="GUID-988FF469-5815-4FC3-B529-AE1BE9ACD67B"></a><h3 id="SBYDB-GUID-988FF469-5815-4FC3-B529-AE1BE9ACD67B" class="sect3"><span class="enumeration_section">7.4</span>级联备用数据的数据保护注意事项</h3>
               <div>
                  <p>当您的配置包括级联备用数据库时，每个目标应定义一个<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数，该参数指向其源以便在故障转移期间使用。
                  </p>
                  <p>实时级联使级联备用数据库能够提供与使用异步重做传输直接从主数据库接收重做的任何备用数据库几乎相同级别的数据保护。但是，尽管重做是实时转发的，但如果中断阻止所有重做到达终端目的地，则存在第二个网络跳的事实会产生额外数据丢失的可能性。</p>
               </div>
            </div><a id="SBYDB5407"></a><div class="props_rev_3"><a id="GUID-A0AAA20B-4DF8-4698-A7E0-3BED5A2C11E9" name="GUID-A0AAA20B-4DF8-4698-A7E0-3BED5A2C11E9"></a><h3 id="SBYDB-GUID-A0AAA20B-4DF8-4698-A7E0-3BED5A2C11E9" class="sect3"><span class="enumeration_section">7.5</span>验证配置</h3>
               <div>
                  <p>要在创建Oracle Data Guard配置后验证它，请从配置中的任何数据库查询<code class="codeph">V$DATAGUARD_CONFIG</code>视图。
                  </p>
                  <div class="section">
                     <p>该视图显示使用<code class="codeph">DB_UNIQUE_NAME</code>和<code class="codeph">LOG_ARCHIVE_CONFIG</code>初始化参数定义的唯一数据库名称。
                     </p>
                     <div class="infoboxnotealso" id="GUID-A0AAA20B-4DF8-4698-A7E0-3BED5A2C11E9__GUID-15C4DCEF-C9AE-45EB-9D25-4009B9E0D166">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">V$DATAGUARD_CONFIG</code>视图的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN30053" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB4756"></a><div class="props_rev_3"><a id="GUID-282DA542-4C7C-40E2-A3CB-6486CDCF0C0A" name="GUID-282DA542-4C7C-40E2-A3CB-6486CDCF0C0A"></a><h3 id="SBYDB-GUID-282DA542-4C7C-40E2-A3CB-6486CDCF0C0A" class="sect3"><span class="enumeration_section">7.6</span>监控重做传输服务</h3>
               <div>
                  <p>您可以监控重做传输状态以及重做传输响应时间。</p>
                  <p>请参阅以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-A9239CAA-DCE9-4108-9516-980FF37A3AE5" title="您可以查询视图以监视重做源数据库上的重做传输状态。">监控重做传输状态</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-666D0186-B639-4DB2-9993-D1947230C50F" title="V $ REDO_DEST_RESP_HISTOGRAM视图包含每个重做传输目标的响应时间数据。">监控同步重做传输响应时间</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-05CE1D49-3DEE-4AAC-A887-55ED436912AF" title="重做传输中断时会发生重做间隙。">重做间隙检测和分辨率</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-EB15DAF9-40A8-4185-B4C2-F8BB4FBD33CE" title="您可以使用Oracle等待事件来跟踪重做源数据库上的重做传输等待时间。">重做传输服务等待事件</a></p>
                     </li>
                  </ul>
               </div><a id="SBYDB4757"></a><div class="props_rev_3"><a id="GUID-A9239CAA-DCE9-4108-9516-980FF37A3AE5" name="GUID-A9239CAA-DCE9-4108-9516-980FF37A3AE5"></a><h4 id="SBYDB-GUID-A9239CAA-DCE9-4108-9516-980FF37A3AE5" class="sect4"><span class="enumeration_section">7.6.1</span>监控重做传输状态</h4>
                  <div>
                     <p>您可以查询视图以监视重做源数据库上的重做传输状态。</p>
                     <div class="section">
                        <p>执行以下步骤以监视重做源数据库上的重做传输状态。</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>对重做源数据库执行以下查询以确定每个线程的最近归档序列号：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT MAX（SEQUENCE＃），THREAD＃FROM V $ ARCHIVED_LOG  - &gt; WHERE RESETLOGS_CHANGE＃=（SELECT MAX（RESETLOGS_CHANGE＃）FROM V $ ARCHIVED_LOG） - &gt; GROUP BY THREAD＃;</pre></div>
                        </li>
                        <li class="stepexpand"><span>在重做源数据库上执行以下查询，以确定每个重做传输目标上最近归档的重做日志文件：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT DESTINATION，STATUS，ARCHIVED_THREAD＃，ARCHIVED_SEQ＃ - &gt; FROM V $ ARCHIVE_DEST_STATUS  - &gt; WHERE STATUS &lt;&gt;'DEFERRED'和STATUS &lt;&gt;'INACTIVE';目的地状态ARCHIVED_THREAD＃ARCHIVED_SEQ＃------------------ ------ ---------------- ---- --------- / private1 / prmy / lad VALID 1 947 standby1 VALID 1 947</pre><p>对于每个目标，最近归档的重做日志文件应该相同。如果不是，则<code class="codeph">VALID</code>以外的状态可以识别在到该目的地的归档操作期间遇到的错误。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在重做源数据库上执行查询，以查明是否在特定的重做传输目标上收到了归档的重做日志文件。每个目的地都有一个与之关联的ID号。您可以在<code class="codeph">DEST_ID</code>中查询<code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">DEST_ID</code>列，以标识每个目标的ID号。</span><div>
                              <p>假设目标1指向本地存档重做日志，并且目标2指向重做传输目标。在重做源数据库中执行以下查询以查明重做传输目标上是否缺少任何日志文件：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT LOCAL.THREAD＃，LOCAL.SEQUENCE＃FROM  - &gt;（SELECT THREAD＃，SEQUENCE＃FROM V $ ARCHIVED_LOG WHERE DEST_ID = 1） - &gt; LOCAL WHERE  - &gt; LOCAL.SEQUENCE＃NOT IN  - &gt;（SELECT SEQUENCE＃FROM V $ ARCHIVED_LOG WHERE DEST_ID = 2 AND  - &gt; THREAD＃= LOCAL.THREAD＃）; THREAD＃SEQUENCE＃--------- --------- 1 12 1 13 1 14</pre></div>
                        </li>
                        <li class="stepexpand"><span>在重做源数据库和每个重做传输目标上设置<code class="codeph">LOG_ARCHIVE_TRACE</code>数据库初始化参数以跟踪重做传输进度。有关完整的详细信息和示例，请参阅<a href="setting-LOG_ARCHIVE_TRACE-initialization-parameter.html#GUID-515A27B2-5163-42E1-A78D-B6E979BA54EB" title="Oracle数据库使用LOG_ARCHIVE_TRACE初始化参数来启用和控制日志归档和重做传输活动的综合跟踪信息的生成。">设置存档跟踪</a></span></li>
                     </ol>
                  </div>
               </div><a id="SBYDB00546"></a><div class="props_rev_3"><a id="GUID-666D0186-B639-4DB2-9993-D1947230C50F" name="GUID-666D0186-B639-4DB2-9993-D1947230C50F"></a><h4 id="SBYDB-GUID-666D0186-B639-4DB2-9993-D1947230C50F" class="sect4"><span class="enumeration_section">7.6.2</span>监控同步重做传输响应时间</h4>
                  <div>
                     <p><code class="codeph">V$REDO_DEST_RESP_HISTOGRAM</code>视图包含每个重做传输目标的响应时间数据。
                     </p>
                     <p>为通过同步重做传输模式发送的重做传输消息维护响应时间数据。</p>
                     <p>每个目标的数据由一系列行组成，每个响应时间占一行。为了简化记录保持，响应时间小于300秒，响应时间向上舍入到最接近的整秒。响应时间大于300秒的时间为600,1200,2400,4800或9600秒。</p>
                     <p>每行包含四列： <code class="codeph">FREQUENCY</code> ， <code class="codeph">DURATION</code> ， <code class="codeph">DEST_ID</code>和<code class="codeph">TIME</code> 。</p>
                     <p><code class="codeph">FREQUENCY</code>列包含已观察到给定响应时间的次数。<code class="codeph">DURATION</code>列对应于响应时间。<code class="codeph">DEST_ID</code>列标识目标。<code class="codeph">TIME</code>列包含上次更新行时的时间戳。
                     </p>
                     <p>此视图中的响应时间数据对于识别可能影响重做源数据库上的事务吞吐量的同步重做传输模式性能问题非常有用。它对调整<code class="codeph">NET_TIMEOUT</code>属性也很有用。
                     </p>
                     <p>接下来的三个示例显示目标2的示例查询，它对应于<code class="codeph">LOG_ARCHIVE_DEST_2</code>参数。要显示不同目标的响应时间数据，只需更改查询中的<code class="codeph">DEST_ID</code>即可。
                     </p>
                     <p>在重做源数据库上执行以下查询以显示目标2的响应时间直方图：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT FREQUENCY，DURATION FROM  - &gt; V $ REDO_DEST_RESP_HISTOGRAM WHERE DEST_ID = 2 AND FREQUENCY&gt; 1;</pre><p>在重做源数据库上执行以下查询以显示目标2的最慢响应时间：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT max（DURATION）FROM V $ REDO_DEST_RESP_HISTOGRAM  - &gt; WHERE DEST_ID = 2 AND FREQUENCY&gt; 1;</pre><p>在重做源数据库上执行以下查询以显示目标2的最快响应时间：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT min（DURATION）FROM V $ REDO_DEST_RESP_HISTOGRAM  - &gt; WHERE DEST_ID = 2 AND FREQUENCY&gt; 1;</pre><div class="infoboxnote" id="GUID-666D0186-B639-4DB2-9993-D1947230C50F__GUID-0D702739-CD2B-4F1B-90D1-B7B09853C2E2">
                        <p class="notep1">注意：</p>
                        <p>目标的最高观察响应时间不能超过为该目标指定的最高指定<code class="codeph">NET_TIMEOUT</code>值，因为如果重做传输目标在<code class="codeph">NET_TIMEOUT</code>秒内没有响应重做传输消息，则终止同步重做传输模式会话。
                        </p>
                     </div>
                  </div>
               </div><a id="SBYDB00718"></a><div class="props_rev_3"><a id="GUID-05CE1D49-3DEE-4AAC-A887-55ED436912AF" name="GUID-05CE1D49-3DEE-4AAC-A887-55ED436912AF"></a><h4 id="SBYDB-GUID-05CE1D49-3DEE-4AAC-A887-55ED436912AF" class="sect4"><span class="enumeration_section">7.6.3</span>重做间隙检测和分辨率</h4>
                  <div>
                     <p>重做传输中断时会发生重做间隙。</p>
                     <p>当重做传输恢复时，重做传输服务会自动检测重做间隙并通过将丢失的重做发送到目的地来解决它。</p>
                     <p></p>
                     <p>解决重做间隙所需的时间与间隙的大小成正比，并且与重做源数据库和重做传输目的地之间的网络链路的有效吞吐量成反比。使用重做传输压缩来减少重做间隙解析时间。<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数的<code class="codeph">COMPRESSION</code>属性用于指定在传输到目标之前压缩重做数据。
                     </p>
                     <p>有关<code class="codeph">COMPRESSION</code>属性的更多信息，请参见<a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-B04FC22C-F0B0-440F-BAF4-182EE547FCC1" title="这是LOG_ARCHIVE_DEST_n初始化参数的属性列表（其中n是1到31之间的整数）。">LOG_ARCHIVE_DEST_n参数属性</a> 。
                     </p>
                  </div><a id="SBYDB4758"></a><div class="props_rev_3"><a id="GUID-97EB433B-4125-4082-9276-2454349BC4F8" name="GUID-97EB433B-4125-4082-9276-2454349BC4F8"></a><h5 id="SBYDB-GUID-97EB433B-4125-4082-9276-2454349BC4F8" class="sect5"><span class="enumeration_section">7.6.3.1</span>手动间隙分辨率</h5>
                     <div>
                        <p>在某些情况下，无法自动执行间隙分辨，必须手动执行。</p>
                        <div class="section">
                           <p>例如，如果主数据库不可用，则必须在逻辑备用数据库上手动执行重做间隙解析。</p>
                           <p>在物理备用数据库上执行以下查询以确定物理备用数据库上是否存在重做间隙：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM V $ ARCHIVE_GAP; THREAD＃LOW_SEQUENCE＃HIGH_SEQUENCE＃----------- ------------- -------------- 1 7 10</pre><p>前一个示例的输出表明物理备用数据库当前缺少从序列7到序列10的日志文件，用于线程1。</p>
                           <p>在主数据库上执行以下查询以在主数据库上找到存档的重做日志文件（假设主数据库上的本地存档目标是<code class="codeph">LOG_ARCHIVE_DEST_1</code> ）：</p>
                           <p></p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT NAME FROM V $ ARCHIVED_LOG THERE THREAD＃= 1 AND  - &gt; DEST_ID = 1 AND SEQUENCE＃BETWEEN 7和10;名称  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - - ------------------------------- /primary/thread1_dest/arcr_1_7.arc /primary/thread1_dest/arcr_1_8.arc / primary / thread1_dest / arcr_1_9.arc</pre><div class="infoboxnote" id="GUID-97EB433B-4125-4082-9276-2454349BC4F8__GUID-FAB1A664-A7C3-4357-B764-E36A8D329F24">
                              <p class="notep1">注意：</p>
                              <p>该查询可以返回给定线程的连续序列。在这种情况下，没有实际间隙，但在生成这两个存档日志的时间段内禁用并启用了关联的线程。该查询还没有识别给定线程的尾端可能存在的间隙。例如，如果主数据库已生成针对线程1的序列100的归档日志，并且逻辑备用数据库已为给定线程接收的最新归档日志是与序列77关联的那个，则此查询不返回任何行，尽管与序列78到100相关联的存档日志存在间隙。</p>
                           </div>
                           <p>将这些日志文件复制到物理备用数据库，并使用<code class="codeph">ALTER DATABASE REGISTER LOGFILE</code>注册它们。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DATABASE REGISTER LOGFILE  - &gt;'/physical_standby1 / thread1_dest / arcr_1_7.arc'; SQL&gt; ALTER DATABASE REGISTER LOGFILE  - &gt;'/physical_standby1 / thread1_dest / arcr_1_8.arc'; SQL&gt; ALTER DATABASE REGISTER LOGFILE  - &gt;'/physical_standby1 /thread1_dest/arcr_1_9.arc';</pre><div class="infoboxnote" id="GUID-97EB433B-4125-4082-9276-2454349BC4F8__GUID-2E5EA6F4-DF54-4947-AD2F-F46DCB62CBDA">
                              <p class="notep1">注意：</p>
                              <p>物理备用数据库上的<code class="codeph">V$ARCHIVE_GAP</code>视图仅返回当前阻止重做应用继续的间隙。解决间隙后，再次在物理备用数据库上查询<code class="codeph">V$ARCHIVE_GAP</code>视图，以确定是否存在另一个间隙序列。重复此过程，直到没有间隙。
                              </p>
                           </div>
                           <p>要确定逻辑备用数据库上是否存在重做间隙，请查询逻辑备用数据库上的<code class="codeph">DBA_LOGSTDBY_LOG</code>视图。例如，以下查询表明归档重做日志文件序列中存在间隙，因为它在逻辑备用数据库上显示<code class="codeph">THREAD 1</code>两个文件。（如果没有间隙，则查询仅显示每个线程的一个文件。）输出显示最高的已注册文件是序列号10，但是文件中显示的序列号为6：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; COLUMN FILE_NAME FORMAT a55 SQL&gt; SELECT THREAD＃，SEQUENCE＃，FILE_NAME FROM DBA_LOGSTDBY_LOG L  - &gt; WHERE NEXT_CHANGE＃NOT IN  - &gt;（SELECT FIRST_CHANGE＃FROM DBA_LOGSTDBY_LOG WHERE L.THREAD＃= THREAD＃） - &gt; ORDER BY THREAD＃，序列＃; THREAD＃SEQUENCE＃FILE_NAME ---------- ---------- ------------------------- ---------------------- 1 6 /disk1/oracle/dbs/log-1292880008_6.arc 1 10 /disk1/oracle/dbs/log-1292880008_10.arc</pre><p>将缺少的日志文件（序列号为7,8和9）复制到逻辑备用系统，并使用<code class="codeph">ALTER DATABASE REGISTER LOGICAL LOGFILE</code>语句对其进行<code class="codeph">ALTER DATABASE REGISTER LOGICAL LOGFILE</code> 。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DATABASE REGISTER LOGICAL LOGFILE  - &gt;'/disk1/oracle/dbs/log-1292880008_7.arc'; SQL&gt; ALTER DATABASE REGISTER LOGICAL LOGFILE  - &gt;'/disk1/oracle/dbs/log-1292880008_8.arc'; SQL&gt; ALTER DATABASE REGISTER LOGICAL LOGFILE  - &gt;'/disk1/oracle/dbs/log-1292880008_9.arc';</pre><div class="infoboxnote" id="GUID-97EB433B-4125-4082-9276-2454349BC4F8__GUID-F49543CF-86CF-4DAB-B16B-676EBE8272B3">
                              <p class="notep1">注意：</p>
                              <p>如上所述，基于逻辑备用数据库上的<code class="codeph">DBA_LOGSTDBY_LOG</code>视图的查询仅返回当前阻止SQL Apply继续的间隙。解决间隙后，再次在逻辑备用数据库上查询<code class="codeph">DBA_LOGSTDBY_LOG</code>视图，以确定是否存在另一个间隙序列。重复此过程，直到没有间隙。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="SBYDB5029"></a><a id="SBYDB4759"></a><div class="props_rev_3"><a id="GUID-EB15DAF9-40A8-4185-B4C2-F8BB4FBD33CE" name="GUID-EB15DAF9-40A8-4185-B4C2-F8BB4FBD33CE"></a><h4 id="SBYDB-GUID-EB15DAF9-40A8-4185-B4C2-F8BB4FBD33CE" class="sect4"><span class="enumeration_section">7.6.4</span>重做传输服务等待事件</h4>
                  <div>
                     <p>您可以使用Oracle等待事件来跟踪重做源数据库上的重做传输等待时间。</p>
                     <div class="section">
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-EB15DAF9-40A8-4185-B4C2-F8BB4FBD33CE__BABHDCCD" title="此2列表列出了重做传输等待事件。第1列是等待事件。第2列是该事件的描述。">表7-2</a>列出了其中几个Oracle等待事件，这些事件位于<code class="codeph">V$SYSTEM_EVENT</code>动态性能视图中。
                        </p>
                        <p>有关重做传输使用的Oracle等待事件的完整列表，请参阅Oracle最高可用性体系结构（MAA）主页上的Oracle Data Guard重做传输和网络最佳实践白皮书：</p>
                        <p><a href="http://www.oracle.com/goto/maa" target="_blank"><code class="codeph">http://www.oracle.com/goto/maa</code></a></p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-EB15DAF9-40A8-4185-B4C2-F8BB4FBD33CE__BABHDCCD">
                        <p class="titleintable">表7-2重做传输等待事件</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="重做传输等待事件" width="100%" border="1" summary="This 2 column table lists Redo Transport Wait Events. Column 1 is the wait event. Column 2 is a description of that event. " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d15287e3045">等待事件</th>
                                 <th align="left" valign="bottom" width="69%" id="d15287e3048">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d15287e3053" headers="d15287e3045 ">
                                    <p>LNS等待ATTACH</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d15287e3053 d15287e3048 ">
                                    <p>等待重做传输会话建立到所有<code class="codeph">ASYNC</code>和<code class="codeph">SYNC</code>重做传输目的地所花费的总时间</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d15287e3066" headers="d15287e3045 ">
                                    <p>LNS等待SENDREQ</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d15287e3066 d15287e3048 ">
                                    <p>等待重做数据写入所有<code class="codeph">ASYNC</code>和<code class="codeph">SYNC</code>重做传输目标所花费的总时间</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d15287e3079" headers="d15287e3045 ">
                                    <p>LNS等待DETACH</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d15287e3079 d15287e3048 ">
                                    <p>等待重做传输连接终止到所有<code class="codeph">ASYNC</code>和<code class="codeph">SYNC</code>重做传输目标所花费的总时间</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div><a id="SBYDB4760"></a><div class="props_rev_3"><a id="GUID-665E1862-E9F2-4CB2-BFF5-B5F741FD475E" name="GUID-665E1862-E9F2-4CB2-BFF5-B5F741FD475E"></a><h3 id="SBYDB-GUID-665E1862-E9F2-4CB2-BFF5-B5F741FD475E" class="sect3"><span class="enumeration_section">7.7</span>调整重做传输</h3>
               <div>
                  <p>您可以优化重做传输以获得最佳性能。</p>
                  <p></p>
                  <p>Data Guard自动调整重做传输以优化性能。但是，如果您想要更多地控制调整，可以使用调整重做传输中使用的以下区域：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>网络配置</p>
                     </li>
                     <li>
                        <p>存储配置</p>
                     </li>
                     <li>
                        <p>快恢复区</p>
                     </li>
                     <li>
                        <p>重做传输配置</p>
                     </li>
                  </ul>
                  <p>请参阅Oracle最高可用性体系结构（MAA）主页上提供的Oracle Data Guard重做传输和网络配置最佳实践白皮书：</p>
                  <p><a href="http://www.oracle.com/goto/maa" target="_blank"><code class="codeph">http://www.oracle.com/goto/maa</code></a></p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03266.specifying-model-settings.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Understand how to configure data mining models at build time."></meta>
      <meta name="description" content="Understand how to configure data mining models at build time."></meta>
      <title>指定模型设置</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User&#39;s Guide"></meta>
      <meta property="og:description" content="Understand how to configure data mining models at build time."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-mining-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T04:34:41-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E97868-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="partitioned-model.html" title="Previous" type="text/html"></link>
      <link rel="next" href="model-detail-views.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Mining User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DMPRG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="partitioned-model.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="model-detail-views.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="model-creation.html" property="item" typeof="WebPage"><span property="name">创建模型</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">指定模型设置</li>
            </ol>
            <a id="GUID-F1083AFB-E357-4BC8-B629-1ABD85EBFA38" name="GUID-F1083AFB-E357-4BC8-B629-1ABD85EBFA38"></a><a id="DMPRG203"></a><a id="DMPRG201"></a><a id="DMPRG820"></a><a id="DMPRG204"></a><a id="DMPRG767"></a>
            
            <h2 id="DMPRG-GUID-F1083AFB-E357-4BC8-B629-1ABD85EBFA38" class="sect2"><span class="enumeration_section">5.3</span>指定模型设置</h2>
         </header>
         <div class="ind">
            <div>
               <p>了解如何在构建时配置数据挖掘模型。</p>
               <div class="section">
                  <p>许多配置设置可用于在构建时配置数据挖掘模型。要指定设置，请使用下表中显示的列创建设置表，并将表传递给<code class="codeph">CREATE_MODEL</code> 。</p>
                  <div class="tblformal" id="GUID-F1083AFB-E357-4BC8-B629-1ABD85EBFA38__CBJDIJAI">
                     <p class="titleintable">表5-4设置表所需列</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="设置表所需的列" width="100%" border="1" summary="Columns required in the settings table." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d14938e38">列名称</th>
                              <th align="left" valign="bottom" width="69%" id="d14938e41">数据类型</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d14938e46" headers="d14938e38 ">
                                 <p><code class="codeph">SETTING_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d14938e46 d14938e41 ">
                                 <p><code class="codeph">VARCHAR2（30）</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d14938e55" headers="d14938e38 ">
                                 <p><code class="codeph">setting_value</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d14938e55 d14938e41 ">
                                 <p><code class="codeph">VARCHAR2（4000）</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p><a href="specifying-model-settings.html#GUID-F1083AFB-E357-4BC8-B629-1ABD85EBFA38__BCGICJGA">例5-1</a>为支持向量机（SVM）分类模型创建了一个设置表。由于SVM不是默认分类器，因此<code class="codeph">ALGO_NAME</code>设置用于指定算法。将<code class="codeph">SVMS_KERNEL_FUNCTION</code>设置为<code class="codeph">SVMS_LINEAR</code>会导致使用线性内核构建模型。如果未指定内核函数，则算法会根据数据中的属性数选择内核。
                  </p>
                  <p>某些设置通常适用于模型，其他设置特定于算法。<a href="specifying-model-settings.html#GUID-F1083AFB-E357-4BC8-B629-1ABD85EBFA38__BCGICDHA" title="此表列出了模型设置的类型，并提供了Oracle Database PL / SQL包和类型参考中其文档的链接">表5-5</a>和<a href="specifying-model-settings.html#GUID-F1083AFB-E357-4BC8-B629-1ABD85EBFA38__BCGFJIDD" title="此表列出了特定于算法的模型设置，其中包含指向PL / SQL包和类型中文档的链接">表5-6</a>中引用了模型设置。
                  </p>
                  <div class="tblformalwide" id="GUID-F1083AFB-E357-4BC8-B629-1ABD85EBFA38__BCGICDHA">
                     <p class="titleintable">表5-5一般模型设置</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="一般模型设置" width="100%" border="1" summary="This table lists the type of model settings and provides links to their documentation in Oracle Database PL/SQL Packages and Types Reference" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="27%" id="d14938e97">设置</th>
                              <th align="left" valign="bottom" width="73%" id="d14938e100">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e105" headers="d14938e97 ">
                                 <p>挖掘功能设置</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e105 d14938e100 ">
                                 <p>请参见“ <span class="italic">Oracle数据库PL / SQL包和类型参考</span> ”中的“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS616" target="_blank">挖掘功能设置</a> ”</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e118" headers="d14938e97 ">
                                 <p>算法名称</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e118 d14938e100 ">
                                 <p>请参阅“ <span class="italic">Oracle数据库PL / SQL包和类型参考</span> ”中的“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS65784" target="_blank">算法名称</a> ”</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e131" headers="d14938e97 ">
                                 <p>全球模型特征</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e131 d14938e100 ">
                                 <p>请参见“ <span class="italic">Oracle数据库PL / SQL包和类型参考</span> ”中的“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS617" target="_blank">全局设置</a> ”</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e144" headers="d14938e97 ">
                                 <p>自动数据准备</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e144 d14938e100 ">
                                 <p>请参见“ <span class="italic">Oracle数据库PL / SQL包和类型参考</span> ”中的“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS621" target="_blank">自动数据准备</a> ”</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformalwide" id="GUID-F1083AFB-E357-4BC8-B629-1ABD85EBFA38__BCGFJIDD">
                     <p class="titleintable">表5-6特定于算法的模型设置</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="特定于算法的模型设置" width="100%" border="1" summary="This table lists the algorithm-specific model settings with links to the documentation in PL/SQL Packages and Types" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="27%" id="d14938e166">算法</th>
                              <th align="left" valign="bottom" width="73%" id="d14938e169">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e174" headers="d14938e166 ">
                                 <p>CUR矩阵分解</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e174 d14938e169 ">
                                 <p>请参见<span class="q">“</span> <span><cite>Oracle数据库PL / SQL包和类型参考</cite></span> <span class="q">”</span>中的<span class="q">“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-D42F5952-1C59-431D-BACE-21C8C82AAE41" target="_blank">DBMS_DATA_MINING  - 算法设置：CUR矩阵分解</a> ”</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e189" headers="d14938e166 ">
                                 <p>决策树</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e189 d14938e169 ">
                                 <p>请参见“ <span><cite>Oracle数据库PL / SQL包和类型参考</cite></span> ”中的“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS610" target="_blank">DBMS_DATA_MINING  - 算法设置：决策树</a> ”</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e203" headers="d14938e166 ">
                                 <p>期望最大化</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e203 d14938e169 ">
                                 <p>请参见“ <span class="italic">Oracle数据库PL / SQL包和类型参考</span> ”中的“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS73747" target="_blank">DBMS_DATA_MINING  - 算法设置：期望最大化</a> ”</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e216" headers="d14938e166 ">
                                 <p>显式语义分析</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e216 d14938e169 ">
                                 <p>请参见“ <span class="italic">Oracle数据库PL / SQL包和类型参考</span> ”中的“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-91FC543B-24E4-4D93-9D79-E95B1846F3B7" target="_blank">DBMS_DATA_MINING  - 算法设置：显式语义分析</a> ”</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e229" headers="d14938e166 ">
                                 <p>指数平滑</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e229 d14938e169 ">
                                 <p>请参见<span class="q">“</span> <span><cite>Oracle数据库PL / SQL包和类型参考</cite></span> <span class="q">”</span>中的<span class="q">“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-A95A0A38-8A5A-4470-B49F-80D81C588BFC" target="_blank">DBMS_DATA_MINING  - 算法设置：指数平滑模型</a> ”</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e244" headers="d14938e166 ">
                                 <p>广义线性模型</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e244 d14938e169 ">
                                 <p>请参见“ <span class="italic">Oracle数据库PL / SQL包和类型参考</span> ”中的“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS612" target="_blank">DBMS_DATA_MINING  - 算法设置：广义线性模型</a> ”</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e257" headers="d14938e166 ">
                                 <p><span class="italic">k</span> -Means</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e257 d14938e169 ">
                                 <p>请参见“ <span class="italic">Oracle数据库PL / SQL包和类型参考</span> ”中的“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS618" target="_blank">DBMS_DATA_MINING  - 算法设置： <span class="italic">k</span> -Means</a> ”</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e275" headers="d14938e166 ">
                                 <p>朴素贝叶斯</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e275 d14938e169 ">
                                 <p>请参阅“ <span class="italic">Oracle数据库PL / SQL包和类型参考</span> ”中的“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS611" target="_blank">算法设置：朴素贝叶斯</a> ”</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e288" headers="d14938e166 ">
                                 <p>神经网络</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e288 d14938e169 ">
                                 <p>请参见<span class="q">“</span> <span><cite>Oracle数据库PL / SQL包和类型参考</cite></span> <span class="q">”</span>中的<span class="q">“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-7793F608-2719-45EA-87F9-6F246BA800D4" target="_blank">DBMS_DATA_MINING  - 算法设置：神经网络</a> ”</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e303" headers="d14938e166 ">
                                 <p>非负矩阵分解</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e303 d14938e169 ">
                                 <p>请参见“ <span class="italic">Oracle数据库PL / SQL包和类型参考</span> ”中的“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS619" target="_blank">DBMS_DATA_MINING  - 算法设置：非负矩阵分解</a> ”</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e316" headers="d14938e166 ">
                                 <p>O型集群</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e316 d14938e169 ">
                                 <p>请参见“ <span class="italic">Oracle数据库PL / SQL包和类型参考</span> ”中的“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS620" target="_blank">算法设置：O-Cluster</a> ”</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e330" headers="d14938e166 ">
                                 <p>随机森林</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e330 d14938e169 ">
                                 <p>请参阅<span class="q">“</span> <span><cite>Oracle数据库PL / SQL包和类型参考</cite></span> <span class="q">”</span>中的<span class="q">“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-481B6C67-B26E-4689-AD4C-98062D5A2117" target="_blank">DBMS_DATA_MINING  - 算法设置：随机森林</a> ”</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e345" headers="d14938e166 ">
                                 <p>奇异值分解</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e345 d14938e169 ">
                                 <p>请参见“ <span class="italic">Oracle数据库PL / SQL包和类型参考</span> ”中的“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS73749" target="_blank">DBMS_DATA_MINING  - 算法设置：奇异值分解</a> ”</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14938e358" headers="d14938e166 ">
                                 <p>支持向量机</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14938e358 d14938e169 ">
                                 <p>请参阅“ <span class="italic">Oracle数据库PL / SQL包和类型参考</span> ”中的“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS613" target="_blank">DBMS_DATA_MINING  - 算法设置：支持向量机</a> ”</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-F1083AFB-E357-4BC8-B629-1ABD85EBFA38__BCGICJGA">
                  <p class="titleinexample">示例5-1为SVM分类模型创建设置表</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE svmc_sh_sample_settings（setting_name VARCHAR2（30），setting_value VARCHAR2（4000））; BEGIN INSERT INTO svmc_sh_sample_settings（setting_name，setting_value）VALUES（dbms_data_mining.algo_name，dbms_data_mining.algo_support_vector_machines）; INSERT INTO svmc_sh_sample_settings（setting_name，setting_value）VALUES（dbms_data_mining.svms_kernel_function，dbms_data_mining.svms_linear）;承诺;结束; /</pre></div>
               <!-- class="example" -->
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>相关话题</strong></p>
                  <ul>
                     <li><a href="../arpls/DBMS_DATA_MINING.html#ARPLS608" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></li>
                  </ul>
               </div>
            </div><a id="DMPRG857"></a><a id="DMPRG856"></a><div class="props_rev_3"><a id="GUID-89E0DB46-BA9A-4420-8216-FD6C96C74D6D" name="GUID-89E0DB46-BA9A-4420-8216-FD6C96C74D6D"></a><h3 id="DMPRG-GUID-89E0DB46-BA9A-4420-8216-FD6C96C74D6D" class="sect3"><span class="enumeration_section">5.3.1</span>指定成本</h3>
               <div>
                  <p>指定成本矩阵表以构建决策树模型。</p>
                  <div class="section">
                     <p><code class="codeph">CLAS_COST_TABLE_NAME</code>设置指定要在构建决策树模型时使用的成本矩阵表的名称。一个<a id="d14938e409" class="indexterm-anchor"></a>成本矩阵偏向于分类模型，以最大限度地减少代价高昂的错误分类。成本矩阵表必须具有下表中显示的列：</p>
                     <div class="tblformal" id="GUID-89E0DB46-BA9A-4420-8216-FD6C96C74D6D__BCGGCGCD">
                        <p class="titleintable">表5-7成本矩阵表所需的列</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="成本矩阵表所需的列" width="100%" border="1" summary="Columns required in a cost matrix table." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="36%" id="d14938e422">列名称</th>
                                 <th align="left" valign="bottom" width="64%" id="d14938e425">数据类型</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d14938e430" headers="d14938e422 ">
                                    <p><code class="codeph">actual_target_value</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d14938e430 d14938e425 ">
                                    <p>有效的目标数据类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d14938e438" headers="d14938e422 ">
                                    <p><code class="codeph">predicted_target_value</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d14938e438 d14938e425 ">
                                    <p>有效的目标数据类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d14938e446" headers="d14938e422 ">
                                    <p><code class="codeph">成本</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d14938e446 d14938e425 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>决策树是在构建时支持成本矩阵的唯一算法。但是，您可以创建成本矩阵并将其与任何分类模型相关联以进行评分。</p>
                     <p>如果要使用成本进行评分，请创建一个包含<a href="specifying-model-settings.html#GUID-89E0DB46-BA9A-4420-8216-FD6C96C74D6D__BCGGCGCD" title="Columns required in a cost matrix table.">表5-7中</a>所示列的<a href="specifying-model-settings.html#GUID-89E0DB46-BA9A-4420-8216-FD6C96C74D6D__BCGGCGCD" title="成本矩阵表中所需的列。">表</a> ，并使用<code class="codeph">DBMS_DATA_MINING.ADD_COST_MATRIX</code>过程将成本矩阵表添加到模型中。您还可以在调用<code class="codeph">PREDICTION</code>函数时指定内联的成本矩阵。<a href="about-attributes.html#GUID-2070E844-B79E-464A-954B-A7401D773C07__CIHHHDBD" title="回归或分类目标的有效数据类型。分类目标可以是varchar2，char，number，float，binary_double，binary_float，ORA_MINING_VARCHAR2_NT。回归可以是number，float，binary_double，binary_float。">表3-1</a>包含有效目标数据类型的详细信息。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../dmapi/classification.html#DMCON032" target="_blank"><span><cite>Oracle数据挖掘概念</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="DMPRG859"></a><a id="DMPRG858"></a><div class="props_rev_3"><a id="GUID-4303E423-3613-4ABC-B077-450C20755F4C" name="GUID-4303E423-3613-4ABC-B077-450C20755F4C"></a><h3 id="DMPRG-GUID-4303E423-3613-4ABC-B077-450C20755F4C" class="sect3"><span class="enumeration_section">5.3.2</span>指定先验概率</h3>
               <div>
                  <p>先验概率可用于抵消构建数据与实际人口之间的分布差异。</p>
                  <div class="section">
                     <p><code class="codeph">CLAS_PRIORS_TABLE_NAME</code>设置指定先前表的名称<a id="d14938e509" class="indexterm-anchor"></a><a id="d14938e511" class="indexterm-anchor"></a>用于构建朴素贝叶斯模型的概率。priors表必须具有下表中显示的列。
                     </p>
                     <div class="tblformal" id="GUID-4303E423-3613-4ABC-B077-450C20755F4C__BCGEDJCH">
                        <p class="titleintable">表5-8 Priors表所需的列</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Priors Table必需列" width="100%" border="1" summary="Columns required in a table of prior probabilities" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d14938e524">列名称</th>
                                 <th align="left" valign="bottom" width="69%" id="d14938e527">数据类型</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14938e532" headers="d14938e524 ">
                                    <p><code class="codeph">目标价值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14938e532 d14938e527 ">
                                    <p>有效的目标数据类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14938e540" headers="d14938e524 ">
                                    <p><code class="codeph">prior_probability</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14938e540 d14938e527 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="about-attributes.html#GUID-2070E844-B79E-464A-954B-A7401D773C07" title="了解目标在数据挖掘中的含义并理解不同的目标数据类型。">目标属性</a></li>
                        <li><a href="../dmapi/classification.html#DMCON033" target="_blank"><span><cite>Oracle数据挖掘概念</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="DMPRG861"></a><a id="DMPRG860"></a><div class="props_rev_3"><a id="GUID-44E40062-CE46-4C10-BE10-BB96B562BA20" name="GUID-44E40062-CE46-4C10-BE10-BB96B562BA20"></a><h3 id="DMPRG-GUID-44E40062-CE46-4C10-BE10-BB96B562BA20" class="sect3"><span class="enumeration_section">5.3.3</span>指定类权重</h3>
               <div>
                  <p>在Logistic回归或支持向量机（SVM）分类中指定类权重表设置，以支持更高的加权类。</p>
                  <div class="section">
                     <p><code class="codeph">CLAS_WEIGHTS_TABLE_NAME</code>设置指定用于偏向逻辑回归（广义线性模型分类）或SVM分类模型以支持更高加权类的类权重表的名称。该<a id="d14938e592" class="indexterm-anchor"></a><a id="d14938e594" class="indexterm-anchor"></a>权重表必须具有下表中显示的列。
                     </p>
                     <div class="tblformal" id="GUID-44E40062-CE46-4C10-BE10-BB96B562BA20__BCGBEIEF">
                        <p class="titleintable">表5-9类权重表所需的列</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="类权重表所需的列" width="100%" border="1" summary="Required columns in class weights table specified by CLAS_WEIGHT_TABLE_NAME setting" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d14938e607">列名称</th>
                                 <th align="left" valign="bottom" width="69%" id="d14938e610">数据类型</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14938e615" headers="d14938e607 ">
                                    <p><code class="codeph">目标价值</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14938e615 d14938e610 ">
                                    <p>有效的目标数据类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14938e623" headers="d14938e607 ">
                                    <p><code class="codeph">class_weight</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14938e623 d14938e610 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="about-attributes.html#GUID-2070E844-B79E-464A-954B-A7401D773C07" title="了解目标在数据挖掘中的含义并理解不同的目标数据类型。">目标属性</a></li>
                        <li><a href="../dmapi/classification.html#DMCON033" target="_blank"><span><cite>Oracle数据挖掘概念</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="DMPRG863"></a><a id="DMPRG864"></a><a id="DMPRG862"></a><div class="props_rev_3"><a id="GUID-232C38D7-8C24-470E-B1A6-7FD656D31479" name="GUID-232C38D7-8C24-470E-B1A6-7FD656D31479"></a><h3 id="DMPRG-GUID-232C38D7-8C24-470E-B1A6-7FD656D31479" class="sect3"><span class="enumeration_section">5.3.4</span>数据字典中的模型设置</h3>
               <div>
                  <p>在数据字典视图中解释<code class="codeph">ALL/USER/DBA_MINING_MODEL_SETTINGS</code> 。
                  </p>
                  <div class="section">
                     <p>可以从数据字典视图<code class="codeph">ALL/USER/DBA_MINING_MODEL_SETTINGS</code>获取有关挖掘模型设置的信息。 <a id="d14938e679" class="indexterm-anchor"></a>与<code class="codeph">ALL</code>前缀一起使用时，此视图返回有关当前用户可访问的模型的设置的信息。与<code class="codeph">USER</code>前缀一起使用时，它会返回有关用户架构中模型设置的信息。<code class="codeph">DBA</code>前缀仅适用于DBA。
                     </p>
                     <p>的列<a id="d14938e695" class="indexterm-anchor"></a> <code class="codeph">ALL_MINING_MODEL_SETTINGS</code>描述如下，并在下表中进行了说明。
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; describe all_mining_model_settings Name Null？输入----------------------------------------- -------- ---------------------------- OWNER NOT NULL VARCHAR2（30）MODEL_NAME NOT NULL VARCHAR2（30）SETTING_NAME NOT NULL VARCHAR2（30）SETTING_VALUE VARCHAR2（4000）SETTING_TYPE VARCHAR2（7）</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-232C38D7-8C24-470E-B1A6-7FD656D31479__BCGBBFHA">
                     <p class="titleintable">表5-10 ALL_MINING_MODEL_SETTINGS</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="ALL_MINING_MODEL_SETTINGS" width="100%" border="1" summary="This table describes the columns of the data dictionary view ALL_MINING_MODEL_SETTINGS" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d14938e712">柱</th>
                              <th align="left" valign="bottom" width="80%" id="d14938e715">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d14938e720" headers="d14938e712 ">
                                 <p><code class="codeph">所有者</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d14938e720 d14938e715 ">
                                 <p>采矿模型的所有者。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d14938e728" headers="d14938e712 ">
                                 <p><code class="codeph">型号名称</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d14938e728 d14938e715 ">
                                 <p>挖掘模型的名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d14938e736" headers="d14938e712 ">
                                 <p><code class="codeph">SETTING_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d14938e736 d14938e715 ">
                                 <p>设置名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d14938e744" headers="d14938e712 ">
                                 <p><code class="codeph">setting_value</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d14938e744 d14938e715 ">
                                 <p>设置的价值。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d14938e752" headers="d14938e712 ">
                                 <p><code class="codeph">setting_type</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d14938e752 d14938e715 ">
                                 <p>如果值由用户指定，则为<code class="codeph">INPUT</code> 。如果值是系统生成的，则为<code class="codeph">DEFAULT</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>以下查询列出了支持向量机（SVM）分类模型<code class="codeph">SVMC_SH_CLAS_SAMPLE</code> 。 <code class="codeph">ALGO_NAME</code> ， <code class="codeph">CLAS_WEIGHTS_TABLE_NAME</code>和<code class="codeph">SVMS_KERNEL_FUNCTION</code>设置是用户指定的。已在模型的设置表中指定了这些设置。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-232C38D7-8C24-470E-B1A6-7FD656D31479__GUID-99F257A9-7858-42AF-B3F4-04FA95AC6CB1">
                     <p class="titleinexample">例5-2 ALL_MINING_MODEL_SETTINGS</p><pre class="oac_no_warn" dir="ltr">SQL&gt; COLUMN setting_value格式A35 SQL&gt; SELECT setting_name，setting_value，setting_type FROM all_mining_model_settings'SVMC_SH_CLAS_SAMPLE'中的WHERE model_name; SETTING_NAME SETTING_VALUE SETTING ------------------------------ ----------------- ------------------ ------- SVMS_ACTIVE_LEARNING SVMS_AL_ENABLE DEFAULT PREP_AUTO OFF DEFAULT SVMS_COMPLEXITY_FACTOR 0.244212 DEFAULT SVMS_KERNEL_FUNCTION SVMS_LINEAR INPUT CLAS_WEIGHTS_TABLE_NAME svmc_sh_sample_class_wt INPUT SVMS_CONV_TOLERANCE .001 DEFAULT ALGO_NAME ALGO_SUPPORT_VECTOR_MACHINES INPUT</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../arpls/DBMS_DATA_MINING.html#ARPLS608" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-DCD47B08-1703-4789-B87D-96760A7726F9" name="GUID-DCD47B08-1703-4789-B87D-96760A7726F9"></a><h3 id="DMPRG-GUID-DCD47B08-1703-4789-B87D-96760A7726F9" class="sect3"><span class="enumeration_section">5.3.5</span>为R模型指定挖掘模型设置</h3>
               <div>
                  <p>R模型的挖掘模型设置决定了模型的特征。您可以在<code class="codeph">mining_model_table</code>指定挖掘模型设置。
                  </p>
                  <div class="section">您可以通过将不需要算法的通用设置（例如<code class="codeph">ODMS_PARTITION_COLUMNS</code>和<code class="codeph">ODMS_SAMPLING</code>组合在一起来构建具有挖掘模型设置的R模型。以下设置是R挖掘模型独有的，它们允许您指定R挖掘模型：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="specifying-model-settings.html#GUID-BFEF33B4-8FE4-4DE0-AB96-9ED4DF72FDC2" title="使用ALGO_EXTENSIBLE_LANG设置指定具有可扩展算法的Oracle Data Mining框架。">ALGO_EXTENSIBLE_LANG</a></p>
                        </li>
                        <li>
                           <p><a href="specifying-model-settings.html#GUID-C6888B64-B71E-44F9-AD84-5DA1647B0AC4" title="使用RALG_BUILD_FUNCTION为R算法挖掘模型构建指定现有已注册R脚本的名称。">RALG_BUILD_FUNCTION</a></p>
                        </li>
                        <li>
                           <p><a href="specifying-model-settings.html#GUID-A43CCDE1-1AF5-455C-9BC5-4F842C1F01CF" title="RALG_BUILD_FUNCTION输入参数以SQL SELECT查询语句格式指定数字和字符串标量值的列表。">RALG_BUILD_PARAMETER</a></p>
                        </li>
                        <li>
                           <p><a href="specifying-model-settings.html#GUID-C13EAF1F-58A0-4AC5-BA85-DAA50A60E77E" title="使用RALG_DETAILS_FORMAT参数指定模型视图中的名称和列类型。它是一个包含SELECT查询的字符串，用于指定模型视图列的名称和类型的数字和字符串标量数据类型的列表。">RALG_DETAILS_FORMAT</a></p>
                        </li>
                        <li>
                           <p><a href="specifying-model-settings.html#GUID-D89723BF-C4DD-4E42-A66C-490CE2424B15" title="RALG_DETAILS_FUNCTION指定在data.frame中返回的R模型元数据。">RALG_DETAILS_FUNCTION</a></p>
                        </li>
                        <li>
                           <p><a href="specifying-model-settings.html#GUID-07CFA00F-DD24-48DE-AC53-B254EC1C85C9" title="使用RALG_SCORE_FUNCTION为mining_model_table中的R算法挖掘模型得分指定现有的已注册R脚本。">RALG_SCORE_FUNCTION</a></p>
                        </li>
                        <li>
                           <p><a href="specifying-model-settings.html#GUID-DE7BE30B-ED14-4199-825E-9AFA95CCFB51" title="使用RALG_WEIGHT_FUNCTION指定现有已注册R脚本的名称，该脚本计算评分中每个属性的权重或贡献。在查询函数PREDICTION_DETAILS中使用指定的R脚本来评估属性贡献。">RALG_WEIGHT_FUNCTION</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="specifying-model-settings.html#GUID-1C8B0A8C-839D-4EF5-9C54-439B13DBA22B" title="RALG _ * _ FUNCTION必须指定R脚本存储库中存在的R脚本。您可以使用Oracle R Enterprise注册R脚本。">已注册的R脚本</a></li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-BFEF33B4-8FE4-4DE0-AB96-9ED4DF72FDC2" name="GUID-BFEF33B4-8FE4-4DE0-AB96-9ED4DF72FDC2"></a><h4 id="DMPRG-GUID-BFEF33B4-8FE4-4DE0-AB96-9ED4DF72FDC2" class="sect4"><span class="enumeration_section">5.3.5.1</span> ALGO_EXTENSIBLE_LANG</h4>
                  <div>
                     <p>使用<code class="codeph">ALGO_EXTENSIBLE_LANG</code>设置指定具有可扩展算法的Oracle Data Mining框架。
                     </p>
                     <div class="section">
                        <p>目前， <code class="codeph">R</code>是<code class="codeph">ALGO_EXTENSIBLE_LANG</code>的唯一有效值。当<code class="codeph">ALGO_EXTENSIBLE_LANG</code>的值设置为R时，使用R语言构建挖掘模型。您可以使用<code class="codeph">model_setting_table</code>的以下设置来指定R模型的构建，分数和视图。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="specifying-model-settings.html#GUID-C6888B64-B71E-44F9-AD84-5DA1647B0AC4" title="使用RALG_BUILD_FUNCTION为R算法挖掘模型构建指定现有已注册R脚本的名称。">RALG_BUILD_FUNCTION</a></p>
                           </li>
                           <li>
                              <p><a href="specifying-model-settings.html#GUID-A43CCDE1-1AF5-455C-9BC5-4F842C1F01CF" title="RALG_BUILD_FUNCTION输入参数以SQL SELECT查询语句格式指定数字和字符串标量值的列表。">RALG_BUILD_PARAMETER</a></p>
                           </li>
                           <li>
                              <p><a href="specifying-model-settings.html#GUID-D89723BF-C4DD-4E42-A66C-490CE2424B15" title="RALG_DETAILS_FUNCTION指定在data.frame中返回的R模型元数据。">RALG_DETAILS_FUNCTION</a></p>
                           </li>
                           <li>
                              <p><a href="specifying-model-settings.html#GUID-C13EAF1F-58A0-4AC5-BA85-DAA50A60E77E" title="使用RALG_DETAILS_FORMAT参数指定模型视图中的名称和列类型。它是一个包含SELECT查询的字符串，用于指定模型视图列的名称和类型的数字和字符串标量数据类型的列表。">RALG_DETAILS_FORMAT</a></p>
                           </li>
                           <li>
                              <p><a href="specifying-model-settings.html#GUID-07CFA00F-DD24-48DE-AC53-B254EC1C85C9" title="使用RALG_SCORE_FUNCTION为mining_model_table中的R算法挖掘模型得分指定现有的已注册R脚本。">RALG_SCORE_FUNCTION</a></p>
                           </li>
                           <li>
                              <p><a href="specifying-model-settings.html#GUID-DE7BE30B-ED14-4199-825E-9AFA95CCFB51" title="使用RALG_WEIGHT_FUNCTION指定现有已注册R脚本的名称，该脚本计算评分中每个属性的权重或贡献。在查询函数PREDICTION_DETAILS中使用指定的R脚本来评估属性贡献。">RALG_WEIGHT_FUNCTION</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="specifying-model-settings.html#GUID-1C8B0A8C-839D-4EF5-9C54-439B13DBA22B" title="RALG _ * _ FUNCTION必须指定R脚本存储库中存在的R脚本。您可以使用Oracle R Enterprise注册R脚本。">已注册的R脚本</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C6888B64-B71E-44F9-AD84-5DA1647B0AC4" name="GUID-C6888B64-B71E-44F9-AD84-5DA1647B0AC4"></a><h4 id="DMPRG-GUID-C6888B64-B71E-44F9-AD84-5DA1647B0AC4" class="sect4"><span class="enumeration_section">5.3.5.2</span> RALG_BUILD_FUNCTION</h4>
                  <div>
                     <p>使用<code class="codeph">RALG_BUILD_FUNCTION</code>为R算法挖掘模型构建指定现有已注册R脚本的名称。
                     </p>
                     <div class="section">
                        <div class="p">你必须同时指定<code class="codeph">RALG_BUILD_FUNCTION</code>和<code class="codeph">ALGO_EXTENSIBLE_LANG</code>在<code class="codeph">model_setting_table</code> 。R脚本定义了一个R函数，它具有<code class="codeph">data.frame</code>的第一个输入参数用于训练数据，并返回一个R模型对象。第一个数据参数是必需的。<code class="codeph">RALG_BUILD_FUNCTION</code>可以接受其他模型构建参数。
                           <div class="infoboxnote" id="GUID-C6888B64-B71E-44F9-AD84-5DA1647B0AC4__GUID-9877D3D6-3C8C-4790-A698-18E8559A843E">
                              <p class="notep1">注意：</p>输入参数的有效输入是数字和字符串标量数据类型。
                           </div>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C6888B64-B71E-44F9-AD84-5DA1647B0AC4__GUID-1D71C124-ED16-4FD7-81E9-DCA4256CFF69">
                        <p class="titleinexample">例5-3 RALG_BUILD_FUNCTION的示例</p>
                        <p>此示例显示如何指定用于在<code class="codeph">model_setting_table.</code>构建模型的R脚本<code class="codeph"><span class="variable" translate="no">MY_LM_BUILD_SCRIPT</span></code>的<code class="codeph">model_setting_table.</code></p><pre class="pre codeblock"><code>开始插入到model_setting_table值（dbms_data_mining.ralg_build_function，'MY_LM_BUILD_SCRIPT'）;结束; /</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-C6888B64-B71E-44F9-AD84-5DA1647B0AC4__GUID-3FAAB164-9455-4E64-9324-F094D0855EF3">
                        <p>R脚本<code class="codeph"><span class="variable" translate="no">MY_LM_BUILD_SCRIPT</span></code>定义了构建LM模型的R函数。您必须在R脚本存储库中注册脚本<code class="codeph"><span class="variable" translate="no">MY_LM_BUILD_SCRIPT</span></code> ，该脚本使用现有的ORE安全限制。您可以使用Oracle R Enterprise API <code class="codeph">sys.rqScriptCreate</code>来注册脚本。Oracle R Enterprise需要<code class="codeph">RQADMIN</code>角色来注册R脚本。
                        </p>
                        <p>例如：</p>
                        <p></p><pre class="pre codeblock"><code>开始sys.rqScriptCreate（'MY_LM_BUILD_SCRIPT'，'function（data，formula，model.frame）{lm（formula = formula，data = data，model = as.logical（model.frame）}'）; End; /</code></pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>对于聚类和特征提取挖掘函数模型构建，必须在返回R模型上设置R属性<code class="codeph">dm$nclus</code>和<code class="codeph">dm$nfeat</code>以分别指示聚类和特征的数量。
                        </p>
                        <p>R脚本<code class="codeph">MY_KM_BUILD_SCRIPT</code>定义了一个R函数，它为聚类构建<span class="italic">k</span> -Means模型。R属性<code class="codeph">dm$nclus</code>使用返回的Clustering模型的簇数设置。
                        </p><pre class="pre codeblock"><code>'function（dat）{dat.scaled &lt; -  scale（dat）set.seed（6543）; mod &lt; -  list（）拟合&lt; -  kmeans（dat.scaled，centers = 3L）mod [[1L]] &lt; -  fit mod [[2L]] &lt; -  attr（dat.scaled，“scaled：center”）mod [ [3L]] &lt; -  attr（dat.scaled，“scaled：scale”）attr（mod，“dm $ nclus”）&lt; -  nrow（fit $ centers）mod}'</code></pre><p>R脚本<code class="codeph">MY_PCA_BUILD_SCRIPT</code>定义了构建PCA模型的R函数。R属性<code class="codeph">dm$nfeat</code>使用返回特征提取模型的要素数设置。
                        </p><pre class="pre codeblock"><code>'function（dat）{mod &lt; -  prcomp（dat，retx = FALSE）attr（mod，“dm $ nfeat”）&lt; -  ncol（mod $ rotation）mod}'</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="specifying-model-settings.html#GUID-A43CCDE1-1AF5-455C-9BC5-4F842C1F01CF" title="RALG_BUILD_FUNCTION输入参数以SQL SELECT查询语句格式指定数字和字符串标量值的列表。">RALG_BUILD_PARAMETER</a></li>
                           <li><a href="specifying-model-settings.html#GUID-1C8B0A8C-839D-4EF5-9C54-439B13DBA22B" title="RALG _ * _ FUNCTION必须指定R脚本存储库中存在的R脚本。您可以使用Oracle R Enterprise注册R脚本。">已注册的R脚本</a></li>
                        </ul>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-A43CCDE1-1AF5-455C-9BC5-4F842C1F01CF" name="GUID-A43CCDE1-1AF5-455C-9BC5-4F842C1F01CF"></a><h5 id="DMPRG-GUID-A43CCDE1-1AF5-455C-9BC5-4F842C1F01CF" class="sect5"><span class="enumeration_section">5.3.5.2.1</span> RALG_BUILD_PARAMETER</h5>
                     <div>
                        <p><code class="codeph">RALG_BUILD_FUNCTION</code>输入参数以SQL <code class="codeph">SELECT</code>查询语句格式指定数字和字符串标量值的列表。
                        </p>
                        <div class="example" id="GUID-A43CCDE1-1AF5-455C-9BC5-4F842C1F01CF__GUID-166AC624-F206-47AE-8EBA-B72316DBC669">
                           <p class="titleinexample">示例5-4 RALG_BUILD_PARAMETER的示例</p>
                           <p><code class="codeph">RALG_BUILD_FUNCTION</code>输入参数必须是数字和字符串标量值的列表。输入参数是可选的。
                           </p>
                           <div class="p">参数的语法是：<pre class="pre codeblock"><code>'SELECT <span class="italic">值</span> <span class="italic">参数名称</span> ......来自双重'</code></pre></div>
                           <div class="p">这个例子展示了如何指定输入参数的公式<code class="codeph">'formula'</code>和用于输入参数的数值零<code class="codeph">'model.frame'</code>使用<code class="codeph">RALG_BUILD_PARAMETER</code> 。这些输入参数必须与<code class="codeph">RALG_BUILD_FUNCTION</code>参数中使用的R脚本的函数签名匹配。<pre class="pre codeblock"><code>开始插入到model_setting_table值（dbms_data_mining.ralg_build_parameter，'select''AGE~。''作为“公式”，0作为“model.frame”来自dual'）;结束; /</code></pre></div>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="specifying-model-settings.html#GUID-C6888B64-B71E-44F9-AD84-5DA1647B0AC4" title="使用RALG_BUILD_FUNCTION为R算法挖掘模型构建指定现有已注册R脚本的名称。">RALG_BUILD_FUNCTION</a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-D89723BF-C4DD-4E42-A66C-490CE2424B15" name="GUID-D89723BF-C4DD-4E42-A66C-490CE2424B15"></a><h4 id="DMPRG-GUID-D89723BF-C4DD-4E42-A66C-490CE2424B15" class="sect4"><span class="enumeration_section">5.3.5.3</span> RALG_DETAILS_FUNCTION</h4>
                  <div>
                     <p><code class="codeph">RALG_DETAILS_FUNCTION</code>指定在<code class="codeph">data.frame.</code>返回的R模型元数据<code class="codeph">data.frame.</code></p>
                     <div class="section">
                        <p>使用<code class="codeph">RALG_DETAILS_FUNCTION</code>指定生成模型信息的现有已注册R脚本。指定的R脚本定义一个R函数，该函数包含R模型对象的第一个输入参数。R函数的输出必须是<code class="codeph">data.frame</code> 。<code class="codeph">data.frame</code>的列由<code class="codeph">RALG_DETAILS_FORMAT</code>定义，并且只能包含数字或字符串标量类型。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D89723BF-C4DD-4E42-A66C-490CE2424B15__GUID-D0576533-CC23-44DD-988C-A9FE8F89BE9B">
                        <p class="titleinexample">示例5-5 RALG_DETAILS_FUNCTION的示例</p>
                        <div class="p">此示例显示如何在<code class="codeph">MY_LM_DETAILS_SCRIPT</code>中指定R脚本<code class="codeph">MY_LM_DETAILS_SCRIPT</code>的<code class="codeph">model_setting_table</code> 。此脚本定义用于提供模型信息的R函数。<pre class="pre codeblock"><code>开始插入到model_setting_table值（dbms_data_mining.ralg_details_function，'MY_LM_DETAILS_SCRIPT'）;结束; /</code></pre></div>
                        <div class="p">在R脚本存储库中，脚本<code class="codeph"><span class="variable" translate="no">MY_LM_DETAILS_SCRIPT</span></code>注册为：<pre class="pre codeblock"><code>'function（mod）data.frame（name = names（mod $ coefficients），coef = mod $ coefficients）'</code></pre></div>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="specifying-model-settings.html#GUID-1C8B0A8C-839D-4EF5-9C54-439B13DBA22B" title="RALG _ * _ FUNCTION必须指定R脚本存储库中存在的R脚本。您可以使用Oracle R Enterprise注册R脚本。">已注册的R脚本</a></li>
                           <li><a href="specifying-model-settings.html#GUID-C13EAF1F-58A0-4AC5-BA85-DAA50A60E77E" title="使用RALG_DETAILS_FORMAT参数指定模型视图中的名称和列类型。它是一个包含SELECT查询的字符串，用于指定模型视图列的名称和类型的数字和字符串标量数据类型的列表。">RALG_DETAILS_FORMAT</a></li>
                        </ul>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-C13EAF1F-58A0-4AC5-BA85-DAA50A60E77E" name="GUID-C13EAF1F-58A0-4AC5-BA85-DAA50A60E77E"></a><h5 id="DMPRG-GUID-C13EAF1F-58A0-4AC5-BA85-DAA50A60E77E" class="sect5"><span class="enumeration_section">5.3.5.3.1</span> RALG_DETAILS_FORMAT</h5>
                     <div>
                        <p>使用<code class="codeph">RALG_DETAILS_FORMAT</code>参数指定模型视图中的名称和列类型。它是一个包含<code class="codeph">SELECT</code>查询的字符串，用于指定模型视图列的名称和类型的数字和字符串标量数据类型的列表。
                        </p>
                        <div class="section">
                           <p>如果同时指定了<code class="codeph">RALG_DETAILS_FORMAT</code>和<code class="codeph">RALG_DETAILS_FUNCTION</code>则会在当前架构中创建名称为<code class="codeph">DM$VD</code> <code class="codeph"><span class="variable" translate="no">&lt;model_name&gt;</span></code>的模型视图以及R模型。模型视图的第一列是<code class="codeph">PARTITION_NAME</code> 。它对非分区模型具有NULL值。模型视图的其他列由<code class="codeph">RALG_DETATLS_FORMAT.</code>定义<code class="codeph">RALG_DETATLS_FORMAT.</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-C13EAF1F-58A0-4AC5-BA85-DAA50A60E77E__GUID-2C79F8A9-1C0C-4A9D-8D59-84D13028D0D2">
                           <p class="titleinexample">例5-6 RALG_DETAILS_FORMAT示例</p>
                           <div class="p">此示例显示如何为生成的模型视图指定列的名称和类型。模型视图包含<code class="codeph">varchar2</code>柱<code class="codeph">attr_name</code>和数量列<code class="codeph">coef_value</code>第一列后<code class="codeph">partition_name.</code><pre class="pre codeblock"><code>开始插入到model_setting_table值（dbms_data_mining.ralg_details_format，'select cast（'a''作为varchar2（20））作为attr_name，0作为coef_value来自dual'）;结束; /</code></pre></div>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="specifying-model-settings.html#GUID-D89723BF-C4DD-4E42-A66C-490CE2424B15" title="RALG_DETAILS_FUNCTION指定在data.frame中返回的R模型元数据。">RALG_DETAILS_FUNCTION</a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-07CFA00F-DD24-48DE-AC53-B254EC1C85C9" name="GUID-07CFA00F-DD24-48DE-AC53-B254EC1C85C9"></a><h4 id="DMPRG-GUID-07CFA00F-DD24-48DE-AC53-B254EC1C85C9" class="sect4"><span class="enumeration_section">5.3.5.4</span> RALG_SCORE_FUNCTION</h4>
                  <div>
                     <p>使用<code class="codeph">RALG_SCORE_FUNCTION</code>为<code class="codeph">RALG_SCORE_FUNCTION</code>中的R算法挖掘模型得分指定现有的已注册R脚本<code class="codeph">mining_model_table.</code></p>
                     <div class="section">
                        <p>指定的R脚本定义了R函数。第一个输入参数定义模型对象。第二个输入参数定义用于评分数据的<code class="codeph">data.frame</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-07CFA00F-DD24-48DE-AC53-B254EC1C85C9__GUID-FBD57AAD-919E-4788-9FF4-54E3AF29874D">
                        <p class="titleinexample">例5-7 RALG_SCORE_FUNCTION的示例</p>
                        <div class="p">此示例显示函数如何获取R模型并对<code class="codeph">data.frame.</code>的数据进行<code class="codeph">data.frame.</code> 参数对象是R线性模型。参数<code class="codeph">newdata</code>包含<code class="codeph">data.frame.</code>中的评分数据<code class="codeph">data.frame.</code> <pre class="pre codeblock"><code>function（object，newdata）{res &lt; -  predict.lm（object，newdata = newdata，se.fit = TRUE）; data.frame（fit = res $ fit，se = res $ se.fit，df = summary（object）$ df [1L]）}</code></pre></div>
                        <p>在这个例子中，</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">object</code>表示LM模型</p>
                           </li>
                           <li>
                              <p><code class="codeph">newdata</code>表示得分data.frame</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>指定的R函数的输出必须是<code class="codeph">data.frame</code> 。每行表示来自输入<code class="codeph">data.frame</code>的对应评分数据的预测。<code class="codeph">data.frame</code>的列特定于挖掘函数，例如：</p>
                        <p><strong class="term">回归：</strong>预测目标值的单个数字列，包含两个可选列，包含模型拟合的标准误差和自由度数。查询函数<code class="codeph">PREDICTION_BOUNDS</code>需要可选列才能工作。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-07CFA00F-DD24-48DE-AC53-B254EC1C85C9__GUID-1E5AA7AE-B348-4E0D-B95E-C9FDBBF6C5C9">
                        <p class="titleinexample">例5-8回归的RALG_SCORE_FUNCTION示例</p>
                        <p>此示例显示如何指定用于在<code class="codeph">model_setting_table.</code>对模型进行评分的R脚本<code class="codeph"><span class="variable" translate="no">MY_LM_PREDICT_SCRIPT</span></code>的<code class="codeph">model_setting_table.</code></p><pre class="pre codeblock"><code>开始插入到model_setting_table值（dbms_data_mining.ralg_score_function，'MY_LM_PREDICT_SCRIPT'）;结束; /</code></pre><div class="p">在R脚本存储库中，脚本<code class="codeph"><span class="variable" translate="no">MY_LM_PREDICT_SCRIPT</span></code>注册为：<pre class="pre codeblock"><code>function（object，newdata）{data.frame（pre = predict（object，newdata = newdata））}</code></pre></div>
                     </div>
                     <!-- class="example" -->
                     <div class="section">
                        <p><strong class="term">分类：</strong>每列代表一个目标类的预测概率。列名是目标类名。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-07CFA00F-DD24-48DE-AC53-B254EC1C85C9__GUID-65CF9B20-B2A5-42E7-A5E6-F353C2755C26">
                        <p class="titleinexample">例5-9分类的RALG_SCORE_FUNCTION示例</p>
                        <p>此示例显示如何指定R脚本<code class="codeph"><span class="variable" translate="no">MY_LOGITGLM_PREDICT_SCRIPT</span></code>的名称，该脚本用于对<code class="codeph"><span class="variable" translate="no">MY_LOGITGLM_PREDICT_SCRIPT</span></code>中的logit Classification模型进行<code class="codeph">model_setting_table.</code></p><pre class="pre codeblock"><code>开始插入到model_setting_table值（dbms_data_mining.ralg_score_function，'MY_LOGITGLM_PREDICT_SCRIPT'）;结束; /</code></pre><div class="p">在R脚本存储库中， <code class="codeph"><span class="variable" translate="no">MY_LOGITGLM_PREDICT_SCRIPT</span></code>注册如下。它是一个带有两个目标类“0”和“1”的logit分类。<pre class="pre codeblock"><code>'function（object，newdata）{pred &lt; -  predict（object，newdata = newdata，type =“response”）; res &lt; -  data.frame（1-pred，pred）;名称（res）&lt; -  c（“0”，“1”）;水库}”</code></pre></div>
                     </div>
                     <!-- class="example" -->
                     <div class="section">
                        <p><strong class="term">聚类：</strong>每列代表一个聚类的预测概率。列按簇ID的顺序排列。为每个群集分配一个群集ID，它们是从1开始的连续值。为了在R模型中支持<code class="codeph">CLUSTER_DISTANCE</code> ，R score函数的输出返回额外列，其中包含在预测概率的列之后按簇ID的顺序到每个簇的距离值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-07CFA00F-DD24-48DE-AC53-B254EC1C85C9__GUID-6BFF6EF4-D26A-4420-8522-B19217F0DFD1">
                        <p class="titleinexample">例5-10用于聚类的RALG_SCORE_FUNCTION示例</p>
                        <p>此示例显示如何指定用于在<code class="codeph">model_setting_table.</code>对模型进行评分的R脚本<code class="codeph"><span class="variable" translate="no">MY_CLUSTER_PREDICT_SCRIPT</span></code>的<code class="codeph">model_setting_table.</code></p><pre class="pre codeblock"><code>开始插入到model_setting_table值（dbms_data_mining.ralg_score_function，'MY_CLUSTER_PREDICT_SCRIPT'）;结束; /</code></pre><div class="p">在R脚本存储库中，脚本<code class="codeph"><span class="variable" translate="no">MY_CLUSTER_PREDICT_SCRIPT</span></code>注册为：<pre class="pre codeblock"><code>'function（object，dat）{mod &lt; -  object [[1L]]; ce &lt; -  object [[2L]]; sc &lt; -  object [[3L]]; newdata = scale（dat，center = ce，scale = sc）;中心&lt; -  mod $中心; ss &lt; -  sapply（as.data.frame（t（centers）），function（v）rowSums（scale（newdata，center = v，scale = FALSE）^ 2））;如果（！is.matrix（ss））ss &lt; -  matrix（ss，ncol = length（ss））; disp &lt; -  -1 /（2 * mod $ tot.withinss / length（mod $ cluster））; distr &lt; -  exp（disp * ss）; prob &lt; -  distr / rowSums（distr）; as.data.frame（cbind（prob，sqrt（ss）））}'</code></pre> </div>此函数从R模型中获取聚类的中心，并根据得分数据到相应聚类中心的距离计算属于每个聚类的概率。
                     </div>
                     <!-- class="example" -->
                     <div class="section">
                        <p><strong class="term">特征提取：</strong>每列代表一个特征的系数值。列按功能ID的顺序排列。为每个要素分配一个要素ID，它们是从1开始的连续值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-07CFA00F-DD24-48DE-AC53-B254EC1C85C9__GUID-9240FEC4-5460-4F7A-B019-E6E7CEADFEB7">
                        <p class="titleinexample">例5-11特征提取的RALG_SCORE_FUNCTION示例</p>
                        <p>此示例显示如何指定用于在<code class="codeph">model_setting_table.</code>对模型进行评分的R脚本<code class="codeph"><span class="variable" translate="no">MY_FEATURE_EXTRACTION_SCRIPT</span></code>的<code class="codeph">model_setting_table.</code></p><pre class="pre codeblock"><code>开始插入到model_setting_table值（dbms_data_mining.ralg_score_function，'MY_FEATURE_EXTRACTION_SCRIPT'）;结束; /</code></pre><div class="p">在R脚本存储库中，脚本<code class="codeph"><span class="variable" translate="no">MY_FEATURE_EXTRACTION_SCRIPT</span></code>注册为：<pre class="pre codeblock"><code>'function（object，dat）{as.data.frame（predict（object，dat））}'</code></pre></div>
                        <p>该函数从R模型中获取特征的中心，并基于分数数据到相应特征中心的距离来计算特征系数。</p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="specifying-model-settings.html#GUID-1C8B0A8C-839D-4EF5-9C54-439B13DBA22B" title="RALG _ * _ FUNCTION必须指定R脚本存储库中存在的R脚本。您可以使用Oracle R Enterprise注册R脚本。">已注册的R脚本</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-DE7BE30B-ED14-4199-825E-9AFA95CCFB51" name="GUID-DE7BE30B-ED14-4199-825E-9AFA95CCFB51"></a><h4 id="DMPRG-GUID-DE7BE30B-ED14-4199-825E-9AFA95CCFB51" class="sect4"><span class="enumeration_section">5.3.5.5</span> RALG_WEIGHT_FUNCTION</h4>
                  <div>
                     <p>使用<code class="codeph">RALG_WEIGHT_FUNCTION</code>指定现有已注册R脚本的名称，该脚本计算评分中每个属性的权重或贡献。在查询函数<code class="codeph">PREDICTION_DETAILS</code>使用指定的R脚本来评估属性贡献。
                     </p>
                     <div class="section">
                        <p>指定的R脚本定义一个R函数，其中包含模型对象的第一个输入参数，以及<code class="codeph">data.frame</code>的第二个输入参数，用于评分数据。当挖掘功能是分类，聚类或特征提取时，第三个输入参数将传递目标类名或聚类ID或特征ID，以计算该特定类或集群或特征的权重。该脚本返回一个<code class="codeph">data.frame</code>其中包含一行中每个属性的贡献权重。每行对应于输入评分<code class="codeph">data.frame.</code></p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DE7BE30B-ED14-4199-825E-9AFA95CCFB51__GUID-B10B41B3-F779-411B-999C-FC668F0519C3">
                        <p class="titleinexample">例5-12 RALG_WEIGHT_FUNCTION的示例</p>
                        <div class="p">此示例显示如何指定R脚本<code class="codeph"><span class="variable" translate="no">MY_PREDICT_WEIGHT_SCRIPT</span></code>的名称，该脚本计算<code class="codeph"><span class="variable" translate="no">MY_PREDICT_WEIGHT_SCRIPT</span></code>中R模型属性的权重或贡献<code class="codeph">model_setting_table.</code><pre class="pre codeblock"><code>开始插入到model_setting_table值（dbms_data_mining.ralg_weight_function，'MY_PREDICT_WEIGHT_SCRIPT'）;结束; /</code></pre></div>
                        <div class="p">在R脚本存储库中，用于回归的脚本<code class="codeph"><span class="variable" translate="no">MY_PREDICT_WEIGHT_SCRIPT</span></code>注册为：<pre class="pre codeblock"><code>'function（mod，data）{coef（mod）[ -  1L] * data}'</code></pre> </div>
                        <div class="p">在R脚本存储库中，用于logit Classification的脚本<code class="codeph"><span class="variable" translate="no">MY_PREDICT_WEIGHT_SCRIPT</span></code>注册为：<pre class="pre codeblock"><code>'function（mod，dat，clas）{v &lt; -  predict（mod，newdata = dat，type =“response”）; v0 &lt; -  data.frame（v，1-v）;名称（v0）&lt; -  c（“0”，“1”）; res &lt; -  data.frame（lapply（seq_along（dat），function（x，dat）{if（is.numeric（dat [[x]]））dat [，x] &lt; -  as.numeric（0）else dat [，x] &lt; -  as.factor（NA）; vv &lt; -  predict（mod，newdata = dat，type =“response”）; vv = data.frame（vv，1-vv）; names（vv）&lt; - c（“0”，“1”）; v0 [[clas]] / vv [[clas]]}，dat = dat））;姓名（res）&lt; - 姓名（dat）;水库}”</code></pre></div>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="specifying-model-settings.html#GUID-1C8B0A8C-839D-4EF5-9C54-439B13DBA22B" title="RALG _ * _ FUNCTION必须指定R脚本存储库中存在的R脚本。您可以使用Oracle R Enterprise注册R脚本。">已注册的R脚本</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-1C8B0A8C-839D-4EF5-9C54-439B13DBA22B" name="GUID-1C8B0A8C-839D-4EF5-9C54-439B13DBA22B"></a><h4 id="DMPRG-GUID-1C8B0A8C-839D-4EF5-9C54-439B13DBA22B" class="sect4"><span class="enumeration_section">5.3.5.6已</span>注册的R脚本</h4>
                  <div>
                     <p><code class="codeph">RALG_*_FUNCTION</code>必须指定R脚本存储库中存在的R脚本。您可以使用Oracle R Enterprise注册R脚本。
                     </p>
                     <div class="section">
                        <p><code class="codeph">RALG_*_FUNCTION</code>包括以下功能：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>RALG_BUILD_FUNCTION</p>
                           </li>
                           <li>
                              <p>RALG_DETAILS_FUNCTION</p>
                           </li>
                           <li>
                              <p>RALG_SCORE_FUNCTION</p>
                           </li>
                           <li>
                              <p>RALG_WEIGHT_FUNCTION</p>
                           </li>
                        </ul>
                        <div class="p">
                           <div class="infoboxnote" id="GUID-1C8B0A8C-839D-4EF5-9C54-439B13DBA22B__GUID-D528B837-FD07-445A-A573-8A25F08BCC5F">
                              <p class="notep1">注意：</p>R脚本必须存在于R脚本存储库中才能使R模型起作用。
                           </div>
                        </div>
                        <p>您可以通过Oracle Enterprise R（ORE）注册R脚本。要注册R脚本，您必须具有<code class="codeph">RQADMIN</code>角色。构建R模型后，这些指定的R脚本的名称将成为模型设置。这些R脚本必须存在于R脚本存储库中，以便R模型保持正常运行。
                        </p>
                        <p>您还可以管理用于通过Oracle Enterprise R构建，评分和查看R模型的R内存。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-264FB574-710B-4DF3-B946-5DB2ED236DC0" name="GUID-264FB574-710B-4DF3-B946-5DB2ED236DC0"></a><h4 id="DMPRG-GUID-264FB574-710B-4DF3-B946-5DB2ED236DC0" class="sect4"><span class="enumeration_section">5.3.5.7</span> R模型演示脚本</h4>
                  <div>
                     <div class="section">
                        <p>您可以在<code>rdbms/demo</code>下访问R模型演示脚本</p><pre class="pre codeblock"><code>dmraidemo.sql dmrglmdemo.sql dmrpcademo.sql dmrardemo.sql dmrkmdemo.sql dmrrfdemo.sql dmrdtdemo.sql dmrnndemo.sql</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-3644DD7B-536A-4282-8FA8-FD0978DA75E4" name="GUID-3644DD7B-536A-4282-8FA8-FD0978DA75E4"></a><h4 id="DMPRG-GUID-3644DD7B-536A-4282-8FA8-FD0978DA75E4" class="sect4"><span class="enumeration_section">5.3.5.8</span>算法元数据注册</h4>
                  <div>
                     <p>算法元数据注册允许注册新算法函数及其设置的统一且一致的方法。</p>
                     <p>用户可以通过注册过程添加新算法。新算法在适当的挖掘功能中可以在<span>Oracle Data Mining</span> R中显示。基于注册元数据，动态呈现设置页面。算法元数据注册扩展了<span>Oracle Data Mining</span>的挖掘模型功能。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-56ADFB12-2E30-43AE-BC43-C15AF9DF97B8" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></li>
                           <li><a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-1E5F5B0D-BFAA-409E-9E5E-ACB894CB3E4C" target="_blank">FETCH_JSON_SCHEMA程序</a></li>
                           <li><a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-1202A464-AD71-4EC0-801F-35B2DB8AF098" target="_blank">REGISTER_ALGORITHM过程</a></li>
                           <li><a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-E17E066F-97E8-4F2C-BCF5-AB9984FE0960" target="_blank">R可扩展算法的JSON模式</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01553.rman-recovering-tables-partitions.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>恢复表和表分区</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Backup and Recovery User&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Backup and Recovery User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-backup-and-recovery-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T05:20:45-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96241-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="performing-rman-tspitr.html" title="Previous" type="text/html"></link>
      <link rel="next" href="part-rman-tuning-troubleshooting.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="BRADV"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="performing-rman-tspitr.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="part-rman-tuning-troubleshooting.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">备份和恢复用户指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-diagnosing-responding-failures.html" property="item" typeof="WebPage"><span property="name">诊断和应对失败</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">恢复表和表分区</li>
            </ol>
            <a id="GUID-87B7F772-335F-4179-81C9-91678D026D01" name="GUID-87B7F772-335F-4179-81C9-91678D026D01"></a><a id="BRADV686"></a>
            
            <h2 id="BRADV-GUID-87B7F772-335F-4179-81C9-91678D026D01" class="sect2"><span class="enumeration_chapter">22</span>恢复表和表分区</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何将表和表分区恢复到指定的时间点。本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="rman-recovering-tables-partitions.html#GUID-FBD1224C-822F-45E7-898D-1DEC3C6FD7A1" title="RMAN RECOVER命令使您可以从RMAN备份恢复表和表分区。">从RMAN备份恢复表和表分区的概述</a></p>
                  </li>
                  <li>
                     <p><a href="rman-recovering-tables-partitions.html#GUID-27F62B73-7341-4939-9677-5F6D614DE55A" title="在准备恢复表或表分区之前，必须执行一些初步任务。">准备恢复表和表分区</a></p>
                  </li>
                  <li>
                     <p><a href="rman-recovering-tables-partitions.html#GUID-04D1B794-25D0-4C1E-9A98-F08AD361B41E" title="使用RESTORE和RECOVER命令恢复表或表分区。">恢复表和表分区</a></p>
                  </li>
                  <li>
                     <p><a href="rman-recovering-tables-partitions.html#GUID-B8245791-9B75-4AE7-ACE9-D9EDBC2DACC0" title="RMAN使您可以使用RECOVER命令将可插拔数据库（PDB）中的一个或多个表或表分区恢复到指定的时间点，而不会影响PDB中的其他对象。">在PDB中恢复表和表分区</a></p>
                  </li>
                  <li>
                     <p><a href="rman-recovering-tables-partitions.html#GUID-DEE9C16C-C30A-46C6-A0CE-2DE060A8EC10" title="本节包含的示例涵盖了恢复表和表分区的多种方案。">示例：从RMAN备份恢复表和表分区</a></p>
                  </li>
               </ul>
            </div><a id="BRADV687"></a><div class="props_rev_3"><a id="GUID-FBD1224C-822F-45E7-898D-1DEC3C6FD7A1" name="GUID-FBD1224C-822F-45E7-898D-1DEC3C6FD7A1"></a><h3 id="BRADV-GUID-FBD1224C-822F-45E7-898D-1DEC3C6FD7A1" class="sect3"><span class="enumeration_section">22.1</span>恢复表和表分区概述</h3>
               <div>
                  <p>RMAN <code class="codeph">RECOVER</code>命令使您可以从RMAN备份恢复表和表分区。
                  </p>
                  <div class="infoboxnote" id="GUID-FBD1224C-822F-45E7-898D-1DEC3C6FD7A1__GUID-62C0D687-8B62-4227-B13C-D7EB544A2E62">
                     <p class="notep1">注意：</p>
                     <p>还有其他方法可以将表恢复到指定的时间点，例如Oracle Flashback和TSPITR。有关这些方法有用的方案以及如何使用这些方法恢复表的更多信息，请参阅：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="rman-performing-flashback-dbpitr.html#GUID-5463669A-DC89-4FF4-ACCE-136A72DF687B" title="此概述描述了Oracle闪回技术和数据库时间点恢复的目的和基本概念。某些情况适合使用时间点恢复或闪回功能，以便在之前的某个时间点将数据库或数据库对象返回到其状态。数据库时间点恢复（DBPITR）和闪回功能使您可以将数据库恢复到先前的某个时间点。DBPITR在物理级别工作，以在过去的目标时间将数据文件返回到其状态。RMAN为一个或多个PDB的时间点恢复提供支持。要恢复PDB，必须以具有SYSDBA或SYSBACKUP权限的用户身份连接到root。恢复后，PDB的旧备份仍然有效，并且可以在发生介质故障时使用。在大多数可用的情况下，Oracle数据库的闪回功能比介质恢复更有效。您可以使用它们来调查数据库的过去状态。Oracle闪回数据库是DBPITR最有效的替代方法。逻辑闪回功能用于将表及其内容恢复到过去的时间。您可以对整个多租户容器数据库（CDB）或特定可插拔数据库（PDB）执行闪回数据库操作。多租户容器数据库（CDB）可以使用共享撤消或本地撤消。RMAN用于执行闪回数据库操作的技术取决于CDB的撤消配置类型.RMAN提供了管理PDB中数据块的重做损坏的方法。闪回表使用撤消表空间中的信息而不是恢复的备份来检索表。发生闪回表操作时，将删除新行并重新插入旧行。在执行表的闪回时，数据库的其余部分仍然可用。要执行闪回表操作，该表必须符合闪回的条件，执行操作的用户必须具有所需的权限。要在一个或多个表上使用闪回表功能，请使用带有目标时间或SCN的FLASHBACK TABLE SQL语句。默认情况下，数据库在执行FLASHBACK TABLE操作之前禁用受影响表上的触发器。在操作之后，数据库将触发器返回到操作之前的状态（启用或禁用）。您可以使用FLASHBACK TABLE从回收站中检索对象...在DROP声明之前。Flashback Drop可以反转DROP TABLE操作的效果。闪回丢弃比在这种情况下可以使用的其他恢复机制（如时间点恢复）更快，并且不会导致停机或丢失最近的事务。在执行闪回删除操作之前，必须满足先决条件。使用FLASHBACK TABLE ...在DROP语句之前要从回收站中恢复对象。您可以指定回收站中表的名称或原始表名。您可以使用相同的原始名称创建，然后删除多个对象。所有丢弃的对象都存储在回收站中。闪回数据库通过将数据库返回到先前某个时间点的状态来反转不需要的更改。闪回数据库通过撤消对运行命令时存在的数据文件的更改来工作。必须满足先决条件才能执行闪回数据库操作。闪回数据库操作使用FLASHBACK DATABASE命令将数据库回滚到过去的某个时间点。您可以使用FLASHBACK DATABASE命令为整个多租户容器数据库（CDB）执行闪回数据库操作。您可以使用FLASHBACK DATABASE命令对多租户容器数据库（CDB）中的单个可插拔数据库（PDB）执行闪回数据库操作。数据字典视图包含用于监视闪回数据库的信息。RMAN DBPITR在目标恢复时间之前从备份还原数据库，然后使用增量备份和重做将数据库前滚到目标时间。您可以恢复到SCN，时间，日志序列号或还原点。Oracle建议您在重要时间创建还原点，以便在必要时使时间点恢复更易于管理。必须满足某些先决条件才能执行数据库时间点恢复（DBPITR）。使用RESTORE和RECOVER命令执行DBPITR。使用RECOVER命令执行容器数据库（CDB）和可插拔数据库（PDB）的时间点恢复（PITR）。PDB的PITR只能使用RMAN执行。使用RESTORE和RECOVER命令为整个CDB执行时间点恢复。当您将一个或多个PDB恢复到指定的时间点时，剩余的PDB将在国家开发银行不受影响，可以开放和运作。使用RESTORE和RECOVER命令执行应用程序PDB的时间点恢复。执行稀疏数据库的时间点恢复类似于执行正常数据库的时间点恢复。本节介绍基本闪回数据库和DBPITR方案的变体。闪回数据库可用于撤消OPEN RESETLOGS操作。跨OPEN RESETLOGS的闪回数据库可用于在Data Guard环境中执行多个功能。您可以使用闪回数据库将数据库回滚到废弃的数据库化身。要将DPITR执行到非当前数据库化身，必须显式执行RESET DATABASE以将数据库重置为目标SCN上当前的化身。您还必须从包含目标SCN的数据库化身中还原控制文件。">执行闪回和数据库时间点恢复</a></p>
                        </li>
                        <li>
                           <p><a href="performing-rman-tspitr.html#GUID-CAACDB53-7C3A-45B4-8249-C5D855D47571" title="要有效地使用RMAN表空间时间点恢复（TSPITR），了解它可以解决的问题类型，组件，RMAN在TSPITR期间所执行的操作以及对何时以及如何进行的各种限制和限制很有帮助。跑。本节介绍运行RMAN的基本概念，准备任务和运行模式TSPITR。恢复管理器（RMAN）TSPITR可以将数据库中的一个或多个表空间快速恢复到较早的时间，而不会影响数据库中的其余表空间和对象。了解RMAN TSPITR的概念，例如使用的术语和模式。本节定义了RMAN TSPITR使用的一些常见实体。有几种运行RMAN TSPITR的模式。各种操作模式之间的差异对应于您的环境中需要多少自动化与自定义。在执行完全自动化的RMAN TSPITR（默认）之前，从恢复集，辅助目标和目标时间中选择表空间。由于某些限制和限制，TSPITR无法解决某些数据库问题。在执行TSPITR时需要考虑一些限制。在TSPITR期间不使用恢复目录时要注意某些预防措施。准备执行TSPITR时必须完成某些步骤。为您选择正确的目标时间或SCN非常重要。 TSPITR。请注意，在TSPITR之后将表空间联机后，您不能在使表空间联机的时间之前使用任何备份。最初，恢复集包括要恢复的表空间的数据文件。但是，如果表空间中的对象需要与其他表空间中的对象建立关系（例如约束），则必须先考虑这些关系才能执行TSPITRRMAN TSPITR要求正在恢复的表空间是自包含的，并且没有SYS拥有的对象驻留在表空间中。在表空间上执行RMAN TSPITR时，在目标恢复时间之后创建的对象将丢失。您可以通过在TSPITR之前使用数据泵导出实用程序导出这些对象并在之后使用数据泵导入重新导入这些对象来保留这些对象。在默认模式下，RMAN在目标数据库上尽可能多地使用TSPITR的配置。您可以自定义RMAN TSPITR的某些方面，同时仍然主要执行完全自动化的RMAN TSPITR的过程。您可能不希望恢复集数据文件在其原始位置恢复和恢复。SET NEWNAME命令可用于指定新目标。为恢复集指定新目标时，RMAN不会删除表空间的原始数据文件。与通常存储在其原始位置的恢复集数据文件不同，辅助集数据文件不得覆盖目标数据库中的相应原始文件。如果未指定与其原始位置不同的辅助集文件位置，则TSPITR将失败。当RMAN尝试覆盖原始数据库中的相应文件并发现正在使用的文件时，会发生故障。辅助集数据文件可以在目标中具有Oracle管理文件（OMF），并且可以使用自动存储管理（ASM）或非ASM存储。当设置了DB_FILE_NAME_CONVERT初始化参数且OMF文件位于ASM或非ASM存储中时，TSPITR以不同方式执行名称转换。您可以使用辅助数据库的DB_FILE_NAME_CONVERT和LOG_FILE_NAME_CONVERT初始化参数来指定磁盘组的转换。RMAN使用该模式转换ASM磁盘组名称，并在转换后的磁盘组中生成有效的OMF文件名。有多种方法可用于重命名辅助数据库的OMF（非ASM）文件名。要为辅助集数据文件指定新名称，可以将RECOVER TABLESPACE包含在RUN命令中，并使用RUN块中的SET NEWNAME命令重命名该文件。如果您不想为所有辅助集数据文件使用辅助目标，但又不想单独命名每个文件，则可以在辅助数据库使用的初始化参数文件中包含DB_FILE_NAME_CONVERT初始化参数。临时文件被视为数据库辅助集的一部分。在实例化辅助数据库时，RMAN将重新创建目标数据库的临时表空间，并使用辅助数据文件名的常规规则生成其名称。通过重定向RMAN以使用恢复集和辅助集数据文件的现有映像副本，可以增强TSPITR性能。在这种情况下，RMAN不需要从备份还原数据文件。使用SET NEWNAME命令可以在使用映像副本执行TSPITR时指定映像副本的位置。CONFIGURE AUXNAME命令为辅助集数据文件映像副本设置持久备用位置，而SET NEWNAME命令为RUN命令的持续时间设置备用位置。使用映像副本执行TSPITR时，此过程使用CONFIGURE AUXNAME。自动辅助数据库使用一组默认初始化参数。如果需要，您可以添加其他参数。如果使用初始化参数文件，则可以使用CONTROL_FILES初始化参数为辅助数据库的控制文件指定自己的位置要在辅助数据库上恢复它们后对辅助和恢复集执行恢复，RMAN可能需要还原存档日志。使用辅助目标时，存档日志将还原到该位置。如果在辅助数据库参数文件中指定LOG_FILE_NAME_CONVERT初始化参数，并且参数成功转换目标的联机重做日志的名称，则此参数将确定联机重做日志位置。虽然Oracle建议您让RMAN管理辅助数据库的所有方面，但有时您可能必须创建和管理自己的辅助数据库。如果选择此模式，则负责设置，启动，停止和清理TSPITR中使用的辅助数据库。创建适合用作辅助数据库的Oracle实例需要执行一组步骤。有多种方法可以为辅助数据库创建密码文件。使用文本编辑器为目标数据库主机上的辅助数据库创建初始化参数文件。辅助数据库必须具有有效的网络服务名称。在继续之前，请使用SQL * Plus确保您可以与辅助数据库建立SYSBACKUP或SYSDBA连接。使用您自己的辅助实例执行TSPITR时，请记住某些准则。可以覆盖使用自己的辅助数据库进行TSPITR时通道的默认行为。您可能希望使用SET NEWNAME命令来引用辅助集文件的现有映像副本以提高TSPITR性能，或者为TSPITR之后的恢复集文件分配新名称。如有必要，请计划这些命令，并将它们添加到为TSPITR运行的命令序列中。完成先决条件，然后按照本节中的步骤使用您自己的辅助数据库执行TSPITR。在开始RMAN TSPITR之前，必须启动辅助数据库。由于辅助数据库还没有控制文件，因此只能以NOMOUNT模式启动实例。启动RMAN并连接到目标数据库和手动创建的辅助数据库。使用RECOVER TABLESPACE命令使用您自己的辅助实例执行TSPITR。此过程使用RECOVER TABLESPACE ...UNTIL命令执行TSPITR。各种问题都可能导致RMAN TSPITR失败。必须确定并修复问题。目标数据库中的文件，SET NEWNAME或CONFIGURE AUXNAME命令分配的文件名以及DB_FILE_NAME_CONVERT参数的效果生成的文件名之间可能会发生名称冲突。在TSPITR期间，RMAN需要有关哪些表空间在TSPITR目标时间具有还原段的信息。如果使用此信息，通常可在恢复目录中使用此信息。如果您正在管理自己的辅助数据库并且TSPITR失败，请不要尝试在不解决错误的情况下重新运行TSPITR。">执行RMAN表空间时间点恢复（TSPITR）</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-FBD1224C-822F-45E7-898D-1DEC3C6FD7A1__GUID-61ED9564-575B-4A20-A5F2-E0C079B04E07">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="rman-recovering-tables-partitions.html#GUID-F9ECE704-0A06-4582-B6AF-6C05C0EFA8ED" title="RMAN使您可以将一个或多个表或表分区恢复到指定的时间点，而不会影响其余的数据库对象。您可以使用以前创建的RMAN备份将表和表分区恢复到指定的时间点。">从RMAN备份恢复表和表分区的目的</a></p>
                        </li>
                        <li>
                           <p><a href="rman-recovering-tables-partitions.html#GUID-EEB32689-9ACE-40C6-9874-5FB484C4126D" title="要恢复表或表分区，需要完全备份undo，SYSTEM，SYSAUX以及包含表或表分区的表空间。">恢复表和表分区所需的RMAN备份</a></p>
                        </li>
                        <li>
                           <p><a href="rman-recovering-tables-partitions.html#GUID-2102898D-E461-4161-8DBC-EE4B37213B60" title="RMAN使用RECOVER命令将表或表分区恢复到指定的时间点。">从RMAN备份恢复表和表分区的基本概念</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="BRADV688"></a><div class="props_rev_3"><a id="GUID-F9ECE704-0A06-4582-B6AF-6C05C0EFA8ED" name="GUID-F9ECE704-0A06-4582-B6AF-6C05C0EFA8ED"></a><h4 id="BRADV-GUID-F9ECE704-0A06-4582-B6AF-6C05C0EFA8ED" class="sect4"><span class="enumeration_section">22.1.1</span>从RMAN备份中恢复表和表分区的目的</h4>
                  <div>
                     <p>RMAN使您可以将一个或多个表或表分区恢复到指定的时间点，而不会影响其余的数据库对象。您可以使用以前创建的RMAN备份将表和表分区恢复到指定的时间点。</p>
                     <p>从RMAN备份恢复表和表分区在以下方案中很有用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您需要在特定时间点恢复极少数的表。在这种情况下，TSPITR不是最有效的解决方案，因为它将表空间中的所有对象移动到指定的时间点。</p>
                        </li>
                        <li>
                           <p>您需要恢复已被逻辑损坏或已被删除和清除的表。</p>
                        </li>
                        <li>
                           <p>闪回表是不可能的，因为所需的时间点早于可用的撤销时间。</p>
                        </li>
                        <li>
                           <p>您希望恢复在DDL操作修改表结构后丢失的数据。使用闪回表是不可能的，因为在期望的时间点和当前时间之间的表上运行了DDL。闪回表不能通过结构更改（例如截断表操作）来回滚表。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="BRADV808"></a><div class="props_rev_3"><a id="GUID-EEB32689-9ACE-40C6-9874-5FB484C4126D" name="GUID-EEB32689-9ACE-40C6-9874-5FB484C4126D"></a><h4 id="BRADV-GUID-EEB32689-9ACE-40C6-9874-5FB484C4126D" class="sect4"><span class="enumeration_section">22.1.2</span>恢复表和表分区所需的RMAN备份</h4>
                  <div>
                     <p>要恢复表或表分区，需要完全备份undo， <code class="codeph">SYSTEM</code> ， <code class="codeph">SYSAUX</code>以及包含表或表分区的表空间。
                     </p>
                     <p>要恢复表，包含表的从属对象的所有分区都必须包含在恢复集中。如果表空间<code class="codeph">tbs2</code>中包含表空间<code class="codeph">tbs1</code>中的表的索引或分区，则仅当tablepsace <code class="codeph">tbs2</code>也包含在恢复集中时，才能恢复该表。
                     </p>
                     <p></p>
                     <p>要恢复PDB中的表，您需要备份以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>根，CDB种子和包含表的PDB的<code class="codeph">SYSTEM</code> ， <code class="codeph">SYSAUX</code>和undo表空间</p>
                        </li>
                        <li>
                           <p>包含表或分区的表空间</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-EEB32689-9ACE-40C6-9874-5FB484C4126D__GUID-6CC906A5-4FE6-4D5A-B62F-19CBAD3C117A">
                        <p class="notep1">也可以看看：</p><a href="rman-recovering-tables-partitions.html#GUID-5C32C06D-84AC-44D4-AAA2-54886EA30EF0" title="从RMAN备份恢复表或表分区之前，必须满足某些先决条件。">从RMAN备份恢复表和表分区的先决条件</a></div>
                  </div>
               </div><a id="BRADV689"></a><div class="props_rev_3"><a id="GUID-2102898D-E461-4161-8DBC-EE4B37213B60" name="GUID-2102898D-E461-4161-8DBC-EE4B37213B60"></a><h4 id="BRADV-GUID-2102898D-E461-4161-8DBC-EE4B37213B60" class="sect4"><span class="enumeration_section">22.1.3</span>从RMAN备份中恢复表和表分区的基本概念</h4>
                  <div>
                     <p>RMAN使用<code class="codeph">RECOVER</code>命令将表或表分区恢复到指定的时间点。
                     </p>
                     <p>要从RMAN备份恢复表和表分区，您需要提供以下信息：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>必须恢复的表或表分区的名称</p>
                        </li>
                        <li>
                           <p>必须恢复表或表分区的时间点</p>
                        </li>
                        <li>
                           <p>是否必须将恢复的表或表分区导入目标数据库</p>
                        </li>
                     </ul>
                     <p>RMAN使用此信息自动执行恢复指定表或表分区的过程。作为恢复过程的一部分，RMAN会创建一个辅助数据库，用于将表或表分区恢复到指定的时间点。</p>
                     <p>如果需要重命名已恢复的表或表分区，映射到新的表空间或映射到新的模式，则必须为表，表空间或模式指定新名称。</p>
                     <div class="infoboxnotealso" id="GUID-2102898D-E461-4161-8DBC-EE4B37213B60__GUID-570759F6-1F36-4BDD-8320-939EBBCC3080">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="rman-recovering-tables-partitions.html#GUID-433301FC-51C6-4A59-9FBC-B43C6A74198F" title="RMAN执行一系列步骤，同时自动执行从RMAN备份恢复表或表分区的过程。">RMAN执行以恢复表和表分区的步骤</a></p>
                           </li>
                           <li>
                              <p><a href="rman-recovering-tables-partitions.html#GUID-E0AECEFE-D384-4EEE-94AA-CB8F847B1621" title="RMAN创建一个辅助数据库，它在恢复指定的表或表分区的过程中使用它。有多种技术可用于指定辅助数据库文件的位置。">关于RMAN表恢复期间辅助数据库文件的位置</a></p>
                           </li>
                           <li>
                              <p><a href="rman-recovering-tables-partitions.html#GUID-B80DD4C3-BF33-46C4-BFA5-614A2523877B" title="在将表或表分区恢复到辅助数据库上的指定时间点之后，RMAN会创建一个包含已恢复对象的数据泵导出转储文件。您可以指定此转储文件的名称和位置，也可以允许RMAN使用默认名称和位置。">关于RMAN表恢复期间使用的数据泵导出转储文件</a></p>
                           </li>
                           <li>
                              <p><a href="rman-recovering-tables-partitions.html#GUID-F22330E3-071D-40C5-ACC2-A984E6A3EBD8" title="使用REMAP TABLE子句重命名目标数据库中已恢复的表或表分区。">关于在RMAN恢复期间重命名恢复的表和表分区</a></p>
                           </li>
                           <li>
                              <p><a href="rman-recovering-tables-partitions.html#GUID-907031B5-B355-43D8-8E2B-A0A6F2283BD7" title="将表或表分区恢复到不同的模式使您可以避免可能由源模式中已存在的约束，索引或触发器名称引起的名称冲突。">关于将表和分区恢复到新架构</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="BRADV690"></a><div class="props_rev_3"><a id="GUID-433301FC-51C6-4A59-9FBC-B43C6A74198F" name="GUID-433301FC-51C6-4A59-9FBC-B43C6A74198F"></a><h5 id="BRADV-GUID-433301FC-51C6-4A59-9FBC-B43C6A74198F" class="sect5"><span class="enumeration_section">22.1.3.1</span> RMAN执行的恢复表和表分区的步骤</h5>
                     <div>
                        <p>RMAN执行一系列步骤，同时自动执行从RMAN备份恢复表或表分区的过程。</p>
                        <div class="section">
                           <p>步骤包括以下内容：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>根据为恢复指定的时间点确定哪个备份包含需要恢复的表或表分区。</span><div></div>
                           </li>
                           <li class="stepexpand"><span>确定目标主机上是否有足够的空间来创建将在表或分区恢复过程中使用的辅助实例。</span><div>如果所需空间不可用，则RMAN将显示错误并退出恢复操作。</div>
                           </li>
                           <li class="stepexpand"><span>在目标主机上创建辅助数据库，并将指定的表或表分区恢复到此辅助数据库，直到指定的时间点。</span><div>
                                 <p>您可以在辅助数据库中指定恢复数据文件存储到的目标主机上的位置。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>创建包含已恢复的表或表分区的数据泵<a href="glossary.html#GUID-5C2A79F3-E089-41DC-B3F5-879FB6125CE5"><span class="xrefglossterm">导出转储文件</span></a> 。</span><div>
                                 <p>您可以指定用于存储已恢复表或表分区的元数据的数据泵导出转储文件的名称和位置。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>（可选）将Data Pump导出转储文件导入目标实例。</span><div>
                                 <p>您可以选择不将包含已恢复表或表分区的导出转储文件导入目标数据库。如果在恢复过程中未导入导出转储文件，则必须稍后使用“数据泵导入”实用程序手动导入该文件。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>（可选）重命名目标数据库中已恢复的表或表分区。</span><div>
                                 <p>您还可以将恢复的对象导入到与它们最初存在的表空间或模式不同的表空间或模式中。</p>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-433301FC-51C6-4A59-9FBC-B43C6A74198F__GUID-0233E38B-4281-48D9-87FA-95FC87D30747">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="rman-recovering-tables-partitions.html#GUID-E0AECEFE-D384-4EEE-94AA-CB8F847B1621" title="RMAN创建一个辅助数据库，它在恢复指定的表或表分区的过程中使用它。有多种技术可用于指定辅助数据库文件的位置。">关于RMAN表恢复期间辅助数据库文件的位置</a></p>
                                 </li>
                                 <li>
                                    <p><a href="rman-recovering-tables-partitions.html#GUID-B80DD4C3-BF33-46C4-BFA5-614A2523877B" title="在将表或表分区恢复到辅助数据库上的指定时间点之后，RMAN会创建一个包含已恢复对象的数据泵导出转储文件。您可以指定此转储文件的名称和位置，也可以允许RMAN使用默认名称和位置。">关于RMAN表恢复期间使用的数据泵导出转储文件</a></p>
                                 </li>
                                 <li>
                                    <p><a href="rman-recovering-tables-partitions.html#GUID-87627528-1EC7-42D3-ADB1-232A6C134A2B" title="默认情况下，RMAN将存储在导出转储文件中的已恢复表或表分区导入目标数据库。但是，您可以使用RESTORE命令的NOTABLEIMPORT子句选择不导入已恢复的表或表分区。">关于将恢复的表和表分区导入目标数据库</a></p>
                                 </li>
                                 <li>
                                    <p><a href="rman-recovering-tables-partitions.html#GUID-F22330E3-071D-40C5-ACC2-A984E6A3EBD8" title="使用REMAP TABLE子句重命名目标数据库中已恢复的表或表分区。">关于在RMAN恢复期间重命名恢复的表和表分区</a></p>
                                 </li>
                                 <li>
                                    <p><a href="rman-recovering-tables-partitions.html#GUID-907031B5-B355-43D8-8E2B-A0A6F2283BD7" title="将表或表分区恢复到不同的模式使您可以避免可能由源模式中已存在的约束，索引或触发器名称引起的名称冲突。">关于将表和分区恢复到新架构</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="BRADV693"></a><div class="props_rev_3"><a id="GUID-E0AECEFE-D384-4EEE-94AA-CB8F847B1621" name="GUID-E0AECEFE-D384-4EEE-94AA-CB8F847B1621"></a><h5 id="BRADV-GUID-E0AECEFE-D384-4EEE-94AA-CB8F847B1621" class="sect5"><span class="enumeration_section">22.1.3.2</span>关于RMAN表恢复期间辅助数据库文件的位置</h5>
                     <div>
                        <p>RMAN创建一个辅助数据库，它在恢复指定的表或表分区的过程中使用它。有多种技术可用于指定辅助数据库文件的位置。</p>
                        <p>在用于存储辅助数据库的数据文件的目标主机上，使用以下技术之一：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">RECOVER</code>命令中的<code class="codeph">AUXILIARY DESTINATION</code>子句</p>
                           </li>
                           <li>
                              <p><code class="codeph">SET NEWNAME</code>命令</p>
                              <p>使用包含<code class="codeph">RECOVER</code>命令的<code class="codeph">RUN</code>块和重命名数据文件所需的<code class="codeph">SET NEWNAME</code>命令。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-E0AECEFE-D384-4EEE-94AA-CB8F847B1621__GUID-250C0E4F-CCCC-4828-BB6D-91FECE55E677">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../rcmrf/RECOVER.html#RCMRF140" target="_blank"><span><cite>Oracle数据库备份和恢复参考中的</cite></span></a> <code class="codeph">RECOVER</code>命令语法</p>
                              </li>
                              <li>
                                 <p><a href="../rcmrf/SET.html#RCMRF153" target="_blank"><span><cite>Oracle数据库备份和恢复参考中的</cite></span></a> <code class="codeph">SET</code>命令语法</p>
                              </li>
                           </ul>
                        </div>
                        <p>建议您使用<code class="codeph">AUXILIARY DESTINATION</code>子句为辅助数据库中的数据文件提供位置。使用<code class="codeph">SET NEWNAME</code>命令时，如果省略恢复过程所需的一个数据文件的名称，则无法恢复表或表分区。
                        </p>
                     </div>
                  </div><a id="BRADV691"></a><div class="props_rev_3"><a id="GUID-B80DD4C3-BF33-46C4-BFA5-614A2523877B" name="GUID-B80DD4C3-BF33-46C4-BFA5-614A2523877B"></a><h5 id="BRADV-GUID-B80DD4C3-BF33-46C4-BFA5-614A2523877B" class="sect5"><span class="enumeration_section">22.1.3.3</span>关于在RMAN表恢复期间使用的数据泵导出转储文件</h5>
                     <div>
                        <p>在将表或表分区恢复到辅助数据库上的指定时间点之后，RMAN会创建一个包含已恢复对象的数据泵导出转储文件。您可以指定此转储文件的名称和位置，也可以允许RMAN使用默认名称和位置。</p>
                        <p>使用<code class="codeph">RECOVER</code>命令的<code class="codeph">DATAPUMP DESTINATION</code>子句指定创建数据泵<a href="glossary.html#GUID-5C2A79F3-E089-41DC-B3F5-879FB6125CE5"><span class="xrefglossterm">导出转储文件的</span></a>位置。该位置通常是存储转储文件的操作系统目录的路径。如果省略此子句，则转储文件将存储在<code class="codeph">AUXILIARY DESTINATION</code>参数指定的位置。如果未指定辅助目标，则转储文件将存储在特定于操作系统的默认位置。在Linux上，此默认位置为<code class="codeph">$ORACLE_HOME/dbs</code> 。在Windows上，默认位置为<code class="codeph">%ORACLE_HOME\database</code> 。
                        </p>
                        <p>使用<code class="codeph">RECOVER</code>命令的<code class="codeph">DUMP FILE</code>子句指定数据泵导出转储文件的名称。如果省略此子句，RMAN将使用特定于操作系统的默认名称作为转储文件。在Linux和Windows上，默认转储文件名是<code class="codeph">tspitr_</code> <span class="italic"><code class="codeph">SID-of-clone_n</code></span> <code class="codeph">.dmp</code> ，其中<span class="italic"><code class="codeph">SID-of-clone</code></span>是由RMAN创建以执行恢复的辅助数据库的Oracle SID， <span class="italic"><code class="codeph">n</code></span>是任意随机生成的数字。如果必须在必须创建转储文件的位置存在具有<code class="codeph">DUMP FILE</code>指定名称的文件，则恢复操作将失败。
                        </p>
                     </div>
                  </div><a id="BRADV694"></a><div class="props_rev_3"><a id="GUID-87627528-1EC7-42D3-ADB1-232A6C134A2B" name="GUID-87627528-1EC7-42D3-ADB1-232A6C134A2B"></a><h5 id="BRADV-GUID-87627528-1EC7-42D3-ADB1-232A6C134A2B" class="sect5"><span class="enumeration_section">22.1.3.4</span>关于将恢复的表和表分区导入目标数据库</h5>
                     <div>
                        <p>默认情况下，RMAN将存储在导出转储文件中的已恢复表或表分区导入目标数据库。但是，您可以使用<code class="codeph">RESTORE</code>命令的<code class="codeph">NOTABLEIMPORT</code>子句选择不导入已恢复的表或表分区。
                        </p>
                        <p>使用<code class="codeph">NOTABLEIMPORT</code> ，RMAN将它们恢复到指定的点，然后创建<a href="glossary.html#GUID-5C2A79F3-E089-41DC-B3F5-879FB6125CE5"><span class="xrefglossterm">导出转储文件</span></a> 。但是，此转储文件不会导入目标数据库。必要时，必须使用“数据泵导入”实用程序将此转储文件手动导入目标数据库。
                        </p>
                        <p>如果在导入操作期间发生错误，RMAN不会在表恢复结束时删除导出转储文件。这使您可以手动导入转储文件。</p>
                     </div>
                  </div><a id="BRADV692"></a><div class="props_rev_3"><a id="GUID-F22330E3-071D-40C5-ACC2-A984E6A3EBD8" name="GUID-F22330E3-071D-40C5-ACC2-A984E6A3EBD8"></a><h5 id="BRADV-GUID-F22330E3-071D-40C5-ACC2-A984E6A3EBD8" class="sect5"><span class="enumeration_section">22.1.3.5</span>关于在RMAN恢复期间重命名恢复的表和表分区</h5>
                     <div>
                        <p>使用<code class="codeph">REMAP TABLE</code>子句重命名目标数据库中已恢复的表或表分区。
                        </p>
                        <p>如果目标数据库中存在与您恢复的表同名的表，RMAN将显示一条错误消息，指示必须使用<code class="codeph">REMAP TABLE</code>子句重命名已恢复的表。
                        </p>
                        <p>恢复表分区时，每个表分区都将恢复到单独的表中。使用<code class="codeph">REMAP TABLE</code>子句指定必须将每个已恢复的分区导入的表名。如果未明确指定表名，则RMAN通过连接已恢复的表名和分区名来生成表名。生成的名称格式为<span class="italic"><code class="codeph">tablename_partitionname</code></span> 。如果目标数据库中存在具有此名称的表，则RMAN会将_1附加到名称。如果此名称也存在，则RMAN会将_2附加到名称，依此类推。
                        </p>
                        <p>要将恢复的表或表分区导入到与这些对象最初存在的表空间不同的表空间中，请使用<code class="codeph">RECOVER</code>命令的<code class="codeph">REMAP TABLESPACE</code>子句。仅重新映射正在恢复的表或表分区，不更改现有对象。
                        </p>
                        <div class="infoboxnote" id="GUID-F22330E3-071D-40C5-ACC2-A984E6A3EBD8__GUID-26E28F0C-84FD-4222-8823-187EE66157F5">
                           <p class="notep1">注意：</p>
                           <p>使用<code class="codeph">REMAP</code>选项时，不会导入任何命名的约束和索引。这是为了避免与现有表的名称冲突。
                           </p>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-907031B5-B355-43D8-8E2B-A0A6F2283BD7" name="GUID-907031B5-B355-43D8-8E2B-A0A6F2283BD7"></a><h5 id="BRADV-GUID-907031B5-B355-43D8-8E2B-A0A6F2283BD7" class="sect5"><span class="enumeration_section">22.1.3.6</span>关于将表和分区恢复到新架构中</h5>
                     <div>
                        <p>将表或表分区恢复到不同的模式使您可以避免可能由源模式中已存在的约束，索引或触发器名称引起的名称冲突。</p>
                        <p></p>
                        <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，您可以将表或表分区恢复为与源模式（它们最初存在的模式）不同的模式。将对象恢复到不同的模式时，您可以保留其原始名称或重命名它们。您可以在单个恢复操作中重命名表并重新映射架构。例如，您可以将<code class="codeph">HR.EMPLOYEES</code>表恢复到<code class="codeph">NEW_HR.EMPLOYEES</code>表， <code class="codeph">HR.NEW_EMPLOYEES</code>表或<code class="codeph">NEW_HR.NEW_EMPLOYEES</code>表中。<code class="codeph">REMAP TABLE</code>子句使您可以重命名对象并将它们恢复到不同的模式中。
                        </p>
                        <p>在表恢复期间，使用<code class="codeph">RECOVER TABLE</code>命令的<code class="codeph">REMAP TABLE</code>子句将源模式映射到新模式。在执行恢复之前，新模式必须存在于目标数据库中。
                        </p>
                        <div class="infoboxnote" id="GUID-907031B5-B355-43D8-8E2B-A0A6F2283BD7__GUID-4593CBEB-E063-4CB8-94FD-F9B8E0929442">
                           <p class="notep1">注意：</p>
                           <p>物理备用数据库不支持表恢复。对于逻辑备用数据库，在主数据库上恢复的对象将传播到逻辑备用数据库。</p>
                        </div>
                        <div class="infoboxnote" id="GUID-907031B5-B355-43D8-8E2B-A0A6F2283BD7__GUID-316A58CF-E60E-4B50-94F3-6619CA707E38">
                           <p class="notep1">注意：</p>
                           <p><a href="rman-recovering-tables-partitions.html#GUID-98525DD5-E08F-46F0-A9D8-A7EC3EB54457" title="此示例将多个表恢复为与源架构不同的新架构。">示例：将表恢复为新架构</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="BRADV695"></a><div class="props_rev_3"><a id="GUID-526969ED-37C3-44C6-B205-AF1621008DCE" name="GUID-526969ED-37C3-44C6-B205-AF1621008DCE"></a><h4 id="BRADV-GUID-526969ED-37C3-44C6-B205-AF1621008DCE" class="sect4"><span class="enumeration_section">22.1.4</span>从RMAN备份恢复表和表分区的限制</h4>
                  <div>
                     <p>使用<code class="codeph">RECOVER</code>命令从RMAN备份恢复表和表分区受到某些限制。
                     </p>
                     <p>限制包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>无法恢复属于<code class="codeph">SYS</code>模式的表和表分区。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SYSTEM</code>和<code class="codeph">SYSAUX</code>表空间中的表和表分区无法恢复。
                           </p>
                        </li>
                        <li>
                           <p>无法恢复备用数据库上的表和表分区。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">REMAP</code>选项无法恢复具有命名<code class="codeph">NOT NULL</code>约束的表。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="BRADV696"></a><div class="props_rev_3"><a id="GUID-27F62B73-7341-4939-9677-5F6D614DE55A" name="GUID-27F62B73-7341-4939-9677-5F6D614DE55A"></a><h3 id="BRADV-GUID-27F62B73-7341-4939-9677-5F6D614DE55A" class="sect3"><span class="enumeration_section">22.2</span>准备恢复表和表分区</h3>
               <div>
                  <p>在准备恢复表或表分区之前，必须执行一些初步任务。</p>
                  <div class="p">查看<span class="q">“ <a href="rman-recovering-tables-partitions.html#GUID-526969ED-37C3-44C6-B205-AF1621008DCE" title="Recovering tables and table partitions from RMAN backups by using the RECOVER command is subject to certain limitations.">从RMAN备份中恢复表和表分区</a></span>的限制”中描述的<span class="q"><a href="rman-recovering-tables-partitions.html#GUID-526969ED-37C3-44C6-B205-AF1621008DCE" title="使用RECOVER命令从RMAN备份恢复表和表分区受到某些限制。">限制</a></span> 。
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>从RMAN备份恢复表或表分区的准备工作包括以下步骤：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>验证是否满足恢复表或表分区所需的先决条件</p>
                        </li>
                        <li>
                           <p>确定必须恢复表或表分区的时间点</p>
                        </li>
                        <li>
                           <p>确定是否必须将恢复的表或表分区导入目标数据库</p>
                           <p>默认情况下，RMAN将恢复的表或表分区导入目标数据库。但是，您可以指定RMAN不得导入已恢复的对象。</p>
                        </li>
                        <li>
                           <p>确定是否必须重命名已恢复的表或表分区，映射到新的表空间，还是映射到新的模式。</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-27F62B73-7341-4939-9677-5F6D614DE55A__GUID-1422396D-3A48-46BD-959F-A131EC6ACA58">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li><span class="q">“ <a href="rman-recovering-tables-partitions.html#GUID-5C32C06D-84AC-44D4-AAA2-54886EA30EF0" title="从RMAN备份恢复表或表分区之前，必须满足某些先决条件。">从RMAN备份恢复表和表分区的先决条件</a> ”</span></li>
                           <li>
                              <p><span class="q">“ <a href="rman-recovering-tables-partitions.html#GUID-87627528-1EC7-42D3-ADB1-232A6C134A2B" title="默认情况下，RMAN将存储在导出转储文件中的已恢复表或表分区导入目标数据库。但是，您可以使用RESTORE命令的NOTABLEIMPORT子句选择不导入已恢复的表或表分区。">关于将恢复的表和表分区导入目标数据库</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="rman-recovering-tables-partitions.html#GUID-688A090A-B24F-4C9C-800B-99483F3514C5" title="确定要恢复表或表分区的确切时间点非常重要。有多种方法可以指定必须恢复对象的时间点。">确定必须恢复表和表分区的时间点</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="rman-recovering-tables-partitions.html#GUID-F22330E3-071D-40C5-ACC2-A984E6A3EBD8" title="使用REMAP TABLE子句重命名目标数据库中已恢复的表或表分区。">关于在RMAN恢复期间重命名恢复的表和表分区</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="rman-recovering-tables-partitions.html#GUID-907031B5-B355-43D8-8E2B-A0A6F2283BD7" title="将表或表分区恢复到不同的模式使您可以避免可能由源模式中已存在的约束，索引或触发器名称引起的名称冲突。">关于将表和分区恢复到新架构</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="BRADV698"></a><div class="props_rev_3"><a id="GUID-5C32C06D-84AC-44D4-AAA2-54886EA30EF0" name="GUID-5C32C06D-84AC-44D4-AAA2-54886EA30EF0"></a><h4 id="BRADV-GUID-5C32C06D-84AC-44D4-AAA2-54886EA30EF0" class="sect4"><span class="enumeration_section">22.2.1</span>从RMAN备份恢复表和表分区的先决条件</h4>
                  <div>
                     <p>从RMAN备份恢复表或表分区之前，必须满足某些先决条件。</p>
                     <p>它们包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>目标数据库必须处于读写模式。</p>
                        </li>
                        <li>
                           <p>目标数据库必须处于<code class="codeph">ARCHIVELOG</code>模式。
                           </p>
                        </li>
                        <li>
                           <p>您必须具有表或分区的RMAN备份，因为它们存在于您希望恢复这些对象的时间点。</p>
                        </li>
                        <li>
                           <p>要恢复单个表分区，目标数据库的<code class="codeph">COMPATIBLE</code>初始化参数必须设置为11.1.0或更高版本。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-5C32C06D-84AC-44D4-AAA2-54886EA30EF0__GUID-C8B7A056-FE4D-4C11-9775-B2F13A50E4C6">
                        <p class="notep1">也可以看看：</p><a href="rman-recovering-tables-partitions.html#GUID-EEB32689-9ACE-40C6-9874-5FB484C4126D" title="要恢复表或表分区，需要完全备份undo，SYSTEM，SYSAUX以及包含表或表分区的表空间。">恢复表和表分区所需的RMAN备份</a></div>
                  </div>
               </div><a id="BRADV697"></a><div class="props_rev_3"><a id="GUID-688A090A-B24F-4C9C-800B-99483F3514C5" name="GUID-688A090A-B24F-4C9C-800B-99483F3514C5"></a><h4 id="BRADV-GUID-688A090A-B24F-4C9C-800B-99483F3514C5" class="sect4"><span class="enumeration_section">22.2.2</span>确定必须恢复表和表分区的时间点</h4>
                  <div>
                     <p>确定要恢复表或表分区的确切时间点非常重要。有多种方法可以指定必须恢复对象的时间点。</p>
                     <p>使用以下方法之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>SCN</p>
                           <p>将表或表分区恢复到SCN指定时的状态。</p>
                        </li>
                        <li>
                           <p>时间</p>
                           <p>将表或表分区恢复到指定时间所处的状态。使用<code class="codeph">NLS_LANG</code>和<code class="codeph">NLS_DATE_FORMAT</code>环境变量中指定的日期格式。您还可以使用<code class="codeph">SYSDATE</code>等数据常量来指定时间，例如<code class="codeph">SYSDATE-30</code> 。
                           </p>
                        </li>
                        <li>
                           <p>序列号</p>
                           <p>将表或表分区恢复到日志序列号和线程号指定的时间状态。</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="BRADV809"></a><a id="BRADV699"></a><div class="props_rev_3"><a id="GUID-04D1B794-25D0-4C1E-9A98-F08AD361B41E" name="GUID-04D1B794-25D0-4C1E-9A98-F08AD361B41E"></a><h3 id="BRADV-GUID-04D1B794-25D0-4C1E-9A98-F08AD361B41E" class="sect3"><span class="enumeration_section">22.3</span>恢复表和表分区</h3>
               <div>
                  <p>使用<code class="codeph">RESTORE</code>和<code class="codeph">RECOVER</code>命令恢复表或表分区。
                  </p>
                  <div class="section">
                     <p><span class="bold">要将非CDB中的表或表分区恢复到指定的时间点：</span></p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>执行<span class="q">“ <a href="rman-recovering-tables-partitions.html#GUID-27F62B73-7341-4939-9677-5F6D614DE55A" title="在准备恢复表或表分区之前，必须执行一些初步任务。">准备恢复表和表分区</a> ”中</span>描述的规划任务。</span></li>
                     <li class="stepexpand"><span>启动RMAN并以<code class="codeph">TARGET</code>身份连接到目标数据库。必须以具有<code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDBA</code>权限的用户身份进行连接，如<span class="q">“ <a href="starting-interacting-with-rman-client.html#GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" title="您可以从RMAN客户端或操作系统命令行创建数据库连接。可以使用密码文件或操作系统身份验证对这些数据库连接进行身份验证。">使用RMAN建立数据库连接</a> ”中所述</span> 。</span></li>
                     <li class="stepexpand"><span>使用<code class="codeph">RECOVER TABLE</code>命令将选定的表或表分区恢复到指定的时间点。必须使用<code class="codeph">AUXILIARY DESTINATION</code>子句和以下子句之一指定恢复的时间点： <code class="codeph">UNTIL TIME</code> ， <code class="codeph">UNTIL SCN</code>或<code class="codeph">UNTIL SEQUENCE</code> 。</span><div>
                           <p>您可以在<code class="codeph">RECOVER</code>命令中使用以下附加子句：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">DUMP FILE</code>和<code class="codeph">DATAPUMP DESTINATION</code></p>
                                 <p>指定包含已恢复表或表分区的<a href="glossary.html#GUID-5C2A79F3-E089-41DC-B3F5-879FB6125CE5"><span class="xrefglossterm">导出转储文件</span></a>的名称以及必须存储它的位置。
                                 </p>
                                 <p>有关信息，请参阅<span class="q">“ <a href="rman-recovering-tables-partitions.html#GUID-B80DD4C3-BF33-46C4-BFA5-614A2523877B" title="在将表或表分区恢复到辅助数据库上的指定时间点之后，RMAN会创建一个包含已恢复对象的数据泵导出转储文件。您可以指定此转储文件的名称和位置，也可以允许RMAN使用默认名称和位置。">关于在RMAN表恢复期间使用的数据泵导出转储文件</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">NOTABLEIMPORT</code></p>
                                 <p>表示不能将恢复的表或表分区导入目标数据库。</p>
                                 <p>请参见<span class="q">“ <a href="rman-recovering-tables-partitions.html#GUID-87627528-1EC7-42D3-ADB1-232A6C134A2B" title="默认情况下，RMAN将存储在导出转储文件中的已恢复表或表分区导入目标数据库。但是，您可以使用RESTORE命令的NOTABLEIMPORT子句选择不导入已恢复的表或表分区。">关于将恢复的表和表分区导入目标数据库</a> ”</span></p>
                              </li>
                              <li>
                                 <p><code class="codeph">REMAP TABLE</code></p>
                                 <p>重命名目标数据库中已恢复的表或表分区。此子句还用于将表或表分区恢复为与源模式不同的模式。</p>
                                 <p>请参见<span class="q">“ <a href="rman-recovering-tables-partitions.html#GUID-F22330E3-071D-40C5-ACC2-A984E6A3EBD8" title="使用REMAP TABLE子句重命名目标数据库中已恢复的表或表分区。">关于在RMAN恢复期间重命名恢复的表和表分区</a>以及<a href="rman-recovering-tables-partitions.html#GUID-907031B5-B355-43D8-8E2B-A0A6F2283BD7" title="将表或表分区恢复到不同的模式使您可以避免可能由源模式中已存在的约束，索引或触发器名称引起的名称冲突。">关于将表和分区恢复到新架构</a> ”</span></p>
                              </li>
                              <li>
                                 <p><code class="codeph">REMAP TABLESPACE</code></p>
                                 <p>将表或表分区恢复到与最初存在这些对象的表空间不同的表空间。</p>
                                 <p>请参见<span class="q">“ <a href="rman-recovering-tables-partitions.html#GUID-F22330E3-071D-40C5-ACC2-A984E6A3EBD8" title="使用REMAP TABLE子句重命名目标数据库中已恢复的表或表分区。">关于在RMAN恢复期间重命名恢复的表和表分区</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-04D1B794-25D0-4C1E-9A98-F08AD361B41E__GUID-96C46C2E-791B-44FE-8377-B06F470C754D">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="rman-recovering-tables-partitions.html#GUID-DEE9C16C-C30A-46C6-A0CE-2DE060A8EC10" title="本节包含的示例涵盖了恢复表和表分区的多种方案。">示例：从RMAN备份恢复表和表分区</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="BRADV860"></a><a id="BRADV859"></a><div class="props_rev_3"><a id="GUID-B8245791-9B75-4AE7-ACE9-D9EDBC2DACC0" name="GUID-B8245791-9B75-4AE7-ACE9-D9EDBC2DACC0"></a><h3 id="BRADV-GUID-B8245791-9B75-4AE7-ACE9-D9EDBC2DACC0" class="sect3"><span class="enumeration_section">22.4</span>在PDB中恢复表和表分区</h3>
               <div>
                  <p>RMAN使您可以使用<code class="codeph">RECOVER</code>命令将可插拔数据库（PDB）中的一个或多个表或表分区恢复到指定的时间点，而不会影响PDB中的其他对象。</p>
                  <div class="section">
                     <p>用于恢复PDB中的表或表分区的步骤与用于非CDB的步骤类似，但本节中描述的不同之处。</p>
                     <p><span class="bold">要恢复PDB中的表或表分区：</span></p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>执行<span class="q">“ <a href="rman-recovering-tables-partitions.html#GUID-27F62B73-7341-4939-9677-5F6D614DE55A" title="在准备恢复表或表分区之前，必须执行一些初步任务。">准备恢复表和表分区</a> ”中</span>描述的规划任务。</span></li>
                     <li class="stepexpand"><span>启动RMAN并以具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限的用户身份连接到root，如<span class="q">“ <a href="starting-interacting-with-rman-client.html#GUID-B397ADD8-D9CF-4DDA-B6AC-8C5FF04447AD" title="您可以将RMAN客户端连接到多租户容器数据库（CDB）和可插拔数据库（PDB）。">使RMAN连接到CDB</a> ”中所述</span> 。</span></li>
                     <li class="stepexpand"><span>使用<code class="codeph">RECOVER TABLE ...将表或表分区恢复到指定的时间点<code class="codeph">RECOVER TABLE ...OF PLUGGABLE DATABASE</code>命令。</span><div>
                           <p>您必须使用<code class="codeph">AUXILIARY DESTINATION</code>子句和以下子句之一： <code class="codeph">UNITL TIME</code> ， <code class="codeph">UNTIL SCN</code>或<code class="codeph">UNTIL SEQUENCE</code> 。</p>
                           <p>根据您的要求，您可能还需要使用以下一个或多个子句： <code class="codeph">DUMP FILE</code> ， <code class="codeph">DATAPUMP DESTINATION</code> ， <code class="codeph">NOTABLEIMPORT</code> ， <code class="codeph">REMAP TABLE</code>或<code class="codeph">REMAP TABLESPACE</code> 。</p>
                           <div class="infoboxnotealso" id="GUID-B8245791-9B75-4AE7-ACE9-D9EDBC2DACC0__GUID-3E56DF68-F9C0-49E5-9063-6B74D7C210C2">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="rman-recovering-tables-partitions.html#GUID-2102898D-E461-4161-8DBC-EE4B37213B60" title="RMAN使用RECOVER命令将表或表分区恢复到指定的时间点。">从RMAN备份恢复表和表分区的基本概念</a></p>
                                 </li>
                                 <li>
                                    <p>有关<code class="codeph">RECOVER</code>命令的信息<a href="../rcmrf/RECOVER.html#RCMRF140" target="_blank"><span><cite>，请参见Oracle数据库备份和恢复参考</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                           <p>以下命令将PDB <code class="codeph">HR_PDB</code>的表<code class="codeph">PDB_EMP</code>恢复到当前日期之前4天的状态。<code class="codeph">HR</code>是包含表的模式的名称。恢复的表重命名为<code class="codeph">EMP_RECVR</code> 。</p><pre class="oac_no_warn" dir="ltr">恢复表HR.PDB_EMP可插拔数据库HR_PDB直到'SYSDATE-4'辅助目的地'/ tmp / backups'REMAP TABLE'HR'。'PDB_EMP'： 'EMP_RECVR';</pre></div>
                     </li>
                  </ol>
               </div>
            </div><a id="BRADV700"></a><div class="props_rev_3"><a id="GUID-DEE9C16C-C30A-46C6-A0CE-2DE060A8EC10" name="GUID-DEE9C16C-C30A-46C6-A0CE-2DE060A8EC10"></a><h3 id="BRADV-GUID-DEE9C16C-C30A-46C6-A0CE-2DE060A8EC10" class="sect3"><span class="enumeration_section">22.5</span>示例：从RMAN备份恢复表和表分区</h3>
               <div>
                  <p>本节包含的示例涵盖了恢复表和表分区的多种方案。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="rman-recovering-tables-partitions.html#GUID-D1C6E45D-44CC-4B07-9C89-E82CD6C0E6A8" title="此示例将多个表恢复到使用SYSDATE表示的指定时间点。">示例：将表恢复到指定的时间点</a></p>
                     </li>
                     <li>
                        <p><a href="rman-recovering-tables-partitions.html#GUID-FB30D350-DFF9-4F92-8132-5C824B2A9E68" title="此示例使用RMAN备份来恢复多个表分区。">示例：将表分区恢复为指定的日志序列号</a></p>
                     </li>
                     <li>
                        <p><a href="rman-recovering-tables-partitions.html#GUID-98525DD5-E08F-46F0-A9D8-A7EC3EB54457" title="此示例将多个表恢复为与源架构不同的新架构。">示例：将表恢复为新架构</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV702"></a><div class="props_rev_3"><a id="GUID-D1C6E45D-44CC-4B07-9C89-E82CD6C0E6A8" name="GUID-D1C6E45D-44CC-4B07-9C89-E82CD6C0E6A8"></a><h4 id="BRADV-GUID-D1C6E45D-44CC-4B07-9C89-E82CD6C0E6A8" class="sect4"><span class="enumeration_section">22.5.1</span>示例：将表恢复到指定的时间点</h4>
                  <div>
                     <p>此示例将多个表恢复到使用<code class="codeph">SYSDATE</code>表示的指定时间点。</p>
                     <div class="section">
                        <p>假设您希望将两个表<code class="codeph">EMP</code>和<code class="codeph">DEPT</code>恢复到两天前的状态，然后才会发生某些逻辑损坏。但是，您不希望RMAN将这些表导入目标数据库。RMAN只能在位置<code class="codeph">/tmp/recover/dumpfiles</code>创建名为<code class="codeph">emp_dept_exp_dump.dat</code>的<a href="glossary.html#GUID-5C2A79F3-E089-41DC-B3F5-879FB6125CE5"><span class="xrefglossterm">导出转储文件</span></a> 。使用<code class="codeph">NOTABLEIMPORT</code>表示不得将这些表导入目标数据库。您可以在需要时使用Data Pump导入实用程序导入这些表。恢复过程中使用的辅助目标是<code class="codeph">/tmp/oracle/recover</code> 。
                        </p>
                        <p>要恢复表<code class="codeph">EMP</code>和<code class="codeph">DEPT</code>而不将它们导入目标数据库：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>执行<span class="q">“ <a href="rman-recovering-tables-partitions.html#GUID-27F62B73-7341-4939-9677-5F6D614DE55A" title="在准备恢复表或表分区之前，必须执行一些初步任务。">准备恢复表和表分区</a> ”中</span>描述的规划任务。</span><div>
                              <p>在此示例中，您需要将表恢复到由使用<code class="codeph">SYSDATE</code>的表达式指定的时间点。但是，不能将恢复的表导入目标数据库。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>启动RMAN会话并按照<code class="codeph">TARGET</code>连接到目标数据库，如<span class="q">“ <a href="starting-interacting-with-rman-client.html#GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" title="您可以从RMAN客户端或操作系统命令行创建数据库连接。可以使用密码文件或操作系统身份验证对这些数据库连接进行身份验证。">使用RMAN建立数据库连接</a> ”中所述</span> 。</span></li>
                        <li class="stepexpand"><span>使用<code class="codeph">RECOVER</code>命令中的以下子句恢复表<code class="codeph">EMP</code>和<code class="codeph">DEPT</code> ： <code class="codeph">DATAPUMP DESTINATION</code> ， <code class="codeph">DUMP FILE</code> ， <code class="codeph">REMAP TABLE</code>和<code class="codeph">NOTABLEIMPORT</code> 。</span><div>
                              <p>以下<code class="codeph">RECOVER</code>命令可恢复<code class="codeph">EMP</code>和<code class="codeph">DEPT</code>表。
                              </p><pre class="oac_no_warn" dir="ltr">RECOVER TABLE SCOTT.EMP，SCOTT.DEPT UNTIL TIME'SYSDATE-1'AUXILIARY DESTINATION'/ tmp / oracle / recover'DATAPUMP DESTINATION'/ tmp / recover / dumpfiles'DUMP FILE'emp_dept_exp_dump.dat'NOTABLEIMPORT;</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-D1C6E45D-44CC-4B07-9C89-E82CD6C0E6A8__GUID-5CF428FC-2B4C-48BD-AAF7-8D00BCA78562">
                           <p class="notep1">也可以看看：</p>
                           <p>有关将表恢复到指定时间点的其他示例<a href="../rcmrf/RECOVER.html#RCMRF140" target="_blank"><span><cite>，请参见Oracle数据库备份和恢复参考</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV703"></a><div class="props_rev_3"><a id="GUID-FB30D350-DFF9-4F92-8132-5C824B2A9E68" name="GUID-FB30D350-DFF9-4F92-8132-5C824B2A9E68"></a><h4 id="BRADV-GUID-FB30D350-DFF9-4F92-8132-5C824B2A9E68" class="sect4"><span class="enumeration_section">22.5.2</span>示例：将表分区恢复为指定的日志序列号</h4>
                  <div>
                     <p>此示例使用RMAN备份来恢复多个表分区。</p>
                     <div class="section">
                        <p>在此示例中，模式<code class="codeph">sh</code>的表<code class="codeph">sales</code>包含以下分区： <code class="codeph">sales_1998</code> ， <code class="codeph">sales_1999</code> ， <code class="codeph">sales_2000</code>和<code class="codeph">sales_2001</code> 。该表存储在<code class="codeph">sales_ts</code>表空间中。您需要将两个分区<code class="codeph">sales_1998</code>和<code class="codeph">sales_1999</code>恢复到由重做日志序列号指定的时间点。必须将恢复的表自动导入目标数据库并映射到表空间<code class="codeph">SALES_PRE_2000_TS</code> 。</p>
                        <p>要将分区<code class="codeph">sales_1998</code>和<code class="codeph">sales_1999</code>恢复为指定的日志序列号：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>执行<span class="q">“ <a href="rman-recovering-tables-partitions.html#GUID-27F62B73-7341-4939-9677-5F6D614DE55A" title="在准备恢复表或表分区之前，必须执行一些初步任务。">准备恢复表和表分区</a> ”中</span>描述的规划任务。</span><div>
                              <p>在此示例中，您需要将两个表分区恢复为指定的日志序列号，然后将这些分区导入目标数据库。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>启动RMAN会话并按照<code class="codeph">TARGET</code>连接到目标数据库，如<span class="q">“ <a href="starting-interacting-with-rman-client.html#GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" title="您可以从RMAN客户端或操作系统命令行创建数据库连接。可以使用密码文件或操作系统身份验证对这些数据库连接进行身份验证。">使用RMAN建立数据库连接</a> ”中所述</span> 。</span></li>
                        <li class="stepexpand"><span>使用以下<code class="codeph">RECOVER</code>命令和<code class="codeph">REMAP TABLE</code>和<code class="codeph">REMAP TABLESPACE</code>子句恢复分区。</span><div><pre class="oac_no_warn" dir="ltr">RECOVER TABLE SH.SALES：SALES_1998，SH.SALES：SALES_1999 UNTIL SEQUENCE 354辅助目的地'/ tmp / oracle / recover'REMAP TABLE'SH'。'SALES'：'SALES_1998'：'HISTORIC_SALES_1998'，'SH'。'SALES'：'SALES_1999'：'HISTORIC_SALES_1999'REMAP TABLESPACE'SALES_TS'：'SALES_PRE_2000_TS';</pre><p>在这种情况下，指定的表分区将作为单独的表（称为<code class="codeph">historic_sales_1998</code>和<code class="codeph">historic_sales_1999</code> ）导入到目标数据库的<code class="codeph">sales_pre_2000_ts</code>表空间中。<code class="codeph">REMAP TABLE</code>子句指定用于导入表的名称。恢复过程中使用的辅助目标是<code class="codeph">/tmp/oracle/recover</code> 。
                              </p>
                              <p>如果省略<code class="codeph">REMAP TABLE</code>子句，RMAN将使用导入表的默认名称。名称是原始表名和分区名的组合。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-98525DD5-E08F-46F0-A9D8-A7EC3EB54457" name="GUID-98525DD5-E08F-46F0-A9D8-A7EC3EB54457"></a><h4 id="BRADV-GUID-98525DD5-E08F-46F0-A9D8-A7EC3EB54457" class="sect4"><span class="enumeration_section">22.5.3</span>示例：将表恢复为新架构</h4>
                  <div>
                     <p>此示例将多个表恢复为与源架构不同的新架构。</p>
                     <div class="section">
                        <p>在此示例中， <code class="codeph">HR.DEPARTMENTS</code>和<code class="codeph">SH.CHANNELS</code>表需要恢复到它们在一天前发生逻辑损坏之前的状态。必须将恢复的表重命名为<code class="codeph">NEW_DEPARTMENTS</code>和<code class="codeph">NEW_CHANNELS</code>并导入到<code class="codeph">EXAMPLE</code>模式中。架构<code class="codeph">EXAMPLE</code>在运行此示例时存在。
                        </p>
                        <p><code class="codeph">REMAP TABLE</code>子句用于指示源架构如何映射到新的目标架构。恢复过程中使用的辅助目标是<code class="codeph">/tmp/auxdest</code> 。</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>执行从RMAN备份恢复表所需的计划任务。在此示例中，您需要将表恢复到由使用<code class="codeph">SYSDATE</code>的表达式指定的时间点。</span><div>请参阅<a href="rman-recovering-tables-partitions.html#GUID-27F62B73-7341-4939-9677-5F6D614DE55A" title="在准备恢复表或表分区之前，必须执行一些初步任务。">准备恢复表和表分区</a> 。
                           </div>
                        </li>
                        <li class="stepexpand"><span>启动RMAN会话并连接到目标数据库，如<span class="q">“ <a href="starting-interacting-with-rman-client.html#GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" title="您可以从RMAN客户端或操作系统命令行创建数据库连接。可以使用密码文件或操作系统身份验证对这些数据库连接进行身份验证。">使用RMAN建立数据库连接</a> ”中所述</span> 。</span></li>
                        <li class="stepexpand"><span>恢复<code class="codeph">HR.DEPARTMENTS</code>和<code class="codeph">SH.CHANNELS</code>表，分别将它们重命名为<code class="codeph">NEW_DEPARTMENTS</code>和<code class="codeph">NEW_CHANNELS</code> ，然后将它们导入<code class="codeph">EXAMPLE</code>模式。</span><div>
                              <p>以下<code class="codeph">RECOVER</code>命令执行所需的表恢复：</p><pre class="pre codeblock"><code>恢复表HR.DEPARTMENTS，SH.CHANNELS直到'SYDATE  -  1'辅助目的地'/ tmp / auxdest'REMAP TABLE hr.departments：example.new_departments，sh.channels：example.new_channels;</code></pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00210.advanced-design-considerations.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>高级设计考虑因素</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database SecureFiles and Large Objects Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database SecureFiles and Large Objects Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="securefiles-and-large-objects-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T02:58:18-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96333-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="LOB-storage-with-applications.html" title="Previous" type="text/html"></link>
      <link rel="next" href="performance-guidelines.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SecureFiles and Large Objects Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADLOB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="LOB-storage-with-applications.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="performance-guidelines.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database SecureFiles和Large Objects Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="application-design-with-LOBs.html" property="item" typeof="WebPage"><span property="name">LOB的应用程序设计</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">高级设计考虑因素</li>
            </ol>
            <a id="GUID-1153755A-C4F4-4462-B592-6EE520F1C6A7" name="GUID-1153755A-C4F4-4462-B592-6EE520F1C6A7"></a><a id="ADLOB45318"></a>
            
            <h2 id="ADLOB-GUID-1153755A-C4F4-4462-B592-6EE520F1C6A7" class="sect2"><span class="enumeration_chapter">14</span>高级设计注意事项</h2>
         </header>
         <div class="ind">
            <div>
               <p>更高级的应用程序开发问题有设计考虑因素。</p>
               <p>Topicss：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="advanced-design-considerations.html#GUID-B161D891-886D-4D53-89F0-BB42BD22C102">使用OPEN和CLOSE接口打开持久LOB</a></p>
                  </li>
                  <li>
                     <p><a href="advanced-design-considerations.html#GUID-B1E476A2-F3FE-4D13-BC2B-FFB809698ED3">Read-Consistent Locators</a></p>
                  </li>
                  <li>
                     <p><a href="advanced-design-considerations.html#GUID-4DDA92CE-8C94-4DD1-9BA3-C6FC5ED7CAE0">LOB定位器和事务边界</a></p>
                  </li>
                  <li>
                     <p><a href="advanced-design-considerations.html#GUID-4AA63439-3BCD-41A8-98D0-40923BFE0309">对象缓存中的LOB</a></p>
                  </li>
                  <li>
                     <p><a href="advanced-design-considerations.html#GUID-FD6659DC-8792-4D7C-AC07-9EABEA02DF91">Terabyte-Size LOB支持</a></p>
                  </li>
                  <li>
                     <p><a href="advanced-design-considerations.html#GUID-B8E82069-4847-4116-9DA1-BFE6F99288C2">创建技嘉LOB的指南</a></p>
                  </li>
               </ul>
            </div><a id="ADLOB1002"></a><div class="props_rev_3"><a id="GUID-B161D891-886D-4D53-89F0-BB42BD22C102" name="GUID-B161D891-886D-4D53-89F0-BB42BD22C102"></a><h3 id="ADLOB-GUID-B161D891-886D-4D53-89F0-BB42BD22C102" class="sect3">使用OPEN和CLOSE接口打开持久LOB</h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">OPEN</code>和<code class="codeph">CLOSE</code>接口使您可以显式打开持久LOB实例。
                     </p>
                     <p>使用<code class="codeph">OPEN</code>接口打开LOB实例时，实例将保持打开状态，直到使用<code class="codeph">CLOSE</code>接口显式关闭LOB。<code class="codeph">ISOPEN</code>接口使您可以确定持久性LOB是否已打开。
                     </p>
                     <p>请注意，LOB的打开状态与LOB实例相关联，而不是与LOB定位器相关联。定位器不保存任何指示它指向的LOB实例是否打开的信息。</p>
                     <div class="infoboxnotealso" id="GUID-B161D891-886D-4D53-89F0-BB42BD22C102__GUID-7D365222-2E5E-407D-A4AC-74958528C67B">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="working-with-LOBs.html#GUID-20013E7E-EAAC-40C5-B190-20A759DBFF11" title="LOB API包括使您能够显式打开和关闭LOB实例的操作。">LOB打开和关闭操作0。</a> ”</span> 。
                        </p>
                     </div>
                     <p>话题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="advanced-design-considerations.html#GUID-156DDAB9-8B9A-461B-9194-A91987198ECF">明确打开LOB的索引性能优势</a></p>
                        </li>
                        <li>
                           <p><a href="advanced-design-considerations.html#GUID-16CB7CF0-C7E9-4D91-88E6-DD2C9FD49783">关闭显式打开的LOB实例</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADLOB45330"></a><div class="props_rev_3"><a id="GUID-156DDAB9-8B9A-461B-9194-A91987198ECF" name="GUID-156DDAB9-8B9A-461B-9194-A91987198ECF"></a><h4 id="ADLOB-GUID-156DDAB9-8B9A-461B-9194-A91987198ECF" class="sect4">明确打开LOB的索引性能优势</h4>
                  <div>
                     <p>显式打开LOB实例可以使索引列中的持久LOB的性能受益。</p>
                     <p>如果未显式打开LOB实例，则对LOB的每次修改都会隐式打开和关闭LOB实例。每次关闭LOB时都会触发域索引上的任何触发器。请注意，在这种情况下，只要对LOB实例进行任何修改，LOB上的任何域索引都会更新;域索引始终有效，可以随时使用。</p>
                     <p>显式打开LOB实例时，在显式关闭LOB之前，不会触发索引触发器。使用此技术可以通过消除不需要的索引事件来提高索引列的性能，直到您显式关闭LOB。请注意，在您明确关闭LOB之前，LOB列上的任何索引都无效。</p>
                  </div>
               </div><a id="ADLOB45331"></a><div class="props_rev_3"><a id="GUID-16CB7CF0-C7E9-4D91-88E6-DD2C9FD49783" name="GUID-16CB7CF0-C7E9-4D91-88E6-DD2C9FD49783"></a><h4 id="ADLOB-GUID-16CB7CF0-C7E9-4D91-88E6-DD2C9FD49783" class="sect4">关闭显式打开的LOB实例</h4>
                  <div>
                     <div class="section">
                        <p>如果显式打开LOB实例，则必须在提交事务之前关闭LOB。</p>
                        <p>在打开的LOB实例上提交事务会导致错误。发生此错误时，将隐式关闭LOB实例，保存对LOB实例的任何修改，并提交事务，但不更新LOB列上的任何索引。在这种情况下，您必须在LOB列上重建索引。</p>
                        <p>如果随后回滚事务，则LOB实例将回滚到其先前状态，但LOB实例不再显式打开。</p>
                        <p>您必须关闭显式打开的任何LOB实例：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在启动事务的DML语句之间，包括<code class="codeph">SELECT</code> ...<code class="codeph">FOR</code> <code class="codeph">UPDATE</code>和<code class="codeph">COMMIT</code> 
                              </p>
                           </li>
                           <li>
                              <p>在自治事务块内</p>
                           </li>
                           <li>
                              <p>在会话结束之前（当没有涉及交易时）</p>
                              <p>如果未显式关闭LOB实例，则会在会话结束时隐式关闭它，并且不会触发索引触发器。</p>
                           </li>
                        </ul>
                        <p>跟踪您明确打开的LOB的打开或关闭状态。以下操作会导致错误：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>显式打开之前已明确打开的LOB实例。</p>
                           </li>
                           <li>
                              <p>显式关闭之前已明确关闭的LOB实例。</p>
                           </li>
                        </ul>
                        <p>无论是使用相同的定位器还是使用不同的定位器访问LOB实例，都会发生这种情况。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADLOB45332"></a><div class="props_rev_3"><a id="GUID-B1E476A2-F3FE-4D13-BC2B-FFB809698ED3" name="GUID-B1E476A2-F3FE-4D13-BC2B-FFB809698ED3"></a><h3 id="ADLOB-GUID-B1E476A2-F3FE-4D13-BC2B-FFB809698ED3" class="sect3">Read-Consistent Locators</h3>
               <div>
                  <p>Oracle数据库为LOB提供与所有其他数据库读取和标量数量更新相同的读取一致性机制。</p>
                  <p>读取一致性对LOB定位器有一些特殊的应用，您必须了解它们。以下部分讨论了读一致性，并包含了应该相互关联的示例。</p>
                  <div class="infoboxnotealso" id="GUID-B1E476A2-F3FE-4D13-BC2B-FFB809698ED3__NOTE-134-DFDE2884">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关读一致性的一般信息，请参阅<a href="../cncpt/data-concurrency-and-consistency.html#CNCPT221" target="_blank"><span><cite>Oracle数据库</cite></span></a>概</p>
                        </li>
                        <li>
                           <p><a href="working-with-LOBs.html#GUID-D71F0CBE-0717-41A2-BCD4-71E1DDF895D1" title="许多Oracle LOB示例使用Oracle Database Sample Schema PM的print_media表。">LOB示例表：PM Schema print_media表</a></p>
                        </li>
                     </ul>
                  </div>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="advanced-design-considerations.html#GUID-34EC32F1-51A9-4E72-ADDC-AA5B3D5E4BBC">选定的定位器成为一致的定位器</a></p>
                     </li>
                     <li>
                        <p><a href="advanced-design-considerations.html#GUID-0320FCED-13FE-4F6F-A68B-8A275F224780">更新LOB和读一致性的示例</a></p>
                     </li>
                     <li>
                        <p><a href="advanced-design-considerations.html#GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD">通过更新的定位器更新LOB的示例</a></p>
                     </li>
                     <li>
                        <p><a href="advanced-design-considerations.html#GUID-A67D2857-7F83-4BCC-BF43-A0BA9C5EF9A0">使用SQL DML和DBMS_LOB更新LOB的示例</a></p>
                     </li>
                     <li>
                        <p><a href="advanced-design-considerations.html#GUID-58DED834-DFEB-4ED2-B24C-D1C0634F6A39">使用一个定位器更新相同LOB值的示例</a></p>
                     </li>
                     <li>
                        <p><a href="advanced-design-considerations.html#GUID-348E9FD8-2C50-4172-81B0-8BCC0D23144D">使用PL / SQL（DBMS_LOB）绑定变量更新LOB的示例</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB45333"></a><div class="props_rev_3"><a id="GUID-34EC32F1-51A9-4E72-ADDC-AA5B3D5E4BBC" name="GUID-34EC32F1-51A9-4E72-ADDC-AA5B3D5E4BBC"></a><h4 id="ADLOB-GUID-34EC32F1-51A9-4E72-ADDC-AA5B3D5E4BBC" class="sect4">选定的定位器成为一致的定位器</h4>
                  <div>
                     <p><a id="d80928e567" class="indexterm-anchor"></a><a id="d80928e571" class="indexterm-anchor"></a><a id="d80928e575" class="indexterm-anchor"></a><a id="d80928e579" class="indexterm-anchor"></a><a id="d80928e583" class="indexterm-anchor"></a><a id="d80928e587" class="indexterm-anchor"></a>无论是否存在<code class="codeph">FOR</code> <code class="codeph">UPDATE</code>子句，所选定位器都将成为<span class="italic">读取一致定位器，</span>并且在LOB值为<a id="d80928e602" class="indexterm-anchor"></a><a id="d80928e606" class="indexterm-anchor"></a>通过该定位器更新。
                     </p>
                     <p>读取一致定位器包含<code class="codeph">SELECT</code>操作的时间点的快照环境。
                     </p>
                     <p>这有一些复杂的含义。假设您已通过<code class="codeph">SELECT</code>操作创建了读一致定位器（ <code class="codeph">L1</code> ）。在通过<code class="codeph">L1</code>读取持久性LOB的值时，请注意以下事项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>该LOB被读取作为时间点的<code class="codeph">SELECT</code> ，即使语句<code class="codeph">SELECT</code>语句包含<code class="codeph">FOR</code> <code class="codeph">UPDATE</code> 。</p>
                        </li>
                        <li>
                           <p>如果通过同一事务中的不同定位符（ <code class="codeph">L2</code> ）更新LOB值，则<code class="codeph">L1</code>不会看到<code class="codeph">L2</code>更新。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">L1</code>没有看到通过另一个事务对LOB进行的提交更新。
                           </p>
                        </li>
                        <li>
                           <p>如果<a id="d80928e663" class="indexterm-anchor"></a><a id="d80928e665" class="indexterm-anchor"></a>读取一致定位器<code class="codeph">L1</code>被复制到另一个定位器<code class="codeph">L2</code> （例如，通过两个定位器变量的PL / SQL分配<code class="codeph">L2:= L1</code> ），然后<code class="codeph">L2</code>与<code class="codeph">L1</code>一起成为读取一致定位器，并且任何读取的数据都被读取为<code class="codeph">SELECT</code>的<code class="codeph">L1</code>时间点。
                           </p>
                        </li>
                     </ul>
                     <p>你可以使用它的存在<a id="d80928e694" class="indexterm-anchor"></a>多个定位器，用于访问LOB值的不同转换。但是，在执行此操作时，您必须跟踪不同定位器访问的不同值。
                     </p>
                  </div>
               </div><a id="ADLOB45334"></a><div class="props_rev_3"><a id="GUID-0320FCED-13FE-4F6F-A68B-8A275F224780" name="GUID-0320FCED-13FE-4F6F-A68B-8A275F224780"></a><h4 id="ADLOB-GUID-0320FCED-13FE-4F6F-A68B-8A275F224780" class="sect4">更新LOB和读一致性的示例</h4>
                  <div>
                     <p>无论何时发生<code class="codeph">SELECT</code>读取一致定位器都提供相同的LOB值。
                     </p>
                     <p>以下示例演示了简单示例中读取一致性和更新之间的关系。使用<code class="codeph">print_media</code>中描述表<span class="q">“ <a href="working-with-LOBs.html#GUID-D71F0CBE-0717-41A2-BCD4-71E1DDF895D1" title="许多Oracle LOB示例使用Oracle Database Sample Schema PM的print_media表。">表对于LOB实施例：PM模式print_media表</a> ”</span>和PL / SQL，三个<code class="codeph">CLOB</code> ：实例作为潜在的定位器创建<code class="codeph">clob_selected</code> ， <code class="codeph">clob_update</code> ，和<code class="codeph">clob_copied</code> 。
                     </p>
                     <p>从时间<code class="codeph">t1</code>到<code class="codeph">t6</code> ，观察代码中的这些进度：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在第一个<code class="codeph">SELECT</code> <code class="codeph">INTO</code> （在<code class="codeph">t1</code> ）时， <code class="codeph">ad_sourcetext</code>的值<span class="italic"> </span>与定位符<code class="codeph">clob_selected</code>相关联<span class="italic">。</span> 
                           </p>
                        </li>
                        <li>
                           <p>在第二个操作（在<code class="codeph">t2</code> ）， <code class="codeph">ad_sourcetext</code>的值<span class="italic"> </span>与定位器<code class="codeph">clob_updated</code>相关联<span class="italic">。</span> 因为<code class="codeph">ad_sourcetext</code>的值没有变化<span class="italic"> </span>在<code class="codeph">t1</code>和<code class="codeph">t2</code>之间， <code class="codeph">clob_selected</code>和<code class="codeph">clob_updated</code>都是读取一致的定位器，它们实际上具有相同的值，即使它们反映了在不同时刻拍摄的快照。
                           </p>
                        </li>
                        <li>
                           <p>第三个操作（在<code class="codeph">t3</code> ）将<code class="codeph">clob_copied</code>的值<code class="codeph">clob_selected</code>到<code class="codeph">clob_copied</code> 。此时，所有三个定位器都看到相同的值。该示例使用一系列<code class="codeph">DBMS_LOB</code>演示了这一点。 <code class="codeph">READ()</code>调用。
                           </p>
                        </li>
                        <li>
                           <p>在时间<code class="codeph">t4</code> ，程序使用<code class="codeph">DBMS_LOB</code> 。 <code class="codeph">WRITE()</code>改变<code class="codeph">clob_updated</code>的值，以及<code class="codeph">DBMS_LOB</code> 。 <code class="codeph">READ()</code>显示一个新值。
                           </p>
                        </li>
                        <li>
                           <p>但是，一个<code class="codeph">DBMS_LOB</code> 。通过<code class="codeph">clob_selected</code> （在<code class="codeph">t5</code> ）读取值的<code class="codeph">READ()</code>表明它是一个读取一致的定位器，继续引用与其<code class="codeph">SELECT</code>时间相同的值。</p>
                        </li>
                        <li>
                           <p>同样， <code class="codeph">DBMS_LOB</code> 。通过<code class="codeph">clob_copied</code> （在<code class="codeph">t6</code> ）读取值的<code class="codeph">READ()</code>表明它是一个读取一致的定位器，继续引用与<code class="codeph">clob_selected</code>相同的值。
                           </p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-0320FCED-13FE-4F6F-A68B-8A275F224780__GUID-8E9FDC39-B5CE-4D31-8770-A7471CC2113E">
                        <p class="titleinexample">例14-1</p><pre class="oac_no_warn" dir="ltr">INSERT INTO PRINT_MEDIA VALUES（2056,20020，EMPTY_BLOB（），'abcd'，EMPTY_CLOB（），EMPTY_CLOB（），NULL，NULL，NULL，NULL）;承诺; DECLARE num_var INTEGER; clob_selected CLOB; clob_updated CLOB; clob_copied CLOB; read_amount INTEGER; read_offset INTEGER; write_amount INTEGER; write_offset INTEGER; buffer VARCHAR2（20）; BEGIN  - 在时间t1：SELECT ad_sourcetext INTO clob_selected FROM Print_media WHERE ad_id = 20020; - 在时间t2：SELECT ad_sourcetext INTO clob_updated FROM Print_media WHERE ad_id = 20020 FOR UPDATE; - 在时间t3：clob_copied：= clob_selected; - 赋值后，clob_copied和-clob_selected都具有与时间点相同的快照 -  SELECT到clob_selected  - 从clob_selected读取而clob_copied确实 - 返回相同的LOB值。 clob_updated也看到了相同的LOB值：read_amount：= 10; read_offset：= 1; dbms_lob.read（clob_selected，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_selected value：'|| buffer）; - 产生输出'abcd'read_amount：= 10; dbms_lob.read（clob_copied，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_copied value：'|| buffer）; - 产生输出'abcd'read_amount：= 10; dbms_lob.read（clob_updated，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_updated value：'|| buffer）; - 产生输出'abcd' - 在时间t4：write_amount：= 3; write_offset：= 5; buffer：='efg'; dbms_lob.write（clob_updated，write_amount，write_offset，buffer）; read_amount：= 10; dbms_lob.read（clob_updated，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_updated value：'|| buffer）; - 产生输出'abcdefg' - 在时间t5：read_amount：= 10; dbms_lob.read（clob_selected，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_selected value：'|| buffer）; - 产生输出'abcd' - 在时间t6：read_amount：= 10; dbms_lob.read（clob_copied，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_copied value：'|| buffer）; - 产生输出'abcd'END; /</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADLOB45335"></a><div class="props_rev_3"><a id="GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD" name="GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD"></a><h4 id="ADLOB-GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD" class="sect4">通过更新的定位器更新LOB的示例</h4>
                  <div>
                     <p> <a id="d80928e1017" class="indexterm-anchor"></a>通过LOB定位器（ <code class="codeph">L1</code> ）更新持久性LOB的值时， <code class="codeph">L1</code>将更新为包含当前快照环境。
                     </p>
                     <p>此快照是在通过定位器<code class="codeph">L1</code>对LOB值完成操作之后的时间。然后将<code class="codeph">L1</code>称为更新的定位器。此操作使您可以<span class="italic"> </span>在下一次读取同一个定位器<code class="codeph">L1</code> ，看到你自己对LOB值的更改。
                     </p>
                     <div class="infoboxnote" id="GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD__GUID-752D9A48-DEAE-43FE-89E3-C7A3E91C0D5A">
                        <p class="notep1">注意：</p>
                        <p>如果定位器仅用于读取LOB值，则<span class="italic">不会</span>更新定位器中的快照环境。只有在使用PL / SQL <code class="codeph">DBMS_LOB</code>包或OCI LOB API通过定位器修改LOB值时，才会更新它。</p>
                     </div>
                     <p>只有当您的事务是读取提交事务并且在提交另一个事务之后使用L1更新LOB值时，L1才会看到由不同事务所做的任何已提交更新。</p>
                     <div class="infoboxnote" id="GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD__GUID-F5B165F6-9804-478E-B238-8A09441E318D">
                        <p class="notep1">注意：</p>
                        <p>更新持久性LOB值时，始终会对最新的LOB值进行修改。</p>
                     </div>
                     <p>通过任何可用方法（如OCI LOB API或PL / SQL <code class="codeph">DBMS_LOB</code>包）更新持久性LOB的值，更新LOB值<span class="italic">，然后重新选择</span>引用新LOB值的定位器。
                     </p>
                     <div class="infoboxnote" id="GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD__GUID-8AF165C7-9268-4D1A-B1ED-A4D2A3D4BBA3">
                        <p class="notep1">注意：</p>
                        <p>一旦您通过任何方式选择了LOB定位器，您就可以从定位器读取但不能写入它。</p>
                        <p>请注意，通过SQL更新LOB值只是一个<code class="codeph">UPDATE</code>语句。您可以重新选择LOB定位器或在<code class="codeph">UPDATE</code>语句中使用<code class="codeph">RETURNING</code>子句，以便定位器可以查看<code class="codeph">UPDATE</code>语句所做的更改。除非您重新选择LOB定位器或使用<code class="codeph">RETURNING</code>子句，否则在不是这种情况时您可能会认为正在读取最新值。因此，您应该避免将SQL DML与<code class="codeph">OCI</code>和<code class="codeph">DBMS_LOB</code>混合使用<a id="d80928e1091" class="indexterm-anchor"></a>分段操作。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD__GUID-673A1EC2-9B4A-4212-805C-A07C62B163A7">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../lnpls/overview.html#LNPLS-GUID-2FBCFBBE-6B42-4DB8-83F3-55B63B75B1EB" target="_blank"><span><cite>Oracle数据库PL / SQL语言参考</cite></span></a></p>
                     </div>
                  </div>
               </div><a id="ADLOB45336"></a><div class="props_rev_3"><a id="GUID-A67D2857-7F83-4BCC-BF43-A0BA9C5EF9A0" name="GUID-A67D2857-7F83-4BCC-BF43-A0BA9C5EF9A0"></a><h4 id="ADLOB-GUID-A67D2857-7F83-4BCC-BF43-A0BA9C5EF9A0" class="sect4">使用SQL DML和DBMS_LOB更新LOB的示例</h4>
                  <div>
                     <p>使用以下示例中的<code class="codeph">Print_media</code>表，将<code class="codeph">CLOB</code>定位器创建为<code class="codeph">clob_selected</code> 。请注意示例中的以下进度，从时间<code class="codeph">t1</code>到<code class="codeph">t3</code> ：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在第一个<code class="codeph">SELECT</code> <code class="codeph">INTO</code> （在<code class="codeph">t1</code> ）时， <code class="codeph">ad_sourcetext</code>的值与定位符<code class="codeph">clob_selected</code>相关联。
                           </p>
                        </li>
                        <li>
                           <p>在第二个操作中（在<code class="codeph">t2</code> ），通过<code class="codeph">SQL</code> <code class="codeph">UPDATE</code>语句修改<code class="codeph">ad_sourcetext</code>的值，而不影响<code class="codeph">clob_selected</code>定位器。定位器仍然看到原始<code class="codeph">SELECT</code>时间点的LOB值。换句话说，定位器看不到使用SQL <code class="codeph">UPDATE</code>语句进行的<code class="codeph">UPDATE</code> 。后续<code class="codeph">DBMS_LOB</code>说明了这一点。 <code class="codeph">READ()</code>调用。
                           </p>
                        </li>
                        <li>
                           <p>第三个操作（在<code class="codeph">t3</code> ）重新选择LOB值到定位符<code class="codeph">clob_selected</code> 。因此，使用最新的快照环境更新定位器，该环境允许定位器查看先前SQL <code class="codeph">UPDATE</code>语句所做的更改。因此，在下一个<code class="codeph">DBMS_LOB</code> 。 <code class="codeph">READ()</code> ，返回错误，因为LOB值为空，即它不包含任何数据。
                           </p>
                        </li>
                     </ul><pre class="oac_no_warn" dir="ltr">INSERT INTO Print_media VALUES（3247,20010，EMPTY_BLOB（），'abcd'，EMPTY_CLOB（），EMPTY_CLOB（），NULL，NULL，NULL，NULL）;承诺; DECLARE num_var INTEGER; clob_selected CLOB; read_amount INTEGER; read_offset INTEGER; buffer VARCHAR2（20）; BEGIN  - 在时间t1：SELECT ad_sourcetext INTO clob_selected FROM Print_media WHERE ad_id = 20010; read_amount：= 10; read_offset：= 1; dbms_lob.read（clob_selected，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_selected value：'|| buffer）; - 产生输出'abcd' - 在时间t2：UPDATE Print_media SET ad_sourcetext = empty_clob（）WHERE ad_id = 20010; - 尽管最新的LOB值现在为空，但是clob_selected仍然看到LOB值为SELECT read_amount的时间点：= 10; dbms_lob.read（clob_selected，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_selected value：'|| buffer）; - 产生输出'abcd' - 在时间t3：SELECT ad_sourcetext INTO clob_selected FROM Print_media WHERE ad_id = 20010; -  SELECT允许clob_selected看到最新的 -  LOB值read_amount：= 10; dbms_lob.read（clob_selected，read_amount，read_offset，buffer）; - 错误：ORA-01403：未找到数据END; /</pre></div>
               </div><a id="ADLOB45337"></a><div class="props_rev_3"><a id="GUID-58DED834-DFEB-4ED2-B24C-D1C0634F6A39" name="GUID-58DED834-DFEB-4ED2-B24C-D1C0634F6A39"></a><h4 id="ADLOB-GUID-58DED834-DFEB-4ED2-B24C-D1C0634F6A39" class="sect4">使用一个定位器更新相同LOB值的示例</h4>
                  <div>
                     <div class="infoboxnote" id="GUID-58DED834-DFEB-4ED2-B24C-D1C0634F6A39__GUID-D926ECC0-DEF7-49B0-B23E-E4022CE5EACF">
                        <p class="notep1">注意：</p>
                        <p>避免<a id="d80928e1337" class="indexterm-anchor"></a>使用不同的定位器更新相同的LOB。如果仅使用一个定位器来更新给定的LOB值，则可以避免许多陷阱。
                        </p>
                     </div>
                     <p>在以下示例中，使用表<code class="codeph">Print_media</code> ，将两个<code class="codeph">CLOB</code>创建为潜在定位器：clob_updated和clob_copied。
                     </p>
                     <p>在时间t1到t5，请注意示例中的这些进度：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在第一个<code class="codeph">SELECT</code> <code class="codeph">INTO</code> （在<code class="codeph">t1</code> ）时， <code class="codeph">ad_sourcetext</code>的值与定位符<code class="codeph">clob_updated</code>相关联。
                           </p>
                        </li>
                        <li>
                           <p>第二个操作（在时间<code class="codeph">t2</code> ）将<code class="codeph">clob_copied</code>的值<code class="codeph">clob_updated</code>到<code class="codeph">clob_copied</code> 。此时，两个定位器都看到相同的值。该示例使用一系列<code class="codeph">DBMS_LOB</code>演示了这一点。 <code class="codeph">READ()</code>调用。
                           </p>
                        </li>
                        <li>
                           <p>在时间<code class="codeph">t3</code> ，程序使用<code class="codeph">DBMS_LOB</code> 。 <code class="codeph">WRITE()</code>改变<code class="codeph">clob_updated</code>的值， <code class="codeph">DBMS_LOB.READ()</code>显示一个新值。
                           </p>
                        </li>
                        <li>
                           <p>但是，一个<code class="codeph">DBMS_LOB</code> 。通过<code class="codeph">clob_copied</code> （在时间<code class="codeph">t4</code> ）的值的<code class="codeph">READ()</code>显示它仍然看到从<code class="codeph">clob_updated</code> （在<code class="codeph">t2</code> ）分配的时间点的LOB的值。
                           </p>
                        </li>
                        <li>
                           <p>它不是直到<code class="codeph">clob_updated</code>被分配给<code class="codeph">clob_copied</code> （ <code class="codeph">t5</code> ），该<code class="codeph">clob_copied</code>看到所作出的修改<code class="codeph">clob_updated</code> 。
                           </p>
                        </li>
                     </ul><pre class="oac_no_warn" dir="ltr">INSERT INTO PRINT_MEDIA VALUES（2049,20030，EMPTY_BLOB（），'abcd'，EMPTY_CLOB（），EMPTY_CLOB（），NULL，NULL，NULL，NULL）;承诺; DECLARE num_var INTEGER; clob_updated CLOB; clob_copied CLOB; read_amount INTEGER; read_offset INTEGER; write_amount INTEGER; write_offset INTEGER; buffer VARCHAR2（20）; BEGIN  - 在时间t1：SELECT ad_sourcetext INTO clob_updated FROM PRINT_MEDIA WHERE ad_id = 20030 FOR UPDATE; - 在时间t2：clob_copied：= clob_updated; - 在赋值后，clob_copied和clob_updated看到相同的 -  LOB值read_amount：= 10; read_offset：= 1; dbms_lob.read（clob_updated，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_updated value：'|| buffer）; - 产生输出'abcd'read_amount：= 10; dbms_lob.read（clob_copied，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_copied value：'|| buffer）; - 产生输出'abcd' - 在时间t3：write_amount：= 3; write_offset：= 5; buffer：='efg'; dbms_lob.write（clob_updated，write_amount，write_offset，buffer）; read_amount：= 10; dbms_lob.read（clob_updated，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_updated value：'|| buffer）; - 产生输出'abcdefg' - 在时间t4：read_amount：= 10; dbms_lob.read（clob_copied，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_copied value：'|| buffer）; - 产生输出'abcd' - 在时间t5：clob_copied：= clob_updated; read_amount：= 10; dbms_lob.read（clob_copied，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_copied value：'|| buffer）; - 产生输出'abcdefg'END; /</pre></div>
               </div><a id="ADLOB45338"></a><div class="props_rev_3"><a id="GUID-348E9FD8-2C50-4172-81B0-8BCC0D23144D" name="GUID-348E9FD8-2C50-4172-81B0-8BCC0D23144D"></a><h4 id="ADLOB-GUID-348E9FD8-2C50-4172-81B0-8BCC0D23144D" class="sect4">使用PL / SQL（DBMS_LOB）绑定变量更新LOB的示例</h4>
                  <div>
                     <p>当LOB定位器被用作源来更新另一个持久LOB（如在SQL <code class="codeph">INSERT</code>或<code class="codeph">UPDATE</code>语句时， <code class="codeph">DBMS_LOB</code> 。 <code class="codeph">COPY</code>例程，等等），在源LOB定位器快照环境确定用于所述LOB值作为来源。
                     </p>
                     <p>如果源定位器（例如<code class="codeph">L1</code> ）是a <a id="d80928e1551" class="indexterm-anchor"></a><a id="d80928e1553" class="indexterm-anchor"></a>读取一致定位器，然后使用截至<code class="codeph">L1</code>的<code class="codeph">SELECT</code>时的LOB值。如果源定位符（例如<code class="codeph">L2</code> ）是更新的定位符，则使用在操作时与<code class="codeph">L2</code>快照环境相关联的LOB值。
                     </p>
                     <p>在以下示例中，将创建三个<code class="codeph">CLOB</code>作为潜在定位器： <code class="codeph">clob_selected</code> ，clob_updated和clob_copied。
                     </p>
                     <p>在时间<code class="codeph">t1</code>到<code class="codeph">t5</code>请注意示例中的这些进度：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在第一个<code class="codeph">SELECT</code> <code class="codeph">INTO</code> （在<code class="codeph">t1</code> ）时， <code class="codeph">ad_sourcetext</code>的值与定位符<code class="codeph">clob_updated</code>相关联。
                           </p>
                        </li>
                        <li>
                           <p>第二个操作（在<code class="codeph">t2</code> ）将<code class="codeph">clob_copied</code>的值<code class="codeph">clob_updated</code>到<code class="codeph">clob_copied</code> 。此时，两个定位器都看到相同的值。
                           </p>
                        </li>
                        <li>
                           <p>然后（在<code class="codeph">t3</code> ），程序使用<code class="codeph">DBMS_LOB</code> 。 <code class="codeph">WRITE()</code>改变<code class="codeph">clob_updated</code>的值<span class="italic">，</span>以及<code class="codeph">DBMS_LOB</code> 。 <code class="codeph">READ()</code>显示一个新值。
                           </p>
                        </li>
                        <li>
                           <p>但是，一个<code class="codeph">DBMS_LOB</code> 。 <code class="codeph">READ()</code>的价值通过<code class="codeph">clob_copied</code> （在<code class="codeph">t4</code> ）显示， <code class="codeph">clob_copied</code>没有看到所作出的改变<code class="codeph">clob_updated</code> 。
                           </p>
                        </li>
                        <li>
                           <p>因此（在<code class="codeph">t5</code> ），当<code class="codeph">clob_copied</code>被用作源的值<code class="codeph">INSERT</code>语句中，与相关联的值<code class="codeph">clob_copied</code> （例如，没有通过由新变化<code class="codeph">clob_updated</code> ）插入。随后的<code class="codeph">DBMS_LOB</code>演示了这一点。刚刚插入的值的<code class="codeph">READ()</code> 。
                           </p>
                        </li>
                     </ul><pre class="oac_no_warn" dir="ltr">INSERT INTO PRINT_MEDIA VALUES（2056,20020，EMPTY_BLOB（），'abcd'，EMPTY_CLOB（），EMPTY_CLOB（），NULL，NULL，NULL，NULL）;承诺; DECLARE num_var INTEGER; clob_selected CLOB; clob_updated CLOB; clob_copied CLOB; read_amount INTEGER; read_offset INTEGER; write_amount INTEGER; write_offset INTEGER; buffer VARCHAR2（20）; BEGIN  - 在时间t1：SELECT ad_sourcetext INTO clob_updated FROM PRINT_MEDIA WHERE ad_id = 20020 FOR UPDATE; read_amount：= 10; read_offset：= 1; dbms_lob.read（clob_updated，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_updated value：'|| buffer）; - 产生输出'abcd' - 在时间t2：clob_copied：= clob_updated; - 在时间t3：write_amount：= 3; write_offset：= 5; buffer：='efg'; dbms_lob.write（clob_updated，write_amount，write_offset，buffer）; read_amount：= 10; dbms_lob.read（clob_updated，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_updated value：'|| buffer）; - 产生输出'abcdefg' - 注意clob_copied看不到之前写的 -  clob_updated  - 在时间t4：read_amount：= 10; dbms_lob.read（clob_copied，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_copied value：'|| buffer）; - 生成输出'abcd' - 在时间t5： - 插入使用clob_copied视图的LOB值 - 不包括clob_updated更改INSERT INTO PRINT_MEDIA VALUES（2056,20042，EMPTY_BLOB（），clob_copied，EMPTY_CLOB（ ），EMPTY_CLOB（），NULL，NULL，NULL，NULL）返回ad_sourcetext INTO clob_selected; read_amount：= 10; dbms_lob.read（clob_selected，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_selected value：'|| buffer）; - 产生输出'abcd'END; /</pre></div>
               </div>
            </div><a id="ADLOB45339"></a><div class="props_rev_3"><a id="GUID-4DDA92CE-8C94-4DD1-9BA3-C6FC5ED7CAE0" name="GUID-4DDA92CE-8C94-4DD1-9BA3-C6FC5ED7CAE0"></a><h3 id="ADLOB-GUID-4DDA92CE-8C94-4DD1-9BA3-C6FC5ED7CAE0" class="sect3">LOB定位器和事务边界</h3>
               <div>
                  <p>LOB定位器可用于事务和事务ID。</p>
                  <div class="infoboxnotealso" id="GUID-4DDA92CE-8C94-4DD1-9BA3-C6FC5ED7CAE0__LOBLOCATORSANDBFILELOCATORSFORMOREI-DFDE82BC">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="working-with-LOBs.html#GUID-747411EC-7E86-4756-A8DC-CE19923BF8A6" title="There are differences between the semantics of locators for the LOB types BLOB, CLOB, and NCLOB, and the semantics of locators for the BFILE type:">LOB定位器和BFILE定位器</a>有关LOB定位<a href="working-with-LOBs.html#GUID-747411EC-7E86-4756-A8DC-CE19923BF8A6" title="LOB类型BLOB，CLOB和NCLOB的定位符的语义与BFILE类型的定位符的语义之间存在差异：">器</a>的更多信息</p>
                  </div>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="advanced-design-considerations.html#GUID-C4E6C558-239B-474C-B587-31D8452EBAB1">关于LOB定位器和事务边界</a></p>
                     </li>
                     <li>
                        <p><a href="advanced-design-considerations.html#GUID-F4B23AD1-2E5F-49ED-ABBE-10E6B109BE3E">使用定位器对LOB进行读写操作</a></p>
                     </li>
                     <li>
                        <p><a href="advanced-design-considerations.html#GUID-1A6259F3-2F83-4AD5-B79F-0B0130D3608F">选择事务边界之外的定位器</a></p>
                     </li>
                     <li>
                        <p><a href="advanced-design-considerations.html#GUID-5E2C762D-F4B4-4D03-AE92-0940671C21E3">选择事务边界内的定位器</a></p>
                     </li>
                     <li>
                        <p><a href="advanced-design-considerations.html#GUID-0FFBCC15-1C19-4B48-A570-F6BF197BB2B8">LOB定位器无法跨越事务</a></p>
                     </li>
                     <li>
                        <p><a href="advanced-design-considerations.html#GUID-F973C33A-EA4D-4B1B-A7EA-C258BE6B44A8">不跨越事务的定位器示例</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-C4E6C558-239B-474C-B587-31D8452EBAB1" name="GUID-C4E6C558-239B-474C-B587-31D8452EBAB1"></a><h4 id="ADLOB-GUID-C4E6C558-239B-474C-B587-31D8452EBAB1" class="sect4">关于LOB定位器和事务边界</h4>
                  <div>
                     <p>请注意以下有关LOB定位器和事务的信息：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>定位器包含<a id="d80928e1886" class="indexterm-anchor"></a>交易ID时：</p>
                           <p>您开始事务，然后选择定位器：如果您开始事务并随后选择定位器，则定位器包含事务ID。请注意，您可以隐式地在事务中而不显式地开始一个事务。例如， <code class="codeph">SELECT</code> ...<code class="codeph">FOR</code> <code class="codeph">UPDATE</code>隐式开始一个事务。在这种情况下，定位器包含事务ID。</p>
                        </li>
                        <li>
                           <p>定位器不包含事务ID时......</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您在交易之外，然后选择定位器： <span class="bold"> </span>相反，如果在事务外部选择定位器，则定位器不包含事务ID。</p>
                              </li>
                              <li>
                                 <p>在DML语句执行之前选择时：在第一个DML语句执行之前，不会分配事务ID。因此，在此类DML语句之前选择的定位器不包含事务ID。</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADLOB45340"></a><div class="props_rev_3"><a id="GUID-F4B23AD1-2E5F-49ED-ABBE-10E6B109BE3E" name="GUID-F4B23AD1-2E5F-49ED-ABBE-10E6B109BE3E"></a><h4 id="ADLOB-GUID-F4B23AD1-2E5F-49ED-ABBE-10E6B109BE3E" class="sect4">使用定位器对LOB进行读写操作</h4>
                  <div>
                     <p>无论定位器是否包含事务ID，您始终可以使用定位器读取LOB数据。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>无法使用定位器编写：</p>
                           <p>如果定位器包含事务ID，则无法写入该特定事务之外的LOB。</p>
                        </li>
                        <li>
                           <p>可以使用定位器写：</p>
                           <p>如果定位器<span class="italic">不</span>包含事务ID，则可以在显式或隐式开始事务后写入LOB。
                           </p>
                        </li>
                        <li>
                           <p>使用可序列化的定位器无法读取或写入<a id="d80928e2004" class="indexterm-anchor"></a>交易方式：</p>
                           <p>如果定位器包含旧事务的事务ID，并且当前事务是可序列化的，则无法使用该定位器进行读取或写入。</p>
                        </li>
                        <li>
                           <p>可以读取，不使用不可序列化的定位器写入<a id="d80928e2014" class="indexterm-anchor"></a>交易方式：</p>
                           <p>如果事务是不可序列化的，那么您可以读取，但不能在该事务之外写入。</p>
                        </li>
                     </ul>
                     <p>示例<a href="advanced-design-considerations.html#GUID-1A6259F3-2F83-4AD5-B79F-0B0130D3608F">选择事务边界之外的定位器</a> ， <a href="advanced-design-considerations.html#GUID-5E2C762D-F4B4-4D03-AE92-0940671C21E3">选择</a> <a href="advanced-design-considerations.html#GUID-1A6259F3-2F83-4AD5-B79F-0B0130D3608F">事务边界</a> <a href="advanced-design-considerations.html#GUID-5E2C762D-F4B4-4D03-AE92-0940671C21E3">内的定位器</a> ， <a href="advanced-design-considerations.html#GUID-0FFBCC15-1C19-4B48-A570-F6BF197BB2B8">LOB定位器不能跨越事务</a> ，并且<a href="advanced-design-considerations.html#GUID-0FFBCC15-1C19-4B48-A570-F6BF197BB2B8">不跨越事务</a> <a href="advanced-design-considerations.html#GUID-F973C33A-EA4D-4B1B-A7EA-C258BE6B44A8">的定位器示例</a>显示定位器与<span class="italic">非可序列化</span>事务之间的关系</p>
                  </div>
               </div><a id="ADLOB45342"></a><a id="ADLOB45343"></a><a id="ADLOB45341"></a><div class="props_rev_3"><a id="GUID-1A6259F3-2F83-4AD5-B79F-0B0130D3608F" name="GUID-1A6259F3-2F83-4AD5-B79F-0B0130D3608F"></a><h4 id="ADLOB-GUID-1A6259F3-2F83-4AD5-B79F-0B0130D3608F" class="sect4">选择事务边界之外的定位器</h4>
                  <div>
                     <div class="section">
                        <p>两个场景描述了在事务外部选择定位器时在非可序列化事务中使用定位器的技术。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1A6259F3-2F83-4AD5-B79F-0B0130D3608F__GUID-FD707175-9BA1-43D7-9D2B-33C70E3C3545">第一种情景：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>选择没有当前事务的定位器。此时，定位器不包含事务ID。</p>
                           </li>
                           <li>
                              <p>开始交易。</p>
                           </li>
                           <li>
                              <p>使用定位器从LOB读取数据。</p>
                           </li>
                           <li>
                              <p>提交或回滚事务。</p>
                           </li>
                           <li>
                              <p>使用定位器从LOB读取数据。</p>
                           </li>
                           <li>
                              <p>开始交易。定位器不包含事务ID。</p>
                           </li>
                           <li>
                              <p>使用定位器将数据写入LOB。此操作有效，因为定位器在写入之前不包含事务ID。在此调用之后，定位器包含事务ID。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1A6259F3-2F83-4AD5-B79F-0B0130D3608F__GUID-EE9BE963-90B1-4842-BECE-3A0A49FD4795">第二种情景：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>选择没有当前事务的定位器。此时，定位器不包含事务ID。</span></li>
                        <li><span>开始交易。定位器不包含事务ID。</span></li>
                        <li><span>使用定位器从LOB读取数据。定位器不包含事务ID。</span></li>
                        <li><span>使用定位器将数据写入LOB。此操作有效，因为定位器在写入之前不包含事务ID。在此调用之后，定位器包含事务ID。您可以继续读取或写入LOB。</span></li>
                        <li><span>提交或回滚事务。定位器继续包含事务ID。</span></li>
                        <li><span>使用定位器从LOB读取数据。这是一个有效的操作。</span></li>
                        <li><span>开始交易。定位器包含先前的事务ID。</span></li>
                        <li><span>使用定位器将数据写入LOB。此写入操作失败，因为定位器不包含与当前事务匹配的事务标识。</span></li>
                     </ol>
                  </div>
               </div><a id="ADLOB45345"></a><a id="ADLOB45346"></a><a id="ADLOB45344"></a><div class="props_rev_3"><a id="GUID-5E2C762D-F4B4-4D03-AE92-0940671C21E3" name="GUID-5E2C762D-F4B4-4D03-AE92-0940671C21E3"></a><h4 id="ADLOB-GUID-5E2C762D-F4B4-4D03-AE92-0940671C21E3" class="sect4">选择事务边界内的定位器</h4>
                  <div>
                     <div class="section">
                        <p>两个场景描述了在事务中选择定位器时在非可序列化事务中使用定位器的技术。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5E2C762D-F4B4-4D03-AE92-0940671C21E3__GUID-833000E1-F340-44E0-8F6F-A67735BF0C64">第一种情景：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>选择事务中的定位器。此时，定位器包含事务ID。</p>
                           </li>
                           <li>
                              <p>开始交易。定位器包含先前的事务ID。</p>
                           </li>
                           <li>
                              <p>使用定位器从LOB读取数据。即使定位器中的事务ID与当前事务不匹配，此操作也是有效的。</p>
                              <div class="infoboxnotealso" id="GUID-5E2C762D-F4B4-4D03-AE92-0940671C21E3__GUID-5ACAA208-E7F4-4FD7-9161-54BD3A6311CD">
                                 <p class="notep1">也可以看看：</p>
                                 <p>有关使用定位器读取LOB数据的更多信息，请<span class="q"><a href="advanced-design-considerations.html#GUID-B1E476A2-F3FE-4D13-BC2B-FFB809698ED3">参阅</a> “ <a href="advanced-design-considerations.html#GUID-B1E476A2-F3FE-4D13-BC2B-FFB809698ED3">Read-Consistent Locators</a> ”</span> 。
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>使用定位器将数据写入LOB。此操作失败，因为定位器中的事务ID与当前事务不匹配。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5E2C762D-F4B4-4D03-AE92-0940671C21E3__GUID-708E4337-5B2F-4334-BABC-3A48EBA058CD">第二种情景：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>开始交易。</span></li>
                        <li><span>选择定位器。定位器包含事务ID，因为它是在事务中选择的。</span></li>
                        <li><span>使用定位器读取或写入LOB。这些操作有效。</span></li>
                        <li><span>提交或回滚事务。定位器继续包含事务ID。</span></li>
                        <li><span>使用定位器从LOB读取数据。即使在定位器中存在事务ID并且事务先前已提交或回滚，此操作也是有效的。</span></li>
                        <li><span>使用定位器将数据写入LOB。此操作失败，因为定位器中的事务标识用于先前已提交或回滚的事务。</span></li>
                     </ol>
                  </div>
               </div><a id="ADLOB45347"></a><div class="props_rev_3"><a id="GUID-0FFBCC15-1C19-4B48-A570-F6BF197BB2B8" name="GUID-0FFBCC15-1C19-4B48-A570-F6BF197BB2B8"></a><h4 id="ADLOB-GUID-0FFBCC15-1C19-4B48-A570-F6BF197BB2B8" class="sect4">LOB定位器无法跨越事务</h4>
                  <div>
                     <p><a id="d80928e2362" class="indexterm-anchor"></a><a id="d80928e2366" class="indexterm-anchor"></a>使用<code class="codeph">DBMS_LOB</code> ，OCI或SQL <code class="codeph">INSERT</code>或<code class="codeph">UPDATE</code>语句通过LOB定位器修改持久性LOB值会更改定位器<a id="d80928e2380" class="indexterm-anchor"></a><a id="d80928e2382" class="indexterm-anchor"></a>读取一致定位器到更新的定位器。
                     </p>
                     <p><code class="codeph">INSERT</code>或<code class="codeph">UPDATE</code>语句自动启动事务并锁定行。一旦发生这种情况，就不能在当前事务之外使用定位器来修改LOB值。换句话说，用于写入数据的LOB定位器不能跨越事务。但是，除非您处于可序列化的事务中，否则定位器可用于读取LOB值。
                     </p>
                     <div class="infoboxnotealso" id="GUID-0FFBCC15-1C19-4B48-A570-F6BF197BB2B8__GUID-1B2250EF-98F1-40FF-BA86-94D58FEA560F">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="advanced-design-considerations.html#GUID-4DDA92CE-8C94-4DD1-9BA3-C6FC5ED7CAE0">LOB定位器和事务边界</a> ”</span> ，有关LOB和事务边界之间关系的更多信息。
                        </p>
                     </div>
                     <p>在<a href="advanced-design-considerations.html#GUID-F973C33A-EA4D-4B1B-A7EA-C258BE6B44A8">没有跨越事务的定位器示例中</a> ，创建了一个<code class="codeph">CLOB</code>定位器： <code class="codeph">clob_updated</code></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在第一个<code class="codeph">SELECT</code> <code class="codeph">INTO</code> （在t1）时， <code class="codeph">ad_sourcetext</code>的值与定位符<code class="codeph">clob_updated</code>相关联。
                           </p>
                        </li>
                        <li>
                           <p>第二个操作（在t2）使用<code class="codeph">DBMS_LOB</code> 。 <code class="codeph">WRITE</code>函数用于更改<code class="codeph">clob_updated</code>的值，以及<code class="codeph">DBMS_LOB</code> 。 <code class="codeph">READ</code>显示一个新值。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">commit</code>语句（在t3）结束当前事务。
                           </p>
                        </li>
                        <li>
                           <p>因此（在t4），后续的<code class="codeph">DBMS_LOB</code> 。 <code class="codeph">WRITE</code>操作失败，因为<code class="codeph">clob_updated</code>定位器引用了另一个（已提交的）事务。返回的错误表明了这一点。在进一步的<code class="codeph">DBMS_LOB</code> （和OCI）修改操作中使用它之前，必须重新选择LOB定位器。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADLOB45348"></a><div class="props_rev_3"><a id="GUID-F973C33A-EA4D-4B1B-A7EA-C258BE6B44A8" name="GUID-F973C33A-EA4D-4B1B-A7EA-C258BE6B44A8"></a><h4 id="ADLOB-GUID-F973C33A-EA4D-4B1B-A7EA-C258BE6B44A8" class="sect4">不跨越事务的定位器示例</h4>
                  <div>
                     <p>该示例使用<code class="codeph">print_media</code>中描述表<span class="q">“ <a href="working-with-LOBs.html#GUID-D71F0CBE-0717-41A2-BCD4-71E1DDF895D1" title="许多Oracle LOB示例使用Oracle Database Sample Schema PM的print_media表。">表对于LOB实施例：PM模式print_media表</a> ”</span></p><pre class="oac_no_warn" dir="ltr">INSERT INTO PRINT_MEDIA VALUES（2056,20010，EMPTY_BLOB（），'abcd'，EMPTY_CLOB（），EMPTY_CLOB（），NULL，NULL，NULL，NULL）;承诺; DECLARE num_var INTEGER; clob_updated CLOB; read_amount INTEGER; read_offset INTEGER; write_amount INTEGER; write_offset INTEGER; buffer VARCHAR2（20）; BEGIN  - 在时间t1：SELECT ad_sourcetext INTO clob_updated FROM PRINT_MEDIA WHERE ad_id = 20010 FOR UPDATE; read_amount：= 10; read_offset：= 1; dbms_lob.read（clob_updated，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_updated value：'|| buffer）; - 这会产生输出'abcd' - 在时间t2：write_amount：= 3; write_offset：= 5; buffer：='efg'; dbms_lob.write（clob_updated，write_amount，write_offset，buffer）; read_amount：= 10; dbms_lob.read（clob_updated，read_amount，read_offset，buffer）; dbms_output.put_line（'clob_updated value：'|| buffer）; - 这会产生输出'abcdefg' - 在时间t3：COMMIT; - 在时间t4：dbms_lob.write（clob_updated，write_amount，write_offset，buffer）; - 错误：ORA-22990：LOB定位器无法跨越事务END; /</pre></div>
               </div>
            </div><a id="ADLOB45349"></a><div class="sect2"><a id="GUID-4AA63439-3BCD-41A8-98D0-40923BFE0309" name="GUID-4AA63439-3BCD-41A8-98D0-40923BFE0309"></a><h3 id="ADLOB-GUID-4AA63439-3BCD-41A8-98D0-40923BFE0309" class="sect3">对象缓存中的LOB</h3>
               <div>
                  <p>在具有LOB定位器属性的对象高速缓存中将一个对象复制到另一个对象时，仅复制LOB定位器。</p>
                  <p>这意味着这两个不同对象中的LOB属性包含完全相同的定位符，该定位符引用<span class="italic">一个相同的</span> LOB <span class="italic">值</span> 。仅当刷新目标对象时，才会生成LOB值的单独物理副本，该副本与源LOB值不同。
                  </p>
                  <div class="infoboxnotealso" id="GUID-4AA63439-3BCD-41A8-98D0-40923BFE0309__GUID-157C222F-614E-43AE-A1D2-BB6C241C3E2F">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="advanced-design-considerations.html#GUID-0320FCED-13FE-4F6F-A68B-8A275F224780">更新LOB和读一致性的示例</a> ”，</span>用于描述每个对象在通过其中一个定位器执行写入时看到的LOB值的版本。
                     </p>
                  </div>
                  <p>因此，如果要修改作为副本目标的LOB，则<span class="italic"><span class="bold">必须刷新目标对象，刷新目标对象，然后</span></span>通过locator属性写入LOB。
                  </p>
                  <p>考虑内部和外部LOB属性的这些对象缓存问题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>持久性LOB属性：在对象缓存中创建对象，将LOB属性设置为空。<a id="d80928e2668" class="indexterm-anchor"></a><a id="d80928e2672" class="indexterm-anchor"></a><a id="d80928e2676" class="indexterm-anchor"></a></p>
                        <p>在包含持久LOB属性的对象缓存中创建对象时，LOB属性将隐式设置为空。您不能使用此空LOB定位器将数据写入LOB。您必须先刷新对象，然后在表中插入一行并创建一个空LOB  - 即一个长度为0的LOB。在对象缓存中刷新对象（使用<code class="codeph">OCI_PIN_LATEST</code> ）后，将真实的LOB定位器读入属性，然后可以调用OCI LOB API将数据写入LOB。</p>
                     </li>
                     <li>
                        <p>外部LOB（ <code class="codeph">BFILE</code> ）属性：在对象缓存中创建对象，将<code class="codeph">BFILE</code>属性设置为<code class="codeph">NULL</code> 。</p>
                        <p>使用外部LOB（ <code class="codeph">BFILE)</code>属性创建对象时， <code class="codeph">BFILE</code>设置为<code class="codeph">NULL</code> 。在从<code class="codeph">BFILE</code>读取之前，必须使用有效的目录对象名称和文件名进行更新。</p>
                     </li>
                  </ul>
               </div>
            </div><a id="ADLOB102"></a><div class="props_rev_3"><a id="GUID-FD6659DC-8792-4D7C-AC07-9EABEA02DF91" name="GUID-FD6659DC-8792-4D7C-AC07-9EABEA02DF91"></a><h3 id="ADLOB-GUID-FD6659DC-8792-4D7C-AC07-9EABEA02DF91" class="sect3">Terabyte-Size LOB支持</h3>
               <div>
                  <p><a id="d80928e2774" class="indexterm-anchor"></a><a id="d80928e2778" class="indexterm-anchor"></a><a id="d80928e2782" class="indexterm-anchor"></a>太字节大小的LOB是最大为8到128太字节的LOB，具体取决于数据库块大小。
                  </p>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="advanced-design-considerations.html#GUID-74618664-CE35-48FB-85C6-E03CD2063BD1">关于Terabyte-Size LOB支持</a></p>
                     </li>
                     <li>
                        <p><a href="advanced-design-considerations.html#GUID-A84520F4-05EF-48F3-B2A4-9CC001192B23">TB级大小LOB的最大存储限制</a></p>
                     </li>
                     <li>
                        <p><a href="advanced-design-considerations.html#GUID-0A6B471E-85EC-429C-AA20-29944A96939E">在TB中使用TB级大小的LOB</a></p>
                     </li>
                     <li>
                        <p><a href="advanced-design-considerations.html#GUID-1DEA56D9-5CBD-4211-88DB-87B4329B02F6">在TBMS_LOB包中使用TB级大小的LOB</a></p>
                     </li>
                     <li>
                        <p><a href="advanced-design-considerations.html#GUID-A40086A3-2F4D-4153-B4DE-7C02C7CE08A8">使用太字节大小的LOB和OCI</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-74618664-CE35-48FB-85C6-E03CD2063BD1" name="GUID-74618664-CE35-48FB-85C6-E03CD2063BD1"></a><h4 id="ADLOB-GUID-74618664-CE35-48FB-85C6-E03CD2063BD1" class="sect4">关于Terabyte-Size LOB支持</h4>
                  <div>
                     <p>以下API支持TB级大小的LOB：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Java使用JDBC（Java数据库连接）</p>
                        </li>
                        <li>
                           <p>使用DBMS_LOB包的PL / SQL</p>
                        </li>
                        <li>
                           <p>C使用OCI（Oracle调用接口）</p>
                        </li>
                     </ul>
                     <p>在以下编程环境中，您无法创建和使用大小超过4千兆字节“太字节大小LOB”的LOB实例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>COBOL使用Pro * COBOL预编译器</p>
                        </li>
                        <li>
                           <p>使用Pro * C / C ++预编译器的C或C ++</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-74618664-CE35-48FB-85C6-E03CD2063BD1__GUID-11FE0E82-93ED-4571-B971-850B5123866D">
                        <p class="notep1">注意：</p>
                        <p>在任何编程环境中，Oracle数据库都不支持大于2 ^ 64-1字节的<code class="codeph">BFILE</code> （OCI中的<code class="codeph">UB8MAXVAL</code> ）。操作系统强加的任何其他文件大小限制也适用于<code class="codeph">BFILE</code> 。
                        </p>
                     </div>
                  </div>
               </div><a id="ADLOB45350"></a><div class="props_rev_3"><a id="GUID-A84520F4-05EF-48F3-B2A4-9CC001192B23" name="GUID-A84520F4-05EF-48F3-B2A4-9CC001192B23"></a><h4 id="ADLOB-GUID-A84520F4-05EF-48F3-B2A4-9CC001192B23" class="sect4">TB级大小LOB的最大存储限制</h4>
                  <div>
                     <p>在支持的环境中，您可以创建和操作最大为数据库配置的最大存储大小限制的LOB。</p>
                     <p>Oracle数据库允许您创建块大小与数据库块大小不同的表空间，并且LOB的最大大小取决于表空间块的大小。<code class="codeph">CHUNK</code>是LOB存储的参数，其值由存储LOB的表空间的块大小控制。
                     </p>
                     <div class="infoboxnote" id="GUID-A84520F4-05EF-48F3-B2A4-9CC001192B23__GUID-69693601-CFB9-42B9-B1B0-6F8CFD131081">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">CHUNK</code>参数不适用于SecureFiles。它仅用于BasicFiles LOB。
                        </p>
                     </div>
                     <p>创建LOB列时，可以为<code class="codeph">CHUNK</code>指定一个值，该值是为LOB操作分配的字节数。该值必须是表空间块大小的倍数，或Oracle数据库向上舍入到下一个倍数。（如果表空间块大小与数据库块大小相同，则<code class="codeph">CHUNK</code>也是数据库块大小的倍数。）
                     </p>
                     <p>配置的最大允许存储限制取决于表空间块大小设置，并计算为（4千兆字节 -  1）乘以从<a id="d80928e2994" class="indexterm-anchor"></a> <code class="codeph">DBMS_LOB.GETCHUNKSIZE</code>或<a id="d80928e2999" class="indexterm-anchor"></a> <code class="codeph">OCILobGetChunkSize()</code> 。由于内部存储开销，此值（ <code class="codeph">BLOB</code>的字节数或<code class="codeph">CLOB</code>的字符数）实际上小于<code class="codeph">CHUNK</code>参数的大小。表空间块大小的当前允许范围为2K到32K，存储限制范围为8TB到128TB。
                     </p>
                     <p>例如，假设您的数据库块大小为32K字节，并且您创建了一个非标准块大小为8K的表空间。进一步假设您创建一个具有LOB列的表，并指定CHUNK大小为16K（这是8K表空间块大小的倍数）。然后，此列中LOB的最大大小为（4千兆字节-1）* 16K。</p>
                     <div class="infoboxnotealso" id="GUID-A84520F4-05EF-48F3-B2A4-9CC001192B23__GUID-EA64EA3E-77FC-4BEC-A5C2-5946839B3D61">
                        <p class="notep1">也可以看看：</p>
                        <p> </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p> 有关数据库安装的初始化参数设置的详细信息，请参见<a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN11099" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="LOB-storage-with-applications.html#GUID-A3D50A10-E688-4DB3-A3EB-07AC7D0019A6">CHUNK</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <p>此存储限制适用于支持TB级LOB的环境中的所有LOB类型。但是，请注意<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>类型的大小以字符为单位，而<code class="codeph">BLOB</code>类型的大小以字节为单位。
                     </p>
                  </div>
               </div><a id="ADLOB45351"></a><div class="props_rev_3"><a id="GUID-0A6B471E-85EC-429C-AA20-29944A96939E" name="GUID-0A6B471E-85EC-429C-AA20-29944A96939E"></a><h4 id="ADLOB-GUID-0A6B471E-85EC-429C-AA20-29944A96939E" class="sect4">在TB中使用TB级大小的LOB</h4>
                  <div>
                     <p>您可以使用Oracle JDBC类中包含的LOB API来访问TB级LOB。</p>
                     <div class="infoboxnotealso" id="GUID-0A6B471E-85EC-429C-AA20-29944A96939E__GUID-1CD9F739-D2C0-4054-A23A-F66CED511B1C">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="overview-of-supplied-LOB-APIs.html#GUID-02CAA51A-FD04-4A40-8227-0B9108FAED8E">使用Java（JDBC）处理LOB</a> ”</span></p>
                     </div>
                  </div>
               </div><a id="ADLOB45352"></a><div class="props_rev_3"><a id="GUID-1DEA56D9-5CBD-4211-88DB-87B4329B02F6" name="GUID-1DEA56D9-5CBD-4211-88DB-87B4329B02F6"></a><h4 id="ADLOB-GUID-1DEA56D9-5CBD-4211-88DB-87B4329B02F6" class="sect4">在TBMS_LOB包中使用TB级大小的LOB</h4>
                  <div>
                     <p>您可以使用DBMS_LOB PL / SQL包中的所有API访问TB级的LOB。</p>
                     <p>使用<code class="codeph">DBMS_LOB.GETCHUNKSIZE</code>获取用于读取和写入LOB的值。由于内部存储开销，存储在块中的字节数实际上小于<code class="codeph">CHUNK</code>参数的大小。该<a id="d80928e3188" class="indexterm-anchor"></a> <code class="codeph">DBMS_LOB.GET_STORAGE_LIMIT</code>函数返回数据库配置的存储限制。这是LOB的最大允许大小。<code class="codeph">BLOB</code>的大小以字节为单位，而<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>的大小以字符为单位。
                     </p>
                     <div class="infoboxnotealso" id="GUID-1DEA56D9-5CBD-4211-88DB-87B4329B02F6__GUID-D169ED0A-8BE4-4AEB-81BF-AB23BA553589">
                        <p class="notep1">也可以看看：</p>
                        <p>有关数据库安装的初始化参数设置的详细信息，请参阅<a href="../arpls/DBMS_LOB.html#ARPLS601" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a> 。
                        </p>
                     </div>
                  </div>
               </div><a id="ADLOB45353"></a><div class="props_rev_3"><a id="GUID-A40086A3-2F4D-4153-B4DE-7C02C7CE08A8" name="GUID-A40086A3-2F4D-4153-B4DE-7C02C7CE08A8"></a><h4 id="ADLOB-GUID-A40086A3-2F4D-4153-B4DE-7C02C7CE08A8" class="sect4">使用太字节大小的LOB和OCI</h4>
                  <div>
                     <p>Oracle Call Interface API为所有大小的LOB提供了一组函数。</p>
                     <p><code class="codeph">OCILobGetChunkSize()</code>返回<code class="codeph">BLOB</code>的字节值，或<code class="codeph">CLOB</code>的字符，用于读写LOB。对于变宽字符集，该值是适合的Unicode字符数。由于内部存储开销，存储在块中的字节数实际上小于<code class="codeph">CHUNK</code>参数的大小。函数<code class="codeph">OCILobGetStorageLimit()</code>返回当前数据库安装中内部LOB的最大允许大小（以字节为单位）。如果使用流模式，读取整个LOB，则不需要获取块大小。
                     </p>
                     <div class="infoboxnotealso" id="GUID-A40086A3-2F4D-4153-B4DE-7C02C7CE08A8__GUID-6793BAA5-DB0F-4BE7-911D-6F0C6418CBC2">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../lnoci/lobs-and-bfile-operations.html#LNOCI-GUID-EC49588A-0534-4E43-8CB1-3D0FAE205BAB" target="_blank"><span><cite>“Oracle调用接口程序员指南”</cite></span></a> ，了解有关支持LOB的OCI函数的详细信息</p>
                     </div>
                  </div>
               </div>
            </div><a id="ADLOB45354"></a><div class="props_rev_3"><a id="GUID-B8E82069-4847-4116-9DA1-BFE6F99288C2" name="GUID-B8E82069-4847-4116-9DA1-BFE6F99288C2"></a><h3 id="ADLOB-GUID-B8E82069-4847-4116-9DA1-BFE6F99288C2" class="sect3">创建技嘉LOB的指南</h3>
               <div>
                  <div class="section">
                     <p>要在受支持的环境中创建千兆字节LOB，请使用以下准则来利用表空间中的所有可用空间来进行LOB存储：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>单数据文件大小限制：</p>
                           <p>每个操作系统的单个数据文件的大小都有限制。例如，Solaris 2.5仅允许最多2千兆字节的操作系统文件。因此，当LOB增长大于运行Oracle数据库的操作系统的最大允许文件大小时，请向表空间添加更多数据文件。</p>
                        </li>
                        <li>
                           <p>将PCT INCREASE参数设置为零：</p>
                           <p>LOB存储子句中的<code class="codeph">PCTINCREASE</code>参数指定新扩展区大小的增长百分比。当LOB在表空间中逐个填充时，会在该过程中创建许多新的扩展区。如果扩展区大小每次默认值增加50％，则扩展区变得无法管理，最终会浪费表空间中的空间。因此， <code class="codeph">PCTINCREASE</code>参数应设置为零或小值。
                           </p>
                        </li>
                        <li>
                           <p>将MAXEXTENTS设置为合适的值或UNLIMITED：</p>
                           <p><code class="codeph">MAXEXTENTS</code>参数限制LOB列允许的范围数。随着LOB大小的增加，会逐渐创建大量扩展区。因此，应将参数设置为足以容纳列的所有LOB的值。或者，您可以将其设置为<code class="codeph">UNLIMITED</code> 。</p>
                        </li>
                        <li>
                           <p>使用大范围大小：</p>
                           <p>对于创建的每个新范围，Oracle都会为标头和范围的其他元数据生成撤消信息。如果扩展区的数量很大，则回滚段可能会饱和。要解决此问题，请选择较大的扩展区大小，例如100兆字节，以减少扩展区创建的频率，或者更频繁地提交事务以重用回滚段中的空间。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADLOB45355"></a><div class="sect3"><a id="GUID-D32C170D-F7A9-4338-B7C9-7384BC757166" name="GUID-D32C170D-F7A9-4338-B7C9-7384BC757166"></a><h4 id="ADLOB-GUID-D32C170D-F7A9-4338-B7C9-7384BC757166" class="sect4">创建表空间和表来存储技嘉LOB</h4>
                  <div>
                     <p>以下示例说明如何创建表空间和表以存储千兆字节LOB。</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE lobtbs1 DATAFILE'/your/own/data/directory/lobtbs_1.dat'SIZE 2000M REUSE ONLINE NOLOGGING DEFAULT STORAGE（MAXEXTENTS UNLIMITED）; ALTER TABLESPACE lobtbs1添加数据文件'/your/own/data/directory/lobtbs_2.dat'SIZE 2000M REUSE; CREATE TABLE print_media_backup（product_id NUMBER（6），ad_id NUMBER（6），ad_composite BLOB，ad_sourcetext CLOB，ad_finaltext CLOB，ad_fltextn NCLOB，ad_textdocs_ntab textdoc_tab，ad_photo BLOB，ad_graphic BLOB，ad_header adheader_typ）NESTED TABLE ad_textdocs_ntab STORE AS textdocs_nestedtab5 LOB（ad_sourcetext）商店（TABLESPACE lobtbs1 CHUNK 32768 PCTVERSION 0 NOCACHE NOLOGGING STORAGE（INMTIAL 100M NEXT 100M MAXEXTENTS UNLIMITED PCTINCREASE 0））;</pre><p>请注意以下关于此示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>此示例中的storage子句在<code class="codeph">CREATE TABLESPACE</code>语句中指定。
                           </p>
                        </li>
                        <li>
                           <p>您可以在<code class="codeph">CREATE TABLE</code>语句中指定storage子句作为替代。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CREATE TEMPORARY TABLESPACE</code>语句中不允许使用storage子句。
                           </p>
                        </li>
                        <li>
                           <p>对于千兆字节LOB，建议将<code class="codeph">PCTINCREASE</code>参数设置为0。对于小尺寸或中等尺寸的凸起，建议使用默认的<code class="codeph">PCTINCREASE</code>值50，因为它减少了范围分配的数量。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>