<html id="05504.viewing-information-about-cdbs-and-pdbs-with-sql-plus.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can view information about CDBs and PDBs using SQL*Plus or SQL Developer."></meta>
      <meta name="description" content="You can view information about CDBs and PDBs using SQL*Plus or SQL Developer."></meta>
      <title>监控CDB和PDB</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator’s Guide "></meta>
      <meta property="og:description" content="You can view information about CDBs and PDBs using SQL*Plus or SQL Developer."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="multitenant-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-20T09:59:22-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2017, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96136-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-security-for-a-multitenant-environment.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-oracle-features-in-a-multitenant-environment.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Multitenant Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="MULTI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-security-for-a-multitenant-environment.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-oracle-features-in-a-multitenant-environment.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="managing-a-multitenant-environment.html" property="item" typeof="WebPage"><span property="name">管理多租户环境</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">监控CDB和PDB</li>
            </ol>
            <a id="GUID-208C0C35-D105-443B-B788-381F090B1D11" name="GUID-208C0C35-D105-443B-B788-381F090B1D11"></a><a id="ADMIN13719"></a>
            
            <h2 id="MULTI-GUID-208C0C35-D105-443B-B788-381F090B1D11" class="sect2"><span class="enumeration_chapter">19</span>监测CDB和PDB</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以使用SQL * Plus或SQL Developer查看有关CDB和PDB的信息。</p>
               <p>本章包含以下主题：</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-EA8E7462-1083-4C16-B958-E3F7D4BBDFB9">关于视图中的CDB和容器信息</a><br>在CDB中，数据字典表和视图定义的元数据仅存储在根中。
                  </li>
                  <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-F658ADCA-83FD-4E92-8080-3964A49886E6">确定数据库是否是CDB</a><br>您可以在<code class="codeph">V$DATABASE</code>视图中查询<code class="codeph">CDB</code>列，以确定数据库是CDB还是非CDB。如果当前数据库是CDB，则<code class="codeph">CDB</code>列返回<code class="codeph">YES</code>如果当前数据库是非CDB，则返回<code class="codeph">NO</code> 。</li>
                  <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-08173CF3-1F01-41D5-8EAF-363FDA1A601E">查看有关CDB中容器的信息</a><br><code class="codeph">V$CONTAINERS</code>视图提供有关CDB中所有容器的信息，包括根和所有PDB。
                  </li>
                  <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-791AA6B4-A73A-499F-BA9B-D0828838560D">查看有关PDB的信息</a><br><code class="codeph">CDB_PDBS</code>视图和<code class="codeph">DBA_PDBS</code>视图提供有关与CDB关联的PDB的信息，包括每个PDB的状态。</li>
                  <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-471392CB-6F96-423E-8320-6EED79787891">查看每个PDB的开放模式</a><br><code class="codeph">V$PDBS</code>视图提供有关与当前数据库实例关联的PDB的信息。
                  </li>
                  <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643">查询容器数据对象</a><br>在根目录中，容器数据对象可以显示有关根和PDB中包含的数据库对象（例如表和用户）的信息。对PDB信息的访问由公共用户的<code class="codeph">CONTAINER_DATA</code>属性控制。
                  </li>
                  <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-B302A0DA-8A56-4C18-B140-ADD5E682DE60">使用CONTAINERS子句查询容器</a><br><code class="codeph">CONTAINERS</code>子句使您可以查询CDB中所有容器的表和视图。它还使您能够在应用程序容器中的所有容器中查询应用程序公共对象。
                  </li>
                  <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6">确定当前容器ID或名称</a><br>您可以在CDB中确定当前的容器ID或容器名称。</li>
                  <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-6BF52FD2-AD0D-469F-AD2B-E5254FB9AD72">列出PDB中的可修改初始化参数</a><br>在CDB中，一些初始化参数适用于根和所有PDB。当这样的初始化参数改变时，它会影响整个CDB。您可以将其他初始化参数设置为每个容器中的不同值。
                  </li>
                  <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-BE198635-72F6-4415-8E2B-3A20B49E229C">查看PDB的历史</a><br><code class="codeph">CDB_PDB_HISTORY</code>视图显示CDB中PDB的历史记录。它提供有关何时以及如何创建每个PDB以及有关每个PDB历史记录的其他信息的信息。
                  </li>
                  <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-0E0A6999-D91C-4D41-A9F2-4D1D4FAD8790">查看应用程序容器中的应用程序信息</a><br>几个视图提供有关CDB中应用程序容器中的应用程序的信息。</li>
               </ul>
               <div class="relinfo">
                  <p><strong>相关话题</strong></p>
                  <ul>
                     <li><a href="overview-of-managing-a-multitenant-environment.html#GUID-C1EEE559-3E2B-42A4-B0A0-94C82769ECCB" title="您可以使用各种工具来配置和管理多租户环境。">多租户环境的工具</a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="managing-a-multitenant-environment.html#GUID-93F1E584-D309-4301-82E0-AD0E60D4977C" title="您可以使用SQL * Plus或企业管理器云控制（云控制）管理多租户环境。">管理多租户环境</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN13931"></a><div class="props_rev_3"><a id="GUID-EA8E7462-1083-4C16-B958-E3F7D4BBDFB9" name="GUID-EA8E7462-1083-4C16-B958-E3F7D4BBDFB9"></a><h3 id="MULTI-GUID-EA8E7462-1083-4C16-B958-E3F7D4BBDFB9" class="sect3"><span class="enumeration_section">19.1</span>关于视图中的CDB和容器信息</h3>
               <div>
                  <p>在CDB中，数据字典表和视图定义的元数据仅存储在根中。</p>
                  <p>每个容器（包括每个PDB，应用程序根和应用程序PDB）都有自己的一组数据字典表和容器中包含的对象的视图。由于每个容器都可以包含不同的数据和架构对象，因此容器可以在数据字典视图中显示不同的元数据，即使在每个容器中查询相同的视图时也是如此。例如， <code class="codeph">DBA_TABLES</code>视图中显示的有关表的元数据在两个不同的容器中可能不同，因为容器可以包含不同的表。称为<a href="glossary.html#GUID-CFF95408-C548-4FE2-AFBA-39F647E3AC32"><span class="xrefglossterm">元数据链接</span></a>的内部机制使容器能够访问根中这些视图的元数据。
                  </p>
                  <p>如果字典表存储与整个CDB有关的信息，而不是每个容器，则元数据和数据字典视图中显示的数据存储在根中。例如，自动工作负载存储库（AWR）数据可以存储在根目录中，并且此数据显示在某些数据字典视图中，例如<code class="codeph">DBA_HIST_ACTIVE_SESS_HISTORY</code>视图。称为<a href="glossary.html#GUID-58284157-F969-4848-92A2-6484C64A2CD3"><span class="xrefglossterm">数据链接</span></a>的内部机制使容器能够访问根中这些类型的视图的元数据和数据。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-D4006B79-54C7-4D43-A209-681A13C759CA">关于当前容器不是CDB根时查看信息</a><br>当前容器是PDB，应用程序根或应用程序PDB时，数据字典视图仅显示当前容器的元数据。
                     </li>
                     <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-28ACB9B7-CBB4-4595-B5A2-2BAA54C3C76C">关于当前容器是CDB根时查看信息</a><br>当前容器是CDB根时，普通用户可以通过查询容器数据对象来查看CDB根以及PDB，应用程序根和应用程序PDB的数据字典信息。
                     </li>
                     <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-7EE6B341-9A36-4189-BE46-1FDCCCE8B475">CDB的观点</a><br>您可以查询一组视图，以获取有关CDB及其PDB的信息。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-EA8E7462-1083-4C16-B958-E3F7D4BBDFB9__GUID-95546A3C-C329-42CA-8D3C-7FB5C6B1FCCE">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-A356382A-413A-4A42-98DC-6C2464808202" title="从用户和应用程序的角度来看，CDB中每个容器中的数据字典是独立的，就像它在非CDB中一样。">CDB中的数据字典体系结构</a> ”</span> ，以获取有关容器，元数据链接和数据链接中字典访问的更多信息</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-208C0C35-D105-443B-B788-381F090B1D11" title="您可以使用SQL * Plus或SQL Developer查看有关CDB和PDB的信息。">监视CDB和PDB</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13980"></a><div class="props_rev_3"><a id="GUID-D4006B79-54C7-4D43-A209-681A13C759CA" name="GUID-D4006B79-54C7-4D43-A209-681A13C759CA"></a><h4 id="MULTI-GUID-D4006B79-54C7-4D43-A209-681A13C759CA" class="sect4"><span class="enumeration_section">19.1.1</span>关于当前容器不是CDB根时查看信息</h4>
                  <div>
                     <p>当前容器是PDB，应用程序根或应用程序PDB时，数据字典视图仅显示当前容器的元数据。</p>
                     <p>对于连接到PDB，应用程序根或应用程序PDB的应用程序，数据字典显示为非CDB的数据字典。数据字典仅显示与当前容器相关的元数据。此外，在不是CDB根的容器中， <code class="codeph">CDB_</code>视图仅显示有关通过相应<code class="codeph">DBA_</code>视图可见的数据库对象的信息。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-EA8E7462-1083-4C16-B958-E3F7D4BBDFB9" title="在CDB中，数据字典表和视图定义的元数据仅存储在根中。">关于视图中的CDB和容器信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13979"></a><a id="ADMIN13978"></a><div class="props_rev_3"><a id="GUID-28ACB9B7-CBB4-4595-B5A2-2BAA54C3C76C" name="GUID-28ACB9B7-CBB4-4595-B5A2-2BAA54C3C76C"></a><h4 id="MULTI-GUID-28ACB9B7-CBB4-4595-B5A2-2BAA54C3C76C" class="sect4"><span class="enumeration_section">19.1.2</span>关于当前容器是CDB根时查看信息</h4>
                  <div>
                     <p>当前容器是CDB根时，普通用户可以通过查询容器数据对象来查看CDB根以及PDB，应用程序根和应用程序PDB的数据字典信息。</p>
                     <p> </p>
                     <p>容器数据对象是可以包含与以下内容有关的数据的表或视图：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>一个或多个容器</p>
                        </li>
                        <li>
                           <p>国家开发银行作为一个整体</p>
                        </li>
                        <li>
                           <p>一个或多个容器和整个CDB</p>
                        </li>
                     </ul>
                     <p>容器数据对象包括<code class="codeph">V$</code> ， <code class="codeph">GV$</code> ， <code class="codeph">CDB_</code>和一些自动工作负载存储库<code class="codeph">DBA_HIST*</code>视图。通用用户的<code class="codeph">CONTAINER_DATA</code>属性确定哪些容器在容器数据对象中可见。
                     </p>
                     <p>在CDB中，对于每个<code class="codeph">DBA_</code>视图，都有相应的<code class="codeph">CDB_</code>视图。所有<code class="codeph">CDB_</code>视图都是容器数据对象，但大多数<code class="codeph">DBA_</code>视图都不是。
                     </p>
                     <p>每个容器数据对象都包含一个<code class="codeph">CON_ID</code>列，用于标识返回的每行的容器。<a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-28ACB9B7-CBB4-4595-B5A2-2BAA54C3C76C__CHDIGGCJ" title="此表列出了CON_ID列的值，并描述了每个CON_ID值的含义。">表19-1</a>描述了<code class="codeph">CON_ID</code>列中值的含义。
                     </p>
                     <div class="tblformal" id="GUID-28ACB9B7-CBB4-4595-B5A2-2BAA54C3C76C__CHDIGGCJ">
                        <p class="titleintable">表19-1容器数据对象中的CON_ID列</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="容器数据对象中的CON_ID列" width="100%" border="1" summary="This table lists the values of the CON_ID column and describes meaning of each CON_ID value." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d93111e607">CON_ID列中的值</th>
                                 <th align="left" valign="bottom" width="75%" id="d93111e610">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d93111e615" headers="d93111e607 ">
                                    <p>0</p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d93111e615 d93111e610 ">
                                    <p>这些数据与整个CDB有关</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d93111e622" headers="d93111e607 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d93111e622 d93111e610 ">
                                    <p>数据与CDB根有关</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d93111e629" headers="d93111e607 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d93111e629 d93111e610 ">
                                    <p>数据与PDB种子有关</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d93111e636" headers="d93111e607 ">
                                    <p>3  -  4,098</p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d93111e636 d93111e610 ">
                                    <p>数据与PDB，应用程序根或应用程序PDB有关</p>
                                    <p>每个容器都有自己的容器ID。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>以下视图与其他<code class="codeph">[G]V$</code>视图的行为不同：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">[G] V $ SYSSTAT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">[G] V $ SYS_TIME_MODEL</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">[G] V $ SYSTEM_EVENT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">[G] V $ SYSTEM_WAIT_CLASS</code></p>
                        </li>
                     </ul>
                     <p>当从CDB根查询，这些视图返回实例范围内的数据，与<code class="codeph">0</code>在<code class="codeph">CON_ID</code>列返回的每一行。但是，您可以查询与其他容器数据对象行为相同的等效视图。以下视图可以返回CDB中每个容器的特定数据： <code class="codeph">[G]V$CON_SYSSTAT</code> ， <code class="codeph">[G]V$CON_SYS_TIME_MODEL</code> ， <code class="codeph">[G]V$CON_SYSTEM_EVENT</code>和<code class="codeph">[G]V$CON_SYSTEM_WAIT_CLASS</code> 。</p>
                     <div class="infoboxnote" id="GUID-28ACB9B7-CBB4-4595-B5A2-2BAA54C3C76C__GUID-BD853FC0-FA8A-446B-8F0D-46061E27F0B4">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>查询容器数据对象时，返回的数据取决于容器是否打开以及授予运行查询的用户的权限。</p>
                           </li>
                           <li>
                              <p>在Oracle Real Application Clusters（Oracle RAC）环境中，容器数据对象返回的数据可能会根据会话所连接的实例而有所不同。</p>
                           </li>
                           <li>
                              <p>在非CDB中，容器数据对象中的所有<code class="codeph">CON_ID</code>列都为0（零）。
                              </p>
                           </li>
                           <li>
                              <p>在受限模式下打开容器时，在<code class="codeph">CDB_</code>视图的查询<code class="codeph">CDB_</code>忽略该<code class="codeph">CDB_</code> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-28ACB9B7-CBB4-4595-B5A2-2BAA54C3C76C__GUID-9654EECA-5E2E-42BF-AE30-FA371F4D0F0F">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0" title="容器数据对象是包含与多个容器或整个CDB有关的数据的表或视图。">CDB中的容器数据对象</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关容器数据对象的详细信息，请<a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG803" target="_blank"><span class="italic">参见“Oracle数据库安</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-EA8E7462-1083-4C16-B958-E3F7D4BBDFB9" title="在CDB中，数据字典表和视图定义的元数据仅存储在根中。">关于视图中的CDB和容器信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13934"></a><a id="ADMIN13933"></a><div class="props_rev_3"><a id="GUID-7EE6B341-9A36-4189-BE46-1FDCCCE8B475" name="GUID-7EE6B341-9A36-4189-BE46-1FDCCCE8B475"></a><h4 id="MULTI-GUID-7EE6B341-9A36-4189-BE46-1FDCCCE8B475" class="sect4"><span class="enumeration_section">19.1.3</span> CDB的观点</h4>
                  <div>
                     <p>您可以查询一组视图，以获取有关CDB及其PDB的信息。</p>
                     <div class="section">
                        <p><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-7EE6B341-9A36-4189-BE46-1FDCCCE8B475__CHDJDCJF" title="此表列出了每个合并数据库视图，每个视图的说明以及指向有关每个视图的详细信息的链接。">表19-2</a>描述了用于监视CDB及其PDB的数据字典视图。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformalwide" id="GUID-7EE6B341-9A36-4189-BE46-1FDCCCE8B475__CHDJDCJF">
                        <p class="titleintable">表19-2 CDB的视图</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="CDB的观点" width="100%" border="1" summary="This table lists each consolidation database view, a description for each view, and links to more information about each view." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="34%" id="d93111e846">视图</th>
                                 <th align="left" valign="bottom" width="33%" id="d93111e849">描述</th>
                                 <th align="left" valign="bottom" width="33%" id="d93111e852">更多信息</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e857" headers="d93111e846 ">
                                    <p>容器数据对象，包括：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">V$</code>观看次数</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">GV$</code>观点</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">CDB_</code>观点</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBA_HIST*</code>视图</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e857 d93111e849 ">
                                    <p>容器数据对象可以显示有关多个PDB的信息。每个容器数据对象都包含一个<code class="codeph">CON_ID</code>列以标识容器。
                                    </p>
                                    <p>每个对应的<code class="codeph">DBA_</code>视图都有一个<code class="codeph">CDB_</code>视图。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e857 d93111e852 ">
                                    <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643" title="在根目录中，容器数据对象可以显示有关根和PDB中包含的数据库对象（例如表和用户）的信息。对PDB信息的访问由公共用户的CONTAINER_DATA属性控制。">查询容器数据对象</a> ”</span></p>
                                    <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG803" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e913" headers="d93111e846 ">
                                    <p><code class="codeph">{CDB | DBA} _PDBS</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e913 d93111e849 ">
                                    <p>显示有关与CDB关联的PDB的信息，包括每个PDB的状态。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e913 d93111e852 ">
                                    <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-791AA6B4-A73A-499F-BA9B-D0828838560D" title="CDB_PDBS视图和DBA_PDBS视图提供有关与CDB关联的PDB的信息，包括每个PDB的状态。">查看有关PDB的信息</a> ”</span></p>
                                    <p><a href="../refrn/DBA_PDBS.html#REFRN23794" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e942" headers="d93111e846 ">
                                    <p><code class="codeph">CDB_PROPERTIES</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e942 d93111e849 ">
                                    <p>显示CDB中每个容器的永久属性。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e942 d93111e852 ">
                                    <p><a href="../refrn/DATABASE_PROPERTIES.html#REFRN29012" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e958" headers="d93111e846 ">
                                    <p><code class="codeph">{CDB | DBA} _PDB_HISTORY</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e958 d93111e849 ">
                                    <p>显示每个PDB的历史记录。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e958 d93111e852 ">
                                    <p><a href="../refrn/DBA_PDB_HISTORY.html#REFRN23865" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e973" headers="d93111e846 ">
                                    <p><code class="codeph">{CDB | DBA} _CONTAINER_DATA</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e973 d93111e849 ">
                                    <p>显示有关CDB中指定的用户级别和对象级别<code class="codeph">CONTAINER_DATA</code>属性的信息。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e973 d93111e852 ">
                                    <p><a href="../refrn/DBA_CONTAINER_DATA.html#REFRN23866" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e991" headers="d93111e846 ">
                                    <p><code class="codeph">{CDB | DBA} _HIST_PDB_INSTANCE</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e991 d93111e849 ">
                                    <p>显示Workload Repository中的PDB和实例。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e991 d93111e852 ">
                                    <p><a href="../refrn/DBA_HIST_PDB_INSTANCE.html#REFRN23862" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1007" headers="d93111e846 ">
                                    <p><code class="codeph">{CDB | DBA} _PDB_SAVED_STATES</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1007 d93111e849 ">
                                    <p>显示有关CDB中当前保存的PDB状态的信息。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1007 d93111e852 ">
                                    <p><a href="../refrn/DBA_PDB_SAVED_STATES.html#REFRN23959" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                    <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9" title="通过使用带有pdb_save_or_discard_state子句的ALTER PLUGGABLE DATABASE SQL语句，可以在CDB重新启动时保留一个或多个PDB的打开模式。">当CDB重新启动时保留或放弃PDB的开放模式</a> ”</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1036" headers="d93111e846 ">
                                    <p><code class="codeph">{CDB | DBA} _APPLICATIONS</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1036 d93111e849 ">
                                    <p>描述应用程序容器中的所有应用程序。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1036 d93111e852 ">
                                    <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-383DFAE1-02F3-4313-A6BA-36F61D72FBFF" title="DBA_APPLICATIONS视图提供有关应用程序容器中的应用程序的信息。">查看应用程序信息</a> ”</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1056" headers="d93111e846 ">
                                    <p><code class="codeph">{CDB | DBA} _APP_STATEMENTS</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1056 d93111e849 ">
                                    <p>描述应用程序容器中应用程序安装，升级和修补程序操作的所有语句。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1056 d93111e852 ">
                                    <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-6D723168-EB81-468C-AC0E-7059BBD79F81" title="DBA_APP_STATEMENTS视图提供有关在应用程序安装，升级和修补程序操作期间发出的SQL语句的信息">查看有关应用程序语句的信息</a> ”</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1076" headers="d93111e846 ">
                                    <p><code class="codeph">{CDB | DBA} _APP_PATCHES</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1076 d93111e849 ">
                                    <p>描述应用程序容器中的所有应用程序修补程序。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1076 d93111e852 ">
                                    <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1D899C40-49F4-4AFF-AFEB-7A3E941F54AB" title="DBA_APP_PATCHES视图提供有关应用程序容器中应用程序的修补程序的信息。">查看有关应用程序补丁的信息</a> ”</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1096" headers="d93111e846 ">
                                    <p><code class="codeph">{CDB | DBA} _APP_ERRORS</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1096 d93111e849 ">
                                    <p>描述应用程序容器中生成的所有应用程序错误消息。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1096 d93111e852 ">
                                    <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-29B59534-E2E8-4132-B239-D3BF25CA299C" title="DBA_APP_ERRORS视图提供了应用程序PDB与应用程序根目录中的应用程序同步时引发的信息错误。">查看有关应用程序错误的信息</a> ”</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1117" headers="d93111e846 ">
                                    <p><code class="codeph">{CDB | DBA} _CDB_RSRC_PLANS</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1117 d93111e849 ">
                                    <p>显示有关所有CDB资源计划的信息。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1117 d93111e852 ">
                                    <p><a href="../refrn/DBA_CDB_RSRC_PLANS.html#REFRN23809" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                    <p><span class="q">“ <a href="using-oracle-resource-manager-for-pdbs-with-sql-plus.html#GUID-D9CBC576-4C49-4C47-9328-937E81409C0D" title="示例说明如何使用DBA_CDB_RSRC_PLANS视图显示CDB中定义的所有CDB资源计划。">查看CDB资源计划</a> ”</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1143" headers="d93111e846 ">
                                    <p><code class="codeph">{CDB | DBA} _CDB_RSRC_PLAN_DIRECTIVES</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1143 d93111e849 ">
                                    <p>显示有关所有CDB资源计划指令的信息。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1143 d93111e852 ">
                                    <p><a href="../refrn/DBA_CDB_RSRC_PLAN_DIRECTIVES.html#REFRN23808" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                    <p><span class="q">“ <a href="using-oracle-resource-manager-for-pdbs-with-sql-plus.html#GUID-E89C4503-9DAB-4600-B406-01AAC01F4734" title="示例说明如何使用DBA_CDB_RSRC_PLAN_DIRECTIVES视图显示CDB中所有CDB资源计划中定义的所有指令。">查看CDB资源计划指令</a> ”</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1169" headers="d93111e846 ">
                                    <p><code class="codeph">PDB_ALERTS</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1169 d93111e849 ">
                                    <p>包含PDB警报原因的说明。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1169 d93111e852 ">
                                    <p><a href="../refrn/PDB_ALERTS.html#REFRN29165" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1185" headers="d93111e846 ">
                                    <p><code class="codeph">PDB_PLUG_IN_VIOLATIONS</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1185 d93111e849 ">
                                    <p>显示有关PDB与其所属CDB之间不兼容的信息。此视图还用于显示通过执行<code class="codeph">DBMS_PDB.CHECK_PLUG_COMPATIBILITY</code>生成的信息。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1185 d93111e852 ">
                                    <p><a href="../refrn/PDB_PLUG_IN_VIOLATIONS.html#REFRN29161" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                    <p><span class="q">“ <a href="plugging-in-a-pdb.html#GUID-3132C4E5-8734-458B-8B0C-EFC77A45FFA3" title="您可以通过将未插入的PDB插入CDB来创建PDB。">插入一个不插电的PDB</a> ”</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1211" headers="d93111e846 ">
                                    <p><code class="codeph">{USER | ALL | DBA | CDB} _OBJECTS</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1211 d93111e849 ">
                                    <p>显示有关数据库对象的信息， <code class="codeph">SHARING</code>列显示数据库对象是元数据链接对象，数据链接对象，扩展数据链接对象还是未链接到其他对象的独立对象。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1211 d93111e852 ">
                                    <p><a href="../refrn/ALL_OBJECTS.html#REFRN20146" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1230" headers="d93111e846 ">
                                    <p><code class="codeph">{ALL | DBA | CDB} _SERVICES</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1230 d93111e849 ">
                                    <p>显示有关数据库服务的信息， <code class="codeph">PDB</code>列显示与每个服务关联的PDB的名称。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1230 d93111e852 ">
                                    <p><a href="../refrn/ALL_SERVICES.html#REFRN20465" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1249" headers="d93111e846 ">
                                    <p><code class="codeph">{USER | ALL | DBA | CDB} _VIEWS</code></p>
                                    <p><code class="codeph">{USER | ALL | DBA | CDB} _TABLES</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1249 d93111e849 ">
                                    <p><code class="codeph">CONTAINER_DATA</code>列显示视图或表是否为容器数据对象。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1249 d93111e852 ">
                                    <p><a href="../refrn/ALL_VIEWS.html#REFRN-GUID-0FE29B36-0882-47AE-A54E-A01FC9C4100A" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1270" headers="d93111e846 ">
                                    <p><code class="codeph">{USER | ALL | DBA | CDB} _USERS</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1270 d93111e849 ">
                                    <p><code class="codeph">COMMON</code>列显示用户是普通用户还是本地用户。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1270 d93111e852 ">
                                    <p><a href="../refrn/ALL_USERS.html#REFRN20302" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1289" headers="d93111e846 ">
                                    <p><code class="codeph">{USER | ALL | DBA | CDB} _ROLES</code> 
                                    </p>
                                    <p><code class="codeph">{USER | ALL | DBA | CDB} _COL_PRIVS</code></p>
                                    <p><code class="codeph">{USER | ALL} _COL_PRIVS_MADE</code></p>
                                    <p><code class="codeph">{USER | ALL} _COL_PRIVS_RECD</code></p>
                                    <p><code class="codeph">{USER | ALL} _TAB_PRIVS_MADE</code></p>
                                    <p><code class="codeph">{USER | ALL} _TAB_PRIVS_RECD</code></p>
                                    <p><code class="codeph">{USER | DBA | CDB} _SYS_PRIVS</code></p>
                                    <p><code class="codeph">{USER | DBA | CDB} _ROLE_PRIVS</code></p>
                                    <p><code class="codeph">ROLE_TAB_PRIVS</code></p>
                                    <p><code class="codeph">ROLE_SYS_PRIVS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1289 d93111e849 ">
                                    <p><code class="codeph">COMMON</code>列显示角色或权限是通常授予还是本地授予的。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1289 d93111e852 ">
                                    <p><a href="../refrn/DBA_ROLES.html#REFRN-GUID-C8E5500E-A013-45D3-AEFB-2C9C0AC87EC7" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1335" headers="d93111e846 ">
                                    <p><code class="codeph">{USER | ALL | DBA | CDB} _arguments</code> 
                                    </p>
                                    <p><code class="codeph">{USER | ALL | DBA | CDB} _CLUSTERS</code></p>
                                    <p><code class="codeph">{USER | ALL | DBA | CDB} _CONSTRAINTS</code></p>
                                    <p><code class="codeph">{ALL | DBA | CDB} _DIRECTORIES</code></p>
                                    <p><code class="codeph">{USER | ALL | DBA | CDB} _IDENTIFIERS</code></p>
                                    <p><code class="codeph">{USER | ALL | DBA | CDB} _LIBRARIES</code></p>
                                    <p><code class="codeph">{USER | ALL | DBA | CDB} _PROCEDURES</code></p>
                                    <p><code class="codeph">{USER | ALL | DBA | CDB} _Source</code></p>
                                    <p><code class="codeph">{USER | ALL | DBA | CDB} _SYNONYMS</code></p>
                                    <p><code class="codeph">{USER | ALL | DBA | CDB} _VIEWS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1335 d93111e849 ">
                                    <p><code class="codeph">ORIGIN_CON_ID</code>列显示行所源自的容器的ID。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1335 d93111e852 ">
                                    <p><a href="../refrn/ALL_ARGUMENTS.html#REFRN-GUID-1F535054-CABC-4321-AA2F-151DA726A2D7" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1381" headers="d93111e846 ">
                                    <p><code class="codeph">[G] V $ DATABASE</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1381 d93111e849 ">
                                    <p>从控制文件显示有关数据库的信息。如果数据库是CDB，则包括CDB相关信息。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1381 d93111e852 ">
                                    <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-F658ADCA-83FD-4E92-8080-3964A49886E6" title="您可以在V $ DATABASE视图中查询CDB列，以确定数据库是CDB还是非CDB。如果当前数据库是CDB，则CDB列返回YES;如果当前数据库是非CDB，则返回NO。">确定数据库是否是CDB</a> ”</span></p>
                                    <p><a href="../refrn/V-DATABASE.html#REFRN30047" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1420" headers="d93111e846 ">
                                    <p><code class="codeph">[G] V $ CONTAINERS</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1420 d93111e849 ">
                                    <p>显示有关与当前CDB关联的容器的信息，包括根和所有PDB。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1420 d93111e852 ">
                                    <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-08173CF3-1F01-41D5-8EAF-363FDA1A601E" title="V $ CONTAINERS视图提供有关CDB中所有容器的信息，包括根和所有PDB。">查看有关CDB中容器的信息</a> ”</span></p>
                                    <p><a href="../refrn/V-CONTAINERS.html#REFRN30708" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1446" headers="d93111e846 ">
                                    <p><code class="codeph">[G] V $ PDBS</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1446 d93111e849 ">
                                    <p>显示有关与当前CDB关联的PDB的信息，包括每个PDB的打开模式。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1446 d93111e852 ">
                                    <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-471392CB-6F96-423E-8320-6EED79787891" title="V $ PDBS视图提供有关与当前数据库实例关联的PDB的信息。">查看每个PDB的开放模式</a> ”</span></p>
                                    <p><a href="../refrn/V-PDBS.html#REFRN30652" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1472" headers="d93111e846 ">
                                    <p><code class="codeph">[G] V $ PDB_INCARNATION</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1472 d93111e849 ">
                                    <p>显示有关所有PDB化身的信息。每当使用<code class="codeph">RESETLOGS</code>选项打开PDB时，Oracle都会创建一个新的PDB版本。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1472 d93111e852 ">
                                    <p><a href="../refrn/V-PDB_INCARNATION.html#REFRN30709" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1491" headers="d93111e846 ">
                                    <p><code class="codeph">[G] V $ SYSTEM_PARAMETER</code> 
                                    </p>
                                    <p><code class="codeph">[G] V $ PARAMETER</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1491 d93111e849 ">
                                    <p>显示有关初始化参数的信息， <code class="codeph">ISPDB_MODIFIABLE</code>列显示是否可以为PDB修改参数。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1491 d93111e852 ">
                                    <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-6BF52FD2-AD0D-469F-AD2B-E5254FB9AD72" title="在CDB中，一些初始化参数适用于根和所有PDB。当这样的初始化参数改变时，它会影响整个CDB。您可以将其他初始化参数设置为每个容器中的不同值。">在PDB中列出可修改的初始化参数</a> ”</span></p>
                                    <p><a href="../refrn/V-SYSTEM_PARAMETER.html#REFRN30275" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1521" headers="d93111e846 ">
                                    <p><code class="codeph">V $ DIAG_ALERT_EXT</code></p>
                                    <p><code class="codeph">[G] V $ DIAG_APP_TRACE_FILE</code></p>
                                    <p><code class="codeph">[G] V $ DIAG_OPT_TRACE_RECORDS</code></p>
                                    <p><code class="codeph">V $ DIAG_SESS_OPT_TRACE_RECORDS</code></p>
                                    <p><code class="codeph">V $ DIAG_SESS_SQL_TRACE_RECORDS</code></p>
                                    <p><code class="codeph">[G] V $ DIAG_SQL_TRACE_RECORDS</code></p>
                                    <p><code class="codeph">[G] V $ DIAG_TRACE_FILE</code></p>
                                    <p><code class="codeph">[G] V $ DIAG_TRACE_FILE_CONTENTS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1521 d93111e849 ">
                                    <p>显示CDB中当前容器的跟踪文件和警报文件数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1521 d93111e852 ">
                                    <p><a href="../tgsql/performing-application-tracing.html#TGSQL-GUID-93ACB9CC-9937-479E-8995-FEABD854C900" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d93111e1557" headers="d93111e846 ">
                                    <p><code class="codeph">V $ DIAG_INCIDENT</code></p>
                                    <p><code class="codeph">V $ DIAG_PROBLEM</code></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1557 d93111e849 ">
                                    <p>显示有关CDB中当前容器的问题和事件的信息。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d93111e1557 d93111e852 ">
                                    <p><a href="../refrn/V-DIAG_INCIDENT.html#REFRN-GUID-081E633E-D430-475F-98C1-4066EA9623C7" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-EA8E7462-1083-4C16-B958-E3F7D4BBDFB9" title="在CDB中，数据字典表和视图定义的元数据仅存储在根中。">关于视图中的CDB和容器信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN14175"></a><a id="ADMIN14174"></a><div class="props_rev_3"><a id="GUID-F658ADCA-83FD-4E92-8080-3964A49886E6" name="GUID-F658ADCA-83FD-4E92-8080-3964A49886E6"></a><h3 id="MULTI-GUID-F658ADCA-83FD-4E92-8080-3964A49886E6" class="sect3"><span class="enumeration_section">19.2</span>确定数据库是否为CDB</h3>
               <div>
                  <p>您可以在<code class="codeph">V$DATABASE</code>视图中查询<code class="codeph">CDB</code>列，以确定数据库是CDB还是非CDB。如果当前数据库是CDB，则<code class="codeph">CDB</code>列返回<code class="codeph">YES</code>如果当前数据库是非CDB，则返回<code class="codeph">NO</code> 。</p>
                  <div class="section">
                     <p>要确定数据库是否为CDB：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus中，以管理用户身份连接到数据库。</p>
                        </li>
                        <li>
                           <p>查询<code class="codeph">V$DATABASE</code>视图。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-F658ADCA-83FD-4E92-8080-3964A49886E6__GUID-15EFC17F-C86D-4183-8754-6BAF6FB5BDEA">
                     <p class="titleinexample">例19-1确定数据库是否是CDB</p><pre class="oac_no_warn" dir="ltr">从CD $ DATABASE中选择CDB;</pre><p>样本输出：</p><pre class="oac_no_warn" dir="ltr">国开行---是的</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-F658ADCA-83FD-4E92-8080-3964A49886E6__GUID-32429326-A679-42E1-BA3C-890B8CE5F4CC">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../refrn/V-DATABASE.html#REFRN30047" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-208C0C35-D105-443B-B788-381F090B1D11" title="您可以使用SQL * Plus或SQL Developer查看有关CDB和PDB的信息。">监视CDB和PDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN14118"></a><a id="ADMIN14117"></a><div class="props_rev_3"><a id="GUID-08173CF3-1F01-41D5-8EAF-363FDA1A601E" name="GUID-08173CF3-1F01-41D5-8EAF-363FDA1A601E"></a><h3 id="MULTI-GUID-08173CF3-1F01-41D5-8EAF-363FDA1A601E" class="sect3"><span class="enumeration_section">19.3</span>查看有关CDB中容器的信息</h3>
               <div>
                  <p><code class="codeph">V$CONTAINERS</code>视图提供有关CDB中所有容器的信息，包括根和所有PDB。
                  </p>
                  <div class="section">
                     <p>要查看此信息，查询必须由当前容器为根的公共用户运行。当前容器是PDB时，此视图仅显示有关当前PDB的信息。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>要查看有关CDB中容器的信息，请执行以下操作：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus中，确保当前容器是根。</p>
                           <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>查询<code class="codeph">V$CONTAINERS</code>视图。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-08173CF3-1F01-41D5-8EAF-363FDA1A601E__GUID-EABF0D58-1142-4E17-B7CB-0D0B737C550D">
                     <p class="titleinexample">示例19-2查看关于CDB中每个容器的标识信息</p><pre class="pre codeblock"><code>列名称格式A8选择名称，CON_ID，DBID，CON_UID，GUID来自V $ CONTAINERS ORDER BY CON_ID;</code></pre><p>样本输出：</p><pre class="pre codeblock"><code>名称CON_ID DBID CON_UID GUID -------- ---------- ---------- ---------- ------- ------------------------- CDB $ ROOT 1 659189539 1 C091A6F89C7572A1E0436797E40AC78D PDB $ SEED 2 4026479912 4026479912 C091AE9C00377591E0436797E40AC138 HRPDB 3 3718888687 3718888687 C091B6B3B53E7834E0436797E40A9040 SALESPDB 4 2228741407 2228741407 C091FA64EF8F0577E0436797E40ABE9F</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-08173CF3-1F01-41D5-8EAF-363FDA1A601E__GUID-F3736D7F-14EA-4A0F-942F-4FA3DBBCB40F">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="overview-of-managing-a-multitenant-environment.html#GUID-A1F3A63E-3BE5-4B80-A053-46D9EF71D45E" title="您可以使用Oracle Multitenant选项配置和管理多租户环境。">关于配置和管理多租户环境</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6" title="您可以在CDB中确定当前的容器ID或容器名称。">确定当前容器ID或名称</a> ”</span></p>
                        </li>
                        <li>
                           <p><a href="../refrn/V-CONTAINERS.html#REFRN30708" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-208C0C35-D105-443B-B788-381F090B1D11" title="您可以使用SQL * Plus或SQL Developer查看有关CDB和PDB的信息。">监视CDB和PDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN13936"></a><a id="ADMIN13935"></a><div class="props_rev_3"><a id="GUID-791AA6B4-A73A-499F-BA9B-D0828838560D" name="GUID-791AA6B4-A73A-499F-BA9B-D0828838560D"></a><h3 id="MULTI-GUID-791AA6B4-A73A-499F-BA9B-D0828838560D" class="sect3"><span class="enumeration_section">19.4</span>查看PDB信息</h3>
               <div>
                  <p><code class="codeph">CDB_PDBS</code>视图和<code class="codeph">DBA_PDBS</code>视图提供有关与CDB关联的PDB的信息，包括每个PDB的状态。</p>
                  <div class="section">
                     <p>要查看此信息，查询必须由当前容器为根的公共用户运行。当前容器是PDB时，这些视图上的所有查询都不会返回任何结果。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>要查看有关PDB的信息：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus中，确保当前容器是根。</p>
                           <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">使用SQL * Plus访问CDB中的容器</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>查询<code class="codeph">CDB_PDBS</code>或<code class="codeph">DBA_PDBS</code>视图。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-791AA6B4-A73A-499F-BA9B-D0828838560D__GUID-58F3AFCD-685C-4721-8707-52CC8535AA60">
                     <p class="titleinexample">示例19-3查看每个PDB的容器ID，名称和状态</p><pre class="oac_no_warn" dir="ltr">COLUMN PDB_NAME FORMAT A15 SELECT PDB_ID，PDB_NAME，STATUS FROM DBA_PDBS ORDER BY PDB_ID;</pre><p>样本输出：</p><pre class="oac_no_warn" dir="ltr">PDB_ID PDB_NAME状态---------- --------------- ------------- 2 PDB $ SEED NORMAL 3 HRPDB NORMAL 4 SALESPDB NORMAL</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-791AA6B4-A73A-499F-BA9B-D0828838560D__GUID-189B34B7-881C-4724-A2F5-B0EE6EAAA75C">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-208C0C35-D105-443B-B788-381F090B1D11" title="您可以使用SQL * Plus或SQL Developer查看有关CDB和PDB的信息。">监视CDB和PDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN13938"></a><a id="ADMIN13937"></a><div class="props_rev_3"><a id="GUID-471392CB-6F96-423E-8320-6EED79787891" name="GUID-471392CB-6F96-423E-8320-6EED79787891"></a><h3 id="MULTI-GUID-471392CB-6F96-423E-8320-6EED79787891" class="sect3"><span class="enumeration_section">19.5</span>查看每个PDB的开放模式</h3>
               <div>
                  <p><code class="codeph">V$PDBS</code>视图提供有关与当前数据库实例关联的PDB的信息。
                  </p>
                  <div class="section">
                     <p>您可以查询此视图以确定每个PDB的打开模式。对于每个打开的PDB，此视图还可以显示上次打开PDB的时间。当前容器是根或PDB时，普通用户可以查询此视图。当前容器是PDB时，此视图仅显示有关当前PDB的信息。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>要查看每个PDB的打开状态：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus中，访问容器。</p>
                           <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">使用SQL * Plus访问CDB中的容器</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>查询<code class="codeph">V$PDBS</code>视图。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-471392CB-6F96-423E-8320-6EED79787891__GUID-CE599FD7-22C0-4B53-90B2-5A8A7DD4ED60">
                     <p class="titleinexample">例19-4查看每个PDB的名称和开放模式</p><pre class="oac_no_warn" dir="ltr">列名称格式A15列限制格式A10列OPEN_TIME格式A30选择名称，OPEN_MODE，限制，OPEN_TIME来自V $ PDBS;</pre><p>样本输出：</p><pre class="oac_no_warn" dir="ltr">名称OPEN_MODE限制OPEN_TIME --------------- ---------- ---------- ----------- ------------------- PDB $ SEED READ ONLY NO-MAY-12 12.19.54.465 PM HRPDB READ WRITE NO-MAY-12 12.34.05.078 PM SALESPDB MOUNTED NO 22-MAY-12 10.37.20.534 AM</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-471392CB-6F96-423E-8320-6EED79787891__GUID-02C7F18A-F56E-4897-9581-3D7D57A26587">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-A94D87DC-6954-454C-9230-D6E43845EC3C" title="您可以使用带有pdb_change_state子句的ALTER PLUGGABLE DATABASE语句修改PDB的打开模式。">使用ALTER PLUGGABLE DATABASE修改PDB的开放模式</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="您可以使用ALTER PLUGGABLE DATABASE SQL语句或SQL * Plus STARTUP命令修改PDB的打开模式。">修改PDB的开放模式</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-E73BCAED-FF57-474A-A8C5-207D3F465413" title="要修改单个PDB的属性，请使用ALTER PLUGGABLE DATABASE语句。">使用ALTER PLUGGABLE DATABASE语句修改PDB</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-208C0C35-D105-443B-B788-381F090B1D11" title="您可以使用SQL * Plus或SQL Developer查看有关CDB和PDB的信息。">监视CDB和PDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN13940"></a><a id="ADMIN13941"></a><a id="ADMIN13981"></a><a id="ADMIN14105"></a><a id="ADMIN14106"></a><a id="ADMIN13939"></a><div class="props_rev_3"><a id="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643" name="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643"></a><h3 id="MULTI-GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643" class="sect3"><span class="enumeration_section">19.6</span>查询容器数据对象</h3>
               <div>
                  <p>在根目录中，容器数据对象可以显示有关根和PDB中包含的数据库对象（例如表和用户）的信息。对PDB信息的访问由公共用户的<code class="codeph">CONTAINER_DATA</code>属性控制。
                  </p>
                  <div class="section">
                     <p>例如， <code class="codeph">CDB_</code>视图是容器数据对象。有关容器数据对象的详细信息，请参阅<span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-28ACB9B7-CBB4-4595-B5A2-2BAA54C3C76C" title="当前容器是CDB根时，普通用户可以通过查询容器数据对象来查看CDB根以及PDB，应用程序根和应用程序PDB的数据字典信息。">关于在当前容器是CDB根目录时查看信息</a> ”</span>和“ <a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG803" target="_blank"><span class="italic">Oracle数据库安全指南”</span></a> 。
                     </p>
                     <p>每个容器数据对象都包含一个<code class="codeph">CON_ID</code>列，该列显示查询结果中每个PDB的容器ID。您可以通过查询<code class="codeph">DBA_PDBS</code>视图来查看容器ID的PDB名称。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>要使用容器数据对象来显示有关多个PDB的信息：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus中，确保当前容器是根。</p>
                           <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>查询容器数据对象以显示所需信息。</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__GUID-2C6498D1-EA74-42D4-A756-B7AC23E2B4E0">
                        <p class="notep1">注意：</p>
                        <p>当查询包含容器数据对象和非容器数据对象的连接，并且当前容器是根时，查询仅返回整个CDB的数据（ <code class="codeph">CON_ID</code> = <code class="codeph">0</code> ）。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDDAJGJ">
                     <p class="titleinexample">例19-5显示多个PDB中特定模式所拥有的表</p>
                     <p>此示例从根查询<code class="codeph">DBA_PDBS</code>视图和<code class="codeph">CDB_TABLES</code>视图，以显示<code class="codeph">hr</code>用户和<code class="codeph">oe</code>用户在与CDB关联的PDB中拥有的表。此查询仅返回PDB的ID大于2的行（ <code class="codeph">p.PDB_ID &gt; 2</code> ）以避免在CDB根和PDB种子中显示用户。
                     </p><pre class="pre codeblock"><code>COLUMN PDB_NAME FORMAT A15 COLUMN所有者格式A15 COLUMN TABLE_NAME格式A30选择p。PDB_ID，p。PDB_NAME，t。所有者，t。TABLE_NAME FROM DBA_PDBS p，CDB_TABLES t WHERE p。PDB_ID&gt; 2和t。所有者（'HR'，'OE'）和p。PDB_ID = t。CON_ID ORDER BY p。PDB_ID;</code></pre><p>样本输出：</p><pre class="pre codeblock"><code>PDB_ID PDB_NAME OWNER TABLE_NAME ---------- --------------- --------------- ------ ------------------------ 3 HRPDB人力资源国家3 HRPDB HR JOB_HISTORY 3 HRPDB HR员工3 HRPDB HR工作3 HRPDB HR部门3 HRPDB HR位置3 HRPDB HR区域4 SALESPDB OE产品信息4 SALESPDB OE订单4 SALESPDB OE订单4 SALESPDB OE订单4 SALESPDB OE WAREHOUSES 4 SALESPDB OE客户4 SALESPDB OE SUBCATEGORY_REF_LIST_NESTEDTAB 4 SALESPDB OE PRODUCT_REF_LIST_NESTEDTAB 4 SALESPDB OE促销4 SALESPDB OE PRODUCT_DESCRIPTIONS</code></pre><p>此示例输出显示PDB <code class="codeph">hrpdb</code>在<code class="codeph">hr</code>模式中具有表，而PDB <code class="codeph">salespdb</code>在<code class="codeph">oe</code>模式中具有表。
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDHDAIE">
                     <p class="titleinexample">示例19-6显示多个PDB中的用户</p>
                     <p>此示例从根目录查询<code class="codeph">DBA_PDBS</code>视图和<code class="codeph">CDB_USERS</code>视图，以显示每个PDB中的用户。该查询使用<code class="codeph">p.PDB_ID &gt; 2</code>以避免在CDB根目录和PDB种子中显示用户。
                     </p><pre class="pre codeblock"><code>COLUMN PDB_NAME FORMAT A15 COLUMN USERNAME FORMAT A30 SELECT p。PDB_ID，p。PDB_NAME，你。USERNAME FROM DBA_PDBS p，CDB_USERS u WHERE p。PDB_ID&gt; 2 AND p。PDB_ID = u。CON_ID ORDER BY p。PDB_ID;</code></pre><p>样本输出：</p><pre class="pre codeblock"><code>PDB_ID PDB_NAME USERNAME ---------- --------------- ---------------------- --------。。。3 HRPDB HR 3 HRPDB OLAPSYS 3 HRPDB MDSYS 3 HRPDB ORDSYS。。。4 SALESPDB OE 4 SALESPDB CTXSYS 4 SALESPDB MDSYS 4 SALESPDB EXFSYS 4 SALESPDB OLAPSYS。。。</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDHDICB">
                     <p class="titleinexample">例19-7显示CDB中每个PDB的数据文件</p>
                     <p>此示例查询<code class="codeph">DBA_PDBS</code>和<code class="codeph">CDB_DATA_FILES</code>视图，以显示CDB中所有PDB（包括PDB种子）的每个数据文件的名称和位置。
                     </p><pre class="pre codeblock"><code>COLUMN PDB_ID FORMAT 999 COLUMN PDB_NAME FORMAT A8 COLUMN FILE_ID FORMAT 9999 COLUMN TABLESPACE_NAME FORMAT A10 COLUMN FILE_NAME FORMAT A45 SELECT p。PDB_ID，p。PDB_NAME，d。FILE_ID，d。TABLESPACE_NAME，d。FILE_NAME FROM DBA_PDBS p，CDB_DATA_FILES d WHERE p。PDB_ID = d。CON_ID ORDER BY p。PDB_ID;</code></pre><p>样本输出：</p><pre class="pre codeblock"><code>PDB_ID PDB_NAME FILE_ID TABLESPACE FILE_NAME ------ -------- ------- ---------- -------------- ------------------------------- 2 PDB $ SEED 6 SYSAUX /disk1/oracle/dbs/pdbseed/cdb1_ax.f 2 PDB $ SEED 5 SYSTEM /disk1/oracle/dbs/pdbseed/cdb1_db.f 3 HRPDB 9 SYSAUX /disk1/oracle/dbs/hrpdb/hrpdb_ax.f 3 HRPDB 8 SYSTEM /disk1/oracle/dbs/hrpdb/hrpdb_db.f 3 HRPDB 13 USER /disk1/oracle/dbs/hrpdb/hrpdb_usr.dbf 4 SALESPDB 15 SYSTEM /disk1/oracle/dbs/salespdb/salespdb_db.f 4 SALESPDB 16 SYSAUX /disk1/oracle/dbs/salespdb/salespdb_ax.f 4 SALESPDB 18 USER /disk1/oracle/dbs/salespdb/salespdb_usr.dbf</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDFECJE">
                     <p class="titleinexample">示例19-8显示CDB中的临时文件</p>
                     <p>此示例查询<code class="codeph">CDB_TEMP_FILES</code>视图以显示CDB中每个临时文件的名称和位置，以及使用临时文件的表空间。
                     </p><pre class="pre codeblock"><code>COLUMN CON_ID FORMAT 999 COLUMN FILE_ID FORMAT 9999 COLUMN TABLESPACE_NAME FORMAT A15 COLUMN FILE_NAME FORMAT A45 SELECT CON_ID，FILE_ID，TABLESPACE_NAME，FILE_NAME FROM CDB_TEMP_FILES ORDER BY CON_ID;</code></pre><p>样本输出：</p><pre class="pre codeblock"><code>CON_ID FILE_ID TABLESPACE_NAME FILE_NAME ------ ------- --------------- ------------------ --------------------------- 1 1 TEMP /disk1/oracle/dbs/t_tmp1.f 2 2 TEMP / disk1 / oracle / dbs / pdbseed / t_tmp1.f 3 3 TEMP /disk1/oracle/dbs/hrpdb/t_hrpdb_tmp1.f 4 4 TEMP /disk1/oracle/dbs/salespdb/t_salespdb_tmp1.f</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDDHBAF">
                     <p class="titleinexample">示例19-9显示与PDB关联的服务</p>
                     <p>此示例查询<code class="codeph">CDB_SERVICES</code>视图以显示与PDB关联的每个服务的PDB名称，网络名称和容器ID。</p><pre class="pre codeblock"><code>COLUMN NETWORK_NAME FORMAT A30 COLUMN PDB FORMAT A15 COLUMN CON_ID FORMAT 999 SELECT PDB，NETWORK_NAME，CON_ID from CDB_SERVICES WHERE PDB IS NOT NOT NULL AND CON_ID&gt; 2 ORDER BY PDB;</code></pre><p>样本输出：</p><pre class="pre codeblock"><code>PDB NETWORK_NAME CON_ID --------------- ------------------------------  - ---- HRPDB hrpdb.example.com 3 SALESPDB salespdb.example.com 4</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__GUID-F51A77AC-7C7B-4522-AF5D-418C88A76542">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0" title="容器数据对象是包含与多个容器或整个CDB有关的数据的表或视图。">CDB中的容器数据对象</a> ”</span></p>
                        </li>
                        <li>
                           <p>有关容器数据对象的详细信息，请<a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG803" target="_blank"><span><cite>参见“Oracle数据库安</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="../refrn/ALL_SERVICES.html#REFRN20465" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-208C0C35-D105-443B-B788-381F090B1D11" title="您可以使用SQL * Plus或SQL Developer查看有关CDB和PDB的信息。">监视CDB和PDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-B302A0DA-8A56-4C18-B140-ADD5E682DE60" name="GUID-B302A0DA-8A56-4C18-B140-ADD5E682DE60"></a><h3 id="MULTI-GUID-B302A0DA-8A56-4C18-B140-ADD5E682DE60" class="sect3"><span class="enumeration_section">19.7</span>使用CONTAINERS子句查询容器</h3>
               <div>
                  <p><code class="codeph">CONTAINERS</code>子句使您可以查询CDB中所有容器的表和视图。它还使您能够在应用程序容器中的所有容器中查询应用程序公共对象。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-AD8C9596-67BB-47FA-A728-16F9C9B0AADF">关于使用CONTAINERS子句查询容器的信息</a><br><code class="codeph">CONTAINERS</code>子句使您可以跨CDB中的容器进行查询。</li>
                     <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-6AD8C429-0944-47BF-882C-7BBBBF83B69A">查询所有容器中用户创建的表和视图</a><br><code class="codeph">CONTAINERS</code>子句使您可以跨所有容器查询用户创建的表和视图。此子句使CDB根目录中的查询能够显示CDB中所有打开的PDB中存在的表或视图中的数据。</li>
                     <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-7B4E4926-19C6-47A5-A4E3-6BD279F080F0">查询应用程序PDB中的应用程序公共对象</a><br><code class="codeph">CONTAINERS</code>子句使您可以在应用程序容器中的所有PDB中查询应用程序公共对象。来自应用程序根目录的查询显示容器中所有打开的PDB中存在的对象中的数据。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-208C0C35-D105-443B-B788-381F090B1D11" title="您可以使用SQL * Plus或SQL Developer查看有关CDB和PDB的信息。">监视CDB和PDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-AD8C9596-67BB-47FA-A728-16F9C9B0AADF" name="GUID-AD8C9596-67BB-47FA-A728-16F9C9B0AADF"></a><h4 id="MULTI-GUID-AD8C9596-67BB-47FA-A728-16F9C9B0AADF" class="sect4"><span class="enumeration_section">19.7.1</span>关于使用CONTAINERS子句查询容器的问题</h4>
                  <div>
                     <p><code class="codeph">CONTAINERS</code>子句使您可以跨CDB中的容器进行查询。</p>
                     <p><code class="codeph">CONTAINERS</code>子句使您可以在CDB中的所有容器中查询用户创建的表和视图。此子句使CDB根目录中的查询能够在CDB中所有打开的容器中存在的表或视图中显示数据。</p>
                     <p><code class="codeph">CONTAINERS</code>子句还允许您跨应用程序容器中的所有应用程序PDB查询应用程序公共对象，例如表和视图。此子句使应用程序根目录中的查询能够显示应用程序容器中所有打开的应用程序PDB中存在的表或视图中的数据。
                     </p>
                     <p><code class="codeph">CONTAINERS_PARALLEL_DEGREE</code>初始化参数可以控制涉及<code class="codeph">CONTAINERS</code>子句的查询的并行度。如果<code class="codeph">CONTAINERS_PARALLEL_DEGREE</code>的值低于<code class="codeph">65535</code> （默认值），则使用指定的值。
                     </p>
                     <div class="p">当<code class="codeph">CONTAINERS_PARALLEL_DEGREE</code>初始化参数设置为默认值（ <code class="codeph">65535</code> ）时，默认情况下使用<code class="codeph">CONTAINERS</code>子句的查询是并行的。默认的并行度使用以下公式计算：<pre class="pre codeblock"><code>最大值（分钟（CPU_COUNT，number_of_open_containers），＃实例）</code></pre></div>
                     <p>此外，您可以在<code class="codeph">CONTAINERS</code>子句中传递<code class="codeph">DEFAULT_PDB_HINT</code>提示。提示在每个容器中运行的查询中传递。
                     </p>
                     <p>您可以通过使用<code class="codeph">CONTAINERS</code>提示的<code class="codeph">DEFAULT_PDB_HINT</code>子句或使用自动并行度来强制包含<code class="codeph">CONTAINERS</code>子句的查询产生的递归SQL。但是，对于包含<code class="codeph">CONTAINERS</code>子句的查询产生的递归SQL，不能进行并行语句排队。
                     </p>
                     <p>如果以下类型的列存在于<code class="codeph">CONTAINERS</code>子句中指定的表中，则将删除这些列：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>以下用户定义的类型：对象类型，varrays，REF和嵌套表</p>
                        </li>
                        <li>
                           <p>以下Oracle提供的类型： <code class="codeph">ANYTYPE</code> ， <code class="codeph">ANYDATASET</code> ，URI类型， <code class="codeph">SDO_TOPO_GEOMETRY</code> ， <code class="codeph">SDO_GEORASTER</code>和<code class="codeph">Expression</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-AD8C9596-67BB-47FA-A728-16F9C9B0AADF__GUID-6C093116-5505-4F63-84B7-5BDAB586F33E">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在限制模式下打开容器时， <code class="codeph">CONTAINERS</code>子句会忽略它。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">CONTAINERS</code>子句并且容器返回错误时，查询不会从引发错误的容器返回结果，并且不会返回错误。例如，您无法从远程表中选择<code class="codeph">BFILE</code>列到本地变量。如果执行此操作的查询使用<code class="codeph">CONTAINERS</code>子句并包含本地和远程容器，则查询将返回本地容器的结果，但不返回远程容器的结果，并且不返回任何错误。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AD8C9596-67BB-47FA-A728-16F9C9B0AADF__GUID-DA350AE5-D134-4F2D-B097-6FCFDE6C40EA">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">CONTAINERS</code>子句和<code class="codeph">CONTAINERS</code>提示的更多信息，请<a href="../sqlrf/SELECT.html#SQLRF56898" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关容器数据对象的详细信息，请<a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG803" target="_blank"><span><cite>参见“Oracle数据库安</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">CONTAINERS_PARALLEL_DEGREE</code>初始化参数的详细信息，请<a href="../refrn/CONTAINERS_PARALLEL_DEGREE.html#REFRN-GUID-17F470E8-4C0D-43C8-AD2F-376B1503BCF6" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关自动并行度和并行语句排队的更多信息，请<a href="../dwhsg/data-warehouse-optimizations-techniques.html#DWHSG9066" target="_blank"><span><cite>参见“Oracle数据库数据仓库指南”</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-B302A0DA-8A56-4C18-B140-ADD5E682DE60" title="CONTAINERS子句使您可以查询CDB中所有容器的表和视图。它还使您能够在应用程序容器中的所有容器中查询应用程序公共对象。">使用CONTAINERS子句查询容器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14328"></a><a id="ADMIN14320"></a><a id="ADMIN14319"></a><div class="props_rev_3"><a id="GUID-6AD8C429-0944-47BF-882C-7BBBBF83B69A" name="GUID-6AD8C429-0944-47BF-882C-7BBBBF83B69A"></a><h4 id="MULTI-GUID-6AD8C429-0944-47BF-882C-7BBBBF83B69A" class="sect4"><span class="enumeration_section">19.7.2</span>查询所有容器中用户创建的表和视图</h4>
                  <div>
                     <p><code class="codeph">CONTAINERS</code>子句使您可以跨所有容器查询用户创建的表和视图。此子句使CDB根目录中的查询能够显示CDB中所有打开的PDB中存在的表或视图中的数据。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6AD8C429-0944-47BF-882C-7BBBBF83B69A__GUID-05936BFC-9275-4E40-B923-E575D2C838E3">先决条件</p>
                        <p>在<code class="codeph">CONTAINERS</code>子句中指定的表和视图或它们的同义词必须存在于CDB根目录和所有其他容器中。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6AD8C429-0944-47BF-882C-7BBBBF83B69A__GUID-F736514B-C31D-4DF4-B19A-E00B43168352">要使用<code class="codeph">CONTAINERS</code>子句查询所有容器中的表和视图：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，访问容器。</p>
                              <p>要查看多个容器中的数据，请确保当前容器是CDB根目录。</p>
                              <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>运行包含<code class="codeph">CONTAINERS</code>子句的查询。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6AD8C429-0944-47BF-882C-7BBBBF83B69A__GUID-2C099A06-4478-4284-B033-889C067AAD43">
                        <p class="titleinexample">示例19-10查询所有容器中的公共用户拥有的表</p>
                        <p>此示例进行以下假设：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>组织有多个PDB，每个PDB用于组织中的不同部门。</p>
                           </li>
                           <li>
                              <p>每个PDB都有一个<code class="codeph">employees</code>表，用于跟踪部门中的员工，但每个PDB中的表包含不同的员工。
                              </p>
                           </li>
                           <li>
                              <p>CDB根也有一个空的<code class="codeph">employees</code>表。
                              </p>
                           </li>
                           <li>
                              <p>每个容器中的<code class="codeph">employees</code>表由同一个普通用户拥有。
                              </p>
                           </li>
                        </ul>
                        <p>使用CDB root作为当前容器以及拥有该表作为当前用户的公共用户，使用<code class="codeph">CONTAINERS</code>子句运行以下查询以返回所有PDB中<code class="codeph">employees</code>表中的所有<code class="codeph">employees</code> ：</p><pre class="pre codeblock"><code>SELECT * FROM CONTAINERS（员工）;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-6AD8C429-0944-47BF-882C-7BBBBF83B69A__GUID-5A6DAE94-DC88-4288-9F29-519D08B0A51B">
                        <p class="titleinexample">示例19-11查询所有容器中本地用户拥有的表</p>
                        <p>此示例进行以下假设：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>组织有多个PDB，每个PDB用于组织中的不同部门。</p>
                           </li>
                           <li>
                              <p>每个PDB都有一个<code class="codeph">hr.employees</code>表，用于跟踪部门中的员工，但每个PDB中的表包含不同的员工。
                              </p>
                           </li>
                           <li>
                              <p>CDB根目录还有一个由普通用户拥有的空<code class="codeph">employees</code>表。
                              </p>
                           </li>
                        </ul>
                        <p>要运行返回所有PDB中所有员工的查询，请首先以普通用户身份连接到每个PDB，然后使用以下语句创建视图：</p><pre class="pre codeblock"><code>创建或替换VIEW员工AS SELECT * FROM hr.employees;</code></pre><p>拥有该视图的普通用户必须是拥有CDB根目录中的<code class="codeph">employees</code>表的同一个普通用户。在每个PDB中运行此语句后，普通用户在每个PDB中都有一个名为<code class="codeph">employees</code>的视图。</p>
                        <p>将CDB root作为当前容器，将普通用户作为当前用户，使用<code class="codeph">CONTAINERS</code>子句运行以下查询，以返回所有PDB中<code class="codeph">hr.employees</code>表中的所有员工：</p><pre class="pre codeblock"><code>SELECT * FROM CONTAINERS（员工）;</code></pre><p>您还可以在特定容器中查询视图。例如，以下SQL语句使用<code class="codeph">CON_ID</code>为<code class="codeph">3</code>和<code class="codeph">4</code>查询容器中的视图：</p><pre class="pre codeblock"><code>SELECT * FROM CONTAINERS（employees）WHERE CON_ID IN（3,4）;</code></pre><div class="infoboxnote" id="GUID-6AD8C429-0944-47BF-882C-7BBBBF83B69A__GUID-DF76BE76-AC9D-4918-821E-287B9C9B8215">
                           <p class="notep1">注意：</p>
                           <p>您还可以使用<code class="codeph">CONTAINERS</code>子句查询Oracle提供的表和视图。运行查询时，请确保当前用户是表或视图的所有者，或使用<code class="codeph">CONTAINERS</code>子句创建视图，并将视图的<code class="codeph">SELECT</code>权限授予适当的用户。
                           </p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-6AD8C429-0944-47BF-882C-7BBBBF83B69A__GUID-DA350AE5-D134-4F2D-B097-6FCFDE6C40EA">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0" title="容器数据对象是包含与多个容器或整个CDB有关的数据的表或视图。">CDB中的容器数据对象</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">CONTAINERS</code>子句的更多信息，请<a href="../sqlrf/SELECT.html#SQLRF56898" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关容器数据对象的详细信息，请<a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG803" target="_blank"><span><cite>参见“Oracle数据库安</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-B302A0DA-8A56-4C18-B140-ADD5E682DE60" title="CONTAINERS子句使您可以查询CDB中所有容器的表和视图。它还使您能够在应用程序容器中的所有容器中查询应用程序公共对象。">使用CONTAINERS子句查询容器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-7B4E4926-19C6-47A5-A4E3-6BD279F080F0" name="GUID-7B4E4926-19C6-47A5-A4E3-6BD279F080F0"></a><h4 id="MULTI-GUID-7B4E4926-19C6-47A5-A4E3-6BD279F080F0" class="sect4"><span class="enumeration_section">19.7.3</span>查询应用程序PDB中的应用程序公共对象</h4>
                  <div>
                     <p><code class="codeph">CONTAINERS</code>子句使您可以在应用程序容器中的所有PDB中查询应用程序公共对象。来自应用程序根目录的查询显示容器中所有打开的PDB中存在的对象中的数据。
                     </p>
                     <div class="section"> 
                        <p><code class="codeph">CONTAINERS</code>子句对于元数据链接的应用程序公共对象最有用。对于元数据链接的应用程序公共对象，应用程序容器中的所有容器中的结构都相同，但数据不同。您可以使用<code class="codeph">CONTAINERS</code>子句查看多个应用程序PDB中元数据链接的应用程序公共对象中的数据。扩展数据链接对象的好处类似。<code class="codeph">CONTAINERS</code>子句使用并行执行来跨应用程序根中托管的不同应用程序PDB执行查询。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7B4E4926-19C6-47A5-A4E3-6BD279F080F0__GUID-C122D1E9-77F0-4E8D-AA23-036BDBC6581C">要使用<code class="codeph">CONTAINERS</code>子句查询所有应用程序PDB中的表和视图：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，访问应用程序根目录。</p>
                              <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>运行包含<code class="codeph">CONTAINERS</code>子句的查询。
                              </p>
                           </li>
                        </ol>
                        <div class="infoboxnote" id="GUID-7B4E4926-19C6-47A5-A4E3-6BD279F080F0__GUID-E060C9EF-3738-4121-9A9F-28183ED16108">
                           <p class="notep1">注意：</p>您可以为应用程序根目录中的表或视图启用<code class="codeph">CONTAINERS_DEFAULT</code>属性。启用此属性时，默认情况下<code class="codeph">CONTAINERS</code>子句用于数据库对象上的查询和DML语句，并且SQL语句中不需要<code class="codeph">CONTAINERS</code>子句。要为应用程序根目录中的表或视图启用<code class="codeph">CONTAINERS_DEFAULT</code>属性，请使用<code class="codeph">ENABLE CONTAINERS_DEFAULT</code>子句运行<code class="codeph">ALTER TABLE</code>或<code class="codeph">CREATE OR REPLACE VIEW</code>语句。
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7B4E4926-19C6-47A5-A4E3-6BD279F080F0__GUID-2C099A06-4478-4284-B033-889C067AAD43">
                        <p class="titleinexample">例19-12查询所有应用程序PDB中的应用程序公共对象</p>
                        <p>此示例进行以下假设：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>组织具有多个应用程序PDB，每个应用程序PDB用于组织中的不同部门。</p>
                           </li>
                           <li>
                              <p>每个应用程序PDB都有一个<code class="codeph">employees</code>表，用于跟踪部门中的员工，但每个应用程序PDB中的表包含不同的员工。
                              </p>
                           </li>
                           <li>
                              <p>应用程序根目录还有一个空的<code class="codeph">employees</code>表。
                              </p>
                           </li>
                           <li>
                              <p>每个容器中的employees表由同一个普通用户拥有。</p>
                           </li>
                           <li>
                              <p>公司有多个租户在应用程序容器中使用应用程序，每个租户都有自己的应用程序PDB。</p>
                           </li>
                           <li>
                              <p>该公司使用元数据链接的应用程序公共对象来保持所有应用程序PDB中的数据结构相同，但每个应用程序PDB中的数据不同。</p>
                           </li>
                           <li>
                              <p>每个应用程序PDB都有一个元数据链接的<code class="codeph">sales.customers</code>表，用于存储有关每个租户客户的信息。
                              </p>
                           </li>
                        </ul>
                        <p>使用应用程序root作为当前容器以及拥有该表作为当前用户的应用程序通用用户，使用<code class="codeph">CONTAINERS</code>子句运行以下查询以返回所有应用程序PDB中<code class="codeph">sales.customers</code>表中的所有客户：</p><pre class="pre codeblock"><code>SELECT * FROM CONTAINERS（sales.customers）;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-7B4E4926-19C6-47A5-A4E3-6BD279F080F0__GUID-DA350AE5-D134-4F2D-B097-6FCFDE6C40EA">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="应用程序公共对象在应用程序根目录中创建，并与属于应用程序根目录的应用程序PDB共享。">关于应用程序通用对象</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">CONTAINERS</code>子句的更多信息，请<a href="../sqlrf/SELECT.html#SQLRF56898" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关容器数据对象的详细信息，请<a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG803" target="_blank"><span><cite>参见“Oracle数据库安</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-B302A0DA-8A56-4C18-B140-ADD5E682DE60" title="CONTAINERS子句使您可以查询CDB中所有容器的表和视图。它还使您能够在应用程序容器中的所有容器中查询应用程序公共对象。">使用CONTAINERS子句查询容器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN14107"></a><a id="ADMIN14108"></a><a id="ADMIN14109"></a><a id="ADMIN13720"></a><div class="props_rev_3"><a id="GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6" name="GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6"></a><h3 id="MULTI-GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6" class="sect3"><span class="enumeration_section">19.8</span>确定当前容器ID或名称</h3>
               <div>
                  <p>您可以在CDB中确定当前的容器ID或容器名称。</p>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>要确定当前容器ID：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>运行以下SQL * Plus命令：</p><pre class="oac_no_warn" dir="ltr">显示CON_ID</pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>要确定当前容器名称：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>运行以下SQL * Plus命令：</p><pre class="oac_no_warn" dir="ltr">SHOW CON_NAME</pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>此外，您可以使用<a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6__CHDCAAFC" title="此表列出并描述了返回容器容器ID的函数。">表19-3中</a>列出的函数来确定容器的容器ID。
                     </p>
                     <div class="tblformal" id="GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6__CHDCAAFC">
                        <p class="titleintable">表19-3返回容器容器ID的函数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="返回容器的容器ID的函数" width="100%" border="1" summary="This table lists and describes the functions that return the container ID of a container." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="36%" id="d93111e3497">功能</th>
                                 <th align="left" valign="bottom" width="64%" id="d93111e3500">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d93111e3505" headers="d93111e3497 ">
                                    <p><code class="codeph">CON_NAME_TO_ID</code> （' <span class="italic">container_name</span> '）</p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d93111e3505 d93111e3500 ">
                                    <p>根据容器的名称返回容器ID。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d93111e3517" headers="d93111e3497 ">
                                    <p><code class="codeph">CON_DBID_TO_ID</code> （ <span class="italic">container_dbid</span> ）</p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d93111e3517 d93111e3500 ">
                                    <p>根据容器的DBID返回容器ID。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d93111e3529" headers="d93111e3497 ">
                                    <p><code class="codeph">CON_UID_TO_ID</code> （ <span class="italic">container_uid</span> ）</p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d93111e3529 d93111e3500 ">
                                    <p>根据容器的唯一标识符（UID）返回容器ID。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d93111e3541" headers="d93111e3497 ">
                                    <p><code class="codeph">CON_GUID_TO_ID</code> （ <span class="italic">container_guid</span> ）</p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d93111e3541 d93111e3500 ">
                                    <p>根据容器的全局唯一标识符（GUID）返回容器ID。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><code class="codeph">V$CONTAINERS</code>视图显示CDB中每个容器的名称，DBID，UID和GUID。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6__GUID-AB1BAEF3-77EA-44D0-874F-7D230DA0F859">
                     <p class="titleinexample">示例19-13根据容器名称返回容器ID</p><pre class="oac_no_warn" dir="ltr">SELECT CON_NAME_TO_ID（'HRPDB'）FROM DUAL;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6__GUID-CAC6361F-3B03-4C69-9101-F359D2BEFA06">
                     <p class="titleinexample">示例19-14基于Container DBID返回Container ID</p><pre class="oac_no_warn" dir="ltr">SELECT CON_DBID_TO_ID（2226957846）FROM DUAL;</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6__GUID-71022817-72AA-4595-97C3-23A72D85E538">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="overview-of-managing-a-multitenant-environment.html#GUID-A1F3A63E-3BE5-4B80-A053-46D9EF71D45E" title="您可以使用Oracle Multitenant选项配置和管理多租户环境。">关于多租户环境</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-08173CF3-1F01-41D5-8EAF-363FDA1A601E" title="V $ CONTAINERS视图提供有关CDB中所有容器的信息，包括根和所有PDB。">查看有关CDB中容器的信息</a> ”</span></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">V$CONTAINERS</code>视图的更多信息，请<a href="../refrn/V-CONTAINERS.html#REFRN30708" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-208C0C35-D105-443B-B788-381F090B1D11" title="您可以使用SQL * Plus或SQL Developer查看有关CDB和PDB的信息。">监视CDB和PDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN13942"></a><div class="props_rev_3"><a id="GUID-6BF52FD2-AD0D-469F-AD2B-E5254FB9AD72" name="GUID-6BF52FD2-AD0D-469F-AD2B-E5254FB9AD72"></a><h3 id="MULTI-GUID-6BF52FD2-AD0D-469F-AD2B-E5254FB9AD72" class="sect3"><span class="enumeration_section">19.9</span>列出PDB中的可修改初始化参数</h3>
               <div>
                  <p>在CDB中，一些初始化参数适用于根和所有PDB。当这样的初始化参数改变时，它会影响整个CDB。您可以将其他初始化参数设置为每个容器中的不同值。</p>
                  <div class="section">
                     <p>例如，您可以将参数设置为根中的一个值，将其设置为一个PDB中的另一个值，并将其设置为第二个PDB中的另一个值。</p>
                     <p>本节中的查询列出了可以在每个PDB中单独设置的初始化参数。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6BF52FD2-AD0D-469F-AD2B-E5254FB9AD72__GUID-A2740896-F7DD-4626-914D-B6F4FBE32993">列出每个容器中可修改的初始化参数：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus中，访问容器。</p>
                           <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>运行以下查询：</p><pre class="pre codeblock"><code>选择名称来自V $ SYSTEM_PARAMETER WHERE ISPDB_MODIFIABLE ='TRUE'按名称排序;</code></pre></li>
                     </ol>
                     <p>如果此查询列出的初始化参数未针对PDB单独设置，则PDB将继承根的参数值。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-6BF52FD2-AD0D-469F-AD2B-E5254FB9AD72__GUID-4E57F0BF-5D97-4D29-A11F-A782C458AE8B">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95" title="要在系统级别修改CDB，请使用ALTER SYSTEM语句。">使用ALTER SYSTEM修改CDB</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-3AAA613B-C52C-4080-B0C3-7212859E3A2F" title="您可以使用ALTER SYSTEM语句来修改PDB。">在系统级修改PDB</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-208C0C35-D105-443B-B788-381F090B1D11" title="您可以使用SQL * Plus或SQL Developer查看有关CDB和PDB的信息。">监视CDB和PDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN14111"></a><a id="ADMIN14110"></a><div class="props_rev_3"><a id="GUID-BE198635-72F6-4415-8E2B-3A20B49E229C" name="GUID-BE198635-72F6-4415-8E2B-3A20B49E229C"></a><h3 id="MULTI-GUID-BE198635-72F6-4415-8E2B-3A20B49E229C" class="sect3"><span class="enumeration_section">19.10</span>查看PDB的历史</h3>
               <div>
                  <p><code class="codeph">CDB_PDB_HISTORY</code>视图显示CDB中PDB的历史记录。它提供有关何时以及如何创建每个PDB以及有关每个PDB历史记录的其他信息的信息。
                  </p>
                  <div class="section">
                     <p>要查看每个PDB的历史记录：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus中，确保当前容器是根。</p>
                           <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">使用SQL * Plus访问CDB中的容器</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>查询<code class="codeph">CDB_PDB_HISTORY</code>视图。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-BE198635-72F6-4415-8E2B-3A20B49E229C__GUID-26ECDC6A-5666-4F36-91B9-C8F3C3A991E0">
                     <p class="titleinexample">例19-15查看PDB的历史记录</p>
                     <p>此示例显示有关每个PDB历史记录的以下信息：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">DB_NAME</code>字段显示包含PDB的CDB。</p>
                        </li>
                        <li>
                           <p><code class="codeph">CON_ID</code>字段显示PDB的容器ID。</p>
                        </li>
                        <li>
                           <p><code class="codeph">PDB_NAME</code>字段在其中一个版本中显示PDB的名称。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OPERATION</code>字段显示在PDB历史记录中执行的操作。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OP_TIMESTAMP</code>字段显示执行操作的日期。
                           </p>
                        </li>
                        <li>
                           <p>如果在操作中克隆了PDB，则<code class="codeph">CLONED_FROM_PDB</code>字段显示从中克隆PDB的PDB。
                           </p>
                        </li>
                     </ul><pre class="oac_no_warn" dir="ltr">COLUMN DB_NAME FORMAT A10 COLUMN CON_ID FORMAT 999 COLUMN PDB_NAME FORMAT A15列操作格式A16列OP_TIMESTAMP格式A10 COLUMN CLONED_FROM_PDB_NAME格式A15 SELECT DB_NAME，CON_ID，PDB_NAME，OPERATION，OP_TIMESTAMP，CLONED_FROM_PDB_NAME来自CDB_PDB_HISTORY WHERE CON_ID&gt; 2 ORDER BY CON_ID;</pre><p>样本输出：</p><pre class="oac_no_warn" dir="ltr">DB_NAME CON_ID PDB_NAME操作OP_TIMESTA CLONED_FROM_PDB ---------- ------ --------------- ------------- --- ---------- --------------- NEWCDB 3 HRPDB创建10-APR-12 PDB $ SEED NEWCDB 4 SALESPDB创建17-APR-12 PDB $ SEED NEWCDB 5 TESTPDB CLONE 30-APR-12 SALESPDB</pre><div class="infoboxnote" id="GUID-BE198635-72F6-4415-8E2B-3A20B49E229C__GUID-FCAE3165-BA77-446D-A03B-52D800FC6FB7">
                        <p class="notep1">注意：</p>
                        <p>当前容器是PDB时， <code class="codeph">CDB_PDB_HISTORY</code>视图仅显示当前PDB的历史记录。当前容器为PDB的本地用户可以查询<code class="codeph">DBA_PDB_HISTORY</code>视图并从查询中排除<code class="codeph">CON_ID</code>列以查看当前PDB的历史记录。</p>
                     </div>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-BE198635-72F6-4415-8E2B-3A20B49E229C__GUID-C8A86AEA-8380-45B1-8B3C-EFF673176CD7">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-208C0C35-D105-443B-B788-381F090B1D11" title="您可以使用SQL * Plus或SQL Developer查看有关CDB和PDB的信息。">监视CDB和PDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-0E0A6999-D91C-4D41-A9F2-4D1D4FAD8790" name="GUID-0E0A6999-D91C-4D41-A9F2-4D1D4FAD8790"></a><h3 id="MULTI-GUID-0E0A6999-D91C-4D41-A9F2-4D1D4FAD8790" class="sect3"><span class="enumeration_section">19.11</span>查看应用程序容器中的应用程序信息</h3>
               <div>
                  <p>几个视图提供有关CDB中应用程序容器中的应用程序的信息。</p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-383DFAE1-02F3-4313-A6BA-36F61D72FBFF">查看应用程序信息</a><br><code class="codeph">DBA_APPLICATIONS</code>视图提供有关应用程序容器中的应用程序的信息。
                     </li>
                     <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-82A4A72E-3470-45BE-95C6-1EE6658052DD">查看应用程序状态信息</a><br><code class="codeph">DBA_APP_PDB_STATUS</code>视图提供有关应用程序容器中应用程序状态的信息。它可以显示每个应用程序PDB中每个应用程序的状态。</li>
                     <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-6D723168-EB81-468C-AC0E-7059BBD79F81">查看有关应用程序语句的信息</a><br><code class="codeph">DBA_APP_STATEMENTS</code>视图提供有关在应用程序安装，升级和修补程序操作期间发出的SQL语句的信息</li>
                     <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-B2F95BB0-0DA9-485C-91B5-A0585021BCB2">查看应用程序版本的信息</a><br><code class="codeph">DBA_APP_VERSIONS</code>视图提供有关应用程序容器中应用程序版本的信息。
                     </li>
                     <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1D899C40-49F4-4AFF-AFEB-7A3E941F54AB">查看有关应用程序补丁的信息</a><br><code class="codeph">DBA_APP_PATCHES</code>视图提供有关应用程序容器中应用程序的修补程序的信息。
                     </li>
                     <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-29B59534-E2E8-4132-B239-D3BF25CA299C">查看有关应用程序错误的信息</a><br><code class="codeph">DBA_APP_ERRORS</code>视图提供了应用程序PDB与应用程序根目录中的应用程序同步时引发的信息错误。
                     </li>
                     <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-E465DBBD-CB6E-4900-B985-09AF5EBE076F">列出应用程序容器中的共享数据库对象</a><br><code class="codeph">DBA_OBJECTS</code>视图可以列出应用程序容器中的共享数据库对象。
                     </li>
                     <li class="ulchildlink"><a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-B219A864-CBDA-4E32-B745-B67DCA6ECCAC">列出应用程序容器中的扩展数据链接对象</a><br><code class="codeph">DBA_TABLES</code>和<code class="codeph">DBA_VIEWS</code>视图可以列出应用程序容器中的扩展数据链接对象。
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-065649AC-18ED-4858-ACC5-36F011362A83" title="您可以通过多种不同方式创建应用程序容器，包括使用PDB种子，克隆现有PDB或非CDB，以及插入未插入的PDB。您还可以从CDB中删除应用程序容器。">创建和删除应用程序容器</a></li>
                        <li><a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="您可以管理应用程序容器，包括应用程序根和应用程序PDB。您还可以管理应用程序容器中安装的应用程序。">管理应用程序容器</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-208C0C35-D105-443B-B788-381F090B1D11" title="您可以使用SQL * Plus或SQL Developer查看有关CDB和PDB的信息。">监视CDB和PDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-383DFAE1-02F3-4313-A6BA-36F61D72FBFF" name="GUID-383DFAE1-02F3-4313-A6BA-36F61D72FBFF"></a><h4 id="MULTI-GUID-383DFAE1-02F3-4313-A6BA-36F61D72FBFF" class="sect4"><span class="enumeration_section">19.11.1</span>查看有关应用程序的信息</h4>
                  <div>
                     <p><code class="codeph">DBA_APPLICATIONS</code>视图提供有关应用程序容器中的应用程序的信息。
                     </p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-383DFAE1-02F3-4313-A6BA-36F61D72FBFF__GUID-200EF129-F66C-44B7-A832-90CF61F4B714">
                           <p class="notep1">注意：</p><code class="codeph">DBA_APPLICATIONS</code>视图仅提供有关当前容器中的应用程序的信息。要查看有关当前应用程序容器中所有应用程序PDB中的应用程序的信息， <code class="codeph">DBA_APP_PDB_STATUS</code>使用应用程序root作为当前容器查询<code class="codeph">DBA_APP_PDB_STATUS</code> 。
                        </div>
                        <p>要查看有关应用程序容器中的应用程序的信息：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，访问应用程序容器的应用程序根目录。</p>
                           </li>
                           <li>
                              <p>查询<code class="codeph">DBA_APPLICATIONS</code>视图。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-383DFAE1-02F3-4313-A6BA-36F61D72FBFF__GUID-2A64B91B-8B8A-4805-9BB3-46B171241361">
                        <p class="titleinexample">示例19-16查看有关应用程序容器中的应用程序的详细信息</p>
                        <p>此查询显示应用程序容器中每个用户创建的应用程序的名称，最新版本和状态。</p><pre class="pre codeblock"><code>COLUMN APP_NAME FORMAT A15 COLUMN APP_VERSION FORMAT A15 COLUMN APP_STATUS FORMAT A15 SELECT APP_NAME，APP_VERSION，APP_STATUS FROM DBA_APPLICATIONS WHERE APP_IMPLICIT ='N';</code></pre><p>以下示例输出显示了<code class="codeph">salesapp</code>应用程序：</p><pre class="pre codeblock"><code>APP_NAME APP_VERSION APP_STATUS --------------- --------------- --------------- SALESAPP 1.2正常</code></pre><div class="infoboxnote" id="GUID-383DFAE1-02F3-4313-A6BA-36F61D72FBFF__GUID-F27A99BC-2986-4911-AF93-ABB0A81D6239">
                           <p class="notep1">注意：</p>当使用<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN/END</code>语句之外的<code class="codeph">CONTAINER=ALL</code>子句发出应用程序通用用户操作时，Oracle数据库会隐式创建一些应用程序。示例查询通过在<code class="codeph">WHERE</code>子句中指定<code class="codeph">APP_IMPLICIT='N'</code>来排除隐式创建的应用程序。
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="您可以管理应用程序容器，包括应用程序根和应用程序PDB。您还可以管理应用程序容器中安装的应用程序。">管理应用程序容器</a></li>
                           <li><a href="administering-application-containers-with-sql-plus.html#GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1" title="同步应用程序会将应用程序PDB中的应用程序更新为应用程序根目录中的最新版本和修补程序。">在应用程序PDB中同步应用程序</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-0E0A6999-D91C-4D41-A9F2-4D1D4FAD8790" title="几个视图提供有关CDB中应用程序容器中的应用程序的信息。">查看有关应用程序容器中的应用程序的信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-82A4A72E-3470-45BE-95C6-1EE6658052DD" name="GUID-82A4A72E-3470-45BE-95C6-1EE6658052DD"></a><h4 id="MULTI-GUID-82A4A72E-3470-45BE-95C6-1EE6658052DD" class="sect4"><span class="enumeration_section">19.11.2</span>查看应用程序状态信息</h4>
                  <div>
                     <p><code class="codeph">DBA_APP_PDB_STATUS</code>视图提供有关应用程序容器中应用程序状态的信息。它可以显示每个应用程序PDB中每个应用程序的状态。</p>
                     <div class="section">
                        <p>即使应用程序PDB已关闭，该视图也可以显示应用程序PDB中应用程序的状态。</p>
                        <div class="infoboxnote" id="GUID-82A4A72E-3470-45BE-95C6-1EE6658052DD__GUID-87F110F2-341C-4612-8746-1E127F35402E">
                           <p class="notep1">注意：</p>从应用程序根目录查询时， <code class="codeph">DBA_APP_PDB_STATUS</code>视图提供有关当前应用程序容器中所有应用程序PDB中的应用程序的信息。要仅在当前容器中查看有关应用程序的信息，请查询<code class="codeph">DBA_APPLICATIONS</code>视图。
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-82A4A72E-3470-45BE-95C6-1EE6658052DD__GUID-95A6C13E-192E-4823-A8C6-8523EEE72A22">要在应用程序容器中查看有关应用程序状态的信息：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，访问应用程序容器的应用程序根目录。</p>
                              <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>查询<code class="codeph">DBA_APP_PDB_STATUS</code>视图。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-82A4A72E-3470-45BE-95C6-1EE6658052DD__GUID-2A64B91B-8B8A-4805-9BB3-46B171241361">
                        <p class="titleinexample">示例19-17查看有关应用程序状态的信息</p>
                        <p>此查询显示应用程序PDB的名称，应用程序的名称，应用程序的版本号以及应用程序的状态。</p><pre class="pre codeblock"><code>COLUMN PDB_NAME FORMAT A15 COLUMN APP_NAME FORMAT A15 COLUMN APP_VERSION FORMAT A20 COLUMN APP_STATUS FORMAT A12 SELECT p。PDB_NAME，s。APP_NAME，s。APP_VERSION，s。APP_STATUS来自DBA_PDBS p，DBA_APP_PDB_STATUS s WHERE p。CON_UID = s。CON_UID;</code></pre><p>您的输出类似于以下内容：</p><pre class="pre codeblock"><code>PDB_NAME APP_NAME APP_VERSION APP_STATUS --------------- --------------- ---------------- ---- ------------ SALES1 SALESAPP 4.2 NORMAL</code></pre><div class="infoboxnote" id="GUID-82A4A72E-3470-45BE-95C6-1EE6658052DD__GUID-F54483D9-3C47-4D7D-BC7F-A88A4C05CDD6">
                           <p class="notep1">注意：</p>即使应用程序尚未同步到最新版本，应用程序的状态也可以是应用程序PDB中的<code class="codeph">NORMAL</code> 。其他状态可能表示操作正在进行或操作遇到问题。例如，状态<code class="codeph">UPGRADING</code>可能表示应用程序PDB中正在进行应用程序升级，或者可能表示应用程序PDB尝试升级应用程序时遇到错误。
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-82A4A72E-3470-45BE-95C6-1EE6658052DD__GUID-25D68A53-EF52-492A-B367-B30DF95A5D73">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="您可以管理应用程序容器，包括应用程序根和应用程序PDB。您还可以管理应用程序容器中安装的应用程序。">管理应用程序容器</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-0E0A6999-D91C-4D41-A9F2-4D1D4FAD8790" title="几个视图提供有关CDB中应用程序容器中的应用程序的信息。">查看有关应用程序容器中的应用程序的信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-6D723168-EB81-468C-AC0E-7059BBD79F81" name="GUID-6D723168-EB81-468C-AC0E-7059BBD79F81"></a><h4 id="MULTI-GUID-6D723168-EB81-468C-AC0E-7059BBD79F81" class="sect4"><span class="enumeration_section">19.11.3</span>查看应用程序语句的信息</h4>
                  <div>
                     <p><code class="codeph">DBA_APP_STATEMENTS</code>视图提供有关在应用程序安装，升级和修补程序操作期间发出的SQL语句的信息</p>
                     <div class="section">
                        <p>Oracle数据库记录在应用程序安装，升级和修补程序操作期间发出的所有SQL语句，您可以通过查询<code class="codeph">DBA_APP_STATEMENTS</code>视图来查看这些语句的历史记录。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6D723168-EB81-468C-AC0E-7059BBD79F81__GUID-5805CB24-127E-4535-8D61-215FE2C98854">要查看有关在应用程序操作期间发出的SQL语句的信息：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，访问应用程序容器的应用程序根目录。</p>
                              <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>查询<code class="codeph">DBA_APP_STATEMENTS</code>视图。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6D723168-EB81-468C-AC0E-7059BBD79F81__GUID-2A64B91B-8B8A-4805-9BB3-46B171241361">
                        <p class="titleinexample">示例19-18查看有关应用程序语句的信息</p>
                        <p>此查询显示应用程序容器中应用程序的SQL语句的语句ID，捕获时间，SQL语句和应用程序名称。</p><pre class="pre codeblock"><code>SET LONG 8000 SET PAGES 8000 COLUMN STATEMENT_ID FORMAT NNNNN COLUMN CAPTURE_TIME FORMAT A12 COLUMN APP_STATEMENT FORMAT A36 COLUMN APP_NAME FORMAT A15 SELECT STATEMENT_ID，CAPTURE_TIME，APP_STATEMENT，APP_NAME FROM DBA_APP_STATEMENTS ORDER BY STATEMENT_ID;</code></pre><p>您的输出类似于以下内容：</p><pre class="pre codeblock"><code>STATEMENT_ID CAPTURE_TIME APP_STATEMENT APP_NAME ------------ ------------ ---------------------- -------------- --------------- 1 30-AUG-15 SYS APP $ 1E87C094764 1142FE0534018F8 0AA6C5 2 30-AUG-15 ALTER PLOGGABLE DATABASE APPLICATION APP $ 1E87C094764 APP $ CON开始安装'1.0'1142FE0534018F8 0AA6C5 3 30-AUG-15 ALTER PLGGABLE DATABASE APPLICATION APP $ 1E87C094764 APP $ CON END INSTALL'1.0'1142FE0534018F8 0AA6C5 4 30-AUG-15 SYS SALESAPP 5 30-AUG- 15 ALTER PLUGGABLE DATABASE应用程序SALESAPP salesapp开始安装'1.0'6 30-AUG-15创建表oe.cmtb SHARING = METADAT SALESAPP A（值VARCHAR2（30），国家VARCHAR2（30））7 30-AUG-15 CREATE TABLE conmap （SALESAPP国家VARCHAR2（30）NOT NULL）按名单划分（国家）（PARERTION AMER VALUES（'US'，'MEXICO'，'CANADA'），PARTITION EURO VALUES（'UK'，'FRANCE'，'GERMANY'） ，分区亚洲价值观（'印度'，'CHIN A'，'日本'））8 30-AUG-15 ALTER TABLE oe.cmtb ENABLE CONTAINER SALESAPP _MAP 9 30-AUG-15 ALTER PLOGGABLE DATABASE APPLICATION SALESA PP salesapp END INSTALL'1.0'。。。</code></pre><div class="infoboxnote" id="GUID-6D723168-EB81-468C-AC0E-7059BBD79F81__GUID-F27A99BC-2986-4911-AF93-ABB0A81D6239">
                           <p class="notep1">注意：</p>当使用<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN/END</code>语句之外的<code class="codeph">CONTAINER=ALL</code>子句发出应用程序通用用户操作时，Oracle数据库会隐式创建一些应用程序。这些应用程序的名称以<code class="codeph">APP$</code>开头，示例输出显示这些应用程序。
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-6D723168-EB81-468C-AC0E-7059BBD79F81__GUID-B3057A3A-DFF5-4B7E-8526-04BAC87892DB">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="您可以管理应用程序容器，包括应用程序根和应用程序PDB。您还可以管理应用程序容器中安装的应用程序。">管理应用程序容器</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1" title="同步应用程序会将应用程序PDB中的应用程序更新为应用程序根目录中的最新版本和修补程序。">在应用程序PDB中同步应用程序</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-0E0A6999-D91C-4D41-A9F2-4D1D4FAD8790" title="几个视图提供有关CDB中应用程序容器中的应用程序的信息。">查看有关应用程序容器中的应用程序的信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-B2F95BB0-0DA9-485C-91B5-A0585021BCB2" name="GUID-B2F95BB0-0DA9-485C-91B5-A0585021BCB2"></a><h4 id="MULTI-GUID-B2F95BB0-0DA9-485C-91B5-A0585021BCB2" class="sect4"><span class="enumeration_section">19.11.4</span>查看有关应用程序版本的信息</h4>
                  <div>
                     <p><code class="codeph">DBA_APP_VERSIONS</code>视图提供有关应用程序容器中应用程序版本的信息。
                     </p>
                     <div class="section">
                        <p>Oracle数据库记录应用程序容器中每个应用程序的版本。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B2F95BB0-0DA9-485C-91B5-A0585021BCB2__GUID-36609E45-350A-48B1-A5E5-615E82C61417">要在应用程序容器中查看有关应用程序版本的信息：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，访问应用程序容器的应用程序根目录。</p>
                              <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>查询<code class="codeph">DBA_APP_VERSIONS</code>视图。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B2F95BB0-0DA9-485C-91B5-A0585021BCB2__GUID-2A64B91B-8B8A-4805-9BB3-46B171241361">
                        <p class="titleinexample">示例19-19查看有关应用程序版本的信息</p>
                        <p>此查询显示版本化的应用程序的名称，版本号以及版本的注释。</p><pre class="pre codeblock"><code>COLUMN APP_NAME FORMAT A15 COLUMN APP_VERSION FORMAT A20 COLOLN APP_VERSION_COMMENT FORMAT A25 SELECT APP_NAME，APP_VERSION，APP_VERSION_COMMENT FROM DBA_APP_VERSIONS;</code></pre><p>您的输出类似于以下内容：</p><pre class="pre codeblock"><code>APP_NAME APP_VERSION APP_VERSION_COMMENT --------------- -------------------- ------------ ------------- SALESAPP 1.0销售申请</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B2F95BB0-0DA9-485C-91B5-A0585021BCB2__GUID-119C56F4-8B46-4FD2-8BFF-CA0C58AF4EDF">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="您可以管理应用程序容器，包括应用程序根和应用程序PDB。您还可以管理应用程序容器中安装的应用程序。">管理应用程序容器</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-0E0A6999-D91C-4D41-A9F2-4D1D4FAD8790" title="几个视图提供有关CDB中应用程序容器中的应用程序的信息。">查看有关应用程序容器中的应用程序的信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-1D899C40-49F4-4AFF-AFEB-7A3E941F54AB" name="GUID-1D899C40-49F4-4AFF-AFEB-7A3E941F54AB"></a><h4 id="MULTI-GUID-1D899C40-49F4-4AFF-AFEB-7A3E941F54AB" class="sect4"><span class="enumeration_section">19.11.5</span>查看应用程序补丁的信息</h4>
                  <div>
                     <p><code class="codeph">DBA_APP_PATCHES</code>视图提供有关应用程序容器中应用程序的修补程序的信息。
                     </p>
                     <div class="section">
                        <p>Oracle数据库记录应用程序容器中每个应用程序的修补程序。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1D899C40-49F4-4AFF-AFEB-7A3E941F54AB__GUID-56BF4E78-04B4-4952-B813-67635B423209">要在应用程序容器中查看有关应用程序补丁的信息：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，访问应用程序容器的应用程序根目录。</p>
                              <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>查询<code class="codeph">DBA_APP_PATCHES</code>视图。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-1D899C40-49F4-4AFF-AFEB-7A3E941F54AB__GUID-2A64B91B-8B8A-4805-9BB3-46B171241361">
                        <p class="titleinexample">示例19-20查看有关应用程序修补程序的信息</p>
                        <p>此查询显示已修补的应用程序的名称，修补程序编号，修补程序的最低应用程序版本以及应用程序容器中每个修补程序的修补程序的状态。</p><pre class="pre codeblock"><code>COLUMN APP_NAME FORMAT A15 COLUMN PATCH_NUMBER FORMAT NNNNNNNN COLUMN PATCH_MIN_VERSION FORMAT A10 COLUMN PATCH_STATUS FORMAT A15 SELECT APP_NAME，PATCH_NUMBER，PATCH_MIN_VERSION，PATCH_STATUS FROM DBA_APP_PATCHES;</code></pre><p>您的输出类似于以下内容：</p><pre class="pre codeblock"><code>APP_NAME PATCH_NUMBER PATCH_MIN_ PATCH_STATUS --------------- ------------ ---------- --------- ------ SALESAPP 1 1.2安装</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1D899C40-49F4-4AFF-AFEB-7A3E941F54AB__NOTE-1436-50E75BAD">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="您可以管理应用程序容器，包括应用程序根和应用程序PDB。您还可以管理应用程序容器中安装的应用程序。">管理应用程序容器</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-0E0A6999-D91C-4D41-A9F2-4D1D4FAD8790" title="几个视图提供有关CDB中应用程序容器中的应用程序的信息。">查看有关应用程序容器中的应用程序的信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-29B59534-E2E8-4132-B239-D3BF25CA299C" name="GUID-29B59534-E2E8-4132-B239-D3BF25CA299C"></a><h4 id="MULTI-GUID-29B59534-E2E8-4132-B239-D3BF25CA299C" class="sect4"><span class="enumeration_section">19.11.6</span>查看有关应用程序错误的信息</h4>
                  <div>
                     <p><code class="codeph">DBA_APP_ERRORS</code>视图提供了应用程序PDB与应用程序根目录中的应用程序同步时引发的信息错误。
                     </p>
                     <div class="section">应用程序PDB使用<code class="codeph">SYNC</code>子句发出<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code>语句。通过查询<code class="codeph">DBA_APP_ERRORS</code>视图，可以在应用程序同步期间查看应用程序错误的历史记录。
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-29B59534-E2E8-4132-B239-D3BF25CA299C__GUID-64648A35-8F1A-4DF4-B9BC-AB9C11A470F2">要查看应用程序同步期间引发的错误信息：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，访问应用程序容器的应用程序根目录。</p>
                              <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>查询<code class="codeph">DBA_APP_ERRORS</code>视图。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-29B59534-E2E8-4132-B239-D3BF25CA299C__GUID-2A64B91B-8B8A-4805-9BB3-46B171241361">
                        <p class="titleinexample">例19-21查看应用程序同步期间引发的错误的详细信息</p>
                        <p>此查询显示应用程序名称，引发错误的SQL语句，错误号以及应用程序同步期间引发的错误的错误消息。</p><pre class="pre codeblock"><code>SET LONG 8000 SET PAGES 8000 COLUMN APP_NAME FORMAT A15 COLUMN APP_STATEMENT FORMAT A36 COLUMN ERRORNUM FORMAT NNNNNNNNNNN COLNN ERRORMSG FORMAT A20 SELECT APP_NAME，APP_STATEMENT，ERRORNUM，ERRORMSG FROM DBA_APP_ERRORS;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-29B59534-E2E8-4132-B239-D3BF25CA299C__NOTE-1434-50E78440">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="您可以管理应用程序容器，包括应用程序根和应用程序PDB。您还可以管理应用程序容器中安装的应用程序。">管理应用程序容器</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-0E0A6999-D91C-4D41-A9F2-4D1D4FAD8790" title="几个视图提供有关CDB中应用程序容器中的应用程序的信息。">查看有关应用程序容器中的应用程序的信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-E465DBBD-CB6E-4900-B985-09AF5EBE076F" name="GUID-E465DBBD-CB6E-4900-B985-09AF5EBE076F"></a><h4 id="MULTI-GUID-E465DBBD-CB6E-4900-B985-09AF5EBE076F" class="sect4"><span class="enumeration_section">19.11.7</span>列出应用程序容器中的共享数据库对象</h4>
                  <div>
                     <p><code class="codeph">DBA_OBJECTS</code>视图可以列出应用程序容器中的共享数据库对象。
                     </p>
                     <div class="section">共享数据库对象是元数据链接的应用程序公共对象，数据链接的应用程序公共对象和扩展的数据链接的应用程序公共对象。</div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E465DBBD-CB6E-4900-B985-09AF5EBE076F__GUID-6381A120-53B4-4781-B130-53EF5483AB4E">列出应用程序容器中的共享数据库对象：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，访问应用程序容器的应用程序根目录。</p>
                              <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>查询<code class="codeph">DBA_OBJECTS</code>视图并指定<code class="codeph">SHARING</code>列。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E465DBBD-CB6E-4900-B985-09AF5EBE076F__GUID-2A64B91B-8B8A-4805-9BB3-46B171241361">
                        <p class="titleinexample">示例19-22在应用程序容器中列出用户创建的共享数据库对象</p>
                        <p>此查询显示应用程序容器中用户创建的共享数据库对象的所有者和名称。它还显示每个共享数据库对象是元数据链接的应用程序公共对象还是数据链接的应用程序公共对象。该查询排除了Oracle提供的共享数据库对象。</p><pre class="pre codeblock"><code>COLUMN所有者格式A15 COLUMN OBJECT_NAME格式A25列共享格式A13选择所有者，OBJECT_NAME，共享来自DBA_OBJECTS的共享！='NONE'和ORACLE_MAINTAINED ='N';</code></pre><p>您的输出类似于以下内容：</p><pre class="pre codeblock"><code>所有者OBJECT_NAME共享--------------- ------------------------- ------- ------ SALESADM CONMAP METADATA LINK OE PRODUCT_DESCRIPTIONS_OB DATA LINK OE CMTB METADATA LINK</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E465DBBD-CB6E-4900-B985-09AF5EBE076F__GUID-B49881AF-CD09-43F3-923D-EDF6F4DC0549">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-DC57BCFA-8DC5-46B6-809F-E3570F44D801" title="应用程序公共对象是应用程序容器中的用户创建的数据库对象。应用程序公共对象在应用程序根目录中创建。">管理应用程序通用对象</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-0E0A6999-D91C-4D41-A9F2-4D1D4FAD8790" title="几个视图提供有关CDB中应用程序容器中的应用程序的信息。">查看有关应用程序容器中的应用程序的信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-B219A864-CBDA-4E32-B745-B67DCA6ECCAC" name="GUID-B219A864-CBDA-4E32-B745-B67DCA6ECCAC"></a><h4 id="MULTI-GUID-B219A864-CBDA-4E32-B745-B67DCA6ECCAC" class="sect4"><span class="enumeration_section">19.11.8</span>列出应用程序容器中的扩展数据链接对象</h4>
                  <div>
                     <p><code class="codeph">DBA_TABLES</code>和<code class="codeph">DBA_VIEWS</code>视图可以列出应用程序容器中的扩展数据链接对象。
                     </p>
                     <div class="section">
                        <p>扩展数据链接对象是一种特殊类型的数据链接对象，每个应用程序PDB可以在应用程序根目录中共享公共数据时创建自己的特定数据。只有存储在应用程序根目录中的数据对于所有应用程序PDB都是通用的。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B219A864-CBDA-4E32-B745-B67DCA6ECCAC__GUID-04FB4B80-A54E-48F0-88EE-398AB8BB6B7F">要在应用程序容器中列出扩展的数据链接对象：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，访问应用程序容器的应用程序根目录。</p>
                              <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>查询<code class="codeph">DBA_TABLES</code>或<code class="codeph">DBA_VIEWS</code>视图，并在<code class="codeph">WHERE</code>子句中指定<code class="codeph">EXTENDED_DATA_LINK='YES'</code> 。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B219A864-CBDA-4E32-B745-B67DCA6ECCAC__GUID-2A64B91B-8B8A-4805-9BB3-46B171241361">
                        <p class="titleinexample">示例19-23在应用程序容器中列出扩展数据链接表</p>
                        <p>此查询显示应用程序容器中扩展数据链接表的所有者和名称。</p><pre class="pre codeblock"><code>COLUMN所有者格式A20 COLUMN TABLE_NAME格式A30选择所有者，TABLE_NAME来自DBA_TABLES，其中EXTENDED_DATA_LINK ='YES';</code></pre><p>您的输出类似于以下内容：</p><pre class="pre codeblock"><code>OWNER TABLE_NAME -------------------- ---------------------------- -  SALESADM ZIPCODES</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B219A864-CBDA-4E32-B745-B67DCA6ECCAC__NOTE-1436-50E7B87B">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-DC57BCFA-8DC5-46B6-809F-E3570F44D801" title="应用程序公共对象是应用程序容器中的用户创建的数据库对象。应用程序公共对象在应用程序根目录中创建。">管理应用程序通用对象</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-0E0A6999-D91C-4D41-A9F2-4D1D4FAD8790" title="几个视图提供有关CDB中应用程序容器中的应用程序的信息。">查看有关应用程序容器中的应用程序的信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="05652.oracle-connection-manager-parameters.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter provides a complete listing of the cman.ora file configuration parameters."></meta>
      <meta name="description" content="This chapter provides a complete listing of the cman.ora file configuration parameters."></meta>
      <title>Oracle连接管理器参数</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Net Services Reference "></meta>
      <meta property="og:description" content="This chapter provides a complete listing of the cman.ora file configuration parameters."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Net Services Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-net-services-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-24T04:17:11-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96314-05"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-net-listener-parameters-in-listener-ora.html" title="Previous" type="text/html"></link>
      <link rel="next" href="directory-usage-parameters-in-ldap-ora-file.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Net Services Reference"></meta>
    <meta name="dcterms.isVersionOf" content="NETRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-net-listener-parameters-in-listener-ora.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="directory-usage-parameters-in-ldap-ora-file.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库网络服务参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle连接管理器参数</li>
            </ol>
            <a id="GUID-3AD0A8E4-43CB-45E7-A99A-D4702C5273BC" name="GUID-3AD0A8E4-43CB-45E7-A99A-D4702C5273BC"></a>
            
            <h2 id="NETRF-GUID-3AD0A8E4-43CB-45E7-A99A-D4702C5273BC" class="sect2"><span class="enumeration_chapter">8</span> Oracle Connection Manager参数</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章提供了<code class="codeph">cman.ora</code>文件配置参数的完整列表。
               </p>
               <p></p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-0DEF7475-4B6A-4984-B4C6-9C276C007B10">Oracle Connection Manager配置文件概述</a><br>Oracle Connection Manager配置信息存储在<code class="codeph">cman.ora</code>文件中。
                  </li>
                  <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9">Oracle连接管理器参数</a><br>本节列出并描述了以下<code class="codeph">cman.ora</code>文件参数：</li>
                  <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-E52E7D07-FD9C-4B21-9EEA-65D7B0AB453F">流量控制器模式参数中的Oracle连接管理器</a><br></li>
                  <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-9C3DB8A9-DEF6-4532-83C2-4C8C0A61AE59">Oracle Connection Manager的ADR诊断参数</a><br>快速捕获关键错误的诊断数据并将其存储在ADR for Oracle Connection Manager中。
                  </li>
                  <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-2AEF1E2D-E15D-4B6E-B43C-45D2099F74D4">Oracle Connection Manager的非ADR诊断参数</a><br>本节列出了禁用ADR时使用的参数：</li>
               </ul>
            </div>
            
            <div class="sect2"><a id="GUID-0DEF7475-4B6A-4984-B4C6-9C276C007B10" name="GUID-0DEF7475-4B6A-4984-B4C6-9C276C007B10"></a><h3 id="NETRF-GUID-0DEF7475-4B6A-4984-B4C6-9C276C007B10" class="sect3"><span class="enumeration_section">8.1</span> Oracle Connection Manager配置文件概述</h3>
               <div>
                  <p>Oracle Connection Manager配置信息存储在<code class="codeph">cman.ora</code>文件中。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-0DEF7475-4B6A-4984-B4C6-9C276C007B10__GUID-0ECBAEB5-1F22-40B6-B46D-283C812D3167">Oracle Connection Manager配置文件</p>
                     <p>Oracle Connection Manager配置信息包含以下元素：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle Connection Manager侦听器的协议地址</p>
                        </li>
                        <li>
                           <p>访问控制参数</p>
                        </li>
                        <li>
                           <p>性能参数</p>
                        </li>
                     </ul>
                     <p>默认情况下， <code class="codeph">cman.ora</code>文件位于<code class="codeph">ORACLE_HOME/network/admin</code>目录中。<code class="codeph">cman.ora</code>文件也可以存储在以下位置：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>由<code class="codeph">TNS_ADMIN</code>环境变量或注册表值指定的目录。
                           </p>
                        </li>
                        <li>
                           <p>在Linux和UNIX操作系统上，全局配置目录。例如，在Oracle Solaris操作系统上，此目录为<code class="codeph">/var/opt/oracle</code> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-0DEF7475-4B6A-4984-B4C6-9C276C007B10__GUID-3A597F40-FD64-46CE-B6A8-2CED9643ED95">
                     <p class="titleinexample">示例8-1示例cman.ora文件</p><pre class="pre codeblock"><code>CMAN =（CONFIGURATION =（ADDRESS =（PROTOCOL = tcp）（HOST = proxysvr）（PORT = 1521））（RULE_LIST =（RULE =（SRC = 192.0.2.32 / 27）（DST =销售服务器）（SRV = * ）（ACT =接受））（ACTION_LIST =（AUT = on）（MCT = 120）（MIT = 30）））（RULE =（SRC = foo）（DST = hr-server）（SRV = cmon）（ACT =接受）））（PARAMETER_LIST =（MAX_GATEWAY_PROCESSES = 8）（MIN_GATEWAY_PRCESSSES = 3）（DIAG_ADR_ENABLED = ON）（ADR_BASE = / oracle / log）））</code></pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0DEF7475-4B6A-4984-B4C6-9C276C007B10__GUID-01B82DB8-D874-429F-848A-8B7E746726EE">cman.ora文件部分</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>收听地址：在<code class="codeph">ADDRESS=</code>之前，此部分包含与收听者相关的信息。<code class="codeph">ADDRESS</code>参数是必需的。
                           </p>
                        </li>
                        <li>
                           <p>规则列表：在<code class="codeph">RULE_LIST=</code>之前，此部分包含规则信息。<code class="codeph">RULE</code>参数列在文件的规则列表部分中。<code class="codeph">RULE</code>参数是必需的。
                           </p>
                        </li>
                        <li>
                           <p>参数列表：在<code class="codeph">PARAMETER_LIST=</code>之前，此部分包含所有其他参数，包括<span class="q">“Oracle Connection Manager的ADR诊断参数”</span>和<span class="q">“</span> <span class="q">Oracle Connection Manager的</span> <span class="q">非ADR诊断参数”中</span>列出的<span class="q">参数</span> 。
                           </p>
                           <p><code class="codeph">cman.ora</code>文件的参数列表部分中允许使用以下参数。默认值为粗体。要覆盖参数的默认设置，请输入参数和非默认值。
                           </p>
                           <p><code class="codeph">ASO_AUTHENTICATION_FILTER={</code> <span class="bold"><code class="codeph">off</code></span> <code class="codeph">| on}</code></p>
                           <p><code class="codeph">CONNECTION_STATISTICS={</code> <span class="bold"><code class="codeph">no</code></span> <code class="codeph">| yes}</code></p>
                           <p><code class="codeph">EVENT_GROUP = {init_and_term | memory_ops | conn_hdlg | proc_mgmt | reg_and_load | wake_up |计时器| cmd_proc |中继}</code></p>
                           <p><code class="codeph">IDLE_TIMEOUT=</code> <span class="bold"><code class="codeph">0</code></span>或更大</p>
                           <p><code class="codeph">INBOUND_CONNECT_TIMEOUT=0</code>或更大。默认值为60。
                           </p>
                           <p><code class="codeph">LOG_DIRECTORY=</code> <span class="italic"><code class="codeph">log_directory</code></span> 。默认值为<code class="codeph">ORACLE_HOME/network/log</code> 。
                           </p>
                           <p><code class="codeph">LOG_LEVEL={off | user | admin |</code> <span class="bold"><code class="codeph">support</code></span> <code class="codeph">}</code></p>
                           <p><code class="codeph">MAX_CMCTL_SESSIONS=</code>任何正数。默认值为4。
                           </p>
                           <p><code class="codeph">MAX_CONNECTIONS=</code>介于1和1024之间的值。默认值为256。
                           </p>
                           <p><code class="codeph">MAX_GATEWAY_PROCESSES=</code>任何大于最小64个网关进程数的数字。默认值为16。
                           </p>
                           <p><code class="codeph">MIN_GATEWAY_PROCESSES=</code>任何小于或等于64的正数。必须小于或等于网关进程的最大数量。默认值为2。
                           </p>
                           <p><code class="codeph">OUTBOUND_CONNECT_TIMEOUT=</code> <span class="bold"><code class="codeph">0</code></span>或更大</p>
                           <p><code class="codeph">PASSWORD_</code> <span class="italic"><code class="codeph">instance_name</code></span> <code class="codeph">=</code> Value是加密的实例密码（如果已设置）。默认值为无值。
                           </p>
                           <p><code class="codeph">SESSION_TIMEOUT=</code> <span class="bold"><code class="codeph">0</code></span>或更高</p>
                           <p><code class="codeph">TRACE_DIRECTORY=</code> <span class="italic"><code class="codeph">trace_directory</code></span> 。默认值为<code class="codeph">ORACLE_HOME/network/trace</code> 。
                           </p>
                           <p><code class="codeph">TRACE_FILELEN=</code>任何正数。默认值为0（零）。
                           </p>
                           <p><code class="codeph">TRACE_FILENO=</code>任何正数。默认值为0（零）。
                           </p>
                           <p><code class="codeph">TRACE_LEVEL={</code> <span class="bold"><code class="codeph">off</code></span> <code class="codeph">| user | admin | support}</code></p>
                           <p><code class="codeph">TRACE_TIMESTAMP={</code> <span class="bold"><code class="codeph">off</code></span> <code class="codeph">| on}</code></p>
                           <div class="infoboxnote" id="GUID-0DEF7475-4B6A-4984-B4C6-9C276C007B10__GUID-94D92595-CB94-4FE8-9573-79DC079E9CC9">
                              <p class="notep1">注意：</p>
                              <p></p>
                              <p>您不能将参数<code class="codeph">PASSWORD_</code> <span class="italic"><code class="codeph">instance_name</code></span>直接添加到<code class="codeph">cman.ora</code>文件中。使用<code class="codeph">SAVE_PASSWD</code>命令添加该参数。
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-0DEF7475-4B6A-4984-B4C6-9C276C007B10__GUID-14B585C9-DA2C-4094-9B47-BBAB273BC05A">参数列表cman.ora文件的部分<pre class="pre codeblock"><code>（PARAMETER_LIST =（ASO_AUTHENTICATION_FILTER = ON）（CONNECTION_STATISTICS = NO）（EVENT_GROUP = INIT_AND_TERM，MEMORY_OPS，PROCESS_MGMT）（IDLE_TIMEOUT = 30）（INBOUND_CONNECT_TIMEOUT = 30）（LOG_DIRECTORY = / home / user / network / admin / log）（LOG_LEVEL = SUPPORT ）（MAX_CMCTL_SESSIONS = 6）（MAX_CONNECTIONS = 512）（MAX_GATEWAY_PROCESSES = 10）（MIN_GATEWAY_PROCESSES = 4）（OUTBOUND_CONNECT_TIMEOUT = 30）（SESSION_TIMEOUT = 60）（TRACE_DIRECTORY = / home / user / network / admin / trace）（TRACE_FILELEN = 100） （TRACE_FILENO = 2）（TRACE_LEVEL = SUPPORT）（TRACE_TIMESTAMP = ON）（VALID_NODE_CHECKING_REGISTRATION = ON）（REGISTRATION_EXCLUDED_NODES = 10.1.26。*）（REGISTRATION_INVITED_NODES = 10.1.35。*））</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-3AD0A8E4-43CB-45E7-A99A-D4702C5273BC" title="本章提供了cman.ora文件配置参数的完整列表。">Oracle连接管理器参数</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-B9A10876-DF34-4994-9843-FC9D983317A9" name="GUID-B9A10876-DF34-4994-9843-FC9D983317A9"></a><h3 id="NETRF-GUID-B9A10876-DF34-4994-9843-FC9D983317A9" class="sect3"><span class="enumeration_section">8.2</span> Oracle连接管理器参数</h3>
               <div>
                  <p>本节列出并描述了以下<code class="codeph">cman.ora</code>文件参数：</p>
                  <p></p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-1FA11F5E-C01B-4B1E-9F55-0B5F6E476C78">地址</a><br><code class="codeph">ADDRESS</code>网络参数指定Oracle Connection Manager的协议地址。
                     </li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-3BE09F94-A0FB-46CE-ADE2-F871BB374AB5">ASO_AUTHENTICATION_FILTER</a><br>它是Oracle Connection Manager的网络参数。它指示Oracle Connection Manager检查安全网络服务（SNS）的连接请求。
                     </li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-DE264439-1E23-4CC3-A741-A78392DC6324">压缩</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-9967C459-B5AA-4EB5-A643-5BC04D12E95A">COMPRESSION_LEVELS</a><br><code class="codeph">cman.ora</code>文件的<code class="codeph">COMPRESSION_LEVELS</code>网络参数指定CPU使用率和压缩率。
                     </li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-2A2DCA97-F078-43EE-AF96-7A86EE774F4E">COMPRESSION_THRESHOLD</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-068A9232-17B3-4A22-9BAC-60D6F022389C">CONNECTION_STATISTICS</a><br><code class="codeph">cman.ora</code>文件的<code class="codeph">CONNECTION_STATISTICS</code>网络参数指定<code class="codeph">SHOW_CONNECTIONS</code>命令是否显示连接统计信息。
                     </li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-5D7E43D0-F63C-47B5-BB57-73680AB44F6F">EVENT_GROUP</a><br><code class="codeph">EVENT_GROUP</code>的联网参数<code class="codeph">cman.ora</code>文件指定事件组被记录其中。
                     </li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-D69CFDD3-480C-4A3C-94CF-58A816F0D644">的expire_time</a><br><code class="codeph">cman.ora</code>文件的<code class="codeph">EXPIRE_TIME</code>网络参数指定发送检查以验证客户端/网关连接是否处于活动状态的时间间隔（以分钟为单位）。
                     </li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-C8680AE5-C080-4978-9732-282A6DC732A7">空闲超时</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-8C4B60B4-2F44-448F-B64B-8CD7D90B8ED8">INBOUND_CONNECT_TIMEOUT</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-1A3E1F90-B251-4D9E-A562-505618609580">log_directory目录</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-6E83FAE1-5F1F-4486-88E6-5AB702CE7D18">LOG_FILE_NUM</a><br><code class="codeph">cman.ora</code>文件的<code class="codeph">LOG_FILE_NUM</code>网络参数指定日志文件段的数量。
                     </li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-521E188D-4949-441D-B594-EB639563E9BF">LOG_FILE_SIZE</a><br><code class="codeph">cman.ora</code>文件的<code class="codeph">LOG_FILE_SIZE</code>网络参数指定每个日志文件段的大小。
                     </li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-53CEF98E-212F-4862-A1A5-719E16F63972">LOG_LEVEL</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-1617D259-3EE3-4F5E-BC35-C76A6ED564BA">MAX_ALL_CONNECTIONS</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-62CAF5B8-4B59-4081-991D-39D1D5135D11">MAX_CMCTL_SESSIONS</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-9F609A45-99DF-4D39-8867-B417423635FA">MAX_CONNECTIONS</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-F31ABCEB-BB56-446D-98F7-7A30CC37955D">MAX_GATEWAY_PROCESSES</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-9C58A972-7548-4AA0-BAAF-6F39A072457A">MAX_REG_CONNECTIONS</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-9C68551B-927E-4DD9-9201-37C5A44772EF">MIN_GATEWAY_PROCESSES</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-AEFEDC67-02AE-4AFE-9A59-ADD7B34704DB">OUTBOUND_CONNECT_TIMEOUT</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-977A0B65-8369-47A5-A198-59140225A07F">PASSWORD_instance_name</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-5284BAA4-6D93-48F8-9016-99A96D80A170">REGISTRATION_EXCLUDED_NODES</a><br>Oracle Connection Manager参数文件（ <code class="codeph">cman.ora</code> ）REGISTRATION_EXCLUDED_NODES指定无法向侦听器注册的节点列表。
                     </li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-4DCAD84A-DD5F-4C15-9758-1C00DFAD1D0B">REGISTRATION_INVITED_NODES</a><br>Oracle Connection Manager参数文件（ <code class="codeph">cman.ora</code> ） <code class="codeph">REGISTRATION_EXCLUDED_NODES</code>参数指定可以向侦听器注册的节点列表。
                     </li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-6257F6E0-8857-4997-994B-546A3647A830">规则</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-831099D9-731A-4B74-8B34-B7870F405DE5">SDU</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-0E802402-7CDF-4FB9-B8B3-02EE78DF0C2F">SERVICE_RATE</a><br>cman.ora文件的SERVICE_RATE参数指定实例的每个服务允许的传入连接速率。
                     </li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-3277FC7C-7DC9-4B4D-A714-C7588E9CFB24">会话超时</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-CEA51EF7-EFEB-466C-8A97-3EB4C164D31F">Trace_File中</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-E8EE426B-6725-4C58-B96D-4682769CCE76">TRACE_FILELEN</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-F98792FA-CB85-4AD2-872D-05499710ECD3">TRACE_FILENO</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-7867B60D-23CD-40E8-88A3-70BC0DE535B8">TRACE_LEVEL</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-86390F92-19B4-4AAD-95DB-9479444E8F80">TRACE_TIMESTAMP</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-20FB7846-85A9-4634-9881-F314049CB350">USE_SID_AS_SERVICE</a><br><code class="codeph">USE_SID_AS_SERVICE</code> Oracle连接管理器参数使连接描述符中的系统标识符（SID）在用户尝试数据库连接时被解释为服务名称。
                     </li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-2582BA12-8436-435E-9DFE-7C6B77CADF57">VALID_NODE_CHECKING_REGISTRATION</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-037F18E5-2AE3-41D9-932C-1A032A1F9D2F">WALLET_LOCATION</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-3AD0A8E4-43CB-45E7-A99A-D4702C5273BC" title="本章提供了cman.ora文件配置参数的完整列表。">Oracle连接管理器参数</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-1FA11F5E-C01B-4B1E-9F55-0B5F6E476C78" name="GUID-1FA11F5E-C01B-4B1E-9F55-0B5F6E476C78"></a><h4 id="NETRF-GUID-1FA11F5E-C01B-4B1E-9F55-0B5F6E476C78" class="sect4"><span class="enumeration_section">8.2.1</span>地址</h4>
                  <div>
                     <p><code class="codeph">ADDRESS</code>网络参数指定Oracle Connection Manager的协议地址。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1FA11F5E-C01B-4B1E-9F55-0B5F6E476C78__GUID-0C372AE4-2FFE-4DD7-8FF6-2D37131483D7">目的</p>
                        <p>指定Oracle Connection Manager的协议地址。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1FA11F5E-C01B-4B1E-9F55-0B5F6E476C78__GUID-0CCD5DED-DC66-4B22-ACC9-809AA2A57E2E">句法</p><code class="codeph">（ADDRESS =（PROTOCOL = <span class="codeinlineitalic">protocol</span> ）（HOST = <span class="codeinlineitalic">host_name</span> ）（PORT = <span class="codeinlineitalic">port_number</span> ）</code></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1FA11F5E-C01B-4B1E-9F55-0B5F6E476C78__GUID-B94288C4-897A-4B2D-A8AD-FC512EC3A446">例</p><pre class="pre codeblock"><code>（ADDRESS =（PROTOCOL = TCP）（HOST =销售服务器）（PORT = 1521）</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-3BE09F94-A0FB-46CE-ADE2-F871BB374AB5" name="GUID-3BE09F94-A0FB-46CE-ADE2-F871BB374AB5"></a><h4 id="NETRF-GUID-3BE09F94-A0FB-46CE-ADE2-F871BB374AB5" class="sect4"><span class="enumeration_section">8.2.2</span> ASO_AUTHENTICATION_FILTER</h4>
                  <div>
                     <p>它是Oracle Connection Manager的网络参数。它指示Oracle Connection Manager检查安全网络服务（SNS）的连接请求。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3BE09F94-A0FB-46CE-ADE2-F871BB374AB5__GUID-8CD4D704-A48B-4A3F-B701-698DF0074065">目的</p>
                        <p>指定客户端是否必须使用Oracle数据库安全身份验证设置。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3BE09F94-A0FB-46CE-ADE2-F871BB374AB5__GUID-96899A78-7138-4631-ADAB-8E301BFB0CB2">使用说明</p>
                        <p><code class="codeph">ACTION_LIST</code>的规则级别设置可以覆盖全局设置。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3BE09F94-A0FB-46CE-ADE2-F871BB374AB5__GUID-89CD0F9D-163E-4CC9-BC75-5CAF36DD1502">值</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">on</code>指示Oracle Connection Manager拒绝未使用安全网络服务（SNS）的连接请求。SNS是Oracle数据库安全性的一部分。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">off</code>指示Oracle Connection Manager不检查客户端和服务器之间的SNS。这是默认值。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-DE264439-1E23-4CC3-A741-A78392DC6324" name="GUID-DE264439-1E23-4CC3-A741-A78392DC6324"></a><h4 id="NETRF-GUID-DE264439-1E23-4CC3-A741-A78392DC6324" class="sect4"><span class="enumeration_section">8.2.3</span>压缩</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-DE264439-1E23-4CC3-A741-A78392DC6324__GUID-710D531E-1C1C-4E98-8C41-C5F83FFAC1DB">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>启用或禁用数据压缩。如果Oracle Connection Manager和另一端（服务器或客户端或Oracle Connection Manager）都将此参数设置为<code class="codeph">ON</code> ，则使用压缩进行连接。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DE264439-1E23-4CC3-A741-A78392DC6324__GUID-598CF360-6BAA-47E2-A424-35BF28DF3E6E">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">离</code></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DE264439-1E23-4CC3-A741-A78392DC6324__GUID-C154FA6F-D014-4667-B011-29312C264522">值</p>
                     </div>
                     <!-- class="section" -->
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">on</code>启用数据压缩。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">off</code>禁用数据压缩。
                           </p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-DE264439-1E23-4CC3-A741-A78392DC6324__GUID-17EA884F-EE55-47DA-93D5-4B02AF972699">例</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">压缩=上</code></p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-9967C459-B5AA-4EB5-A643-5BC04D12E95A" name="GUID-9967C459-B5AA-4EB5-A643-5BC04D12E95A"></a><h4 id="NETRF-GUID-9967C459-B5AA-4EB5-A643-5BC04D12E95A" class="sect4"><span class="enumeration_section">8.2.4</span> COMPRESSION_LEVELS</h4>
                  <div>
                     <p><code class="codeph">cman.ora</code>文件的<code class="codeph">COMPRESSION_LEVELS</code>网络参数指定CPU使用率和压缩率。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9967C459-B5AA-4EB5-A643-5BC04D12E95A__GUID-4DE94377-63F6-4A27-8FEF-664BB56B57E1">目的</p>
                        <p>指定压缩级别。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9967C459-B5AA-4EB5-A643-5BC04D12E95A__GUID-5B6CC876-B6D3-4F46-882E-8EB5F926122C">使用说明</p>
                        <p>在协商时使用压缩级别来验证两端使用哪些级别，并选择一个级别。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9967C459-B5AA-4EB5-A643-5BC04D12E95A__GUID-449A1E08-7528-4FD3-810A-F4F51D8705FD">默认</p>
                        <p><code class="codeph">低</code></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9967C459-B5AA-4EB5-A643-5BC04D12E95A__GUID-77183F68-BD54-4803-91F9-DDB2C741AEAD">值</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">low</code> CPU使用率和低压缩率。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">high</code> CPU使用率和高压缩率。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9967C459-B5AA-4EB5-A643-5BC04D12E95A__GUID-3B98EC29-8E1B-40C2-AC31-F4F58C917705">
                        <p class="titleinexample">例8-2例子</p>
                        <p><code class="codeph">COMPRESSION_LEVELS =高，低</code></p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-2A2DCA97-F078-43EE-AF96-7A86EE774F4E" name="GUID-2A2DCA97-F078-43EE-AF96-7A86EE774F4E"></a><h4 id="NETRF-GUID-2A2DCA97-F078-43EE-AF96-7A86EE774F4E" class="sect4"><span class="enumeration_section">8.2.5</span> COMPRESSION_THRESHOLD</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-2A2DCA97-F078-43EE-AF96-7A86EE774F4E__GUID-34515FA4-A10E-42CE-A795-066B8630365B">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定需要压缩的最小数据大小（以字节为单位）。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2A2DCA97-F078-43EE-AF96-7A86EE774F4E__GUID-683F7E46-5FC2-45F1-9553-7E2851595E6F">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>如果要发送的数据大小小于此值，则不进行压缩。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2A2DCA97-F078-43EE-AF96-7A86EE774F4E__GUID-6ACDE86B-073D-4F21-9A8A-29BE7EAF1FDE">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">1024字节</code></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2A2DCA97-F078-43EE-AF96-7A86EE774F4E__GUID-14524B8D-7F2D-4FFA-BA7C-5EA35D03A7C1">例</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">COMPRESSION_THRESHOLD = 1024</code></p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-068A9232-17B3-4A22-9BAC-60D6F022389C" name="GUID-068A9232-17B3-4A22-9BAC-60D6F022389C"></a><h4 id="NETRF-GUID-068A9232-17B3-4A22-9BAC-60D6F022389C" class="sect4"><span class="enumeration_section">8.2.6</span> CONNECTION_STATISTICS</h4>
                  <div>
                     <p><code class="codeph">cman.ora</code>文件的<code class="codeph">CONNECTION_STATISTICS</code>网络参数指定<code class="codeph">SHOW_CONNECTIONS</code>命令是否显示连接统计信息。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-068A9232-17B3-4A22-9BAC-60D6F022389C__GUID-5C78E22A-E73C-4642-93AA-64C02EA29007">目的</p>
                        <p>指定<code class="codeph">SHOW_CONNECTIONS</code>命令是否显示连接统计信息。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-068A9232-17B3-4A22-9BAC-60D6F022389C__GUID-A4CA423B-9480-4566-BE3B-F1845328471B">使用说明</p>
                        <p><code class="codeph">ACTION_LIST</code>的规则级别设置可以覆盖全局设置。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-068A9232-17B3-4A22-9BAC-60D6F022389C__GUID-05E35B73-025C-4538-94AA-7CEA5457F44A">值</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">yes</code>显示统计信息。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">no</code>不显示的统计数据。这是默认值。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-5D7E43D0-F63C-47B5-BB57-73680AB44F6F" name="GUID-5D7E43D0-F63C-47B5-BB57-73680AB44F6F"></a><h4 id="NETRF-GUID-5D7E43D0-F63C-47B5-BB57-73680AB44F6F" class="sect4"><span class="enumeration_section">8.2.7</span> EVENT_GROUP</h4>
                  <div>
                     <p><code class="codeph">EVENT_GROUP</code>的联网参数<code class="codeph">cman.ora</code>文件指定事件组被记录其中。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5D7E43D0-F63C-47B5-BB57-73680AB44F6F__GUID-B5B280F3-CE90-4891-8602-50D81C73379D">目的</p>
                        <p>指定记录哪些事件组。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D7E43D0-F63C-47B5-BB57-73680AB44F6F__GUID-81CAD53F-D07B-4141-BB0D-ADEDCF9FC8E9">使用说明</p>
                        <p>可以使用逗号分隔的列表指定多个事件。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D7E43D0-F63C-47B5-BB57-73680AB44F6F__GUID-03702662-93BC-4FD8-8104-1CFF24B2800D">值</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">alert</code>警报通知。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">cmd_proc</code>用于命令处理。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">conn_hdlg</code>用于连接处理。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">init_and_term</code>用于初始化和终止。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">memory_ops</code>用于内存操作。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">proc_mgmt</code>用于流程管理。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">reg_and_load</code>用于注册和加载更新。
                              </p>
                           </li>
                           <li>
                              <p>与连接控制块相关的事件的<code class="codeph">relay</code> 。
                              </p>
                           </li>
                           <li>
                              <p>网关超时的<code class="codeph">timer</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">wake_up</code>用于与Connection Manager Administration（CMADMIN）唤醒队列相关的事件。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-5D7E43D0-F63C-47B5-BB57-73680AB44F6F__GUID-8B353B10-7062-47FE-B69D-31CF01171AC4">
                           <p class="notep1">注意：</p>
                           <p>无法关闭事件组<code class="codeph">ALERT</code> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-D69CFDD3-480C-4A3C-94CF-58A816F0D644" name="GUID-D69CFDD3-480C-4A3C-94CF-58A816F0D644"></a><h4 id="NETRF-GUID-D69CFDD3-480C-4A3C-94CF-58A816F0D644" class="sect4"><span class="enumeration_section">8.2.8</span> EXPIRE_TIME</h4>
                  <div>
                     <p><code class="codeph">cman.ora</code>文件的<code class="codeph">EXPIRE_TIME</code>网络参数指定发送检查以验证客户端/网关连接是否处于活动状态的时间间隔（以分钟为单位）。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D69CFDD3-480C-4A3C-94CF-58A816F0D644__GUID-E982C6A7-C040-4187-B2BA-252745C574E6">目的</p>
                        <p>指定时间间隔（以分钟为单位），以发送检查以验证客户端/服务器连接是否处于活动状态。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D69CFDD3-480C-4A3C-94CF-58A816F0D644__GUID-33A4DCF2-D86A-40C3-90EB-32F5C47F65E5">使用说明</p>
                        <p>设置大于<code class="codeph">0</code>的值可确保由于客户端终止异常，连接无法无限期保持打开状态。如果系统支持TCP keepalive调整，则Oracle Net Services会自动使用增强的检测模型，并调整TCP keepalive参数</p>
                        <p>如果探测发现终止连接或不再使用的连接，则它会返回错误，导致服务器进程退出。</p>
                        <p>此参数主要用于数据库服务器，该服务器通常一次处理多个连接。</p>
                        <p>使用此终止连接检测功能的限制是：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>遗留连接不允许这样做。</p>
                           </li>
                           <li>
                              <p>虽然非常小，但探测数据包会产生额外的流量，可能会降低网络性能。</p>
                           </li>
                           <li>
                              <p>根据正在使用的操作系统，服务器可能需要执行额外的处理以将连接探测事件与发生的其他事件区分开。这也可能导致网络性能下降。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D69CFDD3-480C-4A3C-94CF-58A816F0D644__GUID-C56D65F6-0EA0-4601-B159-FD4C6004E9CD">值</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">0</code>表示禁用死连接检测。这是默认值</p>
                           </li>
                           <li>
                              <p>任何大于<code class="codeph">0</code>可以启用死连接检测。数字等于以分钟为单位的时间间隔。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D69CFDD3-480C-4A3C-94CF-58A816F0D644__GUID-CA37F7D8-AB28-49C4-8F69-078ED204C683">
                        <p class="titleinexample">例8-3例子</p>
                        <p><code class="codeph">的expire_time = 10</code></p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1933"></a><a id="NETRF2264"></a><a id="NETRF1934"></a><a id="NETRF343"></a><div class="sect3"><a id="GUID-C8680AE5-C080-4978-9732-282A6DC732A7" name="GUID-C8680AE5-C080-4978-9732-282A6DC732A7"></a><h4 id="NETRF-GUID-C8680AE5-C080-4978-9732-282A6DC732A7" class="sect4"><span class="enumeration_section">8.2.9</span> IDLE_TIMEOUT</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-C8680AE5-C080-4978-9732-282A6DC732A7__GUID-BA7020B0-2B04-4602-A730-934C725D10FE">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定已建立的连接在不传输数据的情况下保持活动状态的时间量。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C8680AE5-C080-4978-9732-282A6DC732A7__GUID-6C19BD70-B3FC-4DA2-8443-1D52FA89FE7D">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">ACTION_LIST</code>的规则级别设置可以覆盖全局设置。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C8680AE5-C080-4978-9732-282A6DC732A7__GUID-C2365FB5-6339-4A9C-AEC0-A76C460A07C6">值</p>
                     </div>
                     <!-- class="section" -->
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">0</code>表示禁用超时。这是默认值。
                           </p>
                        </li>
                        <li>
                           <p>任何大于0的数字都可以启用超时。该数字等于超时时间（以秒为单位）。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1935"></a><a id="NETRF1936"></a><a id="NETRF344"></a><div class="sect3"><a id="GUID-8C4B60B4-2F44-448F-B64B-8CD7D90B8ED8" name="GUID-8C4B60B4-2F44-448F-B64B-8CD7D90B8ED8"></a><h4 id="NETRF-GUID-8C4B60B4-2F44-448F-B64B-8CD7D90B8ED8" class="sect4"><span class="enumeration_section">8.2.10</span> INBOUND_CONNECT_TIMEOUT</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-8C4B60B4-2F44-448F-B64B-8CD7D90B8ED8__GUID-5304068C-60C0-4B62-970B-4B5F54371287">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定Oracle Connection Manager侦听器等待来自客户端或另一个Oracle Connection Manager实例的有效连接的时间长度（以秒为单位）。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8C4B60B4-2F44-448F-B64B-8CD7D90B8ED8__GUID-B8FA05AE-6A4F-465E-86D2-297A5D599ADC">值</p>
                     </div>
                     <!-- class="section" -->
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">60 sec</code>是默认值。使用值<code class="codeph">0</code>禁用超时。
                           </p>
                        </li>
                        <li>
                           <p>任何大于0的数字都可以启用超时。该数字等于超时时间（以秒为单位）。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1938"></a><a id="NETRF1937"></a><div class="sect3"><a id="GUID-1A3E1F90-B251-4D9E-A562-505618609580" name="GUID-1A3E1F90-B251-4D9E-A562-505618609580"></a><h4 id="NETRF-GUID-1A3E1F90-B251-4D9E-A562-505618609580" class="sect4"><span class="enumeration_section">8.2.11</span> LOG_DIRECTORY</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-1A3E1F90-B251-4D9E-A562-505618609580__GUID-0B0476AD-637D-4951-A485-2E9A9E74E4A9">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定Oracle Connection Manager日志文件的目录。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1A3E1F90-B251-4D9E-A562-505618609580__GUID-B5661C38-0333-4202-866E-E2EFD2BE58D9">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">ORACLE_BASE_</code> <span class="italic">HOME</span> <code class="codeph">/network/log</code></p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-6E83FAE1-5F1F-4486-88E6-5AB702CE7D18" name="GUID-6E83FAE1-5F1F-4486-88E6-5AB702CE7D18"></a><h4 id="NETRF-GUID-6E83FAE1-5F1F-4486-88E6-5AB702CE7D18" class="sect4"><span class="enumeration_section">8.2.12</span> LOG_FILE_NUM</h4>
                  <div>
                     <p><code class="codeph">cman.ora</code>文件的<code class="codeph">LOG_FILE_NUM</code>网络参数指定日志文件段的数量。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6E83FAE1-5F1F-4486-88E6-5AB702CE7D18__PURPOSE-C13B1D77">目的</p>
                        <p>指定日志文件段的数量。在任何时间点，只能有<code class="codeph">n</code>日志文件段，其中<code class="codeph">n</code>是<code class="codeph">LOG_FILE_NUM</code> ，如果日志超过此数字，则删除旧段。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6E83FAE1-5F1F-4486-88E6-5AB702CE7D18__DEFAULT-C13B231A">默认</p>
                        <p>没有默认值。如果未指定或设置为零，则段数无限增长。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6E83FAE1-5F1F-4486-88E6-5AB702CE7D18__VALUES-C13B26FB">值</p>
                        <p>任何整数值。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6E83FAE1-5F1F-4486-88E6-5AB702CE7D18__EXAMPLE-C13B2B25">
                        <p class="titleinexample">例8-4例子</p>
                        <p><code class="codeph">LOG_FILE_NUM = 3</code></p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-521E188D-4949-441D-B594-EB639563E9BF" name="GUID-521E188D-4949-441D-B594-EB639563E9BF"></a><h4 id="NETRF-GUID-521E188D-4949-441D-B594-EB639563E9BF" class="sect4"><span class="enumeration_section">8.2.13</span> LOG_FILE_SIZE</h4>
                  <div>
                     <p><code class="codeph">cman.ora</code>文件的<code class="codeph">LOG_FILE_SIZE</code>网络参数指定每个日志文件段的大小。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-521E188D-4949-441D-B594-EB639563E9BF__PURPOSE-C13944BA">目的</p>
                        <p>指定每个日志文件段的大小。大小以<code class="codeph">MB</code> 。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-521E188D-4949-441D-B594-EB639563E9BF__DEFAULT-C1394B7D">默认</p>
                        <p><code class="codeph">300 MB</code></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-521E188D-4949-441D-B594-EB639563E9BF__VALUES-C1395255">值</p>
                        <p>任何整数值。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-521E188D-4949-441D-B594-EB639563E9BF__EXAMPLE-C1395A7E">
                        <p class="titleinexample">例8-5例子</p>
                        <p><code class="codeph">LOG_FILE_SIZE = 10</code></p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1940"></a><a id="NETRF1941"></a><a id="NETRF1939"></a><div class="sect3"><a id="GUID-53CEF98E-212F-4862-A1A5-719E16F63972" name="GUID-53CEF98E-212F-4862-A1A5-719E16F63972"></a><h4 id="NETRF-GUID-53CEF98E-212F-4862-A1A5-719E16F63972" class="sect4"><span class="enumeration_section">8.2.14</span> LOG_LEVEL</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-53CEF98E-212F-4862-A1A5-719E16F63972__GUID-B86E0F25-37BD-462B-BBE0-940AA50BA077">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定日志消息的级别。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-53CEF98E-212F-4862-A1A5-719E16F63972__GUID-C5D8210C-AD64-4AB5-A3C8-0038EDF7523B">值</p>
                     </div>
                     <!-- class="section" -->
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">off</code>为没有记录。这是默认值。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">user</code>导致用户导致的错误日志信息。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">admin</code>用于管理日志信息，例如特定于安装。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">support</code> Oracle支持服务信息。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF2139"></a><a id="NETRF2265"></a><a id="NETRF2140"></a><a id="NETRF2141"></a><a id="NETRF2138"></a><div class="sect3"><a id="GUID-1617D259-3EE3-4F5E-BC35-C76A6ED564BA" name="GUID-1617D259-3EE3-4F5E-BC35-C76A6ED564BA"></a><h4 id="NETRF-GUID-1617D259-3EE3-4F5E-BC35-C76A6ED564BA" class="sect4"><span class="enumeration_section">8.2.15</span> MAX_ALL_CONNECTIONS</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-1617D259-3EE3-4F5E-BC35-C76A6ED564BA__GUID-EF7A6614-8FB4-4ED5-B820-4F128EA79E44">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定Oracle Connection Manager可支持的最大并发注册和客户端连接会话数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1617D259-3EE3-4F5E-BC35-C76A6ED564BA__GUID-E00C7180-4163-4637-BCE2-9402AEC6BDE5">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>此数字包括来自数据库的注册连接以及正在进行的客户端连接建立请建立连接后，客户端不会保持与侦听器的连接。此限制仅适用于从侦听器角度处于初始连接建立阶段的客户端连接。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1617D259-3EE3-4F5E-BC35-C76A6ED564BA__GUID-98B76510-8DEB-4EAE-A9F2-1216EF67BF41">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p>特定于操作系统</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1617D259-3EE3-4F5E-BC35-C76A6ED564BA__GUID-D20C4B2F-76D1-4C41-81E0-F9B5A82CC059">例</p>
                     </div>
                     <!-- class="section" --><pre class="oac_no_warn" dir="ltr">MAX_ALL_CONNECTIONS = 40</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1942"></a><a id="NETRF2266"></a><a id="NETRF1943"></a><a id="NETRF347"></a><div class="sect3"><a id="GUID-62CAF5B8-4B59-4081-991D-39D1D5135D11" name="GUID-62CAF5B8-4B59-4081-991D-39D1D5135D11"></a><h4 id="NETRF-GUID-62CAF5B8-4B59-4081-991D-39D1D5135D11" class="sect4"><span class="enumeration_section">8.2.16</span> MAX_CMCTL_SESSIONS</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-62CAF5B8-4B59-4081-991D-39D1D5135D11__GUID-D0E39F3C-8E75-4F67-A3A2-6D21D89D174B">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定给定实例允许的Oracle Connection Manager控制实用程序的最大并发本地或远程会话数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-62CAF5B8-4B59-4081-991D-39D1D5135D11__GUID-87C14237-7CB7-467C-B941-A25C12EED387">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>其中一个会话必须是本地会话。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-62CAF5B8-4B59-4081-991D-39D1D5135D11__GUID-8A88A6F5-79FA-4BE6-8089-E12D13A35C8F">值</p>
                     </div>
                     <!-- class="section" -->
                     <p>可以指定任意数量的会话。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1944"></a><a id="NETRF1945"></a><a id="NETRF348"></a><div class="sect3"><a id="GUID-9F609A45-99DF-4D39-8867-B417423635FA" name="GUID-9F609A45-99DF-4D39-8867-B417423635FA"></a><h4 id="NETRF-GUID-9F609A45-99DF-4D39-8867-B417423635FA" class="sect4"><span class="enumeration_section">8.2.17</span> MAX_CONNECTIONS</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-9F609A45-99DF-4D39-8867-B417423635FA__GUID-E2AAB2A3-3079-4F07-A5DE-9B5E2E5F0FB7">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定网关进程可以处理的最大连接槽数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9F609A45-99DF-4D39-8867-B417423635FA__GUID-A2833AD8-8248-4C88-AAF4-9D8B17505D4E">值</p>
                     </div>
                     <!-- class="section" -->
                     <p>任何数字，范围为1到1024。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1946"></a><a id="NETRF1947"></a><a id="NETRF349"></a><div class="sect3"><a id="GUID-F31ABCEB-BB56-446D-98F7-7A30CC37955D" name="GUID-F31ABCEB-BB56-446D-98F7-7A30CC37955D"></a><h4 id="NETRF-GUID-F31ABCEB-BB56-446D-98F7-7A30CC37955D" class="sect4"><span class="enumeration_section">8.2.18</span> MAX_GATEWAY_PROCESSES</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-F31ABCEB-BB56-446D-98F7-7A30CC37955D__GUID-7154C170-D243-43E4-BDF2-C782CC5EC58D">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定Oracle Connection Manager实例支持的最大网关进程数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F31ABCEB-BB56-446D-98F7-7A30CC37955D__GUID-9A9F317E-2CCE-4D91-8287-5D19D30F41EA">值</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定的数字必须大于最小网关进程数。最大值为64。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF2143"></a><a id="NETRF2144"></a><a id="NETRF2145"></a><a id="NETRF2142"></a><div class="sect3"><a id="GUID-9C58A972-7548-4AA0-BAAF-6F39A072457A" name="GUID-9C58A972-7548-4AA0-BAAF-6F39A072457A"></a><h4 id="NETRF-GUID-9C58A972-7548-4AA0-BAAF-6F39A072457A" class="sect4"><span class="enumeration_section">8.2.19</span> MAX_REG_CONNECTIONS</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-9C58A972-7548-4AA0-BAAF-6F39A072457A__GUID-287FD089-5F7F-4A59-8D6C-4C59A796ACA7">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定Oracle Connection Manager可支持的最大并发注册连接会话数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9C58A972-7548-4AA0-BAAF-6F39A072457A__GUID-BF83E596-4954-4920-BC87-BE16E0546897">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p>512</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9C58A972-7548-4AA0-BAAF-6F39A072457A__GUID-CA2D258A-16E2-4991-92A6-7672E0199C1B">例</p>
                     </div>
                     <!-- class="section" --><pre class="oac_no_warn" dir="ltr">MAX_REG_CONNECTIONS = 20</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1948"></a><a id="NETRF1949"></a><a id="NETRF350"></a><div class="sect3"><a id="GUID-9C68551B-927E-4DD9-9201-37C5A44772EF" name="GUID-9C68551B-927E-4DD9-9201-37C5A44772EF"></a><h4 id="NETRF-GUID-9C68551B-927E-4DD9-9201-37C5A44772EF" class="sect4"><span class="enumeration_section">8.2.20</span> MIN_GATEWAY_PROCESSES</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-9C68551B-927E-4DD9-9201-37C5A44772EF__GUID-028904CD-0564-410C-B346-6286104EAB67">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定Oracle Connection Manager实例支持的最小网关进程数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9C68551B-927E-4DD9-9201-37C5A44772EF__GUID-F1494587-960F-4232-924F-91FDCA13E6CE">值</p>
                     </div>
                     <!-- class="section" -->
                     <p>任意数量的会话最多可指定64个。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1950"></a><a id="NETRF1951"></a><a id="NETRF351"></a><div class="sect3"><a id="GUID-AEFEDC67-02AE-4AFE-9A59-ADD7B34704DB" name="GUID-AEFEDC67-02AE-4AFE-9A59-ADD7B34704DB"></a><h4 id="NETRF-GUID-AEFEDC67-02AE-4AFE-9A59-ADD7B34704DB" class="sect4"><span class="enumeration_section">8.2.21</span> OUTBOUND_CONNECT_TIMEOUT</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-AEFEDC67-02AE-4AFE-9A59-ADD7B34704DB__GUID-D4E1BA31-D360-4BC2-A241-20B67625A5D6">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定Oracle Connection Manager实例等待与数据库服务器或其他Oracle Connection Manager实例建立有效连接的时间长度（以秒为单位）。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-AEFEDC67-02AE-4AFE-9A59-ADD7B34704DB__GUID-25DE51A1-E6AC-4D5F-B324-FC70C029ECE2">值</p>
                     </div>
                     <!-- class="section" -->
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">60</code>来禁用超时。这是默认值。
                           </p>
                        </li>
                        <li>
                           <p>任何大于0的数字都可以启用超时。该数字等于超时时间（以秒为单位）。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1952"></a><a id="NETRF352"></a><div class="sect3"><a id="GUID-977A0B65-8369-47A5-A198-59140225A07F" name="GUID-977A0B65-8369-47A5-A198-59140225A07F"></a><h4 id="NETRF-GUID-977A0B65-8369-47A5-A198-59140225A07F" class="sect4"><span class="enumeration_section">8.2.22</span> PASSWORD_ <span class="italic">instance_name</span></h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-977A0B65-8369-47A5-A198-59140225A07F__GUID-8F878BF3-63DF-4BB5-A647-3EF3BE03878A">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>要指定加密的实例密码（如果已设置）。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF2147"></a><a id="NETRF2149"></a><a id="NETRF2148"></a><a id="NETRF2150"></a><a id="NETRF2146"></a><div class="sect3"><a id="GUID-5284BAA4-6D93-48F8-9016-99A96D80A170" name="GUID-5284BAA4-6D93-48F8-9016-99A96D80A170"></a><h4 id="NETRF-GUID-5284BAA4-6D93-48F8-9016-99A96D80A170" class="sect4"><span class="enumeration_section">8.2.23</span> REGISTRATION_EXCLUDED_NODES</h4>
                  <div>
                     <p>Oracle Connection Manager参数文件（ <code class="codeph">cman.ora</code> ）REGISTRATION_EXCLUDED_NODES指定无法向侦听器注册的节点列表。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5284BAA4-6D93-48F8-9016-99A96D80A170__GUID-8D525924-0184-43A4-8D30-7537EDFDDC0A">目的</p>
                        <p>指定无法向侦听器注册的节点列表。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5284BAA4-6D93-48F8-9016-99A96D80A170__GUID-F29ABD82-0B7F-44E1-8BCD-23F5F2FEB4AF">使用说明</p>
                        <p>该列表可以包括IPv4和IPv6地址的主机名或CIDR表示法。IPv4地址支持通配符格式（ <code class="codeph">*</code> ）。列表中存在主机名会导致包含映射到主机名的所有IP地址。主机名应与公共网络接口一致。
                        </p>
                        <p>如果设置了<code class="codeph">REGISTRATION_INVITED_NODES</code>参数和<code class="codeph">REGISTRATION_EXCLUDED_NODES</code>参数，则忽略<code class="codeph">REGISTRATION_EXCLUDED_NODES</code>参数。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5284BAA4-6D93-48F8-9016-99A96D80A170__GUID-8B963854-94B6-4A73-9E4E-86316FE3A850">值</p>
                        <p>有效节点和子网IP地址或名称。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5284BAA4-6D93-48F8-9016-99A96D80A170__GUID-67B93F71-D527-4FD6-9EA7-B7987903BAE2">例</p>
                     </div>
                     <!-- class="section" --><pre class="pre codeblock"><code>REGISTRATION_EXCLUDED_NODES = 10.1.26。*，10.16.40.0 / 24，\ 2001：DB8：3eff：fe38，node2</code></pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF2152"></a><a id="NETRF2154"></a><a id="NETRF2153"></a><a id="NETRF2155"></a><a id="NETRF2151"></a><div class="sect3"><a id="GUID-4DCAD84A-DD5F-4C15-9758-1C00DFAD1D0B" name="GUID-4DCAD84A-DD5F-4C15-9758-1C00DFAD1D0B"></a><h4 id="NETRF-GUID-4DCAD84A-DD5F-4C15-9758-1C00DFAD1D0B" class="sect4"><span class="enumeration_section">8.2.24</span> REGISTRATION_INVITED_NODES</h4>
                  <div>
                     <p>Oracle Connection Manager参数文件（ <code class="codeph">cman.ora</code> ） <code class="codeph">REGISTRATION_EXCLUDED_NODES</code>参数指定可以向侦听器注册的节点列表。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4DCAD84A-DD5F-4C15-9758-1C00DFAD1D0B__GUID-6BE39EB5-A5CB-4DB7-BBA2-FAA4D7D2BE70">目的</p>
                        <p>指定可以向侦听器注册的节点列表。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4DCAD84A-DD5F-4C15-9758-1C00DFAD1D0B__GUID-4DB89326-197A-45E9-BCA8-F32963583009">使用说明</p>
                        <p>该列表可以包括IPv4和IPv6地址的主机名或CIDR表示法。IPv4地址支持通配符格式（ <code class="codeph">*</code> ）。列表中存在主机名会导致包含映射到主机名的所有IP地址。主机名应与公共网络接口一致。
                        </p>
                        <p>如果设置了<code class="codeph">REGISTRATION_INVITED_NODES</code>参数和<code class="codeph">REGISTRATION_EXCLUDED_NODES</code>参数，则忽略<code class="codeph">REGISTRATION_EXCLUDED_NODES</code>参数。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4DCAD84A-DD5F-4C15-9758-1C00DFAD1D0B__GUID-3CDB4F6E-ACE2-4BFD-A700-A1DE70B69D0E">值</p>
                        <p>有效节点和子网IP地址或名称。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4DCAD84A-DD5F-4C15-9758-1C00DFAD1D0B__GUID-D1057900-E4DF-4E7E-A46D-CB893DAAA50C">例</p><pre class="pre codeblock"><code>REGISTRATION_INVITED_NODES = 10.1.35。*，10.1.34.0 / 24，\ 2001：DB8：fe38：7303，node1</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1953"></a><a id="NETRF2267"></a><a id="NETRF1954"></a><a id="NETRF1598"></a><a id="NETRF1599"></a><a id="NETRF1601"></a><a id="NETRF337"></a><div class="sect3"><a id="GUID-6257F6E0-8857-4997-994B-546A3647A830" name="GUID-6257F6E0-8857-4997-994B-546A3647A830"></a><h4 id="NETRF-GUID-6257F6E0-8857-4997-994B-546A3647A830" class="sect4"><span class="enumeration_section">8.2.25</span>规则</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-6257F6E0-8857-4997-994B-546A3647A830__GUID-EA520363-3D7F-4BD8-8578-8EC295438FC3">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定访问控制规则列表以筛选传入连接。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6257F6E0-8857-4997-994B-546A3647A830__GUID-0120A0B6-9AF9-4695-9A17-BC17478E0B61">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>规则列表指定接受，拒绝或删除哪些连接。</p>
                     <p>如果未指定规则，则拒绝所有连接。</p>
                     <p>源和目标可以是主机名，IP地址或子网掩码。</p>
                     <p>必须至少有一个客户端连接规则和一个CMCTL连接规则。省略一个或另一个导致拒绝所有规则类型的连接。以下示例中的最后一条规则是CMCTL规则。</p>
                     <p>Oracle Connection Manager不支持部分IP地址的通配符。如果使用通配符，则使用它代替完整的IP地址。例如，客户端的IP地址可以是（SRC = *）。</p>
                     <p>Oracle Connection Manager仅支持子网地址的<code class="codeph">/nn</code>表示法。在示例“ <span class="bold">Sample cman.ora File</span> ”中的第一个规则中，/ 27表示包含27个最左位的子网掩码。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6257F6E0-8857-4997-994B-546A3647A830__GUID-6DAEECD9-C65F-476F-81A7-BAC3B8C5A282">值</p>
                     </div>
                     <!-- class="section" -->
                     <p>此参数列在<code class="codeph">cman.ora</code>文件的规则列表部分中，前面是<code class="codeph">RULE_LIST=</code> 。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6257F6E0-8857-4997-994B-546A3647A830__GUID-24A972F0-9876-4BF9-AA6F-5984120112C7">句法</p>
                     </div>
                     <!-- class="section" --><pre class="oac_no_warn" dir="ltr">（RULE_LIST =（RULE =（SRC = <span class="italic">host</span> ）（DST = <span class="italic">host</span> ）（SRV = <span class="italic">service_name</span> ）（ACT = {accept | reject | drop}）（ACTION_LIST = AUT = {on | off}（（CONN_STATS = {yes | no }）（MCT = <span class="italic">时间</span> ）（MIT = <span class="italic">时间</span> ）（MOCT = <span class="italic">时间</span> ）））（RULE = ...））</pre><div class="section">
                        <p class="subhead3" id="GUID-6257F6E0-8857-4997-994B-546A3647A830__GUID-79417ABD-CBBD-4E35-B6B7-4245C86A0B6A">附加参数</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">RULE</code>参数使用以下参数过滤连接或连接组：</p>
                     <p><a id="d35164e3672" class="indexterm-anchor"></a><a id="d35164e3674" class="indexterm-anchor"></a> <code class="codeph">SRC</code> ：客户端的源主机名或IP地址。
                     </p>
                     <p><a id="d35164e3684" class="indexterm-anchor"></a><a id="d35164e3686" class="indexterm-anchor"></a> <code class="codeph">DST</code> ：数据库服务器的目标服务器主机名或IP地址。
                     </p>
                     <p><a id="d35164e3696" class="indexterm-anchor"></a><a id="d35164e3698" class="indexterm-anchor"></a> <code class="codeph">SRV</code> ：从初始化参数文件中的<code class="codeph">SERVICE_NAME</code>参数获取的Oracle数据库的数据库服务名称。
                     </p>
                     <p><a id="d35164e3711" class="indexterm-anchor"></a><a id="d35164e3713" class="indexterm-anchor"></a> <code class="codeph">ACT</code> ：连接请求的操作。使用<code class="codeph">accept</code>接受传入请求， <code class="codeph">reject</code>拒绝传入请求，或者<code class="codeph">drop</code>以拒绝传入请求而不发送错误消息。
                     </p>
                     <p><a id="d35164e3732" class="indexterm-anchor"></a><a id="d35164e3734" class="indexterm-anchor"></a> <code class="codeph">ACTION_LIST</code> ：某些参数的规则级参数设置。这些参数如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">AUT</code> ：客户端的Oracle数据库安全认证。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CONN_STATS</code> ：记录输入和输出统计信息。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">MCT</code> ：最长连接时间。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">MIT</code> ：最大空闲超时。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">MOCT</code> ：最大出站连接时间。
                           </p>
                        </li>
                     </ul>
                     <p>规则级参数覆盖其全局对应项。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6257F6E0-8857-4997-994B-546A3647A830__GUID-87F4CADF-210B-463F-B4BD-1DB14875D85A">例</p>
                     </div>
                     <!-- class="section" --><pre class="oac_no_warn" dir="ltr">（RULE_LIST =（RULE =（SRC = client1-pc）（DST = sales-server）（SRV = sales.us.example.com）（ACT =拒绝））（RULE =（SRC = 192.0.2.45）（DST = 192.0.2.200）（SRV = db1）（ACT =接受））（RULE =（SRC = sale-rep）（DST = sales1-server）（SRV = cmon）（ACT =接受）））</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-831099D9-731A-4B74-8B34-B7870F405DE5" name="GUID-831099D9-731A-4B74-8B34-B7870F405DE5"></a><h4 id="NETRF-GUID-831099D9-731A-4B74-8B34-B7870F405DE5" class="sect4"><span class="enumeration_section">8.2.26</span> SDU</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-831099D9-731A-4B74-8B34-B7870F405DE5__GUID-0CF1661E-95EB-4322-9AB8-80DA6080F35E">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定会话数据单元（SDU）大小（以字节为单位）到连接</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-831099D9-731A-4B74-8B34-B7870F405DE5__GUID-CA3F2BD3-D851-425C-8C10-9BB3D8F1378B">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>Oracle Connection Manager可以在配置时与客户端和服务器协商大型SDU。当客户端，数据库服务器和Oracle Connection Manager的配置值与会话不匹配时，将使用所有三个值中的最小值。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-831099D9-731A-4B74-8B34-B7870F405DE5__GUID-DF8106FD-05D3-46D3-B512-AE3082953C95">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p>8192字节（8 KB）</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-831099D9-731A-4B74-8B34-B7870F405DE5__GUID-31C453F3-5A74-471C-BA98-3C470FBE0142">值</p>
                     </div>
                     <!-- class="section" -->
                     <p>512到2097152个字节</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-831099D9-731A-4B74-8B34-B7870F405DE5__GUID-6B1BD0A9-422C-40DB-9416-4023E4D0AEF5">例</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">SDU = 32768</code></p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-0E802402-7CDF-4FB9-B8B3-02EE78DF0C2F" name="GUID-0E802402-7CDF-4FB9-B8B3-02EE78DF0C2F"></a><h4 id="NETRF-GUID-0E802402-7CDF-4FB9-B8B3-02EE78DF0C2F" class="sect4"><span class="enumeration_section">8.2.27</span> SERVICE_RATE</h4>
                  <div>
                     <p>cman.ora文件的SERVICE_RATE参数指定实例的每个服务允许的传入连接速率。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0E802402-7CDF-4FB9-B8B3-02EE78DF0C2F__GUID-CF044881-87D6-4D85-9D0C-FD4C280FB2D2">目的</p>
                        <p>指定实例的每个服务允许的传入连接速率。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0E802402-7CDF-4FB9-B8B3-02EE78DF0C2F__GUID-AA4BACB7-7922-4DB1-9EB3-78D0E2A97AC5">使用说明</p>
                        <p>任何用户指定的值大于<code class="codeph">0</code>设置每秒由代理侦听器处理的每个服务实例的新连接数的最大限制。监听器在达到最大限制后拒绝连接。报告客户端连接失败，显示“TNS：listener：达到速率限制”。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0E802402-7CDF-4FB9-B8B3-02EE78DF0C2F__GUID-040947DF-BE16-4EF1-BEB7-85F032004459">值</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">0</code>表示禁用服务速率限制。这是默认值。
                              </p>
                           </li>
                           <li>
                              <p>任何大于0的数字都可以启用服务速率限制。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-0E802402-7CDF-4FB9-B8B3-02EE78DF0C2F__GUID-08DDFE83-18D2-4D25-BF3A-D9F40DDFC6A8">
                        <p class="titleinexample">例8-6例子</p>
                        <p><code class="codeph">SERVICE_RATE = 10</code></p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1955"></a><a id="NETRF2268"></a><a id="NETRF1956"></a><a id="NETRF354"></a><div class="sect3"><a id="GUID-3277FC7C-7DC9-4B4D-A714-C7588E9CFB24" name="GUID-3277FC7C-7DC9-4B4D-A714-C7588E9CFB24"></a><h4 id="NETRF-GUID-3277FC7C-7DC9-4B4D-A714-C7588E9CFB24" class="sect4"><span class="enumeration_section">8.2.28</span> SESSION_TIMEOUT</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-3277FC7C-7DC9-4B4D-A714-C7588E9CFB24__GUID-36971F2D-C944-4690-BC10-9C0FEBC44BB6">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定用户会话允许的最长时间（以秒为单位）。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3277FC7C-7DC9-4B4D-A714-C7588E9CFB24__GUID-0A747A1D-D2D5-4CB2-BE04-AF04614FB0FE">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">ACTION_LIST</code>的规则级别设置可以覆盖全局设置。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3277FC7C-7DC9-4B4D-A714-C7588E9CFB24__GUID-4126174F-0B9B-42BE-A0AA-3DE7263C05C6">值</p>
                     </div>
                     <!-- class="section" -->
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">0</code>表示禁用超时。这是默认值。
                           </p>
                        </li>
                        <li>
                           <p>任何大于0的数字都可以启用超时。该数字等于超时时间（以秒为单位）。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1958"></a><a id="NETRF1957"></a><div class="sect3"><a id="GUID-CEA51EF7-EFEB-466C-8A97-3EB4C164D31F" name="GUID-CEA51EF7-EFEB-466C-8A97-3EB4C164D31F"></a><h4 id="NETRF-GUID-CEA51EF7-EFEB-466C-8A97-3EB4C164D31F" class="sect4"><span class="enumeration_section">8.2.29</span> TRACE_FILE</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-CEA51EF7-EFEB-466C-8A97-3EB4C164D31F__GUID-A559362D-8985-484D-9C90-780D2EF0C55D">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定Oracle Connection Manager跟踪文件的目录。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1960"></a><a id="NETRF2269"></a><a id="NETRF1959"></a><div class="sect3"><a id="GUID-E8EE426B-6725-4C58-B96D-4682769CCE76" name="GUID-E8EE426B-6725-4C58-B96D-4682769CCE76"></a><h4 id="NETRF-GUID-E8EE426B-6725-4C58-B96D-4682769CCE76" class="sect4"><span class="enumeration_section">30年2月8日</span> TRACE_FILELEN</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-E8EE426B-6725-4C58-B96D-4682769CCE76__GUID-2D2C7223-2294-4FC1-BA57-77C308EE71C6">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>以KB为单位指定跟踪文件的大小。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E8EE426B-6725-4C58-B96D-4682769CCE76__GUID-95E9EAB9-852B-48B4-93FF-0D2D417EBB92">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>达到大小时，跟踪信息将写入下一个文件。使用<code class="codeph">TRACE_FILENO</code>参数指定文件数。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1962"></a><a id="NETRF2270"></a><a id="NETRF1961"></a><div class="sect3"><a id="GUID-F98792FA-CB85-4AD2-872D-05499710ECD3" name="GUID-F98792FA-CB85-4AD2-872D-05499710ECD3"></a><h4 id="NETRF-GUID-F98792FA-CB85-4AD2-872D-05499710ECD3" class="sect4"><span class="enumeration_section">8.2.31</span> TRACE_FILENO</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-F98792FA-CB85-4AD2-872D-05499710ECD3__GUID-5858E195-985F-434D-A17B-C5EC2485C2FA">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定跟踪文件的数量。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F98792FA-CB85-4AD2-872D-05499710ECD3__GUID-B7A91314-9180-462C-B2C5-7385F318AAA2">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>当此参数与<code class="codeph">TRACE_FILELEN</code>参数一起设置时，跟踪文件以循环方式使用。首先填充第一个文件，然后填充第二个文件，依此类推。填写完最后一个文件后，将重复使用第一个文件，依此类推。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1964"></a><a id="NETRF1965"></a><a id="NETRF1963"></a><div class="sect3"><a id="GUID-7867B60D-23CD-40E8-88A3-70BC0DE535B8" name="GUID-7867B60D-23CD-40E8-88A3-70BC0DE535B8"></a><h4 id="NETRF-GUID-7867B60D-23CD-40E8-88A3-70BC0DE535B8" class="sect4"><span class="enumeration_section">8.2.32</span> TRACE_LEVEL</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-7867B60D-23CD-40E8-88A3-70BC0DE535B8__GUID-83870F5C-B7E5-46D4-BC2D-9F903149A614">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定跟踪消息的级别。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7867B60D-23CD-40E8-88A3-70BC0DE535B8__GUID-EE41D314-0E4B-49F9-87AA-9BBFCAD203A9">值</p>
                     </div>
                     <!-- class="section" -->
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">off</code>为不跟踪。这是默认值。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">user</code>因用户导致的错误跟踪信息。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">admin</code>用于管理跟踪信息，例如特定于安装。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">support</code> Oracle支持服务信息。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1967"></a><a id="NETRF2271"></a><a id="NETRF1968"></a><a id="NETRF1966"></a><div class="sect3"><a id="GUID-86390F92-19B4-4AAD-95DB-9479444E8F80" name="GUID-86390F92-19B4-4AAD-95DB-9479444E8F80"></a><h4 id="NETRF-GUID-86390F92-19B4-4AAD-95DB-9479444E8F80" class="sect4"><span class="enumeration_section">8.2.33</span> TRACE_TIMESTAMP</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-86390F92-19B4-4AAD-95DB-9479444E8F80__GUID-2AA44708-3B1F-4F4C-B5DE-39780307AD4B">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定跟踪日志的时间戳的使用。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-86390F92-19B4-4AAD-95DB-9479444E8F80__GUID-8BB5B6E7-EAC2-4C3F-8269-F3D8A9858701">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>如果启用了<code class="codeph">TRACING</code>参数，则会为跟踪文件中的每个跟踪事件生成<code class="codeph">dd-mmm-yyyy hh:mi:ss:mil</code>形式的时间戳。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-86390F92-19B4-4AAD-95DB-9479444E8F80__GUID-A0D3FF7D-DD11-4EBE-A37F-EB4C0BE768F3">值</p>
                     </div>
                     <!-- class="section" -->
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">off</code>没有时间戳包含在文件中。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">on</code>将时间戳包含在文件中。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-20FB7846-85A9-4634-9881-F314049CB350" name="GUID-20FB7846-85A9-4634-9881-F314049CB350"></a><h4 id="NETRF-GUID-20FB7846-85A9-4634-9881-F314049CB350" class="sect4"><span class="enumeration_section">8.2.34</span> USE_SID_AS_SERVICE</h4>
                  <div>
                     <p><code class="codeph">USE_SID_AS_SERVICE</code> Oracle连接管理器参数使连接描述符中的系统标识符（SID）在用户尝试数据库连接时被解释为服务名称。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-20FB7846-85A9-4634-9881-F314049CB350__GUID-2FEEC53F-0F01-454A-9DE2-C4AD9D36706C">目的</p>
                        <p>在用户尝试数据库连接时，将连接描述符中的系统标识符（SID）解释为服务名称。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-20FB7846-85A9-4634-9881-F314049CB350__GUID-4A224E2A-87AB-4CD6-A137-06AFBC502B74">使用说明</p>
                        <p>具有早期版本的Oracle数据库且具有硬编码连接描述符的数据库客户端可以使用此参数连接到容器或可插拔数据库。</p>
                        <p>当数据库是Oracle Database 12 <span class="italic">c</span>容器数据库时，客户端必须指定服务名称才能连接到该数据库。将此参数设置为<code class="codeph">on</code>指示Oracle Connection Manager侦听器将连接描述符中的SID用作服务名称，并将客户端连接到指定的数据库。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-20FB7846-85A9-4634-9881-F314049CB350__GUID-F130F117-A2E8-4DB5-B844-6C9F68B7553B">值</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">关闭。</code> 这是默认值。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">上。</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-20FB7846-85A9-4634-9881-F314049CB350__GUID-2320FE95-F6CE-4404-9F95-3A1DA9F26B70">
                        <p class="titleinexample">例8-7例子</p>
                        <p><code class="codeph">USE_SID_AS_SERVICE=on</code> 。
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF2157"></a><a id="NETRF2272"></a><a id="NETRF2158"></a><a id="NETRF2159"></a><a id="NETRF2160"></a><a id="NETRF2156"></a><div class="sect3"><a id="GUID-2582BA12-8436-435E-9DFE-7C6B77CADF57" name="GUID-2582BA12-8436-435E-9DFE-7C6B77CADF57"></a><h4 id="NETRF-GUID-2582BA12-8436-435E-9DFE-7C6B77CADF57" class="sect4"><span class="enumeration_section">8.2.35</span> VALID_NODE_CHECKING_REGISTRATION</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-2582BA12-8436-435E-9DFE-7C6B77CADF57__GUID-8279C343-35D7-48EE-9ABB-4742E96116D9">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>确定是否执行了有效的节点检查注册，以及是否允许子网。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2582BA12-8436-435E-9DFE-7C6B77CADF57__GUID-FC220BC4-ACFC-4EFA-9F82-4557EA516758">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>设置为<code class="codeph">on</code> ，将在侦听器处对任何传入的注册请求执行有效的节点检查注册，并且仅允许本地IP地址。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2582BA12-8436-435E-9DFE-7C6B77CADF57__GUID-41C3166C-559B-480F-8265-C09FA447BF99">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">上</code></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2582BA12-8436-435E-9DFE-7C6B77CADF57__GUID-78CD12FC-0631-4832-9108-2071994E1E69">值</p>
                     </div>
                     <!-- class="section" -->
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">off | 0</code>指定有效节点检查注册已关闭，并且不执行检查。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">on | 1 | local</code>指定有效节点检查注册，并且所有本地IP地址都可以注册。如果设置了受邀节点列表，则允许列表中的所有IP地址，主机名或子网以及本地IP地址。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">subnet | 2</code>指定有效节点检查注册，并允许本地子网中的所有机器注册。如果设置了受邀节点列表，则允许本地子网中的所有节点以及列表中的所有IP地址，主机名和子网。
                           </p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-2582BA12-8436-435E-9DFE-7C6B77CADF57__GUID-6E1323E4-13FC-4853-B84E-AFAE5703EC14">例</p>
                     </div>
                     <!-- class="section" --><pre class="oac_no_warn" dir="ltr">VALID_NODE_CHECKING_REGISTRATION =开启</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-037F18E5-2AE3-41D9-932C-1A032A1F9D2F" name="GUID-037F18E5-2AE3-41D9-932C-1A032A1F9D2F"></a><h4 id="NETRF-GUID-037F18E5-2AE3-41D9-932C-1A032A1F9D2F" class="sect4"><span class="enumeration_section">8.2.36</span> WALLET_LOCATION</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-037F18E5-2AE3-41D9-932C-1A032A1F9D2F__GUID-09C59365-1EC7-4AE3-AF8F-C834C3F5E04F">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定钱包的位置。钱包是由SSL处理的证书，密钥和信任点。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-037F18E5-2AE3-41D9-932C-1A032A1F9D2F__GUID-27422764-BEFC-4857-9C04-F29A0DEFE58B">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>Microsoft证书存储（MCS）的键/值对省略了<code class="codeph">METHOD_DATA</code>参数，因为MCS不使用钱包。相反，Oracle PKI（公钥基础结构）应用程序直接从用户的配置文件中获取证书，信任点和私钥。
                     </p>
                     <p>如果Oracle钱包存储在Microsoft Windows注册表中且钱包的密钥（ <code class="codeph">KEY)</code>为<code class="codeph">SALESAPP</code> ，则加密钱包的存储位置为<code class="codeph">HKEY_CURRENT_USER\SOFTWARE\ORACLE\WALLETS\SALESAPP\EWALLET.P12</code> 。解密钱包的存储位置是<code class="codeph">HKEY_CURRENT_USER\SOFTWARE\ORACLE\WALLETS\SALESAPP\CWALLET.SSO.</code> 
                     </p>
                     <div class="infoboxnote" id="GUID-037F18E5-2AE3-41D9-932C-1A032A1F9D2F__GUID-FA434007-BCBD-4698-8650-12F9AA5B09D6">
                        <p class="notep1">注意：</p>必须在Oracle Connection Manager别名外指定此参数</div>
                     <div class="section">
                        <p class="subhead3" id="GUID-037F18E5-2AE3-41D9-932C-1A032A1F9D2F__GUID-17BC8395-FAC6-43F3-865E-1BC9A2776F76">句法</p>
                     </div>
                     <!-- class="section" -->
                     <p>语法取决于钱包，如下所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>文件系统上的Oracle钱包：</p><pre class="oac_no_warn" dir="ltr">WALLET_LOCATION =（SOURCE =（METHOD = <span class="italic">file</span> ）（METHOD_DATA =（DIRECTORY = <span class="italic">directory</span> ）[（PKCS11 = TRUE / FALSE）]））</pre></li>
                        <li>
                           <p>Microsoft证书存储区：</p><pre class="oac_no_warn" dir="ltr">WALLET_LOCATION =（SOURCE =（METHOD = mcs））</pre></li>
                        <li>
                           <p>Microsoft Windows注册表中的Oracle钱包：</p><pre class="oac_no_warn" dir="ltr">WALLET_LOCATION =（SOURCE =（METHOD = reg）（METHOD_DATA =（KEY = <span class="italic">registry_key</span> ）））</pre></li>
                        <li>
                           <p>委托钱包：</p><pre class="oac_no_warn" dir="ltr">WALLET_LOCATION =（SOURCE =（METHOD = entr）（METHOD_DATA =（PROFILE = <span class="italic">file</span> .epf）（INIFILE = <span class="italic">file</span> .ini）））</pre></li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-037F18E5-2AE3-41D9-932C-1A032A1F9D2F__GUID-16FC4BA8-ED9B-4CC7-8F4F-237809803B1F">附加参数</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">WALLET_LOCATION</code>支持以下参数：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">SOURCE</code> ：钱包的存储类型和存储位置。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">METHOD</code> ：存储类型。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">METHOD_DATA</code> ：存储位置。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DIRECTORY</code> ：Oracle钱包在文件系统上的位置。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">KEY</code> ：Microsoft Windows注册表中的钱包类型和位置。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">PROFILE</code> ：Entrust配置文件（ <code class="codeph">.epf</code> ）。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">INIFILE</code> ：Entrust初始化文件（ <code class="codeph">.ini</code> ）。
                           </p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-037F18E5-2AE3-41D9-932C-1A032A1F9D2F__GUID-FDB8A8FE-2CD4-45A4-ABD4-471C25E3BBB9">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p>没有</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-037F18E5-2AE3-41D9-932C-1A032A1F9D2F__GUID-FB56DDCB-9CB3-49B4-9098-D22E34CD4962">值</p>
                     </div>
                     <!-- class="section" --><pre class="oac_no_warn" dir="ltr">是的|假</pre><div class="section">
                        <p class="subhead3" id="GUID-037F18E5-2AE3-41D9-932C-1A032A1F9D2F__GUID-71D4388A-710B-4A96-B4FB-E52B331A7D4D">例子</p>
                     </div>
                     <!-- class="section" -->
                     <p>Oracle文件系统钱包：</p><pre class="oac_no_warn" dir="ltr">WALLET_LOCATION =（SOURCE =（METHOD = file）（METHOD_DATA =（DIRECTORY = / etc / oracle / wallets / databases）））</pre><p>Microsoft证书存储区：</p><pre class="oac_no_warn" dir="ltr">WALLET_LOCATION =（SOURCE =（METHOD = mcs））</pre><p>Microsoft Windows注册表中的Oracle Wallets：</p><pre class="oac_no_warn" dir="ltr">WALLET_LOCATION =（SOURCE =（METHOD = REG）（METHOD_DATA =（KEY = SALESAPP）））</pre><p>委托钱包：</p><pre class="oac_no_warn" dir="ltr">WALLET_LOCATION =（SOURCE =（METHOD = entr）（METHOD_DATA =（PROFILE = / etc / oracle / wallets / test.epf）（INIFILE = / etc / oracle / wallets / test.ini）））</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-B9A10876-DF34-4994-9843-FC9D983317A9" title="本节列出并描述了以下cman.ora文件参数：">Oracle连接管理器参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-E52E7D07-FD9C-4B21-9EEA-65D7B0AB453F" name="GUID-E52E7D07-FD9C-4B21-9EEA-65D7B0AB453F"></a><h3 id="NETRF-GUID-E52E7D07-FD9C-4B21-9EEA-65D7B0AB453F" class="sect3"><span class="enumeration_section">8.3</span>流量控制器模式参数中的Oracle连接管理器</h3>
               <div>
                  <p>本节列出并描述了以下<code class="codeph">cman.ora</code>文件参数：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-75CC4985-5721-43B7-B162-546EF6EEA0C5">TDM</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-770591B9-49C7-4E44-8BEA-E314330D12F1">TDM_BIND_THREAD</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-0FFD1883-1F4F-4E7C-98D6-47FDA469A4F9">TDM_DATATYPE_CHECK</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-4EC06E4A-ABEC-49D9-A0B0-153D0AD6E8D2">TDM_PRCP_MAX_CALL_WAIT_TIME</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-E566729A-DAAA-41FB-9490-9A6215B2BC69">TDM_PRCP_MAX_TXN_CALL_WAIT_TIME</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-F6758F4D-4CBE-4513-9920-8E3E6A5BD402">TDM_SHARED_THREADS_MAX</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-BDB5FDC4-9063-46C5-912E-DA183BBB0574">TDM_SHARED_THREADS_MIN</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-DDB3E2F7-DC83-42A8-A8A8-A86E531C32F0">TDM_THREADING_MODE</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-3AD0A8E4-43CB-45E7-A99A-D4702C5273BC" title="本章提供了cman.ora文件配置参数的完整列表。">Oracle连接管理器参数</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-75CC4985-5721-43B7-B162-546EF6EEA0C5" name="GUID-75CC4985-5721-43B7-B162-546EF6EEA0C5"></a><h4 id="NETRF-GUID-75CC4985-5721-43B7-B162-546EF6EEA0C5" class="sect4"><span class="enumeration_section">8.3.1</span> TDM</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-75CC4985-5721-43B7-B162-546EF6EEA0C5__GUID-66FC4E86-319F-4F02-8BA9-905FE09AB25C">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>配置Oracle Connection Manager以在Traffic Director模式下充当Oracle Connection Manager。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-75CC4985-5721-43B7-B162-546EF6EEA0C5__GUID-9ABD0918-A58A-45F3-A493-C0C009D216D7">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">假</code></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-75CC4985-5721-43B7-B162-546EF6EEA0C5__GUID-EA4853C8-F206-41D8-B113-07887F48178F">值</p>
                     </div>
                     <!-- class="section" -->
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">真正</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">假</code></p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-75CC4985-5721-43B7-B162-546EF6EEA0C5__GUID-4303DDBD-318C-4D85-A1D9-1A0F0D6C27FB">例</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">tdm = TRUE</code></p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-E52E7D07-FD9C-4B21-9EEA-65D7B0AB453F">Traffic Director模式参数中的Oracle Connection Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-770591B9-49C7-4E44-8BEA-E314330D12F1" name="GUID-770591B9-49C7-4E44-8BEA-E314330D12F1"></a><h4 id="NETRF-GUID-770591B9-49C7-4E44-8BEA-E314330D12F1" class="sect4"><span class="enumeration_section">8.3.2</span> TDM_BIND_THREAD</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-770591B9-49C7-4E44-8BEA-E314330D12F1__GUID-AFAB3FF3-7619-4700-87D9-3AADCA98A4D6">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>使应用程序连接保持在TDM线程上，并且具有和不具有PRCP的不同含义。此参数仅在<code class="codeph">TDM_THREADING_MODE</code>设置为<code class="codeph">SHARED</code>时适用。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-770591B9-49C7-4E44-8BEA-E314330D12F1__GUID-587150A7-779C-4C51-B3CB-CFE55DDE41CB">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>如果没有PRCP，只要存在正在进行的事务，将此参数设置为<code class="codeph">yes</code>会使应用程序连接保留在TDM工作线程上。
                     </p>
                     <p>使用PRCP，将此参数设置为<code class="codeph">yes</code>会使应用程序连接从应用程序完成<code class="codeph">OCISessionGet</code>的时间<code class="codeph">OCISessionGet</code>保持到TDM线程，直到它执行<code class="codeph">OCISessionRelease</code> 。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-770591B9-49C7-4E44-8BEA-E314330D12F1__GUID-0B5FCA32-C041-491C-9332-FAF90D13AD2B">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">没有</code></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-770591B9-49C7-4E44-8BEA-E314330D12F1__GUID-9BD9AD88-5733-413B-B45E-A975BF787D61">值</p>
                     </div>
                     <!-- class="section" -->
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">是</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">没有</code></p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-770591B9-49C7-4E44-8BEA-E314330D12F1__GUID-85A93103-4270-4358-A4CC-750D54E0DBD7">例</p>
                        <p><code class="codeph">TDM_BIND_THREAD =是</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-E52E7D07-FD9C-4B21-9EEA-65D7B0AB453F">Traffic Director模式参数中的Oracle Connection Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-0FFD1883-1F4F-4E7C-98D6-47FDA469A4F9" name="GUID-0FFD1883-1F4F-4E7C-98D6-47FDA469A4F9"></a><h4 id="NETRF-GUID-0FFD1883-1F4F-4E7C-98D6-47FDA469A4F9" class="sect4"><span class="enumeration_section">8.3.3</span> TDM_DATATYPE_CHECK</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-0FFD1883-1F4F-4E7C-98D6-47FDA469A4F9__GUID-A1AC7FCD-28DE-4C37-B9CC-8A0EB3204EB2">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>要验证数据类型的所有入站数据，数据类型为<code class="codeph">NUMBER, DATE, TIMESTAMP, TIMESTAMP WITH LOCAL TIMEZONE, TIMESTAMP WITH TIMEZONE, BLOB, CLOB, BFILE, UROWID</code>和<code class="codeph">REF</code> 。如果在Traffic Director模式下发送到Oracle Connection Manager的数据有任何问题，则应用程序会收到以下错误。
                     </p>
                     <p><code class="codeph">ORA-03137：来自客户的格式错误的TTC数据包被拒绝：[3101]</code></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0FFD1883-1F4F-4E7C-98D6-47FDA469A4F9__GUID-2FC668B2-E2BA-4551-96DF-BF5997E625A0">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>打开<code class="codeph">ON/OFF</code>此参数可启用或禁用数据验证。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0FFD1883-1F4F-4E7C-98D6-47FDA469A4F9__GUID-F61B147C-8397-48CA-BD88-C1CCEA5BF5E0">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">关闭</code></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0FFD1883-1F4F-4E7C-98D6-47FDA469A4F9__GUID-29EACCF1-C6F9-42E8-B80F-5939CB6CA5C6">值</p>
                     </div>
                     <!-- class="section" -->
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">上</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">关闭</code></p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-0FFD1883-1F4F-4E7C-98D6-47FDA469A4F9__GUID-CE4E6674-3274-4046-8ECE-F4681DA3E780">例</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">tdm_datatype_check = {ON | OFF}</code></p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-E52E7D07-FD9C-4B21-9EEA-65D7B0AB453F">Traffic Director模式参数中的Oracle Connection Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-4EC06E4A-ABEC-49D9-A0B0-153D0AD6E8D2" name="GUID-4EC06E4A-ABEC-49D9-A0B0-153D0AD6E8D2"></a><h4 id="NETRF-GUID-4EC06E4A-ABEC-49D9-A0B0-153D0AD6E8D2" class="sect4"><span class="enumeration_section">8.3.4</span> TDM_PRCP_MAX_CALL_WAIT_TIME</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-4EC06E4A-ABEC-49D9-A0B0-153D0AD6E8D2__GUID-26A90B20-69F9-4339-8B21-6BE5D813243C">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>记录从PRCP池获取会话后客户端的最长不活动时间（以秒为单位）。当流量控制器模式中的Oracle连接管理器配置为具有代理驻留连接池时，此参数适用。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4EC06E4A-ABEC-49D9-A0B0-153D0AD6E8D2__GUID-AB55D5BF-FE01-4525-8B82-7D9B211AB362">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>从PRCP池获取会话后，如果客户端应用程序未在<code class="codeph">TDM_PRCP_MAX_CALL_WAIT_TIME</code>参数指定的时间内发出数据库调用，则释放<code class="codeph">TDM_PRCP_MAX_CALL_WAIT_TIME</code>会话并终止客户端连接。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4EC06E4A-ABEC-49D9-A0B0-153D0AD6E8D2__GUID-510D0BE8-2EA5-4D6B-91FE-04FA97026BB1">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p>30秒</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4EC06E4A-ABEC-49D9-A0B0-153D0AD6E8D2__GUID-ADDCDDFE-1246-41D6-BE8D-203FFD2FE906">值</p>
                     </div>
                     <!-- class="section" -->
                     <p>任何非负值。但是，Oracle建议不要使用值<code class="codeph">0</code>因为这意味着连接可以无限期地获取PRCP会话</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-E52E7D07-FD9C-4B21-9EEA-65D7B0AB453F">Traffic Director模式参数中的Oracle Connection Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-E566729A-DAAA-41FB-9490-9A6215B2BC69" name="GUID-E566729A-DAAA-41FB-9490-9A6215B2BC69"></a><h4 id="NETRF-GUID-E566729A-DAAA-41FB-9490-9A6215B2BC69" class="sect4"><span class="enumeration_section">8.3.5</span> TDM_PRCP_MAX_TXN_CALL_WAIT_TIME</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-E566729A-DAAA-41FB-9490-9A6215B2BC69__GUID-C5E650CE-8C43-4886-A33F-B4FA0BD051E8">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>记录客户端从代理驻留连接池获取会话并启动事务后的最长不活动时间（以秒为单位）。当流量控制器模式中的Oracle连接管理器配置为具有PRCP时，此参数适用。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E566729A-DAAA-41FB-9490-9A6215B2BC69__GUID-89B93295-C916-4DE4-BCF0-2ED86B3F3311">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p> </p>
                     <p>如果客户端应用程序在事务中未在<code class="codeph">TDM_PRCP_MAX_TXN_CALL_WAIT_TIME</code>参数指定的时间内发出数据库调用，则释放<code class="codeph">TDM_PRCP_MAX_TXN_CALL_WAIT_TIME</code>会话，回滚事务，并终止客户端连接。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E566729A-DAAA-41FB-9490-9A6215B2BC69__GUID-EFB83693-C7E9-4E31-B14F-8F76212BA9CF">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">0</code></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E566729A-DAAA-41FB-9490-9A6215B2BC69__GUID-F0426C82-373E-4905-A959-81E9C08297EE">值</p>
                     </div>
                     <!-- class="section" -->
                     <p>任何非负价值。但是，建议不要使用值<code class="codeph">0</code>因为它意味着连接可以无限期地获取PRCP会话。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-E52E7D07-FD9C-4B21-9EEA-65D7B0AB453F">Traffic Director模式参数中的Oracle Connection Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-F6758F4D-4CBE-4513-9920-8E3E6A5BD402" name="GUID-F6758F4D-4CBE-4513-9920-8E3E6A5BD402"></a><h4 id="NETRF-GUID-F6758F4D-4CBE-4513-9920-8E3E6A5BD402" class="sect4"><span class="enumeration_section">8.3.6</span> TDM_SHARED_THREADS_MAX</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-F6758F4D-4CBE-4513-9920-8E3E6A5BD402__GUID-8CC03BD0-C078-4127-89CE-E79A4FA352FF">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>当<code class="codeph">tdm_threading_mode</code>设置为<code class="codeph">SHARED</code>时，配置Oracle Connection Manager在Traffic Director模式下应处理的最大线程数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F6758F4D-4CBE-4513-9920-8E3E6A5BD402__GUID-E819673E-DC77-4997-B59B-D7BA69B98351">值</p>
                     </div>
                     <!-- class="section" -->
                     <p>可以为最大线程数指定任何数字。对于<code class="codeph">DEDICATED</code>模式，最大线程数与最大连接数相同。在<code class="codeph">SHARED</code>模式下，虽然没有固定的上限，但理想情况下应该与负载成比例。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-E52E7D07-FD9C-4B21-9EEA-65D7B0AB453F">Traffic Director模式参数中的Oracle Connection Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-BDB5FDC4-9063-46C5-912E-DA183BBB0574" name="GUID-BDB5FDC4-9063-46C5-912E-DA183BBB0574"></a><h4 id="NETRF-GUID-BDB5FDC4-9063-46C5-912E-DA183BBB0574" class="sect4"><span class="enumeration_section">8.3.7</span> TDM_SHARED_THREADS_MIN</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-BDB5FDC4-9063-46C5-912E-DA183BBB0574__GUID-7B0A6664-4C97-421A-8C05-F0C409953E79">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>当<code class="codeph">tdm_threading_mode</code>设置为<code class="codeph">SHARED</code>时，配置Oracle Connection Manager在Traffic Director模式下处理的最小线程数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BDB5FDC4-9063-46C5-912E-DA183BBB0574__GUID-D3C16857-1A07-4DD6-B7EA-5AB478B66670">值</p>
                     </div>
                     <!-- class="section" -->
                     <p>可以为最小线程数指定任何数字。对于<code class="codeph">SHARED</code>模式，没有强制限制。但是，线程数应与负载成比例。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-E52E7D07-FD9C-4B21-9EEA-65D7B0AB453F">Traffic Director模式参数中的Oracle Connection Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-DDB3E2F7-DC83-42A8-A8A8-A86E531C32F0" name="GUID-DDB3E2F7-DC83-42A8-A8A8-A86E531C32F0"></a><h4 id="NETRF-GUID-DDB3E2F7-DC83-42A8-A8A8-A86E531C32F0" class="sect4"><span class="enumeration_section">8.3.8</span> TDM_THREADING_MODE</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-DDB3E2F7-DC83-42A8-A8A8-A86E531C32F0__GUID-66FC4E86-319F-4F02-8BA9-905FE09AB25C">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>在流量控制器模式下通过Oracle连接管理器配置线程的使用。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DDB3E2F7-DC83-42A8-A8A8-A86E531C32F0__GUID-6E4522BA-EA2F-4202-9FC5-043D94F3C5F4">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>如果此参数设置为<code class="codeph">DEDICATED</code> ，则为每个入站连接生成一个工作线程，并且最大线程数由<code class="codeph">max_connections</code>参数确定</p>
                     <p>如果此参数设置为<code class="codeph">SHARED</code> ，则工作线程的共享池将处理所有入站连接。最小工作线程数由<code class="codeph">tdm_shared_threads_min</code>设置指定，最大工作线程数由<code class="codeph">tdm_shared_threads_max</code>设置指定。线程池在这些边界内部进行管理。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DDB3E2F7-DC83-42A8-A8A8-A86E531C32F0__GUID-198DD22F-00CD-44A8-A7CF-85508D2A925E">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">专用</code></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DDB3E2F7-DC83-42A8-A8A8-A86E531C32F0__GUID-EA4853C8-F206-41D8-B113-07887F48178F">值</p>
                     </div>
                     <!-- class="section" -->
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">专用</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">共享</code></p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-DDB3E2F7-DC83-42A8-A8A8-A86E531C32F0__GUID-4303DDBD-318C-4D85-A1D9-1A0F0D6C27FB">例</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">tdm_threading_mode = {DEDICATED |共享}</code></p>
                     <p><code class="codeph">tdm_shared_threads_min = 4</code></p>
                     <p><code class="codeph">tdm_shared_threads_max = 5</code></p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-E52E7D07-FD9C-4B21-9EEA-65D7B0AB453F">Traffic Director模式参数中的Oracle Connection Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-9C3DB8A9-DEF6-4532-83C2-4C8C0A61AE59" name="GUID-9C3DB8A9-DEF6-4532-83C2-4C8C0A61AE59"></a><h3 id="NETRF-GUID-9C3DB8A9-DEF6-4532-83C2-4C8C0A61AE59" class="sect3"><span class="enumeration_section">8.4</span> Oracle Connection Manager的ADR诊断参数</h3>
               <div>
                  <p>快速捕获关键错误的诊断数据并将其存储在ADR for Oracle Connection Manager中。</p>
                  <p>自Oracle Database 11g以来，Oracle数据库包含一个高级故障诊断基础结构，用于预防，检测，诊断和解决问题。问题是严重错误，例如由数据库代码错误，元数据损坏和客户数据损坏引起的错误。</p>
                  <p>发生严重错误时，会为其分配一个事件编号，并立即捕获错误的诊断数据（如跟踪和转储），并使用事件编号进行标记。然后将数据存储在<a href="glossary.html#GUID-4E8722BB-B669-45B8-91A6-741AD9580997"><span class="xrefglossterm">自动诊断存储库（ADR）中</span></a> ，该存储库是数据库外部的基于文件的存储库。
                  </p>
                  <p>本节介绍启用ADR时使用的参数。默认情况下启用ADR。启用ADR时，将忽略<code class="codeph">cman.ora</code>文件中列出的非ADR参数。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-053B1FC3-1663-4B2B-BA1E-E187CE0DC17A">ADR_BASE</a><br>它是<code class="codeph">cman.ora</code>文件中的诊断参数，它指定在启用ADR时存储跟踪和记录事件的基目录。
                     </li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-67D399F6-4567-4F4C-B300-8E343672F147">DIAG_ADR_ENABLED</a><br><code class="codeph">DIAG_ADR_ENABLED</code>的诊断参数<code class="codeph">cman.ora</code>文件指示ADR跟踪是否已启用。
                     </li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-A3F2A1EA-86F5-46DB-ADFC-EFF5879A14D8">LOG_LEVEL</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-920382DD-3B8D-4057-9130-353043B1FB88">TRACE_LEVEL</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-63A5E79F-D2F3-425A-9636-E5BC57AF225D">TRACE_TIMESTAMP</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-3AD0A8E4-43CB-45E7-A99A-D4702C5273BC" title="本章提供了cman.ora文件配置参数的完整列表。">Oracle连接管理器参数</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-053B1FC3-1663-4B2B-BA1E-E187CE0DC17A" name="GUID-053B1FC3-1663-4B2B-BA1E-E187CE0DC17A"></a><h4 id="NETRF-GUID-053B1FC3-1663-4B2B-BA1E-E187CE0DC17A" class="sect4"><span class="enumeration_section">8.4.1</span> ADR_BASE</h4>
                  <div>
                     <p>它是<code class="codeph">cman.ora</code>文件中的诊断参数，它指定在启用ADR时存储跟踪和记录事件的基目录。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-053B1FC3-1663-4B2B-BA1E-E187CE0DC17A__GUID-1DA577EE-08F9-4BBE-B68D-2B246FD406B2">目的</p>
                        <p>指定在启用ADR时存储跟踪和记录事件的基目录。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-053B1FC3-1663-4B2B-BA1E-E187CE0DC17A__GUID-D83A8CB9-8AC0-4A16-BD80-EA41D8188FB0">默认</p>
                        <p>默认为<code class="codeph">ORACLE_BASE</code> ，或<code class="codeph">ORACLE_HOME/log</code>如果<code class="codeph">ORACLE_BASE</code>没有定义。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-053B1FC3-1663-4B2B-BA1E-E187CE0DC17A__GUID-7618E1E0-D764-44EF-AE0E-D6FD12AC33BD">值</p>
                        <p>具有写入权限的目录的任何有效目录路径。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-053B1FC3-1663-4B2B-BA1E-E187CE0DC17A__GUID-FED4AC3E-FD0E-463A-A901-5DBA23813764">
                        <p class="titleinexample">例8-8例子</p><code class="codeph">ADR_BASE = / ORACLE /网络/跟踪</code></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-9C3DB8A9-DEF6-4532-83C2-4C8C0A61AE59" title="快速捕获关键错误的诊断数据并将其存储在ADR for Oracle Connection Manager中。">Oracle Connection Manager的ADR诊断参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-67D399F6-4567-4F4C-B300-8E343672F147" name="GUID-67D399F6-4567-4F4C-B300-8E343672F147"></a><h4 id="NETRF-GUID-67D399F6-4567-4F4C-B300-8E343672F147" class="sect4"><span class="enumeration_section">8.4.2</span> DIAG_ADR_ENABLED</h4>
                  <div>
                     <p><code class="codeph">DIAG_ADR_ENABLED</code>的诊断参数<code class="codeph">cman.ora</code>文件指示ADR跟踪是否已启用。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-67D399F6-4567-4F4C-B300-8E343672F147__GUID-8C5B60E6-ADFD-42E6-A20C-8A1410073A13">目的</p>
                        <p>指示是否启用ADR跟踪。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-67D399F6-4567-4F4C-B300-8E343672F147__GUID-4D5EA2B0-34CE-4803-BA7D-B1088D2A3E4F">使用说明</p>
                        <p>当<code class="codeph">DIAG_ADR_ENABLED</code>参数设置为<code class="codeph">OFF</code> ，则使用非ADR文件跟踪。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-67D399F6-4567-4F4C-B300-8E343672F147__GUID-F2606879-BCFE-4C3D-9FC3-620D10C7D14F">值</p>
                        <p><code class="codeph">on</code> | <code class="codeph">off</code></p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-67D399F6-4567-4F4C-B300-8E343672F147__GUID-B8562273-6C94-4C68-92D3-DC4D866AB133">
                        <p class="titleinexample">例8-9例子</p><code class="codeph">DIAG_ADR_ENABLED =上</code></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-9C3DB8A9-DEF6-4532-83C2-4C8C0A61AE59" title="快速捕获关键错误的诊断数据并将其存储在ADR for Oracle Connection Manager中。">Oracle Connection Manager的ADR诊断参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1610"></a><a id="NETRF2273"></a><a id="NETRF1611"></a><a id="NETRF1612"></a><a id="NETRF1613"></a><a id="NETRF346"></a><div class="sect3"><a id="GUID-A3F2A1EA-86F5-46DB-ADFC-EFF5879A14D8" name="GUID-A3F2A1EA-86F5-46DB-ADFC-EFF5879A14D8"></a><h4 id="NETRF-GUID-A3F2A1EA-86F5-46DB-ADFC-EFF5879A14D8" class="sect4"><span class="enumeration_section">8.4.3</span> LOG_LEVEL</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-A3F2A1EA-86F5-46DB-ADFC-EFF5879A14D8__GUID-9DA1735B-AC16-48CB-A6E5-D18D68C37C22">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定Oracle Connection Manager执行的日志记录级别。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A3F2A1EA-86F5-46DB-ADFC-EFF5879A14D8__GUID-6DACE6AD-8CD4-464B-AC9E-E378F9B78635">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>使用非ADR日志记录时，此参数也适用。</p>
                     <p>以下日志文件与Oracle Connection Manager一起使用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>listener的<span class="italic"><code class="codeph">instance-name_pid</code></span> <code class="codeph">.log</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">cmadmin</code> <span class="italic"><code class="codeph">instance-name_</code></span> <code class="codeph">cmadmin</code> <span class="italic"><code class="codeph">_pid</code></span> <code class="codeph">.log</code> 。</p>
                        </li>
                        <li>
                           <p>网关进程的<span class="italic"><code class="codeph">instance-name_</code></span> <code class="codeph">cmgw</code> <span class="italic"><code class="codeph">_pid</code></span> <code class="codeph">.log</code> 。
                           </p>
                        </li>
                     </ul>
                     <p>日志文件位于<code class="codeph">ORACLE_HOME/network/log</code>目录中。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A3F2A1EA-86F5-46DB-ADFC-EFF5879A14D8__GUID-EF63E8A2-DA17-43E8-84AF-A312FF8ED10B">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p>关或0</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A3F2A1EA-86F5-46DB-ADFC-EFF5879A14D8__GUID-9B1807B3-6124-467C-BA51-7CADFD882E56">值</p>
                     </div>
                     <!-- class="section" -->
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">off</code>或<code class="codeph">0</code>表示没有日志输出。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">user</code>或<code class="codeph">4</code>用于用户日志信息。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">admin</code>或<code class="codeph">10</code>表示管理日志信息。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">support</code>或<code class="codeph">16</code> for Oracle Support Services日志信息。
                           </p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-A3F2A1EA-86F5-46DB-ADFC-EFF5879A14D8__GUID-9D463E35-9C0C-4122-BE4E-0E855D63BBCE">例</p>
                     </div>
                     <!-- class="section" --><pre class="oac_no_warn" dir="ltr">LOG_LEVEL =管理员</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-9C3DB8A9-DEF6-4532-83C2-4C8C0A61AE59" title="快速捕获关键错误的诊断数据并将其存储在ADR for Oracle Connection Manager中。">Oracle Connection Manager的ADR诊断参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1614"></a><a id="NETRF2274"></a><a id="NETRF1615"></a><a id="NETRF1616"></a><a id="NETRF1617"></a><a id="NETRF358"></a><div class="sect3"><a id="GUID-920382DD-3B8D-4057-9130-353043B1FB88" name="GUID-920382DD-3B8D-4057-9130-353043B1FB88"></a><h4 id="NETRF-GUID-920382DD-3B8D-4057-9130-353043B1FB88" class="sect4"><span class="enumeration_section">8.4.4</span> TRACE_LEVEL</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-920382DD-3B8D-4057-9130-353043B1FB88__GUID-48DB5319-4ECF-4B15-96D4-8758CD1192BC">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定Oracle Connection Manager实例的跟踪级别。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-920382DD-3B8D-4057-9130-353043B1FB88__GUID-A17CCADF-381E-483C-B233-B9B9BC7AC473">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>使用非ADR跟踪时，此参数也适用。</p>
                     <p>以下跟踪文件与Oracle Connection Manager一起使用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>listener的<span class="italic"><code class="codeph">instance-name_pid</code></span> <code class="codeph">.trc</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">cmadmin</code> <span class="italic"><code class="codeph">instance-name_</code></span> <code class="codeph">cmadmin</code> <span class="italic"><code class="codeph">_pid</code></span> <code class="codeph">.trc</code> 。</p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">instance-name_</code></span> <code class="codeph">cmgw</code> <span class="italic"><code class="codeph">_pid</code></span> <code class="codeph">.trc</code>用于网关进程。
                           </p>
                        </li>
                     </ul>
                     <p>日志文件位于<code class="codeph">ORACLE_HOME/network/log</code>目录中。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-920382DD-3B8D-4057-9130-353043B1FB88__GUID-947F03B4-AACC-423E-8476-15C59A47D207">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p>离</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-920382DD-3B8D-4057-9130-353043B1FB88__GUID-2C6465FD-517F-4A94-9E28-E215BD3F883B">值</p>
                     </div>
                     <!-- class="section" -->
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">off</code>没有跟踪输出。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">user</code>的用户跟踪信息。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">admin</code>用于管理跟踪信息。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">support</code> Oracle Support Services跟踪信息。
                           </p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-920382DD-3B8D-4057-9130-353043B1FB88__GUID-D0934951-51F1-4240-ACF7-011C73CE6751">例</p>
                     </div>
                     <!-- class="section" --><pre class="oac_no_warn" dir="ltr">TRACE_LEVEL =管理员</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-9C3DB8A9-DEF6-4532-83C2-4C8C0A61AE59" title="快速捕获关键错误的诊断数据并将其存储在ADR for Oracle Connection Manager中。">Oracle Connection Manager的ADR诊断参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1618"></a><a id="NETRF2275"></a><a id="NETRF1619"></a><a id="NETRF1620"></a><a id="NETRF1621"></a><a id="NETRF359"></a><div class="sect3"><a id="GUID-63A5E79F-D2F3-425A-9636-E5BC57AF225D" name="GUID-63A5E79F-D2F3-425A-9636-E5BC57AF225D"></a><h4 id="NETRF-GUID-63A5E79F-D2F3-425A-9636-E5BC57AF225D" class="sect4"><span class="enumeration_section">8.4.5</span> TRACE_TIMESTAMP</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-63A5E79F-D2F3-425A-9636-E5BC57AF225D__GUID-966753EE-E777-4898-8A70-73BD0C4CB861">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>要以<code class="codeph">dd-mmm-yyyy hh:mi:ss:mil</code>形式为侦听器的跟踪文件中的每个跟踪事件添加时间戳。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-63A5E79F-D2F3-425A-9636-E5BC57AF225D__GUID-0A1FF001-6DE5-429F-B038-0FC0EC1CD245">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>此参数与<a href="oracle-connection-manager-parameters.html#GUID-920382DD-3B8D-4057-9130-353043B1FB88">TRACE_LEVEL</a>参数一起使用。使用非ADR跟踪时，此参数也适用。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-63A5E79F-D2F3-425A-9636-E5BC57AF225D__GUID-7EFB2884-A750-4DC6-B30D-2F27AD660290">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p>上</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-63A5E79F-D2F3-425A-9636-E5BC57AF225D__GUID-90D5FA7F-E6D1-41BA-A93B-7B5A4C4604CB">值</p>
                     </div>
                     <!-- class="section" -->
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">on</code>或<code class="codeph">true</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">off</code>或<code class="codeph">false</code></p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-63A5E79F-D2F3-425A-9636-E5BC57AF225D__GUID-A74C4764-CF12-459E-A867-38A5F90A6BB7">例</p>
                     </div>
                     <!-- class="section" --><pre class="oac_no_warn" dir="ltr">TRACE_TIMESTAMP =真</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-9C3DB8A9-DEF6-4532-83C2-4C8C0A61AE59" title="快速捕获关键错误的诊断数据并将其存储在ADR for Oracle Connection Manager中。">Oracle Connection Manager的ADR诊断参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-2AEF1E2D-E15D-4B6E-B43C-45D2099F74D4" name="GUID-2AEF1E2D-E15D-4B6E-B43C-45D2099F74D4"></a><h3 id="NETRF-GUID-2AEF1E2D-E15D-4B6E-B43C-45D2099F74D4" class="sect3"><span class="enumeration_section">8.5</span> Oracle Connection Manager的非ADR诊断参数</h3>
               <div>
                  <p>本节列出了禁用ADR时使用的参数：</p>
                  <p></p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-33507BB4-D0A8-4711-98FA-105B1A5C1856">log_directory目录</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-72BD9F21-3359-4DFA-8E86-726FE0093BA5">TRACE_DIRECTORY</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-F37AA4F0-1BC4-404E-B45D-0C71C8A43241">TRACE_FILELEN</a><br></li>
                     <li class="ulchildlink"><a href="oracle-connection-manager-parameters.html#GUID-17AAC336-9445-4292-B840-4EE1E7FD9331">TRACE_FILENO</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-3AD0A8E4-43CB-45E7-A99A-D4702C5273BC" title="本章提供了cman.ora文件配置参数的完整列表。">Oracle连接管理器参数</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETRF1622"></a><a id="NETRF2276"></a><a id="NETRF1623"></a><a id="NETRF1624"></a><a id="NETRF1625"></a><a id="NETRF345"></a><div class="sect3"><a id="GUID-33507BB4-D0A8-4711-98FA-105B1A5C1856" name="GUID-33507BB4-D0A8-4711-98FA-105B1A5C1856"></a><h4 id="NETRF-GUID-33507BB4-D0A8-4711-98FA-105B1A5C1856" class="sect4"><span class="enumeration_section">8.5.1</span> LOG_DIRECTORY</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-33507BB4-D0A8-4711-98FA-105B1A5C1856__GUID-B0652839-F1BA-4E18-B472-C4E659BF4E94">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定Oracle Connection Manager日志文件的位置。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-33507BB4-D0A8-4711-98FA-105B1A5C1856__GUID-53390526-A9FF-46CD-B1C7-AC51EE8A037E">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>未启用ADR时使用此参数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-33507BB4-D0A8-4711-98FA-105B1A5C1856__GUID-497281CC-5FB2-4929-A678-1DF84E85E23E">默认</p>
                     </div>
                     <!-- class="section" --><pre class="oac_no_warn" dir="ltr">ORACLE_BASE_ <span class="italic">HOME</span> / network / log</pre><div class="section">
                        <p class="subhead3" id="GUID-33507BB4-D0A8-4711-98FA-105B1A5C1856__GUID-5BC0C977-D33D-47EB-9C6A-6BA26F5248E7">值</p>
                     </div>
                     <!-- class="section" -->
                     <p>具有写入权限的目录的任何有效目录路径。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-33507BB4-D0A8-4711-98FA-105B1A5C1856__GUID-0B05A171-6B57-4EC8-8600-1C94E4315CEE">例</p>
                     </div>
                     <!-- class="section" --><pre class="oac_no_warn" dir="ltr">log_directory目录= / ORACLE /网络/日志</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-2AEF1E2D-E15D-4B6E-B43C-45D2099F74D4" title="本节列出了禁用ADR时使用的参数：">Oracle Connection Manager的非ADR诊断参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1626"></a><a id="NETRF2277"></a><a id="NETRF1627"></a><a id="NETRF1628"></a><a id="NETRF1629"></a><a id="NETRF355"></a><div class="sect3"><a id="GUID-72BD9F21-3359-4DFA-8E86-726FE0093BA5" name="GUID-72BD9F21-3359-4DFA-8E86-726FE0093BA5"></a><h4 id="NETRF-GUID-72BD9F21-3359-4DFA-8E86-726FE0093BA5" class="sect4"><span class="enumeration_section">8.5.2</span> TRACE_DIRECTORY</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-72BD9F21-3359-4DFA-8E86-726FE0093BA5__GUID-E4E25078-A737-4AFD-9739-1AF3E6D890DC">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定Oracle Connection Manager跟踪文件的位置。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-72BD9F21-3359-4DFA-8E86-726FE0093BA5__GUID-F09033BD-A4F9-4F26-AFCD-9029E827D1B0">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>未启用ADR时使用此参数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-72BD9F21-3359-4DFA-8E86-726FE0093BA5__GUID-4CB8F462-C198-47B2-A59E-0E2ABA89BD0E">默认</p>
                     </div>
                     <!-- class="section" --><pre class="oac_no_warn" dir="ltr">ORACLE_BASE_ <span class="italic">HOME</span> /网络/跟踪</pre><div class="section">
                        <p class="subhead3" id="GUID-72BD9F21-3359-4DFA-8E86-726FE0093BA5__GUID-8D9273A9-1AC0-401D-A9CB-9992C70CF8EC">值</p>
                     </div>
                     <!-- class="section" -->
                     <p>具有写入权限的目录的任何有效目录路径。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-72BD9F21-3359-4DFA-8E86-726FE0093BA5__GUID-2C91A29C-A2F0-40B9-97B7-EA555C89EF07">例</p>
                     </div>
                     <!-- class="section" --><pre class="oac_no_warn" dir="ltr">TRACE_DIRECTORY = / ORACLE /网络/管理/跟踪</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-2AEF1E2D-E15D-4B6E-B43C-45D2099F74D4" title="本节列出了禁用ADR时使用的参数：">Oracle Connection Manager的非ADR诊断参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1630"></a><a id="NETRF2278"></a><a id="NETRF1631"></a><a id="NETRF1632"></a><a id="NETRF356"></a><div class="sect3"><a id="GUID-F37AA4F0-1BC4-404E-B45D-0C71C8A43241" name="GUID-F37AA4F0-1BC4-404E-B45D-0C71C8A43241"></a><h4 id="NETRF-GUID-F37AA4F0-1BC4-404E-B45D-0C71C8A43241" class="sect4"><span class="enumeration_section">8.5.3</span> TRACE_FILELEN</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-F37AA4F0-1BC4-404E-B45D-0C71C8A43241__GUID-B7277644-72ED-4A55-BA73-D669C7EDA265">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定跟踪文件的大小（KB）。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F37AA4F0-1BC4-404E-B45D-0C71C8A43241__GUID-0E28D11C-327E-4BCC-8405-69646F1F077A">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>满足大小时，跟踪信息将写入下一个文件。使用<a href="oracle-connection-manager-parameters.html#GUID-17AAC336-9445-4292-B840-4EE1E7FD9331">TRACE_FILENO</a>参数指定文件数。可以指定任何尺寸。未启用ADR时使用此参数。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F37AA4F0-1BC4-404E-B45D-0C71C8A43241__GUID-B5302C5C-BA2B-4951-B860-36BE211F2718">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p>无限</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F37AA4F0-1BC4-404E-B45D-0C71C8A43241__GUID-C7E8FDB0-40D3-49EA-A37C-B4C33DE60DFC">例</p>
                     </div>
                     <!-- class="section" --><pre class="oac_no_warn" dir="ltr">TRACE_FILELEN = 100</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-2AEF1E2D-E15D-4B6E-B43C-45D2099F74D4" title="本节列出了禁用ADR时使用的参数：">Oracle Connection Manager的非ADR诊断参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETRF1633"></a><a id="NETRF2279"></a><a id="NETRF1634"></a><a id="NETRF1635"></a><a id="NETRF357"></a><div class="sect3"><a id="GUID-17AAC336-9445-4292-B840-4EE1E7FD9331" name="GUID-17AAC336-9445-4292-B840-4EE1E7FD9331"></a><h4 id="NETRF-GUID-17AAC336-9445-4292-B840-4EE1E7FD9331" class="sect4"><span class="enumeration_section">8.5.4</span> TRACE_FILENO</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-17AAC336-9445-4292-B840-4EE1E7FD9331__GUID-9EF992D3-E34A-4449-AFFC-6983E9C4DFE2">目的</p>
                     </div>
                     <!-- class="section" -->
                     <p>指定Oracle Connection Manager跟踪的跟踪文件数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-17AAC336-9445-4292-B840-4EE1E7FD9331__GUID-78660046-6112-4960-B8E4-E8CC4CE606D0">使用说明</p>
                     </div>
                     <!-- class="section" -->
                     <p>当此参数与<a href="oracle-connection-manager-parameters.html#GUID-F37AA4F0-1BC4-404E-B45D-0C71C8A43241">TRACE_FILELEN</a>参数一起设置时，跟踪文件以循环方式使用。首先填充第一个文件，然后填充第二个文件，依此类推。填写完最后一个文件后，将重复使用第一个文件，依此类推。可以指定任意数量的文件。
                     </p>
                     <p>跟踪文件名通过序列号彼此区分。例如，如果此参数设置为<code class="codeph">3</code> ，则网关跟踪文件将命名为<span class="italic"><code class="codeph">instance-name_</code></span> <code class="codeph">cmgw1</code> <span class="italic"><code class="codeph">_pid</code></span> <code class="codeph">.trc</code> ， <span class="italic"><code class="codeph">instance_name_</code></span> <code class="codeph">cmgw2</code> <span class="italic"><code class="codeph">_pid</code></span> <code class="codeph">.trc</code>和<span class="italic"><code class="codeph">instance_name_</code></span> <code class="codeph">cmgw3</code> <span class="italic"><code class="codeph">_pid</code></span> <code class="codeph">.trc</code> 。
                     </p>
                     <p>此外，跟踪文件中的跟踪事件前面是文件的序列号。未启用ADR时使用此参数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-17AAC336-9445-4292-B840-4EE1E7FD9331__GUID-D24D3E20-19FB-409B-9CEA-FF5E7FF4EDED">默认</p>
                     </div>
                     <!-- class="section" -->
                     <p>1</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-17AAC336-9445-4292-B840-4EE1E7FD9331__GUID-E7DB6EDF-68B1-4298-9E73-F18D38A0BBED">例</p>
                     </div>
                     <!-- class="section" --><pre class="oac_no_warn" dir="ltr">TRACE_FILENO = 3</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-connection-manager-parameters.html#GUID-2AEF1E2D-E15D-4B6E-B43C-45D2099F74D4" title="本节列出了禁用ADR时使用的参数：">Oracle Connection Manager的非ADR诊断参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01541.performing-rman-tspitr.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>执行RMAN表空间时间点恢复（TSPITR）</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Backup and Recovery User&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Backup and Recovery User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-backup-and-recovery-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T05:20:45-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96241-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="rman-recovery-advanced.html" title="Previous" type="text/html"></link>
      <link rel="next" href="rman-recovering-tables-partitions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="BRADV"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="rman-recovery-advanced.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="rman-recovering-tables-partitions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">备份和恢复用户指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-diagnosing-responding-failures.html" property="item" typeof="WebPage"><span property="name">诊断和应对失败</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">执行RMAN表空间时间点恢复（TSPITR）</li>
            </ol>
            <a id="GUID-CAACDB53-7C3A-45B4-8249-C5D855D47571" name="GUID-CAACDB53-7C3A-45B4-8249-C5D855D47571"></a><a id="BRADV009"></a>
            
            <h2 id="BRADV-GUID-CAACDB53-7C3A-45B4-8249-C5D855D47571" class="sect2"><span class="enumeration_chapter">21</span>执行RMAN表空间时间点恢复（TSPITR）</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何执行RMAN表空间时间点恢复。本章包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><span><a href="performing-rman-tspitr.html#GUID-416AF503-9611-46AA-81A9-7B9E1A0A5AC1" title="要有效地使用RMAN表空间时间点恢复（TSPITR），了解它可以解决的问题类型，组件，RMAN在TSPITR期间所执行的操作以及对何时以及如何进行的各种限制和限制很有帮助。跑。本节介绍运行RMAN TSPITR的基本概念，准备任务和模式。">RMAN TSPITR概述</a></span></p>
                  </li>
                  <li>
                     <p><span><a href="performing-rman-tspitr.html#GUID-26A140F5-652B-4F58-900A-C10AE2780BC3" title="由于某些限制和限制，TSPITR无法解决某些数据库问题。">TSPITR限制，特殊情况和限制</a></span></p>
                  </li>
                  <li>
                     <p><span><a href="performing-rman-tspitr.html#GUID-EDF19841-06BC-4542-BD91-DC6699B3932A" title="准备执行TSPITR时必须完成某些步骤。">规划和准备TSPITR</a></span></p>
                  </li>
                  <li>
                     <p>运行RMAN TSPITR：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span><a href="performing-rman-tspitr.html#GUID-B878E5C6-8E83-4A13-AFC7-249A5B310CFA" title="在默认模式下，RMAN在目标数据库上尽可能多地使用TSPITR的配置。">执行全自动RMAN TSPITR</a></span></p>
                        </li>
                        <li>
                           <p><span><a href="performing-rman-tspitr.html#GUID-6252E21A-E6C5-4269-8666-B5C652558A47" title="您可以自定义RMAN TSPITR的某些方面，同时仍然主要遵循执行全自动RMAN TSPITR的过程。">使用RMAN管理的辅助数据库覆盖RMAN TSPITR的默认值</a></span></p>
                        </li>
                        <li>
                           <p><span><a href="performing-rman-tspitr.html#GUID-D0A465A5-B0D8-4E60-8941-D98DD8AC44D0" title="虽然Oracle建议您让RMAN管理辅助数据库的所有方面，但有时您可能必须创建和管理自己的辅助数据库。如果选择此模式，则负责设置，启动，停止和清理TSPITR中使用的辅助数据库。">使用您自己的辅助数据库执行RMAN TSPITR</a></span></p>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <p><span><a href="performing-rman-tspitr.html#GUID-9B0BADD4-750E-4D74-A816-07E075B0AA96" title="各种问题都可能导致RMAN TSPITR失败。必须确定并修复问题。">RMAN TSPITR疑难解答</a></span></p>
                  </li>
               </ul>
            </div><a id="BRADV89787"></a><div class="props_rev_3"><a id="GUID-416AF503-9611-46AA-81A9-7B9E1A0A5AC1" name="GUID-416AF503-9611-46AA-81A9-7B9E1A0A5AC1"></a><h3 id="BRADV-GUID-416AF503-9611-46AA-81A9-7B9E1A0A5AC1" class="sect3"><span class="enumeration_section">21.1</span> RMAN TSPITR概述</h3>
               <div>
                  <p>要有效地使用RMAN表空间时间点恢复（TSPITR），了解它可以解决的问题类型，组件，RMAN在TSPITR期间所执行的操作以及对何时以及如何进行的各种限制和限制很有帮助。跑。本节介绍运行RMAN TSPITR的基本概念，准备任务和模式。</p>
                  <p></p>
                  <p>要为CDB和PDB执行TSPITR，必须以具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限的用户身份连接到root。要执行另外一个PDB的TSPITR，您必须备份包含PDB的CDB的根和CDB种子。
                  </p>
               </div><a id="BRADV89788"></a><div class="props_rev_3"><a id="GUID-4ADE81D7-CB75-4C39-AD08-589637C5E750" name="GUID-4ADE81D7-CB75-4C39-AD08-589637C5E750"></a><h4 id="BRADV-GUID-4ADE81D7-CB75-4C39-AD08-589637C5E750" class="sect4"><span class="enumeration_section">21.1.1</span> RMAN TSPITR的目的</h4>
                  <div>
                     <p>Recovery Manager（RMAN）TSPITR可以将数据库中的一个或多个表空间快速恢复到较早的时间，而不会影响数据库中的其余表空间和对象。</p>
                     <p>RMAN TSPITR对以下情况最有用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当多个逻辑数据库存在于一个物理数据库的单独表空间中时，将逻辑数据库恢复到与物理数据库的其余部分不同的点。例如，您在<code class="codeph">orders</code>和<code class="codeph">personnel</code>表空间中维护逻辑数据库。不正确的批处理作业或数据操作语言（DML）语句仅在一个表空间中破坏数据。
                           </p>
                        </li>
                        <li>
                           <p>在恢复表结构的数据定义语言（DDL）操作之后恢复丢失的数据。您不能使用闪回表将表回滚到结构更改之前，例如截断表操作。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">PURGE</code>选项删除表后恢复表。
                           </p>
                        </li>
                        <li>
                           <p>从表的逻辑损坏中恢复。</p>
                        </li>
                        <li>
                           <p>恢复丢弃的表空间。实际上，即使未使用恢复目录，RMAN也可以在删除的表空间上执行TSPITR。</p>
                        </li>
                     </ul>
                     <p>您也可以使用闪回数据库来回滚数据，但您必须回滚整个数据库而不仅仅是一个子集。此外，与TSPITR不同，闪回数据库功能需要维护闪回日志的开销。您可以闪回数据库的时间点比TSPITR窗口更有限，该窗口可以延伸回最早的可恢复备份。</p>
                  </div>
               </div><a id="BRADV160"></a><div class="props_rev_3"><a id="GUID-635E6A2B-A2AE-4179-9CFE-9E4BA9DAA6C7" name="GUID-635E6A2B-A2AE-4179-9CFE-9E4BA9DAA6C7"></a><h4 id="BRADV-GUID-635E6A2B-A2AE-4179-9CFE-9E4BA9DAA6C7" class="sect4"><span class="enumeration_section">21.1.2</span> RMAN TSPITR的基本概念</h4>
                  <div>
                     <p>了解RMAN TSPITR的概念，例如使用的术语和模式。</p>
                     <p>本节包含以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="performing-rman-tspitr.html#GUID-12D4E92D-884D-4B3D-B415-D3A8BF0A2CA0" title="本节定义了RMAN TSPITR使用的一些公共实体。">RMAN TSPITR的通用术语</a></p>
                        </li>
                        <li>
                           <p><a href="performing-rman-tspitr.html#GUID-84A7CEA3-35C4-4AD6-A640-55F734C45C4E" title="有几种运行RMAN TSPITR的模式。各种操作模式之间的差异对应于您的环境中需要多少自动化与自定义。">RMAN TSPITR的模式</a></p>
                        </li>
                        <li>
                           <p><a href="performing-rman-tspitr.html#GUID-40A9A54A-8742-42D9-AB47-F0B61439A100" title="在执行完全自动化的RMAN TSPITR（默认）之前，从恢复集，辅助目标和目标时间中选择表空间。">RMAN TSPITR如何与RMAN管理的辅助数据库一起使用</a></p>
                        </li>
                     </ul>
                  </div><a id="BRADV372"></a><a id="BRADV371"></a><div class="props_rev_3"><a id="GUID-12D4E92D-884D-4B3D-B415-D3A8BF0A2CA0" name="GUID-12D4E92D-884D-4B3D-B415-D3A8BF0A2CA0"></a><h5 id="BRADV-GUID-12D4E92D-884D-4B3D-B415-D3A8BF0A2CA0" class="sect5"><span class="enumeration_section">21.1.2.1</span> RMAN TSPITR的通用术语</h5>
                     <div>
                        <p>本节定义了RMAN TSPITR使用的一些公共实体。</p>
                        <div class="tblformal" id="GUID-12D4E92D-884D-4B3D-B415-D3A8BF0A2CA0__CIHEAFBF">
                           <p class="titleintable">表21-1 RMAN TSPITR实体</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RMAN TSPITR实体" width="100%" border="1" summary="TSPITR terms" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d92175e509">名称</th>
                                    <th align="left" valign="bottom" width="69%" id="d92175e512">说明</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d92175e517" headers="d92175e509 ">
                                       <p>目标实例</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d92175e517 d92175e512 ">
                                       <p>包含要恢复到目标时间的表空间</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d92175e524" headers="d92175e509 ">
                                       <p>目标时间</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d92175e524 d92175e512 ">
                                       <p>TSPITR完成后的表空间的时间点或SCN</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d92175e531" headers="d92175e509 ">
                                       <p>辅助数据库</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d92175e531 d92175e512 ">
                                       <p>用于恢复过程的数据库，用于执行恢复工作。辅助数据库具有与之关联的其他文件。有关完整列表，请参阅辅助集。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d92175e538" headers="d92175e509 ">
                                       <p>辅助目的地</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d92175e538 d92175e512 ">
                                       <p>RMAN用于临时存储辅助集文件的可选磁盘位置。辅助目标仅用于RMAN管理的辅助数据库。使用用户管理的辅助数据库指定辅助目标会导致错误。</p>
                                       <p>本章中对辅助目标的所有引用都假定使用RMAN管理的辅助数据库。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d92175e547" headers="d92175e509 ">
                                       <p>恢复集</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d92175e547 d92175e512 ">
                                       <p>要恢复的表空间中的数据文件</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d92175e554" headers="d92175e509 ">
                                       <p>辅助装置</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d92175e554 d92175e512 ">
                                       <p>TSPITR所需的数据文件不属于恢复集。辅助装置通常包括：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">SYSTEM</code>和<code class="codeph">SYSAUX</code>表空间。
                                             </p>
                                          </li>
                                          <li>
                                             <p>包含目标数据库实例中的回滚或还原段的数据文件。</p>
                                          </li>
                                          <li>
                                             <p>临时表空间。</p>
                                          </li>
                                          <li>
                                             <p>从源数据库控制文件。</p>
                                          </li>
                                          <li>
                                             <p>必须还原的归档重做日志，以将辅助数据库恢复到指定的时间点。</p>
                                          </li>
                                          <li>
                                             <p>辅助数据库的联机重做日志。这些日志与源数据库的联机重做日志不同。使用<code class="codeph">RESETLOGS</code>选项打开辅助数据库时会创建它们。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>辅助集不包括参数文件，密码文件或关联的网络文件。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="BRADV373"></a><div class="props_rev_3"><a id="GUID-84A7CEA3-35C4-4AD6-A640-55F734C45C4E" name="GUID-84A7CEA3-35C4-4AD6-A640-55F734C45C4E"></a><h5 id="BRADV-GUID-84A7CEA3-35C4-4AD6-A640-55F734C45C4E" class="sect5"><span class="enumeration_section">21.1.2.2</span> RMAN TSPITR的模式</h5>
                     <div>
                        <p>有几种运行RMAN TSPITR的模式。各种操作模式之间的差异对应于您的环境中需要多少自动化与自定义。</p>
                        <p>使用RMAN <code class="codeph">RECOVER TABLESPACE</code>命令启动RMAN TSPITR。有三种方法可以运行该实用程序：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>全自动（默认）</p>
                              <p>在此模式下，RMAN管理整个TSPITR进程，包括辅助数据库。您可以指定恢复集的表空间，辅助目标，目标时间，并允许RMAN管理TSPITR的所有其他方面。</p>
                              <p>建议使用默认模式，除非您在TSPITR，TSPITR期间的辅助设置文件，通道设置和参数或辅助数据库的某些其他方面特别需要更多地控制恢复集文件的位置。</p>
                           </li>
                           <li>
                              <p>自动化：带有用户设置的RMAN管理辅助数据库</p>
                              <p>您仍可以使用RMAN管理的辅助数据库和目标来覆盖RMAN TSPITR的某些默认值。默认模式的这种变化使您可以从RMAN TSITR提供的一些内置管理中受益，同时能够指定：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>辅助集或恢复集文件的位置</p>
                                 </li>
                                 <li>
                                    <p>初始化参数</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>非自动化：TSPITR和用户管理的辅助数据库</p>
                              <p>RMAN TSPITR的这种模式要求您设置和管理辅助数据库的所有方面以及TSPITR过程的某些方面。例如，如果您必须为用户管理的辅助数据库分配不同数量的通道或更改通道参数，则此模式可能是合适的。</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-84A7CEA3-35C4-4AD6-A640-55F734C45C4E__GUID-AB86B149-8494-487B-9A43-A91FA564319E">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="performing-rman-tspitr.html#GUID-B878E5C6-8E83-4A13-AFC7-249A5B310CFA" title="在默认模式下，RMAN在目标数据库上尽可能多地使用TSPITR的配置。">执行全自动RMAN TSPITR</a></p>
                              </li>
                              <li>
                                 <p><a href="performing-rman-tspitr.html#GUID-6252E21A-E6C5-4269-8666-B5C652558A47" title="您可以自定义RMAN TSPITR的某些方面，同时仍然主要遵循执行全自动RMAN TSPITR的过程。">使用RMAN管理的辅助数据库覆盖RMAN TSPITR的默认值</a></p>
                              </li>
                              <li>
                                 <p><a href="performing-rman-tspitr.html#GUID-D0A465A5-B0D8-4E60-8941-D98DD8AC44D0" title="虽然Oracle建议您让RMAN管理辅助数据库的所有方面，但有时您可能必须创建和管理自己的辅助数据库。如果选择此模式，则负责设置，启动，停止和清理TSPITR中使用的辅助数据库。">使用您自己的辅助数据库执行RMAN TSPITR</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="BRADV374"></a><div class="props_rev_3"><a id="GUID-40A9A54A-8742-42D9-AB47-F0B61439A100" name="GUID-40A9A54A-8742-42D9-AB47-F0B61439A100"></a><h5 id="BRADV-GUID-40A9A54A-8742-42D9-AB47-F0B61439A100" class="sect5"><span class="enumeration_section">21.1.2.3</span> RMAN <span class="enumeration_section">TSPITR</span>如何与RMAN管理的辅助数据库一起使用</h5>
                     <div>
                        <p>在执行完全自动化的RMAN TSPITR（默认）之前，从恢复集，辅助目标和目标时间中选择表空间。</p>
                        <p>RMAN TSPITR的自动化模式共享许多这些高级处理步骤。RMAN TSPITR自动执行以下操作：</p>
                        <ol>
                           <li>
                              <p>如果尚未删除恢复集中的表空间，请通过对恢复集表空间执行<code class="codeph">DBMS_TTS.TRANSPORT_SET_CHECK</code>检查它们是否是自包含的，然后检查视图<code class="codeph">TRANSPORT_SET_VIOLATIONS</code>是否为空。如果查询返回行，RMAN将停止TSPITR处理。在TSPITR可以继续之前，您必须解决任何表空间包含违规。<a href="performing-rman-tspitr.html#GUID-06BAA701-860F-4E3C-AA70-277CCCB7F425__CHDFCCFH">例21-1</a>显示了在调用RMAN TSPITR之前如何设置和运行查询。</p>
                           </li>
                           <li>
                              <p>检查是否提供了与用户管理的辅助数据库的连接。如果是，则RMAN TSPITR使用它。如果没有，RMAN TSPITR将创建辅助数据库，启动它并连接到它。</p>
                           </li>
                           <li>
                              <p>如果尚未删除恢复集中的表空间，则使目标数据库中的表空间在目标数据库中脱机恢复。</p>
                           </li>
                           <li>
                              <p>从目标时间之前的时间点将备份控制文件还原到辅助数据库。</p>
                           </li>
                           <li>
                              <p>将数据文件从恢复集和辅助集还原到辅助数据库。</p>
                              <p>文件在以下位置恢复：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>您为每个文件指定的位置</p>
                                 </li>
                                 <li>
                                    <p>文件的原始位置（用于恢复集数据文件）</p>
                                 </li>
                                 <li>
                                    <p>辅助目标（如果使用了<code class="codeph">RECOVER TABLESPACE</code>的<code class="codeph">AUXILIARY DESTINATION</code>参数和RMAN管理的辅助数据库）</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>将辅助数据库中已还原的数据文件恢复到指定的时间。</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">RESETLOGS</code>选项打开辅助数据库。
                              </p>
                           </li>
                           <li>
                              <p>使恢复集表空间在辅助数据库中是只读的。</p>
                           </li>
                           <li>
                              <p>使用Data Pump实用程序从辅助数据库导出恢复集表空间，以生成可传输的表空间转储文件。</p>
                           </li>
                           <li>
                              <p>关闭辅助数据库。</p>
                           </li>
                           <li>
                              <p>从目标中删除恢复集表空间。</p>
                           </li>
                           <li>
                              <p>Data Pump实用程序读取可传输的表空间转储文件，并将恢复集表空间插入目标。</p>
                           </li>
                           <li>
                              <p>使放入目标数据库的表空间可读/写，并立即使它们脱机。</p>
                           </li>
                           <li>
                              <p>删除所有辅助集文件。</p>
                           </li>
                        </ol>
                        <p>此时，RMAN TSPITR已经完成。恢复集数据文件在指定的时间点返回到其内容，并且属于目标数据库。</p>
                        <p>恢复集表空间保持脱机状态，您可以备份然后重新联机。这些最后的步骤遵循Oracle的建议以及TSPITR完成后立即备份恢复的表空间的最佳实践。</p>
                     </div>
                  </div>
               </div>
            </div><a id="BRADV89790"></a><div class="props_rev_3"><a id="GUID-26A140F5-652B-4F58-900A-C10AE2780BC3" name="GUID-26A140F5-652B-4F58-900A-C10AE2780BC3"></a><h3 id="BRADV-GUID-26A140F5-652B-4F58-900A-C10AE2780BC3" class="sect3"><span class="enumeration_section">21.2</span> TSPITR限制，特殊情况和限制</h3>
               <div>
                  <p>由于某些限制和限制，TSPITR无法解决某些数据库问题。</p>
                  <p>以下列表说明了何时<span class="italic">无法</span>执行TSPITR：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果没有归档重做日志或数据库在<code class="codeph">NOARCHIVELOG</code>模式下运行。
                        </p>
                     </li>
                     <li>
                        <p>如果使用TSPITR将重命名的表空间恢复到重命名之前的某个时间点，则必须使用表空间的先前名称来执行恢复操作。</p>
                        <p>在这种情况下，当TSPITR完成时，目标数据库包含同一表空间的两个副本，具有新名称的原始表空间和具有旧名称的TSPITR表空间。如果这不是您的目标，那么您可以使用新名称删除新的表空间。</p>
                     </li>
                     <li>
                        <p>如果表空间<code class="codeph">tbs2</code>中包含表空间<code class="codeph">tbs1</code>中的表的约束，那么在不恢复<code class="codeph">tbs2</code>情况下无法恢复<code class="codeph">tbs1</code> 。
                        </p>
                     </li>
                     <li>
                        <p>如果表及其索引存储在不同的表空间中，则必须在执行TSPITR之前删除索引。</p>
                     </li>
                     <li>
                        <p>您无法使用TSPITR来恢复当前的默认表空间。</p>
                     </li>
                     <li>
                        <p>您不能使用TSPITR来恢复包含以下任何对象的表空间：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>具有基础对象（例如物化视图）或包含对象（例如分区表）的对象，除非所有底层或包含的对象都在恢复集中。此外，如果分区表的分区存储在不同的表空间中，则必须在执行TSPITR之前删除该表，或者在执行TSPITR之前将所有分区移动到同一表空间。</p>
                           </li>
                           <li>
                              <p>撤消或回滚段</p>
                           </li>
                           <li>
                              <p>与多个收件人兼容的Oracle8兼容高级队列</p>
                           </li>
                           <li>
                              <p>用户<code class="codeph">SYS</code>拥有的对象。这些类型的对象的示例是：PL / SQL，Java类，标注程序，视图，同义词，用户，特权，维度，目录和序列。
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </div><a id="BRADV89791"></a><div class="props_rev_3"><a id="GUID-CED74BCC-D938-46A4-AEE5-3F9A80B16F3D" name="GUID-CED74BCC-D938-46A4-AEE5-3F9A80B16F3D"></a><h4 id="BRADV-GUID-CED74BCC-D938-46A4-AEE5-3F9A80B16F3D" class="sect4"><span class="enumeration_section">21.2.1</span> TSPITR的局限性</h4>
                  <div>
                     <p>执行TSPITR时需要考虑一些限制。</p>
                     <p>TSPITR完成后，RMAN将恢复集中的数据文件恢复到目标时间。请注意以下特殊情况：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>TSPITR不会恢复已恢复对象的查询优化程序统计信息。您必须在TSPITR完成后收集新的统计信息。</p>
                        </li>
                        <li>
                           <p>如果你在一个表空间运行TSPITR与<span class="italic">时刻</span>带来的表空间联机，那么之前时间<span class="italic">t</span>创建的表空间的备份不再与当前控制文件恢复使用。您不能使用当前控制文件将数据库恢复到小于或等于<span class="italic">t的</span>任何时间。
                           </p>
                        </li>
                        <li>
                           <p>如果恢复集中的一个或多个数据文件具有Oracle托管文件（OMF）名称，并且目标数据库中的兼容性设置为10.1或更早版本，则RMAN无法重用该数据文件。即使没有为数据文件提供SET NEWNAME命令，此限制也是如此。为恢复集数据文件创建新的OMF名称。此操作会暂时将数据文件的空间要求加倍。这是因为<code class="codeph">DB_CREATE_FILE_DEST</code>具有数据文件的两个副本（原始数据文件和TSPITR使用的文件），直到在目标中删除表空间并删除原始数据文件。
                           </p>
                        </li>
                     </ul>
                     <p>RMAN使用可传输表空间功能来执行TSPITR。因此，对可传输表空间的任何限制也适用于TSPITR。</p>
                     <div class="infoboxnotealso" id="GUID-CED74BCC-D938-46A4-AEE5-3F9A80B16F3D__GUID-74D09E41-B50D-46AE-8C7A-599DF8A0E674">
                        <p class="notep1">也可以看看：</p>
                        <p>有关可传输表空间限制的信息，请参见<a href="../admin/transporting-data.html#ADMIN13896" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                     </div>
                  </div>
               </div><a id="BRADV89792"></a><div class="props_rev_3"><a id="GUID-AB95A6DD-C28E-4788-9B2E-916541F38119" name="GUID-AB95A6DD-C28E-4788-9B2E-916541F38119"></a><h4 id="BRADV-GUID-AB95A6DD-C28E-4788-9B2E-916541F38119" class="sect4"><span class="enumeration_section">21.2.2</span>关于不使用恢复目录时的特殊注意事项</h4>
                  <div>
                     <p>在TSPITR期间不使用恢复目录时，请注意某些预防措施。</p>
                     <p>预防措施包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>由于RMAN在控制文件中没有撤消的历史记录，因此RMAN假定当前具有回滚或撤消段的表空间集与执行恢复时存在的设置相同。如果表空间集自那时起已更改，则当前回滚段或还原段是执行恢复时存在的相同段。如果自那时以来撤消段已更改，则可以使用<code class="codeph">UNDO TABLESPACE</code>在恢复表空间的时间点使用undo指示正确的表空间集。
                           </p>
                        </li>
                        <li>
                           <p>如果Oracle数据库重用了所需备份的控制文件记录，则TSPITR到太旧的时间可能会失败。（在规划数据库时，将<code class="codeph">CONTROL_FILE_RECORD_KEEP_TIME</code>初始化参数设置为足够大的值，以确保保留TSPITR所需的控制文件记录。）
                           </p>
                        </li>
                        <li>
                           <p>要在不使用恢复目录时重新运行TSPITR，必须首先从目标数据库中删除TSPITR使用的表空间。</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="BRADV161"></a><div class="props_rev_3"><a id="GUID-EDF19841-06BC-4542-BD91-DC6699B3932A" name="GUID-EDF19841-06BC-4542-BD91-DC6699B3932A"></a><h3 id="BRADV-GUID-EDF19841-06BC-4542-BD91-DC6699B3932A" class="sect3"><span class="enumeration_section">21.3</span>规划和准备TSPITR</h3>
               <div>
                  <p>准备执行TSPITR时必须完成某些步骤。</p>
                  <div class="p">
                     <p><span class="bold">为TSPITR做准备：</span></p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>阅读并理解<span class="q">“ <a href="performing-rman-tspitr.html#GUID-26A140F5-652B-4F58-900A-C10AE2780BC3" title="由于某些限制和限制，TSPITR无法解决某些数据库问题。">TSPITR限制，特殊情况和限制</a> ”中</span>描述的注意事项。</span></li>
                     <li><span>选择必须恢复表空间的目标时间，如<span class="q">“ <a href="performing-rman-tspitr.html#GUID-02085787-2BE7-47DD-9D82-1DA6BBBE4366" title="为TSPITR选择正确的目标时间或SCN非常重要。请注意，在TSPITR之后将表空间联机后，您不能在使表空间联机的时间之前使用任何备份。">为TSPITR选择正确的目标时间</a> ”中所述</span> 。</span></li>
                     <li><span>确定恢复集，如<span class="q">“ <a href="performing-rman-tspitr.html#GUID-06C4F27C-F044-4FC3-87E9-44CF0FF7CD66" title="最初，恢复集包括要恢复的表空间的数据文件。但是，如果表空间中的对象需要与其他表空间中的对象建立关系（例如约束），则必须先考虑这些关系才能执行TSPITR">确定恢复集</a> ”中所述</span> 。</span></li>
                     <li><span>识别并保留在TSPITR操作完成后将丢失的对象，如<span class="q">“ <a href="performing-rman-tspitr.html#GUID-9276F56B-D7A7-4583-9011-9743365AAF38" title="在表空间上执行RMAN TSPITR时，在目标恢复时间之后创建的对象将丢失。您可以通过在TSPITR之前使用数据泵导出实用程序导出这些对象并在之后使用数据泵导入重新导入这些对象来保留这些对象。">识别和保留TSPITR之后丢失的对象</a> ”中所述</span> 。</span></li>
                  </ol>
               </div><a id="BRADV910"></a><div class="props_rev_3"><a id="GUID-02085787-2BE7-47DD-9D82-1DA6BBBE4366" name="GUID-02085787-2BE7-47DD-9D82-1DA6BBBE4366"></a><h4 id="BRADV-GUID-02085787-2BE7-47DD-9D82-1DA6BBBE4366" class="sect4"><span class="enumeration_section">21.3.1为TSPITR</span>选择正确的目标时间</h4>
                  <div>
                     <p>为TSPITR选择正确的目标时间或SCN非常重要。请注意，在TSPITR之后将表空间联机后，您不能在使表空间联机的时间之前使用任何备份。</p>
                     <div class="section">
                        <p>如果您有恢复目录，则可以对不同的目标时间执行重复的TSPITR操作，因为目录包含表空间历史记录信息。但是，如果RMAN仅使用控制文件，则只有在删除表空间后才能重复TSPITR，因为控制文件没有表空间历史记录。在这种情况下，RMAN只知道当前的表空间集。执行TSPITR的表空间的创建时间等于联机时间。</p>
                        <p>要确定TSPITR的目标时间，请调查数据的过去状态，并使用以下技术之一找到发生意外更改的时间点：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>闪回查询</p>
                           </li>
                           <li>
                              <p>Oracle事务查询</p>
                           </li>
                           <li>
                              <p>闪回版本查询</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-02085787-2BE7-47DD-9D82-1DA6BBBE4366__GUID-373E7070-F660-45B8-BF1A-814809AC09C6">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="performing-rman-tspitr.html#GUID-26A140F5-652B-4F58-900A-C10AE2780BC3" title="由于某些限制和限制，TSPITR无法解决某些数据库问题。">TSPITR限制，特殊情况和限制</a> ”</span></p>
                              </li>
                              <li>
                                 <p>有关闪回查询，闪回事务查询和闪回版本查询的详细信息，请参阅<a href="../adfns/flashback.html#ADFNS1008" target="_blank"><span><cite>“Oracle数据库开发指南”</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89793"></a><div class="props_rev_3"><a id="GUID-06C4F27C-F044-4FC3-87E9-44CF0FF7CD66" name="GUID-06C4F27C-F044-4FC3-87E9-44CF0FF7CD66"></a><h4 id="BRADV-GUID-06C4F27C-F044-4FC3-87E9-44CF0FF7CD66" class="sect4"><span class="enumeration_section">21.3.2</span>确定恢复集</h4>
                  <div>
                     <p>最初，恢复集包括要恢复的表空间的数据文件。但是，如果表空间中的对象需要与其他表空间中的对象建立关系（例如约束），则必须先考虑这些关系才能执行TSPITR</p>
                     <div class="section">
                        <p>面对这样的关系时，您有以下选择：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将包含相关对象的表空间添加到恢复集</p>
                           </li>
                           <li>
                              <p>删除关系</p>
                           </li>
                           <li>
                              <p>暂停TSPITR持续时间的关系</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-06C4F27C-F044-4FC3-87E9-44CF0FF7CD66__GUID-0DC4035E-6FD6-41C5-9A5E-454BD3CCF5F8">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="performing-rman-tspitr.html#GUID-06BAA701-860F-4E3C-AA70-277CCCB7F425" title="RMAN TSPITR要求正在恢复的表空间是自包含的，并且表空间中不存在SYS拥有的对象。">识别并解决主数据库上的依赖关系</a> ”，</span>以获取有关解析与其他表空间的关系的信息</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="BRADV375"></a><a id="BRADV89794"></a><div class="props_rev_3"><a id="GUID-06BAA701-860F-4E3C-AA70-277CCCB7F425" name="GUID-06BAA701-860F-4E3C-AA70-277CCCB7F425"></a><h5 id="BRADV-GUID-06BAA701-860F-4E3C-AA70-277CCCB7F425" class="sect5"><span class="enumeration_section">21.3.2.1</span>识别和解决主数据库的依赖关系</h5>
                     <div>
                        <p>RMAN TSPITR要求正在恢复的表空间是自包含的，并且没有<code class="codeph">SYS</code>拥有的对象驻留在表空间中。
                        </p>
                        <div class="section">
                           <p><span class="bold">识别和解决依赖关系：</span></p>
                           <ol>
                              <li>
                                 <p>使用<code class="codeph">DBMS_TTS.TRANSPORT_SET_CHECK</code>过程查找表空间外的对象，并标识跨越恢复集边界的对象之间的关系。
                                 </p>
                                 <p>如果<code class="codeph">TRANSPORT_SET_VIOLATIONS</code>视图返回行，则必须根据<span class="q">“ <a href="performing-rman-tspitr.html#GUID-06C4F27C-F044-4FC3-87E9-44CF0FF7CD66" title="最初，恢复集包括要恢复的表空间的数据文件。但是，如果表空间中的对象需要与其他表空间中的对象建立关系（例如约束），则必须先考虑这些关系才能执行TSPITR">确定恢复集</a> ”中</span>描述的选项调查并更正问题。
                                 </p>
                              </li>
                              <li>
                                 <p>记录在此步骤中执行的所有操作，以便您可以在完成TSPITR后重新创建任何已暂停或已删除的关系。</p>
                                 <p><span class="italic">仅</span>当<code class="codeph">TRANSPORT_SET_VIOLATIONS</code>视图对于恢复集中的表空间为空时， <span class="italic">才</span>继续执行TSPITR。
                                 </p>
                              </li>
                           </ol>
                           <div class="infoboxnote" id="GUID-06BAA701-860F-4E3C-AA70-277CCCB7F425__GUID-AC28A0EE-8DFF-46AD-9BCC-8549B851C4C2">
                              <p class="notep1">注意：</p>
                              <p>如果已删除恢复集中的一个或多个表空间，则RMAN TSPITR无法运行<code class="codeph">DBMS_TTS.TRANSPORT_SET_CHECK</code>过程。在这种情况下， <code class="codeph">DBMS_TTS.TRANSPORT_SET_CHECK</code>在辅助数据库的数据泵导出时运行。就像RMAN TSPITR一样，如果导出操作遇到任何非自包含的表空间，它将失败。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-06BAA701-860F-4E3C-AA70-277CCCB7F425__CHDFCCFH">
                           <p class="titleinexample">示例21-1查询表空间子集的DBMS_TTS.TRANSPORT_SET_CHECK</p>
                           <p>此示例说明如何将<code class="codeph">DBMS_TTS.TRANSPORT_SET_CHECK</code>过程用于由表空间<code class="codeph">tools</code>和<code class="codeph">users</code>组成的初始恢复集。它查询可传输的表空间违例表以管理任何依赖项。管理所有依赖项时，不会从此查询返回任何行。
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TTS.TRANSPORT_SET_CHECK（'USERS，TOOLS'，TRUE，TRUE）;结束; / SELECT * FROM TRANSPORT_SET_VIOLATIONS;</pre><div class="infoboxnotealso" id="GUID-06BAA701-860F-4E3C-AA70-277CCCB7F425__GUID-35ACE992-C02B-498D-AAC9-E6E4CBBC91BC">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../arpls/DBMS_TTS.html#ARPLS68936" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a>有关<code class="codeph">DBMS_TTS.TRANSPORT_SET_CHECK</code>过程和相应视图的更多信息</p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="BRADV376"></a><a id="BRADV377"></a><a id="BRADV378"></a><a id="BRADV89795"></a><div class="props_rev_3"><a id="GUID-9276F56B-D7A7-4583-9011-9743365AAF38" name="GUID-9276F56B-D7A7-4583-9011-9743365AAF38"></a><h4 id="BRADV-GUID-9276F56B-D7A7-4583-9011-9743365AAF38" class="sect4"><span class="enumeration_section">21.3.3</span>识别和保留TSPITR后丢失的对象</h4>
                  <div>
                     <p>在表空间上执行RMAN TSPITR时，在目标恢复时间之后创建的对象将丢失。您可以通过在TSPITR之前使用数据泵导出实用程序导出这些对象并在之后使用数据泵导入重新导入这些对象来保留这些对象。</p>
                     <div class="section">
                        <p>要确定在TSPITR中丢失了哪些对象，请查询主数据库上的<code class="codeph">TS_PITR_OBJECTS_TO_BE_DROPPED</code>视图。过滤<code class="codeph">CREATION_TIME</code>在TSPITR目标时间之后的对象的视图。下表描述了视图的内容。
                        </p>
                        <div class="tblformal" id="GUID-9276F56B-D7A7-4583-9011-9743365AAF38__G1040808">
                           <p class="titleintable">表21-2 TS_PITR_OBJECTS_TO_BE_DROPPED视图</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TS_PITR_OBJECTS_TO_BE_DROPPED查看" width="100%" border="1" summary="This table describes columns in the TS_PITR_OBJECTS_TO_BE_DROPPED view." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d92175e1766">列名称</th>
                                    <th align="left" valign="bottom" width="67%" id="d92175e1769">含义</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d92175e1774" headers="d92175e1766 ">
                                       <p><code class="codeph">所有者</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d92175e1774 d92175e1769 ">
                                       <p>要删除的对象的所有者</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d92175e1782" headers="d92175e1766 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d92175e1782 d92175e1769 ">
                                       <p>通过TSPITR丢失的对象的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d92175e1790" headers="d92175e1766 ">
                                       <p><code class="codeph">CREATION_TIME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d92175e1790 d92175e1769 ">
                                       <p>对象的创建时间戳</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d92175e1798" headers="d92175e1766 ">
                                       <p><code class="codeph">TABLESPACE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d92175e1798 d92175e1769 ">
                                       <p>包含该对象的表空间的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9276F56B-D7A7-4583-9011-9743365AAF38__CHDJAEFG">
                        <p class="titleinexample">例21-2查询TS_PITR_OBJECTS_TO_BE_DROPPED</p>
                        <p>此示例显示执行TSPITR时需要保留的对象，其中恢复集由<code class="codeph">users</code>和<code class="codeph">tools</code>组成，恢复时间为2017年11月2日上午7:03:11。
                        </p><pre class="oac_no_warn" dir="ltr">选择所有者，NAME，TABLESPACE_NAME，TO_CHAR（CREATION_TIME，'YYYY-MM-DD：HH24：MI：SS'）来自TS_PITR_OBJECTS_TO_BE_DROPPED TABLESPACE_NAME IN（'USERS'，'TOOLS'）和CREATION_TIME&gt; TO_DATE（'02 -NOV-17 ：07：03：11'，'YY-MON-DD：HH24：MI：SS'）由TABLESPACE_NAME订购，CREATION_TIME;</pre><p><code class="codeph">TO_CHAR</code>和<code class="codeph">TO_DATE</code>函数用于避免使用不同的国家日期格式。当然，您可以在自己的工作中使用本地日期格式。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-9276F56B-D7A7-4583-9011-9743365AAF38__CIHJBAFB">
                        <p class="titleinexample">例21-3使用SCN和TS_PITR_OBJECTS_TO_BE_DROPPED</p>
                        <p>如果恢复表空间<code class="codeph">USERS</code>和<code class="codeph">TOOLS</code>的SCN是1645870，则此示例确定要删除的对象。使用转换函数确定与SCN关联的时间戳和丢弃的对象。
                        </p><pre class="oac_no_warn" dir="ltr">选择所有者，名称，TABLESPACE_NAME，TO_CHAR（CREATION_TIME，'YYYY-MM-DD：HH24：MI：SS'）来自TS_PITR_OBJECTS_TO_BE_DROPPED在哪里TABLESPACE_NAME IN（'USERS'，'TOOLS'）和CREATION_TIME&gt; TO_DATE（TO_CHAR（SCN_TO_TIMESTAMP（1645870）） ，'MM / DD / YYYY HH24：MI：SS'），'MM / DD / YYYY HH24：MI：SS'）TABLESPACE_NAME订购，CREATION_TIME;</pre><div class="infoboxnotealso" id="GUID-9276F56B-D7A7-4583-9011-9743365AAF38__GUID-F6E456DF-1C35-4152-9A39-231167BA8776">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">TS_PITR_OBJECTS_TO_BE_DROPPED</code>视图的更多信息，请<code class="codeph">TS_PITR_OBJECTS_TO_BE_DROPPED</code> <a href="../refrn/TS_PITR_OBJECTS_TO_BE_DROPPED.html#REFRN29022" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="BRADV379"></a><a id="BRADV89796"></a><div class="props_rev_3"><a id="GUID-B878E5C6-8E83-4A13-AFC7-249A5B310CFA" name="GUID-B878E5C6-8E83-4A13-AFC7-249A5B310CFA"></a><h3 id="BRADV-GUID-B878E5C6-8E83-4A13-AFC7-249A5B310CFA" class="sect3"><span class="enumeration_section">21.4</span>执行全自动RMAN TSPITR</h3>
               <div>
                  <p>在默认模式下，RMAN在目标数据库上尽可能多地使用TSPITR的配置。</p>
                  <div class="section">
                     <p>在TSPITR期间，恢复集数据文件将写入目标数据库的当前位置（对于OMF文件，请参阅<span class="q">“ <a href="performing-rman-tspitr.html#GUID-CED74BCC-D938-46A4-AEE5-3F9A80B16F3D" title="执行TSPITR时需要考虑一些限制。">TSPITR的限制</a> ”</span> ）。从备份还原文件时，辅助数据库上将使用相同的目标数据库通道配置。然而，辅助设置数据文件和其他辅助数据库文件存储在辅助目的地中。
                     </p>
                     <p>使用<code class="codeph">AUXILIARY DESTINATION</code>参数设置RMAN用于辅助集数据文件的位置。辅助目标必须是磁盘上的位置，并且有足够的空间来容纳辅助设置数据文件。即使您使用其他技术重命名部分或全部辅助集数据文件，指定<code class="codeph">AUXILIARY DESTINATION</code>参数也会为未指定名称的辅助集数据文件提供默认位置。如果您无意中未提供所有辅助设置数据文件的名称，则TSPITR不会失败。
                     </p>
                     <p>要执行完全自动化的RMAN TSPITR，执行TSPITR的用户必须能够使用操作系统身份验证连接<code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDBA</code>权限。
                     </p>
                     <p><span class="bold">要执行全自动RMAN TSPITR：</span></p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>查看<span class="q">“ <a href="performing-rman-tspitr.html#GUID-26A140F5-652B-4F58-900A-C10AE2780BC3" title="由于某些限制和限制，TSPITR无法解决某些数据库问题。">TSPITR限制，特殊情况和限制</a> ”中的信息</span> 。</span></li>
                     <li class="stepexpand"><span>执行<span class="q">“ <a href="performing-rman-tspitr.html#GUID-EDF19841-06BC-4542-BD91-DC6699B3932A" title="准备执行TSPITR时必须完成某些步骤。">规划和准备TSPITR</a> ”中</span>的任务。</span></li>
                     <li class="stepexpand"><span>在目标数据库上启动RMAN会话，并在适用的情况下连接到恢复目录，如<span class="q">“ <a href="starting-interacting-with-rman-client.html#GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" title="您可以从RMAN客户端或操作系统命令行创建数据库连接。可以使用密码文件或操作系统身份验证对这些数据库连接进行身份验证。">使用RMAN建立数据库连接</a> ”中所述</span> 。</span><div>
                           <div class="infoboxnote" id="GUID-B878E5C6-8E83-4A13-AFC7-249A5B310CFA__GUID-6815E5FF-3DFF-4760-B06D-09208680E111">
                              <p class="notep1">注意：</p>
                              <p>启动自动TSPITR的RMAN客户端时，请勿连接到辅助数据库。如果在运行<code class="codeph">RECOVER TABLESPACE</code>时RMAN连接到辅助数据库，则RMAN假定您正在管理自己的辅助数据库，如<span class="q">“ <a href="performing-rman-tspitr.html#GUID-D0A465A5-B0D8-4E60-8941-D98DD8AC44D0" title="虽然Oracle建议您让RMAN管理辅助数据库的所有方面，但有时您可能必须创建和管理自己的辅助数据库。如果选择此模式，则负责设置，启动，停止和清理TSPITR中使用的辅助数据库。">使用您自己的辅助数据库执行RMAN TSPITR</a> ”中所述</span> ，并尝试将连接的辅助用于TSPITR。</p>
                           </div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>在目标实例上配置TSPITR所需的任何通道。</span><div>
                           <p>执行TSPITR时，辅助数据库使用与目标实例相同的通道配置。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>运行<code class="codeph">RECOVER TABLESPACE</code>命令，同时指定<code class="codeph">UNTIL</code>子句和<code class="codeph">AUXILIARY DESTINATION</code>参数。</span><div>
                           <p>此示例将<code class="codeph">USERS</code>和<code class="codeph">TOOLS</code>表空间返回到日志序列号1299的末尾，并将辅助集文件存储在<code class="codeph">/disk1/auxdest</code>目录中。
                           </p><pre class="oac_no_warn" dir="ltr">RECOVER TABLESPACE用户，工具UNTIL LOGSEQ 1300 THREAD 1 AUXILIARY DESTINATION'/ disk1 / auxdest';</pre></div>
                     </li>
                     <li class="stepexpand"><span>查看<code class="codeph">RECOVER</code>命令的结果以确定要采取的步骤：</span><div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果在TSPITR期间没有发生错误，则继续执行步骤<a href="performing-rman-tspitr.html#GUID-B878E5C6-8E83-4A13-AFC7-249A5B310CFA__CHDCGEEF">7</a> 。
                                 </p>
                                 <p>表空间由RMAN脱机，从备份恢复并恢复到辅助数据库上的所需时间点，然后重新导入到目标数据库。表空间保持脱机状态。从辅助目标清除所有辅助设置数据文件和其他辅助数据库文件。</p>
                              </li>
                              <li>
                                 <p>如果在TSPITR期间发生错误，则继续执行<span class="q">“ <a href="performing-rman-tspitr.html#GUID-9B0BADD4-750E-4D74-A816-07E075B0AA96" title="各种问题都可能导致RMAN TSPITR失败。必须确定并修复问题。">RMAN TSPITR故障排除</a> ”</span> 。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand" id="GUID-B878E5C6-8E83-4A13-AFC7-249A5B310CFA__CHDCGEEF"><span>如果TSPITR成功完成，则在将恢复的表空间联机之前备份它们。</span><div>
                           <p>例如，输入以下命令：</p><pre class="oac_no_warn" dir="ltr">BACKUP TABLESPACE用户，工具;</pre><p>在表空间上执行TSPITR后，在TSPITR成功完成后，您将无法再使用该表空间的先前备份。如果在不进行备份的情况下使用恢复的表空间，则运行数据库而不使用这些表空间的可用备份。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>将表空间重新联机。</span><div>
                           <p>例如，输入以下命令：</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; ALTER TABLESPACE用户，工具ONLINE;</pre><p>您恢复的表空间现在可以使用了。</p>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="BRADV89797"></a><div class="props_rev_3"><a id="GUID-6252E21A-E6C5-4269-8666-B5C652558A47" name="GUID-6252E21A-E6C5-4269-8666-B5C652558A47"></a><h3 id="BRADV-GUID-6252E21A-E6C5-4269-8666-B5C652558A47" class="sect3"><span class="enumeration_section">21.5</span>使用RMAN管理的辅助数据库覆盖RMAN TSPITR的默认值</h3>
               <div>
                  <p>您可以自定义RMAN TSPITR的某些方面，同时仍然主要遵循执行全自动RMAN TSPITR的过程。</p>
                  <p>这些包括以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>重命名或重定位恢复集数据文件，以便构成恢复的表空间的数据文件不会存储在TSPITR之后的原始位置。如果最初包含表空间的磁盘不可用，则可能需要这样做。</p>
                     </li>
                     <li>
                        <p>为某些或所有辅助设置数据文件指定辅助目标以外的位置。如果磁盘上没有单个位置具有足够的空间用于所有辅助集文件，则可以选择此选项。</p>
                     </li>
                     <li>
                        <p>以Oracle托管文件格式重命名文件。</p>
                     </li>
                     <li>
                        <p>提前设置辅助设置数据文件的映像副本备份，以避免在TSPITR期间恢复数据文件。</p>
                     </li>
                     <li>
                        <p>自定义RMAN管理的辅助数据库的初始化参数。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-6252E21A-E6C5-4269-8666-B5C652558A47__GUID-A7070A19-BE4E-410B-A285-BCA8A98DE18E">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="performing-rman-tspitr.html#GUID-1C46D7E5-1A2B-486D-9BE0-88F4B71C7C49" title="您可能不希望恢复集数据文件在其原始位置恢复和恢复。SET NEWNAME命令可用于指定新目标。为恢复集指定新目标时，RMAN不会删除表空间的原始数据文件。">使用SET NEWNAME重命名TSPITR恢复集数据文件</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="performing-rman-tspitr.html#GUID-A834CFEB-C099-40A5-AEAF-349BE084AC70" title="与通常存储在其原始位置的恢复集数据文件不同，辅助集数据文件不得覆盖目标数据库中的相应原始文件。如果未指定与其原始位置不同的辅助集文件位置，则TSPITR将失败。当RMAN尝试覆盖原始数据库中的相应文件并发现正在使用的文件时，会发生故障。">命名TSPITR辅助设置数据文件</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="performing-rman-tspitr.html#GUID-1E3933FC-9FA4-4012-B59D-A27406A86419" title="辅助集数据文件可以在目标中具有Oracle管理文件（OMF），并且可以使用自动存储管理（ASM）或非ASM存储。当设置了DB_FILE_NAME_CONVERT初始化参数且OMF文件位于ASM或非ASM存储中时，TSPITR以不同方式执行名称转换。">在TSPITR中重命名OMF辅助设置文件时的注意事项</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="performing-rman-tspitr.html#GUID-C3ACA139-02C3-4DED-978D-DCD785724AC4" title="通过重定向RMAN以使用恢复集和辅助集数据文件的现有映像副本，可以增强TSPITR性能。在这种情况下，RMAN不需要从备份还原数据文件。">使用映像副本实现更快的RMAN TSPITR性能</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="performing-rman-tspitr.html#GUID-A86E8164-690C-49B7-B978-85E460DA2AC6" title="自动辅助数据库使用一组默认初始化参数。如果需要，您可以添加其他参数。">自定义TSPITR中自动辅助数据库的初始化参数</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="BRADV381"></a><a id="BRADV89799"></a><div class="props_rev_3"><a id="GUID-1C46D7E5-1A2B-486D-9BE0-88F4B71C7C49" name="GUID-1C46D7E5-1A2B-486D-9BE0-88F4B71C7C49"></a><h4 id="BRADV-GUID-1C46D7E5-1A2B-486D-9BE0-88F4B71C7C49" class="sect4"><span class="enumeration_section">21.5.1</span>使用SET NEWNAME重命名TSPITR恢复集数据文件</h4>
                  <div>
                     <p>您可能不希望恢复集数据文件在其原始位置恢复和恢复。<code class="codeph">SET NEWNAME</code>命令可用于指定新目标。为恢复集指定新目标时，RMAN不会删除表空间的原始数据文件。
                     </p>
                     <div class="section">
                        <p>要指定新的恢复集文件名，请创建一个<code class="codeph">RUN</code>块并在其中使用<code class="codeph">SET NEWNAME</code>命令。请务必指定彼此不冲突的名称或与当前数据文件的名称冲突的名称。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-1C46D7E5-1A2B-486D-9BE0-88F4B71C7C49__CHDBDCCA">
                        <p class="titleinexample">示例21-4重命名恢复集文件</p>
                        <p>此示例为恢复集数据文件指定新名称。在此示例中，RMAN执行以下操作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在TSPITR期间将每个指定的数据文件还原到新位置。</p>
                           </li>
                           <li>
                              <p>如果映像副本存在于指定位置且其检查点位于指定时间点之前，则使用映像副本。如果不满足此条件，则RMAN将覆盖映像副本。</p>
                           </li>
                           <li>
                              <p>将新恢复的数据文件插入目标控制文件。</p>
                           </li>
                        </ul>
                        <p>在实际恢复之前，RMAN不会检测使用<code class="codeph">SET NEWNAME</code>设置的名称与目标数据库上的当前数据文件名之间的冲突。如果RMAN检测到冲突，则TSPITR失败并且RMAN报告错误。有效数据文件不会被覆盖。
                        </p><pre class="oac_no_warn" dir="ltr">跑 { 。。。FOR DATAFILE <span class="italic">'ORACLE_HOME</span> /oradata/trgt/users01.dbf' TO '/newfs/users01.dbf' SET NEWNAME; <span class="italic">...其他SET NEWNAME命令......</span>RECOVER TABLESPACE用户，工具UNTIL SEQUENCE 1300 THREAD 1; }</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="BRADV382"></a><a id="BRADV89800"></a><div class="props_rev_3"><a id="GUID-A834CFEB-C099-40A5-AEAF-349BE084AC70" name="GUID-A834CFEB-C099-40A5-AEAF-349BE084AC70"></a><h4 id="BRADV-GUID-A834CFEB-C099-40A5-AEAF-349BE084AC70" class="sect4"><span class="enumeration_section">21.5.2</span>命名TSPITR辅助集数据文件</h4>
                  <div>
                     <p>与通常存储在其原始位置的恢复集数据文件不同，辅助集数据文件不得覆盖目标数据库中的相应原始文件。如果未指定与其原始位置不同的辅助集文件位置，则TSPITR将失败。当RMAN尝试覆盖原始数据库中的相应文件并发现正在使用的文件时，会发生故障。</p>
                     <div class="section">
                        <p>为辅助集数据文件提供位置的最简单方法是为TSPITR指定辅助目标。但是，RMAN支持以下备选方案来控制辅助集数据文件的位置，这些文件按<a href="performing-rman-tspitr.html#GUID-A834CFEB-C099-40A5-AEAF-349BE084AC70__CHDGAFGB" title="描述优先顺序：set newname，configure auxname，db_file_name_convert和辅助目标">表21-3中</a>所示的优先顺序列出。
                        </p>
                        <div class="tblformal" id="GUID-A834CFEB-C099-40A5-AEAF-349BE084AC70__CHDGAFGB">
                           <p class="titleintable">表21-3命名文件的优先顺序</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="命名文件的优先顺序" width="100%" border="1" summary="Describes order of precedence: set newname, configure auxname, db_file_name_convert, and auxiliary destination" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="12%" id="d92175e2419">订购</th>
                                    <th align="left" valign="bottom" width="38%" id="d92175e2422">技术</th>
                                    <th align="left" valign="bottom" width="50%" id="d92175e2425">部分</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d92175e2430" headers="d92175e2419 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d92175e2430 d92175e2422 ">
                                       <p><code class="codeph">设置NEWNAME</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d92175e2430 d92175e2425 ">
                                       <p><span class="q">“ <a href="performing-rman-tspitr.html#GUID-0B5AE21B-E444-46C7-8C1E-0E824CDF80A9" title="要为辅助集数据文件指定新名称，可以将RECOVER TABLESPACE包含在RUN命令中，并使用RUN块中的SET NEWNAME命令重命名该文件。">在TSPITR期间使用SET NEWNAME命名辅助设置数据文件</a> ”</span></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d92175e2459" headers="d92175e2419 ">
                                       <p>2</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d92175e2459 d92175e2422 ">
                                       <p><code class="codeph">配置AUXNAME</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d92175e2459 d92175e2425 ">
                                       <p><span class="q">“ <a href="performing-rman-tspitr.html#GUID-FC741E8C-D422-4856-A3E3-709F91547914" title="CONFIGURE AUXNAME命令为辅助集数据文件映像副本设置持久备用位置，而SET NEWNAME命令为RUN命令的持续时间设置备用位置。">使用SET NEWNAME和CONFIGURE AUXNAME与辅助设置图像副本</a> ”</span></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d92175e2485" headers="d92175e2419 ">
                                       <p>3</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d92175e2485 d92175e2422 ">
                                       <p><code class="codeph">DB_FILE_NAME_CONVERT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d92175e2485 d92175e2425 ">
                                       <p><span class="q">“ <a href="performing-rman-tspitr.html#GUID-310586B1-F08C-456C-8398-62CB6930DD4C" title="如果您不想为所有辅助集数据文件使用辅助目标，但又不想单独命名每个文件，则可以在辅助数据库使用的初始化参数文件中包含DB_FILE_NAME_CONVERT初始化参数。">在TSPITR期间使用DB_FILE_NAME_CONVERT命名辅助设置数据文件</a> ”</span> 。
                                       </p>
                                       <p>如果目标数据库使用OMF名称作为辅助集，则无法使用<code class="codeph">DB_FILE_NAME_CONVERT</code> 。请参阅<span class="q">“ <a href="performing-rman-tspitr.html#GUID-1E3933FC-9FA4-4012-B59D-A27406A86419" title="辅助集数据文件可以在目标中具有Oracle管理文件（OMF），并且可以使用自动存储管理（ASM）或非ASM存储。当设置了DB_FILE_NAME_CONVERT初始化参数且OMF文件位于ASM或非ASM存储中时，TSPITR以不同方式执行名称转换。">在TSPITR中重命名OMF辅助设置文件时的注意事项</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d92175e2520" headers="d92175e2419 ">
                                       <p>4</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d92175e2520 d92175e2422 ">
                                       <p>使用RMAN管理的辅助数据库时， <code class="codeph">RECOVER TABLESPACE</code> <code class="codeph">AUXILIARY DESTINATION</code>参数</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d92175e2520 d92175e2425 ">
                                       <p></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>在应用了两者的情况下，列表中较高的设置会覆盖列表中较低的设置。例如，您可以运行<code class="codeph">RECOVER TABLESPACE...当某些辅助设置数据文件具有使用<code class="codeph">CONFIGURE AUXNAME</code>配置的辅助名称时，目标数据库上的AUXILIARY DESTINATION</code>目标。</p>
                        <p>即使您打算使用上述任一技术为特定文件提供位置，Oracle建议您在使用RMAN管理的辅助数据库时向<code class="codeph">RECOVER TABLESPACE</code>提供<code class="codeph">AUXILIARY DESTINATION</code>参数。如果忽略重命名一些辅助设置数据文件，那么TSPITR仍然会成功。未以其他方式重命名的任何文件都放在辅助目标中。
                        </p>
                        <div class="infoboxnote" id="GUID-A834CFEB-C099-40A5-AEAF-349BE084AC70__GUID-D54D44CF-E0BC-484D-B3B8-A4256B985D82">
                           <p class="notep1">注意：</p>
                           <p>您可以通过运行<code class="codeph">SHOW AUXNAME</code>命令查看任何当前的<code class="codeph">CONFIGURE AUXNAME</code>设置，该命令在<a href="../rcmrf/SHOW.html#RCMRF154" target="_blank"><span><cite>Oracle数据库备份和恢复参考中</cite></span></a>有所描述。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="BRADV383"></a><div class="props_rev_3"><a id="GUID-1E3933FC-9FA4-4012-B59D-A27406A86419" name="GUID-1E3933FC-9FA4-4012-B59D-A27406A86419"></a><h5 id="BRADV-GUID-1E3933FC-9FA4-4012-B59D-A27406A86419" class="sect5"><span class="enumeration_section">21.5.2.1</span>在TSPITR中重命名OMF辅助设置文件时的注意事项</h5>
                     <p>辅助集数据文件可以在目标中具有Oracle管理文件（OMF），并且可以使用自动存储管理（ASM）或非ASM存储。当设置了<code class="codeph">DB_FILE_NAME_CONVERT</code>初始化参数且OMF文件位于ASM或非ASM存储中时， <code class="codeph">DB_FILE_NAME_CONVERT</code>以不同方式执行名称转换。
                     </p><a id="BRADV385"></a><a id="BRADV384"></a><div class="props_rev_3"><a id="GUID-5E7FEE1C-7F4C-42CD-9349-251EF4FFEA74" name="GUID-5E7FEE1C-7F4C-42CD-9349-251EF4FFEA74"></a><h6 id="BRADV-GUID-5E7FEE1C-7F4C-42CD-9349-251EF4FFEA74" class="sect6"><span class="enumeration_section">21.5.2.1.1</span>使用ASM存储</h6>
                        <div>
                           <p>您可以使用辅助数据库的<code class="codeph">DB_FILE_NAME_CONVERT</code>和<code class="codeph">LOG_FILE_NAME_CONVERT</code>初始化参数来指定磁盘组的转换。RMAN使用该模式转换ASM磁盘组名称，并在转换后的磁盘组中生成有效的OMF文件名。
                           </p>
                           <div class="section">
                              <p>对于使用ASM存储的Oracle Managed Files（OMF），数据库仅将磁盘组名称转换为：+ DISK1到+ DISK2。</p>
                              <p>以下命令指定日志文件的转换：</p><pre class="oac_no_warn" dir="ltr">LOG_FILE_NAME_CONVERT = '+ onlinelogs'， '+ tmpasm'</pre><p>如果<code class="codeph">DB_FILE_NAME_CONVERT</code>和<code class="codeph">LOG_FILE_NAME_CONVERT</code>参数更改了磁盘组名称以外的子字符串，则会忽略转换并使用生成的磁盘组名称。例如：</p><pre class="oac_no_warn" dir="ltr">DB_FILE_NAME_CONVERT = '+ DATAFILE / PROD'， '+ DATAFILE / TSPITR'</pre><p>上述命令导致ASM OMF文件名无效，忽略更改。而是在磁盘组名称+ DATAFILE中创建文件，并发出以下消息：</p><pre class="oac_no_warn" dir="ltr">警告：DB_FILE_NAME_CONVERT导致ASM名称无效;名称仅更改为磁盘组</pre><p>如果辅助集数据文件存储在ASM磁盘组中，则可以使用<code class="codeph">SET NEWNAME</code>命令将单个文件重定向到可从辅助数据库访问的特定磁盘组（并允许数据库在磁盘组中生成文件名）。
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-5E7FEE1C-7F4C-42CD-9349-251EF4FFEA74__CIHHGCGF">
                              <p class="titleinexample">示例21-5重定向ASM文件</p>
                              <p>此示例显示如何使用<code class="codeph">SET NEWNAME</code>命令将单个文件重定向到特定磁盘组。
                              </p><pre class="oac_no_warn" dir="ltr">运行{为数据文件1设置NEWNAME到“+ DISK2”;将DATAFILE 2的NEWNAME设置为“+ DISK3”; RECOVER TABLESPACE用户，工具UNTIL LOGSEQ 1300 THREAD 1 AUXILIARY DESTINATION'/ disk1 / auxdest'; }</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="BRADV386"></a><div class="props_rev_3"><a id="GUID-AEA2C5F4-214B-4795-86DE-69BC307832EE" name="GUID-AEA2C5F4-214B-4795-86DE-69BC307832EE"></a><h6 id="BRADV-GUID-AEA2C5F4-214B-4795-86DE-69BC307832EE" class="sect6"><span class="enumeration_section">21.5.2.1.2</span>使用非ASM存储</h6>
                        <div>
                           <p>有多种方法可用于重命名辅助数据库的OMF（非ASM）文件名。</p>
                           <div class="section">
                              <p>初始化参数<code class="codeph">DB_FILE_NAME_CONVERT</code>和<code class="codeph">LOG_FILE_NAME_CONVERT</code>不能用于重命名辅助数据库的OMF（非ASM）文件名，因为此方法会生成无效的OMF文件名。如果必须控制不使用ASM存储的新OMF文件名的生成，则必须使用以下备用技术之一重命名它们。
                              </p>
                              <p>从最推荐到最不推荐的顺序列出了各种命名选项。</p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>使用辅助目标，如<span class="q">“ <a href="performing-rman-tspitr.html#GUID-B878E5C6-8E83-4A13-AFC7-249A5B310CFA" title="在默认模式下，RMAN在目标数据库上尽可能多地使用TSPITR的配置。">执行全自动RMAN TSPITR</a> ”中所述</span> 。</span></li>
                              <li class="stepexpand"><span>使用辅助数据库的一个或多个OMF初始化参数指定新OMF文件的位置，以便处理所有必需的OMF文件：</span><div>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">DB_CREATE_FILE_DEST</code>用于辅助集数据文件</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DB_CREATE_ONLINE_LOG_DEST_ <span class="codeinlineitalic">n</span></code> ，如果未在<code class="codeph">DB_CREATE_FILE_DEST</code>创建联机日志，则使用<code class="codeph">DB_CREATE_FILE_DEST</code>作为辅助数据库的联机重做日志</p>
                                       </li>
                                    </ul>
                                 </div>
                              </li>
                           </ol>
                        </div>
                     </div>
                  </div><a id="BRADV387"></a><a id="BRADV89801"></a><div class="props_rev_3"><a id="GUID-0B5AE21B-E444-46C7-8C1E-0E824CDF80A9" name="GUID-0B5AE21B-E444-46C7-8C1E-0E824CDF80A9"></a><h5 id="BRADV-GUID-0B5AE21B-E444-46C7-8C1E-0E824CDF80A9" class="sect5"><span class="enumeration_section">21.5.2.2</span>在TSPITR期间使用SET NEWNAME命名辅助设置数据文件</h5>
                     <div>
                        <p>要为辅助集数据文件指定新名称，可以将<code class="codeph">RECOVER TABLESPACE</code>在<code class="codeph">RUN</code>命令中，并使用<code class="codeph">RUN</code>块中的<code class="codeph">SET NEWNAME</code>命令重命名该文件。
                        </p>
                        <div class="section"></div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-0B5AE21B-E444-46C7-8C1E-0E824CDF80A9__CHDIAAAJ">
                           <p class="titleinexample">示例21-6在TSPITR中重命名辅助集Oracle托管文件（OMF）</p>
                           <p>此示例说明了使用SET NEWNAME重命名文件的基本技巧。结果取决于执行<code class="codeph">RECOVER TABLESPACE</code>时是否存在<code class="codeph">/disk1/auxdest/system01.dbf</code> 。如果<code class="codeph">?/oradata/system01.dbf</code>存在于指定位置，并且在TSPITR的<code class="codeph">UNTIL</code>时间之前在SCN处创建，然后使用<code class="codeph">DATAFILECOPY</code>并且不需要还原操作。否则，RMAN将辅助集数据文件还原为<code class="codeph">NEWNAME</code>而不是默认位置。如果您打算控制辅助集数据文件的存储位置，请确保在执行TSPITR之前没有文件存储在<code class="codeph">SET NEWNAME</code>指定的位置。</p><pre class="oac_no_warn" dir="ltr">RUN {SET NEWNAME FOR DATAFILE'？/oradata/prod/system01.dbf'TO'/disk1/auxdest/system01.dbf';为DATAFILE设置NEWNAME'？/oradata/prod/sysaux01.dbf'TO'/disk1/auxdest/sysaux01.dbf';为DATAFILE设置NEWNAME'？/oradata/prod/undotbs01.dbf'TO'/disk1/auxdest/undotbs01.dbf'; RECOVER TABLESPACE用户，工具UNTIL LOGSEQ 1300 THREAD 1 AUXILIARY DESTINATION'/ disk1 / auxdest'; }</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-0B5AE21B-E444-46C7-8C1E-0E824CDF80A9__GUID-0D7DCAE4-0388-4AB3-9BAA-4E82E87FC6E6">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="performing-rman-tspitr.html#GUID-FC741E8C-D422-4856-A3E3-709F91547914" title="CONFIGURE AUXNAME命令为辅助集数据文件映像副本设置持久备用位置，而SET NEWNAME命令为RUN命令的持续时间设置备用位置。">使用SET NEWNAME和CONFIGURE AUXNAME与辅助设置图像副本</a> ”</span></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="BRADV89802"></a><div class="props_rev_3"><a id="GUID-310586B1-F08C-456C-8398-62CB6930DD4C" name="GUID-310586B1-F08C-456C-8398-62CB6930DD4C"></a><h5 id="BRADV-GUID-310586B1-F08C-456C-8398-62CB6930DD4C" class="sect5"><span class="enumeration_section">21.5.2.3</span>在TSPITR期间使用DB_FILE_NAME_CONVERT命名辅助设置数据文件</h5>
                     <div>
                        <p>如果您不想为所有辅助集数据文件使用辅助目标，但又不想单独命名每个文件，则可以在辅助数据库使用的初始化参数文件中包含<code class="codeph">DB_FILE_NAME_CONVERT</code>初始化参数。
                        </p>
                        <div class="section">
                           <p>仅当存在以下某种情况时，才能使用此技术：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您可以为自动管理的辅助数据库创建自己的初始化参数文件，如<span class="q">“ <a href="performing-rman-tspitr.html#GUID-A86E8164-690C-49B7-B978-85E460DA2AC6" title="自动辅助数据库使用一组默认初始化参数。如果需要，您可以添加其他参数。">在TSPITR中自定义自动辅助数据库的初始化参数</a> ”中所述</span></p>
                              </li>
                              <li>
                                 <p>您可以创建自己的辅助数据库，如<span class="q">“ <a href="performing-rman-tspitr.html#GUID-D0A465A5-B0D8-4E60-8941-D98DD8AC44D0" title="虽然Oracle建议您让RMAN管理辅助数据库的所有方面，但有时您可能必须创建和管理自己的辅助数据库。如果选择此模式，则负责设置，启动，停止和清理TSPITR中使用的辅助数据库。">使用您自己的辅助数据库执行RMAN TSPITR</a> ”中所述</span></p>
                              </li>
                           </ul>
                           <p>辅助数据库中的<code class="codeph">DB_FILE_NAME_CONVERT</code>初始化参数指定如何从目标数据库实例中相应文件的原始名称派生辅助数据库中文件的名称。该参数由一对字符串组成。对于包含一对的第一个字符串作为子字符串的任何文件名，通过将该对中的第二个字符串替换为原始文件名来生成辅助数据库中相应文件的名称。
                           </p>
                           <p>例如，假设目标实例包含以下文件：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">？<code class="codeph">SYSTEM</code>表空间的/oradata/trgt/system01.dbf</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">？<code class="codeph">SYSAUX</code>表空间的/oradata/trgt/sysaux01.dbf</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">？/oradata/trgt/undotbs01.dbf</code>的的<code class="codeph">undotbs</code>表空间</p>
                              </li>
                           </ul>
                           <p>要将辅助数据库的相应文件放在<code class="codeph">/bigtmp</code> ，请将以下行添加到辅助数据库参数文件中：</p><pre class="oac_no_warn" dir="ltr">DB_FILE_NAME_CONVERT =（'？/ oradata / trgt'，'/ bigtmp'）</pre><p>对于相应的辅助数据库文件的新文件名是<code class="codeph">/bigtmp/trgt/system01.dbf</code> ， <code class="codeph">/bigtmp/trgt/sysaux01.dbf</code>和<code class="codeph">/bigtmp/trgt/undotbs01.dbf</code> 。
                           </p>
                           <p>要记住的最重要的一点是<code class="codeph">DB_FILE_NAME_CONVERT</code> <span class="italic">必须</span>存在于辅助数据库参数文件中。如果手动创建辅助数据库，则将<code class="codeph">DB_FILE_NAME_CONVERT</code>添加到辅助数据库参数文件。
                           </p>
                           <p>您仍然可以使用<code class="codeph">SET NEWNAME</code>或<code class="codeph">CONFIGURE AUXNAME</code>命令重命名各个辅助集数据文件。此外，不会重命名与<code class="codeph">DB_FILE_NAME_CONVERT</code>中提供的模式不匹配的文件。使用RMAN管理的辅助数据库时，可以使用<code class="codeph">RECOVER TABLESPACE</code>命令的<code class="codeph">AUXILIARY DESTINATION</code>参数来确保将所有辅助集数据文件发送到某个目标。如果重命名方法没有为辅助数据库中的文件提供新名称，则TSPITR将失败。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div><a id="BRADV89804"></a><div class="props_rev_3"><a id="GUID-CA2BABC5-F8BF-40B1-943B-5C5E92A82325" name="GUID-CA2BABC5-F8BF-40B1-943B-5C5E92A82325"></a><h6 id="BRADV-GUID-CA2BABC5-F8BF-40B1-943B-5C5E92A82325" class="sect6"><span class="enumeration_section">21.5.2.3.1</span>在TSPITR期间重命名临时文件</h6>
                        <div>
                           <p>临时文件被视为数据库辅助集的一部分。在实例化辅助数据库时，RMAN将重新创建目标数据库的临时表空间，并使用辅助数据文件名的常规规则生成其名称。</p>
                           <div class="section">
                              <p>要重命名临时文件，可以使用以下方法之一：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">SET NEWNAME FOR TEMPFILE</code>命令</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DB_FILE_NAME_CONVERT</code>辅助数据库的初始化参数。如果临时文件具有非ASM Oracle托管文件名，则无法使用此参数选项。
                                    </p>
                                 </li>
                                 <li>
                                    <p>使用RMAN管理的辅助数据库时， <code class="codeph">RECOVER</code>命令的<code class="codeph">AUXILIARY DESTINATION</code>子句</p>
                                 </li>
                              </ul>
                              <div class="infoboxnotealso" id="GUID-CA2BABC5-F8BF-40B1-943B-5C5E92A82325__GUID-5183FE63-61D8-4C40-809F-1C2C1D227DBD">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="performing-rman-tspitr.html#GUID-1E3933FC-9FA4-4012-B59D-A27406A86419" title="辅助集数据文件可以在目标中具有Oracle管理文件（OMF），并且可以使用自动存储管理（ASM）或非ASM存储。当设置了DB_FILE_NAME_CONVERT初始化参数且OMF文件位于ASM或非ASM存储中时，TSPITR以不同方式执行名称转换。">在TSPITR中重命名OMF辅助设置文件时的注意事项</a></p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div>
               </div><a id="BRADV89805"></a><div class="props_rev_3"><a id="GUID-C3ACA139-02C3-4DED-978D-DCD785724AC4" name="GUID-C3ACA139-02C3-4DED-978D-DCD785724AC4"></a><h4 id="BRADV-GUID-C3ACA139-02C3-4DED-978D-DCD785724AC4" class="sect4"><span class="enumeration_section">21.5.3</span>使用映像副本实现更快的RMAN TSPITR性能</h4>
                  <div>
                     <p>通过重定向RMAN以使用恢复集和辅助集数据文件的现有映像副本，可以增强TSPITR性能。在这种情况下，RMAN不需要从备份还原数据文件。</p>
                     <p>通常，如果指定位置中有合适的映像副本，则RMAN使用映像副本执行TSPITR，并且数据文件副本从目标控制文件中取消编目。</p>
                     <p>您可以使用以下技术告知RMAN可能存在数据文件的映像副本：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用<code class="codeph">CONFIGURE AUXNAME</code>命令和辅助设置数据文件的映像副本</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">SET NEWNAME</code>命令以及恢复集数据文件或辅助集数据文件的映像副本</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-C3ACA139-02C3-4DED-978D-DCD785724AC4__GUID-AB753FDD-DFF5-4199-AD50-D847FDAC3009">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="performing-rman-tspitr.html#GUID-FC741E8C-D422-4856-A3E3-709F91547914" title="CONFIGURE AUXNAME命令为辅助集数据文件映像副本设置持久备用位置，而SET NEWNAME命令为RUN命令的持续时间设置备用位置。">使用SET NEWNAME和CONFIGURE AUXNAME与辅助设置图像副本</a></p>
                           </li>
                           <li>
                              <p><a href="performing-rman-tspitr.html#GUID-D826F45A-EDD7-4CBC-A726-E235BB848FFF" title="使用SET NEWNAME命令可以在使用映像副本执行TSPITR时指定映像副本的位置。">将SET NEWNAME与恢复集图像副本一起使用</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="BRADV388"></a><a id="BRADV89806"></a><div class="props_rev_3"><a id="GUID-D826F45A-EDD7-4CBC-A726-E235BB848FFF" name="GUID-D826F45A-EDD7-4CBC-A726-E235BB848FFF"></a><h5 id="BRADV-GUID-D826F45A-EDD7-4CBC-A726-E235BB848FFF" class="sect5"><span class="enumeration_section">21.5.3.1</span>将SET NEWNAME与恢复集图像副本一起使用</h5>
                     <div>
                        <p>使用<code class="codeph">SET NEWNAME</code>命令可以在使用映像副本执行TSPITR时指定映像副本的位置。
                        </p>
                        <div class="section">
                           <p>在TSPITR期间，RMAN在指定的<code class="codeph">NEWNAME</code>位置查找数据文件。RMAN检查数据文件的映像副本备份是否与数据文件检查点SCN一起存在，以便可以恢复到目标时间。如果RMAN找到可用的映像副本，则RMAN在TSPITR中使用它。否则，RMAN会将数据文件还原到<code class="codeph">NEWNAME</code>位置。<code class="codeph">NEWNAME</code>指定的位置中的任何文件都将被覆盖。TSPITR完成后，指定的<code class="codeph">NEWNAME</code>将成为目标数据库中数据文件的名称。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-D826F45A-EDD7-4CBC-A726-E235BB848FFF__CHDFHFCJ">
                           <p class="titleinexample">例21-7使用SET NEWNAME</p>
                           <p>此示例使用恢复集文件的映像副本执行TSPITR。<code class="codeph">SET NEWNAME</code>命令指定指定表空间的映像副本的位置。
                           </p><pre class="oac_no_warn" dir="ltr">RUN {SET NEWNAME FOR DATAFILE <span class="italic">'ORACLE_HOME</span> /oradata/trgt/users01.dbf' TO '/newfs/users1.dbf'; <span class="italic">...其他RMAN命令，如果有的话......</span>RECOVER TABLESPACE用户，工具UNTIL SEQUENCE 1300 THREAD 1; }</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="BRADV89807"></a><div class="props_rev_3"><a id="GUID-FC741E8C-D422-4856-A3E3-709F91547914" name="GUID-FC741E8C-D422-4856-A3E3-709F91547914"></a><h5 id="BRADV-GUID-FC741E8C-D422-4856-A3E3-709F91547914" class="sect5"><span class="enumeration_section">21.5.3.2</span>使用SET NEWNAME和CONFIGURE AUXNAME以及辅助设置图像副本</h5>
                     <div>
                        <p><code class="codeph">CONFIGURE AUXNAME</code>命令为辅助集数据文件映像副本设置持久备用位置，而<code class="codeph">SET NEWNAME</code>命令为<code class="codeph">RUN</code>命令的持续时间设置备用位置。
                        </p>
                        <div class="section">
                           <p>假设您使用<code class="codeph">SET NEWNAME</code>或<code class="codeph">CONFIGURE AUXNAME</code>为辅助集数据文件指定新位置。还假设在该位置存在具有可在TSPITR中使用的SCN的映像副本。在这种情况下，RMAN使用图像副本。但是，如果该位置没有可用的映像副本，则RMAN将从备份还原可用的副本。（如果存在映像副本，但SCN在TSPITR的目标时间之后，则数据文件将被还原的文件覆盖。）
                           </p>
                           <p>与所有辅助设置文件一样，在TSPITR之后删除该文件。无论是在TSPITR之前创建的映像副本还是在TSPITR期间由RMAN还原，都会发生此行为。</p>
                           <p><code class="codeph">CONFIGURE AUXNAME</code>的主要用途是通过消除恢复时间来加快TSPITR。如果您预计执行TSPITR，则可以在备份例程中包含辅助集数据文件的一组映像副本的维护，并定期更新这些副本到您希望执行TSPITR的最早点。推荐的使用模式是：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>在设置此策略时，为文件配置一次<code class="codeph">AUXNAME</code> 。</span></li>
                           <li><span>定期执行<code class="codeph">BACKUP AS COPY DATAFILE <span class="codeinlineitalic">n</span> FORMAT <span class="codeinlineitalic">auxname</span></code>以维护更新的图像副本。为了获得更好的性能，请使用逐步更新的备份策略，以使映像副本保持最新，而无需执行数据文件的完整备份。</span></li>
                           <li><span>需要TSPITR时，指定上次更新映像副本后的目标时间。</span></li>
                        </ol>
                     </div>
                  </div><a id="BRADV89808"></a><div class="props_rev_3"><a id="GUID-BA6F7010-407B-4E16-8F53-597FD49B64E3" name="GUID-BA6F7010-407B-4E16-8F53-597FD49B64E3"></a><h5 id="BRADV-GUID-BA6F7010-407B-4E16-8F53-597FD49B64E3" class="sect5"><span class="enumeration_section">21.5.3.3</span>使用配置AUXNAME和映像副本执行TSPITR：场景</h5>
                     <div>
                        <p>使用映像副本执行TSPITR时，此过程使用<code class="codeph">CONFIGURE AUXNAME</code> 。
                        </p>
                        <div class="section">
                           <p>假设您有足够的磁盘空间来保存整个数据库的映像副本，以便在TSPITR中使用。为了准备TSPITR，您可以执行以下操作：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>使用以下格式的命令为辅助集中的每个数据文件配置<code class="codeph">AUXNAME</code> ：</p><pre class="oac_no_warn" dir="ltr">配置数据文件的AUXNAME <span class="italic">n</span>到<span class="italic">auxname_n</span> ;</pre></li>
                              <li>
                                 <p>使用以下形式的命令每周日拍摄辅助集的图像副本：</p><pre class="oac_no_warn" dir="ltr">BACKUP AS COPY DATAFILE <span class="italic">n</span> FORMAT <span class="italic">auxname_n</span>
</pre><p>如果映像副本全部位于磁盘上的相同位置，并且它们的命名方式与原始数据文件类似，则可以避免对每个数据文件执行备份。相反，您可以使用<code class="codeph">BACKUP</code>命令的<code class="codeph">FORMAT</code>或<code class="codeph">DB_FILE_NAME_CONVERT</code>选项并使用<code class="codeph">BACKUP AS COPY DATABASE</code> 。例如，如果配置的辅助名称是位置<code class="codeph">maindisk</code>到<code class="codeph">auxdisk</code> ，则使用以下命令：</p><pre class="oac_no_warn" dir="ltr">备份为COPY DATABASE DB_FILE_NAME_CONVERT（maindisk，auxdisk）;</pre><div class="infoboxnote" id="GUID-BA6F7010-407B-4E16-8F53-597FD49B64E3__GUID-FAA5F005-6949-43B6-A772-6BD9EDE0BD74">
                                    <p class="notep1">注意：</p>
                                    <p>由于Oracle托管文件名通常不能使用简单替换进行转换，因此通常不能使用<code class="codeph">DB_FILE_NAME_CONVERT</code>为存储在OMF中的映像副本生成名称。</p>
                                 </div>
                              </li>
                           </ul>
                           <p>完成这些步骤后，您就可以为TSPITR做好准备，而无需从备份中恢复辅助集。例如，如果错误的批处理作业（从2013年11月15日19:00:00开始）错误地更新了表空间<code class="codeph">parts</code>中的表，则使用以下命令对表空间<code class="codeph">parts</code>执行TSPITR：</p><pre class="oac_no_warn" dir="ltr">RECOVER TABLESPACE部件直到2013年11月15日，19：00：00';</pre><p>由于<code class="codeph">AUXNAME</code>位置已配置并在TSPITR目标时间之前从SCN引用数据文件副本，因此不会从备份恢复辅助集。相反，数据文件副本用于恢复，这减少了恢复开销。
                           </p>
                           <p>您还可以阻止恢复恢复集。您必须频繁获取表空间的映像副本，并使用<code class="codeph">SET NEWNAME</code>指定这些副本的位置。此方法可确保在TSPITR成功完成后不恢复恢复集并且表空间更改位置。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="BRADV389"></a><a id="BRADV89809"></a><div class="props_rev_3"><a id="GUID-A86E8164-690C-49B7-B978-85E460DA2AC6" name="GUID-A86E8164-690C-49B7-B978-85E460DA2AC6"></a><h4 id="BRADV-GUID-A86E8164-690C-49B7-B978-85E460DA2AC6" class="sect4"><span class="enumeration_section">21.5.4</span>自定义<span class="enumeration_section">TSPITR</span>中自动辅助数据库的初始化参数</h4>
                  <div>
                     <p>自动辅助数据库使用一组默认初始化参数。如果需要，您可以添加其他参数。</p>
                     <p>自动辅助数据库查找其他初始化参数，以补充与操作系统相关的位置中的默认参数。例如，在UNIX中，此位置为： <code class="codeph">?/rdbms/admin/params_auxinst.ora</code> 。RMAN在执行TSPITR时始终为RMAN自动辅助数据库查找此附加参数文件。如果找不到该文件，则RMAN不会生成错误。相反，RMAN使用下表中列出的默认参数来管理RMAN管理的自动辅助数据库。
                     </p>
                     <div class="tblformal" id="GUID-A86E8164-690C-49B7-B978-85E460DA2AC6__CHDJIJAF">
                        <p class="titleintable">表21-4 RMAN管理的辅助数据库的默认初始化参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="RMAN管理的辅助数据库的默认初始化参数" width="100%" border="1" summary="Default initialization parameters" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d92175e3866">初始化参数</th>
                                 <th align="left" valign="bottom" width="67%" id="d92175e3869">值</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d92175e3874" headers="d92175e3866 ">
                                    <p><code class="codeph">DB_NAME</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d92175e3874 d92175e3869 ">
                                    <p>与源数据库的<code class="codeph">DB_NAME</code>相同</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d92175e3886" headers="d92175e3866 ">
                                    <p><code class="codeph">兼容</code></p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d92175e3886 d92175e3869 ">
                                    <p>与目标数据库的<code class="codeph">COMPATIBLE</code>设置相同</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d92175e3897" headers="d92175e3866 ">
                                    <p><code class="codeph">DB_UNIQUE_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d92175e3897 d92175e3869 ">
                                    <p>RMAN基于<code class="codeph">DB_NAME</code>自动生成唯一值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d92175e3907" headers="d92175e3866 ">
                                    <p><code class="codeph">DB_BLOCK_SIZE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d92175e3907 d92175e3869 ">
                                    <p>与目标数据库的<code class="codeph">DB_BLOCK_SIZE</code>相同</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d92175e3918" headers="d92175e3866 ">
                                    <p><code class="codeph">DB_CREATE_FILE_DEST</code></p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d92175e3918 d92175e3869 ">
                                    <p>辅助目标（仅当使用RMAN管理的辅助数据库时指定了<code class="codeph">AUXILIARY DESTINATION</code>参数）。RMAN为此位置的辅助集文件创建Oracle Managed Files。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d92175e3929" headers="d92175e3866 ">
                                    <p><code class="codeph">LOG_ARCHIVE_DEST_1</code></p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d92175e3929 d92175e3869 ">
                                    <p>辅助目标（仅当使用RMAN管理的辅助数据库时指定了<code class="codeph">AUXILIARY DESTINATION</code>子句）。恢复所需的存档日志将恢复到此位置。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d92175e3940" headers="d92175e3866 ">
                                    <p><code class="codeph">SGA_TARGET</code></p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d92175e3940 d92175e3869 ">
                                    <p><code class="codeph">280M</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d92175e3949" headers="d92175e3866 ">
                                    <p><code class="codeph">DB_FILES</code></p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d92175e3949 d92175e3869 ">
                                    <p>与目标数据库的<code class="codeph">DB_FILES</code>相同</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d92175e3960" headers="d92175e3866 ">
                                    <p><code class="codeph">PROCESSES</code></p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d92175e3960 d92175e3869 ">
                                    <p><code class="codeph">50</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>通常，不必更改或添加这些初始化参数的值，尤其是在使用RMAN管理的辅助数据库时为<code class="codeph">RECOVER TABLESPACE</code>命令提供<code class="codeph">AUXILIARY DESTINATION</code>子句时。如果使用不适当的值覆盖<a href="performing-rman-tspitr.html#GUID-A86E8164-690C-49B7-B978-85E460DA2AC6__CHDJIJAF" title="默认初始化参数">表21-4中</a>的初始化参数，则TSPITR可能会因辅助数据库问题而失败。不过，如果需要，您可以添加除这些基本参数之外的其他参数。例如，您可以使用<code class="codeph">DB_FILE_NAME_CONVERT</code>指定辅助和恢复集中的数据文件的名称。
                     </p>
                     <p>要覆盖或指定自动辅助数据库的参数，可以执行以下任一操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将初始化参数放在操作系统特定的默认辅助参数文件名中。例如，在UNIX中，文件名是： <code class="codeph">?/rdbms/admin/params_auxinst.ora</code> 。
                           </p>
                        </li>
                        <li>
                           <p>执行以下步骤：</p>
                           <ol>
                              <li>
                                 <p>将初始化参数放在一个文件中。</p>
                              </li>
                              <li>
                                 <p>在执行TSPITR之前，使用<code class="codeph">SET AUXILIARY INSTANCE PARAMETER FILE</code>命令指定此文件的位置。</p>
                              </li>
                           </ol>
                        </li>
                     </ul>
                     <p>无论选择哪种方法，您指定的参数优先于默认值，并且可以覆盖<code class="codeph">AUXILIARY DESTINATION</code>子句的值。
                     </p>
                     <p>本节包含以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="performing-rman-tspitr.html#GUID-E3EDE63E-79D4-4FEC-9AB4-6ADBE28FA7A9" title="要在辅助数据库上还原辅助数据库和恢复集后执行恢复，RMAN可能需要还原存档日志。使用辅助目标时，存档日志将还原到该位置。">在TSPITR中指定辅助数据库存档日志</a></p>
                        </li>
                        <li>
                           <p><a href="performing-rman-tspitr.html#GUID-9561F2D0-D174-4571-8D4F-4249FA12AFED" title="如果使用初始化参数文件，则可以使用CONTROL_FILES初始化参数为辅助数据库的控制文件指定自己的位置">在TSPITR中指定辅助数据库控制文件位置</a></p>
                        </li>
                        <li>
                           <p><a href="performing-rman-tspitr.html#GUID-19B9240A-6158-4353-939C-BB6DB1F02984" title="如果在辅助数据库参数文件中指定LOG_FILE_NAME_CONVERT初始化参数，并且参数成功转换目标的联机重做日志的名称，则此参数将确定联机重做日志位置。">在TSPITR中指定辅助数据库联机日志位置</a></p>
                        </li>
                     </ul>
                  </div><a id="BRADV89810"></a><div class="props_rev_3"><a id="GUID-9561F2D0-D174-4571-8D4F-4249FA12AFED" name="GUID-9561F2D0-D174-4571-8D4F-4249FA12AFED"></a><h5 id="BRADV-GUID-9561F2D0-D174-4571-8D4F-4249FA12AFED" class="sect5"><span class="enumeration_section">21.5.4.1</span>在<span class="enumeration_section">TSPITR中</span>指定辅助数据库控制文件位置</h5>
                     <div>
                        <p>如果使用初始化参数文件，则可以使用<code class="codeph">CONTROL_FILES</code>初始化参数为辅助数据库的控制文件指定自己的位置</p>
                        <div class="section">
                           <p>如果未明确指定控制文件位置，并且使用<code class="codeph">AUXILIARY DESTINATION</code>子句，则RMAN会在辅助目标中找到控制文件。如果不使用<code class="codeph">AUXILIARY DESTINATION</code>子句，则辅助数据库控制文件存储在特定于操作系统的位置。
                           </p>
                           <p>无论您在何处存储辅助数据库控制文件，都会在TSPITR操作结束时将其删除。由于控制文件相对较小，因此RMAN很少遇到创建辅助控制文件的问题。但是，如果没有足够的空间来创建控制文件，则TSPITR会失败。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="BRADV390"></a><div class="props_rev_3"><a id="GUID-E3EDE63E-79D4-4FEC-9AB4-6ADBE28FA7A9" name="GUID-E3EDE63E-79D4-4FEC-9AB4-6ADBE28FA7A9"></a><h5 id="BRADV-GUID-E3EDE63E-79D4-4FEC-9AB4-6ADBE28FA7A9" class="sect5"><span class="enumeration_section">21.5.4.2</span>在<span class="enumeration_section">TSPITR中</span>指定辅助数据库存档日志</h5>
                     <div>
                        <p>要在辅助数据库上还原辅助数据库和恢复集后执行恢复，RMAN可能需要还原存档日志。使用辅助目标时，存档日志将还原到该位置。</p>
                        <div class="section">
                           <p>在没有辅助目标和任何其他初始化参数的情况下，归档日志将还原到特定于操作系统的位置。有关详细信息，请参阅操作系统特定文档。您可以使用<code class="codeph">LOG_ARCHIVE_DEST_1</code>初始化参数指定还原存档日志的备用位置。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="BRADV89811"></a><div class="props_rev_3"><a id="GUID-19B9240A-6158-4353-939C-BB6DB1F02984" name="GUID-19B9240A-6158-4353-939C-BB6DB1F02984"></a><h5 id="BRADV-GUID-19B9240A-6158-4353-939C-BB6DB1F02984" class="sect5"><span class="enumeration_section">21.5.4.3</span>在<span class="enumeration_section">TSPITR中</span>指定辅助数据库在线日志位置</h5>
                     <div>
                        <p>如果在辅助数据库参数文件中指定<code class="codeph">LOG_FILE_NAME_CONVERT</code>初始化参数，并且参数成功转换目标的联机重做日志的名称，则此参数将确定联机重做日志位置。
                        </p>
                        <div class="section">
                           <p>适用于OMF数据文件的相同限制（如<span class="q">“ <a href="performing-rman-tspitr.html#GUID-1E3933FC-9FA4-4012-B59D-A27406A86419" title="辅助集数据文件可以在目标中具有Oracle管理文件（OMF），并且可以使用自动存储管理（ASM）或非ASM存储。当设置了DB_FILE_NAME_CONVERT初始化参数且OMF文件位于ASM或非ASM存储中时，TSPITR以不同方式执行名称转换。">在TSPITR中重命名OMF辅助设置文件时的注意事项</a> ”中所述</span> ）适用于OMF联机重做日志。如果RMAN正在管理辅助数据库并指定了辅助目标，则RMAN会在辅助目标中创建联机重做日志。
                           </p>
                           <p>或者，您可以使用<code class="codeph">DB_CREATE_FILE_DEST</code>或<code class="codeph">DB_CREATE_FILE_DEST</code>和<code class="codeph">DB_CREATE_ONLINE_LOG_1</code>指定创建辅助数据库重做日志的位置。如果选择后一个选项，则必须将<code class="codeph">DB_CREATE_ONLINE_LOG_1</code>与<code class="codeph">DB_CREATE_FILE_DEST</code> <code class="codeph">DB_CREATE_ONLINE_LOG_1</code>使用。</p>
                           <p>如果您未使用以下方法之一为TSPITR指定位置，则TSPITR无法创建联机重做日志：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">LOG_FILE_NAME_CONVERT</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">DB_CREATE_FILE_DEST</code> 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DB_CREATE_FILE_DEST</code>和<code class="codeph">DB_CREATE_ONLINE_LOG_1</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">辅助目的地</code></p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="BRADV89812"></a><div class="props_rev_3"><a id="GUID-D0A465A5-B0D8-4E60-8941-D98DD8AC44D0" name="GUID-D0A465A5-B0D8-4E60-8941-D98DD8AC44D0"></a><h3 id="BRADV-GUID-D0A465A5-B0D8-4E60-8941-D98DD8AC44D0" class="sect3"><span class="enumeration_section">21.6</span>使用您自己的辅助数据库执行RMAN TSPITR</h3>
               <div>
                  <p>虽然Oracle建议您让RMAN管理辅助数据库的所有方面，但有时您可能必须创建和管理自己的辅助数据库。如果选择此模式，则负责设置，启动，停止和清理TSPITR中使用的辅助数据库。</p>
                  <p>您可能想要创建自己的实例的一个原因是控制TSPITR中使用的通道。自动辅助数据库使用目标数据库的已配置通道作为在辅助数据库上配置的通道的基础，并在还原操作期间使用。您可能需要不同的通道设置，可能不希望使用<code class="codeph">CONFIGURE</code>命令更改目标数据库上的设置。在这种情况下，您可以操作自己的辅助数据库。通过在调用<code class="codeph">RECOVER</code>之前连接到辅助数据库，运行块可以使用<code class="codeph">ALLOCATE AUXILIARY CHANNEL</code>命令提供特定的通道分配。
                  </p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="performing-rman-tspitr.html#GUID-5E937BD4-2187-491A-AAD1-7A6EDF1E8D8F" title="创建适合用作辅助数据库的Oracle实例需要您执行一组步骤。">为RMAN TSPITR准备自己的辅助数据库</a></p>
                     </li>
                     <li>
                        <p><a href="performing-rman-tspitr.html#GUID-41F8F223-E065-445C-AF4B-2343F13813AD" title="使用您自己的辅助实例执行TSPITR时，请记住某些准则。">使用您自己的辅助数据库为TSPITR准备RMAN命令</a></p>
                     </li>
                     <li>
                        <p><a href="performing-rman-tspitr.html#GUID-D4736F75-8BEB-44AB-9CEA-84A534248FB9" title="完成先决条件，然后按照本节中的步骤使用您自己的辅助数据库执行TSPITR。">使用您自己的辅助数据库执行TSPITR</a></p>
                     </li>
                     <li>
                        <p><a href="performing-rman-tspitr.html#GUID-90328C26-FD61-4BE7-A1C7-0C25E62B73AC" title="此过程使用RECOVER TABLESPACE ...UNTIL命令执行TSPITR。">使用您自己的辅助数据库执行TSPITR：场景</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV89813"></a><div class="props_rev_3"><a id="GUID-5E937BD4-2187-491A-AAD1-7A6EDF1E8D8F" name="GUID-5E937BD4-2187-491A-AAD1-7A6EDF1E8D8F"></a><h4 id="BRADV-GUID-5E937BD4-2187-491A-AAD1-7A6EDF1E8D8F" class="sect4"><span class="enumeration_section">21.6.1</span>为RMAN TSPITR准备自己的辅助数据库</h4>
                  <div>
                     <p>创建适合用作辅助数据库的Oracle实例需要您执行一组步骤。</p>
                     <div class="section">
                        <p>步骤包括以下内容：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="performing-rman-tspitr.html#GUID-8A3B6A3A-A6E2-463E-AB04-C6E3BECBF052" title="有多种方法可以为辅助数据库创建密码文件。">步骤1：为辅助数据库创建Oracle密码文件</a></p>
                           </li>
                           <li>
                              <p><a href="performing-rman-tspitr.html#GUID-CB6CF781-476B-4E65-A966-3ED4ED3A81FB" title="使用文本编辑器为目标数据库主机上的辅助数据库创建初始化参数文件。">步骤2：为辅助数据库创建初始化参数文件</a></p>
                           </li>
                           <li>
                              <p><a href="performing-rman-tspitr.html#GUID-6485155B-83CB-48B1-ABEB-DEDF86E7E38E" title="辅助数据库必须具有有效的网络服务名称。在继续之前，请使用SQL * Plus确保您可以与辅助数据库建立SYSBACKUP或SYSDBA连接。">步骤3：检查Oracle Net Connectivity到辅助数据库</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="BRADV89814"></a><div class="props_rev_3"><a id="GUID-8A3B6A3A-A6E2-463E-AB04-C6E3BECBF052" name="GUID-8A3B6A3A-A6E2-463E-AB04-C6E3BECBF052"></a><h5 id="BRADV-GUID-8A3B6A3A-A6E2-463E-AB04-C6E3BECBF052" class="sect5"><span class="enumeration_section">21.6.1.1</span>步骤1：为辅助数据库创建Oracle密码文件</h5>
                     <div>
                        <p>有多种方法可以为辅助数据库创建密码文件。</p>
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-8A3B6A3A-A6E2-463E-AB04-C6E3BECBF052__GUID-21A83444-A0C2-46F6-B9A0-68BC05918C6D">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../admin/getting-started-with-database-administration.html#ADMIN10241" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何创建和维护Oracle密码文件</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="BRADV391"></a><a id="BRADV89815"></a><div class="props_rev_3"><a id="GUID-CB6CF781-476B-4E65-A966-3ED4ED3A81FB" name="GUID-CB6CF781-476B-4E65-A966-3ED4ED3A81FB"></a><h5 id="BRADV-GUID-CB6CF781-476B-4E65-A966-3ED4ED3A81FB" class="sect5"><span class="enumeration_section">21.6.1.2</span>步骤2：为辅助数据库创建初始化参数文件</h5>
                     <div>
                        <p>使用文本编辑器为目标数据库主机上的辅助数据库创建初始化参数文件。</p>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-CB6CF781-476B-4E65-A966-3ED4ED3A81FB__GUID-2EDC3F15-B6D8-4EE6-9622-99CE6241ADC9">
                              <p class="notep1">注意：</p>
                              <p>对于TSPITR，目标和辅助数据库实例必须位于同一主机上。</p>
                           </div>
                           <p>在此示例中，假设您的参数文件位于<code class="codeph">/tmp/initAux.ora</code> 。设置下表中描述的参数：</p>
                           <div class="tblformalwide" id="GUID-CB6CF781-476B-4E65-A966-3ED4ED3A81FB__CHDFJCCF">
                              <p class="titleintable">表21-5用户管理的辅助数据库中的初始化参数</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="用户管理的辅助数据库中的初始化参数" width="100%" border="1" summary="This table is described in the preceding text." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="43%" id="d92175e4763">初始化参数</th>
                                       <th align="left" valign="bottom" width="14%" id="d92175e4766">强制性？</th>
                                       <th align="left" valign="bottom" width="43%" id="d92175e4769">值</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="43%" id="d92175e4774" headers="d92175e4763 ">
                                          <p><code class="codeph">DB_NAME</code></p>
                                       </td>
                                       <td align="left" valign="top" width="14%" headers="d92175e4774 d92175e4766 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="43%" headers="d92175e4774 d92175e4769 ">
                                          <p>与目标数据库同名</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="43%" id="d92175e4785" headers="d92175e4763 ">
                                          <p><code class="codeph">DB_UNIQUE_NAME</code></p>
                                       </td>
                                       <td align="left" valign="top" width="14%" headers="d92175e4785 d92175e4766 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="43%" headers="d92175e4785 d92175e4769 ">
                                          <p>与同一Oracle主目录中的任何数据库不同的值。为简单起见，请指定<code class="codeph">_</code> <span class="italic"><code class="codeph">dbname</code></span> 。例如，如果目标数据库名称<code class="codeph">trgt</code> ，然后指定<code class="codeph">_trgt</code> 。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="43%" id="d92175e4808" headers="d92175e4763 ">
                                          <p><code class="codeph">REMOTE_LOGIN_PASSWORDFILE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="14%" headers="d92175e4808 d92175e4766 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="43%" headers="d92175e4808 d92175e4769 ">
                                          <p>使用密码文件连接到辅助数据库时设置为<code class="codeph">EXCLUSIVE</code> 。否则，设置为<code class="codeph">NONE</code> 。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="43%" id="d92175e4825" headers="d92175e4763 ">
                                          <p><code class="codeph">兼容</code></p>
                                       </td>
                                       <td align="left" valign="top" width="14%" headers="d92175e4825 d92175e4766 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="43%" headers="d92175e4825 d92175e4769 ">
                                          <p>与目标数据库中的参数值相同</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="43%" id="d92175e4836" headers="d92175e4763 ">
                                          <p><code class="codeph">DB_BLOCK_SIZE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="14%" headers="d92175e4836 d92175e4766 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="43%" headers="d92175e4836 d92175e4769 ">
                                          <p>如果在目标数据库中设置了此初始化参数，则必须将其设置为辅助数据库中的相同值。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="43%" id="d92175e4847" headers="d92175e4763 ">
                                          <p><code class="codeph">LOG_FILE_NAME_CONVERT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="14%" headers="d92175e4847 d92175e4766 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="43%" headers="d92175e4847 d92175e4769 ">
                                          <p>用于根据目标数据库的联机重做日志名称为辅助数据库的联机重做日志生成文件名的模式。查询<code class="codeph">V$LOGFILE.MEMBER</code>以获取目标实例联机重做日志文件名，并确保转换模式与视图中显示的文件名的格式匹配。
                                          </p>
                                          <p><span class="bold">注意：</span>某些平台不支持以正斜杠或反斜杠（ <code class="codeph">\</code>或<code class="codeph">/</code> ）结束模式。
                                          </p>
                                          <p><span class="bold">另请参阅：</span> <span class="q">“ <a href="performing-rman-tspitr.html#GUID-19B9240A-6158-4353-939C-BB6DB1F02984" title="如果在辅助数据库参数文件中指定LOG_FILE_NAME_CONVERT初始化参数，并且参数成功转换目标的联机重做日志的名称，则此参数将确定联机重做日志位置。">在TSPITR中指定辅助数据库联机日志位置</a> ”，</span>以限制带有OMF文件名的<code class="codeph">LOG_FILE_NAME_CONVERT</code>可能值和<span class="q">“ <a href="performing-rman-tspitr.html#GUID-1E3933FC-9FA4-4012-B59D-A27406A86419" title="辅助集数据文件可以在目标中具有Oracle管理文件（OMF），并且可以使用自动存储管理（ASM）或非ASM存储。当设置了DB_FILE_NAME_CONVERT初始化参数且OMF文件位于ASM或非ASM存储中时，TSPITR以不同方式执行名称转换。">在TSPITR中重命名OMF辅助集文件时的注意事项</a> ”</span></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="43%" id="d92175e4897" headers="d92175e4763 ">
                                          <p><code class="codeph">DB_FILE_NAME_CONVERT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="14%" headers="d92175e4897 d92175e4766 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="43%" headers="d92175e4897 d92175e4769 ">
                                          <p>用于转换辅助数据库的数据文件的文件名的模式。您可以使用此参数为那些未使用<code class="codeph">SET</code> <code class="codeph">NEWNAME</code>或<code class="codeph">CONFIGURE</code> <code class="codeph">AUXNAME</code>命名的文件生成文件名。通过查询<code class="codeph">V$DATAFILE.NAME</code>获取数据文件名，并确保转换模式与视图中显示的文件名的格式相匹配。
                                          </p>
                                          <p><span class="bold">注意：</span>某些平台不支持以正斜杠或反斜杠（ <code class="codeph">\</code>或<code class="codeph">/</code> ）结束模式。
                                          </p>
                                          <p><span class="bold">另请参阅：</span> <span class="q">“ <a href="performing-rman-tspitr.html#GUID-310586B1-F08C-456C-8398-62CB6930DD4C" title="When you do not want to use an auxiliary destination for all of your auxiliary set data files, but you also do not want to name every file individually, you can include a DB_FILE_NAME_CONVERT initialization parameter in the initialization parameter file used by the auxiliary database.">在TSPITR期间使用DB_FILE_NAME_CONVERT命名辅助设置数据文件</a> ”</span>和<span class="q">“</span> <span class="q"><a href="performing-rman-tspitr.html#GUID-310586B1-F08C-456C-8398-62CB6930DD4C" title="如果您不想为所有辅助集数据文件使用辅助目标，但又不想单独命名每个文件，则可以在辅助数据库使用的初始化参数文件中包含DB_FILE_NAME_CONVERT初始化参数。">在TSPITR中</a></span> <span class="q"><a href="performing-rman-tspitr.html#GUID-1E3933FC-9FA4-4012-B59D-A27406A86419" title="辅助集数据文件可以在目标中具有Oracle管理文件（OMF），并且可以使用自动存储管理（ASM）或非ASM存储。当设置了DB_FILE_NAME_CONVERT初始化参数且OMF文件位于ASM或非ASM存储中时，TSPITR以不同方式执行名称转换。">重命名OMF辅助设置文件时的注意事项</a> ”</span> 。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="43%" id="d92175e4957" headers="d92175e4763 ">
                                          <p><code class="codeph">DB_CREATE_FILE_DEST</code></p>
                                       </td>
                                       <td align="left" valign="top" width="14%" headers="d92175e4957 d92175e4766 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="43%" headers="d92175e4957 d92175e4769 ">
                                          <p>标识所有辅助集文件的位置。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="43%" id="d92175e4968" headers="d92175e4763 ">
                                          <p><code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="14%" headers="d92175e4968 d92175e4766 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="43%" headers="d92175e4968 d92175e4769 ">
                                          <p>标识创建恢复所需的归档日志的位置。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="43%" id="d92175e4982" headers="d92175e4763 ">
                                          <p><code class="codeph">DB_CREATE_ONLINE_LOG_</code> <span class="italic"><code class="codeph">n</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="14%" headers="d92175e4982 d92175e4766 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="43%" headers="d92175e4982 d92175e4769 ">
                                          <p>使用<code class="codeph">DB_CREATE_FILE_DEST</code>标识创建联机重做日志的其他位置。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="43%" id="d92175e4999" headers="d92175e4763 ">
                                          <p><code class="codeph">CONTROL_FILES</code></p>
                                       </td>
                                       <td align="left" valign="top" width="14%" headers="d92175e4999 d92175e4766 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="43%" headers="d92175e4999 d92175e4769 ">
                                          <p>与目标实例（或任何其他现有文件）的控制文件名不冲突的文件名。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="43%" id="d92175e5011" headers="d92175e4763 ">
                                          <p><code class="codeph">SGA_TARGET</code></p>
                                       </td>
                                       <td align="left" valign="top" width="14%" headers="d92175e5011 d92175e4766 ">
                                          <p>不（推荐）</p>
                                       </td>
                                       <td align="left" valign="top" width="43%" headers="d92175e5011 d92175e4769 ">
                                          <p><code class="codeph">280M</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="43%" id="d92175e5023" headers="d92175e4763 ">
                                          <p><code class="codeph">STREAMS_POOL_SIZE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="14%" headers="d92175e5023 d92175e4766 ">
                                          <p>没有</p>
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="43%" headers="d92175e5023 d92175e4769 ">
                                          <p>如果设置了<code class="codeph">SGA_TARGET</code></p>
                                          <p>如果未设置<code class="codeph">SGA_TARGET</code></p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>根据需要设置其他参数，包括指定辅助数据库使用多少内存的参数。</p>
                           <p>以下示例显示了TSPITR的辅助数据库的可能初始化参数设置：</p><pre class="oac_no_warn" dir="ltr">DB_NAME = trgt DB_UNIQUE_NAME = _trgt CONTROL_FILES = / tmp / control01.ctl DB_FILE_NAME_CONVERT =（'/ oracle / oradata / trgt /'，'/ tmp /'）LOG_FILE_NAME_CONVERT =（'/ oracle / oradata / trgt / redo'，'/ tmp / redo'）REMOTE_LOGIN_PASSWORDFILE = exclusive COMPATIBLE = 11.0.0 DB_BLOCK_SIZE = 8192</pre><div class="infoboxnote" id="GUID-CB6CF781-476B-4E65-A966-3ED4ED3A81FB__GUID-A7F17125-27C6-499E-884E-FB6E0CE2A29E">
                              <p class="notep1">注意：</p>
                              <p>设置这些初始化参数后，请确保不要覆盖目标数据库上生产文件的初始化设置。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="BRADV89816"></a><div class="props_rev_3"><a id="GUID-6485155B-83CB-48B1-ABEB-DEDF86E7E38E" name="GUID-6485155B-83CB-48B1-ABEB-DEDF86E7E38E"></a><h5 id="BRADV-GUID-6485155B-83CB-48B1-ABEB-DEDF86E7E38E" class="sect5"><span class="enumeration_section">21.6.1.3</span>步骤3：检查Oracle Net Connectivity到辅助数据库</h5>
                     <div>
                        <p>辅助数据库必须具有有效的网络服务名称。在继续之前，请使用SQL * Plus确保您可以与辅助数据库建立<code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDBA</code>连接。
                        </p>
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-6485155B-83CB-48B1-ABEB-DEDF86E7E38E__GUID-BD7A9395-B62A-4FBF-8B5A-3E8B17A75FB3">
                              <p class="notep1">也可以看看：</p>
                              <p>有关Oracle Net的更多信息，请参见<a href="../netag/identifying-and-accessing-database.html#NETAG177" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="BRADV89817"></a><div class="props_rev_3"><a id="GUID-41F8F223-E065-445C-AF4B-2343F13813AD" name="GUID-41F8F223-E065-445C-AF4B-2343F13813AD"></a><h4 id="BRADV-GUID-41F8F223-E065-445C-AF4B-2343F13813AD" class="sect4"><span class="enumeration_section">21.6.2</span>使用您自己的辅助数据库为TSPITR准备RMAN命令</h4>
                  <div>
                     <p>使用您自己的辅助实例执行TSPITR时，请记住某些准则。</p>
                     <p>如果运行自己的辅助数据库，那么TSPITR所需的命令序列可能很长。分配复杂通道配置以从备份还原时，可能会发生这种情况，并且您没有使用<code class="codeph">DB_CREATE_FILE_DEST</code>来确定辅助集文件的文件命名。
                     </p>
                     <p>您可能希望将一系列TSPITR命令存储在RMAN命令文件中。仔细检查命令文件以捕获任何错误。要将命令文件读入RMAN，请使用<code class="codeph">@</code>命令（或启动RMAN时的<code class="codeph">CMDFILE</code>命令行参数）。
                     </p>
                     <p>以下示例运行名为<code class="codeph">/tmp/tspitr.rman</code>的命令文件：</p><pre class="oac_no_warn" dir="ltr">@ / TMP / tspitr.rman;</pre><div class="infoboxnotealso" id="GUID-41F8F223-E065-445C-AF4B-2343F13813AD__GUID-AAB70C5F-E819-4CB9-9027-15E31F1D624D">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="starting-interacting-with-rman-client.html#GUID-5FF51A4E-BC27-41A9-AA83-FF6E761C2535" title="对于重复性任务，您可以创建包含RMAN命令的文本文件，并使用@参数启动RMAN客户端，然后使用文件名。">将命令文件与RMAN一起使用</a> ”</span></p>
                     </div>
                  </div><a id="BRADV89818"></a><div class="sect4"><a id="GUID-DA6FD63F-4E85-4550-A49F-C6E793BD5FC9" name="GUID-DA6FD63F-4E85-4550-A49F-C6E793BD5FC9"></a><h5 id="BRADV-GUID-DA6FD63F-4E85-4550-A49F-C6E793BD5FC9" class="sect5"><span class="enumeration_section">21.6.2.1</span>使用您自己的辅助数据库规划<span class="enumeration_section">TSPITR的</span>通道</h5>
                     <div>
                        <p>可以覆盖使用自己的辅助数据库进行TSPITR时通道的默认行为。</p>
                        <p>运行自己的辅助数据库时，默认行为是使用目标数据库的自动通道配置。如果您决定使用不同的配置分配自己的通道（更改通道数或通道参数），则可以在<code class="codeph">RUN</code>块中包含<code class="codeph">ALLOCATE AUXILIARY CHANNEL</code>命令以及TSPITR的<code class="codeph">RECOVER TABLESPACE</code>命令。如有必要，请计划这些命令，并将它们添加到为TSPITR运行的命令序列中。</p>
                        <div class="infoboxnotealso" id="GUID-DA6FD63F-4E85-4550-A49F-C6E793BD5FC9__GUID-8CB9DE45-B9EA-421B-A579-ACD876C22E26">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="performing-rman-tspitr.html#GUID-90328C26-FD61-4BE7-A1C7-0C25E62B73AC" title="此过程使用RECOVER TABLESPACE ...UNTIL命令执行TSPITR。">使用您自己的辅助数据库执行TSPITR：场景</a> ”</span>以了解如何在TSPITR脚本中包含通道分配</p>
                        </div>
                     </div>
                  </div><a id="BRADV89819"></a><div class="props_rev_3"><a id="GUID-56BC4D66-320B-4607-8443-64F577CE28C5" name="GUID-56BC4D66-320B-4607-8443-64F577CE28C5"></a><h5 id="BRADV-GUID-56BC4D66-320B-4607-8443-64F577CE28C5" class="sect5"><span class="enumeration_section">21.6.2.2</span>使用您自己的辅助数据库规划数据文件名：SET NEWNAME</h5>
                     <div>
                        <p>您可能希望使用<code class="codeph">SET NEWNAME</code>命令来引用辅助集文件的现有映像副本以提高TSPITR性能，或者为TSPITR之后的恢复集文件分配新名称。如有必要，请计划这些命令，并将它们添加到为TSPITR运行的命令序列中。</p>
                        <div class="infoboxnotealso" id="GUID-56BC4D66-320B-4607-8443-64F577CE28C5__GUID-6010502B-CC40-4119-97BA-23AB99CB3C68">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="performing-rman-tspitr.html#GUID-1C46D7E5-1A2B-486D-9BE0-88F4B71C7C49" title="您可能不希望恢复集数据文件在其原始位置恢复和恢复。SET NEWNAME命令可用于指定新目标。为恢复集指定新目标时，RMAN不会删除表空间的原始数据文件。">使用SET NEWNAME重命名TSPITR恢复集数据文件</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="BRADV89820"></a><div class="props_rev_3"><a id="GUID-D4736F75-8BEB-44AB-9CEA-84A534248FB9" name="GUID-D4736F75-8BEB-44AB-9CEA-84A534248FB9"></a><h4 id="BRADV-GUID-D4736F75-8BEB-44AB-9CEA-84A534248FB9" class="sect4"><span class="enumeration_section">21.6.3</span>使用您自己的辅助数据库执行TSPITR</h4>
                  <div>
                     <p>完成先决条件，然后按照本节中的步骤使用您自己的辅助数据库执行TSPITR。</p>
                     <div class="section">
                        <p>执行此任务的先决条件包括：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="performing-rman-tspitr.html#GUID-5E937BD4-2187-491A-AAD1-7A6EDF1E8D8F" title="创建适合用作辅助数据库的Oracle实例需要您执行一组步骤。">为RMAN TSPITR准备自己的辅助数据库</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="performing-rman-tspitr.html#GUID-41F8F223-E065-445C-AF4B-2343F13813AD" title="使用您自己的辅助实例执行TSPITR时，请记住某些准则。">使用您自己的辅助数据库为TSPITR准备RMAN命令</a> ”</span></p>
                           </li>
                        </ul>
                        <p>使用以下步骤使用您自己的辅助实例执行TSPITR：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="performing-rman-tspitr.html#GUID-B11C4436-C191-4C77-983C-A2C76C4E94D2" title="在开始RMAN TSPITR之前，必须启动辅助数据库。由于辅助数据库还没有控制文件，因此只能以NOMOUNT模式启动实例。">步骤1：以NOMOUNT模式启动辅助数据库</a></p>
                           </li>
                           <li>
                              <p><a href="performing-rman-tspitr.html#GUID-B13317BE-C92E-45F4-974E-A4B6A44EFA79" title="启动RMAN并连接到目标数据库和手动创建的辅助数据库。">步骤2：将RMAN客户端连接到目标和辅助数据库</a></p>
                           </li>
                           <li>
                              <p><a href="performing-rman-tspitr.html#GUID-17B6A748-6DDF-42C1-B171-86AB8151AA4B" title="使用RECOVER TABLESPACE命令使用您自己的辅助实例执行TSPITR。">第3步：执行RECOVER TABLESPACE命令</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-D4736F75-8BEB-44AB-9CEA-84A534248FB9__GUID-62B85911-23FC-4115-9CBF-27CEB9FFBCEF">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="performing-rman-tspitr.html#GUID-90328C26-FD61-4BE7-A1C7-0C25E62B73AC" title="此过程使用RECOVER TABLESPACE ...UNTIL命令执行TSPITR。">使用您自己的辅助数据库执行TSPITR：场景</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="BRADV89821"></a><div class="props_rev_3"><a id="GUID-B11C4436-C191-4C77-983C-A2C76C4E94D2" name="GUID-B11C4436-C191-4C77-983C-A2C76C4E94D2"></a><h5 id="BRADV-GUID-B11C4436-C191-4C77-983C-A2C76C4E94D2" class="sect5"><span class="enumeration_section">21.6.3.1</span>步骤1：以NOMOUNT模式启动辅助数据库</h5>
                     <div>
                        <p>在开始RMAN TSPITR之前，必须启动辅助数据库。由于辅助数据库还没有控制文件，因此只能以<code class="codeph">NOMOUNT</code>模式启动实例。
                        </p>
                        <div class="section">
                           <p>不要创建控制文件或尝试为TSPITR安装或打开辅助数据库。</p>
                           <p><span class="bold">要启动辅助数据库：</span></p>
                           <ol>
                              <li>
                                 <p>启动SQL * Plus并使用<code class="codeph">SYSOPER</code>权限连接到辅助数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>以<code class="codeph">NOMOUNT</code>模式启动辅助数据库，必要时指定参数文件。
                                 </p>
                                 <p>例如，输入以下SQL * Plus命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; STARTUP NOMOUNT PFILE ='/ tmp / initAux.ora'</pre><p>请记住，如果你指定<code class="codeph">PFILE</code> ，那么对于路径<code class="codeph">PFILE</code>是从中运行的SQL * Plus主机上的客户端的路径。
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="BRADV89822"></a><div class="props_rev_3"><a id="GUID-B13317BE-C92E-45F4-974E-A4B6A44EFA79" name="GUID-B13317BE-C92E-45F4-974E-A4B6A44EFA79"></a><h5 id="BRADV-GUID-B13317BE-C92E-45F4-974E-A4B6A44EFA79" class="sect5"><span class="enumeration_section">21.6.3.2</span>步骤2：将RMAN客户端连接到目标和辅助数据库</h5>
                     <div>
                        <p>启动RMAN并连接到目标数据库和手动创建的辅助数据库。</p>
                        <div class="section">
                           <p>例如，使用如下命令：</p><pre class="oac_no_warn" dir="ltr">rman target dba AUXILIARY auxusr @ aux</pre><div class="infoboxnotealso" id="GUID-B13317BE-C92E-45F4-974E-A4B6A44EFA79__GUID-C6A327B7-49F9-4183-9648-0DB15C9B7BAA">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="starting-interacting-with-rman-client.html#GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" title="您可以从RMAN客户端或操作系统命令行创建数据库连接。可以使用密码文件或操作系统身份验证对这些数据库连接进行身份验证。">使用RMAN建立数据库连接</a> ”</span></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="BRADV89823"></a><div class="props_rev_3"><a id="GUID-17B6A748-6DDF-42C1-B171-86AB8151AA4B" name="GUID-17B6A748-6DDF-42C1-B171-86AB8151AA4B"></a><h5 id="BRADV-GUID-17B6A748-6DDF-42C1-B171-86AB8151AA4B" class="sect5"><span class="enumeration_section">21.6.3.3</span>第3步：执行RECOVER TABLESPACE命令</h5>
                     <div>
                        <p>使用<code class="codeph">RECOVER TABLESPACE</code>命令使用您自己的辅助实例执行TSPITR。
                        </p>
                        <div class="section">
                           <p>在最简单的情况下，运行<code class="codeph">RECOVER TABLESPACE...在RMAN提示符下的UNTIL</code>命令如下：</p><pre class="oac_no_warn" dir="ltr">RECOVER TABLESPACE <span class="italic">ts1，ts2 ......</span> 直到' <span class="italic">时间</span> ';</pre><p>如果要使用<code class="codeph">ALLOCATE AUXILIARY CHANNEL</code>或<code class="codeph">SET NEWNAME</code>命令，请在<code class="codeph">RUN</code>命令中的<code class="codeph">RECOVER TABLESPACE</code>命令之前包含这些命令。以下示例说明了此技术：</p><pre class="oac_no_warn" dir="ltr">RUN {ALLOCATE AUXILIARY CHANNEL c1 DEVICE TYPE DISK; ALLOCATE AUXILIARY CHANNEL c2 DEVICE TYPE sbt; ＃ 等等...RECOVER TABLESPACE <span class="italic">ts1，ts2</span>直到'时间'; }</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="BRADV89825"></a><div class="props_rev_3"><a id="GUID-90328C26-FD61-4BE7-A1C7-0C25E62B73AC" name="GUID-90328C26-FD61-4BE7-A1C7-0C25E62B73AC"></a><h4 id="BRADV-GUID-90328C26-FD61-4BE7-A1C7-0C25E62B73AC" class="sect4"><span class="enumeration_section">21.6.4</span>使用您自己的辅助数据库执行TSPITR：场景</h4>
                  <div>
                     <p>此过程使用<code class="codeph">RECOVER TABLESPACE...UNTIL</code>命令执行TSPITR。</p>
                     <div class="section">
                        <p>此方案说明了RMAN TSPITR的以下功能：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>管理您自己的辅助数据库</p>
                           </li>
                           <li>
                              <p>配置从磁盘和<a href="glossary.html#GUID-2E48CE71-9547-4196-B715-5CE59033262E"><span class="xrefglossterm">SBT</span></a>设备还原备份的通道</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">SET NEWNAME</code>为某些辅助设置数据文件使用可恢复的映像副本</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">SET NEWNAME</code>为恢复集数据文件指定新名称</p>
                           </li>
                        </ul>
                        <p><span class="bold">要将TSPITR与您自己的辅助数据库一起使用：</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>准备辅助数据库，如<span class="q">“ <a href="performing-rman-tspitr.html#GUID-5E937BD4-2187-491A-AAD1-7A6EDF1E8D8F" title="创建适合用作辅助数据库的Oracle实例需要您执行一组步骤。">为RMAN TSPITR准备自己的辅助数据库</a> ”中所述</span> 。在密码文件中指定辅助数据库的密码，并使用以下设置设置辅助数据库参数文件<code class="codeph">/bigtmp/init_tspitr_prod.ora</code> ：</span><div><pre class="oac_no_warn" dir="ltr">DB_NAME = PROD DB_UNIQUE_NAME = tspitr_PROD CONTROL_FILES = / bigtmp / tspitr_cntrl.dbf DB_CREATE_FILE_DEST = / bigtmp COMPATIBLE = 11.0.0 BLOCK_SIZE = 8192 REMOTE_LOGIN_PASSWORD = exclusive</pre></div>
                        </li>
                        <li class="stepexpand"><span>为辅助数据库创建服务名称<code class="codeph">pitprod</code> ，并检查连接。</span></li>
                        <li class="stepexpand"><span>使用SQL * Plus，使用<code class="codeph">SYSOPER</code>权限连接到辅助数据库。以<code class="codeph">NOMOUNT</code>模式启动实例：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; STARTUP NOMOUNT PFILE = / bigtmp / init_tspitr_prod.ora</pre></div>
                        </li>
                        <li class="stepexpand"><span>启动RMAN并连接到目标和辅助数据库实例，如<span class="q">“ <a href="starting-interacting-with-rman-client.html#GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" title="您可以从RMAN客户端或操作系统命令行创建数据库连接。可以使用密码文件或操作系统身份验证对这些数据库连接进行身份验证。">使用RMAN建立数据库连接</a> ”中所述</span> 。</span><div><pre class="oac_no_warn" dir="ltr">rman目标/辅助'“sbu @ pitprod AS SYSBACKUP”'</pre></div>
                        </li>
                        <li class="stepexpand"><span>在<code class="codeph">RUN</code>块中输入以下命令以设置和执行TSPITR：</span><div><pre class="oac_no_warn" dir="ltr">RUN {＃为恢复集数据文件指定NEWNAME为TABLESPACE客户端设置NEWNAME'？/ ORADATA / PROD / REC /％B'; ＃为一些具有有效图像副本的辅助集＃数据文件指定NEWNAMES以避免恢复：SET NEWNAME FOR DATAFILE'？/oradata/prod/system01.dbf'TO'/backups/prod/system01_monday_noon.dbf';为DATAFILE设置NEWNAME'？/oradata/prod/system02.dbf'TO'/backups/prod/system02_monday_noon.dbf';为DATAFILE设置NEWNAME'？/oradata/prod/sysaux01.dbf'TO'/backups/prod/sysaux01_monday_noon.dbf';为DATAFILE设置NEWNAME'？/oradata/prod/undo01.dbf'TO'/backups/prod/undo01_monday_noon.dbf'; ＃指定要使用的通道类型ALLOCATE AUXILIARY CHANNEL c1 DEVICE TYPE DISK; ALLOCATE AUXILIARY CHANNEL t1 DEVICE TYPE sbt; ＃将客户表空间恢复到24小时前：RECOVER TABLESPACE客户端直到'sysdate-1'; }</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>考虑将此命令序列存储在命令文件中并执行命令文件。</p>
                        <p>如果TSPITR操作成功，则结果为：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>恢复集数据文件以<code class="codeph">SET NEWNAME</code>指定的名称在目标数据库控制文件中注册，其内容截至TSPITR的指定时间。</p>
                           </li>
                           <li>
                              <p>RMAN删除辅助文件，包括辅助数据库的控制文件，在线日志和辅助设置数据文件。</p>
                           </li>
                           <li>
                              <p>辅助数据库已关闭。</p>
                           </li>
                        </ul>
                        <p>如果TSPITR操作失败，则删除辅助集文件并关闭辅助数据库。恢复集文件保留在指定位置，并且在失败的TSPITR运行中处于未解决状态。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="BRADV99978"></a><div class="props_rev_3"><a id="GUID-9B0BADD4-750E-4D74-A816-07E075B0AA96" name="GUID-9B0BADD4-750E-4D74-A816-07E075B0AA96"></a><h3 id="BRADV-GUID-9B0BADD4-750E-4D74-A816-07E075B0AA96" class="sect3"><span class="enumeration_section">21.7</span> RMAN TSPITR故障排除</h3>
               <div>
                  <p>各种问题都可能导致RMAN TSPITR失败。必须确定并修复问题。</p>
                  <div class="section">
                     <p>要检查和修复的一些可能区域如下：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>文件名冲突</p>
                        </li>
                        <li>
                           <p>表空间和还原段的TSPITR目标时间不匹配或不正确</p>
                        </li>
                        <li>
                           <p>辅助数据库的管理问题不是由RMAN创建的</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-9B0BADD4-750E-4D74-A816-07E075B0AA96__GUID-B41FF55C-20D0-464C-B567-19BFDAA13D6A">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="performing-rman-tspitr.html#GUID-686CCC72-9402-422C-A7B7-82ABDECE3ACD" title="目标数据库中的文件，SET NEWNAME或CONFIGURE AUXNAME命令分配的文件名以及DB_FILE_NAME_CONVERT参数的效果生成的文件名之间可能会发生名称冲突。">在TSPITR期间解决文件名冲突问题</a></p>
                           </li>
                           <li>
                              <p><a href="performing-rman-tspitr.html#GUID-D4786A53-826B-4503-83DE-B21B98591C0A" title="在TSPITR期间，RMAN需要有关哪些表空间在TSPITR目标时间具有还原段的信息。如果使用此信息，通常可在恢复目录中使用此信息。">在TSPITR期间使用撤消段标识表空间的故障排除</a></p>
                           </li>
                           <li>
                              <p><a href="performing-rman-tspitr.html#GUID-DAF577E1-0177-4EBC-ABF8-3D821BD21BB0" title="如果您正在管理自己的辅助数据库并且TSPITR失败，请不要尝试在不解决错误的情况下重新运行TSPITR。">TSPITR失败后重新启动手动辅助数据库的故障排除</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="BRADV89826"></a><div class="props_rev_3"><a id="GUID-686CCC72-9402-422C-A7B7-82ABDECE3ACD" name="GUID-686CCC72-9402-422C-A7B7-82ABDECE3ACD"></a><h4 id="BRADV-GUID-686CCC72-9402-422C-A7B7-82ABDECE3ACD" class="sect4"><span class="enumeration_section">21.7.1</span>在TSPITR期间排除文件名冲突</h4>
                  <div>
                     <p>目标数据库中的文件， <code class="codeph">SET NEWNAME</code>或<code class="codeph">CONFIGURE AUXNAME</code>命令分配的文件名以及<code class="codeph">DB_FILE_NAME_CONVERT</code>参数的效果生成的文件名之间可能会发生名称冲突。
                     </p>
                     <div class="section">
                        <p>假设<code class="codeph">SET NEWNAME</code> ， <code class="codeph">CONFIGURE AUXNAME</code>和<code class="codeph">DB_FILE_NAME_CONVERT</code>导致辅助或恢复集中的多个文件具有相同的名称。在这种情况下，RMAN在TSPITR期间报告错误。要更正此问题，请为这些参数使用不同的值。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89827"></a><div class="props_rev_3"><a id="GUID-D4786A53-826B-4503-83DE-B21B98591C0A" name="GUID-D4786A53-826B-4503-83DE-B21B98591C0A"></a><h4 id="BRADV-GUID-D4786A53-826B-4503-83DE-B21B98591C0A" class="sect4"><span class="enumeration_section">21.7.2</span>在TSPITR期间对具有撤消段的表空间标识进行故障排除</h4>
                  <div>
                     <p>在TSPITR期间，RMAN需要有关哪些表空间在TSPITR目标时间具有还原段的信息。如果使用此信息，通常可在恢复目录中使用此信息。</p>
                     <div class="section">
                        <p>如果没有恢复目录或者在恢复目录中找不到该信息，则RMAN假定在目标时间具有还原段的表空间集合等于当前具有还原段的表空间集合。如果此假设不正确，则TSPITR会因错误而失败。在这种情况下，使用<code class="codeph">UNDO TABLESPACE</code>子句在目标时间提供具有还原段的表空间列表。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89828"></a><div class="props_rev_3"><a id="GUID-DAF577E1-0177-4EBC-ABF8-3D821BD21BB0" name="GUID-DAF577E1-0177-4EBC-ABF8-3D821BD21BB0"></a><h4 id="BRADV-GUID-DAF577E1-0177-4EBC-ABF8-3D821BD21BB0" class="sect4"><span class="enumeration_section">21.7.3</span> TSPITR失败后重启手动辅助数据库的故障排除</h4>
                  <div>
                     <p>如果您正在管理自己的辅助数据库并且TSPITR失败，请不要尝试在不解决错误的情况下重新运行TSPITR。</p>
                     <div class="section">
                        <p>你必须遵循这种方法：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>确定并解决阻止TSPITR成功运行的问题。</span></li>
                        <li><span>以<code class="codeph">NOMOUNT</code>启动辅助数据库。</span></li>
                        <li><span>再次运行TSPITR。</span></li>
                     </ol>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00283.read-only-materialized-view-concepts.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Understand the concepts related to read-only materialized views."></meta>
      <meta name="description" content="Understand the concepts related to read-only materialized views."></meta>
      <title>只读物化视图概念</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator’s Guide "></meta>
      <meta property="og:description" content="Understand the concepts related to read-only materialized views."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96348-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-read-only-materialized-views.html" title="Previous" type="text/html"></link>
      <link rel="next" href="read-only-materialized-view-architecture.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADMIN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-read-only-materialized-views.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="read-only-materialized-view-architecture.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="managing-read-only-materialized-views.html" property="item" typeof="WebPage"><span property="name">管理只读物化视图</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">只读物化视图概念</li>
            </ol>
            <a id="GUID-A422B474-4BED-4A60-AEDB-E93630746083" name="GUID-A422B474-4BED-4A60-AEDB-E93630746083"></a>
            
            <h2 id="ADMIN-GUID-A422B474-4BED-4A60-AEDB-E93630746083" class="sect2"><span class="enumeration_chapter">36</span>只读物化视图概念</h2>
         </header>
         <div class="ind">
            <p>理解与只读物化视图相关的概念。</p>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-4904A2D2-4BF4-4641-8C17-BF144C06B3E4">复制数据库</a><br><strong class="term">复制</strong>是在包含分布式数据库系统的多个数据库中复制和维护数据库对象（如表）的过程。支持复制的一种方法是只读的物化视图。
                  </li>
                  <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-6CFDE35B-3410-474C-A8D3-559C7CACBBDF">只读物化视图</a><br><span class="bold">只读物化视图</span>包含单个时间点的目标主表的完整或部分副本。部分副本可以包括行的子集，列的子集或两者。
                  </li>
                  <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-DF9A3C8C-BD92-4C6A-958F-7D17FADB6276">物化观点的使用</a><br>您可以使用物化视图来实现诸如缓解网络负载，启用数据子集以及启用断开连接计算等目标。
                  </li>
                  <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-350A169D-8937-484D-B21F-37B46A024782">可用的物化视图</a><br>可用的物化视图包括主键物化视图，对象物化视图， <code class="codeph">ROWID</code>物化视图和复杂物化视图。
                  </li>
                  <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-D9DD5673-C8FA-46B6-8E42-99F781CBD9A1">与物化视图相关的用户和权限</a><br>与物化视图相关的用户包括创建者，复习者和所有者。在物化视图上执行操作所需的权限取决于执行操作的用户类型。
                  </li>
                  <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-1AC3EF2C-C45F-469B-AE9C-ED6066B83326">物化视图的数据子集</a><br>您可以使用行子集和列子集来配置实体化视图，以反映主表中数据的子集。
                  </li>
                  <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-57260AFB-C323-40AF-A181-6ADF08E550DF">物化视图刷新</a><br>要确保实例化视图与其主表一致，必须定期<strong class="term">刷新实例</strong>化视图。
                  </li>
                  <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-31E1E90D-C565-40EF-BD22-4DB2D13462AA">刷新组</a><br>如果物化视图在事务上彼此一致很重要，则可以将它们组织到<strong class="term">刷新组中</strong> 。
                  </li>
                  <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-E479B069-EE7D-4DF5-8086-8CB558A4B62A">物化视图日志</a><br><strong class="term">物化视图日志</strong>是数据库中包含物化视图主表的表。它将所有DML更改记录到主表。
                  </li>
                  <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-52580CD0-2320-45BB-BCF1-89F4EA768291">物化视图和用户定义的数据类型</a><br>具有用户定义数据类型的物化视图有特殊注意事项。
                  </li>
                  <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-08C1AA5F-4681-41B5-BCE8-5E586ED644AC">主数据库中的物化视图注册</a><br>在主数据库中，Oracle数据库会根据其主表自动注册有关实例化视图的信息。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="managing-read-only-materialized-views.html#GUID-7AAEC1A7-01BA-4293-AF46-F026AA2B0237" title="只读物化视图可以提供对主表数据的只读访问。您可以创建和管理只读的物化视图。">管理只读实体化视图</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-4904A2D2-4BF4-4641-8C17-BF144C06B3E4" name="GUID-4904A2D2-4BF4-4641-8C17-BF144C06B3E4"></a><h3 id="ADMIN-GUID-4904A2D2-4BF4-4641-8C17-BF144C06B3E4" class="sect3"><span class="enumeration_section">36.1</span>复制数据库</h3>
               <div>
                  <p><strong class="term">复制</strong>是在包含分布式数据库系统的多个数据库中复制和维护数据库对象（如表）的过程。支持复制的一种方法是只读的物化视图。
                  </p>
                  <p>复制环境支持两种基本类型的数据库： <strong class="term">主数据库</strong>和<a id="d326248e171" class="indexterm-anchor"></a> <strong class="term">物化视图数据库</strong> 。物化视图数据库包含来自特定时间点的表数据的图像或物化视图。定义物化视图的表是物化视图的<span class="bold">主表</span> 。通常，定期刷新实例化视图以使其与其主表同步。
                  </p>
                  <p>您可以将物化视图组织到<a id="d326248e181" class="indexterm-anchor"></a><a id="d326248e183" class="indexterm-anchor"></a> <strong class="term">刷新组</strong> 。刷新组中的物化视图会同时刷新，以确保刷新组中所有物化视图中的数据对应于相同的事务一致时间点。
                  </p>
                  <div class="infoboxnote" id="GUID-4904A2D2-4BF4-4641-8C17-BF144C06B3E4__GUID-B632CC8E-6DC8-4446-82DC-1953D25A2710">
                     <p class="notep1">注意：</p>Oracle GoldenGate是Oracle全功能的复制解决方案。有关更多信息，请参阅Oracle GoldenGate文档。
                  </div>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-A422B474-4BED-4A60-AEDB-E93630746083" title="理解与只读物化视图相关的概念。">只读实体化视图概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-6CFDE35B-3410-474C-A8D3-559C7CACBBDF" name="GUID-6CFDE35B-3410-474C-A8D3-559C7CACBBDF"></a><h3 id="ADMIN-GUID-6CFDE35B-3410-474C-A8D3-559C7CACBBDF" class="sect3"><span class="enumeration_section">36.2</span>只读物化视图</h3>
               <div>
                  <p><span class="bold">只读物化视图</span>包含单个时间点的目标主表的完整或部分副本。部分副本可以包括行的子集，列的子集或两者。
                  </p>
                  <p>只读物化视图可以提供对主表数据的只读访问。应用程序可以从只读物化视图查询数据，以避免网络访问主数据库，无论网络可用性如何。但是，整个系统中的应用程序必须访问master数据库中的数据才能执行数据操作语言更改（DML）。<a href="read-only-materialized-view-concepts.html#GUID-6CFDE35B-3410-474C-A8D3-559C7CACBBDF__BABJEBCA">图36-1</a>说明了基本的只读复制。
                  </p>
                  <div class="figure" id="GUID-6CFDE35B-3410-474C-A8D3-559C7CACBBDF__BABJEBCA">
                     <p class="titleinfigure">图36-1只读物化视图</p><img src="img/admin553.gif" width="333" alt="下面是图36-1的描述" title="下面是图36-1的描述" longdesc="img_text/admin553.html"><br><a href="img_text/admin553.html">“图36-1只读物化视图”的说明</a></div>
                  <!-- class="figure" -->
                  <p>物化视图提供以下好处：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>启用本地访问，从而缩短响应时间和可用性</p>
                     </li>
                     <li>
                        <p>当物化视图位于与其源不同的数据库中时，从主数据库卸载查询，因为用户可以查询本地物化视图</p>
                     </li>
                     <li>
                        <p>通过使您仅复制目标主数据集的选定子集来提高数据安全性</p>
                     </li>
                  </ul>
                  <p>用户可以根据需要同步（刷新）只读的物化视图。当用户刷新只读实例化视图时，它们会收到自上次刷新以来主表上发生的任何更改。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-A422B474-4BED-4A60-AEDB-E93630746083" title="理解与只读物化视图相关的概念。">只读实体化视图概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-DF9A3C8C-BD92-4C6A-958F-7D17FADB6276" name="GUID-DF9A3C8C-BD92-4C6A-958F-7D17FADB6276"></a><h3 id="ADMIN-GUID-DF9A3C8C-BD92-4C6A-958F-7D17FADB6276" class="sect3"><span class="enumeration_section">36.3</span>物化观点的使用</h3>
               <p>您可以使用物化视图来实现诸如缓解网络负载，启用数据子集以及启用断开连接计算等目标。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-FAAAFBAA-6E5B-4543-9D97-B4C0D5AB1BFB">轻松网络负载</a><br>如果您的目标之一是减少网络负载，则可以使用物化视图将公司数据库分发到区域数据库。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-75D9E645-0904-4D80-A29B-9BAEA7FC4166">启用数据子集</a><br>物化视图使您能够基于列级和行级子集复制数据。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-2D466622-9D0B-4213-8BA6-7F8EB81500EF">启用断开连接计算</a><br>物化视图不需要专用的网络连接。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-A422B474-4BED-4A60-AEDB-E93630746083" title="理解与只读物化视图相关的概念。">只读实体化视图概念</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-FAAAFBAA-6E5B-4543-9D97-B4C0D5AB1BFB" name="GUID-FAAAFBAA-6E5B-4543-9D97-B4C0D5AB1BFB"></a><h4 id="ADMIN-GUID-FAAAFBAA-6E5B-4543-9D97-B4C0D5AB1BFB" class="sect4"><span class="enumeration_section">36.3.1</span>缓解网络负载</h4>
                  <div>
                     <p>如果您的目标之一是减少网络负载，则可以使用物化视图将公司数据库分发到区域数据库。</p>
                     <p>用户负载分布在多个数据库服务器上，而不是整个公司访问单个数据库服务器。要减少复制的数据量，物化视图可以是主表的子集。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-DF9A3C8C-BD92-4C6A-958F-7D17FADB6276" title="您可以使用物化视图来实现诸如缓解网络负载，启用数据子集以及启用断开连接计算等目标。">物化视图的使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-75D9E645-0904-4D80-A29B-9BAEA7FC4166" name="GUID-75D9E645-0904-4D80-A29B-9BAEA7FC4166"></a><h4 id="ADMIN-GUID-75D9E645-0904-4D80-A29B-9BAEA7FC4166" class="sect4"><span class="enumeration_section">36.3.2</span>启用数据子集</h4>
                  <div>
                     <p>物化视图使您能够基于列级和行级子集复制数据。</p>
                     <p>数据子集使您可以复制仅与特定数据库相关的信息。例如，如果您有一个区域销售办事处，那么您可能只复制该区域所需的数据，从而减少不必要的网络流量。</p>
                     <p>行和列子集都允许您创建包含主表的数据的部分副本的实体化视图。行子集使您可以使用<code class="codeph">WHERE</code>子句仅包含物化视图中主服务器所需的行。通过列子集，您可以仅包含物化视图中主服务器所需的列。您可以通过在物化视图创建期间在<code class="codeph">SELECT</code>语句中指定特定列来执行此操作。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-DF9A3C8C-BD92-4C6A-958F-7D17FADB6276" title="您可以使用物化视图来实现诸如缓解网络负载，启用数据子集以及启用断开连接计算等目标。">物化视图的使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-2D466622-9D0B-4213-8BA6-7F8EB81500EF" name="GUID-2D466622-9D0B-4213-8BA6-7F8EB81500EF"></a><h4 id="ADMIN-GUID-2D466622-9D0B-4213-8BA6-7F8EB81500EF" class="sect4"><span class="enumeration_section">36.3.3</span>启用断开连接的计算</h4>
                  <div>
                     <p>物化视图不需要专用的网络连接。</p>
                     <p>虽然您可以选择通过计划作业来自动执行刷新过程，但您可以按需手动刷新物化视图，这是在笔记本电脑上运行查询的理想解决方案。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-DF9A3C8C-BD92-4C6A-958F-7D17FADB6276" title="您可以使用物化视图来实现诸如缓解网络负载，启用数据子集以及启用断开连接计算等目标。">物化视图的使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-350A169D-8937-484D-B21F-37B46A024782" name="GUID-350A169D-8937-484D-B21F-37B46A024782"></a><h3 id="ADMIN-GUID-350A169D-8937-484D-B21F-37B46A024782" class="sect3"><span class="enumeration_section">36.4</span>可用的物化视图</h3>
               <p>可用的物化视图包括主键物化视图，对象物化视图， <code class="codeph">ROWID</code>物化视图和复杂物化视图。
               </p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-7594385C-E1C8-4207-A4A1-48C6FFA6C8B8">关于可用的物化视图</a><br>Oracle提供了几种类型的只读物化视图，以满足许多不同复制（和非复制）情况的需要。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-31D07B2A-4B42-4B26-BB6F-0BA90FC0FB0D">主键物化视图</a><br>主键物化视图是物化视图的默认类型。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-4F7AABAF-867A-4B0C-8D52-6C1E2CE71313">对象物化视图</a><br>如果物化视图基于对象表并使用<code class="codeph">OF</code> <span class="italic">类型</span>子句创建，则物化视图称为对象物化视图。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-4CA3E07A-7E8A-4B5E-B863-13B324124AD9">ROWID物化视图</a><br><code class="codeph">ROWID</code>物化视图基于主表中行的物理行标识符（rowid）。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-359AFF60-D6A8-4017-A0E9-9A7525ADCA00">复杂的物化观点</a><br>复杂的物化视图无法快速刷新。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-A422B474-4BED-4A60-AEDB-E93630746083" title="理解与只读物化视图相关的概念。">只读实体化视图概念</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-7594385C-E1C8-4207-A4A1-48C6FFA6C8B8" name="GUID-7594385C-E1C8-4207-A4A1-48C6FFA6C8B8"></a><h4 id="ADMIN-GUID-7594385C-E1C8-4207-A4A1-48C6FFA6C8B8" class="sect4"><span class="enumeration_section">36.4.1</span>关于可用的物化视图</h4>
                  <div>
                     <p>Oracle提供了几种类型的只读物化视图，以满足许多不同复制（和非复制）情况的需要。</p>
                     <p>无论何时创建实例化视图（无论其类型如何），始终在实例化视图的查询中指定表所有者的模式名称。例如，请考虑以下<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW hr.employees AS SELECT * FROM hr.employees@orc1.example.com;</pre><p>这里，模式<code class="codeph">hr</code>在查询中指定。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-350A169D-8937-484D-B21F-37B46A024782" title="可用的物化视图包括主键物化视图，对象物化视图，ROWID物化视图和复杂物化视图。">可用的物化视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-31D07B2A-4B42-4B26-BB6F-0BA90FC0FB0D" name="GUID-31D07B2A-4B42-4B26-BB6F-0BA90FC0FB0D"></a><h4 id="ADMIN-GUID-31D07B2A-4B42-4B26-BB6F-0BA90FC0FB0D" class="sect4"><span class="enumeration_section">36.4.2</span>主键物化视图</h4>
                  <div>
                     <p>主键物化视图是物化视图的默认类型。</p>
                     <p>以下是用于创建主键物化视图的SQL语句的示例：</p><pre class="oac_no_warn" dir="ltr">创建物化视图oe.customers与主要关键选择*来自oe.customers@orc1.example.com;</pre><p>由于主键物化视图是默认视图，因此以下语句还会生成主键物化视图：</p><pre class="oac_no_warn" dir="ltr">创建物质化视图oe.customers AS SELECT * FROM oe.customers@orc1.example.com;</pre><p>主键物化视图可以包含子查询，以便您可以在远程物化视图数据库中创建行的子集。子查询是嵌入在主查询中的查询，因此您在<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句中有多个<code class="codeph">SELECT</code>语句。此子查询可以像基本<code class="codeph">WHERE</code>子句一样简单，也可以像多级<code class="codeph">WHERE</code> <code class="codeph">EXISTS</code>子句一样复杂。如果引用的每个主节点都具有实例化视图日志，则仍可以递增（或快速）刷新包含所选子类查询的主键物化视图。<a id="d326248e672" class="indexterm-anchor"></a><a id="d326248e674" class="indexterm-anchor"></a>快速刷新使用物化视图日志仅更新自上次刷新以来已更改的行。
                     </p>
                     <p>使用包含子查询的<code class="codeph">WHERE</code>子句创建以下物化视图：</p><pre class="oac_no_warn" dir="ltr">创建物化视图oe.orders快速刷新选择*来自oe.orders@orc1.example.com o EXERE EXISTS（SELECT * FROM oe.customers@orc1.example.com c WHERE o.customer_id = c.customer_id AND c.credit_limit &gt; 10000）;</pre><p>这种物化视图称为子查询物化视图。</p>
                     <div class="infoboxnote" id="GUID-31D07B2A-4B42-4B26-BB6F-0BA90FC0FB0D__GUID-3210F432-DFF7-4AF2-B8ED-DC1CA9F20530">
                        <p class="notep1">注意：</p>
                        <p>要创建此<code class="codeph">oe.orders</code>物化视图，必须在主表的物化视图日志中记录<code class="codeph">credit_limit</code> 。有关详细信息，请参阅<span class="q">“ <a href="planning-for-read-only-materialized-views.html#GUID-FAAF0273-7321-4FD0-8A5D-A3A8364E10F9" title="创建实例化视图日志时，可以向日志添加列以快速刷新实例化视图。">在实体化视图日志中记录列</a> ”</span> 。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-31D07B2A-4B42-4B26-BB6F-0BA90FC0FB0D__GUID-E37C9FBB-78C0-417B-B522-FA3F9D995797">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="read-only-materialized-view-concepts.html#GUID-C705F5EF-B389-4A30-9674-11653263A24A" title="如果要根据多个表中的信息复制数据，则维护和定义这些物化视图可能很困难。">带子查询的物化视图</a> ”</span> ，了解有关子查询的物化视图的更多信息</p>
                           </li>
                           <li>
                              <p>有关快速刷新的详细信息，请参阅<span class="q">“ <a href="read-only-materialized-view-architecture.html#GUID-6F85F48F-F633-424B-B43F-2B27F0043C79" title="Oracle数据库可以使用快速，完整或强制刷新来刷新实例化视图。">刷新类型</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="read-only-materialized-view-architecture.html#GUID-7CDE1F79-1BBF-4A7E-BBAB-2A87E1F77B7C" title="主表上需要物化视图日志，以根据主表对物化视图执行快速刷新。">物化视图日志</a> ”</span> ，了解有关物化视图日志的更多信息</p>
                           </li>
                           <li>
                              <p>有关子查询的更多信息，请<a href="../sqlrf/SQL-Queries-and-Subqueries.html#SQLRF007" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-350A169D-8937-484D-B21F-37B46A024782" title="可用的物化视图包括主键物化视图，对象物化视图，ROWID物化视图和复杂物化视图。">可用的物化视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-4F7AABAF-867A-4B0C-8D52-6C1E2CE71313" name="GUID-4F7AABAF-867A-4B0C-8D52-6C1E2CE71313"></a><h4 id="ADMIN-GUID-4F7AABAF-867A-4B0C-8D52-6C1E2CE71313" class="sect4"><span class="enumeration_section">36.4.3</span>对象物化视图</h4>
                  <div>
                     <p>如果物化视图基于对象表并使用<code class="codeph">OF</code> <span class="italic">类型</span>子句创建，则物化视图称为对象物化视图。
                     </p>
                     <p>对象物化视图的构造方式与对象表相同。也就是说，对象物化视图由行对象组成，并且每个行对象由对象标识符（OID）列标识。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-4F7AABAF-867A-4B0C-8D52-6C1E2CE71313__GUID-A33DF527-96AC-4BF7-90A8-98148D2AFC3A">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="read-only-materialized-view-concepts.html#GUID-33DAEE07-5EC9-49C2-BA95-F9E1213664A8" title="如果物化视图基于对象表并使用OF类型子句创建，则物化视图称为对象物化视图。">基于对象表的物化视图</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="creating-and-managing-read-only-materialized-views.html#GUID-41870D29-1EB3-45FA-A9A8-FBEB3BA95971" title="创建只读的物化视图，以在物化视图数据库中复制主表的数据。">创建只读物化视图</a> ”</span>用于创建对象物化视图的示例</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-350A169D-8937-484D-B21F-37B46A024782" title="可用的物化视图包括主键物化视图，对象物化视图，ROWID物化视图和复杂物化视图。">可用的物化视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-4CA3E07A-7E8A-4B5E-B863-13B324124AD9" name="GUID-4CA3E07A-7E8A-4B5E-B863-13B324124AD9"></a><h4 id="ADMIN-GUID-4CA3E07A-7E8A-4B5E-B863-13B324124AD9" class="sect4"><span class="enumeration_section">36.4.4</span> ROWID物化视图</h4>
                  <div>
                     <p><code class="codeph">ROWID</code>物化视图基于主表中行的物理行标识符（rowid）。
                     </p>
                     <p><code class="codeph">ROWID</code>物化视图可用于基于没有主键的主表的物化视图，也可用于不包含主表的所有主键列的物化视图。
                     </p>
                     <p>以下是创建<code class="codeph">ROWID</code>化视图的<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句的示例：</p><pre class="oac_no_warn" dir="ltr">创建物化视图oe.orders REFRESH，ROWID as SELECT *来自oe.orders@orc1.example.com;</pre></div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-4CA3E07A-7E8A-4B5E-B863-13B324124AD9__GUID-0EB79C41-47F8-484D-8FA4-DD25C4526BD5">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="read-only-materialized-view-architecture.html#GUID-7CDE1F79-1BBF-4A7E-BBAB-2A87E1F77B7C" title="主表上需要物化视图日志，以根据主表对物化视图执行快速刷新。">物化视图日志</a> ”</span> ，以获取有关<code class="codeph">ROWID</code>和主键物化视图之间差异的更多信息</p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句中<code class="codeph">WITH</code> <code class="codeph">ROWID</code>子句的更多信息，请<a href="../sqlrf/CREATE-MATERIALIZED-VIEW.html#SQLRF01302" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-350A169D-8937-484D-B21F-37B46A024782" title="可用的物化视图包括主键物化视图，对象物化视图，ROWID物化视图和复杂物化视图。">可用的物化视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-359AFF60-D6A8-4017-A0E9-9A7525ADCA00" name="GUID-359AFF60-D6A8-4017-A0E9-9A7525ADCA00"></a><h4 id="ADMIN-GUID-359AFF60-D6A8-4017-A0E9-9A7525ADCA00" class="sect4"><span class="enumeration_section">36.4.5</span>复杂的物化视图</h4>
                  <p>复杂的物化视图无法快速刷新。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-C59C92AB-06FD-4781-A414-0209E5BCB13E">关于复杂物化视图</a><br>要快速刷新，物化视图的定义查询必须遵守某些限制。
                        </li>
                        <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-4B47C659-A787-4564-AE12-6AF295541131">简单与复杂物化观的比较</a><br>对于某些应用程序，您可能需要考虑使用复杂的物化视图。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-350A169D-8937-484D-B21F-37B46A024782" title="可用的物化视图包括主键物化视图，对象物化视图，ROWID物化视图和复杂物化视图。">可用的物化视图</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-C59C92AB-06FD-4781-A414-0209E5BCB13E" name="GUID-C59C92AB-06FD-4781-A414-0209E5BCB13E"></a><h5 id="ADMIN-GUID-C59C92AB-06FD-4781-A414-0209E5BCB13E" class="sect5"><span class="enumeration_section">36.4.5.1</span>关于复杂物化视图</h5>
                     <div>
                        <p>要快速刷新，物化视图的定义查询必须遵守某些限制。</p>
                        <p>如果您需要物化视图，其定义查询更通用且无法遵守限制，则物化视图很复杂，无法快速刷新。</p>
                        <p>具体而言，当物化视图的定义查询包含以下任何内容时，物化视图被认为是复杂的：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">CONNECT</code> <code class="codeph">BY</code>子句</p>
                              <p>例如，以下语句创建复杂的物化视图：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW hr.emp_hierarchy AS SELECT LPAD（''，4 *（LEVEL-1））|| email USERNAME FROM hr.employees@orc1.example.com START WITH manager_id IS NULL CONNECT BY PRIOR employee_id = manager_id;</pre></li>
                           <li>
                              <p><code class="codeph">INTERSECT</code> ， <code class="codeph">MINUS</code>或<code class="codeph">UNION</code> <code class="codeph">ALL</code>设置操作</p>
                              <p>例如，以下语句创建复杂的物化视图，因为它具有<code class="codeph">UNION</code> <code class="codeph">ALL</code>设置操作：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW hr.mview_employees AS SELECT employees.employee_id，employees.email FROM hr.employees@orc1.example.com UNION ALL SELECT new_employees.employee_id，new_employees.email FROM hr.new_employees@orc1.example.com;</pre></li>
                           <li>
                              <p><code class="codeph">DISTINCT</code>或<code class="codeph">UNIQUE</code>关键字</p>
                              <p>例如，以下语句创建复杂的物化视图：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW hr.employee_depts AS SELECT DISTINCT department_id FROM hr.employees@orc1.example.com ORDER BY department_id;</pre></li>
                           <li>
                              <p>在某些情况下，聚合函数，虽然可以在定义查询中具有聚合函数，但仍然具有简单的物化视图</p>
                              <p>例如，以下语句创建复杂的物化视图：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW hr.average_sal AS SELECT AVG（薪水）“平均”来自hr.employees@orc1.example.com;</pre></li>
                           <li>
                              <p>在某些情况下，除了子查询中的连接之外的连接，尽管可以在定义查询中具有连接并且仍然具有简单的物化视图</p>
                              <p>例如，以下语句创建复杂的物化视图：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW hr.emp_join_dep AS SELECT last_name FROM hr.employees@orc1.example.com e，hr.departments @ orc1.example.com d WHERE e.department_id = d.department_id;</pre></li>
                           <li>
                              <p>在某些情况下， <code class="codeph">UNION</code>操作</p>
                              <p>具体来说，如果满足以下任一条件，则具有<code class="codeph">UNION</code>操作的物化视图很复杂：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">UNION</code>任何查询都很复杂。前面的项目符号项指定查询何时使实体化视图复杂化。
                                    </p>
                                 </li>
                                 <li>
                                    <p>最外层的<code class="codeph">SELECT</code>列表列与<code class="codeph">UNION</code>的查询不匹配。在以下示例中，第一个查询在最外面的<code class="codeph">SELECT</code>列表中只有<code class="codeph">order_total</code> ，而第二个查询在最外面的<code class="codeph">SELECT</code>列表中有<code class="codeph">customer_id</code> 。因此，物化视图很复杂。
                                    </p><pre class="oac_no_warn" dir="ltr">创建物化视图oe.orders AS SELECT order_total FROM oe.orders@orc1.example.com o EXERE EXISTS（SELECT cust_first_name，cust_last_name FROM oe.customers@orc1.example.com c WHERE o.customer_id = c.customer_id AND c.credit_limit &gt; 50）UNION SELECT customer_id FROM oe.orders@orc1.example.com o EXERE EXISTS（SELECT cust_first_name，cust_last_name FROM oe.customers@orc1.example.com c WHERE o.customer_id = c.customer_id AND c.account_mgr_id = 30） ;</pre><p>最里面的<code class="codeph">SELECT</code>列表与物化视图是否复杂无关。在前面的例子中，最里面的<code class="codeph">SELECT</code>列表<code class="codeph">cust_first_name</code>和<code class="codeph">cust_last_name</code>在两个查询<code class="codeph">UNION</code> 。</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>不符合<span class="q">“ <a href="read-only-materialized-view-concepts.html#GUID-0C401A1A-D5BC-4009-B6DD-A1C61D65F9E9" title="具有子查询的物化视图的定义查询受若干限制，以保留物化视图的快速刷新功能。">使用子查询限制物化视图的限制</a> ”中</span>详述的要求的子句</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-C59C92AB-06FD-4781-A414-0209E5BCB13E__GUID-D328D0DF-3AA4-4BA5-82D4-EB6D26CEE0DB">
                           <p class="notep1">注意：</p>
                           <p>如果可能，应避免使用复杂的物化视图，因为它们无法快速刷新，这可能会降低性能。</p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-C59C92AB-06FD-4781-A414-0209E5BCB13E__GUID-51A6B651-BB76-42A3-AAB0-DEEC5E524025">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="read-only-materialized-view-architecture.html#GUID-C98891B9-13D3-4B22-83AF-B349FF06AF08" title="物化视图刷新是一种有效的批处理操作，它使物化视图反映其主表的更新当前状态。">刷新过程</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../dwhsg/sql-aggregation-data-warehouses.html#DWHSG-GUID-E051A04E-0C53-491D-9B16-B71BA00B80C2" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”，</span></a>以获取有关具有聚合函数和联接的实例化视图的信息</p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">CONNECT</code> <code class="codeph">BY</code>子句，set operations， <code class="codeph">DISTINCT</code>关键字和聚合函数的详细信息，请<a href="../sqlrf/CREATE-MATERIALIZED-VIEW.html#SQLRF01302" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-359AFF60-D6A8-4017-A0E9-9A7525ADCA00" title="复杂的物化视图无法快速刷新。">复杂实体化视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-4B47C659-A787-4564-AE12-6AF295541131" name="GUID-4B47C659-A787-4564-AE12-6AF295541131"></a><h5 id="ADMIN-GUID-4B47C659-A787-4564-AE12-6AF295541131" class="sect5"><span class="enumeration_section">36.4.5.2</span>简单和复杂物化视图的比较</h5>
                     <div>
                        <p>对于某些应用程序，您可能需要考虑使用复杂的物化视图。</p>
                        <p><a href="read-only-materialized-view-concepts.html#GUID-4B47C659-A787-4564-AE12-6AF295541131__BABIDGFA">图36-2</a>和以下文本讨论了您应该考虑的一些问题。
                        </p>
                        <div class="figure" id="GUID-4B47C659-A787-4564-AE12-6AF295541131__BABIDGFA">
                           <p class="titleinfigure">图36-2简单和复杂物化视图的比较</p><img src="img/admin523.gif" width="593" alt="下面是图36-2的描述" title="下面是图36-2的描述" longdesc="img_text/admin523.html"><br><a href="img_text/admin523.html">“图36-2简单和复杂物化视图的比较”的描述</a></div>
                        <!-- class="figure" -->
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">复杂物化视图</span> ： <a href="read-only-materialized-view-concepts.html#GUID-4B47C659-A787-4564-AE12-6AF295541131__BABIDGFA">图36-2</a>中的方法A显示了复杂的物化视图。Database II中的物化视图展示了高效的查询性能，因为在物化视图刷新期间完成了连接操作。但是，必须执行完全刷新，因为物化视图很复杂，并且这些刷新可能比快速刷新慢。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">具有连接视图的简单物化视图</span> ： <a href="read-only-materialized-view-concepts.html#GUID-4B47C659-A787-4564-AE12-6AF295541131__BABIDGFA">图36-2</a>中的方法B显示了Database II中的两个简单物化视图，以及在物化视图的数据库中执行连接的视图。针对视图的查询性能不如针对方法A中的复杂物化视图的查询性能那么好。但是，使用快速刷新和物化视图日志可以更有效地刷新简单的物化视图。
                              </p>
                           </li>
                        </ul>
                        <p>总之，要决定使用哪种方法：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果您很少刷新并希望获得更快的查询性能，那么请使用方法A（复杂的物化视图）。</p>
                           </li>
                           <li>
                              <p>如果定期刷新并且可能牺牲查询性能，则使用方法B（简单的物化视图）。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-359AFF60-D6A8-4017-A0E9-9A7525ADCA00" title="复杂的物化视图无法快速刷新。">复杂实体化视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-D9DD5673-C8FA-46B6-8E42-99F781CBD9A1" name="GUID-D9DD5673-C8FA-46B6-8E42-99F781CBD9A1"></a><h3 id="ADMIN-GUID-D9DD5673-C8FA-46B6-8E42-99F781CBD9A1" class="sect3"><span class="enumeration_section">36.5</span>与物化视图相关的用户和权限</h3>
               <p>与物化视图相关的用户包括创建者，复习者和所有者。在物化视图上执行操作所需的权限取决于执行操作的用户类型。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-0A13D7EF-7AA3-42B1-9174-A6A245493DAE">物化视图操作所需的权限</a><br>三种不同类型的用户在物化视图上执行操作。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-9997750F-913E-4FEC-BA12-36497E422EEA">创作者是所有者</a><br>如果物化视图的创建者也拥有物化视图，则该用户必须具有创建物化视图所需的权限。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-92890867-8914-47D6-907C-4DD2796D47B2">创作者不是所有者</a><br>如果物化视图的创建者不是所有者，则必须授予创建者和所有者某些特权以创建物化视图。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-575DE322-9807-4C9E-A8A5-FA77D1B0CF4E">复习者是所有者</a><br>如果物化视图的刷新还拥有物化视图，则此用户必须具有创建物化视图所需的权限。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-51254468-BE93-4534-892D-5DFB43697CA4">复习者不是所有者</a><br>如果物化视图的复习不是所有者，则必须向复习者和所有者授予某些特权。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-A422B474-4BED-4A60-AEDB-E93630746083" title="理解与只读物化视图相关的概念。">只读实体化视图概念</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-0A13D7EF-7AA3-42B1-9174-A6A245493DAE" name="GUID-0A13D7EF-7AA3-42B1-9174-A6A245493DAE"></a><h4 id="ADMIN-GUID-0A13D7EF-7AA3-42B1-9174-A6A245493DAE" class="sect4"><span class="enumeration_section">36.5.1</span>物化视图操作所需的权限</h4>
                  <div>
                     <p>三种不同类型的用户在物化视图上执行操作。</p>
                     <p>这些用户是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">创建者：</span>创建物化视图的用户。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">刷新：</span>刷新物化视图的用户。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">所有者：</span>拥有物化视图的用户。物化视图位于此用户的架构中。
                           </p>
                        </li>
                     </ul>
                     <p>一个用户可以在特定的物化视图上执行所有这些操作。但是，在某些复制环境中，不同的用户在特定的物化视图上执行这些操作。执行这些操作所需的权限取决于同一用户是执行它们还是不同用户执行它们。</p>
                     <p>如果物化视图数据库中物化视图的所有者具有指向主数据库的专用数据库链接，则数据库链接将连接到主数据库上主表的所有者。否则，适用于通过数据库链接的连接的常规规则。</p>
                     <div class="infoboxnote" id="GUID-0A13D7EF-7AA3-42B1-9174-A6A245493DAE__GUID-21644220-6176-4712-987F-9D26B7258B27">
                        <p class="notep1">注意：</p>
                        <p>以下部分未涵盖在启用查询重写的情况下创建实例化视图所需的要求。有关信息，请参见<a href="../sqlrf/CREATE-MATERIALIZED-VIEW.html#SQLRF01302" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-0A13D7EF-7AA3-42B1-9174-A6A245493DAE__GUID-48E69571-5BF3-4CA0-85B0-066C5807DBC4">
                        <p class="notep1">也可以看看：</p>
                        <p>以下部分讨论数据库链接。有关使用数据库链接的详细信息，请参阅<a href="distributed-database-concepts.html#GUID-36A35EC6-D3BA-4284-ADA0-732E10F3425E" title="与分布式数据库相关的概念包括分布式数据库架构，数据库链接，事务处理，应用程序开发和字符集支持。">分布式数</a>
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-D9DD5673-C8FA-46B6-8E42-99F781CBD9A1" title="与物化视图相关的用户包括创建者，复习者和所有者。在物化视图上执行操作所需的权限取决于执行操作的用户类型。">与实体化视图相关的用户和权限</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-9997750F-913E-4FEC-BA12-36497E422EEA" name="GUID-9997750F-913E-4FEC-BA12-36497E422EEA"></a><h4 id="ADMIN-GUID-9997750F-913E-4FEC-BA12-36497E422EEA" class="sect4"><span class="enumeration_section">36.5.2</span>创作者是所有者</h4>
                  <div>
                     <p>如果物化视图的创建者也拥有物化视图，则该用户必须具有创建物化视图所需的权限。</p>
                     <p>必须明确授予以下权限，而不是通过角色：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>或<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CREATE</code> <code class="codeph">TABLE</code>或<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code></p>
                        </li>
                        <li>
                           <p>主表和主表的物化视图日志上的<code class="codeph">READ</code>或<code class="codeph">SELECT</code>对象特权，或<code class="codeph">READ</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>或<code class="codeph">SELECT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>系统特权</p>
                           <p>如果master数据库是远程数据库，则必须向master数据库的用户授予<code class="codeph">READ</code>或<code class="codeph">SELECT</code>对象权限，物化视图数据库中的用户通过数据库链接将该数据库连接到该数据库。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-D9DD5673-C8FA-46B6-8E42-99F781CBD9A1" title="与物化视图相关的用户包括创建者，复习者和所有者。在物化视图上执行操作所需的权限取决于执行操作的用户类型。">与实体化视图相关的用户和权限</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-92890867-8914-47D6-907C-4DD2796D47B2" name="GUID-92890867-8914-47D6-907C-4DD2796D47B2"></a><h4 id="ADMIN-GUID-92890867-8914-47D6-907C-4DD2796D47B2" class="sect4"><span class="enumeration_section">36.5.3</span>创作者不是所有者</h4>
                  <div>
                     <p>如果物化视图的创建者不是所有者，则必须授予创建者和所有者某些特权以创建物化视图。</p>
                     <p>必须明确授予创建者的特权和所有者的特权，而不是通过角色授予。</p>
                     <p><a href="read-only-materialized-view-concepts.html#GUID-92890867-8914-47D6-907C-4DD2796D47B2__BABDDCEJ" title="此表显示创建者和所有者在创建者不是所有者的情况下创建实体化视图时所需的权限。">表36-1</a>显示了物化视图的创建者不是所有者时所需的权限。
                     </p>
                     <div class="tblformal" id="GUID-92890867-8914-47D6-907C-4DD2796D47B2__BABDDCEJ">
                        <p class="titleintable">表36-1创建实体化视图所需的权限（创建者！=所有者）</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="创建物化视图所需的权限（创建者！=所有者）" width="100%" border="1" summary="This table shows the required privileges for the creator and the owner when creating materialized views for the case where the creator is not the owner." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="40%" id="d326248e1607">创造者</th>
                                 <th align="left" valign="bottom" width="60%" id="d326248e1610">所有者</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d326248e1615" headers="d326248e1607 ">
                                    <p><code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d326248e1615 d326248e1610 ">
                                    <p><code class="codeph">CREATE</code> <code class="codeph">TABLE</code>或<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code></p>
                                    <p>主表和主表的物化视图日志上的<code class="codeph">READ</code>或<code class="codeph">SELECT</code>对象特权，或<code class="codeph">READ</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>或<code class="codeph">SELECT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>系统特权</p>
                                    <p>如果master数据库是远程数据库，则必须向master数据库的用户授予<code class="codeph">READ</code>或<code class="codeph">SELECT</code>对象权限，物化视图数据库中的用户通过数据库链接将该数据库连接到该数据库。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-D9DD5673-C8FA-46B6-8E42-99F781CBD9A1" title="与物化视图相关的用户包括创建者，复习者和所有者。在物化视图上执行操作所需的权限取决于执行操作的用户类型。">与实体化视图相关的用户和权限</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-575DE322-9807-4C9E-A8A5-FA77D1B0CF4E" name="GUID-575DE322-9807-4C9E-A8A5-FA77D1B0CF4E"></a><h4 id="ADMIN-GUID-575DE322-9807-4C9E-A8A5-FA77D1B0CF4E" class="sect4"><span class="enumeration_section">36.5.4</span>复习者是所有者</h4>
                  <div>
                     <p>如果物化视图的刷新还拥有物化视图，则此用户必须具有创建物化视图所需的权限。</p>
                     <p>具体而言，此用户必须对主表和主表的物化视图日志具有<code class="codeph">READ</code>或<code class="codeph">SELECT</code>对象特权，或者具有<code class="codeph">READ</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>或<code class="codeph">SELECT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>系统特权。如果master数据库是远程数据库，则必须向master数据库的用户授予<code class="codeph">READ</code>或<code class="codeph">SELECT</code>对象权限，物化视图数据库中的用户通过数据库链接将该数据库连接到该数据库。可以显式或通过角色授予此权限。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-D9DD5673-C8FA-46B6-8E42-99F781CBD9A1" title="与物化视图相关的用户包括创建者，复习者和所有者。在物化视图上执行操作所需的权限取决于执行操作的用户类型。">与实体化视图相关的用户和权限</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-51254468-BE93-4534-892D-5DFB43697CA4" name="GUID-51254468-BE93-4534-892D-5DFB43697CA4"></a><h4 id="ADMIN-GUID-51254468-BE93-4534-892D-5DFB43697CA4" class="sect4"><span class="enumeration_section">36.5.5</span>复习不是所有者</h4>
                  <div>
                     <p>如果物化视图的复习不是所有者，则必须向复习者和所有者授予某些特权。</p>
                     <p>可以显式或通过角色授予这些权限。</p>
                     <p><a href="read-only-materialized-view-concepts.html#GUID-51254468-BE93-4534-892D-5DFB43697CA4__BABGBAID" title="此表显示了在刷新器不是所有者的情况下刷新物化视图时刷新器和所有者所需的权限。">表36-2</a>显示了物化视图的复习不是所有者时所需的权限。
                     </p>
                     <div class="tblformal" id="GUID-51254468-BE93-4534-892D-5DFB43697CA4__BABGBAID">
                        <p class="titleintable">表36-2刷新实体化视图所需的权限（复习！=所有者）</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="刷新物化视图所需的权限（复习！=所有者）" width="100%" border="1" summary="This table shows the required privileges for the refresher and the owner when refreshing materialized views for the case where the refresher is not the owner." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="39%" id="d326248e1794">复习</th>
                                 <th align="left" valign="bottom" width="61%" id="d326248e1797">所有者</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d326248e1802" headers="d326248e1794 ">
                                    <p><code class="codeph">ALTER</code> <code class="codeph">ANY</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d326248e1802 d326248e1797 ">
                                    <p>如果master数据库是本地数据库，则必须在主表和主表的物化视图日志或<code class="codeph">READ</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>或<code class="codeph">SELECT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code>系统特权上授予<code class="codeph">READ</code>或<code class="codeph">SELECT</code>对象特权。
                                    </p>
                                    <p>如果master数据库是远程数据库，则必须向master数据库的用户授予<code class="codeph">READ</code>或<code class="codeph">SELECT</code>对象权限，物化视图数据库中的用户通过数据库链接将该数据库连接到该数据库。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-D9DD5673-C8FA-46B6-8E42-99F781CBD9A1" title="与物化视图相关的用户包括创建者，复习者和所有者。在物化视图上执行操作所需的权限取决于执行操作的用户类型。">与实体化视图相关的用户和权限</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-1AC3EF2C-C45F-469B-AE9C-ED6066B83326" name="GUID-1AC3EF2C-C45F-469B-AE9C-ED6066B83326"></a><h3 id="ADMIN-GUID-1AC3EF2C-C45F-469B-AE9C-ED6066B83326" class="sect3"><span class="enumeration_section">36.6</span>具有物化视图的数据子集</h3>
               <p>您可以使用行子集和列子集来配置实体化视图，以反映主表中数据的子集。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-899DBA13-2CAD-45E4-963A-6472EF5DFC66">关于物化视图的数据子集</a><br>在某些情况下，您可能希望物化视图反映主表中数据的子集。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-C705F5EF-B389-4A30-9674-11653263A24A">具有子查询的物化视图</a><br>如果要根据多个表中的信息复制数据，则维护和定义这些物化视图可能很困难。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-0C401A1A-D5BC-4009-B6DD-A1C61D65F9E9">具有子查询的物化视图的限制</a><br>具有子查询的物化视图的定义查询受若干限制，以保留物化视图的快速刷新功能。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-08630525-1F61-43F4-979C-57491141322A">包含子查询的联合对物化视图的限制</a><br>对于包含子查询的联合的快速刷新实体化视图存在限制。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-A422B474-4BED-4A60-AEDB-E93630746083" title="理解与只读物化视图相关的概念。">只读实体化视图概念</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-899DBA13-2CAD-45E4-963A-6472EF5DFC66" name="GUID-899DBA13-2CAD-45E4-963A-6472EF5DFC66"></a><h4 id="ADMIN-GUID-899DBA13-2CAD-45E4-963A-6472EF5DFC66" class="sect4"><span class="enumeration_section">36.6.1</span>关于物化视图的数据子集</h4>
                  <div>
                     <p>在某些情况下，您可能希望物化视图反映主表中数据的子集。</p>
                     <p>行子集化使您可以使用<code class="codeph">WHERE</code>子句仅在实例化视图中包含主表所需的行。通过列子集，您只能在实例化视图中包含主表所需的列。您可以通过在物化视图创建期间在<code class="codeph">SELECT</code>语句中指定某些选择列来执行此操作。
                     </p>
                     <p>使用数据子集的一些原因是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">减少网络流量</span> ：在列子集化的物化视图中，只有满足物化视图定义查询的<code class="codeph">WHERE</code>子句的更改才会应用于物化视图数据库，从而减少传输的数据量并减少网络流量。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">安全敏感数据</span> ：用户只能查看满足物化视图定义查询的数据。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">降低资源要求</span> ：如果物化视图位于笔记本电脑上，则硬盘通常比公司服务器上的硬盘小得多。子集化的物化视图可能需要更少的存储空间。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">改进刷新时间</span> ：由于较少的数据应用于物化视图数据库，因此刷新过程更快，这对于需要使用笔记本电脑的网络连接刷新物化视图的人来说可能是必不可少的。
                           </p>
                        </li>
                     </ul>
                     <p>例如，以下语句基于<code class="codeph">oe.orders@orc1.example.com</code>主表创建实例化视图，并且仅包含<code class="codeph">sales_rep_id</code>数为<code class="codeph">173</code>的销售代表的行：</p><pre class="oac_no_warn" dir="ltr">创建物化视图oe.orders快速选择*来自oe.orders@orc1.example.com WHERE sales_rep_id = 173;</pre><p>具有除<code class="codeph">173</code>之外的<code class="codeph">sales_rep_id</code>数的orders表的<code class="codeph">sales_rep_id</code>从此物化视图中排除。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-1AC3EF2C-C45F-469B-AE9C-ED6066B83326" title="您可以使用行子集和列子集来配置实体化视图，以反映主表中数据的子集。">使用物化视图的数据子集</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-C705F5EF-B389-4A30-9674-11653263A24A" name="GUID-C705F5EF-B389-4A30-9674-11653263A24A"></a><h4 id="ADMIN-GUID-C705F5EF-B389-4A30-9674-11653263A24A" class="sect4"><span class="enumeration_section">36.6.2带子</span>查询的物化视图</h4>
                  <p>如果要根据多个表中的信息复制数据，则维护和定义这些物化视图可能很困难。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-60F4C19C-076E-4FDB-8190-9CB91893CC51">多对一子查询</a><br>您可以使用具有多对一关系的子查询创建实例化视图。
                        </li>
                        <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-4C913A6E-A150-4073-9242-820AE34DE9CD">一对多子查询</a><br>您可以使用具有一对多关系的子查询创建实例化视图。
                        </li>
                        <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-1EB1B34F-65D8-45FA-9DC9-E281BE657A79">多对多子查询</a><br>您可以使用具有多对多关系的子查询创建实例化视图。
                        </li>
                        <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-3AF20597-E07E-4BC6-A6C4-AA2D971A41CB">具有子查询和联合的物化视图</a><br>您可以使用子查询和联合创建实例化视图。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-1AC3EF2C-C45F-469B-AE9C-ED6066B83326" title="您可以使用行子集和列子集来配置实体化视图，以反映主表中数据的子集。">使用物化视图的数据子集</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-60F4C19C-076E-4FDB-8190-9CB91893CC51" name="GUID-60F4C19C-076E-4FDB-8190-9CB91893CC51"></a><h5 id="ADMIN-GUID-60F4C19C-076E-4FDB-8190-9CB91893CC51" class="sect5"><span class="enumeration_section">36.6.2.1</span>多对一子查询</h5>
                     <div>
                        <p>您可以使用具有多对一关系的子查询创建实例化视图。</p>
                        <p>考虑这样一种情况，即在<code class="codeph">oe</code>模式中有<code class="codeph">customers</code>表和<code class="codeph">orders</code>表，并且您希望根据<code class="codeph">orders</code>表和<code class="codeph">customers</code>表中的数据创建<code class="codeph">orders</code>表的物化视图。例如，假设销售人员希望查看信用额度超过10,000美元的客户的所有订单。在这种情况下，创建<code class="codeph">orders</code>物化视图的<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句具有多对一关系的子查询，因为每个客户可以有许多订单。
                        </p>
                        <p>查看<a href="read-only-materialized-view-concepts.html#GUID-60F4C19C-076E-4FDB-8190-9CB91893CC51__BABEIGBD">图36-3</a>中的关系，注意<code class="codeph">customers</code>和<code class="codeph">orders</code>表是通过<code class="codeph">customer_id</code>列相关的。以下声明满足销售人员的原始目标。也就是说，以下语句创建一个物化视图，其中包含信用额度大于$ 10,000的客户的订单：</p><pre class="oac_no_warn" dir="ltr">创建物化视图oe.orders快速刷新选择*来自oe.orders@orc1.example.com o EXERE EXISTS（SELECT * FROM oe.customers@orc1.example.com c WHERE o.customer_id = c.customer_id AND c.credit_limit &gt; 10000）;</pre><div class="infoboxnote" id="GUID-60F4C19C-076E-4FDB-8190-9CB91893CC51__GUID-871AF3C0-B6F6-403F-BE9D-C983D45F4C85">
                           <p class="notep1">注意：</p>
                           <p>要创建此<code class="codeph">oe.orders</code>物化视图，必须在主表的物化视图日志中记录<code class="codeph">credit_limit</code> 。有关详细信息，请参阅<span class="q">“ <a href="planning-for-read-only-materialized-views.html#GUID-FAAF0273-7321-4FD0-8A5D-A3A8364E10F9" title="创建实例化视图日志时，可以向日志添加列以快速刷新实例化视图。">在实体化视图日志中记录列</a> ”</span> 。
                           </p>
                        </div>
                        <div class="figure" id="GUID-60F4C19C-076E-4FDB-8190-9CB91893CC51__BABEIGBD">
                           <p class="titleinfigure">图36-3具有多对一子查询的行子集</p><img src="img/admin588.gif" width="516" alt="下面是图36-3的描述" title="下面是图36-3的描述" longdesc="img_text/admin588.html"><br><a href="img_text/admin588.html">“图36-3具有多对一子查询的行子集”的说明</a></div>
                        <!-- class="figure" -->
                        <p>如您所见，此语句创建的物化视图可快速刷新。如果识别出具有大于10,000美元信用额度的新客户，则在随后的刷新过程中新数据将传播到物化视图数据库。同样，如果客户的信用额度降至10,000美元以下，那么客户的数据将在后续刷新过程中从物化视图中删除。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-C705F5EF-B389-4A30-9674-11653263A24A" title="如果要根据多个表中的信息复制数据，则维护和定义这些物化视图可能很困难。">带子查询的物化视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-4C913A6E-A150-4073-9242-820AE34DE9CD" name="GUID-4C913A6E-A150-4073-9242-820AE34DE9CD"></a><h5 id="ADMIN-GUID-4C913A6E-A150-4073-9242-820AE34DE9CD" class="sect5"><span class="enumeration_section">36.6.2.2</span>一对多子查询</h5>
                     <div>
                        <p>您可以使用具有一对多关系的子查询创建实例化视图。</p>
                        <p>考虑这样你有一个方案<code class="codeph">customers</code>表和<code class="codeph">orders</code>表在<code class="codeph">oe</code>模式，并且要创建的物化视图<code class="codeph">customers</code>基于两个数据表<code class="codeph">customers</code>表和<code class="codeph">orders</code>表。例如，假设销售人员想要查看订单总额超过20,000美元的订单的所有客户。在这种情况下，最有效的方法是在物化视图的定义查询中创建具有一对多子查询的物化视图。
                        </p>
                        <p>这里， <code class="codeph">customers</code>表上<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句中的定义查询具有一个具有一对多关系的子查询。也就是说，一个客户可以有很多订单。
                        </p>
                        <p>查看<a href="read-only-materialized-view-concepts.html#GUID-4C913A6E-A150-4073-9242-820AE34DE9CD__BABCGECH">图36-4</a>中的关系，注意<code class="codeph">orders</code>表和<code class="codeph">customers</code>表是通过<code class="codeph">customer_id</code>列相关的。以下声明满足销售人员的原始目标。也就是说，此语句创建一个物化视图，其中包含订单总额大于$ 20,000的订单的客户：</p><pre class="oac_no_warn" dir="ltr">创建物化视图oe.customers快速选择*来自oe.customers@orc1.example.com c何处出现（SELECT * FROM oe.orders@orc1.example.com o WHERE c.customer_id = o.customer_id AND o.order_total &gt; 20000）;</pre><div class="infoboxnote" id="GUID-4C913A6E-A150-4073-9242-820AE34DE9CD__GUID-4AEFDD03-ECED-4C5A-B0EA-A36AE8590134">
                           <p class="notep1">注意：</p>
                           <p>要创建此<code class="codeph">oe.customers</code>物化视图，必须在<code class="codeph">orders</code>主表的物化视图日志中记录<code class="codeph">customer_id</code>和<code class="codeph">order_total</code> 。有关详细信息，请参阅<span class="q">“ <a href="planning-for-read-only-materialized-views.html#GUID-FAAF0273-7321-4FD0-8A5D-A3A8364E10F9" title="创建实例化视图日志时，可以向日志添加列以快速刷新实例化视图。">在实体化视图日志中记录列</a> ”</span> 。
                           </p>
                        </div>
                        <div class="figure" id="GUID-4C913A6E-A150-4073-9242-820AE34DE9CD__BABCGECH">
                           <p class="titleinfigure">图36-4使用一对多子查询的行子集</p><img src="img/admin587.gif" width="557" alt="下面是图36-4的描述" title="下面是图36-4的描述" longdesc="img_text/admin587.html"><br><a href="img_text/admin587.html">“图36-4使用一对多子查询进行子行设置”的说明</a></div>
                        <!-- class="figure" -->
                        <p>此语句创建的物化视图可快速刷新。如果识别出订单总数超过20,000美元的新客户，则新数据将在后续刷新过程中传播到物化视图数据库。同样，如果客户取消订单总额超过20,000美元并且没有其他订单总额超过20,000美元的订单，那么客户的数据将在后续刷新过程中从物化视图中删除。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-C705F5EF-B389-4A30-9674-11653263A24A" title="如果要根据多个表中的信息复制数据，则维护和定义这些物化视图可能很困难。">带子查询的物化视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-1EB1B34F-65D8-45FA-9DC9-E281BE657A79" name="GUID-1EB1B34F-65D8-45FA-9DC9-E281BE657A79"></a><h5 id="ADMIN-GUID-1EB1B34F-65D8-45FA-9DC9-E281BE657A79" class="sect5"><span class="enumeration_section">36.6.2.3</span>多对多子查询</h5>
                     <div>
                        <p>您可以使用具有多对多关系的子查询创建实例化视图。</p>
                        <p>考虑一种情况，其中您在<code class="codeph">oe</code>模式中具有<code class="codeph">order_items</code>表和<code class="codeph">inventories</code>表，并且您希望基于<code class="codeph">inventories</code>表和<code class="codeph">order_items</code>表中的数据创建<code class="codeph">inventories</code>表的物化视图。例如，假设销售人员想要查看其<code class="codeph">product_id</code>在<code class="codeph">order_items</code>表中的每个产品的库存数量大于0（零）的所有库存。换句话说，销售人员希望看到客户订购的所有产品的库存大于零。这里，库存是特定仓库中特定数量的产品。因此，某个产品可以包含在许多订单商品和许多库存中。
                        </p>
                        <p>为了实现销售人员的目标，您可以在<code class="codeph">order_items</code>表和<code class="codeph">inventories</code>表之间的多对多关系上创建具有子查询的物化视图。
                        </p>
                        <p>创建<code class="codeph">inventories</code>物化视图时，您希望检索<code class="codeph">order_items</code>表中显示的产品的库存数量大于零的库存。查看<a href="read-only-materialized-view-concepts.html#GUID-1EB1B34F-65D8-45FA-9DC9-E281BE657A79__BABCFJDF">图36-5</a>中的关系，并注意<code class="codeph">inventories</code>表和<code class="codeph">order_items</code>表通过<code class="codeph">product_id</code>列相关。以下语句创建实例化视图：</p><pre class="oac_no_warn" dir="ltr">创建物化视图oe.inventories快速选择*来自oe.inventories@orc1.example.com我在哪里i.quantity_on_hand&gt; 0和EXISTS（SELECT * FROM oe.order_items@orc1.example.com o在哪里i.product_id = o .product_id）;</pre><div class="infoboxnote" id="GUID-1EB1B34F-65D8-45FA-9DC9-E281BE657A79__GUID-C73131D8-94EC-4D9D-B527-211935AA84F3">
                           <p class="notep1">注意：</p>
                           <p>要创建此<code class="codeph">oe.inventories</code>物化视图， <code class="codeph">order_items</code>主表中的<code class="codeph">product_id</code>列必须记录在主表的物化视图日志中。有关详细信息，请参阅<span class="q">“ <a href="planning-for-read-only-materialized-views.html#GUID-FAAF0273-7321-4FD0-8A5D-A3A8364E10F9" title="创建实例化视图日志时，可以向日志添加列以快速刷新实例化视图。">在实体化视图日志中记录列</a> ”</span> 。
                           </p>
                        </div>
                        <div class="figure" id="GUID-1EB1B34F-65D8-45FA-9DC9-E281BE657A79__BABCFJDF">
                           <p class="titleinfigure">图36-5具有多对多子查询的行子集</p><img src="img/admin589.gif" width="597" alt="下面是图36-5的描述" title="下面是图36-5的描述" longdesc="img_text/admin589.html"><br><a href="img_text/admin589.html">“图36-5具有多对多子查询的行子集”的说明</a></div>
                        <!-- class="figure" -->
                        <p>此语句创建的物化视图可快速刷新。如果为<code class="codeph">order_items</code>表中的产品标识了大于零的新库存，则新数据将在后续刷新过程中传播到物化视图数据库。同样，如果客户取消产品订单并且<code class="codeph">order_items</code>表中没有该产品的其他订单，则在后续刷新过程中将从物化视图中删除产品的库存。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-C705F5EF-B389-4A30-9674-11653263A24A" title="如果要根据多个表中的信息复制数据，则维护和定义这些物化视图可能很困难。">带子查询的物化视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-3AF20597-E07E-4BC6-A6C4-AA2D971A41CB" name="GUID-3AF20597-E07E-4BC6-A6C4-AA2D971A41CB"></a><h5 id="ADMIN-GUID-3AF20597-E07E-4BC6-A6C4-AA2D971A41CB" class="sect5"><span class="enumeration_section">36.6.2.4</span>具有子查询和<span class="enumeration_section">联合的</span>物化视图</h5>
                     <div>
                        <p>您可以使用子查询和联合创建实例化视图。</p>
                        <p>在您希望单个物化视图包含与两个或更多不同查询的完整结果匹配的数据的情况下，可以使用<code class="codeph">UNION</code>运算符。使用<code class="codeph">UNION</code>运算符创建<code class="codeph">UNION</code>化视图时，每个<code class="codeph">UNION</code>运算符周围都有两个<code class="codeph">SELECT</code>语句;一个在它上面，一个在它下面。生成的物化视图包含由任一查询选择的行。
                        </p>
                        <p>您可以使用<code class="codeph">UNION</code>运算符来创建满足“或”条件的快速可刷新实体化视图，而无需在子查询的<code class="codeph">WHERE</code>子句中使用<code class="codeph">OR</code>表达式。在某些情况下，在子查询的<code class="codeph">WHERE</code>子句中使用<code class="codeph">OR</code>表达式会导致生成的实例化视图变得复杂，因此无法快速刷新。
                        </p>
                        <div class="infoboxnotealso" id="GUID-3AF20597-E07E-4BC6-A6C4-AA2D971A41CB__GUID-D281C29D-C7FE-4AAE-B879-F63839D48133">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="read-only-materialized-view-concepts.html#GUID-0C401A1A-D5BC-4009-B6DD-A1C61D65F9E9" title="具有子查询的物化视图的定义查询受若干限制，以保留物化视图的快速刷新功能。">有子查询的物化视图的限制</a> ”</span> ，以获取有关子查询中<code class="codeph">OR</code>表达式的更多信息</p>
                        </div>
                        <p>例如，假设一个销售人员要为产品中的特定产品的信息<code class="codeph">category_id</code>这<span class="italic">要么是</span>在加州的一家仓库<span class="italic">或</span>包含单词“胭脂扣”在他们的翻译产品说明（为法国翻译）。以下语句使用<code class="codeph">UNION</code>运算符和子查询在<code class="codeph">category_id</code> 29中的产品的物化视图中捕获此数据：</p><pre class="oac_no_warn" dir="ltr">创建物化视图oe.product_information快速选择*来自oe.product_information@orc1.example.com pi其中pi.category_id = 29 AND EXISTS（SELECT * FROM oe.product_descriptions@orc1.example.com pd WHERE pi.product_id = pd .product_id AND pd.translated_description LIKE'％Rouge％'）UNION SELECT * FROM oe.product_information@orc1.example.com pi WHERE pi.category_id = 29 AND EXISTS（SELECT * FROM oe.inventories@orc1.example.com i WHERE pi.product_id = i.product_id AND EXISTS（SELECT * FROM oe.warehouses@orc1.example.com w WHERE i.warehouse_id = w.warehouse_id AND EXISTS（SELECT * FROM hr.locations@orc1.example.com l WHERE w。 location_id = l.location_id AND l.state_province ='California'）））;</pre><div class="infoboxnote" id="GUID-3AF20597-E07E-4BC6-A6C4-AA2D971A41CB__GUID-A9E0D2B8-4219-430D-B84F-B3530C600829">
                           <p class="notep1">注意：</p>
                           <p>要创建<code class="codeph">oe.product_information</code>物化视图， <code class="codeph">translated_description</code>在<code class="codeph">oe.product_descriptions</code>主表中， <code class="codeph">state_province</code>的<code class="codeph">hr.locations</code>主表，以及<code class="codeph">location_id</code>列<code class="codeph">oe.warehouses</code>主表必须在每个主人的物化视图日志中记录。有关详细信息，请参阅<span class="q">“ <a href="planning-for-read-only-materialized-views.html#GUID-FAAF0273-7321-4FD0-8A5D-A3A8364E10F9" title="创建实例化视图日志时，可以向日志添加列以快速刷新实例化视图。">在实体化视图日志中记录列</a> ”</span> 。
                           </p>
                        </div>
                        <p><a href="read-only-materialized-view-concepts.html#GUID-3AF20597-E07E-4BC6-A6C4-AA2D971A41CB__BABHFIII">图36-6</a>显示了此语句中涉及的主表的关系。
                        </p>
                        <div class="figure" id="GUID-3AF20597-E07E-4BC6-A6C4-AA2D971A41CB__BABHFIII">
                           <p class="titleinfigure">图36-6带子查询和联合的行子集</p><img src="img/admin590.gif" width="556" alt="下面是图36-6的描述" title="下面是图36-6的描述" longdesc="img_text/admin590.html"><br><a href="img_text/admin590.html">“图36-6使用子查询和联合进行子行设置”的说明</a></div>
                        <!-- class="figure" -->
                        <p>除了<code class="codeph">UNION</code>操作之外，此语句还包含以下子查询：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>引用<code class="codeph">product_information</code>表和<code class="codeph">product_descriptions</code>表的子查询。此子查询是一对多的，因为一个产品可以有多个产品描述（针对不同的语言）。
                              </p>
                           </li>
                           <li>
                              <p>引用<code class="codeph">product_information</code>表和<code class="codeph">inventories</code>表的子查询。这个子查询是一对多的，因为产品可以包含在许多库存中。
                              </p>
                           </li>
                           <li>
                              <p>引用<code class="codeph">inventories</code>表和<code class="codeph">warehouses</code>表的子查询。这个子查询是多对一的，因为许多库存可以存储在一个仓库中。
                              </p>
                           </li>
                           <li>
                              <p>引用<code class="codeph">warehouses</code>表和<code class="codeph">locations</code>表的子查询。这个子查询是多对一的，因为许多仓库可以在一个位置。
                              </p>
                           </li>
                        </ul>
                        <p>此语句创建的物化视图可快速刷新。如果添加了存储在加利福尼亚州仓库中的新产品或在已翻译的产品说明中包含字符串“Rouge”的新产品，则新数据将在后续刷新过程中传播到<code class="codeph">product_information</code>物化视图。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-C705F5EF-B389-4A30-9674-11653263A24A" title="如果要根据多个表中的信息复制数据，则维护和定义这些物化视图可能很困难。">带子查询的物化视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-0C401A1A-D5BC-4009-B6DD-A1C61D65F9E9" name="GUID-0C401A1A-D5BC-4009-B6DD-A1C61D65F9E9"></a><h4 id="ADMIN-GUID-0C401A1A-D5BC-4009-B6DD-A1C61D65F9E9" class="sect4"><span class="enumeration_section">36.6.3带子</span>查询的物化视图的限制</h4>
                  <div>
                     <p>具有子查询的物化视图的定义查询受若干限制，以保留物化视图的快速刷新功能。</p>
                     <p>以下是使用子查询快速刷新实体化视图的限制：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>物化视图必须是主键物化视图。</p>
                        </li>
                        <li>
                           <p><a id="d326248e2753" class="indexterm-anchor"></a><a id="d326248e2759" class="indexterm-anchor"></a><a id="d326248e2763" class="indexterm-anchor"></a>主表的物化视图日志必须包含子查询中引用的某些列。有关必须包含哪些列的信息，请参阅<span class="q">“ <a href="planning-for-read-only-materialized-views.html#GUID-FAAF0273-7321-4FD0-8A5D-A3A8364E10F9" title="创建实例化视图日志时，可以向日志添加列以快速刷新实例化视图。">在实体化视图日志中记录列</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p><a id="d326248e2780" class="indexterm-anchor"></a><a id="d326248e2786" class="indexterm-anchor"></a><a id="d326248e2792" class="indexterm-anchor"></a>如果子查询是多对多或一对多，则不包含主键的连接列必须包含在主表的实例化视图日志中。此限制不适用于多个到一个子查询。
                           </p>
                        </li>
                        <li>
                           <p><a id="d326248e2801" class="indexterm-anchor"></a><a id="d326248e2807" class="indexterm-anchor"></a><a id="d326248e2811" class="indexterm-anchor"></a>子查询必须是正子查询。例如，您可以使用<code class="codeph">EXISTS</code>条件，但不能使用<code class="codeph">NOT</code> <code class="codeph">EXISTS</code>条件。
                           </p>
                        </li>
                        <li>
                           <p>子查询必须使用<code class="codeph">EXISTS</code>连接每个嵌套级别（不允许使用<code class="codeph">IN</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>每个表只能有一个<code class="codeph">EXISTS</code>表达式。
                           </p>
                        </li>
                        <li>
                           <p><a id="d326248e2844" class="indexterm-anchor"></a><a id="d326248e2850" class="indexterm-anchor"></a>连接表达式必须使用完全匹配或相等比较（即equi-joins）。
                           </p>
                        </li>
                        <li>
                           <p>每个表只能在子查询中连接一次。</p>
                        </li>
                        <li>
                           <p>每个嵌套级别的每个表必须存在一个主键。</p>
                        </li>
                        <li>
                           <p>每个嵌套级别只能引用其上方级别的表。</p>
                        </li>
                        <li>
                           <p><a id="d326248e2868" class="indexterm-anchor"></a><a id="d326248e2874" class="indexterm-anchor"></a><a id="d326248e2878" class="indexterm-anchor"></a><a id="d326248e2882" class="indexterm-anchor"></a><a id="d326248e2888" class="indexterm-anchor"></a><a id="d326248e2892" class="indexterm-anchor"></a>子查询可以包含<code class="codeph">AND</code>条件，但每个<code class="codeph">OR</code>条件只能引用一行中包含的列。子查询中的多个<code class="codeph">OR</code>条件可以与<code class="codeph">AND</code>条件连接。
                           </p>
                        </li>
                        <li>
                           <p>子查询中引用的所有表必须位于同一个master数据库中。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-0C401A1A-D5BC-4009-B6DD-A1C61D65F9E9__GUID-7869BBBB-C15C-4CBD-BE02-F43C577C4AA9">
                        <p class="notep1">注意：</p>
                        <p><a id="d326248e2918" class="indexterm-anchor"></a><a id="d326248e2924" class="indexterm-anchor"></a>如果<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句包含<code class="codeph">ON</code> <code class="codeph">PREBUILT</code> <code class="codeph">TABLE</code>子句和子查询，则子查询将被视为多对多。因此，在这种情况下，必须将连接列记录在物化视图日志中。有关<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句中的<code class="codeph">ON</code> <code class="codeph">PREBUILT</code> <code class="codeph">TABLE</code>子句的更多信息，请参见<a href="../sqlrf/CREATE-MATERIALIZED-VIEW.html#SQLRF01302" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-0C401A1A-D5BC-4009-B6DD-A1C61D65F9E9__GUID-A2B454E6-2DD1-4FC9-A004-B9B3EE8AE416">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关主键物化视图的更多信息，请参阅<span class="q">“ <a href="read-only-materialized-view-concepts.html#GUID-31D07B2A-4B42-4B26-BB6F-0BA90FC0FB0D" title="主键物化视图是物化视图的默认类型。">主键物化视图</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="creating-and-managing-read-only-materialized-views.html#GUID-7B26829E-1389-46CF-81AD-28EA6C2F13A1" title="通过尝试使用REFRESH FAST子句或使用DBMS_MVIEW.EXPLAIN_MVIEW过程创建实例化视图，可以确定实例化视图是否可以快速刷新。">确定物化视图的快速刷新功能</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-1AC3EF2C-C45F-469B-AE9C-ED6066B83326" title="您可以使用行子集和列子集来配置实体化视图，以反映主表中数据的子集。">使用物化视图的数据子集</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-08630525-1F61-43F4-979C-57491141322A" name="GUID-08630525-1F61-43F4-979C-57491141322A"></a><h4 id="ADMIN-GUID-08630525-1F61-43F4-979C-57491141322A" class="sect4"><span class="enumeration_section">36.6.4</span>包含子查询的联合的物化视图限制</h4>
                  <div>
                     <p>对于包含子查询的联合的快速刷新实体化视图存在限制。</p>
                     <p>以下是对包含子查询的联合的快速刷新实例化视图的限制：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="read-only-materialized-view-concepts.html#GUID-0C401A1A-D5BC-4009-B6DD-A1C61D65F9E9" title="具有子查询的物化视图的定义查询受若干限制，以保留物化视图的快速刷新功能。">使用子查询限制物化视图</a></span>的限制”中描述的所有限制都适用于每个联合块中的子查询。
                           </p>
                        </li>
                        <li>
                           <p>所有连接列都必须包含在主表的实例化视图日志中，即使子查询是多对一的。</p>
                        </li>
                        <li>
                           <p>所有在<span class="q">“</span>中描述的限制， <span class="q"><a href="read-only-materialized-view-concepts.html#GUID-C59C92AB-06FD-4781-A414-0209E5BCB13E" title="要快速刷新，物化视图的定义查询必须遵守某些限制。">复杂的物化视图</a> ”</span>申请条款与<code class="codeph">UNIONS</code> 。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-B276CBED-2FD5-4CA3-A21E-90024BE71474">包含子查询的联合的物化视图示例</a><br>示例说明使用包含子查询的联合创建实例化视图。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-1AC3EF2C-C45F-469B-AE9C-ED6066B83326" title="您可以使用行子集和列子集来配置实体化视图，以反映主表中数据的子集。">使用物化视图的数据子集</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-B276CBED-2FD5-4CA3-A21E-90024BE71474" name="GUID-B276CBED-2FD5-4CA3-A21E-90024BE71474"></a><h5 id="ADMIN-GUID-B276CBED-2FD5-4CA3-A21E-90024BE71474" class="sect5"><span class="enumeration_section">36.6.4.1</span>包含子查询的<span class="enumeration_section">联合</span>的物化视图示例</h5>
                     <div>
                        <p>示例说明使用包含子查询的联合创建实例化视图。</p>
                        <p>以下语句创建<code class="codeph">oe.orders</code>物化视图。此物化视图可快速刷新，因为每个联合块中的子查询满足<span class="q">“ <a href="read-only-materialized-view-concepts.html#GUID-0C401A1A-D5BC-4009-B6DD-A1C61D65F9E9" title="The defining query of a materialized view with a subquery is subject to several restrictions to preserve the materialized view&#39;s fast refresh capability.">使用子查询限制物化视图的限制</a> ”中</span>描述的子查询的<span class="q"><a href="read-only-materialized-view-concepts.html#GUID-0C401A1A-D5BC-4009-B6DD-A1C61D65F9E9" title="具有子查询的物化视图的定义查询受若干限制，以保留物化视图的快速刷新功能。">限制</a></span> 。
                        </p><pre class="oac_no_warn" dir="ltr">创建物化视图oe.orders快速刷新选择*来自oe.orders@orc1.example.com o EXERE EXISTS（SELECT * FROM oe.customers@orc1.example.com c WHERE o.customer_id = c.customer_id AND c.credit_limit &gt; 50）UNION SELECT * FROM oe.orders@orc1.example.com o EXERE EXISTS（SELECT * FROM oe.customers@orc1.example.com c WHERE o.customer_id = c.customer_id AND c.account_mgr_id = 30）;</pre><p>请注意，子查询的一个限制是每个表只能在一个<code class="codeph">EXISTS</code>表达式中。这里， <code class="codeph">customers</code>表出现在两个<code class="codeph">EXISTS</code>表达式中，但<code class="codeph">EXISTS</code>表达式位于单独的<code class="codeph">UNION</code>块中。由于<span class="q">“ <a href="read-only-materialized-view-concepts.html#GUID-0C401A1A-D5BC-4009-B6DD-A1C61D65F9E9" title="The defining query of a materialized view with a subquery is subject to several restrictions to preserve the materialized view&#39;s fast refresh capability.">使用子查询限制物化视图</a> ”中</span>描述的<span class="q"><a href="read-only-materialized-view-concepts.html#GUID-0C401A1A-D5BC-4009-B6DD-A1C61D65F9E9" title="具有子查询的物化视图的定义查询受若干限制，以保留物化视图的快速刷新功能。">限制</a></span>仅适用于每个<code class="codeph">UNION</code>块，而不适用于整个<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句，因此物化视图可快速刷新。
                        </p>
                        <p>相反，使用以下语句创建的物化视图无法快速刷新，因为在同一个<code class="codeph">UNION</code>块中的两个不同的<code class="codeph">EXISTS</code>表达式中引用了<code class="codeph">orders</code>表：</p><pre class="oac_no_warn" dir="ltr">创建物化视图oe.orders AS SELECT * FROM oe.orders@orc1.example.com o EXERE EXISTS（SELECT * FROM oe.customers@orc1.example.com c WHERE o.customer_id = c.customer_id  - 首次参考订单table AND c.credit_limit&gt; 50 AND EXISTS（SELECT * FROM oe.orders@orc1.example.com o WHERE order_total&gt; 5000 AND o.customer_id = c.customer_id）） - 对订单表的第二次引用UNION SELECT * FROM oe。 orders@orc1.example.com o WHERE EXISTS（SELECT * FROM oe.customers@orc1.example.com c WHERE o.customer_id = c.customer_id AND c.account_mgr_id = 30）;</pre></div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B276CBED-2FD5-4CA3-A21E-90024BE71474__GUID-528D5AB9-3EC6-43E6-9DFB-3E8A63D51FAB">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="creating-and-managing-read-only-materialized-views.html#GUID-7B26829E-1389-46CF-81AD-28EA6C2F13A1" title="通过尝试使用REFRESH FAST子句或使用DBMS_MVIEW.EXPLAIN_MVIEW过程创建实例化视图，可以确定实例化视图是否可以快速刷新。">确定物化视图的快速刷新功能</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-08630525-1F61-43F4-979C-57491141322A" title="对于包含子查询的联合的快速刷新实体化视图存在限制。">包含子查询的联合的物化视图的限制</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-57260AFB-C323-40AF-A181-6ADF08E550DF" name="GUID-57260AFB-C323-40AF-A181-6ADF08E550DF"></a><h3 id="ADMIN-GUID-57260AFB-C323-40AF-A181-6ADF08E550DF" class="sect3"><span class="enumeration_section">36.7</span>物化视图刷新</h3>
               <div>
                  <p>要确保实例化视图与其主表一致，必须定期<strong class="term">刷新实例</strong>化视图。
                  </p>
                  <p>Oracle提供了以下三种方法来刷新实例化视图：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><strong class="term">快速刷新</strong>使用物化视图日志仅更新自上次刷新以来已更改的行。
                        </p>
                     </li>
                     <li>
                        <p><strong class="term">完成刷新会</strong>更新整个物化视图。
                        </p>
                     </li>
                     <li>
                        <p><strong class="term">强制刷新</strong>会尽可能快速刷新。当无法快速刷新时，强制刷新会执行完全刷新。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-A422B474-4BED-4A60-AEDB-E93630746083" title="理解与只读物化视图相关的概念。">只读实体化视图概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-31E1E90D-C565-40EF-BD22-4DB2D13462AA" name="GUID-31E1E90D-C565-40EF-BD22-4DB2D13462AA"></a><h3 id="ADMIN-GUID-31E1E90D-C565-40EF-BD22-4DB2D13462AA" class="sect3"><span class="enumeration_section">36.8</span>刷新组</h3>
               <div>
                  <p>如果物化视图在事务上彼此一致很重要，则可以将它们组织到<strong class="term">刷新组中</strong> 。
                  </p>
                  <p>通过刷新刷新组，可以确保刷新组中所有实例化视图中的数据对应于相同的事务一致性时间点。刷新组中的实例化视图仍可单独刷新，但这样做会使刷新组的优势无效，因为单独刷新实例化视图不会刷新刷新组中的其他实例化视图。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-A422B474-4BED-4A60-AEDB-E93630746083" title="理解与只读物化视图相关的概念。">只读实体化视图概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-E479B069-EE7D-4DF5-8086-8CB558A4B62A" name="GUID-E479B069-EE7D-4DF5-8086-8CB558A4B62A"></a><h3 id="ADMIN-GUID-E479B069-EE7D-4DF5-8086-8CB558A4B62A" class="sect3"><span class="enumeration_section">36.9</span>物化视图日志</h3>
               <div>
                  <p><strong class="term">物化视图日志</strong>是数据库中包含物化视图主表的表。它将所有DML更改记录到主表。
                  </p>
                  <p>物化视图日志与单个主表关联，并且每个主表只有一个物化视图日志，无论从主表刷新多少物化视图。仅当物化视图的主表具有物化视图日志时，才可以快速刷新物化视图。快速刷新实例化视图时，物化视图的相关物化视图日志中自上次刷新实例化视图后出现的条目将应用于实例化视图。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-A422B474-4BED-4A60-AEDB-E93630746083" title="理解与只读物化视图相关的概念。">只读实体化视图概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-52580CD0-2320-45BB-BCF1-89F4EA768291" name="GUID-52580CD0-2320-45BB-BCF1-89F4EA768291"></a><h3 id="ADMIN-GUID-52580CD0-2320-45BB-BCF1-89F4EA768291" class="sect3"><span class="enumeration_section">36.10</span>物化视图和用户定义数据类型</h3>
               <p>具有用户定义数据类型的物化视图有特殊注意事项。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-5F36705B-9947-4E8A-93A8-DDA4B330B404">物化视图如何与对象类型和集合一起使用</a><br>您可以在复制环境中的主数据库和物化视图数据库之间复制对象类型和对象。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-2E11F29F-BF60-4E3B-B94C-74EBB8C06F34">在复制数据库中键入协议</a><br>用户定义的类型包括使用<code class="codeph">CREATE</code> <code class="codeph">TYPE</code>语句创建的所有类型，包括object，嵌套表， <code class="codeph">VARRAY</code>和indextype。要基于用户定义的类型复制架构对象，用户定义的类型本身必须存在，并且必须在master数据库和物化视图数据库中相同。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-84F76978-04A6-4A4D-9E6A-3D3514F59B5C">使用列对象的主列的子列设置</a><br>只读实例化视图可以复制列对象的特定属性，而无需复制其他属性。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-7F5570DE-EFD3-411B-BE36-F3041C47D551">基于对象表的物化视图</a><br>您可以基于对象表创建实例化视图。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-306B2693-B88F-46D3-A8CA-43419B8B1F44">带有集合列的物化视图</a><br>集合列是基于varray和嵌套表数据类型的列。Oracle支持使用集合列创建物化视图。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-A5FB1CBF-E221-4EB7-ADDE-9F5EAE1E863F">带REF列的物化视图</a><br>物化视图可以包含<code class="codeph">REF</code>列。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-A422B474-4BED-4A60-AEDB-E93630746083" title="理解与只读物化视图相关的概念。">只读实体化视图概念</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-5F36705B-9947-4E8A-93A8-DDA4B330B404" name="GUID-5F36705B-9947-4E8A-93A8-DDA4B330B404"></a><h4 id="ADMIN-GUID-5F36705B-9947-4E8A-93A8-DDA4B330B404" class="sect4"><span class="enumeration_section">36.10.1</span>物化视图如何使用对象类型和集合</h4>
                  <div>
                     <p>您可以在复制环境中的主数据库和物化视图数据库之间复制对象类型和对象。</p>
                     <p>Oracle <span class="bold">对象</span> <span class="bold">类型</span>是用户定义的数据类型，可以将复杂的现实世界实体（如客户和订单）建模为数据库中的单个实体（称为<span class="bold">对象）</span> 。您可以使用<code class="codeph">CREATE</code> <code class="codeph">TYPE</code>创建对象类型<code class="codeph">...</code> <code class="codeph">AS</code> <code class="codeph">OBJECT</code>语句。
                     </p>
                     <p>占用表中单个列的Oracle对象称为<span class="bold">列对象</span> 。通常，包含列对象的表还包含其他列，这些列可以是内置数据类型，例如<code class="codeph">VARCHAR2</code>和<code class="codeph">NUMBER</code> 。 <span class="bold">对象表</span>是一种特殊的表，其中每一行代表一个对象。对象表中的每一行都是一个<span class="bold">行对象</span> 。
                     </p>
                     <p>您还可以复制<span class="bold">集合</span> 。集合是基于<code class="codeph">VARRAY</code>和嵌套表数据类型的用户定义数据类型。使用<code class="codeph">CREATE</code> <code class="codeph">TYPE</code>创建varrays <code class="codeph">...</code> <code class="codeph">AS</code> <code class="codeph">VARRAY</code>语句，您使用<code class="codeph">CREATE</code> <code class="codeph">TYPE</code>创建嵌套表<code class="codeph">...</code> <code class="codeph">AS</code> <code class="codeph">TABLE</code>语句。
                     </p>
                     <div class="infoboxnote" id="GUID-5F36705B-9947-4E8A-93A8-DDA4B330B404__GUID-16FACB38-B82F-4E70-8415-20122D4DC779">
                        <p class="notep1">注意：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a id="d326248e3614" class="indexterm-anchor"></a><a id="d326248e3618" class="indexterm-anchor"></a><a id="d326248e3624" class="indexterm-anchor"></a>您无法基于具有用户定义类型或Oracle提供的类型的主表创建基于提交的刷新实例化视图。Refresh-on-commit实体化视图是使用<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句中的<code class="codeph">ON</code> <code class="codeph">COMMIT</code> <code class="codeph">REFRESH</code>子句<code class="codeph">CREATE</code> <code class="codeph">VIEW</code> 。
                              </p>
                           </li>
                           <li>
                              <p>不支持使用<code class="codeph">NOT</code> <code class="codeph">FINAL</code>子句创建的类型继承和类型。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-5F36705B-9947-4E8A-93A8-DDA4B330B404__GUID-DCD9ACF2-C482-4917-8592-8960E88E55D3">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../adobj/introduction-to-oracle-objects.html#ADOBJ001" target="_blank"><span class="italic">Oracle数据库对象关系开发人员指南</span></a> ，了解有关用户定义类型，Oracle对象和集合的详细信息。本节假定您对这些概念有基本的了解。
                              </p>
                           </li>
                           <li>
                              <p>有关用户定义类型和Oracle提供的类型的更多信息，请<a href="../sqlrf/Basic-Elements-of-Oracle-SQL.html#SQLRF002" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-52580CD0-2320-45BB-BCF1-89F4EA768291" title="具有用户定义数据类型的物化视图有特殊注意事项。">实体化视图和用户定义数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-2E11F29F-BF60-4E3B-B94C-74EBB8C06F34" name="GUID-2E11F29F-BF60-4E3B-B94C-74EBB8C06F34"></a><h4 id="ADMIN-GUID-2E11F29F-BF60-4E3B-B94C-74EBB8C06F34" class="sect4"><span class="enumeration_section">36.10.2</span>复制数据库中的类型协议</h4>
                  <div>
                     <p>用户定义的类型包括使用<code class="codeph">CREATE</code> <code class="codeph">TYPE</code>语句创建的所有类型，包括object，嵌套表， <code class="codeph">VARRAY</code>和indextype。要基于用户定义的类型复制架构对象，用户定义的类型本身必须存在，并且必须在master数据库和物化视图数据库中相同。
                     </p>
                     <p>复制用户定义的类型及其所基于的架构对象时，以下条件适用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在创建依赖于这些类型的任何物化视图之前，必须在物化视图数据库中创建在master数据库和物化视图数据库中复制的用户定义类型。</p>
                        </li>
                        <li>
                           <p>物化视图所基于的所有主表必须位于同一主数据库中，才能创建具有用户定义类型的物化视图。</p>
                        </li>
                        <li>
                           <p>所有数据库的用户定义类型必须相同：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>对于每个复制的用户定义类型，所有复制数据库必须具有相同的对象标识符（OID），架构所有者和类型名称。</p>
                              </li>
                              <li>
                                 <p>如果用户定义的类型是对象类型，则所有数据库必须就对象类型中属性的顺序和数据类型达成一致。在创建对象类型时，可以建立属性的顺序和数据类型。例如，请考虑以下对象类型：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE cust_address_typ AS OBJECT（street_address VARCHAR2（40），postal_code VARCHAR2（10），city VARCHAR2（30），state_province VARCHAR2（10），country_id CHAR（2））; /</pre><p>在所有数据库中， <code class="codeph">street_address</code>必须是此类型的第一个属性，并且必须是<code class="codeph">VARCHAR2(40)</code> ， <code class="codeph">postal_code</code>必须是第二个属性且必须是<code class="codeph">VARCHAR2(10)</code> ， <code class="codeph">city</code>必须是第三个属性且必须是<code class="codeph">VARCHAR2(30)</code> ，并且等等。
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d326248e3780" class="indexterm-anchor"></a>所有数据库必须就用户定义类型的哈希码达成一致。Oracle检查用户定义的类型并分配哈希码。此检查包括类型属性，属性顺序和类型名称。当所有这些项对于两种或更多种类型相同时，类型具有相同的哈希码。您可以通过查询<code class="codeph">DBA_TYPE_VERSIONS</code>数据字典视图来查看类型的哈希<code class="codeph">DBA_TYPE_VERSIONS</code> 。
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p>您可以在物化视图数据库中使用<code class="codeph">CREATE</code> <code class="codeph">TYPE</code>语句来创建类型。可能需要执行此操作以创建使用该类型的只读实例化视图。
                     </p>
                     <p>如果选择此选项，则必须确保以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>该类型在物化视图数据库和主数据库中处于相同的模式中。</p>
                        </li>
                        <li>
                           <p>该类型在物化视图数据库和主数据库中具有相同顺序的相同属性。</p>
                        </li>
                        <li>
                           <p>该类型在物化视图数据库和主数据库中的每个属性具有相同的数据类型。</p>
                        </li>
                        <li>
                           <p>该类型在物化视图数据库和主数据库中具有相同的对象标识符。</p>
                        </li>
                     </ul>
                     <p>您可以通过查询<code class="codeph">DBA_TYPES</code>数据字典视图找到类型的对象标识符。例如，要查找<code class="codeph">cust_address_typ</code>的对象标识符（OID），请输入以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT TYPE_OID FROM DBA_TYPES WHERE TYPE_NAME ='CUST_ADDRESS_TYP'; TYPE_OID -------------------------------- 6F9BC33653681B7CE03400400B40A607</pre><p>例如，既然您知道master数据库中类型的OID，则可以完成以下步骤以在实例化视图数据库中创建类型：</p>
                     <ol>
                        <li>
                           <p>以在master数据库中拥有该类型的用户身份登录到物化视图数据库。如果物化视图数据库中不存在此用户，则创建用户。</p>
                        </li>
                        <li>
                           <p>发出<code class="codeph">CREATE</code> <code class="codeph">TYPE</code>语句并指定OID：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE oe.cust_address_typ OID'6F9BC33653681B7CE03400400B40A607'AS OBJECT（street_address VARCHAR2（40），postal_code VARCHAR2（10），city VARCHAR2（30），state_province VARCHAR2（10），country_id CHAR（2））; /</pre></li>
                     </ol>
                     <p>该类型现在可以在物化视图数据库中使用。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-52580CD0-2320-45BB-BCF1-89F4EA768291" title="具有用户定义数据类型的物化视图有特殊注意事项。">实体化视图和用户定义数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-84F76978-04A6-4A4D-9E6A-3D3514F59B5C" name="GUID-84F76978-04A6-4A4D-9E6A-3D3514F59B5C"></a><h4 id="ADMIN-GUID-84F76978-04A6-4A4D-9E6A-3D3514F59B5C" class="sect4">大师<span class="enumeration_section">36.10.3</span>柱子集与列对象</h4>
                  <div>
                     <p>只读实例化视图可以复制列对象的特定属性，而无需复制其他属性。</p>
                     <p>例如，使用上一节中描述的<code class="codeph">cust_address_typ</code>用户定义数据类型，假设在master数据库<code class="codeph">orc1.example.com</code>创建了<code class="codeph">customers_sub</code>主表：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE oe.customers_sub（customer_id NUMBER（6）PRIMARY KEY，cust_first_name VARCHAR2（20），cust_last_name VARCHAR2（20），cust_address oe.cust_address_typ）;</pre><p>您可以在远程物化视图数据库中创建以下只读物化视图：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW oe.customers_mv1 AS SELECT customer_id，cust_last_name，c.cust_address.postal_code FROM oe.customers_sub@orc1.example.com c;</pre><p>注意， <code class="codeph">postal_code</code>属性是在指定<code class="codeph">cust_address</code>列对象。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-52580CD0-2320-45BB-BCF1-89F4EA768291" title="具有用户定义数据类型的物化视图有特殊注意事项。">实体化视图和用户定义数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-7F5570DE-EFD3-411B-BE36-F3041C47D551" name="GUID-7F5570DE-EFD3-411B-BE36-F3041C47D551"></a><h4 id="ADMIN-GUID-7F5570DE-EFD3-411B-BE36-F3041C47D551" class="sect4"><span class="enumeration_section">36.10.4</span>基于对象表的物化视图</h4>
                  <p>您可以基于对象表创建实例化视图。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-33DAEE07-5EC9-49C2-BA95-F9E1213664A8">关于基于对象表的物化视图</a><br>如果物化视图基于对象表并使用<code class="codeph">OF</code> <span class="italic">类型</span>子句创建，则物化视图称为<span class="bold">对象物化视图</span> 。
                        </li>
                        <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-17D4EE32-E494-4FAE-8499-16195D40F265">基于不使用OF类型子句创建的对象表的物化视图</a><br>如果在不使用<code class="codeph">OF</code> <span class="italic">类型</span>子句的情况下基于对象表创建实例化视图，则实例化视图将丢失它所基于的对象表的对象属性。
                        </li>
                        <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-2CCD97C7-05F2-4E5E-9E64-CAD8122EA2D3">对象物化视图中的OID保留</a><br>对象物化视图继承其主体的对象标识符（OID）规范。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-52580CD0-2320-45BB-BCF1-89F4EA768291" title="具有用户定义数据类型的物化视图有特殊注意事项。">实体化视图和用户定义数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-33DAEE07-5EC9-49C2-BA95-F9E1213664A8" name="GUID-33DAEE07-5EC9-49C2-BA95-F9E1213664A8"></a><h5 id="ADMIN-GUID-33DAEE07-5EC9-49C2-BA95-F9E1213664A8" class="sect5"><span class="enumeration_section">36.10.4.1</span>关于基于对象表的物化视图</h5>
                     <div>
                        <p>如果物化视图基于对象表并使用<code class="codeph">OF</code> <span class="italic">类型</span>子句创建，则物化视图称为<span class="bold">对象物化视图</span> 。
                        </p>
                        <p>对象物化视图的构造方式与对象表相同。也就是说，对象物化视图由行对象组成。</p>
                        <p>如果在不使用<code class="codeph">OF</code> <span class="italic">类型</span>子句的情况下创建基于对象表的实例化视图，则实例化视图不是对象实体化视图。也就是说，这样的物化视图具有常规行，而不是行对象。
                        </p>
                        <p>要基于对象表创建物化视图，物化视图所依赖的类型必须存在于物化视图数据库中，并且每个类型必须具有与在master数据库中相同的对象标识符。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-33DAEE07-5EC9-49C2-BA95-F9E1213664A8__GUID-5FD77D60-E225-47AA-A60B-EC0D80EF2E89">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="creating-and-managing-read-only-materialized-views.html#GUID-41870D29-1EB3-45FA-A9A8-FBEB3BA95971" title="创建只读的物化视图，以在物化视图数据库中复制主表的数据。">创建只读物化视图</a> ”</span>用于创建对象物化视图的示例</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-7F5570DE-EFD3-411B-BE36-F3041C47D551" title="您可以基于对象表创建实例化视图。">基于对象表的物化视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-17D4EE32-E494-4FAE-8499-16195D40F265" name="GUID-17D4EE32-E494-4FAE-8499-16195D40F265"></a><h5 id="ADMIN-GUID-17D4EE32-E494-4FAE-8499-16195D40F265" class="sect5"><span class="enumeration_section">36.10.4.2</span>基于不使用OF <span class="italic">类型</span>子句创建的对象表的物化视图</h5>
                     <div>
                        <p>如果在不使用<code class="codeph">OF</code> <span class="italic">类型</span>子句的情况下基于对象表创建实例化视图，则实例化视图将丢失它所基于的对象表的对象属性。
                        </p>
                        <p>也就是说，生成的只读实体化视图包含主表的一列或多列，但每行在关系表中充当一行。行不是行对象。</p>
                        <p>例如，您可以使用以下SQL语句基于<code class="codeph">categories_tab</code> master创建实例化视图：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW oe.categories_relmv AS SELECT * FROM oe.categories_tab@orc1.example.com;</pre><p>在这种情况下，此物化视图中的行的功能与关系表中的行的功能相同。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-7F5570DE-EFD3-411B-BE36-F3041C47D551" title="您可以基于对象表创建实例化视图。">基于对象表的物化视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-2CCD97C7-05F2-4E5E-9E64-CAD8122EA2D3" name="GUID-2CCD97C7-05F2-4E5E-9E64-CAD8122EA2D3"></a><h5 id="ADMIN-GUID-2CCD97C7-05F2-4E5E-9E64-CAD8122EA2D3" class="sect5"><span class="enumeration_section">36.10.4.3</span>对象物化视图中的OID保留</h5>
                     <div>
                        <p>对象物化视图继承其主体的对象标识符（OID）规范。</p>
                        <p>如果主表具有基于主键的OID，则实例化视图中的行对象的OID是基于主键的。如果主表具有系统生成的OID，则物化视图中的行对象的OID是系统生成的。此外，对象物化视图中每行的OID与主表中相同行的OID匹配，并且在物化视图的刷新期间保留OID。因此，对象表中的行的<code class="codeph">REF</code>在物化视图数据库中保持有效。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-7F5570DE-EFD3-411B-BE36-F3041C47D551" title="您可以基于对象表创建实例化视图。">基于对象表的物化视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-306B2693-B88F-46D3-A8CA-43419B8B1F44" name="GUID-306B2693-B88F-46D3-A8CA-43419B8B1F44"></a><h4 id="ADMIN-GUID-306B2693-B88F-46D3-A8CA-43419B8B1F44" class="sect4"><span class="enumeration_section">36.10.5</span>带有集合列的物化视图</h4>
                  <div>
                     <p>集合列是基于varray和嵌套表数据类型的列。Oracle支持使用集合列创建物化视图。</p>
                     <p>如果集合列是嵌套表，则可以选择在物化视图创建期间指定<span class="italic">nested_table_storage_clause</span> 。<span class="italic">nested_table_storage_clause</span>允许您在<span class="italic">实例化视图中</span>指定嵌套表的存储表的名称。
                     </p>
                     <p>例如，假设您创建主表<code class="codeph">people_reltab</code>在主数据库<code class="codeph">orc1.example.com</code>包含嵌套表<code class="codeph">phones_ntab</code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE oe.phone_typ AS OBJECT（location VARCHAR2（15），num VARCHAR2（14））; / CREATE TYPE oe.phone_ntabtyp AS TABLE of oe.phone_typ; / CREATE TABLE oe.people_reltab（id NUMBER（4）CONSTRAINT pk_people_reltab PRIMARY KEY，first_name VARCHAR2（20），last_name VARCHAR2（20），phones_ntab oe.phone_ntabtyp）NESTED TABLE phones_ntab STORE AS phone_store_ntab（（PRIMARY KEY（NESTED_TABLE_ID，location）） ）;</pre><p>请注意前面SQL语句的最后一行中的<code class="codeph">PRIMARY</code> <code class="codeph">KEY</code>规范。如果计划基于其父表创建实例化视图，则必须为存储表指定主键。在这种情况下，存储表是<code class="codeph">phone_store_ntab</code> ，父表是<code class="codeph">people_reltab</code> 。
                     </p>
                     <p>要创建可以快速刷新的实例化视图，请在父表和存储表上创建实例化视图日志，并将嵌套表列指定为父表的实例化视图日志的过滤器列：</p><pre class="oac_no_warn" dir="ltr">创建物化视图登录oe.people_reltab; ALTER MATERIALIZED VIEW LOG ON oe.people_reltab ADD（phones_ntab）;使用PRIMARY KEY创建物料化视图登录oe.phone_store_ntab;</pre><p>在物化视图数据库中，创建所需类型，确保每种类型的对象标识符与master数据库中的对象标识符相同。然后，您可以基于<code class="codeph">people_reltab</code>创建<code class="codeph">people_reltab</code>化视图，并使用以下语句指定其存储表：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW oe.people_reltab_mv NESTED TABLE phones_ntab STORE as phone_store_ntab_mv REFRESH FAST AS SELECT * FROM oe.people_reltab@orc1.example.com;</pre><p>在这种情况下， <span class="italic">nested_table_storage_clause</span>是在前一个示例中以“ <code class="codeph">NESTED</code> <code class="codeph">TABLE</code> ”开头的行，它指定存储表的名称为<code class="codeph">phone_store_ntab_mv</code> 。 <span class="italic">nested_table_storage_clause</span>是可选的。如果未指定此子句，则Oracle数据库会自动为存储表命名。要查看存储表的名称，请查询<code class="codeph">DBA_NESTED_TABLES</code>数据字典表。
                     </p>
                     <p>存储表：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>是一个单独的辅助物化视图</p>
                        </li>
                        <li>
                           <p>刷新包含嵌套表的实例化视图时会自动刷新</p>
                        </li>
                        <li>
                           <p>删除包含嵌套表的实例化视图时会自动删除</p>
                        </li>
                        <li>
                           <p>继承主存储表的主键约束</p>
                        </li>
                     </ul>
                     <p>由于存储表继承了主表的存储表的主键约束，因此不要在<code class="codeph">STORE</code> <code class="codeph">AS</code>子句中指定<code class="codeph">PRIMARY</code> <code class="codeph">KEY</code> 。
                     </p>
                     <p>在物化视图中的嵌套表的存储表上不允许直接执行以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>刷新存储表</p>
                        </li>
                        <li>
                           <p>更改存储表</p>
                        </li>
                        <li>
                           <p>删除存储表</p>
                        </li>
                        <li>
                           <p>在存储表上生成复制支持</p>
                        </li>
                     </ul>
                     <p>在包含嵌套表的实例化视图上执行这些操作时，可以间接发生这些操作。此外，您无法复制存储表中的列的子集。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-5DC6A685-CC4F-4C98-ACBC-C17C33858C16">带有集合列的物化视图的限制</a><br>限制适用于具有集合列的物化视图。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-306B2693-B88F-46D3-A8CA-43419B8B1F44__GUID-66A3816E-9384-4F91-9559-1CD65844CBD1">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<span class="italic">nested_table_col_properties的</span>更多信息，请<span class="italic">参阅</span> <a href="../sqlrf/ALTER-TABLE.html#SQLRF53214" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> ，该文档在<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>语句中有详细说明</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-52580CD0-2320-45BB-BCF1-89F4EA768291" title="具有用户定义数据类型的物化视图有特殊注意事项。">实体化视图和用户定义数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-5DC6A685-CC4F-4C98-ACBC-C17C33858C16" name="GUID-5DC6A685-CC4F-4C98-ACBC-C17C33858C16"></a><h5 id="ADMIN-GUID-5DC6A685-CC4F-4C98-ACBC-C17C33858C16" class="sect5"><span class="enumeration_section">36.10.5.1</span>带有集合列的物化视图的限制</h5>
                     <div>
                        <p>限制适用于具有集合列的物化视图。</p>
                        <p>以下限制适用：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>不允许对集合列进行行子集化。但是，您可以在嵌套表的父表上使用行子集，这样做可能会导致实例化视图中嵌套表的子集。</p>
                           </li>
                           <li>
                              <p>不允许对集合列进行列子集。</p>
                           </li>
                           <li>
                              <p>嵌套表的存储表必须具有主键。</p>
                           </li>
                           <li>
                              <p>要快速刷新嵌套表的父表，父表和嵌套表的存储表都必须具有物化视图日志。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-306B2693-B88F-46D3-A8CA-43419B8B1F44" title="集合列是基于varray和嵌套表数据类型的列。Oracle支持使用集合列创建物化视图。">具有集合列的物化视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-A5FB1CBF-E221-4EB7-ADDE-9F5EAE1E863F" name="GUID-A5FB1CBF-E221-4EB7-ADDE-9F5EAE1E863F"></a><h4 id="ADMIN-GUID-A5FB1CBF-E221-4EB7-ADDE-9F5EAE1E863F" class="sect4"><span class="enumeration_section">36.10.6</span>带REF列的物化视图</h4>
                  <p>物化视图可以包含<code class="codeph">REF</code>列。
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-40F5445B-CAFE-476B-B39F-69B199024BB7">关于带REF列的物化视图</a><br>您可以使用<code class="codeph">REF</code>列创建实体化视图。<code class="codeph">REF</code>是Oracle内置数据类型，它是对象表中行对象的逻辑“指针”。
                        </li>
                        <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-65D6A665-A693-48CB-961C-8F983796F569">Scoped REF色谱柱</a><br>如果要基于具有作用域<code class="codeph">REF</code>列的主表创建实例化视图，则可以将<code class="codeph">REF</code>重新扫描到实例化视图数据库中的其他对象表或对象实例化视图。
                        </li>
                        <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-A0264465-33AD-4246-BE3E-320975A776C4">无范围的REF色谱柱</a><br>如果基于具有未作用域<code class="codeph">REF</code>列的远程主表创建物化视图，则在物化视图中创建<code class="codeph">REF</code>列，但<code class="codeph">REF</code>被视为悬空，因为它们指向远程数据库。
                        </li>
                        <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-B995D651-2D79-4EF4-97E2-1BDA1C332B05">在物化视图日志中记录REF列</a><br>如有必要，您可以在物化视图日志中记录<code class="codeph">REF</code>列。
                        </li>
                        <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-5325AA68-7DD9-49F4-83DE-C74E062D3375">使用WITH ROWID子句创建的REF</a><br>如果为<code class="codeph">REF</code>列指定了<code class="codeph">WITH</code> <code class="codeph">ROWID</code>子句，则Oracle数据库会维护<code class="codeph">REF</code>引用的对象的rowid。</li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-52580CD0-2320-45BB-BCF1-89F4EA768291" title="具有用户定义数据类型的物化视图有特殊注意事项。">实体化视图和用户定义数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-40F5445B-CAFE-476B-B39F-69B199024BB7" name="GUID-40F5445B-CAFE-476B-B39F-69B199024BB7"></a><h5 id="ADMIN-GUID-40F5445B-CAFE-476B-B39F-69B199024BB7" class="sect5"><span class="enumeration_section">36.10.6.1</span>关于带REF列的物化视图</h5>
                     <div>
                        <p>您可以使用<code class="codeph">REF</code>列创建实体化视图。<code class="codeph">REF</code>是Oracle内置数据类型，它是对象表中行对象的逻辑“指针”。
                        </p>
                        <p>范围内的<code class="codeph">REF</code>是一个<code class="codeph">REF</code> ，它只能包含对指定对象表的引用，而未范围内的<code class="codeph">REF</code>可以包含对数据库中基于相应对象类型的任何对象表的引用。范围内的<code class="codeph">REF</code>需要较少的存储空间，并且提供比未范围的<code class="codeph">REF</code>更高效的访问。</p>
                        <p>在创建实例化视图期间，您可以将<code class="codeph">REF</code>列重新映射到物化视图数据库中的本地物化视图或表。如果不重新扫描<code class="codeph">REF</code>列，则它将继续指向远程主表。无范围的<code class="codeph">REF</code>列始终继续指向主表。当物化视图数据库中的<code class="codeph">REF</code>列指向远程主表时， <code class="codeph">REF</code>被视为悬空。在SQL中，取消引用悬空<code class="codeph">REF</code>返回<code class="codeph">NULL</code> 。此外，PL / SQL仅通过使用<code class="codeph">UTL_OBJECT</code>包支持解除引用<code class="codeph">REF</code> ，并为悬空<code class="codeph">REF</code>引发异常。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-A5FB1CBF-E221-4EB7-ADDE-9F5EAE1E863F" title="物化视图可以包含REF列。">具有REF列的物化视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-65D6A665-A693-48CB-961C-8F983796F569" name="GUID-65D6A665-A693-48CB-961C-8F983796F569"></a><h5 id="ADMIN-GUID-65D6A665-A693-48CB-961C-8F983796F569" class="sect5"><span class="enumeration_section">36.10.6.2</span> Scoped REF色谱柱</h5>
                     <div>
                        <p>如果要基于具有作用域<code class="codeph">REF</code>列的主表创建实例化视图，则可以将<code class="codeph">REF</code>重新扫描到实例化视图数据库中的其他对象表或对象实例化视图。
                        </p>
                        <p>通常，您可以将<code class="codeph">REF</code>列重新扫描到本地对象物化视图而不是原始远程对象表。要重新生成实例化视图，可以在<code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句中使用<code class="codeph">SCOPE</code> <code class="codeph">FOR</code>子句，也可以在<code class="codeph">CREATE</code>实例化视图后使用<code class="codeph">ALTER</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code>语句。如果不重新扫描<code class="codeph">REF</code>列，则实例化视图将保留主表的<code class="codeph">REF</code>范围。
                        </p>
                        <p>例如，假设您使用以下语句在<code class="codeph">orc1.example.com</code>主数据库中创建<code class="codeph">customers_with_ref</code>主表：</p><pre class="oac_no_warn" dir="ltr">- 创建用户定义的数据类型cust_address_typ。CREATE TYPE oe.cust_address_typ AS OBJECT（street_address VARCHAR2（40），postal_code VARCHAR2（10），city VARCHAR2（30），state_province VARCHAR2（10），country_id CHAR（2））; /  - 创建对象表cust_address_objtab。CREATE TABLE oe.cust_address_objtab OF oe.cust_address_typ; - 使用REF创建表到cust_address_typ。CREATE TABLE oe.customers_with_ref（customer_id NUMBER（6）PRIMARY KEY，cust_first_name VARCHAR2（20），cust_last_name VARCHAR2（20），cust_address REF oe.cust_address_typ SCOPE IS oe.cust_address_objtab）;</pre><p>假设<code class="codeph">cust_address_typ</code>存在于物化视图数据库中，其对象标识符与master数据库中的类型相同，则可以使用以下语句创建<code class="codeph">cust_address_objtab_mv</code>对象物化视图：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW oe.cust_address_objtab_mv oe.cust_address_typ AS SELECT * FROM oe.cust_address_objtab@orc1.example.com;</pre><p>现在，您可以使用以下语句创建<code class="codeph">customers_with_ref</code>主表的物化视图，并将<code class="codeph">REF</code>重新<code class="codeph">cust_address_objtab_mv</code>到<code class="codeph">cust_address_objtab_mv</code>物化视图：</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW oe.customers_with_ref_mv（SCOPE FOR（cust_address）IS oe.cust_address_objtab_mv）AS SELECT * FROM oe.customers_with_ref@orc1.example.com;</pre><p>要在创建<code class="codeph">SCOPE</code>化视图时使用<code class="codeph">SCOPE</code> <code class="codeph">FOR</code>子句，请记住首先创建在<code class="codeph">SCOPE</code> <code class="codeph">FOR</code>子句中指定的<code class="codeph">SCOPE</code>化视图或表。否则，您无法在物化视图创建期间指定<code class="codeph">SCOPE</code> <code class="codeph">FOR</code>子句。例如，如果你创造了<code class="codeph">customers_with_ref_mv</code>物化视图创建之前<code class="codeph">cust_address_objtab_mv</code>物化视图，那么你就不能使用<code class="codeph">SCOPE</code> <code class="codeph">FOR</code>当你创建的第<code class="codeph">customers_with_ref_mv</code>物化视图。在这种情况下， <code class="codeph">REF</code>被认为是悬空的，因为它们指向远程主数据库中的对象表。
                        </p>
                        <p>但是，即使在创建实例化视图时未使用<code class="codeph">SCOPE</code> <code class="codeph">FOR</code>子句，也可以更改实例化视图以指定<code class="codeph">SCOPE</code> <code class="codeph">FOR</code>子句。例如，您可以使用以下语句更改<code class="codeph">customers_with_ref_mv</code>物化视图：</p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED VIEW oe.customers_with_ref_mv MODIFY SCOPE FOR（cust_address）IS oe.cust_address_objtab_mv;</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-A5FB1CBF-E221-4EB7-ADDE-9F5EAE1E863F" title="物化视图可以包含REF列。">具有REF列的物化视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-A0264465-33AD-4246-BE3E-320975A776C4" name="GUID-A0264465-33AD-4246-BE3E-320975A776C4"></a><h5 id="ADMIN-GUID-A0264465-33AD-4246-BE3E-320975A776C4" class="sect5"><span class="enumeration_section">36.10.6.3</span>无结构REF色谱柱</h5>
                     <p>如果基于具有未作用域<code class="codeph">REF</code>列的远程主表创建物化视图，则在物化视图中创建<code class="codeph">REF</code>列，但<code class="codeph">REF</code>被视为悬空，因为它们指向远程数据库。
                     </p>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-A5FB1CBF-E221-4EB7-ADDE-9F5EAE1E863F" title="物化视图可以包含REF列。">具有REF列的物化视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-B995D651-2D79-4EF4-97E2-1BDA1C332B05" name="GUID-B995D651-2D79-4EF4-97E2-1BDA1C332B05"></a><h5 id="ADMIN-GUID-B995D651-2D79-4EF4-97E2-1BDA1C332B05" class="sect5"><span class="enumeration_section">36.10.6.4</span>在物化视图日志中记录REF列</h5>
                     <div>
                        <p>如有必要，您可以在物化视图日志中记录<code class="codeph">REF</code>列。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B995D651-2D79-4EF4-97E2-1BDA1C332B05__GUID-542AECAD-491C-4BFD-8E13-F6AC6C705EE6">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="planning-for-read-only-materialized-views.html#GUID-FAAF0273-7321-4FD0-8A5D-A3A8364E10F9" title="创建实例化视图日志时，可以向日志添加列以快速刷新实例化视图。">在物化视图日志中记录列</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-A5FB1CBF-E221-4EB7-ADDE-9F5EAE1E863F" title="物化视图可以包含REF列。">具有REF列的物化视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-5325AA68-7DD9-49F4-83DE-C74E062D3375" name="GUID-5325AA68-7DD9-49F4-83DE-C74E062D3375"></a><h5 id="ADMIN-GUID-5325AA68-7DD9-49F4-83DE-C74E062D3375" class="sect5"><span class="enumeration_section">36.10.6.5</span>使用WITH ROWID子句创建的REF</h5>
                     <div>
                        <p>如果为<code class="codeph">REF</code>列指定了<code class="codeph">WITH</code> <code class="codeph">ROWID</code>子句，则Oracle数据库会维护<code class="codeph">REF</code>引用的对象的rowid。</p>
                        <p>Oracle数据库可以使用<code class="codeph">REF</code>包含的rowid直接找到引用的对象，而无需从OID索引中获取rowid。因此，您使用<code class="codeph">WITH</code> <code class="codeph">ROWID</code>子句指定rowid提示。范围内的<code class="codeph">REF</code>不支持<code class="codeph">WITH</code> <code class="codeph">ROWID</code>子句。
                        </p>
                        <p>复制使用<code class="codeph">WITH</code> <code class="codeph">ROWID</code>子句创建的<code class="codeph">REF</code>导致每个复制数据库中的rowid提示不正确，但首次创建或修改<code class="codeph">REF</code>数据库除外。<code class="codeph">REF</code>的<code class="codeph">ROWID</code>信息在其他数据库中没有意义，Oracle数据库不会自动更正rowid提示。无效的rowid提示可能会导致性能问题。在这种情况下，您可以使用<code class="codeph">ANALYZE</code> <code class="codeph">TABLE</code>语句的<code class="codeph">VALIDATE</code> <code class="codeph">STRUCTURE</code>选项来确定每个复制数据库中哪些rowid提示不正确。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-5325AA68-7DD9-49F4-83DE-C74E062D3375__GUID-5903FB80-70DF-47E9-AC6F-C222CB14C6D7">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">ANALYZE</code> <code class="codeph">TABLE</code>语句的更多信息，请<a href="../sqlrf/ANALYZE.html#SQLRF01105" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-A5FB1CBF-E221-4EB7-ADDE-9F5EAE1E863F" title="物化视图可以包含REF列。">具有REF列的物化视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-08C1AA5F-4681-41B5-BCE8-5E586ED644AC" name="GUID-08C1AA5F-4681-41B5-BCE8-5E586ED644AC"></a><h3 id="ADMIN-GUID-08C1AA5F-4681-41B5-BCE8-5E586ED644AC" class="sect3"><span class="enumeration_section">36.11</span>主数据库中的物化视图注册</h3>
               <p>在主数据库中，Oracle数据库会根据其主表自动注册有关实例化视图的信息。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-C3A4F5C6-D543-463D-8635-8E3CDAAB4128">查看已注册的物化视图的信息</a><br>物化视图在其主数据库中注册。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-9AFD2B18-2C2C-493F-80F9-6EE7C70F7D85">内部机制</a><br>在创建实例化视图时，Oracle数据库会自动在其主数据库中注册实例化视图，并在删除实例化视图时取消注册实例化视图。
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-concepts.html#GUID-8380D7D3-11E2-4166-8204-2EB058A9B181">手动物化视图注册</a><br>如有必要，您可以手动维护注册。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-A422B474-4BED-4A60-AEDB-E93630746083" title="理解与只读物化视图相关的概念。">只读实体化视图概念</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-C3A4F5C6-D543-463D-8635-8E3CDAAB4128" name="GUID-C3A4F5C6-D543-463D-8635-8E3CDAAB4128"></a><h4 id="ADMIN-GUID-C3A4F5C6-D543-463D-8635-8E3CDAAB4128" class="sect4"><span class="enumeration_section">36.11.1</span>查看已注册的物化视图的信息</h4>
                  <div>
                     <p>物化视图在其主数据库中注册。</p>
                     <div class="section">
                        <p>您可以在主数据库中查询<code class="codeph">DBA_REGISTERED_MVIEWS</code>数据字典视图，以列出有关远程<code class="codeph">DBA_REGISTERED_MVIEWS</code>视图的以下信息：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>包含实例化视图的所有者，名称和数据库</p>
                           </li>
                           <li>
                              <p>物化视图定义查询</p>
                           </li>
                           <li>
                              <p>其他物化视图特征，例如其刷新方法</p>
                           </li>
                        </ul>
                        <p>您还可以在主数据库中查询<code class="codeph">DBA_MVIEW_REFRESH_TIMES</code>视图，以获取每个物化视图的上次刷新时间。如果必须删除，更改或重新定位主表，管理员可以使用此信息来监视物化视图活动并协调对物化视图数据库的更改。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-08C1AA5F-4681-41B5-BCE8-5E586ED644AC" title="在主数据库中，Oracle数据库会根据其主表自动注册有关实例化视图的信息。">主数据库中的物化视图注册</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-9AFD2B18-2C2C-493F-80F9-6EE7C70F7D85" name="GUID-9AFD2B18-2C2C-493F-80F9-6EE7C70F7D85"></a><h4 id="ADMIN-GUID-9AFD2B18-2C2C-493F-80F9-6EE7C70F7D85" class="sect4"><span class="enumeration_section">36.11.2</span>内部机制</h4>
                  <div>
                     <p>在创建实例化视图时，Oracle数据库会自动在其主数据库中注册实例化视图，并在删除实例化视图时取消注册实例化视图。</p>
                     <div class="infoboxnote" id="GUID-9AFD2B18-2C2C-493F-80F9-6EE7C70F7D85__GUID-E638E643-0C7B-4961-ABA3-D23384B4E090">
                        <p class="notep1">注意：</p>
                        <p>在创建或删除实例化视图期间，Oracle数据库无法保证在其主数据库中注册或取消注册实例化视图。如果Oracle数据库在创建期间无法成功注册<code class="codeph">DBMS_MVIEW</code>化视图，则必须使用<code class="codeph">DBMS_MVIEW</code>包中的<code class="codeph">REGISTER_MVIEW</code>过程手动完成注册。如果删除实例化视图时Oracle数据库无法成功取消注册实例化视图，则实体化视图的注册信息将保留在master数据库中，直到手动取消注册为止。复杂的物化视图可能无法注册。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-08C1AA5F-4681-41B5-BCE8-5E586ED644AC" title="在主数据库中，Oracle数据库会根据其主表自动注册有关实例化视图的信息。">主数据库中的物化视图注册</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-8380D7D3-11E2-4166-8204-2EB058A9B181" name="GUID-8380D7D3-11E2-4166-8204-2EB058A9B181"></a><h4 id="ADMIN-GUID-8380D7D3-11E2-4166-8204-2EB058A9B181" class="sect4"><span class="enumeration_section">36.11.3</span>手动物化视图注册</h4>
                  <div>
                     <p>如有必要，您可以手动维护注册。</p>
                     <p>使用master数据库中<code class="codeph">DBMS_MVIEW</code>程序包的<code class="codeph">REGISTER_MVIEW</code>和<code class="codeph">UNREGISTER_MVIEW</code>过程添加，修改或删除物化视图注册信息。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-8380D7D3-11E2-4166-8204-2EB058A9B181__GUID-F0FF1666-915A-4EBB-9913-3FBB4EE755B2">
                        <p class="notep1">也可以看看：</p>
                        <p><code class="codeph">REGISTER_MVIEW</code>和<code class="codeph">UNREGISTER_MVIEW</code>过程在<a href="../arpls/DBMS_MVIEW.html#ARPLS027" target="_blank"><span class="variable" translate="no">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="read-only-materialized-view-concepts.html#GUID-08C1AA5F-4681-41B5-BCE8-5E586ED644AC" title="在主数据库中，Oracle数据库会根据其主表自动注册有关实例化视图的信息。">主数据库中的物化视图注册</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04749.deprecated-oci-functions.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Deprecated OCI features and functions are those that may become obsolete in a future release. Replacement OCI functions are mentioned where applicable."></meta>
      <meta name="description" content="Deprecated OCI features and functions are those that may become obsolete in a future release. Replacement OCI functions are mentioned where applicable."></meta>
      <title>不推荐使用的OCI特性和功能</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="Deprecated OCI features and functions are those that may become obsolete in a future release. Replacement OCI functions are mentioned where applicable."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="getting-started-with-oci-for-windows.html" title="Previous" type="text/html"></link>
      <link rel="next" href="multithreaded-extproc-agent.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="getting-started-with-oci-for-windows.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="multithreaded-extproc-agent.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">不推荐使用的OCI特性和功能</li>
            </ol>
            <a id="GUID-D128E9F3-4541-4D08-B46C-E2DC5B418FE1" name="GUID-D128E9F3-4541-4D08-B46C-E2DC5B418FE1"></a><a id="LNOCI72889"></a><a id="LNOCI72888"></a>
            
            <h2 id="LNOCI-GUID-D128E9F3-4541-4D08-B46C-E2DC5B418FE1" class="sect2"><span class="enumeration_chapter">E</span>不推荐的OCI特性和功能</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='deprecated-oci-functions'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>不推荐使用的OCI功能和功能是在将来的版本中可能已过时的功能和功能。如果适用，可以提及替换OCI功能。</p>
               <p>从Oracle Database 18c版本18.1开始，结果集描述符为<code class="codeph">OCI_DTYPE_RSET</code> 。</p>
               <p>OCI版本7.3 API从Oracle Database 12 <span class="italic">c</span> Release 1（12.1）开始。
               </p>
               <p>除非另有说明，否则<a href="deprecated-oci-functions.html#GUID-D128E9F3-4541-4D08-B46C-E2DC5B418FE1__CEGDEIIJ" title="此表列出了已弃用的OCI功能。">表E-1</a>列出了Oracle 11 <span class="italic">g</span> R2（11.2）之前的版本中不推荐使用的OCI函数。在将来的版本中，这些功能可能会过时。
               </p>
               <div class="tblformal" id="GUID-D128E9F3-4541-4D08-B46C-E2DC5B418FE1__CEGDEIIJ">
                  <p class="titleintable">表E-1不推荐的OCI功能</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="不推荐使用的OCI功能" width="100%" border="1" summary="This table lists the deprecated OCI functions." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="19%" id="d383975e213">功能组</th>
                           <th align="left" valign="bottom" width="81%" id="d383975e216">不推荐使用的功能</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="19%" id="d383975e221" headers="d383975e213 ">
                              <p>初始化</p>
                           </td>
                           <td align="left" valign="top" width="81%" headers="d383975e221 d383975e216 ">
                              <p><a href="deprecated-oci-functions.html#GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIEnvInit（）</a> ， <a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="19%" id="d383975e244" headers="d383975e213 ">
                              <p>声明</p>
                           </td>
                           <td align="left" valign="top" width="81%" headers="d383975e244 d383975e216 ">
                              <p><a href="deprecated-oci-functions.html#GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85" title="在Oracle 11g R2（11.2）之前的版本中不推荐使用此函数。">OCIStmtFetch（）</a></p>
                              <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始： <a href="deprecated-oci-functions.html#GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCIStmtPrepare（）</a></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="19%" id="d383975e271" headers="d383975e213 ">
                              <p>高球</p>
                           </td>
                           <td align="left" valign="top" width="81%" headers="d383975e271 d383975e216 ">
                              <p><a href="deprecated-oci-functions.html#GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobCopy（）</a> ， <a href="deprecated-oci-functions.html#GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobErase（）</a> ， <a href="deprecated-oci-functions.html#GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobGetLength（）</a> ， <a href="deprecated-oci-functions.html#GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobLoadFromFile（）</a> ， <a href="deprecated-oci-functions.html#GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobRead（）</a> ， <a href="deprecated-oci-functions.html#GUID-2D1D8F83-040B-4923-9F02-108D1F636B20" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobTrim（）</a> ， <a href="deprecated-oci-functions.html#GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWrite（）</a> ， <a href="deprecated-oci-functions.html#GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWriteAppend（）</a></p>
                              <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始： <a href="deprecated-oci-functions.html#GUID-6BE287D0-3385-4514-850A-349940ECB26A" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobDisableBuffering（）</a> ， <a href="deprecated-oci-functions.html#GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobEnableBuffering（）</a> ， <a href="deprecated-oci-functions.html#GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobFlushBuffer（）</a></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="19%" id="d383975e380" headers="d383975e213 ">
                              <p>数据库高级排队功能</p>
                           </td>
                           <td align="left" valign="top" width="81%" headers="d383975e380 d383975e216 ">
                              <p><a href="deprecated-oci-functions.html#GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIAQListen（）</a></p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                     <li>
                        <p><a href="deprecated-oci-functions.html#GUID-B31F505C-9C6D-4F43-901D-83CDF9F1F6BC" title="描述不推荐使用的初始化函数。">不推荐使用初始化函数</a></p>
                     </li>
                     <li>
                        <p><a href="deprecated-oci-functions.html#GUID-B89BE635-C46B-42CB-961A-E383D9D644CC" title="描述不推荐使用的语句函数。">不推荐使用的语句功能</a></p>
                     </li>
                     <li>
                        <p><a href="deprecated-oci-functions.html#GUID-9AAA282E-CCF4-4D93-9C04-4351E61E693F" title="描述不推荐使用的LOB函数。">不推荐的Lob函数</a></p>
                     </li>
                     <li>
                        <p><a href="deprecated-oci-functions.html#GUID-282CD889-9951-43BB-A37A-A5CB04E46B99" title="描述不推荐使用的Oracle数据库高级队列功能。">不推荐使用的数据库高级排队功能</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="LNOCI72891"></a><a id="LNOCI72890"></a><div class="props_rev_3"><a id="GUID-B31F505C-9C6D-4F43-901D-83CDF9F1F6BC" name="GUID-B31F505C-9C6D-4F43-901D-83CDF9F1F6BC"></a><h3 id="LNOCI-GUID-B31F505C-9C6D-4F43-901D-83CDF9F1F6BC" class="sect3"><span class="enumeration_section">E.1</span>不推荐的初始化函数</h3>
               <div>
                  <p>描述不推荐使用的初始化函数。</p>
                  <p><a href="deprecated-oci-functions.html#GUID-B31F505C-9C6D-4F43-901D-83CDF9F1F6BC__CEGHIBHG" title="该表有2列。第1列是函数名称，第2列描述其用途。">表E-2</a>列出了本节中描述的已弃用的Initialize函数。
                  </p>
                  <div class="tblformal" id="GUID-B31F505C-9C6D-4F43-901D-83CDF9F1F6BC__CEGHIBHG">
                     <p class="titleintable">表E-2不推荐的初始化函数</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="不推荐使用初始化函数" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="52%" id="d383975e626">功能</th>
                              <th align="left" valign="bottom" width="48%" id="d383975e629">目的</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="52%" id="d383975e634" headers="d383975e626 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIEnvInit（）</a></p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d383975e634 d383975e629 ">
                                 <p>初始化环境句柄。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="52%" id="d383975e648" headers="d383975e626 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d383975e648 d383975e629 ">
                                 <p>初始化OCI流程环境。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="LNOCI72892"></a><div class="props_rev_3"><a id="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7" name="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7"></a><h4 id="LNOCI-GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7" class="sect4"><span class="enumeration_section">E.1.1</span> OCIEnvInit（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-141992DD-A0AC-4AD2-AB64-1368A12D208D">目的</p>
                        <p>分配并初始化OCI环境句柄。不推荐使用此功能。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-6BF44C0F-E6FE-4F66-B7BA-EAF1B91BC92B">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIEnvInit（OCIEnv ** envhpp，ub4模式，size_t xtramemsz，void ** usrmempp）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-8370D653-FE60-4B6F-866F-25831CFE49CD">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-E892DFF0-CC9C-481F-8E06-D8499B6374C5"><!-- --></a> <span class="bold">envhpp</span> （OUT）</dt>
                           <dd>
                              <p>指向环境句柄的指针。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-61FF8026-AFE7-436B-B38A-045A194F35E2"><!-- --></a> <span class="bold">模式</span> （IN）</dt>
                           <dd>
                              <p>指定环境模式的初始化。有效模式是：</p>
                           </dd>
                        </dl>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">OCI_DEFAULT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_ENV_NO_UCB</code></p>
                           </li>
                        </ul>
                        <p>在<code class="codeph">OCI_DEFAULT</code>模式下，OCI库始终是互斥句柄。
                        </p>
                        <p><code class="codeph">OCI_ENV_NO_UCB</code>模式用于在环境初始化时禁止调用动态回调例程<code class="codeph">OCIEnvCallback()</code> 。默认行为是允许进行此类调用。
                        </p>
                        <div class="infoboxnotealso" id="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-22E6DA11-A457-4E04-AEC9-76771E905AA0">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="user-defined-callback-functions.html#GUID-C1E8C023-F0D4-4C0A-8585-DA6CCA0DDF65" title="因为期望用户回调用于监视OCI行为或访问其他数据源，所以希望回调的注册是透明且非侵入地完成的。">动态回拨注册</a></p>
                        </div>
                        <dl>
                           <dt class="dlterm"><a name="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-93098F13-C0D3-47BE-A8E8-DBFA1D96E732"><!-- --></a> <span class="bold">xtramemsz</span> （IN）</dt>
                           <dd>
                              <p>指定在环境持续时间内分配的用户内存量。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-7AA83C8B-F456-42C2-A3E9-FA3406073B26"><!-- --></a> <span class="bold">usrmempp</span> （OUT）</dt>
                           <dd>
                              <p>返回指向用户在内存持续时间内为用户调用分配的大小<code class="codeph">xtramemsz</code>的用户内存的指针。
                              </p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-3E8F27B2-EE0C-460F-865A-E62A714CC03E">评论</p>
                        <div class="infoboxnote" id="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-00167E85-A5F7-4961-877B-E51CB5315082">
                           <p class="notep1">注意：</p>
                           <p>使用<code class="codeph">OCIInitialize()</code> <a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">（）</a>而不是<code class="codeph">OCIInitialize()</code>和<code class="codeph">OCIEnvInit()</code>调用。<code class="codeph">OCIInitialize()</code>和<code class="codeph">OCIEnvInit()</code>调用以实现向后兼容性。
                           </p>
                        </div>
                        <p>此调用分配并初始化OCI环境句柄。没有对初始化句柄进行任何更改。如果返回<code class="codeph">OCI_ERROR</code>或<code class="codeph">OCI_SUCCESS_WITH_INFO</code>则可以使用环境句柄获取特定于Oracle的错误和诊断。
                        </p>
                        <p>此调用在本地处理，无需服务器往返。</p>
                        <p>可以使用<code class="codeph">OCIHandleFree()</code>释放环境句柄。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5" title="返回指向已分配和初始化句柄的指针。">OCIHandleAlloc（）</a></li>
                           <li><a href="handle-and-descriptor-functions.html#GUID-E87E9F91-D3DC-4F35-BE7C-F1EFBFEEBA0A" title="显式释放句柄">OCIHandleFree（）</a></li>
                           <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                           <li><a href="connect-authorize-and-initialize-functions.html#GUID-B7BC5F9E-811C-490A-B308-472A12D690D2" title="从共享内存子系统中分离进程并释放共享内存。">OCITerminate（）</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-1AC89920-7DB1-46AC-BBAA-9854DDAD6AB7__GUID-B142D7DC-1F67-4CD5-B148-CF4895BA116F">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="oci-programming-basics.html#GUID-394C2CED-C264-4F81-BD97-CCF9F149CC4C" title="OCIDescriptorAlloc（）调用在其参数列表中有一个xtramem_sz参数。">用户内存分配</a>有关<code class="codeph">xtramemsz</code>参数和用户内存分配的更多信息</p>
                     </div>
                  </div>
                  
               </div><a id="LNOCI17115"></a><div class="props_rev_3"><a id="GUID-F50356A8-450D-4A96-8AB5-5726502766B2" name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2"></a><h4 id="LNOCI-GUID-F50356A8-450D-4A96-8AB5-5726502766B2" class="sect4"><span class="enumeration_section">E.1.2</span> OCIInitialize（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-DEE65631-9C0A-4269-8AFA-104FA22D0C1F">目的</p>
                        <p>初始化OCI流程环境。不推荐使用此功能。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-54114638-5257-4BD7-B5FE-E9338185B2D8">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIInitialize（ub4模式，const void * ctxp，const void *（* malocfp）（void * ctxp，size_t size），const void *（* ralocfp）（void * ctxp，void * memptr，size_t newsize），const void（ * mfreefp）（void * ctxp，void * memptr））;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-823932A2-3941-4546-B2E6-FAD5A4EE4C04">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-62565892-D0F4-4E5A-8435-7E15236D84F4"><!-- --></a> <span class="bold">模式</span> （IN）</dt>
                           <dd>
                              <p>指定模式的初始化。有效模式是：</p>
                           </dd>
                        </dl>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">OCI_DEFAULT</code> - 默认模式。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_THREADED</code> - 线程环境。在此模式下，不会向用户公开的内部数据结构受到多线程的并发访问的保护。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_OBJECT</code> - 使用对象功能。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_EVENTS</code> - 使用发布 - 订阅通知。
                              </p>
                           </li>
                        </ul>
                        <dl>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-B7D97527-C43E-461F-AE9E-ABE9B54E03B7"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                           <dd>
                              <p>用户定义的内存回调例程的上下文。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-6C6C1F74-FD59-413E-B2A7-E224C8BA2963"><!-- --></a> <span class="bold">malocfp</span> （IN）</dt>
                           <dd>
                              <p>用户定义的内存分配功能。如果<code class="codeph">mode</code>为<code class="codeph">OCI_THREADED</code> ，则此内存分配例程必须是线程安全的。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-807195FC-AADA-4485-B597-3F7DE6782C92"><!-- --></a> <span class="bold">ctxp（IN / OUT）</span></dt>
                           <dd>
                              <p>用户定义的内存分配函数的上下文指针。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-0498BF03-E76A-45F8-96F0-8CFF8E5433EB"><!-- --></a> <span class="bold">尺寸（IN）</span></dt>
                           <dd>
                              <p>由用户定义的内存分配函数分配的内存大小。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-9F84BDB7-705D-450B-A029-DEE2D9171BF7"><!-- --></a> ralocfp（IN）</dt>
                           <dd>
                              <p>用户定义的内存重新分配功能。如果<code class="codeph">mode</code>为<code class="codeph">OCI_THREADED</code> ，则此内存分配例程必须是线程安全的。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-C36B3D7A-19B1-4DD7-8D8E-E4467DE2AF5B"><!-- --></a> <span class="bold">ctxp（IN / OUT）</span></dt>
                           <dd>
                              <p>用户定义的内存重新分配函数的上下文指针。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-8DE13BAC-5C8E-4C99-937B-2090A55EF034"><!-- --></a> <span class="bold">memptr（IN / OUT）</span></dt>
                           <dd>
                              <p>指向内存块的指针。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-33F141BD-333E-46A8-BAF8-A683580738BD"><!-- --></a> <span class="bold">newsize</span> （IN）</dt>
                           <dd>
                              <p>要分配的新内存大小。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-33C75009-1B1A-4F3F-BE99-ECF398425BBB"><!-- --></a> <span class="bold">mfreefp</span> （IN）</dt>
                           <dd>
                              <p>用户定义的内存自由功能。如果<code class="codeph">mode</code>为<code class="codeph">OCI_THREADED</code> ，则此无内存例程必须是线程安全的。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-CE88BBBC-B670-48FD-B037-F7619E697B10"><!-- --></a> <span class="bold">ctxp（IN / OUT）</span></dt>
                           <dd>
                              <p>用户定义的内存自由函数的上下文指针。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-0A57379B-B4D1-4DA4-B1AB-0CAD129D3BF7"><!-- --></a> <span class="bold">memptr（IN / OUT）</span></dt>
                           <dd>
                              <p>指向要释放的内存的指针。</p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-3559DCEF-CBB5-4563-B974-7773C9E107EA">评论</p>
                        <div class="infoboxnote" id="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-8E69DFCD-3488-4929-9395-E8C51B090921">
                           <p class="notep1">注意：</p>
                           <p>使用<a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（） ，</a>而不是过时OCIInitialize（）调用。支持<code class="codeph">OCIInitialize()</code>调用以实现向后兼容性。
                           </p>
                        </div>
                        <p>此调用初始化OCI流程环境。必须在任何其他OCI调用之前调用<code class="codeph">OCIInitialize()</code> 。
                        </p>
                        <p>此功能使应用程序能够通过回调定义自己的内存管理功能。如果应用程序已定义了此类函数（即内存分配，内存重新分配，无内存），则应使用此函数中的回调参数进行注册。</p>
                        <p>这些内存回调是可选的。如果应用程序在此函数中为内存回调传递<code class="codeph">NULL</code>值，则使用默认进程内存分配机制。
                        </p>
                        <div class="infoboxnotealso" id="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-A3CBDAFC-046F-4DEB-B506-CA30283C6A43">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关使用OCI编写多线程应用程序的信息，请参阅<a href="managing-scalable-platforms.html#GUID-FB0528A0-460A-4778-9703-52BB0932E911" title="线程是存在于更大进程中的轻量级进程。">OCI多线程开发概述</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-object-relational-programming.html#GUID-8A9E9784-9D10-40B1-ADE9-4CE9325255E5" title="本章介绍用于在Oracle数据库中处理对象的OCI工具。它还讨论了OCI的对象导航函数调用。">OCI对象关系编程，</a>用于获取有关对象的OCI编程的信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F50356A8-450D-4A96-8AB5-5726502766B2__GUID-2AE438C5-0DB4-4C4B-82B2-F37132F079F5">例</p>
                        <p>以下语句显示了如何在线程和对象模式下调用<code class="codeph">OCIInitialize()</code>的示例，没有用户定义的内存函数：</p><pre class="oac_no_warn" dir="ltr">OCIInitialize（（ub4）OCI_THREADED | OCI_OBJECT，（void *）0，（void *（*）（））0，（void *（*）（））0，（void（*）（））0）;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5" title="返回指向已分配和初始化句柄的指针。">OCIHandleAlloc（）</a></li>
                           <li><a href="handle-and-descriptor-functions.html#GUID-E87E9F91-D3DC-4F35-BE7C-F1EFBFEEBA0A" title="显式释放句柄">OCIHandleFree（）</a></li>
                           <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                           <li><a href="connect-authorize-and-initialize-functions.html#GUID-B7BC5F9E-811C-490A-B308-472A12D690D2" title="从共享内存子系统中分离进程并释放共享内存。">OCITerminate（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
            </div><a id="LNOCI72894"></a><a id="LNOCI72893"></a><div class="props_rev_3"><a id="GUID-B89BE635-C46B-42CB-961A-E383D9D644CC" name="GUID-B89BE635-C46B-42CB-961A-E383D9D644CC"></a><h3 id="LNOCI-GUID-B89BE635-C46B-42CB-961A-E383D9D644CC" class="sect3"><span class="enumeration_section">E.2</span>不推荐的语句功能</h3>
               <div>
                  <p>描述不推荐使用的语句函数。</p>
                  <p><a href="deprecated-oci-functions.html#GUID-B89BE635-C46B-42CB-961A-E383D9D644CC__CEGHGEGJ" title="该表有2列。第1列是函数名称，第2列描述其用途。">表E-3</a>列出了本节中描述的已弃用的Statement函数。
                  </p>
                  <div class="tblformal" id="GUID-B89BE635-C46B-42CB-961A-E383D9D644CC__CEGHGEGJ">
                     <p class="titleintable">表E-3不推荐的语句函数</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="不推荐使用的语句功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="45%" id="d383975e1651">功能</th>
                              <th align="left" valign="bottom" width="55%" id="d383975e1654">目的</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d383975e1659" headers="d383975e1651 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85" title="在Oracle 11g R2（11.2）之前的版本中不推荐使用此函数。">OCIStmtFetch（）</a></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d383975e1659 d383975e1654 ">
                                 <p>从查询中获取行。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d383975e1673" headers="d383975e1651 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCIStmtPrepare（）</a></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d383975e1673 d383975e1654 ">
                                 <p>准备SQL或PL / SQL语句以便执行。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="LNOCI17164"></a><div class="props_rev_3"><a id="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85" name="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85"></a><h4 id="LNOCI-GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85" class="sect4"><span class="enumeration_section">E.2.1</span> OCIStmtFetch（）</h4>
                  <div>
                     <p>在Oracle 11 <span class="italic">g</span> R2（11.2）之前的版本中不推荐使用此函数。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-BFBC0815-940D-4CA0-90C8-DFD7A3AC8B8D">目的</p>
                        <p>从查询中获取行。不推荐使用此功能。使用<a href="statement-functions.html#GUID-DF585B90-58BA-45FC-B7CE-6F7F987C03B9" title="从（可滚动）结果集中获取一行。">OCIStmtFetch2（）</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-427B2F37-04DA-4F1E-BAE6-314D6AFBF0B9">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIStmtFetch（OCIStmt * stmtp，OCIError * errhp，ub4 nrows，ub2 orientation，ub4 mode）;</pre> </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-5CB0A148-1F65-4449-8F29-D7AADBF15F5C">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-4D8D12FF-A771-444D-8647-7C61CE263267"><!-- --></a> <span class="bold">stmtp</span> （IN）</dt>
                           <dd>
                              <p>声明（应用程序请求）句柄。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-130E23DF-A8C1-4E1F-A965-33FF6C699EB3"><!-- --></a> <span class="bold">errhp</span> （IN）</dt>
                           <dd>
                              <p>一个错误句柄，您可以在出现错误时传递给<a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a>以获取诊断信息。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-3B901D05-6BE5-4A09-AD2A-175FD8AA33A2"><!-- --></a> <span class="bold">nrows</span> （IN）</dt>
                           <dd>
                              <p>从当前位置获取的行数。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-6C0BB28F-E28A-4C55-B702-9F2571BB554A"><!-- --></a> <span class="bold">方向</span> （IN）</dt>
                           <dd>
                              <p>在9.0版之前，唯一可接受的值是<code class="codeph">OCI_FETCH_NEXT</code> ，它也是默认值。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-00086FA8-F270-44C0-9982-6E53CED19DEA"><!-- --></a> <span class="bold">模式</span> （IN）</dt>
                           <dd>
                              <p>传递为<code class="codeph">OCI_DEFAULT</code> 。</p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-2888285A-6D58-411D-9221-820DA87C598E">评论</p>
                        <p>如果预取行足够，则fetch调用是本地调用。但是，这对应用程序是透明的。</p>
                        <p>如果正在读取LOB列，则获取LOB定位符以便在这些定位器上执行后续LOB操作。如果涉及<code class="codeph">LONG</code>列，则关闭预取。
                        </p>
                        <p>此功能可以返回<code class="codeph">OCI_NO_DATA</code>对<code class="codeph">EOF</code>和<code class="codeph">OCI_SUCCESS_WITH_INFO</code>当这些错误之一发生：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>ORA-24344  - 编译错误成功</p>
                           </li>
                           <li>
                              <p>ORA-24345  - 发生截断或<code class="codeph">NULL</code>提取错误</p>
                           </li>
                           <li>
                              <p>ORA-24347  - 聚合函数中<code class="codeph">NULL</code>列的警告</p>
                           </li>
                        </ul>
                        <p>如果在<code class="codeph">nrows</code>参数设置为0的情况下调用<code class="codeph">OCIStmtFetch()</code> ，则取消游标。
                        </p>
                        <p>使用<code class="codeph">OCI_ATTR_ROWS_FETCHED</code>查找在上次提取调用中成功提取到用户缓冲区的行数。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="statement-functions.html#GUID-DF585B90-58BA-45FC-B7CE-6F7F987C03B9" title="从（可滚动）结果集中获取一行。">OCIStmtFetch2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA" name="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA"></a><h4 id="LNOCI-GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA" class="sect4"><span class="enumeration_section">E.2.2</span> OCIStmtPrepare（）</h4>
                  <div>
                     <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-FEA3358C-354E-4E02-AA00-D87555493390">目的</p>
                        <p>准备SQL或PL / SQL语句以便执行。不推荐使用此功能。使用<a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="准备SQL或PL / SQL语句以便执行。">OCIStmtPrepare2（）</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-A3311A57-B785-4042-B03F-323D0F65558C">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIStmtPrepare（OCIStmt * stmtp，OCIError * errhp，const OraText * stmt，ub4 stmt_len，ub4 language，ub4 mode）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-6F9DA4BC-22AA-43EA-9209-FF6C804F7280">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-5F078D22-AAA2-4D64-9A91-22A46E2D634A"><!-- --></a> <span class="bold">stmtp</span> （IN）</dt>
                           <dd>
                              <p>与要执行的语句关联的语句句柄。默认情况下，它包含从中派生的环境句柄中的编码设置。只能在UTF-16环境中以UTF-16编码准备语句。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-B6B37496-329A-448D-ACF1-2759E2698AB9"><!-- --></a> <span class="bold">errhp</span> （IN）</dt>
                           <dd>
                              <p>一个错误句柄，您可以在出现错误时传递给<a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a>以获取诊断信息。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-E303EEB9-D02B-423D-A9D8-36A7D5FF15ED"><!-- --></a> <span class="bold">stmt</span> （IN）</dt>
                           <dd>
                              <p>要执行的SQL或PL / SQL语句。必须是<code class="codeph">NULL</code> -terminated字符串。也就是说，结束字符是多个<code class="codeph">NULL</code>字节，具体取决于编码。该语句必须采用前一次调用<a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a>的<code class="codeph">charset</code>参数指定的编码。
                              </p>
                              <p>始终将参数强制转换为（ <code class="codeph">text *)</code> 。在UTF-16中准备好语句后，bind和define buffers的字符集默认为UTF-16。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-F3EB1AFD-7ECC-48CC-93B5-2E19C61B92D2"><!-- --></a> <span class="bold">stmt_len</span> （IN）</dt>
                           <dd>
                              <p>语句的长度，以字符或字节数为单位，具体取决于编码。不能为零。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-A7CFFE3C-BBCD-4181-A145-3E907B5DDDB5"><!-- --></a> <span class="bold">语言</span> （IN）</dt>
                           <dd>
                              <p>指定V7或本机语法。可能的值如下：</p>
                           </dd>
                        </dl>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">OCI_V7_SYNTAX</code> -  V7 ORACLE解析语法。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_NTV_SYNTAX</code> - 语法取决于服务器的版本。
                              </p>
                              <p><code class="codeph">OCI_FOREIGN_SYNTAX</code> - 根据会话中设置的SQL转换配置文件指定要转换的语句。
                              </p>
                           </li>
                        </ul>
                        <dl>
                           <dt class="dlterm"><a name="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-CC79B02F-3F50-4647-B680-C6593C3BB981"><!-- --></a> <span class="bold">模式</span> （IN）</dt>
                           <dd>
                              <p>与<a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a>调用中的<code class="codeph">mode</code>类似，但此优先级更高，因为它可以覆盖“自然”继承的模式设置。
                              </p>
                              <p>可能的值为<code class="codeph">OCI_DEFAULT</code> （默认模式）或<code class="codeph">OCI_PREP2_IMPL_RESULTS_CLIENT</code> 。当在外部过程中进行此调用并且需要处理隐式结果时，该模式应作为<code class="codeph">OCI_PREP2_IMPL_RESULTS_CLIENT</code>传递。有关详细信息，请参阅<a href="performance-topics.html#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F" title="从Oracle Database 12c第1版（12.1）开始，PL / SQL可以从存储过程和匿名PL / SQL块中隐式返回结果（游标）。提供OCIStmtGetNextResult（）以检索和处理隐式结果。">OCI对隐式结果的支持</a> 。语句句柄<code class="codeph">stmtp</code>使用其父环境句柄指定的任何内容。
                              </p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-44B964B4-FDD1-449E-9D35-F71A07E51F5B">评论</p>
                        <p>OCI应用程序使用此调用来准备SQL或PL / SQL语句以供执行。<code class="codeph">OCIStmtPrepare()</code>调用定义了一个应用程序请求。</p>
                        <p><code class="codeph">mode</code>参数确定语句内容是否编码为UTF-16。语句长度是代码点的数量或字节数，具体取决于编码。
                        </p>
                        <p>尽管语句句柄从父环境句柄继承了编码设置，但此调用的<code class="codeph">mode</code>也可以更改语句句柄本身的编码设置。
                        </p>
                        <p>在后续绑定调用中初始化的此语句的数据值存储在绑定句柄中，该句柄使用此语句句柄中的设置作为默认值。</p>
                        <p>此调用不会在此语句句柄与任何特定服务器之间创建关联。</p>
                        <p>在重新执行DDL语句之前，请再次调用此函数。</p>
                        <p>此调用不支持应用程序连续性，如果使用此调用，则返回以下错误： <code class="codeph">Error - ORA-25412: transaction replay disabled by call to OCIStmtPrepare</code> 。使用<code class="codeph">OCIStmtPrepare2()</code>调用来支持在HA基础结构中使用Application Continuity。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="准备SQL或PL / SQL语句以便执行。">OCIStmtPrepare2（）</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-1711A735-1496-4F9F-9056-56FA24D14B86">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="using-sql_statements-in-oci.html#GUID-91AF021D-9FCD-4A4D-A647-2F2AB5B448B8" title="通过使用语句prepare调用和任何必要的绑定调用，准备执行SQL和PL / SQL语句。">关于准备语句</a>以获取有关使用此调用的更多信息</p>
                     </div>
                  </div>
                  
               </div>
            </div><a id="LNOCI72896"></a><a id="LNOCI72895"></a><div class="props_rev_3"><a id="GUID-9AAA282E-CCF4-4D93-9C04-4351E61E693F" name="GUID-9AAA282E-CCF4-4D93-9C04-4351E61E693F"></a><h3 id="LNOCI-GUID-9AAA282E-CCF4-4D93-9C04-4351E61E693F" class="sect3"><span class="enumeration_section">E.3</span>不推荐的Lob函数</h3>
               <div>
                  <p>描述不推荐使用的LOB函数。</p>
                  <p><a href="deprecated-oci-functions.html#GUID-9AAA282E-CCF4-4D93-9C04-4351E61E693F__CEGBHIAJ" title="该表有2列。第1列是函数名称，第2列描述其用途。">表E-4</a>列出了本节中描述的已弃用的LOB函数。
                  </p>
                  <p>从Oracle Database 12 <code class="codeph">c</code>第2版（12.2）开始，大多数LOB函数（包括一些不推荐使用的LOB函数，如下表所示）支持应用程序连续性（有关完整列表，请参阅<a href="high-availability-in-oci.html#GUID-D30079AC-4E59-4CC3-86E8-6487A4891BA2" title="描述如果发生中断，OCI中的应用程序连续性可以进行故障转移时的哪些功能。">OCI中的应用程序连续性可以故障转移</a> ）。
                  </p>
                  <div class="tblformal" id="GUID-9AAA282E-CCF4-4D93-9C04-4351E61E693F__CEGBHIAJ">
                     <p class="titleintable">表E-4不推荐使用的LOB函数</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="不推荐使用的LOB函数" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="65%" id="d383975e2617">功能</th>
                              <th align="left" valign="bottom" width="35%" id="d383975e2620">目的</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2625" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobCopy（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2625 d383975e2620 ">
                                 <p>将一个LOB的全部或部分复制到另一个。支持应用程序连续性。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2639" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-6BE287D0-3385-4514-850A-349940ECB26A" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobDisableBuffering（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2639 d383975e2620 ">
                                 <p>禁用输入定位器的LOB缓冲。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2653" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobEnableBuffering（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2653 d383975e2620 ">
                                 <p>为输入定位器启用LOB缓冲。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2667" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobErase（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2667 d383975e2620 ">
                                 <p>擦除LOB的一部分。支持应用程序连续性。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2681" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobFlushBuffer（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2681 d383975e2620 ">
                                 <p>将此LOB的所有缓冲区刷新或写入服务器。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2695" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobGetLength（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2695 d383975e2620 ">
                                 <p>获取LOB的长度。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2709" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobLoadFromFile（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2709 d383975e2620 ">
                                 <p>从<code class="codeph">BFILE</code>加载LOB。支持应用程序连续性。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2726" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobRead（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2726 d383975e2620 ">
                                 <p>读一部分LOB。支持应用程序连续性。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2740" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-2D1D8F83-040B-4923-9F02-108D1F636B20" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobTrim（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2740 d383975e2620 ">
                                 <p>截断LOB。支持应用程序连续性。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2754" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWrite（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2754 d383975e2620 ">
                                 <p>写入LOB。支持应用程序连续性。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="65%" id="d383975e2768" headers="d383975e2617 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWriteAppend（）</a></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d383975e2768 d383975e2620 ">
                                 <p>写入从LOB结尾开始的数据。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="LNOCI72897"></a><div class="props_rev_3"><a id="GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1" name="GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1"></a><h4 id="LNOCI-GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1" class="sect4"><span class="enumeration_section">E.3.1</span> OCILobCopy（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1__GUID-98BE8640-E66E-4F83-B9F9-4D38FEEF67AA">目的</p>
                        <p>将全部或部分LOB值复制到另一个LOB值。不推荐使用此功能。使用<a href="lob-functions.html#GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" title="将全部或部分LOB值复制到另一个LOB值。">OCILobCopy2（）</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1__GUID-31BCCB43-D069-4441-9E36-686E6F002AC8">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobCopy（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * dst_locp，OCILobLocator * src_locp，ub4 amount，ub4 dst_offset，ub4 src_offset）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1__GUID-260C66E3-D1BB-4D81-A7D2-F6892C3C1CF9">参数</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="lob-functions.html#GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" title="将全部或部分LOB值复制到另一个LOB值。">OCILobCopy2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-6BE287D0-3385-4514-850A-349940ECB26A" name="GUID-6BE287D0-3385-4514-850A-349940ECB26A"></a><h4 id="LNOCI-GUID-6BE287D0-3385-4514-850A-349940ECB26A" class="sect4"><span class="enumeration_section">E.3.2</span> OCILobDisableBuffering（）</h4>
                  <div>
                     <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6BE287D0-3385-4514-850A-349940ECB26A__GUID-B78BDA6E-838C-4679-AC4C-D3D263D42DF4">目的</p>
                        <p>禁用输入定位器的LOB缓冲。不推荐使用此功能。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6BE287D0-3385-4514-850A-349940ECB26A__GUID-76BAB5ED-4550-4C64-9373-A5D493BCAB0F">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobDisableBuffering（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6BE287D0-3385-4514-850A-349940ECB26A__GUID-47F8A7B9-2728-4A5E-B6FC-88A767320642">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-6BE287D0-3385-4514-850A-349940ECB26A__GUID-0B054BF2-DD2C-4392-97D7-5453086E334F"><!-- --></a> svchp（IN）</dt>
                           <dd>
                              <p>服务上下文句柄。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-6BE287D0-3385-4514-850A-349940ECB26A__GUID-DEED8F10-3076-4CBA-AB0F-DCF7530DED11"><!-- --></a> errhp（输入/输出）</dt>
                           <dd>
                              <p>出现错误时可以传递给<a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a>或诊断信息的错误句柄。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-6BE287D0-3385-4514-850A-349940ECB26A__GUID-56C7D96E-3D5C-494B-A3E7-3E34A7192550"><!-- --></a> locp（IN / OUT）</dt>
                           <dd>
                              <p>唯一引用LOB的内部LOB定位器。</p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6BE287D0-3385-4514-850A-349940ECB26A__GUID-F71E1B54-CE71-48CC-A493-5A2E0541036F">评论</p>
                        <p>禁用输入内部LOB定位器的LOB缓冲。下次通过输入定位器从LOB读取数据或向LOB写入数据时， <span class="italic">不</span>使用LOB缓冲子系统。注意，这个调用<span class="italic">不会</span>隐刷新在缓冲子系统所做的更改。用户必须显式调用<a href="deprecated-oci-functions.html#GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobFlushBuffer（）</a>才能执行此操作。
                        </p>
                        <p>当远程定位器传递给它时， <code class="codeph">OCILobDisableBuffering()</code>会引发错误。
                        </p>
                        <p>此函数不接受<code class="codeph">BFILE</code>定位器。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="deprecated-oci-functions.html#GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobEnableBuffering（）</a></li>
                           <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobFlushBuffer（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917" name="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917"></a><h4 id="LNOCI-GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917" class="sect4"><span class="enumeration_section">E.3.3</span> OCILobEnableBuffering（）</h4>
                  <div>
                     <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917__GUID-6974656A-7F9A-41D9-B462-53D43AB25302">目的</p>
                        <p>为输入定位器启用LOB缓冲。不推荐使用此功能。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917__GUID-E4DC4040-B5DE-4AFE-B907-5F25851561E7">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobEnableBuffering（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917__GUID-1F209054-8FB4-4378-BA5A-02C23ACE9647">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917__GUID-14C9998C-21B1-4C86-AB8B-6BC92C56D9BB"><!-- --></a> svchp（IN）</dt>
                           <dd>
                              <p>服务上下文句柄。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917__GUID-71FF1760-55A7-4522-908B-7199368BB45C"><!-- --></a> errhp（IN / OUT）</dt>
                           <dd>
                              <p>一个错误句柄，您可以在出现错误时传递给<a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a>以获取诊断信息。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917__GUID-CF7976B4-41F4-41BA-821D-049F22BF21F9"><!-- --></a> locp（IN / OUT）</dt>
                           <dd>
                              <p>唯一引用LOB的内部LOB定位器。</p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917__GUID-DFBD3081-F2D8-4D20-BE1A-3B9903B30D24">评论</p>
                        <p>为输入内部LOB定位器启用LOB缓冲。下一次通过输入定位器从LOB读取数据或向LOB写入数据时，使用LOB缓冲子系统。</p>
                        <p>当远程定位器传递给它时， <code class="codeph">OCILobEnableBuffering()</code>会引发错误。
                        </p>
                        <p>如果为定位器启用了LOB缓冲并且该定位符被传递给其中一个例程，则会返回错误： <a href="lob-functions.html#GUID-5B43FC88-A649-4764-8C1E-6D792F05F7CE" title="在指定的另一个LOB的末尾追加LOB值。">OCILobAppend（）</a> ， <a href="deprecated-oci-functions.html#GUID-2E89A469-397B-45BD-871B-4A7E7A5815C1" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobCopy（）</a> （不建议使用）， <a href="lob-functions.html#GUID-404C8A50-516F-4DFD-939D-646A232AF7DF" title="将全部或部分LOB值复制到另一个LOB值。">OCILobCopy2（）</a> ， <a href="deprecated-oci-functions.html#GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobErase（）</a> （不建议使用）， <a href="lob-functions.html#GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA" title="从指定的偏移量开始擦除内部LOB数据的指定部分。">OCILobErase2（）</a> ， <a href="deprecated-oci-functions.html#GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobGetLength（）</a> （不建议使用）， <a href="lob-functions.html#GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C" title="获取LOB的长度。此函数必须用于大小超过4 GB的LOB。">OCILobGetLength2（）</a> ， <a href="deprecated-oci-functions.html#GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobLoadFromFile（）</a> （不建议使用）， <a href="lob-functions.html#GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4" title="将全部或部分文件加载并复制到内部LOB中。此函数必须用于大小超过4 GB的LOB。">OCILobLoadFromFile2（）</a> ， <a href="deprecated-oci-functions.html#GUID-2D1D8F83-040B-4923-9F02-108D1F636B20" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobTrim（）</a> （不建议使用）， <a href="lob-functions.html#GUID-ABDB1543-1782-4216-AD80-55FA82CFF733" title="将LOB值截断为较短的长度。此函数必须用于大小超过4 GB的LOB。">OCILobTrim2（）</a> ， <a href="deprecated-oci-functions.html#GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWriteAppend（）</a> （不建议使用）或<a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a> 。
                        </p>
                        <p>此函数不接受<code class="codeph">BFILE</code>定位器。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="deprecated-oci-functions.html#GUID-6BE287D0-3385-4514-850A-349940ECB26A" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobDisableBuffering（）</a></li>
                           <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWrite（）</a></li>
                           <li><a href="lob-functions.html#GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" title="将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。">OCILobWrite2（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobRead（）</a></li>
                           <li><a href="lob-functions.html#GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA" title="将调用所指定的LOB或BFILE的一部分读入缓冲区。此函数必须用于大小超过4 GB的LOB。">OCILobRead2（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobFlushBuffer（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWriteAppend（）</a></li>
                           <li><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNOCI17186"></a><div class="props_rev_3"><a id="GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36" name="GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36"></a><h4 id="LNOCI-GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36" class="sect4"><span class="enumeration_section">E.3.4</span> OCILobErase（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36__GUID-612AA631-2D37-43AB-AB83-A08E725798F1">目的</p>
                        <p>从指定的偏移量开始擦除内部LOB数据的指定部分。不推荐使用此功能。使用<code class="codeph">OCILobErase2()</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36__GUID-9101F981-79E7-411D-8BDF-5324495C1BB0">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobErase（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，ub4 * amount，ub4 offset）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD529B73-7D7B-4F93-BB01-4A4625503C36__GUID-A9A8DDD0-63F4-410F-AB9C-AB870BC70DCF">参数</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="lob-functions.html#GUID-264797B2-B3EA-4F6D-9A0E-BF8A4DDA13FA" title="从指定的偏移量开始擦除内部LOB数据的指定部分。">OCILobErase2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1" name="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1"></a><h4 id="LNOCI-GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1" class="sect4"><span class="enumeration_section">E.3.5</span> OCILobFlushBuffer（）</h4>
                  <div>
                     <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1__GUID-D9F4B84B-16FB-474F-9E26-4F9ADB28D649">目的</p>
                        <p>将此LOB的所有缓冲区刷新或写入服务器。不推荐使用此功能。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1__GUID-BB4A8B11-5F75-4755-9320-EECCEAA3DC76">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobFlushBuffer（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp ub4标志）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1__GUID-24F577FA-0CAE-4593-8D74-48CAE8411404">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1__GUID-0BEF398B-F21D-48AE-B7F4-A7E85AD4F2D5"><!-- --></a> svchp（IN / OUT）</dt>
                           <dd>
                              <p>服务上下文句柄。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1__GUID-01B2FCE3-4573-413D-897D-0A86CEBB133F"><!-- --></a> errhp（IN / OUT）</dt>
                           <dd>
                              <p>一个错误句柄，您可以在出现错误时传递给<code class="codeph">OCIErrorGet()</code>以获取诊断信息。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1__GUID-7AA63F71-A29E-4B01-A880-D34600DF32E0"><!-- --></a> locp（IN / OUT）</dt>
                           <dd>
                              <p>唯一引用LOB的内部定位器。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1__GUID-706EA210-D251-4D7F-9471-A6EAFF639F52"><!-- --></a>标志（IN）</dt>
                           <dd>
                              <p>当此标志设置为<code class="codeph">OCI_LOB_BUFFER_FREE</code> ，刷新后释放LOB的缓冲区资源。请参阅“评论”部分。
                              </p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E63ACF53-B64F-4E57-9EBE-B7B73C033EE1__GUID-580911CB-DB87-4E18-A4C0-1DA615CDE900">评论</p>
                        <p>刷新服务器对缓冲子系统所做的更改，这些更改与输入定位器引用的LOB相关联。该例程实际上将缓冲区中的数据写入数据库中的LOB。必须已为输入LOB定位器启用LOB缓冲。</p>
                        <p>当远程定位器传递给它时， <code class="codeph">OCILobFlushBuffer()</code>会抛出错误。
                        </p>
                        <p>默认情况下，刷新操作不会释放缓冲区资源以重新分配到另一个缓冲的LOB操作。要显式释放缓冲区，可以将flag参数设置为<code class="codeph">OCI_LOB_BUFFER_FREE</code> 。</p>
                        <p>如果客户端应用程序打算在刷新之后读取缓冲区值并且事先知道缓冲区中的当前值是期望值，则不需要从服务器重新读取数据。</p>
                        <p>释放缓冲区的效果对用户来说几乎是透明的，除了下一次访问LOB中的相同范围涉及到服务器的往返，并且获取缓冲区资源和初始化缓冲区需要增加成本。从LOB读取的数据。此选项适用于具有低板载内存的客户端环境。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="deprecated-oci-functions.html#GUID-588B17BE-DB5F-4D2D-8FF1-7E4BEABFA917" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobEnableBuffering（）</a></li>
                           <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWrite（）</a></li>
                           <li><a href="lob-functions.html#GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" title="将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。">OCILobWrite2（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobRead（）</a></li>
                           <li><a href="lob-functions.html#GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA" title="将调用所指定的LOB或BFILE的一部分读入缓冲区。此函数必须用于大小超过4 GB的LOB。">OCILobRead2（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-6BE287D0-3385-4514-850A-349940ECB26A" title="从Oracle Database 12c第2版（12.2）开始，不推荐使用此功能。">OCILobDisableBuffering（）</a></li>
                           <li><a href="deprecated-oci-functions.html#GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCILobWriteAppend（）</a></li>
                           <li><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNOCI17199"></a><div class="props_rev_3"><a id="GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124" name="GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124"></a><h4 id="LNOCI-GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124" class="sect4"><span class="enumeration_section">E.3.6</span> OCILobGetLength（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124__GUID-783F99E0-2D84-471E-9A8C-ED280F10AFD7">目的</p>
                        <p>获取LOB的长度。不推荐使用此功能。使用<code class="codeph">OCILobGetLength2()</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124__GUID-60389E58-7C64-4B18-8C97-487D2CFE6316">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobGetLength（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，ub4 * lenp）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3CEE9E79-A7E5-4078-949B-BD0ED3FB4124__GUID-505219A2-1E1A-4D34-BB2C-673931E615A5">参数</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="lob-functions.html#GUID-9BC0A78A-37CB-432F-AE2B-22C905608C4C" title="获取LOB的长度。此函数必须用于大小超过4 GB的LOB。">OCILobGetLength2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNOCI17207"></a><div class="props_rev_3"><a id="GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6" name="GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6"></a><h4 id="LNOCI-GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6" class="sect4"><span class="enumeration_section">E.3.7</span> OCILobLoadFromFile（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6__GUID-F8A2F8C1-1216-4186-BCB3-8BE6A5ADA258">目的</p>
                        <p>将全部或部分文件加载并复制到内部LOB中。不推荐使用此功能。使用<code class="codeph">OCILobLoadFromFile2()</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6__GUID-767FD40C-259F-4D02-A1C5-9F9358D40465">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobLoadFromFile（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * dst_locp，OCILobLocator * src_locp，ub4 amount，ub4 dst_offset，ub4 src_offset）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-87C6AE88-5E71-4D89-A2B8-B391BFF73AC6__GUID-4F7AB405-669C-4794-B15D-40A50D14CBCF">参数</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="lob-functions.html#GUID-DA1CD18B-7044-4E40-B1F4-4FCC1FCAB6C4" title="将全部或部分文件加载并复制到内部LOB中。此函数必须用于大小超过4 GB的LOB。">OCILobLoadFromFile2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNOCI17213"></a><a id="LNOCI17212"></a><div class="props_rev_3"><a id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03" name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03"></a><h4 id="LNOCI-GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03" class="sect4"><span class="enumeration_section">E.3.8</span> OCILobRead（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-E05382D0-14D0-406A-8CFE-AD82DC78CD27">目的</p>
                        <p>将调用所指定的LOB或<code class="codeph">BFILE</code>的一部分读入缓冲区。不推荐使用此功能。使用<code class="codeph">OCILobRead2()</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-7E668BDB-51FF-45C7-B673-2B44F43865C3">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobRead（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，ub4 * amtp，ub4 offset，void * bufp，ub4 bufl，void * ctxp，OCICallbackLobRead（cbfp）（void * ctxp，const void * bufp，ub4 len， ub1 piece）ub2 csid，ub1 csfrm）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-A551AFC1-324B-4A71-B57C-46082845C467">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-9F94A8BF-E5A2-4D37-9032-0D43E7083E19"><!-- --></a> <span class="bold">svchp</span> （IN / OUT）</dt>
                           <dd>
                              <p>服务上下文句柄。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-84CAEADE-134B-4669-AF65-D70B2D2594F8"><!-- --></a> errhp（IN / OUT）</dt>
                           <dd>
                              <p>一个错误句柄，您可以在出现错误时传递给<a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a>以获取诊断信息。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-1FFD4E7D-D22A-4B5D-82CE-1770CFB2913E"><!-- --></a> <span class="bold">locp</span> （IN）</dt>
                           <dd>
                              <p>唯一引用LOB或<code class="codeph">BFILE</code> LOB或<code class="codeph">BFILE</code>定位器。此定位器必须是从<code class="codeph">svchp</code>指定的服务器获取的定位器。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-EDA99AF5-5F3F-406F-A669-B1477EF9A792"><!-- --></a> <span class="bold">amtp</span> （IN / OUT）</dt>
                           <dd>
                              <p><code class="codeph">amtp</code>的值是字节或字符的数量，如<a href="deprecated-oci-functions.html#GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__CIHDFFII" title="该表有4列。第1列是LOB或BFILE，第2列是输入，第3列是使用固定宽度的客户端字符集输出，第4列是以不同宽度的客户端字符集输出。">表E-5所示</a> 。
                              </p>
                           </dd>
                        </dl>
                        <div class="tblformal" id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__CIHDFFII">
                           <p class="titleintable">表E-5 OCILobRead（）的amtp中的字符或字节</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OCILobRead（）的amtp中的字符或字节" width="100%" border="1" summary="This table has 4 columns. Column 1 is LOB or BFILE, column 2 is input, column 3 is output with fixed-width client-side character set, and column 4 is output with varying-width client-side character set." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d383975e5021">LOB或BFILE</th>
                                    <th align="left" valign="bottom" width="14%" id="d383975e5024">输入</th>
                                    <th align="left" valign="bottom" width="30%" id="d383975e5027">具有固定宽度客户端字符集的输出</th>
                                    <th align="left" valign="bottom" width="31%" id="d383975e5030">使用Varying-Width客户端字符集输出</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d383975e5035" headers="d383975e5021 ">
                                       <p><code class="codeph">BLOB</code>和<code class="codeph">BFILE</code> s</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d383975e5035 d383975e5024 ">
                                       <p>字节</p>
                                    </td>
                                    <td align="left" valign="top" width="30%" headers="d383975e5035 d383975e5027 ">
                                       <p>字节</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e5035 d383975e5030 ">
                                       <p>字节</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d383975e5053" headers="d383975e5021 ">
                                       <p><code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code></p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d383975e5053 d383975e5024 ">
                                       <p>人物</p>
                                    </td>
                                    <td align="left" valign="top" width="30%" headers="d383975e5053 d383975e5027 ">
                                       <p>人物</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e5053 d383975e5030 ">
                                       <p>bytes <a id="fn_1" name="fn_1" href="#fn_1" the="" input="" amount="" refers="" to="" number="" of="" characters="" be="" read="" from="" server-side="" clob="" or="" nclob.="" output="" indicates="" how="" many="" bytes="" were="" into="" buffer="" bufp=")" ="" onclick="footdisplay(1, "><sup>脚1</sup></a></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p class="tablefootnote"><sup class="tablefootnote">脚注1</sup></p><p>输入量是指从服务器端<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>读取的字符数。输出量表示读入缓冲区<code class="codeph">bufp</code>字节<code class="codeph">bufp</code> 。
                           </p>
                        <p></p>
                        <p>参数<code class="codeph">amtp</code>是在以下情况下读取的数据总量：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在流模式下不读取数据（只读取一个并且没有轮询或回调）</p>
                           </li>
                           <li>
                              <p>使用回调以流模式读取数据</p>
                           </li>
                        </ul>
                        <p>参数<code class="codeph">amtp</code>是使用轮询以流模式读取数据时读取的最后一个片段的长度。
                        </p>
                        <p>如果要读取的数量大于缓冲区长度，则假定从输入偏移量直到LOB结束，或者直到读取指定的字节数，以流式模式读取LOB，以先到者为准第一。在输入时，如果该值为0，则从输入偏移量直到LOB结束以流模式读取数据。</p>
                        <p>流模式（使用轮询或回调实现）从输入偏移量顺序读取LOB值。</p>
                        <p>如果数据是以片段形式读取的，则<code class="codeph">amtp</code>参数始终包含刚刚读取的片段的长度。
                        </p>
                        <p>如果定义了回调函数，则每次从管道读取<code class="codeph">bufl</code>字节时<code class="codeph">bufl</code>调用此回调函数。每个部分都写入<code class="codeph">bufp</code> 。
                        </p>
                        <p>如果未定义回调函数，则返回<code class="codeph">OCI_NEED_DATA</code>错误代码。应用程序必须<code class="codeph">OCILobRead()</code>调用<code class="codeph">OCILobRead()</code>以读取更多LOB片段，直到不返回<code class="codeph">OCI_NEED_DATA</code>错误代码。如果将片段读入不同的大小和位置，则每次调用中的缓冲区指针和长度可以不同。
                        </p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-35796827-34F2-46FC-80F1-CA913782F473"><!-- --></a> <span class="bold">偏移量</span> （IN）</dt>
                           <dd>
                              <p>输入时，这是从LOB值开始的绝对偏移量。对于字符LOB（ <code class="codeph">CLOB</code> s， <code class="codeph">NCLOB</code> s），它是从LOB开始的字符数，对于二进制LOB或<code class="codeph">BFILE</code>它是字节数。第一个位置是1。
                              </p>
                              <p>如果使用流式传输（通过轮询或回调），请在第一次调用中指定偏移量;在后续轮询调用中，忽略offset参数。使用回调时，没有偏移参数。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-B275576B-9903-4488-8B2E-9AE6C52DE0CE"><!-- --></a> <span class="bold">bufp</span> （IN / OUT）</dt>
                           <dd>
                              <p>指向读取片段的缓冲区的指针。假定分配的内存的长度为<code class="codeph">bufl</code> 。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-1930E611-F040-4CA2-9992-15204ABCF0FA"><!-- --></a> <span class="bold">bufl</span> （IN）</dt>
                           <dd>
                              <p>以八位字节为单位的缓冲区长度。该值从不同<code class="codeph">amtp</code>为值<code class="codeph">CLOB</code> S和用于<code class="codeph">NCLOB</code> S（ <code class="codeph">csfrm</code> = <code class="codeph">SQLCS_NCHAR</code> ）当<code class="codeph">amtp</code>中的字符条款指定参数，并且<code class="codeph">bufl</code>参数以字节为单位指定。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-133883BB-FFD6-4E8B-8CD1-E63073A24E77"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                           <dd>
                              <p>回调函数的上下文指针。可以为<code class="codeph">NULL</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-63988663-03CD-4D18-85FF-1D17B06061DD"><!-- --></a> <span class="bold">cbfp</span> （IN）</dt>
                           <dd>
                              <p>可以注册为每个部分调用的回调。如果这是<code class="codeph">NULL</code> ，则为每个部分返回<code class="codeph">OCI_NEED_DATA</code> 。
                              </p>
                              <p>回调函数必须返回<code class="codeph">OCI_CONTINUE</code>才能继续读取。如果返回任何其他错误代码，则终止LOB读取。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-B2A75BF7-CBA0-48B5-A965-75B4CD317192"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                           <dd>
                              <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-06FCFFDD-5BC4-43F9-9FBE-563134609468"><!-- --></a> <span class="bold">bufp</span> （IN / OUT）</dt>
                           <dd>
                              <p>这件作品的缓冲指针。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-0C01A921-9331-497B-B55E-87E100FBD663"><!-- --></a> <span class="bold">len</span> （IN）</dt>
                           <dd>
                              <p><code class="codeph">bufp</code>当前段的长度（以字节为<code class="codeph">bufp</code> 。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-4F8B2BAB-8059-4221-BAC6-7C3B4B9592C6"><!-- --></a> <span class="bold">件</span> （IN）</dt>
                           <dd>
                              <p>哪一块： <code class="codeph">OCI_FIRST_PIECE</code> ， <code class="codeph">OCI_NEXT_PIECE</code>或<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-CA5A34F4-2B69-4C40-BAD3-6D4D0288F422"><!-- --></a> <span class="bold">csid</span> （IN）</dt>
                           <dd>
                              <p>缓冲区数据的字符集ID。如果此值为0，则<code class="codeph">csid</code>设置为客户端的<code class="codeph">NLS_LANG</code>或<code class="codeph">NLS_CHAR</code>值，具体取决于<code class="codeph">csfrm</code>的值。除非服务器和客户端具有相同的设置，否则永远不会假定它是服务器的字符集。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-C96CCC0C-2360-4A7F-9A09-A91099701983"><!-- --></a> <span class="bold">csfrm（IN）</span></dt>
                           <dd>
                              <p>缓冲区数据的字符集形式。<code class="codeph">csfrm</code>参数必须与LOB的类型一致。</p>
                              <p><code class="codeph">csfrm</code>参数有两个可能的非零值：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">SQLCS_IMPLICIT</code> - 数据库字符集ID</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SQLCS_NCHAR</code> -  NCHAR字符集ID</p>
                                 </li>
                              </ul>
                              <p>默认值为<code class="codeph">SQLCS_IMPLICIT</code> 。如果未指定<code class="codeph">csfrm</code> ，则假定为默认值。
                              </p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-F97FDE8F-AE3E-48E6-BD57-5C30E841E7D3">评论</p>
                        <p>将调用指定的LOB或<code class="codeph">BFILE</code>的一部分读入缓冲区。尝试从<code class="codeph">NULL</code> LOB或<code class="codeph">BFILE</code>读取是错误的。</p>
                        <div class="infoboxnote" id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-3C1EBC7F-3AA0-4F31-B73A-89487C111AE6">
                           <p class="notep1">注意：</p>
                           <p>读取或写入LOB时，请指定与定位器本身的形式匹配的字符集形式（ <code class="codeph">csfrm</code> ）。
                           </p>
                        </div>
                        <p>对于<code class="codeph">BFILE</code> ，操作系统文件必须存在于服务器上，并且必须由<a href="lob-functions.html#GUID-2E933BBA-BCE3-41F2-B8A2-4F9485F0BCB0" title="在服务器的文件系统上打开BFILE以进行只读访问。">OCILobFileOpen（）</a>或<a href="lob-functions.html#GUID-B007A3C7-999B-4AD7-8BF7-C6D14572F470" title="以指示的模式打开内部或外部LOB。">OCILobOpen（）</a>使用输入定位器打开。Oracle数据库必须具有读取操作系统文件的权限，并且用户必须具有目录对象的读取权限。
                        </p>
                        <p>当您对<code class="codeph">OCILobRead()</code>使用轮询模式时，第一个调用必须指定<code class="codeph">offset</code>和<code class="codeph">amtp</code>值，但是在对<code class="codeph">OCILobRead()</code>后续轮询调用中，您不需要指定这些值。
                        </p>
                        <p>如果LOB是<code class="codeph">BLOB</code> ，则忽略<code class="codeph">csid</code>和<code class="codeph">csfrm</code>参数。
                        </p>
                        <div class="infoboxnote" id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-44A225FD-9509-4B8D-80DB-A1614E24A568">
                           <p class="notep1">注意：</p>
                           <p>要终止<code class="codeph">OCILobRead()</code>操作并释放语句句柄，请使用<a href="miscellaneous-functions.html#GUID-A414B5DE-07A3-4593-A448-B6023F87C2D0" title="执行立即异步中断。">OCIBreak（）</a>调用。
                           </p>
                        </div>
                        <p>以下内容适用于<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>的客户端变宽字符集：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用轮询模式时，请确保仅在第一次调用<code class="codeph">OCILobRead()</code>指定<code class="codeph">amtp</code>和<code class="codeph">offset</code>参数。在后续轮询调用中，将忽略这些参数。
                              </p>
                           </li>
                           <li>
                              <p>使用回调时，输入到回调的<code class="codeph">len</code>参数指示缓冲区中填充的字节数。在回调处理期间检查<code class="codeph">len</code>参数，因为整个缓冲区无法填充数据。
                              </p>
                           </li>
                        </ul>
                        <p>以下内容适用于<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>的客户端固定宽度字符集和服务器端变宽字符集：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>读取<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>值时，请在每次调用<code class="codeph">OCILobRead()</code>后查看<code class="codeph">amtp</code>参数，以查看填充了多少缓冲区。当返回值以字符为单位时（如客户端字符集为固定宽度时），则将此值转换为字节并确定填充缓冲区的数量。使用回调时，请始终检查<code class="codeph">len</code>参数以查看填充了多少缓冲区。该值始终以字节为单位。
                              </p>
                           </li>
                        </ul>
                        <p>要读取UTF-16格式的数据，请将<code class="codeph">csid</code>参数设置为<code class="codeph">OCI_UTF16ID</code> 。如果设置了<code class="codeph">csid</code>参数，它将覆盖<code class="codeph">NLS_LANG</code>环境变量。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="lob-functions.html#GUID-6AC6E6DA-236B-4BF9-942F-9FCC4178FEDA" title="将调用所指定的LOB或BFILE的一部分读入缓冲区。此函数必须用于大小超过4 GB的LOB。">OCILobRead2（）</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-4F904ADC-547E-40CE-8F2F-98C7D7480D03__GUID-89B4B916-A4B5-4627-B9E5-1DC961009ECF">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关Unicode格式的其他信息，请参阅<a href="binding-and-defining-in-oci.html#GUID-5495CEEB-17D0-4185-8879-3356A21E7888" title="OCI提供绑定和定义PL / SQL REF CURSOR和嵌套表的功能。">OCI中的PL / SQL REF CURSOR和嵌套表</a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">BFILE</code>的描述，请<code class="codeph">BFILE</code> <a href="../adlob/LOB-APIs-for-BFILE-operations.html#ADLOB012" target="_blank"><span><cite>Oracle Database SecureFiles和Large Objects Developer's Guide</cite></span></a></p>
                           </li>
                           <li>
                              <p>Oracle数据库安装中包含的演示程序，用于显示LOB读写操作的代码示例。</p>
                           </li>
                           <li>
                              <p><a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26" title="列出示例程序，其中包含示例代码，用于演示OCI句柄的分配和使用。">OCI示范计划</a> 
                              </p>
                           </li>
                           <li>
                              <p><a href="binding-and-defining-in-oci.html#GUID-6C5EA0C6-0C1D-4CD5-B47F-1B95B4E9C558" title="您可以使用OCI执行分段插入，更新和数据提取。">OCI中的运行时数据分配和分段操作，</a>用于分段OCI操作的一般信息</p>
                           </li>
                           <li>
                              <p><a href="oci-programming-basics.html#GUID-83F4D3B1-56A7-4EEE-A905-BB84D399713D" title="OCI呼吁完成民意调查。">OCI中的轮询模式操作</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNOCI17217"></a><div class="props_rev_3"><a id="GUID-2D1D8F83-040B-4923-9F02-108D1F636B20" name="GUID-2D1D8F83-040B-4923-9F02-108D1F636B20"></a><h4 id="LNOCI-GUID-2D1D8F83-040B-4923-9F02-108D1F636B20" class="sect4"><span class="enumeration_section">E.3.9</span> OCILobTrim（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2D1D8F83-040B-4923-9F02-108D1F636B20__GUID-6F6C79F8-E9B4-49DA-B83A-9170B18485B8">目的</p>
                        <p>将LOB值截断为较短的长度。不推荐使用此功能。使用<a href="lob-functions.html#GUID-ABDB1543-1782-4216-AD80-55FA82CFF733" title="将LOB值截断为较短的长度。此函数必须用于大小超过4 GB的LOB。">OCILobTrim2（）</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2D1D8F83-040B-4923-9F02-108D1F636B20__GUID-B109E713-854E-4823-A84A-2B07B178A3F7">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobTrim（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，ub4 newlen）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2D1D8F83-040B-4923-9F02-108D1F636B20__GUID-08EA40B2-0686-4884-816D-CB9753A2686F">参数</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="lob-functions.html#GUID-ABDB1543-1782-4216-AD80-55FA82CFF733" title="将LOB值截断为较短的长度。此函数必须用于大小超过4 GB的LOB。">OCILobTrim2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNOCI17220"></a><a id="LNOCI17219"></a><div class="props_rev_3"><a id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854" name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854"></a><h4 id="LNOCI-GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854" class="sect4"><span class="enumeration_section">E.3.10</span> OCILobWrite（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-540BE7E6-6F2B-4534-8815-D5C5877C6ED3">目的</p>
                        <p>将缓冲区写入LOB。不推荐使用此功能。使用<code class="codeph">OCILobWrite2()</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-479AB3F1-D8F4-421B-B185-78C8B813A2E6">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobWrite（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，ub4 * amtp，ub4 offset，void * bufp，ub4 buflen，ub1 piece，void * ctxp，OCICallbackLobWrite（cbfp）（void * ctxp，void * bufp，ub4 * lenp，ub1 * piecep）ub2 csid，ub1 csfrm）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-C7FCB9FA-D003-4683-835B-BF27418783F8">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-F5692DBD-4D30-4B45-B81B-E955F61B31B4"><!-- --></a> <span class="bold">svchp</span> （IN / OUT）</dt>
                           <dd>
                              <p>服务上下文句柄。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-DD2D9A63-36ED-4F96-9A96-BA9CF6B15462"><!-- --></a> errhp（IN / OUT）</dt>
                           <dd>
                              <p>一个错误句柄，您可以在出现错误时传递给<a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a>以获取诊断信息。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-67778583-65EC-4BCE-B3AD-CC3A2DDC5C38"><!-- --></a> <span class="bold">locp</span> （IN / OUT）</dt>
                           <dd>
                              <p>唯一引用LOB的内部LOB定位器。此定位器必须是从<code class="codeph">svchp</code>指定的服务器获取的定位器。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-5B686A9D-AFE9-4D4B-8017-B03D8EC493FE"><!-- --></a> <span class="bold">amtp</span> （IN / OUT）</dt>
                           <dd>
                              <p><code class="codeph">amtp</code>的值是字节或字符的数量，如<a href="deprecated-oci-functions.html#GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__CIHFHDAB" title="该表有4列。第1列是LOB或BFILE，第2列是输入固定宽度的客户端字符集，第3列是输入宽度不同的客户端字符集，第4列是输出。">表E-6所示</a> 。
                              </p>
                           </dd>
                        </dl>
                        <div class="tblformal" id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__CIHFHDAB">
                           <p class="titleintable">表E-6 OCILobWrite的amtp中的字符或字节（）</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OCILobWrite（）的amtp中的字符或字节" width="100%" border="1" summary="This table has 4 columns. Column 1 is LOB or BFILE, column 2 is input with fixed-width client-side character set, and column 3 is input with varying-width client-side character set, and column 4 is output." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d383975e6035">LOB或BFILE</th>
                                    <th align="left" valign="bottom" width="31%" id="d383975e6038">使用固定宽度客户端字符集输入</th>
                                    <th align="left" valign="bottom" width="31%" id="d383975e6041">使用Varying-Width客户端字符集输入</th>
                                    <th align="left" valign="bottom" width="13%" id="d383975e6044">产量</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d383975e6049" headers="d383975e6035 ">
                                       <p><code class="codeph">BLOB</code>和<code class="codeph">BFILE</code> s</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e6049 d383975e6038 ">
                                       <p>字节</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e6049 d383975e6041 ">
                                       <p>字节</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d383975e6049 d383975e6044 ">
                                       <p>字节</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d383975e6067" headers="d383975e6035 ">
                                       <p><code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e6067 d383975e6038 ">
                                       <p>人物</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e6067 d383975e6041 ">
                                       <p>bytes <a id="fn_2" name="fn_2" href="#fn_2" data="" the="" input="" amount="" refers="" to="" number="" of="" bytes="" that="" user="" wants="" write="" into="" lob="" and="" not="" in="" bufp,="" which="" is="" specified="" by="" buflen.="" if="" written="" pieces,="" may="" be="" larger="" than="" output="" characters="" server-side="" clob="" or="" nclob=")" ="" onclick="footdisplay(2, "><sup>脚2</sup></a></p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d383975e6067 d383975e6044 ">
                                       <p>人物</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p class="tablefootnote"><sup class="tablefootnote">脚注2</sup></p><p>输入量是指用户想要写入LOB的数据的字节数，而不是<code class="codeph">bufp</code>中由<code class="codeph">buflen</code>指定的字节数。如果数据是<code class="codeph">buflen</code>写入的， <code class="codeph">buflen</code>写入的字节数可能大于<code class="codeph">buflen</code> 。输出量是指写入服务器端<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>的字符数。</p>
                        <p></p>
                        <p>这应该<span class="italic">始终</span>是非<code class="codeph">NULL</code>指针。如果要指定write-until-end-of-file，则必须声明一个变量，将其设置为零，并为此参数传递其地址。
                        </p>
                        <p>如果在输入中指定了数量，并且数据是<code class="codeph">amtp</code>写入的，则参数<code class="codeph">amtp</code>包含在调用结束时写入的部分的总长度（最后一部分写入），并且在两者之间未定义。请注意，它与分段读取的情况不同。如果未将该金额发送到服务器，则会返回错误。
                        </p>
                        <p>如果<code class="codeph">amtp</code>为零，则假定为流模式，并且在用户指定<code class="codeph">OCI_LAST_PIECE</code>之前写入数据。</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-82143EA4-606A-4B65-86EA-562E1CF2B955"><!-- --></a> <span class="bold">偏移量</span> （IN）</dt>
                           <dd>
                              <p>在输入时，它是从LOB值开始的绝对偏移量。对于字符LOB，它是从LOB开始的字符数;对于二进制LOB，它是字节数。第一个位置是1。</p>
                              <p>如果使用流式传输（通过轮询或回调），请在第一次调用中指定偏移量;在后续轮询调用中，忽略offset参数。使用回调时，没有偏移参数。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-5B3D49EE-6F6E-4AEB-8A3E-477514BE0267"><!-- --></a> <span class="bold">bufp</span> （IN）</dt>
                           <dd>
                              <p>指向写入片段的缓冲区的指针。缓冲区中数据的长度假定为<code class="codeph">buflen</code>传递的值。即使使用轮询方法将数据<code class="codeph">bufp</code>写入，当调用此调用时， <code class="codeph">bufp</code>必须包含LOB的第一部分。如果提供回调， <code class="codeph">bufp</code>不得使用<code class="codeph">bufp</code>来提供数据或错误结果。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-4A83CE3C-A4B0-48C3-8843-38F8E6132BAB"><!-- --></a> <span class="bold">buflen</span> （IN）</dt>
                           <dd>
                              <p>缓冲区中数据的长度（以字节为单位）。当使用<code class="codeph">amtp</code>指定<code class="codeph">amtp</code>参数时，此值与<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>的<code class="codeph">amtp</code>值不同，并且<code class="codeph">buflen</code>参数以字节为单位指定。
                              </p>
                              <div class="infoboxnote" id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-BE02CF68-FA7B-4E97-8FCE-35AD48E93C09">
                                 <p class="notep1">注意：</p>
                                 <p>此参数假定为8位字节。如果操作系统使用较长的字节，则必须相应地调整<code class="codeph">buflen</code>的值。
                                 </p>
                              </div>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-D20270EE-A5E7-4392-A302-FF494E13FF62"><!-- --></a> <span class="bold">件</span> （IN）</dt>
                           <dd>
                              <p>正在编写哪个缓冲区。此参数的默认值为<code class="codeph">OCI_ONE_PIECE</code> ，表示缓冲区是单个写入的。对于分段或回调模式，以下其他值也是可能的： <code class="codeph">OCI_FIRST_PIECE</code> ， <code class="codeph">OCI_NEXT_PIECE</code>和<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-24FB0584-825F-459B-B748-D203C9620684"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                           <dd>
                              <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-88BF21B1-FB07-4B8D-B021-4096C9AD2E1E"><!-- --></a> <span class="bold">cbfp</span> （IN）</dt>
                           <dd>
                              <p>可以注册为在分段写入中为每个片段调用的回调。如果为<code class="codeph">NULL</code> ，则使用标准轮询方法。
                              </p>
                              <p>回调函数必须返回<code class="codeph">OCI_CONTINUE</code>才能继续写入。如果返回任何其他错误代码，则终止LOB写入。回调采用以下参数：</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-CF21F381-105A-4A39-8242-7DF0B09311BE"><!-- --></a> <span class="bold">ctxp</span> （IN）</dt>
                           <dd>
                              <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-7D5C32D5-597C-4FFD-8945-FB163710CF35"><!-- --></a> <span class="bold">bufp</span> （IN / OUT）</dt>
                           <dd>
                              <p>这件作品的缓冲指针。这与作为<code class="codeph">OCILobWrite()</code>例程的输入传递的<code class="codeph">bufp</code>相同。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-302F761F-B315-4289-803B-7A7BC5A746D5"><!-- --></a> <span class="bold">lenp</span> （IN / OUT）</dt>
                           <dd>
                              <p>缓冲区（IN）中数据的长度（以字节为单位），以及<code class="codeph">bufp</code> （OUT）中当前块的长度（以字节为单位）。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-684F059C-A1BA-4A84-AD43-C93E274AEDE2"><!-- --></a> <span class="bold">piecep</span> （OUT）</dt>
                           <dd>
                              <p>哪一块： <code class="codeph">OCI_NEXT_PIECE</code>或<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-4F008A69-C061-4228-A48E-0D94B75E4EC9"><!-- --></a> csid（IN）</dt>
                           <dd>
                              <p>缓冲区中数据的字符集ID。如果此值为0，则<code class="codeph">csid</code>设置为客户端的<code class="codeph">NLS_LANG</code>或<code class="codeph">NLS_CHAR</code>值，具体取决于<code class="codeph">csfrm</code>的值。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-D2E2AD87-B2D4-45DC-80C5-7B88647C4B4C"><!-- --></a> csfrm（IN）</dt>
                           <dd>
                              <p>缓冲区数据的字符集形式。<code class="codeph">csfrm</code>参数必须与LOB的类型一致。</p>
                              <p><code class="codeph">csfrm</code>参数有两个可能的非零值：</p>
                           </dd>
                        </dl>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SQLCS_IMPLICIT</code> - 数据库字符集ID</p>
                           </li>
                           <li>
                              <p><code class="codeph">SQLCS_NCHAR</code> - <code class="codeph">NCHAR</code>字符集ID</p>
                           </li>
                        </ul>
                        <p>默认值为<code class="codeph">SQLCS_IMPLICIT</code> 。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-7C082686-E615-4416-B779-6B10086E6F89">评论</p>
                        <p>将缓冲区写入指定的内部LOB。如果存在LOB数据，则会用存储在缓冲区中的数据覆盖它。缓冲区可以通过此调用以单件形式写入LOB，也可以使用回调或标准轮询方法分段提供。</p>
                        <div class="infoboxnote" id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-040BE9E1-955F-4B2A-BDEC-BA47A65C6589">
                           <p class="notep1">注意：</p>
                           <p>读取或写入LOB时，请指定与定位器本身的形式匹配的字符集形式（ <code class="codeph">csfrm</code> ）。
                           </p>
                        </div>
                        <p>当您对<code class="codeph">OCILobWrite()</code>使用轮询模式时，第一个调用必须指定<code class="codeph">offset</code>和<code class="codeph">amtp</code>值，但是在对<code class="codeph">OCILobWrite()</code>后续轮询调用中，您不需要指定这些值。
                        </p>
                        <p>如果<code class="codeph">piece</code>参数的值为<code class="codeph">OCI_FIRST_PIECE</code> ，则可能需要通过回调或轮询提供数据。
                        </p>
                        <p>如果在<code class="codeph">cbfp</code>参数中定义了回调函数，则在将一个片段写入管道后，将调用此回调函数以获取下一个片段。每篇文章都是用<code class="codeph">bufp</code>编写的。如果没有定义回调函数，则<code class="codeph">OCILobWrite()</code>返回<code class="codeph">OCI_NEED_DATA</code>错误代码。应用程序必须再次调用<code class="codeph">OCILobWrite()</code>来编写更多的LOB。在这种模式下，如果片段具有不同的大小和不同的位置，则缓冲区指针和长度在每个调用中可以是不同的。
                        </p>
                        <p>无论是否使用轮询或回调方法， <code class="codeph">OCI_LAST_PIECE</code>的<code class="codeph">piece</code>值<code class="codeph">OCI_LAST_PIECE</code>终止分段写入。
                        </p>
                        <p>如果传递给Oracle数据库的数据量（通过任一输入机制）小于<code class="codeph">amtp</code>参数指定的数量，则返回ORA-22993错误。
                        </p>
                        <p>此功能仅对内部LOB有效。不允许使用<code class="codeph">BFILE</code> ，因为它们是只读的。如果LOB是<code class="codeph">BLOB</code> ，则忽略<code class="codeph">csid</code>和<code class="codeph">csfrm</code>参数。
                        </p>
                        <p>如果客户端字符集是变宽，则输入量以字节为单位，输出量以字符为单位表示<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code> 。输入量是指用户想要写入LOB的数据的字节数，而不是<code class="codeph">bufp</code>中由<code class="codeph">buflen</code>指定的字节数。如果数据是<code class="codeph">buflen</code>写入的， <code class="codeph">buflen</code>写入的字节数可能大于<code class="codeph">buflen</code> 。输出量是指写入服务器端<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>的字符数。</p>
                        <p>要以UTF-16格式写入数据，请将<code class="codeph">csid</code>参数设置为<code class="codeph">OCI_UTF16ID</code> 。如果设置了<code class="codeph">csid</code>参数，它将覆盖<code class="codeph">NLS_LANG</code>环境变量。
                        </p>
                        <p>在打开或关闭调用中包装此LOB操作并不是强制性的。如果在执行此操作之前未打开LOB，则在此调用期间将更新LOB列上的功能和域索引。但是，如果在执行此操作之前打开了LOB，则必须在提交或回滚事务之前将其关闭。当内部LOB关闭时，它会更新LOB列上的功能和域索引。</p>
                        <p>如果未将LOB操作包装在打开或关闭的API中，则每次写入LOB时都会更新功能和域索引。这可能会对性能产生负面影响。如果您有函数或域索引，Oracle建议您在open或close语句中将写操作包含在LOB中。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="lob-functions.html#GUID-77F056CA-9EEE-4550-8A8E-0155DF994DBE" title="将缓冲区写入LOB。此函数必须用于大小超过4 GB的LOB。">OCILobWrite2（）</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-CA0A90B9-0BB0-4017-AC53-996A102A7854__GUID-15AEE649-0B43-4921-9B67-74A17ABCCEAF">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关Unicode格式的其他信息，请参阅<a href="binding-and-defining-in-oci.html#GUID-5495CEEB-17D0-4185-8879-3356A21E7888" title="OCI提供绑定和定义PL / SQL REF CURSOR和嵌套表的功能。">OCI中的PL / SQL REF CURSOR和嵌套表</a></p>
                           </li>
                           <li>
                              <p>Oracle数据库安装中包含的演示程序，用于显示LOB读写操作的代码示例。</p>
                           </li>
                           <li>
                              <p><a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26" title="列出示例程序，其中包含示例代码，用于演示OCI句柄的分配和使用。">OCI示范计划</a></p>
                           </li>
                           <li>
                              <p><a href="binding-and-defining-in-oci.html#GUID-6C5EA0C6-0C1D-4CD5-B47F-1B95B4E9C558" title="您可以使用OCI执行分段插入，更新和数据提取。">OCI中的运行时数据分配和分段操作，</a>用于分段OCI操作的一般信息</p>
                           </li>
                           <li>
                              <p><a href="oci-programming-basics.html#GUID-83F4D3B1-56A7-4EEE-A905-BB84D399713D" title="OCI呼吁完成民意调查。">OCI中的轮询模式操作</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNOCI17223"></a><a id="LNOCI17222"></a><div class="props_rev_3"><a id="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8" name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8"></a><h4 id="LNOCI-GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8" class="sect4"><span class="enumeration_section">E.3.11</span> OCILobWriteAppend（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-291BDEE1-1D2C-4BBB-858B-DE61346CF7A9">目的</p>
                        <p>从LOB结尾开始写入数据。不推荐使用此功能。使用<a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-AE561979-DF44-4C0D-8191-5E08C96489E8">句法</p><pre class="oac_no_warn" dir="ltr">剑OCILobWriteAppend（OCISvcCtx * svchp，OCIError * errhp，OCILobLocator * locp，ub4 * amtp，void * bufp，ub4 buflen，ub1 piece，void * ctxp，OCICallbackLobWrite（cbfp）（void * ctxp，void * bufp，ub4 * lenp， ub1 * piecep）ub2 csid，ub1 csfrm）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-80B5BABE-C8C4-43AB-AA80-58C0154917E2">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-D3D60590-DDCE-4E77-8784-F28B771AC152"><!-- --></a> svchp（IN）</dt>
                           <dd>
                              <p>服务上下文句柄。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-C8FF80B5-A42C-4293-ADA9-BB61AF88EBF9"><!-- --></a> errhp（输入/输出）</dt>
                           <dd>
                              <p>一个错误句柄，您可以在出现错误时传递给<a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a>以获取诊断信息。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-ADEBFD7A-DB1D-441F-9389-86185F81BE21"><!-- --></a> locp（IN / OUT）</dt>
                           <dd>
                              <p>唯一引用LOB的内部LOB定位器。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-85149587-050A-4E89-94BA-643DABCC2320"><!-- --></a> amtp（IN / OUT）</dt>
                           <dd>
                              <p><code class="codeph">amtp</code>的值是字节或字符的数量，如<a href="deprecated-oci-functions.html#GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__CIHJGDCI" title="该表有4列。第1列是LOB或BFILE，第2列是输入固定宽度的客户端字符集，第3列是输入宽度不同的客户端字符集，第4列是输出。">表E-7所示</a> 。
                              </p>
                           </dd>
                        </dl>
                        <div class="tblformal" id="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__CIHJGDCI">
                           <p class="titleintable">表E-7 OCILobWriteAppend（）的amtp中的字符或字节</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OCILobWriteAppend（）的amtp中的字符或字节" width="100%" border="1" summary="This table has 4 columns. Column 1 is LOB or BFILE, column 2 is input with fixed-width client-side character set, and column 3 is input with varying-width client-side character set, and column 4 is output." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d383975e6769">LOB或BFILE</th>
                                    <th align="left" valign="bottom" width="31%" id="d383975e6772">使用固定宽度客户端字符集输入</th>
                                    <th align="left" valign="bottom" width="31%" id="d383975e6775">使用Varying-Width客户端字符集输入</th>
                                    <th align="left" valign="bottom" width="13%" id="d383975e6778">产量</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d383975e6783" headers="d383975e6769 ">
                                       <p><code class="codeph">BLOB</code>和<code class="codeph">BFILE</code> s</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e6783 d383975e6772 ">
                                       <p>字节</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e6783 d383975e6775 ">
                                       <p>字节</p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d383975e6783 d383975e6778 ">
                                       <p>字节</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d383975e6801" headers="d383975e6769 ">
                                       <p><code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code></p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e6801 d383975e6772 ">
                                       <p>人物</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d383975e6801 d383975e6775 ">
                                       <p>bytes <a id="fn_3" name="fn_3" href="#fn_3" data="" the="" input="" amount="" refers="" to="" number="" of="" bytes="" that="" user="" wants="" write="" into="" lob="" and="" not="" in="" bufp,="" which="" is="" specified="" by="" buflen.="" if="" written="" pieces,="" may="" be="" larger="" than="" output="" characters="" server-side="" clob="" or="" nclob=")" ="" onclick="footdisplay(3, "><sup>脚3</sup></a></p>
                                    </td>
                                    <td align="left" valign="top" width="13%" headers="d383975e6801 d383975e6778 ">
                                       <p>人物</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p class="tablefootnote"><sup class="tablefootnote">脚注3</sup></p><p>输入量是指用户想要写入LOB的数据的字节数，而不是<code class="codeph">bufp,</code>中由<code class="codeph">buflen</code>指定的字节数。如果数据是<code class="codeph">buflen</code>写入的， <code class="codeph">buflen</code>写入的字节数可能大于<code class="codeph">buflen</code> 。输出量是指写入服务器端<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>的字符数。</p>
                        <p></p>
                        <p>如果在输入中指定了数量，并且数据是<code class="codeph">amtp</code>写入的，则参数<code class="codeph">amtp</code>包含在调用结束时写入的部分的总长度（最后一部分写入），并且在两者之间未定义。（注意它与分段读取情况不同）。如果未将该金额发送到服务器，则会返回错误。如果<code class="codeph">amtp</code>为零，则假定为流模式，并且在用户指定<code class="codeph">OCI_LAST_PIECE</code>之前写入数据。</p>
                        <p>如果客户端字符集的宽度是变宽的，那么对于<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code> ，输入量以字节为单位，而不是字符。
                        </p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-8BA6F9B8-6DC3-4811-AC54-0AA06675DAC7"><!-- --></a> bufp（IN）</dt>
                           <dd>
                              <p>指向写入片段的缓冲区的指针。缓冲区中数据的长度假定为<code class="codeph">buflen</code>传递的值。即使数据是<code class="codeph">bufp</code>编写的，当调用此调用时， <code class="codeph">bufp</code>必须包含LOB的第一部分。如果提供回调，则不得使用bufp来提供数据或错误结果。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-5F58598D-6D12-4E74-BBC4-EA00D4F717FF"><!-- --></a> buflen（IN）</dt>
                           <dd>
                              <p>缓冲区中数据的长度（以字节为单位）。请注意，此参数假定为8位字节。如果您的操作系统使用较长的字节，则必须相应地调整<code class="codeph">buflen</code>的值。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-C83BBBCB-211E-472D-BA0D-3E5F75612153"><!-- --></a>件（IN）</dt>
                           <dd>
                              <p>正在编写哪个缓冲区。此参数的默认值为<code class="codeph">OCI_ONE_PIECE</code> ，表示缓冲区是单个写入的。对于分段或回调模式，以下其他值也是可能的： <code class="codeph">OCI_FIRST_PIECE</code> ， <code class="codeph">OCI_NEXT_PIECE</code>和<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-D1EC9B33-9AB0-4B93-B454-6797E3CC3E13"><!-- --></a> ctxp（IN）</dt>
                           <dd>
                              <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-71A00317-13C2-48DD-B55C-5C7A0268C1F8"><!-- --></a> cbfp（IN）</dt>
                           <dd>
                              <p>可以注册为在分段写入中为每个片段调用的回调。如果为<code class="codeph">NULL</code> ，则使用标准轮询方法。回调函数必须返回<code class="codeph">OCI_CONTINUE</code>才能继续写入。如果返回任何其他错误代码，则终止LOB写入。回调采用以下参数：</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-08449DE5-7BEF-45B1-AA5E-4697DD90097A"><!-- --></a> ctxp（IN）</dt>
                           <dd>
                              <p>回调函数的上下文。可以为<code class="codeph">NULL</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-F94CE5F8-B3E6-4E1C-90B3-58A9B3576A7D"><!-- --></a> bufp（IN / OUT）</dt>
                           <dd>
                              <p>这件作品的缓冲指针。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-8CEFB604-A602-44E8-8507-A2CC49A47F22"><!-- --></a> <span class="bold">lenp</span> （IN / OUT）</dt>
                           <dd>
                              <p>缓冲区（IN）中数据的长度（以字节为单位），以及<code class="codeph">bufp</code> （OUT）中当前块的长度（以字节为单位）。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-D85A2BA7-EAB9-4769-8D05-047C35335A73"><!-- --></a> <span class="bold">piecep</span> （OUT）</dt>
                           <dd>
                              <p>哪一块： <code class="codeph">OCI_NEXT_PIECE</code>或<code class="codeph">OCI_LAST_PIECE</code> 。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-80FB4F9C-B89D-403F-86F0-32FE47B1EA3B"><!-- --></a> csid（IN）</dt>
                           <dd>
                              <p>缓冲区数据的字符集ID。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-8C5FD1AA-555B-459B-BD31-E0C148EC994F"><!-- --></a> csfrm（IN）</dt>
                           <dd>
                              <p>缓冲区数据的字符集形式。</p>
                              <p><code class="codeph">csfrm</code>参数有两个可能的非零值：</p>
                           </dd>
                        </dl>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SQLCS_IMPLICIT</code> - 数据库字符集ID</p>
                           </li>
                           <li>
                              <p><code class="codeph">SQLCS_NCHAR</code> - <code class="codeph">NCHAR</code>字符集ID</p>
                           </li>
                        </ul>
                        <p>默认值为<code class="codeph">SQLCS_IMPLICIT</code> 。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-65DAD48C-B00B-4D76-9B3E-A9226995F915">评论</p>
                        <p>缓冲区可以通过此调用以单件形式写入LOB，也可以使用回调或标准轮询方法分段提供。如果piece参数的值为<code class="codeph">OCI_FIRST_PIECE</code> ，则必须通过回调或轮询提供数据。如果在<code class="codeph">cbfp</code>参数中定义了回调函数，则在将一个片段写入管道后，将调用此回调函数以获取下一个片段。每篇文章都是用<code class="codeph">bufp</code>编写的。如果没有定义回调函数，则<code class="codeph">OCILobWriteAppend()</code>返回<code class="codeph">OCI_NEED_DATA</code>错误代码。
                        </p>
                        <p>应用程序必须再次调用<code class="codeph">OCILobWriteAppend()</code>来编写更多的LOB。在这种模式下，如果片段具有不同的大小和不同的位置，则缓冲区指针和长度在每个调用中可以是不同的。片段值<code class="codeph">OCI_LAST_PIECE</code>终止分段写入。
                        </p>
                        <p>如果启用了LOB缓冲，则不支持<code class="codeph">OCILobWriteAppend()</code> 。
                        </p>
                        <p>如果LOB是<code class="codeph">BLOB</code> ，则忽略<code class="codeph">csid</code>和<code class="codeph">csfrm</code>参数。
                        </p>
                        <p>如果客户端字符集的宽度是变宽的，那么对于<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code> ，输入量以字节为单位，而不是字符。
                        </p>
                        <p>在打开或关闭调用中包装此LOB操作并不是强制性的。如果在执行此操作之前未打开LOB，则在此调用期间将更新LOB列上的功能和域索引。但是，如果在执行此操作之前打开了LOB，则必须在提交或回滚事务之前将其关闭。当内部LOB关闭时，它会更新LOB列上的功能和域索引。</p>
                        <p>如果未将LOB操作包装在打开或关闭的API中，则每次写入LOB时都会更新功能和域索引。这可能会对性能产生负面影响。如果您有函数或域索引，Oracle建议您在open或close语句中将写操作包含在LOB中。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="lob-functions.html#GUID-87D3275A-B042-4991-B261-AB531BB83CA2" title="从LOB结尾开始写入数据。此函数必须用于大小超过4 GB的LOB。">OCILobWriteAppend2（）</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-BC03A84A-5747-414F-9A79-BAAF0EE71EF8__GUID-7C874EE5-AEEB-44A1-B78C-A60958A73A57">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="lobs-and-bfile-operations.html#GUID-8C5ABC9E-3048-49AE-BFE3-DB4CB1A63AB3" title="如何提高LOB读/写性能。">关于提高LOB读/写性能</a></p>
                     </div>
                  </div>
                  
               </div>
            </div><a id="LNOCI72899"></a><a id="LNOCI72898"></a><div class="props_rev_3"><a id="GUID-282CD889-9951-43BB-A37A-A5CB04E46B99" name="GUID-282CD889-9951-43BB-A37A-A5CB04E46B99"></a><h3 id="LNOCI-GUID-282CD889-9951-43BB-A37A-A5CB04E46B99" class="sect3"><span class="enumeration_section">E.4</span>不推荐使用的数据库高级排队功能</h3>
               <div>
                  <p>描述不推荐使用的Oracle数据库高级队列功能。</p>
                  <p><a href="deprecated-oci-functions.html#GUID-282CD889-9951-43BB-A37A-A5CB04E46B99__CEGEBIBB" title="该表有2列。第1列是函数名称，第2列描述其用途。">表E-8</a>列出了本节中描述的已弃用的数据库高级队列功能。
                  </p>
                  <div class="tblformal" id="GUID-282CD889-9951-43BB-A37A-A5CB04E46B99__CEGEBIBB">
                     <p class="titleintable">表E-8不推荐使用的数据库高级排队功能</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="不推荐使用的数据库高级排队功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose. " frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d383975e7281">功能</th>
                              <th align="left" valign="bottom" width="69%" id="d383975e7284">目的</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d383975e7289" headers="d383975e7281 ">
                                 <p><a href="deprecated-oci-functions.html#GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIAQListen（）</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d383975e7289 d383975e7284 ">
                                 <p>代表代理列表收听一个或多个队列。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="LNOCI17230"></a><div class="props_rev_3"><a id="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777" name="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777"></a><h4 id="LNOCI-GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777" class="sect4"><span class="enumeration_section">E.4.1</span> OCIAQListen（）</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第2版（11.2）之前的版本中不推荐使用此功能。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-4187BEFB-0714-4561-9A31-592401B84719">目的</p>
                        <p>代表代理列表侦听一个或多个队列。不推荐使用此功能。使用<code class="codeph">OCIAQListen2()</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-2DDB15A2-C09C-4DAA-BF76-0308EF4A4E28">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAQListen（OCISvcCtx * svchp，OCIError * errhp，OCIAQAgent ** agent_list，ub4 num_agents，sb4 wait，OCIAQAgent ** agent，ub4 flags）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-EC66BBA2-16A7-4447-A84B-6D40AABC3EC7">参数</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-20A2C261-439F-4F8E-98FD-1BDEF20785FE"><!-- --></a> <span class="bold">svchpp</span> （IN / OUT）</dt>
                           <dd>
                              <p>服务上下文句柄。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-963E839F-0686-411A-AC10-98F82E4381C2"><!-- --></a> <span class="bold">errhp</span> （IN / OUT）</dt>
                           <dd>
                              <p>一个错误句柄，您可以在出现错误时传递给<a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a>以获取诊断信息。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-9A9907D7-DC75-4A38-9722-F52F795791A7"><!-- --></a> agent_list（IN）</dt>
                           <dd>
                              <p>要监视消息的代理列表。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-BC577229-F097-4D8D-93FE-AD391869D87A"><!-- --></a> num_agents（IN）</dt>
                           <dd>
                              <p>代理列表中的代理数量。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-8C67B4F9-BEE1-4AF9-8BDE-8CF076355667"><!-- --></a>等待（IN）</dt>
                           <dd>
                              <p>侦听呼叫的超时间隔。</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-600E88BC-BA20-4C14-806B-284ABF88FF65"><!-- --></a>代理（OUT）</dt>
                           <dd>
                              <p>有消息的代理。<code class="codeph">OCIAgent</code>是OCI描述符。
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-E223CCE3-C51F-4780-974B-18B999D71BF4"><!-- --></a>标志（IN）</dt>
                           <dd>
                              <p>目前尚未使用;传递为<code class="codeph">OCI_DEFAULT</code> 。</p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777__GUID-0E783909-8080-410E-83CC-4462D3D55BA5">评论</p>
                        <p>这是一个阻塞调用，当有消息准备好为列表中的代理程序使用时返回。如果在等待时间到期时没有找到消息，则返回错误。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="代表代理列表侦听一个或多个队列。">OCIAQListen2（）</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>