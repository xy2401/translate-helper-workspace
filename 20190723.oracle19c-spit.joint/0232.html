<html id="01205.SODA_TYPES.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="There are several SODA types: SODA_DOCUMENT_T, SODA_COLLECTION_T, SODA_OPERATION_T, and SODA_CURSOR_T. SODA_DOCUMENT_T and SODA_COLLECTION_T represent two primary abstractions provided by SODA: document and collections. SODA_OPERATION_T is used for specifying condition of operations on the collection. SODA_CURSOR_T is a cursor over results of read operations on the collection."></meta>
      <meta name="description" content="There are several SODA types: SODA_DOCUMENT_T, SODA_COLLECTION_T, SODA_OPERATION_T, and SODA_CURSOR_T. SODA_DOCUMENT_T and SODA_COLLECTION_T represent two primary abstractions provided by SODA: document and collections. SODA_OPERATION_T is used for specifying condition of operations on the collection. SODA_CURSOR_T is a cursor over results of read operations on the collection."></meta>
      <title>SODA Types</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="There are several SODA types: SODA_DOCUMENT_T, SODA_COLLECTION_T, SODA_OPERATION_T, and SODA_CURSOR_T. SODA_DOCUMENT_T and SODA_COLLECTION_T represent two primary abstractions provided by SODA: document and collections. SODA_OPERATION_T is used for specifying condition of operations on the collection. SODA_CURSOR_T is a cursor over results of read operations on the collection."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="Rule-TYPEs.html" title="Previous" type="text/html"></link>
      <link rel="next" href="UTL-Streams-Types.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Rule-TYPEs.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="UTL-Streams-Types.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SODA Types</li>
            </ol>
            <a id="GUID-7A5D8B6D-8388-429E-838F-2C56F5BB88FB" name="GUID-7A5D8B6D-8388-429E-838F-2C56F5BB88FB"></a>
            
            <h2 id="ARPLS-GUID-7A5D8B6D-8388-429E-838F-2C56F5BB88FB" class="sect2"><span class="enumeration_chapter">282 </span>SODA Types
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>There are several <code class="codeph">SODA</code> types: <code class="codeph">SODA_DOCUMENT_T</code>, <code class="codeph">SODA_COLLECTION_T</code>, <code class="codeph">SODA_OPERATION_T</code>, and <code class="codeph">SODA_CURSOR_T</code>. <code class="codeph">SODA_DOCUMENT_T</code> and <code class="codeph">SODA_COLLECTION_T</code> represent two primary abstractions provided by <code class="codeph">SODA</code>: document and collections. <code class="codeph">SODA_OPERATION_T</code> is used for specifying condition of operations on the collection. <code class="codeph">SODA_CURSOR_T</code> is a cursor over results of read operations on the collection.
               </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="SODA_TYPES.html#GUID-2C993274-66F6-4255-A52F-1A0E4E4A2EBF" title="There are several SODA types: SODA_DOCUMENT_T, SODA_COLLECTION_T, SODA_OPERATION_T, and SODA_CURSOR_T. SODA_DOCUMENT_T and SODA_COLLECTION_T represent two primary abstractions provided by SODA: document and collections. SODA_OPERATION_T is used for specifying condition of operations on the collection. SODA_CURSOR_T is a cursor over results of read operations on the collection.">SODA Types Overview</a></p>
                  </li>
                  <li>
                     <p><a href="SODA_TYPES.html#GUID-618EDA3D-BD4B-42DB-BE97-8E581A5F3D39" title="The SODA Types are available to users with the SODA_APP role.">SODA Types Security Model</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-2C993274-66F6-4255-A52F-1A0E4E4A2EBF" name="GUID-2C993274-66F6-4255-A52F-1A0E4E4A2EBF"></a><h3 id="ARPLS-GUID-2C993274-66F6-4255-A52F-1A0E4E4A2EBF" class="sect3"><span class="enumeration_section">282.1 </span>SODA Types Overview
               </h3>
               <div>
                  <p>There are several <code class="codeph">SODA</code> types: <code class="codeph">SODA_DOCUMENT_T</code>, <code class="codeph">SODA_COLLECTION_T</code>, <code class="codeph">SODA_OPERATION_T</code>, and <code class="codeph">SODA_CURSOR_T</code>. <code class="codeph">SODA_DOCUMENT_T</code> and <code class="codeph">SODA_COLLECTION_T</code> represent two primary abstractions provided by <code class="codeph">SODA</code>: document and collections. <code class="codeph">SODA_OPERATION_T</code> is used for specifying condition of operations on the collection. <code class="codeph">SODA_CURSOR_T</code> is a cursor over results of read operations on the collection.
                  </p>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-2C993274-66F6-4255-A52F-1A0E4E4A2EBF__GUID-CA58ADE5-6C5B-4549-A93C-493440D97D1A">
                        <p class="notep1">See Also:</p>
                        <div class="p">
                           <ul id="GUID-2C993274-66F6-4255-A52F-1A0E4E4A2EBF__UL_UFH_BHP_2GB" style="list-style-type:disc">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/arpls&amp;id=ADSDP-GUID-4568B14A-C54D-459B-B8B6-114A2148C4F1" target="_blank"><span><cite>Oracle Database SODA for PL/SQL Developer's Guide</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="DBMS_SODA.html#GUID-53CD45DA-E999-4B9B-89FA-00767DEB5093" title="The DBMS_SODA package is a PL/SQL package implementing Simple Oracle Document Access (SODA). SODA allows you to use the Oracle Database as a NoSQL document store. The core abstraction provided by SODA is that of document collections. The DBMS_SODA package allows you to create, list, and delete document collections from PL/SQL, and to perform CRUD (create, replace, update, delete) operations on documents. All DDL functions are encapsulated within this package.">DBMS_SODA</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-618EDA3D-BD4B-42DB-BE97-8E581A5F3D39" name="GUID-618EDA3D-BD4B-42DB-BE97-8E581A5F3D39"></a><h3 id="ARPLS-GUID-618EDA3D-BD4B-42DB-BE97-8E581A5F3D39" class="sect3"><span class="enumeration_section">282.2 </span>SODA Types Security Model
               </h3>
               <div>
                  <p>The SODA Types are available to users with the <code class="codeph">SODA_APP</code> role.
                  </p>
                  <div class="section">
                     <p>All SODA types are <code class="codeph">SYS</code> types. <code class="codeph">PUBLIC</code> is granted <code class="codeph">EXECUTE</code> privilege on the SODA types described in this chapter:
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>TYPE <code class="codeph">SODA_Collection_T</code></p>
                        </li>
                        <li>
                           <p>TYPE <code class="codeph">SODA_Document_T</code></p>
                        </li>
                        <li>
                           <p>TYPE <code class="codeph">SODA_Operation_T</code></p>
                        </li>
                        <li>
                           <p>TYPE <code class="codeph">SODA_Cursor_T</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-0D1519FC-1CE2-4943-A6F8-F765EC8D51B0" name="GUID-0D1519FC-1CE2-4943-A6F8-F765EC8D51B0"></a><h3 id="ARPLS-GUID-0D1519FC-1CE2-4943-A6F8-F765EC8D51B0" class="sect3"><span class="enumeration_section">282.3 </span>Summary of SODA Types
               </h3>
               <div>
                  <p>This chapter lists the SODA types and describes them.</p>
                  <div class="section">
                     <div class="tblformal" id="GUID-0D1519FC-1CE2-4943-A6F8-F765EC8D51B0__GUID-D6FF8E91-F8B0-478D-963A-8B3603D94212">
                        <p class="titleintable">Table 282-1 SODA Types</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SODA Types" border="1" summary="This table lists the SODA Types in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d1609564e560">Type</th>
                                 <th align="left" valign="bottom" id="d1609564e563">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1609564e568" headers="d1609564e560 ">
                                    <p><code class="codeph"><a href="SODA_TYPES.html#GUID-22E455FF-979D-452F-8FDF-6F9A3F14A514" title="This SODA type represents a SODA collection. A reference of SODA collection can only be obtained by either calling DBMS_SODA.CREATE_COLLECTION() or DBMS_SODA.OPEN_COLLECTION().">SODA_Collection_T Type</a></code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d1609564e568 d1609564e563 ">
                                    <p>This <code class="codeph">SODA</code> type represents a <code class="codeph">SODA</code> collection. This type is not persistable.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1609564e600" headers="d1609564e560 ">
                                    <p><code class="codeph"><a href="SODA_TYPES.html#GUID-966B7823-4B38-4F31-BDA8-19A06D1154F2" title="This SODA type represents a document with content, that is usually in JSON format.">SODA_Document_T Type</a></code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d1609564e600 d1609564e563 ">
                                    <p>This <code class="codeph">SODA</code> type represents a document with content, usually in <code class="codeph">JSON</code> format. This type is not persistable.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1609564e624" headers="d1609564e560 ">
                                    <p><code class="codeph"><a href="SODA_TYPES.html#GUID-B5D5D6AE-997F-4A7B-A250-78F33781850F" title="This SODA type is used to perform read/write operations, such as document finds with filtering and pagination, removes, and replaces on a SODA collection.">SODA_Operation_T Type</a></code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d1609564e624 d1609564e563 ">
                                    <p>This <code class="codeph">SODA</code> type performs read/write operations, such as document finds with filtering and pagination, removes, and replaces on a <code class="codeph">SODA</code> collection. This type is not persistable.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1609564e648" headers="d1609564e560 ">
                                    <p><code class="codeph"><a href="SODA_TYPES.html#GUID-84D9BFA8-11F5-4903-8863-E6EF12D5802D" title="This SODA type is used to represent a result set of documents.">SODA_Cursor_T Type</a></code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d1609564e648 d1609564e563 ">
                                    <p>This <code class="codeph">SODA</code> type represents the result set of documents. This type is not persistable.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div class="sect3"><a id="GUID-22E455FF-979D-452F-8FDF-6F9A3F14A514" name="GUID-22E455FF-979D-452F-8FDF-6F9A3F14A514"></a><h4 id="ARPLS-GUID-22E455FF-979D-452F-8FDF-6F9A3F14A514" class="sect4"><span class="enumeration_section">282.3.1 </span>SODA_Collection_T Type
                  </h4>
                  <div>
                     <p>This <code class="codeph">SODA</code> type represents a <code class="codeph">SODA</code> collection. A reference of <code class="codeph">SODA</code> collection can only be obtained by either calling <code class="codeph">DBMS_SODA.CREATE_COLLECTION()</code> or <code class="codeph">DBMS_SODA.OPEN_COLLECTION().</code></p>
                     <div class="section">
                        <div class="tblformal" id="GUID-22E455FF-979D-452F-8FDF-6F9A3F14A514__GUID-84369CB6-E7CC-4901-B825-F55FD100BE63">
                           <p class="titleintable">Table 282-2 SODA_Collection_T Type Subprograms</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SODA_Collection_T Type Subprograms" width="100%" border="1" summary="This table lists the SODA_Collection_T Type subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d1609564e780">Subprogram</th>
                                    <th align="left" valign="bottom" id="d1609564e783">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e788" headers="d1609564e780 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-B49091EB-6B09-4B6E-A80E-73E708517768" title="This function creates an index using an index specification expressed in JSON. Three types of specifications are supported. Each specifying a different type of index: for B-tree, JSON search with Data Guide, and Spatial.">CREATE_INDEX Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e788 d1609564e783 ">
                                       <p>Creates an index using an index specification expressed in JSON.</p>
                                       <p>Three types of specifications are supported. Each specifying a different type of index: for B-tree, JSON search with Data Guide, and Spatial.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e802" headers="d1609564e780 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-C464ADAB-7D17-4530-BC42-0BC76FA9CCA8" title="This function drops the named index.">DROP_INDEX Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e802 d1609564e783 ">
                                       <p>Drops the named index. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e814" headers="d1609564e780 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-01AAC60C-5405-4167-84E9-2509E4FF91EC" title="This function returns the operation type for the collection. The operation type allows building and executing various read/write operations. This is the only way to get the reference of SODA_Operation_T as there is no constructor.">FIND Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e814 d1609564e783 ">
                                       <p>Returns the <code class="codeph">SODA_OPERATION_T</code> object. This is the only way to get the reference of <code class="codeph">SODA_Operation_T</code> as there is no constructor. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e835" headers="d1609564e780 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-0ACBC56D-71BC-4E96-8B7D-B1FC4D44302A" title="This function fetches the document matching the given key.">FIND_ONE Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e835 d1609564e783 ">
                                       <p>Fetches the document matching the key. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e847" headers="d1609564e780 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-B2235AD3-910A-44A1-990A-AE85D8594669" title="This function fetches the JSON data guide as a CLOB. The JSON data guide is essentially inferred schema for the JSON documents in the collection. In order to be able to return the JSON data guide, a collection must have a JSON Search Index defined on it, with the data guide enabled.">GET_DATA_GUIDE Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e847 d1609564e783 ">
                                       <p>Returns the JSON data guide as a CLOB.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e859" headers="d1609564e780 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-C27EB17B-E716-43FC-9B13-1440687DCAC9" title="This function returns the metadata of the collection in JSON format.">GET_METADATA Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e859 d1609564e783 ">
                                       <p>Returns the metadata of the collection in <code class="codeph">JSON</code> format.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e877" headers="d1609564e780 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-9A295F52-7B96-4C1E-BCA1-0CC4554E2AFA" title="This function returns the name of the collection.">GET_NAME Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e877 d1609564e783 ">
                                       <p>Returns the name of the collection.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e889" headers="d1609564e780 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-BF3FB0BF-F35F-4D1B-A14F-2667F4DEA748" title="This function inserts a document into the collection.">INSERT_ONE Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e889 d1609564e783 ">
                                       <p>Inserts a document into the collection.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e901" headers="d1609564e780 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-B216D9D8-BED6-4CD0-8E07-97D1D1CDB31E" title="This function inserts a document into the collection.">INSERT_ONE_AND_GET Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e901 d1609564e783 ">
                                       <p>Inserts a document into the collection and returns a result document with all components except for content.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e913" headers="d1609564e780 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-B3F89419-280B-4251-9C5D-3CEEF40851FD" title="This function removes the document matching the given key.">REMOVE_ONE Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e913 d1609564e783 ">
                                       <p>Removes the document matching the key.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e925" headers="d1609564e780 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-569F834A-3E3E-4417-A260-ED4358A33EE7" title="This function updates the existing document with a new content and media type using the key. Any components set in document with the exception of content and media type are not used during the replace. They are ignored.">REPLACE_ONE Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e925 d1609564e783 ">
                                       <p>Replaces the content and (optionally) the media type of the document matching the key.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e941" headers="d1609564e780 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-71783EC4-EDCC-4D99-B2A1-213E6D10D768" title="This function updates the existing document with a new content and media type using the key. Any components set in document with the exception of content and media type are not used during the replace. They are ignored.">REPLACE_ONE_AND_GET Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e941 d1609564e783 ">
                                       <p>Replaces the content and (optionally) the media type of the document matching the key and returns a result document with all components (except content).</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div class="sect4"><a id="GUID-B49091EB-6B09-4B6E-A80E-73E708517768" name="GUID-B49091EB-6B09-4B6E-A80E-73E708517768"></a><h5 id="ARPLS-GUID-B49091EB-6B09-4B6E-A80E-73E708517768" class="sect5"><span class="enumeration_section">282.3.1.1 </span>CREATE_INDEX Function
                     </h5>
                     <div>
                        <p>This function creates an index using an index specification expressed in JSON. Three types of specifications are supported. Each specifying a different type of index: for B-tree, JSON search with Data Guide, and Spatial.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-B49091EB-6B09-4B6E-A80E-73E708517768__GUID-1BC76B05-392C-4957-9C14-D5E607CA37CD">Syntax</p><pre class="oac_no_warn" dir="ltr">CREATE_INDEX (
     specification VARCHAR2) 
  RETURN NUMBER;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B49091EB-6B09-4B6E-A80E-73E708517768__GUID-F3BC5870-BA09-45C0-9586-6CA8ED3FF093">Parameters</p>
                           <div class="tblformal" id="GUID-B49091EB-6B09-4B6E-A80E-73E708517768__GUID-50CD2FF2-2268-4BBE-B875-FC4BC9E40A96">
                              <p class="titleintable">Table 282-3 CREATE_INDEX Function Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_INDEX Function Parameters" border="1" summary="Describes the parameters for the CREATE_INDEX function." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e1063">Parameter</th>
                                       <th align="left" valign="bottom" id="d1609564e1066">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e1071" headers="d1609564e1063 ">
                                          <p><code class="codeph">specification</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e1071 d1609564e1066 ">
                                          <p>The index specification.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-B49091EB-6B09-4B6E-A80E-73E708517768__GUID-48F6511E-D320-41A9-BD38-FD7CFDB1C5F0">
                           <p class="titleinexample">Example 282-1 Return Values</p>
                           <div class="p">The function returns:
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">1</code>—if the index was successfully created
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">0</code>—if the index was not created
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="example" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B49091EB-6B09-4B6E-A80E-73E708517768__GUID-04096034-D307-4B4F-8D8B-B53CDDD7E5B3">Exceptions</p>
                           <p><code class="codeph">Error</code>—If an error occurs creating the index.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-B49091EB-6B09-4B6E-A80E-73E708517768__GUID-5C760316-26D1-481F-B3D6-65BEC7B12CDE">
                              <p class="notep1">See Also:</p>
                              <div class="p">For more information about <code class="codeph">SODA</code> Index specifications, see:
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/arpls&amp;id=ADSDI-GUID-4848E6A0-58A7-44FD-8D6D-A033D0CCF9CB" target="_blank">Overview of SODA Indexing</a></p>
                                    </li>
                                    <li>
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/arpls&amp;id=ADSDI-GUID-00C06941-6FFD-4CEB-81B6-9A7FBD577A2C" target="_blank">SODA Index Specifications (Reference)</a></p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-C464ADAB-7D17-4530-BC42-0BC76FA9CCA8" name="GUID-C464ADAB-7D17-4530-BC42-0BC76FA9CCA8"></a><h5 id="ARPLS-GUID-C464ADAB-7D17-4530-BC42-0BC76FA9CCA8" class="sect5"><span class="enumeration_section">282.3.1.2 </span>DROP_INDEX Function
                     </h5>
                     <div>
                        <p>This function drops the named index.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-C464ADAB-7D17-4530-BC42-0BC76FA9CCA8__GUID-A383251D-235C-4A5E-BDCA-05473392D809">Syntax</p><pre class="oac_no_warn" dir="ltr">DROP_INDEX (
     index_Name IN VARCHAR2,
     force      IN BOOLEAN DEFAULT FALSE) 
  RETURN NUMBER;
</pre></div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-C464ADAB-7D17-4530-BC42-0BC76FA9CCA8__GUID-5A69DF9E-E4CB-4084-BE06-05D8C3BC7202">
                           <p class="titleinexample">Example 282-2 Parameters</p>
                           <div class="tblformal" id="GUID-C464ADAB-7D17-4530-BC42-0BC76FA9CCA8__GUID-EBA28C9E-E2F9-4079-9DA4-4DB23EEBF066">
                              <p class="titleintable">Table 282-4 DROP_INDEX Function Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_INDEX Function Parameters" border="1" summary="Describes the parameters for the DROP_INDEX function." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e1228">Parameter</th>
                                       <th align="left" valign="bottom" id="d1609564e1231">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e1236" headers="d1609564e1228 ">
                                          <p><code class="codeph">index_Name</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e1236 d1609564e1231 ">
                                          <p>The name of the index.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e1244" headers="d1609564e1228 ">
                                          <p><code class="codeph">force</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e1244 d1609564e1231 ">
                                          <p>The force parameter can be <code class="codeph">TRUE</code> or <code class="codeph">FALSE</code>. Should only be set to <code class="codeph">TRUE</code> for dropping a <code class="codeph">JSON</code> search index or spatial index (not B-tree index).
                                          </p>
                                          <p>For more information, see <a href="../sqlrf/DROP-INDEX.html#SQLRF-GUID-F60F75DF-2866-4F93-BB7F-8FCE64BF67B6" target="_blank">DROP INDEX</a></p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="example" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-C464ADAB-7D17-4530-BC42-0BC76FA9CCA8__GUID-9BE42769-9466-4D9D-9E3B-F03093996CF3">Return Values</p>
                           <div class="p">The function returns:
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">1</code>—If the index was successfully dropped
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">0</code>—If the index was not dropped. For example, if there was no existing index with the specified name.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-C464ADAB-7D17-4530-BC42-0BC76FA9CCA8__GUID-1599B0BB-3F54-4FF8-BE5A-CB5488BB6E42">Exceptions</p>
                           <p><code class="codeph">Error</code>—if an error occurs while dropping the index.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-01AAC60C-5405-4167-84E9-2509E4FF91EC" name="GUID-01AAC60C-5405-4167-84E9-2509E4FF91EC"></a><h5 id="ARPLS-GUID-01AAC60C-5405-4167-84E9-2509E4FF91EC" class="sect5"><span class="enumeration_section">282.3.1.3 </span>FIND Function
                     </h5>
                     <div>
                        <p>This function returns the operation type for the collection. The operation type allows building and executing various read/write operations. This is the only way to get the reference of <code class="codeph">SODA_Operation_T</code> as there is no constructor.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-01AAC60C-5405-4167-84E9-2509E4FF91EC__GUID-F9EBC4E1-5EC6-454A-8CA7-99C5F138C777">Syntax</p><pre class="oac_no_warn" dir="ltr">FIND ()
 RETURN SODA_Operation_T;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-01AAC60C-5405-4167-84E9-2509E4FF91EC__GUID-0F359A03-7B38-4D46-BEF2-DAD5B163EA13">Return Values</p>
                           <p>This function returns <code class="codeph">SODA_OPERATION_T</code> object. 
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-01AAC60C-5405-4167-84E9-2509E4FF91EC__GUID-E888256B-FDE5-4147-99BE-5F2C89792BB6">Exceptions</p>
                           <p>This function does not throw any exception.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-0ACBC56D-71BC-4E96-8B7D-B1FC4D44302A" name="GUID-0ACBC56D-71BC-4E96-8B7D-B1FC4D44302A"></a><h5 id="ARPLS-GUID-0ACBC56D-71BC-4E96-8B7D-B1FC4D44302A" class="sect5"><span class="enumeration_section">282.3.1.4 </span>FIND_ONE Function
                     </h5>
                     <div>
                        <p>This function fetches the document matching the given key.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-0ACBC56D-71BC-4E96-8B7D-B1FC4D44302A__GUID-A9C02890-D0FA-40E5-A073-C32BA12B4830">Syntax</p><pre class="oac_no_warn" dir="ltr">FIND_ONE (
     key         IN VARCHAR2)
 RETURN SODA_Document_T;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-0ACBC56D-71BC-4E96-8B7D-B1FC4D44302A__GUID-8F6E154E-BE5B-4E7A-B1E3-E9DA1A5929D0">Parameters</p>
                           <div class="tblformal" id="GUID-0ACBC56D-71BC-4E96-8B7D-B1FC4D44302A__GUID-D2B9BC9B-745E-4D69-9F01-C2C8EC3893AB">
                              <p class="titleintable">Table 282-5 FIND_ONE Function Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="FIND_ONE Function Parameters" width="100%" border="1" summary="Describes the parameters for the FIND_ONE function." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e1510">Parameter</th>
                                       <th align="left" valign="bottom" id="d1609564e1513">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e1518" headers="d1609564e1510 ">
                                          <p><code class="codeph">key</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e1518 d1609564e1513 ">
                                          <p>The key of the document to be fetched.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-0ACBC56D-71BC-4E96-8B7D-B1FC4D44302A__GUID-48C43D86-40C0-4E06-A00F-D98159C4E139">Return Values</p>
                           <p>This function returns the document that matches the key. Returns <code class="codeph">NULL</code> if no match is found.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-0ACBC56D-71BC-4E96-8B7D-B1FC4D44302A__GUID-1565E500-C5DC-494A-A8A3-1C7FC3D1B3C8">Exceptions</p>
                           <p><code class="codeph">Error</code>—If an error occurs while finding the document.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-B2235AD3-910A-44A1-990A-AE85D8594669" name="GUID-B2235AD3-910A-44A1-990A-AE85D8594669"></a><h5 id="ARPLS-GUID-B2235AD3-910A-44A1-990A-AE85D8594669" class="sect5"><span class="enumeration_section">282.3.1.5 </span>GET_DATA_GUIDE Function
                     </h5>
                     <div>
                        <p>This function fetches the JSON data guide as a CLOB. The JSON data guide is essentially inferred schema for the JSON documents in the collection. In order to be able to return the JSON data guide, a collection must have a JSON Search Index defined on it, with the data guide enabled.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-B2235AD3-910A-44A1-990A-AE85D8594669__GUID-F4D6E59C-EF7F-4D49-88CE-B91886FE97C0">Syntax</p><pre class="oac_no_warn" dir="ltr">GET_DATA_GUIDE () 
 RETURN CLOB;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B2235AD3-910A-44A1-990A-AE85D8594669__GUID-E0F3A9AB-9E50-4FA9-9064-8989437C04EC">Return Values</p>
                           <p>The function returns the JSON data guide as a CLOB.</p>
                           <div class="infoboxnotealso" id="GUID-B2235AD3-910A-44A1-990A-AE85D8594669__GUID-9A1520ED-AF49-4DBD-8239-4116705E920B">
                              <p class="notep1">See Also:</p>
                              <p>For more info on the JSON data guide, see <a href="../adjsn/json-dataguide.html#ADJSN-GUID-219FC30E-89A7-4189-BC36-7B961A24067C" target="_blank">JSON Data Guide</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B2235AD3-910A-44A1-990A-AE85D8594669__GUID-03631C5E-F841-4076-873D-802ACEFF87E0">Exceptions</p>
                           <p><code class="codeph">Error</code>—If an error occurs while fetching the data guide.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-C27EB17B-E716-43FC-9B13-1440687DCAC9" name="GUID-C27EB17B-E716-43FC-9B13-1440687DCAC9"></a><h5 id="ARPLS-GUID-C27EB17B-E716-43FC-9B13-1440687DCAC9" class="sect5"><span class="enumeration_section">282.3.1.6 </span>GET_METADATA Function
                     </h5>
                     <div>
                        <p>This function returns the metadata of the collection in <code class="codeph">JSON</code> format.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-C27EB17B-E716-43FC-9B13-1440687DCAC9__GUID-FFF177A8-ADA9-4801-B39D-B7799F4D7AB4">Syntax</p><pre class="oac_no_warn" dir="ltr">GET_METADATA () 
  RETURN VARCHAR2;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-C27EB17B-E716-43FC-9B13-1440687DCAC9__GUID-1287AEFB-95F7-4E1D-8662-3BC618055CD9">Return Values</p>
                           <p>This function returns the metadata of the collection in <code class="codeph">JSON</code> format.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-9A295F52-7B96-4C1E-BCA1-0CC4554E2AFA" name="GUID-9A295F52-7B96-4C1E-BCA1-0CC4554E2AFA"></a><h5 id="ARPLS-GUID-9A295F52-7B96-4C1E-BCA1-0CC4554E2AFA" class="sect5"><span class="enumeration_section">282.3.1.7 </span>GET_NAME Function
                     </h5>
                     <div>
                        <p>This function returns the name of the collection.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-9A295F52-7B96-4C1E-BCA1-0CC4554E2AFA__GUID-A7079F11-F4CD-4736-9118-C3A953779B57">Syntax</p><pre class="oac_no_warn" dir="ltr">GET_NAME ()
 RETURN NVARCHAR2;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9A295F52-7B96-4C1E-BCA1-0CC4554E2AFA__GUID-DCE12482-F0EC-436B-8250-8EC169F26921">Return Values</p>
                           <p>This function returns the name of the collection.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-BF3FB0BF-F35F-4D1B-A14F-2667F4DEA748" name="GUID-BF3FB0BF-F35F-4D1B-A14F-2667F4DEA748"></a><h5 id="ARPLS-GUID-BF3FB0BF-F35F-4D1B-A14F-2667F4DEA748" class="sect5"><span class="enumeration_section">282.3.1.8 </span>INSERT_ONE Function
                     </h5>
                     <div>
                        <p>This function inserts a document into the collection.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-BF3FB0BF-F35F-4D1B-A14F-2667F4DEA748__GUID-6B5FB6CB-66A4-445B-BDBF-CB7CF74B6BD3">Syntax</p><pre class="oac_no_warn" dir="ltr">INSERT_ONE (
     document      IN SODA_Document_T)
 RETURN NUMBER;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-BF3FB0BF-F35F-4D1B-A14F-2667F4DEA748__GUID-A0342F1A-3442-4658-8C81-470C7686F17E">Parameters</p>
                           <div class="tblformal" id="GUID-BF3FB0BF-F35F-4D1B-A14F-2667F4DEA748__GUID-EF8EEEC9-67AC-4CCE-A541-FF140FA8BA56">
                              <p class="titleintable">Table 282-6 INSERT_ONE Function Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="INSERT_ONE Function Parameters" width="100%" border="1" summary="Describes the parameters for the INSERT_ONE function." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e1969">Parameter</th>
                                       <th align="left" valign="bottom" id="d1609564e1972">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e1977" headers="d1609564e1969 ">
                                          <p><code class="codeph">document</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e1977 d1609564e1972 ">
                                          <p>The input document.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-BF3FB0BF-F35F-4D1B-A14F-2667F4DEA748__GUID-8951775A-D048-4410-8083-6F5BB7E575D9">Return Values</p>
                           <p>The function returns a number–<code class="codeph">1</code> if the doc was inserted successfully, <code class="codeph">0</code> otherwise.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-BF3FB0BF-F35F-4D1B-A14F-2667F4DEA748__GUID-78FE5860-0D91-4436-B608-C3A8F7A74BE5">Exceptions</p>
                           <p><code class="codeph">Error</code>—If an error occurs while inserting the document into the collection.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-B216D9D8-BED6-4CD0-8E07-97D1D1CDB31E" name="GUID-B216D9D8-BED6-4CD0-8E07-97D1D1CDB31E"></a><h5 id="ARPLS-GUID-B216D9D8-BED6-4CD0-8E07-97D1D1CDB31E" class="sect5"><span class="enumeration_section">282.3.1.9 </span>INSERT_ONE_AND_GET Function
                     </h5>
                     <div>
                        <p>This function inserts a document into the collection.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-B216D9D8-BED6-4CD0-8E07-97D1D1CDB31E__GUID-61166607-8E15-42E3-B473-D20262A79F4D">Syntax</p><pre class="oac_no_warn" dir="ltr">INSERT_ONE_AND_GET (
     document      IN SODA_Document_T)
 RETURN SODA_Document_T;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B216D9D8-BED6-4CD0-8E07-97D1D1CDB31E__GUID-D959C8EF-3F20-45D8-87ED-EB73CD45C43B">Parameters</p>
                           <div class="tblformal" id="GUID-B216D9D8-BED6-4CD0-8E07-97D1D1CDB31E__GUID-AB3F15C4-E16D-4052-AFB7-E039BAE59143">
                              <p class="titleintable">Table 282-7 INSERT_ONE_AND_GET Function Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="INSERT_ONE_AND_GET Function Parameters" width="100%" border="1" summary="Describes the parameters for the INSERT_ONE_AND_GET function." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e2110">Parameter</th>
                                       <th align="left" valign="bottom" id="d1609564e2113">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e2118" headers="d1609564e2110 ">
                                          <p><code class="codeph">document</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e2118 d1609564e2113 ">
                                          <p>The input document.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B216D9D8-BED6-4CD0-8E07-97D1D1CDB31E__GUID-B2336AE7-C835-4DF4-97C0-3E0298F6C3D6">Return Values</p>
                           <p>The function returns the result document containing all document components supported by the given collection, with the exception of content.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B216D9D8-BED6-4CD0-8E07-97D1D1CDB31E__GUID-9328632D-2612-4501-BF29-A5E42E8980E5">Exceptions</p>
                           <p><code class="codeph">Error</code>—If an error occurs while inserting the document into the collection.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-B3F89419-280B-4251-9C5D-3CEEF40851FD" name="GUID-B3F89419-280B-4251-9C5D-3CEEF40851FD"></a><h5 id="ARPLS-GUID-B3F89419-280B-4251-9C5D-3CEEF40851FD" class="sect5"><span class="enumeration_section">282.3.1.10 </span>REMOVE_ONE Function
                     </h5>
                     <div>
                        <p>This function removes the document matching the given key.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-B3F89419-280B-4251-9C5D-3CEEF40851FD__GUID-8F24D9ED-4AA4-483A-84EE-AA5592374D07">Syntax</p><pre class="oac_no_warn" dir="ltr">REMOVE_ONE (
     key       IN VARCHAR2)
 RETURN NUMBER;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B3F89419-280B-4251-9C5D-3CEEF40851FD__GUID-860D6494-E8B0-415E-B969-C23F812534E6">Parameters</p>
                           <div class="tblformal" id="GUID-B3F89419-280B-4251-9C5D-3CEEF40851FD__GUID-27983421-A7BF-4631-8114-8F1E284B14CF">
                              <p class="titleintable">Table 282-8 REMOVE_ONE Function Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="REMOVE_ONE Function Parameters" width="100%" border="1" summary="Describes the parameters for the REMOVE_ONE function." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e2245">Parameter</th>
                                       <th align="left" valign="bottom" id="d1609564e2248">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e2253" headers="d1609564e2245 ">
                                          <p><code class="codeph">key</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e2253 d1609564e2248 ">
                                          <p>The key of the document.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B3F89419-280B-4251-9C5D-3CEEF40851FD__GUID-7F06D138-40E2-4EAF-8D45-47726636F73D">Return Values</p>
                           <p>This function returns the following values:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">1</code>–If the document was successfully removed.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">0</code>–If the document with the specified key was not found.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B3F89419-280B-4251-9C5D-3CEEF40851FD__GUID-1C5C03E6-0791-43C4-91F9-950C7CFB0463">Exceptions</p>
                           <p><code class="codeph">Error</code>—If an error occurs while deleting the document from the collection.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-569F834A-3E3E-4417-A260-ED4358A33EE7" name="GUID-569F834A-3E3E-4417-A260-ED4358A33EE7"></a><h5 id="ARPLS-GUID-569F834A-3E3E-4417-A260-ED4358A33EE7" class="sect5"><span class="enumeration_section">282.3.1.11 </span>REPLACE_ONE Function
                     </h5>
                     <div>
                        <p>This function updates the existing document with a new content and media type using the key. Any components set in <code class="codeph">document</code> with the exception of content and media type are not used during the replace. They are ignored.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-569F834A-3E3E-4417-A260-ED4358A33EE7__GUID-3ADF3116-329C-476B-A4D6-C0F580039F36">Syntax</p><pre class="oac_no_warn" dir="ltr">REPLACE_ONE (
     key            IN VARCHAR2,
     document       IN SODA_Document_T)
 RETURN NUMBER;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-569F834A-3E3E-4417-A260-ED4358A33EE7__GUID-778DDAD4-C58A-4124-A520-651F2B441AC3">Parameters</p>
                           <div class="tblformal" id="GUID-569F834A-3E3E-4417-A260-ED4358A33EE7__GUID-23E64715-757F-4868-942B-0CE4E22F5741">
                              <p class="titleintable">Table 282-9 REPLACE_ONE Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="REPLACE_ONE Parameters" width="100%" border="1" summary="This table lists the REPLACE_ONE parameters in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e2395">Parameter</th>
                                       <th align="left" valign="bottom" id="d1609564e2398">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e2403" headers="d1609564e2395 ">
                                          <p><code class="codeph">key</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e2403 d1609564e2398 ">
                                          <p>The key of the document.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e2411" headers="d1609564e2395 ">
                                          <p><code class="codeph">document</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e2411 d1609564e2398 ">
                                          <p>The document with the new content and media type to replace the old one.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-569F834A-3E3E-4417-A260-ED4358A33EE7__GUID-E597DCF5-89E4-44B9-B000-74813FAF0ACA">Return Values</p>
                           <p>This function returns a number—<code class="codeph">1</code> if the document was replaced, <code class="codeph">0</code> otherwise.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-569F834A-3E3E-4417-A260-ED4358A33EE7__GUID-F5DC808C-B3BB-444E-98EA-05EF0193E3C4">Exceptions</p>
                           <p><code class="codeph">Error</code>—If an error occurs while replacing the document in the collection.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-71783EC4-EDCC-4D99-B2A1-213E6D10D768" name="GUID-71783EC4-EDCC-4D99-B2A1-213E6D10D768"></a><h5 id="ARPLS-GUID-71783EC4-EDCC-4D99-B2A1-213E6D10D768" class="sect5"><span class="enumeration_section">282.3.1.12 </span>REPLACE_ONE_AND_GET Function
                     </h5>
                     <div>
                        <p>This function updates the existing document with a new content and media type using the key. Any components set in <code class="codeph">document</code> with the exception of content and media type are not used during the replace. They are ignored.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-71783EC4-EDCC-4D99-B2A1-213E6D10D768__GUID-AF2E240C-DBD5-4721-9E19-32F7217AF3F3">Syntax</p><pre class="oac_no_warn" dir="ltr">REPLACE_ONE_AND_GET (
     key            IN VARCHAR2,
     document       IN SODA_Document_T)
 RETURN SODA_Document_T;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-71783EC4-EDCC-4D99-B2A1-213E6D10D768__GUID-2FEB896B-04F2-4337-A7DB-C466525FE237">Parameters</p>
                           <div class="tblformal" id="GUID-71783EC4-EDCC-4D99-B2A1-213E6D10D768__GUID-C647B878-87C5-4D5A-A551-D5FD926F55F9">
                              <p class="titleintable">Table 282-10 REPLACE_ONE_AND_GET Function Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="REPLACE_ONE_AND_GET Function Parameters" width="100%" border="1" summary="This table lists the REPLACE_ONE_AND_GET function parameters in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e2547">Parameter</th>
                                       <th align="left" valign="bottom" id="d1609564e2550">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e2555" headers="d1609564e2547 ">
                                          <p><code class="codeph">key</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e2555 d1609564e2550 ">
                                          <p>The key of the document.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e2563" headers="d1609564e2547 ">
                                          <p><code class="codeph">document</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e2563 d1609564e2550 ">
                                          <p>The document with the new content and media type to replace the old one.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-71783EC4-EDCC-4D99-B2A1-213E6D10D768__GUID-B8AD92AA-5C1A-441A-B099-269CFEEB288F">Return Values</p>
                           <p>The function returns the result document containing all document components supported by the given collection, with the exception of content. Last-modified and version components, if supported by the given collection, will be updated with new values. If no document in the collection had the supplied key, <code class="codeph">NULL</code> is returned instead of the result document.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-71783EC4-EDCC-4D99-B2A1-213E6D10D768__GUID-FFE81FF6-2F37-4DAC-B769-F3F1B28CCCC4">Exceptions</p>
                           <p><code class="codeph">Error</code>—If an error occurs while replacing the document in the collection.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-966B7823-4B38-4F31-BDA8-19A06D1154F2" name="GUID-966B7823-4B38-4F31-BDA8-19A06D1154F2"></a><h4 id="ARPLS-GUID-966B7823-4B38-4F31-BDA8-19A06D1154F2" class="sect4"><span class="enumeration_section">282.3.2 </span>SODA_Document_T Type
                  </h4>
                  <div>
                     <p>This <code class="codeph">SODA</code> type represents a document with content, that is usually in <code class="codeph">JSON</code> format. 
                     </p>
                     <div class="section">
                        <p>This type is not persistable <code class="codeph">pl/sql</code> type. However, <code class="codeph">SODA</code> is a system that basically provides persistence — it has read and write operations. So you do not persist <code class="codeph">SODA_DOCUMENT_T</code> directly, but you pass it to a write operation (like <code class="codeph">insert</code> or <code class="codeph">replace</code>), which is defined on <code class="codeph">SODA_COLLECTION_T</code>, in order to write the document content and other components to the database. 
                        </p>
                        <p>A document has the following components:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>key</p>
                           </li>
                           <li>
                              <p>content</p>
                           </li>
                           <li>
                              <p>created-on timestamp</p>
                           </li>
                           <li>
                              <p>last-modified timestamp</p>
                           </li>
                           <li>
                              <p>version</p>
                           </li>
                           <li>
                              <p>media type</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="tblformal" id="GUID-966B7823-4B38-4F31-BDA8-19A06D1154F2__GUID-765A710C-7037-4EF3-8723-D26454E37C28">
                           <p class="titleintable">Table 282-11 SODA_Document_T Type Subprograms</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SODA_Document_T Type Subprograms" width="100%" border="1" summary="This table lists the SODA_Document_T Type subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d1609564e2736">Subprogram</th>
                                    <th align="left" valign="bottom" id="d1609564e2739">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e2744" headers="d1609564e2736 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-529159B3-0D86-4908-B789-E9AA34F289E7" title="This functions fetches the BLOB content of the document. It assumes that the document was constructed with BLOB content, or was returned from a collection with BLOB content. Otherwise, an error is returned.">GET_BLOB Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e2744 d1609564e2739 ">
                                       <p>Fetches the BLOB content of a <code class="codeph">BLOB-</code>based document.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e2768" headers="d1609564e2736 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-6F7FC146-691C-414B-B751-C719F1551EBD" title="The function fetches CLOB content of the document. It assumes that the document was constructed with CLOB content, or was returned from a collection with CLOB content. Otherwise, an error is returned.">GET_CLOB Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e2768 d1609564e2739 ">
                                       <p>Fetches the <code class="codeph">CLOB</code> content of a <code class="codeph">CLOB-</code>based document.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e2795" headers="d1609564e2736 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-4036978F-C625-46D1-AC5B-A194CA73BC2E" title="This function fetches the created-on timestamp. The timestamp string is in ISO-8601 format, in particular this form: YYYY-MM-DDThh:mm:ss.ssssssZ format. As indicated by the Z at the end, timestamps are returned in UTC (Z indicates zero UTC offset).">GET_CREATED_ON Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e2795 d1609564e2739 ">
                                       <p>Fetches the created-on timestamp in <code class="codeph">VARCHAR2</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e2822" headers="d1609564e2736 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-7E680830-E59A-4FDA-A225-3CB3B5DC4F3E" title="This function fetches the SQL datatype of the document content with which it was created.">GET_DATA_TYPE Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e2822 d1609564e2739 ">
                                       <p>Fetches the SQL datatype of the document content with which it was created.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e2834" headers="d1609564e2736 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-463852BE-D6CB-4B3E-9261-59CD60D373D9" title="This function fetches the document key.">GET_KEY Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e2834 d1609564e2739 ">
                                       <p>Fetches the document key in <code class="codeph">VARCHAR2</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e2849" headers="d1609564e2736 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-3ABFB48A-4EE1-4489-BCEA-4BF3CF2C3497" title="This function fetches the last modified timestamp. The timestamp string is in ISO-8601 format, in particular this form: YYYY-MM-DDThh:mm:ss.ssssssZ format. As indicated by the Z at the end, timestamps are returned in UTC (Z indicates zero UTC offset).">GET_LAST_MODIFIED Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e2849 d1609564e2739 ">
                                       <p>Fetches the last modified timestamp in <code class="codeph">VARCHAR2</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e2876" headers="d1609564e2736 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-645C4E42-A3A2-4CBD-968C-757A82EC3EE6" title="This function fetches the media type of the document content.">GET_MEDIA_TYPE Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e2876 d1609564e2739 ">
                                       <p>Fetches the media type of the document content in <code class="codeph">VARCHAR2</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e2891" headers="d1609564e2736 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-87543B9F-6A9A-4763-8AC5-348E5EFA6A5C" title="This function fetches the VARCHAR2 content of the document. It assumes that the document was constructed with VARCHAR2 content, or was returned from a collection with VARCHAR2 content. Otherwise, an error is returned.">GET_VARCHAR2 Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e2891 d1609564e2739 ">
                                       <p>Fetches the <code class="codeph">VARCHAR2</code> content of a <code class="codeph">VARCHAR2-based</code> document.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e2918" headers="d1609564e2736 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-485205DF-90E1-4BA0-820A-BB38EB12F894" title="This function fetches the version of the document.">GET_VERSION Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e2918 d1609564e2739 ">
                                       <p>Fetches the version of the document in <code class="codeph">VARCHAR2</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e2933" headers="d1609564e2736 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-F5AD8F5C-E955-4092-8C05-1189F44D197F" title="This function instantiates a document object using key, content, and media type. There are three different SODA_DOCUMENT_T constructor functions. The second parameter (&lt;v|b|c&gt;_Content) is different in each constructor. It is VARCHAR2 in the first variant, BLOB in the second, and CLOB in the third.">SODA_Document_T Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e2933 d1609564e2739 ">
                                       <p>There are three different <code class="codeph">SODA_DOCUMENT_T</code> constructor functions. Each constructor function instantiates a document object using key, content, and media type.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div class="sect4"><a id="GUID-529159B3-0D86-4908-B789-E9AA34F289E7" name="GUID-529159B3-0D86-4908-B789-E9AA34F289E7"></a><h5 id="ARPLS-GUID-529159B3-0D86-4908-B789-E9AA34F289E7" class="sect5"><span class="enumeration_section">282.3.2.1 </span>GET_BLOB Function
                     </h5>
                     <div>
                        <p>This functions fetches the <code class="codeph">BLOB</code> content of the document. It assumes that the document was constructed with <code class="codeph">BLOB</code> content, or was returned from a collection with <code class="codeph">BLOB</code> content. Otherwise, an error is returned.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-529159B3-0D86-4908-B789-E9AA34F289E7__GUID-D2D5E45C-8B22-44D1-A09B-7224F4DED7E1">Syntax</p><pre class="oac_no_warn" dir="ltr">GET_BLOB () 
 RETURN BLOB;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-529159B3-0D86-4908-B789-E9AA34F289E7__GUID-723C8460-B89E-49A8-BEB4-E860F6866EE8">Return Values</p>
                           <p>This function returns the <code class="codeph">BLOB</code> content of a document.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-529159B3-0D86-4908-B789-E9AA34F289E7__GUID-EFF5E77F-65BC-4B9A-8D90-10AE9EA999A3">Exceptions</p>
                           <p><code class="codeph">SODA Error:</code> If the document was initially not created with <code class="codeph">BLOB</code> content.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-6F7FC146-691C-414B-B751-C719F1551EBD" name="GUID-6F7FC146-691C-414B-B751-C719F1551EBD"></a><h5 id="ARPLS-GUID-6F7FC146-691C-414B-B751-C719F1551EBD" class="sect5"><span class="enumeration_section">282.3.2.2 </span>GET_CLOB Function
                     </h5>
                     <div>
                        <p>The function fetches <code class="codeph">CLOB</code> content of the document. It assumes that the document was constructed with <code class="codeph">CLOB</code> content, or was returned from a collection with <code class="codeph">CLOB</code> content. Otherwise, an error is returned.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-6F7FC146-691C-414B-B751-C719F1551EBD__GUID-3D286198-8EF8-4DB9-A0D6-594EE1AF98BC">Syntax</p><pre class="oac_no_warn" dir="ltr">GET_CLOB () 
 RETURN CLOB;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-6F7FC146-691C-414B-B751-C719F1551EBD__GUID-59A66E5E-7053-4527-A44B-76D2E5A3A97A">Return Values</p>
                           <p>This function returns the <code class="codeph">CLOB</code> content of a document.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-6F7FC146-691C-414B-B751-C719F1551EBD__GUID-4A2973D6-9585-4D07-8263-D99059938FCF">Exceptions</p>
                           <p><code class="codeph">SODA Error:</code> If the document was initially not created with <code class="codeph">CLOB</code> content.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-4036978F-C625-46D1-AC5B-A194CA73BC2E" name="GUID-4036978F-C625-46D1-AC5B-A194CA73BC2E"></a><h5 id="ARPLS-GUID-4036978F-C625-46D1-AC5B-A194CA73BC2E" class="sect5"><span class="enumeration_section">282.3.2.3 </span>GET_CREATED_ON Function
                     </h5>
                     <div>
                        <p>This function fetches the created-on timestamp. The timestamp string is in <code class="codeph">ISO-8601</code> format, in particular this form: <code class="codeph">YYYY-MM-DDThh:mm:ss.ssssssZ</code> format. As indicated by the <code class="codeph">Z</code> at the end, timestamps are returned in UTC (<code class="codeph">Z</code> indicates zero UTC offset).
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-4036978F-C625-46D1-AC5B-A194CA73BC2E__GUID-23F1B834-2877-4A22-9269-7AF51FA73DA9">Syntax</p><pre class="oac_no_warn" dir="ltr">GET_CREATED_ON () 
 RETURN VARCHAR2;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4036978F-C625-46D1-AC5B-A194CA73BC2E__GUID-76C9CE48-F300-4CB9-AC2A-4A2B89FC9798">Return Values</p>
                           <p>This function returns the created-on timestamp.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-7E680830-E59A-4FDA-A225-3CB3B5DC4F3E" name="GUID-7E680830-E59A-4FDA-A225-3CB3B5DC4F3E"></a><h5 id="ARPLS-GUID-7E680830-E59A-4FDA-A225-3CB3B5DC4F3E" class="sect5"><span class="enumeration_section">282.3.2.4 </span>GET_DATA_TYPE Function
                     </h5>
                     <div>
                        <p>This function fetches the SQL datatype of the document content with which it was created.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-7E680830-E59A-4FDA-A225-3CB3B5DC4F3E__GUID-624B896E-DD42-4A5A-9936-9B2036BABD50">Syntax</p><pre class="oac_no_warn" dir="ltr">GET_DATA_TYPE () 
 RETURN PLS_INTEGER;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-7E680830-E59A-4FDA-A225-3CB3B5DC4F3E__GUID-7569A7C3-658C-43F1-9313-EB23E9A3D75F">Return Values</p>
                           <div class="tblformal" id="GUID-7E680830-E59A-4FDA-A225-3CB3B5DC4F3E__GUID-2976B9C1-818C-411C-965B-57B96C02244C">
                              <p class="titleintable">Table 282-12 GET_DATA_TYPE Return Values</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="GET_DATA_TYPE Return Values" width="100%" border="1" summary="The table lists the return values for the GET_DATA_TYPE Function and briefly describes them." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e3428">Constant</th>
                                       <th align="left" valign="bottom" id="d1609564e3431">Value</th>
                                       <th align="left" valign="bottom" id="d1609564e3434">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e3439" headers="d1609564e3428 ">
                                          <p><code class="codeph">DOC_VARCHAR2 CONSTANT PLS_INTEGER</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e3439 d1609564e3431 ">
                                          <p><code class="codeph">1</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e3439 d1609564e3434 ">
                                          <p><code class="codeph">VARCHAR2</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e3452" headers="d1609564e3428 ">
                                          <p><code class="codeph">DOC_BLOB CONSTANT PLS_INTEGER</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e3452 d1609564e3431 ">
                                          <p><code class="codeph">2</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e3452 d1609564e3434 ">
                                          <p><code class="codeph">BLOB</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e3465" headers="d1609564e3428 ">
                                          <p><code class="codeph">DOC_CLOB CONSTANT PLS_INTEGER</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e3465 d1609564e3431 ">
                                          <p><code class="codeph">3</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e3465 d1609564e3434 ">
                                          <p><code class="codeph">CLOB</code></p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-463852BE-D6CB-4B3E-9261-59CD60D373D9" name="GUID-463852BE-D6CB-4B3E-9261-59CD60D373D9"></a><h5 id="ARPLS-GUID-463852BE-D6CB-4B3E-9261-59CD60D373D9" class="sect5"><span class="enumeration_section">282.3.2.5 </span>GET_KEY Function
                     </h5>
                     <div>
                        <p>This function fetches the document key.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-463852BE-D6CB-4B3E-9261-59CD60D373D9__GUID-CB7F86F7-DD9F-4FEA-976F-0C20D207891B">Syntax</p><pre class="oac_no_warn" dir="ltr">GET_KEY () 
 RETURN VARCHAR2;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-463852BE-D6CB-4B3E-9261-59CD60D373D9__GUID-A881501D-B694-4D41-B367-E1F16B490104">Return Values</p>
                           <p>This function returns the document key.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-3ABFB48A-4EE1-4489-BCEA-4BF3CF2C3497" name="GUID-3ABFB48A-4EE1-4489-BCEA-4BF3CF2C3497"></a><h5 id="ARPLS-GUID-3ABFB48A-4EE1-4489-BCEA-4BF3CF2C3497" class="sect5"><span class="enumeration_section">282.3.2.6 </span>GET_LAST_MODIFIED Function
                     </h5>
                     <div>
                        <p>This function fetches the last modified timestamp. The timestamp string is in <code class="codeph">ISO-8601</code> format, in particular this form: <code class="codeph">YYYY-MM-DDThh:mm:ss.ssssssZ</code> format. As indicated by the <code class="codeph">Z</code> at the end, timestamps are returned in UTC (<code class="codeph">Z</code> indicates zero UTC offset).
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-3ABFB48A-4EE1-4489-BCEA-4BF3CF2C3497__GUID-AEBAA373-BC98-445B-9E95-56EDBD6F6262">Syntax</p><pre class="oac_no_warn" dir="ltr">GET_LAST_MODIFIED () 
 RETURN VARCHAR2;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-3ABFB48A-4EE1-4489-BCEA-4BF3CF2C3497__GUID-2568E50D-537E-49F9-B763-24D9C9BC0B3F">Return Values</p>
                           <p>This function returns the last modified timestamp.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-645C4E42-A3A2-4CBD-968C-757A82EC3EE6" name="GUID-645C4E42-A3A2-4CBD-968C-757A82EC3EE6"></a><h5 id="ARPLS-GUID-645C4E42-A3A2-4CBD-968C-757A82EC3EE6" class="sect5"><span class="enumeration_section">282.3.2.7 </span>GET_MEDIA_TYPE Function
                     </h5>
                     <div>
                        <p>This function fetches the media type of the document content.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-645C4E42-A3A2-4CBD-968C-757A82EC3EE6__GUID-C3C24875-C38C-48D1-9C2D-4F9132265C32">Syntax</p><pre class="oac_no_warn" dir="ltr">GET_MEDIA_TYPE () 
 RETURN VARCHAR2;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-645C4E42-A3A2-4CBD-968C-757A82EC3EE6__GUID-32B4D5A7-E5F9-4D11-9B6D-86BDA13EC12A">Return Values</p>
                           <p>This function returns the media type of the document content. <code class="codeph">application</code>/<code class="codeph">JSON</code> is the media type for <code class="codeph">JSON</code> documents (default).
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-87543B9F-6A9A-4763-8AC5-348E5EFA6A5C" name="GUID-87543B9F-6A9A-4763-8AC5-348E5EFA6A5C"></a><h5 id="ARPLS-GUID-87543B9F-6A9A-4763-8AC5-348E5EFA6A5C" class="sect5"><span class="enumeration_section">282.3.2.8 </span>GET_VARCHAR2 Function
                     </h5>
                     <div>
                        <p>This function fetches the <code class="codeph">VARCHAR2</code> content of the document. It assumes that the document was constructed with <code class="codeph">VARCHAR2</code> content, or was returned from a collection with <code class="codeph">VARCHAR2</code> content. Otherwise, an error is returned.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-87543B9F-6A9A-4763-8AC5-348E5EFA6A5C__GUID-F6F68BDD-22F3-4141-80E9-3DDA6977BB31">Syntax</p><pre class="oac_no_warn" dir="ltr">GET_VARCHAR2 () 
 RETURN VARCHAR2;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-87543B9F-6A9A-4763-8AC5-348E5EFA6A5C__GUID-3D5FC6CE-0131-48AE-8C0A-58A1D3389F36">Return Values</p>
                           <p>This function returns the <code class="codeph">VARCHAR2</code> content of a document.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-87543B9F-6A9A-4763-8AC5-348E5EFA6A5C__GUID-FB3900CF-8F66-47E8-A572-643722DB619D">Exceptions</p>
                           <p><code class="codeph">SODA Error:</code> If the document was initially not created with <code class="codeph">VARCHAR2</code> content.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-485205DF-90E1-4BA0-820A-BB38EB12F894" name="GUID-485205DF-90E1-4BA0-820A-BB38EB12F894"></a><h5 id="ARPLS-GUID-485205DF-90E1-4BA0-820A-BB38EB12F894" class="sect5"><span class="enumeration_section">282.3.2.9 </span>GET_VERSION Function
                     </h5>
                     <div>
                        <p>This function fetches the version of the document.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-485205DF-90E1-4BA0-820A-BB38EB12F894__GUID-B8B1CBD1-BAB6-4BDB-873A-F0FF783F2DA9">Syntax</p><pre class="oac_no_warn" dir="ltr">GET_VERSION () 
 RETURN VARCHAR2;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-485205DF-90E1-4BA0-820A-BB38EB12F894__GUID-701DF207-14E9-48C2-92EE-C78851989A38">Return Values</p>
                           <p>This function returns the version of the document.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-F5AD8F5C-E955-4092-8C05-1189F44D197F" name="GUID-F5AD8F5C-E955-4092-8C05-1189F44D197F"></a><h5 id="ARPLS-GUID-F5AD8F5C-E955-4092-8C05-1189F44D197F" class="sect5"><span class="enumeration_section">282.3.2.10 </span>SODA_Document_T Function
                     </h5>
                     <div>
                        <p>This function instantiates a document object using key, content, and media type. There are three different <code class="codeph">SODA_DOCUMENT_T</code> constructor functions. The second parameter (<code class="codeph">&lt;v|b|c&gt;_Content</code>) is different in each constructor. It is <code class="codeph">VARCHAR2</code> in the first variant, <code class="codeph">BLOB</code> in the second, and <code class="codeph">CLOB</code> in the third.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-F5AD8F5C-E955-4092-8C05-1189F44D197F__GUID-30937D83-B0FF-4CC6-AC21-9826201A3759">Syntax</p>
                           <p>Key and media type are optional parameters (will be defaulted to <code class="codeph">NULL</code>). All three parameters can be set to <code class="codeph">NULL</code>. If <code class="codeph">media_Type</code> is set to <code class="codeph">NULL</code>, it will be defaulted to <code class="codeph">application/json</code>.
                           </p><pre class="oac_no_warn" dir="ltr">SODA_DOCUMENT_T (
     key           IN VARCHAR2 DEFAULT NULL,
     v_Content     IN VARCHAR2,
     media_Type    IN VARCHAR2 DEFAULT NULL) 
 RETURN SODA_Document_T;

SODA_DOCUMENT_T (
     key           IN VARCHAR2 DEFAULT NULL,
     b_Content     IN BLOB,
     media_Type    IN VARCHAR2 DEFAULT NULL) 
 RETURN SODA_Document_T;

SODA_DOCUMENT_T (
     key           IN VARCHAR2 DEFAULT NULL,
     c_Content     IN CLOB,
     media_Type    IN VARCHAR2 DEFAULT NULL) 
 RETURN SODA_Document_T;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-F5AD8F5C-E955-4092-8C05-1189F44D197F__GUID-30AABF75-6606-4505-B096-3523B2B6E49B">Parameters</p>
                           <div class="tblformal" id="GUID-F5AD8F5C-E955-4092-8C05-1189F44D197F__GUID-3F08084D-0B1D-4E1C-A12C-AD4EBAC69D0B">
                              <p class="titleintable">Table 282-13 SODA_Document_T Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="SODA_Document_T Parameters" width="100%" border="1" summary="This table lists the SODA_Document_T Function parameters in alphabetic order and briefly describes them." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e4162">Parameter</th>
                                       <th align="left" valign="bottom" id="d1609564e4165">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e4170" headers="d1609564e4162 ">
                                          <p><code class="codeph">key</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e4170 d1609564e4165 ">
                                          <p>The key of the document.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e4178" headers="d1609564e4162 ">
                                          <p><code class="codeph">v_Content</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e4178 d1609564e4165 ">
                                          <p>The content of the document in <code class="codeph">VARCHAR2</code> format.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e4189" headers="d1609564e4162 ">
                                          <p><code class="codeph">b_Content</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e4189 d1609564e4165 ">
                                          <p>The content of the document in <code class="codeph">BLOB</code> format.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e4200" headers="d1609564e4162 ">
                                          <p><code class="codeph">c_Content</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e4200 d1609564e4165 ">
                                          <p>The content of the document in <code class="codeph">CLOB</code> format.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e4211" headers="d1609564e4162 ">
                                          <p><code class="codeph">media_Type</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e4211 d1609564e4165 ">
                                          <p>The media type of the document.</p>
                                          <p>The media type could be <code class="codeph">application</code>/<code class="codeph">json</code> for <code class="codeph">JSON</code> documents.
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnote" id="GUID-F5AD8F5C-E955-4092-8C05-1189F44D197F__GUID-BA5ED39B-DDCB-4FF8-A285-BEA91D78CF34">
                              <p class="notep1">Note:</p>
                              <p><code class="codeph">v_Content</code>, <code class="codeph">b_Content</code>, and <code class="codeph">c_Content</code> are not all parameters of a single <code class="codeph">SODA_DOCUMENT_T</code> constructor function. Each one corresponds to a particular variant of the constructor function as shown in the <code class="codeph">Syntax</code> section.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-F5AD8F5C-E955-4092-8C05-1189F44D197F__GUID-FB8494FC-DC37-4433-ACFA-E3F971FF88B4">Return Values</p>
                           <p>This function returns a document of type <code class="codeph">SODA_Document_T</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-B5D5D6AE-997F-4A7B-A250-78F33781850F" name="GUID-B5D5D6AE-997F-4A7B-A250-78F33781850F"></a><h4 id="ARPLS-GUID-B5D5D6AE-997F-4A7B-A250-78F33781850F" class="sect4"><span class="enumeration_section">282.3.3 </span>SODA_Operation_T Type
                  </h4>
                  <div>
                     <p>This <code class="codeph">SODA</code> type is used to perform read/write operations, such as document finds with filtering and pagination, removes, and replaces on a <code class="codeph">SODA</code> collection.
                     </p>
                     <div class="section">
                        <div class="tblformal" id="GUID-B5D5D6AE-997F-4A7B-A250-78F33781850F__GUID-AA67E3E3-3F40-45F2-AADC-166EEFAA3A3E">
                           <p class="titleintable">Table 282-14 SODA_Operation_T Type Subprograms</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SODA_Operation_T Type Subprograms" border="1" summary="This table lists the SODA_Operation_T Type subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d1609564e4361">Subprogram</th>
                                    <th align="left" valign="bottom" id="d1609564e4364">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e4369" headers="d1609564e4361 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-3722F8A7-C117-4322-9B8C-256B6A33F43D" title="This function returns a count of the number of documents in the collection that match the criteria. If skip(...) or limit(...) were chained together with this count(), an exception is raised.">COUNT Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e4369 d1609564e4364 ">
                                       <p>Returns a count of the number of documents in the collection that match the criteria. If skip(...) or limit(...) were chained together with this count(), an exception is raised.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e4381" headers="d1609564e4361 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-DDDE8788-8904-4426-87DE-A7B9FCF55A86" title="Sets the filter (also known as QBE or query-by-example) criteria on the operation. Returns the same SODA_OPERATION_T object so that further criteria can be attached if needed.">FILTER Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e4381 d1609564e4364 ">
                                       <p>Sets the filter (also known as QBE or query-by-example) criteria on the operation. Returns the same <code class="codeph">SODA_OPERATION_T</code> object so that further criteria can be chained together if required.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e4399" headers="d1609564e4361 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-7BAC4115-3FC7-41BF-B58B-6FB5E22E9825" title="Returns a SODA_CURSOR_T object that can be used to iterate over the documents that match the criteria.">GET_CURSOR Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e4399 d1609564e4364 ">
                                       <p>Returns a <code class="codeph">SODA_CURSOR_T</code> object that can be used to iterate over the documents that match the criteria.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e4417" headers="d1609564e4361 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-C02202DF-A3F5-4459-B8B6-0C958E209235" title="Returns a single SODA_DOCUMENT_T object that matches the criteria. Note that, if multiple documents match the criteria, only the first document is returned.">GET_ONE Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e4417 d1609564e4364 ">
                                       <p>Returns a single <code class="codeph">SODA_DOCUMENT_T</code> object that matches the criteria. Note that, if multiple documents match the criteria, only the first document is returned.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e4435" headers="d1609564e4361 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-E5AC4607-3A94-41CE-BA7D-53BEF76054DB" title="Specifies that the document with the specified key should be returned. This causes any previous calls made to this function and KEYS(...), when they appear in the same chain, to be ignored. Returns the same SODA_OPERATION_T object so that further operation criteria can be chained together, if needed.">KEY Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e4435 d1609564e4364 ">
                                       <p>Specifies that the document with the specified key should be returned. This causes any previous calls made to this function and <code class="codeph">KEYS</code>(...), when they appear in the same chain, to be ignored.
                                       </p>
                                       <p>Returns the same <code class="codeph">SODA_OPERATION_T</code> object so that further operation criteria can be chained together, if needed.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e4461" headers="d1609564e4361 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-1632E751-7888-43B8-B6DB-0BDE7DF7D003" title="Specifies that documents that match the keys supplied to this function should be returned. This causes any previous calls made to this function and key(...), when they appear in the same chain, to be ignored. Returns the same SODA_OPERATION_T object, so that further operation criteria can be chained together, if needed.">KEYS Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e4461 d1609564e4364 ">
                                       <p>Specifies that documents that match the keys supplied to this function should be returned. This causes any previous calls made to this function and <code class="codeph">KEY</code>(...), when they appear in the same chain, to be ignored.
                                       </p>
                                       <p>Returns the same <code class="codeph">SODA_OPERATION_T</code> object, so that further operation criteria can be chained together, if needed.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e4487" headers="d1609564e4361 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-7ADCC24C-D501-4537-AC72-FC7F4F4DF54B" title="This function sets a limit on the specified number of documents the operation should return. This setting is only usable for read operations such as GET_CURSOR. For write operations, any value set using this method is ignored. Returns the same SODA_OPERATION_T object so that further operation criteria can be chained together, if needed.">LIMIT Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e4487 d1609564e4364 ">
                                       <p>Sets a limit on the specified number of documents the operation should return. This setting is only usable for read operations such as <code class="codeph">GET_CURSOR</code>. For write operations, any value set using this method is ignored.
                                       </p>
                                       <p>Returns the same <code class="codeph">SODA_OPERATION_T</code> object so that further operation criteria can be chained together, if needed.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e4513" headers="d1609564e4361 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-927A073E-A3CA-44D4-86B4-9F1BE97BF01B" title="This function removes all of the documents in the collection that match the criteria. Returns the number of documents that was removed.">REMOVE Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e4513 d1609564e4364 ">
                                       <p>Removes all of the documents in the collection that match the criteria. Returns the number of documents that was removed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e4525" headers="d1609564e4361 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-179BB598-49D5-4741-A42A-2941A1DDAAE5" title="This function replaces a single document in the collection with the specified document. Returns a number that indicates if the document was replaced or not. Currently, before calling this function, you must call the function KEY(...) to uniquely identify the document being replaced. Any components set in the input document with the exception of content and media type are not used during the replace. They are ignored.">REPLACE_ONE Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e4525 d1609564e4364 ">
                                       <p>Replaces a single document in the collection with the specified document. Returns a number that indicates if the document was replaced or not.</p>
                                       <p>Currently, before calling this function, you must call the function <code class="codeph">KEY</code>(...) to uniquely identify the document being replaced. Any components set in the input document with the exception of content and media type are not used during the replace. They are ignored.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e4545" headers="d1609564e4361 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-441AD095-E9B1-4B2C-80CE-49A94D811727" title="Replaces a single document in the collection with the specified document. Returns a result document if the document was replaced, NULL otherwise. Currently, before calling this function, you must call the function KEY(...) to uniquely identify the document being replaced. This function is similar to REPLACE_ONE. The only difference is that REPLACE_ONE_AND_GET also returns the result document with updated components, such as version and last-modified timestamp. The result document does not contain the content component. Any components set in the input document with the exception of content and media type are not used during the replace. They are ignored.">REPLACE_ONE_AND_GET Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e4545 d1609564e4364 ">
                                       <p>Replaces a single document in the collection with the specified document. Returns a result document if the document was replaced, <code class="codeph">NULL</code> otherwise.
                                       </p>
                                       <p>Currently, before calling this function, you must call the function <code class="codeph">KEY</code>(...) to uniquely identify the document being replaced.
                                       </p>
                                       <p>This function is similar to <code class="codeph">REPLACE_ONE</code>. The only difference is that <code class="codeph">REPLACE_ONE_AND_GET</code> also returns the result document with updated components, such as version and last-modified timestamp. The result document does not contain the content component. 
                                       </p>
                                       <p>Any components set in the input document with the exception of content and media type are not used during the replace. They are ignored.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e4587" headers="d1609564e4361 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-09492FCD-3867-437B-A5D5-BE89383ED221" title="This function sets the number of documents that match the operation criteria that will be skipped from the operation result. This setting is only usable for read operations such as GET_CURSOR. For write operations, any value set using this method is ignored. Returns the same SODA_OPERATION_T object so that further operation criteria can be chained together, if needed.">SKIP Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e4587 d1609564e4364 ">
                                       <p>Sets the number of documents that match the operation criteria that will be skipped from the operation result. This setting is only usable for read operations such as <code class="codeph">GET_CURSOR</code>. For write operations, any value set using this method is ignored.
                                       </p>
                                       <p>Returns the same <code class="codeph">SODA_OPERATION_T</code> object so that further operation criteria can be chained together, if needed.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e4614" headers="d1609564e4361 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-333EA80C-1991-4475-BBE4-03B66EA109B8" title="This function specifies that only documents with the supplied version should be returned. Typically, this is chained together with KEY(...) to implement optimistic locking for write operations such as REMOVE and REPLACE. Returns the same SODA_OPERATION_T object so that further operation criteria can be chained together, if needed.">VERSION Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e4614 d1609564e4364 ">
                                       <p>Specifies that only documents with the supplied version should be returned. Typically, this is chained together with <code class="codeph">KEY</code>(...) to implement optimistic locking for write operations such as <code class="codeph">REMOVE</code> and <code class="codeph">REPLACE</code>.
                                       </p>
                                       <p>Returns the same <code class="codeph">SODA_OPERATION_T</code> object so that further operation criteria can be chained together, if needed.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div class="sect4"><a id="GUID-3722F8A7-C117-4322-9B8C-256B6A33F43D" name="GUID-3722F8A7-C117-4322-9B8C-256B6A33F43D"></a><h5 id="ARPLS-GUID-3722F8A7-C117-4322-9B8C-256B6A33F43D" class="sect5"><span class="enumeration_section">282.3.3.1 </span>COUNT Function
                     </h5>
                     <div>
                        <p>This function returns a count of the number of documents in the collection that match the criteria. If skip(...) or limit(...) were chained together with this count(), an exception is raised.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-3722F8A7-C117-4322-9B8C-256B6A33F43D__GUID-C2E639BC-1804-4738-9F5C-68A17E7CDFFC">Syntax</p><pre class="oac_no_warn" dir="ltr">COUNT ()
 RETURN NUMBER;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-3722F8A7-C117-4322-9B8C-256B6A33F43D__GUID-30FD17F3-EDA6-4C1E-BD2E-B5AEA02F6EE4">Return Values</p>
                           <p>This function returns the number of documents matching the criteria specified in the operation.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-3722F8A7-C117-4322-9B8C-256B6A33F43D__GUID-EB4A6278-18CA-462E-877C-1C36DBF6C691">Exceptions</p>
                           <p><code class="codeph">Error</code>—If an error occurs while finding the count.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-DDDE8788-8904-4426-87DE-A7B9FCF55A86" name="GUID-DDDE8788-8904-4426-87DE-A7B9FCF55A86"></a><h5 id="ARPLS-GUID-DDDE8788-8904-4426-87DE-A7B9FCF55A86" class="sect5"><span class="enumeration_section">282.3.3.2 </span>FILTER Function
                     </h5>
                     <div>
                        <p>Sets the filter (also known as QBE or query-by-example) criteria on the operation. Returns the same <code class="codeph">SODA_OPERATION_T</code> object so that further criteria can be attached if needed.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-DDDE8788-8904-4426-87DE-A7B9FCF55A86__GUID-3190481B-AD23-4A1E-9184-7F68A6EA9214">Syntax</p><pre class="oac_no_warn" dir="ltr">FILTER (
     qbe         IN VARCHAR2)
 RETURN SODA_Operation_T;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DDDE8788-8904-4426-87DE-A7B9FCF55A86__GUID-3A5280D9-B832-44A8-8335-7865484B9056">Parameters</p>
                           <div class="tblformal" id="GUID-DDDE8788-8904-4426-87DE-A7B9FCF55A86__GUID-F00FCCAF-9923-47E9-95E1-1032EF42D299">
                              <p class="titleintable">Table 282-15 FILTER Function Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="FILTER Function Parameters" width="100%" border="1" summary="Describes the parameters for the FILTER function." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e4870">Parameter</th>
                                       <th align="left" valign="bottom" id="d1609564e4873">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e4878" headers="d1609564e4870 ">
                                          <p><code class="codeph">qbe</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e4878 d1609564e4873 ">
                                          <p>The string representing the query by example.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DDDE8788-8904-4426-87DE-A7B9FCF55A86__GUID-D226B4F0-047C-4F0E-A1CB-7C753F7A3ECC">Return Values</p>
                           <p>This function returns the same SODA_OPERATION_T object it was invoked on.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-DDDE8788-8904-4426-87DE-A7B9FCF55A86__GUID-625B6004-27F0-46E6-90DD-FBFAA38A2831">
                              <p class="notep1">See Also:</p>
                              <div class="p">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/arpls&amp;id=ADSDI-GUID-CB09C4E3-BBB1-40DC-88A8-8417821B0FBE" target="_blank">Overview of SODA Filter Specifications (QBEs)</a></p>
                                    </li>
                                    <li>
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/arpls&amp;id=ADSDI-GUID-8DDB51EB-D80F-4476-9ABF-D6860C6214D1" target="_blank">SODA Filter Specifications (Reference)</a></p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-7BAC4115-3FC7-41BF-B58B-6FB5E22E9825" name="GUID-7BAC4115-3FC7-41BF-B58B-6FB5E22E9825"></a><h5 id="ARPLS-GUID-7BAC4115-3FC7-41BF-B58B-6FB5E22E9825" class="sect5"><span class="enumeration_section">282.3.3.3 </span>GET_CURSOR Function
                     </h5>
                     <div>
                        <p>Returns a <code class="codeph">SODA_CURSOR_T</code> object that can be used to iterate over the documents that match the criteria.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-7BAC4115-3FC7-41BF-B58B-6FB5E22E9825__GUID-D493BF39-AAA0-454E-9418-A5A24E208009">Syntax</p>
                           <p>(Optional) Enter syntax information here.</p><pre class="oac_no_warn" dir="ltr">GET_CURSOR ()
 RETURN SODA_Cursor_T;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-7BAC4115-3FC7-41BF-B58B-6FB5E22E9825__GUID-4D0A3F7E-CDBB-40F2-B640-48B5541A7563">Return Values</p>
                           <p>This function returns a <code class="codeph">SODA_CURSOR_T</code> object that can be used to iterate over the documents that match the read operation criteria.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-7BAC4115-3FC7-41BF-B58B-6FB5E22E9825__GUID-8B968DD8-CD05-4AC0-B6EF-6DF5A4E4DA18">Exceptions</p>
                           <p><code class="codeph">SODA Error:</code>If an error occurs while fetching the cursor.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-C02202DF-A3F5-4459-B8B6-0C958E209235" name="GUID-C02202DF-A3F5-4459-B8B6-0C958E209235"></a><h5 id="ARPLS-GUID-C02202DF-A3F5-4459-B8B6-0C958E209235" class="sect5"><span class="enumeration_section">282.3.3.4 </span>GET_ONE Function
                     </h5>
                     <div>
                        <p>Returns a single <code class="codeph">SODA_DOCUMENT_T</code> object that matches the criteria. Note that, if multiple documents match the criteria, only the first document is returned.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-C02202DF-A3F5-4459-B8B6-0C958E209235__GUID-10A95D2B-0942-456F-8998-CEA5A4AECEC0">Syntax</p><pre class="oac_no_warn" dir="ltr">GET_ONE ()
 RETURN SODA_Document_T;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-C02202DF-A3F5-4459-B8B6-0C958E209235__GUID-F4768B8C-5744-48A3-92D3-C934CA952E59">Return Values</p>
                           <p>The first matching document.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-C02202DF-A3F5-4459-B8B6-0C958E209235__GUID-7687449C-5F86-465C-8264-C119C6BB361B">Exceptions</p>
                           <p><code class="codeph">Error</code>—If an error occurs while fetching the document.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-E5AC4607-3A94-41CE-BA7D-53BEF76054DB" name="GUID-E5AC4607-3A94-41CE-BA7D-53BEF76054DB"></a><h5 id="ARPLS-GUID-E5AC4607-3A94-41CE-BA7D-53BEF76054DB" class="sect5"><span class="enumeration_section">282.3.3.5 </span>KEY Function
                     </h5>
                     <div>
                        <p>Specifies that the document with the specified key should be returned. This causes any previous calls made to this function and <code class="codeph">KEYS</code>(...), when they appear in the same chain, to be ignored. Returns the same <code class="codeph">SODA_OPERATION_T</code> object so that further operation criteria can be chained together, if needed.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-E5AC4607-3A94-41CE-BA7D-53BEF76054DB__GUID-B174CE8E-C243-4A23-B416-4963ECE17DA5">Syntax</p><pre class="oac_no_warn" dir="ltr">KEY (
     key         IN VARCHAR2)
 RETURN SODA_Operation_T;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-E5AC4607-3A94-41CE-BA7D-53BEF76054DB__GUID-B120178F-B3E6-4A5B-804F-618AE86C8E89">Parameters</p>
                           <div class="tblformal" id="GUID-E5AC4607-3A94-41CE-BA7D-53BEF76054DB__GUID-6AA488D6-DBD0-4DC1-8057-E6ACF430DDDE">
                              <p class="titleintable">Table 282-16 KEY Function Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="KEY Function Parameters" width="100%" border="1" summary="Describes the parameters for the KEY function." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e5244">Parameter</th>
                                       <th align="left" valign="bottom" id="d1609564e5247">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e5252" headers="d1609564e5244 ">
                                          <p><code class="codeph">key</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e5252 d1609564e5247 ">
                                          <p>The key to be used for the operations.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-E5AC4607-3A94-41CE-BA7D-53BEF76054DB__GUID-D6ED5B04-9BAB-424C-8FB7-1A57262C0FA0">Return Values</p>
                           <p>This function returns the same <code class="codeph">SODA_OPERATION_T</code> object it was invoked on. 
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-1632E751-7888-43B8-B6DB-0BDE7DF7D003" name="GUID-1632E751-7888-43B8-B6DB-0BDE7DF7D003"></a><h5 id="ARPLS-GUID-1632E751-7888-43B8-B6DB-0BDE7DF7D003" class="sect5"><span class="enumeration_section">282.3.3.6 </span>KEYS Function
                     </h5>
                     <div>
                        <p>Specifies that documents that match the keys supplied to this function should be returned. This causes any previous calls made to this function and <code class="codeph">key</code>(...), when they appear in the same chain, to be ignored. Returns the same <code class="codeph">SODA_OPERATION_T</code> object, so that further operation criteria can be chained together, if needed.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-1632E751-7888-43B8-B6DB-0BDE7DF7D003__GUID-73500B7A-DAC5-4A57-A689-28F1D8D1B516">Syntax</p><pre class="oac_no_warn" dir="ltr">KEYS (
     key_List  IN SODA_Key_List_T)
 RETURN SODA_Operation_T;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1632E751-7888-43B8-B6DB-0BDE7DF7D003__GUID-F1D1F3F5-765E-4822-8B13-CB384DF5ADD8">Parameters</p>
                           <div class="tblformal" id="GUID-1632E751-7888-43B8-B6DB-0BDE7DF7D003__GUID-9409B0E7-AB31-428B-9760-EA25B462221D">
                              <p class="titleintable">Table 282-17 KEYS Function Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="KEYS Function Parameters" width="100%" border="1" summary="Describes the parameters for the KEYS function." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e5381">Parameter</th>
                                       <th align="left" valign="bottom" id="d1609564e5384">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e5389" headers="d1609564e5381 ">
                                          <p><code class="codeph">key_List</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e5389 d1609564e5384 ">
                                          <p>The parameter is a <code class="codeph">SODA_Key_List_T</code> which is a list of <code class="codeph">VARCHAR2</code> values representing keys.
                                          </p>
                                          <p>Assuming <code class="codeph">key_list</code> is a variable of type <code class="codeph">SODA_Key_List_T</code>, it can be initialized as follows:
                                          </p>
                                          <p><code class="codeph">key_list := SODA_Key_List_T('key1', 'key2', 'key3', etc);</code></p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1632E751-7888-43B8-B6DB-0BDE7DF7D003__GUID-E1939CDD-D80C-4308-8482-2833AC8001E8">Return Values</p>
                           <p>This function returns the same <code class="codeph">SODA_OPERATION_T</code> object it was invoked on. 
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-7ADCC24C-D501-4537-AC72-FC7F4F4DF54B" name="GUID-7ADCC24C-D501-4537-AC72-FC7F4F4DF54B"></a><h5 id="ARPLS-GUID-7ADCC24C-D501-4537-AC72-FC7F4F4DF54B" class="sect5"><span class="enumeration_section">282.3.3.7 </span>LIMIT Function
                     </h5>
                     <div>
                        <p>This function sets a limit on the specified number of documents the operation should return. This setting is only usable for read operations such as <code class="codeph">GET_CURSOR</code>. For write operations, any value set using this method is ignored. Returns the same <code class="codeph">SODA_OPERATION_T</code> object so that further operation criteria can be chained together, if needed.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-7ADCC24C-D501-4537-AC72-FC7F4F4DF54B__GUID-0C60589A-15BC-4435-A361-22F996D9DC72">Syntax</p><pre class="oac_no_warn" dir="ltr">LIMIT (
     limit         IN NUMBER)
 RETURN SODA_Operation_T;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-7ADCC24C-D501-4537-AC72-FC7F4F4DF54B__GUID-663DBE60-AE91-4465-B317-698301839A9A">Parameters</p>
                           <div class="tblformal" id="GUID-7ADCC24C-D501-4537-AC72-FC7F4F4DF54B__GUID-8D5826F8-5BF2-44AF-9DF0-41E5473E3AB7">
                              <p class="titleintable">Table 282-18 LIMIT Function Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="LIMIT Function Parameters" width="100%" border="1" summary="Describes the parameters for the LIMIT function." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e5535">Parameter</th>
                                       <th align="left" valign="bottom" id="d1609564e5538">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e5543" headers="d1609564e5535 ">
                                          <p><code class="codeph">limit</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e5543 d1609564e5538 ">
                                          <p>A limit on the number of results returned by read operations.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-7ADCC24C-D501-4537-AC72-FC7F4F4DF54B__GUID-C2E86261-EA8C-4E42-8059-26CBF2E887CB">Return Values</p>
                           <p>This function returns the same <code class="codeph">SODA_OPERATION_T</code> object it was invoked on.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-927A073E-A3CA-44D4-86B4-9F1BE97BF01B" name="GUID-927A073E-A3CA-44D4-86B4-9F1BE97BF01B"></a><h5 id="ARPLS-GUID-927A073E-A3CA-44D4-86B4-9F1BE97BF01B" class="sect5"><span class="enumeration_section">282.3.3.8 </span>REMOVE Function
                     </h5>
                     <div>
                        <p>This function removes all of the documents in the collection that match the criteria. Returns the number of documents that was removed.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-927A073E-A3CA-44D4-86B4-9F1BE97BF01B__GUID-1A0CDBB6-37BC-414F-8AA1-68BD145AEAF0">Syntax</p><pre class="oac_no_warn" dir="ltr">REMOVE ()
 RETURN NUMBER;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-927A073E-A3CA-44D4-86B4-9F1BE97BF01B__GUID-A8C0D3AC-3117-497D-8C7E-3D48FFA4F605">Return Values</p>
                           <p>This function returns the number of matching documents that were removed in the operation.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-927A073E-A3CA-44D4-86B4-9F1BE97BF01B__GUID-AD0FE1BC-6433-45A2-B713-409AA284FE5C">Exceptions</p>
                           <p><code class="codeph">Error</code>—If an error occurs while removing the documents.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-179BB598-49D5-4741-A42A-2941A1DDAAE5" name="GUID-179BB598-49D5-4741-A42A-2941A1DDAAE5"></a><h5 id="ARPLS-GUID-179BB598-49D5-4741-A42A-2941A1DDAAE5" class="sect5"><span class="enumeration_section">282.3.3.9 </span>REPLACE_ONE Function
                     </h5>
                     <div>
                        <p>This function replaces a single document in the collection with the specified document. Returns a number that indicates if the document was replaced or not. Currently, before calling this function, you must call the function <code class="codeph">KEY</code>(...) to uniquely identify the document being replaced. Any components set in the input document with the exception of content and media type are not used during the replace. They are ignored.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-179BB598-49D5-4741-A42A-2941A1DDAAE5__GUID-DF2DD0B0-63D4-4158-A857-044F649C70DC">Syntax</p><pre class="oac_no_warn" dir="ltr">REPLACE_ONE (
      document IN SODA_Document_T)
 RETURN NUMBER;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-179BB598-49D5-4741-A42A-2941A1DDAAE5__GUID-F66A9BB8-9483-4911-8061-5778718357F9">Parameters</p>
                           <div class="tblformal" id="GUID-179BB598-49D5-4741-A42A-2941A1DDAAE5__GUID-D6724A6E-4565-4599-A611-E3BF881313FB">
                              <p class="titleintable">Table 282-19 REPLACE_ONE Function Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="REPLACE_ONE Function Parameters" width="100%" border="1" summary="This table lists the REPLACE_ONE function parameters in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e5777">Parameter</th>
                                       <th align="left" valign="bottom" id="d1609564e5780">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e5785" headers="d1609564e5777 ">
                                          <p><code class="codeph">document</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e5785 d1609564e5780 ">
                                          <p>The document object with the new content and media type to be used for replacement.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-179BB598-49D5-4741-A42A-2941A1DDAAE5__GUID-6571053E-809B-48D6-B184-BF1F406823CF">Return Values</p>
                           <p>This function returns a number—<code class="codeph">1</code> if the document was replaced, <code class="codeph">0</code> otherwise.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-179BB598-49D5-4741-A42A-2941A1DDAAE5__GUID-626E58B6-6E06-4F68-8DD7-B0CA272A36FC">Exceptions</p>
                           <p><code class="codeph">Error</code>—If an error occurs while updating the collection.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-441AD095-E9B1-4B2C-80CE-49A94D811727" name="GUID-441AD095-E9B1-4B2C-80CE-49A94D811727"></a><h5 id="ARPLS-GUID-441AD095-E9B1-4B2C-80CE-49A94D811727" class="sect5"><span class="enumeration_section">282.3.3.10 </span>REPLACE_ONE_AND_GET Function
                     </h5>
                     <div>
                        <p>Replaces a single document in the collection with the specified document. Returns a result document if the document was replaced, <code class="codeph">NULL</code> otherwise. Currently, before calling this function, you must call the function <code class="codeph">KEY</code>(...) to uniquely identify the document being replaced. This function is similar to <code class="codeph">REPLACE_ONE</code>. The only difference is that <code class="codeph">REPLACE_ONE_AND_GET</code> also returns the result document with updated components, such as version and last-modified timestamp. The result document does not contain the content component. Any components set in the input document with the exception of content and media type are not used during the replace. They are ignored. 
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-441AD095-E9B1-4B2C-80CE-49A94D811727__GUID-2BBC3B39-85A7-4823-947C-0DFA71A93835">Syntax</p><pre class="oac_no_warn" dir="ltr">REPLACE_ONE_AND_GET (
     document         IN SODA_Document_T)
 RETURN SODA_Document_T;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-441AD095-E9B1-4B2C-80CE-49A94D811727__GUID-512F48C5-15DC-433C-A5C8-1DB57BBA485C">Parameters</p>
                           <div class="tblformal" id="GUID-441AD095-E9B1-4B2C-80CE-49A94D811727__GUID-D7FD873A-06D7-4A94-90C9-BE992D3EAB13">
                              <p class="titleintable">Table 282-20 REPLACE_ONE_AND_GET Function Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="REPLACE_ONE_AND_GET Function Parameters" width="100%" border="1" summary="Describes the parameters for the REPLACE_ONE_AND_GET function." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e5930">Parameter</th>
                                       <th align="left" valign="bottom" id="d1609564e5933">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e5938" headers="d1609564e5930 ">
                                          <p><code class="codeph">document</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e5938 d1609564e5933 ">
                                          <p>The document object with the new content and media type to be used for replacement.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-441AD095-E9B1-4B2C-80CE-49A94D811727__GUID-74BE2FEE-9881-4145-B139-EA5919C30894">Return Values</p>
                           <p>The function returns the result document containing all document components supported by the given collection, with the exception of content. Last-modified and version components, if supported by the given collection, will be updated with new values. If no document in the collection had the supplied key, <code class="codeph">NULL</code> is returned instead of the result document.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-441AD095-E9B1-4B2C-80CE-49A94D811727__GUID-94AE528E-9B27-4E1E-81E7-C27CFA61D77F">Exceptions</p>
                           <p><code class="codeph">Error</code>—If an error occurs while updating the collection
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-09492FCD-3867-437B-A5D5-BE89383ED221" name="GUID-09492FCD-3867-437B-A5D5-BE89383ED221"></a><h5 id="ARPLS-GUID-09492FCD-3867-437B-A5D5-BE89383ED221" class="sect5"><span class="enumeration_section">282.3.3.11 </span>SKIP Function
                     </h5>
                     <div>
                        <p>This function sets the number of documents that match the operation criteria that will be skipped from the operation result. This setting is only usable for read operations such as <code class="codeph">GET_CURSOR</code>. For write operations, any value set using this method is ignored. Returns the same <code class="codeph">SODA_OPERATION_T</code> object so that further operation criteria can be chained together, if needed.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-09492FCD-3867-437B-A5D5-BE89383ED221__GUID-5617FB32-7F82-467D-AB8A-D4014D7E16FB">Syntax</p><pre class="oac_no_warn" dir="ltr">SKIP (
     offset         IN NUMBER)
 RETURN SODA_Operation_T;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-09492FCD-3867-437B-A5D5-BE89383ED221__GUID-DB5020AF-8F66-40AA-B82C-13D3D9E37920">Parameters</p>
                           <div class="tblformal" id="GUID-09492FCD-3867-437B-A5D5-BE89383ED221__GUID-441FB2F2-8564-4944-A609-A1E7D2A42046">
                              <p class="titleintable">Table 282-21 SKIP Function Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="SKIP Function Parameters" width="100%" border="1" summary="Describes the parameters for the SKIP function." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e6075">Parameter</th>
                                       <th align="left" valign="bottom" id="d1609564e6078">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e6083" headers="d1609564e6075 ">
                                          <p><code class="codeph">offset</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e6083 d1609564e6078 ">
                                          <p>The number of documents to skip.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-09492FCD-3867-437B-A5D5-BE89383ED221__GUID-9F955B54-BCA4-4340-A2CB-01999B300485">Return Values</p>
                           <p>This function returns the same <code class="codeph">SODA_OPERATION_T</code> object it was invoked on
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-333EA80C-1991-4475-BBE4-03B66EA109B8" name="GUID-333EA80C-1991-4475-BBE4-03B66EA109B8"></a><h5 id="ARPLS-GUID-333EA80C-1991-4475-BBE4-03B66EA109B8" class="sect5"><span class="enumeration_section">282.3.3.12 </span>VERSION Function
                     </h5>
                     <div>
                        <p>This function specifies that only documents with the supplied version should be returned. Typically, this is chained together with <code class="codeph">KEY</code>(...) to implement optimistic locking for write operations such as <code class="codeph">REMOVE</code> and <code class="codeph">REPLACE</code>. Returns the same <code class="codeph">SODA_OPERATION_T</code> object so that further operation criteria can be chained together, if needed.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-333EA80C-1991-4475-BBE4-03B66EA109B8__GUID-565123A7-926D-4B1A-BF90-F602C4025780">Syntax</p><pre class="oac_no_warn" dir="ltr">VERSION (
     version         IN VARCHAR2)
 RETURN SODA_Operation_T;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-333EA80C-1991-4475-BBE4-03B66EA109B8__GUID-44E94FEA-63F1-4E66-AB37-D310D04AB6BF">Parameters</p>
                           <div class="tblformal" id="GUID-333EA80C-1991-4475-BBE4-03B66EA109B8__GUID-77E0AB3A-5DC0-4162-A56D-05E9CE9C6562">
                              <p class="titleintable">Table 282-22 VERSION Function Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="VERSION Function Parameters" width="100%" border="1" summary="Describes the parameters for the VERSION function." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d1609564e6218">Parameter</th>
                                       <th align="left" valign="bottom" id="d1609564e6221">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1609564e6226" headers="d1609564e6218 ">
                                          <p><code class="codeph">version</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1609564e6226 d1609564e6221 ">
                                          <p>Document version to be used for the operation.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-333EA80C-1991-4475-BBE4-03B66EA109B8__GUID-3D2EB851-A821-4B22-9F49-802CA6219C54">Return Values</p>
                           <p>This function returns the same <code class="codeph">SODA_OPERATION_T</code> object it was invoked on
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-84D9BFA8-11F5-4903-8863-E6EF12D5802D" name="GUID-84D9BFA8-11F5-4903-8863-E6EF12D5802D"></a><h4 id="ARPLS-GUID-84D9BFA8-11F5-4903-8863-E6EF12D5802D" class="sect4"><span class="enumeration_section">282.3.4 </span>SODA_Cursor_T Type
                  </h4>
                  <div>
                     <p>This <code class="codeph">SODA</code> type is used to represent a result set of documents.
                     </p>
                     <div class="section">
                        <div class="tblformal" id="GUID-84D9BFA8-11F5-4903-8863-E6EF12D5802D__GUID-E6308118-D951-4340-B621-39834E7D6147">
                           <p class="titleintable">Table 282-23 SODA_Cursor_T Type Subprograms</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SODA_Cursor_T Type Subprograms" border="1" summary="This table lists the SODA_Cursor_T Type subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d1609564e6345">Subprogram</th>
                                    <th align="left" valign="bottom" id="d1609564e6348">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e6353" headers="d1609564e6345 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-90B87F6E-9B7E-499E-8C4E-8FF88292E09A" title="This function closes the cursor.">CLOSE Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e6353 d1609564e6348 ">
                                       <p>Closes the cursor.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e6365" headers="d1609564e6345 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-BFB4E843-FB25-42CF-B791-CFED45E17767" title="This function returns TRUE, if the next document is available for the cursor. Otherwise, returns FALSE.">HAS_NEXT Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e6365 d1609564e6348 ">
                                       <p>Returns <code class="codeph">TRUE</code>, if the next document is available for the cursor. Otherwise, returns <code class="codeph">FALSE</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1609564e6389" headers="d1609564e6345 ">
                                       <p><code class="codeph"><a href="SODA_TYPES.html#GUID-42742069-A7C7-4794-AD0D-D2E8C954B5F6" title="This function returns the next SODA documented pointed by the cursor.">NEXT Function</a></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1609564e6389 d1609564e6348 ">
                                       <p>Returns the next SODA documented pointed by the cursor.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div class="sect4"><a id="GUID-90B87F6E-9B7E-499E-8C4E-8FF88292E09A" name="GUID-90B87F6E-9B7E-499E-8C4E-8FF88292E09A"></a><h5 id="ARPLS-GUID-90B87F6E-9B7E-499E-8C4E-8FF88292E09A" class="sect5"><span class="enumeration_section">282.3.4.1 </span>CLOSE Function
                     </h5>
                     <div>
                        <p>This function closes the cursor.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-90B87F6E-9B7E-499E-8C4E-8FF88292E09A__GUID-0727576F-50C8-4C07-AC12-77A90F983C97">Syntax</p><pre class="oac_no_warn" dir="ltr">CLOSE ()
 RETURN BOOLEAN;</pre></div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-90B87F6E-9B7E-499E-8C4E-8FF88292E09A__GUID-248807BA-F2A4-4A95-A69D-AF50713B778A">
                           <p class="titleinexample">Example 282-3 Return Values</p>
                           <p>This function returns a boolean value. </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-BFB4E843-FB25-42CF-B791-CFED45E17767" name="GUID-BFB4E843-FB25-42CF-B791-CFED45E17767"></a><h5 id="ARPLS-GUID-BFB4E843-FB25-42CF-B791-CFED45E17767" class="sect5"><span class="enumeration_section">282.3.4.2 </span>HAS_NEXT Function
                     </h5>
                     <div>
                        <p>This function returns <code class="codeph">TRUE</code>, if the next document is available for the cursor. Otherwise, returns <code class="codeph">FALSE</code>.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-BFB4E843-FB25-42CF-B791-CFED45E17767__GUID-39229644-21B5-4DFE-A742-93565512F34F">Syntax</p><pre class="oac_no_warn" dir="ltr">HAS_NEXT ()
 RETURN BOOLEAN;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-BFB4E843-FB25-42CF-B791-CFED45E17767__GUID-55237340-4DFE-469C-9F5D-34770088268E">Return Values</p>
                           <p>This function returns a boolean value. <code class="codeph">TRUE</code>, if the next document is available for the cursor. Otherwise, returns <code class="codeph">FALSE</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-BFB4E843-FB25-42CF-B791-CFED45E17767__GUID-F4851263-5A66-4F39-863D-9DC79C1FCFEC">Exceptions</p>
                           <p><code class="codeph">Error</code>—If an error occurs while checking if the next document is available.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-42742069-A7C7-4794-AD0D-D2E8C954B5F6" name="GUID-42742069-A7C7-4794-AD0D-D2E8C954B5F6"></a><h5 id="ARPLS-GUID-42742069-A7C7-4794-AD0D-D2E8C954B5F6" class="sect5"><span class="enumeration_section">282.3.4.3 </span>NEXT Function
                     </h5>
                     <div>
                        <p>This function returns the next <code class="codeph">SODA</code> documented pointed by the cursor.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-42742069-A7C7-4794-AD0D-D2E8C954B5F6__GUID-1F878207-B634-4634-92AB-8539CA573897">Syntax</p><pre class="oac_no_warn" dir="ltr">NEXT ()
 RETURN SODA_Document_T;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-42742069-A7C7-4794-AD0D-D2E8C954B5F6__GUID-B30B9190-518A-4627-BAE3-B1A407D5DCB9">Return Values</p>
                           <p>This function returns the next <code class="codeph">SODA</code> documented pointed by the cursor. Returns <code class="codeph">NULL</code> when the <code class="codeph">HAS_NEXT function</code> returns <code class="codeph">FALSE</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-42742069-A7C7-4794-AD0D-D2E8C954B5F6__GUID-85663B30-C2D1-4A93-BB47-7E83847F9F4C">Exceptions</p>
                           <p><code class="codeph">Error</code>—If an error occurs while getting the next document.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="05562.configuring-naming-methods.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Configuring Naming Methods</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Net Services Administrator&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Net Services Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="net-services-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-24T04:25:53-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96313-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-oracle-net-services.html" title="Previous" type="text/html"></link>
      <link rel="next" href="configuring-and-administering-oracle-net-listener.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Net Services Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="NETAG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-oracle-net-services.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="configuring-and-administering-oracle-net-listener.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Net Services Administrator's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-II-config-and-admin-of-oracle-net-services.html" property="item" typeof="WebPage"><span property="name">Configuration and Administration of Oracle Net Services</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Configuring Naming Methods</li>
            </ol>
            <a id="GUID-E5358DEA-D619-4B7B-A799-3D2F802500F1" name="GUID-E5358DEA-D619-4B7B-A799-3D2F802500F1"></a><a id="NETAG008"></a>
            
            <h2 id="NETAG-GUID-E5358DEA-D619-4B7B-A799-3D2F802500F1" class="sect2"><span class="enumeration_chapter">8 </span>Configuring Naming Methods
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Find out how to configure connectivity information for client connections to the database server.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="configuring-naming-methods.html#GUID-B0437826-43C1-49EC-A94D-B650B6A4A6EE">Understanding the Easy Connect Naming Method</a><br></li>
                  <li class="ulchildlink"><a href="configuring-naming-methods.html#GUID-D62B85C0-D3C1-4C5C-A9DF-C12DFB21C533">Configuring the Local Naming Method</a><br></li>
                  <li class="ulchildlink"><a href="configuring-naming-methods.html#GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC">Configuring the Directory Naming Method</a><br></li>
                  <li class="ulchildlink"><a href="configuring-naming-methods.html#GUID-E9C84E9B-C942-4906-B18D-27FF3A66A6F1">Creating Multiple Default Contexts in a Directory Naming Server</a><br></li>
                  <li class="ulchildlink"><a href="configuring-naming-methods.html#GUID-329108B5-5B52-4398-823A-6F7D77721F71">Exporting Local Naming Entries to a Directory Naming Server</a><br></li>
                  <li class="ulchildlink"><a href="configuring-naming-methods.html#GUID-9D39B62D-C6AA-43B3-ADAB-A8ECC905D2B0">Exporting Directory Naming Entries to a tnsnames.ora File</a><br></li>
                  <li class="ulchildlink"><a href="configuring-naming-methods.html#GUID-8578DC8A-65FA-4E3E-ACA0-1A8ABFAABF0C">Configuring External Naming Methods</a><br></li>
               </ul>
               <div class="infoboxnotealso" id="GUID-E5358DEA-D619-4B7B-A799-3D2F802500F1__GUID-D9C289BF-F7B2-452B-BC61-043F9021F17E">
                  <p class="notep1">See Also:</p>
                  <p><span class="q">"<a href="identifying-and-accessing-database.html#GUID-E14B3391-F5CE-46E7-B63B-6B74B7CEB4D9">Understanding Naming Methods</a>"</span> for an overview of naming methods
                  </p>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="part-II-config-and-admin-of-oracle-net-services.html#GUID-18C53DE7-28A6-4D01-AEA4-56A5F42B1B2A">Configuration and Administration of Oracle Net Services</a></p>
                  </div>
               </div>
            </div>
            <a id="NETAG1110"></a><a id="NETAG1111"></a><a id="NETAG255"></a><div class="sect2"><a id="GUID-B0437826-43C1-49EC-A94D-B650B6A4A6EE" name="GUID-B0437826-43C1-49EC-A94D-B650B6A4A6EE"></a><h3 id="NETAG-GUID-B0437826-43C1-49EC-A94D-B650B6A4A6EE" class="sect3"><span class="enumeration_section">8.1 </span>Understanding the Easy Connect Naming Method
               </h3>
               <div>
                  <p>The <a id="d20638e159" class="indexterm-anchor"></a><a id="d20638e163" class="indexterm-anchor"></a><a id="d20638e167" class="indexterm-anchor"></a>Easy Connect naming method eliminates the need for service name lookup in the <code class="codeph">tnsnames.ora</code> files for TCP/IP environments. In fact, no naming or directory system is required when using this method.
                  </p>
                  <p>This naming method provides out-of-the-box TCP/IP connectivity to databases. It extends the functionality of the host naming method by enabling clients to connect to a database server with an optional port and service name in addition to the host name of the database:</p><pre class="oac_no_warn" dir="ltr">CONNECT <span class="italic"><code class="codeph">username</code></span>@[//]<span class="italic"><code class="codeph">host</code></span>[:<span class="italic"><code class="codeph">port</code></span>][/<span class="italic"><code class="codeph">service_name</code></span>][:<span class="italic"><code class="codeph">server_type</code></span>][/<span class="italic"><code class="codeph">instance_name</code></span>]
Enter password: <span class="italic"><code class="codeph">password</code></span>
</pre><p>The connect identifier converts to the following connect descriptor:</p><pre class="oac_no_warn" dir="ltr">(DESCRIPTION= 
  (ADDRESS=(PROTOCOL=tcp)(HOST=<span class="italic"><code class="codeph">host</code></span>)(PORT=<span class="italic"><code class="codeph">port</code></span>))
  (CONNECT_DATA=
    (SERVICE_NAME=<span class="italic"><code class="codeph">service_name</code></span>)
    (SERVER=<span class="italic"><code class="codeph">server_type</code></span>)
    (INSTANCE_NAME=<span class="italic"><code class="codeph">instance_name</code></span>)))
</pre><p>If the Oracle Database server installation was performed in Typical mode, then the default service name used by the Oracle instance is the database name, and the following Easy Connect syntax can be used to connect to that instance:</p><pre class="oac_no_warn" dir="ltr">SQLPLUS /nolog
SQL&gt; CONNECT <span class="italic"><code class="codeph">username</code></span>@<span class="italic"><code class="codeph">host</code></span>/<span class="italic"><code class="codeph">db_name</code></span>
SQL&gt; Enter password: <span class="italic"><code class="codeph">password</code></span>
</pre><p><a href="configuring-naming-methods.html#GUID-B0437826-43C1-49EC-A94D-B650B6A4A6EE__BABJFJIA" title="Connect Identifier for Easy Connect Naming">Table 8-1</a> lists the Easy Connect syntax elements and descriptions for each.
                  </p>
                  <div class="tblformal" id="GUID-B0437826-43C1-49EC-A94D-B650B6A4A6EE__BABJFJIA">
                     <p class="titleintable">Table 8-1 Connect Identifier for Easy Connection Naming Method</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Connect Identifier for Easy Connection Naming Method" width="100%" border="1" summary="Connect Identifier for Easy Connect Naming" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d20638e268">Syntax Element</th>
                              <th align="left" valign="bottom" width="69%" id="d20638e271">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d20638e276" headers="d20638e268 ">
                                 <p>//</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d20638e276 d20638e271 ">
                                 <p>Use <code class="codeph">//</code> to specify a URL or JDBC connection.
                                 </p>
                                 <p>Required for URL or JDBC connections. The connect identifier must be preceded by a double-slash (<code class="codeph">//</code>). For example:
                                 </p><pre class="oac_no_warn" dir="ltr">scott@//sales-server
Enter password: <span class="italic"><code class="codeph">password</code></span>
</pre><p>Optional for SQL connections. The connect identifier can preceded by a double-slash (<code class="codeph">//</code>). For example, the following connect strings are semantically equivalent:
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CONNECT scott@sales-server
</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; CONNECT scott@//sales-server</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d20638e306" headers="d20638e268 ">
                                 <p>host</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d20638e306 d20638e271 ">
                                 <p>Required. Specify the host name or IP address of the database host computer.</p>
                                 <p>The host name is domain-qualified if the local operating system configuration specifies a domain.</p>
                                 <p>You may use an IPv4 or IPv6 address as a value. IPv6 addresses or host names that resolve to IPv6 addresses must be enclosed in square brackets, as in <code class="codeph">[2001:0db8:0:0::200C:417A]</code> and <code class="codeph">[salesdb]</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d20638e323" headers="d20638e268 ">
                                 <p>port</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d20638e323 d20638e271 ">
                                 <p>Optional. Specify the listening port.</p>
                                 <p>The default is 1521.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d20638e332" headers="d20638e268 ">
                                 <p>service_name</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d20638e332 d20638e271 ">
                                 <p>Optional. Specify the service name of the database.</p>
                                 <p>If a user specifies a service name, then the listener connects the user to that specific database. Otherwise, the listener connects to the database specified by the DEFAULT_SERVICE_<span class="italic">listener_name</span> parameter in the <code class="codeph">listener.ora</code> file. If DEFAULT_SERVICE_<span class="italic">listener_name</span> is not configured for the listener and a service name is not explicitly specified by the user as part of the Easy Connect syntax, then the listener returns an error.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d20638e350" headers="d20638e268 ">
                                 <p>server_type</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d20638e350 d20638e271 ">
                                 <p>Optional. Specify the database server type to use.</p>
                                 <p>This parameter instructs the listener to connect the client to a specific type of service handler.</p>
                                 <p>The values for the <code class="codeph">server_type</code> parameter are <code class="codeph">dedicated</code>, <code class="codeph">shared</code>, and <code class="codeph">pooled</code>. If server is not specified in the Easy Connect syntax, then the type of server is chosen by the listener (shared server if configured, otherwise a dedicated server is used).
                                 </p>
                                 <p><span class="bold">Note</span>: In Oracle Call Interface documentation, server is referred to as <code class="codeph">connect_type</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d20638e380" headers="d20638e268 ">
                                 <p>instance_name</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d20638e380 d20638e271 ">
                                 <p>Optional. Identify the database instance to access.</p>
                                 <p>The instance name can be obtained from the INSTANCE_NAME parameter in the initialization parameter file.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-B0437826-43C1-49EC-A94D-B650B6A4A6EE__GUID-2A68341A-EAC8-44F1-A772-C46AFC1F6F8E">
                     <p class="notep1">See Also:</p>
                     <p><span class="italic">Oracle Database Net Services Reference</span> for additional information about configuring the <a href="../netrf/oracle-net-listener-parameters-in-listener-ora.html#NETRF-GUID-2BD3AE51-3A4D-4CB8-9F4D-78D80AAC04C1" target="_blank">DEFAULT_SERVICE_<span class="italic">listener_name</span></a> parameter, and the <a href="../netrf/local-naming-parameters-in-tns-ora-file.html#NETRF284" target="_blank">INSTANCE_NAME</a> initialization parameter
                     </p>
                  </div>
                  <p>The connect strings in <a href="configuring-naming-methods.html#GUID-B0437826-43C1-49EC-A94D-B650B6A4A6EE__BABGIEAG">Example 8-1</a> connect the client to database service <code class="codeph">sales.us.example.com</code> with a listening endpoint of 1521 on database server <code class="codeph">sales-server</code>.
                  </p>
                  <div class="example" id="GUID-B0437826-43C1-49EC-A94D-B650B6A4A6EE__BABGIEAG">
                     <p class="titleinexample">Example 8-1 Easy Connect Strings</p><pre class="oac_no_warn" dir="ltr">CONNECT scott@sales-server:1521/sales.us.example.com
CONNECT scott@//sales-server/sales.us.example.com
CONNECT scott@//sales-server.us.example.com/sales.us.example.com
</pre></div>
                  <!-- class="example" -->
                  <p>After each of the connect strings in <a href="configuring-naming-methods.html#GUID-B0437826-43C1-49EC-A94D-B650B6A4A6EE__BABGIEAG">Example 8-1</a>, you must enter a password to connect to the database service.
                  </p>
                  <p>The connect strings in <a href="configuring-naming-methods.html#GUID-B0437826-43C1-49EC-A94D-B650B6A4A6EE__BABGIEAG">Example 8-1</a> convert into the following connect descriptor:
                  </p><pre class="oac_no_warn" dir="ltr">(DESCRIPTION= 
  (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
  (CONNECT_DATA=
    (SERVICE_NAME=sales.us.example.com)))</pre></div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-naming-methods.html#GUID-8C85D289-6AF3-41BC-848B-BF39D32648BA">About Easy Connect Plus</a><br>Starting with Oracle Database 19c release, the Easy Connect syntax that applications use to connect to Oracle Database has improved functionality. The new version is called Easy Connect Plus.
                     </li>
                     <li class="ulchildlink"><a href="configuring-naming-methods.html#GUID-36F3A17D-843C-490A-8A23-FB0FE005F8E8">Examples of Easy Connect Naming Method</a><br></li>
                     <li class="ulchildlink"><a href="configuring-naming-methods.html#GUID-1AB6D45E-89A7-4BA1-98D1-4EE437CAD143">Configuring Easy Connect Naming on the Client</a><br></li>
                     <li class="ulchildlink"><a href="configuring-naming-methods.html#GUID-966E77E9-7A50-4A24-88CD-91B3578EDEA8">Configuring Easy Connect Naming to Use a DNS Alias</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-naming-methods.html#GUID-E5358DEA-D619-4B7B-A799-3D2F802500F1">Configuring Naming Methods</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-8C85D289-6AF3-41BC-848B-BF39D32648BA" name="GUID-8C85D289-6AF3-41BC-848B-BF39D32648BA"></a><h4 id="NETAG-GUID-8C85D289-6AF3-41BC-848B-BF39D32648BA" class="sect4"><span class="enumeration_section">8.1.1 </span>About Easy Connect Plus
                  </h4>
                  <div>
                     <p>Starting with Oracle Database 19c release, the Easy Connect syntax that applications use to connect to Oracle Database has improved functionality. The new version is called Easy Connect Plus.</p>
                     <p>Easy Connect Plus simplifies Oracle Database application configuration and deployment for common use cases. With Easy Connect Plus, you no longer need to configure Oracle Net parameter files such as <code class="codeph">tnsnames.ora</code> and <code class="codeph">sqlnet.ora</code>. Easy Connect Plus also no longer requires you to set the <code class="codeph">TNS_ADMIN</code> environment variable.
                     </p>
                     <p>The new functionality simplifies client configuration, as the client connections to Oracle Database Cloud Services use TLS for network security. The new syntax is as follows:</p><pre class="pre codeblock"><code>[[protocol:]//]host1{,host12}[:port1]{,host2:port2}[/service_name][:server][/instance_name][?parameter_name=value{&amp;parameter_name=value}]</code></pre><p>The question mark (?) indicates the start of name-value pairs and the ampersand (&amp;) is the delimiter between the name-value pairs. </p>
                     <p><span class="bold">Support for specifying protocol:</span> Easy Connect adaptor supports specification of protocol as part of the connect string. This protocol is applicable to each host in the connect string. 
                     </p>
                     <p><span class="bold">Multihost or port support:</span> Easy Connect adaptor can now accept multiple hosts or ports in the connect string. This helps in load-balancing the client connections. 
                     </p>
                     <p><span class="bold">Name-Value pairs</span>: Easy Connect adaptor can now accept a list of name value pairs. Each name-value pair will be added as a <code class="codeph">DESCRIPTION</code> level parameter. The following names are supported:.
                     </p>
                     <ul id="GUID-8C85D289-6AF3-41BC-848B-BF39D32648BA__UL_BFY_2ZY_DHB" style="list-style-type:disc">
                        <li><code class="codeph">ENABLE</code></li>
                        <li><code class="codeph">FAILOVER</code></li>
                        <li><code class="codeph">LOAD_BALANCE</code></li>
                        <li><code class="codeph">RECV_BUF_SIZE</code></li>
                        <li><code class="codeph">SEND_BUF_SIZE</code></li>
                        <li><code class="codeph">SDU</code></li>
                        <li><code class="codeph">SOURCE_ROUTE</code></li>
                        <li><code class="codeph">RETRY_COUNT</code></li>
                        <li><code class="codeph">RETRY_DELAY</code></li>
                        <li><code class="codeph">CONNECT_TIMEOUT</code></li>
                        <li><code class="codeph">TRANSPORT_CONNECT_TIMEOUT</code></li>
                     </ul>
                     <p>For example, the following syntax to specify the Session Data Unit (SDU)</p>
                     <p><code class="codeph">salesserver1:1521/sales.us.example.com?sdu=16384</code></p>
                     <p>translates to the following connect descriptor:</p><pre class="pre codeblock"><code>(DESCRIPTION=
  (SDU=16384) 
  (ADDRESS=(PROTOCOL=tcp)(HOST=saleserver1)(PORT=1521))
  (CONNECT_DATA=(SERVICE_NAME=sales.us.example.com)))
</code></pre><p>Similarly, the following syntax to specify connect timeout, transport connect timeout, and retry count values </p>
                     <p><code class="codeph">salesserver1:1521/sales.us.example.com?connect_timeout=60&amp;transport_connect_timeout=30&amp;retry_count=3</code></p>
                     <p>translates to the following connect descriptor:</p><pre class="pre codeblock"><code>(DESCRIPTION=
   (retry_count=3)
   (connect_timeout=60)(transport_connect_timeout=30)
   (ADDRESS=(PROTOCOL=tcp)(HOST=salesserver1)(PORT=1521))
   (CONNECT_DATA=(SERVICE_NAME=sales.us.example.com)))
</code></pre><p><span class="bold">Security Attributes:</span> The following SECURITY attributes are supported for TLS:
                     </p>
                     <ul id="GUID-8C85D289-6AF3-41BC-848B-BF39D32648BA__UL_VWF_C5X_DHB" style="list-style-type:disc">
                        <li><code class="codeph">SSL_SERVER_DN_MATCH=<span class="codeinlineitalic">on/off</span></code></li>
                        <li><code class="codeph">SSL_SERVER_CERT_DN=<span class="codeinlineitalic">longDN</span></code></li>
                        <li><code class="codeph">WALLET_LOCATION=<span class="codeinlineitalic">Wallet location</span></code></li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-naming-methods.html#GUID-B0437826-43C1-49EC-A94D-B650B6A4A6EE">Understanding the Easy Connect Naming Method</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1517"></a><a id="NETAG1112"></a><div class="sect3"><a id="GUID-36F3A17D-843C-490A-8A23-FB0FE005F8E8" name="GUID-36F3A17D-843C-490A-8A23-FB0FE005F8E8"></a><h4 id="NETAG-GUID-36F3A17D-843C-490A-8A23-FB0FE005F8E8" class="sect4"><span class="enumeration_section">8.1.2 </span>Examples of Easy Connect Naming Method
                  </h4>
                  <div>
                     <p><a href="configuring-naming-methods.html#GUID-36F3A17D-843C-490A-8A23-FB0FE005F8E8__BABJBFHJ" title="Samples of Easy Connect Naming">Table 8-2</a> shows examples of <a id="d20638e682" class="indexterm-anchor"></a>Easy Connect naming syntax and how each string converts into a connect descriptor. 
                     </p>
                     <div class="tblformalwide" id="GUID-36F3A17D-843C-490A-8A23-FB0FE005F8E8__BABJBFHJ">
                        <p class="titleintable">Table 8-2 Examples of Easy Connect Naming</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Examples of Easy Connect Naming" width="100%" border="1" summary="Samples of Easy Connect Naming" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d20638e698">Naming Option</th>
                                 <th align="left" valign="bottom" width="37%" id="d20638e701">Connect String</th>
                                 <th align="left" valign="bottom" width="37%" id="d20638e704">Connect Descriptor</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d20638e709" headers="d20638e698 ">
                                    <p>Easy Connect string with host. </p>
                                    <p>The host name is <code class="codeph">sales-server</code>.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d20638e709 d20638e701 "><pre class="oac_no_warn" dir="ltr">sales-server</pre></td>
                                 <td align="left" valign="top" width="37%" headers="d20638e709 d20638e704 "><pre class="oac_no_warn" dir="ltr">(DESCRIPTION=
   (CONNECT_DATA=
       (SERVICE_NAME=))
   (ADDRESS=
       (PROTOCOL=TCP)
       (HOST=sales-server)
       (PORT=1521)))</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d20638e724" headers="d20638e698 ">
                                    <p>Easy Connect string with host and port. </p>
                                    <p>The host name is <code class="codeph">sales-server</code>, and the port is <code class="codeph">3456</code>.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d20638e724 d20638e701 "><pre class="oac_no_warn" dir="ltr">sales-server:3456</pre></td>
                                 <td align="left" valign="top" width="37%" headers="d20638e724 d20638e704 "><pre class="oac_no_warn" dir="ltr">(DESCRIPTION=
   (CONNECT_DATA=
       (SERVICE_NAME=))
   (ADDRESS=
       (PROTOCOL=TCP)
       (HOST=sales-server)
       (PORT=3456)))</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d20638e742" headers="d20638e698 ">
                                    <p>Easy Connect string with host and service name. </p>
                                    <p>The host name is <code class="codeph">sales-server</code> and the service name is <code class="codeph">sales</code>.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d20638e742 d20638e701 "><pre class="oac_no_warn" dir="ltr">sales-server/sales</pre></td>
                                 <td align="left" valign="top" width="37%" headers="d20638e742 d20638e704 "><pre class="oac_no_warn" dir="ltr">(DESCRIPTION=
  (CONNECT_DATA=
     (SERVICE_NAME=sales))
  (ADDRESS=
     (PROTOCOL=TCP)
     (HOST=sales-server)
     (PORT=1521)))</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d20638e760" headers="d20638e698 ">
                                    <p>Easy Connect string with IPv6 address. </p>
                                    <p>The IPv6 address of the host is <code class="codeph">2001:0db8:0:0::200C:417A</code>, the port is <code class="codeph">80</code>, and the service name is <code class="codeph">sales</code>. 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d20638e760 d20638e701 "><pre class="oac_no_warn" dir="ltr">[2001:0db8:0:0::200C:417A]:80/sales
</pre><p>Square brackets are required around IPv6 host names.</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d20638e760 d20638e704 "><pre class="oac_no_warn" dir="ltr">(DESCRIPTION=
  (CONNECT_DATA=
      (SERVICE_NAME=sales)
  (ADDRESS=
      (PROTOCOL=TCP)
      (HOST=2001:0db8:0:0::200C:417A)
      (PORT=80)))</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d20638e783" headers="d20638e698 ">
                                    <p>Easy Connect string with IPv6 host address. </p>
                                    <p>The host is <code class="codeph">sales-server</code>, the port is <code class="codeph">80</code>, and the service name is <code class="codeph">sales</code>. 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d20638e783 d20638e701 "><pre class="oac_no_warn" dir="ltr">sales-server:80/sales</pre></td>
                                 <td align="left" valign="top" width="37%" headers="d20638e783 d20638e704 "><pre class="oac_no_warn" dir="ltr">(DESCRIPTION=
  (CONNECT_DATA=
      (SERVICE_NAME=sales)
  (ADDRESS=
      (PROTOCOL=TCP)
      (HOST=sales-server)
      (PORT=80)))</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d20638e804" headers="d20638e698 ">
                                    <p>Easy Connect string with host, service name, and server. </p>
                                    <p>The host name is <code class="codeph">sales-server</code>, the service name is <code class="codeph">sales</code>, the server is <code class="codeph">dedicated</code>, and the instance name is <code class="codeph">inst1</code></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d20638e804 d20638e701 "><pre class="oac_no_warn" dir="ltr">sales-server/sales:dedicated/inst1</pre></td>
                                 <td align="left" valign="top" width="37%" headers="d20638e804 d20638e704 "><pre class="oac_no_warn" dir="ltr">(DESCRIPTION=
  (CONNECT_DATA=
      (SERVICE_NAME=sales)
      (INSTANCE_NAME=inst1)
      (SERVER=dedicated))
  (ADDRESS=
      (PROTOCOL=TCP)
      (HOST=sales-server)
      (PORT=1521)))</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d20638e827" headers="d20638e698 ">
                                    <p>Easy Connect with host and instance name. </p>
                                    <p>The host name is <code class="codeph">sales-server</code> and the instance name is <code class="codeph">inst1</code>.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d20638e827 d20638e701 "><pre class="oac_no_warn" dir="ltr">sales-server//inst1</pre></td>
                                 <td align="left" valign="top" width="37%" headers="d20638e827 d20638e704 "><pre class="oac_no_warn" dir="ltr">(DESCRIPTION=
   (CONNECT_DATA=
      (SERVICE_NAME=)
      (INSTANCE_NAME=inst1))
   (ADDRESS=
      (PROTOCOL=TCP)
      (HOST=sales-server)
      (PORT=1521)))</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d20638e845" headers="d20638e698 ">
                                    <div class="infoboxnote" id="GUID-36F3A17D-843C-490A-8A23-FB0FE005F8E8__GUID-5F560797-E04A-4748-ACF3-C8B4F174CC35">
                                       <p class="notep1">Note:</p>The Easy Connect Plus feature supports this naming option. 
                                    </div>
                                    <p>Easy Connect adaptor with a list of name value pairs.</p><code class="codeph">SDU</code>, <code class="codeph">RETRY_COUNT</code>, <code class="codeph">CONNECT_TIMEOUT</code><p>The host is <code class="codeph">salesserver</code>, the port is <code class="codeph">1521</code>, and the service name is <code class="codeph">sales</code>. 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d20638e845 d20638e701 "><code class="codeph">salesserver1:1521/sales?SDU=8128&amp;retry_count=3&amp;connect_timeout=10</code></td>
                                 <td align="left" valign="top" width="37%" headers="d20638e845 d20638e704 "><pre class="pre codeblock"><code>(DESCRIPTION=
(SDU=8128)(retry_count=3)(connect_timeout=10)
(ADDRESS=(PROTOCOL=tcp)(HOST=saleserver1)(PORT=1521)) (CONNECT_DATA=(SERVICE_NAME=sales)))</code></pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d20638e876" headers="d20638e698 ">
                                    <div class="infoboxnote" id="GUID-36F3A17D-843C-490A-8A23-FB0FE005F8E8__GUID-3E2966FB-87AE-4115-A9B8-20224434D578">
                                       <p class="notep1">Note:</p>The Easy Connect Plus feature supports this naming option. 
                                    </div>
                                    <p>Easy Connect adaptor with multiple hosts or ports in the connect string</p>
                                    <p>The host is <code class="codeph">salesserver</code>, the port is <code class="codeph">1521</code>, and the service name is <code class="codeph">sales</code>. 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d20638e876 d20638e701 "><code class="codeph">salesserver1:1521,salesserver2,salesserver3:1522/sales</code></td>
                                 <td align="left" valign="top" width="37%" headers="d20638e876 d20638e704 "><pre class="pre codeblock"><code>((DESCRIPTION=(LOAD_BALANCE=ON)
 (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server1)(PORT=1521))
 (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server2)(PORT=1522))
 (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server3)(PORT=1522)))
 (CONNECT_DATA=(SERVICE_NAME=sales)))</code></pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d20638e899" headers="d20638e698 ">
                                    <div class="infoboxnote" id="GUID-36F3A17D-843C-490A-8A23-FB0FE005F8E8__GUID-5861764A-1C7B-47AD-A94B-C1231780A6C1">
                                       <p class="notep1">Note:</p>The Easy Connect Plus feature supports this naming option. 
                                    </div>
                                    <p>Easy Connect adaptor with specification of protocol as part of the connect string.</p>
                                    <p>The host is <code class="codeph">salesserver</code>, the port is <code class="codeph">1521</code>, and the service name is <code class="codeph">sales</code>. 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d20638e899 d20638e701 "><code class="codeph">tcps://salesserver1:1521/sales</code></td>
                                 <td align="left" valign="top" width="37%" headers="d20638e899 d20638e704 "><pre class="pre codeblock"><code>(DESCRIPTION=
(ADDRESS=(PROTOCOL=tcps)(HOST=salesserver1)(PORT=1521))
(SECURITY=(SSL_SERVER_DN_MATCH=TRUE))
(CONNECT_DATA=(SERVICE_NAME=sales)))</code></pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d20638e922" headers="d20638e698 ">
                                    <div class="infoboxnote" id="GUID-36F3A17D-843C-490A-8A23-FB0FE005F8E8__GUID-FAD57CA6-A79B-402E-9CD3-4E5A4A78E78D">
                                       <p class="notep1">Note:</p>The Easy Connect Plus feature supports this naming option. 
                                    </div>
                                    <p>The following SECURITY attributes are supported for TLS</p>
                                    <p>The host is <code class="codeph">sales-server</code>, the port is <code class="codeph">1521</code>, and the service name is <code class="codeph">sales</code>. 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d20638e922 d20638e701 "><code class="codeph">tcps://salesserver:1521/sales:ssl_server_cert_dn="cn=sales,cn=OracleContext,dc=us,dc=example,dc=com&amp;wallet_location=”/tmp/oracle”</code></td>
                                 <td align="left" valign="top" width="37%" headers="d20638e922 d20638e704 "><code class="codeph">(DESCRIPTION= (ADDRESS=(PROTOCOL=tcps)(HOST=salesserver)(PORT=1521)) (CONNECT_DATA=(SERVICE_NAME=sales)) (SECURITY=(SSL_SERVER_DN_MATCH=TRUE)(SSL_SERVER_CERT_DN=cn=sales,cn=OracleContext,dc=us,dc=example,dc=com)(MY_WALLET_LOCATION=/tmp/oracle)))</code></td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-36F3A17D-843C-490A-8A23-FB0FE005F8E8__GUID-640F427A-0977-4D09-8084-92D04F3E997D">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">"<a href="understanding-communication-layers.html#GUID-CCA2C3B6-DDFD-4C64-9CBA-626019386424">About TCP/IP Protocol</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="configuring-and-administering-oracle-net-listener.html#GUID-B16FD816-5871-4AD7-86D1-55DDD8531322">Configuring Listening Protocol Addresses</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="configuring-oracle-connection-manager.html#GUID-92C75A33-CAC6-4778-87CC-EE0E81459A84">Using Oracle Connection Manager as a Bridge for IPv4 and IPv6</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-naming-methods.html#GUID-B0437826-43C1-49EC-A94D-B650B6A4A6EE">Understanding the Easy Connect Naming Method</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1125"></a><div class="sect3"><a id="GUID-1AB6D45E-89A7-4BA1-98D1-4EE437CAD143" name="GUID-1AB6D45E-89A7-4BA1-98D1-4EE437CAD143"></a><h4 id="NETAG-GUID-1AB6D45E-89A7-4BA1-98D1-4EE437CAD143" class="sect4"><span class="enumeration_section">8.1.3 </span>Configuring Easy Connect Naming on the Client
                  </h4>
                  <div>
                     <p><a id="d20638e1020" class="indexterm-anchor"></a>Clients can connect to Oracle Database using Easy Connect naming if the following conditions are met: 
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle Net Services software is installed on the client. </p>
                        </li>
                        <li>
                           <p>Oracle TCP/IP protocol is supported on both the client and database server.</p>
                        </li>
                        <li>
                           <p>No features require a more advanced connect descriptor.</p>
                        </li>
                     </ul>
                     <p>Easy Connect naming is not suitable for large or complex environments with advanced features, such as <a href="glossary.html#GUID-EFD64542-6B81-4634-A0E1-CE819AEF558E"><span class="xrefglossterm">external procedure</span></a> calls, or <a href="glossary.html#GUID-DA7016FB-3B8F-43D7-876B-BD8502DFADBE"><span class="xrefglossterm">Heterogeneous Services</span></a>, that require additional connect information. In these cases, another naming method is recommended.
                     </p>
                     <p>Easy Connect naming is automatically configured at installation. Before using it, you may want to ensure that <code class="codeph">EZCONNECT</code> is specified by the NAMES.DIRECTORY_PATH parameter in the <code class="codeph">sqlnet.ora</code> file. This parameter specifies the order of naming methods Oracle Net can use to resolve connect identifiers to connect descriptors.
                     </p>
                     <div class="infoboxnote" id="GUID-1AB6D45E-89A7-4BA1-98D1-4EE437CAD143__GUID-8D71C781-8F2B-4F4C-99AD-124197616920">
                        <p class="notep1">Note:</p>
                        <div class="p"> Starting with Oracle Database 19c Release 2 (19.2), for connections with protocol set to TCPS, <code class="codeph">SSL_SERVER_DN_MATCH</code> is set to <code class="codeph">ON</code> by default when using easy connect. If <code class="codeph">SSL_SERVER_CERT_DN</code> is not set, then a partial DN match done in the following order, should succeed for the client to establish a connection to the server.
                           <ol id="GUID-1AB6D45E-89A7-4BA1-98D1-4EE437CAD143__OL_ZZ3_TRP_SGB">
                              <li>The host name in the connect string is matched with the host name in the server certificate.</li>
                              <li> The service name in the connect string is matched with the service name in the server certificate.</li>
                           </ol>If <code class="codeph">SSL_SERVER_CERT_DN</code> is set, then a full DN match should succeed for the client to establish a connection to the server.
                        </div>
                     </div>
                     <p>The following procedure describes how to verify that the Easy Connect naming method is configured:</p>
                     <ol>
                        <li>
                           <p>Start Oracle Net Manager.</p>
                           <div class="infoboxnotealso" id="GUID-1AB6D45E-89A7-4BA1-98D1-4EE437CAD143__GUID-466D4C85-4B72-4568-87B4-6BDE28B71B1F">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-2294BF67-B05F-44A2-9584-6CF0855A0F56">Using Oracle Net Manager to Configure Oracle Net Services</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>In the navigator pane, expand <span class="bold">Local</span>, and then select <span class="bold">Profile</span>.
                           </p>
                        </li>
                        <li>
                           <p>From the list in the right pane, select <span class="bold">Naming</span>.
                           </p>
                        </li>
                        <li>
                           <p>Click the <span class="bold">Methods</span> tab.
                           </p>
                           <p>Verify that <code class="codeph">EZCONNECT</code> is listed in the Selected Methods list. If it is not, then proceed to Step <a href="configuring-naming-methods.html#GUID-1AB6D45E-89A7-4BA1-98D1-4EE437CAD143__I512034">5</a>. If it is listed, then proceed to Step <a href="configuring-naming-methods.html#GUID-1AB6D45E-89A7-4BA1-98D1-4EE437CAD143__BABGDGEE">7</a>.
                           </p>
                        </li>
                        <li id="GUID-1AB6D45E-89A7-4BA1-98D1-4EE437CAD143__I512034">
                           <p>From the Available Methods list, select <span class="bold">EZCONNECT</span>, and then click the right-arrow button.
                           </p>
                        </li>
                        <li>
                           <p>In the Selected Methods list, select <span class="bold">EZCONNECT</span>, and then use the <span class="bold">Promote</span> button to move the selection to the top of the list.
                           </p>
                        </li>
                        <li id="GUID-1AB6D45E-89A7-4BA1-98D1-4EE437CAD143__BABGDGEE">
                           <p>Select <span class="bold">Save Network Configuration</span> from the File menu.
                           </p>
                           <p>The <code class="codeph">sqlnet.ora</code> file updates the NAMES.DIRECTORY_PATH parameter, listing <code class="codeph">hostname</code> first:
                           </p><pre class="oac_no_warn" dir="ltr">NAMES.DIRECTORY_PATH=(ezconnect, tnsnames)</pre></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-naming-methods.html#GUID-B0437826-43C1-49EC-A94D-B650B6A4A6EE">Understanding the Easy Connect Naming Method</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1126"></a><div class="sect3"><a id="GUID-966E77E9-7A50-4A24-88CD-91B3578EDEA8" name="GUID-966E77E9-7A50-4A24-88CD-91B3578EDEA8"></a><h4 id="NETAG-GUID-966E77E9-7A50-4A24-88CD-91B3578EDEA8" class="sect4"><span class="enumeration_section">8.1.4 </span>Configuring Easy Connect Naming to Use a DNS Alias
                  </h4>
                  <div>
                     <p>You can optionally configure a DNS alias for the host name, as provided with the host naming method in Oracle Database 12<span class="italic">c</span>. With host naming, clients use a connect string that uses the following pattern:
                     </p><pre class="oac_no_warn" dir="ltr">CONNECT <span class="italic"><code class="codeph">username@DNS_alias</code></span>
Enter password: <span class="italic"><code class="codeph">password</code></span>
</pre><p>The following procedure describes how to configure a DNS alias:</p>
                     <ol>
                        <li>
                           <p>Ensure the database service is registered with the listener.</p>
                           <p>If the database can find the listener, then information about the database service is dynamically registered with the listener during <a href="glossary.html#GUID-75F03661-30B9-4554-9E0E-C1B7088DEB3E"><span class="xrefglossterm">service registration</span></a>, including the service name. The listener is found if the following conditions are met:
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>The default listener named <code class="codeph">LISTENER</code> on TCP/IP, port 1521 is running.
                                 </p>
                              </li>
                              <li>
                                 <p>The LOCAL_LISTENER parameter is set in the initialization file.</p>
                              </li>
                           </ul>
                           <p>If the database cannot find the listener, then refer to <span class="q">"<a href="enabling-advanced-features.html#GUID-E850457F-60EC-4BCB-B4EC-53A97E0A3919">Configuring Static Registration for the Listener</a>"</span> for information about static registration.
                           </p>
                        </li>
                        <li>
                           <p>Establish a host name resolution environment.</p>
                           <p>You can configure a mechanism such as DNS, NIS, or a centrally-maintained TCP/IP host file, <code class="codeph">/etc/hosts</code>. For example, if a service name of <code class="codeph">sales.us.example.com</code> for a database exists on a computer named <code class="codeph">sales-server</code>, then the entry in the <code class="codeph">/etc/hosts</code> file would look like the following:
                           </p><pre class="oac_no_warn" dir="ltr">#IP address of server     host name       alias
192.0.2.35              sales-server    sales.us.example.com
</pre><p>The domain section of the service name must match the network domain.</p>
                        </li>
                        <li>
                           <p>Connect to the database using the DNS alias.</p>
                           <p>Using the example in the previous step, the client can use <code class="codeph">sales.example.com</code> in the connect string:
                           </p><pre class="oac_no_warn" dir="ltr">CONNECT <span class="italic"><code class="codeph">username</code></span>@sales.us.example.com
Enter password: <span class="italic"><code class="codeph">password</code></span>
</pre><p>If the client and server are in the same domain such as <code class="codeph">us.example.com</code>, then the client must enter only <code class="codeph">sales</code> in the connect string.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-naming-methods.html#GUID-B0437826-43C1-49EC-A94D-B650B6A4A6EE">Understanding the Easy Connect Naming Method</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="NETAG1127"></a><a id="NETAG1128"></a><a id="NETAG081"></a><div class="sect2"><a id="GUID-D62B85C0-D3C1-4C5C-A9DF-C12DFB21C533" name="GUID-D62B85C0-D3C1-4C5C-A9DF-C12DFB21C533"></a><h3 id="NETAG-GUID-D62B85C0-D3C1-4C5C-A9DF-C12DFB21C533" class="sect3"><span class="enumeration_section">8.2 </span>Configuring the Local Naming Method
               </h3>
               <div>
                  <p>The local naming method adds network service names to the <code class="codeph">tnsnames.ora</code> file. Each network service name maps to a connect descriptor. 
                  </p>
                  <p><a href="configuring-naming-methods.html#GUID-D62B85C0-D3C1-4C5C-A9DF-C12DFB21C533__BABIDHJB">Example 8-2</a> shows the network service name <code class="codeph">sales</code> mapped to the connect descriptor contained in DESCRIPTION. The DESCRIPTION section contains the protocol address and identifies the destination database service. In this example, the protocol is TCP/IP and the port is 1521.
                  </p>
                  <div class="example" id="GUID-D62B85C0-D3C1-4C5C-A9DF-C12DFB21C533__BABIDHJB">
                     <p class="titleinexample">Example 8-2 Connector Descriptor with Host Name</p><pre class="oac_no_warn" dir="ltr">sales=
(DESCRIPTION= 
  (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
  (CONNECT_DATA= 
     (SERVICE_NAME=sales.us.example.com)))
</pre></div>
                  <!-- class="example" -->
                  <p><a href="configuring-naming-methods.html#GUID-D62B85C0-D3C1-4C5C-A9DF-C12DFB21C533__CACGFHGI">Example 8-3</a> shows a valid <code class="codeph">tnsnames.ora</code> entry to connect to a host identified with an IPv6 address and a port number of 1522.
                  </p>
                  <div class="example" id="GUID-D62B85C0-D3C1-4C5C-A9DF-C12DFB21C533__CACGFHGI">
                     <p class="titleinexample">Example 8-3 Connect Descriptor with IPv6 Address</p><pre class="oac_no_warn" dir="ltr">salesdb =
  ( DESCRIPTION =
    ( ADDRESS=(PROTOCOL=tcp)(HOST=2001:0db8:1:1::200C:417A)(PORT=1522) )
    ( CONNECT_DATA = 
        (SERVICES_NAME=sales.example.com) )
  )
</pre></div>
                  <!-- class="example" -->
                  <p>You can configure local naming during or after installation, as described in the following sections:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-naming-methods.html#GUID-364FB384-5B7A-42D1-A764-70A1EF0DC782">Configuring the tnsnames.ora File During Installation</a><br></li>
                     <li class="ulchildlink"><a href="configuring-naming-methods.html#GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348">Configuring the tnsnames.ora File After Installation</a><br></li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D62B85C0-D3C1-4C5C-A9DF-C12DFB21C533__GUID-D9AB01C5-6AA9-4901-A23F-06E1A01C8AB3">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="understanding-communication-layers.html#GUID-1CB73B7A-35C3-48BF-834D-88D0DFFED3CC">IPv6 Network Connectivity</a>"</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-naming-methods.html#GUID-E5358DEA-D619-4B7B-A799-3D2F802500F1">Configuring Naming Methods</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG256"></a><div class="sect3"><a id="GUID-364FB384-5B7A-42D1-A764-70A1EF0DC782" name="GUID-364FB384-5B7A-42D1-A764-70A1EF0DC782"></a><h4 id="NETAG-GUID-364FB384-5B7A-42D1-A764-70A1EF0DC782" class="sect4"><span class="enumeration_section">8.2.1 </span>Configuring the tnsnames.ora File During Installation
                  </h4>
                  <div>
                     <p><a id="d20638e1468" class="indexterm-anchor"></a><a id="d20638e1472" class="indexterm-anchor"></a><a href="glossary.html#GUID-71143B56-C532-4FE9-9ABE-3D411F602B80"><span class="xrefglossterm">Oracle Net Configuration Assistant</span></a> enables you to configure network service names for clients. Oracle Universal Installer launches Oracle Net Configuration Assistant after software installation. The configuration varies depending on the installation mode.
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Administrator or runtime installation: Oracle Net Configuration Assistant prompts you to configure network service names in the <code class="codeph">tnsnames.ora</code> file to connect to an Oracle Database service.
                           </p>
                        </li>
                        <li>
                           <p>Custom installation: Oracle Net Configuration Assistant prompts you to select naming methods to use. If local is selected, then Oracle Net Configuration Assistant prompts you to configure network service names in the <code class="codeph">tnsnames.ora</code> file to connect to an Oracle Database service.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-naming-methods.html#GUID-D62B85C0-D3C1-4C5C-A9DF-C12DFB21C533">Configuring the Local Naming Method</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1537"></a><a id="NETAG1538"></a><a id="NETAG1539"></a><a id="NETAG1540"></a><a id="NETAG1541"></a><a id="NETAG259"></a><div class="sect3"><a id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348" name="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348"></a><h4 id="NETAG-GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348" class="sect4"><span class="enumeration_section">8.2.2 </span>Configuring the tnsnames.ora File After Installation
                  </h4>
                  <div>
                     <p>You can add network service names to the <code class="codeph">tnsnames.ora</code> file at any time after installation. To configure the local naming method, perform the following tasks:
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="configuring-naming-methods.html#GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABJBJBE">Task 1, "Configure Net Services Names"</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-naming-methods.html#GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABDHBDA">Task 2, "Configure Local Naming as the First Naming Method"</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-naming-methods.html#GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABHCABE">Task 3, "Copy the Configuration to the Other Clients"</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-naming-methods.html#GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABIAJCC">Task 4, "Configure the Listener"</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-naming-methods.html#GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABEDIFI">Task 5, "Connect to the Database"</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__GUID-BD00C128-BD83-47F5-B5D5-D7B92C65F0A6">
                        <p class="notep1">Note:</p>
                        <p>The underlying network connection must be operational before attempting to configure connectivity with Oracle Net.</p>
                     </div>
                     <dl>
                        <dt class="dlterm"><a name="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABJBJBE">
                              <!-- --></a>Task 1   Configure Net Services Names
                        </dt>
                        <dd>
                           <p><a id="d20638e1643" class="indexterm-anchor"></a><a id="d20638e1649" class="indexterm-anchor"></a><a id="d20638e1653" class="indexterm-anchor"></a><a id="d20638e1657" class="indexterm-anchor"></a><a id="d20638e1661" class="indexterm-anchor"></a>To configure the network services names, use one of the following methods:
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="configuring-naming-methods.html#GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABJDBCI">Net Services Names Configuration using Oracle Enterprise Manager Cloud Control</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-naming-methods.html#GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABEFIAI">Net Services Names Configuration using Oracle Net Manager</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-naming-methods.html#GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABHFGFH">Net Services Names Configuration using Oracle Net Configuration Assistant</a></p>
                              </li>
                           </ul>
                           <p>Each method provides similar functionality. However, Oracle Net Manager has more configuration options for the <code class="codeph">sqlnet.ora</code> file.
                           </p>
                           <ul style="list-style-type:disc">
                              <li id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABJDBCI">
                                 <p><span class="bold">Net Services Names Configuration using Oracle Enterprise Manager Cloud Control</span></p>
                                 <p><a id="d20638e1693" class="indexterm-anchor"></a><a id="d20638e1699" class="indexterm-anchor"></a><a id="d20638e1703" class="indexterm-anchor"></a>The following procedure describes how to configure network service names in the <code class="codeph">tnsnames.ora</code> file with Oracle Enterprise Manager Cloud Control:
                                 </p>
                                 <ol>
                                    <li>
                                       <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                                       <div class="infoboxnotealso" id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__GUID-E81303FF-E1B2-413A-96FF-A13D05B9F9ED">
                                          <p class="notep1">See Also:</p>
                                          <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-1F145906-24CC-4A63-86FD-31776C022209">Accessing the Net Services Administration Page</a>"</span></p>
                                       </div>
                                    </li>
                                    <li>
                                       <p>Select<span class="bold"> Local Naming</span> from the Administer list, and then select the Oracle home that contains the location of the configuration files.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The Local Naming page appears. You may be prompted to log in to the database server.</p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Create Like</span>.
                                       </p>
                                       <p>The Create Net Service Name page appears.</p>
                                    </li>
                                    <li>
                                       <p>Enter a name in the Net Service Name field.</p>
                                       <p>You can qualify the network service name with the client's domain. The network service name is automatically domain qualified if the s<code class="codeph">qlnet.ora</code> file parameter NAMES.DEFAULT_DOMAIN is set.
                                       </p>
                                       <div class="infoboxnotealso" id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__GUID-8FEE9ABF-4FD5-4467-857A-F232C1EAD203">
                                          <p class="notep1">See Also:</p>
                                          <p><span class="q">"<a href="configuring-profiles.html#GUID-F25D5AEF-FAF3-4D43-AC6F-7A552B09F54E">About the Default Domain for Clients</a>"</span></p>
                                       </div>
                                    </li>
                                    <li>
                                       <p>In the Database Information section, configure service support as follows:</p>
                                       <ol type="a">
                                          <li>
                                             <p>Enter a destination service name.</p>
                                             <div class="infoboxnotealso" id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__GUID-8F8DD6C0-7D51-43E5-8DB8-A327833D16F6">
                                                <p class="notep1">See Also:</p>
                                                <p><span class="q">"<a href="identifying-and-accessing-database.html#GUID-8D28E91B-CB72-4DC8-AEFC-F5D583626CF6">About Connect Descriptors</a>"</span> for additional information about the service name string to use
                                                </p>
                                             </div>
                                          </li>
                                          <li>
                                             <p>Select a database connection type.</p>
                                             <p>The default setting of Database Default is recommended for the connection type. If <a href="glossary.html#GUID-111D574E-F53B-45C4-9F52-FB63F969DA4F"><span class="xrefglossterm">dedicated server</span></a> is configured in the initialization parameter file, then you can select Dedicated Server to force the listener to spawn a dedicated server, bypassing shared server configuration. If shared server is configured in the initialization parameter file and you want to guarantee the connection always uses shared server, then select Shared Server.
                                             </p>
                                             <div class="infoboxnotealso" id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__GUID-CC16BF44-1B02-4BDD-82F4-AD902768AF97">
                                                <p class="notep1">See Also:</p>
                                                <p><span class="q">"<a href="configuring-shared-server-architecture.html#GUID-CAF99423-AFB9-4141-A36B-5EAF6B2CA7C0">Configuring a Shared Server Architecture </a>"</span> for additional information about shared server configuration
                                                </p>
                                             </div>
                                          </li>
                                       </ol>
                                    </li>
                                    <li>
                                       <p>In the Addresses section, configure protocol support, as follows:</p>
                                       <ol type="a">
                                          <li>
                                             <p>Click <span class="bold">Add</span>.
                                             </p>
                                             <p>The Add Address page appears.</p>
                                          </li>
                                          <li>
                                             <p>From the Protocol list, select the protocol on which the listener is configured to listen. This protocol must also be installed on the client.</p>
                                          </li>
                                          <li>
                                             <p>Enter the appropriate parameter information for the selected protocol in the fields provided.</p>
                                             <div class="infoboxnotealso" id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__GUID-65217932-A4A1-4442-9B95-333C73BF8A2E">
                                                <p class="notep1">See Also:</p>
                                                <p> <a href="../netrf/protocol-address-configuration.html#NETRF-GUID-F3016CD3-9168-4BCF-BF25-774FA2682C15" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a> for additional information about protocol parameter settings
                                                </p>
                                             </div>
                                          </li>
                                          <li>
                                             <p>(Optional) In the Advanced Parameters section, specify the I/O buffer space limit for send and receive operations of sessions in the Total Send Buffer Size and Total Receive Buffer Size fields.</p>
                                             <div class="infoboxnotealso" id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__GUID-95B88CF1-9594-4B9D-8BAC-467845D8E567">
                                                <p class="notep1">See Also:</p>
                                                <p><span class="q">"<a href="optimizing-performance.html#GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29">Configuring I/O Buffer Space </a>"</span> for additional information about buffer space
                                                </p>
                                             </div>
                                          </li>
                                          <li>
                                             <p>Click <span class="bold">OK</span>.
                                             </p>
                                             <p>The protocol address is added to the Addresses section.</p>
                                          </li>
                                       </ol>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">OK</span> to add the network service name.
                                       </p>
                                       <p>The network service name is added to the Local Naming page.</p>
                                    </li>
                                    <li>
                                       <p>Select connect-time failover and client load balancing option for the addresses. </p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">OK</span>.
                                       </p>
                                    </li>
                                 </ol>
                                 <div class="infoboxnotealso" id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__GUID-F3D93085-BEB7-415C-A62A-DF0AFBEB2CCB">
                                    <p class="notep1">See Also:</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><span class="q">"<a href="enabling-advanced-features.html#GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5">Creating a List of Listener Protocol Addresses</a>"</span> to configure multiple protocol addresses
                                          </p>
                                       </li>
                                       <li>
                                          <p><span class="q">"<a href="enabling-advanced-features.html#GUID-FEF9B98D-65D1-4F49-8355-112351670BB7">About the Advanced Connect Data Parameters</a>"</span> to configure additional CONNECT_DATA options
                                          </p>
                                       </li>
                                    </ul>
                                 </div>
                              </li>
                              <li id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABEFIAI">
                                 <p><span class="bold">Net Services Names Configuration using Oracle Net Manager</span></p>
                                 <p>The following procedure describes how to configure network service names in the <code class="codeph">tnsnames.ora</code> file with Oracle Net Manager:<a id="d20638e1868" class="indexterm-anchor"></a><a id="d20638e1874" class="indexterm-anchor"></a><a id="d20638e1878" class="indexterm-anchor"></a></p>
                                 <ol>
                                    <li>
                                       <p>Start Oracle Net Manager.</p>
                                       <div class="infoboxnotealso" id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__GUID-B9818F42-A5A7-4249-A695-9F5AF299D77E">
                                          <p class="notep1">See Also:</p>
                                          <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-2294BF67-B05F-44A2-9584-6CF0855A0F56">Using Oracle Net Manager to Configure Oracle Net Services</a>"</span></p>
                                       </div>
                                    </li>
                                    <li>
                                       <p>In the navigator pane, select <span class="bold">Service Naming</span> from Local.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Click the plus sign (+) from the toolbar, or select <span class="bold">Create</span> from the Edit menu.
                                       </p>
                                       <p>The <a id="d20638e1906" class="indexterm-anchor"></a><a id="d20638e1908" class="indexterm-anchor"></a>Welcome page of the Net Service Name wizard appears.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Enter a name in the Net Service Name field.</p>
                                       <p>You can qualify the network service name with the client's domain. The network service name is automatically domain qualified if the s<code class="codeph">qlnet.ora</code> file parameter NAMES.DEFAULT_DOMAIN is set.
                                       </p>
                                       <div class="infoboxnotealso" id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__GUID-48E95D52-FED4-4FF9-844C-2C864333B5C2">
                                          <p class="notep1">See Also:</p>
                                          <p><span class="q">"<a href="configuring-profiles.html#GUID-F25D5AEF-FAF3-4D43-AC6F-7A552B09F54E">About the Default Domain for Clients</a>"</span></p>
                                       </div>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Next</span>. 
                                       </p>
                                       <p>The Protocol page appears. </p>
                                    </li>
                                    <li>
                                       <p>Select the protocol on which the listener is configured to listen. The protocol must also be installed on the client.</p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Next</span>. 
                                       </p>
                                       <p>The Protocol Settings page appears.</p>
                                    </li>
                                    <li>
                                       <p>Enter the appropriate parameter information for the selected protocol in the fields provided.</p>
                                       <div class="infoboxnotealso" id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__GUID-983C41CD-B7CD-4F7E-BAAC-A565B73AEFFA">
                                          <p class="notep1">See Also:</p>
                                          <p> <a href="../netrf/protocol-address-configuration.html#NETRF-GUID-F3016CD3-9168-4BCF-BF25-774FA2682C15" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a> for additional information about protocol parameter settings
                                          </p>
                                       </div>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Next</span>. 
                                       </p>
                                       <p>The Service page appears.</p>
                                    </li>
                                    <li>
                                       <p>Enter a destination service name, and optionally, select a database connection type.</p>
                                       <p>Oracle recommends that you use the default setting of Database Default for the connection type. If dedicated server is configured in the initialization parameter file, then you can select Dedicated Server to force the listener to spawn a dedicated server, bypassing shared server configuration. If shared server is configured in the initialization parameter file and you want to guarantee the connection always uses shared server, then select Shared Server.</p>
                                       <div class="infoboxnotealso" id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__GUID-701826CF-DDAC-46A4-99A1-186C07FF091E">
                                          <p class="notep1">See Also:</p>
                                          <ul style="list-style-type:disc">
                                             <li>
                                                <p><a href="configuring-shared-server-architecture.html#GUID-CAF99423-AFB9-4141-A36B-5EAF6B2CA7C0">Configuring a Shared Server Architecture </a> for additional information about shared server configuration
                                                </p>
                                             </li>
                                             <li>
                                                <p><span class="q">"<a href="identifying-and-accessing-database.html#GUID-8D28E91B-CB72-4DC8-AEFC-F5D583626CF6">About Connect Descriptors</a>"</span> for additional information about the service name string to use
                                                </p>
                                             </li>
                                          </ul>
                                       </div>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Next</span>. 
                                       </p>
                                       <p>The Test page appears.</p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Test</span> to verify that the network service name works, or click <span class="bold">Finish</span> to dismiss the Net Service Name wizard.
                                       </p>
                                       <p>If you click Test, then Oracle Net connects to the database server by using the connect descriptor information you configured. Therefore, the listener and database must be running for a successful test. If they are not, then see <span class="q">"<a href="quick-start-oracle-net-services.html#GUID-CE3F16F8-E4AD-45C2-B439-123DC49AB1D3">Starting Oracle Net Listener and the Oracle Database Server</a>"</span> to start components before testing. During testing, a Connection Test dialog box appears, providing status and test results. A successful test results in the following message:
                                       </p><pre class="oac_no_warn" dir="ltr">The connection test was successful.
</pre><p>If the test was successful, then click <span class="bold">Close</span> to close the Connect Test dialog box, and proceed to Step 13.
                                       </p>
                                       <p>If the test was not successful, then do the following:</p>
                                       <ol type="a">
                                          <li>
                                             <p>Ensure that the database and listener are running, and then click <span class="bold">Test</span>.
                                             </p>
                                          </li>
                                          <li>
                                             <p>Click <span class="bold">Change Login</span> to change the user name and password for the connection, and then click <span class="bold">Test</span>.
                                             </p>
                                          </li>
                                       </ol>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Finish</span> to close the Net Service Name wizard.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Select <span class="bold">Save Network Configuration</span> from the File menu.
                                       </p>
                                       <div class="infoboxnotealso" id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__GUID-84A0C58F-A763-4C0D-80E1-C0E5C877A789">
                                          <p class="notep1">See Also:</p>
                                          <ul style="list-style-type:disc">
                                             <li>
                                                <p><span class="q">"<a href="enabling-advanced-features.html#GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5">Creating a List of Listener Protocol Addresses</a>"</span> to configure multiple protocol addresses
                                                </p>
                                             </li>
                                             <li>
                                                <p><span class="q">"<a href="enabling-advanced-features.html#GUID-FEF9B98D-65D1-4F49-8355-112351670BB7">About the Advanced Connect Data Parameters</a>"</span> to configure additional CONNECT_DATA options
                                                </p>
                                             </li>
                                          </ul>
                                       </div>
                                    </li>
                                 </ol>
                              </li>
                              <li id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABHFGFH">
                                 <p><span class="bold">Net Services Names Configuration using Oracle Net Configuration Assistant</span></p>
                                 <p>The following procedure describes how to configure network service names in the <code class="codeph">tnsnames.ora</code> file with Oracle Net Configuration Assistant:<a id="d20638e2072" class="indexterm-anchor"></a><a id="d20638e2076" class="indexterm-anchor"></a></p>
                                 <ol>
                                    <li>
                                       <p>Start Oracle Net Configuration Assistant.</p>
                                       <div class="infoboxnotealso" id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__GUID-28ECB6DD-FAC0-4CB0-A0A6-F14723C9FB06">
                                          <p class="notep1">See Also:</p>
                                          <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-D8861C13-A525-4A57-97FD-BD8F2DC5A662">Using Oracle Net Configuration Assistant to Configure Network Components</a>"</span></p>
                                       </div>
                                       <p>The Welcome page appears.</p>
                                    </li>
                                    <li>
                                       <p>Select <span class="bold">Local Net Service Name Configuration</span>, and then click <span class="bold">Next</span>.
                                       </p>
                                       <p>The Net Service Name Configuration page appears.</p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Add</span>, and then click <span class="bold">Next</span>.
                                       </p>
                                       <p>The Service Name Configuration page appears.</p>
                                    </li>
                                    <li>
                                       <p>Enter a service name in the Service Name field.</p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">Next</span>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Follow the prompts in the wizard and online help to complete network service name creation.</p>
                                    </li>
                                 </ol>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABDHBDA">
                              <!-- --></a>Task 2   Configure Local Naming as the First Naming Method
                        </dt>
                        <dd>
                           <p>Configure local naming as the first method specified in the NAMES.DIRECTORY_PATH parameter in the <code class="codeph">sqlnet.ora</code> file. This parameter specifies the order of naming methods Oracle Net uses to resolve connect identifiers to connect descriptors. 
                           </p>
                           <p>To configure the local naming method as the first naming method, use one of the following methods:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="configuring-naming-methods.html#GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABBGIDD">Local Naming Configuration using Oracle Enterprise Manager Cloud Control</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-naming-methods.html#GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABHEEIE">Local Naming Configuration using Oracle Net Manager</a></p>
                              </li>
                           </ul>
                           <p>Each method provides the same functionality.</p>
                           <p id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABBGIDD"><span class="bold">Local Naming Configuration using Oracle Enterprise Manager Cloud Control</span></p>
                           <p>The following procedure describes how to specify local naming as the first naming method using Oracle Enterprise Manager Cloud Control:</p>
                           <ol>
                              <li>
                                 <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                                 <div class="infoboxnotealso" id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__GUID-F726D1A3-4F3B-4771-9CA7-44C1360247A1">
                                    <p class="notep1">See Also:</p>
                                    <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-1F145906-24CC-4A63-86FD-31776C022209">Accessing the Net Services Administration Page</a>"</span></p>
                                 </div>
                              </li>
                              <li>
                                 <p>Select<span class="bold"> Network Profile</span> from the Administer list.
                                 </p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Go</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Select <span class="bold">Naming Methods</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Select <span class="bold">TNSNAMES</span> from the Available Methods list.
                                 </p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Move</span> to move the selection to the Selected Methods list.
                                 </p>
                              </li>
                              <li>
                                 <p>Use the <span class="bold">Promote</span> button to move TNSNAMES to the top of the list.
                                 </p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">OK</span>. 
                                 </p>
                              </li>
                           </ol>
                           <p id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABHEEIE"><span class="bold">Local Naming Configuration using Oracle Net Manager</span></p>
                           <p>The following procedure describes how to specify local naming as the first naming method using Oracle Net Manager:</p>
                           <ol>
                              <li>
                                 <p>Start Oracle Net Manager.</p>
                                 <div class="infoboxnotealso" id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__GUID-6544DE83-E2C3-4838-97F7-78CED6BF92C2">
                                    <p class="notep1">See Also:</p>
                                    <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-2294BF67-B05F-44A2-9584-6CF0855A0F56">Using Oracle Net Manager to Configure Oracle Net Services</a>"</span></p>
                                 </div>
                              </li>
                              <li>
                                 <p>In the navigator pane, select <span class="bold">Profile</span> from the Local menu.
                                 </p>
                              </li>
                              <li>
                                 <p>From the list in the right pane, select <span class="bold">Naming</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Click the <span class="bold">Methods</span> tab.
                                 </p>
                              </li>
                              <li>
                                 <p>From the Available Methods list, select <span class="bold">TNSNAMES</span>, and then click the right-arrow button.
                                 </p>
                              </li>
                              <li>
                                 <p>From the Selected Methods list, select <span class="bold">TNSNAMES</span>, and then use the <span class="bold">Promote</span> button to move the selection to the top of the list.
                                 </p>
                              </li>
                              <li>
                                 <p>Choose <span class="bold">Save Network Configuration</span> from the File menu.
                                 </p>
                                 <p>The <code class="codeph">sqlnet.ora</code> file updates with the NAMES.DIRECTORY_PATH parameter, listing <code class="codeph">tnsnames</code> first:
                                 </p><pre class="oac_no_warn" dir="ltr">NAMES.DIRECTORY_PATH=(tnsnames, EZCONNECT)</pre></li>
                           </ol>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABHCABE">
                              <!-- --></a>Task 3   Copy the Configuration to the Other Clients
                        </dt>
                        <dd>
                           <p>After one client is configured, it is best to simply copy the <code class="codeph">tnsnames.ora</code> and <code class="codeph">sqlnet.ora</code> configuration files to the same location on the other clients. This ensures that the files are consistent. Alternatively, you can use Oracle Net Assistant on every client.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABIAJCC">
                              <!-- --></a>Task 4   Configure the Listener
                        </dt>
                        <dd>
                           <p>Ensure that the listener located on the server is configured to listen on the same protocol address configured for the network service name. By default, the listener is configured for the TCP/IP protocol on port 1521.</p>
                           <div class="infoboxnotealso" id="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__GUID-0EEA7BA1-387A-48D1-AFF1-57E814AAE247">
                              <p class="notep1">See Also:</p>
                              <p><a href="configuring-and-administering-oracle-net-listener.html#GUID-C3C40DBA-4282-41E1-9562-4B8B10947C4E">Configuring and Administering Oracle Net Listener</a> for listener configuration details
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6CEC8686-78EB-4D0B-BD0E-D50A5AC89348__BABEDIFI">
                              <!-- --></a>Task 5   Connect to the Database
                        </dt>
                        <dd>
                           <p>Clients can connect to the database using the following syntax:</p><pre class="oac_no_warn" dir="ltr">CONNECT <span class="italic"><code class="codeph">username</code></span>@<span class="italic"><code class="codeph">net_service_name</code></span>
</pre></dd>
                     </dl>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-naming-methods.html#GUID-D62B85C0-D3C1-4C5C-A9DF-C12DFB21C533">Configuring the Local Naming Method</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="NETAG1542"></a><a id="NETAG1543"></a><a id="NETAG1544"></a><a id="NETAG1545"></a><a id="NETAG1546"></a><a id="NETAG1547"></a><a id="NETAG1548"></a><a id="NETAG265"></a><div class="sect2"><a id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC" name="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC"></a><h3 id="NETAG-GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC" class="sect3"><span class="enumeration_section">8.3 </span>Configuring the Directory Naming Method
               </h3>
               <div>
                  <p>With the directory naming method, connect identifiers are mapped to connect descriptors contained in an LDAP-compliant directory server, such as Oracle Internet Directory and Microsoft Active Directory. A directory provides central administration of database services and network service names, making it easier to add or relocate services. </p>
                  <p>A database service entry is created during installation. Oracle Enterprise Manager Cloud Control and Oracle Net Manager are used to create and modify network service names and <a href="glossary.html#GUID-405878E5-3078-4AD2-AFF5-FD7C88CFAFD9"><span class="xrefglossterm">network service alias</span></a> entries, and to modify the database service entry. Clients can use these entries to connect to the database. 
                  </p>
                  <p>To configure the directory naming method, perform the following tasks:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="configuring-naming-methods.html#GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABDHGIF">Task 1, "Verify Directory Compatibility"</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-naming-methods.html#GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABGIEFF">Task 2, "Create Net Service Names in the Directory"</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-naming-methods.html#GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABJCGCA">Task 3, "Modify Connectivity Information for Database Service Entries"</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-naming-methods.html#GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABDCJFD">Task 4, "Create Net Services Aliases"</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-naming-methods.html#GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABDHHCG">Task 5, "Configure LDAP as the First Naming Method for Client Lookups"</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-naming-methods.html#GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABCJGHJ">Task 6, "Configure the Listener"</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-naming-methods.html#GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABIGHHI">Task 7, "Connect to the Database"</a></p>
                     </li>
                  </ul>
                  <dl>
                     <dt class="dlterm"><a name="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABDHGIF">
                           <!-- --></a>Task 1   Verify Directory Compatibility
                     </dt>
                     <dd>
                        <p>On the computer from which you plan to create network service names, do the following verification steps:</p>
                        <ol>
                           <li>
                              <p>Ensure the computer has the latest release of Oracle Net Services software. The release information is located in the About Net Manager option on the help menu.</p>
                           </li>
                           <li>
                              <p>Run Oracle Internet Directory Configuration Assistant to verify directory server, Oracle Context, and Oracle schema releases.</p>
                              <div class="infoboxnotealso" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-5ED04C65-D440-496B-B8FC-FDE6D268009C">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/netag&amp;id=OIDAG2117" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Internet Directory</span></a> for additional information about configuring directory server usage 
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </dd>
                     <dt class="dlterm"><a name="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABGIEFF">
                           <!-- --></a>Task 2   Create Net Service Names in the Directory
                     </dt>
                     <dd>
                        <p>You can configure clients to use a network service name rather than the database service entry. The following procedure describes how to create network service names:</p>
                        <div class="infoboxnote" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-BF3EA254-D6E8-49C1-BD37-20F4BCA63A2D">
                           <p class="notep1">Note:</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Only users that are members of either the <a id="d20638e2512" class="indexterm-anchor"></a><a id="d20638e2514" class="indexterm-anchor"></a><code class="codeph">OracleNetAdmins</code> or <code class="codeph">OracleContextAdmins</code> group can create network service name entries in a directory. To add or remove users from the <code class="codeph">OracleNetAdmins</code> group, see <span class="q">"<a href="managing-network-address-information.html#GUID-D504D75D-7E4C-4C3A-B1DD-4EED0DCAADD4">Who Can Add or Modify Entries in the Directory Server</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>You can export existing network service names from a <code class="codeph">tnsnames.ora</code> file. See <span class="q">"<a href="configuring-naming-methods.html#GUID-329108B5-5B52-4398-823A-6F7D77721F71">Exporting Local Naming Entries to a Directory Naming Server</a>"</span>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <ol>
                           <li>
                              <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                              <div class="infoboxnotealso" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-C6D5DBC4-0EAC-495E-BA0C-0335FE8C60FE">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-1F145906-24CC-4A63-86FD-31776C022209">Accessing the Net Services Administration Page</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>Select<span class="bold"> Directory Naming</span> from the Administer list, and then select the Oracle home that contains the location of the directory server.
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Go</span>. 
                              </p>
                              <p>The Directory Naming page appears.</p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">Net Service Names</span> tab.
                              </p>
                           </li>
                           <li>
                              <p>In the Results section, click <span class="bold">Create</span>.
                              </p>
                              <p>The Create Net Service Name page with the General tab appears.</p>
                           </li>
                           <li>
                              <p>Enter a name in the Net Service Name field.</p>
                           </li>
                           <li>
                              <p>In the Database Information section, configure service support, as follows:</p>
                              <ol type="a">
                                 <li>
                                    <p>Enter a destination service name.</p>
                                    <p>If the destination service name is for an Oracle9<span class="italic">i</span> database or later, then select <span class="bold">Use Service Name</span>, and enter a service name in the Service Name field.
                                    </p>
                                    <div class="infoboxnotealso" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-772AC636-CFBE-4FB9-83BF-A8346F8CACA9">
                                       <p class="notep1">See Also:</p>
                                       <p><span class="q">"<a href="identifying-and-accessing-database.html#GUID-8D28E91B-CB72-4DC8-AEFC-F5D583626CF6">About Connect Descriptors</a>"</span> for additional information about the service name string to use
                                       </p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>Select a database connection type. Oracle recommends that you use the Database Default for the connection type. If a shared server is configured in the initialization parameter file, then the following options are available:</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>Select Dedicated Server to force the listener to spawn a dedicated server, and bypass shared server configuration. </p>
                                       </li>
                                       <li>
                                          <p>Select Shared Server to guarantee the connection always uses shared server.</p>
                                       </li>
                                    </ul>
                                    <div class="infoboxnotealso" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-43D8605C-E875-4A99-81E3-8A18E3A76729">
                                       <p class="notep1">See Also:</p>
                                       <p><a href="configuring-shared-server-architecture.html#GUID-CAF99423-AFB9-4141-A36B-5EAF6B2CA7C0">Configuring a Shared Server Architecture </a> for additional information about shared server configuration
                                       </p>
                                    </div>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>In the Addresses section, configure protocol support, as follows:</p>
                              <ol type="a">
                                 <li>
                                    <p>Click <span class="bold">Add</span>.
                                    </p>
                                    <p>The Add Address page appears.</p>
                                 </li>
                                 <li>
                                    <p>From the Protocol list, select the protocol that the listener is configured to listen. This protocol must also be installed on the client.</p>
                                 </li>
                                 <li>
                                    <p>Enter the appropriate parameter information for the selected protocol in the fields provided.</p>
                                    <div class="infoboxnotealso" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-0889F9A4-E192-42BA-BDE6-5B7E5E0072E0">
                                       <p class="notep1">See Also:</p>
                                       <p> <a href="../netrf/protocol-address-configuration.html#NETRF-GUID-71A0702F-A5C6-4122-907D-5E9BFA1DCE45" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a> for additional information about protocol parameter settings
                                       </p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>(Optional) In the Advanced Parameters section, specify the I/O buffer space limit for send and receive operations of sessions in the Total Send Buffer Size and Total Receive Buffer Size fields.</p>
                                    <div class="infoboxnotealso" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-813AD322-5065-4C19-8FFE-EE71F3E97065">
                                       <p class="notep1">See Also:</p>
                                       <p><span class="q">"<a href="optimizing-performance.html#GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29">Configuring I/O Buffer Space </a>"</span> for additional information 
                                       </p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">OK</span>.
                                    </p>
                                    <p>The protocol address is added to the Addresses section.</p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>Click <span class="bold">OK</span> to add the network service name.
                              </p>
                              <p>The network service name is added to the Results section of the Net Service Names tab.</p>
                              <div class="infoboxnotealso" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-870899E3-9D99-44E3-BBB8-8AA2C060D725">
                                 <p class="notep1">See Also:</p>
                                 <p></p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="q">"<a href="enabling-advanced-features.html#GUID-B18560CC-2855-4A5F-8CDF-3066127C41F5">Creating a List of Listener Protocol Addresses</a>"</span> to configure multiple protocol addresses
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="q">"<a href="enabling-advanced-features.html#GUID-FEF9B98D-65D1-4F49-8355-112351670BB7">About the Advanced Connect Data Parameters</a>"</span> to configure additional CONNECT_DATA options
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ol>
                     </dd>
                     <dt class="dlterm"><a name="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABJCGCA">
                           <!-- --></a>Task 3   Modify Connectivity Information for Database Service Entries
                     </dt>
                     <dd>
                        <p>When database registration with the directory naming completes, a database service entry is created in the directory. By default, this entry contains network route information with the location of the listener through a protocol address. You can re-create this information or modify the existing network route information.</p>
                        <div class="infoboxnote" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-C2F660E3-FE40-4549-A6D9-BF7BF09C8C79">
                           <p class="notep1">Note:</p>
                           <p>Only users that are members of the <a id="d20638e2700" class="indexterm-anchor"></a><a id="d20638e2702" class="indexterm-anchor"></a><code class="codeph">OracleNetAdmins</code> or <code class="codeph">OracleContextAdmins</code> group can modify network information for a database service in a directory. To add or remove users from these groups, see <span class="q">"<a href="managing-network-address-information.html#GUID-D504D75D-7E4C-4C3A-B1DD-4EED0DCAADD4">Who Can Add or Modify Entries in the Directory Server</a>"</span>.
                           </p>
                        </div>
                        <p>The following procedure describes how to create or modify network route information for a database service:</p>
                        <ol>
                           <li>
                              <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                              <div class="infoboxnotealso" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-B5213076-A79A-4811-862F-B4D4088B5246">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-1F145906-24CC-4A63-86FD-31776C022209">Accessing the Net Services Administration Page</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>Select <span class="bold">Directory Naming</span> from the Administer list, and then select the Oracle home that contains the location of the directory server.
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Go</span>. You may be prompted to log in to the database server and the directory server.
                              </p>
                              <p>The Directory Naming page appears.</p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">Database Services</span> tab.
                              </p>
                           </li>
                           <li>
                              <p>In the Simple Search section, select <span class="bold">Oracle Context</span> and search criteria to see the network service names for Oracle Context.
                              </p>
                              <p>The database service names display in the Results section.</p>
                           </li>
                           <li>
                              <p>In the Results section, select a database service, and then click <span class="bold">Edit</span>.
                              </p>
                           </li>
                        </ol>
                     </dd>
                     <dt class="dlterm"><a name="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABDCJFD">
                           <!-- --></a>Task 4   Create Net Services Aliases
                     </dt>
                     <dd>
                        <p>Net service aliases in a directory server enable clients to refer to a database service or a network service name by an alternative name. For example, a network service alias of <code class="codeph">salesalias</code> can be created for a network service name of <code class="codeph">sales</code>. When <code class="codeph">salesalias</code> is used to connect to a database, as in <code class="codeph">CONNECT scott@salesalias</code>, it resolves to and use the connect descriptor information for <code class="codeph">sales</code>. 
                        </p>
                        <p>There are two main uses of network service aliases:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Use a network service alias as a way for clients to refer to a database service or network service name by another name. </p>
                           </li>
                           <li>
                              <p>Use a network service alias in one Oracle Context for a database service or network service name in a different Oracle Context. This enables a database service or network service name to be defined once in the directory server, and referred to by clients that use other Oracle Contexts. </p>
                              <div class="infoboxnotealso" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-396649C0-3789-4984-AD53-1BDE4B29D084">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="managing-network-address-information.html#GUID-B46654A6-9DED-4205-9C1B-DEEE0C20217A">Understanding Net Service Alias Entries</a>"</span> for an overview of network service aliases
                                 </p>
                              </div>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-D5AE691B-6EBB-4625-B80D-A18A8603B98F">
                           <p class="notep1">Note:</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Only users that are members of either the <a id="d20638e2806" class="indexterm-anchor"></a><a id="d20638e2808" class="indexterm-anchor"></a><code class="codeph">OracleNetAdmins</code> or <code class="codeph">OracleContextAdmins</code> group can create or modify network service alias entries in a directory. To add or remove users from the <code class="codeph">OracleNetAdmins</code> group, see <span class="q">"<a href="managing-network-address-information.html#GUID-D504D75D-7E4C-4C3A-B1DD-4EED0DCAADD4">Who Can Add or Modify Entries in the Directory Server</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>To create or access network service aliases, ensure that the Oracle home is at least release 9.2.0.4.</p>
                              </li>
                              <li>
                                 <p>Net service aliases are not supported by Microsoft Active Directory.</p>
                              </li>
                              <li>
                                 <p>Ensure the NLS_LANG environment variable is set for the clients when using network service aliases.</p>
                              </li>
                           </ul>
                        </div>
                        <p>To create a network service alias, use one of the following methods:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="configuring-naming-methods.html#GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABHJJJB">Network Service Alias Configuration using Oracle Enterprise Manager Cloud Control</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-naming-methods.html#GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABHBJAA">Network Service Alias Configuration using Oracle Net Manager</a></p>
                           </li>
                        </ul>
                        <p>Each method provides similar functionality.</p>
                        <p id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABHJJJB"><span class="bold">Network Service Alias Configuration using Oracle Enterprise Manager Cloud Control</span></p>
                        <p>The following procedure describes how to configure a network service alias using Oracle Enterprise Manager Cloud Control:</p>
                        <ol>
                           <li>
                              <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                              <div class="infoboxnotealso" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-B4C9BB4B-327B-4CE8-9DD4-572B92546AFF">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-1F145906-24CC-4A63-86FD-31776C022209">Accessing the Net Services Administration Page</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>Select<span class="bold"> Directory Naming</span> from the Administer list, and then select the Oracle home that contains the location of the directory server.
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Go</span>. 
                              </p>
                              <p>The Directory Naming page appears.</p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">Net Service Aliases</span> tab.
                              </p>
                           </li>
                           <li>
                              <p>In the Results section, click <span class="bold">Create</span>.
                              </p>
                              <p>The Create Net Service Alias page appears.</p>
                           </li>
                           <li>
                              <p>Enter a name for the alias in the Net Service Alias Name field.</p>
                           </li>
                           <li>
                              <p>In the Referenced Service Detail section, enter the following information in the fields:</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>Oracle Context: Select the Oracle Context of the database service or network service name from the list or enter one in the field.</p>
                                 </li>
                                 <li>
                                    <p>Referenced Service Name: Select the DN of the database service or network service name. </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Click <span class="bold">OK</span> to add the network service alias.
                              </p>
                              <p>The network service alias is added to the Directory Naming page.</p>
                           </li>
                        </ol>
                        <p id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABHBJAA"><span class="bold">Network Service Alias Configuration using Oracle Net Manager</span></p>
                        <p>The following procedure describes how to configure a network service alias using Oracle Net Manager:</p>
                        <ol>
                           <li>
                              <p>Start Oracle Net Manager.</p>
                              <div class="infoboxnotealso" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-D4CDB5B5-AB16-4DC2-ABE8-558577F71BFB">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-2294BF67-B05F-44A2-9584-6CF0855A0F56">Using Oracle Net Manager to Configure Oracle Net Services</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>In the navigator pane, select <span class="bold">Service Naming</span> from Directory.
                              </p>
                           </li>
                           <li>
                              <p>Select <span class="bold">Aliases</span>.
                              </p>
                           </li>
                           <li>
                              <p>Select <span class="bold">Create</span> from the Edit menu.
                              </p>
                           </li>
                           <li>
                              <p>Enter the network service alias in the Net Service Alias field.</p>
                           </li>
                           <li>
                              <p>Select <span class="bold">Oracle Context</span> and name.
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Create</span>.
                              </p>
                           </li>
                           <li>
                              <p>Select <span class="bold">Save Network Configuration</span> from the File menu.
                              </p>
                           </li>
                        </ol>
                     </dd>
                     <dt class="dlterm"><a name="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABDHHCG">
                           <!-- --></a>Task 5   Configure LDAP as the First Naming Method for Client Lookups
                     </dt>
                     <dd>
                        <p>Configure directory naming as the first method to be used in the NAMES.DIRECTORY_PATH parameter in the <code class="codeph">sqlnet.ora</code> file. This parameter specifies the order of naming methods Oracle Net uses to resolve connect identifiers to connect descriptors. To configure LDAP as the first naming method you can use one of the following methods:
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="configuring-naming-methods.html#GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABBEACA">LDAP Configuration using Oracle Enterprise Manager Cloud Control</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-naming-methods.html#GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABGABEA">LDAP Configuration using Oracle Net Manager</a></p>
                           </li>
                        </ul>
                        <p id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABBEACA"><span class="bold">LDAP Configuration using Oracle Enterprise Manager Cloud Control</span></p>
                        <p>The following procedure describes how to specify directory naming as the first naming method using Oracle Enterprise Manager Cloud Control:</p>
                        <ol>
                           <li>
                              <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                              <div class="infoboxnotealso" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-C64BFB32-4D27-446A-9D2D-F17D03D8328A">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-1F145906-24CC-4A63-86FD-31776C022209">Accessing the Net Services Administration Page</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>Select<span class="bold"> Network Profile</span> from the Administer list.
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Go</span>.
                              </p>
                           </li>
                           <li>
                              <p>Select <span class="bold">Naming Methods</span>.
                              </p>
                           </li>
                           <li>
                              <p>Select <span class="bold">LDAP</span> from the Available Methods list.
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Move</span> to move the selection to the Selected Methods list.
                              </p>
                           </li>
                           <li>
                              <p>Use the <span class="bold">Promote</span> button to move LDAP to the top of the list.
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">OK</span>. 
                              </p>
                           </li>
                        </ol>
                        <p id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABGABEA"><span class="bold">LDAP Configuration using Oracle Net Manager</span></p>
                        <p>The following procedure describes how to specify directory naming as the first naming method using Oracle Net Manager:</p>
                        <ol>
                           <li>
                              <p>Start Oracle Net Manager.</p>
                              <div class="infoboxnotealso" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-A2A95B3E-D243-45BF-A5BF-4E42ECACBC83">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-2294BF67-B05F-44A2-9584-6CF0855A0F56">Using Oracle Net Manager to Configure Oracle Net Services</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>In the navigator pane, select <span class="bold">Profile</span> from the Local menu.
                              </p>
                           </li>
                           <li>
                              <p>From the list in the right pane, select <span class="bold">Naming</span>.
                              </p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">Methods</span> tab.
                              </p>
                           </li>
                           <li>
                              <p>From the Available Methods list, select <span class="bold">LDAP</span>, and then click the right-arrow button.
                              </p>
                           </li>
                           <li>
                              <p>From the Selected Methods list, select <span class="bold">LDAP</span>, and then use the <span class="bold">Promote</span> button to move the selection to the top of the list.
                              </p>
                           </li>
                           <li>
                              <p>Select <span class="bold">Save Network Configuration</span> from the File menu.
                              </p>
                              <p>The <code class="codeph">sqlnet.ora</code> file updates with the NAMES.DIRECTORY_PATH parameter, listing <code class="codeph">ldap</code> first, such as the following:
                              </p><pre class="oac_no_warn" dir="ltr">NAMES.DIRECTORY_PATH=(ldap, tnsnames, hostname)</pre></li>
                        </ol>
                     </dd>
                     <dt class="dlterm"><a name="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABCJGHJ">
                           <!-- --></a>Task 6   Configure the Listener
                     </dt>
                     <dd>
                        <p>Ensure that the listener located on the server is configured to listen on the same protocol address configured for the network service name. By default, the listener is configured to listen on the TCP/IP protocol, port 1521. </p>
                        <div class="infoboxnotealso" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-0C86892E-016D-4683-8A7D-7C170E140D0B">
                           <p class="notep1">See Also:</p>
                           <p><a href="configuring-and-administering-oracle-net-listener.html#GUID-C3C40DBA-4282-41E1-9562-4B8B10947C4E">Configuring and Administering Oracle Net Listener</a> for listener configuration details
                           </p>
                        </div>
                     </dd>
                     <dt class="dlterm"><a name="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__BABIGHHI">
                           <!-- --></a>Task 7   Connect to the Database
                     </dt>
                     <dd>
                        <p>Clients that are configured with a default directory entry that matches the directory location of the database service or network service name can connect to the database using the following syntax:</p><pre class="oac_no_warn" dir="ltr">CONNECT <span class="italic"><code class="codeph">username</code></span>@<span class="italic"><code class="codeph">connect_identifier</code></span>
</pre><p>Clients that are configured with a default directory entry that does not match the entry's directory location must use the entry's distinguished name or its fully-qualified name.</p>
                        <div class="infoboxnotealso" id="GUID-F780E4E8-91A5-4D57-A769-6EDC143903DC__GUID-4D3AEB00-DAF6-484F-938F-A916724824BF">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">"<a href="identifying-and-accessing-database.html#GUID-9BC740CE-6F64-4F65-AD59-87E371A96433">Connect Identifier and Connect Descriptor Syntax Characteristics</a>"</span> for connect identifier syntax rules
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-network-address-information.html#GUID-3299F3D3-8ED8-4251-A3D0-261684AB9429">Understanding the Directory Information Tree</a>"</span> for fully-qualified name usage 
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </dd>
                  </dl>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-naming-methods.html#GUID-E5358DEA-D619-4B7B-A799-3D2F802500F1">Configuring Naming Methods</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETAG275"></a><div class="sect2"><a id="GUID-E9C84E9B-C942-4906-B18D-27FF3A66A6F1" name="GUID-E9C84E9B-C942-4906-B18D-27FF3A66A6F1"></a><h3 id="NETAG-GUID-E9C84E9B-C942-4906-B18D-27FF3A66A6F1" class="sect3"><span class="enumeration_section">8.4 </span>Creating Multiple Default Contexts in a Directory Naming Server
               </h3>
               <div>
                  <p>If you want clients to use discovery in directories which have more than one Oracle Context, then you can define the <code class="codeph">orclCommonContextMap</code> attribute in the base <code class="codeph">admin</code> context. This attribute overrides the <code class="codeph">orclDefaultSubscriber</code> attribute. During name lookup the discovery operation returns both values, and the client decides based on these which Oracle Context to use. 
                  </p>
                  <p>If the <code class="codeph">orclCommonContextMap</code> attribute is not defined, then the <code class="codeph">orclDefaultSubscriber</code> is used as the default. If <code class="codeph">orclCommonContextMap</code> is defined, then the client finds the default Oracle Context which is associated with its DNS domain in the <code class="codeph">orclCommonContextMap</code>. To enable multiple default contexts, define the <code class="codeph">orclCommonContextMap</code> with a list of associations between a domain and a DN to be used as the default <code class="codeph">oracleContext</code>. A sample LDIF file entry is shown here:
                  </p><pre class="oac_no_warn" dir="ltr">$ ldapmodify -v -h sales-server -p 1389 -D cn=orcladmin -q
 dn: cn=Common,cn=Products,cn=OracleContext
 replace: orclCommonContextMap
 orclCommonContextMap:
 (contextMap=
   (domain_map=(domain=us.example.com)(DN="dc=example,dc=com"))
   (domain_map=(domain=uk.example.com)(DN="dc=sales,dc=com"))
  )
  </pre><p>The <code class="codeph">contextMap</code> entry must be entered without line breaks.
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-E9C84E9B-C942-4906-B18D-27FF3A66A6F1__GUID-5F1678E5-5251-4C41-A101-8341F95A2074">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/netag&amp;id=OIDAG2158" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Internet Directory</span></a> for additional information about how to configure the directory for context mapping
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-naming-methods.html#GUID-E5358DEA-D619-4B7B-A799-3D2F802500F1">Configuring Naming Methods</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETAG1549"></a><a id="NETAG1141"></a><a id="NETAG1550"></a><a id="NETAG1143"></a><a id="NETAG1551"></a><a id="NETAG1552"></a><a id="NETAG273"></a><div class="sect2"><a id="GUID-329108B5-5B52-4398-823A-6F7D77721F71" name="GUID-329108B5-5B52-4398-823A-6F7D77721F71"></a><h3 id="NETAG-GUID-329108B5-5B52-4398-823A-6F7D77721F71" class="sect3"><span class="enumeration_section">8.5 </span>Exporting Local Naming Entries to a Directory Naming Server
               </h3>
               <div>
                  <p><a id="d20638e3334" class="indexterm-anchor"></a><a id="d20638e3338" class="indexterm-anchor"></a><a id="d20638e3344" class="indexterm-anchor"></a>If a <code class="codeph">tnsnames.ora</code> file already exists, then its network service names<span class="bold"> </span>can be exported to a directory server. The export procedure is performed for one domain at a time.<a id="d20638e3357" class="indexterm-anchor"></a><a id="d20638e3361" class="indexterm-anchor"></a></p>
                  <p>This section explains how to export data stored in a <code class="codeph">tnsnames.ora</code> file to a directory server. It includes the following tasks:
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="configuring-naming-methods.html#GUID-329108B5-5B52-4398-823A-6F7D77721F71__BABIJGHJ">Task 1, "Create Structure in the Directory Server"</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-naming-methods.html#GUID-329108B5-5B52-4398-823A-6F7D77721F71__BABEGGBA">Task 2, "Create Oracle Contexts"</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-naming-methods.html#GUID-329108B5-5B52-4398-823A-6F7D77721F71__BABEEABF">Task 3, "Configure Directory Server Usage"</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-naming-methods.html#GUID-329108B5-5B52-4398-823A-6F7D77721F71__BABJDEHI">Task 4, "Export Objects to a Directory Server"</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-329108B5-5B52-4398-823A-6F7D77721F71__GUID-2C06F354-38C4-4FD6-A822-88376F24756D">
                     <p class="notep1">Note:</p>
                     <p>These tasks assume the directory server has been installed and is running.</p>
                  </div>
                  <dl>
                     <dt class="dlterm"><a name="GUID-329108B5-5B52-4398-823A-6F7D77721F71__BABIJGHJ">
                           <!-- --></a>Task 1   Create Structure in the Directory Server
                     </dt>
                     <dd>
                        <p>In the directory server, create the <a href="glossary.html#GUID-6979FAF8-FEA7-4403-BED5-43E9E1B55358"><span class="xrefglossterm">directory information tree (DIT)</span></a> with the structure in which you want to import network service names. Create the structure leading to the top of the <a href="glossary.html#GUID-03CC32BE-E846-44D4-B5A6-F86520F88A46"><span class="xrefglossterm">Oracle Context</span></a>. 
                        </p>
                        <p>For example, if the <code class="codeph">tnsnames.ora</code> file supports a domain structure <code class="codeph">example.com</code> and you want to replicate this domain in the directory, then create domain component entries of <code class="codeph">dc=com</code> and <code class="codeph">dc=example</code> in the directory, as shown in <a href="configuring-naming-methods.html#GUID-329108B5-5B52-4398-823A-6F7D77721F71__I510507">Figure 8-1</a>.
                        </p>
                        <div class="figure" id="GUID-329108B5-5B52-4398-823A-6F7D77721F71__I510507">
                           <p class="titleinfigure">Figure 8-1 example.com in Directory Server</p><img src="img/netag123.gif" width="80" alt="Description of Figure 8-1 follows" title="Description of Figure 8-1 follows" longdesc="img_text/netag123.html"><br><a href="img_text/netag123.html">Description of "Figure 8-1 example.com in Directory Server"</a></div>
                        <!-- class="figure" -->
                        <p>You can replicate the domain structure you currently use with <code class="codeph">tnsnames.ora</code>, or you can develop an entirely different structure. Introducing an entirely different structure can change the way clients enter the network service name in the connect string. Oracle recommends considering relative and fully-qualified naming issues before changing the structure.
                        </p>
                        <div class="infoboxnotealso" id="GUID-329108B5-5B52-4398-823A-6F7D77721F71__GUID-AC0B543F-5D9D-4048-8679-26C23BCA2D50">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Directory server vendor documentation for directory entry configuration instructions</p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-network-address-information.html#GUID-5E6B9DFF-FC30-4418-8455-AAAFBA45A66E">Client Connections Using Directory Naming</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </dd>
                     <dt class="dlterm"><a name="GUID-329108B5-5B52-4398-823A-6F7D77721F71__BABEGGBA">
                           <!-- --></a>Task 2   Create Oracle Contexts
                     </dt>
                     <dd>
                        <p>Create an Oracle Context under each DIT location that you created in Task 1 using Oracle Internet Directory Configuration Assistant. Oracle Context has a <a href="glossary.html#GUID-2285E75C-B489-4AE1-92DF-E459F8B9DAB8"><span class="xrefglossterm">relative distinguished name (RDN)</span></a> of <code class="codeph">cn=OracleContext</code>. Oracle Context stores network object entries, as well as other entries for other Oracle components. In <a href="configuring-naming-methods.html#GUID-329108B5-5B52-4398-823A-6F7D77721F71__BABBHADF">Figure 8-2</a>, <code class="codeph">cn=OracleContext</code> is created under <code class="codeph">dc=example,dc=com</code>.
                        </p>
                        <div class="figure" id="GUID-329108B5-5B52-4398-823A-6F7D77721F71__BABBHADF">
                           <p class="titleinfigure">Figure 8-2 Oracle Context</p><img src="img/netag122.gif" width="103" alt="Description of Figure 8-2 follows" title="Description of Figure 8-2 follows" longdesc="img_text/netag122.html"><br><a href="img_text/netag122.html">Description of "Figure 8-2 Oracle Context"</a></div>
                        <!-- class="figure" -->
                        <div class="infoboxnotealso" id="GUID-329108B5-5B52-4398-823A-6F7D77721F71__GUID-1773D14E-6019-4EA3-B785-0A398E004B45">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="managing-network-address-information.html#GUID-428A2A41-8EF1-49E7-ABCB-D7B57B149148">Managing Network Address Information </a> for additional information about Oracle Context
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/netag&amp;id=OIDAG2618" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Internet Directory</span></a> for instructions on creating an Oracle Context
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </dd>
                     <dt class="dlterm"><a name="GUID-329108B5-5B52-4398-823A-6F7D77721F71__BABEEABF">
                           <!-- --></a>Task 3   Configure Directory Server Usage
                     </dt>
                     <dd>
                        <p>If not done as a part of creating Oracle Contexts, then configure the Oracle home for directory server use. The Oracle home you configure should be the one that performs the export.</p>
                        <div class="infoboxnotealso" id="GUID-329108B5-5B52-4398-823A-6F7D77721F71__GUID-3F0F2CD8-CCAC-421C-B394-63C98EA5607B">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/netag&amp;id=OIDAG2203" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Internet Directory</span></a> for additional information about configuring directory server usage
                           </p>
                        </div>
                     </dd>
                     <dt class="dlterm"><a name="GUID-329108B5-5B52-4398-823A-6F7D77721F71__BABJDEHI">
                           <!-- --></a>Task 4   Export Objects to a Directory Server
                     </dt>
                     <dd>
                        <p>To export network service names contained in a <code class="codeph">tnsnames.ora</code> file to a directory, use either Oracle Enterprise Manager Cloud Controlr or Oracle Net Manager.
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">Export Objects using Oracle Enterprise Manager Cloud Control</span></p>
                              <p>The following procedure describes how to export objects using Oracle Enterprise Manager Cloud Control</p>
                              <ol>
                                 <li>
                                    <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                                    <div class="infoboxnotealso" id="GUID-329108B5-5B52-4398-823A-6F7D77721F71__GUID-2A497C1C-EF73-42A7-A034-D8D52ABD02BF">
                                       <p class="notep1">See Also:</p>
                                       <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-1F145906-24CC-4A63-86FD-31776C022209">Accessing the Net Services Administration Page</a>"</span></p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>Select<span class="bold"> Directory Naming</span> from the Administer list, and then select the Oracle home that contains the location of the directory server.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">Go</span>. 
                                    </p>
                                    <p>The Directory Naming page appears.</p>
                                 </li>
                                 <li>
                                    <p>Click the <span class="bold">Net Service Names</span> tab.
                                    </p>
                                 </li>
                                 <li>
                                    <p>In the Related Links section, click <span class="bold">Import Net Service Names To Directory Server</span>.
                                    </p>
                                    <p>The Import Net Service Names To Directory Server page appears.</p>
                                 </li>
                                 <li>
                                    <p>From the Oracle Context list in the Oracle Internet Directory Server Destination section, select Oracle Context to which you want to export the selected network service names.</p>
                                 </li>
                                 <li>
                                    <p>In the Net Service Names to Import section, select the network service names.</p>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">Add</span> to add the network service names to the directory.
                                    </p>
                                    <p>The network service name is added to the Directory Naming page.</p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p><span class="bold">Export Objects using Oracle Net Manager</span></p>
                              <p>The following procedure describes how to export objects using Oracle Net Manager:</p>
                              <ol>
                                 <li>
                                    <p>Start Oracle Net Manager.</p>
                                    <div class="infoboxnotealso" id="GUID-329108B5-5B52-4398-823A-6F7D77721F71__GUID-9EE459B9-D8CF-4960-A9AB-E51991C02B4D">
                                       <p class="notep1">See Also:</p>
                                       <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-2294BF67-B05F-44A2-9584-6CF0855A0F56">Using Oracle Net Manager to Configure Oracle Net Services</a>"</span></p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>If the <code class="codeph">tnsnames.ora</code> file you want to export is not loaded in Oracle Net Manager, then select <span class="bold">Open Network Configuration</span> from the File menu to select the <code class="codeph">tnsnames.ora</code> file to export to the directory.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Select <span class="bold">Directory</span> from the Command menu, and then select <span class="bold">Export Net Service Names</span>.
                                    </p>
                                    <p>The <a id="d20638e3609" class="indexterm-anchor"></a><a id="d20638e3611" class="indexterm-anchor"></a>Directory Server Migration wizard starts.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">Next</span>. 
                                    </p>
                                    <p>If network service names with multiple domain were detected in the <code class="codeph">tnsnames.ora</code> file, then the Select Domain page appears. Continue to Step 5.
                                    </p>
                                    <p>If the network service names are not domain qualified, then the Select Net Service Names page appears. Skip to Step <a href="configuring-naming-methods.html#GUID-329108B5-5B52-4398-823A-6F7D77721F71__SELECTTHENETWORKSERVICENAMESFROMTHE-4AA7963C">6</a>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Select the network domain whose network service names you want to export, and then click <span class="bold">Next</span>.
                                    </p>
                                    <p>The Select Net Service Names page appears.</p>
                                 </li>
                                 <li id="GUID-329108B5-5B52-4398-823A-6F7D77721F71__SELECTTHENETWORKSERVICENAMESFROMTHE-4AA7963C">
                                    <p>Select the network service names from the list to export, and then click <span class="bold">Next</span>.
                                    </p>
                                    <p>The Select Destination Context page appears.</p>
                                 </li>
                                 <li>
                                    <p>In the Select Destination Context page, do the following:</p>
                                    <ol type="a">
                                       <li>
                                          <p>From the Directory Naming Context list, select the directory entry that contains the Oracle Context. The directory naming context is part of a directory subtree that contains one or more Oracle Contexts.</p>
                                       </li>
                                       <li>
                                          <p>From the Oracle Context list, select the Oracle Context to which you want to export the selected network service names.</p>
                                       </li>
                                       <li>
                                          <p>Click <span class="bold">Next</span>.
                                          </p>
                                       </li>
                                    </ol>
                                    <p>The Directory Server Update page appears with the status of the export operation.</p>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">Finish</span> to close the Directory Server Migration wizard.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                        </ul>
                     </dd>
                  </dl>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-naming-methods.html#GUID-E5358DEA-D619-4B7B-A799-3D2F802500F1">Configuring Naming Methods</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETAG276"></a><div class="sect2"><a id="GUID-9D39B62D-C6AA-43B3-ADAB-A8ECC905D2B0" name="GUID-9D39B62D-C6AA-43B3-ADAB-A8ECC905D2B0"></a><h3 id="NETAG-GUID-9D39B62D-C6AA-43B3-ADAB-A8ECC905D2B0" class="sect3"><span class="enumeration_section">8.6 </span>Exporting Directory Naming Entries to a tnsnames.ora File
               </h3>
               <div>
                  <p>After you create the directory naming entries, consider exporting the entries to a local <code class="codeph">tnsnames.ora</code> file, and distributing that file to clients. Clients can use the locally saved file when a directory server is temporarily unavailable.
                  </p>
                  <p>The following procedure describes how to export directory naming entries to a local <code class="codeph">tnsnames.ora</code> file:
                  </p>
                  <ol>
                     <li>
                        <p>Access the Net Services Administration page in Oracle Enterprise Manager Cloud Control.</p>
                        <div class="infoboxnotealso" id="GUID-9D39B62D-C6AA-43B3-ADAB-A8ECC905D2B0__GUID-8608CB9C-9577-4938-9CF1-940A6ECD9393">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-1F145906-24CC-4A63-86FD-31776C022209">Accessing the Net Services Administration Page</a>"</span></p>
                        </div>
                     </li>
                     <li>
                        <p>Select<span class="bold"> Directory Naming</span> from the Administer list, and then select the Oracle home that contains the location of the directory server.
                        </p>
                     </li>
                     <li>
                        <p>Click <span class="bold">Go</span>. 
                        </p>
                        <p>The Directory Naming page appears.</p>
                     </li>
                     <li>
                        <p>Click the <span class="bold">Net Service Names</span> tab.
                        </p>
                     </li>
                     <li>
                        <p>In the Simple Search section, select <span class="bold">Oracle Context</span> and search criteria to see the network service names for a particular Oracle Context.
                        </p>
                        <p>The network service names display in the Results section.</p>
                     </li>
                     <li>
                        <p>In the Results section, click <span class="bold">Save to tnsnames.ora</span>.
                        </p>
                        <p>The Processing: Create tnsnames.ora File page appears, informing you of the creation process.</p>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-naming-methods.html#GUID-E5358DEA-D619-4B7B-A799-3D2F802500F1">Configuring Naming Methods</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETAG1553"></a><a id="NETAG1554"></a><a id="NETAG277"></a><div class="sect2"><a id="GUID-8578DC8A-65FA-4E3E-ACA0-1A8ABFAABF0C" name="GUID-8578DC8A-65FA-4E3E-ACA0-1A8ABFAABF0C"></a><h3 id="NETAG-GUID-8578DC8A-65FA-4E3E-ACA0-1A8ABFAABF0C" class="sect3"><span class="enumeration_section">8.7 </span>Configuring External Naming Methods
               </h3>
               <div>
                  <p>External naming refers to the method of resolving a network service name, stored in a third-party naming service, to a network address, such as network information services (NIS). Organizations and corporations using <a id="d20638e3865" class="indexterm-anchor"></a><a id="d20638e3869" class="indexterm-anchor"></a>NIS as part of their systems infrastructure have the option to store network service names and addresses in NIS, using NIS external naming. 
                  </p>
                  <p>For example, when a user gives a command with a network service name (<code class="codeph">payroll</code>) such as the following: 
                  </p><pre class="oac_no_warn" dir="ltr"><a id="d20638e3880" class="indexterm-anchor"></a><a id="d20638e3884" class="indexterm-anchor"></a><a id="d20638e3888" class="indexterm-anchor"></a>	SQLPLUS scott@payroll<a id="d20638e3893" class="indexterm-anchor"></a><a id="d20638e3897" class="indexterm-anchor"></a>
</pre><p>NIS external naming on the node running the client program or database server acting as a client program contacts an NIS server located on the network, and passes the network service name to the NIS server. The NIS server resolves the network service name into an Oracle Net address and returns this address to the client program or server. The client program then uses this address to connect to Oracle Database. </p>
                  <p>An NIS server runs a program called <a id="d20638e3906" class="indexterm-anchor"></a><code class="codeph">ypserv</code>, which handles name requests. The <code class="codeph">ypserv</code> program stores different types of data in special files called <span class="bold"><a href="glossary.html#GUID-E2453DCF-2612-4CCE-98F7-311F3D2988A5"><span class="xrefglossterm">map</span></a></span>s. For example, passwords are stored in a map called <code class="codeph">passwd.byname</code>. Oracle Database service names are stored in a map called <code class="codeph">tnsnames</code>.
                  </p>
                  <p>When a user uses a connect string, NIS external naming uses an RPC call to contact the <code class="codeph">ypserv</code> program, and passes the Oracle network service name and the name of the map. The <code class="codeph">ypserv</code> program looks in the <code class="codeph">tnsnames</code> map for the name, such as <code class="codeph">payroll</code>, and its address for the network service name. The address is returned to the client, and the client program uses the address to contact the database server.
                  </p>
                  <div class="infoboxnote" id="GUID-8578DC8A-65FA-4E3E-ACA0-1A8ABFAABF0C__GUID-7DB143FA-B140-4D8D-B633-A1686753C364">
                     <p class="notep1">Note:</p>
                     <p>The NIS external naming method is not available on all platforms. Use the <code class="codeph">adapters</code> command to check availability of NIS external naming on your system. If available, then it is listed under Oracle Net naming methods, as follows:
                     </p><pre class="oac_no_warn" dir="ltr">$ adapters

Installed Oracle Net naming methods are:

Local Naming (tnsnames.ora)
Oracle Directory Naming
Oracle Host Naming
<span class="bold">NIS Naming</span>
</pre><p>See Oracle platform-specific documentation for additional information.</p>
                  </div>
                  <p>This section contains the following tasks:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="configuring-naming-methods.html#GUID-8578DC8A-65FA-4E3E-ACA0-1A8ABFAABF0C__BABFICGG">Task 1, "Configure NIS Servers to Support NIS External Naming"</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-naming-methods.html#GUID-8578DC8A-65FA-4E3E-ACA0-1A8ABFAABF0C__BABJECBI">Task 2, "Configure the Clients"</a></p>
                     </li>
                  </ul>
                  <dl>
                     <dt class="dlterm"><a name="GUID-8578DC8A-65FA-4E3E-ACA0-1A8ABFAABF0C__BABFICGG">
                           <!-- --></a>Task 1   Configure NIS Servers to Support NIS External Naming
                     </dt>
                     <dd>
                        <p>Before configuring servers to support NIS external naming, ensure that NIS is configured and running on the NIS servers that need to resolve Oracle Database network service names. Consult your NIS documentation for specifics. To complete this task, add the <code class="codeph">tnsnames</code> map to the <a id="d20638e3977" class="indexterm-anchor"></a>existing NIS maps, and then verify that the <code class="codeph">tnsnames</code> map has been installed properly.
                        </p>
                        <ol>
                           <li>
                              <p>Create a <code class="codeph">tnsnames.ora</code> file, as specified in <span class="q">"<a href="configuring-naming-methods.html#GUID-D62B85C0-D3C1-4C5C-A9DF-C12DFB21C533">Configuring the Local Naming Method</a>"</span>. 
                              </p>
                              <div class="infoboxnote" id="GUID-8578DC8A-65FA-4E3E-ACA0-1A8ABFAABF0C__GUID-F1877B52-73FE-4F37-A863-6B37F641D9D9">
                                 <p class="notep1">Note:</p>
                                 <p>Keep a copy of the <code class="codeph">tnsnames.ora</code> file, preferably in the <code class="codeph">ORACLE_HOME/network/admin</code> directory. You may need to use this file again later to load network service names into the NIS map.
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>Convert the contents of the <code class="codeph">tnsnames.ora</code> file to a <code class="codeph">tnsnames</code> map using the <code class="codeph">tns2nis</code> program using a command similar to the following:
                              </p><pre class="oac_no_warn" dir="ltr">tns2nis tnsnames.ora
</pre><p>The <code class="codeph">tns2nis</code> program reads the <code class="codeph">tnsnames.ora</code> file from the current directory. If the <code class="codeph">tnsnames.ora</code> file is not located in the current directory, then use a full path name to specify its location, such as <code class="codeph">/etc/tnsnames.ora</code> or <code class="codeph">ORACLE_HOME/network/admin/tnsnames.ora</code>. 
                              </p>
                              <p>The <code class="codeph">tnsnames</code> map is then written into the current working directory. 
                              </p>
                              <div class="infoboxnote" id="GUID-8578DC8A-65FA-4E3E-ACA0-1A8ABFAABF0C__GUID-9222EA39-FE03-4636-8F08-B6068A97202B">
                                 <p class="notep1">Note:</p>
                                 <p>The <code class="codeph">tns2nis</code> program is supplied with NIS external naming.
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>Copy the <code class="codeph">tnsnames</code> map to the NIS server. 
                              </p>
                           </li>
                           <li>
                              <p>Install the <code class="codeph">tnsnames</code> map using <code class="codeph">makedbm</code>, which is an NIS program.
                              </p>
                              <div class="infoboxnote" id="GUID-8578DC8A-65FA-4E3E-ACA0-1A8ABFAABF0C__GUID-5C3AE98E-B838-453E-8E66-D4A7BB8CB9A3">
                                 <p class="notep1">Note:</p>
                                 <p>This step must be performed by the person in charge of NIS administration.</p>
                              </div>
                              <p>The <code class="codeph">makedbm</code> program converts the <code class="codeph">tnsnames</code> map into two files that the NIS server can read. The location of these files is operating system specific. 
                              </p>
                              <p>For example, to generate and install a <code class="codeph">tnsnames</code> map on Linux, as the <code class="codeph">root</code> user, enter the following at the command line:
                              </p><pre class="oac_no_warn" dir="ltr"># makedbm tnsnames /var/yp/'domainname'/tnsnames 
</pre><div class="infoboxnotealso" id="GUID-8578DC8A-65FA-4E3E-ACA0-1A8ABFAABF0C__GUID-9CCBD791-4E7F-4738-A60E-AA6ECC2F7F0A">
                                 <p class="notep1">See Also:</p>
                                 <p>Oracle operating system-specific documentation for details</p>
                              </div>
                           </li>
                           <li>
                              <p>Verify <code class="codeph">tnsnames</code> has been installed properly using the following command:
                              </p><pre class="oac_no_warn" dir="ltr">ypmatch <span class="italic"><code class="codeph">net_service_name </code></span>tnsnames 
</pre><p>For example, you might enter the following command: </p><pre class="oac_no_warn" dir="ltr">ypmatch example.com tnsnames 
</pre><p>This returns the length of the address in characters, followed by the address such as the following: </p><pre class="oac_no_warn" dir="ltr">99 (description=(address=(protocol=tcp) (host=sales)(port=1999)))
   (connect_data=(service_name=dirprod)))</pre></li>
                        </ol>
                     </dd>
                     <dt class="dlterm"><a name="GUID-8578DC8A-65FA-4E3E-ACA0-1A8ABFAABF0C__BABJECBI">
                           <!-- --></a>Task 2   Configure the Clients
                     </dt>
                     <dd>
                        <p>To configure clients, configure NIS as the first method specified in the NAMES.DIRECTORY_PATH parameter in the <code class="codeph">sqlnet.ora</code> file. This parameter specifies the order of naming methods Oracle Net can use to resolve connect identifiers to connect descriptors.
                        </p>
                        <ol>
                           <li>
                              <p>Start Oracle Net Manager.</p>
                              <div class="infoboxnotealso" id="GUID-8578DC8A-65FA-4E3E-ACA0-1A8ABFAABF0C__GUID-571F0545-3681-4EC7-9F6A-D66FBCBBABE2">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="managing-oracle-net-services.html#GUID-2294BF67-B05F-44A2-9584-6CF0855A0F56">Using Oracle Net Manager to Configure Oracle Net Services</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>In the navigator pane, select <span class="bold">Profile</span> from the Local menu.
                              </p>
                           </li>
                           <li>
                              <p>From the list in the right pane, select <span class="bold">Naming</span>.
                              </p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">Methods</span> tab.
                              </p>
                           </li>
                           <li>
                              <p>From the Available Methods list, select <span class="bold">NIS</span>, and then click the right-arrow button.
                              </p>
                           </li>
                           <li>
                              <p>In the Selected Methods list, select <span class="bold">NIS</span>, and then use the <span class="bold">Promote</span> button to move the selection to the top of the list.
                              </p>
                           </li>
                           <li>
                              <p>Select <span class="bold">Save Network Configuration</span> from the File menu.
                              </p>
                              <p>The <code class="codeph">sqlnet.ora</code> file updates with the NAMES.DIRECTORY_PATH parameter, listing <code class="codeph">nis</code> first:
                              </p><pre class="oac_no_warn" dir="ltr">NAMES.DIRECTORY_PATH=(nis, hostname, tnsnames)</pre></li>
                        </ol>
                     </dd>
                  </dl>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-naming-methods.html#GUID-E5358DEA-D619-4B7B-A799-3D2F802500F1">Configuring Naming Methods</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="02897.managing-security-for-definers-rights-and-invokers-rights.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Invoker’s rights and definer’s rights have several security advantages when used to control access to privileges to run user-created procedures."></meta>
      <meta name="description" content="Invoker’s rights and definer’s rights have several security advantages when used to control access to privileges to run user-created procedures."></meta>
      <title>Managing Security for Definer's Rights and Invoker's Rights</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Security Guide "></meta>
      <meta property="og:description" content="Invoker’s rights and definer’s rights have several security advantages when used to control access to privileges to run user-created procedures."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Security Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-security-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-28T14:57:12-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96299-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="integrating_mads_with_oracle_database.html" title="Previous" type="text/html"></link>
      <link rel="next" href="managing-fine-grained-access-in-pl-sql-packages-and-types.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Security Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBSEG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="integrating_mads_with_oracle_database.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Security Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part_1.html" property="item" typeof="WebPage"><span property="name">Managing User Authentication and Authorization</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Managing Security for Definer's Rights and Invoker's Rights</li>
            </ol>
            <a id="GUID-EF625176-A3AA-47F5-BAEE-248DBAAF22A3" name="GUID-EF625176-A3AA-47F5-BAEE-248DBAAF22A3"></a><a id="DBSEG658"></a>
            
            <h2 id="DBSEG-GUID-EF625176-A3AA-47F5-BAEE-248DBAAF22A3" class="sect2"><span class="enumeration_chapter">7 </span>Managing Security for Definer's Rights and Invoker's Rights
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Invoker’s rights and definer’s rights have several security advantages when used to control access to privileges to run user-created procedures. </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-18B223A9-223B-4625-AADE-4E47A56A5E9D">About Definer's Rights and Invoker's Rights</a><br>Definer's rights and invoker's rights are used to control access to the privileges necessary to run a user-created procedure, or program unit. 
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-5ECAD7B4-BF99-4A36-B770-2132A43ED5A5">How Procedure Privileges Affect Definer's Rights</a><br>The owner of a procedure, called the <span class="italic">definer</span>, must have the necessary object privileges for objects that the procedure references. 
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-74D3BC6B-1371-4AA8-B7E7-ECB84394B9D4">How Procedure Privileges Affect Invoker's Rights</a><br>An invoker’s rights procedure executes with all of the invoker's privileges. 
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-547A6A16-51AA-4FD9-BDB9-0D8A79B8CF24">When You Should Create Invoker's Rights Procedures</a><br>Oracle recommends that you create invoker's rights procedures in certain situations.
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-4DEF8C03-0DCA-4B72-9EEC-F1141E076A2F">Controlling Invoker's Rights Privileges for Procedure Calls and View Access</a><br>The <code class="codeph">INHERIT PRIVILEGES</code> and <code class="codeph">INHERIT ANY PRIVILEGES</code> privileges regulate the privileges used when invoker's rights procedures are run. 
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-2897C310-D0B5-4AB0-8237-384196C4EC81">Definer's Rights and Invoker's Rights in Views</a><br>The <code class="codeph">BEQEATH</code> clause in the <code class="codeph">CREATE VIEW</code> SQL statement can control definer's rights and invoker's rights in user-created views. 
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-45E77E8E-587F-42AF-A163-D814264341E2">Using Code Based Access Control for Definer's Rights and Invoker's Rights</a><br>Code based access control, used to attach database roles to PL/SQL functions, procedures, or packages, works well with invoker's rights and definer's procedures.
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-B354724F-BD35-47C7-A699-93C2B6389555">Controlling Definer's Rights Privileges for Database Links</a><br>You can control privilege grants for definer’s rights procedures if your applications use database links and definer’s rights procedures.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="part_1.html" title="Part I describes how to manage user authentication and authorization.">Managing User Authentication and Authorization</a></p>
                  </div>
               </div>
            </div>
            <a id="DBSEG659"></a><div class="props_rev_3"><a id="GUID-18B223A9-223B-4625-AADE-4E47A56A5E9D" name="GUID-18B223A9-223B-4625-AADE-4E47A56A5E9D"></a><h3 id="DBSEG-GUID-18B223A9-223B-4625-AADE-4E47A56A5E9D" class="sect3">About Definer's Rights and Invoker's Rights</h3>
               <div>
                  <p>Definer's rights and invoker's rights are used to control access to the privileges necessary to run a user-created procedure, or program unit. </p>
                  <p>In a <a href="glossary.html#GUID-87141F4A-F49D-4C0E-8229-B9943FFC7FA4"><span class="xrefglossterm">definer's rights procedure</span></a>, the procedure executes with the privileges of the owner. The privileges are bound to the schema in which they were created. An <a href="glossary.html#GUID-68637D3F-FA77-453D-962B-172202ACC23C"><span class="xrefglossterm">invoker's rights procedure</span></a> executes with the privileges of the current user, that is, the user who invokes the procedure. 
                  </p>
                  <p>For example, suppose user <code class="codeph">bixby</code> creates a procedure that is designed to modify table <code class="codeph">cust_records</code> and then he grants the <code class="codeph">EXECUTE</code> privilege on this procedure to user <code class="codeph">rlayton</code>. If <code class="codeph">bixby</code> had created the procedure with definer's rights, then the procedure would look for table <code class="codeph">cust_records</code> in <code class="codeph">bixby</code>'s schema. Had the procedure been created with invoker's rights, then when <code class="codeph">rlayton</code> runs it, the procedure would look for table <code class="codeph">cust_records</code> in <code class="codeph">rlayton</code>'s schema.
                  </p>
                  <p>By default, all procedures are considered definer's rights. You can designate a procedure to be an invoker's rights procedure by using the <code class="codeph">AUTHID CURRENT_USER</code> clause when you create or modify it, or you can use the <code class="codeph">AUTHID DEFINER</code> clause to make it a definer's rights procedure. 
                  </p>
                  <p>You can create privilege analysis policies to capture privilege use of definer’s rights and invoker’s rights procedures. </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="Privilege analysis dynamically analyzes the privileges and roles that users use and do not use.">Performing Privilege Analysis to Find Privilege Use</a></li>
                        <li><a href="../lnpls/plsql-subprograms.html#LNPLS-GUID-41D23DE7-3C07-41CF-962B-F92B696594B5" target="_blank"><span><cite><span><cite>Oracle Database PL/SQL Language Reference</cite></span></cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-EF625176-A3AA-47F5-BAEE-248DBAAF22A3" title="Invoker’s rights and definer’s rights have several security advantages when used to control access to privileges to run user-created procedures.">Managing Security for Definer's Rights and Invoker's Rights</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="DBSEG99925"></a><div class="props_rev_3"><a id="GUID-5ECAD7B4-BF99-4A36-B770-2132A43ED5A5" name="GUID-5ECAD7B4-BF99-4A36-B770-2132A43ED5A5"></a><h3 id="DBSEG-GUID-5ECAD7B4-BF99-4A36-B770-2132A43ED5A5" class="sect3">How Procedure Privileges Affect Definer's Rights</h3>
               <div>
                  <p>The owner of a procedure, called the <span class="italic">definer</span>, must have the necessary object privileges for objects that the procedure references. 
                  </p>
                  <p>If the procedure owner grants to another user the right to use the procedure, then the privileges of the procedure owner (on the objects the procedure references) apply to the grantee's exercise of the procedure. The privileges of the procedure's definer must be granted directly to the procedure owner, not granted through roles. These are called definer's rights. </p>
                  <p>The user of a procedure who is not its owner is called the <span class="italic">invoker</span>. Additional privileges on referenced objects are required for an <a href="glossary.html#GUID-68637D3F-FA77-453D-962B-172202ACC23C"><span class="xrefglossterm">invoker's rights procedure</span></a>, but not for a <a href="glossary.html#GUID-87141F4A-F49D-4C0E-8229-B9943FFC7FA4"><span class="xrefglossterm">definer's rights procedure</span></a>.
                  </p>
                  <p>A user of a definer's rights procedure requires only the privilege to execute the procedure and no privileges on the underlying objects that the procedure accesses. This is because a definer's rights procedure operates under the security domain of the user who owns the procedure, regardless of who is executing it. The owner of the procedure must have all the necessary object privileges for referenced objects. Fewer privileges need to be granted to users of a definer's rights procedure. This results in stronger control of database access. </p>
                  <p>You can use definer's rights procedures to control access to private database objects and add a level of database security. By writing a definer's rights procedure and granting only the <code class="codeph">EXECUTE</code> privilege to a user, this user can be forced to access the referenced objects only through the procedure. 
                  </p>
                  <p>At run time, Oracle Database checks whether the privileges of the owner of a definer's rights procedure allow access to that procedure's referenced objects, before the procedure is executed. If a necessary privilege on a referenced object was revoked from the owner of a definer's rights procedure, then no user, including the owner, can run the procedure. </p>
                  <p>An example of when you may want to use a definer's rights procedure is as follows: Suppose that you must create an API whose procedures have unrestricted access to its tables, but you want to prevent ordinary users from selecting table data directly, and from changing it with <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> statements. To accomplish this, in a separate, low-privileged schema, create the tables and the procedures that comprise the API. By default, each procedure is a definer's rights unit, so you do not need to specify <code class="codeph">AUTHID DEFINER</code> when you create it. Then grant the <code class="codeph">EXECUTE</code> privilege to the users who must use this API, but do not grant any privileges that allow data access. This solution gives you complete control over your API behavior and how users have access to its underlying objects. 
                  </p>
                  <p>Oracle recommends that you create your definer's rights procedures, and views that access these procedures, in their own schema. Grant this schema very low privileges, or no privileges at all. This way, when other users run these procedures or views, they will not have access to any unnecessarily high privileges from this schema. </p>
                  <div class="infoboxnote" id="GUID-5ECAD7B4-BF99-4A36-B770-2132A43ED5A5__GUID-C29D430B-6314-4ECF-865F-D7B59EFE91F9">
                     <p class="notep1">Note:</p>
                     <p>Trigger processing follows the same patterns as definer's rights procedures. The user runs a SQL statement, which that user is privileged to run. As a result of the SQL statement, a trigger is fired. The statements within the triggered action temporarily execute under the security domain of the user that owns the trigger. For overview information about triggers, <a href="../cncpt/server-side-programming.html#CNCPT118" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a>.
                     </p>
                  </div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="configuring-privilege-and-role-authorization.html#GUID-5C57B842-AF82-4462-88E9-5E9E8FD59874" title="Role behavior in a PL/SQL block is determined by the type of block and by definer&#39;s rights or invoker&#39;s rights.">How Roles Work in PL/SQL Blocks</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-EF625176-A3AA-47F5-BAEE-248DBAAF22A3" title="Invoker’s rights and definer’s rights have several security advantages when used to control access to privileges to run user-created procedures.">Managing Security for Definer's Rights and Invoker's Rights</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="DBSEG99926"></a><div class="props_rev_3"><a id="GUID-74D3BC6B-1371-4AA8-B7E7-ECB84394B9D4" name="GUID-74D3BC6B-1371-4AA8-B7E7-ECB84394B9D4"></a><h3 id="DBSEG-GUID-74D3BC6B-1371-4AA8-B7E7-ECB84394B9D4" class="sect3">How Procedure Privileges Affect Invoker's Rights</h3>
               <div>
                  <p>An invoker’s rights procedure executes with all of the invoker's privileges. </p>
                  <p>Oracle Database enables the privileges that were granted to the invoker through any of the invoker's enabled roles to take effect, unless a definer's rights procedure calls the <a href="glossary.html#GUID-68637D3F-FA77-453D-962B-172202ACC23C"><span class="xrefglossterm">invoker's rights procedure</span></a> directly or indirectly. A user of an invoker's rights procedure must have privileges (granted to the user either directly or through a role) on objects that the procedure accesses through external references that are resolved in the schema of the invoker. When the invoker runs an invoker's rights procedure, this user temporarily has <span class="italic">all</span> of the privileges of the invoker. 
                  </p>
                  <p>The invoker must have privileges at run time to access program references embedded in DML statements or dynamic SQL statements, because they are effectively recompiled at run time.</p>
                  <p>For all other external references, such as direct PL/SQL function calls, Oracle Database checks the privileges of the owner at compile time, but does not perform a run-time check. Therefore, the user of an invoker's rights procedure does not need privileges on external references outside DML or dynamic SQL statements. Alternatively, the developer of an invoker's rights procedure must only grant privileges on the procedure itself, not on all objects directly referenced by the invoker's rights procedure. </p>
                  <p>You can create a software bundle that consists of multiple program units, some with definer's rights and others with invoker's rights, and restrict the program entry points <span class="italic">(controlled step-in)</span>. A user who has the privilege to run an entry-point procedure can also execute internal program units indirectly, but cannot directly call the internal programs. For very precise control over query processing, you can create a PL/SQL package specification with explicit cursors.
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-4DEF8C03-0DCA-4B72-9EEC-F1141E076A2F" title="The INHERIT PRIVILEGES and INHERIT ANY PRIVILEGES privileges regulate the privileges used when invoker&#39;s rights procedures are run.">Controlling Invoker's Rights Privileges for Procedure Calls and View Access</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-EF625176-A3AA-47F5-BAEE-248DBAAF22A3" title="Invoker’s rights and definer’s rights have several security advantages when used to control access to privileges to run user-created procedures.">Managing Security for Definer's Rights and Invoker's Rights</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="DBSEG1038"></a><div class="props_rev_3"><a id="GUID-547A6A16-51AA-4FD9-BDB9-0D8A79B8CF24" name="GUID-547A6A16-51AA-4FD9-BDB9-0D8A79B8CF24"></a><h3 id="DBSEG-GUID-547A6A16-51AA-4FD9-BDB9-0D8A79B8CF24" class="sect3">When You Should Create Invoker's Rights Procedures</h3>
               <div>
                  <p>Oracle recommends that you create invoker's rights procedures in certain situations.</p>
                  <p>These situations are as follows:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">When creating a PL/SQL procedure in a high-privileged schema.</span> When lower-privileged users invoke the procedure, then it can do no more than those users are allowed to do. In other words, the invoker's rights procedure runs with the privileges of the invoking user.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">When the PL/SQL procedure contains no SQL and is available to other users.</span> The <code class="codeph">DBMS_OUTPUT</code> PL/SQL package is an example of a PL/SQL subprogram that contains no SQL and is available to all users. The reason you should use an invoker's rights procedure in this situation is because the unit issues no SQL statements at run time, so the run-time system does not need to check their privileges. Specifying <code class="codeph">AUTHID</code> <code class="codeph">CURRENT_USER</code> makes invocations of the procedure more efficient, because when an invoker's right procedure is pushed onto, or comes from, the call stack, the values of <code class="codeph">CURRENT_USER</code> and <code class="codeph">CURRENT_SCHEMA</code>, and the currently enabled roles do not change. 
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-547A6A16-51AA-4FD9-BDB9-0D8A79B8CF24__GUID-8587C1C6-1685-45FD-AFA6-4618863F2126">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="using-oracle-vpd-to-control-data-access.html#GUID-8F39CFC1-E210-4011-9D49-F84E91AF41CB" title="The DBMS_RLS PL/SQL package can configure Oracle Virtual Private Database (VPD) policies.">Configuration of Oracle Virtual Private Database Policies</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-privilege-and-role-authorization.html#GUID-32479D5D-74E8-49C0-B11D-D33D3774FC06" title="System privileges that use the ANY keyword enable you to set privileges for an entire category of objects in the database.">About ANY Privileges and the PUBLIC Role</a></p>
                        </li>
                        <li>
                           <p><a href="../lnpls/plsql-subprograms.html#LNPLS00809" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about how Oracle Database handles name resolution and privilege checking at runtime using invoker's and definer's rights
                           </p>
                        </li>
                        <li>
                           <p><a href="../lnpls/plsql-subprograms.html#LNPLS00809" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information about the differences between invoker's rights and definer's rights units
                           </p>
                        </li>
                        <li>
                           <p><a href="../lnpls/CREATE-PACKAGE-statement.html#LNPLS01371" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about defining explicit cursors in the <code class="codeph">CREATE PACKAGE</code> statement
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-EF625176-A3AA-47F5-BAEE-248DBAAF22A3" title="Invoker’s rights and definer’s rights have several security advantages when used to control access to privileges to run user-created procedures.">Managing Security for Definer's Rights and Invoker's Rights</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG653"></a><div class="props_rev_3"><a id="GUID-4DEF8C03-0DCA-4B72-9EEC-F1141E076A2F" name="GUID-4DEF8C03-0DCA-4B72-9EEC-F1141E076A2F"></a><h3 id="DBSEG-GUID-4DEF8C03-0DCA-4B72-9EEC-F1141E076A2F" class="sect3">Controlling Invoker's Rights Privileges for Procedure Calls and View Access</h3>
               <div>
                  <p>The <code class="codeph">INHERIT PRIVILEGES</code> and <code class="codeph">INHERIT ANY PRIVILEGES</code> privileges regulate the privileges used when invoker's rights procedures are run. 
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-0B9271DA-4151-4915-AB1A-FB1A262E287E">How the Privileges of a Schema Affect the Use of Invoker's Rights Procedures</a><br>An invoker’s rights procedure is useful in situations where a lower-privileged user must execute a procedure owned by a higher-privileged user.
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-174CF65A-209E-4A50-93ED-648C0EB38E90">How the INHERIT [ANY] PRIVILEGES Privileges Control Privilege Access</a><br>Use the <code class="codeph">INHERIT PRIVILEGES</code> and <code class="codeph">INHERIT ANY PRIVILEGES</code> privileges to secure invoker’s rights procedures.
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-B2D69EFA-7BB0-46A1-8750-7787323B0870">Grants of the INHERIT PRIVILEGES Privilege to Other Users</a><br>By default, all users are granted <code class="codeph">INHERIT PRIVILEGES</code> <code class="codeph">ON USER</code> <span class="italic"><code class="codeph">newuser</code></span> <code class="codeph">TO PUBLIC</code>.
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-4F8D794B-E54C-4B68-AF94-770700805EAC">Example: Granting INHERIT PRIVILEGES on an Invoking User</a><br>The <code class="codeph">GRANT</code> statement can grant the <code class="codeph">INHERIT PRIVILEGES</code> privilege on an invoking user to a procedure owner.
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-4773E302-0995-4EDD-9B8A-79629448F662">Example: Revoking INHERIT PRIVILEGES</a><br>The <code class="codeph">REVOKE</code> statement can revoke the <code class="codeph">INHERIT PRIVILEGES</code> privilege from a user.
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-4950AE44-1C25-4DCA-8F8E-93373081DEFE">Grants of the INHERIT ANY PRIVILEGES Privilege to Other Users</a><br>By default, user <code class="codeph">SYS</code> has the <code class="codeph">INHERIT ANY PRIVILEGES</code> system privilege and can grant this privilege to other database users or roles. 
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-7534ABF6-CA9B-4F91-8EC2-5FFDECC576CE">Example: Granting INHERIT ANY PRIVILEGES to a Trusted Procedure Owner</a><br>The <code class="codeph">GRANT</code> statement can grant the <code class="codeph">INHERIT ANY PRIVILEGES</code> privilege to trusted procedure owners. 
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-575EE41D-1F31-412E-9AD1-707DF544B9F1">Managing INHERIT PRIVILEGES and INHERIT ANY PRIVILEGES</a><br>By default, <code class="codeph">PUBLIC</code> has the <code class="codeph">INHERIT PRIVILEGE</code> privilege on new and upgraded user accounts; the <code class="codeph">SYS</code> user has the <code class="codeph">INHERIT ANY PRIVILEGES</code> privilege. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-EF625176-A3AA-47F5-BAEE-248DBAAF22A3" title="Invoker’s rights and definer’s rights have several security advantages when used to control access to privileges to run user-created procedures.">Managing Security for Definer's Rights and Invoker's Rights</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG660"></a><div class="props_rev_3"><a id="GUID-0B9271DA-4151-4915-AB1A-FB1A262E287E" name="GUID-0B9271DA-4151-4915-AB1A-FB1A262E287E"></a><h4 id="DBSEG-GUID-0B9271DA-4151-4915-AB1A-FB1A262E287E" class="sect4">How the Privileges of a Schema Affect the Use of Invoker's Rights Procedures</h4>
                  <div>
                     <p>An invoker’s rights procedure is useful in situations where a lower-privileged user must execute a procedure owned by a higher-privileged user.</p>
                     <p>When a user runs an invoker's rights procedure (or any PL/SQL program unit that has been created with the <code class="codeph">AUTHID CURRENT_USER</code> clause), the procedure temporarily inherits all of the privileges of the invoking user while the procedure runs. 
                     </p>
                     <p>During that time, the procedure owner has, through the procedure, access to this invoking user's privileges. Consider the following scenario: </p>
                     <ol>
                        <li>
                           <p>User <code class="codeph">ebrown</code> creates the <code class="codeph">check_syntax</code> <a href="glossary.html#GUID-68637D3F-FA77-453D-962B-172202ACC23C"><span class="xrefglossterm">invoker's rights procedure</span></a> and then grants user <code class="codeph">jward</code> the <code class="codeph">EXECUTE</code> privilege on it.
                           </p>
                        </li>
                        <li>
                           <p>User <code class="codeph">ebrown</code>, who is a junior programmer, has only the minimum set of privileges necessary for his job. The <code class="codeph">check_syntax</code> procedure resides in <code class="codeph">ebrown</code>'s schema.
                           </p>
                        </li>
                        <li>
                           <p>User <code class="codeph">jward</code>, who is a manager, has a far more powerful set of privileges than user <code class="codeph">ebrown</code>. 
                           </p>
                        </li>
                        <li>
                           <p>When user <code class="codeph">jward</code> runs the <code class="codeph">check_syntax</code> invoker's rights procedure, the procedure inherits user <code class="codeph">jward</code>'s higher privileges while it runs. 
                           </p>
                        </li>
                        <li>
                           <p>Because user <code class="codeph">ebrown</code> owns the <code class="codeph">check_syntax</code> procedure, he has access to user <code class="codeph">jward</code>'s privileges whenever <code class="codeph">jward</code> runs the <code class="codeph">check_syntax</code> procedure.
                           </p>
                        </li>
                     </ol>
                     <p>The danger in this type of situation—in which the lower privileged <code class="codeph">ebrown</code>'s procedure has access to <code class="codeph">jward</code>'s higher privileges whenever <code class="codeph">jward</code> runs the procedure—lies in the risk that the procedure owner can misuse the higher privileges of the invoking user. For example, user <code class="codeph">ebrown</code> could make use of <code class="codeph">jward</code>'s higher privileges by rewriting the <code class="codeph">check_syntax</code> procedure to give <code class="codeph">ebrown</code> a raise or delete <code class="codeph">ebrown</code>'s bad performance appraisal record. Or, <code class="codeph">ebrown</code> originally could have created the procedure as a definer's rights procedure, granted its <code class="codeph">EXECUTE</code> privilege to <code class="codeph">jward</code>, and then later on change it to a potentially malicious invoker's rights procedure without letting <code class="codeph">jward</code> know. These types of risks increase when random users, such as application users, have access to a database that uses invoker's rights procedures. 
                     </p>
                     <p>When user <code class="codeph">jward</code> runs <code class="codeph">ebrown</code>'s invoker's rights procedure, there is an element of trust involved. He must be assured that <code class="codeph">ebrown</code> will not use the <code class="codeph">check_syntax</code> procedure in a malicious way when it accesses <code class="codeph">jward</code>'s privileges. The <code class="codeph">INHERIT PRIVILEGES</code> and <code class="codeph">INHERIT ANY PRIVILEGES</code> privileges can help user <code class="codeph">jward</code> control whether user <code class="codeph">ebrown</code>'s procedure can have access to his (<code class="codeph">jward</code>'s) privileges. Any user can grant or revoke the <code class="codeph">INHERIT PRIVILEGES</code> privilege on themselves to the user whose invoker's rights procedures they want to run. <code class="codeph">SYS</code> users manage the <code class="codeph">INHERIT ANY PRIVILEGES</code> privilege.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-4DEF8C03-0DCA-4B72-9EEC-F1141E076A2F" title="The INHERIT PRIVILEGES and INHERIT ANY PRIVILEGES privileges regulate the privileges used when invoker&#39;s rights procedures are run.">Controlling Invoker's Rights Privileges for Procedure Calls and View Access</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG661"></a><div class="props_rev_3"><a id="GUID-174CF65A-209E-4A50-93ED-648C0EB38E90" name="GUID-174CF65A-209E-4A50-93ED-648C0EB38E90"></a><h4 id="DBSEG-GUID-174CF65A-209E-4A50-93ED-648C0EB38E90" class="sect4">How the INHERIT [ANY] PRIVILEGES Privileges Control Privilege Access</h4>
                  <div>
                     <p>Use the <code class="codeph">INHERIT PRIVILEGES</code> and <code class="codeph">INHERIT ANY PRIVILEGES</code> privileges to secure invoker’s rights procedures.
                     </p>
                     <p>The <code class="codeph">INHERIT PRIVILEGES</code> and <code class="codeph">INHERIT ANY PRIVILEGES</code> privileges regulate the privileges used when a user runs an invoker's rights procedure or queries a <code class="codeph">BEQUEATH CURRENT_USER</code> view that references an invoker's rights procedure. 
                     </p>
                     <p>When a user runs an invoker's rights procedure, Oracle Database checks it to ensure that the procedure owner has either the <code class="codeph">INHERIT PRIVILEGES</code> privilege on the invoking user, or if the owner has been granted the <code class="codeph">INHERIT ANY PRIVILEGES</code> privilege. If the privilege check fails, then Oracle Database returns an <code class="codeph">ORA-06598: insufficient INHERIT PRIVILEGES privilege</code> error. 
                     </p>
                     <p>The benefit of these two privileges is that they give invoking users control over who can access their privileges when they run an invoker's rights procedure or query a <code class="codeph">BEQUEATH CURRENT_USER</code> view. 
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-4DEF8C03-0DCA-4B72-9EEC-F1141E076A2F" title="The INHERIT PRIVILEGES and INHERIT ANY PRIVILEGES privileges regulate the privileges used when invoker&#39;s rights procedures are run.">Controlling Invoker's Rights Privileges for Procedure Calls and View Access</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG662"></a><div class="props_rev_3"><a id="GUID-B2D69EFA-7BB0-46A1-8750-7787323B0870" name="GUID-B2D69EFA-7BB0-46A1-8750-7787323B0870"></a><h4 id="DBSEG-GUID-B2D69EFA-7BB0-46A1-8750-7787323B0870" class="sect4">Grants of the INHERIT PRIVILEGES Privilege to Other Users</h4>
                  <div>
                     <p>By default, all users are granted <code class="codeph">INHERIT PRIVILEGES</code> <code class="codeph">ON USER</code> <span class="italic"><code class="codeph">newuser</code></span> <code class="codeph">TO PUBLIC</code>.
                     </p>
                     <p>This grant takes place when the user accounts are created or when accounts that were created earlier are upgraded to the current release. </p>
                     <p>The invoking user can revoke the <code class="codeph">INHERIT PRIVILEGE</code> privilege from other users on himself and then grant it only to users that he trusts. 
                     </p>
                     <p>The syntax for the <code class="codeph">INHERIT PRIVILEGES</code> privilege grant is as follows: 
                     </p><pre class="oac_no_warn" dir="ltr">GRANT INHERIT PRIVILEGES ON USER <span class="italic">invoking_user</span> TO <span class="italic">procedure_owner</span>;
</pre><p>In this specification:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic"><code class="codeph">invoking_user</code></span> is the user who runs the invoker's rights procedure. This user must be a database user account.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">procedure_owner</code></span> is the user who owns the invoker's rights procedure. This value must be a database user account. As an alternative to granting the <code class="codeph">INHERIT PRIVILEGES</code> privilege to the procedure's owner, you can grant the privilege to a role that is in turn granted to the procedure. 
                           </p>
                        </li>
                     </ul>
                     <p>The following users or roles must have the <code class="codeph">INHERIT PRIVILEGES</code> privilege granted to them by users who will run their invoker's rights procedures:
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Users or roles who own the invoker's rights procedures</p>
                        </li>
                        <li>
                           <p>Users or roles who own <code class="codeph">BEQUEATH CURRENT_USER</code> views 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-4DEF8C03-0DCA-4B72-9EEC-F1141E076A2F" title="The INHERIT PRIVILEGES and INHERIT ANY PRIVILEGES privileges regulate the privileges used when invoker&#39;s rights procedures are run.">Controlling Invoker's Rights Privileges for Procedure Calls and View Access</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG663"></a><div class="props_rev_3"><a id="GUID-4F8D794B-E54C-4B68-AF94-770700805EAC" name="GUID-4F8D794B-E54C-4B68-AF94-770700805EAC"></a><h4 id="DBSEG-GUID-4F8D794B-E54C-4B68-AF94-770700805EAC" class="sect4">Example: Granting INHERIT PRIVILEGES on an Invoking User</h4>
                  <div>
                     <p>The <code class="codeph">GRANT</code> statement can grant the <code class="codeph">INHERIT PRIVILEGES</code> privilege on an invoking user to a procedure owner.
                     </p>
                     <p><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-4F8D794B-E54C-4B68-AF94-770700805EAC__CACDCCHG">Example 7-1</a> shows how the invoking user <code class="codeph">jward</code> can grant user <code class="codeph">ebrown</code> the <code class="codeph">INHERIT PRIVILEGES</code> privilege.
                     </p>
                     <div class="example" id="GUID-4F8D794B-E54C-4B68-AF94-770700805EAC__CACDCCHG">
                        <p class="titleinexample">Example 7-1 Granting INHERIT PRIVILEGES on an Invoking User to a Procedure Owner</p><pre class="oac_no_warn" dir="ltr">GRANT INHERIT PRIVILEGES ON USER jward TO ebrown;
</pre><p>The statement enables any invoker's rights procedure that <code class="codeph">ebrown</code> writes, or will write in the future, to access <code class="codeph">jward</code>'s privileges when <code class="codeph">jward</code> runs it. 
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-4DEF8C03-0DCA-4B72-9EEC-F1141E076A2F" title="The INHERIT PRIVILEGES and INHERIT ANY PRIVILEGES privileges regulate the privileges used when invoker&#39;s rights procedures are run.">Controlling Invoker's Rights Privileges for Procedure Calls and View Access</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG664"></a><div class="props_rev_3"><a id="GUID-4773E302-0995-4EDD-9B8A-79629448F662" name="GUID-4773E302-0995-4EDD-9B8A-79629448F662"></a><h4 id="DBSEG-GUID-4773E302-0995-4EDD-9B8A-79629448F662" class="sect4">Example: Revoking INHERIT PRIVILEGES</h4>
                  <div>
                     <p>The <code class="codeph">REVOKE</code> statement can revoke the <code class="codeph">INHERIT PRIVILEGES</code> privilege from a user.
                     </p>
                     <p><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-4773E302-0995-4EDD-9B8A-79629448F662__CACJEACI">Example 7-2</a> shows how user <code class="codeph">jward</code> can revoke the use of his privileges from <code class="codeph">ebrown</code>.
                     </p>
                     <div class="example" id="GUID-4773E302-0995-4EDD-9B8A-79629448F662__CACJEACI">
                        <p class="titleinexample">Example 7-2 Revoking INHERIT PRIVILEGES</p><pre class="oac_no_warn" dir="ltr">REVOKE INHERIT PRIVILEGES ON USER jward FROM ebrown;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-4DEF8C03-0DCA-4B72-9EEC-F1141E076A2F" title="The INHERIT PRIVILEGES and INHERIT ANY PRIVILEGES privileges regulate the privileges used when invoker&#39;s rights procedures are run.">Controlling Invoker's Rights Privileges for Procedure Calls and View Access</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG665"></a><div class="props_rev_3"><a id="GUID-4950AE44-1C25-4DCA-8F8E-93373081DEFE" name="GUID-4950AE44-1C25-4DCA-8F8E-93373081DEFE"></a><h4 id="DBSEG-GUID-4950AE44-1C25-4DCA-8F8E-93373081DEFE" class="sect4">Grants of the INHERIT ANY PRIVILEGES Privilege to Other Users</h4>
                  <div>
                     <p>By default, user <code class="codeph">SYS</code> has the <code class="codeph">INHERIT ANY PRIVILEGES</code> system privilege and can grant this privilege to other database users or roles. 
                     </p>
                     <p>As with all <code class="codeph">ANY</code> privileges, only grant this privilege to trusted users or roles. Once a user or role has been granted the <code class="codeph">INHERIT ANY PRIVILEGES</code> privilege, then this user's invoker's rights procedures have access to the privileges of the invoking user. You can find the users who have been granted the <code class="codeph">INHERIT ANY PRIVILEGES</code> privilege by querying the <code class="codeph">DBA_SYS_PRIVS</code> data dictionary view. 
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-4DEF8C03-0DCA-4B72-9EEC-F1141E076A2F" title="The INHERIT PRIVILEGES and INHERIT ANY PRIVILEGES privileges regulate the privileges used when invoker&#39;s rights procedures are run.">Controlling Invoker's Rights Privileges for Procedure Calls and View Access</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG666"></a><div class="props_rev_3"><a id="GUID-7534ABF6-CA9B-4F91-8EC2-5FFDECC576CE" name="GUID-7534ABF6-CA9B-4F91-8EC2-5FFDECC576CE"></a><h4 id="DBSEG-GUID-7534ABF6-CA9B-4F91-8EC2-5FFDECC576CE" class="sect4">Example: Granting INHERIT ANY PRIVILEGES to a Trusted Procedure Owner</h4>
                  <div>
                     <p>The <code class="codeph">GRANT</code> statement can grant the <code class="codeph">INHERIT ANY PRIVILEGES</code> privilege to trusted procedure owners. 
                     </p>
                     <p><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-7534ABF6-CA9B-4F91-8EC2-5FFDECC576CE__CACBBIJC">Example 7-3</a> shows how to grant the <code class="codeph">INHERIT ANY PRIVILEGES</code> privilege to user <code class="codeph">ebrown</code>. 
                     </p>
                     <div class="example" id="GUID-7534ABF6-CA9B-4F91-8EC2-5FFDECC576CE__CACBBIJC">
                        <p class="titleinexample">Example 7-3 Granting INHERIT ANY PRIVILEGES to a Trusted Procedure Owner</p><pre class="oac_no_warn" dir="ltr">GRANT INHERIT ANY PRIVILEGES TO ebrown;
</pre><p>Be careful about revoking the <code class="codeph">INHERIT ANY PRIVILEGES</code> privilege from powerful users. For example, suppose user <code class="codeph">SYSTEM</code> has created a set of invoker's rights procedures. If you revoke <code class="codeph">INHERIT ANY PRIVILEGES</code> from <code class="codeph">SYSTEM</code>, then other users cannot run his procedures, unless they have specifically granted him the <code class="codeph">INHERIT PRIVILEGE</code> privilege. 
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-4DEF8C03-0DCA-4B72-9EEC-F1141E076A2F" title="The INHERIT PRIVILEGES and INHERIT ANY PRIVILEGES privileges regulate the privileges used when invoker&#39;s rights procedures are run.">Controlling Invoker's Rights Privileges for Procedure Calls and View Access</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG667"></a><div class="props_rev_3"><a id="GUID-575EE41D-1F31-412E-9AD1-707DF544B9F1" name="GUID-575EE41D-1F31-412E-9AD1-707DF544B9F1"></a><h4 id="DBSEG-GUID-575EE41D-1F31-412E-9AD1-707DF544B9F1" class="sect4">Managing INHERIT PRIVILEGES and INHERIT ANY PRIVILEGES</h4>
                  <div>
                     <p>By default, <code class="codeph">PUBLIC</code> has the <code class="codeph">INHERIT PRIVILEGE</code> privilege on new and upgraded user accounts; the <code class="codeph">SYS</code> user has the <code class="codeph">INHERIT ANY PRIVILEGES</code> privilege. 
                     </p>
                     <div class="section">
                        <p>Oracle by default configures a set of grants of <code class="codeph">INHERIT PRIVILEGES</code> that are designed to help protect against misuse of the privileges of various Oracle-defined users. 
                        </p>
                        <p>You can choose to revoke the default grant of <code class="codeph">INHERIT PRIVILEGES ON USER </code><span class="italic"><code class="codeph">user_name</code></span> <code class="codeph">TO PUBLIC</code> for a customer-defined user and grant more specific grants of <code class="codeph">INHERIT PRIVILEGES</code> as appropriate for that particular user. To find the users who have been granted the <code class="codeph">INHERIT ANY PRIVILEGES</code> privilege, query the <code class="codeph">DBA_SYS_PRIVS</code> data dictionary view.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Revoke the <code class="codeph">INHERIT PRIVILEGES</code> privilege from <code class="codeph">PUBLIC</code>. </span><div>
                              <p>For example:</p><pre class="oac_no_warn" dir="ltr">REVOKE INHERIT PRIVILEGES ON <span class="italic">invoking_user</span> FROM PUBLIC;
</pre><p>Be aware that this time, any users who run invoker's rights procedures cannot do so, due to run-time errors from failed <code class="codeph">INHERIT PRIVILEGES</code> checks.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Selectively grant the <code class="codeph">INHERIT PRIVILEGES</code> privilege to trusted users or roles. </span></li>
                        <li class="stepexpand"><span>Similarly, selectively grant the <code class="codeph">INHERIT ANY PRIVILEGES</code> privilege only to trusted users or roles. </span></li>
                     </ol>
                     <div class="section">
                        <p>You can create an audit policy to audit the granting and revoking of these two privileges, but you cannot audit run-time errors that result from failed <code class="codeph">INHERIT PRIVILEGES</code> privilege checks.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-575EE41D-1F31-412E-9AD1-707DF544B9F1__GUID-1C1D5CD9-D7F4-42D0-9F05-F5EEABC78AA5">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../lnpls/dynamic-sql.html#LNPLS01109" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about SQL injection attacks
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/GRANT.html#SQLRF01603" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information about the <code class="codeph">GRANT</code> statement and default privileges
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-4DEF8C03-0DCA-4B72-9EEC-F1141E076A2F" title="The INHERIT PRIVILEGES and INHERIT ANY PRIVILEGES privileges regulate the privileges used when invoker&#39;s rights procedures are run.">Controlling Invoker's Rights Privileges for Procedure Calls and View Access</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG586"></a><div class="props_rev_3"><a id="GUID-2897C310-D0B5-4AB0-8237-384196C4EC81" name="GUID-2897C310-D0B5-4AB0-8237-384196C4EC81"></a><h3 id="DBSEG-GUID-2897C310-D0B5-4AB0-8237-384196C4EC81" class="sect3">Definer's Rights and Invoker's Rights in Views</h3>
               <div>
                  <p>The <code class="codeph">BEQEATH</code> clause in the <code class="codeph">CREATE VIEW</code> SQL statement can control definer's rights and invoker's rights in user-created views. 
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-0AF4F672-7252-4C90-BC95-AD9337511A09">About Controlling Definer's Rights and Invoker's Rights in Views</a><br>You can configure user-defined views to accommodate invoker's rights functions that are referenced in the view. 
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-EF5300C7-E153-4316-805E-0A87FF2EA676">Using the BEQUEATH Clause in the CREATE VIEW Statement</a><br>The <code class="codeph">BEQUEATH</code> controls how an invoker’s right function can be executed using the rights of the invoking user.
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-E8238F8F-046F-411C-A0D4-BA3581A6907A">Finding the User Name or User ID of the Invoking User</a><br>PL/SQL functions can be used to find the invoking user, based on whether invoker’s rights or definer’s rights are being used.
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-6B0BD428-F194-4344-B9EE-02466181EDCB">Finding BEQUEATH DEFINER and BEQUEATH_CURRENT_USER Views</a><br>You can find out if a view is a <code class="codeph">BEQUEATH DEFINER</code> or <code class="codeph">BEQUEATH CURRENT_USER</code> view.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-EF625176-A3AA-47F5-BAEE-248DBAAF22A3" title="Invoker’s rights and definer’s rights have several security advantages when used to control access to privileges to run user-created procedures.">Managing Security for Definer's Rights and Invoker's Rights</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG558"></a><div class="props_rev_3"><a id="GUID-0AF4F672-7252-4C90-BC95-AD9337511A09" name="GUID-0AF4F672-7252-4C90-BC95-AD9337511A09"></a><h4 id="DBSEG-GUID-0AF4F672-7252-4C90-BC95-AD9337511A09" class="sect4">About Controlling Definer's Rights and Invoker's Rights in Views</h4>
                  <div>
                     <p>You can configure user-defined views to accommodate invoker's rights functions that are referenced in the view. </p>
                     <p>When a user invokes an identity- or privilege-sensitive SQL function or an invoker's rights PL/SQL or Java function, then current schema, current user, and currently enabled roles within the operation's execution can be inherited from the querying user's environment, rather than being set to the owner of the view. </p>
                     <p>This configuration does not turn the view itself into an invoker's rights object. Name resolution within the view is still handled using the view owner's schema, and privilege checking for the view is done using the view owner's privileges. However, at runtime, the function referenced by view runs under the invoking user's privileges rather than those of the view owner's. </p>
                     <p>The benefit of this feature is that it enables functions such as <code class="codeph">SYS_CONTEXT</code> and <code class="codeph">USERENV</code>, which must return information accurate for the invoking user, to return consistent results when these functions are referenced in a view. 
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-2897C310-D0B5-4AB0-8237-384196C4EC81" title="The BEQEATH clause in the CREATE VIEW SQL statement can control definer&#39;s rights and invoker&#39;s rights in user-created views.">Definer's Rights and Invoker's Rights in Views</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG668"></a><div class="props_rev_3"><a id="GUID-EF5300C7-E153-4316-805E-0A87FF2EA676" name="GUID-EF5300C7-E153-4316-805E-0A87FF2EA676"></a><h4 id="DBSEG-GUID-EF5300C7-E153-4316-805E-0A87FF2EA676" class="sect4">Using the BEQUEATH Clause in the CREATE VIEW Statement</h4>
                  <div>
                     <p>The <code class="codeph">BEQUEATH</code> controls how an invoker’s right function can be executed using the rights of the invoking user.
                     </p>
                     <div class="section">
                        <p>To enable an invoker's rights function to be executed using the rights of the user issuing SQL that references the view, in the <code class="codeph">CREATE VIEW</code> statement, you can set the <code class="codeph">BEQUEATH</code> clause to <code class="codeph">CURRENT_USER</code>. 
                        </p>
                        <p>If you plan to issue a SQL query or DML statement against the view, then the view owner must be granted the <code class="codeph">INHERIT</code> <code class="codeph">PRIVILEGES</code> privilege on the invoking user or the view owner must have the <code class="codeph">INHERIT ANY PRIVILEGES</code> privilege. If not, then when a <code class="codeph">SELECT</code> query or DML statement involves a <code class="codeph">BEQUEATH</code> <code class="codeph">CURRENT_USER</code> view, the run-time system will raise error <code class="codeph">ORA-06598: insufficient INHERIT PRIVILEGES privilege</code>.
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Use the use <code class="codeph">BEQUEATH CURRENT_USER</code> clause to set the view's function to be executed using invoker's rights. 
                              </p>
                           </li>
                        </ul>
                        <p>For example: </p><pre class="oac_no_warn" dir="ltr">CREATE VIEW MY_OBJECTS_VIEW BEQUEATH CURRENT_USER AS
 SELECT GET_OBJS_FUNCTION;
</pre><p>If you want the function within the view to be executed using the view owner's rights, then you should either omit the <code class="codeph">BEQUEATH</code> clause or set it to <code class="codeph">DEFINER</code>. 
                        </p>
                        <p>For example: </p><pre class="oac_no_warn" dir="ltr">CREATE VIEW my_objects_view BEQUEATH DEFINER AS
 SELECT OBJECT_NAME FROM USER_OBJECTS;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-EF5300C7-E153-4316-805E-0A87FF2EA676__GUID-3458CCE5-41A5-46CF-94FA-410038C5FF6F">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-4DEF8C03-0DCA-4B72-9EEC-F1141E076A2F" title="The INHERIT PRIVILEGES and INHERIT ANY PRIVILEGES privileges regulate the privileges used when invoker&#39;s rights procedures are run.">Controlling Invoker's Rights Privileges for Procedure Calls and View Access</a> for more information about how the <code class="codeph">INHERIT PRIVILEGE</code> privilege works
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/GRANT.html#SQLRF01603" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for additional information about granting the <code class="codeph">INHERIT</code> <code class="codeph">PRIVILEGES</code> and <code class="codeph">INHERIT</code> <code class="codeph">ANY</code> <code class="codeph">PRIVILEGES</code> privileges
                              </p>
                           </li>
                           <li>
                              <p><a href="../dbfsg/configuring-data-security.html#DBFSG433" target="_blank"><span><cite>Oracle Database Real Application Security Administrator's and Developer's Guide</cite></span></a> for information about how to use <code class="codeph">BEQUEATH CURRENT_USER</code> views with Oracle Database Real Application Security applications
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-2897C310-D0B5-4AB0-8237-384196C4EC81" title="The BEQEATH clause in the CREATE VIEW SQL statement can control definer&#39;s rights and invoker&#39;s rights in user-created views.">Definer's Rights and Invoker's Rights in Views</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG836"></a><div class="props_rev_3"><a id="GUID-E8238F8F-046F-411C-A0D4-BA3581A6907A" name="GUID-E8238F8F-046F-411C-A0D4-BA3581A6907A"></a><h4 id="DBSEG-GUID-E8238F8F-046F-411C-A0D4-BA3581A6907A" class="sect4">Finding the User Name or User ID of the Invoking User</h4>
                  <div>
                     <p>PL/SQL functions can be used to find the invoking user, based on whether invoker’s rights or definer’s rights are being used.</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Use the <code class="codeph">ORA_INVOKING_USER</code> or <code class="codeph">ORA_INVOKING_USERID</code> function to find the invoking user based on whether invoker's rights or definer's rights:
                              </p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ORA_INVOKING_USER</code>: Use this function to return the name of the user who is invoking the current statement or view. This function treats the intervening views as specified by their <code class="codeph">BEQUEATH</code> clauses. If the invoking user is an Oracle Database Real Application Security-defined user, then this function returns <code class="codeph">XS$NULL</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ORA_INVOKING_USERID</code>: Use this function to return the identifier (ID) of the user who is invoking the current statement or view. This function treats the intervening views as specified by their <code class="codeph">BEQUEATH</code> clauses. If the invoking user is an Oracle Database Real Application Security-defined user, then this function returns an ID that is common to all Real Application Security sessions but is different from the ID of any database user.
                                    </p>
                                    <p>For example:   </p><pre class="oac_no_warn" dir="ltr">CONNECT HR
Enter password: <span class="italic">password</span>

SELECT ORA_INVOKING_USER FROM DUAL;

ORA_INVOKING_USER
--------------------
HR</pre></li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E8238F8F-046F-411C-A0D4-BA3581A6907A__GUID-26B4D7B8-C366-41DB-B9AF-4BB23B283A8D">
                        <p class="notep1">See Also:</p>
                        <p><a href="../dbfsg/configuring-data-security.html#DBFSG436" target="_blank"><span><cite>Oracle Database Real Application Security Administrator's and Developer's Guide</cite></span></a> for information about similar functions that are used for Oracle Database Real Application Security applications
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-2897C310-D0B5-4AB0-8237-384196C4EC81" title="The BEQEATH clause in the CREATE VIEW SQL statement can control definer&#39;s rights and invoker&#39;s rights in user-created views.">Definer's Rights and Invoker's Rights in Views</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG795"></a><div class="props_rev_3"><a id="GUID-6B0BD428-F194-4344-B9EE-02466181EDCB" name="GUID-6B0BD428-F194-4344-B9EE-02466181EDCB"></a><h4 id="DBSEG-GUID-6B0BD428-F194-4344-B9EE-02466181EDCB" class="sect4">Finding BEQUEATH DEFINER and BEQUEATH_CURRENT_USER Views</h4>
                  <div>
                     <p>You can find out if a view is a <code class="codeph">BEQUEATH DEFINER</code> or <code class="codeph">BEQUEATH CURRENT_USER</code> view.
                     </p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>To find if a view is <code class="codeph">BEQUEATH DEFINER</code> or <code class="codeph">BEQUEATH CURRENT_USER</code> view, query the <code class="codeph">BEQUEATH</code> column of a <code class="codeph">*_VIEWS</code> or <code class="codeph">*_VIEWS_AE</code> static data dictionary view for that view.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-6B0BD428-F194-4344-B9EE-02466181EDCB__GUID-F88AA33D-70EA-47E5-9406-E745C6527A75">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../refrn/ALL_VIEWS.html#REFRN20305" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about <code class="codeph">*_VIEWS</code> static data dictionary views
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/ALL_VIEWS_AE.html#REFRN20696" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about <code class="codeph">*_VIEWS_AE</code> static data dictionary views
                              </p>
                           </li>
                        </ul>
                        <p>For example: </p><pre class="oac_no_warn" dir="ltr">SELECT BEQUEATH FROM USER_VIEWS WHERE VIEW_NAME = 'MY_OBJECTS';

BEQUEATH
------------
CURRENT_USER</pre></div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-2897C310-D0B5-4AB0-8237-384196C4EC81" title="The BEQEATH clause in the CREATE VIEW SQL statement can control definer&#39;s rights and invoker&#39;s rights in user-created views.">Definer's Rights and Invoker's Rights in Views</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG977"></a><div class="props_rev_3"><a id="GUID-45E77E8E-587F-42AF-A163-D814264341E2" name="GUID-45E77E8E-587F-42AF-A163-D814264341E2"></a><h3 id="DBSEG-GUID-45E77E8E-587F-42AF-A163-D814264341E2" class="sect3">Using Code Based Access Control for Definer's Rights and Invoker's Rights</h3>
               <div>
                  <p>Code based access control, used to attach database roles to PL/SQL functions, procedures, or packages, works well with invoker's rights and definer's procedures.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-7AA2D9C4-DB10-4BF1-AD4C-F48547F7AA82">About Using Code Based Access Control for Applications</a><br>You can use code based access control (CBAC) to better manage definer’s rights program units.
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-D7E76448-152C-4207-9D48-FE562E0D911C">Who Can Grant Code Based Access Control Roles to a Program Unit?</a><br>Code based access control roles can be granted to a program unit if a set of conditions are met. 
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-C00B198C-5770-4D89-958C-DB2ECE8FADC6">How Code Based Access Control Works with Invoker's Rights Program Units</a><br>Code based access control can run a program unit in an invoking user's context and with roles associated with this context.
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-D93C6165-9E9A-4E5F-987E-35DC46812C20">How Code Based Access Control Works with Definer's Rights Program Units</a><br>Code based access control can be used to secure definer’s rights. 
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-CD18ADC1-2068-4250-881A-10836818A390">Grants of Database Roles to Users for Their CBAC Grants</a><br>The <code class="codeph">DELEGATE</code> option in the <code class="codeph">GRANT</code> statement can limit privilege grants to roles by users responsible for CBAC grants.
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-7C59ADD4-BF48-4A16-A2AD-272F710EE48B">Grants and Revokes of Database Roles to a Program Unit</a><br>The <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> statements can grant database roles to or revoke database roles from a program unit.
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-1CBA23D1-FC6B-4544-A281-7D85071FF89D">Tutorial: Controlling Access to Sensitive Data Using Code Based Access Control</a><br>This tutorial demonstrates how to control access to sensitive data in the <code class="codeph">HR</code> schema by using code based access control. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-EF625176-A3AA-47F5-BAEE-248DBAAF22A3" title="Invoker’s rights and definer’s rights have several security advantages when used to control access to privileges to run user-created procedures.">Managing Security for Definer's Rights and Invoker's Rights</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG978"></a><div class="props_rev_3"><a id="GUID-7AA2D9C4-DB10-4BF1-AD4C-F48547F7AA82" name="GUID-7AA2D9C4-DB10-4BF1-AD4C-F48547F7AA82"></a><h4 id="DBSEG-GUID-7AA2D9C4-DB10-4BF1-AD4C-F48547F7AA82" class="sect4">About Using Code Based Access Control for Applications</h4>
                  <div>
                     <p>You can use code based access control (CBAC) to better manage definer’s rights program units.</p>
                     <p>Applications must often run program units in the caller's environment, while requiring elevated privileges. PL/SQL programs traditionally make use of definer's rights to temporarily elevate the privileges of the program. </p>
                     <p>However, definer's rights based program units run in the context of the definer or the owner of the program unit, as opposed to the invoker's context. Also, using definer's rights based programs often leads to the program unit getting more privileges than required.</p>
                     <p>Code based access control (CBAC) provides the solution by enabling you to attach database roles to a PL/SQL function, procedure, or package. These database roles are enabled at run time, enabling the program unit to execute with the required privileges in the calling user's environment. </p>
                     <p>You can create privilege analysis policies that capture the use of CBAC roles. </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="Privilege analysis dynamically analyzes the privileges and roles that users use and do not use.">Performing Privilege Analysis to Find Privilege Use</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-45E77E8E-587F-42AF-A163-D814264341E2" title="Code based access control, used to attach database roles to PL/SQL functions, procedures, or packages, works well with invoker&#39;s rights and definer&#39;s procedures.">Using Code Based Access Control for Definer's Rights and Invoker's Rights</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG1039"></a><div class="props_rev_3"><a id="GUID-D7E76448-152C-4207-9D48-FE562E0D911C" name="GUID-D7E76448-152C-4207-9D48-FE562E0D911C"></a><h4 id="DBSEG-GUID-D7E76448-152C-4207-9D48-FE562E0D911C" class="sect4">Who Can Grant Code Based Access Control Roles to a Program Unit?</h4>
                  <div>
                     <p>Code based access control roles can be granted to a program unit if a set of conditions are met. </p>
                     <p>These conditions are as follows:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>The grantor is user <code class="codeph">SYS</code> or owns the program unit.
                           </p>
                        </li>
                        <li>
                           <p>If the grantor owns the program unit, then the grantor must have the <code class="codeph">GRANT ANY ROLE</code> system privilege, or have the <code class="codeph">ADMIN</code> or <code class="codeph">DELEGATE</code> option for the roles that they want to grant to program units. 
                           </p>
                        </li>
                        <li>
                           <p>The roles to be granted are directly granted roles to the owner.</p>
                        </li>
                        <li>
                           <p>The roles to be granted are standard database roles.</p>
                        </li>
                     </ul>
                     <p>If these three conditions are not met, then error <code class="codeph">ORA-28702: Program unit string is not owned by the grantor</code> is raised if the first condition is not met, and error <code class="codeph">ORA-1924: role 'string' not granted or does not exist</code> is raised if the second and third conditions are not met.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-CD18ADC1-2068-4250-881A-10836818A390" title="The DELEGATE option in the GRANT statement can limit privilege grants to roles by users responsible for CBAC grants.">Grants of Database Roles to Users for Their CBAC Grants</a></li>
                           <li><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-7C59ADD4-BF48-4A16-A2AD-272F710EE48B" title="The GRANT and REVOKE statements can grant database roles to or revoke database roles from a program unit.">Grants and Revokes of Database Roles to a Program Unit</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-45E77E8E-587F-42AF-A163-D814264341E2" title="Code based access control, used to attach database roles to PL/SQL functions, procedures, or packages, works well with invoker&#39;s rights and definer&#39;s procedures.">Using Code Based Access Control for Definer's Rights and Invoker's Rights</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DBSEG980"></a><a id="DBSEG981"></a><a id="DBSEG979"></a><div class="props_rev_3"><a id="GUID-C00B198C-5770-4D89-958C-DB2ECE8FADC6" name="GUID-C00B198C-5770-4D89-958C-DB2ECE8FADC6"></a><h4 id="DBSEG-GUID-C00B198C-5770-4D89-958C-DB2ECE8FADC6" class="sect4">How Code Based Access Control Works with Invoker's Rights Program Units</h4>
                  <div>
                     <p>Code based access control can run a program unit in an invoking user's context and with roles associated with this context.</p>
                     <p>Consider a scenario where there are two application users, <code class="codeph">1</code> and <code class="codeph">2</code>. Application user <code class="codeph">2</code> creates the invoker's right program unit, grants database role <code class="codeph">2</code> to the invoker's rights unit, and then grants execute privileges on the invoker's rights unit to application user <code class="codeph">1</code>.
                     </p>
                     <p><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-C00B198C-5770-4D89-958C-DB2ECE8FADC6__CHDHEHGG">Figure 7-1</a> shows the database roles <code class="codeph">1</code> and <code class="codeph">2</code> granted to application users <code class="codeph">1</code> and <code class="codeph">2</code>, and an invoker's right program unit.
                     </p>
                     <div class="figure" id="GUID-C00B198C-5770-4D89-958C-DB2ECE8FADC6__CHDHEHGG">
                        <p class="titleinfigure">Figure 7-1 Roles Granted to Application Users and Invoker's Right Program Unit</p><img src="img/dbseg_vm_005.png" alt="Description of Figure 7-1 follows" title="Description of Figure 7-1 follows" longdesc="img_text/dbseg_vm_005.html"><br><a href="img_text/dbseg_vm_005.html">Description of "Figure 7-1 Roles Granted to Application Users and Invoker's Right Program Unit"</a></div>
                     <!-- class="figure" -->
                     <p>The grants are as follows:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Application user <code class="codeph">1</code> is directly granted database roles <code class="codeph">1</code> and <code class="codeph">4</code>.
                           </p>
                        </li>
                        <li>
                           <p>Application user <code class="codeph">2</code> is directly granted database role <code class="codeph">2</code>, which includes application roles <code class="codeph">3</code> and <code class="codeph">4</code>.
                           </p>
                        </li>
                        <li>
                           <p>The invoker's right program unit is granted database role <code class="codeph">2</code>.
                           </p>
                        </li>
                     </ul>
                     <p>When application user <code class="codeph">1</code> logs in and executes the invoker's rights program unit, then the invoker's rights unit executes with the combined database roles of user <code class="codeph">1</code> and the database roles attached to the invoker's rights unit.
                     </p>
                     <p><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-C00B198C-5770-4D89-958C-DB2ECE8FADC6__CHDDICAG">Figure 7-2</a> shows the security context in which the invoker's rights unit is executed. When application user <code class="codeph">1</code> first logs on, application user <code class="codeph">1</code> has the database <code class="codeph">PUBLIC</code> role (by default), and the database roles <code class="codeph">1</code> and <code class="codeph">4</code>, which have been granted to it. Application user <code class="codeph">1</code> next executes the invoker's rights program unit created by application user <code class="codeph">2</code>. 
                     </p>
                     <p>The invoker's rights unit executes in application user <code class="codeph">1</code>'s context, and has the additional database role <code class="codeph">2</code> attached to it. Database roles <code class="codeph">3</code> and <code class="codeph">4</code> are included, as they are a part of database role <code class="codeph">2</code>. After the invoker's rights unit exits, then application user <code class="codeph">1</code> only has the application roles that have been granted to it, <code class="codeph">PUBLIC</code>, role <code class="codeph">1</code>, and role <code class="codeph">4</code>.
                     </p>
                     <div class="figure" id="GUID-C00B198C-5770-4D89-958C-DB2ECE8FADC6__CHDDICAG">
                        <p class="titleinfigure">Figure 7-2 Security Context in Which Invoker's Right Program Unit IR Is Executed</p><img src="img/dbseg_vm_007.png" alt="Description of Figure 7-2 follows" title="Description of Figure 7-2 follows" longdesc="img_text/dbseg_vm_007.html"><br><a href="img_text/dbseg_vm_007.html">Description of "Figure 7-2 Security Context in Which Invoker's Right Program Unit IR Is Executed"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-45E77E8E-587F-42AF-A163-D814264341E2" title="Code based access control, used to attach database roles to PL/SQL functions, procedures, or packages, works well with invoker&#39;s rights and definer&#39;s procedures.">Using Code Based Access Control for Definer's Rights and Invoker's Rights</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG982"></a><a id="DBSEG983"></a><a id="DBSEG671"></a><div class="props_rev_3"><a id="GUID-D93C6165-9E9A-4E5F-987E-35DC46812C20" name="GUID-D93C6165-9E9A-4E5F-987E-35DC46812C20"></a><h4 id="DBSEG-GUID-D93C6165-9E9A-4E5F-987E-35DC46812C20" class="sect4">How Code Based Access Control Works with Definer's Rights Program Units</h4>
                  <div>
                     <p>Code based access control can be used to secure definer’s rights. </p>
                     <p>Code based access control works with definer's rights program units to enable the program unit to run using the defining user's rights, with the privileges of a combined set of database roles that are associated with this user.</p>
                     <p>Consider a scenario where application user <code class="codeph">2</code> creates a definer's rights program unit, grants role <code class="codeph">2</code> to the definer's rights program unit, and then grants the <code class="codeph">EXECUTE</code> privilege on the definer's rights program unit to application user <code class="codeph">1</code>.
                     </p>
                     <p><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-D93C6165-9E9A-4E5F-987E-35DC46812C20__CHDEFJDG">Figure 7-3</a> shows the database roles granted to application users <code class="codeph">1</code> and <code class="codeph">2</code>, and a definer's rights program unit.
                     </p>
                     <div class="figure" id="GUID-D93C6165-9E9A-4E5F-987E-35DC46812C20__CHDEFJDG">
                        <p class="titleinfigure">Figure 7-3 Roles Granted to Application Users and Definer's Rights Program Unit</p><img src="img/dbseg_vm_006.png" alt="Description of Figure 7-3 follows" title="Description of Figure 7-3 follows" longdesc="img_text/dbseg_vm_006.html"><br><a href="img_text/dbseg_vm_006.html">Description of "Figure 7-3 Roles Granted to Application Users and Definer's Rights Program Unit"</a></div>
                     <!-- class="figure" -->
                     <p>The grants are as follows:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Application user <code class="codeph">1</code> is directly granted database roles <code class="codeph">1</code> and <code class="codeph">4</code>.
                           </p>
                        </li>
                        <li>
                           <p>Application user <code class="codeph">2</code> is directly granted database role<code class="codeph">2</code>, which includes database roles <code class="codeph">3</code> and <code class="codeph">4</code>.
                           </p>
                        </li>
                        <li>
                           <p>The definer's right program unit is granted database role <code class="codeph">2</code>.
                           </p>
                        </li>
                     </ul>
                     <p>When application user <code class="codeph">1</code> logs in and executes definer's right program unit, then the definer's rights unit executes with the combined database roles of application user <code class="codeph">2</code> and the database roles attached to the definer's rights unit (roles <code class="codeph">2</code>, <code class="codeph">3</code>, and <code class="codeph">4</code>).
                     </p>
                     <p><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-D93C6165-9E9A-4E5F-987E-35DC46812C20__CHDGCDHC">Figure 7-4</a> shows the security context in which the definer's right program unit is executed. When application user <code class="codeph">1</code> first logs on, application user <code class="codeph">1</code> has the database <code class="codeph">PUBLIC</code> role (by default), and the database roles <code class="codeph">1</code> and<code class="codeph">4</code>, which have been granted to it. Application user <code class="codeph">1</code> next executes the definer's rights program unit created by application user <code class="codeph">2</code>. 
                     </p>
                     <p>The definer's rights program unit executes in application user <code class="codeph">2</code>'s context, and has the additional database role <code class="codeph">2</code> attached to it. Database roles <code class="codeph">3</code> and <code class="codeph">4</code> are included, as they are a part of database role <code class="codeph">2</code>. After the definer's rights unit exits, application user <code class="codeph">1</code> only has the database roles that have been granted to it (<code class="codeph">PUBLIC</code>, role <code class="codeph">1</code>, and role <code class="codeph">4</code>).
                     </p>
                     <div class="figure" id="GUID-D93C6165-9E9A-4E5F-987E-35DC46812C20__CHDGCDHC">
                        <p class="titleinfigure">Figure 7-4 Security Context in Which Definer's Right Program Unit DR Is Executed</p><img src="img/dbseg_vm_008.png" alt="Description of Figure 7-4 follows" title="Description of Figure 7-4 follows" longdesc="img_text/dbseg_vm_008.html"><br><a href="img_text/dbseg_vm_008.html">Description of "Figure 7-4 Security Context in Which Definer's Right Program Unit DR Is Executed"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-45E77E8E-587F-42AF-A163-D814264341E2" title="Code based access control, used to attach database roles to PL/SQL functions, procedures, or packages, works well with invoker&#39;s rights and definer&#39;s procedures.">Using Code Based Access Control for Definer's Rights and Invoker's Rights</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG676"></a><div class="props_rev_3"><a id="GUID-CD18ADC1-2068-4250-881A-10836818A390" name="GUID-CD18ADC1-2068-4250-881A-10836818A390"></a><h4 id="DBSEG-GUID-CD18ADC1-2068-4250-881A-10836818A390" class="sect4">Grants of Database Roles to Users for Their CBAC Grants</h4>
                  <div>
                     <p>The <code class="codeph">DELEGATE</code> option in the <code class="codeph">GRANT</code> statement can limit privilege grants to roles by users responsible for CBAC grants.
                     </p>
                     <p>When you grant a database role to a user who is responsible for CBAC grants, you can include the <code class="codeph">DELEGATE</code> option in the <code class="codeph">GRANT</code> statement to prevent giving the grantee additional privileges on the roles. 
                     </p>
                     <p>The <code class="codeph">DELEGATE</code> option enables the roles to be granted to program units, but it does not permit the granting of the role to other principals or the administration of the role itself. You also can use the <code class="codeph">ADMIN</code> option for the grants, which does permit the granting of the role to other principals. Both the <code class="codeph">ADMIN</code> and <code class="codeph">DELEGATE</code> options are compatible; that is, you can grant both to a user, though you must do this in separate <code class="codeph">GRANT</code> statements for each option. To find if a user has been granted a role with these options, query the <code class="codeph">DELEGATE_OPTION</code> column or the <code class="codeph">ADMIN_OPTION</code> column of either the <code class="codeph">USER_ROLE_PRIVS</code> or <code class="codeph">DBA_ROLE_PRIVS</code> for the user. 
                     </p>
                     <p>The syntax for using the <code class="codeph">DELEGATE</code> and <code class="codeph">ADMIN</code> option is as follows: 
                     </p><pre class="oac_no_warn" dir="ltr">GRANT <span class="italic">role_list</span> to <span class="italic">user_list</span> WITH DELEGATE OPTION;

GRANT <span class="italic">role_list</span> to <span class="italic">user_list</span> WITH ADMIN OPTION;
</pre><p>For example:</p><pre class="oac_no_warn" dir="ltr">GRANT cb_role1 to usr1 WITH DELEGATE OPTION;

GRANT cb_role1 to usr1 WITH ADMIN OPTION;

GRANT cb_role1, cb_role2 to usr1, usr2 with DELEGATE OPTION;

GRANT cb_role1, cb_role2 to usr1, usr2 with ADMIN OPTION;
</pre><p>In a multitenant environment, you can use the <code class="codeph">DELEGATE</code> option for common grants such as granting common roles to common users, just as you can with the <code class="codeph">ADMIN</code> option.
                     </p>
                     <p>For example: </p><pre class="oac_no_warn" dir="ltr">GRANT c##cb_role1 to c##usr1 WITH DELEGATE OPTION CONTAINER = ALL;
</pre><p>Be aware that CBAC grants themselves can only take place locally in a PDB.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-CD18ADC1-2068-4250-881A-10836818A390__GUID-1F8D528E-8C11-4FB8-B17E-D883F047F9E6">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/GRANT.html#SQLRF55020" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about the <code class="codeph">ADMIN</code> option
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-45E77E8E-587F-42AF-A163-D814264341E2" title="Code based access control, used to attach database roles to PL/SQL functions, procedures, or packages, works well with invoker&#39;s rights and definer&#39;s procedures.">Using Code Based Access Control for Definer's Rights and Invoker's Rights</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG984"></a><div class="props_rev_3"><a id="GUID-7C59ADD4-BF48-4A16-A2AD-272F710EE48B" name="GUID-7C59ADD4-BF48-4A16-A2AD-272F710EE48B"></a><h4 id="DBSEG-GUID-7C59ADD4-BF48-4A16-A2AD-272F710EE48B" class="sect4">Grants and Revokes of Database Roles to a Program Unit</h4>
                  <div>
                     <p>The <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> statements can grant database roles to or revoke database roles from a program unit.
                     </p>
                     <p>The following syntax to grants or revokes database roles for a PL/SQL function, procedure, or package:</p><pre class="oac_no_warn" dir="ltr">GRANT <span class="italic">role_list</span> TO <span class="italic">code_list</span> 
REVOKE {<span class="italic">role_list</span> | ALL} FROM <span class="italic">code_list</span>
 </pre><p>In this specification:</p><pre class="oac_no_warn" dir="ltr">role_list ::=  <span class="italic">code-based_role_name</span>[, <span class="italic">role_list</span>]
code_list ::=  {
      {FUNCTION  [<span class="italic">schema</span>.]<span class="italic">function_name</span>}
   |  {PROCEDURE [<span class="italic">schema</span>.]<span class="italic">procedure_name</span>}
   |  {PACKAGE   [<span class="italic">schema</span>.]<span class="italic">package_name</span>}
                 }[, <span class="italic">code_list</span>]
</pre><p>For example:</p><pre class="oac_no_warn" dir="ltr">GRANT cb_role1 TO FUNCTION func1, PACKAGE pack1;

GRANT cb_role2, cb_role3 TO FUNCTION HR.func2, PACKAGE SYS.pack2;

REVOKE cb_role1 FROM FUNCTION func1, PACKAGE pack1;

REVOKE ALL FROM FUNCTION HR.func2, PACKAGE SYS.pack2;</pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-D7E76448-152C-4207-9D48-FE562E0D911C" title="Code based access control roles can be granted to a program unit if a set of conditions are met.">Who Can Grant Code Based Access Control Roles to a Program Unit?</a></li>
                           <li><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-CD18ADC1-2068-4250-881A-10836818A390" title="The DELEGATE option in the GRANT statement can limit privilege grants to roles by users responsible for CBAC grants.">Grants of Database Roles to Users for Their CBAC Grants</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-45E77E8E-587F-42AF-A163-D814264341E2" title="Code based access control, used to attach database roles to PL/SQL functions, procedures, or packages, works well with invoker&#39;s rights and definer&#39;s procedures.">Using Code Based Access Control for Definer's Rights and Invoker's Rights</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DBSEG678"></a><div class="props_rev_3"><a id="GUID-1CBA23D1-FC6B-4544-A281-7D85071FF89D" name="GUID-1CBA23D1-FC6B-4544-A281-7D85071FF89D"></a><h4 id="DBSEG-GUID-1CBA23D1-FC6B-4544-A281-7D85071FF89D" class="sect4">Tutorial: Controlling Access to Sensitive Data Using Code Based Access Control</h4>
                  <div>
                     <p>This tutorial demonstrates how to control access to sensitive data in the <code class="codeph">HR</code> schema by using code based access control. 
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-CCB52926-DA6F-4063-8881-F4F180225837">About This Tutorial</a><br>In this tutorial, you will create a user who must have access to specific employee information for his department. 
                        </li>
                        <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-9C8DA467-25DF-4093-A004-E08E704821A1">Step 1: Create the User and Grant HR the CREATE ROLE Privilege</a><br>To begin, you must create the <code class="codeph">"Finance"</code> user account and then grant this the <code class="codeph">HR</code> user the <code class="codeph">CREATE ROLE</code> privilege.
                        </li>
                        <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-214608A1-D504-4E9C-81EF-BDBCB7631CD9">Step 2: Create the print_employees Invoker's Rights Procedure</a><br>The <code class="codeph">print_employees</code> invoker's rights procedure shows employee information in the current user's department. 
                        </li>
                        <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-5B846F6A-87A3-482F-B3D8-E95D04DCF939">Step 3: Create the hr_clerk Role and Grant Privileges for It</a><br>Next, you are ready to create the <code class="codeph">hr_clerk</code> role, which must have the <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">print_employees</code> procedure.
                        </li>
                        <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-7316DA6F-4746-43ED-81A6-DBB176227BD7">Step 4: Test the Code Based Access Control HR.print_employees Procedure</a><br>At this stage, you are ready to test the code based access control <code class="codeph">HR.print_employees</code> procedure.
                        </li>
                        <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-770D86DD-5B8C-4A11-B4CB-2488C8F0E64B">Step 5: Create the view_emp_role Role and Grant Privileges for It</a><br>Next, user <code class="codeph">HR</code> must create the <code class="codeph">view_emp_role</code> role and then grant privileges to it.
                        </li>
                        <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-B124BA6A-E0C2-4C7E-9B0D-8FD7BD4810E2">Step 6: Test the HR.print_employees Procedure Again</a><br>With the appropriate privileges in place, user <code class="codeph">"Finance"</code> can try the <code class="codeph">HR.print_employees</code> procedure again.
                        </li>
                        <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-AC53C480-FB4E-44D5-A08C-091ECD614417">Step 7: Remove the Components of This Tutorial</a><br>If you no longer need the components of this tutorial, then you can remove them.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-45E77E8E-587F-42AF-A163-D814264341E2" title="Code based access control, used to attach database roles to PL/SQL functions, procedures, or packages, works well with invoker&#39;s rights and definer&#39;s procedures.">Using Code Based Access Control for Definer's Rights and Invoker's Rights</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG679"></a><div class="props_rev_3"><a id="GUID-CCB52926-DA6F-4063-8881-F4F180225837" name="GUID-CCB52926-DA6F-4063-8881-F4F180225837"></a><h5 id="DBSEG-GUID-CCB52926-DA6F-4063-8881-F4F180225837" class="sect5">About This Tutorial</h5>
                     <div>
                        <p>In this tutorial, you will create a user who must have access to specific employee information for his department. </p>
                        <p></p>
                        <p>However, the table <code class="codeph">HR.EMPLOYEES</code> contains sensitive information such as employee salaries, which must not be accessible to the user. You will implement access control using code based access control. The employee data will be shown to the user through an invoker's rights procedure. Instead of granting the <code class="codeph">SELECT</code> privilege directly to the user, you will grant the <code class="codeph">SELECT</code> privilege to the invoker's rights procedure through a database role. In the procedure, you will hide the sensitive information, such as salaries. Because the procedure is an invoker's rights procedure, you know the caller's context inside the procedure. In this case, the caller's context is for the Finance department. The user is named <code class="codeph">"Finance"</code>, so that only data for employees who work in the Finance department is accessible to the user.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-1CBA23D1-FC6B-4544-A281-7D85071FF89D" title="This tutorial demonstrates how to control access to sensitive data in the HR schema by using code based access control.">Tutorial: Controlling Access to Sensitive Data Using Code Based Access Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG680"></a><div class="props_rev_3"><a id="GUID-9C8DA467-25DF-4093-A004-E08E704821A1" name="GUID-9C8DA467-25DF-4093-A004-E08E704821A1"></a><h5 id="DBSEG-GUID-9C8DA467-25DF-4093-A004-E08E704821A1" class="sect5">Step 1: Create the User and Grant HR the CREATE ROLE Privilege</h5>
                     <div>
                        <p>To begin, you must create the <code class="codeph">"Finance"</code> user account and then grant this the <code class="codeph">HR</code> user the <code class="codeph">CREATE ROLE</code> privilege.
                        </p>
                        <ol>
                           <li class="stepexpand"><span>Log into the database instance as an administrator who has privileges to create user accounts and roles.</span><div>
                                 <p>For example: </p><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin
Enter password: <span class="italic">password</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Create the <code class="codeph">"Finance"</code> user account.</span><div><pre class="oac_no_warn" dir="ltr">GRANT CONNECT TO "Finance" IDENTIFIED BY <span class="italic">password</span>;
</pre><p>Ensure that you enter <code class="codeph">"Finance"</code> in the case shown, enclosed by double quotation marks. Follow the guidelines in <a href="configuring-authentication.html#GUID-AA1AA635-1CD5-422E-B8CA-681ED7C253CA" title="Oracle provides a set of minimum requirements for passwords.">Minimum Requirements for Passwords</a> to replace <span class="italic"><code class="codeph">password</code></span> with a password that is secure.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Grant the <code class="codeph">CREATE ROLE</code> privilege to user <code class="codeph">HR</code>.</span><div><pre class="oac_no_warn" dir="ltr">GRANT CREATE ROLE TO HR;</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-1CBA23D1-FC6B-4544-A281-7D85071FF89D" title="This tutorial demonstrates how to control access to sensitive data in the HR schema by using code based access control.">Tutorial: Controlling Access to Sensitive Data Using Code Based Access Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG681"></a><div class="props_rev_3"><a id="GUID-214608A1-D504-4E9C-81EF-BDBCB7631CD9" name="GUID-214608A1-D504-4E9C-81EF-BDBCB7631CD9"></a><h5 id="DBSEG-GUID-214608A1-D504-4E9C-81EF-BDBCB7631CD9" class="sect5">Step 2: Create the print_employees Invoker's Rights Procedure</h5>
                     <div>
                        <p>The <code class="codeph">print_employees</code> invoker's rights procedure shows employee information in the current user's department. 
                        </p>
                        <div class="section">You must create this procedure as an invoker's rights procedure because you must know who the caller is when inside the procedure.</div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Connect as user <code class="codeph">HR</code>.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT HR
Enter password: <span class="italic">password</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Create the <code class="codeph">print_employees</code> procedure as follows.</span><div><pre class="pre codeblock"><code>create or replace procedure print_employees
authid current_user
as 
begin
  dbms_output.put_line(rpad('ID', 10) ||
                       rpad('First Name', 15)  ||
                       rpad('Last Name', 15)   ||
                       rpad('Email', 15)       ||
                       rpad('Phone Number', 20));
  for rec in (select e.employee_id, e.first_name, e.last_name, 
                     e.email, e.phone_number
                from hr.employees e, hr.departments d 
               where e.department_id = d.department_id
                 and d.department_name = 
                     sys_context('userenv', 'current_user'))
  loop
    dbms_output.put_line(rpad(rec.employee_ID, 10)  ||
                         rpad(rec.first_name, 15)   || 
                         rpad(rec.last_name, 15)    ||
                         rpad(rec.email, 15)        ||
                         rpad(rec.phone_number, 20));
  end loop;
end;
/</code></pre><p>In this example:</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">dbms_output.put_line</code> prints the table header.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">for rec in (select ...</code> finds the employee information for the caller's department, which for this tutorial is the Finance department for user <code class="codeph">"Finance"</code>. Had you created a user named <code class="codeph">"Marketing"</code> (which is also listed in the <code class="codeph">DEPARTMENT_NAME</code> column of the <code class="codeph">HR.EMPLOYEES</code> table), then the procedure could capture information for Marketing employees.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">loop</code> and <code class="codeph">dbms_output.put_line</code> populate the output with the employee data from the Finance department. 
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-1CBA23D1-FC6B-4544-A281-7D85071FF89D" title="This tutorial demonstrates how to control access to sensitive data in the HR schema by using code based access control.">Tutorial: Controlling Access to Sensitive Data Using Code Based Access Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG682"></a><div class="props_rev_3"><a id="GUID-5B846F6A-87A3-482F-B3D8-E95D04DCF939" name="GUID-5B846F6A-87A3-482F-B3D8-E95D04DCF939"></a><h5 id="DBSEG-GUID-5B846F6A-87A3-482F-B3D8-E95D04DCF939" class="sect5">Step 3: Create the hr_clerk Role and Grant Privileges for It</h5>
                     <div>
                        <p>Next, you are ready to create the <code class="codeph">hr_clerk</code> role, which must have the <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">print_employees</code> procedure.
                        </p>
                        <div class="section">After you create this role, you must grant it to <code class="codeph">"Finance"</code>.
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Create the <code class="codeph">hr_clerk</code> role. </span><div><pre class="oac_no_warn" dir="ltr">CREATE ROLE hr_clerk;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Grant the <code class="codeph">EXECUTE</code> privilege on the print_employees procedure to the <code class="codeph">hr_clerk</code> role.</span><div><pre class="oac_no_warn" dir="ltr">GRANT EXECUTE ON print_employees TO hr_clerk;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Grant the <code class="codeph">hr_clerk</code> role to <code class="codeph">"Finance"</code>.</span><div><pre class="oac_no_warn" dir="ltr">GRANT hr_clerk TO "Finance";</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-1CBA23D1-FC6B-4544-A281-7D85071FF89D" title="This tutorial demonstrates how to control access to sensitive data in the HR schema by using code based access control.">Tutorial: Controlling Access to Sensitive Data Using Code Based Access Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG683"></a><div class="props_rev_3"><a id="GUID-7316DA6F-4746-43ED-81A6-DBB176227BD7" name="GUID-7316DA6F-4746-43ED-81A6-DBB176227BD7"></a><h5 id="DBSEG-GUID-7316DA6F-4746-43ED-81A6-DBB176227BD7" class="sect5">Step 4: Test the Code Based Access Control HR.print_employees Procedure</h5>
                     <div>
                        <p>At this stage, you are ready to test the code based access control <code class="codeph">HR.print_employees</code> procedure.
                        </p>
                        <div class="section">To test the code based access control <code class="codeph">HR.print_employees</code> procedure, user <code class="codeph">"Finance"</code> must query the <code class="codeph">HR.EMPLOYEES</code> table and try to run the <code class="codeph">HR.print_employees</code> procedure.
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Connect to the database instance as user <code class="codeph">"Finance"</code>. </span><div><pre class="oac_no_warn" dir="ltr">CONNECT "Finance"
Enter password: <span class="italic">password</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Try to directly query the <code class="codeph">HR.EMPLOYEES</code> table. </span><div><pre class="oac_no_warn" dir="ltr">SELECT EMPLOYEE_ID, FIRST_NAME, LAST_NAME, SALARY FROM HR.EMPLOYEES;
</pre><p>The query fails because user <code class="codeph">Finance</code> does not have the <code class="codeph">SELECT</code> privilege for <code class="codeph">HR.EMPLOYEES</code>. 
                                 </p><pre class="oac_no_warn" dir="ltr">ERROR at line 1:
ORA-00942: table or view does not exist
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Execute the <code class="codeph">HR.print_employees</code> procedure. </span><div><pre class="oac_no_warn" dir="ltr">EXEC HR.print_employees;
</pre><p>The query fails because user <code class="codeph">"Finance"</code> does not have the appropriate privileges.
                                 </p><pre class="oac_no_warn" dir="ltr">ERROR at line 1:
ORA-00942: table or view does not exist
ORA-06512: at "HR.PRINT_EMPLOYEES", line 13ORA-06512: at line 1</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-1CBA23D1-FC6B-4544-A281-7D85071FF89D" title="This tutorial demonstrates how to control access to sensitive data in the HR schema by using code based access control.">Tutorial: Controlling Access to Sensitive Data Using Code Based Access Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG684"></a><div class="props_rev_3"><a id="GUID-770D86DD-5B8C-4A11-B4CB-2488C8F0E64B" name="GUID-770D86DD-5B8C-4A11-B4CB-2488C8F0E64B"></a><h5 id="DBSEG-GUID-770D86DD-5B8C-4A11-B4CB-2488C8F0E64B" class="sect5">Step 5: Create the view_emp_role Role and Grant Privileges for It</h5>
                     <div>
                        <p>Next, user <code class="codeph">HR</code> must create the <code class="codeph">view_emp_role</code> role and then grant privileges to it.
                        </p>
                        <div class="section">User <code class="codeph">HR</code> grants the <code class="codeph">SELECT</code> privilege  <code class="codeph">HR.EMPLOYEES</code> and <code class="codeph">HR.DEPARTMENTS</code> to the <code class="codeph">view_emp_role</code> role, and then grants <code class="codeph">SELECT</code> on <code class="codeph">HR.EMPLOYEES</code> and <code class="codeph">HR.DEPARTMENTS</code> to the <code class="codeph">view_emp_role</code> role.
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Connect as user <code class="codeph">HR</code>. </span><div><pre class="oac_no_warn" dir="ltr">CONNECT HR
Enter password: <span class="italic">password</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Create the <code class="codeph">view_emp_role</code> role.</span><div><pre class="oac_no_warn" dir="ltr">CREATE ROLE view_emp_role;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Grant the <code class="codeph">SELECT</code> privilege on <code class="codeph">HR.EMPLOYEES</code> and <code class="codeph">HR.DEPARTMENTS</code> to the <code class="codeph">view_emp_role</code> role.</span><div><pre class="oac_no_warn" dir="ltr">GRANT SELECT ON HR.EMPLOYEES TO view_emp_role;
GRANT SELECT ON HR.DEPARTMENTS TO view_emp_role;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Grant the <code class="codeph">view_emp_role</code> role to the <code class="codeph">HR.print_employees</code> invoker's rights procedure.</span><div><pre class="oac_no_warn" dir="ltr">GRANT view_emp_role TO PROCEDURE HR.print_employees;</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-1CBA23D1-FC6B-4544-A281-7D85071FF89D" title="This tutorial demonstrates how to control access to sensitive data in the HR schema by using code based access control.">Tutorial: Controlling Access to Sensitive Data Using Code Based Access Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG685"></a><div class="props_rev_3"><a id="GUID-B124BA6A-E0C2-4C7E-9B0D-8FD7BD4810E2" name="GUID-B124BA6A-E0C2-4C7E-9B0D-8FD7BD4810E2"></a><h5 id="DBSEG-GUID-B124BA6A-E0C2-4C7E-9B0D-8FD7BD4810E2" class="sect5">Step 6: Test the HR.print_employees Procedure Again</h5>
                     <div>
                        <p>With the appropriate privileges in place, user <code class="codeph">"Finance"</code> can try the <code class="codeph">HR.print_employees</code> procedure again.
                        </p>
                        <ol>
                           <li class="stepexpand"><span>Connect as user <code class="codeph">"Finance"</code>.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT "Finance"
Enter password: <span class="italic">password</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Set the server output to display. </span><div><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Try to directly query the <code class="codeph">HR.EMPLOYEES</code> table. </span><div><pre class="oac_no_warn" dir="ltr">SELECT EMPLOYEE_ID, FIRST_NAME, LAST_NAME, SALARY FROM HR.EMPLOYEES;
</pre><p>The query fails. </p><pre class="oac_no_warn" dir="ltr">ERROR at line 1:
ORA-00942: table or view does not exist
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Execute the <code class="codeph">HR.print_employees</code> procedure to show the employee information.</span><div><pre class="oac_no_warn" dir="ltr">EXEC HR.print_employees;
</pre><p>The call succeeds. </p><pre class="oac_no_warn" dir="ltr">ID        First Name     Last Name      Email          Phone Number
108       Nancy          Greenberg      NGREENBE       515.124.4569
109       Daniel         Faviet         DFAVIET        515.124.4169
110       John           Chen           JCHEN          515.124.4269
111       Ismael         Sciarra        ISCIARRA       515.124.4369
112       Jose Manuel    Urman          JMURMAN        515.124.4469
113       Luis           Popp           LPOPP          515.124.4567

PL/SQL procedure successfully completed.</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-1CBA23D1-FC6B-4544-A281-7D85071FF89D" title="This tutorial demonstrates how to control access to sensitive data in the HR schema by using code based access control.">Tutorial: Controlling Access to Sensitive Data Using Code Based Access Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG947"></a><div class="props_rev_3"><a id="GUID-AC53C480-FB4E-44D5-A08C-091ECD614417" name="GUID-AC53C480-FB4E-44D5-A08C-091ECD614417"></a><h5 id="DBSEG-GUID-AC53C480-FB4E-44D5-A08C-091ECD614417" class="sect5">Step 7: Remove the Components of This Tutorial</h5>
                     <div>
                        <p>If you no longer need the components of this tutorial, then you can remove them.</p>
                        <ol>
                           <li class="stepexpand"><span>Connect as a user with administrative privileges.</span><div>
                                 <p>For example: </p><pre class="oac_no_warn" dir="ltr">CONNECT sec_admin
Enter password: <span class="italic">password</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Drop the user <code class="codeph">"Finance"</code>. </span><div><pre class="oac_no_warn" dir="ltr">DROP USER "Finance";
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Drop the <code class="codeph">hr_clerk</code> role. </span><div><pre class="oac_no_warn" dir="ltr">DROP ROLE hr_clerk;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Connect as user <code class="codeph">HR</code>. </span><div><pre class="oac_no_warn" dir="ltr">CONNECT HR
Enter password: <span class="italic">password</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Drop the view_emp_role role and the <code class="codeph">HR.print_employees</code> procedure. </span><div><pre class="oac_no_warn" dir="ltr">DROP ROLE view_emp_role;
DROP PROCEDURE print_employees;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Connect as the administrative user.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT sec_admin
Enter password: <span class="italic">password</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Revoke the <code class="codeph">CREATE ROLE</code> privilege from <code class="codeph">HR</code>. </span><div><pre class="oac_no_warn" dir="ltr">REVOKE CREATE ROLE FROM HR;</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-1CBA23D1-FC6B-4544-A281-7D85071FF89D" title="This tutorial demonstrates how to control access to sensitive data in the HR schema by using code based access control.">Tutorial: Controlling Access to Sensitive Data Using Code Based Access Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-B354724F-BD35-47C7-A699-93C2B6389555" name="GUID-B354724F-BD35-47C7-A699-93C2B6389555"></a><h3 id="DBSEG-GUID-B354724F-BD35-47C7-A699-93C2B6389555" class="sect3">Controlling Definer's Rights Privileges for Database Links</h3>
               <div>
                  <p>You can control privilege grants for definer’s rights procedures if your applications use database links and definer’s rights procedures.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-ABDCBD05-6B09-4A4D-8B2D-0DE70A165050">About Controlling Definer's Rights Privileges for Database Links</a><br>When a definer’s rights procedure connects to a database link, operations on the database link should use the procedure owner’s credentials. 
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-F5B2E3CA-0D55-470C-8A08-A1547ADD8B40">Grants of the INHERIT REMOTE PRIVILEGES Privilege to Other Users</a><br>The <code class="codeph">INHERIT REMOTE PRIVILEGES</code> privilege enables the current user to have explicit privileges over the connected user in the database.
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-647FDF5D-1037-4182-8B47-5F0EE3544C41">Example: Granting INHERIT REMOTE PRIVILEGES on a Connected User</a><br>You can grant the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> privilege on a connected user to the current user. 
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-8F17EFE1-6F10-4FB1-BE7D-EF1D4CFE0044">Grants of the INHERIT ANY REMOTE PRIVILEGES Privilege to Other Users</a><br>The <code class="codeph">INHERIT ANY REMOTE PRIVILEGES</code> privilege enables the grantee user to open a <code class="codeph"><span class="codeinlineitalic">connected_user</span></code> database link as any user. 
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-AE54CF0B-B3B3-4067-B0B2-53D2F6FAF4EF">Revokes of the INHERIT [ANY] REMOTE PRIVILEGES Privilege</a><br>The methods for revoking the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> and <code class="codeph">INHERIT ANY REMOTE PRIVILEGES</code> privileges differ. 
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-9B46EE01-E7D5-41C6-947D-AB090430CFFE">Example: Revoking the INHERIT REMOTE PRIVILEGES Privilege</a><br>The <code class="codeph">REVOKE</code> SQL statement can revoke the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> privilege.
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-77A565F9-65D6-404D-A5CE-CD2D4E5F5FA4">Example: Revoking the INHERIT REMOTE PRIVILEGES Privilege from PUBLIC</a><br>The <code class="codeph">REVOKE</code> SQL statement can revoke the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> from <code class="codeph">PUBLIC</code>, as well as from individual procedure owners. 
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-D395C9FA-D9C5-4044-BC85-E09BF191BD23">Tutorial: Using a Database Link in a Definer's Rights Procedure</a><br>This tutorial demonstrates how the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> privilege works in a definer's rights procedure that uses a database link. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-EF625176-A3AA-47F5-BAEE-248DBAAF22A3" title="Invoker’s rights and definer’s rights have several security advantages when used to control access to privileges to run user-created procedures.">Managing Security for Definer's Rights and Invoker's Rights</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-ABDCBD05-6B09-4A4D-8B2D-0DE70A165050" name="GUID-ABDCBD05-6B09-4A4D-8B2D-0DE70A165050"></a><h4 id="DBSEG-GUID-ABDCBD05-6B09-4A4D-8B2D-0DE70A165050" class="sect4">About Controlling Definer's Rights Privileges for Database Links</h4>
                  <div>
                     <p>When a definer’s rights procedure connects to a database link, operations on the database link should use the procedure owner’s credentials. </p>
                     <p>The <code class="codeph">INHERIT REMOTE PRIVILEGES</code> and <code class="codeph">INHERIT ANY REMOTE PRIVILEGES</code> privileges apply when a connected user database link is used with a definer’s rights procedure. These privileges allow the use of the credentials of the logged-in user for connected user database link operations with definer rights procedures.
                     </p>
                     <p>You can perform a grant of the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> and <code class="codeph">INHERIT ANY REMOTE PRIVILEGES</code> privileges so the users who invoke the definer’s rights procedure can use a connected user database link within a definer’s rights block. A definer’s rights procedure executes with the privileges of the procedure owner. However, a connected user database link operation must have the credentials of the logged in user. Hence, the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> and <code class="codeph">INHERIT ANY REMOTE PRIVILEGES</code> privileges are required to be granted to enable the database link operations within the definer’s rights block.
                     </p>
                     <p>Be aware that during an upgrade, the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> and <code class="codeph">INHERIT ANY REMOTE PRIVILEGES</code> privileges are not granted by default to any existing users. 
                     </p>
                     <p>The <code class="codeph">INHERIT REMOTE PRIVILEGES</code> and <code class="codeph">INHERIT ANY REMOTE PRIVILEGES</code> privileges apply only to situations in which users are trying to connect to user database links in a definer’s rights procedure. In addition, these privileges apply to both privately created and publicly created database links. By default, database links are created as private links. In addition, by default, <code class="codeph">INHERIT REMOTE PRIVILEGES</code> is not granted to <code class="codeph">PUBLIC</code>.
                     </p>
                     <p>The ways that you can perform grants of these privileges are as follows:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">GRANT INHERIT REMOTE PRIVILEGES ON USER <span class="codeinlineitalic">dbuser_1</span> TO <span class="codeinlineitalic">dbuser_2</span></code>: In this scenario, <code class="codeph">dbuser_1</code> can explicitly grant the <code class="codeph">INHERIT REMOTE PRIVILEGE</code> privilege to <code class="codeph">dbuser_2</code> and use a definer’s rights procedure that user <code class="codeph">dbuser_2</code> owns. 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">GRANT INHERIT REMOTE PRIVILEGES ON USER <span class="codeinlineitalic">dbuser_1</span> TO PUBLIC</code>. In this scenario, <code class="codeph">dbuser_1</code> grants the <code class="codeph">INHERIT REMOTE PRIVILEGE</code> privilege to public. This grant enables <code class="codeph">dbuser_1</code> to use the definer’s rights procedures that any other user owns. 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">GRANT INHERIT ANY REMOTE PRIVILEGES TO <span class="codeinlineitalic">dbuser_2</span></code>: In this scenario, any user can use the definer’s rights procedures that <code class="codeph">dbuser_2</code> owns. 
                           </p>
                        </li>
                     </ul>
                     <p>If the user does not have the <code class="codeph">INHERIT REMOTE PRIVILEGE</code> privilege and tries to execute the definer’s rights privilege, then the <code class="codeph">ORA-25433: User  does not have INHERIT REMOTE PRIVILEGES</code> error appears.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-B354724F-BD35-47C7-A699-93C2B6389555" title="You can control privilege grants for definer’s rights procedures if your applications use database links and definer’s rights procedures.">Controlling Definer's Rights Privileges for Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-F5B2E3CA-0D55-470C-8A08-A1547ADD8B40" name="GUID-F5B2E3CA-0D55-470C-8A08-A1547ADD8B40"></a><h4 id="DBSEG-GUID-F5B2E3CA-0D55-470C-8A08-A1547ADD8B40" class="sect4">Grants of the INHERIT REMOTE PRIVILEGES Privilege to Other Users</h4>
                  <div>
                     <p>The <code class="codeph">INHERIT REMOTE PRIVILEGES</code> privilege enables the current user to have explicit privileges over the connected user in the database.
                     </p>
                     <p>The syntax for granting the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> privilege is as follows: 
                     </p><pre class="oac_no_warn" dir="ltr">GRANT INHERIT REMOTE PRIVILEGES ON USER <span class="italic">connected_user</span> TO <span class="italic">current_user</span>:</pre><p>In this specification:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic">connected_user</span></code> is the user who runs the definer's rights procedure.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic">current_user</span></code> is the user who owns the definer's right procedure. This value must be a database user account. As an alternative to granting the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> privilege to the procedure's owner, you can grant the privilege to a role that is in turn granted to the procedure.
                           </p>
                        </li>
                     </ul>
                     <p>Users or roles who own the definer's rights procedures must have the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> privilege granted to them by users who will run their definer's rights procedures. 
                     </p>
                     <p>Any user can grant or revoke the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> privilege on themselves to the user whose definer's rights procedures they want to run.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-B354724F-BD35-47C7-A699-93C2B6389555" title="You can control privilege grants for definer’s rights procedures if your applications use database links and definer’s rights procedures.">Controlling Definer's Rights Privileges for Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-647FDF5D-1037-4182-8B47-5F0EE3544C41" name="GUID-647FDF5D-1037-4182-8B47-5F0EE3544C41"></a><h4 id="DBSEG-GUID-647FDF5D-1037-4182-8B47-5F0EE3544C41" class="sect4">Example: Granting INHERIT REMOTE PRIVILEGES on a Connected User</h4>
                  <div>
                     <p>You can grant the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> privilege on a connected user to the current user. 
                     </p>
                     <p>In this example, the connected user, <code class="codeph">jward</code>, must have remote privileges on the current user, <code class="codeph">ebrown</code>. This enables <code class="codeph">jward</code> to execute the definer's right procedure that <code class="codeph">ebrown</code> created.
                     </p>
                     <p><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-647FDF5D-1037-4182-8B47-5F0EE3544C41__GRANTINGINHERITREMOTEPRIVILEGESONAC-FB84E1C6">Example 7-4</a> shows how an administrator (or user <code class="codeph">jward</code>) can grant the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> on user <code class="codeph">jward</code> to user <code class="codeph">ebrown</code>. This privilege grant enables any definer's rights procedure that <code class="codeph">ebrown</code> writes, or will write in the future, to access <code class="codeph">ebrown</code>'s privileges when the procedure is run.
                     </p>
                     <div class="example" id="GUID-647FDF5D-1037-4182-8B47-5F0EE3544C41__GRANTINGINHERITREMOTEPRIVILEGESONAC-FB84E1C6">
                        <p class="titleinexample">Example 7-4 Granting INHERIT REMOTE PRIVILEGES on a Connected User to the Current User</p><pre class="oac_no_warn" dir="ltr">GRANT INHERIT REMOTE PRIVILEGES on user jward to ebrown;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-B354724F-BD35-47C7-A699-93C2B6389555" title="You can control privilege grants for definer’s rights procedures if your applications use database links and definer’s rights procedures.">Controlling Definer's Rights Privileges for Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-8F17EFE1-6F10-4FB1-BE7D-EF1D4CFE0044" name="GUID-8F17EFE1-6F10-4FB1-BE7D-EF1D4CFE0044"></a><h4 id="DBSEG-GUID-8F17EFE1-6F10-4FB1-BE7D-EF1D4CFE0044" class="sect4">Grants of the INHERIT ANY REMOTE PRIVILEGES Privilege to Other Users</h4>
                  <div>
                     <p>The <code class="codeph">INHERIT ANY REMOTE PRIVILEGES</code> privilege enables the grantee user to open a <code class="codeph"><span class="codeinlineitalic">connected_user</span></code> database link as any user. 
                     </p>
                     <p>As with all <code class="codeph">ANY</code> privileges, <code class="codeph">INHERIT ANY REMOTE PRIVILEGES</code> is a powerful privilege that must only be granted to trusted users. By default, user <code class="codeph">SYS</code> has the <code class="codeph">INHERIT ANY REMOTE PRIVILEGES</code> system privilege <code class="codeph">WITH GRANT OPTION</code>. To find users who have been granted the <code class="codeph">INHERIT ANY REMOTE PRIVILEGES</code> privilege, query the <code class="codeph">DBA_SYS_PRIVS</code> data dictionary view.
                     </p>
                     <p>For better security in a multitenant environment, Oracle recommends that you protect the <code class="codeph">INHERIT ANY REMOTE PRIVILEGES</code> privilege with a PDB lockdown profile. A PDB lockdown profile prevents local pluggable database (PDB) users from opening a connected user database link as a common user, irrespective of the kind of <code class="codeph">INHERIT REMOTE PRIVILEGE</code> the PDB user has. If the PDB is protected by a PDB lockdown profile, then grants such as <code class="codeph">GRANT INHERIT REMOTE PRIVILEGES</code> and <code class="codeph">GRANT INHERIT ANY REMOTE</code> privileges succeed but the effects of these grants do not apply as long as the PDB lockdown continues. 
                     </p>
                     <p>The syntax for granting the <code class="codeph">INHERIT ANY REMOTE PRIVILEGES</code> privilege is as follows:
                     </p><pre class="oac_no_warn" dir="ltr">GRANT INHERIT ANY REMOTE PRIVILEGES TO <span class="italic">current_user</span>;</pre><p>In this specification, <code class="codeph"><span class="codeinlineitalic">current_user</span></code> is the user who owns the define’s right procedure.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="configuring-privilege-and-role-authorization.html#GUID-AB5E62DB-7E2A-4B5A-BA96-A2BD2DF15275" title="You can use PDB lockdown profiles in a multitenant environment to restrict sets of user operations in pluggable databases (PDBs).">Restricting Operations on PDBs Using PDB Lockdown Profiles</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-B354724F-BD35-47C7-A699-93C2B6389555" title="You can control privilege grants for definer’s rights procedures if your applications use database links and definer’s rights procedures.">Controlling Definer's Rights Privileges for Database Links</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-AE54CF0B-B3B3-4067-B0B2-53D2F6FAF4EF" name="GUID-AE54CF0B-B3B3-4067-B0B2-53D2F6FAF4EF"></a><h4 id="DBSEG-GUID-AE54CF0B-B3B3-4067-B0B2-53D2F6FAF4EF" class="sect4">Revokes of the INHERIT [ANY] REMOTE PRIVILEGES Privilege</h4>
                  <div>
                     <p>The methods for revoking the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> and <code class="codeph">INHERIT ANY REMOTE PRIVILEGES</code> privileges differ. 
                     </p>
                     <p>The <code class="codeph">INHERIT REMOTE PRIVILEGES</code> privilege can be revoked by a user from another user. The <code class="codeph">INHERIT ANY REMOTE PRIVILEGES</code> privilege must be revoked by a user with administrative privileges.
                     </p>
                     <p>The revocation syntax is as follows</p><pre class="oac_no_warn" dir="ltr">REVOKE INHERIT REMOTE PRIVILEGES ON USER <span class="italic">connected_user</span> FROM <span class="italic">current_user</span>;</pre><p>In this specification:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic">connected_user</span></code> is the user who runs the definer's rights procedure.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic">current_user</span></code> is the user who owns the definer’s rights procedure.
                           </p>
                        </li>
                     </ul>
                     <p>If you want to revoke the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> or <code class="codeph">INHERIT ANY REMOTE PRIVILEGES</code> privilege from a user, use the standard revocation syntax, as follows: 
                     </p><pre class="oac_no_warn" dir="ltr">REVOKE INHERIT REMOTE PRIVILEGES FROM <span class="italic">connected_user</span>;
REVOKE INHERIT ANY REMOTE PRIVILEGES FROM <span class="italic">current_user</span>;</pre></div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AE54CF0B-B3B3-4067-B0B2-53D2F6FAF4EF__GUID-DE36BA66-012E-44AD-84EB-F22BF589BD52">
                        <p class="notep1">See Also:</p><a href="../sqlrf/REVOKE.html#SQLRF01609" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about the <code class="codeph">REVOKE</code> SQL statement
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-B354724F-BD35-47C7-A699-93C2B6389555" title="You can control privilege grants for definer’s rights procedures if your applications use database links and definer’s rights procedures.">Controlling Definer's Rights Privileges for Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-9B46EE01-E7D5-41C6-947D-AB090430CFFE" name="GUID-9B46EE01-E7D5-41C6-947D-AB090430CFFE"></a><h4 id="DBSEG-GUID-9B46EE01-E7D5-41C6-947D-AB090430CFFE" class="sect4">Example: Revoking the INHERIT REMOTE PRIVILEGES Privilege</h4>
                  <div>
                     <p>The <code class="codeph">REVOKE</code> SQL statement can revoke the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> privilege.
                     </p>
                     <p>After you revoke the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> privilege, if user <code class="codeph">jward</code> executes a definer's rights procedure that <code class="codeph">jward</code> owns, then any operation on a connected user database link inside the definer’s rights procedure fails because <code class="codeph">jward</code> has explicitly denied <code class="codeph">ebrown</code> the privilege to open a connected user database link using <code class="codeph">jward</code>’credentials. 
                     </p>
                     <p><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-9B46EE01-E7D5-41C6-947D-AB090430CFFE__EXAMPLETITLE-FB8B3449">Example 7-5</a> shows how to revoke the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> procedure on the connecting user, <code class="codeph">jward</code>, from the procedure owner, <code class="codeph">ebrown</code>.
                     </p>
                     <div class="example" id="GUID-9B46EE01-E7D5-41C6-947D-AB090430CFFE__EXAMPLETITLE-FB8B3449">
                        <p class="titleinexample">Example 7-5 Revoking the INHERIT REMOTE PRIVILEGES Privilege</p><pre class="oac_no_warn" dir="ltr">REVOKE INHERIT REMOTE PRIVILEGES ON USER jward FROM ebrown;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-B354724F-BD35-47C7-A699-93C2B6389555" title="You can control privilege grants for definer’s rights procedures if your applications use database links and definer’s rights procedures.">Controlling Definer's Rights Privileges for Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-77A565F9-65D6-404D-A5CE-CD2D4E5F5FA4" name="GUID-77A565F9-65D6-404D-A5CE-CD2D4E5F5FA4"></a><h4 id="DBSEG-GUID-77A565F9-65D6-404D-A5CE-CD2D4E5F5FA4" class="sect4">Example: Revoking the INHERIT REMOTE PRIVILEGES Privilege from PUBLIC</h4>
                  <div>
                     <p>The <code class="codeph">REVOKE</code> SQL statement can revoke the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> from <code class="codeph">PUBLIC</code>, as well as from individual procedure owners. 
                     </p>
                     <p><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-77A565F9-65D6-404D-A5CE-CD2D4E5F5FA4__REVOKINGTHEINHERITREMOTEPRIVILEGESP-FB8C18FC">Example 7-6</a> shows how to revoke this privilege from <code class="codeph">PUBLIC</code>.
                     </p>
                     <div class="example" id="GUID-77A565F9-65D6-404D-A5CE-CD2D4E5F5FA4__REVOKINGTHEINHERITREMOTEPRIVILEGESP-FB8C18FC">
                        <p class="titleinexample">Example 7-6 Revoking the INHERIT REMOTE PRIVILEGES Privilege from PUBLIC</p><pre class="oac_no_warn" dir="ltr">REVOKE INHERIT REMOTE PRIVILEGES FROM PUBLIC;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-B354724F-BD35-47C7-A699-93C2B6389555" title="You can control privilege grants for definer’s rights procedures if your applications use database links and definer’s rights procedures.">Controlling Definer's Rights Privileges for Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-D395C9FA-D9C5-4044-BC85-E09BF191BD23" name="GUID-D395C9FA-D9C5-4044-BC85-E09BF191BD23"></a><h4 id="DBSEG-GUID-D395C9FA-D9C5-4044-BC85-E09BF191BD23" class="sect4">Tutorial: Using a Database Link in a Definer's Rights Procedure</h4>
                  <div>
                     <p>This tutorial demonstrates how the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> privilege works in a definer's rights procedure that uses a database link. 
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-8E3C97BB-69E5-4845-AEC4-4F5933AD1962">About This Tutorial</a><br>In this tutorial,  you test the privilege grant and revoke of the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> privilege. 
                        </li>
                        <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-0760779E-07C5-4800-8364-4A4571E9A87F">Step 1: Create User Accounts</a><br>You must create a user who creates a definer's rights procedure that has a database link, and a second user who executes this procedure.
                        </li>
                        <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-986124C5-BCDC-4A27-893A-D443AFC2417A">Step 2: As User dbuser2, Create a Table to Store User IDs</a><br>The user IDs in this table are the IDs that the database link uses.
                        </li>
                        <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-5C6C0986-4532-4FE7-8AC7-9F47C927DCC3">Step 3: As User dbuser1, Create a Database Link and Definer's Rights Procedure</a><br>User <code class="codeph">dbuser1</code> is ready to create a database link and then a definer's rights procedure that references the database link.
                        </li>
                        <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-9A2A58FB-2BC0-412F-9099-8F0084FABCF1">Step 4: Test the Definer's Rights Procedure</a><br>User <code class="codeph">dbuser2</code> must grant <code class="codeph">INHERIT REMOTE PRIVILEGES</code> to <code class="codeph">dbuser1</code> before the definer’s rights procedure can be tested.
                        </li>
                        <li class="ulchildlink"><a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-562B2E94-D52A-47B0-9588-4E9E1BEDEA51">Step 5: Remove the Components of This Tutorial</a><br>If you no longer need the components of this tutorial, then you can remove them.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-B354724F-BD35-47C7-A699-93C2B6389555" title="You can control privilege grants for definer’s rights procedures if your applications use database links and definer’s rights procedures.">Controlling Definer's Rights Privileges for Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-8E3C97BB-69E5-4845-AEC4-4F5933AD1962" name="GUID-8E3C97BB-69E5-4845-AEC4-4F5933AD1962"></a><h5 id="DBSEG-GUID-8E3C97BB-69E5-4845-AEC4-4F5933AD1962" class="sect5">About This Tutorial</h5>
                     <div>
                        <p>In this tutorial,  you test the privilege grant and revoke of the <code class="codeph">INHERIT REMOTE PRIVILEGES</code> privilege. 
                        </p>
                        <p>To accomplish this, you must create two users, one who creates a definer’s rights procedure that refers to a database link, and a second user to execute this definer’s rights procedure. Both users create identical look-up tables in their schemas. The definer’s rights procedure must enable the second user to query the lookup table that belongs to the definer’s rights users.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-D395C9FA-D9C5-4044-BC85-E09BF191BD23" title="This tutorial demonstrates how the INHERIT REMOTE PRIVILEGES privilege works in a definer&#39;s rights procedure that uses a database link.">Tutorial: Using a Database Link in a Definer's Rights Procedure</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-0760779E-07C5-4800-8364-4A4571E9A87F" name="GUID-0760779E-07C5-4800-8364-4A4571E9A87F"></a><h5 id="DBSEG-GUID-0760779E-07C5-4800-8364-4A4571E9A87F" class="sect5">Step 1: Create User Accounts</h5>
                     <div>
                        <p>You must create a user who creates a definer's rights procedure that has a database link, and a second user who executes this procedure.</p>
                        <div class="section"></div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Connect as a user who has privileges to create users and perform privilege grants. </span><div>
                                 <p>For example:</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin
Enter password: <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>Create the user accounts as follows: </span><div><pre class="oac_no_warn" dir="ltr">GRANT CONNECT, RESOURCE, UNLIMITED TABLESPACE TO dbuser1 IDENTIFIED BY <span class="italic">password</span>;
GRANT CONNECT, RESOURCE, UNLIMITED TABLESPACE TO dbuser2 IDENTIFIED BY <span class="italic">password</span>;</pre></div>
                              <div>Follow the guidelines in <a href="configuring-authentication.html#GUID-AA1AA635-1CD5-422E-B8CA-681ED7C253CA" title="Oracle provides a set of minimum requirements for passwords.">Minimum Requirements for Passwords</a> to replace <span class="italic"><code class="codeph">password</code></span> with a password that is secure.
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-D395C9FA-D9C5-4044-BC85-E09BF191BD23" title="This tutorial demonstrates how the INHERIT REMOTE PRIVILEGES privilege works in a definer&#39;s rights procedure that uses a database link.">Tutorial: Using a Database Link in a Definer's Rights Procedure</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-986124C5-BCDC-4A27-893A-D443AFC2417A" name="GUID-986124C5-BCDC-4A27-893A-D443AFC2417A"></a><h5 id="DBSEG-GUID-986124C5-BCDC-4A27-893A-D443AFC2417A" class="sect5">Step 2: As User dbuser2, Create a Table to Store User IDs</h5>
                     <div>
                        <p>The user IDs in this table are the IDs that the database link uses.</p>
                        <div class="section"></div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Connect as user <code class="codeph">dbuser2</code> to instance <code class="codeph">inst1</code>.</span><div><pre class="oac_no_warn" dir="ltr">connect dbuser2@inst1
Enter password: <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>Create the following table:</span><div><pre class="oac_no_warn" dir="ltr">CREATE TABLE dbusertab(ID NUMBER(2));</pre></div>
                           </li>
                           <li class="stepexpand"><span>Populate this table with the ID value <code class="codeph">10</code>. </span><div><pre class="oac_no_warn" dir="ltr">INSERT INTO dbusertab VALUES(10);</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-D395C9FA-D9C5-4044-BC85-E09BF191BD23" title="This tutorial demonstrates how the INHERIT REMOTE PRIVILEGES privilege works in a definer&#39;s rights procedure that uses a database link.">Tutorial: Using a Database Link in a Definer's Rights Procedure</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-5C6C0986-4532-4FE7-8AC7-9F47C927DCC3" name="GUID-5C6C0986-4532-4FE7-8AC7-9F47C927DCC3"></a><h5 id="DBSEG-GUID-5C6C0986-4532-4FE7-8AC7-9F47C927DCC3" class="sect5">Step 3: As User dbuser1, Create a Database Link and Definer's Rights Procedure</h5>
                     <div>
                        <p>User <code class="codeph">dbuser1</code> is ready to create a database link and then a definer's rights procedure that references the database link.
                        </p>
                        <div class="section"></div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Connect as user <code class="codeph">dbuser1</code> to instance <code class="codeph">inst1</code>.</span><div><pre class="oac_no_warn" dir="ltr">connect dbuser1@inst1
Enter password: <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>Create a database link, which will be used in the definer's rights procedure.</span><div><pre class="oac_no_warn" dir="ltr">CREATE DATABASE LINK dblink USING 'inst1';</pre></div>
                           </li>
                           <li class="stepexpand"><span>Create a <code class="codeph">dbusertab</code> table and then populate it with the ID <code class="codeph">20</code>. </span><div><pre class="oac_no_warn" dir="ltr">CREATE TABLE DBUSERTAB(ID NUMBER(2));
INSERT INTO dbusertab VALUES(20);</pre></div>
                           </li>
                           <li class="stepexpand"><span>Create a  definer's rights procedure that contains a reference to the database lnk </span><div><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE test_remote_db_link
AS
v_id varchar(50);
BEGIN   
    SELECT ID INTO v_id FROM dbusertab@dblink;
    DBMS_OUTPUT.PUT_LINE('v_id : ' || v_id);
END ;
/</pre></div>
                           </li>
                           <li class="stepexpand"><span>Test the definer’s rights procedure.</span><div><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
EXEC test_remote_db_link; </pre></div>
                              <div>
                                 <p>The output should be as follows, indicating that user <code class="codeph">dbuser1</code> has executed the procedure on his own version of the table <code class="codeph">dbusertab</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">v_id : 20
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Grant the user <code class="codeph">dbuser2</code> the <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">test_remote_db_link</code> procedure.</span><div><pre class="oac_no_warn" dir="ltr">GRANT EXECUTE ON test_remote_db_link TO dbuser2;</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-D395C9FA-D9C5-4044-BC85-E09BF191BD23" title="This tutorial demonstrates how the INHERIT REMOTE PRIVILEGES privilege works in a definer&#39;s rights procedure that uses a database link.">Tutorial: Using a Database Link in a Definer's Rights Procedure</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-9A2A58FB-2BC0-412F-9099-8F0084FABCF1" name="GUID-9A2A58FB-2BC0-412F-9099-8F0084FABCF1"></a><h5 id="DBSEG-GUID-9A2A58FB-2BC0-412F-9099-8F0084FABCF1" class="sect5">Step 4: Test the Definer's Rights Procedure</h5>
                     <div>
                        <p>User <code class="codeph">dbuser2</code> must grant <code class="codeph">INHERIT REMOTE PRIVILEGES</code> to <code class="codeph">dbuser1</code> before the definer’s rights procedure can be tested.
                        </p>
                        <div class="section"></div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Connect as user <code class="codeph">dbuser2</code> to instance <code class="codeph">inst1</code>.</span><div><pre class="oac_no_warn" dir="ltr">connect dbuser2@inst1
Enter password: <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>Grant the <code class="codeph">INHERIT REMOTE PRIVILEGE</code> privilege on user <code class="codeph">dbuser2</code> to <code class="codeph">dbuser1</code>.</span><div><pre class="oac_no_warn" dir="ltr">GRANT INHERIT REMOTE PRIVILEGES ON user dbuser2 TO dbuser1;</pre></div>
                           </li>
                           <li class="stepexpand"><span>Relog back in, because the grant does not take effect until you start a new session.</span><div><pre class="oac_no_warn" dir="ltr">connect dbuser2@inst1
Enter password: <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>Execute the <code class="codeph">test_remote_db_link</code> definer’s rights procedure: </span><div><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
EXEC dbuser1.test_remote_db_link;  </pre></div>
                              <div>The output shows the following, which indicates that user <code class="codeph">dbuser1</code> is able to use the database link to connect to the schema of <code class="codeph">dbuser2</code> and access the values in the <code class="codeph">dbusertab</code> table in <code class="codeph">dbuser2</code>’s schema. <pre class="oac_no_warn" dir="ltr">v_id : 10
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Revoke the <code class="codeph">INHERIT REMOTE PRIVILEGE</code> privilege on <code class="codeph">dbuser2</code> from <code class="codeph">dbuser1</code>.</span><div><pre class="oac_no_warn" dir="ltr">REVOKE INHERIT REMOTE PRIVILEGES ON USER dbuser2 FROM dbuser1;</pre></div>
                           </li>
                           <li class="stepexpand"><span>Try executing the <code class="codeph">test_remote_db_link</code> definer’s rights procedure again. </span><div><pre class="oac_no_warn" dir="ltr">EXEC dbuser1.test_remote_db_link;</pre></div>
                              <div>
                                 <p>The <code class="codeph">ORA-25433: User DBUSER1 does not have INHERIT REMOTE PRIVILEGES on connected user DBUSER2</code> error should appear.
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-D395C9FA-D9C5-4044-BC85-E09BF191BD23" title="This tutorial demonstrates how the INHERIT REMOTE PRIVILEGES privilege works in a definer&#39;s rights procedure that uses a database link.">Tutorial: Using a Database Link in a Definer's Rights Procedure</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-562B2E94-D52A-47B0-9588-4E9E1BEDEA51" name="GUID-562B2E94-D52A-47B0-9588-4E9E1BEDEA51"></a><h5 id="DBSEG-GUID-562B2E94-D52A-47B0-9588-4E9E1BEDEA51" class="sect5">Step 5: Remove the Components of This Tutorial</h5>
                     <div>
                        <p>If you no longer need the components of this tutorial, then you can remove them.</p>
                        <div class="section"></div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Connect as a user who has privileges to drop user accounts and database links</span><div>
                                 <p>For example:</p><pre class="oac_no_warn" dir="ltr">connect sec_admin
Enter password: <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>Drop the user accounts.</span><div><pre class="oac_no_warn" dir="ltr">DROP USER dbuser1 CASCADE;
DROP USER dbuser2 CASCADE;</pre></div>
                           </li>
                           <li class="stepexpand"><span>Drop the <code class="codeph">dblink</code> database link.</span><div><pre class="oac_no_warn" dir="ltr">DROP PUBLIC DATABASE LINK dblink;</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-security-for-definers-rights-and-invokers-rights.html#GUID-D395C9FA-D9C5-4044-BC85-E09BF191BD23" title="This tutorial demonstrates how the INHERIT REMOTE PRIVILEGES privilege works in a definer&#39;s rights procedure that uses a database link.">Tutorial: Using a Database Link in a Definer's Rights Procedure</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03421.data-warehouse-optimizations-techniques.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Data Warehousing Optimizations and Techniques</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Data Warehousing Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Data Warehousing Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-data-warehousing-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T00:20:13-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96243-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="data-warehouse-physical-design.html" title="Previous" type="text/html"></link>
      <link rel="next" href="part-optimizing-dw.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Data Warehousing Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DWHSG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="data-warehouse-physical-design.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="part-optimizing-dw.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Data Warehousing Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-dw-fundamentals.html" property="item" typeof="WebPage"><span property="name">Data Warehouse - Fundamentals </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Data Warehousing Optimizations and Techniques</li>
            </ol>
            <a id="GUID-79C29A60-3477-448D-835D-2940D060D050" name="GUID-79C29A60-3477-448D-835D-2940D060D050"></a>
            
            <h2 id="DWHSG-GUID-79C29A60-3477-448D-835D-2940D060D050" class="sect2"><span class="enumeration_chapter">4 </span>Data Warehousing Optimizations and Techniques
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The following topics provide information about schemas in a data warehouse:</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="data-warehouse-optimizations-techniques.html#GUID-E4C8F817-8CD9-437B-819F-2917B7F48304">Using Indexes in Data Warehouses</a></p>
                  </li>
                  <li>
                     <p><a href="data-warehouse-optimizations-techniques.html#GUID-3A627575-6C0D-4D86-8B86-2A85B02A5EC7">Using Integrity Constraints in a Data Warehouse</a></p>
                  </li>
                  <li>
                     <p><a href="data-warehouse-optimizations-techniques.html#GUID-2207CC57-A4D8-4ED1-8676-151EFD7E3528">About Parallel Execution in Data Warehouses</a></p>
                  </li>
                  <li>
                     <p><a href="data-warehouse-optimizations-techniques.html#GUID-11CD602C-2C37-4771-97A6-CFFEABB4259D">About Optimizing Storage Requirements in Data Warehouses</a></p>
                  </li>
                  <li>
                     <p><a href="data-warehouse-optimizations-techniques.html#GUID-3AF4B9BF-F429-4AAF-983A-6F722484D0E2">Optimizing Star Queries and 3NF Schemas</a></p>
                  </li>
                  <li>
                     <p><a href="data-warehouse-optimizations-techniques.html#GUID-F7E7DEA6-B225-43E6-97ED-CB3DBE86CD54" title="Approximate query processing uses SQL functions to provide real-time responses to explorative queries where approximations are acceptable. A query containing SQL functions that return approximate results is referred to as an approximate query.">About Approximate Query Processing</a></p>
                  </li>
                  <li>
                     <p><a href="data-warehouse-optimizations-techniques.html#GUID-07B31A40-6AD9-4843-B5B3-D2424ACE39D5">About Approximate Top-N Query Processing</a></p>
                  </li>
               </ul>
            </div><a id="DWHSG8130"></a><div class="props_rev_3"><a id="GUID-E4C8F817-8CD9-437B-819F-2917B7F48304" name="GUID-E4C8F817-8CD9-437B-819F-2917B7F48304"></a><h3 id="DWHSG-GUID-E4C8F817-8CD9-437B-819F-2917B7F48304" class="sect3"><span class="enumeration_section">4.1 </span>Using Indexes in Data Warehouses
               </h3>
               <div>
                  <p>Indexes enable faster retrieval of data stored in data warehouses. This section discusses the following aspects of using indexes in data warehouses:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="data-warehouse-optimizations-techniques.html#GUID-76BAA645-A219-4FF5-AFD4-B6FA8C1473FB">About Using Bitmap Indexes in Data Warehouses</a></p>
                     </li>
                     <li>
                        <p><a href="data-warehouse-optimizations-techniques.html#GUID-2A46AFA2-5EA7-4C0D-A507-598C8AA69D65">Benefits of Indexes for Data Warehousing Applications</a></p>
                     </li>
                     <li>
                        <p><a href="data-warehouse-optimizations-techniques.html#GUID-7BD561A9-6B28-43A6-A5E0-B9AF196CF251">About Cardinality and Bitmap Indexes</a></p>
                     </li>
                     <li>
                        <p><a href="data-warehouse-optimizations-techniques.html#GUID-017284C6-3D68-4469-BEB6-E3C6FB886A0C">How to Determine Candidates for Using a Bitmap Index</a></p>
                     </li>
                     <li>
                        <p><a href="data-warehouse-optimizations-techniques.html#GUID-2BB63651-2ED9-41B3-838D-592CC1D6766F">Using Bitmap Join Indexes in Data Warehouses</a></p>
                     </li>
                     <li>
                        <p><a href="data-warehouse-optimizations-techniques.html#GUID-DB336AF1-3550-4B89-AC53-9BDEE89327CA">Using B-Tree Indexes in Data Warehouses</a></p>
                     </li>
                     <li>
                        <p><a href="data-warehouse-optimizations-techniques.html#GUID-31319B88-136B-4E29-92FC-0AD5B0B3CEE0">Using Index Compression</a></p>
                     </li>
                     <li>
                        <p><a href="data-warehouse-optimizations-techniques.html#GUID-BEC3FACE-B5B1-4904-9BC9-9CA060BB9C76">Choosing Between Local Indexes and Global Indexes</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG9041"></a><div class="props_rev_3"><a id="GUID-76BAA645-A219-4FF5-AFD4-B6FA8C1473FB" name="GUID-76BAA645-A219-4FF5-AFD4-B6FA8C1473FB"></a><h4 id="DWHSG-GUID-76BAA645-A219-4FF5-AFD4-B6FA8C1473FB" class="sect4"><span class="enumeration_section">4.1.1 </span>About Using Bitmap Indexes in Data Warehouses
                  </h4>
                  <div>
                     <p><a id="d9998e140" class="indexterm-anchor"></a>Bitmap indexes are widely used in data warehousing environments. The environments typically have large amounts of data and ad hoc queries, but a low level of concurrent DML transactions. For such applications, bitmap indexing provides:
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Reduced response time for large classes of ad hoc queries.</p>
                        </li>
                        <li>
                           <p>Reduced storage requirements compared to other indexing techniques.</p>
                        </li>
                        <li>
                           <p>Dramatic performance gains even on hardware with a relatively small number of CPUs or a small amount of memory.</p>
                        </li>
                     </ul>
                     <p>Fully indexing a large table with a traditional B-tree index can be prohibitively expensive in terms of disk space because the indexes can be several times larger than the data in the table. Bitmap indexes are typically only a fraction of the size of the indexed data in the table.</p>
                     <p>An index provides pointers to the rows in a table that contain a given key value. A regular index stores a list of rowids for each key corresponding to the rows with that key value. In a bitmap index, a bitmap for each key value replaces a list of rowids.</p>
                     <p>Each bit in the bitmap corresponds to a possible rowid, and if the bit is set, it means that the row with the corresponding rowid contains the key value. A mapping function converts the bit position to an actual rowid, so that the bitmap index provides the same functionality as a regular index. Bitmap indexes store the bitmaps in a compressed way. If the number of distinct key values is small, bitmap indexes compress better and the space saving benefit compared to a B-tree index becomes even better.</p>
                     <p>Bitmap indexes are most effective for queries that contain multiple conditions in the <code class="codeph">WHERE</code> clause. Rows that satisfy some, but not all, conditions are filtered out before the table itself is accessed. This improves response time, often dramatically. If you are unsure of which indexes to create, the SQL Access Advisor can generate recommendations on what to create. As the bitmaps from bitmap indexes can be combined quickly, it is usually best to use single-column bitmap indexes.
                     </p>
                     <p>When creating bitmap indexes, you should use <code class="codeph">NOLOGGING</code> and <code class="codeph">COMPUTE</code> <code class="codeph">STATISTICS</code>. In addition, you should keep in mind that bitmap indexes are usually easier to destroy and re-create than to maintain.
                     </p>
                  </div><a id="DWHSG8138"></a><a id="DWHSG9045"></a><div class="props_rev_3"><a id="GUID-1D0A6F59-1C6C-4221-BE3B-0352C6F0F07D" name="GUID-1D0A6F59-1C6C-4221-BE3B-0352C6F0F07D"></a><h5 id="DWHSG-GUID-1D0A6F59-1C6C-4221-BE3B-0352C6F0F07D" class="sect5"><span class="enumeration_section">4.1.1.1 </span>About Bitmap Indexes and Nulls
                     </h5>
                     <div>
                        <p>Unlike most other types of indexes, <a id="d9998e198" class="indexterm-anchor"></a><a id="d9998e202" class="indexterm-anchor"></a><a id="d9998e206" class="indexterm-anchor"></a>bitmap indexes include rows that have <code class="codeph">NULL</code> values. Indexing of nulls can be useful for some types of <a id="d9998e214" class="indexterm-anchor"></a>SQL statements, such as queries with the aggregate function <code class="codeph">COUNT</code>.
                        </p>
                        <div class="example" id="GUID-1D0A6F59-1C6C-4221-BE3B-0352C6F0F07D__GUID-30AE74AE-E706-4AF7-86C2-3821C42D0EC3">
                           <p class="titleinexample">Example 4-1 Bitmap Index</p><pre class="oac_no_warn" dir="ltr">SELECT COUNT(*) FROM customers WHERE cust_marital_status IS NULL;
</pre><p>This query uses a bitmap index on <code class="codeph">cust_marital_status</code>. Note that this query would not be able to use a B-tree index, because B-tree indexes do not store the <code class="codeph">NULL</code> values.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT COUNT(*) FROM customers;
</pre><p>Any bitmap index can be used for this query because all table rows are indexed, including those that have <code class="codeph">NULL</code> data. If nulls were not indexed, the optimizer would be able to use indexes only on columns with <code class="codeph">NOT NULL</code> constraints.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DWHSG9046"></a><div class="props_rev_3"><a id="GUID-BB615445-CF86-434E-9B16-5A8F0624A184" name="GUID-BB615445-CF86-434E-9B16-5A8F0624A184"></a><h5 id="DWHSG-GUID-BB615445-CF86-434E-9B16-5A8F0624A184" class="sect5"><span class="enumeration_section">4.1.1.2 </span>About Bitmap Indexes on Partitioned Tables
                     </h5>
                     <div>
                        <p><a id="d9998e266" class="indexterm-anchor"></a><a id="d9998e270" class="indexterm-anchor"></a><a id="d9998e272" class="indexterm-anchor"></a><a id="d9998e276" class="indexterm-anchor"></a><a id="d9998e280" class="indexterm-anchor"></a>You can create bitmap indexes on partitioned tables but they must be local to the partitioned table—they cannot be global indexes. A partitioned table can only have global B-tree indexes, partitioned or nonpartitioned.
                        </p>
                        <div class="infoboxnotealso" id="GUID-BB615445-CF86-434E-9B16-5A8F0624A184__GUID-545DD362-4E47-4487-B5F3-08C21FE1A88A">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../sqlrf/CREATE-INDEX.html#SQLRF53981" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="../vldbg/partition-concepts.html#VLDBG1082" target="_blank"><span><cite>Oracle Database VLDB and Partitioning Guide</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="DWHSG9042"></a><div class="props_rev_3"><a id="GUID-2A46AFA2-5EA7-4C0D-A507-598C8AA69D65" name="GUID-2A46AFA2-5EA7-4C0D-A507-598C8AA69D65"></a><h4 id="DWHSG-GUID-2A46AFA2-5EA7-4C0D-A507-598C8AA69D65" class="sect4"><span class="enumeration_section">4.1.2 </span>Benefits of Indexes for Data Warehousing Applications
                  </h4>
                  <div>
                     <p><a id="d9998e322" class="indexterm-anchor"></a><a id="d9998e326" class="indexterm-anchor"></a>Bitmap indexes are primarily intended for data warehousing applications where users query the data rather than update it. They are not suitable for OLTP applications with large numbers of concurrent transactions modifying the data.
                     </p>
                     <p>Indexes are more beneficial for high cardinality columns.</p>
                     <div class="infoboxnotealso" id="GUID-2A46AFA2-5EA7-4C0D-A507-598C8AA69D65__GUID-97DE73BF-6FE3-4094-B595-C93C3F51863A">
                        <p class="notep1">See Also:</p>
                        <p><a href="data-warehouse-optimizations-techniques.html#GUID-7BD561A9-6B28-43A6-A5E0-B9AF196CF251">About Cardinality and Bitmap Indexes</a></p>
                     </div>
                     <p><a id="d9998e339" class="indexterm-anchor"></a><a id="d9998e341" class="indexterm-anchor"></a><a id="d9998e345" class="indexterm-anchor"></a><a id="d9998e349" class="indexterm-anchor"></a><a id="d9998e353" class="indexterm-anchor"></a>Parallel query and parallel DML work with bitmap indexes. Bitmap indexing also supports parallel create indexes and concatenated indexes.
                     </p>
                  </div>
               </div><a id="DWHSG8134"></a><a id="DWHSG8135"></a><a id="DWHSG9043"></a><div class="props_rev_3"><a id="GUID-7BD561A9-6B28-43A6-A5E0-B9AF196CF251" name="GUID-7BD561A9-6B28-43A6-A5E0-B9AF196CF251"></a><h4 id="DWHSG-GUID-7BD561A9-6B28-43A6-A5E0-B9AF196CF251" class="sect4"><span class="enumeration_section">4.1.3 </span>About Cardinality and Bitmap Indexes
                  </h4>
                  <div>
                     <p>The advantages of using bitmap indexes are greatest for columns in which the ratio of the number of distinct values to the number of rows in the table is small. This ratio is referred to as the <a href="glossary.html#GUID-50473CD3-62C8-476E-8E04-CC2A6AEEA7EE"><span class="xrefglossterm">degree of cardinality</span></a>. A gender column, which has only two distinct values (male and female), is optimal for a bitmap index. However, data warehouse administrators also build bitmap indexes on columns with higher cardinalities.
                     </p>
                     <p>For example, on a table with one million rows, a column with 10,000 distinct values is a candidate for a bitmap index. A bitmap index on this column can outperform a B-tree index, particularly when this column is often queried in conjunction with other indexed columns. In fact, in a typical data warehouse environments, a bitmap index can be considered for any non-unique column.</p>
                     <p>B-tree indexes are most effective for high-cardinality data: that is, for data with many possible values, such as <code class="codeph">customer_name</code> or <code class="codeph">phone_number</code>. In a data warehouse, B-tree indexes should be used only for unique columns or other columns with very high cardinalities (that is, columns that are almost unique). The majority of indexes in a data warehouse should be bitmap indexes.
                     </p>
                     <p>In ad hoc queries and similar situations, bitmap indexes can dramatically improve query performance. <code class="codeph">AND</code> and <code class="codeph">OR</code> conditions in the <code class="codeph">WHERE</code> clause of a query can be resolved quickly by performing the corresponding Boolean operations directly on the bitmaps before converting the resulting bitmap to rowids. If the resulting number of rows is small, the query can be answered quickly without resorting to a full table scan. 
                     </p>
                     <p>The following query output shows a portion of a company's <code class="codeph">customers</code> table.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT cust_id, cust_gender, cust_marital_status, cust_income_level
FROM customers;

CUST_ID    C CUST_MARITAL_STATUS  CUST_INCOME_LEVEL
---------- - -------------------- ---------------------
... 
        70 F                      D: 70,000 - 89,999
        80 F married              H: 150,000 - 169,999
        90 M single               H: 150,000 - 169,999
       100 F                      I: 170,000 - 189,999
       110 F married              C: 50,000 - 69,999
       120 M single               F: 110,000 - 129,999
       130 M                      J: 190,000 - 249,999
       140 M married              G: 130,000 - 149,999
...
</pre><p>Because <code class="codeph">cust_gender</code>, <code class="codeph">cust_marital_status</code>, and <code class="codeph">cust_income_level</code> are all low-cardinality columns (there are only three possible values for marital status, two possible values for gender, and 12 for income level), bitmap indexes are ideal for these columns. Do not create a bitmap index on <code class="codeph">cust_id</code> because this is a unique column. Instead, a unique B-tree index on this column provides the most efficient representation and retrieval.
                     </p>
                     <p><a href="data-warehouse-optimizations-techniques.html#GUID-7BD561A9-6B28-43A6-A5E0-B9AF196CF251__G1007545" title="This table illustrates a sample bitmap index">Table 4-1</a> illustrates the bitmap index for the <code class="codeph">cust_gender</code> column in this example. It consists of two separate bitmaps, one for gender.
                     </p>
                     <div class="tblformal" id="GUID-7BD561A9-6B28-43A6-A5E0-B9AF196CF251__G1007545">
                        <p class="titleintable">Table 4-1 Sample Bitmap Index</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Sample Bitmap Index" width="100%" border="1" summary="This table illustrates a sample bitmap index" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="27%" id="d9998e468"> cust_id</th>
                                 <th align="left" valign="bottom" width="27%" id="d9998e471">gender='M'</th>
                                 <th align="left" valign="bottom" width="47%" id="d9998e474">gender='F'</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d9998e479" headers="d9998e468 ">
                                    <p><code class="codeph">cust_id 70</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d9998e479 d9998e471 ">
                                    <p>0</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d9998e479 d9998e474 ">
                                    <p>1</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d9998e490" headers="d9998e468 ">
                                    <p><code class="codeph">cust_id 80</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d9998e490 d9998e471 ">
                                    <p>0</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d9998e490 d9998e474 ">
                                    <p>1</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d9998e501" headers="d9998e468 ">
                                    <p><code class="codeph">cust_id 90</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d9998e501 d9998e471 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d9998e501 d9998e474 ">
                                    <p>0</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d9998e512" headers="d9998e468 ">
                                    <p><code class="codeph">cust_id 100</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d9998e512 d9998e471 ">
                                    <p>0</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d9998e512 d9998e474 ">
                                    <p>1</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d9998e523" headers="d9998e468 ">
                                    <p><code class="codeph">cust_id 110</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d9998e523 d9998e471 ">
                                    <p>0</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d9998e523 d9998e474 ">
                                    <p>1</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d9998e534" headers="d9998e468 ">
                                    <p><code class="codeph">cust_id 120</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d9998e534 d9998e471 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d9998e534 d9998e474 ">
                                    <p>0</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d9998e545" headers="d9998e468 ">
                                    <p><code class="codeph">cust_id 130</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d9998e545 d9998e471 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d9998e545 d9998e474 ">
                                    <p>0</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d9998e556" headers="d9998e468 ">
                                    <p><code class="codeph">cust_id 140</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d9998e556 d9998e471 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d9998e556 d9998e474 ">
                                    <p>0</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>Each entry (or bit) in the bitmap corresponds to a single row of the <code class="codeph">customers</code> table. The value of each bit depends upon the values of the corresponding row in the table. For example, the bitmap <code class="codeph">cust_gender='F'</code> contains a one as its first bit because the gender is <code class="codeph">F</code> in the first row of the <code class="codeph">customers</code> table. The bitmap <code class="codeph">cust_gender='F'</code> has a zero for its third bit because the gender of the third row is not <code class="codeph">F</code>. 
                     </p>
                     <p>An analyst investigating demographic trends of the company's customers might ask, "How many of our married customers have an income level of G or H?" This corresponds to the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT COUNT(*) FROM customers
WHERE cust_marital_status = 'married' 
AND cust_income_level IN ('H: 150,000 - 169,999', 'G: 130,000 - 149,999');
</pre><p>Bitmap indexes can efficiently process this query by merely counting the number of ones in the bitmap illustrated in <a href="data-warehouse-optimizations-techniques.html#GUID-7BD561A9-6B28-43A6-A5E0-B9AF196CF251__I1006355">Figure 4-1</a>. The result set will be found by using bitmap <code class="codeph">OR</code> merge operations without the necessity of a conversion to rowids. To identify additional specific customer attributes that satisfy the criteria, use the resulting bitmap to access the table after a bitmap to rowid conversion.
                     </p>
                     <div class="figure" id="GUID-7BD561A9-6B28-43A6-A5E0-B9AF196CF251__I1006355">
                        <p class="titleinfigure">Figure 4-1 Executing a Query Using Bitmap Indexes</p><img src="img/dwhsg093.gif" alt="Description of Figure 4-1 follows" title="Description of Figure 4-1 follows" longdesc="img_text/dwhsg093.html"><br><a href="img_text/dwhsg093.html">Description of "Figure 4-1 Executing a Query Using Bitmap Indexes"</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="DWHSG9044"></a><div class="props_rev_3"><a id="GUID-017284C6-3D68-4469-BEB6-E3C6FB886A0C" name="GUID-017284C6-3D68-4469-BEB6-E3C6FB886A0C"></a><h4 id="DWHSG-GUID-017284C6-3D68-4469-BEB6-E3C6FB886A0C" class="sect4"><span class="enumeration_section">4.1.4 </span>How to Determine Candidates for Using a Bitmap Index
                  </h4>
                  <div>
                     <p>Bitmap indexes should help when either the fact table is queried alone, and there are predicates on the indexed column, or when the fact table is joined with two or more dimension tables, and there are indexes on foreign key columns in the fact table, and predicates on dimension table columns.</p>
                     <p>A fact table column is a candidate for a bitmap index when the following conditions are met:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>There are 100 or more rows for each distinct value in the indexed column. When this limit is met, the bitmap index will be much smaller than a regular index, and you will be able to create the index much faster than a regular index. An example would be one million distinct values in a multi-billion row table.</p>
                        </li>
                     </ul>
                     <p>And either of the following are true:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>The indexed column will be restricted in queries (referenced in the <code class="codeph">WHERE</code> clause).
                           </p>
                        </li>
                     </ul>
                     <p>or</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>The indexed column is a foreign key for a dimension table. In this case, such an index will make star transformation more likely.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DWHSG9047"></a><div class="props_rev_3"><a id="GUID-2BB63651-2ED9-41B3-838D-592CC1D6766F" name="GUID-2BB63651-2ED9-41B3-838D-592CC1D6766F"></a><h4 id="DWHSG-GUID-2BB63651-2ED9-41B3-838D-592CC1D6766F" class="sect4"><span class="enumeration_section">4.1.5 </span>Using Bitmap Join Indexes in Data Warehouses
                  </h4>
                  <div>
                     <p>In addition <a id="d9998e669" class="indexterm-anchor"></a><a id="d9998e671" class="indexterm-anchor"></a>to a bitmap index on a single table, you can create a bitmap join index, which is a bitmap index for the join of two or more tables. In a bitmap join index, the bitmap for the table to be indexed is built for values coming from the joined tables. In a data warehousing environment, the join condition is an equi-inner join between the primary key column or columns of the dimension tables and the foreign key column or columns in the fact table.
                     </p>
                     <p>A bitmap join index can improve the performance by an order of magnitude. By storing the result of a join, the join can be avoided completely for SQL statements using a bitmap join index. Furthermore, because it is most likely to have a much smaller number of distinct values for a bitmap join index compared to a regular bitmap index on the join column, the bitmaps compress better, yielding to less space consumption than a regular bitmap index on the join column.</p>
                     <p>Bitmap join indexes are much more efficient in storage than materialized join views, an alternative for materializing joins in advance. This is because the materialized join views do not compress the rowids of the fact tables.</p>
                     <p>B-tree and bitmap indexes have different maximum column limitations.</p>
                     <div class="infoboxnotealso" id="GUID-2BB63651-2ED9-41B3-838D-592CC1D6766F__GUID-ED545731-5592-42C8-A1D5-C0DCFE8F9AA5">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="data-warehouse-optimizations-techniques.html#GUID-ED40E4BD-23B9-44F9-9616-86E4C883D94A">Four Join Models for Bitmap Join Indexes in Data Warehouses</a></p>
                           </li>
                           <li>
                              <p><a href="data-warehouse-optimizations-techniques.html#GUID-DE86EDE6-3D64-49C0-8909-A787140E3B9F">Bitmap Join Index Restrictions and Requirements</a></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-INDEX.html#SQLRF54037" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for details regarding these limitations
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DWHSG8143"></a><a id="DWHSG8144"></a><a id="DWHSG8145"></a><a id="DWHSG8146"></a><a id="DWHSG9048"></a><div class="props_rev_3"><a id="GUID-ED40E4BD-23B9-44F9-9616-86E4C883D94A" name="GUID-ED40E4BD-23B9-44F9-9616-86E4C883D94A"></a><h5 id="DWHSG-GUID-ED40E4BD-23B9-44F9-9616-86E4C883D94A" class="sect5"><span class="enumeration_section">4.1.5.1 </span>Four Join Models for Bitmap Join Indexes in Data Warehouses
                     </h5>
                     <div>
                        <p>The most common usage of a bitmap join index is in star model environments, where a large table is indexed on columns joined by one or several smaller tables. The large table is referred to as the fact table and the smaller tables as dimension tables. The following section describes the four different join models supported by bitmap join indexes.</p>
                        <p>The following example shows a bitmap join index where one dimension table column joins one fact table. Unlike the example in <a href="data-warehouse-optimizations-techniques.html#GUID-7BD561A9-6B28-43A6-A5E0-B9AF196CF251">About Cardinality and Bitmap Indexes</a>, where a bitmap index on the <code class="codeph">cust_gender</code> column on the <code class="codeph">customers</code> table was built, you now create a bitmap join index on the fact table <code class="codeph">sales</code> for the joined column <code class="codeph">customers(cust_gender)</code>. Table <code class="codeph">sales</code> stores <code class="codeph">cust_id</code> values only:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT time_id, cust_id, amount_sold FROM sales;

TIME_ID   CUST_ID    AMOUNT_SOLD
--------- ---------- -----------
01-JAN-98      29700        2291
01-JAN-98       3380         114
01-JAN-98      67830         553
01-JAN-98     179330           0
01-JAN-98     127520         195
01-JAN-98      33030         280
...
</pre><p>To create such a bitmap join index, column <code class="codeph">customers(cust_gender)</code> has to be joined with table <code class="codeph">sales</code>. The join condition is specified as part of the <code class="codeph">CREATE</code> statement for the bitmap join index as follows:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE BITMAP INDEX sales_cust_gender_bjix
ON sales(customers.cust_gender)
FROM sales, customers
WHERE sales.cust_id = customers.cust_id
LOCAL NOLOGGING COMPUTE STATISTICS;
</pre><p>The following query shows the join result that is used to create the bitmaps that are stored in the bitmap join index:</p><pre class="oac_no_warn" dir="ltr">SELECT sales.time_id, customers.cust_gender, sales.amount_sold
FROM sales, customers
WHERE sales.cust_id = customers.cust_id;

TIME_ID   C AMOUNT_SOLD
--------- - -----------
01-JAN-98 M        2291
01-JAN-98 F         114
01-JAN-98 M         553
01-JAN-98 M           0
01-JAN-98 M         195
01-JAN-98 M         280
01-JAN-98 M          32
...
</pre><p><a href="data-warehouse-optimizations-techniques.html#GUID-ED40E4BD-23B9-44F9-9616-86E4C883D94A__G1007505" title="Sample Bitmap Join Index">Table 4-2</a> illustrates the bitmap representation for the bitmap join index in this example.
                        </p>
                        <div class="tblformal" id="GUID-ED40E4BD-23B9-44F9-9616-86E4C883D94A__G1007505">
                           <p class="titleintable">Table 4-2 Sample Bitmap Join Index</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Sample Bitmap Join Index" width="100%" border="1" summary="Sample Bitmap Join Index" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="32%" id="d9998e789">sales record</th>
                                    <th align="left" valign="bottom" width="31%" id="d9998e792">cust_gender='M'</th>
                                    <th align="left" valign="bottom" width="38%" id="d9998e795">cust_gender='F'</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d9998e800" headers="d9998e789 ">
                                       <p>sales record 1</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d9998e800 d9998e792 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d9998e800 d9998e795 ">
                                       <p>0</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d9998e810" headers="d9998e789 ">
                                       <p>sales record 2</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d9998e810 d9998e792 ">
                                       <p>0</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d9998e810 d9998e795 ">
                                       <p>1</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d9998e820" headers="d9998e789 ">
                                       <p>sales record 3</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d9998e820 d9998e792 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d9998e820 d9998e795 ">
                                       <p>0</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d9998e830" headers="d9998e789 ">
                                       <p>sales record 4</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d9998e830 d9998e792 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d9998e830 d9998e795 ">
                                       <p>0</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d9998e840" headers="d9998e789 ">
                                       <p>sales record 5</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d9998e840 d9998e792 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d9998e840 d9998e795 ">
                                       <p>0</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d9998e850" headers="d9998e789 ">
                                       <p>sales record 6</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d9998e850 d9998e792 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d9998e850 d9998e795 ">
                                       <p>0</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d9998e860" headers="d9998e789 ">
                                       <p>sales record 7</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d9998e860 d9998e792 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d9998e860 d9998e795 ">
                                       <p>0</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>You can create other bitmap join indexes using more than one column or more than one table, as shown in these examples.</p>
                        <div class="example" id="GUID-ED40E4BD-23B9-44F9-9616-86E4C883D94A__GUID-63280F75-D92E-4253-96CD-76C4ACA943E0">
                           <p class="titleinexample">Example 4-2 Bitmap Join Index: Multiple Dimension Columns Join One Fact Table</p>
                           <p>You can create a bitmap join index on more than one column from a single dimension table, as in the following example, which uses <code class="codeph">customers(cust_gender, cust_marital_status)</code> from the <code class="codeph">sh</code> schema:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE BITMAP INDEX sales_cust_gender_ms_bjix
ON sales(customers.cust_gender, customers.cust_marital_status)
FROM sales, customers
WHERE sales.cust_id = customers.cust_id
LOCAL NOLOGGING COMPUTE STATISTICS;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-ED40E4BD-23B9-44F9-9616-86E4C883D94A__GUID-032899A1-681D-4FEE-91E4-995D5AC2B7A2">
                           <p class="titleinexample">Example 4-3 Bitmap Join Index: Multiple Dimension Tables Join One Fact Table</p>
                           <p>You can create a bitmap join index on multiple dimension tables, as in the following, which uses <code class="codeph">customers(gender)</code> and <code class="codeph">products(category)</code>:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE BITMAP INDEX sales_c_gender_p_cat_bjix
ON sales(customers.cust_gender, products.prod_category)
FROM sales, customers, products
WHERE sales.cust_id = customers.cust_id
AND sales.prod_id = products.prod_id
LOCAL NOLOGGING COMPUTE STATISTICS;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-ED40E4BD-23B9-44F9-9616-86E4C883D94A__GUID-8D898CC8-DE27-4121-887C-766A09C66264">
                           <p class="titleinexample">Example 4-4 Bitmap Join Index: Snowflake Schema</p>
                           <p>You can create a bitmap join index on more than one table, in which the indexed column is joined to the indexed table by using another table. For example, you can build an index on <code class="codeph">countries.country_name</code>, even though the <code class="codeph">countries</code> table is not joined directly to the <code class="codeph">sales</code> table. Instead, the <code class="codeph">countries</code> table is joined to the <code class="codeph">customers</code> table, which is joined to the <code class="codeph">sales</code> table. This type of schema is commonly called a <a href="glossary.html#GUID-D7A24E71-C96A-48CB-A4A8-C1D33FD2678A"><span class="xrefglossterm">snowflake schema</span></a>.
                           </p><pre class="oac_no_warn" dir="ltr">CREATE BITMAP INDEX sales_co_country_name_bjix
ON sales(countries.country_name)
FROM sales, customers, countries
WHERE sales.cust_id = customers.cust_id
  AND customers.country_id = countries.country_id
LOCAL NOLOGGING COMPUTE STATISTICS;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DWHSG9049"></a><div class="props_rev_3"><a id="GUID-DE86EDE6-3D64-49C0-8909-A787140E3B9F" name="GUID-DE86EDE6-3D64-49C0-8909-A787140E3B9F"></a><h5 id="DWHSG-GUID-DE86EDE6-3D64-49C0-8909-A787140E3B9F" class="sect5"><span class="enumeration_section">4.1.5.2 </span>Bitmap Join Index Restrictions and Requirements
                     </h5>
                     <div>
                        <div class="section">
                           <p>Join results must be stored, therefore, bitmap join indexes have the following restrictions:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Parallel DML is only supported on the fact table. Parallel DML on one of the participating dimension tables will mark the index as unusable.</p>
                              </li>
                              <li>
                                 <p>Only one table can be updated concurrently by different transactions when using the bitmap join index.</p>
                              </li>
                              <li>
                                 <p>No table can appear twice in the join.</p>
                              </li>
                              <li>
                                 <p>You cannot create a bitmap join index on a temporary table.</p>
                              </li>
                              <li>
                                 <p>The columns in the index must all be columns of the dimension tables.</p>
                              </li>
                              <li>
                                 <p>The dimension table join columns must be either primary key columns or have unique constraints.</p>
                              </li>
                              <li>
                                 <p>The dimension table column(s) participating in the join with the fact table must be either the primary key column(s) or the unique constraint.</p>
                              </li>
                              <li>
                                 <p>If a dimension table has composite primary key, each column in the primary key must be part of the join.</p>
                              </li>
                              <li>
                                 <p>The restrictions for creating a regular bitmap index also apply to a bitmap join index. For example, you cannot create a bitmap index with the <code class="codeph">UNIQUE</code> attribute. See <a href="../sqlrf/CREATE-INDEX.html#SQLRF01209" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for other restrictions.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="DWHSG9050"></a><div class="props_rev_3"><a id="GUID-DB336AF1-3550-4B89-AC53-9BDEE89327CA" name="GUID-DB336AF1-3550-4B89-AC53-9BDEE89327CA"></a><h4 id="DWHSG-GUID-DB336AF1-3550-4B89-AC53-9BDEE89327CA" class="sect4"><span class="enumeration_section">4.1.6 </span>Using B-Tree Indexes in Data Warehouses
                  </h4>
                  <div>
                     <p><a id="d9998e1010" class="indexterm-anchor"></a><a id="d9998e1012" class="indexterm-anchor"></a>A B-tree index is organized like an upside-down tree. The bottom level of the index holds the actual data values and pointers to the corresponding rows, much as the index in a book has a page number associated with each index entry.
                     </p>
                     <p>In general, use B-tree indexes when you know that your typical query refers to the indexed column and retrieves a few rows. In these queries, it is faster to find the rows by looking at the index. However, using the book index analogy, if you plan to look at every single topic in a book, you might not want to look in the index for the topic and then look up the page. It might be faster to read through every chapter in the book. Similarly, if you are retrieving most of the rows in a table, it might not make sense to look up the index to find the table rows. Instead, you might want to read or scan the table.</p>
                     <p>B-tree indexes are most commonly used in a data warehouse to enforce unique keys. In many cases, it may not even be necessary to index these columns in a data warehouse, because the uniqueness was enforced as part of the preceding ETL processing, and because typical data warehouse queries may not work better with such indexes. B-tree indexes are more common in environments using third normal form schemas. In general, bitmap indexes should be more common than B-tree indexes in most data warehouse environments.</p>
                     <p>B-tree and bitmap indexes have different maximum column limitations. See <a href="../sqlrf/CREATE-INDEX.html#SQLRF54037" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for these limitations.
                     </p>
                  </div>
               </div><a id="DWHSG9051"></a><div class="props_rev_3"><a id="GUID-31319B88-136B-4E29-92FC-0AD5B0B3CEE0" name="GUID-31319B88-136B-4E29-92FC-0AD5B0B3CEE0"></a><h4 id="DWHSG-GUID-31319B88-136B-4E29-92FC-0AD5B0B3CEE0" class="sect4"><span class="enumeration_section">4.1.7 </span>Using Index Compression
                  </h4>
                  <div>
                     <p>Bitmap indexes are always stored in a patented, compressed manner without the need of any user intervention. B-tree indexes, however, can be stored specifically in a compressed manner to enable huge space savings, storing more keys in each index block, which also leads to less I/O and better performance.</p>
                     <p>Key compression lets you compress a B-tree index, which reduces the storage overhead of repeated values. In the case of a nonunique index, all index columns can be stored in a compressed format, whereas in the case of a unique index, at least one index column has to be stored uncompressed. In addition to key compression, OLTP index compression may provide a higher degree of compression, but is more appropriate for OLTP applications than data warehousing environments.</p>
                     <p>Generally, keys in an index have two pieces, a grouping piece and a unique piece. If the key is not defined to have a unique piece, Oracle Database provides one in the form of a rowid appended to the grouping piece. Key compression is a method of breaking off the grouping piece and storing it so it can be shared by multiple unique pieces. The cardinality of the chosen columns to be compressed determines the compression ratio that can be achieved. So, for example, if a unique index that consists of five columns provides the uniqueness mostly by the last two columns, it is most optimal to choose the three leading columns to be stored compressed. If you choose to compress four columns, the repetitiveness will be almost gone, and the compression ratio will be worse.</p>
                     <p>Although key compression reduces the storage requirements of an index, it can increase the CPU time required to reconstruct the key column values during an index scan. It also incurs some additional storage overhead, because every prefix entry has an overhead of four bytes associated with it.</p>
                     <div class="infoboxnotealso" id="GUID-31319B88-136B-4E29-92FC-0AD5B0B3CEE0__GUID-FE68F4F0-4601-446E-BD17-9437FEA7D705">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../admin/managing-tables.html#ADMIN11692" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for more information regarding key compression
                              </p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-indexes.html#ADMIN11731" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for more information regarding OLTP index compression
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DWHSG9052"></a><div class="props_rev_3"><a id="GUID-BEC3FACE-B5B1-4904-9BC9-9CA060BB9C76" name="GUID-BEC3FACE-B5B1-4904-9BC9-9CA060BB9C76"></a><h4 id="DWHSG-GUID-BEC3FACE-B5B1-4904-9BC9-9CA060BB9C76" class="sect4"><span class="enumeration_section">4.1.8 </span>Choosing Between Local Indexes and Global Indexes
                  </h4>
                  <div>
                     <p>B-tree indexes on partitioned tables can be global or local. With Oracle8<span class="italic">i</span> and earlier releases, Oracle recommended that global indexes not be used in data warehouse environments because a partition DDL statement (for example, <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> ... <code class="codeph">DROP</code> <code class="codeph">PARTITION</code>) would invalidate the entire index, and rebuilding the index is expensive. Global indexes can be maintained without Oracle marking them as unusable after DDL, which makes global indexes effective for data warehouse environments.
                     </p>
                     <p>However, local indexes will be more common than global indexes. Global indexes should be used when there is a specific requirement which cannot be met by local indexes (for example, a unique index on a non-partitioning key, or a performance requirement).</p>
                     <p>Bitmap indexes on partitioned tables are always local.</p>
                  </div>
               </div>
            </div><a id="DWHSG8151"></a><div class="props_rev_3"><a id="GUID-3A627575-6C0D-4D86-8B86-2A85B02A5EC7" name="GUID-3A627575-6C0D-4D86-8B86-2A85B02A5EC7"></a><h3 id="DWHSG-GUID-3A627575-6C0D-4D86-8B86-2A85B02A5EC7" class="sect3"><span class="enumeration_section">4.2 </span>Using Integrity Constraints in a Data Warehouse
               </h3>
               <div>
                  <p><a id="d9998e1137" class="indexterm-anchor"></a><a id="d9998e1139" class="indexterm-anchor"></a>Integrity constraints provide a mechanism for ensuring that data conforms to guidelines specified by the database administrator.
                  </p>
                  <p>The most common types of constraints include:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">UNIQUE</code> constraints
                        </p>
                        <p>To ensure that a given column is unique</p>
                     </li>
                     <li>
                        <p><code class="codeph">NOT</code> <code class="codeph">NULL</code> constraints
                        </p>
                        <p>To ensure that no null values are allowed</p>
                     </li>
                     <li>
                        <p><code class="codeph">FOREIGN</code> <code class="codeph">KEY</code> constraints
                        </p>
                        <p>To ensure that two keys share a primary key to foreign key relationship</p>
                     </li>
                  </ul>
                  <p>Constraints can be used for these purposes in a data warehouse:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Data cleanliness</p>
                        <p>Constraints verify that the data in the data warehouse conforms to a basic level of data consistency and correctness, preventing the introduction of dirty data.</p>
                     </li>
                     <li>
                        <p>Query optimization</p>
                        <p>The Oracle Database utilizes constraints when optimizing SQL queries. Although constraints can be useful in many aspects of query optimization, constraints are particularly important for query rewrite of materialized views.</p>
                     </li>
                  </ul>
                  <p>Unlike data in many relational database environments, data in a data warehouse is typically added or modified under controlled circumstances during the extraction, transformation, and loading (<a id="d9998e1187" class="indexterm-anchor"></a>ETL) process. Multiple users normally do not update the data warehouse directly, as they do in an OLTP system.
                  </p>
                  <div class="infoboxnotealso" id="GUID-3A627575-6C0D-4D86-8B86-2A85B02A5EC7__GUID-BB811190-5A41-46F3-8579-E8FD22EEA027">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="etl-overview.html#GUID-50E33D2C-6F47-4449-8E49-90E4D7974A08">Data Movement/ETL Overview</a></p>
                        </li>
                     </ul>
                  </div>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="data-warehouse-optimizations-techniques.html#GUID-FD72032A-105D-4E3E-9B08-7C0AB2095208">Overview of Constraint States</a></p>
                     </li>
                     <li>
                        <p><a href="data-warehouse-optimizations-techniques.html#GUID-906B8374-0CD7-4BF5-AA0F-925AD1D53E87">Typical Data Warehouse Integrity Constraints</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG9053"></a><div class="props_rev_3"><a id="GUID-FD72032A-105D-4E3E-9B08-7C0AB2095208" name="GUID-FD72032A-105D-4E3E-9B08-7C0AB2095208"></a><h4 id="DWHSG-GUID-FD72032A-105D-4E3E-9B08-7C0AB2095208" class="sect4"><span class="enumeration_section">4.2.1 </span>Overview of Constraint States
                  </h4>
                  <div>
                     <p>To understand how bes<a id="d9998e1234" class="indexterm-anchor"></a>t to use constraints in a data warehouse, you should first understand the basic purposes of constraints. 
                     </p>
                     <p>Some of these purposes are:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Enforcement</p>
                           <p>In order to use a constraint for enforcement, the constraint must be in the <code class="codeph">ENABLE</code> state. An enabled constraint ensures that all data modifications upon a given table (or tables) satisfy the conditions of the constraints. Data modification operations which produce data that violates the constraint fail with a constraint violation error.
                           </p>
                        </li>
                        <li>
                           <p>Validation</p>
                           <p>To use a constraint for validation, the constraint must be in the <code class="codeph">VALIDATE</code> state. If the constraint is validated, then all data that currently resides in the table satisfies the constraint.
                           </p>
                           <p>Note that validation is independent of enforcement. Although the typical constraint in an operational system is both enabled and validated, any constraint could be validated but not enabled or vice versa (enabled but not validated). These latter two cases are useful for data warehouses.</p>
                        </li>
                        <li>
                           <p>Belief</p>
                           <p>In some cases, you will know that the conditions for a given constraint are true, so you do not need to validate or enforce the constraint. However, you may wish for the constraint to be present anyway to improve query optimization and performance. When you use a constraint in this way, it is called a belief or <code class="codeph">RELY</code> constraint, and the constraint must be in the <code class="codeph">RELY</code> state. The <code class="codeph">RELY</code> state provides you with a mechanism for telling Oracle that a given constraint is believed to be true.
                           </p>
                           <p>Note that the <code class="codeph">RELY</code> state only affects constraints that have not been validated.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DWHSG9054"></a><div class="props_rev_3"><a id="GUID-906B8374-0CD7-4BF5-AA0F-925AD1D53E87" name="GUID-906B8374-0CD7-4BF5-AA0F-925AD1D53E87"></a><h4 id="DWHSG-GUID-906B8374-0CD7-4BF5-AA0F-925AD1D53E87" class="sect4"><span class="enumeration_section">4.2.2 </span>Typical Data Warehouse Integrity Constraints
                  </h4>
                  <div>
                     <p>This section assumes that you are familiar with the typical use of constraints. That is, constraints that are both enabled and validated. For data warehousing, many users have discovered that such constraints may be prohibitively costly to build and maintain. The topics discussed are:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="data-warehouse-optimizations-techniques.html#GUID-87A7A37B-8BE9-4B05-B6C6-373C843E3D7D">UNIQUE Constraints in a Data Warehouse</a></p>
                        </li>
                        <li>
                           <p><a href="data-warehouse-optimizations-techniques.html#GUID-791D9619-3AE8-4E2A-920A-4FF4A8F90643">FOREIGN KEY Constraints in a Data Warehouse</a></p>
                        </li>
                        <li>
                           <p><a href="data-warehouse-optimizations-techniques.html#GUID-5D3BD56C-E637-4F6D-940D-3D69E8A06A31">RELY Constraints in a Data Warehouse</a></p>
                        </li>
                        <li>
                           <p><a href="data-warehouse-optimizations-techniques.html#GUID-60854384-F566-4193-8457-AFF0598A2A52">NOT NULL Constraints in a Data Warehouse</a></p>
                        </li>
                        <li>
                           <p><a href="data-warehouse-optimizations-techniques.html#GUID-40C66E78-C107-4CB1-90BE-02A9ADCFF2B3">Integrity Constraints and Parallelism in a Data Warehouse</a></p>
                        </li>
                        <li>
                           <p><a href="data-warehouse-optimizations-techniques.html#GUID-C98E4A18-20EE-4C95-A18E-3811BB714D01">Integrity Constraints and Partitioning in a Data Warehouse</a></p>
                        </li>
                        <li>
                           <p><a href="data-warehouse-optimizations-techniques.html#GUID-72719F57-92C2-4628-9E4E-0CA939C949A6">View Constraints in a Data Warehouse</a></p>
                        </li>
                     </ul>
                  </div><a id="DWHSG9055"></a><div class="props_rev_3"><a id="GUID-87A7A37B-8BE9-4B05-B6C6-373C843E3D7D" name="GUID-87A7A37B-8BE9-4B05-B6C6-373C843E3D7D"></a><h5 id="DWHSG-GUID-87A7A37B-8BE9-4B05-B6C6-373C843E3D7D" class="sect5"><span class="enumeration_section">4.2.2.1 </span>UNIQUE Constraints in a Data Warehouse
                     </h5>
                     <div>
                        <p><a id="d9998e1358" class="indexterm-anchor"></a><a id="d9998e1362" class="indexterm-anchor"></a>A <code class="codeph">UNIQUE</code> constraint is typically enforced using a <code class="codeph">UNIQUE</code> index. However, in a data warehouse whose tables can be extremely large, creating a unique index can be costly both in processing time and in disk space.
                        </p>
                        <p>Suppose that a data warehouse contains a table <code class="codeph">sales</code>, which includes a column <code class="codeph">sales_id</code>. <code class="codeph">sales_id</code> uniquely identifies a single sales transaction, and the data warehouse administrator must ensure that this column is unique within the data warehouse.
                        </p>
                        <p>One way to create the constraint is as follows:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE sales ADD CONSTRAINT sales_uk
UNIQUE (prod_id, cust_id, promo_id, channel_id, time_id);
</pre><p>By default, this constraint is both enabled and validated. Oracle implicitly creates a unique index on <code class="codeph">sales_id</code> to support this constraint. However, this index can be problematic in a data warehouse for three reasons:
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>The unique index can be very large, because the <code class="codeph">sales</code> table can easily have millions or even billions of rows. 
                              </p>
                           </li>
                           <li>
                              <p>The unique index is rarely used for query execution. Most data warehousing queries do not have predicates on unique keys, so creating this index will probably not improve performance.</p>
                           </li>
                           <li>
                              <p>If <code class="codeph">sales</code> is partitioned along a column other than <code class="codeph">sales_id</code>, the unique index must be global. This can detrimentally affect all maintenance operations on the <code class="codeph">sales</code> table.
                              </p>
                           </li>
                        </ul>
                        <p>A unique index is required for unique constraints to ensure that each individual row modified in the <code class="codeph">sales</code> table satisfies the <code class="codeph">UNIQUE</code> constraint.
                        </p>
                        <p>For data warehousing tables, an alternative mechanism for unique constraints is illustrated in the following statement:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE sales ADD CONSTRAINT sales_uk
UNIQUE (prod_id, cust_id, promo_id, channel_id, time_id) DISABLE VALIDATE;
</pre><p>This statement creates a unique constraint, but, because the constraint is disabled, a unique index is not required. This approach can be advantageous for many data warehousing environments because the constraint now ensures uniqueness without the cost of a unique index.</p>
                        <p>However, there are trade-offs for the data warehouse administrator to consider with <code class="codeph">DISABLE</code> <code class="codeph">VALIDATE</code> constraints. Because this constraint is disabled, no DML statements that modify the unique column are permitted against the <code class="codeph">sales</code> table. You can use one of two strategies for modifying this table in the presence of a constraint:
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Use DDL to add data to this table (such as exchanging partitions). See the example in <a href="refreshing-materialized-views.html#GUID-64068234-BDB0-4C12-AE70-75571046A586" title="A materialized view that uses the ON STATEMENT refresh mode is automatically refreshed every time a DML operation is performed on any of the materialized view’s base tables. Oracle Database performs fast refresh for materialized views that are defined using approximate queries.While redefining a table online using the DBMS_REDEFINITION package, you can perform incremental refresh of fast refreshable materialized views that are dependent on the table being redefined.You can use the complete, fast, or PCT refresh methods to refresh a materialized view that is based on a hybrid partitioned table.">Refreshing Materialized Views</a>.
                              </p>
                           </li>
                           <li>
                              <p>Before modifying this table, drop the constraint. Then, make all necessary data modifications. Finally, re-create the disabled constraint. Re-creating the constraint is more efficient than re-creating an enabled constraint. However, this approach does not guarantee that data added to the <code class="codeph">sales</code> table while the constraint has been dropped is unique.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DWHSG9056"></a><div class="props_rev_3"><a id="GUID-791D9619-3AE8-4E2A-920A-4FF4A8F90643" name="GUID-791D9619-3AE8-4E2A-920A-4FF4A8F90643"></a><h5 id="DWHSG-GUID-791D9619-3AE8-4E2A-920A-4FF4A8F90643" class="sect5"><span class="enumeration_section">4.2.2.2 </span>FOREIGN KEY Constraints in a Data Warehouse
                     </h5>
                     <div>
                        <p><a id="d9998e1485" class="indexterm-anchor"></a><a id="d9998e1489" class="indexterm-anchor"></a>In a star schema data warehouse, <code class="codeph">FOREIGN</code> <code class="codeph">KEY</code> constraints validate the relationship between the fact table and the dimension tables. A sample constraint might be: 
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE sales ADD CONSTRAINT sales_time_fk
FOREIGN KEY (time_id) REFERENCES times (time_id)
ENABLE VALIDATE;
</pre><p>However, in some situations, you may choose to use a different state for the <code class="codeph">FOREIGN</code> <code class="codeph">KEY</code> constraints, in particular, the <code class="codeph">ENABLE NOVALIDATE</code> state. A data warehouse administrator might use an <code class="codeph">ENABLE NOVALIDATE</code> constraint when either:
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>The tables contain data that currently disobeys the constraint, but the data warehouse administrator wishes to create a constraint for future enforcement.</p>
                           </li>
                           <li>
                              <p>An enforced constraint is required immediately.</p>
                           </li>
                        </ul>
                        <p>Suppose that the data warehouse loaded new data into the fact tables every day, but refreshed the dimension tables only on the weekend. During the week, the dimension tables and fact tables may in fact disobey the <code class="codeph">FOREIGN</code> <code class="codeph">KEY</code> constraints. Nevertheless, the data warehouse administrator might wish to maintain the enforcement of this constraint to prevent any changes that might affect the <code class="codeph">FOREIGN</code> <code class="codeph">KEY</code> constraint outside of the ETL process. Thus, you can create the <code class="codeph">FOREIGN</code> <code class="codeph">KEY</code> constraints every night, after performing the ETL process, as shown in the following:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE sales ADD CONSTRAINT sales_time_fk
FOREIGN KEY (time_id) REFERENCES times (time_id)
ENABLE NOVALIDATE;
</pre><p><code class="codeph">ENABLE</code> <code class="codeph">NOVALIDATE</code> can quickly create an enforced constraint, even when the constraint is believed to be true. Suppose that the ETL process verifies that a <code class="codeph">FOREIGN</code> <code class="codeph">KEY</code> constraint is true. Rather than have the database re-verify this <code class="codeph">FOREIGN</code> <code class="codeph">KEY</code> constraint, which would require time and database resources, the data warehouse administrator could instead create a <code class="codeph">FOREIGN</code> <code class="codeph">KEY</code> constraint using <code class="codeph">ENABLE</code> <code class="codeph">NOVALIDATE</code>.
                        </p>
                     </div>
                  </div><a id="DWHSG9057"></a><div class="props_rev_3"><a id="GUID-5D3BD56C-E637-4F6D-940D-3D69E8A06A31" name="GUID-5D3BD56C-E637-4F6D-940D-3D69E8A06A31"></a><h5 id="DWHSG-GUID-5D3BD56C-E637-4F6D-940D-3D69E8A06A31" class="sect5"><span class="enumeration_section">4.2.2.3 </span>RELY Constraints in a Data Warehouse
                     </h5>
                     <div>
                        <p><a id="d9998e1600" class="indexterm-anchor"></a><a id="d9998e1602" class="indexterm-anchor"></a>The ETL process commonly verifies that certain constraints are true. For example, it can validate all of the foreign keys in the data coming into the fact table. This means that you can trust it to provide clean data, instead of implementing constraints in the data warehouse. You create a <code class="codeph">RELY</code> constraint as follows:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE sales ADD CONSTRAINT sales_time_fk
FOREIGN KEY (time_id) REFERENCES times (time_id) 
RELY DISABLE NOVALIDATE;
</pre><p>This statement assumes that the primary key is in the <code class="codeph">RELY</code> state. <code class="codeph">RELY</code> constraints, even though they are not used for data validation, can:
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Enable more sophisticated query rewrites for materialized views. See <a href="basic-query-rewrite-materialized-views.html#GUID-DB76286B-8557-446B-A6CC-BC987C378076" title="A query undergoes several checks to determine whether it is a candidate for query rewrite. If the query fails any check, then the query is applied to the detail tables rather than the materialized view. The inability to rewrite can be costly in terms of response time and processing power.Query rewrite behavior is controlled by certain database initialization parameters.Query rewrite offers three levels of rewrite integrity that are controlled by the initialization parameter QUERY_REWRITE_INTEGRITY.This example illustrates the power of query rewrite with materialized views.">Basic Query Rewrite for Materialized Views</a> for further details.
                              </p>
                           </li>
                           <li>
                              <p>Enable other data warehousing tools to retrieve information regarding constraints directly from the Oracle data dictionary.</p>
                           </li>
                        </ul>
                        <p>Creating a <code class="codeph">RELY</code> constraint is inexpensive and does not impose any overhead during DML or load. Because the constraint is not being validated, no data processing is necessary to create it.
                        </p>
                     </div>
                  </div><a id="DWHSG9058"></a><div class="props_rev_3"><a id="GUID-60854384-F566-4193-8457-AFF0598A2A52" name="GUID-60854384-F566-4193-8457-AFF0598A2A52"></a><h5 id="DWHSG-GUID-60854384-F566-4193-8457-AFF0598A2A52" class="sect5"><span class="enumeration_section">4.2.2.4 </span>NOT NULL Constraints in a Data Warehouse
                     </h5>
                     <div>
                        <p>When using query rewrite, you should consider whether <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraints are required. The primary situation where you will need to use them is for join back query rewrite.
                        </p>
                        <div class="infoboxnotealso" id="GUID-60854384-F566-4193-8457-AFF0598A2A52__GUID-EC0FE4BA-D960-4A0E-B8B4-F5BAB9B44DCA">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="advanced-query-rewrite-materialized-views.html#GUID-0906CA6B-7EE3-42E1-A598-C6541BCD9B36" title="Query rewrite considers external partitions in a hybrid partitioned table to be of UNKNOWN freshness. Therefore, when a query requests data from one or more external partitions, it can only be rewritten under TRUSTED or STALE_TOLERATED integrity mode.Queries containing SQL functions that return approximate results are automatically rewritten to use a matching materialized view, if these queries can be answered using the materialized view.Queries that contain COUNT(DISTINCT) operations on integer columns can be rewritten to use materialized views that contain bitmap-based functions.">Advanced Query Rewrite for Materialized Views</a> for further information regarding <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraints when using query rewrite
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="DWHSG9059"></a><div class="props_rev_3"><a id="GUID-40C66E78-C107-4CB1-90BE-02A9ADCFF2B3" name="GUID-40C66E78-C107-4CB1-90BE-02A9ADCFF2B3"></a><h5 id="DWHSG-GUID-40C66E78-C107-4CB1-90BE-02A9ADCFF2B3" class="sect5"><span class="enumeration_section">4.2.2.5 </span>Integrity Constraints and Parallelism in a Data Warehouse
                     </h5>
                     <div>
                        <p>All constraints can be validated in parallel. When validating constraints on very large tables, parallelism is often necessary to meet performance goals. The degree of parallelism for a given constraint operation is determined by the default degree of parallelism of the underlying table.</p>
                     </div>
                  </div><a id="DWHSG9060"></a><div class="props_rev_3"><a id="GUID-C98E4A18-20EE-4C95-A18E-3811BB714D01" name="GUID-C98E4A18-20EE-4C95-A18E-3811BB714D01"></a><h5 id="DWHSG-GUID-C98E4A18-20EE-4C95-A18E-3811BB714D01" class="sect5"><span class="enumeration_section">4.2.2.6 </span>Integrity Constraints and Partitioning in a Data Warehouse
                     </h5>
                     <div>
                        <p><a id="d9998e1740" class="indexterm-anchor"></a>You can create and maintain constraints before you partition the data. Later chapters discuss the significance of partitioning for data warehousing. Partitioning can improve constraint management just as it does to management of many other operations. For example, <a href="refreshing-materialized-views.html#GUID-64068234-BDB0-4C12-AE70-75571046A586" title="A materialized view that uses the ON STATEMENT refresh mode is automatically refreshed every time a DML operation is performed on any of the materialized view’s base tables. Oracle Database performs fast refresh for materialized views that are defined using approximate queries.While redefining a table online using the DBMS_REDEFINITION package, you can perform incremental refresh of fast refreshable materialized views that are dependent on the table being redefined.You can use the complete, fast, or PCT refresh methods to refresh a materialized view that is based on a hybrid partitioned table.">Refreshing Materialized Views</a> provides a scenario creating <code class="codeph">UNIQUE</code> and <code class="codeph">FOREIGN</code> <code class="codeph">KEY</code> constraints on a separate staging table, and these constraints are maintained during the<a id="d9998e1767" class="indexterm-anchor"></a> <code class="codeph">EXCHANGE</code> <code class="codeph">PARTITION</code> statement.
                        </p>
                        <p></p>
                        <p>For external tables, you can only define <code class="codeph">RELY</code> constraints in <code class="codeph">DISABLE</code> mode. This is applicable to primary key, unique key, and foreign key constraints.
                        </p>
                     </div>
                  </div><a id="DWHSG9061"></a><div class="props_rev_3"><a id="GUID-72719F57-92C2-4628-9E4E-0CA939C949A6" name="GUID-72719F57-92C2-4628-9E4E-0CA939C949A6"></a><h5 id="DWHSG-GUID-72719F57-92C2-4628-9E4E-0CA939C949A6" class="sect5"><span class="enumeration_section">4.2.2.7 </span>View Constraints in a Data Warehouse
                     </h5>
                     <div>
                        <p>You can <a id="d9998e1808" class="indexterm-anchor"></a><a id="d9998e1810" class="indexterm-anchor"></a>create constraints on views. The only type of constraint supported on a view is a <code class="codeph">RELY</code> constraint.
                        </p>
                        <p>This type of constraint is useful when queries typically access views instead of base tables, and the database administrator thus needs to define the data relationships between views rather than tables.</p>
                        <div class="infoboxnotealso" id="GUID-72719F57-92C2-4628-9E4E-0CA939C949A6__GUID-8575DCC0-A6B9-4290-997E-35D4BF1852CE">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="basic-materialized-views.html#GUID-A7AE8E5D-68A5-4519-81EB-252EAAF0ADFF" title="If the materialized view contains only joins, the ROWID columns for each table (and each instance of a table that occurs multiple times in the FROM list) must be present in the SELECT list of the materialized view.A materialized view can be created with the CREATE MATERIALIZED VIEW statement or using Enterprise Manager.Use the CREATE MATERIALIZED VIEW statement to create a materialized view that is based on a hybrid partitioned table.A materialized view based on approximate queries uses SQL functions that return approximate functions in its defining query.Materialized views based on COUNT(DISTINCT) functions can provide enhanced performance by using bitmap-based operations on integer columns.">Basic Materialized Views</a></p>
                              </li>
                              <li>
                                 <p><a href="basic-query-rewrite-materialized-views.html#GUID-DB76286B-8557-446B-A6CC-BC987C378076" title="A query undergoes several checks to determine whether it is a candidate for query rewrite. If the query fails any check, then the query is applied to the detail tables rather than the materialized view. The inability to rewrite can be costly in terms of response time and processing power.Query rewrite behavior is controlled by certain database initialization parameters.Query rewrite offers three levels of rewrite integrity that are controlled by the initialization parameter QUERY_REWRITE_INTEGRITY.This example illustrates the power of query rewrite with materialized views.">Basic Query Rewrite for Materialized Views</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="DWHSG9062"></a><div class="props_rev_3"><a id="GUID-2207CC57-A4D8-4ED1-8676-151EFD7E3528" name="GUID-2207CC57-A4D8-4ED1-8676-151EFD7E3528"></a><h3 id="DWHSG-GUID-2207CC57-A4D8-4ED1-8676-151EFD7E3528" class="sect3"><span class="enumeration_section">4.3 </span>About Parallel Execution in Data Warehouses
               </h3>
               <div>
                  <p>Data<a id="d9998e1889" class="indexterm-anchor"></a><a id="d9998e1891" class="indexterm-anchor"></a>bases today, irrespective of whether they are data warehouses, operational data stores, or OLTP systems, contain a large amount of information. However, finding and presenting the right information in a timely fashion can be a challenge because of the vast quantity of data involved.
                  </p>
                  <p>Parallel execution is the capability that addresses this challenge. Using parallel execution (also called parallelism), terabytes of data can be processed in minutes, not hours or days, simply by using multiple processes to accomplish a single task. This dramatically reduces response time for data-intensive operations on large databases typically associated with decision support systems (DSS) and data warehouses. You can also implement parallel execution on OLTP system for batch processing or schema maintenance operations such as index creation. Parallelism is the idea of breaking down a task so that, instead of one process doing all of the work in a query, many processes do part of the work at the same time. An example of this is when four processes combine to calculate the total sales for a year, each process handles one quarter of the year instead of a single processing handling all four quarters by itself. The improvement in performance can be quite significant.</p>
                  <p>Parallel execution improves processing for:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Queries requiring large table scans, joins, or partitioned index scans</p>
                     </li>
                     <li>
                        <p>Creations of large indexes</p>
                     </li>
                     <li>
                        <p>Creation of large tables (including materialized views)</p>
                     </li>
                     <li>
                        <p>Bulk inserts, updates, merges, and deletes</p>
                     </li>
                  </ul>
                  <p>You can also use parallel execution to access object types within an Oracle database. For example, you can use parallel execution to access large objects (LOBs).</p>
                  <p>Large data warehouses should always use parallel execution to achieve good performance. Specific operations in OLTP applications, such as batch operations, can also significantly benefit from parallel execution.</p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="data-warehouse-optimizations-techniques.html#GUID-86C93668-2C9B-4538-9F75-B0FC4072B238">Why Use Parallel Execution?</a></p>
                     </li>
                     <li>
                        <p><a href="data-warehouse-optimizations-techniques.html#GUID-CB273100-91D8-49DA-9B3A-614A8CF5E33C">Automatic Degree of Parallelism and Statement Queuing</a></p>
                     </li>
                     <li>
                        <p><a href="data-warehouse-optimizations-techniques.html#GUID-31B144E1-8F0A-4DFB-AC2E-5A27EAF2A6FD">About In-Memory Parallel Execution in Data Warehouses</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG9063"></a><div class="props_rev_3"><a id="GUID-86C93668-2C9B-4538-9F75-B0FC4072B238" name="GUID-86C93668-2C9B-4538-9F75-B0FC4072B238"></a><h4 id="DWHSG-GUID-86C93668-2C9B-4538-9F75-B0FC4072B238" class="sect4"><span class="enumeration_section">4.3.1 </span>Why Use Parallel Execution?
                  </h4>
                  <div>
                     <p>Imagine that your task is to count the number of cars in a street. There are two ways to do this. One, you can go through the street by yourself and count the number of cars or you can enlist a friend and then the two of you can start on opposite ends of the street, count cars until you meet each other and add the results of both counts to complete the task.</p>
                     <p>Assuming your friend counts equally fast as you do, you expect to complete the task of counting all cars in a street in roughly half the time compared to when you perform the job all by yourself. If this is the case, then your operations scales linearly. That is, twice the number of resources halves the total processing time.</p>
                     <p>A database is not very different from the counting cars example. If you allocate twice the number of resources and achieve a processing time that is half of what it was with the original amount of resources, then the operation scales linearly. Scaling linearly is the ultimate goal of parallel processing, both in counting cars as well as in delivering answers from a database query.</p>
                     <div class="infoboxnotealso" id="GUID-86C93668-2C9B-4538-9F75-B0FC4072B238__GUID-1DFA9FCB-C7FD-4AD5-8EFD-C7EF4D4EE4A2">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../vldbg/using-parallel.html#VLDBG010" target="_blank"><span><cite>Oracle Database VLDB and Partitioning Guide</cite></span></a> for more information about using parallel execution
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p>This following topics provide guidance on the scenarios in which parallel execution is useful:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="data-warehouse-optimizations-techniques.html#GUID-C70CA94F-C5C0-4B49-9EF9-E96F37AE125B">When to Implement Parallel Execution</a></p>
                        </li>
                        <li>
                           <p><a href="data-warehouse-optimizations-techniques.html#GUID-AC9BB244-D331-4F8E-B7E7-A1D79E7EA673">When Not to Implement Parallel Execution</a></p>
                        </li>
                     </ul>
                  </div><a id="DWHSG9064"></a><div class="props_rev_3"><a id="GUID-C70CA94F-C5C0-4B49-9EF9-E96F37AE125B" name="GUID-C70CA94F-C5C0-4B49-9EF9-E96F37AE125B"></a><h5 id="DWHSG-GUID-C70CA94F-C5C0-4B49-9EF9-E96F37AE125B" class="sect5"><span class="enumeration_section">4.3.1.1 </span>When to Implement Parallel Execution
                     </h5>
                     <div>
                        <p>Parallel execution benefits systems with all of the following characteristics:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Symmetric multiprocessors (SMPs), clusters, or massively parallel systems</p>
                           </li>
                           <li>
                              <p>Sufficient I/O bandwidth</p>
                           </li>
                           <li>
                              <p>Underutilized or intermittently used CPUs (for example, systems where CPU usage is typically less than 30%)</p>
                           </li>
                           <li>
                              <p>Sufficient memory to support additional memory-intensive processes, such as sorts, hashing, and I/O buffers</p>
                           </li>
                        </ul>
                        <p>If your system lacks any of these characteristics, parallel execution might not significantly improve performance. In fact, parallel execution may reduce system performance on overutilized systems or systems with small I/O bandwidth.</p>
                        <p>The benefits of parallel execution can be seen in DSS and data warehousing environments. OLTP systems can also benefit from parallel execution during batch processing and during schema maintenance operations such as creation of indexes. The average simple DML or <code class="codeph">SELECT</code> statements, accessing or manipulating small sets of records or even single records, that characterize OLTP applications would not see any benefit from being executed in parallel.
                        </p>
                     </div>
                  </div><a id="DWHSG9065"></a><div class="props_rev_3"><a id="GUID-AC9BB244-D331-4F8E-B7E7-A1D79E7EA673" name="GUID-AC9BB244-D331-4F8E-B7E7-A1D79E7EA673"></a><h5 id="DWHSG-GUID-AC9BB244-D331-4F8E-B7E7-A1D79E7EA673" class="sect5"><span class="enumeration_section">4.3.1.2 </span>When Not to Implement Parallel Execution
                     </h5>
                     <div>
                        <p>Parallel execution is not normally useful for:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Environments in which the typical query or transaction is very short (a few seconds or less). This includes most online transaction systems. Parallel execution is not useful in these environments because there is a cost associated with coordinating the parallel execution servers; for short transactions, the cost of this coordination may outweigh the benefits of parallelism.</p>
                           </li>
                           <li>
                              <p>Environments in which the CPU, memory, or I/O resources are heavily utilized, even with parallel execution. Parallel execution is designed to exploit additional available hardware resources; if no such resources are available, then parallel execution does not yield any benefits and indeed may be detrimental to performance.</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DWHSG9067"></a><a id="DWHSG9066"></a><div class="props_rev_3"><a id="GUID-CB273100-91D8-49DA-9B3A-614A8CF5E33C" name="GUID-CB273100-91D8-49DA-9B3A-614A8CF5E33C"></a><h4 id="DWHSG-GUID-CB273100-91D8-49DA-9B3A-614A8CF5E33C" class="sect4"><span class="enumeration_section">4.3.2 </span>Automatic Degree of Parallelism and Statement Queuing
                  </h4>
                  <div>
                     <p>As the name implies, automatic degree of parallelism is where Oracle Database determines the degree of parallelism (DOP) with which to run a statement (DML, DDL, and queries) based on the execution cost - the resource consumption of CPU, I/O, and memory - as determined by the Optimizer. That means that the database parses a query, calculates the cost and then determines a DOP to run with. The cheapest plan may be to run serially, which is also an option. <a href="data-warehouse-optimizations-techniques.html#GUID-CB273100-91D8-49DA-9B3A-614A8CF5E33C__CIHGFIID">Figure 4-2</a> illustrates this decision making process.
                     </p>
                     <div class="figure" id="GUID-CB273100-91D8-49DA-9B3A-614A8CF5E33C__CIHGFIID">
                        <p class="titleinfigure">Figure 4-2 Optimizer Calculation: Serial or Parallel?</p><img src="img/dwhsg132.gif" alt="Description of Figure 4-2 follows" title="Description of Figure 4-2 follows" longdesc="img_text/dwhsg132.html"><br><a href="img_text/dwhsg132.html">Description of "Figure 4-2 Optimizer Calculation: Serial or Parallel?"</a></div>
                     <!-- class="figure" -->
                     <p>Should you choose to use automatic DOP, you may potentially see many more statements running in parallel, especially if the threshold is relatively low, where low is relative to the system and not an absolute quantifier.</p>
                     <p>Because of this expected behavior of more statements running in parallel with automatic DOP, it becomes more important to manage the utilization of the parallel processes available. That means that the system must be intelligent about when to run a statement and verify whether the requested numbers of parallel processes are available. The requested number of processes in this is the DOP for that statement.</p>
                     <p>The answer to this workload management question is parallel statement queuing with the Database Resource Manager. Parallel statement queuing runs a statement when its requested DOP is available. For example, when a statement requests a DOP of 64, it will not run if there are only 32 processes currently free to assist this customer, so the statement will be placed into a queue.</p>
                     <p>With Database Resource Manager, you can classify statements into workloads through consumer groups. Each consumer group can then be given the appropriate priority and the appropriate levels of parallel processes. Each consumer group also has its own queue to queue parallel statements based on the system load.</p>
                     <div class="infoboxnotealso" id="GUID-CB273100-91D8-49DA-9B3A-614A8CF5E33C__GUID-A9E604BC-5D37-44C8-8133-5ABF3D5ADFEF">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../vldbg/degree-parallel.html#VLDBG0103" target="_blank"><span><cite>Oracle Database VLDB and Partitioning Guide</cite></span></a> for more information about using automatic DOP with parallel execution 
                              </p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-resources-with-oracle-database-resource-manager.html#ADMIN027" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for more information about using the Database Resource Manager
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DWHSG9068"></a><div class="props_rev_3"><a id="GUID-31B144E1-8F0A-4DFB-AC2E-5A27EAF2A6FD" name="GUID-31B144E1-8F0A-4DFB-AC2E-5A27EAF2A6FD"></a><h4 id="DWHSG-GUID-31B144E1-8F0A-4DFB-AC2E-5A27EAF2A6FD" class="sect4"><span class="enumeration_section">4.3.3 </span>About In-Memory Parallel Execution in Data Warehouses
                  </h4>
                  <div>
                     <p>Traditionally, parallel processing by-passed the database buffer cache for most operations, reading data directly from disk (through direct path I/O) into the parallel execution server's private working space. Only objects smaller than about 2% of <code class="codeph">DB_CACHE_SIZE</code> would be cached in the database buffer cache of an instance, and most objects accessed in parallel are larger than this limit. This behavior meant that parallel processing rarely took advantage of the available memory other than for its private processing. However, over the last decade, hardware systems have evolved quite dramatically; the memory capacity on a typical database server is now in the double or triple digit gigabyte range. This, together with Oracle's compression technologies and the capability of Oracle Database to exploit the aggregated database buffer cache of an Oracle Real Application Clusters environment, enables caching of objects in the terabyte range.
                     </p>
                     <p>In-memory parallel execution takes advantage of this large aggregated database buffer cache. Having parallel execution servers accessing objects using the buffer cache enables full parallel in-memory processing of large volumes of data, leading to performance improvements in orders of magnitudes.</p>
                     <p>With in-memory parallel execution, when a SQL statement is issued in parallel, a check is conducted to determine if the objects accessed by the statement should be cached in the aggregated buffer cache of the system. In this context, an object can either be a table, index, or, in the case of partitioned objects, one or multiple partitions.</p>
                     <div class="infoboxnotealso" id="GUID-31B144E1-8F0A-4DFB-AC2E-5A27EAF2A6FD__GUID-AA11E37F-5091-4A34-BA3F-2A8BC114B20C">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../vldbg/inmemory-parallel-exec.html#VLDBG13912" target="_blank"><span><cite>Oracle Database VLDB and Partitioning Guide</cite></span></a> for more information about using in-memory parallel execution
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="DWHSG8912"></a><div class="props_rev_3"><a id="GUID-11CD602C-2C37-4771-97A6-CFFEABB4259D" name="GUID-11CD602C-2C37-4771-97A6-CFFEABB4259D"></a><h3 id="DWHSG-GUID-11CD602C-2C37-4771-97A6-CFFEABB4259D" class="sect3"><span class="enumeration_section">4.4 </span>About Optimizing Storage Requirements in Data Warehouses
               </h3>
               <div>
                  <p>You can <a id="d9998e2171" class="indexterm-anchor"></a>reduce your storage requirements by compressing data, which is achieved by eliminating duplicate values in a database block. <span class="q">"<a href="data-warehouse-optimizations-techniques.html#GUID-60520E82-64E3-45D1-95D3-8628CE7B99CE">Using Data Compression to Improve Storage in Data Warehouses</a>"</span> describes how you can use compress data. 
                  </p>
                  <p>Database objects that can be compressed include tables and materialized views. For partitioned tables, you can compress some or all partitions. Compression attributes can be declared for a tablespace, a table, or a partition of a table. If declared at the tablespace level, then all tables created in that tablespace are compressed by default. You can alter the compression attribute for a table (or a partition or tablespace), and the change applies only to new data going into that table. As a result, a single table or partition may contain some compressed blocks and some regular blocks. This guarantees that data size will not increase as a result of compression. In cases where compression could increase the size of a block, it is not applied to that block.</p>
               </div><a id="DWHSG8914"></a><a id="DWHSG8913"></a><div class="props_rev_3"><a id="GUID-60520E82-64E3-45D1-95D3-8628CE7B99CE" name="GUID-60520E82-64E3-45D1-95D3-8628CE7B99CE"></a><h4 id="DWHSG-GUID-60520E82-64E3-45D1-95D3-8628CE7B99CE" class="sect4"><span class="enumeration_section">4.4.1 </span>Using Data Compression to Improve Storage in Data Warehouses
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can compr<a id="d9998e2207" class="indexterm-anchor"></a>ess several partitions or a complete partitioned heap-organized table. You do this either by defining a complete partitioned table as being compressed, or by defining it on a per-partition level. Partitions without a specific declaration inherit the attribute from the table definition or, if nothing is specified on the table level, from the tablespace definition.
                        </p>
                        <p>The decision about whether or not a partition should be compressed is based on the same rules as a nonpartitioned table. Because of the ability of range and composite partitioning to separate data logically into distinct partitions, a partitioned table is an ideal candidate for compressing parts of the data (partitions) that are mainly read-only. It is, for example, beneficial in all rolling window operations as a kind of intermediate stage before aging out old data. With data compression, you can keep more old data online, minimizing the burden of additional storage use.</p>
                        <p>You can also change any existing uncompressed table partition later, add new compressed and uncompressed partitions, or change the compression attribute as part of any partition maintenance operation that requires data movement, such as <a id="d9998e2214" class="indexterm-anchor"></a><code class="codeph">MERGE</code> <code class="codeph">PARTITION</code>, <a id="d9998e2222" class="indexterm-anchor"></a><code class="codeph">SPLIT</code> <code class="codeph">PARTITION</code>, or <a id="d9998e2231" class="indexterm-anchor"></a><code class="codeph">MOVE</code> <code class="codeph">PARTITION</code>. The partitions can contain data, or they can be empty.
                        </p>
                        <p>The access and maintenance of a partially or fully compressed partitioned table are the same as for a fully uncompressed partitioned table. All rules that apply to fully uncompressed partitioned tables are also valid for partially or fully compressed partitioned tables.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-60520E82-64E3-45D1-95D3-8628CE7B99CE__GUID-2E855E8D-8E3D-4ECC-98A3-F1EF1ED784FB">To use data compression:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example creates a <a id="d9998e2247" class="indexterm-anchor"></a>range-partitioned table with one compressed partition <code class="codeph">costs_old</code>. The compression attribute for the table and all other partitions is inherited from the tablespace level.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE costs_demo (
   prod_id     NUMBER(6),    time_id     DATE, 
   unit_cost   NUMBER(10,2), unit_price  NUMBER(10,2))
PARTITION BY RANGE (time_id)
   (PARTITION costs_old 
       VALUES LESS THAN (TO_DATE('01-JAN-2003', 'DD-MON-YYYY')) COMPRESS,
    PARTITION costs_q1_2003 
       VALUES LESS THAN (TO_DATE('01-APR-2003', 'DD-MON-YYYY')),
    PARTITION costs_q2_2003
       VALUES LESS THAN (TO_DATE('01-JUN-2003', 'DD-MON-YYYY')),
    PARTITION costs_recent VALUES LESS THAN (MAXVALUE));</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="DWHSG8591"></a><div class="props_rev_3"><a id="GUID-3AF4B9BF-F429-4AAF-983A-6F722484D0E2" name="GUID-3AF4B9BF-F429-4AAF-983A-6F722484D0E2"></a><h3 id="DWHSG-GUID-3AF4B9BF-F429-4AAF-983A-6F722484D0E2" class="sect3"><span class="enumeration_section">4.5 </span>Optimizing Star Queries and 3NF Schemas
               </h3>
               <div>
                  <div class="section">
                     <p>Oracle data warehouses can work well with star schemas and third normal form schemas. This section presents important techniques for optimizing performance in both types of schema. For conceptual background on star and 3NF schemas, see <span class="q">"<a href="data-warehouse-logical-design.html#GUID-FD474327-4F5C-4D7E-AC7B-91739F229822">About Third Normal Form Schemas</a>"</span>. and <span class="q">"<a href="data-warehouse-logical-design.html#GUID-FB038EDB-47AB-4FF1-9826-E342BED572CF">About Star Schemas</a>"</span>.
                     </p>
                     <p>You should consider the following when using star queries:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="data-warehouse-optimizations-techniques.html#GUID-095A1BEC-E373-49B2-A3CF-E059D42B6E7A">Optimizing Star Queries</a></p>
                        </li>
                        <li>
                           <p><a href="data-warehouse-optimizations-techniques.html#GUID-56922781-3FDD-4E42-96BD-8CF5E199C951">Using Star Transformation</a></p>
                        </li>
                        <li>
                           <p><a href="data-warehouse-optimizations-techniques.html#GUID-FA933363-8297-405F-BCE7-48EDA4AB8393">Optimizing Third Normal Form Schemas</a></p>
                        </li>
                        <li>
                           <p><a href="data-warehouse-optimizations-techniques.html#GUID-355E68D9-2987-4AD5-9620-E37897A1635D">Optimizing Star Queries Using VECTOR GROUP BY Aggregation</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="DWHSG9069"></a><div class="props_rev_3"><a id="GUID-095A1BEC-E373-49B2-A3CF-E059D42B6E7A" name="GUID-095A1BEC-E373-49B2-A3CF-E059D42B6E7A"></a><h4 id="DWHSG-GUID-095A1BEC-E373-49B2-A3CF-E059D42B6E7A" class="sect4"><span class="enumeration_section">4.5.1 </span>Optimizing Star Queries
                  </h4>
                  <div>
                     <div class="section">
                        <p>A star query is a join between a fact table and a number of dimension tables. Each dimension table is joined to the fact table using a primary key to foreign key join, but the dimension tables are not joined to each other. The optimizer recognizes star queries and generates efficient execution plans for them. <span class="q">"<a href="data-warehouse-optimizations-techniques.html#GUID-8B14F89D-6DB8-43C2-AC26-E1D9B7217DA0">Tuning Star Queries</a>"</span> describes how to improve the performance of star queries.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DWHSG9070"></a><div class="props_rev_3"><a id="GUID-8B14F89D-6DB8-43C2-AC26-E1D9B7217DA0" name="GUID-8B14F89D-6DB8-43C2-AC26-E1D9B7217DA0"></a><h5 id="DWHSG-GUID-8B14F89D-6DB8-43C2-AC26-E1D9B7217DA0" class="sect5"><span class="enumeration_section">4.5.1.1 </span>Tuning Star Queries
                     </h5>
                     <div>
                        <div class="section">
                           <p>To get the best possible performance for star queries, it is important to follow some basic guidelines:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>A bitmap index should be built on each of the foreign key columns of the fact table or tables.</p>
                              </li>
                              <li>
                                 <p>The initialization parameter <code class="codeph">STAR_TRANSFORMATION_ENABLED</code> should be set to <code class="codeph">TRUE</code>. This enables an important optimizer feature for star-queries. It is set to <code class="codeph">FALSE</code> by default for backward-compatibility.
                                 </p>
                              </li>
                           </ul>
                           <p>When a data warehouse satisfies these conditions, the majority of the star queries running in the data warehouse uses a query execution strategy known as the star transformation. The star transformation provides very efficient query performance for star queries.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="DWHSG8593"></a><div class="props_rev_3"><a id="GUID-56922781-3FDD-4E42-96BD-8CF5E199C951" name="GUID-56922781-3FDD-4E42-96BD-8CF5E199C951"></a><h4 id="DWHSG-GUID-56922781-3FDD-4E42-96BD-8CF5E199C951" class="sect4"><span class="enumeration_section">4.5.2 </span>Using Star Transformation
                  </h4>
                  <div>
                     <div class="section">
                        <p>The star transformation is a powerful optimization technique that relies upon implicitly rewriting (or transforming) the SQL of the original star query. The end user never needs to know any of the details about the star transformation. Oracle Database's query optimizer automatically chooses the star transformation where appropriate. </p>
                        <p><a id="d9998e2406" class="indexterm-anchor"></a><a id="d9998e2410" class="indexterm-anchor"></a>The star transformation is a query transformation aimed at executing star queries efficiently. Oracle Database processes a star query using two basic phases. The first phase retrieves exactly the necessary rows from the fact tabl<a id="d9998e2413" class="indexterm-anchor"></a>e (the result set). Because this retrieval utilizes bitmap indexes, it is very efficient. The second phase joins this result set to the dimension tables. An example of an end user query is: "What were the sales and profits for the grocery department of stores in the west and southwest sales districts over the last three quarters?" This is a simple star query.
                        </p>
                        <p>This section contains the following topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="data-warehouse-optimizations-techniques.html#GUID-85C05B21-5BB3-4214-B5D6-E65647CE00AD">Star Transformation with a Bitmap Index</a></p>
                           </li>
                           <li>
                              <p><a href="data-warehouse-optimizations-techniques.html#GUID-C1F74A25-D794-4AA0-BDE2-BE84EFE70092">Execution Plan for a Star Transformation with a Bitmap Index</a></p>
                           </li>
                           <li>
                              <p><a href="data-warehouse-optimizations-techniques.html#GUID-461A7350-5783-4E7E-9AE0-ED226D4AD864">Star Transformation with a Bitmap Join Index</a></p>
                           </li>
                           <li>
                              <p><a href="data-warehouse-optimizations-techniques.html#GUID-5C4861DE-EA35-4193-8D06-2B1A38CAF75E">Execution Plan for a Star Transformation with a Bitmap Join Index</a></p>
                           </li>
                           <li>
                              <p><a href="data-warehouse-optimizations-techniques.html#GUID-8CD0D8CE-CFD8-45B0-9D25-AC8804D5063D">How Oracle Chooses to Use Star Transformation</a></p>
                           </li>
                           <li>
                              <p><a href="data-warehouse-optimizations-techniques.html#GUID-7F4319EA-6A11-4F0F-90DF-E4EF3E50EBE2">Star Transformation Restrictions</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DWHSG8594"></a><div class="props_rev_3"><a id="GUID-85C05B21-5BB3-4214-B5D6-E65647CE00AD" name="GUID-85C05B21-5BB3-4214-B5D6-E65647CE00AD"></a><h5 id="DWHSG-GUID-85C05B21-5BB3-4214-B5D6-E65647CE00AD" class="sect5"><span class="enumeration_section">4.5.2.1 </span>Star Transformation with a Bitmap Index
                     </h5>
                     <div>
                        <div class="section">
                           <p>A prerequisite of the star transformation is that there be a single-column bitmap index on every join column of the fact table. These join columns include all foreign key columns.</p>
                           <p>For example, the <code class="codeph">sales</code> table of the <code class="codeph">sh</code> sample schema has bitmap indexes on the <code class="codeph">time_id</code>, <code class="codeph">channel_id</code>, <code class="codeph">cust_id</code>, <code class="codeph">prod_id</code>, and <code class="codeph">promo_id</code> columns. 
                           </p>
                           <p>Consider the following star query:</p><pre class="oac_no_warn" dir="ltr">SELECT ch.channel_class, c.cust_city, t.calendar_quarter_desc,
   SUM(s.amount_sold) sales_amount
FROM sales s, times t, customers c, channels ch
WHERE s.time_id = t.time_id
AND   s.cust_id = c.cust_id
AND   s.channel_id = ch.channel_id
AND   c.cust_state_province = 'CA'
AND   ch.channel_desc in ('Internet','Catalog')
AND   t.calendar_quarter_desc IN ('1999-Q1','1999-Q2')
GROUP BY ch.channel_class, c.cust_city, t.calendar_quarter_desc;
</pre><p>This query is processed in two phases. In the first phase, Oracle Database uses the bitmap indexes on the foreign key columns of the fact table to identify and retrieve only the necessary rows from the fact table. That is, Oracle Database retrieves the result set from the fact table using essentially the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT ... FROM sales
WHERE time_id IN
  (SELECT time_id FROM times 
   WHERE calendar_quarter_desc IN('1999-Q1','1999-Q2'))
   AND cust_id IN
  (SELECT cust_id FROM customers WHERE cust_state_province='CA')
   AND channel_id IN
  (SELECT channel_id FROM channels WHERE channel_desc IN('Internet','Catalog'));
</pre><p>This is the transformation step of the algorithm, because the original star query has been transformed into this subquery representation. This method of accessing the fact table leverages the strengths of bitmap indexes. Intuitively, bitmap indexes provide a set-based processing scheme within a relational database. Oracle has implemented very fast methods for doing set operations such as <code class="codeph">AND</code> (an intersection in standard set-based terminology), <code class="codeph">OR</code> (a set-based union), <code class="codeph">MINUS</code>, and <code class="codeph">COUNT</code>.
                           </p>
                           <p>In this star query, a bitmap index on <code class="codeph">time_id</code> is used to identify the set of all rows in the fact table corresponding to <code class="codeph">sales</code> in <code class="codeph">1999-Q1</code>. This set is represented as a bitmap (a string of 1's and 0's that indicates which rows of the fact table are members of the set).
                           </p>
                           <p>A similar bitmap is retrieved for the fact table rows corresponding to the sale from <code class="codeph">1999-Q2</code>. The bitmap <code class="codeph">OR</code> operation is used to combine this set of <code class="codeph">Q1</code> sales with the set of <code class="codeph">Q2</code> sales.
                           </p>
                           <p>Additional set operations will be done for the <code class="codeph">customer</code> dimension and the <code class="codeph">product</code> dimension. At this point in the star query processing, there are three bitmaps. Each bitmap corresponds to a separate dimension table, and each bitmap represents the set of rows of the fact table that satisfy that individual dimension's constraints.
                           </p>
                           <p>These three bitmaps are combined into a single bitmap using the bitmap <code class="codeph">AND</code> operation. This final bitmap represents the set of rows in the fact table that satisfy all of the constraints on the dimension table. This is the result set, the exact set of rows from the fact table needed to evaluate the query. Note that none of the actual data in the fact table has been accessed. All of these operations rely solely on the bitmap indexes and the dimension tables. Because of the bitmap indexes' compressed data representations, the bitmap set-based operations are extremely efficient.
                           </p>
                           <p>Once the result set is identified, the bitmap is used to access the actual data from the sales table. Only those rows that are required for the end user's query are retrieved from the fact table. At this point, Oracle Database has effectively joined all of the dimension tables to the fact table using bitmap indexes. This technique provides excellent performance because Oracle Database is joining all of the dimension tables to the fact table with one logical join operation, rather than joining each dimension table to the fact table independently. </p>
                           <p>The second phase of this query is to join these rows from the fact table (the result set) to the dimension tables. Oracle uses the most efficient method for accessing and joining the dimension tables. Many dimension are very small, and table scans are typically the most efficient access method for these dimension tables. For large dimension tables, table scans may not be the most efficient access method. In the previous example, a bitmap index on <code class="codeph">product.department</code> can be used to quickly identify all of those products in the grocery department. Oracle Database's optimizer automatically determines which access method is most appropriate for a given dimension table, based upon the optimizer's knowledge about the sizes and data distributions of each dimension table.
                           </p>
                           <p>The specific join method (as well as indexing method) for each dimension table will likewise be intelligently determined by the optimizer. A hash join is often the most efficient algorithm for joining the dimension tables. The final answer is returned to the user once all of the dimension tables have been joined. The query technique of retrieving only the matching rows from one table and then joining to another table is commonly known as a semijoin.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DWHSG8595"></a><div class="props_rev_3"><a id="GUID-C1F74A25-D794-4AA0-BDE2-BE84EFE70092" name="GUID-C1F74A25-D794-4AA0-BDE2-BE84EFE70092"></a><h5 id="DWHSG-GUID-C1F74A25-D794-4AA0-BDE2-BE84EFE70092" class="sect5"><span class="enumeration_section">4.5.2.2 </span>Execution Plan for a Star Transformation with a Bitmap Index
                     </h5>
                     <div>
                        <p><a id="d9998e2588" class="indexterm-anchor"></a><a id="d9998e2592" class="indexterm-anchor"></a><a id="d9998e2596" class="indexterm-anchor"></a>The following typical execution plan might result from <span class="q">"<a href="data-warehouse-optimizations-techniques.html#GUID-85C05B21-5BB3-4214-B5D6-E65647CE00AD">Star Transformation with a Bitmap Index</a>"</span>:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT STATEMENT
 SORT GROUP BY
  HASH JOIN
   TABLE ACCESS FULL                          CHANNELS
   HASH JOIN
    TABLE ACCESS FULL                         CUSTOMERS
    HASH JOIN
     TABLE ACCESS FULL                        TIMES
     PARTITION RANGE ITERATOR
      TABLE ACCESS BY LOCAL INDEX ROWID       SALES
       BITMAP CONVERSION TO ROWIDS
        BITMAP AND
         BITMAP MERGE
          BITMAP KEY ITERATION
           BUFFER SORT
            TABLE ACCESS FULL                 CUSTOMERS
           BITMAP INDEX RANGE SCAN            SALES_CUST_BIX
         BITMAP MERGE
          BITMAP KEY ITERATION
           BUFFER SORT
            TABLE ACCESS FULL                 CHANNELS
           BITMAP INDEX RANGE SCAN            SALES_CHANNEL_BIX
         BITMAP MERGE
          BITMAP KEY ITERATION
           BUFFER SORT
            TABLE ACCESS FULL                 TIMES
           BITMAP INDEX RANGE SCAN            SALES_TIME_BIX
</pre><p>In this plan, the fact table is accessed through a bitmap access path based on a bitmap <code class="codeph">AND</code>, of three merged bitmaps. The three bitmaps are generated by the <code class="codeph">BITMAP</code> <code class="codeph">MERGE</code> row source being fed bitmaps from row source trees underneath it. Each such row source tree consists of a <code class="codeph">BITMAP</code> <code class="codeph">KEY</code> <code class="codeph">ITERATION</code> row source which fetches values from the subquery row source tree, which in this example is a full table access. For each such value, the <code class="codeph">BITMAP</code> <code class="codeph">KEY</code> <code class="codeph">ITERATION</code> row source retrieves the bitmap from the bitmap index. After the relevant fact table rows have been retrieved using this access path, they are joined with the dimension tables and temporary tables to produce the answer to the query.
                        </p>
                     </div>
                  </div><a id="DWHSG8596"></a><div class="props_rev_3"><a id="GUID-461A7350-5783-4E7E-9AE0-ED226D4AD864" name="GUID-461A7350-5783-4E7E-9AE0-ED226D4AD864"></a><h5 id="DWHSG-GUID-461A7350-5783-4E7E-9AE0-ED226D4AD864" class="sect5"><span class="enumeration_section">4.5.2.3 </span>Star Transformation with a Bitmap Join Index
                     </h5>
                     <div>
                        <p>In addition to bitmap indexes, you can use a bitmap join index during star transformations. Assume you have the following additional index structure:</p><pre class="oac_no_warn" dir="ltr">CREATE BITMAP INDEX sales_c_state_bjix
ON sales(customers.cust_state_province)
FROM sales, customers
WHERE sales.cust_id = customers.cust_id
LOCAL NOLOGGING COMPUTE STATISTICS;
</pre><p>The processing of the same star query using the bitmap join index is similar to the previous example. The only difference is that Oracle utilizes the join index, instead of a single-table bitmap index, to access the customer data in the first phase of the star query. </p>
                     </div>
                  </div><a id="DWHSG8597"></a><div class="props_rev_3"><a id="GUID-5C4861DE-EA35-4193-8D06-2B1A38CAF75E" name="GUID-5C4861DE-EA35-4193-8D06-2B1A38CAF75E"></a><h5 id="DWHSG-GUID-5C4861DE-EA35-4193-8D06-2B1A38CAF75E" class="sect5"><span class="enumeration_section">4.5.2.4 </span>Execution Plan for a Star Transformation with a Bitmap Join Index
                     </h5>
                     <div>
                        <p>The following typical execution plan might result from <span class="q">"<a href="data-warehouse-optimizations-techniques.html#GUID-5C4861DE-EA35-4193-8D06-2B1A38CAF75E">Execution Plan for a Star Transformation with a Bitmap Join Index</a>"</span>:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT STATEMENT
 SORT GROUP BY
  HASH JOIN
   TABLE ACCESS FULL                          CHANNELS
   HASH JOIN
    TABLE ACCESS FULL                         CUSTOMERS
    HASH JOIN
     TABLE ACCESS FULL                        TIMES
     PARTITION RANGE ALL
      TABLE ACCESS BY LOCAL INDEX ROWID       SALES
       BITMAP CONVERSION TO ROWIDS
        BITMAP AND
         BITMAP INDEX SINGLE VALUE            SALES_C_STATE_BJIX
         BITMAP MERGE
          BITMAP KEY ITERATION
           BUFFER SORT
            TABLE ACCESS FULL                 CHANNELS
           BITMAP INDEX RANGE SCAN            SALES_CHANNEL_BIX
         BITMAP MERGE
          BITMAP KEY ITERATION
           BUFFER SORT
            TABLE ACCESS FULL                 TIMES
           BITMAP INDEX RANGE SCAN            SALES_TIME_BIX
</pre><p>The difference between this plan as compared to the previous one is that the inner part of the bitmap index scan for the <code class="codeph">customer</code> dimension has no subselect. This is because the join predicate information on <code class="codeph">customer.cust_state_province </code>can be satisfied with the bitmap join index <code class="codeph">sales_c_state_bjix</code>.
                        </p>
                     </div>
                  </div><a id="DWHSG8598"></a><div class="props_rev_3"><a id="GUID-8CD0D8CE-CFD8-45B0-9D25-AC8804D5063D" name="GUID-8CD0D8CE-CFD8-45B0-9D25-AC8804D5063D"></a><h5 id="DWHSG-GUID-8CD0D8CE-CFD8-45B0-9D25-AC8804D5063D" class="sect5"><span class="enumeration_section">4.5.2.5 </span>How Oracle Chooses to Use Star Transformation
                     </h5>
                     <div>
                        <p>The optimizer generates and saves the best plan it can produce without the transformation. If the transformation is enabled, the optimizer then tries to apply it to the query and, if applicable, generates the best plan using the transformed query. Based on a comparison of the cost estimates between the best plans for the two versions of the query, the optimizer then decides whether to use the best plan for the transformed or untransformed version.</p>
                        <p>If the query requires accessing a large percentage of the rows in the fact table, it might be better to use a full table scan and not use the transformations. However, if the constraining predicates on the dimension tables are sufficiently selective that only a small portion of the fact table must be retrieved, the plan based on the transformation will probably be superior.</p>
                        <p>Note that the optimizer generates a subquery for a dimension table only if it decides that it is reasonable to do so based on a number of criteria. There is no guarantee that subqueries will be generated for all dimension tables. The optimizer may also decide, based on the properties of the tables and the query, that the transformation does not merit being applied to a particular query. In this case, the best regular plan will be used.</p>
                     </div>
                  </div><a id="DWHSG8599"></a><div class="props_rev_3"><a id="GUID-7F4319EA-6A11-4F0F-90DF-E4EF3E50EBE2" name="GUID-7F4319EA-6A11-4F0F-90DF-E4EF3E50EBE2"></a><h5 id="DWHSG-GUID-7F4319EA-6A11-4F0F-90DF-E4EF3E50EBE2" class="sect5"><span class="enumeration_section">4.5.2.6 </span>Star Transformation Restrictions
                     </h5>
                     <div>
                        <div class="section">
                           <p><a id="d9998e2754" class="indexterm-anchor"></a>Star transformation is not supported for tables with any of the following characteristics:
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Queries with a table hint that is incompatible with a bitmap access path</p>
                              </li>
                              <li>
                                 <p>Tables with too few bitmap indexes. There must be a bitmap index on a fact table column for the optimizer to generate a subquery for it.</p>
                              </li>
                              <li>
                                 <p>Remote fact tables. However, remote dimension tables are allowed in the subqueries that are generated.</p>
                              </li>
                              <li>
                                 <p>Anti-joined tables</p>
                              </li>
                              <li>
                                 <p>Tables that are already used as a dimension table in a subquery</p>
                              </li>
                              <li>
                                 <p>Tables that are really unmerged views, which are not view partitions</p>
                              </li>
                              <li>
                                 <p>Tables where the fact table is an unmerged view</p>
                              </li>
                              <li>
                                 <p>Tables where a partitioned view is used as a fact table</p>
                              </li>
                           </ul>
                           <p>The star transformation may not be chosen by the optimizer for the following cases:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Tables that have a good single-table access path</p>
                              </li>
                              <li>
                                 <p>Tables that are too small for the transformation to be worthwhile</p>
                              </li>
                           </ul>
                           <p>In addition, temporary tables will not be used by star transformation under the following conditions:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p> The database is in read-only mode</p>
                              </li>
                              <li>
                                 <p> The star query is part of a transaction that is in serializable mode</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="DWHSG9071"></a><div class="props_rev_3"><a id="GUID-FA933363-8297-405F-BCE7-48EDA4AB8393" name="GUID-FA933363-8297-405F-BCE7-48EDA4AB8393"></a><h4 id="DWHSG-GUID-FA933363-8297-405F-BCE7-48EDA4AB8393" class="sect4"><span class="enumeration_section">4.5.3 </span>Optimizing Third Normal Form Schemas
                  </h4>
                  <div>
                     <p>Optimizing a third normal form (3NF) schema requires the following:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Power</p>
                           <p>Power means that the hardware configuration must be balanced. Many data warehouse operations are based upon large table scans and other IO-intensive operations, which perform vast quantities of random IOs. In order to achieve optimal performance the hardware configuration must be sized end to end to sustain this level of throughput. This type of hardware configuration is called a balanced system. In a balanced system, all components - from the CPU to the disks - are orchestrated to work together to guarantee the maximum possible IO throughput.</p>
                        </li>
                        <li>
                           <p>Partitioning</p>
                           <p>The larger tables should be partitioned using composite partitioning (range-hash or list-hash). There are three reasons for this:</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Easier manageability of terabytes of data</p>
                              </li>
                              <li>
                                 <p>Faster accessibility to the necessary data</p>
                              </li>
                              <li>
                                 <p>Efficient and performant table joins</p>
                              </li>
                           </ul>
                           <p>See <a href="data-warehouse-optimizations-techniques.html#GUID-26000567-78DB-4E77-B07E-A51804A976E2">3NF Schemas: Partitioning</a>.
                           </p>
                        </li>
                        <li>
                           <p>Parallel Execution</p>
                           <p>Parallel Execution enables a database task to be parallelized or divided into smaller units of work, thus allowing multiple processes to work concurrently. By using parallelism, a terabyte of data can be scanned and processed in minutes or less, not hours or days.</p>
                           <p>See <a href="data-warehouse-optimizations-techniques.html#GUID-C4E08017-3A33-448A-9662-5421F9B2F272">3NF Schemas: Parallel Query Execution</a>.
                           </p>
                        </li>
                     </ul>
                  </div><a id="DWHSG9072"></a><div class="props_rev_3"><a id="GUID-26000567-78DB-4E77-B07E-A51804A976E2" name="GUID-26000567-78DB-4E77-B07E-A51804A976E2"></a><h5 id="DWHSG-GUID-26000567-78DB-4E77-B07E-A51804A976E2" class="sect5"><span class="enumeration_section">4.5.3.1 </span>3NF Schemas: Partitioning
                     </h5>
                     <div>
                        <p>Partitioning allows a table, index or index-organized table to be subdivided into smaller pieces. Each piece of the database object is called a partition. Each partition has its own name, and may optionally have its own storage characteristics. From the perspective of a database administrator, a partitioned object has multiple pieces that can be managed either collectively or individually. </p>
                        <p>This gives the administrator considerable flexibility in managing partitioned objects. However, from the perspective of the application, a partitioned table is identical to a non-partitioned table; no modifications are necessary when accessing a partitioned table using SQL DML commands. Partitioning can provide tremendous benefits to a wide variety of applications by improving manageability, availability, and performance.</p>
                     </div><a id="DWHSG9073"></a><div class="props_rev_3"><a id="GUID-EBB30A06-BA15-482F-A8BD-4E78DFED4220" name="GUID-EBB30A06-BA15-482F-A8BD-4E78DFED4220"></a><h6 id="DWHSG-GUID-EBB30A06-BA15-482F-A8BD-4E78DFED4220" class="sect6"><span class="enumeration_section">4.5.3.1.1 </span>Partitioning for Manageability
                        </h6>
                        <div>
                           <p>Range partitioning will help improve the manageability and availability of large volumes of data. Consider the case where two year's worth of sales data or 100 terabytes (TB) is stored in a table. At the end of each day a new batch of data needs to be to loaded into the table and the oldest days worth of data needs to be removed. If the Sales table is ranged partitioned by day the new data can be loaded using a partition exchange load. This is a sub-second operation and should have little or no impact to end user queries. In order to remove the oldest day of data simply issue the following command:</p><pre class="oac_no_warn" dir="ltr">SH@DBM1 &gt; ALTER TABLE SALES DROP PARTITION Sales_Q4_2009;</pre></div>
                     </div><a id="DWHSG9075"></a><a id="DWHSG9074"></a><div class="props_rev_3"><a id="GUID-12FA4D3D-126C-4841-91C9-89A67D293B87" name="GUID-12FA4D3D-126C-4841-91C9-89A67D293B87"></a><h6 id="DWHSG-GUID-12FA4D3D-126C-4841-91C9-89A67D293B87" class="sect6"><span class="enumeration_section">4.5.3.1.2 </span>Partitioning for Easier Data Access
                        </h6>
                        <div>
                           <p>Range partitioning will also help ensure only the necessary data to answer a query will be scanned. Let's assume that the business users predominately accesses the sales data on a weekly basis, e.g. total sales per week then range partitioning this table by day will ensure that the data is accessed in the most efficient manner, as only 4 partitions need to be scanned to answer the business users query instead of the entire table. The ability to avoid scanning irrelevant partitions is known as partition pruning.</p>
                           <div class="figure" id="GUID-12FA4D3D-126C-4841-91C9-89A67D293B87__GUID-6C98ADA9-FF3A-4C13-9A9F-133B5D5F4DAF">
                              <p class="titleinfigure">Figure 4-3 Partition Pruning</p><img src="img/dwhsg152.png" alt="Description of Figure 4-3 follows" title="Description of Figure 4-3 follows" longdesc="img_text/dwhsg152.html"><br><a href="img_text/dwhsg152.html">Description of "Figure 4-3 Partition Pruning"</a></div>
                           <!-- class="figure" -->
                           <p></p>
                           <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), you can define partitions for external tables. External tables are tables that do not reside in the database and can be in any format for which an access driver is provided. The files for partitioned external tables can be stored in a file system, in Apache Hive storage, or in a Hadoop Distributed File System (HDFS).
                           </p>
                           <p>Partitioning for external tables improves query performance and enables easier data maintenance. It also enables external tables to take advantage of performance optimizations, such as partition pruning and partition-wise joins, that are available to partitioned tables stored in the database. Most partitioning techniques supported for tables in the database, except hash partitioning, are supported for partitioned external tables. However, Oracle Database cannot guarantee that the external storage files for partitions contain data that satisfies the partitioning conditions. </p>
                           <div class="infoboxnotealso" id="GUID-12FA4D3D-126C-4841-91C9-89A67D293B87__GUID-DD503BD2-E672-45C3-AE4B-C066EE3748AE">
                              <p class="notep1">See Also:</p>
                              <p><a href="../admin/managing-tables.html#ADMIN-GUID-2A801016-0399-4925-AD1B-A02683E81B59" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for detailed information about partitioned external tables
                              </p>
                           </div>
                        </div>
                     </div><a id="DWHSG9077"></a><a id="DWHSG9078"></a><a id="DWHSG9076"></a><div class="props_rev_3"><a id="GUID-EE8606E5-1E0E-470C-9390-552502699E40" name="GUID-EE8606E5-1E0E-470C-9390-552502699E40"></a><h6 id="DWHSG-GUID-EE8606E5-1E0E-470C-9390-552502699E40" class="sect6"><span class="enumeration_section">4.5.3.1.3 </span>Partitioning for Join Performance
                        </h6>
                        <div>
                           <div class="section">
                              <p>Sub-partitioning by hash is used predominately for performance reasons. Oracle uses a linear hashing algorithm to create sub-partitions. In order to ensure that the data gets evenly distributed among the hash partitions, it is highly recommended that the number of hash partitions is a power of 2 (for example, 2, 4, 8, and so on). Each hash partition should be at least 16MB in size. Any smaller and they will not have efficient scan rates with parallel query.</p>
                              <p>One of the main performance benefits of hash partitioning is partition-wise joins. Partition-wise joins reduce query response time by minimizing the amount of data exchanged among parallel execution servers when joins execute in parallel. This significantly reduces response time and improves both CPU and memory resource usage. In a clustered data warehouse, this significantly reduces response times by limiting the data traffic over the interconnect (IPC), which is the key to achieving good scalability for massive join operations. Partition-wise joins can be full or partial, depending on the partitioning scheme of the tables to be joined.</p>
                              <p>A full partition-wise join divides a join between two large tables into multiple smaller joins. Each smaller join performs a joins on a pair of partitions, one for each of the tables being joined. For the optimizer to choose the full partition-wise join method, both tables must be equi-partitioned on their join keys. That is, they have to be partitioned on the same column with the same partitioning method. Parallel execution of a full partition-wise join is similar to its serial execution, except that instead of joining one partition pair at a time, multiple partition pairs are joined in parallel by multiple parallel query servers. The number of partitions joined in parallel is determined by the Degree of Parallelism (DOP).</p>
                              <div class="figure" id="GUID-EE8606E5-1E0E-470C-9390-552502699E40__CIHCHHBJ">
                                 <p class="titleinfigure">Figure 4-4 Full Partition-Wise Join</p><img src="img/dwhsg153.png" alt="Description of Figure 4-4 follows" title="Description of Figure 4-4 follows" longdesc="img_text/dwhsg153.html"><br><a href="img_text/dwhsg153.html">Description of "Figure 4-4 Full Partition-Wise Join"</a></div>
                              <!-- class="figure" -->
                              <p><a href="data-warehouse-optimizations-techniques.html#GUID-EE8606E5-1E0E-470C-9390-552502699E40__CIHCHHBJ">Figure 4-4</a> illustrates the parallel execution of a full partition-wise join between two tables, <code class="codeph">Sales</code> and <code class="codeph">Customers</code>. Both tables have the same degree of parallelism and the same number of partitions. They are range partitioned on a date field and sub-partitioned by hash on the <code class="codeph">cust_id</code> field. As illustrated in the picture, each partition pair is read from the database and joined directly. There is no data redistribution necessary, thus minimizing IPC communication, especially across nodes. <a href="data-warehouse-optimizations-techniques.html#GUID-EE8606E5-1E0E-470C-9390-552502699E40__CIHJCJFA">Figure 4-5</a> below shows the execution plan you would see for this join.
                              </p>
                              <p>To ensure that you get optimal performance when executing a partition-wise join in parallel, the number of partitions in each of the tables should be larger than the degree of parallelism used for the join. If there are more partitions than parallel servers, each parallel server will be given one pair of partitions to join, when the parallel server completes that join, it will requests another pair of partitions to join. This process repeats until all pairs have been processed. This method enables the load to be balanced dynamically (for example, 128 partitions with a degree of parallelism of 32). </p>
                              <p>What happens if only one of the tables you are joining is partitioned? In this case the optimizer could pick a partial partition-wise join. Unlike full partition-wise joins, partial partition-wise joins can be applied if only one table is partitioned on the join key. Hence, partial partition-wise joins are more common than full partition-wise joins. To execute a partial partition-wise join, Oracle dynamically repartitions the other table based on the partitioning strategy of the partitioned table. Once the other table is repartitioned, the execution is similar to a full partition-wise join. The redistribution operation involves exchanging rows between parallel execution servers. This operation leads to interconnect traffic in Oracle RAC environments, because data needs to be repartitioned across node boundaries.</p>
                              <div class="figure" id="GUID-EE8606E5-1E0E-470C-9390-552502699E40__CIHJCJFA">
                                 <p class="titleinfigure">Figure 4-5 Partial Partition-Wise Join</p><img src="img/dwhsg154.png" alt="Description of Figure 4-5 follows" title="Description of Figure 4-5 follows" longdesc="img_text/dwhsg154.html"><br><a href="img_text/dwhsg154.html">Description of "Figure 4-5 Partial Partition-Wise Join"</a></div>
                              <!-- class="figure" -->
                              <p><a href="data-warehouse-optimizations-techniques.html#GUID-EE8606E5-1E0E-470C-9390-552502699E40__CIHJCJFA">Figure 4-5</a> illustrates a partial partition-wise join. It uses the same example as in <a href="data-warehouse-optimizations-techniques.html#GUID-EE8606E5-1E0E-470C-9390-552502699E40__CIHCHHBJ">Figure 4-4</a>, except that the customer table is not partitioned. Before the join operation is executed, the rows from the customers table are dynamically redistributed on the join key.
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div><a id="DWHSG9079"></a><div class="props_rev_3"><a id="GUID-C4E08017-3A33-448A-9662-5421F9B2F272" name="GUID-C4E08017-3A33-448A-9662-5421F9B2F272"></a><h5 id="DWHSG-GUID-C4E08017-3A33-448A-9662-5421F9B2F272" class="sect5"><span class="enumeration_section">4.5.3.2 </span>3NF Schemas: Parallel Query Execution
                     </h5>
                     <div>
                        <p>3NF schemas can leverage parallelism in multiple ways, but here the focus is on one facet of parallelism that is specially significant to 3NF: SQL parallel execution for large queries. SQL parallel execution in the Oracle Database is based on the principles of a coordinator (often called the Query Coordinator or QC) and parallel servers. The QC is the session that initiates the parallel SQL statement and the parallel servers are the individual sessions that perform work in parallel. The QC distributes the work to the parallel servers and may have to perform a minimal mostly logistical - portion of the work that cannot be executed in parallel. For example a parallel query with a <code class="codeph">SUM()</code> operation requires adding the individual sub-totals calculated by each parallel server.
                        </p>
                        <p>The QC is easily identified in the parallel execution in <a href="data-warehouse-optimizations-techniques.html#GUID-EE8606E5-1E0E-470C-9390-552502699E40__CIHJCJFA">Figure 4-5</a> as PX COORDINATOR. The process acting as the QC of a parallel SQL operation is the actual user session process itself. The parallel servers are taken from a pool of globally available parallel server processes and assigned to a given operation. The parallel servers do all the work shown in a parallel plan BELOW the QC.
                        </p>
                        <p>By default, the Oracle Database is configured to support parallel execution out-of-the-box and is controlled by two initialization parameters <code class="codeph">parallel_max_servers</code> and <code class="codeph">parallel_min_servers</code>. While parallel execution provides a very powerful and scalable framework to speed up SQL operations, you should not forget to use some common sense rules; while parallel execution might buy you an additional incremental performance boost, it requires more resources and might also have side effects on other users or operations on the same system. Small tables/indexes (up to thousands of records; up to 10s of data blocks) should never be enabled for parallel execution. Operations that only hit small tables will not benefit much from executing in parallel, but they will use parallel servers that you will want to be available for operations accessing large tables. Remember also that once an operation starts at a certain degree of parallelism (DOP), there is no way to reduce its DOP during the execution.
                        </p>
                        <p>The general rules of thumb for determining the appropriate DOP for an object are:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Objects smaller than 200 MB should not use any parallelism</p>
                           </li>
                           <li>
                              <p>Objects between 200 MB and 5GB should use a DOP of 4</p>
                           </li>
                           <li>
                              <p>Objects beyond 5GB use a DOP of 32</p>
                           </li>
                        </ul>
                        <p>Needless to say the optimal settings may vary on your system - either in size range or DOP - and highly depend on your target workload, the business requirements, and your hardware configuration. <a href="data-warehouse-optimizations-techniques.html#GUID-76DC6364-A588-48BC-B651-101081E5ECB6">Whether or Not to Use Cross Instance Parallel Execution in Oracle RAC</a> describes parallel execution in Oracle RAC environments.
                        </p>
                     </div><a id="DWHSG9080"></a><div class="props_rev_3"><a id="GUID-76DC6364-A588-48BC-B651-101081E5ECB6" name="GUID-76DC6364-A588-48BC-B651-101081E5ECB6"></a><h6 id="DWHSG-GUID-76DC6364-A588-48BC-B651-101081E5ECB6" class="sect6"><span class="enumeration_section">4.5.3.2.1 </span>Whether or Not to Use Cross Instance Parallel Execution in Oracle RAC
                        </h6>
                        <div>
                           <p>By default, Oracle Database enables inter-node parallel execution (parallel execution of a single statement involving more than one node). As mentioned earlier, the interconnect in an Oracle RAC environment must be sized appropriately as inter-node parallel execution may result in a lot of interconnect traffic. If you are using a relatively weak interconnect in comparison to the I/O bandwidth from the server to the storage subsystem, you may be better off restricting parallel execution to a single node or to a limited number of nodes. Inter-node parallel execution will not scale with an undersized interconnect. From Oracle Database 11<span class="italic">g</span> onwards, it is recommended to use Oracle RAC services to control parallel execution on a cluster.
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="DWHSG9334"></a><div class="props_rev_3"><a id="GUID-355E68D9-2987-4AD5-9620-E37897A1635D" name="GUID-355E68D9-2987-4AD5-9620-E37897A1635D"></a><h4 id="DWHSG-GUID-355E68D9-2987-4AD5-9620-E37897A1635D" class="sect4"><span class="enumeration_section">4.5.4 </span>Optimizing Star Queries Using VECTOR GROUP BY Aggregation
                  </h4>
                  <div>
                     <p><code class="codeph">VECTOR GROUP BY</code> aggregation <a id="d9998e3122" class="indexterm-anchor"></a>optimizes queries that aggregate data and join one or more relatively small tables to a larger table. This transformation can be chosen by the SQL optimizer based on cost estimates. In the context of data warehousing, <code class="codeph">VECTOR GROUP BY</code> will often be chosen for star queries that select data from in-memory columnar tables.
                     </p>
                     <p><code class="codeph">VECTOR GROUP BY</code> aggregation is similar to a bloom filter in that it transforms the join condition between a small table and a large table into a filter on the larger table. <code class="codeph">VECTOR GROUP BY</code> aggregation further enhances query performance by aggregating data during the scan of the fact table rather than as a separate step following the scan.
                     </p>
                     <div class="infoboxnotealso" id="GUID-355E68D9-2987-4AD5-9620-E37897A1635D__GUID-DA6FB3A0-4AE1-4859-A9C2-CD788E106993">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="sql-aggregation-data-warehouses.html#GUID-82F7AE38-4527-44C4-A140-234BFC9AFFD1">Using In-Memory Aggregation</a></p>
                           </li>
                           <li>
                              <p><a href="../inmem/optimizing-in-memory-aggregation.html#INMEM-GUID-2C4FA6C6-3DA8-4CEA-9EF0-294396D15077" target="_blank"><span><cite>Oracle Database In-Memory Guide</cite></span></a> for a detailed <code class="codeph">VECTOR GROUP BY</code> scenario
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-F7E7DEA6-B225-43E6-97ED-CB3DBE86CD54" name="GUID-F7E7DEA6-B225-43E6-97ED-CB3DBE86CD54"></a><h3 id="DWHSG-GUID-F7E7DEA6-B225-43E6-97ED-CB3DBE86CD54" class="sect3"><span class="enumeration_section">4.6 </span>About Approximate Query Processing
               </h3>
               <div>
                  <p>Approximate query processing uses SQL functions to provide real-time responses to explorative queries where approximations are acceptable. A query containing SQL functions that return approximate results is referred to as an approximate query.</p>
                  <p></p>
                  <p>Business intelligence (BI) applications extensively use aggregate functions, including analytic functions, to provide answers to common business queries. For some types of queries, when the data set is extremely large, providing exact answers can be resource intensive. For example, counting the number of unique customer sessions on a website or establishing the median house price within each zip code across a state. In certain scenarios, these types of queries may not require exact answers because you are more interested in approximate trends or patterns, which can then be used to drive further analysis. Approximate query processing is primarily used in data discovery applications to return quick answers to explorative queries. Users typically want to locate interesting data points within large amounts of data and then drill down to uncover further levels of detail. For explorative queries, quick responses are more important than exact values.</p>
                  <p>Oracle provides a set of SQL functions that enable you to obtain approximate results with negligible deviation from the exact result. There are additional approximate functions that support materialized view based summary aggregation strategies. The functions that provide approximate results are as follows:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">APPROX_COUNT_DISTINCT</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">APPROX_COUNT_DISTINCT_DETAIL</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">APPROX_COUNT_DISTINCT_AGG</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">TO_APPROX_COUNT_DISTINCT</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">APPROX_MEDIAN</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">APPROX_PERCENTILE</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">APPROX_PERCENTILE_DETAIL</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">APPROX_PERCENTILE_AGG</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">TO_APPROX_PERCENTILE</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">APPROX_COUNT</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">APPROX_RANK</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">APPROX_SUM</code></p>
                     </li>
                  </ul>
                  <p>Approximate query processing can be used without any changes to your existing code. When you set the appropriate initialization parameters, Oracle Database replaces exact functions in queries with the corresponding SQL functions that return approximate results.</p>
                  <div class="infoboxnotealso" id="GUID-F7E7DEA6-B225-43E6-97ED-CB3DBE86CD54__GUID-29CF7C87-35F8-4432-BB2F-46B05FAC078A">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="data-warehouse-optimizations-techniques.html#GUID-1D8D7119-8571-428D-B1E8-3F31AD2B0DA6" title="Queries containing exact functions can be run by using the corresponding SQL functions that return approximate results, without modifying the queries. This enables you to run existing applications, without modifications, by using the corresponding SQL functions that return approximate results.">Running Queries Containing Exact Functions Using SQL Functions that Return Approximate Values</a></p>
                        </li>
                        <li>
                           <p><a href="basic-materialized-views.html#GUID-42B64F99-7391-48B8-B37D-1B486DC29645" title="A materialized view based on approximate queries uses SQL functions that return approximate functions in its defining query.">Creating Materialized Views Based on Approximate Queries</a></p>
                        </li>
                        <li>
                           <p><a href="advanced-query-rewrite-materialized-views.html#GUID-41A13A98-E51A-435A-973E-05CC083F2CFC" title="Queries containing SQL functions that return approximate results are automatically rewritten to use a matching materialized view, if these queries can be answered using the materialized view.">Query Rewrite and Materialized Views Based on Approximate Queries</a></p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/index.html" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about the SQL functions
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-1D8D7119-8571-428D-B1E8-3F31AD2B0DA6" name="GUID-1D8D7119-8571-428D-B1E8-3F31AD2B0DA6"></a><h4 id="DWHSG-GUID-1D8D7119-8571-428D-B1E8-3F31AD2B0DA6" class="sect4"><span class="enumeration_section">4.6.1 </span>Running Queries Containing Exact Functions Using SQL Functions that Return Approximate Values
                  </h4>
                  <div>
                     <p>Queries containing exact functions can be run by using the corresponding SQL functions that return approximate results, without modifying the queries. This enables you to run existing applications, without modifications, by using the corresponding SQL functions that return approximate results.</p>
                     <div class="section">
                        <p></p>
                        <p>Oracle Database provides the following initialization parameters to indicate that exact functions must be replaced with the corresponding SQL functions that return approximate results at runtime: <code class="codeph">approx_for_aggregation</code>, <code class="codeph">approx_for_count_distinct</code>, and <code class="codeph">approx_for_percentile</code>. You can replace all exact functions at runtime with the corresponding functions that return approximate results. If you need more fine-grained control over the list of functions that must be replaced with their corresponding approximate versions, then you can specify the type of functions that must be replaced at runtime. For example, if a query contains <code class="codeph">COUNT(DISTINCT)</code>, then setting <code class="codeph">approx_for_aggregation</code> to <code class="codeph">TRUE</code> results in this query being run using <code class="codeph">APPROX_COUNT_DISTINCT</code> instead of <code class="codeph">COUNT(DISTINCT)</code>. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ul>
                        <li class="stepexpand"><span>To run all queries using the corresponding SQL functions that return approximate results instead of the specified SQL functions:</span><div>
                              <p>Set the <code class="codeph">approx_for_aggregation</code> initialization parameter to <code class="codeph">TRUE</code> for the current session or for the entire database. This parameter acts as an umbrella parameter for enabling the use of functions that return approximate results. Setting this is equivalent to setting the <code class="codeph">APPROX_COUNT_DISTINCT</code> and <code class="codeph">APPROX_FOR_PERCENTILE</code> parameters.
                              </p>
                              <p>The following command sets <code class="codeph">approx_for_aggregation</code> to true for the current session:
                              </p><pre class="pre codeblock"><code>alter session set approx_for_aggregation = TRUE;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>To replace only the <code class="codeph">COUNT(DISTINCT)</code> function in queries with the <code class="codeph">APPROX_COUNT_DISTINCT</code> function:</span><div>
                              <p>Set the <code class="codeph">approx_for_count_distinct</code> initialization parameter to <code class="codeph">TRUE</code> for the current session or for the entire database.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To replace percentile functions with the corresponding functions that return approximate results:</span><div>
                              <p>Set <code class="codeph">approx_for_percentile</code> to <code class="codeph">PERCENTILE_CONT</code>, <code class="codeph">PERCENTILE_DISC</code>, or <code class="codeph">ALL</code> (replaces all percentile functions) for the current session or for the entire database. The default value of this parameter is <code class="codeph">NONE</code>. 
                              </p>
                           </div>
                           <div>
                              <div class="infoboxnotealso" id="GUID-1D8D7119-8571-428D-B1E8-3F31AD2B0DA6__GUID-E2296781-EA00-44B8-8EB4-B038FB4DC064">
                                 <p class="notep1">See Also:</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">APROX_FOR_AGGREGATION</code> in <a href="../refrn/APPROX_FOR_AGGREGATION.html#REFRN-GUID-46853DF9-7688-46C7-A5BA-308B9B2DAF67" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">APPROX_FOR_COUNT_DISTINCT</code> in <a href="../refrn/APPROX_FOR_COUNT_DISTINCT.html#REFRN-GUID-D2A8A53F-113A-4E6F-AC2E-37139460EF8D" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">APPROX_FOR_PERCENTILE</code> in <a href="../refrn/APPROX_FOR_PERCENTILE.html#REFRN-GUID-3872A78C-9B3F-457C-AD28-4E86F71AE74D" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-07B31A40-6AD9-4843-B5B3-D2424ACE39D5" name="GUID-07B31A40-6AD9-4843-B5B3-D2424ACE39D5"></a><h3 id="DWHSG-GUID-07B31A40-6AD9-4843-B5B3-D2424ACE39D5" class="sect3"><span class="enumeration_section">4.7 </span>About Approximate Top-N Query Processing
               </h3>
               <div>
                  <p>Starting with Oracle Database Release 18c, to obtain top N query results much faster than traditional queries, the <code class="codeph">APPROX_COUNT</code> and <code class="codeph">APPROX_SUM</code> SQL functions can be used with <code class="codeph">APPROX_RANK</code>.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-07B31A40-6AD9-4843-B5B3-D2424ACE39D5__GUID-4F8C6467-8460-4F01-9B4D-4D122E9136EF">APPROX_COUNT</p>
                     <p><a id="d9998e3460" class="indexterm-anchor"></a><a id="d9998e3462" class="indexterm-anchor"></a><code class="codeph">APPROX_COUNT</code> returns the approximate count of an expression. If <code class="codeph">MAX_ERROR</code> is supplied as the second argument, then the function returns the maximum error between the actual and approximate count.
                     </p>
                     <p>This function must be used with a corresponding <code class="codeph">APPROX_RANK</code> function in the <code class="codeph">HAVING</code> clause. If a query uses <code class="codeph">APPROX_COUNT</code>, <code class="codeph">APPROX_SUM</code>, or <code class="codeph">APPROX_RANK</code>, then the query must not use any other aggregation functions.
                     </p>
                     <div class="infoboxnotealso" id="GUID-07B31A40-6AD9-4843-B5B3-D2424ACE39D5__GUID-631AACEC-06DE-43A4-B869-074F7905EB3C">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../sqlrf/APPROX_COUNT.html#SQLRF-GUID-7D07E04A-3F9A-425E-BADE-EDA9C6162E9C" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="sql-analysis-reporting-data-warehouses.html#GUID-9C786E96-2DA7-4430-BD9A-77C4C65854CF">APPROX_RANK Function</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-07B31A40-6AD9-4843-B5B3-D2424ACE39D5__GUID-BC5DECCA-4A4A-4513-BC53-F7AD294C5B12">APPROX_SUM</p>
                     <p><a id="d9998e3506" class="indexterm-anchor"></a><a id="d9998e3508" class="indexterm-anchor"></a><code class="codeph">APPROX_SUM</code> returns the approximate sum of an expression. If <code class="codeph">MAX_ERROR</code> is supplied as the second argument, then the function returns the maximum error between the actual and approximate sum.
                     </p>
                     <p>This function must be used with a corresponding <code class="codeph">APPROX_RANK</code> function in the <code class="codeph">HAVING</code> clause. If a query uses <code class="codeph">APPROX_COUNT</code>, <code class="codeph">APPROX_SUM</code>, or <code class="codeph">APPROX_RANK</code>, then the query must not use any other aggregation functions.
                     </p>
                     <div class="infoboxnote" id="GUID-07B31A40-6AD9-4843-B5B3-D2424ACE39D5__GUID-48810CC6-C7A7-493C-97F4-503A2081980A">
                        <p class="notep1">Note:</p>
                        <p><code class="codeph">APPROX_SUM</code> returns an error when the input is a negative number.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-07B31A40-6AD9-4843-B5B3-D2424ACE39D5__GUID-BB736BF5-7609-428C-970A-5ED1650BCBEE">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../sqlrf/APPROX_SUM.html#SQLRF-GUID-AC2A72A7-24E5-4FB8-B012-BD35CB560D6B" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="sql-analysis-reporting-data-warehouses.html#GUID-9C786E96-2DA7-4430-BD9A-77C4C65854CF">APPROX_RANK Function</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01156.DBMS_XPLAN.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_XPLAN package provides an easy way to display the output of the EXPLAIN PLAN command in several, predefined formats."></meta>
      <meta name="description" content="The DBMS_XPLAN package provides an easy way to display the output of the EXPLAIN PLAN command in several, predefined formats."></meta>
      <title>DBMS_XPLAN</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_XPLAN package provides an easy way to display the output of the EXPLAIN PLAN command in several, predefined formats."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_XMLSTORE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_XSLPROCESSOR.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_XMLSTORE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_XSLPROCESSOR.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_XPLAN</li>
            </ol>
            <a id="GUID-BAD480AA-351A-48FE-A8E7-F0D8EF643EBF" name="GUID-BAD480AA-351A-48FE-A8E7-F0D8EF643EBF"></a><a id="ARPLS378"></a><a id="ARPLS378"></a>
            
            <h2 id="ARPLS-GUID-BAD480AA-351A-48FE-A8E7-F0D8EF643EBF" class="sect2"><span class="enumeration_chapter">206 </span> DBMS_XPLAN
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_XPLAN</code> package provides an easy way to display the output of the <code class="codeph">EXPLAIN PLAN</code> command in several, predefined formats. 
               </p>
               <p>You can also use the <code class="codeph">DBMS_XPLAN</code> package to display the plan of a statement stored in the Automatic Workload Repository (AWR) or stored in a SQL tuning set. It further provides a way to display the SQL execution plan and SQL execution runtime statistics for cached SQL cursors based on the information stored in the <code class="codeph">V$SQL_PLAN</code> and <code class="codeph">V$SQL_PLAN_STATISTICS_ALL</code> fixed views. Finally, it displays plans from a SQL plan baseline.
               </p>
               <div class="infoboxnotealso" id="GUID-BAD480AA-351A-48FE-A8E7-F0D8EF643EBF__GUID-864DB335-A3B8-4A5B-8290-A2375B128D0F">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>For more information on the <code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code> command, the AWR, and SQL tuning set, see <a href="../tgsql/introduction-to-sql-tuning.html#TGSQL-GUID-B653E5F3-F078-4BBC-9516-B892960046A2" target="_blank"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a>. 
                        </p>
                     </li>
                     <li>
                        <p>For more information on the <code class="codeph">V$SQL_PLAN</code> fixed view, see <a href="../refrn/V-SQL_PLAN.html#REFRN-GUID-87561B21-721C-42EB-8E3D-28251C9BC50C" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></p>
                     </li>
                     <li>
                        <p>For more information on the <code class="codeph">V$SQL_PLAN_STATISTICS</code> fixed view, see <a href="../refrn/V-SQL_PLAN_STATISTICS.html#REFRN-GUID-983DE0B1-1824-4A03-9C96-DCAFF5662B1A" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></p>
                     </li>
                  </ul>
               </div>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_XPLAN.html#GUID-1CDFFBEE-FD15-4245-B3A5-0D54F21CEB0C" title="The DBMS_XPLAN package supplies five table functions.">Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_XPLAN.html#GUID-BEE6D488-0381-4864-9B19-6299DE2B6210" title="This package runs with the privileges of the calling user, not the package owner (SYS). The table function DISPLAY_CURSOR requires SELECT or READ privileges on the following fixed views: V$SQL_PLAN, V$SESSION and V$SQL_PLAN_STATISTICS_ALL.">Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_XPLAN.html#GUID-492CB99B-62C3-4FC3-951C-4BE876670218" title="These examples show sample uses of DBMS_XPLAN.">Examples</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_XPLAN.html#GUID-3575E99C-6F87-4446-BF8F-E2153554D30F" title="This table lists the DBMS_XPLAN subprograms and briefly describes them.">Summary of DBMS_XPLAN Subprograms</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS70123"></a><a id="ARPLS70123"></a><div class="props_rev_3"><a id="GUID-1CDFFBEE-FD15-4245-B3A5-0D54F21CEB0C" name="GUID-1CDFFBEE-FD15-4245-B3A5-0D54F21CEB0C"></a><h3 id="ARPLS-GUID-1CDFFBEE-FD15-4245-B3A5-0D54F21CEB0C" class="sect3"><span class="enumeration_section">206.1 </span>DBMS_XPLAN Overview
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_XPLAN</code> package supplies five table functions.
                  </p>
                  <div class="section">
                     <p>These functions are listed below:</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">DISPLAY</code> - to format and display the contents of a plan table.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DISPLAY_AWR</code> - to format and display the contents of the execution plan of a stored SQL statement in the AWR.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DISPLAY_CURSOR</code> - to format and display the contents of the execution plan of any loaded cursor.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DISPLAY_SQL_PLAN_BASELINE</code> - to display one or more execution plans for the SQL statement identified by SQL handle
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DISPLAY_SQLSET</code> - to format and display the contents of the execution plan of statements stored in a SQL tuning set.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS70124"></a><a id="ARPLS70124"></a><div class="props_rev_3"><a id="GUID-BEE6D488-0381-4864-9B19-6299DE2B6210" name="GUID-BEE6D488-0381-4864-9B19-6299DE2B6210"></a><h3 id="ARPLS-GUID-BEE6D488-0381-4864-9B19-6299DE2B6210" class="sect3"><span class="enumeration_section">206.2 </span>DBMS_XPLAN Security Model
               </h3>
               <div>
                  <p>This package runs with the privileges of the calling user, not the package owner (<code class="codeph">SYS</code>). The table function <code class="codeph">DISPLAY_CURSOR</code> requires <code class="codeph">SELECT</code> or <code class="codeph">READ</code> privileges on the following fixed views: <code class="codeph">V$SQL_PLAN</code>, <code class="codeph">V$SESSION</code> and <code class="codeph">V$SQL_PLAN_STATISTICS_ALL.</code> 
                  </p>
                  <div class="section">
                     <p>Using the <a href="DBMS_XPLAN.html#GUID-E234ED21-21A9-4237-9DF3-8E420CDDBC70" title="This table function displays the contents of an execution plan stored in AWR.">DISPLAY_AWR Function</a> requires the user to have <code class="codeph">SELECT</code> or <code class="codeph">READ</code> privileges on <code class="codeph">DBA_HIST_SQL_PLAN</code>, <code class="codeph">DBA_HIST_SQLTEXT</code>, and <code class="codeph">V$DATABASE</code>.
                     </p>
                     <p>Using the <a href="DBMS_XPLAN.html#GUID-F935EACB-5FBB-4544-91DE-072C7CDA983C" title="This table function displays the execution plan of a given statement stored in a SQL tuning set.">DISPLAY_SQLSET Function</a>requires the user to have the <code class="codeph">SELECT</code> or <code class="codeph">READ</code> privilege on <code class="codeph">ALL_SQLSET_STATEMENTS</code> and <code class="codeph">ALL_SQLSET_PLANS</code>.
                     </p>
                     <p>Using <a href="DBMS_XPLAN.html#GUID-98BB5243-873B-4C7F-B8EC-569C6248339D" title="This table function displays one or more execution plans for the specified SQL handle of a SQL plan baseline.">DISPLAY_SQL_PLAN_BASELINE Function</a> requires the user to have the <code class="codeph">SELECT</code> or <code class="codeph">READ</code> privilege on <code class="codeph">DBA_SQL_PLAN_BASELINES</code> as well as the privileges to execute the SQL statement for which the user is trying to get the plan. 
                     </p>
                     <p>All these privileges are automatically granted as part of the <code class="codeph">SELECT_CATALOG</code> role.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-47984473-EE22-40AE-955C-79C804087DEE" name="GUID-47984473-EE22-40AE-955C-79C804087DEE"></a><h3 id="ARPLS-GUID-47984473-EE22-40AE-955C-79C804087DEE" class="sect3"><span class="enumeration_section">206.3 </span>DBMS_XPLAN Data Structures
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_XPLAN</code> package defines a <code class="codeph">TABLE</code> type.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-47984473-EE22-40AE-955C-79C804087DEE__GUID-BD50B151-A222-4B5E-AD80-3E451B45DFA0">Table Types</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBMS_XPLAN.html#GUID-ED750F75-CC30-4C4F-B5A5-94D7599AEB97" title="This type allows for a list of generic objects as input to the COMPARE_PLANS function.">DBMS_XPLAN PLAN_OBJECT_LIST Table Type</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div class="sect3"><a id="GUID-ED750F75-CC30-4C4F-B5A5-94D7599AEB97" name="GUID-ED750F75-CC30-4C4F-B5A5-94D7599AEB97"></a><h4 id="ARPLS-GUID-ED750F75-CC30-4C4F-B5A5-94D7599AEB97" class="sect4"><span class="enumeration_section">206.3.1 </span>DBMS_XPLAN PLAN_OBJECT_LIST Table Type
                  </h4>
                  <div>
                     <p>This type allows for a list of generic objects as input to the <code class="codeph">COMPARE_PLANS</code> function.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-ED750F75-CC30-4C4F-B5A5-94D7599AEB97__GUID-FD70D77D-8C9A-4A99-8236-9C2378EB039E">Syntax</p><pre class="pre codeblock"><code>TYPE plan_object_list IS TABLE OF generic_plan_object;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The generic object abstracts the common attributes of plans from all plan sources. Every plan source is a subclass of the <code class="codeph">plan_object_list</code> superclass. The following table summarizes the different plan sources. Note that when an optional parameter is null, it can correspond to multiple objects. For example, if you do not specify a child number for <code class="codeph">cursor_cache_object</code>, then it matches all cursor cache statements with the specified SQL ID.
                        </p>
                        <div class="tblformal" id="GUID-ED750F75-CC30-4C4F-B5A5-94D7599AEB97__GUID-DDFDDD63-3854-49FF-BCB7-82B41CC66B3E">
                           <p class="titleintable">Table 206-1 Plan Sources for PLAN_OBJECT_LIST</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Plan Sources for PLAN_OBJECT_LIST" border="1" summary="This table describe the plan sources for the plan_object_list object." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d1282853e717">Plan Source</th>
                                    <th align="left" valign="bottom" width="20%" id="d1282853e719">Specification</th>
                                    <th align="left" valign="bottom" width="20%" id="d1282853e721">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d1282853e725" headers="d1282853e717 ">
                                       <p>Plan table</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d1282853e725 d1282853e719 "><pre class="pre codeblock"><code>plan_table_object(owner, plan_table_name, statement_id, plan_id)</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d1282853e725 d1282853e721 ">
                                       <p>The parameters are as follows:</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">owner</code>—The owner of the plan table
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">plan_table_name</code>—The name of the plan table
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">statement_id</code>—The ID of the statement (optional)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">plan_id</code>—The ID of the plan (optional)
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d1282853e756" headers="d1282853e717 ">
                                       <p>Cursor cache</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d1282853e756 d1282853e719 "><pre class="pre codeblock"><code>cursor_cache_object(sql_id, child_number)</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d1282853e756 d1282853e721 ">
                                       <p>The parameters are as follows:</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">sql_id</code>—The SQL ID of the plan
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">child_number</code>—The child number of the plan in the cursor cache (optional)
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d1282853e777" headers="d1282853e717 ">
                                       <p>AWR</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d1282853e777 d1282853e719 "><pre class="pre codeblock"><code>awr_object(sql_id, dbid, con_dbid, plan_hash_value)</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d1282853e777 d1282853e721 ">
                                       <p>The parameters are as follows:</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">sql_id</code>—The SQL ID of the plan
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">dbid</code>—The database ID (optional)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">con_dbid</code>—The CDB ID (optional)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">plan_hash_value</code>—The hash value of the plan (optional)
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d1282853e808" headers="d1282853e717 ">
                                       <p>SQL tuning set</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d1282853e808 d1282853e719 "><pre class="pre codeblock"><code>sqlset_object (sqlset_owner, sqlset_name, sql_id, plan_hash_value)</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d1282853e808 d1282853e721 ">
                                       <p>The parameters are as follows:</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">sqlset_owner</code>—The owner of the SQL tuning set
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">sqlset_name</code>—The name of the SQL tuning set
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">sql_id</code>—The SQL ID of the plan
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">plan_hash_value</code>—The hash value of the plan (optional)
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d1282853e839" headers="d1282853e717 ">
                                       <p>SQL plan management</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d1282853e839 d1282853e719 "><pre class="pre codeblock"><code>spm_object (sql_handle, plan_name)</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d1282853e839 d1282853e721 ">
                                       <p>The parameters are as follows:</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">sql_handle</code>—The SQL handle of plans protected by SQL plan management
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">plan_name</code>—The name of the SQL plan baseline (optional)
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d1282853e860" headers="d1282853e717 ">
                                       <p>SQL profile</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d1282853e860 d1282853e719 "><pre class="pre codeblock"><code>sql_profile_object (profile_name)</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d1282853e860 d1282853e721 ">
                                       <p>The <code class="codeph">profile_name</code> parameter specifies the name of the SQL profile.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d1282853e873" headers="d1282853e717 ">
                                       <p>Advisor</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d1282853e873 d1282853e719 "><pre class="pre codeblock"><code>advisor_object (task_name, execution_name, sql_id, plan_id)</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d1282853e873 d1282853e721 ">
                                       <p>The parameters are as follows:</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">task_name</code>—The name of the advisor task
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">execution_name</code>—The name of the task execution
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">sql_id</code>—The SQL ID of the plan
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">plan_id</code>—The advisor plan ID (optional)
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ARPLS70125"></a><a id="ARPLS70126"></a><a id="ARPLS70127"></a><a id="ARPLS70128"></a><a id="ARPLS70129"></a><a id="ARPLS70126"></a><a id="ARPLS70127"></a><a id="ARPLS70128"></a><a id="ARPLS70129"></a><a id="ARPLS70125"></a><div class="props_rev_3"><a id="GUID-492CB99B-62C3-4FC3-951C-4BE876670218" name="GUID-492CB99B-62C3-4FC3-951C-4BE876670218"></a><h3 id="ARPLS-GUID-492CB99B-62C3-4FC3-951C-4BE876670218" class="sect3"><span class="enumeration_section">206.4 </span>Examples
               </h3>
               <div>
                  <p>These examples show sample uses of DBMS_XPLAN. </p>
                  <div class="section" id="GUID-492CB99B-62C3-4FC3-951C-4BE876670218__I999156">
                     <p class="subhead2" id="GUID-492CB99B-62C3-4FC3-951C-4BE876670218__GUID-CCD767B3-BD66-4069-B86D-096E7490EF52">Displaying a Plan Table Using DBMS_XPLAN.DISPLAY</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Execute an explain plan command on a <code class="codeph">SELECT</code> statement:
                     </p><pre class="oac_no_warn" dir="ltr">EXPLAIN PLAN FOR
SELECT * FROM emp e, dept d
   WHERE e.deptno = d.deptno
   AND e.ename='benoit';
</pre><p>Display the plan using the <code class="codeph">DBMS_XPLAN.DISPLAY</code> table function
                     </p><pre class="oac_no_warn" dir="ltr">SET LINESIZE 130
SET PAGESIZE 0
SELECT * FROM TABLE(DBMS_XPLAN.DISPLAY);
</pre><p>This query produces the following output:</p><pre class="oac_no_warn" dir="ltr">Plan hash value: 3693697075
---------------------------------------------------------------------------
| Id  | Operation          | Name | Rows  | Bytes | Cost (%CPU)| Time     |
---------------------------------------------------------------------------
|   0 | SELECT STATEMENT   |      |     1 |    57 |     6  (34)| 00:00:01 |
|*  1 |  HASH JOIN         |      |     1 |    57 |     6  (34)| 00:00:01 |
|*  2 |   TABLE ACCESS FULL| EMP  |     1 |    37 |     3  (34)| 00:00:01 |
|   3 |   TABLE ACCESS FULL| DEPT |     4 |    80 |     3  (34)| 00:00:01 |
---------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------
   1 - access("E"."DEPTNO"="D"."DEPTNO")
   2 - filter("E"."ENAME"='benoit')

15 rows selected.</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-492CB99B-62C3-4FC3-951C-4BE876670218__GUID-CB05A292-709F-442C-BBDE-1AA877A7B71E">Displaying a Cursor Execution Plan Using DBMS_XPLAN.DISPLAY_CURSOR</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>By default, the table function <code class="codeph">DISPLAY_CURSOR</code> formats the execution plan for the last SQL statement executed by the session. For example:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT ename  FROM  emp e, dept d 
   WHERE   e.deptno = d.deptno  
   AND   e.empno=7369;

ENAME
----------
SMITH
</pre><p>To display the execution plan of the last executed statement for that session:</p><pre class="oac_no_warn" dir="ltr">SET PAGESIZE 0
SELECT * FROM DBMS_XPLAN.DISPLAY_CURSOR();
</pre><p>This query produces the following output:</p><pre class="oac_no_warn" dir="ltr">Plan hash value: 3693697075, SQL hash value: 2096952573, child number: 0
------------------------------------------------------------------
SELECT ename FROM emp e, dept d WHERE e.deptno = d.deptno
AND e.empno=7369

---------------------------------------------------------------------------
| Id  | Operation          | Name | Rows  | Bytes | Cost (%CPU)| Time     |
---------------------------------------------------------------------------
|   0 | SELECT STATEMENT   |      |       |       |            |          |
|*  1 |  HASH JOIN         |      |     1 |    16 |     6  (34)| 00:00:01 |
|*  2 |   TABLE ACCESS FULL| EMP  |     1 |    13 |     3  (34)| 00:00:01 |
|   3 |   TABLE ACCESS FULL| DEPT |     4 |    12 |     3  (34)| 00:00:01 |
---------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------
   1 - access("E"."DEPTNO"="D"."DEPTNO")
   2 - filter("E"."EMPNO"=7369)

21 rows selected.
</pre><p>You can also use the table function <code class="codeph">DISPLAY_CURSOR</code> to display the execution plan for any loaded cursor stored in the cursor cache. In that case, you must supply a reference to the child cursor to the table function. This includes the SQL ID of the statement and optionally the child number. 
                     </p>
                     <p>Run a query with a distinctive comment:</p><pre class="oac_no_warn" dir="ltr">SELECT /* TOTO */ ename, dname 
FROM dept d join emp e USING (deptno);
</pre><p>Get <code class="codeph">sql_id</code> and <code class="codeph">child_number</code> for the preceding statement:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT sql_id, child_number
FROM v$sql 
WHERE sql_text LIKE '%TOTO%';

SQL_ID         CHILD_NUMBER
----------     -----------------------------
gwp663cqh5qbf   0
</pre><p>Display the execution plan for the cursor:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM DBMS_XPLAN.DISPLAY_CURSOR('gwp663cqh5qbf',0);

Plan hash value: 3693697075, SQL ID: gwp663cqh5qbf, child number: 0
--------------------------------------------------------
SELECT /* TOTO */ ename, dname 
FROM dept d JOIN emp e USING (deptno);

----------------------------------------------------------------------------
| Id  | Operation           | Name | Rows  | Bytes | Cost (%CPU)| Time     |
----------------------------------------------------------------------------
|   0 | SELECT STATEMENT    |      |       |       |     7 (100)|          |
|   1 |  SORT GROUP BY      |      |     4 |    64 |     7  (43)| 00:00:01 |
|*  2 |   HASH JOIN         |      |    14 |   224 |     6  (34)| 00:00:01 |
|   3 |    TABLE ACCESS FULL| DEPT |     4 |    44 |     3  (34)| 00:00:01 |
|   4 |    TABLE ACCESS FULL| EMP  |    14 |    70 |     3  (34)| 00:00:01 |
----------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------
   2 - access("E"."DEPTNO"="D"."DEPTNO")
</pre><p>Instead of issuing two queries, one to the get the sql_id and child_number pair and one to display the plan, you can combine these in a single query:</p>
                     <p>Display the execution plan of all cursors matching the string 'TOTO':</p><pre class="oac_no_warn" dir="ltr">SELECT t.*
FROM v$sql s, DBMS_XPLAN.DISPLAY_CURSOR(s.sql_id, s.child_number) t WHERE sql_text LIKE '%TOTO%';
</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-492CB99B-62C3-4FC3-951C-4BE876670218__GUID-CE2401E8-C60D-4747-9155-F0C0482D79BD">Displaying a Plan Table with Parallel Information</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>By default, only relevant information is reported by the display and <code class="codeph">display_cursor</code> table functions. In <a href="DBMS_XPLAN.html#GUID-492CB99B-62C3-4FC3-951C-4BE876670218__I999156">Displaying a Plan Table Using DBMS_XPLAN.DISPLAY</a>, the query does not execute in parallel. Hence, information related to the parallelization of the plan is not reported. As shown in the following example, parallel information is reported only if the query executes in parallel.
                     </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE emp PARALLEL;
EXPLAIN PLAN for
SELECT * FROM emp e, dept d
   WHERE e.deptno = d.deptno
   AND e.ename    ='hermann'
   ORDER BY e.empno;
</pre><p>Display the plan using the <code class="codeph">DBMS_XPLAN.DISPLAY</code> table function
                     </p><pre class="oac_no_warn" dir="ltr">SET LINESIZE 130
SET PAGESIZE 0
SELECT * FROM DBMS_XPLAN.DISPLAY();
Plan hash value: 3693697345
</pre><pre class="oac_no_warn" dir="ltr">-------------------------------------------------------------------------------------------------------------
| Id | Operation          | Name    | Rows | Bytes | Cost (%CPU)| Time     | TQ    |INOUT |PQ Distrib   |
-------------------------------------------------------------------------------------------------------------
| 0  | SELECT STATEMENT   |         | 1    | 117   | 6 (50)     | 00:00:01 |       |      |             |
| 1  | PX COORDINATOR     |         |      |       |            |          |       |      |             |
| 2  | PX SEND QC (ORDER) |:TQ10003 | 1    | 117   | 6 (50)     | 00:00:01 | Q1,03 | P-&gt;S | QC (ORDER)  |
| 3  | SORT ORDER BY      |         | 1    | 117   | 6 (50)     | 00:00:01 | Q1,03 | PCWP |             |
| 4  | PX RECEIVE         |         | 1    | 117   | 5 (40)     | 00:00:01 | Q1,03 | PCWP |             |
| 5  | PX SEND RANGE      |:TQ10002 | 1    | 117   | 5 (40)     | 00:00:01 | Q1,02 | P-&gt;P | RANGE       |
|* 6 | HASH JOIN          |         | 1    | 117   | 5 (40)     | 00:00:01 | Q1,02 | PCWP |             |
| 7  | PX RECEIVE         |         | 1    | 87    | 2 (50)     | 00:00:01 | Q1,02 | PCWP |             |
| 8  | PX SEND HASH       |:TQ10001 | 1    | 87    | 2 (50)     | 00:00:01 | Q1,01 | P-&gt;P | HASH        |
| 9  | PX BLOCK ITERATOR  |         | 1    | 87    | 2 (50)     | 00:00:01 | Q1,01 | PCWC |             |
|* 10| TABLE ACCESS FULL  | EMP     | 1    | 87    | 2 (50)     | 00:00:01 | Q1,01 | PCWP |             |
| 11 | BUFFER SORT        |         |      |       |            |          | Q1,02 | PCWC |             |
| 12 | PX RECEIVE         |         | 4    | 120   | 3 (34)     | 00:00:01 | Q1,02 | PCWP |             |
| 13 | PX SEND HASH       |:TQ10000 | 4    | 120   | 3 (34)     | 00:00:01 |       | S-&gt;P | HASH        |
| 14 | TABLE ACCESS FULL  | DEPT    | 4    | 120   | 3 (34)     | 00:00:01 |       |      |             |
-------------------------------------------------------------------------------------------------------------
Predicate Information (identified by operation id):
---------------------------------------------------
6 - access("E"."DEPTNO"="D"."DEPTNO")
10 - filter("E"."ENAME"='hermann')
---------------------------------------------------
</pre><p>When the query is parallel, information related to parallelism is reported: table queue number (<code class="codeph">TQ</code> column), table queue type (<code class="codeph">INOUT</code>) and table queue distribution method (<code class="codeph">PQ Distrib</code>).
                     </p>
                     <p>By default, if several plans in the plan table match the <code class="codeph">statement_id</code> parameter passed to the display table function (default value is <code class="codeph">NULL</code>), only the plan corresponding to the last <code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code> command is displayed. Hence, there is no need to purge the plan table after each <code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code>. However, you should purge the plan table regularly to ensure good performance in the execution of the <code class="codeph">DISPLAY</code> table function. If no plan table is created, Oracle uses a global temporary table to store any plan information for individual users and preserves its content throughout the lifespan of a session. Note that you cannot truncate the content of a global temporary table.
                     </p>
                     <p>For ease of use, you can define a view on top of the display table function and then use that view to display the output of the <code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code> command:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-492CB99B-62C3-4FC3-951C-4BE876670218__GUID-294C015C-31C3-46D8-B7A6-C6083EE5CB06">Using a View to Display Last Explain Plan</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr"># define plan view
CREATE VIEW PLAN AS SELECT * FROM TABLE(DBMS_XPLAN.DISPLAY);

# display the output of the last explain plan command
SELECT * FROM PLAN;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS70130"></a><a id="ARPLS70131"></a><a id="ARPLS70131"></a><a id="ARPLS70130"></a><div class="props_rev_3"><a id="GUID-3575E99C-6F87-4446-BF8F-E2153554D30F" name="GUID-3575E99C-6F87-4446-BF8F-E2153554D30F"></a><h3 id="ARPLS-GUID-3575E99C-6F87-4446-BF8F-E2153554D30F" class="sect3"><span class="enumeration_section">206.5 </span>Summary of DBMS_XPLAN Subprograms
               </h3>
               <div>
                  <p>This table lists the DBMS_XPLAN subprograms and  briefly describes them.</p>
                  <div class="tblformal" id="GUID-3575E99C-6F87-4446-BF8F-E2153554D30F__GUID-6BAF1809-EF32-4C6D-AC19-7BE73E9F30CD">
                     <p class="titleintable">Table 206-2 <span class="italic"><span class="bold"> DBMS_XPLAN Package Subprograms </span></span></p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title=" DBMS_XPLAN Package Subprograms " width="100%" border="1" summary="This table lists the DBMS_XPLAN subprograms in alphabetical order and  briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d1282853e1241">Subprogram</th>
                              <th align="left" valign="bottom" width="69%" id="d1282853e1244">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1282853e1249" headers="d1282853e1241 ">
                                 <p><a href="DBMS_XPLAN.html#GUID-5A80E12C-F126-413D-8FF7-FC04B382FA92" title="This function compares each plan in a list with a reference plan and returns the report.">COMPARE_PLANS Function</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1282853e1249 d1282853e1244 ">
                                 <p>Compares each plan in a list with a reference plan and returns the report</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1282853e1260" headers="d1282853e1241 ">
                                 <p><a href="DBMS_XPLAN.html#GUID-AC276D57-23A4-43EA-B32D-CA3552DFD318" title="This function compares two sql plans, the reference plan and the target plan. This function returns a task_id that can be used to retrieve the report of findings.">DIFF_PLAN Function</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1282853e1260 d1282853e1244 ">
                                 <p>Compares plans</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1282853e1274" headers="d1282853e1241 ">
                                 <p><a href="DBMS_XPLAN.html#GUID-2E479BE4-FEEA-400E-A218-DC779A2181CF" title="This table function displays the contents of the plan table.">DISPLAY Function</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1282853e1274 d1282853e1244 ">
                                 <p>Displays the contents of the plan table</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1282853e1286" headers="d1282853e1241 ">
                                 <p><a href="DBMS_XPLAN.html#GUID-E234ED21-21A9-4237-9DF3-8E420CDDBC70" title="This table function displays the contents of an execution plan stored in AWR.">DISPLAY_AWR Function</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1282853e1286 d1282853e1244 ">
                                 <p>Displays the contents of an execution plan stored in the AWR</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1282853e1298" headers="d1282853e1241 ">
                                 <p><a href="DBMS_XPLAN.html#GUID-0EE333AF-E9AC-40A4-87D5-F6CF59D6C47B" title="This table function displays the explain plan of any cursor loaded in the cursor cache. In addition to the explain plan, various plan statistics (such as. I/O, memory and timing) can be reported (based on the V$SQL_PLAN_STATISTICS_ALL VIEWS).">DISPLAY_CURSOR Function</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1282853e1298 d1282853e1244 ">
                                 <p>Displays the execution plan of any cursor in the cursor cache</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1282853e1313" headers="d1282853e1241 ">
                                 <p><a href="DBMS_XPLAN.html#GUID-FDE553FD-2099-47B6-A1F8-83BFFDCF5662" title="This table function displays the contents of the plan table in a variety of formats with CLOB output type.">DISPLAY_PLAN Function</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1282853e1313 d1282853e1244 ">
                                 <p>Displays the contents of the plan table in a variety of formats with <code class="codeph">CLOB</code> output type
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1282853e1331" headers="d1282853e1241 ">
                                 <p><a href="DBMS_XPLAN.html#GUID-98BB5243-873B-4C7F-B8EC-569C6248339D" title="This table function displays one or more execution plans for the specified SQL handle of a SQL plan baseline.">DISPLAY_SQL_PLAN_BASELINE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1282853e1331 d1282853e1244 ">
                                 <p>Displays one or more execution plans for the specified SQL handle of a SQL plan baseline</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d1282853e1343" headers="d1282853e1241 ">
                                 <p><a href="DBMS_XPLAN.html#GUID-F935EACB-5FBB-4544-91DE-072C7CDA983C" title="This table function displays the execution plan of a given statement stored in a SQL tuning set.">DISPLAY_SQLSET Function</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d1282853e1343 d1282853e1244 ">
                                 <p>Displays the execution plan of a given statement stored in a SQL tuning set</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div class="sect3"><a id="GUID-5A80E12C-F126-413D-8FF7-FC04B382FA92" name="GUID-5A80E12C-F126-413D-8FF7-FC04B382FA92"></a><h4 id="ARPLS-GUID-5A80E12C-F126-413D-8FF7-FC04B382FA92" class="sect4"><span class="enumeration_section">206.5.1 </span>COMPARE_PLANS Function
                  </h4>
                  <div>
                     <p>This function compares each plan in a list with a reference plan and returns the report.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5A80E12C-F126-413D-8FF7-FC04B382FA92__GUID-9F9F0D79-7365-4856-9A1D-80766B7F59E8">Syntax</p><pre class="pre codeblock"><code>DBMS_XPLAN.COMPARE_PLANS(
   reference_plan    IN generic_plan_object,
   compare_plan_list IN plan_object_list,
   type              IN VARCHAR2 := 'TEXT',
   level             IN VARCHAR2 := 'TYPICAL',
   section           IN VARCHAR2 := 'ALL')  
 RETURN CLOB;
</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5A80E12C-F126-413D-8FF7-FC04B382FA92__GUID-4CAF648C-D883-48B3-8400-1A84F58D760C">Parameters</p>
                        <div class="tblformal" id="GUID-5A80E12C-F126-413D-8FF7-FC04B382FA92__GUID-E3DCD8F1-519E-4C6C-A15E-476B20860AA7">
                           <p class="titleintable">Table 206-3 COMPARE_PLANS Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="COMPARE_PLANS Function Parameters" width="100%" border="1" summary="This table describes the parameters of DBMS_XPLAN.COMPARE_PLANS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d1282853e1460">Parameter</th>
                                    <th align="left" valign="bottom" id="d1282853e1463">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1282853e1468" headers="d1282853e1460 ">
                                       <p><code class="codeph">reference_plan</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1282853e1468 d1282853e1463 ">
                                       <p>The reference plan. This plan should always evaluate to a single plan.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1282853e1476" headers="d1282853e1460 ">
                                       <p><code class="codeph">compare_plan_list</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1282853e1476 d1282853e1463 ">
                                       <p>List of plans to compare with reference plan. The <code class="codeph">compare_plan_list</code> is a list of <code class="codeph">generic_object</code> and each <code class="codeph">generic_object</code> could correspond to one or more plans.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1282853e1493" headers="d1282853e1460 ">
                                       <p><code class="codeph">type</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1282853e1493 d1282853e1463 ">
                                       <p>Type of the report. Possible values are:</p>
                                       <div class="p">
                                          <ul style="list-style-type:disc">
                                             <li>
                                                <p>TEXT</p>
                                             </li>
                                             <li>
                                                <p>HTML</p>
                                             </li>
                                             <li>
                                                <p>XML</p>
                                             </li>
                                          </ul>
                                       </div>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1282853e1512" headers="d1282853e1460 ">
                                       <p><code class="codeph">level</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1282853e1512 d1282853e1463 ">
                                       <p>Format of the report. Possible values are:</p>
                                       <div class="p">
                                          <ul style="list-style-type:disc">
                                             <li>
                                                <p>BASIC</p>
                                             </li>
                                             <li>
                                                <p>TYPICAL</p>
                                             </li>
                                             <li>
                                                <p>ALL</p>
                                             </li>
                                          </ul>
                                       </div>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1282853e1531" headers="d1282853e1460 ">
                                       <p><code class="codeph">section</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1282853e1531 d1282853e1463 ">
                                       <p>A particular section in the report. Possible values are:</p>
                                       <div class="p">
                                          <ul style="list-style-type:disc">
                                             <li>
                                                <p>SUMMARY</p>
                                             </li>
                                             <li>
                                                <p>FINDINGS</p>
                                             </li>
                                             <li>
                                                <p>PLANS</p>
                                             </li>
                                             <li>
                                                <p>INFORMATION</p>
                                             </li>
                                             <li>
                                                <p>ERRORS</p>
                                             </li>
                                          </ul>
                                       </div>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-5A80E12C-F126-413D-8FF7-FC04B382FA92__GUID-94D0856B-DA64-4CDF-9E5A-F40DCF60E8A8">
                        <p class="titleinexample">Example 206-1 Examples</p>
                        <p>The following examples illustrate the usage of COMPARE_PLANS Function.</p><pre class="oac_no_warn" dir="ltr">var report clob; 
exec :report := dbms_xplan.compare_plans(cursor_cache_object(‘8mkxm7ur07za0’, 2), 
                - plan_object_list (cursor_cache_object(‘8mkxm7ur07za0’, 4))); 

print report
</pre><p>The above example compares the plan of child cursor number 2 for the SQL ID ‘8mkxm7ur07za0’ with that of the child cursor number 4 for the same SQL ID. Returns the report in the text format (default).</p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-5A80E12C-F126-413D-8FF7-FC04B382FA92__GUID-6391A81B-A718-4171-9D02-F18873712A30"><pre class="oac_no_warn" dir="ltr">var report clob; 
exec :report := dbms_xplan.compare_plans(cursor_cache_object(‘8mkxm7ur07za0’, 2), 
                plan_object_list( spm_object(‘SQL_024d0f7d21351f5d’, ‘SQL_PLAN_sdfjkd’))); 

print report</pre><p>The above example compares the plan of child cursor number 2 for the SQL ID ‘8mkxm7ur07za0’ with that of the plan baseline captured by SPM for query whose SQL handle is ‘SQL_024d0f7d21351f5d’ and plan name is ‘SQL_PLAN_sdfjkd’. Returns the report in the text format (default).</p><pre class="oac_no_warn" dir="ltr">var report clob; 
exec :report = dbms_xplan.compare_plans(cursor_cache_object(‘8mkxm7ur07za0’, 2), 
               plan_object_list( cursor_cache_object(‘8mkxm7ur07za0’), sqlset_object(‘SH’, ‘SQLT_WORKLOAD’, ‘               6vfqvav0rgyad’), awr_object(‘6vfqvav0rgyad’, 5), spm_object(‘SQL_024d0f7d21351f5d’, ‘SQL_PLAN_               sdfjkd’), plan_table_object(‘SH’, ‘plan_table’, NULL, 38), sql_profile_object(‘pe3r3ejsfd’), a               dvisor_object(‘TASK_1228’, ‘EXEC_1928’, ‘8mkxm7ur07za0’)), type =&gt; ‘XML’,
               level =&gt; ‘ALL’, section =&gt; ‘SUMMARY’);</pre><p>The above example compares the plan of child cursor number 2 for the SQL ID ‘8mkxm7ur07za0’ with each of the plans in the following list:</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>cursor_cache_object(‘8mkxm7ur07za0’): All the plans in the cursor cache that are generated for the SQL ID ‘8mkxm7ur07za0’.</p>
                           </li>
                           <li>
                              <p>sqlset_object(‘SH’, ‘SQLT_WORKLOAD’, ‘6vfqvav0rgyad’): All the plans generated in the SQL tuning set SH. SQLT_WORKLOAD for the SQL ID ‘6vfqvav0rgyad’.</p>
                           </li>
                           <li>
                              <p>awr_object(‘6vfqvav0rgyad’, 5): All the plans in AWR that are captured for database ID 5 and SQL ID ‘6vfqvav0rgyad’.</p>
                           </li>
                           <li>
                              <p>spm_object (‘SQL_024d0f7d21351f5d, ‘SQL_PLAN_sdfjkd’): The plan baseline for the query with SQL handle ‘SQL_024d0f7d21351f5d’ with name ‘SQL_PLAN_sdfjkd’.</p>
                           </li>
                           <li>
                              <p>plan_table_object(‘SH’, ‘plan_table’, NULL, 38): Plan stored in SH.plan_table identified by plan_id=38.</p>
                           </li>
                           <li>
                              <p>sql_profile_object(‘pe3r3ejsfd’): Plan identified by the SQL profile name ‘pe3r3ejsfd’.</p>
                           </li>
                           <li>
                              <p>advisor_object(‘TASK_1228’, ‘EXEC_1928’, ‘8mkxm7ur07za0’)): All the plans stored in SQL advisor identified by task name ‘TASK_1228’, execution name ‘EXEC_1928’ and SQL ID ‘8mkxm7ur07za0’.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ARPLS74741"></a><a id="ARPLS74742"></a><a id="ARPLS74742"></a><a id="ARPLS74741"></a><div class="props_rev_3"><a id="GUID-AC276D57-23A4-43EA-B32D-CA3552DFD318" name="GUID-AC276D57-23A4-43EA-B32D-CA3552DFD318"></a><h4 id="ARPLS-GUID-AC276D57-23A4-43EA-B32D-CA3552DFD318" class="sect4"><span class="enumeration_section">206.5.2 </span>DIFF_PLAN Function
                  </h4>
                  <div>
                     <p>This function compares two sql plans, the reference plan and the target plan. This function returns a <code class="codeph">task_id</code> that can be used to retrieve the report of findings.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-AC276D57-23A4-43EA-B32D-CA3552DFD318__GUID-B68AAFFD-7316-437D-9263-6C9879B6E844">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XPLAN.DIFF_PLAN(
   sql_text    IN   CLOB,
   outline     IN   CLOB,
   user_name   IN   VARCHAR2 := 'NULL')
 RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AC276D57-23A4-43EA-B32D-CA3552DFD318__GUID-1C87F47B-6173-44DA-A5E8-3FCC611001EE">Parameters</p>
                        <div class="tblformal" id="GUID-AC276D57-23A4-43EA-B32D-CA3552DFD318__GUID-3B4410FD-1140-4B4B-B5B3-35A6D01C6A7D">
                           <p class="titleintable">Table 206-4 DIFF_PLAN Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DIFF_PLAN Function Parameters" width="100%" border="1" summary="This table describes the Parameters of DBMS_XPLAN.DIFF_PLAN subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1282853e1709">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1282853e1712">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1282853e1717" headers="d1282853e1709 ">
                                       <p><code class="codeph">sql_text</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1282853e1717 d1282853e1712 ">
                                       <p>The text of the SQL statement.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1282853e1725" headers="d1282853e1709 ">
                                       <p><code class="codeph">outline</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1282853e1725 d1282853e1712 ">
                                       <p>Used to generate the target plan.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1282853e1733" headers="d1282853e1709 ">
                                       <p><code class="codeph">user_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1282853e1733 d1282853e1712 ">
                                       <p>The parsing schema name default to current user.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70132"></a><a id="ARPLS70133"></a><a id="ARPLS70133"></a><a id="ARPLS70132"></a><div class="props_rev_3"><a id="GUID-2E479BE4-FEEA-400E-A218-DC779A2181CF" name="GUID-2E479BE4-FEEA-400E-A218-DC779A2181CF"></a><h4 id="ARPLS-GUID-2E479BE4-FEEA-400E-A218-DC779A2181CF" class="sect4"><span class="enumeration_section">206.5.3 </span>DISPLAY Function
                  </h4>
                  <div>
                     <p><span>This table function displays the contents of the plan table.</span></p>
                     <div class="section">
                        <p>In addition, you can use this table function to display any plan (with or without statistics) stored in a table as long as the columns of this table are named the same as columns of the plan table (or <code class="codeph">V$SQL_PLAN_STATISTICS_ALL</code> if statistics are included). You can apply a predicate on the specified table to select rows of the plan to display.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2E479BE4-FEEA-400E-A218-DC779A2181CF__GUID-DF1ECE08-8333-4D23-93C6-377BCAD98B40">Syntax</p><pre class="pre codeblock"><code>DBMS_XPLAN.DISPLAY(
   table_name    IN  VARCHAR2  DEFAULT 'PLAN_TABLE',
   statement_id  IN  VARCHAR2  DEFAULT  NULL,
   format        IN  VARCHAR2  DEFAULT  'TYPICAL',
   filter_preds  IN  VARCHAR2 DEFAULT NULL);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2E479BE4-FEEA-400E-A218-DC779A2181CF__GUID-5F1DF522-D64A-49FA-BED2-E2CC2A4D5172">Parameters</p>
                        <div class="tblformal" id="GUID-2E479BE4-FEEA-400E-A218-DC779A2181CF__GUID-7F2EE618-DDD2-449F-A5FE-3373FD769AC0">
                           <p class="titleintable">Table 206-5 DISPLAY Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DISPLAY Function Parameters" width="100%" border="1" summary="This table describes the Parameters of DBMS_XPLAN.DISPLAY subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d1282853e1857">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d1282853e1860">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e1865" headers="d1282853e1857 ">
                                       <p><code class="codeph">table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e1865 d1282853e1860 ">
                                       <p>Specifies the table name where the plan is stored. This parameter defaults to <code class="codeph">PLAN_TABLE,</code> which is the default plan table for the <code class="codeph">EXPLAIN PLAN</code> command. If <code class="codeph">NULL</code> is specified it also defaults to <code class="codeph">PLAN_TABLE</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e1885" headers="d1282853e1857 ">
                                       <p><code class="codeph">statement_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e1885 d1282853e1860 ">
                                       <p>Specifies the <code class="codeph">statement_id</code> of the plan to be displayed. This parameter defaults to <code class="codeph">NULL,</code> which is the default when the <code class="codeph">EXPLAIN PLAN</code> command is executed without a <code class="codeph">set statement_id</code> clause. If no <code class="codeph">statement_id</code> is specified, the function shows you the plan of the most recent explained statement.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e1908" headers="d1282853e1857 ">
                                       <p><code class="codeph">format</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e1908 d1282853e1860 ">
                                       <p>Controls the level of details for the plan. It accepts the following values:</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">BASIC</code>: Displays the minimum information in the plan—the operation ID, the operation name and its option.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code>: This is the default. Displays the most relevant information in the plan (operation id, name and option, #rows, #bytes and optimizer cost). Pruning, parallel and predicate information are only displayed when applicable. Excludes only <code class="codeph">PROJECTION</code>, <code class="codeph">ALIAS</code>, and <code class="codeph">REMOTE SQL</code> information (see below).
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SERIAL</code>: Like <code class="codeph">TYPICAL</code> except that the parallel information is not displayed, even if the plan executes in parallel.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code>: Maximum user level. Includes information displayed with the <code class="codeph">TYPICAL</code> level with additional information (<code class="codeph">PROJECTION</code>, <code class="codeph">ALIAS</code> and information about <code class="codeph">REMOTE SQL</code> if the operation is distributed).
                                             </p>
                                          </li>
                                       </ul>
                                       <p>For finer control on the display output, the following keywords can be added to the above three standard format options to customize their default behavior. Each keyword either represents a logical group of plan table columns (such as <code class="codeph">PARTITION</code>) or logical additions to the base plan table output (such as <code class="codeph">PREDICATE</code>). Format keywords must be separated by either a comma or a space:
                                       </p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ROWS</code> - if relevant, shows the number of rows estimated by the optimizer
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BYTES</code> - if relevant, shows the number of bytes estimated by the optimizer
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">COST</code> - if relevant, shows optimizer cost information
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARTITION</code> - if relevant, shows partition pruning information
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARALLEL</code> - if relevant, shows PX information (distribution method and table queue information)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PREDICATE</code> - if relevant, shows the predicate section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROJECTION</code> -if relevant, shows the projection section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALIAS</code> - if relevant, shows the "Query Block Name / Object Alias" section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">REMOTE</code> - if relevant, shows the information for distributed query (for example, remote from serial distribution and remote SQL)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NOTE</code> - if relevant, shows the note section of the explain plan
                                             </p>
                                          </li>
                                       </ul>
                                       <p>Format keywords can be prefixed by the sign '<code class="codeph">-</code>' to exclude the specified information. For example, '<code class="codeph">-PROJECTION</code>' excludes projection information.
                                       </p>
                                       <p>If the target plan table (see <code class="codeph">table_name</code> parameter) also stores plan statistics columns (for example, it is a table used to capture the content of the fixed view <code class="codeph">V$SQL_PLAN_STATISTICS_ALL</code>), additional format keywords can be used to specify which class of statistics to display when using the <a href="DBMS_XPLAN.html#GUID-2E479BE4-FEEA-400E-A218-DC779A2181CF" title="This table function displays the contents of the plan table.">DISPLAY Function</a>. These additional format keywords are <code class="codeph">IOSTATS</code>, <code class="codeph">MEMSTATS</code>, <code class="codeph">ALLSTATS</code>, and <code class="codeph">LAST</code> (see the <a href="DBMS_XPLAN.html#GUID-0EE333AF-E9AC-40A4-87D5-F6CF59D6C47B" title="This table function displays the explain plan of any cursor loaded in the cursor cache. In addition to the explain plan, various plan statistics (such as. I/O, memory and timing) can be reported (based on the V$SQL_PLAN_STATISTICS_ALL VIEWS).">DISPLAY_CURSOR Function</a> or the <a href="DBMS_XPLAN.html#GUID-F935EACB-5FBB-4544-91DE-072C7CDA983C" title="This table function displays the execution plan of a given statement stored in a SQL tuning set.">DISPLAY_SQLSET Function</a> for a full description of these four keywords).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e2073" headers="d1282853e1857 ">
                                       <p><code class="codeph">filter_preds</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e2073 d1282853e1860 ">
                                       <p>SQL filter predicate(s) to restrict the set of rows selected from the table where the plan is stored. When value is <code class="codeph">NULL</code> (the default), the plan displayed corresponds to the last executed explain plan. For example: <code class="codeph">filter_preds=&gt;'plan_id = 10'</code></p>
                                       <p>Can reference any column of the table where the plan is stored and can contain any SQL construct (for example, sub-query, function calls (see <span class="bold"><code class="codeph">WARNING</code></span> under Usage Notes)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2E479BE4-FEEA-400E-A218-DC779A2181CF__GUID-DB73A5DC-2145-44E9-8A19-ED1F506E1228">Usage Notes</p>
                        <p>Here are some ways you might use variations on the <code class="codeph">format</code> parameter:
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Use '<code class="codeph">ALL -PROJECTION -NOTE</code>' to display everything except the projection and note sections.
                              </p>
                           </li>
                           <li>
                              <p>Use '<code class="codeph">TYPICAL PROJECTION</code>' to display using the typical format with the additional projection section (which is normally excluded under the typical format). Since typical is default, using simply '<code class="codeph">PROJECTION</code>' is equivalent.
                              </p>
                           </li>
                           <li>
                              <p>Use '<code class="codeph">-BYTES -COST -PREDICATE</code>' to display using the typical format but excluding optimizer cost and byte estimates as well as the predicate section.
                              </p>
                           </li>
                           <li>
                              <p>Use '<code class="codeph">BASIC ROWS</code>' to display basic information with the additional number of rows estimated by the optimizer.
                              </p>
                              <div class="infoboxnotewarn" id="GUID-2E479BE4-FEEA-400E-A218-DC779A2181CF__GUID-1D70F77B-4239-4E6E-9DF6-2593B8BD74EF">
                                 <p class="notep1">WARNING:</p>
                                 <p>Application developers should expose the <code class="codeph">filter_preds</code> parameter to end-users only after careful consideration because this could expose the application to SQL injection. Indeed, <code class="codeph">filter_preds</code> can potentially reference any table or execute any server function for which the database user invoking the table function has privileges.
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2E479BE4-FEEA-400E-A218-DC779A2181CF__GUID-5966D998-62EC-42CD-A43A-40960BD8F8FD">Examples</p>
                        <p>To display the result of the last <code class="codeph">EXPLAIN PLAN</code> command stored in the plan table:
                        </p><pre class="pre codeblock"><code>SELECT * FROM TABLE (DBMS_XPLAN.DISPLAY);
</code></pre><p>To display from other than the default plan table, "<code class="codeph">my_plan_table</code>":
                        </p><pre class="pre codeblock"><code>SELECT * FROM table (DBMS_XPLAN.DISPLAY('my_plan_table'));
</code></pre><p>To display the minimum plan information:</p><pre class="pre codeblock"><code>SELECT * FROM table (DBMS_XPLAN.DISPLAY('plan_table', null, 'basic'));
</code></pre><p>To display the plan for a statement identified by '<code class="codeph">foo</code>', such as <code class="codeph">statement_id='sales_query'</code>:
                        </p><pre class="pre codeblock"><code>SELECT * FROM table (DBMS_XPLAN.DISPLAY('plan_table', 'sales_query'));</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70134"></a><a id="ARPLS70135"></a><a id="ARPLS70135"></a><a id="ARPLS70134"></a><div class="props_rev_3"><a id="GUID-E234ED21-21A9-4237-9DF3-8E420CDDBC70" name="GUID-E234ED21-21A9-4237-9DF3-8E420CDDBC70"></a><h4 id="ARPLS-GUID-E234ED21-21A9-4237-9DF3-8E420CDDBC70" class="sect4"><span class="enumeration_section">206.5.4 </span>DISPLAY_AWR Function
                  </h4>
                  <div>
                     <p><span>This table function displays the contents of an execution plan stored in AWR.</span></p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-E234ED21-21A9-4237-9DF3-8E420CDDBC70__GUID-EA5DA8C9-EA3C-4593-94B4-8CBC00ADDCB2">
                           <p class="notep1">Note:</p>
                           <p>This function is deprecated. Use <code class="codeph">DISPLAY_WORKLOAD_REPOSITORY</code> instead. <code class="codeph">DISPLAY_AWR</code> only works with snapshots for the local DBID, whereas <code class="codeph">DISPLAY_WORKLOAD_REPOSITORY</code> supports all snapshots inside AWR, including remote and imported snapshots.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E234ED21-21A9-4237-9DF3-8E420CDDBC70__GUID-3C7C552A-1783-4664-ADF8-A3F819A6E205">Syntax</p><pre class="pre codeblock"><code>DBMS_XPLAN.DISPLAY_AWR( 
   sql_id            IN      VARCHAR2,
   plan_hash_value   IN      NUMBER DEFAULT NULL,
   db_id             IN      NUMBER DEFAULT NULL,
   format            IN      VARCHAR2 DEFAULT TYPICAL);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E234ED21-21A9-4237-9DF3-8E420CDDBC70__GUID-7C03E4FD-BACC-4737-9B1E-BB9B3FC2ADD3">Parameters</p>
                        <div class="tblformal" id="GUID-E234ED21-21A9-4237-9DF3-8E420CDDBC70__GUID-B3D42125-7B2E-41CA-A3D4-A8104D3A6F4B">
                           <p class="titleintable">Table 206-6 DISPLAY_AWR Table Function Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DISPLAY_AWR Table Function Parameters " width="100%" border="1" summary="This table describes the Parameters of DBMS_XPLAN.DISPLAY_AWR subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d1282853e2291">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d1282853e2294">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e2299" headers="d1282853e2291 ">
                                       <p><code class="codeph">sql_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e2299 d1282853e2294 ">
                                       <p>Specifies the <code class="codeph">SQL_ID</code> of the SQL statement. You can retrieve the appropriate value for the SQL statement of interest by querying the column <code class="codeph">SQL_ID</code> in <code class="codeph">DBA_HIST_SQLTEXT</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e2316" headers="d1282853e2291 ">
                                       <p><code class="codeph">plan_hash_value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e2316 d1282853e2294 ">
                                       <p>Specifies the <code class="codeph">PLAN_HASH_VALUE</code> of a SQL statement. This parameter is optional. If omitted, the table function returns all stored execution plans for a given <code class="codeph">SQL_ID</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e2330" headers="d1282853e2291 ">
                                       <p><code class="codeph">db_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e2330 d1282853e2294 ">
                                       <p>Specifies the <code class="codeph">database_id</code> for which the plan of the SQL statement, identified by <code class="codeph">SQL_ID</code> should be displayed. If not supplied, the <code class="codeph">database_id</code> of the local database is used, as shown in <code class="codeph">V$DATABASE</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e2350" headers="d1282853e2291 ">
                                       <p><code class="codeph">format</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e2350 d1282853e2294 ">
                                       <p>Controls the level of details for the plan. It accepts four values:</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">BASIC</code>: Displays the minimum information in the plan—the operation ID, the operation name and its option.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code>: This is the default. Displays the most relevant information in the plan (operation id, name and option, #rows, #bytes and optimizer cost). Pruning, parallel and predicate information are only displayed when applicable. Excludes only <code class="codeph">PROJECTION</code>, <code class="codeph">ALIAS</code> and <code class="codeph">REMOTE</code> <code class="codeph">SQL</code> information (see below).
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SERIAL</code>: Like <code class="codeph">TYPICAL</code> except that the parallel information is not displayed, even if the plan executes in parallel.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code>: Maximum user level. Includes information displayed with the <code class="codeph">TYPICAL</code> level with additional information (<code class="codeph">PROJECTION</code>, <code class="codeph">ALIAS</code> and information about <code class="codeph">REMOTE</code> <code class="codeph">SQL</code> if the operation is distributed).
                                             </p>
                                          </li>
                                       </ul>
                                       <p>For finer control on the display output, the following keywords can be added to the above four standard format options to customize their default behavior. Each keyword either represents a logical group of plan table columns (such as <code class="codeph">PARTITION</code>) or logical additions to the base plan table output (such as <code class="codeph">PREDICATE</code>). Format keywords must be separated by either a comma or a space:
                                       </p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ROWS</code> - if relevant, shows the number of rows estimated by the optimizer
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BYTES</code> - if relevant, shows the number of bytes estimated by the optimizer
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">COST</code> - if relevant, shows optimizer cost information
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARTITION</code> - if relevant, shows partition pruning information
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARALLEL</code> - if relevant, shows PX information (distribution method and table queue information)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PREDICATE</code> - if relevant, shows the predicate section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROJECTION</code> -if relevant, shows the projection section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALIAS</code> - if relevant, shows the "Query Block Name / Object Alias" section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">REMOTE</code> - if relevant, shows the information for distributed query (for example, remote from serial distribution and remote SQL)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NOTE</code> - if relevant, shows the note section of the explain plan
                                             </p>
                                          </li>
                                       </ul>
                                       <p>Format keywords can be prefixed by the sign '<code class="codeph">-</code>' to exclude the specified information. For example, '<code class="codeph">-PROJECTION</code>' excludes projection information.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E234ED21-21A9-4237-9DF3-8E420CDDBC70__GUID-109F466C-BDCC-4451-8E1E-D80F8066E3C3">Usage Notes</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>To use the <code class="codeph">DISPLAY_AWR</code> functionality, the calling user must have <code class="codeph">SELECT</code> or <code class="codeph">READ</code> privilege on <code class="codeph">DBA_HIST_SQL_PLAN</code>, <code class="codeph">DBA_HIST_SQLTEXT</code>, and <code class="codeph">V$DATABASE</code>, otherwise it shows an appropriate error message.
                              </p>
                           </li>
                           <li>
                              <p>The following examples show different ways of using the <code class="codeph">format</code> parameter:
                              </p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>Use '<code class="codeph">BASIC ROWS</code>' to display basic information with the additional number of rows estimated by the optimizer.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Use '<code class="codeph">ALL -PROJECTION -NOTE</code>' to display everything except the projection and note sections.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Use '<code class="codeph">TYPICAL PROJECTION</code>' to display using the typical format with the additional projection section (which is normally excluded under the typical format). Since typical is default, using simply '<code class="codeph">PROJECTION</code>' is equivalent.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Use '<code class="codeph">-BYTES -COST -PREDICATE</code>' to display using the typical format but excluding optimizer cost and byte estimates and the predicate section.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E234ED21-21A9-4237-9DF3-8E420CDDBC70__GUID-91466CB9-5E8F-40E0-84C7-502A31FEA119">Examples</p>
                        <p>To display the different execution plans associated with the SQL ID '<code class="codeph">atfwcg8anrykp</code>':
                        </p><pre class="pre codeblock"><code>SELECT * FROM table(DBMS_XPLAN.DISPLAY_AWR('atfwcg8anrykp'));
</code></pre><p>To display all execution plans of all stored SQL statements containing the string '<code class="codeph">TOTO</code>':
                        </p><pre class="pre codeblock"><code>SELECT tf.* 
FROM   DBA_HIST_SQLTEXT ht, table(DBMS_XPLAN.DISPLAY_AWR(ht.sql_id,null, null,  'ALL' )) tf 
WHERE  ht.sql_text like '%TOTO%';</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70136"></a><a id="ARPLS70137"></a><a id="ARPLS70137"></a><a id="ARPLS70136"></a><div class="props_rev_3"><a id="GUID-0EE333AF-E9AC-40A4-87D5-F6CF59D6C47B" name="GUID-0EE333AF-E9AC-40A4-87D5-F6CF59D6C47B"></a><h4 id="ARPLS-GUID-0EE333AF-E9AC-40A4-87D5-F6CF59D6C47B" class="sect4"><span class="enumeration_section">206.5.5 </span>DISPLAY_CURSOR Function
                  </h4>
                  <div>
                     <p><span>This table function displays the explain plan of any cursor loaded in the cursor cache. In addition to the explain plan, various plan statistics (such as. I/O, memory and timing) can be reported (based on the <code class="codeph">V$SQL_PLAN_STATISTICS_ALL VIEWS</code>).</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0EE333AF-E9AC-40A4-87D5-F6CF59D6C47B__GUID-E872DC34-877A-49C1-8880-6AB4EF97624C">Syntax</p><pre class="pre codeblock"><code>DBMS_XPLAN.DISPLAY_CURSOR(
   sql_id            IN  VARCHAR2  DEFAULT  NULL,
   cursor_child_no   IN  NUMBER    DEFAULT  0, 
   format            IN  VARCHAR2  DEFAULT  'TYPICAL');</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0EE333AF-E9AC-40A4-87D5-F6CF59D6C47B__GUID-F9D50F48-81FB-4787-85A0-5BA16033C520">Parameters</p>
                        <div class="tblformal" id="GUID-0EE333AF-E9AC-40A4-87D5-F6CF59D6C47B__GUID-14874480-6C7B-4531-AEFB-681B96622DA0">
                           <p class="titleintable">Table 206-7 DISPLAY_CURSOR Function Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DISPLAY_CURSOR Function Parameters " width="100%" border="1" summary="This table describes the Parameters of DBMS_XPLAN.DISPLAYCURSOR subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d1282853e2667">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d1282853e2670">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e2675" headers="d1282853e2667 ">
                                       <p><code class="codeph">sql_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e2675 d1282853e2670 ">
                                       <p>Specifies the <code class="codeph">SQL_ID</code> of the SQL statement in the cursor cache. You can retrieve the appropriate value by querying the column <code class="codeph">SQL_ID</code> in <code class="codeph">V$SQL</code> or <code class="codeph">V$SQLAREA</code>. Alternatively, you could choose the column <code class="codeph">PREV_SQL_ID</code> for a specific session out of <code class="codeph">V$SESSION</code>. This parameter defaults to <code class="codeph">NULL</code> in which case the plan of the last cursor executed by the session is displayed.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e2705" headers="d1282853e2667 ">
                                       <p><code class="codeph">cursor_child_no</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e2705 d1282853e2670 ">
                                       <p>Child number of the cursor to display. If not supplied, the execution plan of all cursors matching the supplied <code class="codeph">sql_id</code> parameter are displayed. The <code class="codeph">child_number</code> can be specified only if <code class="codeph">sql_id</code> is specified.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e2722" headers="d1282853e2667 ">
                                       <p><code class="codeph">format</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e2722 d1282853e2670 ">
                                       <p>Controls the level of details for the plan. It accepts five values:</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">BASIC</code>: Displays the minimum information in the plan—the operation ID, the operation name and its option.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code>: This is the default. Displays the most relevant information in the plan (operation id, name and option, #rows, #bytes and optimizer cost). Pruning, parallel and predicate information are only displayed when applicable. Excludes only <code class="codeph">PROJECTION</code>, <code class="codeph">ALIAS</code> and <code class="codeph">REMOTE SQL</code> information (see below).
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SERIAL</code>: Like <code class="codeph">TYPICAL</code> except that the parallel information is not displayed, even if the plan executes in parallel.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code>: Maximum user level. Includes information displayed with the <code class="codeph">TYPICAL</code> level with additional information (<code class="codeph">PROJECTION</code>, <code class="codeph">ALIAS</code> and information about <code class="codeph">REMOTE SQL</code> if the operation is distributed).
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ADAPTIVE</code>: 
                                             </p>
                                             <ul style="list-style-type:disc">
                                                <li>
                                                   <p>Displays the final plan, or the current plan if the execution has not completed. This section includes notes about runtime optimizations that affect the plan, such as switching from a Nested Loops join to a Hash join.</p>
                                                </li>
                                                <li>
                                                   <p>Plan lineage. This section shows the plans that were run previously due to automatic reoptimization. It also shows the default plan, if the plan changed due to dynamic plans.</p>
                                                </li>
                                                <li>
                                                   <p>Recommended plan. In reporting mode, the plan is chosen based on execution statistics displayed. Note that displaying the recommended plan for automatic reoptimization requires re-compiling the query with the optimizer adjustments collected in the child cursor. Displaying the recommended plan for a dynamic plan does not require this.</p>
                                                </li>
                                                <li>
                                                   <p>Dynamic plans. This summarizes the portions of the plan that differ from the default plan chosen by the optimizer.</p>
                                                </li>
                                             </ul>
                                          </li>
                                       </ul>
                                       <p>For finer control on the display output, you can add the following keywords to the preceding format options to customize their default behavior. Each keyword either represents a logical group of plan table columns (such as <code class="codeph">PARTITION</code>) or logical additions to the base plan table output (such as <code class="codeph">PREDICATE</code>).
                                       </p>
                                       <p>Format keywords must be separated by either a comma or a space:</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ROWS</code> - if relevant, shows the number of rows estimated by the optimizer
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BYTES</code> - if relevant, shows the number of bytes estimated by the optimizer
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">COST</code> - if relevant, shows optimizer cost information
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARTITION</code> - if relevant, shows partition pruning information
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARALLEL</code> - if relevant, shows PX information (distribution method and table queue information)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PREDICATE</code> - if relevant, shows the predicate section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROJECTION</code> -if relevant, shows the projection section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALIAS</code> - if relevant, shows the "Query Block Name / Object Alias" section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">REMOTE</code> - if relevant, shows the information for distributed query (for example, remote from serial distribution and remote SQL)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NOTE</code> - if relevant, shows the note section of the explain plan
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">IOSTATS</code> - assuming that basic plan statistics are collected when SQL statements are executed (either by using the <code class="codeph">gather_plan_statistics</code> hint or by setting the parameter statistics_level to ALL), this format shows IO statistics for <code class="codeph">ALL</code> (or only for the <code class="codeph">LAST</code> as shown below) executions of the cursor.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MEMSTATS</code> - Assuming that PGA memory management is enabled (that is, <code class="codeph">pga_aggregate_target</code> parameter is set to a non 0 value), this format allows to display memory management statistics (for example, execution mode of the operator, how much memory was used, number of bytes spilled to disk, and so on). These statistics only apply to memory intensive operations like hash-joins, sort or some bitmap operators.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALLSTATS</code> - A shortcut for <code class="codeph">'IOSTATS MEMSTATS'</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LAST</code> - By default, plan statistics are shown for all executions of the cursor. The keyword <code class="codeph">LAST</code> can be specified to see only the statistics for the last execution.
                                             </p>
                                          </li>
                                       </ul>
                                       <p>The following formats are deprecated but supported for backward compatibility:</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">RUNSTATS_TOT</code> - Same as <code class="codeph">IOSTATS,</code> that is, displays IO statistics for all executions of the specified cursor.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">RUNSTATS_LAST</code> - Same as <code class="codeph">IOSTATS</code> <code class="codeph">LAST</code>, that is, displays the runtime statistics for the last execution of the cursor
                                             </p>
                                          </li>
                                       </ul>
                                       <p>You can prefix format keywords with the sign '<code class="codeph">-</code>' to exclude the specified information. For example, '<code class="codeph">-PROJECTION</code>' excludes projection information.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0EE333AF-E9AC-40A4-87D5-F6CF59D6C47B__GUID-F0489E10-CC9B-4B1B-8D08-4576BBA36E12">Usage Notes</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>To use the <code class="codeph">DISPLAY_CURSOR</code> functionality, the calling user must have <code class="codeph">SELECT</code> or <code class="codeph">READ</code> privilege on the fixed views <code class="codeph">V$SQL_PLAN_STATISTICS_ALL</code>, <code class="codeph">V$SQL</code> and <code class="codeph">V$SQL_PLAN</code>, otherwise it shows an appropriate error message.
                              </p>
                           </li>
                           <li>
                              <p>Here are some ways you might use variations on the <code class="codeph">format</code> parameter:
                              </p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>Use '<code class="codeph">ALL -PROJECTION -NOTE</code>' to display everything except the projection and note sections.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Use '<code class="codeph">TYPICAL PROJECTION</code>' to display using the typical format with the additional projection section (which is normally excluded under the typical format). Since typical is default, using simply '<code class="codeph">PROJECTION</code>' is equivalent.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Use '<code class="codeph">-BYTES -COST -PREDICATE</code>' to display using the typical format but excluding optimizer cost and byte estimates as well as the predicate section.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Use '<code class="codeph">BASIC ROWS</code>' to display basic information with the additional number of rows estimated by the optimizer.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0EE333AF-E9AC-40A4-87D5-F6CF59D6C47B__GUID-114C3016-D09F-48B6-BD0C-AB716B9ED32D">Examples</p>
                        <p>To display the execution plan of the last <code class="codeph">SQL</code> statement executed by the current session:
                        </p><pre class="pre codeblock"><code>SELECT * FROM table (
   DBMS_XPLAN.DISPLAY_CURSOR);
</code></pre><p>To display the execution plan of all children associated with the SQL ID '<code class="codeph">atfwcg8anrykp</code>':
                        </p><pre class="pre codeblock"><code>SELECT * FROM table (
   DBMS_XPLAN.DISPLAY_CURSOR('atfwcg8anrykp'));
</code></pre><p>To display runtime statistics for the cursor included in the preceding statement:</p><pre class="pre codeblock"><code>SELECT * FROM table (
   DBMS_XPLAN.DISPLAY_CURSOR('atfwcg8anrykp', NULL, 'ALLSTATS LAST');</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72977"></a><a id="ARPLS72978"></a><a id="ARPLS72978"></a><a id="ARPLS72977"></a><div class="props_rev_3"><a id="GUID-FDE553FD-2099-47B6-A1F8-83BFFDCF5662" name="GUID-FDE553FD-2099-47B6-A1F8-83BFFDCF5662"></a><h4 id="ARPLS-GUID-FDE553FD-2099-47B6-A1F8-83BFFDCF5662" class="sect4"><span class="enumeration_section">206.5.6 </span>DISPLAY_PLAN Function
                  </h4>
                  <div>
                     <p><span>This table function displays the contents of the plan table in a variety of formats with <code class="codeph">CLOB</code> output type.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FDE553FD-2099-47B6-A1F8-83BFFDCF5662__GUID-DBBC0F87-AF65-414C-AF6E-1BCAB966D30B">Syntax</p><pre class="pre codeblock"><code>DBMS_XPLAN.DISPLAY_PLAN (
   table_name       IN    VARCHAR2   DEFAULT 'PLAN_TABLE',
   statement_id     IN    VARCHAR2   DEFAULT NULL,
   format           IN    VARCHAR2   DEFAULT 'TYPICAL',
   filter_preds     IN    VARCHAR2   DEFAULT NULL,
   type             IN    VARCHAR2   DEFAULT 'TEXT')
  RETURN CLOB;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FDE553FD-2099-47B6-A1F8-83BFFDCF5662__GUID-DEEFF6F2-76F7-4B65-A366-94B81EEE7C10">Parameters</p>
                        <div class="tblformal" id="GUID-FDE553FD-2099-47B6-A1F8-83BFFDCF5662__GUID-D980F582-6DD0-4E03-B3BB-8A496B7217EF">
                           <p class="titleintable">Table 206-8 DISPLAY_PLAN Function Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DISPLAY_PLAN Function Parameters " width="100%" border="1" summary="This table describes the Parameters of DBMS_XPLAN.DISPLAY_PLAN subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d1282853e3116">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d1282853e3119">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e3124" headers="d1282853e3116 ">
                                       <p><code class="codeph">table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e3124 d1282853e3119 ">
                                       <p>Specifies the table name where the plan is stored. This parameter defaults to <code class="codeph">PLAN_TABLE,</code> which is the default plan table for the <code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code> command. If <code class="codeph">NULL</code> is specified it also defaults to <code class="codeph">PLAN_TABLE</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e3147" headers="d1282853e3116 ">
                                       <p><code class="codeph">statement_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e3147 d1282853e3119 ">
                                       <p>Specifies the <code class="codeph">statement_id</code> of the plan to be displayed. This parameter defaults to <code class="codeph">NULL,</code> which is the default when the <code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code> command is executed without a <code class="codeph">set</code> <code class="codeph">statement_id</code> clause.If no <code class="codeph">statement_id</code> is specified, the function shows you the plan of the most recent explained statement.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e3177" headers="d1282853e3116 ">
                                       <p><code class="codeph">filter_preds</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e3177 d1282853e3119 ">
                                       <p>SQL filter predicate(s) to restrict the set of rows selected from the table where the plan is stored. When value is <code class="codeph">NULL</code> (the default), the plan displayed corresponds to the last executed explain plan. For example: <code class="codeph">filter_preds=&gt;'plan_id = 10'</code></p>
                                       <p>Can reference any column of the table where the plan is stored and can contain any SQL construct (for example, sub-query, function calls (see <span class="bold"><code class="codeph">WARNING</code></span> under Usage Notes)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e3196" headers="d1282853e3116 ">
                                       <p><code class="codeph">format</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e3196 d1282853e3119 ">
                                       <p>Controls the level of details for the plan. It accepts five values:</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">BASIC</code>: Displays the minimum information in the plan—the operation ID, the operation name and its option.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code>: This is the default. Displays the most relevant information in the plan (operation id, name and option, #rows, #bytes and optimizer cost). Pruning, parallel and predicate information are only displayed when applicable. Excludes only <code class="codeph">PROJECTION</code>, <code class="codeph">ALIAS</code> and <code class="codeph">REMOTE</code> <code class="codeph">SQL</code> information (see below).
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SERIAL</code>: Like <code class="codeph">TYPICAL</code> except that the parallel information is not displayed, even if the plan executes in parallel.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code>: Maximum user level. Includes information displayed with the <code class="codeph">TYPICAL</code> level with additional information (<code class="codeph">PROJECTION</code>, <code class="codeph">ALIAS</code> and information about <code class="codeph">REMOTE</code> <code class="codeph">SQL</code> if the operation is distributed).
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ADAPTIVE</code>: Displays the default plan, and for each dynamic subplan (if stipulated):
                                             </p>
                                             <p>- A list of the rowsources from the original which may be replaced, and the rowsources to replace them</p>
                                             <p>- If outline display is specified in the format argument, the hints for each option in the dynamic subplan are displayed</p>
                                          </li>
                                       </ul>
                                       <p>For finer control on the display output, the following keywords can be added to the above three standard format options to customize their default behavior. Each keyword either represents a logical group of plan table columns (such as <code class="codeph">PARTITION</code>) or logical additions to the base plan table output (such as <code class="codeph">PREDICATE</code>). Format keywords must be separated by either a comma or a space:
                                       </p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ROWS</code> - if relevant, shows the number of rows estimated by the optimizer
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BYTES</code> - if relevant, shows the number of bytes estimated by the optimizer
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">COST</code> - if relevant, shows optimizer cost information
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARTITION</code> - if relevant, shows partition pruning information
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARALLEL</code> - if relevant, shows PX information (distribution method and table queue information)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PREDICATE</code> - if relevant, shows the predicate section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROJECTION</code> -if relevant, shows the projection section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALIAS</code> - if relevant, shows the "Query Block Name / Object Alias" section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">REMOTE</code> - if relevant, shows the information for distributed query (for example, remote from serial distribution and remote SQL)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NOTE</code> - if relevant, shows the note section of the explain plan
                                             </p>
                                          </li>
                                       </ul>
                                       <p>Format keywords can be prefixed by the sign '<code class="codeph">-</code>' to exclude the specified information. For example, '<code class="codeph">-PROJECTION</code>' excludes projection information.
                                       </p>
                                       <p>If the target plan table (see <code class="codeph">table_name</code> parameter) also stores plan statistics columns (for example, it is a table used to capture the content of the fixed view <code class="codeph">V$SQL_PLAN_STATISTICS_ALL</code>), additional format keywords can be used to specify which class of statistics to display when using the <a href="DBMS_XPLAN.html#GUID-2E479BE4-FEEA-400E-A218-DC779A2181CF" title="This table function displays the contents of the plan table.">DISPLAY Function</a>. These additional format keywords are <code class="codeph">IOSTATS</code>, <code class="codeph">MEMSTATS</code>, <code class="codeph">ALLSTATS</code> and <code class="codeph">LAST</code> (see the <a href="DBMS_XPLAN.html#GUID-0EE333AF-E9AC-40A4-87D5-F6CF59D6C47B" title="This table function displays the explain plan of any cursor loaded in the cursor cache. In addition to the explain plan, various plan statistics (such as. I/O, memory and timing) can be reported (based on the V$SQL_PLAN_STATISTICS_ALL VIEWS).">DISPLAY_CURSOR Function</a> or the <a href="DBMS_XPLAN.html#GUID-F935EACB-5FBB-4544-91DE-072C7CDA983C" title="This table function displays the execution plan of a given statement stored in a SQL tuning set.">DISPLAY_SQLSET Function</a> for a full description of these four keywords).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e3379" headers="d1282853e3116 ">
                                       <p><code class="codeph">type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e3379 d1282853e3119 ">
                                       <p>Output type, one of: <code class="codeph">'TEXT'</code>, <code class="codeph">'ACTIVE'</code>, <code class="codeph">'HTML'</code>, or <code class="codeph">'XML'</code> (see Usage Notes regarding type ACTIVE). '
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FDE553FD-2099-47B6-A1F8-83BFFDCF5662__GUID-0C3A8EC9-7951-456C-BCB7-9ED415161C47">Return Values</p>
                        <p>Returns the requested report as <code class="codeph">CLOB</code></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FDE553FD-2099-47B6-A1F8-83BFFDCF5662__GUID-6792F609-04F2-4C7C-8057-ADEF1CE3CD3B">Usage Notes</p>
                        <p>Active reports have a rich, interactive user interface akin to that found in Enterprise Manager while not requiring any EM installation. The report file built is in HTML format, so it can be interpreted by most modern browsers. The code powering the active report is downloaded transparently by the web browser when the report is first viewed, hence viewing it requires outside connectivity.</p>
                        <div class="infoboxnotewarn" id="GUID-FDE553FD-2099-47B6-A1F8-83BFFDCF5662__GUID-999A2182-AF78-4C4B-8199-1C2375CD47C9">
                           <p class="notep1">WARNING:</p>
                           <p>Application developers should expose the <code class="codeph">filter_preds</code> parameter to end-users only after careful consideration because this could expose the application to SQL injection. Indeed, <code class="codeph">filter_preds</code> can potentially reference any table or execute any server function for which the database user invoking the table function has privileges.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70138"></a><a id="ARPLS70139"></a><a id="ARPLS70140"></a><a id="ARPLS70141"></a><a id="ARPLS70139"></a><a id="ARPLS70140"></a><a id="ARPLS70141"></a><a id="ARPLS70138"></a><div class="props_rev_3"><a id="GUID-98BB5243-873B-4C7F-B8EC-569C6248339D" name="GUID-98BB5243-873B-4C7F-B8EC-569C6248339D"></a><h4 id="ARPLS-GUID-98BB5243-873B-4C7F-B8EC-569C6248339D" class="sect4"><span class="enumeration_section">206.5.7 </span>DISPLAY_SQL_PLAN_BASELINE Function
                  </h4>
                  <div>
                     <p><span>This table function displays one or more execution plans for the specified SQL handle of a SQL plan baseline.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-98BB5243-873B-4C7F-B8EC-569C6248339D__GUID-AEB30669-EDBB-4ED9-960C-47D2D23D3436">Syntax</p><pre class="pre codeblock"><code>DBMS_XPLAN.DISPLAY_SQL_PLAN_BASELINE (
   sql_handle      IN VARCHAR2 := NULL,
   plan_name       IN VARCHAR2 := NULL,
   format          IN VARCHAR2 := 'TYPICAL')
 RETURN dbms_xplan_type_table;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-98BB5243-873B-4C7F-B8EC-569C6248339D__GUID-A1CF0185-EF47-4E9D-84D0-2B791927E464">Parameters</p>
                        <div class="tblformal" id="GUID-98BB5243-873B-4C7F-B8EC-569C6248339D__GUID-C02A0756-076A-4523-B2CE-6AFFBF825574">
                           <p class="titleintable">Table 206-9 DISPLAY_SQL_PLAN_BASELINE Function Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DISPLAY_SQL_PLAN_BASELINE Function Parameters " width="100%" border="1" summary="This table describes the Parameters of DBMS_XPLAN.DISPLAY_SQL_PLAN_BASELINE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d1282853e3534">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d1282853e3537">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e3542" headers="d1282853e3534 ">
                                       <p><code class="codeph">sql_handle</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e3542 d1282853e3537 ">
                                       <p>SQL statement handle. It identifies a SQL statement whose plans are to be displayed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e3550" headers="d1282853e3534 ">
                                       <p><code class="codeph">plan_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e3550 d1282853e3537 ">
                                       <p>Plan name. It identifies a specific plan. Default NULL means all plans associated with identified SQL statement are explained and displayed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e3558" headers="d1282853e3534 ">
                                       <p><code class="codeph">format</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e3558 d1282853e3537 ">
                                       <p>Format string determines what information stored in the plan displayed. The following format values are possible, each representing a common use case: <code class="codeph">BASIC</code>, <code class="codeph">TYPICAL</code>, and <code class="codeph">ALL</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-98BB5243-873B-4C7F-B8EC-569C6248339D__GUID-122E495C-1C3A-4B0D-90CA-C88E9504C8E3">Return Values</p>
                        <p>A PL/SQL type table</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-98BB5243-873B-4C7F-B8EC-569C6248339D__GUID-5930B710-01AF-4066-ABBF-731B3F2A4560">Usage Notes</p>
                        <p>This function uses plan information stored in the plan baseline to explain and display the plans. The <code class="codeph">plan_id</code> stored in the SQL management base may not match the <code class="codeph">plan_id</code> of the generated plan. A mismatch between the stored <code class="codeph">plan_id</code> and generated <code class="codeph">plan_id</code> means that it is a non-reproducible plan. Such a plan is deemed invalid and is bypassed by the optimizer during SQL compilation.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-98BB5243-873B-4C7F-B8EC-569C6248339D__GUID-2185AD8C-45B5-4C05-8004-BD75797323C1">Examples</p>
                        <p>Display all plans of a SQL statement identified by the SQL handle <code class="codeph">SYS_SQL_b1d49f6074ab95af</code> using <code class="codeph">TYPICAL</code> format
                        </p><pre class="pre codeblock"><code>SET LINESIZE 150
SET PAGESIZE 2000
SELECT t.*
FROM TABLE(DBMS_XPLAN.DISPLAY_SQL_PLAN_BASELINE('SYS_SQL_b1d49f6074ab95af')) t;</code></pre><p>Display all plans of one or more SQL statements containing the string <code class="codeph">HR2</code> using <code class="codeph">BASIC</code> format:
                        </p><pre class="pre codeblock"><code>SET LINESIZE 150
SET PAGESIZE 2000
SELECT t.*
FROM (SELECT DISTINCT sql_handle FROM dba_sql_plan_baselines WHERE sql_text LIKE '%HR2%') pb,
     TABLE(DBMS_XPLAN.DISPLAY_SQL_PLAN_BASELINE(pb.sql_handle, NULL, 'BASIC')) t;</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS70142"></a><a id="ARPLS70143"></a><a id="ARPLS70143"></a><a id="ARPLS70142"></a><div class="props_rev_3"><a id="GUID-F935EACB-5FBB-4544-91DE-072C7CDA983C" name="GUID-F935EACB-5FBB-4544-91DE-072C7CDA983C"></a><h4 id="ARPLS-GUID-F935EACB-5FBB-4544-91DE-072C7CDA983C" class="sect4"><span class="enumeration_section">206.5.8 </span>DISPLAY_SQLSET Function
                  </h4>
                  <div>
                     <p><span>This table function displays the execution plan of a given statement stored in a SQL tuning set.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F935EACB-5FBB-4544-91DE-072C7CDA983C__GUID-D56C10EC-BCDC-4563-8B81-23D857C16E33">Syntax</p><pre class="pre codeblock"><code>DBMS_XPLAN.DISPLAY_SQLSET(
   sqlset_name      IN  VARCHAR2, 
   sql_id           IN  VARCHAR2,
   plan_hash_value  IN NUMBER := NULL,
   format           IN  VARCHAR2  := 'TYPICAL', 
   sqlset_owner     IN  VARCHAR2  := NULL)
  RETURN DBMS_XPLAN_TYPE_TABLE PIPELINED;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F935EACB-5FBB-4544-91DE-072C7CDA983C__GUID-33969DF3-C9ED-4F7F-ADD9-EB21E49A9A4B">Parameters</p>
                        <div class="tblformal" id="GUID-F935EACB-5FBB-4544-91DE-072C7CDA983C__GUID-3384EACA-57C2-422F-8571-DFE1A371932A">
                           <p class="titleintable">Table 206-10 DISPLAY_SQLSET Function Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DISPLAY_SQLSET Function Parameters " width="100%" border="1" summary="This table describes the Parameters of DBMS_XPLAN.DISPLAY_SQLSET subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d1282853e3731">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d1282853e3734">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e3739" headers="d1282853e3731 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e3739 d1282853e3734 ">
                                       <p>Name of the SQL Tuning Set</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e3747" headers="d1282853e3731 ">
                                       <p><code class="codeph">sql_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e3747 d1282853e3734 ">
                                       <p>Specifies the sql_id value for a SQL statement having its plan stored in the SQL tuning set. You can find all stored SQL statements by querying table function<code class="codeph"> DBMS_SQLTUNE.SELECT_SQLSET</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e3757" headers="d1282853e3731 ">
                                       <p><code class="codeph">plan_hash_value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e3757 d1282853e3734 ">
                                       <p>Optional parameter. Identifies a specific stored execution plan for a SQL statement. If suppressed, all stored execution plans are shown.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e3765" headers="d1282853e3731 ">
                                       <p><code class="codeph">format</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e3765 d1282853e3734 ">
                                       <p>Controls the level of details for the plan. It accepts four values:</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">BASIC</code>: Displays the minimum information in the plan—the operation ID, the operation name and its option.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code>: This is the default. Displays the most relevant information in the plan (operation id, name and option, #rows, #bytes and optimizer cost). Pruning, parallel and predicate information are only displayed when applicable. Excludes only <code class="codeph">PROJECTION</code>, <code class="codeph">ALIAS</code> and <code class="codeph">REMOTE</code> <code class="codeph">SQL</code> information (see below).
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SERIAL</code>: Like <code class="codeph">TYPICAL</code> except that the parallel information is not displayed, even if the plan executes in parallel.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code>: Maximum user level. Includes information displayed with the <code class="codeph">TYPICAL</code> level with additional information (<code class="codeph">PROJECTION</code>, <code class="codeph">ALIAS</code> and information about <code class="codeph">REMOTE</code> <code class="codeph">SQL</code> if the operation is distributed).
                                             </p>
                                          </li>
                                       </ul>
                                       <p>For finer control on the display output, the following keywords can be added to the above three standard format options to customize their default behavior. Each keyword either represents a logical group of plan table columns (such as <code class="codeph">PARTITION</code>) or logical additions to the base plan table output (such as <code class="codeph">PREDICATE</code>). Format keywords must be separated by either a comma or a space:
                                       </p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ROWS</code> - if relevant, shows the number of rows estimated by the optimizer
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BYTES</code> - if relevant, shows the number of bytes estimated by the optimizer
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">COST</code> - if relevant, shows optimizer cost information
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARTITION</code> - if relevant, shows partition pruning information
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARALLEL</code> - if relevant, shows PX information (distribution method and table queue information)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PREDICATE</code> - if relevant, shows the predicate section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROJECTION</code> -if relevant, shows the projection section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALIAS</code> - if relevant, shows the "Query Block Name / Object Alias" section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">REMOTE</code> - if relevant, shows the information for distributed query (for example, remote from serial distribution and remote SQL)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NOTE</code> - if relevant, shows the note section of the explain plan
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">IOSTATS</code> - assuming that basic plan statistics are collected when SQL statements are executed (either by using the <code class="codeph">gather_plan_statistics</code> hint or by setting the parameter <code class="codeph">STATISTICS_LEVEL</code> to <code class="codeph">ALL</code>), this format shows IO statistics for <code class="codeph">ALL</code> (or only for the <code class="codeph">LAST</code> as shown below) executions of the cursor.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MEMSTATS</code> - Assuming that PGA memory management is enabled (that is, <code class="codeph">pga_aggregate_target</code> parameter is set to a non 0 value), this format allows to display memory management statistics (for example, execution mode of the operator, how much memory was used, number of bytes spilled to disk, and so on). These statistics only apply to memory intensive operations like hash-joins, sort or some bitmap operators.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALLSTATS</code> - A shortcut for <code class="codeph">'IOSTATS MEMSTATS'</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LAST</code> - By default, plan statistics are shown for all executions of the cursor. The keyword <code class="codeph">LAST</code> can be specified to see only the statistics for the last execution.
                                             </p>
                                          </li>
                                       </ul>
                                       <p>The following two formats are deprecated but supported for backward compatibility:</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">RUNSTATS_TOT</code> - Same as <code class="codeph">IOSTATS,</code> that is, displays IO statistics for all executions of the specified cursor.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">RUNSTATS_LAST</code> - Same as <code class="codeph">IOSTATS</code> <code class="codeph">LAST</code>, that is, displays the runtime statistics for the last execution of the cursor
                                             </p>
                                          </li>
                                       </ul>
                                       <p>Format keywords can be prefixed by the sign '<code class="codeph">-</code>' to exclude the specified information. For example, '<code class="codeph">-PROJECTION</code>' excludes projection information.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e3957" headers="d1282853e3731 ">
                                       <p><code class="codeph">sqlset_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e3957 d1282853e3734 ">
                                       <p>The owner of the SQL tuning set. The default is the current user.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F935EACB-5FBB-4544-91DE-072C7CDA983C__GUID-4C93F93B-FF9E-485F-9D33-8F07EEF4097E">Usage Notes</p>
                        <p>Here are some ways you might use variations on the <code class="codeph">format</code> parameter:
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Use '<code class="codeph">ALL -PROJECTION -NOTE</code>' to display everything except the projection and note sections.
                              </p>
                           </li>
                           <li>
                              <p>Use '<code class="codeph">TYPICAL PROJECTION</code>' to display using the typical format with the additional projection section (which is normally excluded under the typical format). Since typical is default, using simply '<code class="codeph">PROJECTION</code>' is equivalent.
                              </p>
                           </li>
                           <li>
                              <p>Use '<code class="codeph">-BYTES -COST -PREDICATE</code>' to display using the typical format but excluding optimizer cost and byte estimates as well as the predicate section.
                              </p>
                           </li>
                           <li>
                              <p>Use '<code class="codeph">BASIC ROWS</code>' to display basic information with the additional number of rows estimated by the optimizer.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F935EACB-5FBB-4544-91DE-072C7CDA983C__GUID-03F0F497-E1B9-45FE-9552-8AE8938A3CD9">Examples</p>
                        <p>To display the execution plan for the SQL statement associated with SQL ID '<code class="codeph">gwp663cqh5qbf</code>' and <code class="codeph">PLAN</code> <code class="codeph">HASH</code> <code class="codeph">3693697075</code> in the SQL Tuning Set called '<code class="codeph">OLTP_optimization_0405</code>":
                        </p><pre class="pre codeblock"><code>SELECT * FROM table (DBMS_XPLAN.DISPLAY_SQLSET('OLTP_optimization_0405','gwp663cqh5qbf', 3693697075));
</code></pre><p>To display all execution plans of the SQL ID '<code class="codeph">atfwcg8anrykp</code>' stored in the SQL tuning set:
                        </p><pre class="pre codeblock"><code>SELECT * FROM table (DBMS_XPLAN.DISPLAY_SQLSET('OLTP_optimization_0405','gwp663cqh5qbf'));
</code></pre><p>To display runtime statistics for the SQL statement included in the preceding statement:</p><pre class="pre codeblock"><code>SELECT * FROM table (
   DBMS_XPLAN.DISPLAY_SQLSET(
      'OLTP_optimization_0405', 'gwp663cqh5qbf', NULL, 'ALLSTATS LAST');</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-D416125C-FED5-4704-A371-B5EECFCE1429" name="GUID-D416125C-FED5-4704-A371-B5EECFCE1429"></a><h4 id="ARPLS-GUID-D416125C-FED5-4704-A371-B5EECFCE1429" class="sect4"><span class="enumeration_section">206.5.9 </span>DISPLAY_WORKLOAD_REPOSITORY Function
                  </h4>
                  <div>
                     <p><span>This table function displays the contents of an execution plan stored in AWR.</span></p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-D416125C-FED5-4704-A371-B5EECFCE1429__GUID-8AACAC5D-5301-4B9C-B9B0-446489160EEB">
                           <p class="notep1">Note:</p>
                           <p>This function replaces <code class="codeph">DISPLAY_AWR</code>, which is deprecated.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D416125C-FED5-4704-A371-B5EECFCE1429__GUID-B48DC183-3CEF-45B6-90F9-C485E8B2FA70">Syntax</p><pre class="pre codeblock"><code>DBMS_XPLAN.DISPLAY_WORKLOAD_REPOSITORY(
   sql_id            IN      VARCHAR2,
   plan_hash_value   IN      NUMBER   DEFAULT NULL,
   format            IN      VARCHAR2 DEFAULT 'TYPICAL'
   dbid              IN      NUMBER   DEFAULT NULL,
   con_dbid          IN      NUMBER   DEFAULT NULL,
   awr_location      IN      VARCHAR2 DEFAULT 'AWR_ROOT'
);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D416125C-FED5-4704-A371-B5EECFCE1429__GUID-BE706068-4ABC-4224-B9AD-336FF15EBEF5">Parameters</p>
                        <div class="tblformal" id="GUID-D416125C-FED5-4704-A371-B5EECFCE1429__DISPLAY_AWRTABLEFUNCTIONPARAMETERS-D975C393">
                           <p class="titleintable">Table 206-11 DISPLAY_WORKLOAD_REPOSITORY Table Function Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DISPLAY_WORKLOAD_REPOSITORY Table Function Parameters " width="100%" border="1" summary="This table describes the Parameters of DBMS_XPLAN.DISPLAY_WORKLOAD_REPOSITORY subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d1282853e4145">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d1282853e4148">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e4153" headers="d1282853e4145 ">
                                       <p><code class="codeph">sql_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e4153 d1282853e4148 ">
                                       <p>Specifies the <code class="codeph">SQL_ID</code> of the SQL statement.
                                       </p>
                                       <p>You can retrieve the appropriate value for the SQL statement of interest by querying the column <code class="codeph">SQL_ID</code> in <code class="codeph">DBA_HIST_SQLTEXT</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e4172" headers="d1282853e4145 ">
                                       <p><code class="codeph">plan_hash_value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e4172 d1282853e4148 ">
                                       <p>Specifies the <code class="codeph">PLAN_HASH_VALUE</code> of a SQL statement. 
                                       </p>
                                       <p>This parameter is optional. If omitted, the table function returns all stored execution plans for a given <code class="codeph">SQL_ID</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e4188" headers="d1282853e4145 ">
                                       <p><code class="codeph">format</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e4188 d1282853e4148 ">
                                       <p>Controls the level of details for the plan. It accepts four values:</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">BASIC</code>: Displays the minimum information in the plan—the operation ID, the operation name and its option.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code>: This is the default. Displays the most relevant information in the plan (operation id, name and option, #rows, #bytes and optimizer cost). Pruning, parallel and predicate information are only displayed when applicable. Excludes only <code class="codeph">PROJECTION</code>, <code class="codeph">ALIAS</code> and <code class="codeph">REMOTE</code> <code class="codeph">SQL</code> information (see below).
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SERIAL</code>: Like <code class="codeph">TYPICAL</code> except that the parallel information is not displayed, even if the plan executes in parallel.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code>: Maximum user level. Includes information displayed with the <code class="codeph">TYPICAL</code> level with additional information (<code class="codeph">PROJECTION</code>, <code class="codeph">ALIAS</code> and information about <code class="codeph">REMOTE</code> <code class="codeph">SQL</code> if the operation is distributed).
                                             </p>
                                          </li>
                                       </ul>
                                       <p>For finer control on the display output, the following keywords can be added to the above four standard format options to customize their default behavior. Each keyword either represents a logical group of plan table columns (such as <code class="codeph">PARTITION</code>) or logical additions to the base plan table output (such as <code class="codeph">PREDICATE</code>). Format keywords must be separated by either a comma or a space:
                                       </p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ROWS</code> - if relevant, shows the number of rows estimated by the optimizer
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BYTES</code> - if relevant, shows the number of bytes estimated by the optimizer
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">COST</code> - if relevant, shows optimizer cost information
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARTITION</code> - if relevant, shows partition pruning information
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARALLEL</code> - if relevant, shows PX information (distribution method and table queue information)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PREDICATE</code> - if relevant, shows the predicate section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROJECTION</code> -if relevant, shows the projection section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALIAS</code> - if relevant, shows the "Query Block Name / Object Alias" section
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">REMOTE</code> - if relevant, shows the information for distributed query (for example, remote from serial distribution and remote SQL)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NOTE</code> - if relevant, shows the note section of the explain plan
                                             </p>
                                          </li>
                                       </ul>
                                       <p>Format keywords can be prefixed by the sign '<code class="codeph">-</code>' to exclude the specified information. For example, '<code class="codeph">-PROJECTION</code>' excludes projection information.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e4314" headers="d1282853e4145 ">
                                       <p><code class="codeph">dbid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e4314 d1282853e4148 ">
                                       <p>Identifies the plans for a specific database.</p>
                                       <p>If this parameter is omitted, then the value defaults to the DBID of the AWR repository pointed to by the initialization parameter <code class="codeph">AWR_LOCATION</code>. In a CDB, if <code class="codeph">AWR_LOCATION</code> is set to <code class="codeph">AWR_ROOT</code>, then the value is set to the DBID of the CDB root. If it is set to <code class="codeph">AWR_PDB</code>, then the value is set to the DBID of the container.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e4336" headers="d1282853e4145 ">
                                       <p><code class="codeph">con_dbid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e4336 d1282853e4148 ">
                                       <p>Identifies the plans for a specific container. </p>
                                       <p>If this parameter is omitted, then the value defaults to <code class="codeph">SYS_CONTEXT('userenv', 'con_id')</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1282853e4349" headers="d1282853e4145 ">
                                       <p><code class="codeph">awr_location</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d1282853e4349 d1282853e4148 ">
                                       <p>Specifies the location of the AWR repository. Supported values are:</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">AWR_ROOT</code> when the AWR to be accessed is in the root container. This is the default.
                                             </p>
                                          </li>
                                          <li>
                                             <p>'AWR_PDB',  if the AWR to be accessed is in the local container.</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D416125C-FED5-4704-A371-B5EECFCE1429__GUID-C96F18D0-C20B-4884-8329-0CAC5187A4D6">
                        <p class="titleinexample">Example 206-2 Querying an AWR Plan</p>
                        <p>Assume that you log in as an administrator and issue the following query:</p><pre class="pre codeblock"><code>select count(*) from sh.sAleS</code></pre><p>You create an AWR snapshot as follows:</p><pre class="pre codeblock"><code>EXEC DBMS_WORKLOAD_REPOSITORY.CREATE_SNAPSHOT;</code></pre><p>You query joint <code class="codeph">DBA_HIST_SQLTEST</code> to the function output as follows:
                        </p><pre class="pre codeblock"><code>SET LINESIZE 150
SET PAGESIZE 5000

SELECT t.*
FROM   DBA_HIST_SQLTEXT ht, 
       TABLE(DBMS_XPLAN.DISPLAY_WORKLOAD_REPOSITORY
         (ht.sql_id, null, '-PREDICATE +ALIAS',null,null,'AWR_ROOT')) t
WHERE  ht.SQL_TEXT LIKE '%sAleS%';

SQL_ID 2f4cx9qjnqd70
--------------------
select count(*) from sh.sAleS

Plan hash value: 1123225294

----------------------------------------------------------------------------------------------------------
| Id  | Operation                      | Name            | Rows  | Cost (%CPU)| Time     | Pstart| Pstop |
----------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT               |                 |       |    27 (100)|          |       |       |
|   1 |  SORT AGGREGATE                |                 |     1 |            |          |       |       |
|   2 |   PARTITION RANGE ALL          |                 |   918K|    27   (0)| 00:00:01 |     1 |    28 |
|   3 |    BITMAP CONVERSION COUNT     |                 |   918K|    27   (0)| 00:00:01 |       |       |
|   4 |     BITMAP INDEX FAST FULL SCAN| SALES_PROMO_BIX |       |            |          |     1 |    28 |
----------------------------------------------------------------------------------------------------------

Query Block Name / Object Alias (identified by operation id):
-------------------------------------------------------------

   1 - SEL$1
   3 - SEL$1 / "SALES"@"SEL$1"
</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>