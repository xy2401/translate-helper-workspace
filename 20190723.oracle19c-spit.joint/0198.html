<html id="04693.environment-class.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>环境类</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-c-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-06T02:31:59-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96205-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="date-class.html" title="Previous" type="text/html"></link>
      <link rel="next" href="intervalds-class.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle C++ Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNCPP"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="date-class.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="intervalds-class.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="occi-application-programing-interface.html" property="item" typeof="WebPage"><span property="name">OCCI应用程序编程接口</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">环境类</li>
            </ol>
            <a id="GUID-98598A9C-BED1-46CF-9A10-4F2A56B74BF9" name="GUID-98598A9C-BED1-46CF-9A10-4F2A56B74BF9"></a><a id="LNCPP20943"></a><a id="LNCPP20944"></a><a id="LNCPP1010"></a>
            
            <h2 id="LNCPP-GUID-98598A9C-BED1-46CF-9A10-4F2A56B74BF9" class="sect2"><span class="enumeration_section">13.14</span>环境等级</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>Environment类提供OCCI环境来管理OCCI对象的内存和其他资源。</p>
                  <p>该应用程序可以具有多个OCCI环境。每个环境都有自己的堆和线程安全互斥体。</p>
               </div>
               <!-- class="section" -->
               <div class="tblformal" id="GUID-98598A9C-BED1-46CF-9A10-4F2A56B74BF9__BBAFGGHB">
                  <p class="titleintable">表13-17 Environment Class使用的枚举值</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="环境类使用的枚举值" width="100%" border="1" summary="First column lists the attribute used by the class, the second column describes the options available to each attribute" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="14%" id="d120912e99">属性</th>
                           <th align="left" valign="bottom" width="86%" id="d120912e102">选项</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="14%" id="d120912e107" headers="d120912e99 "><pre class="oac_no_warn" dir="ltr">模式</pre></td>
                           <td align="left" valign="top" width="86%" headers="d120912e107 d120912e102 ">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">DEFAULT</code>用于创建Environment对象;它没有线程安全或对象支持。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OBJECT</code>用于创建Environment对象;它使用对象功能。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SHARED</code>用于创建Environment对象。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NO_USERCALLBACKS</code>用于创建Environment对象;它不支持用户回调。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">THREADED_MUTEXED</code>是一种线程安全模式，用于创建环境对象，由OCCI在内部进行互斥。</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">THREADED_UNMUTEXED</code>是一种用于创建Environment对象的线程安全模式;客户负责静音。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">EVENTS</code>支持注册Oracle数据库高级队列中使用的事件通知。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">USE_LDAP</code>支持LDAP注册。</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="tblformal" id="GUID-98598A9C-BED1-46CF-9A10-4F2A56B74BF9__GUID-5659CAFF-74B0-4C4B-A464-A619007BB4B2">
                  <p class="titleintable">表13-18环境方法摘要</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="环境方法综述" width="100%" border="1" summary="First column lists methods; second column provides description of these methods." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="40%" id="d120912e162">方法</th>
                           <th align="left" valign="bottom" width="60%" id="d120912e165">摘要</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e170" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-A2D499B0-5494-48F0-AFBE-974351E3C9DA">的createConnection（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e170 d120912e165 ">
                              <p>建立与指定数据库的连接。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e178" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-8F76AF49-C633-47AA-AE17-0859D4239B74">createConnectionPool（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e178 d120912e165 ">
                              <p>创建连接池。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e187" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-FBDA4841-F927-4B27-B35F-D94DB266198B">createEnvironment（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e187 d120912e165 ">
                              <p>创建一个<code class="codeph">Environment</code>对象。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e199" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-0CC9175A-255B-49ED-A23B-5BE924603BE7">createStatelessConnectionPool（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e199 d120912e165 ">
                              <p>创建无状态连接池。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e208" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-F92A2A9F-B78B-4574-BAA3-7AA709D1AEFF">enableSubscription（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e208 d120912e165 ">
                              <p>启用订阅通知</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e216" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-1F165B39-D095-4306-B478-BDD7C4AB5B11">disableSubscription（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e216 d120912e165 ">
                              <p>禁用订阅通知</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e224" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-A7089256-A3B9-4214-865E-E9B7C27EFBEE">getCacheMaxSize（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e224 d120912e165 ">
                              <p>检索Cache Max堆大小。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e232" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-C9269805-5182-426A-B9AA-7FF8383014D6">getCacheOptSize（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e232 d120912e165 ">
                              <p>检索缓存最佳堆大小。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e240" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-19F3EBE6-F1A4-4085-BBEE-1FBA75031948">getCacheSortedFlush（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e240 d120912e165 ">
                              <p>检索缓存排序标志的设置。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e248" headers="d120912e162 ">
                              <p><a href="connection-class.html#GUID-5EED8BC7-3DF9-4A5D-BA8F-123554F8794C">getClientVersion（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e248 d120912e165 ">
                              <p>返回客户端库的版本。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e256" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-F478EAC3-139E-4880-94F4-9CC2B7A3FDA6">getCurrentHeapSize（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e256 d120912e165 ">
                              <p>返回分配给当前环境中所有对象的当前内存量。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e265" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-D4FFBACE-B124-462D-A227-D6DB8D850995">getLDAPAdminContext（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e265 d120912e165 ">
                              <p>使用LDAP打开通知注册时返回管理上下文。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e273" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-AA94E53A-1229-49A7-9A6C-798EDA2B1F1E">getLDAPAuthentication（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e273 d120912e165 ">
                              <p>使用LDAP打开通知注册时返回身份验证模式。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e281" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-C5970916-69FB-4305-89E5-E999EF9365E4">getLDAPHost（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e281 d120912e165 ">
                              <p>返回运行LDAP服务器的主机。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e289" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-049AAF20-05C2-49C1-B5DF-53DA39A211C5">getLDAPPort（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e289 d120912e165 ">
                              <p>返回LDAP服务器正在侦听的端口。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e297" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-370993F1-8D9A-454F-822C-CE6306A6F1C5">getMap（）</a> （）</p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e297 d120912e165 ">
                              <p>返回当前环境的Map。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e306" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-DE17D8F5-D11D-40B3-83C9-A9CF9BF26F45">getNLSLanguage（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e306 d120912e165 ">
                              <p>返回当前环境的NLS语言。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e314" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-00166654-4572-4A09-83E6-3D944EA88E1D">getNLSTerritory（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e314 d120912e165 ">
                              <p>返回当前环境的NLS Territory。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e322" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-16770CFD-13B9-48FF-BE3C-DC28FA35B00E">getOCIEnvironment（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e322 d120912e165 ">
                              <p>返回与当前环境关联的OCI环境。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e330" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-F7C1E44C-436E-4FC5-B5EA-4097771D53BE">getXAConnection（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e330 d120912e165 ">
                              <p>创建与数据库的XA连接。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e338" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-E30927DF-E70F-48B2-AD68-57A0DB9617C6">getXAEnvironment（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e338 d120912e165 ">
                              <p>创建XA <code class="codeph">Environment</code>对象。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e349" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-540604DF-9933-45F1-9626-5CB8A3F2A296">releaseXAConnection（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e349 d120912e165 ">
                              <p>释放由<a href="environment-class.html#GUID-F7C1E44C-436E-4FC5-B5EA-4097771D53BE">getXAConnection（）</a>调用分配的所有资源。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e361" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-DA8426A4-29DD-497C-B86C-1BB1F2AEBB16">releaseXAEnvironment（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e361 d120912e165 ">
                              <p>释放<a href="environment-class.html#GUID-E30927DF-E70F-48B2-AD68-57A0DB9617C6">getXAEnvironment（）</a>调用分配的所有资源。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e372" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-5E0F5E54-1233-4BCC-87A9-7FABDFC5B9E7">setCacheMaxSize（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e372 d120912e165 ">
                              <p>将客户端对象缓存的最大大小指定为最佳大小的百分比。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e380" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-6AB044A6-2F99-434B-9651-0780264A5862">setCacheOptSize（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e380 d120912e165 ">
                              <p>指定客户端对象高速缓存的最佳大小（以字节为单位）。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e388" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-BC795ED0-8FAC-485B-A46C-8888EACF5E94">setCacheSortedFlush（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e388 d120912e165 ">
                              <p>指定在刷新之前是否按表顺序对缓存进行排序。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e396" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-4CD1FFD9-FA6B-498E-8297-F038B20DCB5C">setLDAPAdminContext（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e396 d120912e165 ">
                              <p>指定LDAP客户端的管理上下文。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e404" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-9219C604-49D9-4263-891A-641550CBE106">setLDAPAuthentication（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e404 d120912e165 ">
                              <p>指定LDAP身份验证模式。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e412" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-E3C03EF7-721C-4FD1-9A81-FD43543F506F">setLDAPHostAndPort（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e412 d120912e165 ">
                              <p>指定LDAP服务器主机和端口。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e420" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-D3D45CFC-8BD7-4C9C-8EFE-534DE65B2F94">setLDAPLoginNameAndPassword（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e420 d120912e165 ">
                              <p>指定连接LDAP服务器时的登录名和密码。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e428" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-1A443A99-85BC-40EE-8D10-A81FA7DCD9E6">setNLSLanguage（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e428 d120912e165 ">
                              <p>指定当前环境的NLS语言。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e436" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-543825AC-23A9-4C7C-85E5-A2B42F06C99B">setNLSTerritory（）</a> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e436 d120912e165 ">
                              <p>指定当前环境的NLS区域。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e445" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-C0C20A14-2404-4091-AF1B-C49BC3B98EAF">terminateConnection（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e445 d120912e165 ">
                              <p>关闭连接池并释放所有相关资源。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e454" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-2299AB7D-C028-4B8E-AF0A-C788254C7318">terminateConnectionPool（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e454 d120912e165 ">
                              <p>关闭连接池并释放所有相关资源。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e462" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-8334BA8B-E696-4694-9B5E-6833F7939301">terminateEnvironment（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e462 d120912e165 ">
                              <p>破坏环境。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d120912e470" headers="d120912e162 ">
                              <p><a href="environment-class.html#GUID-995DD530-7CE2-4E10-BFE8-405F2A233CF8">terminateStatelessConnectionPool（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d120912e470 d120912e165 ">
                              <p>关闭无状态连接池并释放所有相关资源。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNCPP20945"></a><div class="props_rev_3"><a id="GUID-A2D499B0-5494-48F0-AFBE-974351E3C9DA" name="GUID-A2D499B0-5494-48F0-AFBE-974351E3C9DA"></a><h3 id="LNCPP-GUID-A2D499B0-5494-48F0-AFBE-974351E3C9DA" class="sect3"><span class="enumeration_section">13.14.1</span> createConnection（）</h3>
               <div>
                  <div class="section">
                     <p>此方法建立与指定数据库的连接。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-A2D499B0-5494-48F0-AFBE-974351E3C9DA__GUID-27917D8B-9D85-4A7E-9338-29599BE37CF0">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists versions of the method; second column provides descriptions of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="64%" id="d120912e552">句法</th>
                              <th align="left" valign="bottom" width="36%" id="d120912e555">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="64%" id="d120912e560" headers="d120912e552 "><pre class="oac_no_warn" dir="ltr">Connection * createConnection（const string＆userName，const string＆password，const string＆connectString =“”）= 0;</pre></td>
                              <td align="left" valign="top" width="36%" headers="d120912e560 d120912e555 ">
                                 <p>创建默认连接;如果<code class="codeph">userName</code>和<code class="codeph">password</code>为<code class="codeph">NULL</code> ，则可以在外部对连接进行身份验证。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="64%" id="d120912e576" headers="d120912e552 "><pre class="oac_no_warn" dir="ltr">Connection * createConnection（const UString＆userName，const UString＆password，const UString＆connectString）= 0;</pre></td>
                              <td align="left" valign="top" width="36%" headers="d120912e576 d120912e555 ">
                                 <p>创建连接（Unicode支持）。应在<code class="codeph">OCCIUTIF16</code>模式下初始化客户端<code class="codeph">Environment</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="64%" id="d120912e589" headers="d120912e552 "><pre class="oac_no_warn" dir="ltr">Connection * createConnection（const string＆userName，const string＆password，const string＆connectString，const string＆connectionClass，const Connection :: Purity＆purity）= 0;</pre></td>
                              <td align="left" valign="top" width="36%" headers="d120912e589 d120912e555 ">
                                 <p>为数据库驻留连接池创建连接。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="64%" id="d120912e596" headers="d120912e552 "><pre class="oac_no_warn" dir="ltr">Connection * createConnection（const UString＆userName，const UString＆password，const UString＆connectString，const UString＆connectionClass const Connection :: Purity＆purity）= 0;</pre></td>
                              <td align="left" valign="top" width="36%" headers="d120912e596 d120912e555 ">
                                 <p>为数据库驻留连接池创建连接（Unicode支持）。应在<code class="codeph">OCCIUTIF16</code>模式下初始化客户端<code class="codeph">Environment</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-A2D499B0-5494-48F0-AFBE-974351E3C9DA__GUID-EFDA2597-DD8D-4FD6-AF16-2335934C89E0">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e616">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e619">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e624" headers="d120912e616 "><pre class="oac_no_warn" dir="ltr">用户名</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e624 d120912e619 ">
                                 <p>要连接的用户的名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e631" headers="d120912e616 "><pre class="oac_no_warn" dir="ltr">密码</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e631 d120912e619 ">
                                 <p>用户的密码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e638" headers="d120912e616 "><pre class="oac_no_warn" dir="ltr">CONNECTSTRING</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e638 d120912e619 ">
                                 <p>进行连接的数据库。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e645" headers="d120912e616 "><pre class="oac_no_warn" dir="ltr">纯度</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e645 d120912e619 ">
                                 <p>用于数据库驻留连接池的连接的纯度; <code class="codeph">SELF</code>或<code class="codeph">NEW</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e658" headers="d120912e616 "><pre class="oac_no_warn" dir="ltr">connectionClass</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e658 d120912e619 ">
                                 <p>用于数据库驻留连接池的连接类。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20946"></a><div class="props_rev_3"><a id="GUID-8F76AF49-C633-47AA-AE17-0859D4239B74" name="GUID-8F76AF49-C633-47AA-AE17-0859D4239B74"></a><h3 id="LNCPP-GUID-8F76AF49-C633-47AA-AE17-0859D4239B74" class="sect3"><span class="enumeration_section">13.14.2</span> createConnectionPool（）</h3>
               <div>
                  <div class="section">
                     <p>根据指定的参数创建连接池。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-8F76AF49-C633-47AA-AE17-0859D4239B74__GUID-C71AF0D4-67A6-4245-BBD7-63F5A720D1B0">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists versions of the method; second column provides descriptions of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="61%" id="d120912e739">句法</th>
                              <th align="left" valign="bottom" width="39%" id="d120912e742">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="61%" id="d120912e747" headers="d120912e739 "><pre class="oac_no_warn" dir="ltr">ConnectionPool * createConnectionPool（const string＆poolUserName，const string＆poolPassword，const string＆connectString =“”，unsigned int minConn = 0，unsigned int maxConn = 1，unsigned int incrConn = 1）= 0;</pre></td>
                              <td align="left" valign="top" width="39%" headers="d120912e747 d120912e742 ">
                                 <p>创建默认连接池。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="61%" id="d120912e754" headers="d120912e739 "><pre class="oac_no_warn" dir="ltr">ConnectionPool * createConnectionPool（const UString＆poolUserName，const UString＆poolPassword，const UString＆connectString，unsigned int minConn = 0，unsigned int maxConn = 1，unsigned int incrConn = 1）= 0;</pre></td>
                              <td align="left" valign="top" width="39%" headers="d120912e754 d120912e742 ">
                                 <p>创建连接池（Unicode支持）。应在<code class="codeph">OCCIUTIF16</code>模式下初始化客户端<code class="codeph">Environment</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-8F76AF49-C633-47AA-AE17-0859D4239B74__GUID-B6D38E54-997F-4FB2-883B-C0BE558C50B5">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="24%" id="d120912e774">参数</th>
                              <th align="left" valign="bottom" width="76%" id="d120912e777">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d120912e782" headers="d120912e774 "><pre class="oac_no_warn" dir="ltr">poolUserName</pre></td>
                              <td align="left" valign="top" width="76%" headers="d120912e782 d120912e777 ">
                                 <p>池用户名。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d120912e789" headers="d120912e774 "><pre class="oac_no_warn" dir="ltr">poolPassword</pre></td>
                              <td align="left" valign="top" width="76%" headers="d120912e789 d120912e777 ">
                                 <p>池密码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d120912e796" headers="d120912e774 "><pre class="oac_no_warn" dir="ltr">CONNECTSTRING</pre></td>
                              <td align="left" valign="top" width="76%" headers="d120912e796 d120912e777 ">
                                 <p>服务器的连接字符串</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d120912e803" headers="d120912e774 "><pre class="oac_no_warn" dir="ltr">minConn</pre></td>
                              <td align="left" valign="top" width="76%" headers="d120912e803 d120912e777 ">
                                 <p>池中的最小连接数。此方法打开最小连接数。仅在必要时才打开其他连接。通常， <code class="codeph">minConn</code>应设置为应用程序预期运行的并发语句数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d120912e813" headers="d120912e774 "><pre class="oac_no_warn" dir="ltr">MAXCONN</pre></td>
                              <td align="left" valign="top" width="76%" headers="d120912e813 d120912e777 ">
                                 <p>池中的最大连接数。有效值为1或更大。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d120912e820" headers="d120912e774 "><pre class="oac_no_warn" dir="ltr">incrConn</pre></td>
                              <td align="left" valign="top" width="76%" headers="d120912e820 d120912e777 ">
                                 <p>如果当前连接数小于<code class="codeph">maxConn</code> ，则增加要打开的连接数的增量。有效值为1或更大。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20947"></a><div class="props_rev_3"><a id="GUID-FBDA4841-F927-4B27-B35F-D94DB266198B" name="GUID-FBDA4841-F927-4B27-B35F-D94DB266198B"></a><h3 id="LNCPP-GUID-FBDA4841-F927-4B27-B35F-D94DB266198B" class="sect3"><span class="enumeration_section">13.14.3</span> createEnvironment（）</h3>
               <div>
                  <div class="section">
                     <p>创建一个<code class="codeph">Environment</code>对象。它是使用<code class="codeph">setMemMgrFunctions()</code>方法中指定的指定内存管理函数创建的。如果未指定内存管理器函数，则OCCI使用其自己的默认函数。最终必须关闭<code class="codeph">Environment</code>对象以释放它已获取的所有系统资源。
                     </p>
                     <p>如果<code class="codeph">Mode</code>被指定为任一<code class="codeph">THREADED_MUTEXED</code>或T <code class="codeph">HREADED_UNMUTEXED</code>中定义<a href="environment-class.html#GUID-98598A9C-BED1-46CF-9A10-4F2A56B74BF9__BBAFGGHB" title="第一列列出类使用的属性，第二列描述每个属性可用的选项">表13-17</a> ，则所有三个存储器管理功能必须是线程安全的。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-FBDA4841-F927-4B27-B35F-D94DB266198B__GUID-4A395032-39C6-40E0-B9E4-F41F90BC3A14">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists versions of the method; second column provides descriptions of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="58%" id="d120912e930">句法</th>
                              <th align="left" valign="bottom" width="42%" id="d120912e933">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="58%" id="d120912e938" headers="d120912e930 "><pre class="oac_no_warn" dir="ltr">static Environment * createEnvironment（模式模式= DEFAULT，void * ctxp = 0，void *（* malocfp）（void * ctxp，size_t size）= 0，void *（* ralocfp）（void * ctxp，void * memptr，size_t newsize ）= 0，void（* mfreefp）（void * ctxp，void * memptr）= 0）;</pre></td>
                              <td align="left" valign="top" width="42%" headers="d120912e938 d120912e933 ">
                                 <p>创建默认环境。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="58%" id="d120912e945" headers="d120912e930 "><pre class="oac_no_warn" dir="ltr">static Environment * createEnvironment（const string＆charset，const string＆ncharset，Mode mode = DEFAULT，void * ctxp = 0，void *（* malocfp）（void * ctxp，size_t size）= 0，void *（* ralocfp）（void * ctxp，void * memptr，size_t newsize）= 0，void（* mfreefp）（void * ctxp，void * memptr）= 0）;</pre></td>
                              <td align="left" valign="top" width="42%" headers="d120912e945 d120912e933 ">
                                 <p>创建具有指定字符集和<code class="codeph">NCHAR</code>字符集ID的环境（Unicode支持）。应在<code class="codeph">OCCIUTIF16</code>模式下初始化客户端<code class="codeph">Environment</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-FBDA4841-F927-4B27-B35F-D94DB266198B__GUID-D49C97D0-237E-4831-A1E5-27D9B222EC90">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d120912e968">参数</th>
                              <th align="left" valign="bottom" width="80%" id="d120912e971">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d120912e976" headers="d120912e968 "><pre class="oac_no_warn" dir="ltr">模式</pre></td>
                              <td align="left" valign="top" width="80%" headers="d120912e976 d120912e971 ">
                                 <p>值定义为<a href="environment-class.html#GUID-98598A9C-BED1-46CF-9A10-4F2A56B74BF9__BBAFGGHB" title="第一列列出类使用的属性，第二列描述每个属性可用的选项">表13-17</a>中<code class="codeph">Mode</code>一部分： <code class="codeph">DEFAULT</code> ， <code class="codeph">THREADED_MUTEXED</code> ， <code class="codeph">THREADED_UNMUTEXED</code> ， <code class="codeph">OBJECT</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d120912e1004" headers="d120912e968 "><pre class="oac_no_warn" dir="ltr">ctxp</pre></td>
                              <td align="left" valign="top" width="80%" headers="d120912e1004 d120912e971 ">
                                 <p>用于用户定义的内存管理功能的上下文指针。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d120912e1011" headers="d120912e968 "><pre class="oac_no_warn" dir="ltr">尺寸</pre></td>
                              <td align="left" valign="top" width="80%" headers="d120912e1011 d120912e971 ">
                                 <p>由用户定义的内存分配函数分配的内存大小。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d120912e1018" headers="d120912e968 "><pre class="oac_no_warn" dir="ltr">新尺寸</pre></td>
                              <td align="left" valign="top" width="80%" headers="d120912e1018 d120912e971 ">
                                 <p>要重新分配的内存的新大小。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d120912e1025" headers="d120912e968 "><pre class="oac_no_warn" dir="ltr">memptr</pre></td>
                              <td align="left" valign="top" width="80%" headers="d120912e1025 d120912e971 ">
                                 <p>必须重新分配到新大小的现有内存。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d120912e1032" headers="d120912e968 "><pre class="oac_no_warn" dir="ltr">malocfp</pre></td>
                              <td align="left" valign="top" width="80%" headers="d120912e1032 d120912e971 ">
                                 <p>用户定义的内存分配功能。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d120912e1039" headers="d120912e968 "><pre class="oac_no_warn" dir="ltr">ralocfp</pre></td>
                              <td align="left" valign="top" width="80%" headers="d120912e1039 d120912e971 ">
                                 <p>用户定义的内存重新分配功能。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d120912e1046" headers="d120912e968 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">mfreefp</code></pre></td>
                              <td align="left" valign="top" width="80%" headers="d120912e1046 d120912e971 ">
                                 <p>用户定义的内存自由功能。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d120912e1054" headers="d120912e968 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">字符集</code></pre></td>
                              <td align="left" valign="top" width="80%" headers="d120912e1054 d120912e971 ">
                                 <p>替换<code class="codeph">NLS_LANG</code>指定的字符集ID。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d120912e1065" headers="d120912e968 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">ncharset</code></pre></td>
                              <td align="left" valign="top" width="80%" headers="d120912e1065 d120912e971 ">
                                 <p>替换<code class="codeph">NLS_NCHAR</code>指定的字符集ID。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20948"></a><div class="props_rev_3"><a id="GUID-0CC9175A-255B-49ED-A23B-5BE924603BE7" name="GUID-0CC9175A-255B-49ED-A23B-5BE924603BE7"></a><h3 id="LNCPP-GUID-0CC9175A-255B-49ED-A23B-5BE924603BE7" class="sect3"><span class="enumeration_section">13.14.4</span> createStatelessConnectionPool（）</h3>
               <div>
                  <div class="section">
                     <p>使用指定的池属性创建<code class="codeph">StatelessConnectionPool</code>对象。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-0CC9175A-255B-49ED-A23B-5BE924603BE7__GUID-4CE7430E-4507-4BD7-9972-D7FE5233002E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists versions of the method; second column provides descriptions of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="76%" id="d120912e1153">句法</th>
                              <th align="left" valign="bottom" width="24%" id="d120912e1156">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="76%" id="d120912e1161" headers="d120912e1153 "><pre class="oac_no_warn" dir="ltr">StatelessConnectionPool * createStatelessConnectionPool（const string＆poolUserName，const string＆poolPassword，const string connectString =“”，unsigned int maxConn = 1，unsigned int minConn = 0，unsigned int incrConn = 1，StatelessConnectionPool :: PoolType pType = StatelessConnectionPool :: HETEROGENEOUS）;</pre></td>
                              <td align="left" valign="top" width="24%" headers="d120912e1161 d120912e1156 ">
                                 <p>支持<code class="codeph">string</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="76%" id="d120912e1171" headers="d120912e1153 "><pre class="oac_no_warn" dir="ltr">StatelessConnectionPool * createStatelessConnectionPool（const UString＆poolUserName，const UString＆poolPassword，const UString＆connectString，unsigned int maxConn = 1，unsigned int minConn = 0，unsigned int incrConn = 1，StatelessConnectionPool :: PoolType pType = StatelessConnectionPool :: HETEROGENEOUS）;</pre></td>
                              <td align="left" valign="top" width="24%" headers="d120912e1171 d120912e1156 ">
                                 <p>支持<code class="codeph">UString</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-0CC9175A-255B-49ED-A23B-5BE924603BE7__GUID-CA1DDCB1-9F25-4CE1-880A-2441DD5B4267">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="24%" id="d120912e1188">参数</th>
                              <th align="left" valign="bottom" width="76%" id="d120912e1191">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d120912e1196" headers="d120912e1188 "><pre class="oac_no_warn" dir="ltr">poolUserName</pre></td>
                              <td align="left" valign="top" width="76%" headers="d120912e1196 d120912e1191 ">
                                 <p>池用户名。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d120912e1203" headers="d120912e1188 "><pre class="oac_no_warn" dir="ltr">poolPassword</pre></td>
                              <td align="left" valign="top" width="76%" headers="d120912e1203 d120912e1191 ">
                                 <p>池密码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d120912e1210" headers="d120912e1188 "><pre class="oac_no_warn" dir="ltr">CONNECTSTRING</pre></td>
                              <td align="left" valign="top" width="76%" headers="d120912e1210 d120912e1191 ">
                                 <p>服务器的连接字符串。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d120912e1217" headers="d120912e1188 "><pre class="oac_no_warn" dir="ltr">MAXCONN</pre></td>
                              <td align="left" valign="top" width="76%" headers="d120912e1217 d120912e1191 ">
                                 <p>可以打开池的最大连接数;额外的会话无法开放。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d120912e1224" headers="d120912e1188 "><pre class="oac_no_warn" dir="ltr">minConn</pre></td>
                              <td align="left" valign="top" width="76%" headers="d120912e1224 d120912e1191 ">
                                 <p>最初在池中创建的连接数。如果该参数只考虑<code class="codeph">PoolType</code>被设定为<code class="codeph">HOMOGENEOUS</code> ，如在限定的<a href="statelessconnectionpool-class.html#GUID-C0591485-F818-4AC0-9875-ED245BDABCA6__BBAFHGEG" title="第一列列出类使用的属性，第二列描述每个属性可用的选项">表13-41</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d120912e1242" headers="d120912e1188 "><pre class="oac_no_warn" dir="ltr">incrConn</pre></td>
                              <td align="left" valign="top" width="76%" headers="d120912e1242 d120912e1191 ">
                                 <p>如果所有打开的连接都忙，则增加池的连接数，最多为<code class="codeph">maxConn</code>参数指定的最大打开连接数。如果该参数只考虑<code class="codeph">PoolType</code>被设定为<code class="codeph">HOMOGENEOUS</code> ，如在限定的<a href="statelessconnectionpool-class.html#GUID-C0591485-F818-4AC0-9875-ED245BDABCA6__BBAFHGEG" title="第一列列出类使用的属性，第二列描述每个属性可用的选项">表13-41</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d120912e1263" headers="d120912e1188 "><pre class="oac_no_warn" dir="ltr">PTYPE</pre></td>
                              <td align="left" valign="top" width="76%" headers="d120912e1263 d120912e1191 ">
                                 <p>该<code class="codeph">PoolType</code>的连接池，定义<a href="statelessconnectionpool-class.html#GUID-C0591485-F818-4AC0-9875-ED245BDABCA6__BBAFHGEG" title="第一列列出类使用的属性，第二列描述每个属性可用的选项">表13-41</a> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20950"></a><a id="LNCPP20949"></a><div class="props_rev_3"><a id="GUID-F92A2A9F-B78B-4574-BAA3-7AA709D1AEFF" name="GUID-F92A2A9F-B78B-4574-BAA3-7AA709D1AEFF"></a><h3 id="LNCPP-GUID-F92A2A9F-B78B-4574-BAA3-7AA709D1AEFF" class="sect3"><span class="enumeration_section">13.14.5</span> enableSubscription（）</h3>
               <div>
                  <div class="section">
                     <p>启用订阅通知。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F92A2A9F-B78B-4574-BAA3-7AA709D1AEFF__GUID-BE7CCA6E-CD59-4546-99C0-0066D3EA6EA1">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void enableSubscription（const aq :: Subscription＆sub）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-F92A2A9F-B78B-4574-BAA3-7AA709D1AEFF__GUID-5BDBA1C0-EEA1-4A57-AE43-F0062BA5DE3B">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e1359">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e1362">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e1367" headers="d120912e1359 "><pre class="oac_no_warn" dir="ltr">子</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e1367 d120912e1362 ">
                                 <p>订阅。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20952"></a><a id="LNCPP20951"></a><div class="props_rev_3"><a id="GUID-1F165B39-D095-4306-B478-BDD7C4AB5B11" name="GUID-1F165B39-D095-4306-B478-BDD7C4AB5B11"></a><h3 id="LNCPP-GUID-1F165B39-D095-4306-B478-BDD7C4AB5B11" class="sect3"><span class="enumeration_section">13.14.6</span> disableSubscription（）</h3>
               <div>
                  <div class="section">
                     <p>禁用订阅通知。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1F165B39-D095-4306-B478-BDD7C4AB5B11__GUID-C8AB865C-55CC-4CE3-B2B1-3E2D5746A8CC">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void disableSubscription（Subscription＆subscr）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-1F165B39-D095-4306-B478-BDD7C4AB5B11__GUID-C7ACD882-3B92-435D-9EFD-10E17F0CA7C9">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e1456">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e1459">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e1464" headers="d120912e1456 "><pre class="oac_no_warn" dir="ltr">SUBSCR</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e1464 d120912e1459 ">
                                 <p>订阅。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20954"></a><a id="LNCPP20953"></a><div class="props_rev_3"><a id="GUID-A7089256-A3B9-4214-865E-E9B7C27EFBEE" name="GUID-A7089256-A3B9-4214-865E-E9B7C27EFBEE"></a><h3 id="LNCPP-GUID-A7089256-A3B9-4214-865E-E9B7C27EFBEE" class="sect3"><span class="enumeration_section">13.14.7</span> getCacheMaxSize（）</h3>
               <div>
                  <div class="section">
                     <p>检索缓存的最大大小。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A7089256-A3B9-4214-865E-E9B7C27EFBEE__GUID-44C719A9-9EE5-4D8B-BB29-A594AD785AAB">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">unsigned int getCacheMaxSize（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20956"></a><a id="LNCPP20955"></a><div class="props_rev_3"><a id="GUID-C9269805-5182-426A-B9AA-7FF8383014D6" name="GUID-C9269805-5182-426A-B9AA-7FF8383014D6"></a><h3 id="LNCPP-GUID-C9269805-5182-426A-B9AA-7FF8383014D6" class="sect3"><span class="enumeration_section">13.14.8</span> getCacheOptSize（）</h3>
               <div>
                  <div class="section">
                     <p>检索Cache最佳堆大小。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C9269805-5182-426A-B9AA-7FF8383014D6__GUID-FD41FF0A-4441-4D45-87DB-7AF2E8A1DB23">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">unsigned int getCacheOptSize（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20958"></a><a id="LNCPP20957"></a><div class="props_rev_3"><a id="GUID-19F3EBE6-F1A4-4085-BBEE-1FBA75031948" name="GUID-19F3EBE6-F1A4-4085-BBEE-1FBA75031948"></a><h3 id="LNCPP-GUID-19F3EBE6-F1A4-4085-BBEE-1FBA75031948" class="sect3"><span class="enumeration_section">13.14.9</span> getCacheSortedFlush（）</h3>
               <div>
                  <div class="section">
                     <p>检索缓存排序标志的当前设置; <code class="codeph">TRUE</code>或<code class="codeph">FALSE</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-19F3EBE6-F1A4-4085-BBEE-1FBA75031948__GUID-72D19658-FBD5-407E-9CFC-E4DC16D01C5D">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool getCacheSortedFlush（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20960"></a><a id="LNCPP20959"></a><div class="props_rev_3"><a id="GUID-F478EAC3-139E-4880-94F4-9CC2B7A3FDA6" name="GUID-F478EAC3-139E-4880-94F4-9CC2B7A3FDA6"></a><h3 id="LNCPP-GUID-F478EAC3-139E-4880-94F4-9CC2B7A3FDA6" class="sect3"><span class="enumeration_section">13.14.10</span> getCurrentHeapSize（）</h3>
               <div>
                  <div class="section">
                     <p>返回当前分配给此环境中所有对象的内存量。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F478EAC3-139E-4880-94F4-9CC2B7A3FDA6__GUID-EFCEB70F-87AF-435F-8C43-7107B8E2980B">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">unsigned int getCurrentHeapSize（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20962"></a><a id="LNCPP20961"></a><div class="props_rev_3"><a id="GUID-D4FFBACE-B124-462D-A227-D6DB8D850995" name="GUID-D4FFBACE-B124-462D-A227-D6DB8D850995"></a><h3 id="LNCPP-GUID-D4FFBACE-B124-462D-A227-D6DB8D850995" class="sect3"><span class="enumeration_section">13.14.11</span> getLDAPAdminContext（）</h3>
               <div>
                  <div class="section">
                     <p>使用LDAP打开通知注册时返回管理上下文。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D4FFBACE-B124-462D-A227-D6DB8D850995__GUID-9D307F69-785E-4179-9A7E-D26CBF6F7D7A">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">string getLDAPAdminContext（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20964"></a><a id="LNCPP20963"></a><div class="props_rev_3"><a id="GUID-AA94E53A-1229-49A7-9A6C-798EDA2B1F1E" name="GUID-AA94E53A-1229-49A7-9A6C-798EDA2B1F1E"></a><h3 id="LNCPP-GUID-AA94E53A-1229-49A7-9A6C-798EDA2B1F1E" class="sect3"><span class="enumeration_section">13.14.12</span> getLDAPAuthentication（）</h3>
               <div>
                  <div class="section">
                     <p>使用LDAP打开通知注册时返回身份验证模式。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AA94E53A-1229-49A7-9A6C-798EDA2B1F1E__GUID-07E3D841-CD1D-4620-9934-C666B7DB8BE6">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">unsigned int getLDAPAuthentication（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20966"></a><a id="LNCPP20965"></a><div class="props_rev_3"><a id="GUID-C5970916-69FB-4305-89E5-E999EF9365E4" name="GUID-C5970916-69FB-4305-89E5-E999EF9365E4"></a><h3 id="LNCPP-GUID-C5970916-69FB-4305-89E5-E999EF9365E4" class="sect3"><span class="enumeration_section">13.14.13</span> getLDAPHost（）</h3>
               <div>
                  <div class="section">
                     <p>返回运行LDAP服务器的主机。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C5970916-69FB-4305-89E5-E999EF9365E4__GUID-C7916AD6-4D1B-4697-B6BF-AAC5F67324FE">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">string getLDAPHost（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20968"></a><a id="LNCPP20967"></a><div class="props_rev_3"><a id="GUID-049AAF20-05C2-49C1-B5DF-53DA39A211C5" name="GUID-049AAF20-05C2-49C1-B5DF-53DA39A211C5"></a><h3 id="LNCPP-GUID-049AAF20-05C2-49C1-B5DF-53DA39A211C5" class="sect3"><span class="enumeration_section">13.14.14</span> getLDAPPort（）</h3>
               <div>
                  <div class="section">
                     <p>返回LDAP服务器正在侦听的端口。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-049AAF20-05C2-49C1-B5DF-53DA39A211C5__GUID-D8C138B8-F621-47E1-A46C-3C388C6E8096">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">unsigned int getLDAPPort（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20970"></a><a id="LNCPP20969"></a><div class="props_rev_3"><a id="GUID-370993F1-8D9A-454F-822C-CE6306A6F1C5" name="GUID-370993F1-8D9A-454F-822C-CE6306A6F1C5"></a><h3 id="LNCPP-GUID-370993F1-8D9A-454F-822C-CE6306A6F1C5" class="sect3"><span class="enumeration_section">13.14.15</span> getMap（）</h3>
               <div>
                  <div class="section">
                     <p>返回指向此环境的映射的指针。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-370993F1-8D9A-454F-822C-CE6306A6F1C5__GUID-587772C1-FE62-44F8-A4E4-0DC8DF130389">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">Map * getMap（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-DE17D8F5-D11D-40B3-83C9-A9CF9BF26F45" name="GUID-DE17D8F5-D11D-40B3-83C9-A9CF9BF26F45"></a><h3 id="LNCPP-GUID-DE17D8F5-D11D-40B3-83C9-A9CF9BF26F45" class="sect3"><span class="enumeration_section">13.14.16</span> getNLSLanguage（）</h3>
               <div>
                  <div class="section">
                     <p>返回当前环境的NLS语言。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DE17D8F5-D11D-40B3-83C9-A9CF9BF26F45__GUID-37F9E874-8964-4927-9AF8-08AFFA973B06">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">string getNLSLanguage（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-00166654-4572-4A09-83E6-3D944EA88E1D" name="GUID-00166654-4572-4A09-83E6-3D944EA88E1D"></a><h3 id="LNCPP-GUID-00166654-4572-4A09-83E6-3D944EA88E1D" class="sect3"><span class="enumeration_section">13.14.17</span> getNLSTerritory（）</h3>
               <div>
                  <div class="section">
                     <p>返回当前环境的NLS Territory。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-00166654-4572-4A09-83E6-3D944EA88E1D__GUID-6E5A24CF-169A-4773-B572-5B3D5EEC3FF3">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">string getNLSTerritory（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20972"></a><a id="LNCPP20971"></a><div class="props_rev_3"><a id="GUID-16770CFD-13B9-48FF-BE3C-DC28FA35B00E" name="GUID-16770CFD-13B9-48FF-BE3C-DC28FA35B00E"></a><h3 id="LNCPP-GUID-16770CFD-13B9-48FF-BE3C-DC28FA35B00E" class="sect3"><span class="enumeration_section">13.14.18</span> getOCIEnvironment（）</h3>
               <div>
                  <div class="section">
                     <p>返回指向与此环境关联的OCI环境的指针。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-16770CFD-13B9-48FF-BE3C-DC28FA35B00E__GUID-175F7377-B1B1-425D-8A0D-F9ECBD889B5F">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">OCIEnv * getOCIEnvironment（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20974"></a><a id="LNCPP20973"></a><div class="props_rev_3"><a id="GUID-F7C1E44C-436E-4FC5-B5EA-4097771D53BE" name="GUID-F7C1E44C-436E-4FC5-B5EA-4097771D53BE"></a><h3 id="LNCPP-GUID-F7C1E44C-436E-4FC5-B5EA-4097771D53BE" class="sect3"><span class="enumeration_section">13.14.19</span> getXAConnection（）</h3>
               <div>
                  <div class="section">
                     <p>返回指向OCCI Connection对象的指针，该对象对应于XA库打开的对象。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F7C1E44C-436E-4FC5-B5EA-4097771D53BE__GUID-8F09B08F-2A94-4BB6-A3AF-0EFC993F1643">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">Connection * getXAConnection（const string＆dbname）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-F7C1E44C-436E-4FC5-B5EA-4097771D53BE__GUID-82F801B2-1E07-4EF9-B676-F25CF666B4D9">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e2446">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e2449">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e2454" headers="d120912e2446 "><pre class="oac_no_warn" dir="ltr">DBNAME</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e2454 d120912e2449 ">
                                 <p>数据库名称;与Open String中提供的可选<code class="codeph">dbname</code>相同（并用于连接到Resource Manager）。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20976"></a><a id="LNCPP20975"></a><div class="props_rev_3"><a id="GUID-E30927DF-E70F-48B2-AD68-57A0DB9617C6" name="GUID-E30927DF-E70F-48B2-AD68-57A0DB9617C6"></a><h3 id="LNCPP-GUID-E30927DF-E70F-48B2-AD68-57A0DB9617C6" class="sect3"><span class="enumeration_section">13.14.20</span> getXAEnvironment（）</h3>
               <div>
                  <div class="section">
                     <p>返回指向OCCI Environment对象的指针，该对象对应于XA库打开的对象。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E30927DF-E70F-48B2-AD68-57A0DB9617C6__GUID-8AFB9889-B294-4DE7-AADD-96E868E82890">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">环境* getXAEnvironment（const string＆dbname）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-E30927DF-E70F-48B2-AD68-57A0DB9617C6__GUID-A2C53F56-2355-4A5B-8610-62E72D64E0FE">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e2545">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e2548">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e2553" headers="d120912e2545 "><pre class="oac_no_warn" dir="ltr">DBNAME</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e2553 d120912e2548 ">
                                 <p>数据库名称;与Open String中提供的可选<code class="codeph">dbname</code>相同（并用于连接到Resource Manager）。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20978"></a><a id="LNCPP20977"></a><div class="props_rev_3"><a id="GUID-540604DF-9933-45F1-9626-5CB8A3F2A296" name="GUID-540604DF-9933-45F1-9626-5CB8A3F2A296"></a><h3 id="LNCPP-GUID-540604DF-9933-45F1-9626-5CB8A3F2A296" class="sect3"><span class="enumeration_section">13.14.21</span> releaseXAConnection（）</h3>
               <div>
                  <div class="section">
                     <p>释放/取消分配<a href="environment-class.html#GUID-F7C1E44C-436E-4FC5-B5EA-4097771D53BE">getXAConnection（）</a>方法分配的所有资源。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-540604DF-9933-45F1-9626-5CB8A3F2A296__GUID-5D6693C9-8E01-4A26-AB1E-E1527413CA1F">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void releaseXAConnection（Connection * conn）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-540604DF-9933-45F1-9626-5CB8A3F2A296__GUID-364C7081-0B47-4A64-89AC-7CA0C4D6DE09">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e2648">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e2651">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e2656" headers="d120912e2648 "><pre class="oac_no_warn" dir="ltr">康恩</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e2656 d120912e2651 ">
                                 <p><a href="environment-class.html#GUID-F7C1E44C-436E-4FC5-B5EA-4097771D53BE">getXAConnection（）</a>方法返回的连接。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20980"></a><a id="LNCPP20979"></a><div class="props_rev_3"><a id="GUID-DA8426A4-29DD-497C-B86C-1BB1F2AEBB16" name="GUID-DA8426A4-29DD-497C-B86C-1BB1F2AEBB16"></a><h3 id="LNCPP-GUID-DA8426A4-29DD-497C-B86C-1BB1F2AEBB16" class="sect3"><span class="enumeration_section">13.14.22</span> releaseXAEnvironment（）</h3>
               <div>
                  <div class="section">
                     <p>释放/取消分配<a href="environment-class.html#GUID-E30927DF-E70F-48B2-AD68-57A0DB9617C6">getXAEnvironment（）</a>方法分配的所有资源。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DA8426A4-29DD-497C-B86C-1BB1F2AEBB16__GUID-85A206B0-8A05-4A80-88F0-02D668F42526">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void releaseXAEnvironment（Environment * env）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-DA8426A4-29DD-497C-B86C-1BB1F2AEBB16__GUID-E30A7A24-A0C2-4EA1-91FB-7AF9A824FA6E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e2750">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e2753">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e2758" headers="d120912e2750 "><pre class="oac_no_warn" dir="ltr">ENV</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e2758 d120912e2753 ">
                                 <p><a href="environment-class.html#GUID-E30927DF-E70F-48B2-AD68-57A0DB9617C6">getXAEnvironment（）</a>方法返回的环境。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20982"></a><a id="LNCPP20981"></a><div class="props_rev_3"><a id="GUID-5E0F5E54-1233-4BCC-87A9-7FABDFC5B9E7" name="GUID-5E0F5E54-1233-4BCC-87A9-7FABDFC5B9E7"></a><h3 id="LNCPP-GUID-5E0F5E54-1233-4BCC-87A9-7FABDFC5B9E7" class="sect3"><span class="enumeration_section">13.14.23</span> setCacheMaxSize（）</h3>
               <div>
                  <div class="section">
                     <p>将客户端对象缓存的最大大小设置为最佳大小的百分比。默认值为10％。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5E0F5E54-1233-4BCC-87A9-7FABDFC5B9E7__GUID-E3040D1E-5052-4328-B1B9-B7E59398A8A6">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setCacheMaxSize（unsigned int maxSize）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-5E0F5E54-1233-4BCC-87A9-7FABDFC5B9E7__GUID-97A010C8-382C-47E2-A544-1145B15D5557">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e2849">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e2852">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e2857" headers="d120912e2849 "><pre class="oac_no_warn" dir="ltr">MAXSIZE</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e2857 d120912e2852 ">
                                 <p>最大大小的值，以百分比表示。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20984"></a><a id="LNCPP20983"></a><div class="props_rev_3"><a id="GUID-6AB044A6-2F99-434B-9651-0780264A5862" name="GUID-6AB044A6-2F99-434B-9651-0780264A5862"></a><h3 id="LNCPP-GUID-6AB044A6-2F99-434B-9651-0780264A5862" class="sect3"><span class="enumeration_section">13.14.24</span> setCacheOptSize（）</h3>
               <div>
                  <div class="section">
                     <p>以字节为单位设置客户端对象缓存的最佳大小。默认值为8MB。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6AB044A6-2F99-434B-9651-0780264A5862__GUID-5734B30E-46FA-46A0-881E-E076EAECCF4D">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setCacheOptSize（unsigned int optSize）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-6AB044A6-2F99-434B-9651-0780264A5862__GUID-9DD0CD15-66E4-4887-AA93-A174A936F41F">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e2946">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e2949">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e2954" headers="d120912e2946 "><pre class="oac_no_warn" dir="ltr">optSize</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e2954 d120912e2949 ">
                                 <p>最佳大小的值，以字节为单位。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20986"></a><a id="LNCPP20985"></a><div class="props_rev_3"><a id="GUID-BC795ED0-8FAC-485B-A46C-8888EACF5E94" name="GUID-BC795ED0-8FAC-485B-A46C-8888EACF5E94"></a><h3 id="LNCPP-GUID-BC795ED0-8FAC-485B-A46C-8888EACF5E94" class="sect3"><span class="enumeration_section">13.14.25</span> setCacheSortedFlush（）</h3>
               <div>
                  <div class="section">
                     <p>设置缓存刷新协议。默认情况下，缓存中的对象按其修改顺序刷新; <code class="codeph">flag=FALSE</code> 。要提高服务器端性能，请设置<code class="codeph">flag=TRUE</code> ，以便在从客户端缓存刷新之前，缓存中的对象按表顺序排序。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BC795ED0-8FAC-485B-A46C-8888EACF5E94__GUID-B0BE3238-75EC-479F-AB35-16F3A58733CA">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setCacheSortedFlush（bool flag）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-BC795ED0-8FAC-485B-A46C-8888EACF5E94__GUID-84C9B55C-7257-4492-9221-750A6081F6A4">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e3048">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e3051">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e3056" headers="d120912e3048 "><pre class="oac_no_warn" dir="ltr">旗</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e3056 d120912e3051 ">
                                 <p><code class="codeph">FALSE</code> （默认值）：无排序; <code class="codeph">TRUE</code> ：按表顺序排序</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20988"></a><a id="LNCPP20987"></a><div class="props_rev_3"><a id="GUID-4CD1FFD9-FA6B-498E-8297-F038B20DCB5C" name="GUID-4CD1FFD9-FA6B-498E-8297-F038B20DCB5C"></a><h3 id="LNCPP-GUID-4CD1FFD9-FA6B-498E-8297-F038B20DCB5C" class="sect3"><span class="enumeration_section">13.14.26</span> setLDAPAdminContext（）</h3>
               <div>
                  <div class="section">
                     <p>设置客户端的管理上下文。这通常是LDAP服务器中Oracle RDBMS LDAP模式的根。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CD1FFD9-FA6B-498E-8297-F038B20DCB5C__GUID-57ADEE41-0A0C-483C-8838-60F697408BAA">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setLDAPAdminContext（const string＆ctx）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4CD1FFD9-FA6B-498E-8297-F038B20DCB5C__GUID-59FBB710-E83D-43D5-82A9-7D9BA907F437">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e3149">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e3152">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e3157" headers="d120912e3149 "><pre class="oac_no_warn" dir="ltr">CTX</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e3157 d120912e3152 ">
                                 <p>客户端上下文</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20990"></a><a id="LNCPP20989"></a><div class="props_rev_3"><a id="GUID-9219C604-49D9-4263-891A-641550CBE106" name="GUID-9219C604-49D9-4263-891A-641550CBE106"></a><h3 id="LNCPP-GUID-9219C604-49D9-4263-891A-641550CBE106" class="sect3"><span class="enumeration_section">13.14.27</span> setLDAPAuthentication（）</h3>
               <div>
                  <div class="section">
                     <p>指定身份验证模式。目前唯一支持的值是0x1：简单身份验证;用户名/密码验证。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9219C604-49D9-4263-891A-641550CBE106__GUID-3DBE16F5-B532-4D9A-BD2A-4BF91D0102DF">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setLDAPAuthentication（unsigned int mode）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-9219C604-49D9-4263-891A-641550CBE106__GUID-595719E9-AC61-493E-A8FB-D062A50FC392">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e3246">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e3249">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e3254" headers="d120912e3246 "><pre class="oac_no_warn" dir="ltr">模式</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e3254 d120912e3249 ">
                                 <p>身份验证模式</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20992"></a><a id="LNCPP20991"></a><div class="props_rev_3"><a id="GUID-E3C03EF7-721C-4FD1-9A81-FD43543F506F" name="GUID-E3C03EF7-721C-4FD1-9A81-FD43543F506F"></a><h3 id="LNCPP-GUID-E3C03EF7-721C-4FD1-9A81-FD43543F506F" class="sect3"><span class="enumeration_section">13.14.28</span> setLDAPHostAndPort（）</h3>
               <div>
                  <div class="section">
                     <p>指定运行LDAP服务器的主机以及它正在侦听请求的端口。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E3C03EF7-721C-4FD1-9A81-FD43543F506F__GUID-6BAACD68-919F-4584-A444-A3F174F90DBC">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setLDAPHostAndPort（const string＆host，unsigned int port）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-E3C03EF7-721C-4FD1-9A81-FD43543F506F__GUID-496F85D2-9F7B-447A-8E0B-D5CE635F451A">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e3342">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e3345">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e3350" headers="d120912e3342 "><pre class="oac_no_warn" dir="ltr">主办</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e3350 d120912e3345 ">
                                 <p>LDAP的主机</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e3357" headers="d120912e3342 "><pre class="oac_no_warn" dir="ltr">港口</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e3357 d120912e3345 ">
                                 <p>LDAP的端口</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20994"></a><a id="LNCPP20993"></a><div class="props_rev_3"><a id="GUID-D3D45CFC-8BD7-4C9C-8EFE-534DE65B2F94" name="GUID-D3D45CFC-8BD7-4C9C-8EFE-534DE65B2F94"></a><h3 id="LNCPP-GUID-D3D45CFC-8BD7-4C9C-8EFE-534DE65B2F94" class="sect3"><span class="enumeration_section">13.14.29</span> setLDAPLoginNameAndPassword（）</h3>
               <div>
                  <div class="section">
                     <p>指定连接LDAP服务器时使用的登录专有名称和密码。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D3D45CFC-8BD7-4C9C-8EFE-534DE65B2F94__GUID-54803641-BA89-4F45-865F-6DA25BAA39FC">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setLDAPLoginNameAndPassword（const string＆login，const＆passwd）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D3D45CFC-8BD7-4C9C-8EFE-534DE65B2F94__GUID-DE6AA585-A56E-4752-8F88-56DE973EAD0C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e3445">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e3448">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e3453" headers="d120912e3445 "><pre class="oac_no_warn" dir="ltr">登录</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e3453 d120912e3448 ">
                                 <p>登录名</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e3460" headers="d120912e3445 "><pre class="oac_no_warn" dir="ltr">passwd文件</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e3460 d120912e3448 ">
                                 <p>登录密码</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-1A443A99-85BC-40EE-8D10-A81FA7DCD9E6" name="GUID-1A443A99-85BC-40EE-8D10-A81FA7DCD9E6"></a><h3 id="LNCPP-GUID-1A443A99-85BC-40EE-8D10-A81FA7DCD9E6" class="sect3"><span class="enumeration_section">13.14.30</span> setNLSLanguage（）</h3>
               <div>
                  <div class="section">
                     <p>指定当前环境的NLS语言。该设置对调用此方法后创建的连接有效。该设置将覆盖通过流程环境变量<code class="codeph">NLS_LANG</code>设置的值。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1A443A99-85BC-40EE-8D10-A81FA7DCD9E6__GUID-71BC334F-F9B8-437F-8056-070C4490822A">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setNLSLanguage（const string＆lang）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-1A443A99-85BC-40EE-8D10-A81FA7DCD9E6__GUID-332A36B7-8AC4-42A3-A6B5-AD4CFB00ED7E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e3550">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e3553">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e3558" headers="d120912e3550 "><pre class="oac_no_warn" dir="ltr">郎</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e3558 d120912e3553 ">
                                 <p>当前环境的语言</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-543825AC-23A9-4C7C-85E5-A2B42F06C99B" name="GUID-543825AC-23A9-4C7C-85E5-A2B42F06C99B"></a><h3 id="LNCPP-GUID-543825AC-23A9-4C7C-85E5-A2B42F06C99B" class="sect3"><span class="enumeration_section">13.14.31</span> setNLSTerritory（）</h3>
               <div>
                  <div class="section">
                     <p>指定当前环境的NLS区域。该设置对调用此方法后创建的连接有效。该设置将覆盖通过流程环境变量<code class="codeph">NLS_LANG</code>设置的值。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-543825AC-23A9-4C7C-85E5-A2B42F06C99B__GUID-B65DB2C4-971D-4C65-8960-7E1A12F0255D">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setNLSTerritory（const string＆Terr）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-543825AC-23A9-4C7C-85E5-A2B42F06C99B__GUID-5EC48979-507C-44F2-8658-624918152D31">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e3647">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e3650">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e3655" headers="d120912e3647 "><pre class="oac_no_warn" dir="ltr">TERR</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e3655 d120912e3650 ">
                                 <p>当前环境的领土</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20996"></a><a id="LNCPP20995"></a><div class="props_rev_3"><a id="GUID-C0C20A14-2404-4091-AF1B-C49BC3B98EAF" name="GUID-C0C20A14-2404-4091-AF1B-C49BC3B98EAF"></a><h3 id="LNCPP-GUID-C0C20A14-2404-4091-AF1B-C49BC3B98EAF" class="sect3"><span class="enumeration_section">13.14.32</span> terminateConnection（）</h3>
               <div>
                  <div class="section">
                     <p>关闭与环境的连接，并释放所有相关的系统资源。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C0C20A14-2404-4091-AF1B-C49BC3B98EAF__GUID-3BFC5E77-E5D2-48A2-8630-4E53BF3EF5CA">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void terminateConnection（Connection * connection）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C0C20A14-2404-4091-AF1B-C49BC3B98EAF__GUID-25528272-FDCA-40E8-8247-7A04956D3112">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e3743">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e3746">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e3751" headers="d120912e3743 "><pre class="oac_no_warn" dir="ltr">连接</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e3751 d120912e3746 ">
                                 <p>指向要终止的连接实例的指针。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20998"></a><a id="LNCPP20997"></a><div class="props_rev_3"><a id="GUID-2299AB7D-C028-4B8E-AF0A-C788254C7318" name="GUID-2299AB7D-C028-4B8E-AF0A-C788254C7318"></a><h3 id="LNCPP-GUID-2299AB7D-C028-4B8E-AF0A-C788254C7318" class="sect3"><span class="enumeration_section">13.14.33</span> terminateConnectionPool（）</h3>
               <div>
                  <div class="section">
                     <p>关闭连接池中的连接，并释放所有相关的系统资源。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2299AB7D-C028-4B8E-AF0A-C788254C7318__GUID-B58833F3-47D2-4EAB-8552-04F8CDE3E822">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void terminateConnectionPool（ConnectionPool * poolPointer）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2299AB7D-C028-4B8E-AF0A-C788254C7318__GUID-BB5AA579-3A8E-4023-BD4D-F3F40A250B94">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e3840">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e3843">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e3848" headers="d120912e3840 "><pre class="oac_no_warn" dir="ltr">poolPointer</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e3848 d120912e3843 ">
                                 <p>指向要终止的连接池实例的指针。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21000"></a><a id="LNCPP20999"></a><div class="props_rev_3"><a id="GUID-8334BA8B-E696-4694-9B5E-6833F7939301" name="GUID-8334BA8B-E696-4694-9B5E-6833F7939301"></a><h3 id="LNCPP-GUID-8334BA8B-E696-4694-9B5E-6833F7939301" class="sect3"><span class="enumeration_section">13.14.34</span> terminateEnvironment（）</h3>
               <div>
                  <div class="section">
                     <p>关闭环境，释放所有相关的系统资源。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8334BA8B-E696-4694-9B5E-6833F7939301__GUID-51B6F95C-42DE-4DAB-8346-A881F0C69C8E">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void terminateEnvironment（Environment * env）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-8334BA8B-E696-4694-9B5E-6833F7939301__GUID-3B6B9475-08E8-4690-90BD-2A66C671CC62">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d120912e3936">参数</th>
                              <th align="left" valign="bottom" width="79%" id="d120912e3939">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d120912e3944" headers="d120912e3936 "><pre class="oac_no_warn" dir="ltr">ENV</pre></td>
                              <td align="left" valign="top" width="79%" headers="d120912e3944 d120912e3939 ">
                                 <p>环境要关闭。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21002"></a><a id="LNCPP21001"></a><div class="props_rev_3"><a id="GUID-995DD530-7CE2-4E10-BFE8-405F2A233CF8" name="GUID-995DD530-7CE2-4E10-BFE8-405F2A233CF8"></a><h3 id="LNCPP-GUID-995DD530-7CE2-4E10-BFE8-405F2A233CF8" class="sect3"><span class="enumeration_section">13.14.35</span> terminateStatelessConnectionPool（）</h3>
               <div>
                  <div class="section">
                     <p>销毁指定的<code class="codeph">StatelessConnectionPool</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-995DD530-7CE2-4E10-BFE8-405F2A233CF8__GUID-BBFD7273-3CBF-49FA-A2B4-0DDAAD9F3173">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void termimnateStatelessConnectionPool（StatelessConnectionPool * poolPointer，StatelessConnectionPool :: DestroyMode mode = StatelessConnectionPool :: DEFAULT）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-995DD530-7CE2-4E10-BFE8-405F2A233CF8__GUID-3FFE7BEE-C5F9-4034-9A63-ABFE83741F08">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d120912e4035">参数</th>
                              <th align="left" valign="bottom" width="83%" id="d120912e4038">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d120912e4043" headers="d120912e4035 "><pre class="oac_no_warn" dir="ltr">poolPointer</pre></td>
                              <td align="left" valign="top" width="83%" headers="d120912e4043 d120912e4038 ">
                                 <p>要销毁的<code class="codeph">StatelessConnectionPool</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d120912e4053" headers="d120912e4035 ">
                                 <p>模式</p>
                              </td>
                              <td align="left" valign="top" width="83%" headers="d120912e4053 d120912e4038 ">
                                 <p><code class="codeph">DestroyMode</code>定义<a href="statelessconnectionpool-class.html#GUID-C0591485-F818-4AC0-9875-ED245BDABCA6__BBAFHGEG" title="第一列列出类使用的属性，第二列描述每个属性可用的选项">表13-41</a> ： <code class="codeph">DEFAULT</code>或<code class="codeph">SPF_FORCE</code> 。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="05771.making-queries-using-source-methods.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>使用源方法进行查询</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Java API Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Java API Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="olap-java-api-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T13:53:39-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2000, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96402-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="understanding-source-objects.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-transaction-provider.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OLAP Java API Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OLAAP"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="understanding-source-objects.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-transaction-provider.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Java API开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用源方法进行查询</li>
            </ol>
            <a id="GUID-B5D5AF5D-330E-46D3-8BD7-E84B1373E6A7" name="GUID-B5D5AF5D-330E-46D3-8BD7-E84B1373E6A7"></a><a id="OLAAP291"></a>
            
            <h2 id="OLAAP-GUID-B5D5AF5D-330E-46D3-8BD7-E84B1373E6A7" class="sect2"><span class="enumeration_chapter">6</span>使用源方法进行查询</h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d17761e33" class="indexterm-anchor"></a>您可以通过生成一个<code class="codeph">Source</code>来创建查询，该<code class="codeph">Source</code>指定要检索的数据以及要对该数据执行的任何操作。要生成查询，请从主要<code class="codeph">Source</code>对象开始，这些对象表示度量的元数据以及要查询的维度及其属性。通常，您使用主<code class="codeph">Source</code>对象的方法来派生许多其他<code class="codeph">Source</code>对象，每个<code class="codeph">Source</code>对象都指定查询的一部分，例如维度成员的选择或对数据执行的操作。然后，您可以加入指定所需数据和操作的<code class="codeph">Source</code>对象。结果是一个代表查询的<code class="codeph">Source</code> 。然后，您可以通过为<code class="codeph">Source</code>创建<code class="codeph">Cursor</code>来检索数据。
               </p>
               <p>本章简要介绍了各种<code class="codeph">Source</code>方法，并更详细地讨论了其中的一些方法。它还讨论了如何使用这些方法进行一些典型的OLAP查询，并提供了其中一些示例。
               </p>
               <p>本章包括以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="making-queries-using-source-methods.html#GUID-316AAA82-2D0E-4CE0-AC33-C1764674DC72">描述基本源方法</a></p>
                  </li>
                  <li>
                     <p><a href="making-queries-using-source-methods.html#GUID-03C361B3-E046-4015-ACEB-AE5EF00E0DB2">使用基本方法</a></p>
                  </li>
                  <li>
                     <p><a href="making-queries-using-source-methods.html#GUID-41F505FD-DF76-4973-9668-B6C77C6CEC65">使用其他来源方法</a></p>
                  </li>
               </ul>
            </div><a id="OLAAP293"></a><a id="OLAAP292"></a><div class="props_rev_3"><a id="GUID-316AAA82-2D0E-4CE0-AC33-C1764674DC72" name="GUID-316AAA82-2D0E-4CE0-AC33-C1764674DC72"></a><h3 id="OLAAP-GUID-316AAA82-2D0E-4CE0-AC33-C1764674DC72" class="sect3"><span class="enumeration_section">6.1</span>描述基本源方法</h3>
               <div>
                  <div class="section">
                     <p><a id="d17761e124" class="indexterm-anchor"></a><a id="d17761e128" class="indexterm-anchor"></a><a id="d17761e132" class="indexterm-anchor"></a> <code class="codeph">Source</code>类有许多返回派生<code class="codeph">Source</code> 。派生的元素<code class="codeph">Source</code>从上<span>基座</span>的操作导致<code class="codeph">Source</code> ，它是<code class="codeph">Source</code> ，其方法返回衍生<code class="codeph">Source</code> 。只有少数方法执行<code class="codeph">Source</code>类的最基本操作。
                     </p>
                     <p><a id="d17761e161" class="indexterm-anchor"></a> <code class="codeph">Source</code>类的许多其他方法使用一个或多个基本方法来执行操作，例如按值或按位置选择基本<code class="codeph">Source</code>的元素，或者排序元素。本章和<a href="understanding-source-objects.html#GUID-871159BB-8ED1-454B-B9FA-62F36683F4B2">理解源对象中的</a>许多示例都使用其中一些方法。其他<code class="codeph">Source</code>方法获取具有<code class="codeph">Source</code>信息的对象，例如<code class="codeph">getID</code> ， <code class="codeph">getInputs</code>和<code class="codeph">getType</code>方法，执行比较（例如<code class="codeph">ge</code>和<code class="codeph">gt</code>方法），或将<code class="codeph">Source</code>的值从一种数据类型转换为另一种数据类型，例如<code class="codeph">toDoubleSource</code>方法。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-316AAA82-2D0E-4CE0-AC33-C1764674DC72__CHDDACIA">
                     <p class="titleintable">表6-1基本源方法</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="基本来源方法" width="100%" border="1" summary="This table lists the basic Source methods and provides brief descriptions of them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d17761e215">方法</th>
                              <th align="left" valign="bottom" width="69%" id="d17761e218">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d17761e223" headers="d17761e215 ">
                                 <p><a id="d17761e225" class="indexterm-anchor"></a><code class="codeph">alias</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d17761e223 d17761e218 ">
                                 <p>返回一个<code class="codeph">Source</code> ，其具有相同的元件作为碱<code class="codeph">Source</code> ，但具有碱<code class="codeph">Source</code>作为类型。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d17761e244" headers="d17761e215 ">
                                 <p><a id="d17761e246" class="indexterm-anchor"></a><code class="codeph">distinct</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d17761e244 d17761e218 ">
                                 <p>返回一个<code class="codeph">Source</code> ，其具有相同的元件作为碱<code class="codeph">Source</code> ，不同之处在于被在基本复制的任何元件在派生只出现一次<code class="codeph">Source</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d17761e265" headers="d17761e215 ">
                                 <p><a id="d17761e267" class="indexterm-anchor"></a><code class="codeph">join</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d17761e265 d17761e218 ">
                                 <p>返回具有基本<code class="codeph">Source</code>元素的<code class="codeph">Source</code> ，该元素由方法调用的<code class="codeph">joined</code> ， <code class="codeph">comparison</code>和<code class="codeph">comparisonRule</code>参数指定。如果<code class="codeph">visible</code>参数为<code class="codeph">true</code> ，则连接的<code class="codeph">Source</code>是生成的<code class="codeph">Source</code>的输出。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d17761e305" headers="d17761e215 ">
                                 <p><a id="d17761e307" class="indexterm-anchor"></a><code class="codeph">position</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d17761e305 d17761e218 ">
                                 <p>返回一个<code class="codeph">Source</code> ，它具有基本<code class="codeph">Source</code>元素的位置，并且具有基本<code class="codeph">Source</code>作为输入。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d17761e326" headers="d17761e215 ">
                                 <p><a id="d17761e328" class="indexterm-anchor"></a><code class="codeph">recursiveJoin</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d17761e326 d17761e218 ">
                                 <p>类似于<code class="codeph">join</code>方法，但这种方法，在<code class="codeph">Source</code> ，它返回，定购的元素<code class="codeph">Source</code>的父子关系层次。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d17761e347" headers="d17761e215 ">
                                 <p><a id="d17761e349" class="indexterm-anchor"></a><code class="codeph">value</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d17761e347 d17761e218 ">
                                 <p>返回一个<code class="codeph">Source</code> ，其具有相同的元件作为碱<code class="codeph">Source</code> ，但具有碱<code class="codeph">Source</code>作为输入。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>以下主题描述了基本的<code class="codeph">Source</code>方法，并提供了一些使用它们的示例。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="making-queries-using-source-methods.html#GUID-03C361B3-E046-4015-ACEB-AE5EF00E0DB2">使用基本方法</a></p>
                        </li>
                        <li>
                           <p><a href="making-queries-using-source-methods.html#GUID-41F505FD-DF76-4973-9668-B6C77C6CEC65">使用其他来源方法</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OLAAP294"></a><div class="props_rev_3"><a id="GUID-03C361B3-E046-4015-ACEB-AE5EF00E0DB2" name="GUID-03C361B3-E046-4015-ACEB-AE5EF00E0DB2"></a><h3 id="OLAAP-GUID-03C361B3-E046-4015-ACEB-AE5EF00E0DB2" class="sect3"><span class="enumeration_section">6.2</span>使用基本方法</h3>
               <div>
                  <p><a id="d17761e419" class="indexterm-anchor"></a>以下主题提供了使用某些基本方法的示例。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="making-queries-using-source-methods.html#GUID-2599E060-9C27-4DE2-9673-B89A7CFDBBD1">使用别名方法</a></p>
                     </li>
                     <li>
                        <p><a href="making-queries-using-source-methods.html#GUID-33605F2C-B683-49FF-A5C9-BFDB6AD31167">使用distinct方法</a></p>
                     </li>
                     <li>
                        <p><a href="making-queries-using-source-methods.html#GUID-83221D91-C9C5-4BA7-A91F-A8F33C6A8F85">使用join方法</a></p>
                     </li>
                     <li>
                        <p><a href="making-queries-using-source-methods.html#GUID-50FB0A20-3E17-465D-BAFE-EB082C20FC68">使用位置方法</a></p>
                     </li>
                     <li>
                        <p><a href="making-queries-using-source-methods.html#GUID-31E4FFCF-E724-4C10-A4EC-1DFC5B70E10A">使用recursiveJoin方法</a></p>
                     </li>
                     <li>
                        <p><a href="making-queries-using-source-methods.html#GUID-77BC1C96-64D7-4CD4-8D3A-BFC44C69EF2B">使用值Method</a></p>
                     </li>
                  </ul>
               </div><a id="OLAAP296"></a><a id="OLAAP295"></a><div class="props_rev_3"><a id="GUID-2599E060-9C27-4DE2-9673-B89A7CFDBBD1" name="GUID-2599E060-9C27-4DE2-9673-B89A7CFDBBD1"></a><h4 id="OLAAP-GUID-2599E060-9C27-4DE2-9673-B89A7CFDBBD1" class="sect4"><span class="enumeration_section">6.2.1</span>使用别名方法</h4>
                  <div>
                     <div class="section">
                        <p>您使用<code class="codeph">alias</code>方法来控制<code class="codeph">Source</code>与输入的匹配。例如，如果要查明度量维度的成员指定的度量值是否大于同一维度的其他成员指定的度量值，则需要将度量的输入匹配两次在相同的连接操作中。为此，您可以派生两个<code class="codeph">Source</code>对象作为同一维度的别名，使它们输入从度量派生的两个<code class="codeph">Source</code>对象，将每个派生度量<code class="codeph">Source</code>连接到关联的别名维度<code class="codeph">Source</code>对象，然后比较结果。
                        </p>
                        <p><a href="making-queries-using-source-methods.html#GUID-2599E060-9C27-4DE2-9673-B89A7CFDBBD1__I1014430">例6-1</a>执行这样的操作。它生成一个<code class="codeph">Source</code> ，指定为CHANNEL_AWJ维度的每个值销售的单位数是否大于为CHANNEL_AWJ维度的其他值销售的单位数。
                        </p>
                        <p>该示例将<code class="codeph">units</code> （作为度量的<code class="codeph">Source</code>连接到<code class="codeph">Source</code>对象，这些对象是度量的三个维度的单个值的选择，以生成<code class="codeph">unitsSel</code> 。<code class="codeph">unitsSel</code> <code class="codeph">Source</code>指定由<code class="codeph">timeSel</code> ， <code class="codeph">custSel</code>和<code class="codeph">prodSel</code>对象指定的维度值的<code class="codeph">units</code>元素，这些对象是<code class="codeph">unitsSel</code>输出。<code class="codeph">unitsSel</code> <code class="codeph">Source</code>将CHANNEL_AWJ维度的<code class="codeph">Source</code>作为输入。
                        </p>
                        <p><code class="codeph">timeSel</code> ， <code class="codeph">custSel</code>和<code class="codeph">prodSel</code> <code class="codeph">Source</code>对象分别指定TIME_AWJ，CUSTOMER_AWJ和PRODUCT_AWJ维度的层次结构中的单个值。<code class="codeph">timeSel</code>值为<code class="codeph">CALENDAR_YEAR::MONTH::2001.01</code> ，标识2001年1月， <code class="codeph">custSel</code>值为<code class="codeph">SHIPMENTS::SHIP_TO::BUSN WRLD SJ</code> ，用于标识Business World San Jose客户， <code class="codeph">prodSel</code>值为<code class="codeph">PRODUCT_PRIMARY::ITEM::ENVY ABM</code> ，它标识了Envoy Ambassador便携式PC。</p>
                        <p><a id="d17761e599" class="indexterm-anchor"></a>下面的示例为<code class="codeph">chanHier</code>创建了两个别名<code class="codeph">chanAlias1</code>和<code class="codeph">chanAlias2</code> ，它是CHANNEL_AWJ维度的CHANNEL_PRIMARY层次结构的<code class="codeph">Source</code> 。然后它通过将<code class="codeph">unitsSel</code>与<code class="codeph">chanAlias1.value()</code>返回的<code class="codeph">Source</code>连接<code class="codeph">unitsSel</code>生成<code class="codeph">unitsSel1</code> 。该<code class="codeph">unitsSel1</code> <code class="codeph">Source</code>具有的元件和输出<code class="codeph">unitsSel</code>并且它具有<code class="codeph">chanAlias1</code>作为输入。类似地，该示例生成<code class="codeph">unitsSel2</code> ，其具有<code class="codeph">chanAlias2</code>作为输入。
                        </p>
                        <p><a id="d17761e649" class="indexterm-anchor"></a>该示例使用<code class="codeph">gt</code>的方法<code class="codeph">unitsSel1</code> ，其确定的值是否<code class="codeph">unitsSel1</code>比的值越大<code class="codeph">unitsSel2</code> 。最终的连接操作相匹配<code class="codeph">chanAlias1</code>与输入<code class="codeph">unitsSel1</code>并匹配<code class="codeph">chanAlias2</code>与输入<code class="codeph">unitsSel2</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2599E060-9C27-4DE2-9673-B89A7CFDBBD1__I1014430">
                        <p class="titleinexample">例6-1用别名方法控制源代码输入匹配</p><pre class="oac_no_warn" dir="ltr">Source unitsSel = units.join（timeSel）.join（custSel）.join（prodSel）;来源chanAlias1 = chanHier.alias（）;来源chanAlias2 = chanHier.alias（）; NumberSource unitsSel1 =（NumberSource）unitsSel.join（chanAlias1.value（））; NumberSource unitsSel2 =（NumberSource）unitsSel.join（chanAlias2.value（））;源结果= unitsSel1.gt（unitsSel2）.join（chanAlias1）//输出2，列.join（chanAlias2）; //输出1，行;</pre><p><a id="d17761e685" class="indexterm-anchor"></a>该<code class="codeph">result</code> <code class="codeph">Source</code>指定查询“，是台的销量值<code class="codeph">unitsSel1</code>的通道值<code class="codeph">chanAlias1</code>不是出售的值的个单位<code class="codeph">unitsSel2</code>为通道值<code class="codeph">chanAlias2</code> ？“因为<code class="codeph">result</code>是由接合产生<code class="codeph">chanAlias2</code>到<code class="codeph">Source</code>通过返回<code class="codeph">unitsSel1.gt(unitsSel2).join(chanAlias1)</code> <code class="codeph">chanAlias2</code>是的第一输出<code class="codeph">result</code> ，并且<code class="codeph">chanAlias1</code>是的第二输出<code class="codeph">result</code> 。
                        </p>
                        <p><code class="codeph">result</code> <code class="codeph">Source</code> <code class="codeph">Cursor</code>具有回答查询的<code class="codeph">boolean</code>值作为值。<code class="codeph">Cursor</code>的第一个输出值是<code class="codeph">chanAlias2</code>指定的通道值，第二个输出的值是<code class="codeph">chanAlias1</code>指定的通道值。
                        </p>
                        <p><a id="d17761e761" class="indexterm-anchor"></a>以下是<code class="codeph">Cursor</code>值的显示，格式为添加了标题的交叉表。列边值是来自<code class="codeph">chanAlias1</code>的值，行边值是来自<code class="codeph">chanAlias2</code>的值。交叉表单元格的值是<code class="codeph">boolean</code>值，指示列通道值的销售单位值是否大于行通道值的单位销售值。例如，第一列中的交叉表值表示列渠道值<code class="codeph">Total Channel</code>的销售单位值不大于行<code class="codeph">Total Channel</code>值的单位销售价值，但它大于<code class="codeph">Direct Sales</code>的单位销售价值， <code class="codeph">Catalog</code>和<code class="codeph">Internet</code>行值。
                        </p><pre class="oac_no_warn" dir="ltr">----------------- chanAlias1 ---------------- chanAlias2 TotalChannel目录直销互联网---------- -  ------------ ------- ------------ -------- TotalChannel false false false false目录true false false false直接销售true true false false互联网true true true true</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAAP298"></a><a id="OLAAP297"></a><div class="props_rev_3"><a id="GUID-33605F2C-B683-49FF-A5C9-BFDB6AD31167" name="GUID-33605F2C-B683-49FF-A5C9-BFDB6AD31167"></a><h4 id="OLAAP-GUID-33605F2C-B683-49FF-A5C9-BFDB6AD31167" class="sect4"><span class="enumeration_section">6.2.2</span>使用distinct方法</h4>
                  <div>
                     <div class="section">
                        <p><a id="d17761e834" class="indexterm-anchor"></a>您可以使用<code class="codeph">distinct</code>方法生成没有任何重复值的<code class="codeph">Source</code> ，如<a href="making-queries-using-source-methods.html#GUID-33605F2C-B683-49FF-A5C9-BFDB6AD31167__CBBECHCG">例6-2</a>所示。该示例连接两个维度成员选择。两个选择中都存在一些维度成员。该示例使用<code class="codeph">distinct</code>方法生成仅包含唯一维度成员且没有重复值的<code class="codeph">Source</code> 。
                        </p>
                        <p><a id="d17761e854" class="indexterm-anchor"></a><a id="d17761e858" class="indexterm-anchor"></a>的示例获取<code class="codeph">MdmStandardDimension</code>为CUSTOMER_AWJ维对象并获取<code class="codeph">MdmLevelHierarchy</code>对象该维度的市场层次结构。它得到<code class="codeph">StringSource</code>对象， <code class="codeph">mktHier</code> ，为<code class="codeph">MdmLevelHierarchy</code> 。然后使用<code class="codeph">selectValues</code>的方法<code class="codeph">mktHier</code>生产层次结构，成员的两个选择<code class="codeph">customersToSelect</code>和<code class="codeph">moreCustomersToSelect</code> 。<code class="codeph">customersToSelect</code>两名成员也出现在<code class="codeph">moreCustomersToSelect</code> <code class="codeph">customersToSelect</code> <code class="codeph">moreCustomersToSelect</code> 。
                        </p>
                        <p><a id="d17761e899" class="indexterm-anchor"></a>该示例使用<code class="codeph">appendValues</code>方法在<code class="codeph">combinedCustomers</code> <code class="codeph">Source</code>中<code class="codeph">combinedCustomers</code> <code class="codeph">customersToSelect</code>和<code class="codeph">moreCustomersToSelect</code>的元素。最后，该示例使用<code class="codeph">distinct</code>的方法<code class="codeph">combinedCustomers</code> ，它返回一个<code class="codeph">Source</code> ， <code class="codeph">distinctCombinedCustomers</code> ，仅具有层次结构的不同成员。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-33605F2C-B683-49FF-A5C9-BFDB6AD31167__CBBECHCG">
                        <p class="titleinexample">示例6-2使用distinct方法</p><pre class="oac_no_warn" dir="ltr">MdmStandardDimension mdmCustDim = mdmDBSchema.findOrCreateStandardDimension（“CUSTOMER_AWJ”）; MdmLevelHierarchy mdmMktHier = mdmCustDim.findOrCreateLevelHierarchy（“MARKETS”）; StringSource mktHier =（StringSource）mdmMktHier.getSource（）;来源customersToSelect = mktHier.selectValues（new String [] {“MARKETS :: SHIP_TO :: KOSH ENT BOS”，“MARKETS :: SHIP_TO :: KOSH ENT TOK”，“MARKETS :: SHIP_TO :: KOSH ENT WAN”}）;来源moreCustomersToSelect = mktHier.selectValues（new String [] {“MARKETS :: SHIP_TO :: KOSH ENT BOS”，“MARKETS :: SHIP_TO :: KOSH ENT TOK”，“MARKETS :: SHIP_TO :: BUSN WRLD NY”，“MARKETS :: SHIP_TO :: BUSN WRLD SJ“}）; Source combinedCustomers = customersToSelect.appendValues（moreCustomersToSelect）;来源distinctCombinedCustomers = combinedCustomers.distinct（）;</pre><p><code class="codeph">combinedCustomers</code> <code class="codeph">Source</code> <code class="codeph">Cursor</code>具有以下值：</p><pre class="oac_no_warn" dir="ltr">MARKETS :: SHIP_TO :: KOSH ENT BOS MARKETS :: SHIP_TO :: KOSH ENT TOK MARKETS :: SHIP_TO :: KOSH ENT WAN MARKETS :: SHIP_TO :: KOSH ENT BOS MARKETS :: SHIP_TO :: KOSH ENT TOK MARKETS :: SHIP_TO： ：BUSN WRLD NY MARKETS :: SHIP_TO :: BUSN WRLD SJ</pre><p><code class="codeph">distinctCombinedCustomers</code> <code class="codeph">Source</code> <code class="codeph">Cursor</code>具有以下值：</p><pre class="oac_no_warn" dir="ltr">MARKETS :: SHIP_TO :: KOSH ENT BOS MARKETS :: SHIP_TO :: KOSH ENT TOK MARKETS :: SHIP_TO :: KOSH ENT WAN MARKETS :: SHIP_TO :: BUSN WRLD NY MARKETS :: SHIP_TO :: BUSN WRLD SJ</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAAP300"></a><a id="OLAAP299"></a><div class="props_rev_3"><a id="GUID-83221D91-C9C5-4BA7-A91F-A8F33C6A8F85" name="GUID-83221D91-C9C5-4BA7-A91F-A8F33C6A8F85"></a><h4 id="OLAAP-GUID-83221D91-C9C5-4BA7-A91F-A8F33C6A8F85" class="sect4"><span class="enumeration_section">6.2.3</span>使用连接方法</h4>
                  <div>
                     <div class="section">
                        <p>如<a href="understanding-source-objects.html#GUID-871159BB-8ED1-454B-B9FA-62F36683F4B2">了解源对象中所述</a> ，使用<code class="codeph">join</code>方法生成具有基本<code class="codeph">Source</code>元素的<code class="codeph">Source</code> ，该元素由方法的<code class="codeph">joined</code> ， <code class="codeph">comparison</code>和<code class="codeph">comparisonRule</code>参数确定。<code class="codeph">visible</code>参数确定<code class="codeph">joined</code>参数<code class="codeph">Source</code>是否是连接操作生成的<code class="codeph">Source</code>的输出。您还可以使用<code class="codeph">join</code>方法将<code class="codeph">Source</code>与基础或<code class="codeph">joined</code>参数<code class="codeph">Source</code>的输入进行匹配。
                        </p>
                        <p><a id="d17761e1052" class="indexterm-anchor"></a>本章中的大多数示例都使用<code class="codeph">join</code>方法的一个或多个签名， <a href="understanding-source-objects.html#GUID-871159BB-8ED1-454B-B9FA-62F36683F4B2">理解源对象中的</a>许多示例也是如此。<a href="making-queries-using-source-methods.html#GUID-83221D91-C9C5-4BA7-A91F-A8F33C6A8F85__CBBEBEJH">例6-3</a>使用完整的<code class="codeph">join</code>签名和最简单的<code class="codeph">join</code>签名。在该示例中，完整<code class="codeph">join</code>签名演示了如何使用<code class="codeph">COMPARISON_RULE_DESCENDING</code>作为<code class="codeph">comparisonRule</code>参数。
                        </p>
                        <p><a href="making-queries-using-source-methods.html#GUID-83221D91-C9C5-4BA7-A91F-A8F33C6A8F85__CBBEBEJH">例6-3</a>使用以下<code class="codeph">Source</code>对象。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">prodSelWithShortDescr</code> ，它是<code class="codeph">Source</code>通过与加入PRODUCT_AWJ维度的简短描述属性产生<code class="codeph">Source</code>为维度的PRODUCT_PRIMARY层次结构的FAMILY层级。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">salesMeasure</code> ，它是UNITS_CUBE_AWJ多维数据集的SALES度量的<code class="codeph">Source</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">timeSelWithShortDescr</code> ，它是<code class="codeph">Source</code>通过连接与所述TIME_AWJ维度的简短描述属性产生<code class="codeph">Source</code>为维度的CALENDAR_YEAR层次结构的所选择的成员。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">custSelWithShortDescr</code> ，它是<code class="codeph">Source</code>通过连接与所述CUSTOMER_AWJ维度的简短描述属性产生<code class="codeph">Source</code>为维度的SHIPMENTS层次中所选择的部件。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">chanSelWithShortDescr</code> ，它是<code class="codeph">Source</code>通过连接与所述CHANNEL_AWJ维度的简短描述属性产生<code class="codeph">Source</code>为维度的CHANNEL_PRIMARY层次结构的所选择的成员。
                              </p>
                           </li>
                        </ul>
                        <p>第一连接操作使用的完整签名<code class="codeph">join</code>方法与<code class="codeph">prodSelWithShortDescr</code>作为碱<code class="codeph">Source</code> ， <code class="codeph">salesMeasure</code>作为接合<code class="codeph">Source</code> ，所述<code class="codeph">Source</code>用于数字数据类型作为比较<code class="codeph">Source</code>和<code class="codeph">COMPARISON_RULE_DESCENDING</code>作为比较规则。该连接操作返回的<code class="codeph">Source</code>具有产品系列级别成员和相关产品简短描述值作为基本值以及具有降序销售额的输出。
                        </p>
                        <p>接下来的三个连接操作将加入度量的其他三个维度的单个成员选择。<code class="codeph">result</code> <code class="codeph">Source</code>按所有客户和所有渠道的2001年5月销售额的降序指定产品系列级别成员。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-83221D91-C9C5-4BA7-A91F-A8F33C6A8F85__CBBEBEJH">
                        <p class="titleinexample">示例6-3使用COMPARISON_RULE_DESCENDING</p><pre class="oac_no_warn" dir="ltr">来源结果= prodSelWithShortDescr.join（salesMeasure， <a id="d17761e1185" class="indexterm-anchor"></a> salesMeasure.getDataType（），Source。COMPARISON_RULE_DESCENDING，true）。join（timeSelWithShortDescr）.join（custSelWithShortDescr）.join（chanSelWithShortDescr）;</pre><p><code class="codeph">result</code> <code class="codeph">Source</code> <code class="codeph">Cursor</code>具有以下值，显示为表格。该表仅包括层次结构成员的短值描述和销售额值，并添加了标题和格式。
                        </p><pre class="oac_no_warn" dir="ltr">总渠道客户总数MAY-01总销售额产品系列------------------- ----------------- 3,580,239.72桌面个人电脑2,508,560.92便携式电脑891,807.30 CD / DVD 632,376.84调制解调器/传真444,444.38内存312,389.39附件291,510.88监视器222,995.92操作系统44,479.32文档</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAAP302"></a><a id="OLAAP301"></a><div class="props_rev_3"><a id="GUID-50FB0A20-3E17-465D-BAFE-EB082C20FC68" name="GUID-50FB0A20-3E17-465D-BAFE-EB082C20FC68"></a><h4 id="OLAAP-GUID-50FB0A20-3E17-465D-BAFE-EB082C20FC68" class="sect4"><span class="enumeration_section">6.2.4</span>使用位置方法</h4>
                  <div>
                     <div class="section">
                        <p><a id="d17761e1241" class="indexterm-anchor"></a>您可以使用<code class="codeph">position</code>方法生成一个<code class="codeph">Source</code> ，该<code class="codeph">Source</code>具有基本元素的位置并将基数作为输入。<a href="making-queries-using-source-methods.html#GUID-50FB0A20-3E17-465D-BAFE-EB082C20FC68__CBBHFCIH">示例6-4</a>在生成<code class="codeph">Source</code>使用<code class="codeph">position</code>方法，该<code class="codeph">Source</code>指定TIME_AWJ维度的层次结构级别的第一个和最后一个成员的选择。
                        </p>
                        <p><a id="d17761e1261" class="indexterm-anchor"></a><a id="d17761e1265" class="indexterm-anchor"></a>在该示例中， <code class="codeph">mdmTimeDim</code>是<code class="codeph">MdmPrimaryDimension</code>为TIME_AWJ尺寸。该示例获取维度的level属性和CALENDAR_YEAR层次结构。然后它获取属性和层次结构的<code class="codeph">Source</code>对象。
                        </p>
                        <p><a id="d17761e1280" class="indexterm-anchor"></a>接下来，该示例创建一个<code class="codeph">Source</code>对象数组，并获取层次结构的<code class="codeph">MdmHierarchyLevel</code>组件的<code class="codeph">List</code> 。它获取每个级别的<code class="codeph">Source</code>对象并将其添加到数组，然后创建一个列表<code class="codeph">Source</code> ，其中包含级别的<code class="codeph">Source</code>对象作为元素值。
                        </p>
                        <p><a id="d17761e1305" class="indexterm-anchor"></a>然后，该示例生成<code class="codeph">levelMembers</code> ，它是一个<code class="codeph">Source</code> ，用于指定层次结构级别的成员。因为join操作的<code class="codeph">comparison</code>参数是<code class="codeph">levelList.value()</code>生成的<code class="codeph">Source</code> ， <code class="codeph">levelMembers</code>将<code class="codeph">levelList</code>作为输入。因此， <code class="codeph">levelMembers</code>是一个<code class="codeph">Source</code> ，它在连接操作中匹配输入时按级别返回每个级别的成员。
                        </p>
                        <p><a id="d17761e1339" class="indexterm-anchor"></a><a id="d17761e1343" class="indexterm-anchor"></a>的<code class="codeph">range</code> <code class="codeph">Source</code>指定的范围内的第二个元素的元素到下一个的最后一个元素的<code class="codeph">Source</code> 。
                        </p>
                        <p><a id="d17761e1358" class="indexterm-anchor"></a>下一个连接操作将生成<code class="codeph">firstAndLast</code> <code class="codeph">Source</code> 。操作的基础是<code class="codeph">levelMembers</code> 。的<code class="codeph">joined</code>参数是<code class="codeph">Source</code> ，从结果<code class="codeph">levelMembers.position()</code>方法。<code class="codeph">comparison</code>参数是<code class="codeph">range</code> <code class="codeph">Source</code> ，比较规则是<code class="codeph">COMPARISON_RULE_REMOVE</code> 。 <code class="codeph">visible</code>参数的值为<code class="codeph">true</code> 。因此， <code class="codeph">firstAndLast</code> <code class="codeph">Source</code>仅指定级别的第一个和最后一个成员，因为它从选择中删除了级别的所有其他成员。<code class="codeph">firstAndLast</code> <code class="codeph">Source</code>仍然将<code class="codeph">levelList</code>作为输入。
                        </p>
                        <p>最后的连接操作将<code class="codeph">firstAndLast</code>的输入与<code class="codeph">levelList</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-50FB0A20-3E17-465D-BAFE-EB082C20FC68__CBBHFCIH">
                        <p class="titleinexample">示例6-4选择第一个和最后一个时间元素</p><pre class="oac_no_warn" dir="ltr">MdmAttribute mdmTimeLevelAttr = mdmTimeDim.getLevelAttribute（）; MdmLevelHierarchy mdmCalHier = mdmTimeDim.findOrCreateLevelHierarchy（“CALENDAR_YEAR”）; Source levelRel = mdmTimeLevelAttr.getSource（）; StringSource calHier =（StringSource）mdmCalHier.getSource（）; Source [] levelSources = new Source [3];列表级别= mdmCalHier.getHierarchyLevels（）; for（int i = 0; i &lt;levelSources.length; i ++）{levelSources [i] =（（MdmHierarchyLevel）levels.get（i））。getSource（）;源levelList = dp.createListSource（levelSources）; Source levelMembers = calHier.join（levelRel，levelList.value（））;源范围= dp.createRangeSource（2，levelMembers.count（）。minus（1））; Source firstAndLast = levelMembers.join（levelMembers.position（），range，Source。COMPARISON_RULE_REMOVE，true）; Source result = firstAndLast.join（levelList）;</pre><p><code class="codeph">result</code> <code class="codeph">Source</code> <code class="codeph">Cursor</code>具有以下值，显示为添加了列标题和格式的表。左列命名级别，中间列是级别中成员的位置，右列是成员的本地值。TOTAL_TIME级别只有一个成员。
                        </p><pre class="oac_no_warn" dir="ltr">级别成员价值中的级别成员位置---------- ------------------------ --------- --- TOTAL_TIME 1 TOTAL YEAR 1 CY1998 YEAR 10 CY2007 QUARTER 1 CY1998。2007年第四季度第二季度。Q4 MONTH 1 1998.01 MONTH 120 2007.12</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAAP304"></a><a id="OLAAP303"></a><div class="props_rev_3"><a id="GUID-31E4FFCF-E724-4C10-A4EC-1DFC5B70E10A" name="GUID-31E4FFCF-E724-4C10-A4EC-1DFC5B70E10A"></a><h4 id="OLAAP-GUID-31E4FFCF-E724-4C10-A4EC-1DFC5B70E10A" class="sect4"><span class="enumeration_section">6.2.5</span>使用recursiveJoin方法</h4>
                  <div>
                     <div class="section">
                        <p><a id="d17761e1480" class="indexterm-anchor"></a>您可以使用<code class="codeph">recursiveJoin</code>方法生成具有按层次排序的元素的<code class="codeph">Source</code> 。您只能将<code class="codeph">recursiveJoin</code>方法与<code class="codeph">MdmHierarchy</code>的<code class="codeph">Source</code>或此类<code class="codeph">Source</code>的子类型一起使用。该方法生成一个<code class="codeph">Source</code>其元素按层次结构中的父项及其子项按层次排序。
                        </p>
                        <p>像<code class="codeph">join</code>方法，可以使用<code class="codeph">recursiveJoin</code>方法以产生<code class="codeph">Source</code> ，其具有基体的元素<code class="codeph">Source</code>是由所确定的<code class="codeph">joined</code> ， <code class="codeph">comparison</code> ，和<code class="codeph">comparisonRule</code>该方法的参数。<code class="codeph">visible</code>参数确定连接的<code class="codeph">Source</code>是否是递归连接操作生成的<code class="codeph">Source</code>的输出。
                        </p>
                        <p>完整的<code class="codeph">recursiveJoin</code>方法具有其他参数，这些参数指定层次结构的父属性，结果是否应在其子项之前或之后具有父项，以及如果结果包括子项但不包括父项，则如何排序结果的元素。<code class="codeph">recursiveJoin</code>方法有几个签名，它们是完整签名的快捷方式。
                        </p>
                        <p><a href="making-queries-using-source-methods.html#GUID-31E4FFCF-E724-4C10-A4EC-1DFC5B70E10A__CBBDDAHE">示例6-5</a>使用<code class="codeph">recursiveJoin</code>方法，该方法首先列出父项，将父项限制为基数，并且不将连接的<code class="codeph">Source</code>添加为输出。该示例首先按层次级别对PRODUCT_AWJ维度的PRODUCT_PRIMARY层次结构的成员进行排序，然后按每个成员的包属性值进行排序。
                        </p>
                        <p><a id="d17761e1558" class="indexterm-anchor"></a>在第一个<code class="codeph">recursiveJoin</code>方法中， <code class="codeph">COMPARISON_RULE_ASCENDING</code>参数指定<code class="codeph">prodHier</code>层次结构的成员在每个级别内按升序字母顺序排列。<code class="codeph">prodParentAttr</code>对象是层次结构的父属性的<code class="codeph">Source</code> 。
                        </p>
                        <p>第二个<code class="codeph">recursiveJoin</code>方法中的<code class="codeph">prodPkgAttr</code>对象是维度的package属性的<code class="codeph">Source</code> 。只有ITEM级别的成员才具有相关的包属性值。由于聚合级别TOTAL_PRODUCT，CLASS和FAMILY中的成员没有相关包，因此这些级别中成员的包属性值为<code class="codeph">null</code> ，在结果中显示为<code class="codeph">NA</code> 。某些ITEM级别成员没有相关的包值，因此它们的值也是<code class="codeph">NA</code> 。
                        </p>
                        <p><a id="d17761e1600" class="indexterm-anchor"></a>第二个<code class="codeph">recursiveJoin</code>方法将包属性值连接到它们的相关层次结构成员，并按层次按层次排序成员，然后按包属性值按级别的升序按字母顺序对它们进行排序。<code class="codeph">COMPARISON_RULE_ASCENDING_NULLS_FIRST</code>参数指定具有<code class="codeph">null</code>值的成员出现在同一级别中的其他成员之前。然后，该示例加入方法，结果<code class="codeph">sortedHierAscending</code> ，到包属性以产生<code class="codeph">Source</code>具有包属性值作为元素值和<code class="codeph">sortedHierAscending</code>作为输出。
                        </p>
                        <p><a id="d17761e1625" class="indexterm-anchor"></a>第三个<code class="codeph">recursiveJoin</code>方法与第二个相同，只是<code class="codeph">COMPARISON_RULE_DESCENDING_NULLS_FIRST</code>参数按级别按包属性值按字母顺序降序对层次结构成员进行排序。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-31E4FFCF-E724-4C10-A4EC-1DFC5B70E10A__CBBDDAHE">
                        <p class="titleinexample">示例6-5按属性按层次排序产品</p><pre class="oac_no_warn" dir="ltr">源result1 = prodHier.recursiveJoin（prodDim.value（），prodHier.getDataType（），prodParentAttr，Source。COMPARISON_RULE_ASCENDING）; Source sortedHierAscending = prodHier.recursiveJoin（prodPkgAttr，prodPkgAttr.getDataType（），prodParentAttr，Source。COMPARISON_RULE_ASCENDING_NULLS_FIRST）;源result2 = prodPkgAttr.join（sortedHierAscending）; Source sortedHierDescending = prodHier.recursiveJoin（prodPkgAttr， <a id="d17761e1641" class="indexterm-anchor"></a> prodPkgAttr.getDataType（），prodParentAttr，Source。COMPARISON_RULE_DESCENDING_NULLS_FIRST）;源result3 = prodPkgAttr.join（sortedHierDescending）;</pre><p><code class="codeph">result1</code> <code class="codeph">Source</code> <code class="codeph">Cursor</code>具有以下值，并添加了标题。该列表仅包含<code class="codeph">Cursor</code>的前17个值。
                        </p><pre class="oac_no_warn" dir="ltr">产品主要层次结构值------------------------------------- PRODUCT_PRIMARY :: TOTAL_PRODUCT :: TOTAL PRODUCT_PRIMARY： ：CLASS :: HRD PRODUCT_PRIMARY :: FAMILY :: DISK PRODUCT_PRIMARY :: ITEM :: EXT CD ROM PRODUCT_PRIMARY :: ITEM :: EXT DVD PRODUCT_PRIMARY :: ITEM :: INT 8X DVD PRODUCT_PRIMARY :: ITEM :: INT CD ROM PRODUCT_PRIMARY :: ITEM :: INT CD USB PRODUCT_PRIMARY :: ITEM :: INT RW DVD PRODUCT_PRIMARY :: FAMILY :: DTPC PRODUCT_PRIMARY :: ITEM :: SENT FIN PRODUCT_PRIMARY :: ITEM :: SENT MM PRODUCT_PRIMARY :: ITEM :: SENT STD PRODUCT_PRIMARY :: FAMILY :: LTPC PRODUCT_PRIMARY :: ITEM :: ENVY ABM PRODUCT_PRIMARY :: ITEM :: ENVY EXE PRODUCT_PRIMARY :: ITEM :: ENVY STD ...
</pre><p><code class="codeph">result2</code> <code class="codeph">Source</code> <code class="codeph">Cursor</code>具有以下值，显示为添加了标题的表。该表仅包含<code class="codeph">Cursor</code>的前17个值。左列具有层次结构的成员值，右列具有成员的包属性值。
                        </p>
                        <p>首先显示具有<code class="codeph">null</code>值的ITEM级别成员，然后其他级别成员按包值的升序显示。由于package属性的数据类型是String，因此包值按升序字母顺序排列。
                        </p><pre class="oac_no_warn" dir="ltr">产品主要层次结构值包属性值------------------------------------- ------ ----------------- PRODUCT_PRIMARY :: TOTAL_PRODUCT :: TOTAL NA PRODUCT_PRIMARY :: CLASS :: HRD NA PRODUCT_PRIMARY :: FAMILY :: DISK NA PRODUCT_PRIMARY :: ITEM :: EXT CD ROM NA PRODUCT_PRIMARY :: ITEM :: INT 8X DVD NA PRODUCT_PRIMARY :: ITEM :: INT CD USB NA PRODUCT_PRIMARY :: ITEM :: EXT DVD Executive PRODUCT_PRIMARY :: ITEM :: INT CD ROM Laptop Value Pack PRODUCT_PRIMARY :: ITEM :: INT RW DVD多媒体PRODUCT_PRIMARY :: FAMILY :: DTPC NA PRODUCT_PRIMARY :: ITEM :: SENT FIN NA PRODUCT_PRIMARY :: ITEM :: SENT STD NA PRODUCT_PRIMARY :: ITEM :: SENT MM Multimedia PRODUCT_PRIMARY :: FAMILY :: LTPC NA RODUCT_PRIMARY :: ITEM： ：ENVY ABM NA PRODUCT_PRIMARY :: ITEM :: ENVY EXE Executive PRODUCT_PRIMARY :: ITEM :: ENVY STD Laptop Value Pack ...
</pre><p><code class="codeph">result3</code> <code class="codeph">Source</code> <code class="codeph">Cursor</code>具有以下值，显示为添加了标题的表。这次成员按降序排列，按包属性值按字母顺序排列。
                        </p><pre class="oac_no_warn" dir="ltr">产品主要层次结构值包属性值------------------------------------- ------ ----------------- PRODUCT_PRIMARY :: TOTAL_PRODUCT :: TOTAL NA PRODUCT_PRIMARY :: CLASS :: HRD NA PRODUCT_PRIMARY :: FAMILY :: DISK NA PRODUCT_PRIMARY :: ITEM :: EXT CD ROM NA PRODUCT_PRIMARY :: ITEM :: INT 8X DVD NA PRODUCT_PRIMARY :: ITEM :: INT CD USB NA PRODUCT_PRIMARY :: ITEM :: INT RW DVD Multimedia PRODUCT_PRIMARY :: ITEM :: INT CD ROM Laptop Value Pack PRODUCT_PRIMARY :: ITEM :: EXT DVD Executive PRODUCT_PRIMARY :: FAMILY :: DTPC NA PRODUCT_PRIMARY :: ITEM :: SENT FIN NA PRODUCT_PRIMARY :: ITEM :: SENT STD NA PRODUCT_PRIMARY :: ITEM :: SENT MM Multimedia PRODUCT_PRIMARY :: FAMILY :: LTPC NA PRODUCT_PRIMARY :: ITEM： ：ENVY ABM NA PRODUCT_PRIMARY :: ITEM :: ENVY STD Laptop Value Pack PRODUCT_PRIMARY :: ITEM :: ENVY EXE Executive ...</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAAP305"></a><div class="props_rev_3"><a id="GUID-77BC1C96-64D7-4CD4-8D3A-BFC44C69EF2B" name="GUID-77BC1C96-64D7-4CD4-8D3A-BFC44C69EF2B"></a><h4 id="OLAAP-GUID-77BC1C96-64D7-4CD4-8D3A-BFC44C69EF2B" class="sect4"><span class="enumeration_section">6.2.6</span>使用值方法</h4>
                  <div>
                     <p><a id="d17761e1732" class="indexterm-anchor"></a>如<span class="q">“ <a href="understanding-source-objects.html#GUID-F00CC751-9451-4ECE-84AE-0B0ECC724D78">使用输入派生源</a> ” <a href="understanding-source-objects.html#GUID-F00CC751-9451-4ECE-84AE-0B0ECC724D78">中所述</a></span> ，您可以使用<code class="codeph">value</code>方法创建将自身作为输入的<code class="codeph">Source</code> 。该关系使您可以选择<code class="codeph">Source</code>的元素子集。您还可以使用值方法来反转关系。
                     </p>
                     <p>以下主题包含这些操作的示例。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="making-queries-using-source-methods.html#GUID-6364436A-CFAE-44DA-89E5-C3216EBB4280">选择源的元素</a></p>
                        </li>
                        <li>
                           <p><a href="making-queries-using-source-methods.html#GUID-E40179C1-98E7-4690-A5EF-3D59681168E6">扭转关系</a></p>
                        </li>
                     </ul>
                  </div><a id="OLAAP307"></a><a id="OLAAP306"></a><div class="props_rev_3"><a id="GUID-6364436A-CFAE-44DA-89E5-C3216EBB4280" name="GUID-6364436A-CFAE-44DA-89E5-C3216EBB4280"></a><h5 id="OLAAP-GUID-6364436A-CFAE-44DA-89E5-C3216EBB4280" class="sect5"><span class="enumeration_section">6.2.6.1</span>选择源元素</h5>
                     <div>
                        <div class="section">
                           <p><a id="d17761e1802" class="indexterm-anchor"></a><a id="d17761e1806" class="indexterm-anchor"></a> <a href="understanding-source-objects.html#GUID-D196A026-C589-401A-B312-001702278183__BABBCGED">例5-11</a>和<a href="making-queries-using-source-methods.html#GUID-6364436A-CFAE-44DA-89E5-C3216EBB4280__CBBIEBGB">例6-6</a>演示了选择<code class="codeph">Source</code>元素的子集。在<a href="making-queries-using-source-methods.html#GUID-6364436A-CFAE-44DA-89E5-C3216EBB4280__CBBIEBGB">例6-6中</a> ， <code class="codeph">shipHier</code>是CUSTOMER_AWJ维度的SHIPMENTS层次结构的<code class="codeph">Source</code> 。该<code class="codeph">selectValues</code>的方法<code class="codeph">shipHier</code>产生<code class="codeph">custSel</code> ，这是一些元件的选择<code class="codeph">shipHier</code> 。该<code class="codeph">selectValues</code>的方法<code class="codeph">custSel</code>产生<code class="codeph">custSel2</code> ，它是选择的一个子集。
                           </p>
                           <p>第一个<code class="codeph">join</code>方法以<code class="codeph">custSel</code>为基础，以及连接的<code class="codeph">Source</code> 。它有<code class="codeph">custSel2</code>作为比较<code class="codeph">Source</code> 。生成的<code class="codeph">Source</code> ， <code class="codeph">result1</code>的元素是基础的笛卡尔积和已由比较<code class="codeph">Source</code>指定的已连接的<code class="codeph">Source</code>对象。该<code class="codeph">result1</code> <code class="codeph">Source</code>具有一组的元素的<code class="codeph">custSel</code>对的每个元素<code class="codeph">custSel</code>即在比较<code class="codeph">Source</code> 。<code class="codeph">visible</code>参数的<code class="codeph">true</code>值使得连接的<code class="codeph">Source</code>成为<code class="codeph">result1</code>的输出。
                           </p>
                           <p>第二个<code class="codeph">join</code>方法还将<code class="codeph">custSel</code>作为基础，将<code class="codeph">custSel2</code>作为比较<code class="codeph">Source</code> ，但它将<code class="codeph">custSel.value()</code>方法返回的<code class="codeph">Source</code>作为连接的<code class="codeph">Source</code> 。因为<code class="codeph">custSel</code>是已连接<code class="codeph">Source</code>的输入，所以基本<code class="codeph">Source</code>与该输入匹配。该输入关系导致生成的<code class="codeph">Source</code> ， <code class="codeph">result2</code> ，只有<code class="codeph">custSel</code>那些元素也在比较<code class="codeph">Source</code> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-6364436A-CFAE-44DA-89E5-C3216EBB4280__CBBIEBGB">
                           <p class="titleinexample">示例6-6选择源元素的子集</p><pre class="oac_no_warn" dir="ltr">StringSource custSel = shipHier.selectValues（new String [] {“SHIPMENTS :: SHIP_TO :: COMP WHSE SIN”，“SHIPMENTS :: SHIP_TO :: COMP WHSE LON”，“SHIPMENTS :: SHIP_TO :: COMP WHJ SJ”，“SHIPMENTS :: SHIP_TO :: COMP WHSE ATL“}）;来源custSel2 = custSel.selectValues（new String [] {“SHIPMENTS :: SHIP_TO :: COMP WHSE SIN”，“SHIPMENTS :: SHIP_TO :: COMP WHS SJ”}）;来源result1 = custSel.join（custSel，custSel2，true）;来源result2 = custSel.join（custSel.value（），custSel2，true）;</pre><p><code class="codeph">result1</code>的<code class="codeph">Cursor</code>具有下表中显示的值。该表具有不在<code class="codeph">Cursor</code>中的格式和标题。左列具有<code class="codeph">Cursor</code>输出元素的值。右列具有<code class="codeph">Cursor</code>的基值。
                           </p><pre class="oac_no_warn" dir="ltr">输出值result1值--------------------------------- ------------- -------------------- SHIPMENTS :: SHIP_TO :: COMP SJ SHIPMENTS :: SHIP_TO :: COMP ATL SHIPMENTS :: SHIP_TO :: COMP WHJ SJ SHIPMENTS :: SHIP_TO :: COMP SJ SHIPMENTS :: SHIP_TO :: COMP SJ SHIPMENTS :: SHIP_TO :: COMP SINS SHIPMENTS :: SHIP_TO :: COMP SJ SHIPMENTS :: SHIP_TO :: COMP WHOT LON SHIPMENTS :: SHIP_TO :: COMP WHSE SIN SHIPMENTS :: SHIP_TO :: COMP ATING SHIPMENTS :: SHIP_TO :: COMP SINS SHIPMENTS :: SHIP_TO :: COMP SJ SHIPMENTS :: SHIP_TO :: COMP SINS SHIPMENTS :: SHIP_TO :: COMP WHSE SIN SHIPMENTS :: SHIP_TO :: COMP WHSE SIN SHIPMENTS :: SHIP_TO :: COMP WHON LON</pre><p><code class="codeph">result2</code>的<code class="codeph">Cursor</code>具有以下值，显示为添加了标题的表。左列具有<code class="codeph">Cursor</code>输出元素的值。右列具有<code class="codeph">Cursor</code>的基值。
                           </p><pre class="oac_no_warn" dir="ltr">输出值result2值--------------------------------- ------------- -------------------- SHIPMENTS :: SHIP_TO :: COMP SJ SHIPMENTS :: SHIP_TO :: COMP SJ SHIPMENTS :: SHIP_TO :: COMP WHSE SIN SHIPMENTS :: SHIP_TO :: COMP WHSE SIN</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="OLAAP309"></a><a id="OLAAP308"></a><div class="props_rev_3"><a id="GUID-E40179C1-98E7-4690-A5EF-3D59681168E6" name="GUID-E40179C1-98E7-4690-A5EF-3D59681168E6"></a><h5 id="OLAAP-GUID-E40179C1-98E7-4690-A5EF-3D59681168E6" class="sect5"><span class="enumeration_section">6.2.6.2撤销</span>关系</h5>
                     <div>
                        <div class="section">
                           <p><a id="d17761e2031" class="indexterm-anchor"></a><a id="d17761e2035" class="indexterm-anchor"></a><a id="d17761e2039" class="indexterm-anchor"></a> <code class="codeph">value</code>方法的另一个用途是反转关系，如<a href="making-queries-using-source-methods.html#GUID-E40179C1-98E7-4690-A5EF-3D59681168E6__CHDEIIIH">例6-7</a>所示。该示例反转CUSTOMER_AWJ维度的祖先属性关系，以生成表示后代关系的<code class="codeph">Source</code> ， <code class="codeph">marketsDescendants</code> 。<code class="codeph">marketsDescendants</code> <code class="codeph">Source</code>作为维度的MARKETS层次结构的<code class="codeph">Source</code>作为输入。当您使用与该输入匹配的<code class="codeph">Source</code>加入<code class="codeph">marketsDescendants</code>时，您将获得一个<code class="codeph">Source</code> ，该<code class="codeph">Source</code>指定层次结构的参与成员的后代。
                           </p>
                           <p>逆转关系的另一个例子是<a href="making-queries-using-source-methods.html#GUID-53956A82-8350-44A3-A01C-B0D69B83EFFD__CBBGEGFA">例6-10</a> 。它使用<code class="codeph">value</code>方法来反转父属性以获取父项的子项。
                           </p>
                           <p><a href="making-queries-using-source-methods.html#GUID-E40179C1-98E7-4690-A5EF-3D59681168E6__CHDEIIIH">例6-7</a>首先获取<code class="codeph">MdmStandardDimension</code>为CUSTOMER_AWJ尺寸和对象<code class="codeph">MdmLevelHierarchy</code>该维度的市场层次结构对象。它获取层次结构的<code class="codeph">Source</code> 。
                           </p>
                           <p><a id="d17761e2094" class="indexterm-anchor"></a>接下来的示例获取维度的祖先属性和它的<code class="codeph">Source</code> 。祖先属性将每个维度成员与该成员的祖先相关联。
                           </p>
                           <p>要生成表示维度的每个成员的后代的<code class="codeph">Source</code> ，该示例通过将层次结构的<code class="codeph">Source</code> <code class="codeph">mktHier</code>与祖先属性<code class="codeph">ancestorsAttr</code>连接来反转祖先关系。连接操作使用<code class="codeph">mktHier.value()</code>作为比较<code class="codeph">Source</code> ，因此连接操作<code class="codeph">marketsDescendants</code>返回的<code class="codeph">Source</code>具有<code class="codeph">mktHier</code>作为输入。所述<code class="codeph">marketsDescendants</code> <code class="codeph">Source</code>指定，对于每个元件<code class="codeph">ancestorsAttr</code> ，的元素<code class="codeph">mktHier</code>具有所述<code class="codeph">ancestorsAttr</code>元件作为其祖先。因为它具有<code class="codeph">mktHier</code>作为输入，所以<code class="codeph">marketsDescendants</code> <code class="codeph">Source</code>功能与表示层次结构的后代关系的属性相同。
                           </p>
                           <p>这个例子说明了这一点，当它加入<code class="codeph">mktHier</code>到<code class="codeph">marketsDescendants</code>在下面一行。
                           </p><pre class="oac_no_warn" dir="ltr">来源selValDescendants = marketsDescendants.join（mktHier，selVal）;</pre><p>在连接操作中，加入了<code class="codeph">Source</code> ， <code class="codeph">mktHier</code> ，用的输入相匹配<code class="codeph">marketsDescendants</code> 。比较<code class="codeph">Source</code>是<code class="codeph">selVal</code> ，它指定层次结构的单个成员。该加入操作返回<code class="codeph">selValDescendants</code> ，它指定的元素<code class="codeph">marketsDescendants</code>属于的后代<code class="codeph">selVal</code>构件。结果还包括祖先成员本身。所述<code class="codeph">mktHier</code> <code class="codeph">Source</code>不是的输出<code class="codeph">selValDescendants</code>因为签名<code class="codeph">join</code>使用的方法推导出<code class="codeph">Source</code>不具有接合<code class="codeph">Source</code>作为输出。
                           </p>
                           <p><a id="d17761e2214" class="indexterm-anchor"></a>下面的示例使用<code class="codeph">join</code>方法的完整签名来生成<code class="codeph">selValDescendantsOnly</code> ，它只包含后代而不包含祖先值。以除去祖先值时，例如再次使用该<code class="codeph">value</code>的方法，这时候返回一个<code class="codeph">Source</code>是在<code class="codeph">joined</code>返回连接操作的参数<code class="codeph">selValDescendantsOnly</code> 。比较<code class="codeph">Source</code>是<code class="codeph">selVal</code> ，比较规则是<code class="codeph">COMPARISON_RULE_REMOVE</code> 。</p>
                           <p><a id="d17761e2248" class="indexterm-anchor"></a>最后，该示例使用<code class="codeph">removeValue</code>方法生成<code class="codeph">selValDescendantsOnly2</code> ，这与<code class="codeph">selValDescendantsOnly</code>相同。这只是演示了<code class="codeph">removeValue</code>方法是返回<code class="codeph">selValDescendantsOnly</code>的连接操作的快捷方式。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-E40179C1-98E7-4690-A5EF-3D59681168E6__CHDEIIIH">
                           <p class="titleinexample">示例6-7使用值Method反转关系</p><pre class="oac_no_warn" dir="ltr">MdmStandardDimension mdmCustDim = mdmDBSchema.findOrCreateStandardDimension（“CUSTOMER_AWJ”）; MdmLevelHierarchy mdmMktHier = mdmCustDim.findOrCreateLevelHierarchy（“MARKETS”）; StringSource mktHier =（StringSource）mdmMktHier.getSource（）; MdmAttribute mdmAncestorsAttr = mdmCustDim.getAncestorsAttribute（）; Source ancestorsAttr = mdmAncestorsAttr.getSource（）; //反转祖先关系以获得后代关系。来源marketsDescendants = mktHier.join（ancestorsAttr，mktHier.value（））;来源selVal = mktHier.selectValue（“MARKETS :: ACCOUNT :: BUSN WRLD”）; //选择指定层次结构成员的后代。StringSource selValDescendants =（StringSource）marketsDescendants.join（mktHier，selVal）; //删除祖先值，以便只保留后代。源selValDescendantsOnly = selValDescendants.join（selValDescendants.value（），selVal，Source。COMPARISON_RULE_REMOVE），false; //使用removeValue方法生成相同的结果。来源selValDescendantsOnly2 = selValDescendants.removeValue（“MARKETS :: ACCOUNT :: BUSN WRLD”）;</pre><p><code class="codeph">selValDescendants</code>的<code class="codeph">Cursor</code>具有以下值。
                           </p><pre class="oac_no_warn" dir="ltr">MARKETS :: ACCOUNT :: BUSN WRLD MARKETS :: SHIP_TO :: BUSN WRLD HAM MARKETS :: SHIP_TO :: BUSN WRLD NAN MARKETS :: SHIP_TO :: BUSN WRLD NY MARKETS :: SHIP_TO :: BUSN WRLD SJ</pre><p><code class="codeph">selValDescendantsOnly</code>的<code class="codeph">Cursor</code>具有以下值。
                           </p><pre class="oac_no_warn" dir="ltr">MARKETS :: SHIP_TO :: BUSN WRLD HAM MARKETS :: SHIP_TO :: BUSN WRLD NAN MARKETS :: SHIP_TO :: BUSN WRLD NY MARKETS :: SHIP_TO :: BUSN WRLD SJ</pre><p><code class="codeph">selValDescendantsOnly2</code>的<code class="codeph">Cursor</code>具有以下值。
                           </p><pre class="oac_no_warn" dir="ltr">MARKETS :: SHIP_TO :: BUSN WRLD HAM MARKETS :: SHIP_TO :: BUSN WRLD NAN MARKETS :: SHIP_TO :: BUSN WRLD NY MARKETS :: SHIP_TO :: BUSN WRLD SJ</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div><a id="OLAAP310"></a><div class="props_rev_3"><a id="GUID-41F505FD-DF76-4973-9668-B6C77C6CEC65" name="GUID-41F505FD-DF76-4973-9668-B6C77C6CEC65"></a><h3 id="OLAAP-GUID-41F505FD-DF76-4973-9668-B6C77C6CEC65" class="sect3"><span class="enumeration_section">6.3</span>使用其他来源方法</h3>
               <div>
                  <p>除了作为基本方法的各种签名的方法之外， <code class="codeph">Source</code>类还有许多使用基本方法组合的其他方法。一些方法基于单个位置执行选择，例如<code class="codeph">at</code>和<code class="codeph">offset</code>方法。其他人在一系列位置上操作，例如<code class="codeph">interval</code>方法。一些执行比较，例如<code class="codeph">eq</code>和<code class="codeph">gt</code> ，选择一个或多个元素，例如<code class="codeph">selectValue</code>或<code class="codeph">removeValue</code> ，或排序元素，例如<code class="codeph">sortAscending</code>或<code class="codeph">sortDescendingHierarchically</code> 。
                  </p>
                  <p><code class="codeph">Source</code>的子类每个都有其他专门的方法。例如， <code class="codeph">NumberSource</code>类有许多执行数学函数的方法，例如<code class="codeph">abs</code> ， <code class="codeph">div</code>和<code class="codeph">cos</code> ，以及执行聚合的方法，例如<code class="codeph">average</code>和<code class="codeph">total</code> 。
                  </p>
                  <p>以下主题提供了演示某些<code class="codeph">Source</code>方法的示例。一些示例是OLAP应用程序通常执行的任务。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="making-queries-using-source-methods.html#GUID-6039C35F-361A-430F-9015-5687F072245A">使用提取方法</a></p>
                     </li>
                     <li>
                        <p><a href="making-queries-using-source-methods.html#GUID-2DCC7EA8-B3E6-40E8-8F73-6584CD8667CA">创建立方体和旋转边缘</a></p>
                     </li>
                     <li>
                        <p><a href="making-queries-using-source-methods.html#GUID-53956A82-8350-44A3-A01C-B0D69B83EFFD">在层次结构中向上和向下钻取</a></p>
                     </li>
                     <li>
                        <p><a href="making-queries-using-source-methods.html#GUID-DB8D90EC-7527-42B3-AC6C-79CB4976DD2D">按度量值按层次排序</a></p>
                     </li>
                     <li>
                        <p><a href="making-queries-using-source-methods.html#GUID-A0ADEAE2-610C-4370-833E-4E10CB5EA925">使用NumberSource方法计算已售出单位的份额</a></p>
                     </li>
                     <li>
                        <p><a href="making-queries-using-source-methods.html#GUID-E1F9B138-7563-46A7-9D04-7B33991A156F">基于时间序列操作的选择</a></p>
                     </li>
                     <li>
                        <p><a href="making-queries-using-source-methods.html#GUID-C3436997-90D0-4C9D-9C91-1B74FD8E0638">使用参数化源对象选择一组元素</a></p>
                     </li>
                  </ul>
               </div><a id="OLAAP312"></a><a id="OLAAP311"></a><div class="props_rev_3"><a id="GUID-6039C35F-361A-430F-9015-5687F072245A" name="GUID-6039C35F-361A-430F-9015-5687F072245A"></a><h4 id="OLAAP-GUID-6039C35F-361A-430F-9015-5687F072245A" class="sect4"><span class="enumeration_section">6.3.1</span>使用提取方法</h4>
                  <div>
                     <div class="section">
                        <p><a id="d17761e2474" class="indexterm-anchor"></a><a id="d17761e2478" class="indexterm-anchor"></a>您可以使用<code class="codeph">extract</code>方法提取<code class="codeph">Source</code>的值，该值是另一个<code class="codeph">Source</code>的元素的值。如果<code class="codeph">Source</code>元素具有不是<code class="codeph">Source</code>对象的元素值，则<code class="codeph">extract</code>方法的操作类似于<code class="codeph">value</code>方法。
                        </p>
                        <p><a href="making-queries-using-source-methods.html#GUID-6039C35F-361A-430F-9015-5687F072245A__CBBBGBGC">示例6-8</a>使用<code class="codeph">extract</code>方法获取<code class="codeph">NumberSource</code>对象的值，这些对象本身就是<code class="codeph">Source</code> <code class="codeph">measDim</code>列表元素的值。每个<code class="codeph">NumberSource</code>对象代表一个度量。
                        </p>
                        <p><a id="d17761e2524" class="indexterm-anchor"></a><a id="d17761e2528" class="indexterm-anchor"></a>该示例从<code class="codeph">StringSource</code>对象中为UNITS_CUBE_AWJ多维数据集的维度的层次结构选择元素。<code class="codeph">cost</code> ， <code class="codeph">units</code>和<code class="codeph">sales</code>对象是多维数据集的COST，UNITS和SALES度量的<code class="codeph">NumberSource</code>对象。
                        </p>
                        <p><a id="d17761e2550" class="indexterm-anchor"></a>接下来，该示例创建<code class="codeph">measDim</code> ，它是一个列表<code class="codeph">Source</code> ，它具有三个<code class="codeph">NumberSource</code>对象作为元素值。然后使用<code class="codeph">extract</code>方法获取<code class="codeph">NumberSource</code>对象的值。生成的未命名<code class="codeph">Source</code>具有<code class="codeph">measDim</code>作为提取输入。第一个连接操作将<code class="codeph">measDim.extract()</code>作为基础<code class="codeph">Source</code> 。基本<code class="codeph">Source</code>的输入与<code class="codeph">measDim</code>匹配， <code class="codeph">measDim</code>是<code class="codeph">joined</code>参数。然后，该示例通过连接维度选择来匹配度量的其他输入，以生成<code class="codeph">result</code> <code class="codeph">Source</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6039C35F-361A-430F-9015-5687F072245A__CBBBGBGC">
                        <p class="titleinexample">例6-8使用提取方法</p><pre class="oac_no_warn" dir="ltr">Source prodSel = prodHier.selectValues（new String [] {“PRODUCT_PRIMARY :: ITEM :: ENVY STD”，“PRODUCT_PRIMARY :: ITEM :: ENVY EXE”，“PRODUCT_PRIMARY :: ITEM :: ENVY ABM”}）; Source chanSel = chanHier.selectValue（“CHANNEL_PRIMARY :: CHANNEL :: DIR”）;源timeSel = timeHier.selectValue（“CALENDAR_YEAR :: MONTH :: 2001.05”）;来源custSel = custHier.selectValue（“SHIPMENTS :: TOTAL_CUSTOMER :: TOTAL”）;来源measDim = dp.createListSource（new Source [] {cost，units，sales}）;源结果= measDim.extract（）。join（measDim）//列.join（prodSel）// row .join（timeSel）// page .join（chanSel）// page .join（custSel）; //页面</pre><p>以下交叉表显示<code class="codeph">result</code> <code class="codeph">Source</code>的<code class="codeph">Cursor</code>值，并添加了标题和格式。
                        </p><pre class="oac_no_warn" dir="ltr">发货:: TOTAL_CUSTOMER :: TOTAL CHANNEL_PRIMARY :: CHANNEL :: DIR CALENDAR_YEAR :: MONTH :: 2001.05项目成本单位销售金额-------- ---------- ----- ----- ------------- ENVY ABM 73,316.10 26 77,825.54 ENVY EXE 111,588.30 37 116,470.45 ENVY STD 92,692.47 39 93,429.57</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAAP314"></a><a id="OLAAP313"></a><div class="props_rev_3"><a id="GUID-2DCC7EA8-B3E6-40E8-8F73-6584CD8667CA" name="GUID-2DCC7EA8-B3E6-40E8-8F73-6584CD8667CA"></a><h4 id="OLAAP-GUID-2DCC7EA8-B3E6-40E8-8F73-6584CD8667CA" class="sect4"><span class="enumeration_section">6.3.2</span>创建立方体和旋转边缘</h4>
                  <div>
                     <div class="section">
                        <p>一种典型的OLAP操作是创建多维数据集，该多维数据集是多维数据数组。多维数据集的数据由多维数据集的列，行和页面边缘的元素指定。多维数据集的数据可以是来自度量维度成员指定的度量的数据。多维数据集数据也可以是由度量数据的某些计算指定的维度成员，例如单位销售数量大于指定数量的产品。</p>
                        <p><a id="d17761e2657" class="indexterm-anchor"></a><a id="d17761e2661" class="indexterm-anchor"></a><a id="d17761e2665" class="indexterm-anchor"></a><a id="d17761e2669" class="indexterm-anchor"></a><a id="d17761e2673" class="indexterm-anchor"></a><a id="d17761e2677" class="indexterm-anchor"></a><a id="d17761e2681" class="indexterm-anchor"></a><a id="d17761e2685" class="indexterm-anchor"></a><a id="d17761e2689" class="indexterm-anchor"></a><a id="d17761e2691" class="indexterm-anchor"></a><a id="d17761e2693" class="indexterm-anchor"></a><a id="d17761e2698" class="indexterm-anchor"></a><a id="d17761e2702" class="indexterm-anchor"></a>本主题中的大多数示例都创建了多维数据集。<a href="making-queries-using-source-methods.html#GUID-2DCC7EA8-B3E6-40E8-8F73-6584CD8667CA__CBAGDGHE">例6-9</a>创建了一个多维数据集，其中包含作为多维数据集数据销售的单位数量。列边缘值最初来自通道维度层次结构，行边缘值来自时间维度层次结构，页面边缘值来自产品和客户维度的层次结构。页面边缘上的产品和客户成员值由参数化的<code class="codeph">Source</code>对象表示。
                        </p>
                        <p>该示例将层次结构成员的选择连接到维度的短值描述属性，以便结果包括属性值。然后，该示例将从层次结构派生的<code class="codeph">Source</code>对象连接到度量的<code class="codeph">Source</code> ，以生成<code class="codeph">cube</code>查询。它提交当前的<code class="codeph">Transaction</code> ，然后为查询创建<code class="codeph">Cursor</code>并显示值。
                        </p>
                        <p>在显示<code class="codeph">Cursor</code>的值之后，该示例更改了客户选择的参数化<code class="codeph">Source</code>的<code class="codeph">Parameter</code>的值，从而在同一<code class="codeph">Transaction</code>使用相同的<code class="codeph">Cursor</code>检索不同的结果集。该示例重置的位置<code class="codeph">Cursor</code> ，并且显示的值<code class="codeph">Cursor</code>一次。
                        </p>
                        <p>然后，该示例将对列和行边进行旋转，以使列值为时间成员，行值为通道成员。它提交<code class="codeph">Transaction</code> ，为查询创建另一个<code class="codeph">Cursor</code> ，并显示值。然后它会更改每个<code class="codeph">Parameter</code>对象的值并再次显示<code class="codeph">Cursor</code>的值。
                        </p>
                        <p><code class="codeph">dp</code>对象是<code class="codeph">DataProvider</code> 。<code class="codeph">getContext</code>方法获取一个<code class="codeph">Context11g</code>对象，该对象具有一个以交叉表格式显示<code class="codeph">Cursor</code>值的方法。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2DCC7EA8-B3E6-40E8-8F73-6584CD8667CA__CBAGDGHE">
                        <p class="titleinexample">示例6-9创建多维数据集并旋转边缘</p><pre class="oac_no_warn" dir="ltr">//使用来自CUSTOMER_AWJ和PRODUCT_AWJ维度的层次结构//的值创建参数对象。StringParameter custParam = new StringParameter（dp，“SHIPMENTS :: REGION :: EMEA”）; StringParameter prodParam = new StringParameter（dp，“PRODUCT_PRIMARY :: FAMILY :: LTPC”）; //使用Parameter对象创建参数化的Source对象。来源custParamSrc = custParam.createSource（）; Source prodParamSrc = prodParam.createSource（）; //使用参数//对象作为连接操作中的比较，从层次结构中选择单个值。源paramCustSel = custHier.join（custHier.value（），custParamSrc）;源paramProdSel = prodHier.join（prodHier.value（），prodParamSrc）; //从度量的其他维度中选择成员。源timeSel = timeHier.selectValues（new String [] {“CALENDAR_YEAR :: YEAR :: CY1999”“CALENDAR_YEAR :: YEAR :: CY2000”，“CALENDAR_YEAR :: YEAR :: CY2001”}）; Source chanSel = chanHier.selectValues（new String [] {“CHANNEL_PRIMARY :: CHANNEL :: DIR”，“CHANNEL_PRIMARY :: CHANNEL :: CAT”，“CHANNEL_PRIMARY :: CHANNEL :: INT”}）; //将层次结构选择加入到维度的简短描述属性中。Source columnEdge = chanSel.join（chanShortDescr）;源rowEdge = timeSel.join（timeShortDescr）; Source page1 = paramProdSel.join（prodShortDescr）; Source page2 = paramCustSel.join（custShortDescr）; //将维度选择加入度量。Source cube = units.join（columnEdge）.join（rowEdge）.join（page2）.join（page1）; //以下方法提交当前Transaction。的getContext（）提交（）; //为查询创建一个Cursor。CursorManager cursorMngr = dp.createCursorManager（cube）; CompoundCursor cubeCursor =（CompoundCursor）cursorMngr.createCursor（）; //将Cursor的值显示为交叉表。。的getContext（）displayCursorAsCrosstab（cubeCursor）; //更改客户参数值。custParam.setValue（ “SHIPMENTS :: REGION :: AMER”）; //将光标位置重置为1并再次显示值。cubeCursor.setPosition（1）;的println（）; 。的getContext（）displayCursorAsCrosstab（cubeCursor）; //旋转列和行边缘。columnEdge = timeSel.join（timeShortDescr）; rowEdge = chanSel.join（chanShortDescr）; //将维度选择加入度量。cube = units.join（columnEdge）.join（rowEdge））。join（page2）.join（page1）; //提交当前的交易。的getContext（）提交（）; //创建另一个光标。cursorMngr = dp.createCursorManager（cube）; cubeCursor =（CompoundCursor）cursorMngr.createCursor（）; 。的getContext（）displayCursorAsCrosstab（cubeCursor）; //更改产品参数值。prodParam.setValue（ “PRODUCT_PRIMARY :: FAMILY :: DTPC”）; //将Cursor位置重置为1 cubeCursor.setPosition（1）;的println（）; 。的getContext（）displayCursorAsCrosstab（cubeCursor）;</pre><p>以下交叉表具有由第一个<code class="codeph">displayCursorAsCrosstab</code>方法显示的<code class="codeph">cubeCursor</code>值。
                        </p><pre class="oac_no_warn" dir="ltr">便携式PC欧洲目录直销互联网1999 1986 86 0 2000 1777 193 10 2001 1449 196 215</pre><p>在示例更改了<code class="codeph">custParam</code> <code class="codeph">Parameter</code>对象的值之后，以下交叉表具有<code class="codeph">cubeCursor</code>的值。
                        </p><pre class="oac_no_warn" dir="ltr">便携式PC北美目录直销互联网1999 6841 385 0 2000 6457 622 35 2001 5472 696 846</pre><p>在旋转列和行边缘之后，下一个交叉表具有<code class="codeph">cubeCursor</code>的值。
                        </p><pre class="oac_no_warn" dir="ltr">便携式PC北美1999 2000 2001目录6841 6457 5472直接销售385 622 696互联网0 35 846</pre><p>更改<code class="codeph">prodParam</code> <code class="codeph">Parameter</code>对象的值后，最后一个交叉表具有<code class="codeph">cubeCursor</code>的值。
                        </p><pre class="oac_no_warn" dir="ltr">台式电脑北美1999 2000 2001目录14057 13210 11337直销793 1224 1319互联网0 69 1748</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAAP316"></a><a id="OLAAP315"></a><div class="props_rev_3"><a id="GUID-53956A82-8350-44A3-A01C-B0D69B83EFFD" name="GUID-53956A82-8350-44A3-A01C-B0D69B83EFFD"></a><h4 id="OLAAP-GUID-53956A82-8350-44A3-A01C-B0D69B83EFFD" class="sect4"><span class="enumeration_section">6.3.3</span>在层次结构中向上和向下钻取</h4>
                  <div>
                     <div class="section">
                        <p><a id="d17761e2871" class="indexterm-anchor"></a><a id="d17761e2875" class="indexterm-anchor"></a><a id="d17761e2879" class="indexterm-anchor"></a><a id="d17761e2883" class="indexterm-anchor"></a><a id="d17761e2887" class="indexterm-anchor"></a><a id="d17761e2891" class="indexterm-anchor"></a>在维度层次结构中向上或向下钻取是另一种典型的OLAP操作。<a href="making-queries-using-source-methods.html#GUID-53956A82-8350-44A3-A01C-B0D69B83EFFD__CBBGEGFA">示例6-10</a>演示了获取维度层次结构的一个级别的成员，选择成员，然后获取该成员的父级，子级和祖先。该示例通过反转父关系来生成<code class="codeph">prodHierChildren</code> <code class="codeph">Source</code> ，从而获取父项的子<code class="codeph">prodHierChildren</code> 。
                        </p>
                        <p>该示例使用以下对象。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">levelSrc</code> ，它是PRODUCT_AWJ维度的PRODUCT_PRIMARY层次结构的FAMILY级别的<code class="codeph">Source</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">prodHier</code> ，它是PRODUCT_PRIMARY层次结构的<code class="codeph">Source</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">prodHierParentAttr</code> ，它是层次结构的父属性的<code class="codeph">Source</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">prodHierAncsAttr</code> ，它是层次结构的祖先属性的<code class="codeph">Source</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">prodShortLabel</code> ，它是PRODUCT_AWJ维度的短值描述属性的<code class="codeph">Source</code> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-53956A82-8350-44A3-A01C-B0D69B83EFFD__CBBGEGFA">
                        <p class="titleinexample">示例6-10在层次结构中钻取</p><pre class="oac_no_warn" dir="ltr">int pos = 5; //在级别Source的指定位置获取元素。Source levelElement = levelSrc.at（pos）; //获取关卡成员的祖先。Source levelElementAncs = prodHierAncsAttr.join（prodHier，levelElement）; //获取关卡成员的父级。Source levelElementParent = prodHierParentAttr.join（prodHier，levelElement）; //获得父母的孩子。来源prodHierChildren = prodHier.join（prodHierParentAttr，prodHier.value（））; //选择级别成员的子级。Source levelElementChildren = prodHierChildren.join（prodHier，levelElement）; //获取关卡成员的简短值描述。Source levelSrcWithShortDescr = prodShortLabel.join（levelSrc）; //获取子项的简短值描述。Source levelElementChildrenWithShortDescr = prodShortLabel.join（levelElementChildren）; //获取父母的简短值描述。Source levelElementParentWithShortDescr = prodShortLabel.join（prodHier，levelElementParent，true）; //获取祖先的简短值描述。Source levelElementAncsWithShortDescr = prodShortLabel.join（prodHier，levelElementAncs，true）; //提交当前的交易。的getContext（）提交（）; //创建Cursor对象并显示它们的值。println（“Level Source元素值：”）; 。的getContext（）displayResult（levelSrcWithShortDescr）; println（“\ nLevel Source element at position”+ pos +“：”）;的getContext（）displayResult（levelElement）。 println（“\ n级别成员的父级：”）; 。的getContext（）displayResult（levelElementParentWithShortDescr）; println（“\ nChildren of level member：”）; 。的getContext（）displayResult（levelElementChildrenWithShortDescr）; println（“\ n级别成员的先驱：”）; 。的getContext（）displayResult（levelElementAncsWithShortDescr）;</pre><p>以下列表包含<code class="codeph">displayResults</code>方法创建的<code class="codeph">Cursor</code>对象的值。
                        </p><pre class="oac_no_warn" dir="ltr">Level Source元素值：PRODUCT_PRIMARY :: FAMILY :: ACC，附件PRODUCT_PRIMARY :: FAMILY :: DISK，CD / DVD PRODUCT_PRIMARY :: FAMILY :: DOC，文档PRODUCT_PRIMARY :: FAMILY :: DTPC，Portable PC PRODUCT_PRIMARY :: FAMILY :: LTPC，台式电脑PRODUCT_PRIMARY :: FAMILY :: MEM，Memory PRODUCT_PRIMARY :: FAMILY :: MOD，调制解调器/传真PRODUCT_PRIMARY :: FAMILY :: MON，监控PRODUCT_PRIMARY :: FAMILY :: OS，操作系统级别位置元素位置5： PRODUCT_PRIMARY :: FAMILY：LTPC级别成员的父级：PRODUCT_PRIMARY :: CLASS :: HRD，硬件级别成员的子女：PRODUCT_PRIMARY :: ITEM :: ENVY ABM，Envoy Ambassador PRODUCT_PRIMARY :: ITEM :: ENVY EXE，Envoy Executive PRODUCT_PRIMARY :: ITEM :: ENVY STD，特使标准祖先级别成员：PRODUCT_PRIMARY :: TOTAL_PRODUCT :: TOTAL，总产品PRODUCT_PRIMARY :: CLASS :: HRD，硬件PRODUCT_PRIMARY :: FAMILY :: LTPC，Portable PC</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAAP318"></a><a id="OLAAP317"></a><div class="props_rev_3"><a id="GUID-DB8D90EC-7527-42B3-AC6C-79CB4976DD2D" name="GUID-DB8D90EC-7527-42B3-AC6C-79CB4976DD2D"></a><h4 id="OLAAP-GUID-DB8D90EC-7527-42B3-AC6C-79CB4976DD2D" class="sect4"><span class="enumeration_section">6.3.4</span>按度量值分层次排序</h4>
                  <div>
                     <div class="section">
                        <p><a id="d17761e3002" class="indexterm-anchor"></a><a id="d17761e3006" class="indexterm-anchor"></a><a id="d17761e3010" class="indexterm-anchor"></a><a id="d17761e3014" class="indexterm-anchor"></a> <a href="making-queries-using-source-methods.html#GUID-DB8D90EC-7527-42B3-AC6C-79CB4976DD2D__CBBJDIAC">示例6-11</a>使用<code class="codeph">recursiveJoin</code>方法按UNITS度量值的升序分层次地对PRODUCT_AWJ维度的PRODUCT_PRIMARY层次结构的成员进行排序。该示例将已排序的产品连接到维度的短值描述属性，然后将该操作的结果<code class="codeph">sortedProductsShortDescr</code>到<code class="codeph">units</code> 。
                        </p>
                        <p>连续的<code class="codeph">joinHidden</code>方法连接<code class="codeph">units</code>的其他维度的选择以生成<code class="codeph">result</code> <code class="codeph">Source</code> ，其具有作为元素值的measure数据和作为输出的<code class="codeph">sortedProductsShortDescr</code> 。该示例使用<code class="codeph">joinHidden</code>方法，以便其他维度选择不是结果的输出。
                        </p>
                        <p>该示例使用以下对象。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">prodHier</code> ，它是PRODUCT_PRIMARY层次结构的<code class="codeph">Source</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">units</code> ，它是<code class="codeph">Source</code>售出的产品单元的计量单位。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">prodParentAttr</code> ，它是PRODUCT_PRIMARY层次结构的父属性的<code class="codeph">Source</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">prodShortDescr</code> ，它是PRODUCT_AWJ维度的短值描述属性的<code class="codeph">Source</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">custSel</code> ，它是一个<code class="codeph">Source</code> ，它指定CUSTOMER_AWJ维度的SHIPMENTS层次结构的单个成员。该成员是<code class="codeph">SHIPMENTS::TOTAL_CUSTOMER::TOTAL</code> ，这是所有客户的总数。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">chanSel</code> ，它是一个<code class="codeph">Source</code> ，它指定CHANNEL_AWJ维度的CHANNEL_PRIMARY层次结构的单个成员。成员值为<code class="codeph">CHANNEL_PRIMARY::CHANNEL::DIR</code> ，这是直接销售渠道。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">timeSel</code> ，它是一个<code class="codeph">Source</code> ，用于指定TIME_AWJ维度的CALENDAR_YEAR层次结构的单个成员。该成员是<code class="codeph">CALENDAR_YEAR::YEAR::CY2001</code> ，即2001年。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DB8D90EC-7527-42B3-AC6C-79CB4976DD2D__CBBJDIAC">
                        <p class="titleinexample">示例6-11按度量值进行分层排序</p><pre class="oac_no_warn" dir="ltr">Source sortedProduct = prodHier.recursiveJoin（单位， <a id="d17761e3124" class="indexterm-anchor"></a> units.getDataType（），prodParentAttr，Source。COMPARISON_RULE_ASCENDING，true，//父母先是真的）; //将父级限制为基础Source sortedProductShortDescr = prodShortDescr.join（sortedProduct）; Source result = units.join（sortedProductShortDescr）.joinHidden（custSel）.joinHidden（chanSel）.joinHidden（timeSel）;</pre><p><code class="codeph">result</code> <code class="codeph">Source</code> <code class="codeph">Cursor</code>具有以下值，显示在添加了列标题和格式的表中。左列具有<code class="codeph">PRODUCT_PRIMARY</code>层次结构中的级别名称。右侧的下一列具有产品标识值，下一列具有产品的短值描述。最右边的栏目是通过直销渠道在2001年向所有客户销售的产品的单位数量。
                        </p>
                        <p>该表仅包含<code class="codeph">Cursor</code>的前九个和后十一个值，以及Software / Other类值。产品值按层次排列并按销售单位按升序排列。Hardware类出现在Software / Other类之前，因为Software / Other类具有更多的单位销售量。在硬件类中，便携式PC系列销售的设备数量最少，因此它首先出现。在软件/其他类中，附件系列销售的单元数量最多，因此它最后出现。
                        </p><pre class="oac_no_warn" dir="ltr">产品等级ID说明已售出的单位------------- ------------ ------------------- ---------- ---------- TOTAL_PRODUCT TOTAL总产品43,485 CLASS HRD硬件16,543家庭LTPC便携式电脑1,192 ITEM ENVY ABM特使大使330 ITEM ENVY EXE特使执行官385 ITEM ENVY STD特使标准477 FAMILY MON监视器1,193项19 SVGA监视器 -  19“Super VGA 207 ITEM 17 SVGA监视器 -  17”Super VGA 986 ...CLASS SFT软件/其他）27,242 ......FAMILY ACC配件18,949 ITEM ENVY EXT KBD特使外部键盘146 ITEM EXT KBD外部101键键盘678 ITEM MM SPKR 5多媒体扬声器 -  5“锥体717 ITEM STD MOUSE标准鼠标868 ITEM MM SPKR 3多媒体扬声器 -  3”锥体1,120项目144MB磁盘1.44MB外置3.5“软盘1,145 TEM KBRD REST键盘腕托2,231 ITEM LT CASE笔记本电脑便携包3,704 ITEM DLX MOUSE豪华鼠标3,884 ITEM MOUSE PAD鼠标垫4,456</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAAP320"></a><a id="OLAAP319"></a><div class="props_rev_3"><a id="GUID-A0ADEAE2-610C-4370-833E-4E10CB5EA925" name="GUID-A0ADEAE2-610C-4370-833E-4E10CB5EA925"></a><h4 id="OLAAP-GUID-A0ADEAE2-610C-4370-833E-4E10CB5EA925" class="sect4"><span class="enumeration_section">6.3.5</span>使用NumberSource方法计算出售单位的份额</h4>
                  <div>
                     <div class="section">
                        <p><a id="d17761e3188" class="indexterm-anchor"></a><a id="d17761e3192" class="indexterm-anchor"></a><a id="d17761e3196" class="indexterm-anchor"></a><a id="d17761e3200" class="indexterm-anchor"></a><a id="d17761e3204" class="indexterm-anchor"></a> <a href="making-queries-using-source-methods.html#GUID-A0ADEAE2-610C-4370-833E-4E10CB5EA925__CBBDDCAH">示例6-12</a>使用<code class="codeph">NumberSource</code>方法<code class="codeph">div</code>和<code class="codeph">times</code>来生成一个<code class="codeph">Source</code> ，该<code class="codeph">Source</code>指定Desktop PC和Portable PC系列在所选时间，客户和通道值中销售的产品单元总数的份额。示例性的第一使用<code class="codeph">selectValue</code>的方法<code class="codeph">prodHier</code> ，它是<code class="codeph">Source</code>的PRODUCT_AWJ维度的层次结构，以产生<code class="codeph">totalProds</code> ，其指定与所述值的单个元件<code class="codeph">PRODUCT_PRIMARY::TOTAL_PRODUCT::TOTAL</code> ，这是的最高总体水平层次结构。
                        </p>
                        <p><a id="d17761e3240" class="indexterm-anchor"></a>所述<code class="codeph">joinHidden</code>所述的方法<code class="codeph">NumberSource</code> <code class="codeph">units</code>产生<code class="codeph">totalUnits</code> ，它指定了UNITS测量值在总产物的水平，而不必<code class="codeph">totalProds</code>出现的输出<code class="codeph">totalUnits</code> 。然后， <code class="codeph">units</code>的<code class="codeph">div</code>方法生成一个<code class="codeph">Source</code> ，表示每个单位的销售价值除以销售的单位总数。然后， <code class="codeph">times</code>方法将该<code class="codeph">div</code>运算的结果乘以100以生成<code class="codeph">productShare</code> ，其表示产品成员具有的总销售量的百分比或份额。<code class="codeph">productShare</code> <code class="codeph">Source</code>将<code class="codeph">units</code>的输入作为输入进行测量。
                        </p>
                        <p><code class="codeph">prodFamilies</code>对象是PRODUCT_PRIMARY层次结构的FAMILY级别的<code class="codeph">Source</code> 。<code class="codeph">productShare</code>的<code class="codeph">join</code>方法（ <code class="codeph">prodFamilies</code>作为已连接的<code class="codeph">Source</code> ）生成一个<code class="codeph">Source</code> ，用于指定每个产品系列对销售产品总数的份额。
                        </p>
                        <p><code class="codeph">custSel</code> ， <code class="codeph">chanSel</code>和<code class="codeph">timeSel</code> <code class="codeph">Source</code>对象是CUSTOMER_AWJ，CHANNEL_AWJ和TIME_AWJ维度的单个层次结构成员的选择。其余的<code class="codeph">join</code>方法将这些<code class="codeph">Source</code>对象与<code class="codeph">productShare</code>的其他输入匹配，以生成<code class="codeph">result</code> 。<code class="codeph">join</code>方法的<code class="codeph">join(Source joined, String comparison)</code>签名生成一个<code class="codeph">Source</code> ，该<code class="codeph">Source</code>没有连接的<code class="codeph">Source</code>作为输出。
                        </p>
                        <p><code class="codeph">result</code> <code class="codeph">Source</code>指定每个产品系列在2001年通过直销渠道销售给所有客户的产品总数的份额。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A0ADEAE2-610C-4370-833E-4E10CB5EA925__CBBDDCAH">
                        <p class="titleinexample">示例6-12获取已售出单位的份额</p><pre class="oac_no_warn" dir="ltr">来源totalProds = prodHier.selectValue（“PRODUCT_PRIMARY :: TOTAL_PRODUCT :: TOTAL”）; NumberSource totalUnits =（NumberSource）units.joinHidden（totalProds）;来源productShare = units.div（totalUnits）.times（100）;源结果= productShare.join（prodFamilies）.join（timeHier，“CALENDAR_YEAR :: YEAR :: CY2001”）。join（chanHier，“CHANNEL_PRIMARY :: CHANNEL :: DIR”）。join（custHier，“SHIPMENTS :: TOTAL_CUSTOMER： ：总”）; Source sortedResult = result.sortAscending（）;</pre><p><code class="codeph">sortedResult</code> <code class="codeph">Source</code> <code class="codeph">Cursor</code>具有以下值，显示在添加了列标题和格式的表中。左栏具有产品系列值，右栏具有2001年通过直销渠道向所有客户销售的产品系列总单位数的份额。
                        </p><pre class="oac_no_warn" dir="ltr">产品系列成员占销售总量的份额----------------------------- ------------- ------------ PRODUCT_PRIMARY :: FAMILY :: LTPC 2.72％PRODUCT_PRIMARY :: FAMILY :: MON 2.73％PRODUCT_PRIMARY :: FAMILY :: MEM 3.57％PRODUCT_PRIMARY :: FAMILY :: DTPC 5.13％PRODUCT_PRIMARY： ：FAMILY :: DOC 6.4％PRODUCT_PRIMARY :: FAMILY :: DISK 11.71％PRODUCT_PRIMARY :: FAMILY :: MOD 11.92％PRODUCT_PRIMARY :: FAMILY :: OS 12.54％PRODUCT_PRIMARY :: FAMILY :: ACC 43.28％</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAAP322"></a><a id="OLAAP323"></a><a id="OLAAP321"></a><div class="props_rev_3"><a id="GUID-E1F9B138-7563-46A7-9D04-7B33991A156F" name="GUID-E1F9B138-7563-46A7-9D04-7B33991A156F"></a><h4 id="OLAAP-GUID-E1F9B138-7563-46A7-9D04-7B33991A156F" class="sect4"><span class="enumeration_section">6.3.6</span>基于时间序列操作的选择</h4>
                  <div>
                     <div class="section">
                        <p><a id="d17761e3422" class="indexterm-anchor"></a><a id="d17761e3426" class="indexterm-anchor"></a><a id="d17761e3430" class="indexterm-anchor"></a><a id="d17761e3434" class="indexterm-anchor"></a><a id="d17761e3438" class="indexterm-anchor"></a>本主题有使用上的一系列的元素进行操作的方法的两个例子<code class="codeph">MdmLevelHierarchy</code>为TIME_AWJ尺寸的CALENDAR_YEAR层次。<a href="making-queries-using-source-methods.html#GUID-E1F9B138-7563-46A7-9D04-7B33991A156F__CBBHGDGG">例6-13</a>使用<code class="codeph">unitPrice</code>的<code class="codeph">lag</code>方法（它是UNIT_PRICE度量的<code class="codeph">Source</code>来生成<code class="codeph">unitPriceLag4</code> ，它为<code class="codeph">unitPrice</code>每个元素指定与层次结构的成员匹配的<code class="codeph">unitPrice</code>元素与层次结构匹配在层次结构中处于同一级别的四个时间段的成员。
                        </p>
                        <p>在示例中， <code class="codeph">dp</code>是<code class="codeph">DataProvider</code> 。<code class="codeph">createListSource</code>方法创建<code class="codeph">measuresDim</code> ，它具有<code class="codeph">unitPrice</code>和<code class="codeph">unitPriceLag4</code> <code class="codeph">Source</code>对象作为元素值。<code class="codeph">measuresDim</code>的<code class="codeph">extract</code>方法获取<code class="codeph">measuresDim</code>元素的值。<code class="codeph">extract</code>方法生成的<code class="codeph">Source</code>具有<code class="codeph">measuresDim</code>作为提取输入。第一个<code class="codeph">join</code>方法将<code class="codeph">Source</code> ， <code class="codeph">measuresDim</code>与<code class="codeph">extract</code>方法返回的<code class="codeph">Source</code>的输入相匹配。
                        </p>
                        <p><code class="codeph">unitPrice</code>和<code class="codeph">unitPriceLag4</code>度量都将PRODUCT_AWJ和TIME_AWJ维度的<code class="codeph">Source</code>对象作为输入。第二个<code class="codeph">join</code>方法匹配<code class="codeph">quarterLevel</code> ，它是TIME_AWJ维度的CALENDAR_YEAR层次结构的QUARTER级别的<code class="codeph">Source</code> ，以及度量的TIME_AWJ维度输入，并使其成为生成的<code class="codeph">Source</code>的输出。
                        </p>
                        <p><a id="d17761e3551" class="indexterm-anchor"></a> <code class="codeph">joinHidden</code>方法将<code class="codeph">prodSel</code>与度量的PRODUCT_AWJ维度输入进行匹配，并且不会使<code class="codeph">prodSel</code>成为生成的<code class="codeph">Source</code>的输出。<code class="codeph">prodSel</code> <code class="codeph">Source</code>指定单个层次结构成员<code class="codeph">PRODUCT_PRIMARY::FAMILY::DTPC</code> ，即台式PC。</p>
                        <p><code class="codeph">lagResult</code> <code class="codeph">Source</code>指定桌面PC产品系列的每个季度和四个季度前的季度的总单价。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E1F9B138-7563-46A7-9D04-7B33991A156F__CBBHGDGG">
                        <p class="titleinexample">例6-13使用滞后方法</p><pre class="oac_no_warn" dir="ltr">NumberSource unitPriceLag4 = unitPrice.lag（mdmCalHier，4）; Source measuresDim = dp.createListSource（new Source [] {unitPrice，unitPriceLag4}）;源lagResult = measuresDim.extract（）。join（measuresDim）.join（quarterLevel）.joinHidden（prodSel）;</pre><p><code class="codeph">lagResult</code> <code class="codeph">Source</code> <code class="codeph">Cursor</code>具有以下值，显示在添加了列标题和格式的表中。左栏有四分之一，中间栏有该季度桌面PC系列成员的单价总和，右栏有四分之一前一季的单位价格总和。右列中的前四个值是<code class="codeph">NA</code>因为第1季度Q1-98是CALENDAR_YEAR层次结构中的第一个季度。该表仅包括前八个季度。
                        </p><pre class="oac_no_warn" dir="ltr">单价四分之一单价前四个季度--------------------------------- --------- -  -------------------- CALENDAR_YEAR :: QUARTER :: CY1998。Q1 2687.54 NA CALENDAR_YEAR :: QUARTER :: CY1998。Q2 2704.48 NA CALENDAR_YEAR :: QUARTER :: CY1998。Q3 2673.27 NA CALENDAR_YEAR :: QUARTER :: CY1998。Q4 2587.76 NA CALENDAR_YEAR :: QUARTER :: CY1999。Q1 2394.79 2687.54 CALENDAR_YEAR :: QUARTER :: CY1999。Q2 2337.18 2704.48 CALENDAR_YEAR :: QUARTER :: CY1999。Q3 2348.39 2673.27 CALENDAR_YEAR :: QUARTER :: CY1999。Q4 2177.89 2587.76 ......</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E1F9B138-7563-46A7-9D04-7B33991A156F__CBBFEDFJ">
                        <p class="titleinexample">示例6-14使用movingTotal方法</p>
                        <p><a id="d17761e3611" class="indexterm-anchor"></a><a id="d17761e3615" class="indexterm-anchor"></a><a id="d17761e3619" class="indexterm-anchor"></a>此示例使用与<a href="making-queries-using-source-methods.html#GUID-E1F9B138-7563-46A7-9D04-7B33991A156F__CBBHGDGG">示例6-13</a>相同的<code class="codeph">unitPrice</code> ， <code class="codeph">mdmCalHier</code> ， <code class="codeph">quarterLevel</code>和<code class="codeph">prodSel</code>对象，但它使用<code class="codeph">unitPriceMovingTotal</code>度量作为<code class="codeph">measuresDim</code>的第二个元素。<code class="codeph">unitPriceMovingTotal</code> <code class="codeph">Source</code>由<code class="codeph">unitPrice</code>的<code class="codeph">movingTotal</code>方法生成。该方法提供<code class="codeph">mdmCalHier</code> ，这是<code class="codeph">MdmLevelHierarchy</code>为TIME_AWJ维度的CALENDAR_YEAR层次结构中，作为<code class="codeph">dimension</code>参数和整数<code class="codeph">0</code>和<code class="codeph">3</code>作为起始和结束偏移值。
                        </p>
                        <p><code class="codeph">movingTotalResult</code> <code class="codeph">Source</code>为每个季度指定该季度Desktop PC系列成员的单位价格总和以及该单位价格加上未来三个季度的单位价格的总和。
                        </p><pre class="oac_no_warn" dir="ltr">NumberSource unitPriceMovingTotal = unitPrice.movingTotal（mdmCalHier，0,3）; Source measuresDim = dp.createListSource（new Source [] {unitPrice，unitPriceMovingTotal}）; Source movingTotalResult = measuresDim.extract（）。join（measuresDim）.join（quarterLevel）.joinHidden（prodSel）;</pre><p><code class="codeph">movingTotalResult</code> <code class="codeph">Source</code> <code class="codeph">Cursor</code>具有以下值，显示在添加了列标题和格式的表中。左栏有四分之一，中间列有该季度桌面PC系列成员的单价总和，左栏有该季度和接下来三个季度的单价总和。该表仅包括前八个季度。
                        </p><pre class="oac_no_warn" dir="ltr">单位价格移动总季度单位价格当前加上下三个时期--------------------------------- ----- ----- ------------------------------- CALENDAR_YEAR :: QUARTER :: CY1998。Q1 2687.54 10653.05 CALENDAR_YEAR :: QUARTER :: CY1998。Q2 2704.48 10360.30 CALENDAR_YEAR :: QUARTER :: CY1998。Q3 2673.27 9993.00 CALENDAR_YEAR :: QUARTER :: CY1998。Q4 2587.76 9668.12 CALENDAR_YEAR :: QUARTER :: CY1999。Q1 2394.79 9258.25 CALENDAR_YEAR :: QUARTER :: CY1999。Q2 2337.18 8911.87 CALENDAR_YEAR :: QUARTER :: CY1999。Q3 2348.39 8626.48 CALENDAR_YEAR :: QUARTER :: CY1999。Q4 2177.89 8291.37 ......</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAAP325"></a><a id="OLAAP324"></a><div class="props_rev_3"><a id="GUID-C3436997-90D0-4C9D-9C91-1B74FD8E0638" name="GUID-C3436997-90D0-4C9D-9C91-1B74FD8E0638"></a><h4 id="OLAAP-GUID-C3436997-90D0-4C9D-9C91-1B74FD8E0638" class="sect4"><span class="enumeration_section">6.3.7</span>使用参数化源对象选择一组元素</h4>
                  <div>
                     <div class="section">
                        <p><a id="d17761e3734" class="indexterm-anchor"></a><a id="d17761e3738" class="indexterm-anchor"></a><a id="d17761e3742" class="indexterm-anchor"></a><a id="d17761e3746" class="indexterm-anchor"></a><a id="d17761e3750" class="indexterm-anchor"></a><a id="d17761e3754" class="indexterm-anchor"></a><a id="d17761e3758" class="indexterm-anchor"></a> <a href="making-queries-using-source-methods.html#GUID-C3436997-90D0-4C9D-9C91-1B74FD8E0638__CBBCFEBC">例6-15</a>使用<code class="codeph">NumberParameter</code>对象创建参数化的<code class="codeph">Source</code>对象。这些对象是<code class="codeph">prodHier</code>的<code class="codeph">interval</code>方法的<code class="codeph">bottom</code>和<code class="codeph">top</code>参数。该方法返回<code class="codeph">paramProdSelInterval</code> ，它是一个<code class="codeph">Source</code> ， <code class="codeph">prodHier</code>从层次结构的<code class="codeph">bottom</code>位置到<code class="codeph">top</code>位置指定<code class="codeph">prodHier</code>的元素集。
                        </p>
                        <p>产品<code class="codeph">Source</code>的元素指定出现在<code class="codeph">result</code> <code class="codeph">Source</code>中的<code class="codeph">units</code>度量的元素。通过更改<code class="codeph">Parameter</code>对象的值，您可以使用相同的<code class="codeph">Cursor</code>选择一组不同的单位销售值，而无需生成新的<code class="codeph">Source</code>和<code class="codeph">Cursor</code>对象。
                        </p>
                        <p>该示例使用以下对象。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">dp</code> ，这是会话的<code class="codeph">DataProvider</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">prodHier</code> ，它是PRODUCT_AWJ维度的PRODUCT_PRIMARY层次结构的<code class="codeph">Source</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">prodShortDescr</code> ，它是PRODUCT_AWJ维度的短值描述属性的<code class="codeph">Source</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">units</code> ，它是<code class="codeph">Source</code>售出的产品单元的计量单位。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">chanHier</code> ，它是CHANNEL_AWJ维度的CHANNEL_PRIMARY层次结构的<code class="codeph">Source</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">calHier</code> ，它是TIME_AWJ维度的CALENDAR_YEAR层次结构的<code class="codeph">Source</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">shipHier</code> ，它是CUSTOMER_AWJ维度的SHIPMENTS层次结构的<code class="codeph">Source</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">getContext</code>方法返回的<code class="codeph">Context11g</code>对象。<code class="codeph">Context11g</code>具有提交当前<code class="codeph">Transaction</code>方法，这些方法为<code class="codeph">Source</code>创建<code class="codeph">Cursor</code> ，显示文本，并显示<code class="codeph">Cursor</code>的值。
                              </p>
                           </li>
                        </ul>
                        <p><a id="d17761e3912" class="indexterm-anchor"></a><a id="d17761e3916" class="indexterm-anchor"></a> <code class="codeph">prodShortDescr</code>的<code class="codeph">join</code>方法获取<code class="codeph">paramProdSelInterval</code>元素的短值描述。接下来的四个<code class="codeph">join</code>方法将<code class="codeph">Source</code>对象与<code class="codeph">units</code> measure的输入进行匹配。该示例创建一个<code class="codeph">Cursor</code>并显示查询的结果集。接下来， <code class="codeph">resultCursor</code>的<code class="codeph">setPosition</code>方法将<code class="codeph">Cursor</code>的位置设置回第一个元素。
                        </p>
                        <p><code class="codeph">NumberParameter</code>对象的<code class="codeph">setValue</code>方法更改这些对象的值，这会更改查询指定的产品<code class="codeph">Source</code>元素的选择。然后，该示例再次显示<code class="codeph">Cursor</code>的值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C3436997-90D0-4C9D-9C91-1B74FD8E0638__CBBCFEBC">
                        <p class="titleinexample">示例6-15使用NumberParameter对象选择范围</p><pre class="oac_no_warn" dir="ltr">NumberParameter startParam = new NumberParameter（dp，1）; NumberParameter endParam = new NumberParameter（dp，6）; NumberSource startParamSrc =（NumberSource）startParam.createSource（）; NumberSource endParamSrc =（NumberSource）endParam.createSource（）;源paramProdSelInterval = prodHier.interval（startParamSrc，endParamSrc）;源paramProdSelIntervalShortDescr = prodShortDescr.join（paramProdSelInterval）; NumberSource result =（NumberSource）units.join（chanHier，“CHANNEL_PRIMARY :: CHANNEL :: INT”）。join（calHier，“CALENDAR_YEAR :: YEAR :: CY2001”）。join（shipHier，“SHIPMENTS :: TOTAL_CUSTOMER :: TOTAL” “）。join（paramProdSelIntervalShortDescr）; //提交当前事务。的getContext（）提交（）; CursorManager cursorMngr = dp.createCursorManager（result）;游标resultCursor = cursorMngr.createCursor（）; 。的getContext（）displayCursor（resultCursor）; //将光标位置重置为1。resultCursor.setPosition（1）; //更改参数化Source的值。startParam.setValue（7）; endParam.setValue（12）; //再次显示结果。。的getContext（）displayCursor（resultsCursor）;</pre><p>下表显示了<code class="codeph">resultCursor</code>的值，并添加了列标题和格式。左列具有产品层次结构成员，中间列具有短值描述，右列具有销售的单位数量。
                        </p><pre class="oac_no_warn" dir="ltr">产品描述已售出单位------------------------------------- --------- -------------- ---------- PRODUCT_PRIMARY :: TOTAL_PRODUCT :: TOTAL总产品53,572 PRODUCT_PRIMARY :: CLASS :: HRD硬件21,301 PRODUCT_PRIMARY :: FAMILY :: DISK Memory 6,634 PRODUCT_PRIMARY :: ITEM :: EXT CD ROM外部48X CD-ROM 136 PRODUCT_PRIMARY :: ITEM :: EXT DVD外部 -  DVD-RW  -  8X 1,526 PRODUCT_PRIMARY :: ITEM :: INT 8X DVD内部 -  DVD-RW  -  8X 1,543产品说明已售出单位------------------------------------- ---------- -------------------- PRODUCT_PRIMARY :: ITEM :: INT CD ROM内部48X CD-ROM 380 PRODUCT_PRIMARY :: ITEM :: INT CD USB内置48X CD- ROM USB 162 PRODUCT_PRIMARY :: ITEM :: INT RW DVD内部 -  DVD-RW  -  6X 2,887 PRODUCT_PRIMARY :: FAMILY :: DTPC台式电脑2,982 PRODUCT_PRIMARY :: ITEM :: SENT FIN Sentinel Financial 1,015 PRODUCT_PRIMARY :: ITEM :: SENT MM Sentinel多媒体875</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="05807.olap-dml-properties.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>OLAP DML属性</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="DML Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="DML Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="olap-dml-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T13:59:56-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1994, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96403-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="formulas-models-aggregations-and-allocations.html" title="Previous" type="text/html"></link>
      <link rel="next" href="olap-dml-options.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OLAP DML Reference"></meta>
    <meta name="dcterms.isVersionOf" content="OLADM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="formulas-models-aggregations-and-allocations.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="olap-dml-options.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">DML参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OLAP DML属性</li>
            </ol>
            <a id="GUID-60615C24-460C-4A4C-A6D5-B5BBC6D3FC68" name="GUID-60615C24-460C-4A4C-A6D5-B5BBC6D3FC68"></a>
            
            <h2 id="OLADM-GUID-60615C24-460C-4A4C-A6D5-B5BBC6D3FC68" class="sect2"><span class="enumeration_chapter">4</span> OLAP DML属性</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="olap-dml-properties.html#GUID-3E6D3E12-E947-4CDF-B4BC-A0BD0D4390D4">关于OLAP DML属性</a></p>
                  </li>
                  <li>
                     <p><a href="olap-dml-properties.html#GUID-19208AA6-26E7-4630-B005-BA2C7EC20186">系统属性：按字母顺序排列</a></p>
                  </li>
                  <li>
                     <p><a href="olap-dml-properties.html#GUID-B57481D2-26D4-440E-A12D-008B0C529AAF">按类别划分的系统属性</a></p>
                  </li>
                  <li>
                     <p>每个OLAP DML系统属性的一个主题，按字母顺序排列，以<a href="olap-dml-properties.html#GUID-959178EF-5401-4FFB-BBD8-B140A7F283B9" title="$ AGGMAP属性指定Oracle OLAP使用标识的aggmap自动聚合非预先计算的数据，以替换尺寸变量中的NA值，但不替换变量的会话缓存（如果有）。因此，您无需显式使用AGGREGATE函数来聚合具有$ AGGMAP属性的变量中的非预先计算数据。">$ AGGMAP开头</a> 。</p>
                  </li>
               </ul>
               <p>有关OLAP DML的其他参考主题，请参阅<a href="olap-dml-options.html#GUID-14D3D0B3-3244-461B-997B-A0CB0C82AFAA">OLAP DML选项</a> ， <a href="olap-dml-functions-a-k.html#GUID-61DF603D-3BD7-43B0-B14A-9C536BFF80CE">OLAP DML函数：A  -  K</a> ， <a href="olap-dml-functions-a-k.html#GUID-61DF603D-3BD7-43B0-B14A-9C536BFF80CE">OLAP DML函数：A  -  K</a> ， <a href="olap-dml-commands-a-g.html#GUID-E53A76E2-3ED0-4084-BEFC-942266F3F811" title="ALLOCATE命令通过在分层维度下分配可变数据来计算来自上层数据的较低级别数据。">OLAP DML命令：AG</a>和<a href="olap-dml-commands-h-z.html#GUID-C5C279D8-A1CE-4814-B6AE-BDD06AF798D8">OLAP DML命令：HZ</a> 。</p>
            </div><a id="OLADM321"></a><a id="olapdml_properties"></a><a id="OLADM320"></a><a id="olapdml_about_properties"></a><div class="props_rev_3"><a id="GUID-3E6D3E12-E947-4CDF-B4BC-A0BD0D4390D4" name="GUID-3E6D3E12-E947-4CDF-B4BC-A0BD0D4390D4"></a><h3 id="OLADM-GUID-3E6D3E12-E947-4CDF-B4BC-A0BD0D4390D4" class="sect3"><span class="enumeration_section">4.1</span>关于OLAP DML属性</h3>
               <div>
                  <p>属性是与分析工作空间对象的定义关联的命名值。您可以使用OLAP DML <a href="olap-dml-commands-h-z.html#GUID-5356C99C-866D-453A-BC09-78CCDDF04D30">PROPERTY</a>命令为对象命名，创建和分配属性。
                  </p>
                  <p>以$（美元符号）开头的属性被Oracle OLAP识别为系统属性。您无法创建系统属性;但是，在某些情况下，您可以将系统属性分配给对象。特别是，您可以分配与OLAP DML交互的系统属性。</p>
               </div>
            </div><a id="OLADM322"></a><a id="olapdml_properties_alphalist"></a><div class="props_rev_3"><a id="GUID-19208AA6-26E7-4630-B005-BA2C7EC20186" name="GUID-19208AA6-26E7-4630-B005-BA2C7EC20186"></a><h3 id="OLADM-GUID-19208AA6-26E7-4630-B005-BA2C7EC20186" class="sect3"><span class="enumeration_section">4.2</span>系统属性：按字母顺序排列</h3>
               <div>
                  <div class="section">
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="olap-dml-properties.html#GUID-959178EF-5401-4FFB-BBD8-B140A7F283B9" title="$ AGGMAP属性指定Oracle OLAP使用标识的aggmap自动聚合非预先计算的数据，以替换尺寸变量中的NA值，但不替换变量的会话缓存（如果有）。因此，您无需显式使用AGGREGATE函数来聚合具有$ AGGMAP属性的变量中的非预先计算数据。">$ AGGMAP</a></li>
                        <li><a href="olap-dml-properties.html#GUID-D95EC28B-1915-4547-A40C-62CE4E64CEDF" title="$ AGGREGATE_FORCECALC属性指定与AGGREGATE函数中FORCECALC关键字指定的行为相同的行为。通过向变量添加$ AGGREGATE_FORCECALC属性，可以在使用AGGREGATE函数聚合变量时确保此行为，即使该函数不包含FORCECALC关键字也是如此。">$ AGGREGATE_FORCECALC</a></li>
                        <li><a href="olap-dml-properties.html#GUID-5A500528-DB6E-4A08-981E-D20115B8BD18" title="$ AGGREGATE_FORCEORDER属性指定与AGGREGATE命令或AGGREGATE函数中FORCEORDER关键字指定的行为相同的行为。通过向变量添加$ AGGREGATE_FORCEORDER属性，可以在聚合变量时确保此行为，即使它由AGGREGATE语句聚合也不包括FORCEORDER关键字。">$ AGGREGATE_FORCEORDER</a></li>
                        <li><a href="olap-dml-properties.html#GUID-92D46602-3911-4004-AE1C-208505ADC933" title="$ AGGREGATE_FROM属性指定与AGGREGATE命令或AGGREGATE函数中的FROM子句指定的行为相同的行为。通过向变量添加$ AGGREGATE_FROM属性，可以在聚合变量时确保此行为，即使它由AGGREGATE语句聚合也不包含FROM子句。">$ AGGREGATE_FROM</a></li>
                        <li><a href="olap-dml-properties.html#GUID-09F863F3-09A7-44E6-8E40-E129BDCA9DB0" title="$ AGGREGATE_FROMVAR属性指定与AGGREGATE命令或AGGREGATE函数中的FROMVAR子句指定的行为相同的行为。通过向变量添加$ AGGREGATE_FROMVAR属性，可以在聚合变量时确保此行为，即使它由不包含FROMVAR子句的AGGREGATE语句聚合也是如此。">$ AGGREGATE_FROMVAR</a></li>
                        <li><a href="olap-dml-properties.html#GUID-70462F9C-6167-4728-A8A3-EE4B50770209" title="$ ALLOCMAP属性指定用于变量分配的默认aggmap，该变量是Oracle OLAP在变量是不包含USING短语的ALLOCATE语句的目标变量时使用的aggmap。">$ ALLOCMAP</a></li>
                        <li><a href="olap-dml-properties.html#GUID-86EECF24-5D18-4F50-81FA-63AEE5F931C2" title="$ COUNTVAR属性指定与AGGREGATE命令或AGGREGATE函数中的COUNTVAR子句指定的行为相同的行为。通过向变量添加$ COUNTVAR属性，可以在聚合变量时确保此行为，即使它由AGGREGATE语句聚合也不包括COUNTVAR子句。">$ COUNTVAR</a></li>
                        <li><a href="olap-dml-properties.html#GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76" title="$ DEFAULT_LANGUAGE属性将维度标识为定义它的分析工作区的语言维度，并指定该语言维度的默认语言。">$ DEFAULT_LANGUAGE</a></li>
                        <li><a href="olap-dml-properties.html#GUID-C6205802-4EA3-43F5-AEC4-9EFC1FA49E82" title="$ GID_DEPTH属性指定添加它的分组ID关系中分组ID的级别数。">$ GID_DEPTH</a></li>
                        <li><a href="olap-dml-properties.html#GUID-D0E6F709-EA38-4412-9FD6-83DD92F1D6E0" title="$ GID_LIST属性包含用于创建分组ID的级别的名称。">$ GID_LIST</a></li>
                        <li><a href="olap-dml-properties.html#GUID-67875F24-8490-4C55-9230-4422CF37DEA0" title="$ GID_TYPE属性指定分组ID的分组类型。">$ GID_TYPE</a></li>
                        <li><a href="olap-dml-properties.html#GUID-55A25E72-1052-41A9-B3E8-185FD7F4BB04" title="$ LOOP_AGGMAP属性用于确定在执行带有LOOP OPTIMIZED子句的SQL OLAP_TABLE函数时如何循环分配它的公式。它指定当Oracle OLAP生成包含公式的UNION子句时要使用的aggmap对象的名称。您为此属性指定的值将覆盖与变量关联的所有其他aggmaps（例如，变量具有$ AGGMAP属性的aggmaps），并且可用于阐明Oracle OLAP在公式的基础变量时应使用哪个aggmap与不同的aggmaps相关联。">$ LOOP_AGGMAP</a></li>
                        <li><a href="olap-dml-properties.html#GUID-41A3F437-7593-498B-ABFC-EF57536C4A7F" title="$ LOOP_DENSE属性用于确定在执行带有LOOP OPTIMIZED子句的OLAP_TABLE SQL函数时如何循环分配它的公式。">$ LOOP_DENSE</a></li>
                        <li><a href="olap-dml-properties.html#GUID-8FC5AD9D-0CB3-4A07-A70F-7DDCF817822D" title="$ LOOP_TYPE属性指定在具有LOOP OPTIMIZED子句的OLAP_TABLE SQL函数中使用公式时如何循环包含多个变量的公式。">$ LOOP_TYPE</a></li>
                        <li><a href="olap-dml-properties.html#GUID-C7539160-640F-4C9E-8119-ACC06277E477" title="$ LOOP_VAR属性指定当执行带有LOOP OPTIMIZED子句的OLAP_TABLE SQL函数时，分配它的公式将以与属性中指定的变量或QDR相同的方式循环。">$ LOOP_VAR</a></li>
                        <li><a href="olap-dml-properties.html#GUID-A74C75D2-450B-4323-8997-F123F89CF452" title="$ NATRIGGER属性指定Oracle OLAP的值来替换尺寸变量中的NA值，但不替换变量的会话缓存中的值（如果有）。">$ NATRIGGER</a></li>
                        <li><a href="olap-dml-properties.html#GUID-6F3C8888-49B8-45AA-B891-97B9E7977E89" title="$ STORETRIGGERVAL属性指定在执行$ NATRIGGER表达式时，Oracle OLAP是否使用表达式的结果替换变量中的NA值。">$ STORETRIGGERVAL</a></li>
                        <li><a href="olap-dml-properties.html#GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4" title="$ VARCACHE属性指定Oracle OLAP是存储还是缓存作为执行AGGREGATE函数或$ NATRIGGER表达式的结果的变量数据。">$ VARCACHE</a></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OLADM323"></a><a id="OLADM1107"></a><a id="OLADM1108"></a><a id="OLADM1109"></a><a id="OLADM1110"></a><a id="OLADM1111"></a><a id="OLADM1112"></a><a id="olapdml_properties_catlist"></a><div class="props_rev_3"><a id="GUID-B57481D2-26D4-440E-A12D-008B0C529AAF" name="GUID-B57481D2-26D4-440E-A12D-008B0C529AAF"></a><h3 id="OLADM-GUID-B57481D2-26D4-440E-A12D-008B0C529AAF" class="sect3"><span class="enumeration_section">4.3</span>按类别<span class="enumeration_section">划分的</span>系统属性</h3>
               <div>
                  <div class="section">
                     <p>OLAP DML提供系统属性，用于设置或检索影响OLAP DML执行以下操作的值的值：</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="olap-dml-properties.html#GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__BABHHAGE">聚合属性</a></li>
                        <li><a href="olap-dml-properties.html#GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__BABDAIGB">分配属性</a></li>
                        <li><a href="olap-dml-properties.html#GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__BABGDFAB">分组标识属性</a></li>
                        <li><a href="olap-dml-properties.html#GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__BABEEBIE">公式属性</a></li>
                        <li><a href="olap-dml-properties.html#GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__BABHAAJB">语言属性</a></li>
                        <li><a href="olap-dml-properties.html#GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__BABIIIJF">NA值属性</a></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__BABHHAGE">
                     <p class="subhead2" id="GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__GUID-57DAC64F-6644-4E54-9603-C0A1CA42FFF6">聚合属性</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="olap-dml-properties.html#GUID-959178EF-5401-4FFB-BBD8-B140A7F283B9" title="$ AGGMAP属性指定Oracle OLAP使用标识的aggmap自动聚合非预先计算的数据，以替换尺寸变量中的NA值，但不替换变量的会话缓存（如果有）。因此，您无需显式使用AGGREGATE函数来聚合具有$ AGGMAP属性的变量中的非预先计算数据。">$ AGGMAP</a></li>
                        <li><a href="olap-dml-properties.html#GUID-D95EC28B-1915-4547-A40C-62CE4E64CEDF" title="$ AGGREGATE_FORCECALC属性指定与AGGREGATE函数中FORCECALC关键字指定的行为相同的行为。通过向变量添加$ AGGREGATE_FORCECALC属性，可以在使用AGGREGATE函数聚合变量时确保此行为，即使该函数不包含FORCECALC关键字也是如此。">$ AGGREGATE_FORCECALC</a></li>
                        <li><a href="olap-dml-properties.html#GUID-5A500528-DB6E-4A08-981E-D20115B8BD18" title="$ AGGREGATE_FORCEORDER属性指定与AGGREGATE命令或AGGREGATE函数中FORCEORDER关键字指定的行为相同的行为。通过向变量添加$ AGGREGATE_FORCEORDER属性，可以在聚合变量时确保此行为，即使它由AGGREGATE语句聚合也不包括FORCEORDER关键字。">$ AGGREGATE_FORCEORDER</a></li>
                        <li><a href="olap-dml-properties.html#GUID-92D46602-3911-4004-AE1C-208505ADC933" title="$ AGGREGATE_FROM属性指定与AGGREGATE命令或AGGREGATE函数中的FROM子句指定的行为相同的行为。通过向变量添加$ AGGREGATE_FROM属性，可以在聚合变量时确保此行为，即使它由AGGREGATE语句聚合也不包含FROM子句。">$ AGGREGATE_FROM</a></li>
                        <li><a href="olap-dml-properties.html#GUID-09F863F3-09A7-44E6-8E40-E129BDCA9DB0" title="$ AGGREGATE_FROMVAR属性指定与AGGREGATE命令或AGGREGATE函数中的FROMVAR子句指定的行为相同的行为。通过向变量添加$ AGGREGATE_FROMVAR属性，可以在聚合变量时确保此行为，即使它由不包含FROMVAR子句的AGGREGATE语句聚合也是如此。">$ AGGREGATE_FROMVAR</a></li>
                        <li><a href="olap-dml-properties.html#GUID-86EECF24-5D18-4F50-81FA-63AEE5F931C2" title="$ COUNTVAR属性指定与AGGREGATE命令或AGGREGATE函数中的COUNTVAR子句指定的行为相同的行为。通过向变量添加$ COUNTVAR属性，可以在聚合变量时确保此行为，即使它由AGGREGATE语句聚合也不包括COUNTVAR子句。">$ COUNTVAR</a></li>
                        <li><a href="olap-dml-properties.html#GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4" title="$ VARCACHE属性指定Oracle OLAP是存储还是缓存作为执行AGGREGATE函数或$ NATRIGGER表达式的结果的变量数据。">$ VARCACHE</a></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__BABDAIGB">
                     <p class="subhead2" id="GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__GUID-26AF4DEC-A2FD-4893-BB4E-B66CD5792A93">分配属性</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="olap-dml-properties.html#GUID-70462F9C-6167-4728-A8A3-EE4B50770209" title="$ ALLOCMAP属性指定用于变量分配的默认aggmap，该变量是Oracle OLAP在变量是不包含USING短语的ALLOCATE语句的目标变量时使用的aggmap。">$ ALLOCMAP</a></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__BABGDFAB">
                     <p class="subhead2" id="GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__GUID-695A1CA6-004E-4909-AEDE-927151EDD87C">分组标识属性</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="olap-dml-properties.html#GUID-C6205802-4EA3-43F5-AEC4-9EFC1FA49E82" title="$ GID_DEPTH属性指定添加它的分组ID关系中分组ID的级别数。">$ GID_DEPTH</a></li>
                        <li><a href="olap-dml-properties.html#GUID-D0E6F709-EA38-4412-9FD6-83DD92F1D6E0" title="$ GID_LIST属性包含用于创建分组ID的级别的名称。">$ GID_LIST</a></li>
                        <li><a href="olap-dml-properties.html#GUID-67875F24-8490-4C55-9230-4422CF37DEA0" title="$ GID_TYPE属性指定分组ID的分组类型。">$ GID_TYPE</a></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__BABEEBIE">
                     <p class="subhead2" id="GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__GUID-DA75CD8C-68B2-428A-BA8F-0F76EBFE19A4">公式属性</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="olap-dml-properties.html#GUID-55A25E72-1052-41A9-B3E8-185FD7F4BB04" title="$ LOOP_AGGMAP属性用于确定在执行带有LOOP OPTIMIZED子句的SQL OLAP_TABLE函数时如何循环分配它的公式。它指定当Oracle OLAP生成包含公式的UNION子句时要使用的aggmap对象的名称。您为此属性指定的值将覆盖与变量关联的所有其他aggmaps（例如，变量具有$ AGGMAP属性的aggmaps），并且可用于阐明Oracle OLAP在公式的基础变量时应使用哪个aggmap与不同的aggmaps相关联。">$ LOOP_AGGMAP</a></li>
                        <li><a href="olap-dml-properties.html#GUID-41A3F437-7593-498B-ABFC-EF57536C4A7F" title="$ LOOP_DENSE属性用于确定在执行带有LOOP OPTIMIZED子句的OLAP_TABLE SQL函数时如何循环分配它的公式。">$ LOOP_DENSE</a></li>
                        <li><a href="olap-dml-properties.html#GUID-8FC5AD9D-0CB3-4A07-A70F-7DDCF817822D" title="$ LOOP_TYPE属性指定在具有LOOP OPTIMIZED子句的OLAP_TABLE SQL函数中使用公式时如何循环包含多个变量的公式。">$ LOOP_TYPE</a></li>
                        <li><a href="olap-dml-properties.html#GUID-C7539160-640F-4C9E-8119-ACC06277E477" title="$ LOOP_VAR属性指定当执行带有LOOP OPTIMIZED子句的OLAP_TABLE SQL函数时，分配它的公式将以与属性中指定的变量或QDR相同的方式循环。">$ LOOP_VAR</a></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__BABHAAJB">
                     <p class="subhead2" id="GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__GUID-DBAED9F1-A834-4261-9046-03B2DCB539D0">语言属性</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="olap-dml-properties.html#GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76" title="$ DEFAULT_LANGUAGE属性将维度标识为定义它的分析工作区的语言维度，并指定该语言维度的默认语言。">$ DEFAULT_LANGUAGE</a></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__BABIIIJF">
                     <p class="subhead2" id="GUID-B57481D2-26D4-440E-A12D-008B0C529AAF__GUID-1E391CC1-7CBD-4BFB-87D0-09EBB794A549">NA值属性</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a href="olap-dml-properties.html#GUID-A74C75D2-450B-4323-8997-F123F89CF452" title="$ NATRIGGER属性指定Oracle OLAP的值来替换尺寸变量中的NA值，但不替换变量的会话缓存中的值（如果有）。">$ NATRIGGER</a></li>
                        <li><a href="olap-dml-properties.html#GUID-6F3C8888-49B8-45AA-B891-97B9E7977E89" title="$ STORETRIGGERVAL属性指定在执行$ NATRIGGER表达式时，Oracle OLAP是否使用表达式的结果替换变量中的NA值。">$ STORETRIGGERVAL</a></li>
                        <li><a href="olap-dml-properties.html#GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4" title="$ VARCACHE属性指定Oracle OLAP是存储还是缓存作为执行AGGREGATE函数或$ NATRIGGER表达式的结果的变量数据。">$ VARCACHE</a></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-959178EF-5401-4FFB-BBD8-B140A7F283B9" name="GUID-959178EF-5401-4FFB-BBD8-B140A7F283B9"></a><h3 id="OLADM-GUID-959178EF-5401-4FFB-BBD8-B140A7F283B9" class="sect3"><span class="enumeration_section">4.4</span> $ AGGMAP</h3>
               <div>
                  <p>$ AGGMAP属性指定Oracle OLAP使用标识的aggmap自动聚合非预先计算的数据，以替换尺寸变量中的NA值，但不替换变量的会话缓存（如果有）。因此，您无需显式使用AGGREGATE函数来聚合具有$ AGGMAP属性的变量中的非预先计算数据。</p>
                  <div class="section">
                     <p>此外，变量的$ AGGMAP属性中指定的aggmap是Oracle OLAP在变量是不包含USING短语的AGGREGATE命令的目标时使用的aggmap。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-959178EF-5401-4FFB-BBD8-B140A7F283B9__GUID-C1ABD8CD-AFFF-47CE-AE55-7FF81008D3E3">句法</p>
                     <p>使用PROPERTY语句向最近定义或考虑的对象添加或删除$ AGGMAP属性（请参阅<a href="olap-dml-commands-a-g.html#GUID-569FA3A3-ADF7-488B-9D39-AB8785572C11">DEFINE</a>和<a href="olap-dml-commands-a-g.html#GUID-BEAE74F8-8489-4662-A7F1-3BEDB37143E4">CONSIDER</a>命令）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要添加属性，请发出以下语句。</p>
                           <p>PROPERTY'$ <span class="italic">AGGMAP'agggmap-name</span></p>
                        </li>
                        <li>
                           <p>要删除该属性，请发出以下语句。</p>
                           <p>财产删除'$ AGGMAP'</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-959178EF-5401-4FFB-BBD8-B140A7F283B9__GUID-217A00EE-C271-4C37-85AE-61518530AEFD">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-959178EF-5401-4FFB-BBD8-B140A7F283B9__GUID-486262D3-155E-43A1-AAAD-0BF7025EF27A"><!-- --></a> <span class="italic">aggmap-name</span></dt>
                        <dd>
                           <p>一个<code class="codeph">TEXT</code>表达式，它是先前定义的aggmap对象的名称。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-959178EF-5401-4FFB-BBD8-B140A7F283B9__GUID-DD9E2947-42FF-4719-8069-A1D30590515A">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-959178EF-5401-4FFB-BBD8-B140A7F283B9__GUID-25BA1665-88A8-46B4-9124-57C4C0A23268">
                     <p class="titleinexample">示例4-1使用$ AGGMAP动态聚合数据</p>
                     <p>假设您有一个名为<code class="codeph">geog,</code>的分层维度<code class="codeph">geog,</code>一个名为<code class="codeph">year</code>的简单维度，以及名为<code class="codeph">sales</code>的以下变量，该变量由两者<code class="codeph">geog,</code>并且仅在详细级别具有数据。
                     </p>
                     <p>假设您要为2005年康涅狄格州的<code class="codeph">sales</code>单元明确指定值<code class="codeph">8000</code> 。为此，您发出以下赋值语句，销售报表显示该值。
                     </p><pre class="oac_no_warn" dir="ltr">销售（geog'康涅狄格'年'2005'）= 8000报告销售; -----------销售----------- -----------年------------ GEOG 2004 2005 2006年2007年-------------- ------ ------ ------ ------多伦多1,000 1,333 1,954 1,260诺福克1,131 1,867 1,843 1,767蒙特利尔1,571 1,754 1,316 1,905魁北克市1,914 1,728 1,386 1,847 Hartford 1,870 1,943 1,085 1,335 New Haven 1,684 1,330 1,458 1,402 Springfield 1,630 1,116 1,897 1,690 Boston 1,780 1,310 1,368 1,581 Ontario NA NA NA NA Quebec NA NA NA NA Connecticut NA 8,000 NA NA Massachusetts NA NA NA NA Canada NA NA NA NA美国NA NA NA NA所有Geog NA NA NA NA</pre><p>现在假设您为<code class="codeph">sales</code>定义了一个aggmap。aggmap具有以下定义，该定义指定仅通过AGGREGATE命令聚合加拿大和顶级（ <code class="codeph">All Geog</code> ）的上级数据。
                     </p><pre class="oac_no_warn" dir="ltr">定义MYAGGMAP AGGMAP AGGMAP关系geogParentrel PRECOMPUTE（'魁北克''安大略省''加拿大''所有Geog'）结束</pre><p>现在假设您发出以下语句：</p><pre class="oac_no_warn" dir="ltr">考虑销售物业'$ AGGMAP''Myaggmap'</pre><p>作为使用$ AGGMAP财产做出的结果<code class="codeph">myaggmap</code>作为默认aggmap <code class="codeph">sales</code> ，为一个简单的报告陈述<code class="codeph">sales</code>导致的Oracle OLAP聚合所有的美国数据。 （请注意，仅计算未指定为PRECOMPUTE且先前具有<code class="codeph">NA</code>值的那些值。2005年康涅狄格州特别指定的8,000值不会重新计算。）
                     </p><pre class="oac_no_warn" dir="ltr">报告销售-----------销售----------- -----------年------------ GEOG 2004 2005 2006 2007 -------------- ------ ------ ------ ------多伦多1,000 1,333 1,954 1,260诺福克1,131 1,867 1,843 1,767蒙特利尔1,571 1,754 1,316 1,905魁北克市1,914 1,728 1,386 1,847 Hartford 1,870 1,943 1,085 1,335 New Haven 1,684 1,330 1,458 1,402 Springfield 1,630 1,116 1,897 1,690 Boston 1,780 1,310 1,368 1,581 Ontario NA NA NA NA Quebec NA NA NA NA Connecticut 3,554 8,000 2,543 2,737 Massachusetts 3,410 2,426 3,265 3,271加拿大NA NA NA NA美国6,964 5,699 5,808 6,008所有Geog NA NA NA NA</pre><p>使用AGGREGATE命令汇总<code class="codeph">sales</code> ，Oracle OLAP会聚合<code class="codeph">sales</code>所有PRECOMPUTE单元格的值。
                     </p><pre class="oac_no_warn" dir="ltr">报告销售-----------销售----------- -----------年------------ GEOG 2004 2005 2006 2007 -------------- ------ ------ ------ ------多伦多1,000 1,333 1,954 1,260诺福克1,131 1,867 1,843 1,767蒙特利尔1,571 1,754 1,316 1,905魁北克市1,914 1,728 1,386 1,847 Hartford 1,870 1,943 1,085 1,335 New Haven 1,684 1,330 1,458 1,402 Springfield 1,630 1,116 1,897 1,690 Boston 1,780 1,310 1,368 1,581 Ontario 2,131 3,200 3,797 3,027 Quebec 3,485 3,482 2,702 3,752 Connecticut 3,554 8,000 2,543 2,737 Massachusetts 3,410 2,426 3,265 3,271加拿大5,616 6,682 6,499 6,779美国6,964 5,699 5,808 6,008所有Geog 12,580 12,381 12,307 12,787</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-959178EF-5401-4FFB-BBD8-B140A7F283B9__GUID-2CDF2E19-2215-4353-BCAD-D052D03EFA54">
                     <p class="titleinexample">例4-2对AGGREGATE命令的$ AGGMAP属性效果</p>
                     <p><a href="olap-dml-properties.html#GUID-92D46602-3911-4004-AE1C-208505ADC933" title="$ AGGREGATE_FROM属性指定与AGGREGATE命令或AGGREGATE函数中的FROM子句指定的行为相同的行为。通过向变量添加$ AGGREGATE_FROM属性，可以在聚合变量时确保此行为，即使它由AGGREGATE语句聚合也不包含FROM子句。">$ AGGREGATE_FROM</a>说明了如何将<a href="olap-dml-commands-a-g.html#GUID-E97AC985-28C6-457E-BD95-0A3F9A5D452A__CHDJJFED">例9-13中</a>显示的AGGREGATE命令简化为以下语句。
                     </p><pre class="oac_no_warn" dir="ltr">AGGREGATE sales_by_revenue使用revenue_aggmap</pre><p>如果在<code class="codeph">sales_by_revenue</code>变量上放置$ AGGMAP属性，则可以进一步简化AGGREGATE命令。要在<code class="codeph">sales_by_revenue</code>变量上定义$ AGGMAP属性，请发出以下语句。
                     </p><pre class="oac_no_warn" dir="ltr">考虑sales_by_revenue PROPERTY'$ AGGMAP''revenue_aggmap'</pre><p>现在，您可以通过发出不包含USING子句的以下AGGREGATE命令来聚合数据。</p><pre class="oac_no_warn" dir="ltr">AGGREGATE sales_by_revenue</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-D95EC28B-1915-4547-A40C-62CE4E64CEDF" name="GUID-D95EC28B-1915-4547-A40C-62CE4E64CEDF"></a><h3 id="OLADM-GUID-D95EC28B-1915-4547-A40C-62CE4E64CEDF" class="sect3"><span class="enumeration_section">4.5</span> $ AGGREGATE_FORCECALC</h3>
               <div>
                  <p>$ AGGREGATE_FORCECALC属性指定与AGGREGATE函数中FORCECALC关键字指定的行为相同的行为。通过向变量添加$ AGGREGATE_FORCECALC属性，可以在使用AGGREGATE函数聚合变量时确保此行为，即使该函数不包含FORCECALC关键字也是如此。</p>
                  <div class="section">
                     <p>$ AGGREGATE_FORCECALC属性和FORCECALC关键字指定的行为是当AGGREGATE函数聚合变量时，Oracle OLAP重新计算变量的aggmap中RELATION（for aggregation）语句的PRECOMPUTE子句中未指定的任何值。即使存在所需单元格中的值。当您希望用户能够更改详细数据单元格并查看动态计算的聚合单元格中反映的更改值时，重新计算PRECOMPUTE子句中未指定的值是所需的行为。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D95EC28B-1915-4547-A40C-62CE4E64CEDF__GUID-C1ABD8CD-AFFF-47CE-AE55-7FF81008D3E3">句法</p>
                     <p>您可以通过发出PROPERTY语句向最近定义或考虑的对象添加或删除$ AGGREGATE_FORCECALC属性（请参阅<a href="olap-dml-commands-a-g.html#GUID-569FA3A3-ADF7-488B-9D39-AB8785572C11">DEFINE</a>和<a href="olap-dml-commands-a-g.html#GUID-BEAE74F8-8489-4662-A7F1-3BEDB37143E4">CONSIDER</a>命令）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要添加属性，请发出以下语句。</p>
                           <p>物业'$ AGGREGATE_FORCECALC'</p>
                        </li>
                        <li>
                           <p>要删除该属性，请发出以下语句。</p>
                           <p>物业删除'$ AGGREGATE_FORCECALC'</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-5A500528-DB6E-4A08-981E-D20115B8BD18" name="GUID-5A500528-DB6E-4A08-981E-D20115B8BD18"></a><h3 id="OLADM-GUID-5A500528-DB6E-4A08-981E-D20115B8BD18" class="sect3"><span class="enumeration_section">4.6</span> $ AGGREGATE_FORCEORDER</h3>
               <div>
                  <p>$ AGGREGATE_FORCEORDER属性指定与AGGREGATE命令或AGGREGATE函数中FORCEORDER关键字指定的行为相同的行为。通过向变量添加$ AGGREGATE_FORCEORDER属性，可以在聚合变量时确保此行为，即使它由AGGREGATE语句聚合也不包括FORCEORDER关键字。</p>
                  <div class="section">
                     <p>$ AGGREGATE_ORDER属性和FORCEORDER关键字指定的行为是必须按照用于聚合的aggmap中列出RELATION（for aggregation）语句的顺序执行计算。通常，当通过聚合计算的某些值发生更改时，您需要此行为，否则，AGGREGATE使用的优化方法可能会导致忽略修改后的值。（但请注意，强制执行顺序会降低性能。）</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5A500528-DB6E-4A08-981E-D20115B8BD18__GUID-C1ABD8CD-AFFF-47CE-AE55-7FF81008D3E3">句法</p>
                     <p>您可以通过发出PROPERTY语句向最近定义或考虑的对象添加或删除$ AGGREGATE_FORCEORDER属性（请参阅<a href="olap-dml-commands-a-g.html#GUID-569FA3A3-ADF7-488B-9D39-AB8785572C11">DEFINE</a>和<a href="olap-dml-commands-a-g.html#GUID-BEAE74F8-8489-4662-A7F1-3BEDB37143E4">CONSIDER</a>命令）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要添加属性，请发出以下语句。</p>
                           <p>物业'$ AGGREGATE_FORCEORDER'</p>
                        </li>
                        <li>
                           <p>要删除该属性，请发出以下语句。</p>
                           <p>物业删除'$ AGGREGATE_FORCEORDER'</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-92D46602-3911-4004-AE1C-208505ADC933" name="GUID-92D46602-3911-4004-AE1C-208505ADC933"></a><h3 id="OLADM-GUID-92D46602-3911-4004-AE1C-208505ADC933" class="sect3"><span class="enumeration_section">4.7</span> $ AGGREGATE_FROM</h3>
               <div>
                  <p>$ AGGREGATE_FROM属性指定与AGGREGATE命令或AGGREGATE函数中的FROM子句指定的行为相同的行为。通过向变量添加$ AGGREGATE_FROM属性，可以在聚合变量时确保此行为，即使它由AGGREGATE语句聚合也不包含FROM子句。</p>
                  <div class="section">
                     <p>$ AGGREGATE_FROM属性和FROM子句都指定了一个对象，Oracle OLAP从该对象获取聚合的详细数据。</p>
                     <div class="infoboxnote" id="GUID-92D46602-3911-4004-AE1C-208505ADC933__GUID-046E37C3-4B17-4615-91A7-EB7EE03B168B">
                        <p class="notep1">注意：</p>
                        <p><a href="olap-dml-commands-a-g.html#GUID-E53A76E2-3ED0-4084-BEFC-942266F3F811" title="ALLOCATE命令通过在分层维度下分配可变数据来计算来自上层数据的较低级别数据。">OLAP DML命令：AG</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-92D46602-3911-4004-AE1C-208505ADC933__GUID-C1ABD8CD-AFFF-47CE-AE55-7FF81008D3E3">句法</p>
                     <p>您可以通过发出PROPERTY语句向最近定义或考虑的对象添加或删除$ AGGREGATE_FROM属性（请参阅<a href="olap-dml-commands-a-g.html#GUID-569FA3A3-ADF7-488B-9D39-AB8785572C11">DEFINE</a>和<a href="olap-dml-commands-a-g.html#GUID-BEAE74F8-8489-4662-A7F1-3BEDB37143E4">CONSIDER</a>命令）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要添加属性，请发出以下语句。</p>
                           <p>物业'$ AGGREGATE_FROM' <span class="italic">来自specpec</span></p>
                        </li>
                        <li>
                           <p>要删除该属性，请发出以下语句。</p>
                           <p>PROPERTY DELETE'$ AGGREGATE_FROM'</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-92D46602-3911-4004-AE1C-208505ADC933__GUID-217A00EE-C271-4C37-85AE-61518530AEFD">参数</p>
                     <dl>
                        <dt class="dlterm"><span class="italic">来自specpec的</span> <a name="GUID-92D46602-3911-4004-AE1C-208505ADC933__GUID-EBE5A55A-189B-47EB-B9F0-E92C704D0248"><!-- --></a></dt>
                        <dd>
                           <p>任意尺寸的变量，公式或关系，从中获得聚合的详细数据。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-92D46602-3911-4004-AE1C-208505ADC933__GUID-57A3069E-9F1E-4270-ADA5-0570CCD12CD5">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-92D46602-3911-4004-AE1C-208505ADC933__GUID-A5F89163-009F-47C8-87DE-3054BDFD0B19">
                     <p class="titleinexample">示例4-3使用$ AGGREGATE_FROM属性</p>
                     <p><a href="olap-dml-commands-a-g.html#GUID-E97AC985-28C6-457E-BD95-0A3F9A5D452A__CHDBHJHD">示例9-15</a>使用以下AGGREGATE命令来填充<code class="codeph">total_sales_exclud_north</code>变量，其中包含从<code class="codeph">sales</code>变量计算的聚合值。
                     </p><pre class="oac_no_warn" dir="ltr">AGGREGATE total_sales_exclud_north使用agg_sales_exclud_north FROM sales</pre><p>您可以通过发出以下语句在<code class="codeph">total_sales_exclud_north</code>变量上放置$ AGGREGATE_FROM属性。
                     </p><pre class="oac_no_warn" dir="ltr">CONSIDER total_sales_exclud_north PROPERTY'$ AGGREGATE_FROM''sales'</pre><p>现在，您可以通过发出不包含FROM子句的以下AGGREGATE命令来聚合数据。</p><pre class="oac_no_warn" dir="ltr">AGGREGATE total_sales_exclud_north使用agg_sales_exclud_north</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-09F863F3-09A7-44E6-8E40-E129BDCA9DB0" name="GUID-09F863F3-09A7-44E6-8E40-E129BDCA9DB0"></a><h3 id="OLADM-GUID-09F863F3-09A7-44E6-8E40-E129BDCA9DB0" class="sect3"><span class="enumeration_section">4.8</span> $ AGGREGATE_FROMVAR</h3>
               <div>
                  <p>$ AGGREGATE_FROMVAR属性指定与AGGREGATE命令或AGGREGATE函数中的FROMVAR子句指定的行为相同的行为。通过向变量添加$ AGGREGATE_FROMVAR属性，可以在聚合变量时确保此行为，即使它由不包含FROMVAR子句的AGGREGATE语句聚合也是如此。</p>
                  <div class="section">
                     <p>$ AGGREGATE_FROMVAR属性和FROMVAR子句都指定了两个或多个对象，Oracle OLAP从这些对象获取聚合的详细数据。</p>
                     <div class="infoboxnote" id="GUID-09F863F3-09A7-44E6-8E40-E129BDCA9DB0__GUID-046E37C3-4B17-4615-91A7-EB7EE03B168B">
                        <p class="notep1">注意：</p>
                        <p><a href="olap-dml-commands-a-g.html#GUID-E53A76E2-3ED0-4084-BEFC-942266F3F811" title="ALLOCATE命令通过在分层维度下分配可变数据来计算来自上层数据的较低级别数据。">OLAP DML命令：AG</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-09F863F3-09A7-44E6-8E40-E129BDCA9DB0__GUID-C1ABD8CD-AFFF-47CE-AE55-7FF81008D3E3">句法</p>
                     <p>您可以通过发出PROPERTY语句向最近定义或考虑的对象添加或删除$ AGGREGATE_FROMVAR属性（请参阅<a href="olap-dml-commands-a-g.html#GUID-569FA3A3-ADF7-488B-9D39-AB8785572C11">DEFINE</a>和<a href="olap-dml-commands-a-g.html#GUID-BEAE74F8-8489-4662-A7F1-3BEDB37143E4">CONSIDER</a>命令）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要添加属性，请发出以下语句。</p>
                           <p>PROPERTY '$ AGGREGATE_FROMVAR' <span class="italic">textvar</span>横跨<span class="italic">dimname</span></p>
                        </li>
                        <li>
                           <p>要删除该属性，请发出以下语句。</p>
                           <p>PROPERTY DELETE'$ AGGREGATE_FROMVAR'</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-09F863F3-09A7-44E6-8E40-E129BDCA9DB0__GUID-217A00EE-C271-4C37-85AE-61518530AEFD">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-09F863F3-09A7-44E6-8E40-E129BDCA9DB0__GUID-814C02CC-1BBB-4C61-B4C3-A332BEC17A13"><!-- --></a> <span class="italic">textvar</span></dt>
                        <dd>
                           <p>一个<code class="codeph">TEXT</code>表达式，指定一个任意尺寸的变量或公式，指定在执行顶点聚合时从中获取详细数据的对象的名称。指定<code class="codeph">NA</code>以指示节点不需要详细数据来计算值。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-09F863F3-09A7-44E6-8E40-E129BDCA9DB0__GUID-EBE5A55A-189B-47EB-B9F0-E92C704D0248"><!-- --></a> ACROSS <span class="italic">dimname</span></dt>
                        <dd>
                           <p>指定聚合循环的维度或命名复合，以发现<span class="italic">textvar</span>指定的对象中的单元格。由于<span class="italic">textvar</span>指定的对象可以是公式，因此可以通过提供消除稀疏性的循环维度来实现显着的性能优势。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-09F863F3-09A7-44E6-8E40-E129BDCA9DB0__GUID-A5A4D9C4-8519-4655-AE87-2DC55EF18627">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-09F863F3-09A7-44E6-8E40-E129BDCA9DB0__GUID-A5F89163-009F-47C8-87DE-3054BDFD0B19">
                     <p class="titleinexample">示例4-4使用$ AGGREGATE_FROMVAR属性进行Capstone聚合</p>
                     <p><a href="olap-dml-commands-a-g.html#GUID-09FDB96F-9305-4F6B-92C7-311963C521D1__BCFIGIJJ">示例9-32</a>使用以下AGGREGATE命令执行最终的capstone聚合。
                     </p><pre class="oac_no_warn" dir="ltr">AGGREGATE sales_capstone76使用capstone_aggmap FROMVAR capstone_source</pre><p>如以下语句所示，如果在<code class="codeph">sales-capstone76</code>上创建适当的FROMVAR属性，则可以省略FROMVAR子句。
                     </p><pre class="oac_no_warn" dir="ltr">CONSIDER sales_capstone76 PROPERTY'$ AGGREGATE_FROMVAR''capstone_source'AGGREGATE sales_capstone76使用capstone_aggmap</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-70462F9C-6167-4728-A8A3-EE4B50770209" name="GUID-70462F9C-6167-4728-A8A3-EE4B50770209"></a><h3 id="OLADM-GUID-70462F9C-6167-4728-A8A3-EE4B50770209" class="sect3"><span class="enumeration_section">4.9</span> $ ALLOCMAP</h3>
               <div>
                  <p>$ ALLOCMAP属性指定用于变量分配的默认aggmap，该变量是Oracle OLAP在变量是不包含USING短语的ALLOCATE语句的目标变量时使用的aggmap。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-70462F9C-6167-4728-A8A3-EE4B50770209__GUID-C1ABD8CD-AFFF-47CE-AE55-7FF81008D3E3">句法</p>
                     <p>使用PROPERTY语句向最近定义或考虑的对象添加或删除$ ALLOCMAP属性（请参阅<a href="olap-dml-commands-a-g.html#GUID-569FA3A3-ADF7-488B-9D39-AB8785572C11">DEFINE</a>和<a href="olap-dml-commands-a-g.html#GUID-BEAE74F8-8489-4662-A7F1-3BEDB37143E4">CONSIDER</a>命令）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要添加属性，请发出以下语句。</p>
                           <p>PROPERTY'$ <span class="italic">ALLOCMAP'aggmap-name</span></p>
                        </li>
                        <li>
                           <p>要删除该属性，请发出以下语句。</p>
                           <p>财产删除'$ AALLOCMAP'</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-70462F9C-6167-4728-A8A3-EE4B50770209__GUID-217A00EE-C271-4C37-85AE-61518530AEFD">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-70462F9C-6167-4728-A8A3-EE4B50770209__GUID-814C02CC-1BBB-4C61-B4C3-A332BEC17A13"><!-- --></a> <span class="italic">aggmap-name</span></dt>
                        <dd>
                           <p>一个<code class="codeph">TEXT</code>表达式，指定先前定义的ALLOCMAP类型aggmap对象的名称。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-70462F9C-6167-4728-A8A3-EE4B50770209__GUID-22CF3569-F36C-414F-9B66-C055A8FD3406">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-70462F9C-6167-4728-A8A3-EE4B50770209__GUID-A5F89163-009F-47C8-87DE-3054BDFD0B19">
                     <p class="titleinexample">示例4-5使用$ ALLOCMAP指定默认分配规范</p>
                     <p>以下语句使用<code class="codeph">projbudgmap</code>分配规范在<code class="codeph">projbudget</code>变量中分配数据。
                     </p><pre class="oac_no_warn" dir="ltr">ALLOCATE projbudget使用projbudgmap</pre><p>您可以通过发出以下语句来指定<code class="codeph">projbudgmap</code>是<code class="codeph">projbudget</code>变量的默认分配规范。
                     </p><pre class="oac_no_warn" dir="ltr">考虑到projbudget PROPERTY'$ ALLOCMAP'“projbugmap'</pre><p>现在，通过发出以下语句，您可以使用<code class="codeph">projbudgmap</code>分配规范在<code class="codeph">projbudget</code>变量中分配数据。
                     </p><pre class="oac_no_warn" dir="ltr">分配projbudget</pre><p>有关使用$ ALLOCMAP属性的其他示例，请参阅ALLOCATE命令。</p>
                  </div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-86EECF24-5D18-4F50-81FA-63AEE5F931C2" name="GUID-86EECF24-5D18-4F50-81FA-63AEE5F931C2"></a><h3 id="OLADM-GUID-86EECF24-5D18-4F50-81FA-63AEE5F931C2" class="sect3"><span class="enumeration_section">4.10</span> $ COUNTVAR</h3>
               <div>
                  <p>$ COUNTVAR属性指定与AGGREGATE命令或AGGREGATE函数中的COUNTVAR子句指定的行为相同的行为。通过向变量添加$ COUNTVAR属性，可以在聚合变量时确保此行为，即使它由AGGREGATE语句聚合也不包括COUNTVAR子句。</p>
                  <div class="section">
                     <p>$ COUNTVAR属性和COUNTVAR子句指定的行为是Oracle OLAP使用您先前定义的变量（有时称为Countvar变量）来存储导致聚合的叶节点数的非NA计数为具有AVERAGE，HAVERAGE，HWAVERAGE或WAVERAGE运算符的RELATION（用于聚合）语句计算的值。</p>
                     <div class="infoboxnote" id="GUID-86EECF24-5D18-4F50-81FA-63AEE5F931C2__GUID-47C25D1B-5777-4254-9739-970AF4EDFB59">
                        <p class="notep1">注意：</p>
                        <p>通常，您<span class="italic">不</span>使用用户定义的Countvar变量来存储平均聚合的计数;相反，您使用Oracle OLAP创建的Aggcount变量。当聚合规范包含RELATION（用于聚合）语句时， <span class="italic">不能</span>使用Countvar变量，平均运算符用于压缩复合。有关详细信息，请参阅<a href="olap-dml-commands-a-g.html#GUID-0F57584C-1BD9-4F2B-993B-F5E1EF2B8D09">DEFINE VARIABLE中的</a> <span class="q">“Aggcount变量”</span> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-86EECF24-5D18-4F50-81FA-63AEE5F931C2__GUID-C1ABD8CD-AFFF-47CE-AE55-7FF81008D3E3">句法</p>
                     <p>使用PROPERTY语句向最近定义或考虑的对象添加或删除$ COUNTVAR属性（请参阅<a href="olap-dml-commands-a-g.html#GUID-569FA3A3-ADF7-488B-9D39-AB8785572C11">DEFINE</a>和<a href="olap-dml-commands-a-g.html#GUID-BEAE74F8-8489-4662-A7F1-3BEDB37143E4">CONSIDER</a>命令）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要添加属性，请发出以下语句。</p>
                           <p>PROPERTY'$ <span class="italic">COUNTVAR'countvar</span></p>
                        </li>
                        <li>
                           <p>要删除该属性，请发出以下语句。</p>
                           <p>物业删除'$ COUNTVAR'</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-86EECF24-5D18-4F50-81FA-63AEE5F931C2__GUID-217A00EE-C271-4C37-85AE-61518530AEFD">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-86EECF24-5D18-4F50-81FA-63AEE5F931C2__GUID-814C02CC-1BBB-4C61-B4C3-A332BEC17A13"><!-- --></a> <span class="italic">countvar</span></dt>
                        <dd>
                           <p>一个<code class="codeph">TEXT</code>表达式，指定先前定义的Countvar变量的名称。Countvar变量必须是一个<code class="codeph">INTEGER</code>变量，其大小与维度相同，并且与添加$ COUNTVAR属性的变量的维度相同。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-86EECF24-5D18-4F50-81FA-63AEE5F931C2__GUID-9DAB8CA9-873C-4C6B-BB51-E05824B6ABA4">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-86EECF24-5D18-4F50-81FA-63AEE5F931C2__GUID-A5F89163-009F-47C8-87DE-3054BDFD0B19">
                     <p class="titleinexample">例4-6使用$ COUNTVAR</p>
                     <p>对于名为<code class="codeph">v1</code>的变量，以下语句使Oracle OLAP计算贡献于聚合值的叶节点数，该聚合值是AGGREGATE函数执行<code class="codeph">myaggmap</code> aggmap对象的结果。
                     </p><pre class="oac_no_warn" dir="ltr">考虑v1 PROPERTY'$ COUNTVAR''mycountvar'</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76" name="GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76"></a><h3 id="OLADM-GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76" class="sect3"><span class="enumeration_section">4.11</span> $ DEFAULT_LANGUAGE</h3>
               <div>
                  <p>$ DEFAULT_LANGUAGE属性将维度标识为定义它的分析工作区的语言维度，并指定该语言维度的默认语言。</p>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76__GUID-47C25D1B-5777-4254-9739-970AF4EDFB59">
                        <p class="notep1">注意：</p>
                        <p>分析工作区中只能有一个语言维度，并且只有该维度可以具有$ DEFAULT_LANGUAGE属性。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76__GUID-B9C3E467-A0F3-4ABA-82BF-C23869FCB22B">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="olap-dml-options.html#GUID-1A532E9D-99EB-4EF9-9E5A-707473302037">LOCK_LANGUAGE_DIMS</a> ， <a href="olap-dml-options.html#GUID-A5490A2E-31AE-4E1C-85B7-2C36ED715A91">SESSION_NLS_LANGUAGE</a>和<a href="olap-dml-options.html#GUID-2A5CAA6A-F3CC-41F8-93DE-37D11E2461F5">STATIC_SESSION_LANGUAGE</a>选项。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76__GUID-C1ABD8CD-AFFF-47CE-AE55-7FF81008D3E3">句法</p>
                     <p>在向语言维度添加或删除$ DEFAULT_LANGUAGE属性之前，必须使该维度成为最近定义或考虑的对象（请参阅<a href="olap-dml-commands-a-g.html#GUID-569FA3A3-ADF7-488B-9D39-AB8785572C11">DEFINE</a>和<a href="olap-dml-commands-a-g.html#GUID-BEAE74F8-8489-4662-A7F1-3BEDB37143E4">CONSIDER</a>命令）。使用PROPERTY语句添加$ DEFAULT_LANGUAGE属性：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要添加属性，请发出以下语句。</p>
                           <p>PROPERTY'$ DEFAULT_LANGUAGE' <span class="italic">语言</span></p>
                        </li>
                        <li>
                           <p>要删除该属性，请发出以下语句。</p>
                           <p>PROPERTY DELETE'$ DEFAULT_LANGUAGE'</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76__GUID-217A00EE-C271-4C37-85AE-61518530AEFD">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76__GUID-814C02CC-1BBB-4C61-B4C3-A332BEC17A13"><!-- --></a> <span class="italic">语言</span></dt>
                        <dd>
                           <p>一个<code class="codeph">TEXT</code>表达式，它是您的语言维度中的值或空字符串。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76__GUID-CBEA4753-A8FE-4AD0-82B7-8428BA84BBBD">使用说明</p>
                     <p><span class="bold">使用语言维度</span></p>
                     <p>语言维度是为其定义了$ DEFAULT_LANGUAGE属性的维度。分析工作区中只能有一个语言维度。使用语言维度涉及：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>创建语言维度</p>
                        </li>
                        <li>
                           <p>定义由语言维度标注的多语言变量</p>
                        </li>
                        <li>
                           <p>使用语言维度状态</p>
                        </li>
                     </ul>
                     <p><span class="bold">创建语言维度</span></p>
                     <p>要创建语言维度，请执行以下步骤：</p>
                     <ol>
                        <li>
                           <p>使用DEFINE DIMENSION定义TEXT维度。</p>
                        </li>
                        <li>
                           <p>使用您要支持的语言的名称填充语言维度。作为语言名称，使用<a href="olap-dml-options.html#GUID-67802D5A-37E2-43A1-85B5-69876AAE979E">NLS_LANGUAGE的</a>有效值。</p>
                        </li>
                        <li>
                           <p>将$ DEFAULT_LANGUAGE属性添加到维度，从而将Oracle OLAP的维度标识为分析工作区中的语言维度。</p>
                        </li>
                     </ol>
                     <p><span class="bold">定义由语言维度标注的多语言变量</span></p>
                     <p>要创建多语言变量，请将语言维度包含为变量的维度，如<a href="olap-dml-properties.html#GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76__GUID-FF1AA189-A825-437F-A7D5-A6A2CC3D9B6F">例4-8所示</a> 。
                     </p>
                     <p><span class="bold">使用语言维度状态</span></p>
                     <p>附加具有语言维度的分析工作区时，Oracle OLAP会初始化语言维度的状态，如下所示：</p>
                     <ol>
                        <li>
                           <p>当语言维度包含该值时，Oracle OLAP将语言维度限制为SESSION_NLS_LANGUAGE选项的值。</p>
                        </li>
                        <li>
                           <p>如果语言维度不包含SESSION_NLS_LANGUAGE选项所设置的值，那么当$ DEFAULT_LANGUAGE属性包含值并且该值为值时，Oracle OLAP会将语言维度限制为维度$ DEFAULT_LANGUAGE属性中指定的语言。语言维度。</p>
                        </li>
                        <li>
                           <p>如果语言维度不包含设置了SESSION_NLS_LANGUAGE选项的值，并且语言维度的$ DEFAULT_LANGUAGE属性为空或者指定不存在的值，则Oracle OLAP将语言维度限制为语言维度的值，使其成为第一个值。维度的默认顺序。</p>
                        </li>
                     </ol>
                     <p>默认情况下，初始化后，无法更改语言维度的状态。但是，您可以通过将LOCK_LANGUAGE_DIMS选项的值从TRUE更改为FALSE来更改此行为，该值将语言维度的状态更改为ALL，并启用针对维度发出LIMIT语句。</p>
                     <p><span class="bold">导出语言维度</span></p>
                     <p>使用EXPORT（EIF）导出分析工作区时，Oracle OLAP会执行以下步骤来确定要导出的语言维度的值：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果执行EXPORT语句时LOCK_LANGUAGE_DIMS选项的值为FALSE，则Oracle OLAP将遵循语言维度的当前状态并相应地执行导出。</p>
                        </li>
                        <li>
                           <p>如果执行EXPORT语句时LOCK_LANGUAGE_DIMS选项的值为TRUE，则Oracle OLAP：</p>
                           <ol>
                              <li>
                                 <p>在执行EXPORT语句之前，将LOCK_LANGUAGE_DIMS选项的值更改为FALSE（从而将状态设置为ALL）。</p>
                              </li>
                              <li>
                                 <p>执行EXPORT语句。Oracle OLAP导出语言维度的所有值。</p>
                              </li>
                              <li>
                                 <p>将LOCK_LANGUAGE_DIMS选项的值更改为TRUE，并根据SESSION_NLS_LANGUAGE选项的值重置语言维度的状态。</p>
                              </li>
                           </ol>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76__GUID-229FE343-D1C1-4251-A73A-8D8A2E984A89">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76__GUID-A5F89163-009F-47C8-87DE-3054BDFD0B19">
                     <p class="titleinexample">示例4-7创建语言维度</p>
                     <p>此示例说明了如何创建名为<code class="codeph">mylangs</code>的语言维度，该维度支持使用法语<code class="codeph">mylangs</code>语，并指定默认语言为American。
                     </p><pre class="oac_no_warn" dir="ltr">NLS_LANGUAGE ='AMERICAN'DEFINE mylangs DIMENSION TEXT MAINTAIN mylangs添加'法国''美国'考虑mylangs PROPERTY'$ DEFAULT_LANGUAGE''AMERICAN'SHOW OBJ（PROPERTY'$ DEFAULT_LANGUAGE''mylangs'）美国报告mylangs MYLANGS ------ --------法国美国人</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76__GUID-FF1AA189-A825-437F-A7D5-A6A2CC3D9B6F">
                     <p class="titleinexample">示例4-8附加语言维度</p>
                     <p>假设在名为<code class="codeph">myaw</code>的分析工作区中，您已创建了名为<code class="codeph">mylangs</code>的语言维度，如<a href="olap-dml-properties.html#GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76__GUID-A5F89163-009F-47C8-87DE-3054BDFD0B19">示例4-7中所述</a> 。还假设您已使用以下定义和值创建了<code class="codeph">products</code>维度和<code class="codeph">prod-desc</code>变量。
                     </p><pre class="oac_no_warn" dir="ltr">定义MYLANGS尺寸文字显示OBJ（PROPERTY'$ DEFAULT_LANGUAGE''mylangs'）美国定义产品尺寸文本DEFINE PROD_DESC可变文本&lt;产品MYLANGS&gt; MYLANGS --------------法国美国产品--- ----------- PROD01 PROD02 ------ PROD_DESC ------ ------产品------- MYLANGS PROD01 PROD02 ------- ------- ---------- ---------- FRENCH Pantalons JupesAMERICAN长裤裙</pre><p>假设您附加了分析工作区。通过显示分析工作区的选项并请求<code class="codeph">mylangs</code>和<code class="codeph">prod_desc</code>的报告，可以看出Oracle OLAP已将<code class="codeph">mylangs</code>维度限制为American，这是SESSION_NLS_LANGUAGE选项的值。
                     </p><pre class="oac_no_warn" dir="ltr">显示NLS_LANGUAGE AMERICAN AW ATTACH myaw RW“在我们的语言维度中获取默认语言SHOW OBJ（PROPERTY'$ DEFAULT_LANGUAGE''mylangs'）AMERICAN SHOW SESSION_NLS_LANGUAGE AMERICAN SHOW LOCK_LANGUAGE_DIMS yes SHOW STATIC_SESSION_LANGUAGE no REPORT mylangs MYLANGS --------- -----美国报道prod_desc ------ PROD_DESC ------ ------产品------- MYLANGS PROD01 PROD02 ------------ -  ---------- ---------- AMERICAN Trousers裙子</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76__GUID-3EA8A17B-1EA3-4189-9BE1-5D492D6EF88B">
                     <p class="titleinexample">例4-9更改NLS_LANGUAGE</p>
                     <p>假设您已按照<a href="olap-dml-properties.html#GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76__GUID-FF1AA189-A825-437F-A7D5-A6A2CC3D9B6F">示例4-8中</a>所述附加了分析工作区<code class="codeph">myaw</code> 。现在，您将NLS_LANGUAGE的值更改为法语。由于STATIC_SESSION_LANGUAGE的值设置为NO，因此进行此更改会将SESSION_NLS_LANGUAGE选项的值更改为French。当SESSION_NLS_LANGUAGE选项的值为法语时，正如<code class="codeph">mylangs</code>和<code class="codeph">prod_desc</code>的报告所示，Oracle OLAP将<code class="codeph">mylangs</code>维度限制为法语。
                     </p>
                     <p> </p><pre class="oac_no_warn" dir="ltr">SET NLS_LANGUAGE ='FRENCH'SHOW OBJ（PROPERTY'$ DEFAULT_LANGUAGE''mylangs'）AMERICAN SHOW NLS_LANGUAGE FRENCH SHOW SESSION_NLS_LANGUAGE FRENCH SHOW LOCK_LANGUAGE_DIMS oui SHOW STATIC_SESSION_LANGUAGE non REPORT mylangs MYLANGS --------------法国报道prod_desc ------ PROD_DESC ------ ------产品------- MYLANGS PROD01 PROD02 -------------- ----- ----- ----------法国Pantalons Jupes</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76__GUID-12417CC5-CF1A-47BB-A6F5-8756A7AC3C9A">
                     <p class="titleinexample">示例4-10将NLS_LANGUAGE设置为不在语言维度中的值</p>
                     <p>假设在名为<code class="codeph">myaw</code>的分析工作区（在<a href="olap-dml-properties.html#GUID-3321EC3C-F18A-4A0F-BCCD-9579FBF8ED76__GUID-3EA8A17B-1EA3-4189-9BE1-5D492D6EF88B">例4-9中</a>描述）中，NLS_LANGUAGE的值首先设置为American，然后设置为Spanish。如下面的代码所示，由于语言维度<code class="codeph">mylangs</code>不包含西班牙语作为其值之一，因此Oracle OLAP使用$ DEFAULT_LANGUAGE属性的值限制<code class="codeph">mylangs</code>维度，该属性为American。
                     </p><pre class="oac_no_warn" dir="ltr">“将NLS_LANGUAGE的值更改为AMERICAN SET NLS_LANGUAGE ='AMERICAN'”将NLS_LANGUAGE的值更改为SPANISH SET NLS_LANGUAGE ='SPANISH'SHOW OBJ（PROPERTY'$ DEFAULT_LANGUAGE''mylangs'）AMERICAN SHOW NLS_LANGUAGE SPANISH SHOW SESSION_NLS_LANGUAGE SPANISH SHOWLOCK_LANGUAGE_DIMSsí SHOW STATIC_SESSION_LANGUAGE没有报道mylangs MYLANGS --------------美国报道prod_desc ------ PROD_DESC ------ ------产品------- MYLANGS PROD01 PROD02 -------------- ---------- ---------- AMERICAN Trousers裙子</pre><p>假设您已使用以下代码定义了<code class="codeph">mylangs</code>语言维度，而未指定默认语言。
                     </p><pre class="oac_no_warn" dir="ltr">DEFINE mylangs DIMENSION TEXT MAINTAIN mylangs添加'法国''美国'考虑mylangs PROPERTY'$ DEFAULT_LANGUAGE'''</pre><p>在这种情况下，当你NLS_LANGUAGE的值设置为西班牙语，因为语言方面， <code class="codeph">mylangs</code>没有用于其$ DEFAULT_LANGUAGE属性指定的值，甲骨文OLAP限制<code class="codeph">mylangs</code>使用的第一价值维度<code class="codeph">mylangs</code>尺寸是法国人。
                     </p><pre class="oac_no_warn" dir="ltr">NLS_LANGUAGE ='西班牙'表演OBJ（PROPERTY'$ DEFAULT_LANGUAGE''mylangs'）显示NLS_LANGUAGE西班牙表演SESSION_NLS_LANGUAGE西班牙表演LOCK_LANGUAGE_DIMS显示STATIC_SESSION_LANGUAGE没有报道mylangs MYLANGS --------------法国报道prod_desc  - ----- PROD_DESC ------ ------产品------- MYLANGS PROD01 PROD02 -------------- ------- --- ----------法国Pantalons Jupes</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-C6205802-4EA3-43F5-AEC4-9EFC1FA49E82" name="GUID-C6205802-4EA3-43F5-AEC4-9EFC1FA49E82"></a><h3 id="OLADM-GUID-C6205802-4EA3-43F5-AEC4-9EFC1FA49E82" class="sect3"><span class="enumeration_section">4.12</span> $ GID_DEPTH</h3>
               <div>
                  <p>$ GID_DEPTH属性指定添加它的分组ID关系中分组ID的级别数。</p>
                  <div class="section">
                     <p>$ GUD_DEPTH属性是在<a href="olap-dml-commands-a-g.html#GUID-A147822E-532F-4448-A91A-F7E5FBEFB94B">GROUPINGID命令</a>填充分组ID关系时自动创建和设置的，它指定了添加它的分组ID关系中的分组ID的级别数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C6205802-4EA3-43F5-AEC4-9EFC1FA49E82__GUID-C1ABD8CD-AFFF-47CE-AE55-7FF81008D3E3">句法</p>
                     <p>您无法显式定义$ GID_DEPTH属性。当执行GROUPIONGID命令创建关系时，Oracle OLAP会自动在分组ID关系上创建$ GID_DEPTH属性。</p>
                     <p>$ GID_DEPTH = <span class="italic">intlevels</span></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C6205802-4EA3-43F5-AEC4-9EFC1FA49E82__GUID-217A00EE-C271-4C37-85AE-61518530AEFD">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-C6205802-4EA3-43F5-AEC4-9EFC1FA49E82__GUID-814C02CC-1BBB-4C61-B4C3-A332BEC17A13"><!-- --></a> <span class="italic">intlevels</span></dt>
                        <dd>
                           <p>一个<code class="codeph">INTEGER</code>值，指定分组ID的级别数。
                           </p>
                        </dd>
                     </dl>
                     <p>有关使用$ GID_DEPTH属性的<a href="olap-dml-commands-a-g.html#GUID-A147822E-532F-4448-A91A-F7E5FBEFB94B__BGEHCIHC">示例</a> ，请参见<a href="olap-dml-commands-a-g.html#GUID-A147822E-532F-4448-A91A-F7E5FBEFB94B__BGEHCIHC">示例9-145</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-D0E6F709-EA38-4412-9FD6-83DD92F1D6E0" name="GUID-D0E6F709-EA38-4412-9FD6-83DD92F1D6E0"></a><h3 id="OLADM-GUID-D0E6F709-EA38-4412-9FD6-83DD92F1D6E0" class="sect3"><span class="enumeration_section">4.13</span> $ GID_LIST</h3>
               <div>
                  <p>$ GID_LIST属性包含用于创建分组ID的级别的名称。</p>
                  <div class="section">
                     <p>$ GID_LIST属性包含用于在<a href="olap-dml-commands-a-g.html#GUID-A147822E-532F-4448-A91A-F7E5FBEFB94B">执行</a>带有ROLLUP或GROUPSET关键字的<a href="olap-dml-commands-a-g.html#GUID-A147822E-532F-4448-A91A-F7E5FBEFB94B">GROUPINGID命令</a>时创建的关系中创建分组ID的级别的名称。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D0E6F709-EA38-4412-9FD6-83DD92F1D6E0__GUID-C1ABD8CD-AFFF-47CE-AE55-7FF81008D3E3">句法</p>
                     <p>您无法显式定义$ GID_LIST属性。当使用ROLLUP或GROUPSET关键字执行GROUPIONGID命令创建关系时，Oracle OLAP会自动在分组ID关系上创建$ GID_LIST属性。</p>
                     <p>$ GID_LIST = <span class="italic">等级</span></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D0E6F709-EA38-4412-9FD6-83DD92F1D6E0__GUID-217A00EE-C271-4C37-85AE-61518530AEFD">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-D0E6F709-EA38-4412-9FD6-83DD92F1D6E0__GUID-814C02CC-1BBB-4C61-B4C3-A332BEC17A13"><!-- --></a> <span class="italic">级别</span></dt>
                        <dd>
                           <p>一个TEXT表达式，它是由连字符（ - ）分隔的级别，用于创建分组ID的维度的层次结构。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-67875F24-8490-4C55-9230-4422CF37DEA0" name="GUID-67875F24-8490-4C55-9230-4422CF37DEA0"></a><h3 id="OLADM-GUID-67875F24-8490-4C55-9230-4422CF37DEA0" class="sect3"><span class="enumeration_section">4.14</span> $ GID_TYPE</h3>
               <div>
                  <p>$ GID_TYPE属性指定分组ID的分组类型。</p>
                  <div class="section">
                     <p>$ GID_TYPE属性是在具有ROLLUP或GROUPSET关键字的GROUPINGID命令填充分组ID关系时自动创建和设置的，用于指定分组ID的分组类型。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-67875F24-8490-4C55-9230-4422CF37DEA0__GUID-C1ABD8CD-AFFF-47CE-AE55-7FF81008D3E3">句法</p>
                     <p>您无法显式定义$ GID_TYPE属性。当使用ROLLUP或GROUPSET关键字执行GROUPIONGID命令创建关系时，Oracle OLAP会自动在分组ID关系上创建$ GID_TYPE属性。</p>
                     <p>$ GID_TYPE = ROLLUP | GROUPSET</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-67875F24-8490-4C55-9230-4422CF37DEA0__GUID-217A00EE-C271-4C37-85AE-61518530AEFD">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-67875F24-8490-4C55-9230-4422CF37DEA0__GUID-814C02CC-1BBB-4C61-B4C3-A332BEC17A13"><!-- --></a> ROLLUP</dt>
                        <dd>
                           <p>指定分组ID是汇总类型。</p>
                           <p>有关此类分组类型的详细信息，请参阅<span class="italic">Oracle数据库SQL语言参考中</span> SQL <code class="codeph">SELECT</code>语句的汇总立方体子句中对ROLLUP的讨论。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-67875F24-8490-4C55-9230-4422CF37DEA0__GUID-9E744342-0BF0-4274-9DC5-3639FAE3E62E"><!-- --></a>组</dt>
                        <dd>
                           <p>指定分组ID是分组集类型。</p>
                           <p>有关此类分组类型的详细信息，请参阅<span class="italic">Oracle Database SQL语言参考中</span> SQL <code class="codeph">SELECT</code>语句的grouping sets子句中的分组集的讨论。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-55A25E72-1052-41A9-B3E8-185FD7F4BB04" name="GUID-55A25E72-1052-41A9-B3E8-185FD7F4BB04"></a><h3 id="OLADM-GUID-55A25E72-1052-41A9-B3E8-185FD7F4BB04" class="sect3"><span class="enumeration_section">4.15</span> $ LOOP_AGGMAP</h3>
               <div>
                  <p>$ LOOP_AGGMAP属性用于确定在执行带有LOOP OPTIMIZED子句的SQL OLAP_TABLE函数时如何循环分配它的公式。它指定当Oracle OLAP生成包含公式的UNION子句时要使用的aggmap对象的名称。您为此属性指定的值将覆盖与变量关联的所有其他aggmaps（例如，变量具有$ AGGMAP属性的aggmaps），并且可用于阐明Oracle OLAP在公式的基础变量时应使用哪个aggmap与不同的aggmaps相关联。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-55A25E72-1052-41A9-B3E8-185FD7F4BB04__GUID-C1ABD8CD-AFFF-47CE-AE55-7FF81008D3E3">句法</p>
                     <p>使用PROPERTY语句将$ LOOP_AGGMAP属性添加或删除到最近定义或考虑的公式（请参阅<a href="olap-dml-commands-a-g.html#GUID-569FA3A3-ADF7-488B-9D39-AB8785572C11">DEFINE</a>和<a href="olap-dml-commands-a-g.html#GUID-BEAE74F8-8489-4662-A7F1-3BEDB37143E4">CONSIDER</a>命令）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要添加属性，请发出以下语句。</p>
                           <p>PROPERTY'$ <span class="italic">LOOP_AGGMAP'agggmap-name</span></p>
                        </li>
                        <li>
                           <p>要删除该属性，请发出以下语句。</p>
                           <p>物业删除'$ LOOP_AGGMAP'</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-55A25E72-1052-41A9-B3E8-185FD7F4BB04__GUID-217A00EE-C271-4C37-85AE-61518530AEFD">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-55A25E72-1052-41A9-B3E8-185FD7F4BB04__GUID-814C02CC-1BBB-4C61-B4C3-A332BEC17A13"><!-- --></a> <span class="italic">aggmap_name</span></dt>
                        <dd>
                           <p>aggmap对象的名称。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-41A3F437-7593-498B-ABFC-EF57536C4A7F" name="GUID-41A3F437-7593-498B-ABFC-EF57536C4A7F"></a><h3 id="OLADM-GUID-41A3F437-7593-498B-ABFC-EF57536C4A7F" class="sect3"><span class="enumeration_section">4.16</span> $ LOOP_DENSE</h3>
               <div>
                  <p>$ LOOP_DENSE属性用于确定在执行带有LOOP OPTIMIZED子句的OLAP_TABLE SQL函数时如何循环分配它的公式。</p>
                  <div class="section">它指定Oracle OLAP在公式上密集循环（即，它循环遍历公式的每个元组 - 甚至是那些没有值的成员单元格）。
                     <div class="infoboxnotealso" id="GUID-41A3F437-7593-498B-ABFC-EF57536C4A7F__GUID-648FA3EC-6BC4-441E-A180-7DCA91C352C6">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关在OLAP_TABLE中循环的信息，请参阅<span><cite>Oracle OLAP DML参考</cite></span></p>
                           </li>
                           <li>
                              <p><a href="olap-dml-commands-h-z.html#GUID-580435F9-30E6-4DF5-84E8-409EB6B91739">SET_PROPERTY</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-41A3F437-7593-498B-ABFC-EF57536C4A7F__GUID-9E8AE4BD-CA4B-48BC-9842-CE5462CDB828">句法</p>
                     <p>使用PROPERTY语句将$ LOOP_DENSE属性添加或删除到最近定义或考虑的公式（请参阅<a href="olap-dml-commands-a-g.html#GUID-569FA3A3-ADF7-488B-9D39-AB8785572C11">DEFINE</a>和<a href="olap-dml-commands-a-g.html#GUID-BEAE74F8-8489-4662-A7F1-3BEDB37143E4">CONSIDER</a>命令）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要添加属性，请发出以下语句。</p>
                           <p>PROPERTY '$ LOOP_DENSE' <span class="italic">dimension_list</span></p>
                        </li>
                        <li>
                           <p>要删除该属性，请发出以下语句。</p>
                           <p>PROPERTY DELETE'$ LOOP_DENSE'</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-41A3F437-7593-498B-ABFC-EF57536C4A7F__PARAMETERS-021BCCB8">
                     <p class="subhead2" id="GUID-41A3F437-7593-498B-ABFC-EF57536C4A7F__GUID-8C29B033-5079-46E4-942A-4FE24064CF0B">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-41A3F437-7593-498B-ABFC-EF57536C4A7F__GUID-6D2715EE-3F5D-4D10-8FB5-2C877B90A413"><!-- --></a> <span class="italic">dimension_list</span></dt>
                        <dd>
                           <p>由逗号分隔的公式的一个或多个维度名称。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-8FC5AD9D-0CB3-4A07-A70F-7DDCF817822D" name="GUID-8FC5AD9D-0CB3-4A07-A70F-7DDCF817822D"></a><h3 id="OLADM-GUID-8FC5AD9D-0CB3-4A07-A70F-7DDCF817822D" class="sect3"><span class="enumeration_section">4.17</span> $ LOOP_TYPE</h3>
               <div>
                  <p>$ LOOP_TYPE属性指定在具有LOOP OPTIMIZED子句的OLAP_TABLE SQL函数中使用公式时如何循环包含多个变量的公式。</p>
                  <div class="section">循环类型可能会影响性能以及当公式包含NA感知功能（如NVL）或禁用NULL跟踪时返回的行数。有关空值跟踪的信息，请参阅<span class="q">“ <a href="olap-dml-commands-a-g.html#GUID-0F57584C-1BD9-4F2B-993B-F5E1EF2B8D09__BGECIBHD">NA2位和空值跟踪</a> ”</span> 。
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8FC5AD9D-0CB3-4A07-A70F-7DDCF817822D__GUID-C1ABD8CD-AFFF-47CE-AE55-7FF81008D3E3">句法</p>
                     <p>使用PROPERTY语句将$ LOOP_TYPE属性添加或删除到最近定义或考虑的公式（请参阅<a href="olap-dml-commands-a-g.html#GUID-569FA3A3-ADF7-488B-9D39-AB8785572C11">DEFINE</a>和<a href="olap-dml-commands-a-g.html#GUID-BEAE74F8-8489-4662-A7F1-3BEDB37143E4">CONSIDER</a>命令）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要添加属性，请发出以下语句。</p>
                           <p>PROPERTY'$ LOOP_TYPE'{'DENSE'| <span class="underline">'INNER'</span> | '外'}</p>
                        </li>
                        <li>
                           <p>要删除该属性，请发出以下语句。</p>
                           <p>PROPERTY DELETE'$ LOOP_TYPE'</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8FC5AD9D-0CB3-4A07-A70F-7DDCF817822D__GUID-217A00EE-C271-4C37-85AE-61518530AEFD">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-8FC5AD9D-0CB3-4A07-A70F-7DDCF817822D__GUID-814C02CC-1BBB-4C61-B4C3-A332BEC17A13"><!-- --></a> DENSE</dt>
                        <dd>
                           <p>返回所有可能的元组组合的变量值。如果未为复合指定空跟踪，则会为不存在的数据以及故意空值获取NA值。</p>
                           <p>DENSE类似于SQL SELECT语句中的交叉连接。它导致变量的所有基本维度的笛卡尔积。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-8FC5AD9D-0CB3-4A07-A70F-7DDCF817822D__GUID-5775E4CC-A000-4095-A058-6EDB1C89B515"><!-- --></a></dt>
                        <dd>
                           <p>（默认）仅当元组在所有变量中都有数据时才返回变量值。NVL值不包括在内。</p>
                           <p>INNER类似于SQL内连接。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-8FC5AD9D-0CB3-4A07-A70F-7DDCF817822D__GUID-DAF83D8E-F51E-41E3-9B55-99C8E1D8EE37"><!-- --></a></dt>
                        <dd>
                           <p>当元组在任何变量中包含数据时，返回变量值。包括NVL值。</p>
                           <p>OUTER类似于SQL外连接。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-C7539160-640F-4C9E-8119-ACC06277E477" name="GUID-C7539160-640F-4C9E-8119-ACC06277E477"></a><h3 id="OLADM-GUID-C7539160-640F-4C9E-8119-ACC06277E477" class="sect3"><span class="enumeration_section">4.18</span> $ LOOP_VAR</h3>
               <div>
                  <p>$ LOOP_VAR属性指定当执行带有LOOP OPTIMIZED子句的OLAP_TABLE SQL函数时，分配它的公式将以与属性中指定的变量或QDR相同的方式循环。</p>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-C7539160-640F-4C9E-8119-ACC06277E477__GUID-6EEA3C14-6A3E-4248-8722-9273562B1FB0">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关在OLAP_TABLE中循环的更多信息，请参阅<span class="italic">Oracle OLAP DML参考</span></p>
                           </li>
                           <li>
                              <p><a href="olap-dml-commands-h-z.html#GUID-580435F9-30E6-4DF5-84E8-409EB6B91739">SET_PROPERTY</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C7539160-640F-4C9E-8119-ACC06277E477__GUID-C1ABD8CD-AFFF-47CE-AE55-7FF81008D3E3">句法</p>
                     <p>使用PROPERTY语句将$ LOOP_VAR属性添加或删除到最近定义或考虑的公式（请参阅<a href="olap-dml-commands-a-g.html#GUID-569FA3A3-ADF7-488B-9D39-AB8785572C11">DEFINE</a>和<a href="olap-dml-commands-a-g.html#GUID-BEAE74F8-8489-4662-A7F1-3BEDB37143E4">CONSIDER</a>命令）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要添加属性，请发出以下语句。</p>
                           <p>PROPERTY'$ <span class="italic">LOOP_VAR'qdr</span> | <span class="italic">变量</span></p>
                        </li>
                        <li>
                           <p>要删除该属性，请发出以下语句。</p>
                           <p>物业删除'$ LOOP_VAR'</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C7539160-640F-4C9E-8119-ACC06277E477__GUID-217A00EE-C271-4C37-85AE-61518530AEFD">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-C7539160-640F-4C9E-8119-ACC06277E477__GUID-814C02CC-1BBB-4C61-B4C3-A332BEC17A13"><!-- --></a> <span class="italic">qdr</span></dt>
                        <dd>
                           <p>公式维度的QDR。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C7539160-640F-4C9E-8119-ACC06277E477__GUID-5775E4CC-A000-4095-A058-6EDB1C89B515"><!-- --></a> <span class="italic">变量</span></dt>
                        <dd>
                           <p>与公式具有相同尺寸的变量。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-A74C75D2-450B-4323-8997-F123F89CF452" name="GUID-A74C75D2-450B-4323-8997-F123F89CF452"></a><h3 id="OLADM-GUID-A74C75D2-450B-4323-8997-F123F89CF452" class="sect3"><span class="enumeration_section">4.19</span> $ NATRIGGER</h3>
               <div>
                  <p>$ NATRIGGER属性指定Oracle OLAP的值来替换尺寸变量中的NA值，但不替换变量的会话缓存中的值（如果有）。</p>
                  <div class="section">
                     <p>要计算这些值，Oracle OLAP将采用<span class="q">“使用说明”中</span>描述的步骤， <a href="olap-dml-properties.html#GUID-A74C75D2-450B-4323-8997-F123F89CF452" title="$ NATRIGGER属性指定Oracle OLAP的值来替换尺寸变量中的NA值，但不替换变量的会话缓存中的值（如果有）。">$ NATRIGGER</a> 。计算结果要么存储在变量中，要么缓存在变量的会话高速缓存中，如<span class="q">“使用说明”</span> ， <a href="olap-dml-options.html#GUID-B0C3F195-2A84-47F6-BF5C-76C0962AD993">VARCACHE中所述</a> 。</p>
                     <div class="infoboxnote" id="GUID-A74C75D2-450B-4323-8997-F123F89CF452__GUID-47C25D1B-5777-4254-9739-970AF4EDFB59">
                        <p class="notep1">注意：</p>
                        <p>如果要触发变量的聚合，可以使用$ AGGMAP属性而不是$ NATRIGGER属性。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A74C75D2-450B-4323-8997-F123F89CF452__GUID-C1ABD8CD-AFFF-47CE-AE55-7FF81008D3E3">句法</p>
                     <p>使用PROPERTY语句向最近定义或考虑的对象添加或删除$ NATRIGGER属性（请参阅<a href="olap-dml-commands-a-g.html#GUID-569FA3A3-ADF7-488B-9D39-AB8785572C11">DEFINE</a>和<a href="olap-dml-commands-a-g.html#GUID-BEAE74F8-8489-4662-A7F1-3BEDB37143E4">CONSIDER</a>命令）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要添加属性，请发出以下语句。</p>
                           <p>PROPERTY'$ NATRIGGER'的<span class="italic">价值</span></p>
                        </li>
                        <li>
                           <p>要删除该属性，请发出以下语句。</p>
                           <p>财产删除'$ NATRIGGER'</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A74C75D2-450B-4323-8997-F123F89CF452__GUID-217A00EE-C271-4C37-85AE-61518530AEFD">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-A74C75D2-450B-4323-8997-F123F89CF452__GUID-814C02CC-1BBB-4C61-B4C3-A332BEC17A13"><!-- --></a> <span class="italic">值</span></dt>
                        <dd>
                           <p>一个TEXT表达式，它是属性的值。文本可以是对定义公式有效的任何表达式。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A74C75D2-450B-4323-8997-F123F89CF452__GUID-CE66E9F3-C338-4C2D-8DA3-E4674C647274">使用说明</p>
                     <p><span class="bold">Oracle OLAP如何计算具有NA值的变量的数据</span></p>
                     <p>在计算尺寸变量的数据时，Oracle OLAP会对变量中的每个单元格执行以下步骤：</p>
                     <ol>
                        <li>
                           <p>是否有变量的会话缓存。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>是。转到第2步。</p>
                              </li>
                              <li>
                                 <p>不，转到第3步。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>变量的会话高速缓存中的该单元格是否具有<code class="codeph">NA</code>值。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>是。转到第3步。</p>
                              </li>
                              <li>
                                 <p>不，转到第7步。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>变量存储中的单元格是否具有<code class="codeph">NA</code>值。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>是。转到第4步。</p>
                              </li>
                              <li>
                                 <p>不，转到第7步。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>该变量是否具有$ AGGMAP属性？</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>是。使用为$ AGGMAP属性指定的aggmap聚合变量，然后转到步骤5。</p>
                              </li>
                              <li>
                                 <p>不，转到第6步。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>聚合变量后单元格的值是多少？</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>不，转到第6步。</p>
                              </li>
                              <li>
                                 <p>非NA，转到第7步。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>该变量是否具有$ NATRIGGER属性？</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>是。执行为$ NATRIGGER属性指定的表达式，然后转到步骤7。</p>
                              </li>
                              <li>
                                 <p>不，转到第7步。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>计算数据。</p>
                        </li>
                        <li>
                           <p>根据需要应用NAFILL功能或NASKIP，NASKIP2或NASPELL选项。</p>
                        </li>
                     </ol>
                     <p><span class="bold">使NA触发器递归或相互递归</span></p>
                     <p>您可以通过在值表达式中包含触发对象来使NA触发器递归或相互递归。在公式，程序或其他$ NATRIGGER表达式在执行时再次调用触发器表达式之前，必须将RECURSIVE选项设置为<code class="codeph">YES</code> 。要限制可同时执行的触发器数量，请参阅<a href="olap-dml-options.html#GUID-18D8C008-03A0-4F2F-8B4A-0162DE25CE4D">TRIGGERMAXDEPTH</a>选项。
                     </p>
                     <p><span class="bold">使用$ NATRIGGER与复合材料</span></p>
                     <p>您可以在由复合定义的变量上设置<code class="codeph">$NATRIGGER</code>表达式，但Oracle OLAP仅针对复合中存在的维度 - 值组合计算<code class="codeph">$NATRIGGER</code>表达式。
                     </p>
                     <p><span class="bold">$ NATRIGGER被EXPORT和AGGREGATE忽略</span></p>
                     <p>AGGREGATE命令和AGGREGATE函数在聚合操作期间忽略变量的$ NATRIGGER属性设置。语句仅获取存储的值，而不调用$ NATRIGGER表达式。$ NATRIGGER属性对其他操作仍然有效。</p>
                     <p>在执行EXPORT（EIF）语句时，Oracle OLAP在仅导出变量时不会对变量上的$ NATRIGGER属性表达式求值。但是，当变量是Oracle OLAP在导出操作期间计算的表达式的一部分时，Oracle OLAP会评估$ NATRIGGER属性表达式。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A74C75D2-450B-4323-8997-F123F89CF452__GUID-84CC3E33-EB24-40C8-8083-92F42060B3BF">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-A74C75D2-450B-4323-8997-F123F89CF452__GUID-A5F89163-009F-47C8-87DE-3054BDFD0B19">
                     <p class="titleinexample">示例4-11将$ NATRIGGER属性添加到变量</p>
                     <p>以下语句定义具有三个值的维度，并定义由维度标注的变量。他们将$ NATRIGGER属性添加到变量中，然后将值放在变量的一个单元格中，并将其他单元格保留为空，以便它们的值为<code class="codeph">NA</code> 。最后，他们报告变量单元格中的值。
                     </p><pre class="oac_no_warn" dir="ltr">DEFINE d1 INTEGER DIMENSION MAINTAIN d1 ADD 3 DEFINE v1 DECIMAL &lt;d1&gt; PROPERTY'$ NATRIGGER''500.0'v1（d1 1）= 333.3 REPORT v1</pre><p>前面的语句产生以下输出。</p><pre class="oac_no_warn" dir="ltr">D1 V1 --------- ---------- 1 333.3 2 500.0 3 500.0</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-6F3C8888-49B8-45AA-B891-97B9E7977E89" name="GUID-6F3C8888-49B8-45AA-B891-97B9E7977E89"></a><h3 id="OLADM-GUID-6F3C8888-49B8-45AA-B891-97B9E7977E89" class="sect3"><span class="enumeration_section">4.20</span> $ STORETRIGGERVAL</h3>
               <div>
                  <p>$ STORETRIGGERVAL属性指定在执行$ NATRIGGER表达式时，Oracle OLAP是否使用表达式的结果替换变量中的<code class="codeph">NA</code>值。
                  </p>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-6F3C8888-49B8-45AA-B891-97B9E7977E89__GUID-ED5D0DFB-063B-4CE0-8B56-7E9BB05ED449">
                        <p class="notep1">注意：</p>
                        <p>应用程序通常使用<a href="olap-dml-properties.html#GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4" title="$ VARCACHE属性指定Oracle OLAP是存储还是缓存作为执行AGGREGATE函数或$ NATRIGGER表达式的结果的变量数据。">$ VARCACHE</a>属性而不是$ STORETRIGGERVAL属性，因为$ STORETRIGGERVAL属性的功能包含在$ VARCACHE属性中。
                        </p>
                        <p>另请参阅<span class="q">“ <a href="olap-dml-properties.html#GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4__HOWORACLEOLAPDETERMINESWHETHERTOSTO-0B3FE102">Oracle OLAP如何确定是否存储或缓存$ NATRIGGER的结果</a> ”</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6F3C8888-49B8-45AA-B891-97B9E7977E89__GUID-C1ABD8CD-AFFF-47CE-AE55-7FF81008D3E3">句法</p>
                     <p>使用PROPERTY语句向最近定义或考虑的对象添加或删除$ STORETRIGGERVAL属性：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要添加属性，请发出以下语句。</p>
                           <p>PROPERTY'$ STORETRIGGERVAL'的价值</p>
                        </li>
                        <li>
                           <p>要删除该属性，请发出以下语句。</p>
                           <p>物业删除'$ ASTORETRIGGERVAL'</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6F3C8888-49B8-45AA-B891-97B9E7977E89__GUID-217A00EE-C271-4C37-85AE-61518530AEFD">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-6F3C8888-49B8-45AA-B891-97B9E7977E89__GUID-814C02CC-1BBB-4C61-B4C3-A332BEC17A13"><!-- --></a> <span class="italic">值</span></dt>
                        <dd>
                           <p>包含属性值的BOOLEAN表达式。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6F3C8888-49B8-45AA-B891-97B9E7977E89__GUID-7EB7090C-2DA9-4CB1-B4D6-2903EE86AC58">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-6F3C8888-49B8-45AA-B891-97B9E7977E89__GUID-4E1C234C-1424-4BD1-B06A-1C4A4F651954">
                     <p class="titleinexample">示例4-12存储$ NATRIGGER属性值</p>
                     <p>当Oracle OLAP评估表达式时，以下语句使Oracle OLAP将$ NATRIGGER表达式值存储在v1变量的NA单元格中。</p><pre class="pre codeblock"><code>TRIGGERSTOREOK =是考虑到v1 PROPERTY'$ STORETRIGGERVAL'是的</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4" name="GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4"></a><h3 id="OLADM-GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4" class="sect3"><span class="enumeration_section">4.21</span> $ VARCACHE</h3>
               <div>
                  <p>$ VARCACHE属性指定Oracle OLAP是存储还是缓存作为执行AGGREGATE函数或$ NATRIGGER表达式的结果的变量数据。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4__GUID-C1ABD8CD-AFFF-47CE-AE55-7FF81008D3E3">句法</p>
                     <p>使用PROPERTY语句向最近定义或考虑的对象添加或删除$ VARCACHE属性（请参阅<a href="olap-dml-commands-a-g.html#GUID-569FA3A3-ADF7-488B-9D39-AB8785572C11">DEFINE</a>和<a href="olap-dml-commands-a-g.html#GUID-BEAE74F8-8489-4662-A7F1-3BEDB37143E4">CONSIDER</a>命令）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要添加属性，请发出以下语句。</p>
                           <p>PROPERTY'$ VARCACHE'的<span class="italic">价值</span></p>
                        </li>
                        <li>
                           <p>要删除该属性，请发出以下语句。</p>
                           <p>物业删除'$ VARCACHE'</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4__GUID-217A00EE-C271-4C37-85AE-61518530AEFD">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4__GUID-814C02CC-1BBB-4C61-B4C3-A332BEC17A13"><!-- --></a> <span class="italic">值</span></dt>
                        <dd>
                           <p>以下TEXT表达式之一，指示Oracle OLAP应放置可变数据的位置，该数据是AGGREGATE函数或$ NATRIGGER值执行时执行的计算的结果：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="bold"><tt>VARIABLE</tt></span>指定Oracle OLAP使用作为执行AGGREGATE函数或$ NATRIGGER属性的结果的数据填充变量。指定此选项时，在更新和提交分析工作区时，作为聚合结果的数据将永久存储在变量中。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold"><tt>SESSION</tt></span>指定Oracle OLAP缓存在会话缓存中执行AGGREGATE函数或$ NATRIGGER属性的结果的数据（请参阅<span class="q">“ <a href="olap-dml-options.html#GUID-D590652B-1CF5-419C-BF04-B3D957F64A3C__WHATISANORACLEOLAPSESSIONCACHE-0B411323">什么是Oracle OLAP会话缓存？</a>“</span> ）。指定此选项时，在更新和提交期间将忽略作为执行AGGREGATE函数或$ NATRIGGER属性的结果的数据，并在会话后将其丢弃。
                                 </p>
                                 <div class="infoboxnote" id="GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4__GUID-FD569BCE-84D8-43D4-B620-8B74DC6BEED6">
                                    <p class="notep1">重要：</p>
                                    <p>当SESSCACHE设置为<code class="codeph">NO</code> ，即使指定了<code class="codeph">SESSION</code> ，Oracle OLAP也不会缓存数据。在这种情况下，指定<code class="codeph">SESSION</code>与指定<code class="codeph">NONE</code>相同。</p>
                                 </div>
                              </li>
                              <li>
                                 <p><span class="bold"><tt>没有</tt></span> <span class="bold"><code class="codeph"> </code></span>指定每次执行AGGREGATE函数或$ NATRIGGER值时，Oracle OLAP都会计算新的变量数据; Oracle OLAP不存储或缓存数据。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold"><tt>DEFAULT</tt></span>指定在确定如何处理由AGGREGATE函数计算的数据时，您不希望Oracle OLAP使用$ VARCACHE属性。（请参阅<span class="q">“ <a href="olap-dml-properties.html#GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4__HOWORACLEOLAPDETERMINESWHETHERTOSTO-0B3FE4EA">Oracle OLAP如何确定是存储还是缓存聚合数据</a> ”</span> 。）
                                 </p>
                              </li>
                           </ul>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4__GUID-CE66E9F3-C338-4C2D-8DA3-E4674C647274">使用说明</p>
                     <p id="GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4__HOWORACLEOLAPDETERMINESWHETHERTOSTO-0B3FE102"><span class="bold">Oracle OLAP如何确定是存储还是缓存$ NATRIGGER的结果</span></p>
                     <p>执行$ NATRIGGER表达式时，Oracle OLAP对表达式执行所产生的变量数据的处理取决于具有$ NATRIGGER属性的变量是否也具有$ STORETRIGGERVAL属性，如果不具有，则确定是否具有$ STORETRIGGERVAL属性。 $ NATRIGGER属性的值是AGGREGATE函数。</p>
                     <p>执行$ NATRIGGER表达式时，Oracle OLAP将执行以下过程：</p>
                     <ol>
                        <li>
                           <p>带有$ NATRIGGER属性的变量是否也具有$ STORETRIGGERVAL属性？如果是，则Oracle OLAP转到步骤1a。如果没有，则Oracle OLAP转到步骤2。</p>
                           <ol type="a">
                              <li>
                                 <p>是TRIGGERSTOREOK选项的值， <code class="codeph">YES</code>或<code class="codeph">NO</code> ？如果是，则Oracle OLAP转到步骤1b。如果为<code class="codeph">NO</code> ，则Oracle OLAP转到步骤2。
                                 </p>
                              </li>
                              <li>
                                 <p>$ STORETRIGGERVAL属性的值<code class="codeph">YES</code>还是<code class="codeph">NO</code> ？如果为YES，则Oracle OLAP存储$ NATRIGGER表达式的结果并结束决策制定过程。如果是<code class="codeph">NO</code> ，那么Oracle OLAP <span class="italic">不</span>存储$ NATRIGGER表达和最终决策过程的结果。
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>$ NATRIGGER表达式是AGGREGATE函数吗？如果是，则Oracle OLAP将遵循<span class="q">“ <a href="olap-dml-properties.html#GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4__HOWORACLEOLAPDETERMINESWHETHERTOSTO-0B3FE4EA">Oracle OLAP如何确定是否存储或缓存聚合数据</a> ”中</span>描述的步骤来确定如何处理$ NATRIGGER表达式执行的结果。如果不是，则Oracle OLAP转到步骤3。
                           </p>
                        </li>
                        <li>
                           <p>带有$ NATRIGGER属性的变量是否也具有$ VARCACHE属性？如果是，则Oracle OLAP转到步骤4。如果没有，则Oracle OLAP转到步骤5。</p>
                        </li>
                        <li>
                           <p>$ VARCACHE属性的值是否为<code class="codeph">DEFAULT</code> ？如果是，请转到步骤5。如果没有，那么Oracle OLAP使用$ VARCACHE属性的值（即<code class="codeph">STORE</code> ， <code class="codeph">CACHE</code>或<code class="codeph">NONE</code> ）来确定作为$ NATRIGGER表达式执行和最终决策结果的变量数据值会发生什么。处理。
                           </p>
                        </li>
                        <li>
                           <p>使用VARCACHE选项的当前设置来确定作为$ NATRIGGER表达式执行和结束决策过程的结果的变量数据值会发生什么。</p>
                        </li>
                     </ol>
                     <p id="GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4__HOWORACLEOLAPDETERMINESWHETHERTOSTO-0B3FE4EA"><span class="bold">Oracle OLAP如何确定是存储还是缓存聚合数据</span></p>
                     <p>执行AGGREGATE命令时，Oracle OLAP <span class="italic">始终</span>将计算结果直接存储在变量中，其存储方式与存储赋值语句的结果相同。但是，当执行AGGREGATE函数时，Oracle OLAP有时会将计算结果直接存储在变量中，有时会将其缓存在会话缓存中。（请参阅<span class="q">“什么是Oracle OLAP会话缓存？“</span>在<a href="olap-dml-options.html#GUID-D590652B-1CF5-419C-BF04-B3D957F64A3C">SESSCACHE</a>中获取有关会话缓存的更多信息。”
                     </p>
                     <p>要确定将AGGREGATE函数执行的结果放在何处，Oracle OLAP会通过以下过程来确定是存储还是缓存聚合变量数据：</p>
                     <ol>
                        <li>
                           <p>规范中是否存在当前AGGREGATE函数正在使用的aggmap的CACHE语句？如果有，那么Oracle OLAP转到第2步。如果没有，则Oracle OLAP转到步骤3。</p>
                        </li>
                        <li>
                           <p>CACHE语句是CACHE DEFAULT语句吗？如果是，则Oracle OLAP转到步骤3。如果不是，则Oracle OLAP使用聚合规范中的CACHE语句来确定如何处理作为计算结果的变量数据并结束决策过程。</p>
                        </li>
                        <li>
                           <p>聚合的变量是否具有$ VARCACHE属性？如果是，则Oracle OLAP转到步骤4。如果没有，则Oracle OLAP转到步骤5。</p>
                        </li>
                        <li>
                           <p>$ VARCACHE属性的值是否为DEFAULT？如果是，则Oracle OLAP转到步骤5。如果没有，则Oracle OLAP使用$ VARCACHE属性的值确定使用AGGREGATE函数计算的变量数据会发生什么，并结束决策过程。</p>
                        </li>
                        <li>
                           <p>使用VARCACHE选项的当前设置来确定使用AGGREGATE函数计算的变量数据会发生什么。结束决策过程。</p>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4__GUID-7862F081-04DA-4008-BC46-FBFA9CB7F0BD">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="olap-dml-properties.html#GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4__HOWORACLEOLAPDETERMINESWHETHERTOSTO-0B3FE4EA">Oracle OLAP如何确定是存储还是缓存聚合数据</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="olap-dml-properties.html#GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4__HOWORACLEOLAPDETERMINESWHETHERTOSTO-0B3FE102">Oracle OLAP如何确定是否存储或缓存$ NATRIGGER的结果</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="olap-dml-options.html#GUID-D590652B-1CF5-419C-BF04-B3D957F64A3C__WHATISANORACLEOLAPSESSIONCACHE-0B411323">什么是Oracle OLAP会话缓存？</a>“</span></p>
                           </li>
                           <li>
                              <p><a href="olap-dml-commands-a-g.html#GUID-260A601F-8B7D-4DEA-919A-1B9D7CDF02BC">CACHE</a>语句的NA关键字的描述，用于缓存由AGGREGATE函数计算的NA值的信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4__GUID-853564A6-7F10-45F1-A84C-E0BE71129B68">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-E36AA5C5-C1F0-4915-9F57-053D5F50F8F4__GUID-A5F89163-009F-47C8-87DE-3054BDFD0B19">
                     <p class="titleinexample">示例4-13设置$ VARCACHE属性</p>
                     <p>对于名为<code class="codeph">v1</code>的变量，以下语句会导致Oracle OLAP缓存作为执行AGGREGATE函数或$ NATRIGGER表达式的结果的变量数据。
                     </p><pre class="oac_no_warn" dir="ltr">考虑v1 PROPERTY'$ SVARCACHE''v1'</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04084.JDBC-getting-started.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>入门</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="JDBC Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00"></meta>
      <meta name="dcterms.title" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96471-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="introducing-JDBC.html" title="Previous" type="text/html"></link>
      <link rel="next" href="overview-Oracle-JDBC.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="introducing-JDBC.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="overview-Oracle-JDBC.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="overview-of-JDBC.html" property="item" typeof="WebPage"><span property="name">概观</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">入门</li>
            </ol>
            <a id="GUID-00FE03D7-48D6-4DA5-A3A0-8768D2936AB8" name="GUID-00FE03D7-48D6-4DA5-A3A0-8768D2936AB8"></a><a id="JJDBC20000"></a>
            
            <h2 id="JJDBC-GUID-00FE03D7-48D6-4DA5-A3A0-8768D2936AB8" class="sect2"><span class="enumeration_chapter">2</span>入门</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章讨论Oracle Java数据库连接（JDBC）驱动程序版本，数据库版本和Java Development Kit（JDK）版本的兼容性。它还描述了测试客户端安装和配置以及运行简单应用程序的基础知识。本章包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-926E5324-D89A-4A00-B1AE-975C1089F0EA">Oracle JDBC驱动程序的版本兼容性</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-E36056D2-80C1-4044-94BC-D6354EF3955C">验证JDBC客户端安装</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-44E1770A-967E-4713-9AFF-86D9D4EDE188">JDBC中的基本步骤</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-D59CA273-203C-431A-BB27-D660ACBFE105">示例：Connecting_ Querying_和处理结果</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-2796DCC2-29FF-4D65-852F-ABCA3AFCEE9C">支持隐形列</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-F30B1931-7755-4973-A113-DB6D25C85937">支持验证JSON数据</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-FA6FA05D-CE5C-4A03-B70E-8DD9F8F5DD92">支持隐含结果</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-6AFB71F0-EFA9-43A0-AF96-03E6FB2F3521">支持轻量级连接验证</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-D5BB4E1F-59FD-4C5E-876C-71420F2DAE9B">支持数据库节点的Deprioritization</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-65A18AD5-04DE-4EE0-8069-4F27449AC5B6">在流量控制器模式下支持Oracle Connection Manager</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-98F62472-1415-4099-A6B6-7C13C6AEC040">JDBC程序中的存储过程调用</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-E187D04E-B48D-4394-9DC5-1ECEEBC53AFD">关于处理SQL异常</a></p>
                  </li>
               </ul>
            </div><a id="JJDBC28047"></a><a id="JJDBC28048"></a><a id="JJDBC28046"></a><div class="props_rev_3"><a id="GUID-926E5324-D89A-4A00-B1AE-975C1089F0EA" name="GUID-926E5324-D89A-4A00-B1AE-975C1089F0EA"></a><h3 id="JJDBC-GUID-926E5324-D89A-4A00-B1AE-975C1089F0EA" class="sect3"><span class="enumeration_section">2.1</span> Oracle JDBC驱动程序的版本兼容性</h3>
               <div>
                  <div class="section">
                     <p>本节讨论一般JDBC版本兼容性问题。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-926E5324-D89A-4A00-B1AE-975C1089F0EA__GUID-3086ADC1-DF91-4A77-923E-232DEB3D9E1C">向后兼容性</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Oracle Database 12 <span class="italic">c</span>第2版（12.2.0.1）JDBC驱动程序已通过受支持的Oracle数据库版本（11.x.0.x）的认证。但是，它们未经过认证，无法使用较旧的，不受支持的数据库版本，例如10.2.x，10.1.x，9.2.x和9.0.1.x.
                     </p>
                     <div class="infoboxnote" id="GUID-926E5324-D89A-4A00-B1AE-975C1089F0EA__GUID-E5809AB0-6500-4CA5-A0A8-76DD81E70C48">
                        <p class="notep1">注意：</p>
                        <p>如果要使用快速连接故障转移机制，请将10.2 JDBC驱动程序与Oracle数据库10.2一起使用。如果数据库是10.1，则使用10.1 JDBC驱动程序。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-926E5324-D89A-4A00-B1AE-975C1089F0EA__GUID-9BC987FC-E0F8-4BE8-948F-1F2E0E1777AB">前向兼容性</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>现有和支持的JDBC驱动程序经认证可与Oracle Database 12 <span class="italic">c</span>第2版（12.2）配合使用。
                     </p>
                     <div class="infoboxnote" id="GUID-926E5324-D89A-4A00-B1AE-975C1089F0EA__GUID-556A0A94-27EB-4353-8F6C-3589A41657DC">
                        <p class="notep1">注意：</p>
                        <p>在Oracle Database 12 <span class="italic">c</span>第2版（12.2.0.1）中，Oracle JDBC驱动程序不再支持JDK 6或更早版本。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../jjucp/fast-connection-failover.html#JJUCP-GUID-126F8C9B-C0B3-426B-B07D-4B127BBDD867" target="_blank"><span><cite>Oracle通用连接池开发人员指南</cite></span></a></li>
                        <li><a href="http://www.oracle.com/technetwork/database/enterprise-edition/jdbc-faq-090281.html" target="_blank">http://www.oracle.com/technetwork/database/enterprise-edition/jdbc-faq-090281.html</a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="JJDBC28049"></a><div class="props_rev_3"><a id="GUID-E36056D2-80C1-4044-94BC-D6354EF3955C" name="GUID-E36056D2-80C1-4044-94BC-D6354EF3955C"></a><h3 id="JJDBC-GUID-E36056D2-80C1-4044-94BC-D6354EF3955C" class="sect3"><span class="enumeration_section">2.2</span>验证JDBC客户端安装</h3>
               <div>
                  <div class="section">
                     <p>至<a id="d16478e179" class="indexterm-anchor"></a>验证JDBC客户端安装，您必须执行以下所有操作：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="JDBC-getting-started.html#GUID-356ECF59-F426-4185-9D8D-74C99B83A2F0">检查已安装的目录和文件</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-getting-started.html#GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA">检查环境变量</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-getting-started.html#GUID-06BD7132-70A5-416D-B766-F6AB9961CC01">确保可以编译和运行Java代码</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-getting-started.html#GUID-FBF89046-1782-43B1-BFCF-121BC7FC8261">确定JDBC驱动程序的版本</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-getting-started.html#GUID-A7809785-56AF-4BD1-A04D-E69CA03489C5">测试JDBC和数据库连接</a></p>
                        </li>
                     </ul>
                     <p>本节介绍验证JDBC驱动程序的Oracle客户端安装的步骤，假设您已经安装了所选的驱动程序。安装Oracle JDBC驱动程序是特定于平台的。您必须按照要在平台特定文档中安装的驱动程序的安装说明进行操作。</p>
                     <p>如果使用JDBC Thin驱动程序，则客户端计算机上不会进行其他安装。如果使用JDBC Oracle调用接口（OCI）驱动程序，则还必须安装Oracle客户端软件。这包括Oracle Net和OCI库。</p>
                     <div class="infoboxnote" id="GUID-E36056D2-80C1-4044-94BC-D6354EF3955C__GUID-B1F6F95C-284B-4C69-92EE-4F25256B25A7">
                        <p class="notep1">注意：</p>
                        <p>JDBC Thin驱动程序要求在安装数据库的计算机上运行TCP / IP侦听器。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28050"></a><div class="props_rev_3"><a id="GUID-356ECF59-F426-4185-9D8D-74C99B83A2F0" name="GUID-356ECF59-F426-4185-9D8D-74C99B83A2F0"></a><h4 id="JJDBC-GUID-356ECF59-F426-4185-9D8D-74C99B83A2F0" class="sect4"><span class="enumeration_section">2.2.1</span>检查已安装的目录和文件</h4>
                  <div>
                     <div class="section">
                        <p>除其他外，安装Oracle Java产品还会创建以下目录：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/jdbc</code></p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/jlib</code></p>
                           </li>
                        </ul>
                        <p>检查是否已在<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/jdbc</code>目录中创建并填充了以下目录和文件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">演示</code></p>
                              <p>该目录包含一个压缩文件<code class="codeph">demo.zip</code>或<code class="codeph">demo.tar</code> 。解压缩此压缩文件时，将创建<code class="codeph">samples</code>目录和<code class="codeph">Samples-Readme.txt</code>文件。<code class="codeph">samples</code>目录包含示例程序，包括如何使用JDBC转义语法和Oracle SQL语法，PL / SQL块，流，用户定义类型，其他Oracle类型扩展和Oracle性能扩展的示例。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DOC</code></p>
                              <p>该目录包含<code class="codeph">javadoc.zip</code>文件，该文件是Oracle JDBC应用程序编程接口（API）文档。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">LIB</code></p>
                              <p><code class="codeph">lib</code>目录包含以下必需的Java类：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">orai18n.jar</code>和<code class="codeph">orai18n-mapping.jar</code></p>
                                    <p>包含全球化和多字节字符集支持的类</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ojdbc8.jar</code>和<code class="codeph">ojdbc8_g.jar</code></p>
                                    <p>包含用于JDK 8的JDBC驱动程序类</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">readme.txt文件</code></p>
                              <p>此文件包含有关驱动程序的最新和特定于发行版的信息，这些信息可能未包含在产品的其他文档中。</p>
                           </li>
                        </ul>
                        <p>检查是否已在<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/jlib</code>目录中创建并填充了以下目录：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">jta.jar</code>和<code class="codeph">jndi.jar</code></p>
                              <p>这些文件包含Java Transaction API（JTA）和Java命名和目录接口（JNDI）的类。仅当您使用JTA功能进行分布式事务管理或使用JNDI功能进行命名服务时，才需要这些功能。</p>
                           </li>
                           <li>
                              <p><code class="codeph">ons.jar</code></p>
                              <p>此JAR文件包含Oracle RAC快速应用程序通知的类。它还需要通用连接池（UCP）功能，如快速连接故障转移，运行时负载平衡，Web会话关联和事务关联。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="Oracle-RAC-FAN-API.html#GUID-672941ED-9553-4779-B1AD-7FEBC07603D6">Oracle RAC快速应用程序通知</a></li>
                           <li><a href="http://www.oracle.com/technetwork/java/javaee/jta/" target="_blank">jta.jar</a></li>
                           <li><a href="http://www.oracle.com/technetwork/java/jndi/index.html" target="_blank">jndi.jar</a></li>
                           <li><a href="../jjucp/using-Oracle-RAC-features.html#JJUCP-GUID-A0B5E9FF-84E1-40FC-8B2E-084C1134FDFD" target="_blank"><span><cite>Oracle通用连接池开发人员指南</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="JJDBC28052"></a><a id="JJDBC28053"></a><a id="JJDBC28054"></a><a id="JJDBC28051"></a><div class="props_rev_3"><a id="GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA" name="GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA"></a><h4 id="JJDBC-GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA" class="sect4"><span class="enumeration_section">2.2.2</span>检查环境变量</h4>
                  <div>
                     <div class="section">
                        <p>本节介绍了<a id="d16478e415" class="indexterm-anchor"></a>必须为JDBC OCI驱动程序和JDBC Thin驱动程序设置的环境变量，重点关注Solaris，Linux和Microsoft Windows平台。
                        </p>
                        <p>您必须为JDBC OCI或Thin驱动程序设置<code class="codeph">CLASSPATH</code>环境变量。在<code class="codeph">CLASSPATH</code>环境变量中包含以下内容：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> /jdbc/lib/ojdbc8.jar <span class="italic">ORACLE_HOME</span> /jlib/orai18n.jar</pre><div class="infoboxnote" id="GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA__GUID-76BA7D30-41CB-4716-BB4D-97F05CEDA46A">
                           <p class="notep1">注意：</p>
                           <p>如果使用JTA功能和JNDI功能，则必须在<code class="codeph">CLASSPATH</code>环境变量中指定<code class="codeph">jta.jar</code>和<code class="codeph">jndi.jar</code> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA__GUID-FEAE505F-3752-4947-9624-920961ADB569">JDBC OCI驱动程序</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要使用JDBC OCI驱动程序，还必须为库路径环境变量设置以下值：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在Solaris或Linux上，按如下所示设置<code class="codeph">LD_LIBRARY_PATH</code>环境变量：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> / lib</pre><p>该目录包含<code class="codeph">libocijdbc11.so</code>共享对象库。
                              </p>
                           </li>
                           <li>
                              <p>在Microsoft Windows上，按如下方式设置<code class="codeph">PATH</code>环境变量：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ bin</pre><p>该目录包含<code class="codeph">ocijdbc11.dll</code>动态链接库。
                              </p>
                           </li>
                        </ul>
                        <p>通过在库路径环境变量上包含JDBC OCI Instant Client数据共享库，可以在Instant Client模式下运行所有JDBC OCI演示程序。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA__GUID-7D977C6A-3EF1-46E1-AFD5-7C0AA03A0224">JDBC瘦驱动程序</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要使用JDBC Thin驱动程序，您不必设置任何其他环境变量。但是，要使用JDBC服务器端Thin驱动程序，您需要设置权限。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA__GUID-3F529AAC-E53A-4441-8A24-6D719CE0704C">设置服务器端瘦驱动程序的权限</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>JDBC服务器端Thin驱动程序为其与数据库的连接打开一个套接字。由于Oracle数据库强制执行Java安全模型，因此将对<code class="codeph">SocketPermission</code>对象执行检查。
                        </p>
                        <p>要使用JDBC服务器端Thin驱动程序，必须为连接用户授予适当的权限。以下是如何为用户<code class="codeph">HR</code>授予权限的示例：</p><pre class="oac_no_warn" dir="ltr">创造角色jdbcthin; CALL dbms_java.grant_permission（'JDBCTHIN'，'java.net。SocketPermission'，'*'，'connect'）; GRANT jdbcthin TO HR;</pre><p>请注意， <code class="codeph">JDBCTHIN</code>调用中的<code class="codeph">grant_permission</code>必须为大写。星号（ <code class="codeph">*</code> ）是一种模式。您可以通过授予仅连接到特定计算机或端口的权限来限制用户。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="JDBC-OCI-features.html#GUID-A8201BD0-BAED-4C54-B53B-C26C5F295B32">JDBC OCI驱动程序特有的功能</a></li>
                           <li><a href="../jjdev/DBMS-JAVA-package.html#JJDEV-GUID-C6AE17E3-B1B0-4773-A5F5-CBBDB5B6D7CF" target="_blank"><span><cite>Oracle数据库Java开发人员指南</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="JJDBC28055"></a><div class="props_rev_3"><a id="GUID-06BD7132-70A5-416D-B766-F6AB9961CC01" name="GUID-06BD7132-70A5-416D-B766-F6AB9961CC01"></a><h4 id="JJDBC-GUID-06BD7132-70A5-416D-B766-F6AB9961CC01" class="sect4"><span class="enumeration_section">2.2.3</span>确保可以编译和运行Java代码</h4>
                  <div>
                     <div class="section">
                        <p><a id="d16478e555" class="indexterm-anchor"></a><a id="d16478e559" class="indexterm-anchor"></a>要进一步确保在客户端系统上正确设置Java，请转到<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/jdbc/demo</code>目录下的<code class="codeph">samples</code>目录。现在，在命令行上依次键入以下命令，以查看Java编译器和Java解释器是否正常运行：</p><pre class="oac_no_warn" dir="ltr">javac java</pre><p>上述每个命令都应显示选项和参数列表，然后退出。理想情况下，验证您是否可以编译并运行一个简单的测试程序，例如<code class="codeph">jdbc/demo/samples/generic/SelectExample</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28056"></a><div class="props_rev_3"><a id="GUID-FBF89046-1782-43B1-BFCF-121BC7FC8261" name="GUID-FBF89046-1782-43B1-BFCF-121BC7FC8261"></a><h4 id="JJDBC-GUID-FBF89046-1782-43B1-BFCF-121BC7FC8261" class="sect4"><span class="enumeration_section">2.2.4</span>确定JDBC驱动程序的版本</h4>
                  <div>
                     <div class="section">
                        <p>要确定JDBC驱动程序的版本，请调用<code class="codeph">OracleDatabaseMetaData</code>类的<code class="codeph">getDriverVersion</code>方法，如以下示例代码所示：</p><pre class="oac_no_warn" dir="ltr">import java.sql。*; import oracle.jdbc。*; import oracle.jdbc.pool。OracleDataSource; class JDBCVersion {public static void main（String args []）抛出SQLException {OracleDataSource ods = new OracleDataSource（）; ods.setURL（ “JDBC：预言：瘦：HR /小时@ &lt;主机&gt;：&lt;端口&gt;：&lt;服务&gt;”）; Connection conn = ods.getConnection（）; //创建Oracle DatabaseMetaData对象DatabaseMetaData meta = conn.getMetaData（）; //获取驱动程序信息：System.out.println（“JDBC驱动程序版本为”+ meta.getDriverVersion（））; }}</pre><p>您还可以通过执行以下命令来确定JDBC驱动程序的版本：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">java -jar ojdbc8.jar</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28057"></a><div class="props_rev_3"><a id="GUID-A7809785-56AF-4BD1-A04D-E69CA03489C5" name="GUID-A7809785-56AF-4BD1-A04D-E69CA03489C5"></a><h4 id="JJDBC-GUID-A7809785-56AF-4BD1-A04D-E69CA03489C5" class="sect4"><span class="enumeration_section">2.2.5</span>测试JDBC和数据库连接</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">samples</code> <a id="d16478e655" class="indexterm-anchor"></a><a id="d16478e659" class="indexterm-anchor"></a><a id="d16478e663" class="indexterm-anchor"></a> directory包含特定Oracle JDBC驱动程序的示例程序。其中一个程序<code class="codeph">JdbcCheckup.java</code>用于测试JDBC和数据库连接。程序将查询要连接的用户名，密码和数据库的名称。程序连接到数据库，查询字符串“ <code class="codeph">Hello World</code> ”，并将其打印到屏幕上。
                        </p>
                        <p>转到<code class="codeph">samples</code>目录，编译并运行<code class="codeph">JdbcCheckup.java</code>程序。如果查询结果打印没有错误，那么您的Java和JDBC安装是正确的。
                        </p>
                        <p>虽然<code class="codeph">JdbcCheckup.java</code>是一个简单的程序，但它通过执行以下操作演示了几个重要的功能：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>导入必要的Java类，包括JDBC类</p>
                           </li>
                           <li>
                              <p>创建一个<code class="codeph">DataSource</code>实例</p>
                           </li>
                           <li>
                              <p>连接数据库</p>
                           </li>
                           <li>
                              <p>运行一个简单的查询</p>
                           </li>
                           <li>
                              <p>将查询结果打印到屏幕上</p>
                           </li>
                        </ul>
                        <p>使用JDBC OCI驱动程序的<code class="codeph">JdbcCheckup.java</code>程序如下：</p><pre class="oac_no_warn" dir="ltr">/ * *此示例可用于检查JDBC安装。*只需运行它并提供连接信息。它将从数据库中选择*“Hello World”。* / //您需要导入java.sql和JDBC包以使用JDBC import java.sql。*; import oracle.jdbc。*; import oracle.jdbc.pool。OracleDataSource; //我们导入java.io以便能够从命令行import java.io中读取。*; class JdbcCheckup {public static void main（String args []）抛出SQLException，IOException {//提示用户输入连接信息System.out.println（“请输入信息以测试与数据库的连接”）;字符串用户;字符串密码;字符串数据库user = readEntry（“user：”）; int slash_index = user.indexOf（'/'）; if（slash_index！= -1）{password = user.substring（slash_index + 1）; user = user.substring（0，slash_index）; } else password = readEntry（“password：”）; database = readEntry（“database（一个TNSNAME条目）：”）; System.out.print（“连接数据库......”）; System.out.flush（）;的System.out.println（ “连接...”）; //打开OracleDataSource并获取连接OracleDataSource ods = new OracleDataSource（）; ods.setURL（“jdbc：oracle：oci：@”+ database）; ods.setUser（用户）; ods.setPassword（密码）; Connection conn = ods.getConnection（）;的System.out.println（ “连接”）; //创建语句Statement stmt = conn.createStatement（）; //执行SQL“Hello World”事件ResultSet rset = stmt.executeQuery（“从双重选择'Hello World'）; while（rset.next（））System.out.println（rset.getString（1））; //关闭结果集，语句和连接rset.close（）; stmt.close（）; conn.close（）; System.out.println（“你的JDBC安装是正确的。”）; } //实用程序函数从标准输入读取一行static String readEntry（String prompt）{try {StringBuffer buffer = new StringBuffer（）;是System.out.print（提示）; System.out.flush（）; int c = System.in.read（）;而（c！='\ n'&amp;&amp; c！= -1）{buffer.append（（char）c）; c = System.in.read（）; } return buffer.toString（）。trim（）; } catch（IOException e）{return“”; }}}</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28058"></a><div class="props_rev_3"><a id="GUID-44E1770A-967E-4713-9AFF-86D9D4EDE188" name="GUID-44E1770A-967E-4713-9AFF-86D9D4EDE188"></a><h3 id="JJDBC-GUID-44E1770A-967E-4713-9AFF-86D9D4EDE188" class="sect3"><span class="enumeration_section">2.3</span> JDBC的基本步骤</h3>
               <div>
                  <div class="section">
                     <p>验证JDBC客户端安装后，您可以开始创建JDBC应用程序。<a id="d16478e738" class="indexterm-anchor"></a>使用Oracle JDBC驱动程序时，必须在程序中包含某些特定于驱动程序的信息。本节以教程的形式介绍了添加信息的位置和方式。本教程将指导您完成创建连接到客户端并从客户端查询数据库的代码的步骤。
                     </p>
                     <p>您必须编写代码才能执行以下任务：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="JDBC-getting-started.html#GUID-A1B90791-B55C-4066-A83C-2EBC4FB0DFE1">导入包</a></span></li>
                     <li><span><a href="JDBC-getting-started.html#GUID-F65BF3C1-FFB3-4513-AEB6-94A0D025AD39">打开与数据库的连接</a></span></li>
                     <li><span><a href="JDBC-getting-started.html#GUID-44000A82-7B5E-49A9-BB87-8A3A794E8F3A">创建语句对象</a></span></li>
                     <li><span><a href="JDBC-getting-started.html#GUID-B450DD30-C61D-454E-B83D-D18F1EDE7B44">运行查询并检索结果集对象</a></span></li>
                     <li><span><a href="JDBC-getting-started.html#GUID-C7FAF579-24DB-4682-BC83-44AC5E59A8D8">处理结果集对象</a></span></li>
                     <li><span><a href="JDBC-getting-started.html#GUID-0CEBD5D1-8D3E-4ED5-BB91-F69D0723D9E8">关闭结果集和语句对象</a></span></li>
                     <li><span><a href="JDBC-getting-started.html#GUID-6AC53BFD-6723-4D51-BEF1-B4441E6031DD">对数据库进行更改</a></span></li>
                     <li><span><a href="JDBC-getting-started.html#GUID-96D6787D-71A6-4282-B17E-0951DED3DEF9">关于提交更改</a></span></li>
                     <li><span><a href="JDBC-getting-started.html#GUID-9CFCCC9C-8386-4427-AC34-DEE0575B58BB">关闭连接</a></span></li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-44E1770A-967E-4713-9AFF-86D9D4EDE188__GUID-A7E77335-7659-4150-AACA-043232744E29">
                        <p class="notep1">注意：</p>
                        <p>您必须提供前三个任务的Oracle驱动程序特定信息，这些任务使您的程序能够使用JDBC应用程序编程接口（API）来访问数据库。对于其他任务，您可以使用标准JDBC Java代码，就像使用任何Java应用程序一样。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28060"></a><a id="JJDBC28059"></a><div class="props_rev_3"><a id="GUID-A1B90791-B55C-4066-A83C-2EBC4FB0DFE1" name="GUID-A1B90791-B55C-4066-A83C-2EBC4FB0DFE1"></a><h4 id="JJDBC-GUID-A1B90791-B55C-4066-A83C-2EBC4FB0DFE1" class="sect4"><span class="enumeration_section">2.3.1</span>导入包</h4>
                  <div>
                     <div class="section">
                        <p>无论哪个Oracle <a id="d16478e821" class="indexterm-anchor"></a>您使用的JDBC驱动程序包括使用以下语法在程序开头的<a href="JDBC-getting-started.html#GUID-A1B90791-B55C-4066-A83C-2EBC4FB0DFE1__CIHBBIEG" title="表">表2-1</a>中显示的<code class="codeph">import</code>语句：</p><pre class="oac_no_warn" dir="ltr">import <span class="italic">&lt;package_name&gt;</span> ;</pre><div class="tblformal" id="GUID-A1B90791-B55C-4066-A83C-2EBC4FB0DFE1__CIHBBIEG">
                           <p class="titleintable">表2-1 JDBC驱动程序的导入语句</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="导入JDBC驱动程序的语句" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="39%" id="d16478e849">导入声明</th>
                                    <th align="left" valign="bottom" width="61%" id="d16478e852">提供</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d16478e857" headers="d16478e849 ">
                                       <p><code class="codeph">import java.sql。*;</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d16478e857 d16478e852 ">
                                       <p>标准JDBC包。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d16478e865" headers="d16478e849 ">
                                       <p><code class="codeph">import java.math。*;</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d16478e865 d16478e852 ">
                                       <p><code class="codeph">BigDecimal</code>和<code class="codeph">BigInteger</code>类。如果您不打算在应用程序中使用这些类，则可以省略此包。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d16478e879" headers="d16478e849 ">
                                       <p><a id="d16478e881" class="indexterm-anchor"></a><code class="codeph">import oracle.jdbc.*;</code></p>
                                       <p><code class="codeph">import oracle.jdbc.pool。*;</code></p>
                                       <p><code class="codeph">import oracle.sql。*;</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d16478e879 d16478e852 ">
                                       <p>Oracle对JDBC的扩展。这是可选的。</p>
                                       <p><code class="codeph">OracleDataSource</code> 。
                                       </p>
                                       <p>Oracle类型扩展。这是可选的。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>列为可选的Oracle软件包提供对Oracle JDBC驱动程序提供的扩展功能的访问，但不是本节中提供的示例所必需的。</p>
                        <div class="infoboxnote" id="GUID-A1B90791-B55C-4066-A83C-2EBC4FB0DFE1__GUID-01F63E5D-E0D6-4FFB-BF31-940084D57FEE">
                           <p class="notep1">注意：</p>
                           <p>最好只导入应用程序所需的类，而不是使用通配符星号（ <code class="codeph">*</code> ）。为简单起见，本指南使用星号（*），但这不是导入类和接口的推荐方法。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28062"></a><a id="JJDBC28063"></a><a id="JJDBC28061"></a><div class="props_rev_3"><a id="GUID-F65BF3C1-FFB3-4513-AEB6-94A0D025AD39" name="GUID-F65BF3C1-FFB3-4513-AEB6-94A0D025AD39"></a><h4 id="JJDBC-GUID-F65BF3C1-FFB3-4513-AEB6-94A0D025AD39" class="sect4"><span class="enumeration_section">2.3.2</span>打开与数据库的连接</h4>
                  <div>
                     <div class="section">
                        <p>首先，您必须创建一个<code class="codeph">OracleDataSource</code>实例。然后，使用<code class="codeph">OracleDataSource.getConnection</code>方法打开与数据库的连接。检索到的连接的属性派生自<code class="codeph">OracleDataSource</code>实例。如果设置URL连接属性，则<code class="codeph">TNSEntryName</code>所有其他属性，包括<code class="codeph">TNSEntryName</code> ， <code class="codeph">DatabaseName</code> ， <code class="codeph">ServiceName</code> ， <code class="codeph">ServerName</code> ， <code class="codeph">PortNumber</code> ， <code class="codeph">Network Protocol</code>和驱动程序类型。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F65BF3C1-FFB3-4513-AEB6-94A0D025AD39__GUID-FCB5716F-697A-4DF2-87E5-A7E90167A959">指定数据库URL，用户名和密码</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下代码设置数据源的URL，用户名和密码：</p><pre class="oac_no_warn" dir="ltr">OracleDataSource ods = new OracleDataSource（）; ods.setURL（ <span class="italic">url</span> ）; ods.setUser（ <span class="italic">user</span> ）; ods.setPassword（ <span class="italic">密码</span> ）;</pre><p>以下示例使用JDBC Thin驱动程序将用户<code class="codeph">HR</code>与密码<code class="codeph">hr</code>连接到具有服务<code class="codeph">orcl</code>的数据库，通过主机<code class="codeph">myhost</code>端口5221：</p><pre class="oac_no_warn" dir="ltr">OracleDataSource ods = new OracleDataSource（）; String url =“jdbc：oracle：thin：@ // myhost：5221 / orcl”; ods.setURL（URL）; ods.setUser（ “HR”）; ods.setPassword（ “HR”）; Connection conn = ods.getConnection（）;</pre><div class="infoboxnote" id="GUID-F65BF3C1-FFB3-4513-AEB6-94A0D025AD39__GUID-DB8F8247-D49E-4682-AAEB-F0C75EA3E63E">
                           <p class="notep1">注意：</p>
                           <p>参数中指定的用户名和密码将覆盖URL中指定的任何用户名和密码。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F65BF3C1-FFB3-4513-AEB6-94A0D025AD39__GUID-DFB4A082-F72E-43EC-9D46-C879D3142B55">指定包含用户名和密码的数据库URL</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下示例使用JDBC Oracle调用接口（OCI）驱动程序将用户<code class="codeph">HR</code>与密码<code class="codeph">hr</code>连接到透明网络基板（TNS）条目为<code class="codeph">myTNSEntry</code>的数据库主机。在这种情况下，URL包括用户名和密码，并且是唯一的输入参数。
                        </p><pre class="oac_no_warn" dir="ltr">String url =“jdbc：oracle：oci：HR / hr @ myTNSEntry”）; ods.setURL（URL）; Connection conn = ods.getConnection（）;</pre><p>如果要使用Thin驱动程序进行连接，则必须指定端口号。例如，如果要连接到端口5221上具有TCP / IP侦听器并且服务标识符为<code class="codeph">orcl</code>的主机<code class="codeph">myhost</code>上的数据库，请提供以下代码：</p><pre class="oac_no_warn" dir="ltr">String URL =“jdbc：oracle：thin：HR / hr @ // myhost：5221 / orcl”）; ods.setURL（URL）; Connection conn = ods.getConnection（）;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="data-sources-and-URLs.html#GUID-44572C63-10D2-478A-BB2E-ACF6674C59CC">数据源和URL</a></li>
                           <li><a href="data-sources-and-URLs.html#GUID-44572C63-10D2-478A-BB2E-ACF6674C59CC">数据源和URL</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="JJDBC28064"></a><div class="props_rev_3"><a id="GUID-44000A82-7B5E-49A9-BB87-8A3A794E8F3A" name="GUID-44000A82-7B5E-49A9-BB87-8A3A794E8F3A"></a><h4 id="JJDBC-GUID-44000A82-7B5E-49A9-BB87-8A3A794E8F3A" class="sect4"><span class="enumeration_section">2.3.3</span>创建语句对象</h4>
                  <div>
                     <div class="section">
                        <p>一旦连接到数据库，并在此过程中创建一个<code class="codeph">Connection</code>对象，下一步就是创建一个<code class="codeph">Statement</code>对象。JDBC <code class="codeph">Connection</code>对象的<code class="codeph">createStatement</code>方法返回JDBC <code class="codeph">Statement</code>类型的对象。要继续上一节中创建<code class="codeph">Connection</code>对象<code class="codeph">conn</code>的示例，下面是一个如何创建<code class="codeph">Statement</code>对象的示例：</p><pre class="oac_no_warn" dir="ltr">语句stmt = conn.createStatement（）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28065"></a><div class="props_rev_3"><a id="GUID-B450DD30-C61D-454E-B83D-D18F1EDE7B44" name="GUID-B450DD30-C61D-454E-B83D-D18F1EDE7B44"></a><h4 id="JJDBC-GUID-B450DD30-C61D-454E-B83D-D18F1EDE7B44" class="sect4"><span class="enumeration_section">2.3.4</span>运行查询并检索结果集对象</h4>
                  <div>
                     <div class="section">
                        <p>要查询数据库，请使用<code class="codeph">Statement</code>对象的<code class="codeph">executeQuery</code>方法。此方法将SQL语句作为输入并返回JDBC <code class="codeph">ResultSet</code>对象。
                        </p>
                        <div class="infoboxnote" id="GUID-B450DD30-C61D-454E-B83D-D18F1EDE7B44__GUID-7E4F8B35-4C34-4DF0-9679-2A3B3537203A">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>用于执行<code class="codeph">Statement</code>对象的方法取决于正在执行的SQL语句的类型。如果<code class="codeph">Statement</code>对象表示返回<code class="codeph">ResultSet</code>对象的SQL查询，则应使用<code class="codeph">executeQuery</code>方法。如果已知SQL是DDL语句或返回更新计数的DML语句，则应使用<code class="codeph">executeUpdate</code>方法。如果未知SQL语句的类型，则应使用<code class="codeph">execute</code>方法。
                                 </p>
                              </li>
                              <li>
                                 <p>对于标准JDBC驱动程序，如果正在执行的SQL字符串未返回<code class="codeph">ResultSet</code>对象，则<code class="codeph">executeQuery</code>方法将引发<code class="codeph">SQLException</code>异常。对于Oracle JDBC驱动程序，即使正在执行的SQL字符串未返回<code class="codeph">ResultSet</code>对象， <code class="codeph">executeQuery</code>方法也不会抛出<code class="codeph">SQLException</code>异常。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>要继续该示例，一旦创建了<code class="codeph">Statement</code>对象<code class="codeph">stmt</code> ，下一步就是运行一个查询，该查询返回一个<code class="codeph">ResultSet</code>对象，其中包含名为<code class="codeph">EMPLOYEES</code>的员工表的<code class="codeph">first_name</code>列的内容：</p><pre class="oac_no_warn" dir="ltr">ResultSet rset = stmt.executeQuery（“SELECT first_name FROM employees”）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28066"></a><div class="props_rev_3"><a id="GUID-C7FAF579-24DB-4682-BC83-44AC5E59A8D8" name="GUID-C7FAF579-24DB-4682-BC83-44AC5E59A8D8"></a><h4 id="JJDBC-GUID-C7FAF579-24DB-4682-BC83-44AC5E59A8D8" class="sect4"><span class="enumeration_section">2.3.5</span>处理结果集对象</h4>
                  <div>
                     <div class="section">
                        <p>一旦<a id="d16478e1233" class="indexterm-anchor"></a>运行查询，使用<code class="codeph">ResultSet</code>对象的<code class="codeph">next()</code>方法迭代结果。此方法逐行逐步执行结果集，在到达时检测结果集的结尾。
                        </p>
                        <p>要在迭代结果集时从数据集中提取数据，请使用<code class="codeph">ResultSet</code>对象的相应<code class="codeph">get</code> <span class="italic"><code class="codeph">XXX</code></span>方法，其中<span class="italic"><code class="codeph">XXX</code></span>对应于Java数据类型。
                        </p>
                        <p>例如，以下代码将迭代上一节中的<code class="codeph">ResultSet</code>对象<code class="codeph">rset</code> ，并将检索并打印每个员工姓名：</p><pre class="oac_no_warn" dir="ltr">while（rset.next（））System.out.println（rset.getString（1））;</pre><p><code class="codeph">next()</code>方法在到达结果集的末尾时返回<code class="codeph">false</code> 。员工姓名具体化为Java <code class="codeph">String</code>值。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28067"></a><div class="props_rev_3"><a id="GUID-0CEBD5D1-8D3E-4ED5-BB91-F69D0723D9E8" name="GUID-0CEBD5D1-8D3E-4ED5-BB91-F69D0723D9E8"></a><h4 id="JJDBC-GUID-0CEBD5D1-8D3E-4ED5-BB91-F69D0723D9E8" class="sect4"><span class="enumeration_section">2.3.6</span>关闭结果集和语句对象</h4>
                  <div>
                     <div class="section">
                        <p>您<a id="d16478e1304" class="indexterm-anchor"></a><a id="d16478e1308" class="indexterm-anchor"></a>必须在完成使用后显式关闭<code class="codeph">ResultSet</code>和<code class="codeph">Statement</code>对象。这适用于您在使用Oracle JDBC驱动程序时创建的所有<code class="codeph">ResultSet</code>和<code class="codeph">Statement</code>对象。驱动程序没有终结器方法。清理例程由<code class="codeph">ResultSet</code>和<code class="codeph">Statement</code>类的<code class="codeph">close</code>方法执行。如果未显式关闭<code class="codeph">ResultSet</code>和<code class="codeph">Statement</code>对象，则可能发生严重的内存泄漏。您也可能在数据库中用完游标。关闭结果集和语句会释放数据库中的相应游标。如果仅关闭结果集，则不会释放光标。
                        </p>
                        <p>例如，如果<code class="codeph">ResultSet</code>对象是<code class="codeph">rset</code>且<code class="codeph">Statement</code>对象是<code class="codeph">stmt</code> ，则使用以下代码行关闭结果集和语句：</p><pre class="oac_no_warn" dir="ltr">rset.close（）; stmt.close（）;</pre><p>当您关闭给定<code class="codeph">Connection</code>对象创建的<code class="codeph">Statement</code>对象时，连接本身保持打开状态。
                        </p>
                        <div class="infoboxnote" id="GUID-0CEBD5D1-8D3E-4ED5-BB91-F69D0723D9E8__GUID-82B80617-9507-4A57-8A46-E702D92C3DF1">
                           <p class="notep1">注意：</p>
                           <p>通常，您应该在<code class="codeph">finally</code>子句中放置<code class="codeph">close</code>语句。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28069"></a><a id="JJDBC28070"></a><a id="JJDBC28068"></a><div class="props_rev_3"><a id="GUID-6AC53BFD-6723-4D51-BEF1-B4441E6031DD" name="GUID-6AC53BFD-6723-4D51-BEF1-B4441E6031DD"></a><h4 id="JJDBC-GUID-6AC53BFD-6723-4D51-BEF1-B4441E6031DD" class="sect4"><span class="enumeration_section">2.3.7</span>对数据库进行更改</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-6AC53BFD-6723-4D51-BEF1-B4441E6031DD__GUID-F8E73EA6-68B8-4C46-96F4-64AA570C4AE1">DML操作</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要执行DML（数据操作语言）操作（如INSERT或UPDATE操作），可以创建<code class="codeph">Statement</code>对象或<code class="codeph">PreparedStatement</code>对象。<code class="codeph">PreparedStatement</code>对象使您可以使用不同的输入参数集运行语句。JDBC <code class="codeph">Connection</code>对象的<code class="codeph">prepareStatement</code>方法允许您定义一个带有变量绑定参数的语句，并使用您的语句定义返回JDBC <code class="codeph">PreparedStatement</code>对象。
                        </p>
                        <p>使用<code class="codeph">PreparedStatement</code>对象上的<code class="codeph">set</code> <span class="italic"><code class="codeph">XXX</code></span>方法将数据绑定到要发送到数据库的预准备语句。
                        </p>
                        <p>以下示例说明如何使用预准备语句运行向<code class="codeph">EMPLOYEES</code>表添加两行的<code class="codeph">INSERT</code>操作。
                        </p><pre class="oac_no_warn" dir="ltr">//准备在EMPLOYEES表中插入新名称PreparedStatement pstmt = null;尝试{pstmt = conn.prepareStatement（“插入EMPLOYEES（EMPLOYEE_ID，FIRST_NAME）”值（？，？）“）; //添加LESLIE作为员工编号1500 pstmt.setInt（1,1500）; //第一个？适用于EMPLOYEE_ID pstmt.setString（2，“LESLIE”）; // 第二 ？适用于FIRST_NAME //插入pstmt.execute（）; //将MARSHA添加为员工编号507 pstmt.setInt（1,507）; // 首先 ？适用于EMPLOYEE_ID pstmt.setString（2，“MARSHA”）; // 第二 ？适用于FIRST_NAME //插入pstmt.execute（）; } finally {if（pstmt！= null）//关闭语句pstmt.close（）; }</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6AC53BFD-6723-4D51-BEF1-B4441E6031DD__GUID-E27F744A-39F2-4574-983A-1623011CCFEB">DDL操作</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要执行数据定义语言（DDL）操作，必须创建<code class="codeph">Statement</code>对象。以下示例显示如何在数据库中创建表：</p><pre class="oac_no_warn" dir="ltr">//使用EMPLOYEE_ID和FIRST_NAME字符串查询列创建表EMPLOYEES;语句stmt = null; try {query =“create table EMPLOYEES”+“（EMPLOYEE_ID int，”+“FIRST_NAME varchar（50））”; stmt = conn.createStatement（）; stmt.executeUpdate（查询）; } finally {//关闭Statement对象stmt.close（）; }</pre><div class="infoboxnote" id="GUID-6AC53BFD-6723-4D51-BEF1-B4441E6031DD__GUID-A47A6E5F-2B6D-4BE9-8A05-E499DDDB9F43">
                           <p class="notep1">注意：</p>
                           <p>您还可以使用<code class="codeph">PreparedStatement</code>对象来执行DDL操作。但是，您不应该使用<code class="codeph">PreparedStatement</code>对象，因为这样的对象的有用部分是它可以有参数而DDL操作没有任何参数。
                           </p>
                           <p>此外，由于数据库限制，如果您使用<code class="codeph">PreparedStatement</code>对象进行DDL操作，那么它仅在第一次执行时有效。因此，您应该只使用<code class="codeph">Statement</code>对象进行DDL操作。
                           </p>
                        </div>
                        <p>以下示例显示如何在重新执行之前准备DDL语句：</p><pre class="oac_no_warn" dir="ltr">//语句stmt = null; PreparedStatement pstmt = null;尝试{pstmt = conn.prepareStatement（“插入EMPLOYEES（EMPLOYEE_ID，FIRST_NAME）”值（？，？）“）; stmt = conn.createStatement（”truncate table EMPLOYEES“）; //将LESLIE添加为员工编号1500 pstmt.setInt（1,1500）; //第一个？适用于EMPLOYEE_ID pstmt.setString（2，“LESLIE”）; // 第二 ？适用于FIRST_NAME pstmt.execute（）; stmt.executeUpdate（）; //将MARSHA添加为员工编号507 pstmt.setInt（1,507）; // 首先 ？适用于EMPLOYEE_ID pstmt.setString（2，“MARSHA”）; // 第二 ？适用于FIRST_NAME pstmt.execute（）; stmt.executeUpdate（）; } finally {if（pstmt！= null）//关闭语句pstmt.close（）; }</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="accessing-and-manipulating-Oracle-data.html#GUID-018F8001-45D2-4368-82F2-3B227C1341D9">setObject和setOracleObject方法</a></li>
                           <li><a href="accessing-and-manipulating-Oracle-data.html#GUID-B34BA42E-A004-4A63-8252-96405D7110A6">其他setXXX方法</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDBC29017"></a><a id="JJDBC28071"></a><div class="props_rev_3"><a id="GUID-96D6787D-71A6-4282-B17E-0951DED3DEF9" name="GUID-96D6787D-71A6-4282-B17E-0951DED3DEF9"></a><h4 id="JJDBC-GUID-96D6787D-71A6-4282-B17E-0951DED3DEF9" class="sect4"><span class="enumeration_section">2.3.8</span>关于提交更改</h4>
                  <div>
                     <p>默认情况下，数据操作语言（DML）操作在运行后立即自动提交。这被称为<a id="d16478e1522" class="indexterm-anchor"></a>自动提交模式。如果启用了自动提交模式，并且您对连接对象使用<code class="codeph">commit</code>或<code class="codeph">rollback</code>方法执行<code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code>操作，则会收到以下错误消息：</p>
                     <div class="tblformal" id="GUID-96D6787D-71A6-4282-B17E-0951DED3DEF9__CIAEFJEH">
                        <p class="titleintable">表2-2自动提交模式为ON时执行的操作的错误消息</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="自动提交模式为ON时执行操作的错误消息" width="100%" border="1" summary="Error Messages" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d16478e1547">手术</th>
                                 <th align="left" valign="bottom" width="69%" id="d16478e1550">错误消息</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d16478e1555" headers="d16478e1547 ">
                                    <p><code class="codeph">承诺</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d16478e1555 d16478e1550 ">
                                    <p><code class="codeph">无法提交自动提交设置</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d16478e1564" headers="d16478e1547 ">
                                    <p><code class="codeph">ROLLBACK</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d16478e1564 d16478e1550 ">
                                    <p><code class="codeph">无法使用自动提交设置回滚</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>如果在<code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code>操作期间引发SQLException并使用上表中提到的错误消息，则检查连接的自动提交状态，因为在对具有自动提交的连接执行这些操作时会出现异常值设置为<code class="codeph">true</code> 。
                     </p>
                     <p>针对以下任何一种情况引发此异常：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当自动提交状态设置为<code class="codeph">true</code>并调用<code class="codeph">commit</code>或<code class="codeph">rollback</code>方法时</p>
                        </li>
                        <li>
                           <p>如果未更改自动提交的默认状态，则调用<code class="codeph">commit</code>或<code class="codeph">rollback</code>方法</p>
                        </li>
                        <li>
                           <p>当<code class="codeph">COMMIT_ON_ACCEPT_CHANGES</code>属性的值为<code class="codeph">true</code>并且在对行集调用<code class="codeph">acceptChanges</code>方法之后调用<code class="codeph">commit</code>或<code class="codeph">rollback</code>方法时</p>
                        </li>
                     </ul>
                     <p>但是，您可以在<code class="codeph">Connection</code>对象上使用以下方法调用禁用自动提交模式：</p><pre class="oac_no_warn" dir="ltr">conn.setAutoCommit（假）;</pre><p>如果禁用自动提交模式，则必须使用<code class="codeph">Connection</code>对象上的相应方法调用手动提交或回滚更改：</p><pre class="oac_no_warn" dir="ltr">conn.commit（）;</pre><p>要么：</p><pre class="oac_no_warn" dir="ltr">conn.rollback（）;</pre><p><code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code>操作会影响自上次<code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code>以来运行的所有DML语句。</p>
                     <div class="infoboxnote" id="GUID-96D6787D-71A6-4282-B17E-0951DED3DEF9__GUID-9285F874-43CD-4B43-92ED-C6B14EDF1D75">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果禁用了自动提交模式，并且在未显式提交或回滚上次更改的情况下关闭连接，则会运行隐式<code class="codeph">COMMIT</code>操作。
                              </p>
                           </li>
                           <li>
                              <p>任何数据定义语言（DDL）操作总是会导致隐式<code class="codeph">COMMIT</code> 。如果禁用自动提交模式，则此隐式<code class="codeph">COMMIT</code>将提交尚未显式提交或回滚的任何挂起的DML操作。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="JDBC-coding-tips.html#GUID-0E566AD1-2283-40A0-AD28-0EFBEF99FC9B">禁用自动提交模式</a></li>
                        </ul>
                     </div>
                  </div>
                  <a id="JJDBC28072"></a><div class="props_rev_3"><a id="GUID-E495B0CC-B1FF-4B29-9AEB-10573165E6E7" name="GUID-E495B0CC-B1FF-4B29-9AEB-10573165E6E7"></a><h5 id="JJDBC-GUID-E495B0CC-B1FF-4B29-9AEB-10573165E6E7" class="sect5"><span class="enumeration_section">2.3.8.1</span>更改提交行为</h5>
                     <div>
                        <div class="section">
                           <p>当事务更新数据库时，它会生成与此更新对应的重做条目。Oracle数据库将此重做缓冲在内存中，直到事务完成。提交事务时，Log Writer（LGWR）进程会将提交的重做条目写入磁盘，以及事务中所有更改的累积重做条目。默认情况下，Oracle数据库会在调用返回到客户端之前将重做写入磁盘。此行为会在提交中引入延迟，因为应用程序必须等待重做条目保留在磁盘上。</p>
                           <p>如果您的应用程序需要非常高的事务吞吐量并且您愿意交换提交持久性以降低提交延迟，那么您可以根据应用程序的需要更改默认<code class="codeph">COMMIT</code>操作的行为。您可以使用以下选项更改<code class="codeph">COMMIT</code>操作的行为：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">等待</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">NOWAIT</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">WRITEBATCH</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">WRITEIMMED</code></p>
                              </li>
                           </ul>
                           <p>这些选项使您可以控制提交阶段的两个不同方面：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">COMMIT</code>调用是否应该等待服务器处理它。这是通过使用<code class="codeph">WAIT</code>或<code class="codeph">NOWAIT</code>选项实现的。
                                 </p>
                              </li>
                              <li>
                                 <p>Log Writer是否应该批量调用。这是通过使用<code class="codeph">WRITEIMMED</code>或<code class="codeph">WRITEBATCH</code>选项实现的。
                                 </p>
                              </li>
                           </ul>
                           <p>您还可以将不同的选项组合在一起。例如，如果您希望<code class="codeph">COMMIT</code>调用返回而不等待服务器处理它，并且还希望日志<code class="codeph">WRITEBATCH</code>以批处理方式处理提交，那么您可以一起使用<code class="codeph">NOWAIT</code>和<code class="codeph">WRITEBATCH</code>选项。例如：</p><pre class="oac_no_warn" dir="ltr">（（OracleConnection）conn）.commit（EnumSet.of（OracleConnection。CommitOption。WRITEBATCH，OracleConnection。CommitOption。NOWAIT））;</pre><div class="infoboxnote" id="GUID-E495B0CC-B1FF-4B29-9AEB-10573165E6E7__GUID-27EB6180-0AE1-4DBF-8532-4A13A03239E6">
                              <p class="notep1">注意：</p>
                              <p>你不能一起使用<code class="codeph">WAIT</code>和<code class="codeph">NOWAIT</code>选项，因为它们具有相反的含义。如果这样做，那么JDBC驱动程序将抛出异常。这同样适用于<code class="codeph">WRITEIMMED</code>和<code class="codeph">WRITEBATCH</code>选项。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="JJDBC28073"></a><div class="props_rev_3"><a id="GUID-9CFCCC9C-8386-4427-AC34-DEE0575B58BB" name="GUID-9CFCCC9C-8386-4427-AC34-DEE0575B58BB"></a><h4 id="JJDBC-GUID-9CFCCC9C-8386-4427-AC34-DEE0575B58BB" class="sect4"><span class="enumeration_section">2.3.9</span>关闭连接</h4>
                  <div>
                     <div class="section">
                        <p>您<a id="d16478e1813" class="indexterm-anchor"></a>在执行所有必需的操作并且不再需要连接后，必须关闭与数据库的连接。您可以使用<code class="codeph">Connection</code>对象的<code class="codeph">close</code>方法<code class="codeph">close</code> <code class="codeph">Connection</code> ，如下所示：</p><pre class="oac_no_warn" dir="ltr">conn.close（）;</pre><div class="infoboxnote" id="GUID-9CFCCC9C-8386-4427-AC34-DEE0575B58BB__GUID-FDE80679-3A3E-49B7-8286-82571E45897D">
                           <p class="notep1">注意：</p>
                           <p>通常，您应该在<code class="codeph">finally</code>子句中放置<code class="codeph">close</code>语句。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28074"></a><div class="props_rev_3"><a id="GUID-D59CA273-203C-431A-BB27-D660ACBFE105" name="GUID-D59CA273-203C-431A-BB27-D660ACBFE105"></a><h3 id="JJDBC-GUID-D59CA273-203C-431A-BB27-D660ACBFE105" class="sect3"><span class="enumeration_section">2.4</span>示例：连接，查询和处理结果</h3>
               <div>
                  <div class="section">
                     <p>以下部分中的步骤如以下示例所示，该示例使用Oracle JDBC Thin驱动程序创建数据源，连接到数据库，创建<code class="codeph">Statement</code>对象，运行查询以及处理结果集。
                     </p>
                     <p>请注意，用于创建<code class="codeph">Statement</code>对象，运行查询，返回和处理<code class="codeph">ResultSet</code>对象以及关闭语句和连接的代码使用标准JDBC API。</p><pre class="oac_no_warn" dir="ltr">import java.sql。连接; import java.sql。ResultSet的; import java.sql。声明; import java.sql。的SQLException; import oracle.jdbc.pool。OracleDataSource; class JdbcTest {public static void main（String args []）抛出SQLException {OracleDataSource ods = null;连接conn = null;语句stmt = null; ResultSet rset = null; //创建DataSource并连接到本地数据库ods = new OracleDataSource（）; ods.setURL（ “JDBC：预言：瘦：@ //本地主机：5221 / ORCL”）; ods.setUser（ “HR”）; ods.setPassword（ “HR”）; conn = ods.getConnection（）; try {//查询员工姓名stmt = conn.createStatement（）; rset = stmt.executeQuery（“SELECT first_name FROM employees”）; //打印名称while（rset.next（））System.out.println（rset.getString（1））; } //最后关闭结果集，语句和连接{if（rset！= null）rset.close（）;如果（stmt是！= null）stmt.close（）;如果（参数conn！= null）conn.close（）; }}}</pre><p>如果要调整OCI驱动程序的代码，请使用以下代码替换对<code class="codeph">OracleDataSource.setURL</code>方法的调用：</p><pre class="oac_no_warn" dir="ltr">ods.setURL（ “JDBC：预言：OCI：@MyHostString”）;</pre><p>其中， <code class="codeph">MyHostString</code>是<code class="codeph">TNSNAMES.ORA</code>文件中的一个条目。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC29019"></a><a id="JJDBC29018"></a><div class="props_rev_3"><a id="GUID-2796DCC2-29FF-4D65-852F-ABCA3AFCEE9C" name="GUID-2796DCC2-29FF-4D65-852F-ABCA3AFCEE9C"></a><h3 id="JJDBC-GUID-2796DCC2-29FF-4D65-852F-ABCA3AFCEE9C" class="sect3"><span class="enumeration_section">2.5</span>支持隐形列</h3>
               <div>
                  <p>从此版本开始，Oracle数据库支持不可见列。使用此功能，您可以以隐藏模式向表中添加列，并使其稍后可见。JDBC提供API来检索有关不可见列的信息。要获取有关列是否不可见的信息，您可以使用<a id="d16478e1913" class="indexterm-anchor"></a> <code class="codeph">oracle.jdbc.提供了<code class="codeph">isColumnInvisible</code>方法<code class="codeph">oracle.jdbc.OracleResultSetMetaData</code>接口的方式如下：</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-2796DCC2-29FF-4D65-852F-ABCA3AFCEE9C__GUID-69FAFA33-8B49-4116-8D15-CD9AAAB4FA96">例</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">...Connection conn = DriverManager.getConnection（jdbcURL，user，password）;语句stmt = conn.createStatement（）; stmt.executeQuery（“create table hiddenColsTable（a varchar（20），b int invisible）”）; stmt.executeUpdate（“插入hiddenColsTable（a，b）值（'somedata'，1）”）; stmt.executeUpdate（“插入hiddenColsTable（a，b）值（'newdata'，2）”）; System.out.println（“Invisible columns information”）;尝试{ResultSet rset = stmt.executeQuery（“SELECT a，b FROM hiddenColsTable”）; OracleResultSetMetaData rsmd =（OracleResultSetMetaData）rset.getMetaData（）; while（rset.next（））{System.out.println（“column1 value：”+ rset.getString（1））; System.out.println（“可见性：”+ rsmd.isColumnInvisible（1））; System.out.println（“column2 value：”+ rset.getInt（2））; System.out.println（“可见性：”+ rsmd.isColumnInvisible（2））; catch（Exception ex）{System.out.println（“Exception：”+ ex）; ex.printStackTrace（）; }</pre><p>或者，您也可以使用<a id="d16478e1929" class="indexterm-anchor"></a> <code class="codeph">oracle.jdbc.提供了<code class="codeph">getColumns</code>方法<code class="codeph">oracle.jdbc.OracleDatabaseMetaData</code>类，用于检索有关不可见列的信息。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2796DCC2-29FF-4D65-852F-ABCA3AFCEE9C__GUID-7769CA6D-8D1C-499E-933A-D22B9D930009">例</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">...Connection conn = DriverManager.getConnection（jdbcURL，user，password）;语句stmt = conn.createStatement（）; stmt.executeQuery（“create table hiddenColsTable（a varchar（20），b int invisible）”）; stmt.executeUpdate（“插入hiddenColsTable（a，b）值（'somedata'，1）”）; stmt.executeUpdate（“插入hiddenColsTable（a，b）值（'newdata'，2）”）; System.out.println（“具有不可见列的表的getColumns”）;尝试{DatabaseMetaData dbmd = conn.getMetaData（）; ResultSet rs = dbmd.getColumns（null，“HR”，“hiddenColsTable”，null）; OracleResultSetMetaData rsmd =（OracleResultSetMetaData）rs.getMetaData（）; int colCount = rsmd.getColumnCount（）; System.out.println（“colCount：”+ colCount）; String [] columnNames = new String [colCount]; for（int i = 0; i &lt;colCount; ++ i）{columnNames [i] = rsmd.getColumnName（i + 1）; } while（rs.next（））{for（int i = 0; i &lt;colCount; ++ i）System.out.println（columnNames [i] +“：”+ rs.getString（columnNames [i]）） ; catch（Exception ex）{System.out.println（“Exception：”+ ex）; ex.printStackTrace（）; }</pre><div class="infoboxnote" id="GUID-2796DCC2-29FF-4D65-852F-ABCA3AFCEE9C__GUID-5CB8882C-77D8-4685-94D5-4030F67921CE">
                        <p class="notep1">注意：</p>
                        <p>服务器端内部驱动程序<code class="codeph">kprb</code>不支持获取有关不可见列的信息。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-F30B1931-7755-4973-A113-DB6D25C85937" name="GUID-F30B1931-7755-4973-A113-DB6D25C85937"></a><h3 id="JJDBC-GUID-F30B1931-7755-4973-A113-DB6D25C85937" class="sect3"><span class="enumeration_section">2.6</span>支持验证JSON数据</h3>
               <div>
                  <p></p>
                  <p>从Oracle Database Release 18c开始，JDBC驱动程序可以验证<code class="codeph">ResultSet</code>返回的列是否为JSON列。要获取有关列是否为JSON的信息，可以使用<code class="codeph">oracle.jdbc.提供的<code class="codeph">isColumnJSON</code>方法<code class="codeph">oracle.jdbc.OracleResultSetMetaData</code>接口的方式如下：</p>
                  <div class="example" id="GUID-F30B1931-7755-4973-A113-DB6D25C85937__GUID-70331B81-604A-47EE-A315-421B5DCD231D">
                     <p class="titleinexample">例2-1示例</p><pre class="pre codeblock"><code>...public void test（Connection conn）抛出异常{try {show（“tkpjb26776242  -  start”）; CREATETABLE（conn）;在String sql =“SELECT col1，col2，col3，col4，col5，col6，col7，col8 FROM tkpjb26776242_tab”;语句stmt = conn.createStatement（）; ResultSet rs = stmt.executeQuery（sql）; ResultSetMetaData rsmd = rs.getMetaData（）; OracleResultSetMetaData orsmd =（OracleResultSetMetaData）rsmd; int colCnt = orsmd.getColumnCount（）; show（“Table has”+ colCnt +“columns。”）; for（int i = 1; i &lt;= colCnt; i ++）{String columnName = orsmd.getColumnName（i）; String typeName = orsmd.getColumnTypeName（i）; boolean invisible = orsmd.isColumnInvisible（i）; boolean json = orsmd.isColumnJSON（i）; show（columnName +“”+ typeName +（不可见？“不可见”：“”）+（json？“JSON”：“”））; } rs.close（）; stmt.close（）; show（“tkpjb26776242  -  end”）; } finally {dropTable（conn）; private void createTable（Connection conn）throws Exception {String sql =“create table tkpjb26776242_tab（”+“col1 clob，”+“col2 clob，”+“col3 clob INVISIBLE，”+“col4 clob INVISIBLE，”+“col5 varchar2（200），“+”col6 varchar2（200），“+”col7 varchar2（200）INVISIBLE，“+”col8 varchar2（200）INVISIBLE，“+”check（col2 IS JSON），“+”check（col4 IS JSON），“+”检查（col6 IS JSON），“+”检查（col8 IS JSON））“; Util.doSQL（conn，sql）; private void dropTable（Connection conn）throws Exception {String sql =“drop table tkpjb26776242_tab”; Util.trySQL（conn，sql）; } ...</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="JJDBC29020"></a><a id="JJDBC29005"></a><div class="props_rev_3"><a id="GUID-FA6FA05D-CE5C-4A03-B70E-8DD9F8F5DD92" name="GUID-FA6FA05D-CE5C-4A03-B70E-8DD9F8F5DD92"></a><h3 id="JJDBC-GUID-FA6FA05D-CE5C-4A03-B70E-8DD9F8F5DD92" class="sect3"><span class="enumeration_section">2.7</span>支持隐含结果</h3>
               <div>
                  <p>从此版本开始，Oracle数据库支持在存储过程中执行的SQL语句的结果隐式返回到客户端应用程序，而无需显式使用<code class="codeph">REF CURSOR</code> 。您可以使用以下方法检索和处理PL / SQL过程或块返回的隐式结果：</p>
                  <div class="tblformal" id="GUID-FA6FA05D-CE5C-4A03-B70E-8DD9F8F5DD92__GUID-82DB4879-A1BF-4A0C-8BE7-47473B5C0FD5">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes the methods to work with implicit cursors" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="37%" id="d16478e2024">方法</th>
                              <th align="left" valign="bottom" width="63%" id="d16478e2027">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d16478e2032" headers="d16478e2024 ">
                                 <p><code class="codeph">使用getMoreResults</code></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d16478e2032 d16478e2027 ">
                                 <p>检查结果集中是否有更多可用结果</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d16478e2040" headers="d16478e2024 ">
                                 <p><a id="d16478e2042" class="indexterm-anchor"></a><code class="codeph">getMoreResults(int)</code></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d16478e2040 d16478e2027 ">
                                 <p>检查结果集中是否有更多可用结果，如重载方法。此方法接受可以具有以下值之一的<code class="codeph">int</code>参数：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">KEEP_CURRENT_RESULT</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CLOSE_ALL_RESULTS</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CLOSE_CURRENT_RESULT</code></p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d16478e2066" headers="d16478e2024 ">
                                 <p><code class="codeph">的getResultSet</code></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d16478e2066 d16478e2027 ">
                                 <p>迭代地从执行的PL / SQL语句中检索每个隐式结果</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnote" id="GUID-FA6FA05D-CE5C-4A03-B70E-8DD9F8F5DD92__GUID-24BB0E2F-FB00-48BA-8F76-7FEC69C67EA3">
                     <p class="notep1">注意：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>服务器端内部驱动程序<code class="codeph">kprb</code>不支持获取有关隐式结果的信息。
                           </p>
                        </li>
                        <li>
                           <p>只能隐式返回SELECT查询。</p>
                        </li>
                        <li>
                           <p>应用程序按顺序检索每个结果集，但可以从任何结果集中获取行，而与序列无关。</p>
                        </li>
                     </ul>
                  </div>
                  <p>假设您有一个名为<code class="codeph">foo</code>的过程，如下所示：</p><pre class="oac_no_warn" dir="ltr">创建过程foo为c1 sys_refcursor; c2 sys_refcursor;从hr.employees开始打开c1 for select *; dbms_sql.return_result（C1）; - 返回客户端 - 从hr.departments打开另一个游标打开c2 for select *; dbms_sql.return_result（c2）; - 回到客户端;</pre><p>以下代码片段演示了如何使用<code class="codeph">getMoreResults</code>方法检索PL / SQL过程返回的隐式结果：</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-FA6FA05D-CE5C-4A03-B70E-8DD9F8F5DD92__GUID-C3C6C824-9CDD-4B8F-B43E-D4C21175281A">例1</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">String sql =“begin foo; end;”; ...Connection conn = DriverManager.getConnection（jdbcURL，user，password）;尝试{Statement stmt = conn.createStatement（）; stmt.executeQuery（sql）; while（stmt.getMoreResults（））{ResultSet rs = stmt.getResultSet（）;的System.out.println（ “结果集”）; while（rs.next（））{/ * get results * /}}}</pre><p>假设您有另一个名为<code class="codeph">foo</code>过程，如下所示：</p><pre class="oac_no_warn" dir="ltr">创建或替换过程foo asc1 sys_refcursor; c2 sys_refcursor; c3 sys_refcursor;为'select * from hr.employees'开始打开c1; dbms_sql.return_result（c1）;  - 'select * from hr.departments'的游标2打开c2; dbms_sql.return_result（c2）;  - 游标3打开c3，用于'select first_name from hr.employees'; dbms_sql.return_result（c3）;结束;</pre><p>以下代码片段演示了如何使用<code class="codeph">getMoreResults(int)</code>方法检索PL / SQL过程返回的隐式结果：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FA6FA05D-CE5C-4A03-B70E-8DD9F8F5DD92__GUID-54EE9DA5-AEDB-4019-BD67-E2B4C78E280D">例2</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">String sql =“begin foo; end;”; ...Connection conn = DriverManager.getConnection（jdbcURL， <span class="italic">user</span> ， <span class="italic">password</span> ）;尝试{Statement stmt = conn.createStatement（）; stmt.executeQuery（sql）; ResultSet rs = null; boolean retval = stmt.getMoreResults（Statement。KEEP_CURRENT_RESULT））if（retval）{rs = stmt.getResultSet（）;的System.out.println（ “结果集”）; while（rs.next（））{/ * get results * /}} / *关闭打开结果* / retval = stmt.getMoreResults（Statement。CLOSE_ALL_RESULTS）; if（retval）{System.out.println（“More ResultSet available”）; rs = stmt.getResultSet（）;的System.out.println（ “结果集”）; while（rs.next（））{/ * get results * /}} / * close current result set * / retval = stmt.getMoreResults（Statement。CLOSE_CURRENT_RESULT）; if（retval）{System.out.println（“More ResultSet available”）; rs = stmt.getResultSet（）; while（rs.next（））{/ * get Results * /}}}</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-6AFB71F0-EFA9-43A0-AF96-03E6FB2F3521" name="GUID-6AFB71F0-EFA9-43A0-AF96-03E6FB2F3521"></a><h3 id="JJDBC-GUID-6AFB71F0-EFA9-43A0-AF96-03E6FB2F3521" class="sect3"><span class="enumeration_section">2.8</span>支持轻量级连接验证</h3>
               <div>
                  <p></p>
                  <p>从Oracle Database Release 18c开始，JDBC Thin驱动程序支持轻量级连接验证。轻量级连接验证使JDBC应用程序能够通过发送不需要往返数据库的零长度NS数据包来验证连接有效性。对于Oracle数据库的早期版本，当您调用<code class="codeph">isValid(timeout)</code>方法来测试连接的有效性时，Oracle JDBC驱动程序使用乒乓协议，这是一项昂贵的操作，因为它完全往返于数据库。在Oracle数据库版本18c中， <code class="codeph">isValid(timeout)</code>方法将空数据包发送到数据库，而不是等待接收回来。因此，连接验证更快，从而提高了应用程序性能。
                  </p>
                  <p>默认情况下禁用轻量级连接验证。要启用此功能，必须将<code class="codeph">oracle.jdbc.defaultConnectionValidation</code>连接属性值设置为<code class="codeph">SOCKET</code> 。如果设置了此属性，那么当您调用<code class="codeph">isValid(timeout)</code>方法时，JDBC驱动程序将执行轻量级连接验证。
                  </p>
                  <div class="infoboxnote" id="GUID-6AFB71F0-EFA9-43A0-AF96-03E6FB2F3521__GUID-E9D44968-9A34-4AC0-93B4-7CA185BEBEC3">
                     <p class="notep1">注意：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>轻量级连接验证仅检查底层套接字运行状况。当<code class="codeph">isValid(timeout)</code>方法返回<code class="codeph">true</code> ，即，如果连接被称为有效，则此验证仅保证服务器不可到达（死套接字）。它不提供有关服务器进程的任何状态，例如它们是否正在运行。但是，默认情况下，即未启用轻量级连接验证时， <code class="codeph">isValid(timeout)</code>方法会检查客户端与服务器之间的网络是否完好无损。
                           </p>
                        </li>
                        <li>
                           <p>只有JDBC Thin驱动程序支持此功能。</p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">用于轻量级连接验证的新API</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">oracle.jdbc.defaultConnectionValidation</code></p>
                        <p>此连接属性指定连接验证的级别。此属性的可能值包括： <code class="codeph">NONE</code> ， <code class="codeph">LOCAL</code> ， <code class="codeph">SOCKET</code> ， <code class="codeph">NETWORK</code> ， <code class="codeph">SERVER</code>和<code class="codeph">COMPLETE</code> 。这些值区分大小写，并且设置除这些值之外的任何值都会引发异常。<code class="codeph">NETWORK</code>是默认值。</p>
                     </li>
                     <li>
                        <p><code class="codeph">public boolean isValid（ConnectionValidation validation_level，int timeout）抛出SQLException</code></p>
                        <p>现有的<code class="codeph">isValid(timeout)</code>方法的新变体接受两个参数：验证级别（ <code class="codeph">validation_level</code> ）和<code class="codeph">timeout</code> 。第一个参数指定连接验证的级别。
                        </p>
                     </li>
                  </ul>
                  <div class="example" id="GUID-6AFB71F0-EFA9-43A0-AF96-03E6FB2F3521__GUID-8FB906BE-3FCC-47A3-801C-C89390E0E41F">
                     <p class="titleinexample">示例2-2轻量级连接验证示例</p>
                     <p>以下代码片段演示了如何实现轻量级连接机制：</p><pre class="pre codeblock"><code>...OracleDataSource ods = new OracleDataSource（）; ods.setURL（URL）; ods.setUser（用户）; ods.setPassword（密码）; Connection conn = ods.getConnection（）; try {boolean isValid =（（OracleConnection）conn）。的isValid（ConnectionValidation。插座，超时）; System.out.println（“Connection isValid =”+ isValid）; } catch（Exception ex）{System.out.println（“Exception：”+ ex）; ex.printStackTrace（）; } ......</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-D5BB4E1F-59FD-4C5E-876C-71420F2DAE9B" name="GUID-D5BB4E1F-59FD-4C5E-876C-71420F2DAE9B"></a><h3 id="JJDBC-GUID-D5BB4E1F-59FD-4C5E-876C-71420F2DAE9B" class="sect3"><span class="enumeration_section">2.9</span>支持数据库节点的Deprioritization</h3>
               <div>
                  <p></p>
                  <div class="section">
                     <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2.0.1）开始，JDBC驱动程序支持对数据库节点进行优先级排序。当节点发生故障时，JDBC会在接下来的10分钟内对其进行优先级排序，这是默认的到期时间。例如，如果有三个节点A，B，C，并且节点A已关闭，则首先从节点B和C分配连接，然后从节点A分配连接。在默认的到期时间之后，节点A不再被优先级排序，也就是说，在可用性的基础上从所有三个节点分配连接。此外，在默认到期时间内，如果对节点A的连接尝试成功，则节点A不再被视为去优先级节点。您可以使用<code class="codeph">oracle.net.指定<code class="codeph">oracle.net.的默认到期时间<code class="codeph">oracle.net.DOWN_HOSTS_TIMEOUT</code>系统属性。
                     </p>
                     <p>例如，在以下URL中， <code class="codeph">scan_listener0</code>在检索其IP地址后配置了<code class="codeph">ip1</code> ， <code class="codeph">ip2</code>和<code class="codeph">ip3</code> IP地址。现在，如果<code class="codeph">ip1</code>被优先级排序，那么尝试IP地址的顺序将是<code class="codeph">ip2</code> ， <code class="codeph">ip3</code> ，然后是<code class="codeph">ip1</code> 。如果所有IP地址都不可用，则在尝试<code class="codeph">node_1</code>和<code class="codeph">node_2</code>之后，最后尝试整个主机。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-D5BB4E1F-59FD-4C5E-876C-71420F2DAE9B__GUID-A9F1321A-23A2-44C1-8CAC-262247CDFABF"><pre class="pre codeblock"><code>（DESCRIPTION_LIST =（DESCRIPTION =（ADDRESS_LIST =（ADDRESS =（PROTOCOL = tcp）（HOST = scan_listener0）（PORT = 1521））（ADDRESS =（PROTOCOL = tcp）（HOST = node_1）（PORT = 1528））（ADDRESS = （PROTOCOL = sdp）（HOST = node_2）（PORT = 1527）））（ADDRESS_LIST =（ADDRESS =（PROTOCOL = tcp）（HOST = node_3）（PORT = 1528）））（CONNECT_DATA =（SERVICE_NAME = cdb3））） （DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = node_0）（PORT = 1528））（CONNECT_DATA =（SERVICE_NAME = cdb3））））</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-65A18AD5-04DE-4EE0-8069-4F27449AC5B6" name="GUID-65A18AD5-04DE-4EE0-8069-4F27449AC5B6"></a><h3 id="JJDBC-GUID-65A18AD5-04DE-4EE0-8069-4F27449AC5B6" class="sect3"><span class="enumeration_section">2.10</span>在流量控制器模式下支持Oracle Connection Manager</h3>
               <div>
                  <p></p>
                  <p>Oracle Database Release 18c JDBC驱动程序支持Traffic Director模式下的Oracle Connection Manager，它是数据库客户端和数据库实例之间的代理。JDBC客户端可以在流量控制器模式下连接到Oracle连接管理器，流量控制器模式又连接到目标Oracle数据库。从客户端发送的双任务公共（TTC）消息由Oracle Connection Manager在流量控制器模式下截获。它解析传入的TTC消息并将请求中继到适当的目标数据库。收到响应后，流量控制器模式下的Oracle连接管理器会通过TTC响应将结果从目标数据库传输回客户端。</p>
                  <p>下图说明了Traffic Director模式下Oracle Connection Manager的体系结构：</p>
                  <div class="figure" id="GUID-65A18AD5-04DE-4EE0-8069-4F27449AC5B6__ORACLECONNECTIONMANAGERINTRAFFICDIR-54E999C1">
                     <p class="titleinfigure">图2-1流量控制器模式下Oracle Connection Manager的体系结构</p><img src="img/cmantraffdrmode.png" alt="下面描述图2-1" title="下面描述图2-1" longdesc="img_text/cmantraffdrmode.html"><br><a href="img_text/cmantraffdrmode.html">“图2-1流量控制器模式下Oracle Connection Manager的体系结构”的说明</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnotealso" id="GUID-65A18AD5-04DE-4EE0-8069-4F27449AC5B6__GUID-42A50B7D-8A5B-4275-8725-38C3E0DFE5ED">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关配置<code class="codeph">cman.ora</code>文件以在Traffic Director模式下设置Oracle Connection Manager的详细信息，请<code class="codeph">cman.ora</code> <a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="../netrf/oracle-connection-manager-parameters.html#NETRF-GUID-E52E7D07-FD9C-4B21-9EEA-65D7B0AB453F" target="_blank"><span><cite>Oracle Database Net Services参考</cite></span></a> ，以获取有关Traffic Director模式参数中的Oracle Connection Manager的更多信息</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C003C202-59A7-46D9-A044-0B6E70F0327B" name="GUID-C003C202-59A7-46D9-A044-0B6E70F0327B"></a><h4 id="JJDBC-GUID-C003C202-59A7-46D9-A044-0B6E70F0327B" class="sect4"><span class="enumeration_section">2.10.1</span>在流量控制器模式下运行Oracle Connection Manager的模式</h4>
                  <div>
                     <p></p>
                     <p>您可以在以下模式下以流量控制器模式运行Oracle Connection Manager：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">池化连接模式</span></p>
                           <p>池化连接模式使用称为代理驻留连接池的新功能，该功能是数据库驻留连接池的代理启用模式。代理驻留连接池减少了数据库上的连接负载，因为它通过较少数量的数据库连接多路复用大量客户端连接。使用Oracle Database 12 <span class="italic">c</span>第1版（12.1）JDBC驱动程序及更高版本的任何应用程序都可以使用此连接模式。
                           </p>
                           <div class="infoboxnote" id="GUID-C003C202-59A7-46D9-A044-0B6E70F0327B__GUID-C3BFC3CC-203D-469A-87B9-A101FA99BDFF">
                              <p class="notep1">注意：</p>
                              <p>此功能最适用于使用DRCP感知连接池的客户端。</p>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">非池化或专用连接模式</span></p>
                           <p>您可以将Nonpoled或专用连接模式与使用Oracle Database <span class="italic">11g</span>第2版（11.2.0.4）JDBC驱动程序及更高版本的应用程序一起使用。但是，在此模式下，某些功能（如连接多路复用）不可用。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="database-resident-connection-pooling.html#GUID-8B2DD8CE-5E6A-4D15-8997-D3261F137D8E">数据库驻留连接池概述</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-C003C202-59A7-46D9-A044-0B6E70F0327B__GUID-3B394EC2-520C-419B-B35E-211B57D56F5B">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../admin/managing-processes.html#ADMIN-GUID-E0032017-03B1-4F14-AF9B-BCC87C982DA8" target="_blank">数据库管理指南</a></p>
                           </li>
                           <li>
                              <p><a href="../jjucp/intro.html#JJUCP-GUID-F9DE0E14-C0D9-40E7-99A3-AC207CE9DF14" target="_blank">通用连接池开发人员指南</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-C8DDB1C4-7855-40F1-921B-40BB43B2247F" name="GUID-C8DDB1C4-7855-40F1-921B-40BB43B2247F"></a><h4 id="JJDBC-GUID-C8DDB1C4-7855-40F1-921B-40BB43B2247F" class="sect4"><span class="enumeration_section">2.10.2</span> Oracle Director Manager在Traffic Director模式下的优点</h4>
                  <div>
                     <p></p>
                     <p>流量控制器模式中的Oracle Connection Manager具有以下优点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <div class="p">透明的性能增强和连接多路复用，包括：<ul style="list-style-type:disc">
                                 <li>
                                    <p>对所有操作模式自动启用语句高速缓存，行预取和结果集高速缓存。</p>
                                 </li>
                                 <li>
                                    <p>使用代理驻留连接池（PRCP）的数据库会话多路复用（仅池化模式），其中PRCP是数据库驻留连接池（DRCP）的代理模式。应用程序在Traffic Director模式下的Oracle Connection Manager与数据库之间获得透明的连接时负载平衡和运行时负载平衡。</p>
                                 </li>
                                 <li>
                                    <p>对于Traffic Director模式实例中的多个Oracle Connection Manager，应用程序通过客户端连接时负载平衡或负载均衡器（BIG-IP，NGINX等）获得更高的可扩展性</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <div class="p">零应用程序停机时间<ul style="list-style-type:disc">
                                 <li>
                                    <div class="p">计划数据库维护或可插拔数据库（PDB）重定位<ul style="list-style-type:disc">
                                          <li>
                                             <p>合并模式</p>
                                             <p>流量控制器模式中的Oracle Connection Manager响应Oracle Notification Service（ONS）事件以计划中断和重定向工作。请求完成后，在流量控制器模式下，Oracle Connection Manager上的池中的连接将耗尽。Oracle Database <span class="italic">11g第</span> 2版（11.2.0.4）及更高版本支持服务重定位。
                                             </p>
                                             <p>对于PDB重定位，流量控制器模式下的Oracle连接管理器会在PDB重新定位时响应带内通知，即使未配置ONS时也是如此（对于Oracle数据库版本18c及更高版本的服务器）</p>
                                          </li>
                                          <li>
                                             <p>非汇集或专用模式</p>
                                             <div class="p">当客户端没有请求边界信息时，流量控制器模式中的Oracle连接管理器支持许多应用程序的计划中断（只要在请求或事务边界上只需要保留简单的会话状态和游标状态）。这种支持包括：<ul style="list-style-type:disc">
                                                   <li>
                                                      <p>在事务边界停止服务或PDB，或者它利用Oracle数据库版本18c连续应用程序可用性来停止请求边界处的服务</p>
                                                   </li>
                                                   <li>
                                                      <p>流量控制器模式中的Oracle连接管理器利用透明应用程序故障转移（TAF）故障转移还原来重新连接和还原简单状态。</p>
                                                   </li>
                                                </ul>
                                             </div>
                                          </li>
                                       </ul>
                                    </div>
                                 </li>
                                 <li>
                                    <p>针对大多数读取工作负载的计划外数据库中断</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <div class="p">流量控制器模式中Oracle Connection Manager的高可用性，以避免单点故障。这得到以下支持：<ul style="list-style-type:disc">
                                 <li>
                                    <p>流量控制器模式中的多个Oracle连接管理器实例，使用连接字符串中的负载平衡器或客户端负载平衡/故障转移</p>
                                 </li>
                                 <li>
                                    <p>在Traffic Director模式实例中滚动升级Oracle Connection Manager</p>
                                 </li>
                                 <li>
                                    <p>针对计划中断，在流量控制器模式下从客户端到Oracle Connection Manager的现有连接的正常关闭</p>
                                 </li>
                                 <li>
                                    <p>带有Oracle数据库版本18c及更高版本客户端的带内通知</p>
                                 </li>
                                 <li>
                                    <p>对于较旧的客户端，通知将与当前请求的响应一起发送</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <div class="p">为了安全性和隔离性，Traffic Director Mode中的Oracle Connection Manager提供：<ul style="list-style-type:disc">
                                 <li>
                                    <p>数据库代理支持传输控制协议/传输控制协议安全（TCP / TCPS）和协议转换</p>
                                 </li>
                                 <li>
                                    <p>防火墙基于IP地址，服务名称和安全套接字层/传输层安全性（SSL / TLS）钱包</p>
                                 </li>
                                 <li>
                                    <p>多租户环境中的租户隔离</p>
                                 </li>
                                 <li>
                                    <p>防止拒绝服务和模糊测试攻击</p>
                                 </li>
                                 <li>
                                    <p>跨Oracle数据库本地和Oracle Cloud安全地隧道传输数据库流量</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-41B25260-68F4-4080-A79D-7E2EA3670E5D" name="GUID-41B25260-68F4-4080-A79D-7E2EA3670E5D"></a><h4 id="JJDBC-GUID-41B25260-68F4-4080-A79D-7E2EA3670E5D" class="sect4"><span class="enumeration_section">2.10.3</span>流量控制器模式下Oracle Connection Manager的限制</h4>
                  <div>
                     <p></p>
                     <div class="section">
                        <p>流量控制器模式中的Oracle连接管理器不支持以下功能：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>分布式事务</p>
                           </li>
                           <li>
                              <p>高级排队（AQ）</p>
                           </li>
                           <li>
                              <p>数据库启动或数据库关闭调用</p>
                           </li>
                           <li>
                              <p>拆分</p>
                           </li>
                           <li>
                              <p>XML</p>
                           </li>
                           <li>
                              <p>SQL翻译</p>
                           </li>
                           <li>
                              <p>代理身份验证和SSL外部身份验证，例如LDAP中使用的专有名称（DN）</p>
                           </li>
                           <li>
                              <p>对象REF</p>
                           </li>
                           <li>
                              <p>会话切换</p>
                           </li>
                           <li>
                              <p>可滚动光标</p>
                           </li>
                           <li>
                              <p>每次迭代DML行计数</p>
                           </li>
                           <li>
                              <p>隐含的结果</p>
                           </li>
                           <li>
                              <p>连续查询通知（CQN）</p>
                           </li>
                           <li>
                              <p>客户端结果缓存</p>
                           </li>
                           <li>
                              <p>会话状态的PL / SQL回调修复数据库驻留连接池（DRCP）</p>
                           </li>
                           <li>
                              <p>数据库驻留连接池（DRCP）中的多个标记</p>
                           </li>
                           <li>
                              <p>应用程序连续性</p>
                           </li>
                           <li>
                              <p>身份验证如SYSDBA，SYSOPER等</p>
                           </li>
                           <li>
                              <p>真实应用安全</p>
                           </li>
                           <li>
                              <p>数据类型，如PL / SQL索引表绑定</p>
                           </li>
                           <li>
                              <p>批量复制（仅限ODP.Net）</p>
                           </li>
                           <li>
                              <p>自我调整（仅限ODP.Net）</p>
                           </li>
                           <li>
                              <p>ASO加密和支持的算法（仅限ASO）</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28075"></a><div class="props_rev_3"><a id="GUID-98F62472-1415-4099-A6B6-7C13C6AEC040" name="GUID-98F62472-1415-4099-A6B6-7C13C6AEC040"></a><h3 id="JJDBC-GUID-98F62472-1415-4099-A6B6-7C13C6AEC040" class="sect3"><span class="enumeration_section">2.11</span> JDBC程序中的存储过程调用</h3>
               <div>
                  <div class="section">
                     <p>本节介绍Oracle JDBC驱动程序如何支持以下类型的存储过程：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="JDBC-getting-started.html#GUID-E3DE7C3D-117B-498F-AA5D-159E9EC99770">PL / SQL存储过程</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-getting-started.html#GUID-DDC759FB-A823-4511-9846-F20EC3DA4FC0">Java存储过程</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28076"></a><div class="props_rev_3"><a id="GUID-E3DE7C3D-117B-498F-AA5D-159E9EC99770" name="GUID-E3DE7C3D-117B-498F-AA5D-159E9EC99770"></a><h4 id="JJDBC-GUID-E3DE7C3D-117B-498F-AA5D-159E9EC99770" class="sect4"><span class="enumeration_section">2.11.1</span> PL / SQL存储过程</h4>
                  <div>
                     <div class="section">
                        <p>JDBC支持使用JDBC转义语法或PL / SQL块语法调用PL / SQL过程/函数和匿名块。以下PL / SQL调用适用于任何Oracle JDBC驱动程序：</p><pre class="oac_no_warn" dir="ltr">// JDBC转义语法CallableStatement cs1 = conn.prepareCall（“{call proc（？，？）}“）; //存储过程CallableStatement cs2 = conn.prepareCall（”{？= call func（？，？）}“）; //存储的func // PL / SQL块语法CallableStatement cs3 = conn.prepareCall（”begin proc（？，？）;结束;“）; //存储过程CallableStatement cs4 = conn.prepareCall（”begin？：= func（？，？）;结束;“）; //存储的函数</pre><p>作为使用Oracle语法的示例，这里是一个PL / SQL代码片段，用于创建存储的函数。PL / SQL函数获取一个字符序列并将后缀连接到它：</p><pre class="oac_no_warn" dir="ltr">创建或替换函数foo（val1 char）返回char作为开始返回val1 || '后缀';结束;</pre><p>JDBC程序中的函数调用应如下所示：</p><pre class="oac_no_warn" dir="ltr">OracleDataSource ods = new OracleDataSource（）; ods.setURL（ “JDBC：预言：OCI：@ &lt;hoststring&gt;”）; ods.setUser（ “HR”）; ods.setPassword（ “HR”）; Connection conn = ods.getConnection（）; CallableStatement cs = conn.prepareCall（“begin？：= foo（？）;结束;“）; cs.registerOutParameter（1，类型。CHAR）; cs.setString（2，“aa”）; cs.execute（）; String result = cs.getString（1）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28077"></a><div class="props_rev_3"><a id="GUID-DDC759FB-A823-4511-9846-F20EC3DA4FC0" name="GUID-DDC759FB-A823-4511-9846-F20EC3DA4FC0"></a><h4 id="JJDBC-GUID-DDC759FB-A823-4511-9846-F20EC3DA4FC0" class="sect4"><span class="enumeration_section">2.11.2</span> Java存储过程</h4>
                  <div>
                     <div class="section">
                        <p><a id="d16478e2742" class="indexterm-anchor"></a><a id="d16478e2746" class="indexterm-anchor"></a>您可以使用JDBC通过SQL接口调用Java存储过程。调用Java存储过程的语法与调用PL / SQL存储过程的语法相同，假设它们已正确发布。也就是说，您已编写了调用规范，以将它们发布到Oracle数据字典中。应用程序可以使用Native Java Interface调用Java存储过程，以直接调用<code class="codeph">static</code> Java方法。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28080"></a><a id="JJDBC28078"></a><div class="props_rev_3"><a id="GUID-E187D04E-B48D-4394-9DC5-1ECEEBC53AFD" name="GUID-E187D04E-B48D-4394-9DC5-1ECEEBC53AFD"></a><h3 id="JJDBC-GUID-E187D04E-B48D-4394-9DC5-1ECEEBC53AFD" class="sect3"><span class="enumeration_section">2.12</span>关于处理SQL异常</h3>
               <div>
                  <p><a id="d16478e2779" class="indexterm-anchor"></a>为了处理错误条件，Oracle JDBC驱动程序抛出SQL异常，生成<code class="codeph">java.sql.实例<code class="codeph">java.sql.SQLException</code>类或其子类。错误可以源自JDBC驱动程序或数据库本身。生成的消息描述错误并识别引发错误的方法。还可以附加额外的运行时信息。
                  </p>
                  <p>JDBC 3.0仅定义了一个异常<code class="codeph">SQLException</code> 。但是，存在大量错误，区分它们很有用。因此，在JDBC 4.0中，引入了一组<code class="codeph">SQLException</code>异常的子类来标识不同类别的错误。
                  </p>
                  <p>基本异常处理可以包括检索错误消息，检索错误代码，检索SQL状态以及打印堆栈跟踪。<code class="codeph">SQLException</code>类包括在可用时检索所有这些信息的功能。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-E187D04E-B48D-4394-9DC5-1ECEEBC53AFD__GUID-F34DA044-72B6-439E-9DE9-2600DB623013">检索错误信息</p>
                     <p>您可以使用<code class="codeph">SQLException</code>类的以下方法检索基本错误信息：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">getMessage</code>类包括在可用时检索所有这些信息的功能。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">getErrorCode</code>类包括在可用时检索所有这些信息的功能。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">getSQLState</code>类包括在可用时检索所有这些信息的功能。
                           </p>
                        </li>
                     </ul>
                     <p>以下示例打印<code class="codeph">getMessage</code>方法调用的输出：</p><pre class="oac_no_warn" dir="ltr">catch（SQLException e）{System.out.println（“exception：”+ e.getMessage（））; }</pre><p>这将打印源自JDBC驱动程序的错误的输出，如下所示：</p><pre class="oac_no_warn" dir="ltr">异常：列类型无效</pre><div class="infoboxnote" id="GUID-E187D04E-B48D-4394-9DC5-1ECEEBC53AFD__GUID-A228B9C9-EEE8-405C-B4C2-87C6857609BE">
                        <p class="notep1">注意：</p>
                        <p>Oracle支持的备用语言和字符集中提供了错误消息文本。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E187D04E-B48D-4394-9DC5-1ECEEBC53AFD__GUID-D159D9A1-FD3C-4101-801D-CE713BF0F524">打印堆栈跟踪</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">SQLException</code>类提供用于打印堆栈跟踪的<code class="codeph">printStackTrace()</code>方法。此方法将<code class="codeph">Throwable</code>对象的堆栈跟踪打印到标准错误流。您还可以指定<code class="codeph">java.io.PrintStream</code>对象或<code class="codeph">java.io.PrintWriter</code>对象用于输出。
                     </p>
                     <p>以下代码片段说明了如何捕获SQL异常并打印堆栈跟踪。</p><pre class="oac_no_warn" dir="ltr">尝试{&lt; <span class="italic">some code&gt;</span> } catch（SQLException e）{e.printStackTrace（）; }</pre><p>为了说明JDBC驱动程序如何处理错误，假设以下代码使用了错误的列索引：</p><pre class="oac_no_warn" dir="ltr">//迭代结果并打印代码的员工姓名// try {while（rset.next（））System.out.println（rset.getString（5））; //不正确的列索引} catch（SQLException e）{e.printStackTrace（）; }</pre><p>假设列索引不正确，运行该程序将产生以下错误文本：</p><pre class="oac_no_warn" dir="ltr">java.sql中。SQLException：oracle.jdbc中的列索引无效。一个OracleDriver。Employee.main上的OracleResultSetImpl.getDate（OracleResultSetImpl.java:1556）（Employee.java:41）</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="JDBC-error-messages.html#GUID-4B127F75-44EE-4BF5-BA00-54A502A1EA06">JDBC错误消息</a></li>
                        <li><a href="../errmg/using-messages.html#ERRMG-GUID-CA5A766D-6CBF-4235-982F-86A6F34266CC" target="_blank"><span><cite>Oracle数据库错误消息参考</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="10329.ALTER-SYSTEM.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>改变系统</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ALTER-SYNONYM.html" title="Previous" type="text/html"></link>
      <link rel="next" href="ALTER-TABLE.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ALTER-SYNONYM.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="ALTER-TABLE.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-ALTER-SYNONYM-to-COMMENT.html" property="item" typeof="WebPage"><span property="name">SQL语句：ALTER SYNONYM to COMMENT</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">改变系统</li>
            </ol>
            <a id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB" name="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB"></a><a id="SQLRF53082"></a><a id="SQLRF53083"></a><a id="SQLRF53084"></a><a id="SQLRF53085"></a><a id="SQLRF53086"></a><a id="SQLRF53087"></a><a id="SQLRF53088"></a><a id="SQLRF53089"></a><a id="SQLRF56398"></a><a id="SQLRF53090"></a><a id="SQLRF55602"></a><a id="SQLRF53091"></a><a id="SQLRF53092"></a><a id="SQLRF53093"></a><a id="SQLRF53094"></a><a id="SQLRF53095"></a><a id="SQLRF53096"></a><a id="SQLRF53097"></a><a id="SQLRF53098"></a><a id="SQLRF53099"></a><a id="SQLRF53100"></a><a id="SQLRF53101"></a><a id="SQLRF53102"></a><a id="SQLRF53103"></a><a id="SQLRF53104"></a><a id="SQLRF53105"></a><a id="SQLRF53107"></a><a id="SQLRF53109"></a><a id="SQLRF53110"></a><a id="SQLRF53111"></a><a id="SQLRF53112"></a><a id="SQLRF53113"></a><a id="SQLRF53114"></a><a id="SQLRF53115"></a><a id="SQLRF53116"></a><a id="SQLRF56399"></a><a id="SQLRF53117"></a><a id="SQLRF53118"></a><a id="SQLRF53119"></a><a id="SQLRF53120"></a><a id="SQLRF53121"></a><a id="SQLRF53122"></a><a id="SQLRF53123"></a><a id="SQLRF53124"></a><a id="SQLRF53125"></a><a id="SQLRF53126"></a><a id="SQLRF53127"></a><a id="SQLRF53128"></a><a id="SQLRF53132"></a><a id="SQLRF53133"></a><a id="SQLRF53134"></a><a id="SQLRF53129"></a><a id="SQLRF53130"></a><a id="SQLRF53131"></a><a id="SQLRF56400"></a><a id="SQLRF56401"></a><a id="SQLRF56402"></a><a id="SQLRF53135"></a><a id="SQLRF53136"></a><a id="SQLRF53137"></a><a id="SQLRF53138"></a><a id="SQLRF53139"></a><a id="SQLRF53140"></a><a id="SQLRF55603"></a><a id="SQLRF55604"></a><a id="SQLRF55605"></a><a id="SQLRF53141"></a><a id="SQLRF53142"></a><a id="SQLRF53143"></a><a id="SQLRF53144"></a><a id="SQLRF53145"></a><a id="SQLRF53146"></a><a id="SQLRF53147"></a><a id="SQLRF53148"></a><a id="SQLRF56527"></a><a id="SQLRF53149"></a><a id="SQLRF53150"></a><a id="SQLRF53151"></a><a id="SQLRF53152"></a><a id="SQLRF56462"></a><a id="SQLRF53153"></a><a id="SQLRF53154"></a><a id="SQLRF53155"></a><a id="SQLRF53156"></a><a id="SQLRF53157"></a><a id="SQLRF53158"></a><a id="SQLRF53159"></a><a id="SQLRF53160"></a><a id="SQLRF53161"></a><a id="SQLRF53162"></a><a id="SQLRF53163"></a><a id="SQLRF53164"></a><a id="SQLRF53165"></a><a id="SQLRF53166"></a><a id="SQLRF00902"></a>
            
            <h2 id="SQLRF-GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB" class="sect2">改变系统</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-38054C20-C240-4DF4-9806-809D1E337C4F">目的</p>
                  <p>使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句动态更改Oracle数据库实例。只要装入数据库，设置就会一直有效。
                  </p>
                  <p>在多租户容器数据库（CDB）中使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句时，可以指定一些子句来整体更改CDB，并指定其他子句来更改特定的可插拔数据库（PDB）。
                  </p>
                  <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-037F519E-7B5D-4954-AD95-238870600CE1">
                     <p class="notep1">也可以看看：</p>
                     <p>有关在CDB中使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句的完整信息，请参见<a href="../multi/administering-pdbs-with-sql-plus.html#ADMIN13652" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-A1829720-DDD2-45C6-9698-9CF7F5E9D875">先决条件</p>
                  <p>要指定<code class="codeph">RELOCATE</code> <code class="codeph">CLIENT</code>子句，必须通过<code class="codeph">AS</code> <code class="codeph">SYSASM</code>进行身份验证。</p>
                  <p>要指定所有其他子句，您必须具有<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>系统特权。
                  </p>
                  <p>如果您连接到CDB：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>要整体更改CDB，当前容器必须是root，并且必须具有通常授予的<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>权限。
                        </p>
                     </li>
                     <li>
                        <p>要更改PDB，当前容器必须是PDB，并且您必须具有<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>权限，可以在PDB中共同授予或在本地授予。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-7033F523-B61E-491E-A0E5-F9C8F7B0B81F">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-3CDE1C01-50B0-4A9D-8834-C6B5A43494B5"><span class="italic">alter_system</span> :: =</p>
                  <div class="figure" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-929C88B5-F4C1-4B67-B25B-2832066E978E"><img src="img/alter_system.gif" alt="alter_system.eps的描述如下" title="alter_system.eps的描述如下" longdesc="img_text/alter_system.html"><br><a href="img_text/alter_system.html">alter_system.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2282125">archive_log_clause :: =</a></span> ， <span class="italic"><a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2282129">checkpoint_clause :: =</a></span> ， <span class="italic"><a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2282133">check_datafiles_clause :: =</a></span> ， <span class="italic"><a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2282137">distributed_recov_clauses :: =</a></span> ， <span class="italic"><a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2282145">end_session_clauses :: =</a></span> ， <span class="italic"><a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2282149">quiesce_clauses :: =</a></span> ， <span class="italic"><a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__BABEEJEG">rolling_migration_clauses :: =</a></span> ， <span class="italic"><a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__CCHFHEDI">rolling_patch_clauses :: =</a></span> ， <span class="italic"><a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__BGBDGHJA">security_clauses :: =</a></span> ， <span class="italic"><a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2282153">shutdown_dispatcher_clause :: =</a></span> ， <span class="italic"><a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2282157">alter_system_set_clause :: =</a></span> ， <span class="italic"><a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2295494">alter_system_reset_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2282125">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-0B2B5598-4C9E-4819-A8D1-2B80C4A83EDB"><span class="italic">archive_log_clause</span> :: =</p>
                  <div class="figure" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-774593E3-588C-494B-B1DE-AAEE673093C9"><img src="img/archive_log_clause.gif" alt="archive_log_clause.eps的描述如下" title="archive_log_clause.eps的描述如下" longdesc="img_text/archive_log_clause.html"><br><a href="img_text/archive_log_clause.html">插图描述archive_log_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2282129">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-D3568BAB-ACCD-49A6-866A-EF6020884E49"><span class="italic">checkpoint_clause</span> :: =</p>
                  <div class="figure" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-5ED6BCED-6154-4D99-9646-797B6077AB2D"><img src="img/checkpoint_clause.gif" alt="checkpoint_clause.eps的描述如下" title="checkpoint_clause.eps的描述如下" longdesc="img_text/checkpoint_clause.html"><br><a href="img_text/checkpoint_clause.html">checkpoint_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2282133">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-4B8FC494-BB16-42DF-84A1-9CC611EB4C15"><span class="italic">check_datafiles_clause</span> :: =</p>
                  <div class="figure" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-F0554BA7-8664-48B1-A8B4-BD527FFA09DF"><img src="img/check_datafiles_clause.gif" alt="check_datafiles_clause.eps的描述如下" title="check_datafiles_clause.eps的描述如下" longdesc="img_text/check_datafiles_clause.html"><br><a href="img_text/check_datafiles_clause.html">插图说明check_datafiles_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2282137">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-484BDD79-BA73-45B4-8DE0-C9FB8FA2F248"><span class="italic">distributed_recov_clauses</span> :: =</p>
                  <div class="figure" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-23C8712B-F1D1-46A6-B2C8-CBCE95A519EE"><img src="img/distributed_recov_clauses.gif" alt="下面是distributed_recov_clauses.eps的描述" title="下面是distributed_recov_clauses.eps的描述" longdesc="img_text/distributed_recov_clauses.html"><br><a href="img_text/distributed_recov_clauses.html">插图描述distributed_recov_clauses.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2282145">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-E930C027-412F-4E3E-A092-C3A130A65374"><span class="italic">end_session_clauses</span> :: =</p>
                  <div class="figure" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-1DE083FB-366D-44B3-A00D-988AAA3BA5D1"><img src="img/end_session_clauses.gif" alt="下面是end_session_clauses.eps的描述" title="下面是end_session_clauses.eps的描述" longdesc="img_text/end_session_clauses.html"><br><a href="img_text/end_session_clauses.html">插图描述end_session_clauses.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2282149">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-67F1C1CF-10A3-4C10-90C3-D37CD337EE78"><span class="italic">quiesce_clauses</span> :: =</p>
                  <div class="figure" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-FDC78CF1-138E-4EAF-ADC7-94ECE0D332FB"><img src="img/quiesce_clauses.gif" alt="下面是quiesce_clauses.eps的描述" title="下面是quiesce_clauses.eps的描述" longdesc="img_text/quiesce_clauses.html"><br><a href="img_text/quiesce_clauses.html">插图描述quiesce_clauses.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__BABEEJEG">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-E99E45B0-6E8D-4F5A-B735-70BAC5E6892C"><span class="italic">rolling_migration_clauses</span> :: =</p>
                  <div class="figure" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-65421FAD-8282-4B32-99FC-18E3BCE03909"><img src="img/rolling_migration_clauses.gif" alt="下面是对rolling_migration_clauses.eps的描述" title="下面是对rolling_migration_clauses.eps的描述" longdesc="img_text/rolling_migration_clauses.html"><br><a href="img_text/rolling_migration_clauses.html">roll_migration_clauses.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__CCHFHEDI">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-B2874716-2C93-4C0C-BA5B-E6CFEADD1324"><span class="italic">rolling_patch_clauses</span> :: =</p>
                  <div class="figure" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-2AE129FE-3D95-4DD2-8635-DA239CDCB588"><img src="img/rolling_patch_clauses.gif" alt="下面是对rolling_patch_clauses.eps的描述" title="下面是对rolling_patch_clauses.eps的描述" longdesc="img_text/rolling_patch_clauses.html"><br><a href="img_text/rolling_patch_clauses.html">roll_patch_clauses.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__BGBDGHJA">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-001A210A-FB59-4DE5-8429-2635C15C6909"><span class="italic">security_clauses</span> :: =</p>
                  <div class="figure" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-6D7811B7-56DE-4869-BC06-C2E5DAA58D15"><img src="img/security_clauses.gif" alt="security_clauses.eps的描述如下" title="security_clauses.eps的描述如下" longdesc="img_text/security_clauses.html"><br><a href="img_text/security_clauses.html">插图描述security_clauses.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-9A8972BF-1F65-464D-B75A-0ACD9D17FD1B"><span class="italic">affinity_clauses</span> :: =</p>
                  <div class="figure" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-2E2D4F1E-5511-43D3-A2AA-621D8C9EFC32"><img src="img/affinity_clauses.gif" alt="affinity_clauses.eps的描述如下" title="affinity_clauses.eps的描述如下" longdesc="img_text/affinity_clauses.html"><br><a href="img_text/affinity_clauses.html">说明affinity_clauses.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-E256DA25-557E-4FD8-B05D-46B333843AAC"><span class="italic">set_encryption_key</span> :: =</p>
                  <div class="figure" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-AA255934-35A0-4B71-B5B9-15507D795771"><img src="img/set_encryption_key.gif" alt="下面是set_encryption_key.eps的描述" title="下面是set_encryption_key.eps的描述" longdesc="img_text/set_encryption_key.html"><br><a href="img_text/set_encryption_key.html">插图描述set_encryption_key.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2282153">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-2D2E45BF-BC35-400A-9EBE-C8466B45C3BD"><span class="italic">shutdown_dispatcher_clause</span> :: =</p>
                  <div class="figure" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-08852810-3D4E-4F68-A9F0-0961BD3C3CF6"><img src="img/shutdown_dispatcher_clause.gif" alt="shutdown_dispatcher_clause.eps的描述如下" title="shutdown_dispatcher_clause.eps的描述如下" longdesc="img_text/shutdown_dispatcher_clause.html"><br><a href="img_text/shutdown_dispatcher_clause.html">说明shutdown_dispatcher_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2282157">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-C67C33F9-ACE8-48FA-8C5F-7BA8A015EA28"><span class="italic">alter_system_set_clause</span> :: =</p>
                  <div class="figure" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-3369F8A7-7AA9-4677-813F-6FFB39CC56EB"><img src="img/alter_system_set_clause.gif" alt="alter_system_set_clause.eps的描述如下" title="alter_system_set_clause.eps的描述如下" longdesc="img_text/alter_system_set_clause.html"><br><a href="img_text/alter_system_set_clause.html">说明alter_system_set_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-C82EFE90-54C8-4E76-BE45-EEFDF7EA43BF"><span class="italic">set_parameter_clause</span> :: =</p>
                  <div class="figure" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-E1DA9C51-A918-4D03-BFD4-F45C80DBDFC3"><img src="img/set_parameter_clause.gif" alt="下面是set_parameter_clause.eps的描述" title="下面是set_parameter_clause.eps的描述" longdesc="img_text/set_parameter_clause.html"><br><a href="img_text/set_parameter_clause.html">插图描述set_parameter_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2295494">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-35875E93-F1FB-46B7-97F8-EF701FBADE87"><span class="italic">alter_system_reset_clause</span> :: =</p>
                  <div class="figure" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-466C5917-43B7-4A1D-B669-C73595E76D87"><img src="img/alter_system_reset_clause.gif" alt="alter_system_reset_clause.eps的描述如下" title="alter_system_reset_clause.eps的描述如下" longdesc="img_text/alter_system_reset_clause.html"><br><a href="img_text/alter_system_reset_clause.html">说明alter_system_reset_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-34815EAA-7D31-40F4-A14E-44C16D03D134">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-96B4C9E8-8F56-4077-9F11-5FD67421AEA2"><span class="italic">archive_log_clause</span></p>
                  <p><span class="italic"><code class="codeph">archive_log_clause</code></span>手动归档重做日志文件或启用或禁用自动归档。要使用此子句，您的实例必须安装数据库。除非另有说明，否则数据库可以是打开的或关闭的。
                  </p>
                  <p><span class="bold">实例条款</span></p>
                  <p>仅当您使用Oracle Real Application Clusters（Oracle RAC）时，此子句才有意义。指定要将重做日志文件组归档到的实例的名称。实例名称是一个最多80个字符的字符串。Oracle数据库自动确定映射到指定实例的线程，并归档相应的重做日志文件组。如果没有线程映射到指定的实例，则Oracle数据库会返回错误。</p>
                  <p><span class="bold">SEQUENCE条款</span> <a id="d251378e517" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">SEQUENCE</code>以手动归档由指定线程中的日志序列号<span class="italic"><code class="codeph">integer</code></span>标识的联机重做日志文件组。如果省略<code class="codeph">THREAD</code>参数，则Oracle Database将从分配给您的实例的线程中归档指定的组。
                  </p>
                  <p><span class="bold">改变条款</span> <a id="d251378e539" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">CHANGE</code>以手动归档包含重做日志条目的联机重做日志文件组，并在指定的线程中使用<span class="italic"><code class="codeph">integer</code></span>指定的系统更改编号（SCN）。如果SCN位于当前重做日志文件组中，则Oracle数据库会执行日志切换。如果省略<code class="codeph">THREAD</code>参数，则Oracle Database将从所有启用的线程归档包含此SCN的组。
                  </p>
                  <p>只有在实例打开数据库时才能使用此子句。</p>
                  <p><span class="bold">当前条款</span> <a id="d251378e563" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">CURRENT</code>以手动归档指定线程的当前重做日志文件组，强制执行日志切换。如果省略<code class="codeph">THREAD</code>参数，则Oracle Database会归档所有已启用线程中的所有重做日志文件组，包括当前日志之前的日志。只有在数据库打开时才能指定<code class="codeph">CURRENT</code> 。
                  </p>
                  <p><span class="bold">NOSWITCH</span></p>
                  <p>如果要手动归档当前重做日志文件组而不强制执行日志切换，请指定<code class="codeph">NOSWITCH</code> 。此设置主要用于备用数据库，以防止主数据库关闭时的数据差异。分歧意味着在主数据库发生故障时数据丢失的可能性。
                  </p>
                  <p>仅当实例已装入数据库但未打开时，才能使用<code class="codeph">NOSWITCH</code>子句。如果数据库已打开，则此操作将自动关闭数据库。然后，必须先手动关闭数据库，然后才能重新打开它。
                  </p>
                  <p><span class="bold">小组条款</span> <a id="d251378e598" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">GROUP</code>以使用<span class="italic"><code class="codeph">integer</code></span>指定的<code class="codeph">GROUP</code>值手动归档联机重做日志文件组。您可以通过查询动态性能视图<code class="codeph">V$LOG</code>来确定重做日志文件组的<code class="codeph">GROUP</code>值。如果同时指定<code class="codeph">THREAD</code>和<code class="codeph">GROUP</code>参数，则指定的重做日志文件组必须位于指定的线程中。
                  </p>
                  <p><span class="bold">LOGFILE子句</span></p>
                  <p>指定<code class="codeph">LOGFILE</code>以手动归档包含由' <span class="italic"><code class="codeph">filename</code></span> '标识的重做日志文件成员的联机重做日志文件组。如果同时指定<code class="codeph">THREAD</code>和<code class="codeph">LOGFILE</code>参数，则指定的重做日志文件组必须位于指定的线程中。
                  </p>
                  <p>如果数据库装有备份控制文件，则指定<code class="codeph">USING</code> <code class="codeph">BACKUP</code> <code class="codeph">CONTROLFILE</code>以允许存档所有在线日志文件，包括当前日志文件。
                  </p>
                  <p><span class="bold">对LOGFILE子句的限制</span></p>
                  <p>您必须按重做日志文件组的填充顺序对其进行存档。如果使用<code class="codeph">LOGFILE</code>参数指定要进行归档的重做日志文件组，并且尚未归档先前的重做日志文件组，则Oracle数据库将返回错误。
                  </p>
                  <p><span class="bold">下一条款</span> <a id="d251378e670" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">NEXT</code>以手动归档指定的已完成但尚未归档的线程的下一个联机重做日志文件组。如果省略<code class="codeph">THREAD</code>参数，则Oracle Database会从任何已启用的线程归档最早的未归档重做日志文件组。
                  </p>
                  <p><span class="bold">所有条款</span> <a id="d251378e689" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">ALL</code>以手动归档指定线程中已满但尚未归档的所有联机重做日志文件组。如果省略<code class="codeph">THREAD</code>参数，则Oracle Database将从所有启用的线程归档所有完整的未归档重做日志文件组。
                  </p>
                  <p><span class="bold">到</span> <span class="bold"><span class="italic">位置</span></span> <span class="bold">条款</span> <a id="d251378e714" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">TO</code> “ <span class="italic"><code class="codeph">location</code></span> ”，来表示重做日志文件组归档的首要位置。此参数的值必须是遵循操作系统约定的完全指定的文件位置。如果省略此参数，则Oracle数据库会将重做日志文件组归档到初始化参数<code class="codeph">LOG_ARCHIVE_DEST</code>或<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>指定的位置。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-8D77F079-392B-42BD-904E-84D4D9DACB1E"><span class="italic">checkpoint_clause</span></p>
                  <p><a id="d251378e741" class="indexterm-anchor"></a><a id="d251378e745" class="indexterm-anchor"></a>指定<code class="codeph">CHECKPOINT</code>以显式强制Oracle Database执行检查点，确保将已提交事务所做的所有更改写入磁盘上的数据文件。只有在实例打开数据库时才能指定此子句。在检查点完成之前，Oracle数据库不会向您返回控制权。
                  </p>
                  <p><span class="bold">全球</span></p>
                  <p>在Oracle Real Application Clusters（Oracle RAC）环境中，此设置使Oracle数据库为已打开数据库的所有实例执行检查点。这是默认值。</p>
                  <p><span class="bold">本地</span></p>
                  <p>在Oracle RAC环境中，此设置使Oracle数据库仅对发出该语句的实例的重做日志文件组的线程执行检查点。</p>
                  <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-EDD01DF7-4610-4DE9-8A50-9D81011E77E2">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198447">强制检查点：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-654DB2D4-4B15-4DE3-9D14-AC8030DA2822"><span class="italic">check_datafiles_clause</span></p>
                  <p><a id="d251378e774" class="indexterm-anchor"></a><a id="d251378e778" class="indexterm-anchor"></a><a id="d251378e782" class="indexterm-anchor"></a><a id="d251378e786" class="indexterm-anchor"></a>在分布式数据库系统（如Oracle RAC环境）中，此子句从数据库控制文件更新实例的SGA，以反映有关所有在线数据文件的信息。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">GLOBAL</code>以对已打开数据库的所有实例执行此同步。这是默认值。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">LOCAL</code>仅对本地实例执行此同步。
                        </p>
                     </li>
                  </ul>
                  <p>您的实例应该打开数据库。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-5949E3B8-51F0-4068-8A8C-F3BE1787982B"><span class="italic">distributed_recov_clauses</span></p>
                  <p><a id="d251378e811" class="indexterm-anchor"></a><a id="d251378e815" class="indexterm-anchor"></a><a id="d251378e819" class="indexterm-anchor"></a> <code class="codeph">DISTRIBUTED</code> <code class="codeph">RECOVERY</code>子句允许您启用或禁用分布式恢复。要使用此子句，您的实例必须打开数据库。
                  </p>
                  <p><span class="bold">ENABLE</span></p>
                  <p>指定<code class="codeph">ENABLE</code>以启用分布式恢复。在单进程环境中，必须使用此子句来启动分布式恢复。
                  </p>
                  <p>如果无法访问事务中涉及的远程节点，则可能需要多次发出<code class="codeph">ENABLE</code> <code class="codeph">DISTRIBUTED</code> <code class="codeph">RECOVERY</code>语句以恢复不确定事务。<code class="codeph">DBA_2PC_PENDING</code>事务显示在数据字典视图<code class="codeph">DBA_2PC_PENDING</code> 。</p>
                  <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-89701B04-EAEB-4BF6-BCCD-07465274BEE4">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198571">启用分布式恢复：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold">DISABLE</span></p>
                  <p>指定<code class="codeph">DISABLE</code>以禁用分布式恢复。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-2F03FA6D-8874-4232-A74A-2BFE8E99E488">FLUSH SHARED_POOL条款</p>
                  <p><a id="d251378e869" class="indexterm-anchor"></a><a id="d251378e873" class="indexterm-anchor"></a><a id="d251378e877" class="indexterm-anchor"></a> <code class="codeph">FLUSH</code> <code class="codeph">SHARED_POOL</code>子句允许您从系统全局区域（SGA）中的共享池中清除数据。共享池存储：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>缓存数据字典信息和</p>
                     </li>
                     <li>
                        <p>SQL语句，存储过程，函数，包和触发器的共享SQL和PL / SQL区域。</p>
                     </li>
                  </ul>
                  <p>此语句不会清除全局应用程序上下文信息，也不会清除当前正在执行的项目的共享SQL和PL / SQL区域。无论您的实例是卸载还是挂载，打开或关闭数据库，都可以使用此子句。</p>
                  <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-DA761752-9A83-4581-B501-BD49EBBC23EE">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2054578">清除共享池：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-AB860571-A58F-4CCB-B0C0-96AADD9BDDEA">FLUSH GLOBAL CONTEXT子句</p>
                  <p><a id="d251378e906" class="indexterm-anchor"></a><a id="d251378e910" class="indexterm-anchor"></a><a id="d251378e914" class="indexterm-anchor"></a> <code class="codeph">FLUSH</code> <code class="codeph">GLOBAL</code> <code class="codeph">CONTEXT</code>子句允许您从系统全局区域（SGA）中的共享池中清除所有全局应用程序上下文信息。无论您的实例是卸载还是挂载，打开或关闭数据库，都可以使用此子句。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-C66C3ACF-5DE1-47B0-B701-1A4CEAF6DCC8">FLUSH BUFFER_CACHE条款</p>
                  <p><a id="d251378e932" class="indexterm-anchor"></a><a id="d251378e936" class="indexterm-anchor"></a><a id="d251378e940" class="indexterm-anchor"></a> <code class="codeph">FLUSH</code> <code class="codeph">BUFFER_CACHE</code>子句允许您清除系统全局区域（SGA）中缓冲区高速缓存的所有数据，包括<code class="codeph">KEEP</code> ， <code class="codeph">RECYCLE</code>和<code class="codeph">DEFAULT</code>缓冲池。
                  </p>
                  <div class="infoboxnote" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-47FC4E79-EB7B-4507-9786-667224511D5E">
                     <p class="notep1">注意：</p>
                     <p>本节仅适用于测试数据库。不要在生产数据库上使用此子句，因为作为此语句的结果，后续查询将没有命中，只有未命中。</p>
                  </div>
                  <p>如果您需要测量重写查询的性能或来自相同起点的一组查询，则此子句非常有用。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-FB3EE796-D754-406A-8EA1-B11920D14416">FLUSH FLASH_CACHE条款</p>
                  <p>使用<code class="codeph">FLUSH</code> <code class="codeph">FLASH_CACHE</code>子句刷新数据库智能闪存缓存。如果您需要测量重写查询的性能或来自相同起点的一组查询，或者缓存中是否存在损坏，则此子句非常有用。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-CBDBD1D1-188B-432B-881E-617B45E21482">FLUSH REDO条款</p>
                  <p><a id="d251378e981" class="indexterm-anchor"></a>使用<code class="codeph">FLUSH</code> <code class="codeph">REDO</code>子句将重做数据从主数据库刷新到备用数据库，并可选择等待刷新的重做数据应用于物理或逻辑备用数据库。
                  </p>
                  <p>即使主数据库不处于零数据丢失数据保护模式，此子句也允许在目标备用数据库上执行故障转移而不会丢失数据，前提是主数据库生成的所有重做数据都可以刷新到备用数据库。</p>
                  <p>必须在已安装但未打开的主数据库上发出<code class="codeph">FLUSH</code> <code class="codeph">REDO</code>子句。
                  </p>
                  <p><span class="bold"><span class="italic">target_db_name</span></span></p>
                  <p>对于<span class="italic"><code class="codeph">target_db_name</code></span> ，指定备用数据库的<code class="codeph">DB_UNIQUE_NAME</code> ，该数据库将接收从主数据库刷新的重做数据。
                  </p>
                  <p>与目标备用数据库对应的<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>数据库初始化参数的值必须包含<code class="codeph">DB_UNIQUE_NAME</code>属性，并且该属性的值必须与目标备用数据库的<code class="codeph">DB_UNIQUE_NAME</code>匹配。
                  </p>
                  <p><span class="bold">不确认申请</span></p>
                  <p>如果指定此子句，则在备用数据库收到所有刷新的重做数据之前， <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句将不会完成。如果目标备用数据库是快照备用数据库，则必须指定此子句。
                  </p>
                  <p><span class="bold">确认申请</span></p>
                  <p>如果指定此子句，则在目标备用数据库收到并应用所有刷新的重做数据之前， <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句将不会完成。除非您指定<code class="codeph">NO</code> <code class="codeph">CONFIRM</code> <code class="codeph">APPLY</code>否则这是默认行为。如果目标备用数据库是快照备用数据库，则不能指定此子句。
                  </p>
                  <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-C434C468-0E29-4260-BAA5-31164EA6D663">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">FLUSH</code> <code class="codeph">REDO</code>子句和故障转移的详细信息，请参阅<a href="../sbydb/sql-statements-used-by-oracle-data-guard.html#SBYDB01222" target="_blank"><span class="italic">Oracle Data Guard概念和管理</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-59CD70AD-C2DD-4A59-B678-C942985160F9"><span class="italic">end_session_clauses</span></p>
                  <p><span class="italic"><code class="codeph">end_session_clauses</code></span>为您提供了几种结束当前会话的方法。
                  </p>
                  <p><span class="bold">断开会议条款</span> <a id="d251378e1088" class="indexterm-anchor"></a><a id="d251378e1092" class="indexterm-anchor"></a><a id="d251378e1096" class="indexterm-anchor"></a></p>
                  <p>使用<code class="codeph">DISCONNECT</code> <code class="codeph">SESSION</code>子句通过销毁专用服务器进程（如果通过共享服务器建立连接，则断开虚拟电路）来断开当前会话。要使用此子句，您的实例必须打开数据库。您必须使用<code class="codeph">V$SESSION</code>视图中的以下两个值标识会话：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于<span class="italic"><code class="codeph">integer1</code></span> ，请指定<code class="codeph">SID</code>列的值。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">integer2</code></span> ，请指定<code class="codeph">SERIAL#</code>列的值。
                        </p>
                     </li>
                  </ul>
                  <p>如果系统参数已正确配置，则应用程序故障转移将生效。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">POST_TRANSACTION</code>设置允许在断开会话之前完成正在进行的事务。如果会话没有正在进行的事务，则此子句具有与<code class="codeph">KILL</code> <code class="codeph">SESSION</code>相同的效果。</p>
                     </li>
                     <li>
                        <p><code class="codeph">IMMEDIATE</code>设置会断开会话并立即恢复整个会话状态，而无需等待正在进行的事务完成。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果还指定了<code class="codeph">POST_TRANSACTION</code>并且会话具有正在进行的事务，则忽略<code class="codeph">IMMEDIATE</code>关键字。
                              </p>
                           </li>
                           <li>
                              <p>如果未指定<code class="codeph">POST_TRANSACTION</code> ，或者指定了<code class="codeph">POST_TRANSACTION</code>但会话没有正在进行的事务，则此子句与针对<code class="codeph">KILL</code> <code class="codeph">SESSION</code> <code class="codeph">IMMEDIATE</code>描述的效果相同。</p>
                              <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-7304C797-4601-4B21-B28C-C22EC50C645B">
                                 <p class="notep1">也可以看看：</p>
                                 <p><span class="q">“ <a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198603">断开会话：示例</a> ”</span></p>
                              </div>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p><span class="bold">KILL SESSION条款</span> <a id="d251378e1190" class="indexterm-anchor"></a><a id="d251378e1194" class="indexterm-anchor"></a><a id="d251378e1198" class="indexterm-anchor"></a><a id="d251378e1202" class="indexterm-anchor"></a><a id="d251378e1206" class="indexterm-anchor"></a></p>
                  <p><code class="codeph">KILL</code> <code class="codeph">SESSION</code>子句允许您<code class="codeph">KILL</code>话标记为已终止，回滚正在进行的事务，释放所有会话锁定以及部分恢复会话资源。要使用此子句，您的实例必须打开数据库。除非指定<span class="italic"><code class="codeph">integer3</code></span>否则您的会话和要终止的会话必须位于同一实例上。您必须使用<code class="codeph">V$SESSION</code>视图中的以下值标识会话：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于<span class="italic"><code class="codeph">integer1</code></span> ，请指定<code class="codeph">SID</code>列的值。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">integer2</code></span> ，请指定<code class="codeph">SERIAL#</code>列的值。
                        </p>
                     </li>
                     <li>
                        <p>对于可选的<span class="italic"><code class="codeph">integer3</code></span> ，请指定要杀死目标会话的实例的ID。您可以通过查询GV $表来查找实例ID。
                        </p>
                     </li>
                  </ul>
                  <p>如果会话正在执行必须完成的某些活动，例如等待远程数据库的回复或回滚事务，则Oracle数据库等待此活动完成，将会话标记为已终止，然后将控制权返回给您。如果等待持续一分钟，则Oracle数据库会标记会话终止并将控制权返回给您，并显示会话标记为已终止的消息。然后， <code class="codeph">PMON</code>后台进程将会话标记为活动完成时终止。
                  </p>
                  <p>无论会话是否具有正在进行的事务，Oracle数据库都不会恢复整个会话状态，直到会话用户向会话发出请求并收到会话已终止的消息。</p>
                  <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-BCCA0608-383E-448D-90CA-71AF06441E8C">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2260288">终止会话：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold">即时</span></p>
                  <p>指定<code class="codeph">IMMEDIATE</code>以指示Oracle数据库回滚正在进行的事务，释放所有会话锁定，恢复整个会话状态，并立即将控制权返回给您。
                  </p>
                  <p><span class="bold">NOREPLAY</span></p>
                  <p>如果您使用的是应用程序连续性，则此子句有效。当连接到启用了应用程序连续性的服务（即<code class="codeph">FAILOVER_TYPE</code> <code class="codeph">=</code> <code class="codeph">TRANSACTION</code> ）时，会话在会话失败或被终止后恢复。如果您不想在终止会话后恢复会话，请指定<code class="codeph">NOREPLAY</code> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-6F8D7AD6-97E1-4908-BB8E-3E34E6B8EF8C">SWITCH LOGFILE子句</p>
                  <p><a id="d251378e1295" class="indexterm-anchor"></a><a id="d251378e1299" class="indexterm-anchor"></a>无论当前重做日志文件组中的文件是否已满， <code class="codeph">SWITCH</code> <code class="codeph">LOGFILE</code>子句都允许您显式强制Oracle数据库开始写入新的重做日志文件组。强制执行日志切换时，Oracle数据库会开始执行检查点，但会立即将控制权返回给您，而不是在检查点完成时。要使用此子句，您的实例必须打开数据库。
                  </p>
                  <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-9B2BDBAD-51D9-4373-8893-2DD082971DD0">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198556">强制日志切换：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-35737C5A-914C-4FC9-AFE9-E8445E823F8D">暂停|恢复</p>
                  <p><a id="d251378e1319" class="indexterm-anchor"></a><a id="d251378e1323" class="indexterm-anchor"></a><a id="d251378e1327" class="indexterm-anchor"></a><a id="d251378e1331" class="indexterm-anchor"></a> <code class="codeph">SUSPEND</code>子句允许您暂停所有I / O（数据文件，控制文件和文件头）以及查询，在所有情况下，使您可以创建数据库的副本，而无需处理正在进行的事务。
                  </p>
                  <p><span class="bold">对SUSPEND和RESUME的限制</span></p>
                  <p><code class="codeph">SUSPEND</code>和<code class="codeph">RESUME</code>受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>除非已将数据库表空间置于热备份模式，否则请勿使用此子句。</p>
                     </li>
                     <li>
                        <p>不要终止发出<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">SUSPEND</code>语句的会话。由于在<code class="codeph">SYS</code>登录期间运行的递归SQL，尝试在系统挂起时重新连接可能会失败。
                        </p>
                     </li>
                     <li>
                        <p>如果在系统挂起时启动新实例，则不会挂起该新实例。</p>
                     </li>
                  </ul>
                  <p><code class="codeph">RESUME</code>子句允许您再次为查询和I / O提供数据库。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-60B83ED9-EF9A-4D98-A843-784D4A938FC8"><span class="italic">quiesce_clauses</span></p>
                  <p><a id="d251378e1381" class="indexterm-anchor"></a><a id="d251378e1385" class="indexterm-anchor"></a><a id="d251378e1389" class="indexterm-anchor"></a><a id="d251378e1393" class="indexterm-anchor"></a><a id="d251378e1399" class="indexterm-anchor"></a><a id="d251378e1403" class="indexterm-anchor"></a>使用<code class="codeph">QUIESCE</code> <code class="codeph">RESTRICTED</code>和<code class="codeph">UNQUIESCE</code>子句将数据库放入并将其从<span class="bold">静止状态中</span>取出。此状态使数据库管理员能够执行在存在并发事务，查询或PL / SQL操作时无法安全执行的管理操作。
                  </p>
                  <div class="infoboxnote" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-F40CB0CE-5006-45DA-A960-CDFFE64E0C0F">
                     <p class="notep1">注意：</p>
                     <p><code class="codeph">QUIESCE</code> <code class="codeph">RESTRICTED</code>子句仅在安装了数据库资源管理器时才有效，并且仅当资源管理器自打开数据库的任何实例中的数据库启动以来一直处于打开状态时才有效。
                     </p>
                  </div>
                  <p>如果多个<code class="codeph">QUIESCE</code> <code class="codeph">RESTRICTED</code>或<code class="codeph">UNQUIESCE</code>语句同时从不同的会话或实例发出，则除了一个之外的所有语句都将收到错误。
                  </p>
                  <p><span class="bold">QUIESCE RESTRICTED</span></p>
                  <p>指定<code class="codeph">QUIESCE</code> <code class="codeph">RESTRICTED</code>以将数据库置于静默状态。对于打开数据库的所有实例，此子句具有以下效果：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Oracle数据库在所有实例中指示数据库资源管理器，以防止所有非活动会话（ <code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code>除外）变为活动状态。除<code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code>之外的任何用户都不能启动新事务，新查询，新提取或新PL / SQL操作。
                        </p>
                     </li>
                     <li>
                        <p>Oracle数据库等待由<code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code>以外的用户启动的所有实例中的所有现有事务（提交或中止）。Oracle数据库还等待由<code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code>以外的用户启动且不在事务内部完成的所有实例中的所有正在运行的查询，提取和PL / SQL过程。如果通过多个连续的OCI提取执行查询，则Oracle数据库不会等待所有提取完成。它等待当前的提取完成，然后阻止下一次提取。Oracle数据库还等待拥有任何共享资源（如队列）的所有会话（ <code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code>除外）以释放这些资源。完成所有这些操作后，Oracle数据库将数据库置于静默状态，并完成执行<code class="codeph">QUIESCE</code> <code class="codeph">RESTRICTED</code>语句。
                        </p>
                     </li>
                     <li>
                        <p>如果实例以共享服务器模式运行，则Oracle数据库会指示数据库资源管理器阻止该实例上的登录（ <code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code>除外）。如果实例在非共享服务器模式下运行，则Oracle数据库不会对该实例中的用户登录施加任何限制。
                        </p>
                     </li>
                  </ul>
                  <p>在停顿状态期间，您无法在任何实例中更改资源管理器计划。</p>
                  <p><span class="bold">UNQUIESCE</span></p>
                  <p>指定<code class="codeph">UNQUIESCE</code>以使数据库退出静默状态。这样做允许再次执行由<code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code>以外的用户启动的事务，查询，提取和PL / SQL过程。<code class="codeph">UNQUIESCE</code>语句不必源自发出<code class="codeph">QUIESCE</code> <code class="codeph">RESTRICTED</code>语句的同一会话。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-0DC38956-6424-4253-AB44-468D3DFAD468"><span class="italic">rolling_migration_clauses</span></p>
                  <p><a id="d251378e1535" class="indexterm-anchor"></a>在集群Oracle自动存储管理（Oracle ASM）环境中使用这些子句将一个节点一次迁移到不同的Oracle ASM版本，而不会影响Oracle ASM集群或使用Oracle ASM进行存储的数据库集群的整体可用性。
                  </p>
                  <p><span class="bold">开始滚动移民</span></p>
                  <p>在开始滚动升级时，对于<span class="italic"><code class="codeph">ASM_version</code></span> ，您必须指定以下字符串：</p><pre class="oac_no_warn" dir="ltr">'&lt;version_num&gt;，&lt;release_num&gt;，&lt;update_num&gt;，&lt;port_release_num&gt;，&lt;port_update_num&gt;'</pre><p><span class="italic"><code class="codeph">ASM_version</code></span>必须等于或大于11.1.0.0.0。周围的单引号是必需的。Oracle ASM首先验证当前版本是否兼容迁移到指定版本，然后进入受限功能模式。然后，Oracle ASM确定群集中的任何位置是否正在进行任何重新平衡操作。如果存在任何此类操作，则语句将失败，并且必须在重新平衡操作完成后重新发布。
                  </p>
                  <p>滚动升级模式是群集范围内的内存持久状态。群集继续处于此状态，直到群集中至少运行一个Oracle ASM实例。加入群集的任何新实例在启动时立即切换到迁移模式。如果群集中的所有实例都终止，则在重新发出此语句以重新启动Oracle ASM实例的滚动升级之前，任何Oracle ASM实例的后续启动都不会处于滚动升级模式。</p>
                  <p><span class="bold">停止滚动移民</span> 
                  </p>
                  <p>使用此子句可以停止滚动升级并使群集恢复正常运行。仅在群集中的所有实例迁移到同一软件版本后才指定此子句。如果群集未处于滚动升级模式，则该语句将失败。</p>
                  <p>指定此子句时，Oracle ASM实例将验证群集的所有成员是否处于相同的软件版本，使实例脱离滚动升级模式，并返回到Oracle ASM群集的完整功能。如果由于磁盘已脱机而导致任何重新平衡操作未决，则如果重新启动不会违反<code class="codeph">ASM_POWER_LIMIT</code>参数，则会重新启动这些操作。
                  </p>
                  <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-D9C23C1C-1D07-462F-93A1-8E38FDD4A2C6">
                     <p class="notep1">也可以看看：</p>
                     <p>有关滚动升级的详细信息，请参见<a href="../ostmg/upgrade-patch-asm.html#OSTMG02400" target="_blank"><span class="italic">“Oracle自动存储管理管理员指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__CCHFIEFB">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-BECF3FAD-425E-4D8C-92BC-C0D6C2C1AF79"><span class="italic">rolling_patch_clauses</span></p>
                  <p>在集群Oracle自动存储管理（Oracle ASM）环境中使用这些子句可以一次将一个节点更新到最新的修补程序级别，而不会影响Oracle ASM集群或使用Oracle ASM进行存储的数据库集群的整体可用性。</p>
                  <p><span class="bold">开始滚动补丁</span></p>
                  <p>使用此子句可以启动滚动修补程序操作。Oracle ASM首先验证群集中的所有活动节点是否处于同一版本，然后进入滚动补丁模式，这是一个群集范围内的内存持久状态。群集将继续处于此状态，直到所有活动节点都已修补到最新的修补程序级别。</p>
                  <p>在此操作期间关闭的任何节点都不会打补丁。这不会影响滚动补丁操作的成功。但是，您必须在启动之前修补这些节点。否则，将不允许他们加入群集。</p>
                  <p><span class="bold">停止滚动补丁</span></p>
                  <p>使用此子句停止滚动补丁操作并使群集恢复正常运行。仅在群集中的所有活动节点都已修补到最新修补程序级别后才指定此子句。如果群集未处于滚动补丁模式，则该语句将失败。</p>
                  <p>指定此子句时，Oracle ASM实例将验证群集的所有成员是否处于相同的修补程序级别，使实例脱离滚动修补程序模式，并返回Oracle ASM群集的完整功能。如果群集的任何成员未处于最新的修补程序级别，则此操作将失败，并且群集将进入受限功能模式。</p>
                  <p>以下查询显示有关滚动修补程序的信息。要运行这些查询，您必须连接到Grid主目录中的Oracle ASM实例，并且Grid Infrastructure主目录必须配置Oracle RAC环境的Oracle Clusterware选项。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您可以使用以下查询确定群集是否处于滚动修补程序模式：</p><pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT（'SYS_CLUSTER_PROPERTIES'，'CLUSTER_STATE'）FROM DUAL;</pre></li>
                     <li>
                        <p>您可以使用以下查询确定群集的修补程序级别：</p><pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT（'SYS_CLUSTER_PROPERTIES'，'CURRENT_PATCHLVL'）FROM DUAL;</pre></li>
                     <li>
                        <p>您可以通过查询<code class="codeph">V$PATCHES</code>动态性能视图来显示在Oracle ASM实例上应用的修补程序列表。有关更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN30668" target="_blank"><span class="italic">Oracle数据库参考</span></a> 。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-FB113EB0-BB86-4C63-A1D0-8E65F5011C5E">
                     <p class="notep1">也可以看看：</p>
                     <p>有关滚动补丁的详细信息，请参见<a href="../ostmg/upgrade-patch-asm.html#OSTMG95330" target="_blank"><span class="italic">“Oracle自动存储管理管理员指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__BGBCEDHJ">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-2E158FFC-3D02-46BD-ACBD-BC3D7AE285D8"><span class="italic">security_clauses</span></p>
                  <p><a id="d251378e1632" class="indexterm-anchor"></a> <span class="italic"><code class="codeph">security_clauses</code></span>允许您控制对实例的访问。它们还允许您启用或禁用对实例中加密数据的访问。
                  </p>
                  <p><span class="bold">受限制的会议</span> <a id="d251378e1645" class="indexterm-anchor"></a><a id="d251378e1649" class="indexterm-anchor"></a><a id="d251378e1653" class="indexterm-anchor"></a></p>
                  <p><code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code>子句允许您限制登录Oracle数据库。无论您的实例是卸载还是挂载，打开或关闭数据库，都可以使用此子句。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">ENABLE</code>以仅允许具有<code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code>系统特权的用户登录Oracle数据库。现有会话不会终止。
                        </p>
                        <p>本节仅适用于当前实例。因此，在Oracle RAC环境中，没有<code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code>系统特权的授权用户仍可以通过其他实例访问数据库。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">DISABLE</code>以反转<code class="codeph">ENABLE</code> <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code>子句的效果，允许具有<code class="codeph">CREATE</code> <code class="codeph">SESSION</code>系统特权的所有用户登录Oracle数据库。这是默认值。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-66EC5BB9-330C-4EBD-AE0C-CF3C11EFD70B">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198404">限制会话：示例</a> ”</span></p>
                  </div>
                  <p id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__BABFBJBI"><span class="bold">SET ENCRYPTION WALLET子句</span> <a id="d251378e1717" class="indexterm-anchor"></a><a id="d251378e1721" class="indexterm-anchor"></a></p>
                  <p>使用此子句可以管理对透明数据加密（TDE）主加密密钥的数据库访问。TDE主加密密钥存储在外部安全模块中，该模块可以是加密钱包或硬件安全模块（HSM）。</p>
                  <p>虽然此语句以关键字<code class="codeph">ALTER</code>开头，但<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">SET</code> <code class="codeph">ENCRYPTION</code> <code class="codeph">WALLET</code>语句不是DDL子句。但是，您无法回滚此类声明。
                  </p>
                  <p>尽管此子句以<code class="codeph">SET</code>关键字开头，但不要将其与<span class="italic"><a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2061284">alter_system_set_clause</a></span>混淆，后者允许您使用<code class="codeph">SET</code>关键字设置初始化参数的值。<code class="codeph">ENCRYPTION</code> <code class="codeph">WALLET</code>不是初始化参数。
                  </p>
                  <p id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__CCHBCFCG"><span class="bold">打开</span></p>
                  <p>指定此子句时，数据库使用指定的密码打开钱包并在实例期间将TDE主密钥加载到数据库内存中，或者建立与HSM的连接以便将加密的表和表空间键发送到然后接收HSM并接收解密。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<span class="italic"><code class="codeph">wallet_password</code></span>以从加密钱包中检索主加密密钥。如果钱包不可用或已经打开，则数据库会返回错误。<span class="italic"><code class="codeph">wallet_password</code></span>周围的双引号是必需的。
                        </p>
                     </li>
                     <li>
                        <p>指定<span class="italic"><code class="codeph">HSM_auth_string</code></span>以使HSM可访问。<span class="italic"><code class="codeph">HSM_auth_string</code></span>的格式为“ <span class="italic"><code class="codeph">user_id</code></span> ： <span class="italic"><code class="codeph">password</code></span> ”，其中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="italic"><code class="codeph">user_id</code></span>是使用HSM管理界面为数据库创建的用户标识</p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">password</code></span>是使用HSM管理界面为用户标识创建的密码</p>
                           </li>
                        </ul>
                        <p><span class="italic"><code class="codeph">HSM_auth_string</code></span>周围的双引号是必需的</p>
                     </li>
                  </ul>
                  <p><span class="bold">关</span></p>
                  <p>使用此子句可禁用数据库中的加密和解密。需要<span class="italic"><code class="codeph">wallet_password</code></span>来关闭加密钱包。需要<span class="italic"><code class="codeph">HSM_auth_string</code></span>来禁用对HSM的访问。有关指定<span class="italic"><code class="codeph">HSM_auth_string</code></span>详细信息，请参阅<a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__CCHBCFCG">OPEN</a> 。
                  </p>
                  <p>当仅存在自动打开钱包时，不需要密码来关闭自动打开的钱包。当自动打开的钱包和加密钱包都打开时，需要密码才能关闭自动打开的钱包。在这种情况下，使用<code class="codeph">CLOSE</code>和密码将关闭自动打开钱包和加密钱包。
                  </p>
                  <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-AAF4FA46-9949-41EB-8BBA-9651FF4A28FF">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=RACAD7269" target="_blank"><span class="italic">“Oracle Real Application Clusters管理和部署指南”</span></a> ，了解有关在Oracle Real Application Clusters（Oracle RAC）环境中设置加密钱包的信息</p>
                  </div>
                  <p><span class="bold"><span class="italic">set_encryption_key</span></span> <a id="d251378e1859" class="indexterm-anchor"></a><a id="d251378e1863" class="indexterm-anchor"></a><a id="d251378e1867" class="indexterm-anchor"></a></p>
                  <p>如果不存在，请使用此子句生成新的TDE主加密密钥。如果HSM或密钥库中存在现有主密钥，则此子句将重新键入现有表和表空间键，即，使用旧主密钥解密所有表和表空间键，并使用新主密钥重新加密它们。</p>
                  <p><code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">SET</code> <code class="codeph">ENCRYPTION</code> <code class="codeph">KEY</code>语句是一个DDL语句，它将自动提交模式中的任何挂起事务。
                  </p>
                  <p>尽管此子句以<code class="codeph">SET</code>关键字开头，但不要将其与<span class="italic"><a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2061284">alter_system_set_clause</a></span>混淆，后者允许您使用<code class="codeph">SET</code>关键字设置初始化参数的值。<code class="codeph">ENCRYPTION</code> <code class="codeph">KEY</code>不是初始化参数。
                  </p>
                  <p><span class="bold">由</span> <span class="bold"><span class="italic">wallet_password</span></span> <span class="bold">识别</span></p>
                  <p>此子句将TDE主加密密钥从加密钱包加载到内存中以访问加密数据。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果使用PKI非对称密钥对作为主加密密钥，则需要<span class="italic"><code class="codeph">certificate_id</code></span> 。指定标识证书的整数。您可以通过查询<code class="codeph">V$WALLET</code>动态性能视图的<code class="codeph">CERT_ID</code>列来查找此值。如果使用对称密钥（默认密钥），请不要指定<span class="italic"><code class="codeph">certificate_id</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">wallet_password</code></span> ，请指定用于连接到安全模块的密码。
                        </p>
                     </li>
                  </ul>
                  <p>如果指定了无效的<span class="italic"><code class="codeph">certificate_id</code></span>或<span class="italic"><code class="codeph">wallet_password</code></span> ，则数据库将返回错误。需要在<span class="italic"><code class="codeph">certificate_id</code></span>和<span class="italic"><code class="codeph">wallet_password</code></span>周围<span class="italic"><code class="codeph">wallet_password</code></span>双引号。
                  </p>
                  <p><span class="bold">对</span> <span class="bold"><span class="italic">RRRENTIFIED</span></span> <span class="bold">BY</span> <span class="bold"><span class="italic">wallet_password的</span></span> <span class="bold">限制</span> 
                  </p>
                  <p>基于PKI的主密钥（包括统一主加密密钥）只能与TDE列加密和Oracle Wallet一起使用，而不能与HSM一起使用。</p>
                  <div class="infoboxnote" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-49DB9529-A56C-44BB-8BD7-E58578C3ADF4">
                     <p class="notep1">注意：</p>
                     <p>不推荐使用PKI加密和透明数据加密。要配置透明数据加密，请使用<a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9">ADMINISTER KEY MANAGEMENT</a>语句。有关更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ASOAG600" target="_blank"><span class="italic">Oracle Database高级安全性指南</span></a>
                     </p>
                  </div>
                  <p><span class="bold">由</span> <span class="bold"><span class="italic">HSM_auth_string</span></span> <span class="bold">标识</span></p>
                  <p>该子句创建一个主加密密钥，该密钥将存储在HSM中。主加密密钥用于加密或解密HSM内的表密钥。</p>
                  <p><span class="italic"><code class="codeph">HSM_auth_string</code></span>的格式为“ <span class="italic"><code class="codeph">user_id</code></span> ： <span class="italic"><code class="codeph">password</code></span> ”，其中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic"><code class="codeph">user_id</code></span>是使用HSM管理界面为数据库创建的用户标识</p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">password</code></span>是使用HSM管理界面为用户标识创建的密码</p>
                     </li>
                  </ul>
                  <p><span class="italic"><code class="codeph">HSM_auth_string</code></span>周围的双引号是必需的。
                  </p>
                  <p>如果您已将透明数据加密与Oracle Wallet一起使用，并且希望迁移到HSM，请指定<code class="codeph">MIGRATE</code> <code class="codeph">USING</code> <span class="italic"><code class="codeph">wallet_password</code></span>子句。这将解密现有的表和表空间键，然后使用新创建的基于HSM的主加密密钥对其进行重新加密。请注意，迁移到HSM后钱包仍在使用，因为它可能包含用于导出文件，RMAN备份或临时或撤消表空间或重做日志文件中的加密数据的主加密密钥。迁移后，请执行以下步骤之一：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>更改密码钱包向<span class="italic"><code class="codeph">HSM_auth_string</code></span>使用Oracle Wallet管理或<code class="codeph">orapki</code>命令行工具。
                        </p>
                     </li>
                     <li>
                        <p>从加密钱包创建本地自动打开的钱包，并重命名加密钱包，或将其移出<code class="codeph">sqlnet</code>中<code class="codeph">ENCRYPTION_WALLET_LOCATION</code>中指定的目录。 <code class="codeph">ora</code> 。请勿删除加密钱包，也不要忘记钱包密码。
                        </p>
                     </li>
                  </ul>
                  <p>请注意，不推荐使用<code class="codeph">ENCRYPTION_WALLET_LOCATION</code>参数。建议的前进路径是使用<code class="codeph">WALLET_ROOT</code>静态初始化参数和<code class="codeph">TDE_CONFIGURATION</code>动态初始化参数。
                  </p>
                  <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-1788B8EC-07F4-4D78-9D83-4EF37D9D7759">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关使用透明数据加密的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ASOAG600" target="_blank"><span class="italic">“Oracle数据库高级安全指南</span></a></p>
                        </li>
                        <li>
                           <p>有关使用该功能加密表列的信息，请参阅<code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <span class="q">“ <a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__CEGDFHBD">encryption_spec</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__BGBGBDFJ">建立钱包和加密密钥：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-0D7B4E86-037D-4F47-B6C4-60F423397D31"><span class="italic">affinity_clauses</span></p>
                  <div class="p">使用affinity子句启用数据相关路由以在<code class="codeph">RAC</code>数据库上提供缓存关联。关联性在逻辑上跨<code class="codeph">RAC</code>实例分区数据，以便为每个实例分配不同的数据子集。使用分片键访问数据时，请求将路由到包含相应数据子集的实例。亲和力的好处是：<ul style="list-style-type:disc">
                        <li>
                           <p>对分片感知应用程序的分片访问和非分片应用程序的透明度</p>
                        </li>
                        <li>
                           <p>更好的缓存利用率和减少的块ping</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-F3C6C9B1-CD5D-46F3-8207-A5D4E04DC8AA"><span class="italic">shutdown_dispatcher_clause</span></p>
                  <p><a id="d251378e2121" class="indexterm-anchor"></a>仅当您的系统使用Oracle数据库的共享服务器体系结构时， <code class="codeph">SHUTDOWN</code>子句才有意义。它会关闭dispatcher_name标识的<span class="italic"><code class="codeph">dispatcher_name</code></span> 。
                  </p>
                  <div class="infoboxnote" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-5B770C3E-C816-49DE-8833-79C34950C108">
                     <p class="notep1">注意：</p>
                     <p>不要将此子句与SQL * Plus命令<code class="codeph">SHUTDOWN</code>混淆，后者用于关闭整个数据库。
                     </p>
                  </div>
                  <p><span class="italic"><code class="codeph">dispatcher_name</code></span>必须是“ <code class="codeph">D</code> <span class="italic"><code class="codeph">xxx</code></span> ”形式的字符串，其中<span class="italic"><code class="codeph">xxx</code></span>表示调度程序的编号。有关调度程序名称的列表，请查询<code class="codeph">V$DISPATCHER</code>动态性能视图的<code class="codeph">NAME</code>列。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果指定<code class="codeph">IMMEDIATE</code> ，则调度程序将立即停止接受新连接，Oracle Database将终止通过该调度程序的所有现有连接。清理完所有会话后，调度程序进程将关闭。
                        </p>
                     </li>
                     <li>
                        <p>如果未指定<code class="codeph">IMMEDIATE</code> ，则调度程序会立即停止接受新连接，但会等待所有用户断开连接并终止其所有数据库链接。然后它关闭了。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-185269CF-A97E-4E6E-8ADF-512873ED6179">注册条款</p>
                  <p><a id="d251378e2178" class="indexterm-anchor"></a><a id="d251378e2182" class="indexterm-anchor"></a>指定<code class="codeph">REGISTER</code>以指示<code class="codeph">PMON</code>后台进程立即向侦听器注册实例。如果未指定此子句，则在<code class="codeph">PMON</code>下次执行发现例程之前不会注册实例。因此，在侦听器启动后的60秒内，客户端可能无法访问服务。
                  </p>
                  <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-8882356B-E88B-44E3-B5DC-C71383A8A3A3">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">PMON</code>后台进程和侦听器的信息，请<code class="codeph">PMON</code> <a href="../netag/understanding-oracle-net-architecture.html#NETAG1080" target="_blank"><span class="italic">“</span></a> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=CNCPT1254" target="_blank"><span class="italic">Oracle数据库概念”</span></a>和“ <a href="../netag/understanding-oracle-net-architecture.html#NETAG1080" target="_blank"><span class="italic">Oracle数据库网络服务管理员指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2061284">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-09253AC9-CA41-4F11-9F22-0E01389E616D"><span class="italic">alter_system_set_clause</span></p>
                  <p><a id="d251378e2216" class="indexterm-anchor"></a><a id="d251378e2220" class="indexterm-anchor"></a>此子句允许您更改参数值。<span class="italic"><code class="codeph">set_parameter_clause</code></span>允许您更改指定初始化参数的值。<code class="codeph">USE_STORED_OUTLINES</code>和<code class="codeph">GLOBAL_TOPIC_ENABLED</code>子句允许您更改这些系统参数的值。
                  </p>
                  <p id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__SET_PARAMETER_CLAUSE-33164A88"><span class="bold"><span class="italic">set_parameter_clause</span></span></p>
                  <p>无论是使用传统的纯文本参数文件（pfile）还是使用服务器参数文件（spfile）启动数据库，都可以更改当前实例的许多初始化参数的值。<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN001" target="_blank"><span class="italic">Oracle Database Reference</span></a>在每个参数描述的“可修改”类别中指示这些参数。如果您使用的是pfile，则更改将仅在实例的持续时间内保留。但是，如果已使用spfile启动数据库，则可以更改spfile本身中参数的值，以便在后续实例中出现新值。
                  </p>
                  <p>Oracle Database Reference完整记录了所有初始化参数。参数分为三类：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN00101" target="_blank"><span class="bold">基本参数：</span></a>数据库管理员应熟悉并考虑所有基本参数的设置。
                        </p>
                     </li>
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN00102" target="_blank"><span class="bold">功能类别：</span></a> Oracle数据库参考还按功能类别列出初始化参数。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">按字母顺序排列：</span> <a href="../refrn/index.html" target="_blank"><span class="italic">Oracle Database Reference</span></a>的目录按字母顺序包含所有初始化参数。
                        </p>
                     </li>
                  </ul>
                  <p>更改初始化参数值的能力取决于您是使用传统的纯文本初始化参数文件（pfile）还是使用服务器参数文件（spfile）启动数据库。要确定是否可以更改特定参数的值，请查询<code class="codeph">V$PARAMETER</code>动态性能视图的<code class="codeph">ISSYS_MODIFIABLE</code>列。
                  </p>
                  <p>设置参数值时，可以按如下方式指定其他设置：</p>
                  <p><span class="bold">评论</span></p>
                  <p><code class="codeph">COMMENT</code>子句允许您将注释字符串与参数值中的此更改相关联。注释字符串不能包含控制字符或换行符。如果还指定了<code class="codeph">SPFILE</code> ，则此注释将出现在参数文件中，以指示对此参数所做的最新更改。
                  </p>
                  <p><span class="bold">DEFERRED</span></p>
                  <p><code class="codeph">DEFERRED</code>关键字为连接到数据库的将来会话设置或修改参数的值。当前会话保留旧值。
                  </p>
                  <p>如果此参数的<code class="codeph">V$PARAMETER</code>的<code class="codeph">ISSYS_MODIFIABLE</code>列的值为<code class="codeph">DEFERRED</code>则必须指定<code class="codeph">DEFERRED</code> 。如果该列的值为<code class="codeph">IMMEDIATE</code> ，则此子句中的<code class="codeph">DEFERRED</code>关键字是可选的。如果该列的值为<code class="codeph">FALSE</code> ，则无法在此<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句中指定<code class="codeph">DEFERRED</code> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-C834DD3E-C8A7-44C6-A1AF-8D7BD6FC42C1">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">V$PARAMETER</code>动态性能视图的信息，请<a href="../refrn/V-PARAMETER.html#REFRN30176" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                  </div>
                  <p><span class="bold">容器</span></p>
                  <p>在CDB中设置参数值时，可以指定<code class="codeph">CONTAINER</code>子句。 CDB使用继承模型用于初始化参数，其中PDB从根继承初始化参数值。在这种情况下，继承意味着根中特定参数的值适用于特定PDB。</p>
                  <p>PDB可以覆盖某些参数的根设置，这意味着PDB具有每个初始化参数的继承属性，该属性为true或false。当PDB继承参数的根值时，继承属性对于参数为true。当PDB不继承参数的根值时，参数的继承属性为false。</p>
                  <p>某些参数的继承属性必须为true。对于其他参数，可以通过运行<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">SET</code>语句来更改继承属性，以在当前容器为PDB时设置参数。如果<code class="codeph">V$SYSTEM_PARAMETER</code>视图中的初始化参数的<code class="codeph">ISPDB_MODIFIABLE</code>为<code class="codeph">TRUE</code> ，则参数的继承属性可以为false。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code> ，则参数设置将应用于CDB中的所有容器，包括根和所有PDB。当前容器必须是根。
                        </p>
                        <p>指定<code class="codeph">ALL</code>会将所有PDB中的参数的inheritance属性设置为true。
                        </p>
                     </li>
                     <li>
                        <p>如果指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> ，则参数设置仅适用于当前容器。当前容器是根时，参数设置将应用于根和参数的继承属性为true的任何PDB。
                        </p>
                     </li>
                  </ul>
                  <p>如果省略此子句，则默认为<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-CDF9AF34-BC42-435F-82EA-FAD469761591">
                     <p class="notep1">也可以看看：</p>
                     <p>有关修改CDB中的参数的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADMIN13650" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                  </div>
                  <p><span class="bold">范围</span></p>
                  <p><code class="codeph">SCOPE</code>子句允许您指定更改何时生效。此子句的行为取决于您是否连接到非CDB，CDB根或PDB。</p>
                  <p><span class="bold">在连接到非CDB或CDB根目录时发出ALTER SYSTEM语句时</span> ，范围取决于您是使用传统的纯文本参数文件（pfile）还是服务器参数文件（spfile）启动数据库。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">MEMORY</code>表示更改在内存中进行，立即生效，并持续到数据库关闭为止。如果使用参数文件（pfile）启动数据库，则这是您可以指定的唯一范围。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">SPFILE</code>表示更改是在服务器参数文件中进行的。新设置将在下次关闭数据库并再次启动时生效。更改静态参数的值时，必须指定<code class="codeph">SPFILE</code> ，该参数在<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN-GUID-FD266F6F-D047-4EBB-8D96-B51B1DCA2D61" target="_blank"><span class="italic">Oracle数据库参考中</span></a>描述为不可修改。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">BOTH</code>表示更改是在内存和服务器参数文件中进行的。新设置立即生效，并在数据库关闭并再次启动后持续存在。
                        </p>
                     </li>
                  </ul>
                  <p>如果使用服务器参数文件来启动数据库，那么<code class="codeph">BOTH</code>是默认值。如果使用参数文件来启动数据库，那么<code class="codeph">MEMORY</code>是默认值，也是您可以指定的唯一范围。
                  </p>
                  <p><span class="bold">在连接到PDB时发出ALTER SYSTEM语句时</span> ，只能在<code class="codeph">V$SYSTEM_PARAMETER</code>视图中修改<code class="codeph">ISPDB_MODIFIABLE</code> <code class="codeph">TRUE</code>初始化参数。初始化参数值仅对PDB有效。对于未为PDB显式设置的任何初始化参数，PDB继承CDB根的参数值。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">MEMORY</code>表示更改在内存中进行，并在PDB中立即生效。在以下任何一种情况下，该设置将恢复为CDB根目录中设置的值：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">SET</code>语句设置根中参数的值， <code class="codeph">SCOPE</code>等于<code class="codeph">BOTH</code>或<code class="codeph">MEMORY</code> ，PDB关闭并重新打开。如果<code class="codeph">SCOPE</code>等于<code class="codeph">SPFILE</code> ，则PDB中的参数值不会更改，并且PDB将关闭并重新打开。
                              </p>
                           </li>
                           <li>
                              <p>PDB已关闭并重新打开。</p>
                           </li>
                           <li>
                              <p>CDB关闭并重新打开。</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><code class="codeph">SPFILE</code>表示对PDB进行了更改并持久存储。新设置仅影响PDB，并在以下任一情况下生效：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>PDB已关闭并重新打开。</p>
                           </li>
                           <li>
                              <p>CDB关闭并重新打开。</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><code class="codeph">BOTH</code>表示在内存中进行更改，为PDB进行更改，并持续存储。新设置在PDB中立即生效，并在PDB关闭并重新打开或CDB关闭并重新打开后持续存在。新设置仅影响PDB。</p>
                     </li>
                  </ul>
                  <p>从CDB拔出PDB时，为PDB指定的初始化参数值（ <code class="codeph">SCOPE=BOTH</code>或<code class="codeph">SCOPE=SPFILE</code>将添加到PDB的XML元数据文件中。当PDB插入CDB时，将为PDB恢复这些值。</p>
                  <p><span class="bold">SID</span></p>
                  <p><code class="codeph">SID</code>子句允许您指定值将生效的实例的SID。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果希望Oracle数据库更改尚未具有此参数的显式设置的所有实例的参数值，请指定<code class="codeph">SID</code> = <code class="codeph">'*'</code> 。
                        </p>
                     </li>
                     <li>
                        <p>如果希望Oracle数据库仅为实例<span class="italic"><code class="codeph">sid</code></span>更改参数值，请指定<code class="codeph">SID</code> = <span class="italic"><code class="codeph">'sid'</code></span> 。此设置优先于指定<code class="codeph">SID</code> = <code class="codeph">'*'</code>先前和后续<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">SET</code>语句。
                        </p>
                     </li>
                  </ul>
                  <p>如果您未指定此子句，则：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果实例是使用pfile（传统的纯文本初始化参数文件）启动的，则Oracle数据库会假定当前实例的SID。</p>
                     </li>
                     <li>
                        <p>如果实例是使用spfile（服务器参数文件）启动的，则Oracle数据库假定<code class="codeph">SID</code> <code class="codeph">=</code> <code class="codeph">'*'</code> 。
                        </p>
                     </li>
                  </ul>
                  <p>如果指定当前实例以外的实例，则Oracle数据库会向该实例发送消息以更改该实例的内存中的参数值。</p>
                  <p><span class="bold">USE_STORED_OUTLINES条款</span> <a id="d251378e2622" class="indexterm-anchor"></a><a id="d251378e2624" class="indexterm-anchor"></a></p>
                  <div class="infoboxnote" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-226490DE-7499-4D7A-A426-385B4BC7A474">
                     <p class="notep1">注意：</p>
                     <p>存储的大纲已被弃用。它们仍然支持向后兼容性。但是，Oracle建议您使用SQL计划管理。有关SQL计划管理的详细信息，请参阅“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=TGSQL615" target="_blank"><span class="italic">Oracle数据库SQL调优指南”</span></a> 。
                     </p>
                  </div>
                  <p><code class="codeph">USE_STORED_OUTLINES</code>是系统参数，而不是初始化参数。您不能在pfile或spfile中设置它，但可以使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句进行设置。此参数确定优化程序是否将使用存储的公共轮廓生成执行计划。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">TRUE</code>使优化器在编译请求时使用存储在<code class="codeph">DEFAULT</code>类别中的轮廓。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">FALSE</code>指定优化程序不应使用存储的轮廓。这是默认值。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">category_name</code></span>使优化器在编译请求时使用存储在<span class="italic"><code class="codeph">category_name</code></span>类别中的轮廓。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">GLOBAL_TOPIC_ENABLED</span> <a id="d251378e2674" class="indexterm-anchor"></a><a id="d251378e2676" class="indexterm-anchor"></a></p>
                  <p><code class="codeph">GLOBAL_TOPIC_ENABLED</code>是系统参数，而不是初始化参数。您不能在pfile或spfile中设置它，但可以使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句进行设置。如果在创建，更改或删除队列表时<code class="codeph">GLOBAL_TOPIC_ENABLED</code> = <code class="codeph">TRUE</code> ，则还会创建，更改或删除相应的轻量级目录访问协议（LDAP）条目。
                  </p>
                  <p>该参数与Java消息服务（JMS）的工作方式相同。如果已将数据库配置为使用LDAP并且<code class="codeph">GLOBAL_TOPIC_ENABLED</code>参数已设置为<code class="codeph">TRUE</code> ，则在创建LDAP服务器时，将自动向LDAP服务器注册所有JMS队列和主题。管理员还可以为LDAP中注册的队列和主题创建别名。可以使用队列或主题的名称或别名通过JNDI查找在LDAP中注册的队列和主题。
                  </p>
                  <p id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__BABJBBBB"><span class="bold">共享服务器参数</span><a id="d251378e2707" class="indexterm-anchor"></a><a id="d251378e2711" class="indexterm-anchor"></a><a id="d251378e2715" class="indexterm-anchor"></a><a id="d251378e2719" class="indexterm-anchor"></a><a id="d251378e2725" class="indexterm-anchor"></a><a id="d251378e2731" class="indexterm-anchor"></a><a id="d251378e2735" class="indexterm-anchor"></a></p>
                  <p>启动实例时，Oracle数据库会根据<code class="codeph">SHARED_SERVERS</code>和<code class="codeph">DISPATCHERS</code>初始化参数的值为共享服务器体系结构创建共享服务器进程和调度程序进程。您还可以使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>设置<code class="codeph">SHARED_SERVERS</code>和<code class="codeph">DISPATCHERS</code>参数，以便在实例运行时执行以下操作之一：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>通过增加共享服务器进程的最小数量来创建其他共享服务器进程。</p>
                     </li>
                     <li>
                        <p>在当前调用完成处理后终止现有的共享服务器进程。</p>
                     </li>
                     <li>
                        <p>为特定协议创建更多调度程序进程，在初始化参数<code class="codeph">MAX_DISPATCHERS</code>指定的所有协议中最多可达到最大值。</p>
                     </li>
                     <li>
                        <p>在当前用户进程与实例断开连接后，终止特定协议的现有调度程序进程。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-BD2550D7-7583-4C52-B001-CC8D880A0CC4">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=RACAD020" target="_blank"><span class="italic">“Oracle Real Application Clusters管理和部署指南”，</span></a>以获取有关在Oracle Real Application Clusters环境中为单个实例设置参数值的信息</p>
                        </li>
                        <li>
                           <p>以下使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句的示例： <span class="q">“ <a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198540">更改许可参数：示例</a> ”</span> ， <span class="q">“ <a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198388">启用查询重写：示例</a> ”</span> ， <span class="q">“ <a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198497">启用资源限制：示例</a> ”</span> ， <span class="q">“ <a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__BABJBBBB">共享服务器参数</a> ”</span>和<span class="q">“ <a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198517">更改共享服务器设置：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-517EA7FC-80DD-4170-88A4-C21BA048B8B8"><span class="italic">alter_system_reset_clause</span></p>
                  <p>此子句允许您重置初始化参数。</p>
                  <p>此子句的语义类似于<span class="italic"><code class="codeph">set_parameter_clause</code></span> ，除了不更改初始化参数的值之外，此子句删除初始化参数的设置。请参阅<span class="italic"><a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__SET_PARAMETER_CLAUSE-33164A88">set_parameter_clause</a></span>以了解可以重置的参数，以及<code class="codeph">SCOPE</code>和<code class="codeph">SID</code>子句的完整语义。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__CCHIFCCH">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-4C71B7C2-6824-40E9-A256-8D1F257406D6">重新定位客户</p>
                  <p>仅当您使用Oracle Flex ASM时，此子句才有效。您必须从Oracle ASM实例中发出此子句，而不是从普通数据库实例发出。</p>
                  <p>使用此子句将指定的客户端重定位到负载最小的Oracle ASM实例。发出此子句时，将终止与客户端的连接，并且客户端将故障转移到负载最少的实例。如果客户端当前连接到负载最小的实例，则终止与客户端的连接，并且客户端故障转移到同一实例。</p>
                  <p>对于<span class="italic"><code class="codeph">client_id</code></span> ，请在单引号中指定以下形式的字符串：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">instance_name</span> ： <span class="italic">db_name</span>
</pre><p>其中<span class="italic"><code class="codeph">instance_name</code></span>是客户端的标识符， <span class="italic"><code class="codeph">db_name</code></span>是客户端的数据库名称。您可以通过查询<code class="codeph">V$ASM_CLIENT</code>动态效果视图的<code class="codeph">INSTANCE_NAME</code>和<code class="codeph">DB_NAME</code>列来查找这些值。
                  </p>
                  <div class="infoboxnotealso" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-889B0D9B-D70B-4993-960D-E9C7F0938867">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关管理Oracle Flex ASM的详细信息，请参见<a href="../ostmg/index.html" target="_blank"><span class="italic">“Oracle自动存储管理管理员指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">V$ASM_CLIENT</code>动态性能视图的更多信息，请<a href="../refrn/V-ASM_CLIENT.html#REFRN30169" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-1E2C0E9A-5FD6-424E-AB73-F9A25C035991"><span class="italic">cancel_sql_clause</span></p>
                  <p>使用此子句终止消耗过多资源的SQL操作，包括并行服务器。您必须提供会话ID和会话序列号，以标识要取消的SQL语句。如果未提供这些必需参数，则SQL语句将不会运行。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">session_id</code>是必需的，代表会话标识符。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">serial_number</code>是必需的，代表会话的序列号。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">@instance_id</code>是可选的。如果省略此参数，则使用当前会话的实例标识。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">sql_id</code>是可选的。如果省略此参数，则终止当前在指定会话中运行的SQL语句。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-D46D8B91-2C64-4C06-B71A-201502547E69">FLUSH PASSWORDFILE_METADATA_CACHE</p>
                  <p>如果密码文件的位置或名称发生更改，则必须通知数据库已发生更改。命令<code class="codeph">ALTER SYSTEM FLUSH PASSWORDFILE_METADATA_CACHE</code>刷新存储在SGA中的密码文件元数据高速缓存，并通知数据库发生了更改。
                  </p>
                  <p>如果在集群环境中运行，该命令还会刷新所有RAC实例的缓存。请注意在所有实例中传播更改的延迟。在刷新完全传播之前，某些实例可能会继续使用旧密码文件。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__GUID-567E6B81-9CDF-407E-A175-D85A84590A99">例子</p>
                  <p><span class="bold">手动存档重做日志：示例</span></p>
                  <p>以下语句手动归档包含带有SCN 9356083的重做日志条目的重做日志文件组：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM ARCHIVE LOG CHANGE 9356083;</pre><p>以下语句将包含名为“ <code class="codeph">diskl:log6.log</code> ”的成员的重做日志文件组手动归档到位于“ <code class="codeph">diska:[arch$</code> ]”位置的归档重做日志文件中：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM ARCHIVE LOG LOGFILE'diskl：log6.log'TO'diska：[arch $]';</pre><p id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198388"><span class="bold">启用查询重写：示例</span></p>
                  <p>此语句在所有具有尚未显式禁用查询重写的物化视图的会话中启用查询重写：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET QUERY_REWRITE_ENABLED = TRUE;</pre><p id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198404"><span class="bold">限制会话：示例</span></p>
                  <p>如果您正在执行应用程序维护，并且只希望具有<code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code>系统特权的应用程序开发人员登录，则可能需要限制会话。要限制会话，请发出以下声明：</p><pre class="oac_no_warn" dir="ltr">更改系统启用限制会话;</pre><p>然后，您可以使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句的<code class="codeph">KILL</code> <code class="codeph">SESSION</code>子句终止任何现有会话。
                  </p>
                  <p>对应用程序执行维护后，发出以下语句以允许具有<code class="codeph">CREATE</code> <code class="codeph">SESSION</code>系统特权的任何用户登录：</p><pre class="oac_no_warn" dir="ltr">更改系统禁用受限制的会议;</pre><p id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__BGBGBDFJ"><span class="bold">建立电子钱包和加密密钥：示例</span></p>
                  <p>以下语句将服务器钱包中的信息加载到内存中并设置透明数据加密主密钥：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET加密钱包由“ <span class="italic">密码</span> ”识别;由“ <span class="italic">密码</span> ”识别的ALTER SYSTEM SET加密密钥;</pre><p>这些语句假定您已初始化安全模块并使用<span class="italic"><code class="codeph">password</code></span>创建了一个钱包。
                  </p>
                  <p><span class="bold">关闭钱包：示例</span></p>
                  <p>以下语句从内存中删除基于密码的钱包信息：</p><pre class="oac_no_warn" dir="ltr">更改系统设置加密钱包关闭由“ <span class="italic">密码</span> ”识别;</pre><p>以下语句从内存中删除基于密码的钱包信息和自动登录信息（如果存在）：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET ENPTYPTION WALLET CLOSE;</pre><p id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2054578"><span class="bold">清除共享池：示例</span></p>
                  <p>您可能希望在开始性能分析之前清除共享池。要清除共享池，请发出以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM FLUSH SHARED_POOL;</pre><p id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198447"><span class="bold">强制检查点：示例</span></p>
                  <p>以下语句强制检查点：</p><pre class="oac_no_warn" dir="ltr">更改系统检查点;</pre><p id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198497"><span class="bold">启用资源限制：示例</span></p>
                  <p>此<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句动态启用资源限制：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET RESOURCE_LIMIT = TRUE;</pre><p id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198517"><span class="bold">更改共享服务器设置：示例</span></p>
                  <p>以下语句将共享服务器进程的最小数量更改为25：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET SHARED_SERVERS = 25;</pre><p>如果当前共享服务器进程少于25个，则Oracle数据库会创建更多。如果当前有超过25个，则Oracle数据库在完成处理当前调用时终止其中一些，如果负载可以由剩余的25个管理。</p>
                  <p>以下语句动态地将TCP / IP协议的调度程序进程数更改为5，将ipc协议的调度程序进程数更改为10：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET DISPATCHERS ='（INDEX = 0）（PROTOCOL = TCP）（DISPATCHERS = 5）'，'（INDEX = 1）（PROTOCOL = ipc）（DISPATCHERS = 10）';</pre><p>如果TCP的调度程序进程当前少于5个，则Oracle数据库会创建新的进程。如果当前有超过5个，则在连接的用户断开连接后，Oracle数据库会终止其中一些。</p>
                  <p>如果目前ipc的调度程序进程少于10个，则Oracle数据库会创建新的调度程序。如果当前有超过10个，则在连接的用户断开连接后，Oracle数据库会终止其中一些。</p>
                  <p>如果当前存在另一个协议的调度程序，则前面的语句不会影响该协议的调度程序数。</p>
                  <p id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198540"><span class="bold">更改许可参数：示例</span></p>
                  <p>以下语句将实例的会话限制动态更改为64，并将实例上的会话警告阈值更改为54：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LICENSE_MAX_SESSIONS = 64 LICENSE_SESSIONS_WARNING = 54;</pre><p>如果会话数达到54，则Oracle数据库会为每个后续会话向<code class="codeph">ALERT</code>文件写入警告消息。此外，具有<code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code>系统特权的用户在开始后续会话时会收到警告消息。
                  </p>
                  <p>如果会话数达到64，则只有具有<code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code>系统特权的用户才能开始新会话，直到会话数再次低于64。
                  </p>
                  <p>以下语句动态禁用实例上的会话限制。发出此语句后，Oracle数据库不再限制实例上的会话数。</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LICENSE_MAX_SESSIONS = 0;</pre><p>以下语句将数据库中用户数的限制动态更改为200。发出上述语句后，Oracle数据库会阻止数据库中的用户数超过200。</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LICENSE_MAX_USERS = 200;</pre><p id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198556"><span class="bold">强制日志切换：示例</span></p>
                  <p>您可能希望强制日志切换删除或重命名当前的重做日志文件组或其成员之一，因为在Oracle数据库写入文件时您无法删除或重命名文件。强制日志切换仅影响实例的重做日志线程。以下语句强制执行日志切换：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SWITCH LOGFILE;</pre><p id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198571"><span class="bold">启用分布式恢复：示例</span></p>
                  <p>以下语句启用分布式恢复：</p><pre class="oac_no_warn" dir="ltr">更改系统可实现分布式恢复;</pre><p>您可能希望禁用分布式恢复以进行演示或测试。您可以使用以下语句在单进程和多进程模式下禁用分布式恢复：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM DISABLE DISTRIBUTED RECOVERY;</pre><p>演示或测试完成后，您可以通过发出带有<code class="codeph">ENABLE</code> <code class="codeph">DISTRIBUTED</code> <code class="codeph">RECOVERY</code>子句的<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句再次启用分布式恢复。
                  </p>
                  <p id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2260288"><span class="bold">终止会话：示例</span></p>
                  <p>您可能希望终止持有其他用户所需资源的用户的会话。用户收到一条错误消息，指示会话已终止。该用户无法在不开始新会话的情况下调用数据库。当用户<code class="codeph">SYS</code>和<code class="codeph">oe</code>都具有打开的会话时，请考虑来自<code class="codeph">V$SESSION</code>动态性能表的这些数据：</p><pre class="oac_no_warn" dir="ltr">SELECT sid，serial＃，username FROM V $ SESSION; SID SERIAL＃USERNAME ---------- ---------- -------------------------- ---- 29 85 SYS 33 1 35 8 39 23 OE 40 1。 。 。
</pre><p>以下语句使用<code class="codeph">V$SESSION</code>的<code class="codeph">SID</code>和<code class="codeph">SERIAL#</code>值终止用户<code class="codeph">scott</code>的<code class="codeph">V$SESSION</code> ：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM KILL SESSION '39,23';</pre><p id="GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__I2198603"><span class="bold">断开会话：示例</span></p>
                  <p>以下语句使用<code class="codeph">V$SESSION</code>的<code class="codeph">SID</code>和<code class="codeph">SERIAL#</code>值断开用户<code class="codeph">scott</code>的会话：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM断开会话'13，'8'POST_TRANSACTION;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="01412.running-administration-commands.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You need root access to tfactl, or sudo access to run all administration commands."></meta>
      <meta name="description" content="You need root access to tfactl, or sudo access to run all administration commands."></meta>
      <title>运行管理命令</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User’s Guide"></meta>
      <meta property="og:description" content="You need root access to tfactl, or sudo access to run all administration commands."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="autonomous-health-framework-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-21T23:14:30-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2016, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96320-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="install-tfa-platform.html" title="Previous" type="text/html"></link>
      <link rel="next" href="running-summary-and-analysis-commands.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Autonomous Health Framework User’s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ATNMS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="install-tfa-platform.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="running-summary-and-analysis-commands.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="appendixes.html" property="item" typeof="WebPage"><span property="name">附录</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="tfa-command-reference.html" property="item" typeof="WebPage"><span property="name">Oracle Trace File Analyzer安装程序，命令行和Shell选项</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">运行管理命令</li>
            </ol>
            <a id="GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" name="GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484"></a>
            
            <h2 id="ATNMS-GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" class="sect2"><span class="enumeration_section">E.2</span>运行管理命令</h2>
         </header>
         <div class="ind">
            <div>
               <p>您需要<code class="codeph">root</code>访问<code class="codeph">tfactl</code>或<code class="codeph">sudo</code>访问权限才能运行所有管理命令。
               </p>
               <div class="tblformal" id="GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484__GUID-CAC1FCFD-546B-41D5-9A53-F5B587731B7B">
                  <p class="titleintable">表E-2基本TFACTL命令</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="基本的TFACTL命令" border="1" summary="This table lists and describes basic tfactl commands." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="20%" id="d74971e73">命令</th>
                           <th align="left" valign="bottom" width="20%" id="d74971e75">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="20%" id="d74971e79" headers="d74971e73 ">
                              <p><code class="codeph">tfactl开始</code></p>
                           </td>
                           <td align="left" valign="top" width="20%" headers="d74971e79 d74971e75 ">
                              <p>在本地节点上启动Oracle Trace File Analyzer守护程序。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="20%" id="d74971e87" headers="d74971e73 ">
                              <p><code class="codeph">tfactl停止</code></p>
                           </td>
                           <td align="left" valign="top" width="20%" headers="d74971e87 d74971e75 ">
                              <p>停止本地节点上的Oracle跟踪文件分析器后台驻留程序。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="20%" id="d74971e95" headers="d74971e73 ">
                              <p><code class="codeph">tfactl启用</code></p>
                           </td>
                           <td align="left" valign="top" width="20%" headers="d74971e95 d74971e75 ">
                              <p>在故障或系统重新引导后，启用Oracle Trace File Analyzer守护程序的自动重新启动。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="20%" id="d74971e103" headers="d74971e73 ">
                              <p><code class="codeph">tfactl禁用</code></p>
                           </td>
                           <td align="left" valign="top" width="20%" headers="d74971e103 d74971e75 ">
                              <p>停止所有正在运行的Oracle跟踪文件分析器守护程序并禁用自动重新启动。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="20%" id="d74971e111" headers="d74971e73 ">
                              <p><code class="codeph">tfactl卸载</code></p>
                           </td>
                           <td align="left" valign="top" width="20%" headers="d74971e111 d74971e75 ">
                              <p>从本地节点中删除Oracle Trace File Analyzer。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="20%" id="d74971e119" headers="d74971e73 ">
                              <p><code class="codeph">tfactl同步码</code></p>
                           </td>
                           <td align="left" valign="top" width="20%" headers="d74971e119 d74971e75 ">
                              <p>从一个Oracle跟踪文件分析器节点生成Oracle Trace File Analyzer证书并将其复制到其他节点。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="20%" id="d74971e127" headers="d74971e73 ">
                              <p><code class="codeph">tfactl restrictprotocol</code></p>
                           </td>
                           <td align="left" valign="top" width="20%" headers="d74971e127 d74971e75 ">
                              <p>限制使用某些协议。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="20%" id="d74971e135" headers="d74971e73 ">
                              <p><code class="codeph">tfactl状态</code></p>
                           </td>
                           <td align="left" valign="top" width="20%" headers="d74971e135 d74971e75 ">
                              <p>检查Oracle跟踪文件分析器进程的状态。</p>
                              <p>输出与<code class="codeph">tfactl print status</code>相同。
                              </p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-AA2A2AAA-04B4-441F-B27A-9312E7A07993">tfactl访问</a><br>使用<code class="codeph">tfactl access</code>命令允许非root用户拥有对Oracle Trace File Analyzer的受控访问权限，以及运行诊断集合。
                  </li>
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-7579FC0C-1B2C-4076-8EA5-345CE6AC854F">tfactl可用性</a><br>使用<code class="codeph">tfactl availability</code>命令启用或禁用可用性分数的资源。
                  </li>
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-6A26DC69-861E-474F-B6C6-6306C2B64716">tfactl diagnosetfa</a><br>使用<code class="codeph">tfactl diagnosetfa</code>命令从本地节点收集Oracle跟踪文件分析器诊断数据，以识别Oracle跟踪文件分析器的问题。
                  </li>
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-C2CED5A0-2BEB-4EE4-AA21-6EEF59487A8D">tfactl禁用</a><br>使用<code class="codeph">tfactl disable</code>命令停止任何正在运行的Oracle跟踪文件分析器守护程序并禁用自动重新启动。
                  </li>
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-84A69622-517D-479C-8BA3-6FD00D91FE59">tfactl启用</a><br>使用<code class="codeph">tfactl enable</code>命令在故障或系统重新引导后启用Oracle Trace File Analyzer守护程序的自动重新启动。
                  </li>
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-54F0796B-ACEB-4398-85F8-E7E794C3E4B8">tfactl主机</a><br>使用<code class="codeph">tfactl host</code>命令向Oracle Trace File Analyzer配置添加主机或从中删除主机。
                  </li>
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20">tfactl打印</a><br>使用<code class="codeph">tfactl print</code>命令打印Berkeley数据库中的信息。
                  </li>
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-8755EF2B-A037-4FB4-9376-F91BAF480101">休息</a><br>使用<code class="codeph">tfactl rest</code>命令配置REST服务。
                  </li>
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-73028EA0-D2CA-4DAD-B2D0-41FC57329CF6">tfactl restrictprotocol</a><br>使用<code class="codeph">tfactl restrictprotocol</code>命令限制某些协议。
                  </li>
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-B35F5CFD-F9F0-4678-B2AD-91C5898540A2">tfactl sendmail</a><br>使用<code class="codeph">tfactl sendmail</code>命令发送测试电子邮件以验证SMTP配置。
                  </li>
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-59B56691-8FD5-4130-A838-8E1AE2E8BB9C">tfactl设置</a><br>使用<code class="codeph">tfactl set</code>命令启用或禁用或修改各种Oracle跟踪文件分析器功能。
                  </li>
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-3F77B9DB-07DA-419B-93E3-15C125645282">tfactl setupmos</a><br>使用<code class="codeph">tfactl setupmos</code>命令将My Oracle Support凭据存储在Oracle钱包中。
                  </li>
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-BC6327D2-1E4F-4BA4-BD67-9D84060BC8A6">tfactl开始</a><br>使用<code class="codeph">tfactl start</code>命令在本地节点上启动Oracle Trace File Analyzer守护程序，并启动所需的支持工具。
                  </li>
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-0D19CE50-689E-4F5F-B469-D58C104EDF7F">tfactl状态</a><br>使用<code class="codeph">tfactl status</code>命令检查Oracle Trace File Analyzer的运行状态。
                  </li>
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-11DEC0D0-78FB-4009-936E-59DBB4E0212A">tfactl停止</a><br>使用<code class="codeph">tfactl stop</code>命令停止本地节点上的Oracle Trace File Analyzer守护程序，并停止所需的支持工具。
                  </li>
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-DFB900A9-0088-419F-AB8D-6889F78F6879">tfactl同步码</a><br>使用<code class="codeph">tfactl syncnodes</code>命令生成Oracle Trace File Analyzer证书并将其复制到其他Oracle Trace File Analyzer节点。
                  </li>
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-0186603E-9CC3-4016-A191-76FAED99F859">tfactl卸载</a><br>使用<code class="codeph">tfactl start</code>命令卸载Oracle Trace File Analyzer。
                  </li>
                  <li class="ulchildlink"><a href="running-administration-commands.html#GUID-6620DDE7-9C39-473C-B5BF-63E9E3BE2EAF">上传</a><br>使用<code class="codeph">tfactl upload</code>命令将集合或文件上载到服务请求。</li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="tfa-command-reference.html#GUID-C8230C20-6A23-4F41-9966-19CB6035AB6F" title="跟踪文件分析器控制实用程序TFACTL是Oracle跟踪文件分析器的命令行界面。">Oracle跟踪文件分析器安装程序，命令行和Shell选项</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-AA2A2AAA-04B4-441F-B27A-9312E7A07993" name="GUID-AA2A2AAA-04B4-441F-B27A-9312E7A07993"></a><h3 id="ATNMS-GUID-AA2A2AAA-04B4-441F-B27A-9312E7A07993" class="sect3"><span class="enumeration_section">E.2.1</span> tfactl访问</h3>
               <div>
                  <p>使用<code class="codeph">tfactl access</code>命令允许非root用户拥有对Oracle Trace File Analyzer的受控访问权限，以及运行诊断集合。
                  </p>
                  <div class="section">
                     <p>非root用户可以运行<code class="codeph">tfactl</code>命令的子集。运行命令子集使非root用户可以对Oracle Trace File Analyzer进行受控访问，并运行诊断集合。但是，仍需要<code class="codeph">root</code>访问权限才能安装和管理Oracle Trace File Analyzer。使用<code class="codeph">tfactl access</code>命令控制非root用户和组。根据您的业务需求添加或删除非root用户和组。
                     </p>
                     <div class="infoboxnote" id="GUID-AA2A2AAA-04B4-441F-B27A-9312E7A07993__GUID-64B66E55-9D6E-49E0-B65A-516714C736BF">
                        <p class="notep1">注意：</p>
                        <p>默认情况下，在安装或升级Oracle跟踪文件分析器时，所有Oracle主所有者，OS DBA组和ASM组都会添加到Oracle跟踪文件分析器访问管理器列表中。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AA2A2AAA-04B4-441F-B27A-9312E7A07993__GUID-18CDA6A3-CFFE-481A-8EC0-872656FE22AD">句法</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl access <span class="variable" translate="no">command</span> [options]命令：lsusers | add | remove | block | unblock | enable | disable | reset | removeall</code></pre><pre class="pre codeblock"><code>tfactl访问lsusers [-local]</code></pre><pre class="pre codeblock"><code>tfactl access add -user <span class="variable" translate="no">user_name</span> [-local]</code></pre><pre class="pre codeblock"><code>tfactl access remove -user <span class="variable" translate="no">user_name</span> [-all] [-local]</code></pre><pre class="pre codeblock"><code>tfactl访问块-user <span class="variable" translate="no">user_name</span> [-local]</code></pre><pre class="pre codeblock"><code>tfactl访问unblock -user <span class="variable" translate="no">user_name</span> [-local]</code></pre><pre class="pre codeblock"><code>tfactl access enable [-local]</code></pre><pre class="pre codeblock"><code>tfactl访问禁用[-local]</code></pre><pre class="pre codeblock"><code>tfactl访问重置</code></pre><pre class="pre codeblock"><code>tfactl访问removeall</code></pre></div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AA2A2AAA-04B4-441F-B27A-9312E7A07993__GUID-B55E99DC-A6C5-4880-BAD0-B7E0D4BE9398">参数</p>
                     <div class="tblformal" id="GUID-AA2A2AAA-04B4-441F-B27A-9312E7A07993__GUID-0C7570C2-EE5B-42B7-BA6C-FA57CE9A2F97">
                        <p class="titleintable">表E-3 tfactl访问命令参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="tfactl access命令参数" width="100%" border="1" summary="This table lists and describes tfactl access command parameters." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d74971e510">参数</th>
                                 <th align="left" valign="bottom" width="20%" id="d74971e512">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e516" headers="d74971e510 ">
                                    <p><code class="codeph">lsusers</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e516 d74971e512 ">
                                    <p>列出所有Oracle Trace File Analyzer用户和组。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e524" headers="d74971e510 ">
                                    <p><code class="codeph">启用</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e524 d74971e512 ">
                                    <p>为非root用户启用Oracle Trace File Analyzer访问。</p>
                                    <p>使用<code class="codeph">–local</code>标志仅更改本地节点上的设置。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e537" headers="d74971e510 ">
                                    <p><code class="codeph">禁用</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e537 d74971e512 ">
                                    <p>禁用非root用户的Oracle Trace File Analyzer访问权限。</p>
                                    <p>但是，如果稍后启用对非root用户的访问，则会存储被授予Oracle Trace File Analyzer访问权限的用户列表。</p>
                                    <p>使用<code class="codeph">–local</code>标志仅更改本地节点上的设置。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e552" headers="d74971e510 ">
                                    <p><code class="codeph">加</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e552 d74971e512 ">
                                    <p>将用户或组添加到Oracle Trace File Analyzer访问列表。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e560" headers="d74971e510 ">
                                    <p><code class="codeph">去掉</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e560 d74971e512 ">
                                    <p>从Oracle跟踪文件分析器访问列表中删除用户或组。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e568" headers="d74971e510 ">
                                    <p><code class="codeph">块</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e568 d74971e512 ">
                                    <p>阻止非root用户访问Oracle跟踪文件分析器。</p>
                                    <p>即使用户是被授予Oracle Trace File Analyzer访问权限的组的成员，也可以使用此命令阻止特定用户。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e578" headers="d74971e510 ">
                                    <p><code class="codeph">解锁</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e578 d74971e512 ">
                                    <p>为之前被阻止的非root用户启用Oracle Trace File Analyzer访问。</p>
                                    <p>使用此命令通过运行命令<code class="codeph">tfactl access block</code>来取消阻止之前阻止的用户。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e591" headers="d74971e510 ">
                                    <p><code class="codeph">重启</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e591 d74971e512 ">
                                    <p>重置为包含所有Oracle Home所有者和DBA组的默认访问列表。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e599" headers="d74971e510 ">
                                    <p><code class="codeph">移除所有</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e599 d74971e512 ">
                                    <p>删除所有Oracle Trace File Analyzer用户和组。</p>
                                    <p>从Oracle跟踪文件分析器访问列表中删除所有用户，包括默认用户和组。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-AA2A2AAA-04B4-441F-B27A-9312E7A07993__GUID-4CEBC69C-26AE-4EDF-BA70-B9646E404196">
                     <p class="titleinexample">示例E-1 tfactl访问</p>
                     <div class="p">列出所有Oracle Trace File Analyzer用户和组。<pre class="pre codeblock"><code>$ tfactl访问lsusers .---------------------------------。| rws1270069中的TFA用户| + ----------- + ----------- + --------- + |用户名|用户类型|状态| + ----------- + ----------- + --------- + | oradb |用户|允许| | oragrid |用户|允许| '----------- ----------- + --------- +'</code></pre></div>
                     <p>要将用户（例如， <span class="variable" translate="no">abc</span>到Oracle跟踪文件分析器访问列表，并启用跨群集的Oracle跟踪文件分析器访问。
                     </p><pre class="pre codeblock"><code>$ tfactl access add -user abc</code></pre><p>要将组的所有成员（例如， <span class="variable" translate="no">xyz</span>到Oracle Trace File Analyzer访问列表，并启用对localhost的Oracle Trace File Analyzer的访问。
                     </p><pre class="pre codeblock"><code>$ tfactl access add -group xyz -local</code></pre><p>要删除用户，例如，从Oracle跟踪文件分析器访问列表中删除<span class="variable" translate="no">abc</span> 。
                     </p><pre class="pre codeblock"><code>$ tfactl access remove -user abc</code></pre><p>阻止用户，例如， <span class="variable" translate="no">xyz</span>访问Oracle跟踪文件分析器。
                     </p><pre class="pre codeblock"><code>$ tfactl访问块-user xyz</code></pre><p>删除所有Oracle Trace File Analyzer用户和组。</p><pre class="pre codeblock"><code>$ tfactl访问removeall</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-7579FC0C-1B2C-4076-8EA5-345CE6AC854F" name="GUID-7579FC0C-1B2C-4076-8EA5-345CE6AC854F"></a><h3 id="ATNMS-GUID-7579FC0C-1B2C-4076-8EA5-345CE6AC854F" class="sect3"><span class="enumeration_section">E.2.2</span> tfactl可用性</h3>
               <div>
                  <p>使用<code class="codeph">tfactl availability</code>命令启用或禁用可用性分数的资源。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-7579FC0C-1B2C-4076-8EA5-345CE6AC854F__GUID-F2A63F84-EC4C-4714-BA79-81478B695390">句法</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl enable -key <span class="variable" translate="no">key</span> -value <span class="variable" translate="no">value</span> | -list</code></pre><pre class="pre codeblock"><code>tfactl disable -key <span class="variable" translate="no">key</span> -value <span class="variable" translate="no">value</span> [-for n <span class="variable" translate="no">d</span> | <span class="variable" translate="no">D</span> | <span class="variable" translate="no">h</span> | <span class="variable" translate="no">H</span> | <span class="variable" translate="no">m</span> | <span class="variable" translate="no">M</span> ] | -list [-for n <span class="variable" translate="no">d</span> | <span class="variable" translate="no">D</span> | <span class="variable" translate="no">h</span> | <span class="variable" translate="no">H</span> | <span class="variable" translate="no">m</span> | <span class="variable" translate="no">M</span> ]</code></pre></div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7579FC0C-1B2C-4076-8EA5-345CE6AC854F__GUID-872B46B5-96F1-4619-A3B3-D44876EFE4F8">参数</p>
                     <div class="tblformal" id="GUID-7579FC0C-1B2C-4076-8EA5-345CE6AC854F__GUID-E8607573-E975-4383-BE7E-8596FBA06674">
                        <p class="titleintable">表E-4 tfactl enable命令参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="tfactl enable命令参数" border="1" summary="This table lists and describes tfactl enable command parameters." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d74971e813">参数</th>
                                 <th align="left" valign="bottom" width="20%" id="d74971e815">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e819" headers="d74971e813 ">
                                    <p><code class="codeph">-type <span class="variable" translate="no">resource_type</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e819 d74971e815 ">
                                    <p>指定要启用的资源类型。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e829" headers="d74971e813 ">
                                    <p><code class="codeph">键<span class="variable" translate="no">key</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e829 d74971e815 ">
                                    <p>指定要启用的资源的密钥。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e839" headers="d74971e813 ">
                                    <p><code class="codeph">-list</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e839 d74971e815 ">
                                    <p>显示可用于启用的资源列表。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7579FC0C-1B2C-4076-8EA5-345CE6AC854F__GUID-1A4C72FE-18C1-467D-971E-A1052FAF0591">参数</p>
                     <div class="tblformal" id="GUID-7579FC0C-1B2C-4076-8EA5-345CE6AC854F__GUID-5137E78F-5E9E-42E7-BFD6-62A1EF27BFA3">
                        <p class="titleintable">表E-5 tfactl disable命令参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="tfactl disable命令参数" border="1" summary="This table lists and describes tfactl disable command parameters." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d74971e859">参数</th>
                                 <th align="left" valign="bottom" width="20%" id="d74971e861">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e865" headers="d74971e859 ">
                                    <p><code class="codeph">-type <span class="variable" translate="no">resource_type</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e865 d74971e861 ">
                                    <p>指定要启用的资源类型。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e875" headers="d74971e859 ">
                                    <p><code class="codeph">键<span class="variable" translate="no">key</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e875 d74971e861 ">
                                    <p>指定要启用的资源的密钥。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e885" headers="d74971e859 ">
                                    <p><code class="codeph">[ - 为n <span class="variable" translate="no">d</span> | <span class="variable" translate="no">D</span> | <span class="variable" translate="no">h</span> | <span class="variable" translate="no">H</span> | <span class="variable" translate="no">m</span> | <span class="variable" translate="no">M</span> ] | -list [-for n <span class="variable" translate="no">d</span> | <span class="variable" translate="no">D</span> | <span class="variable" translate="no">h</span> | <span class="variable" translate="no">H</span> | <span class="variable" translate="no">m</span> | <span class="variable" translate="no">M</span> ]</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e885 d74971e861 ">
                                    <p>指定日期，小时或分钟以确定将禁用资源的时间。默认为7天。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e931" headers="d74971e859 ">
                                    <p><code class="codeph">-list</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e931 d74971e861 ">
                                    <p>显示可用于禁用的资源列表。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-7579FC0C-1B2C-4076-8EA5-345CE6AC854F__GUID-577C6118-FE29-4ED3-BD57-CFF65A2ED5A6">
                     <p class="titleinexample">示例E-2 tfactl启用</p>
                     <div class="p"><pre class="pre codeblock"><code>/scratch/app/11.2.0.4/grid/bin/tfactl availability enable -list /scratch/app/11.2.0.4/grid/bin/tfactl availability enable -type server_disk -key filesystem -value“/ dev / xvdad1”/ scratch /app/11.2.0.4/grid/bin/tfactl availability enable -type server_network -key interface -value eth1</code></pre></div>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-7579FC0C-1B2C-4076-8EA5-345CE6AC854F__GUID-B49FF476-AC70-42D8-9444-DC1FB594FDCE">
                     <p class="titleinexample">示例E-3 tfactl禁用</p>
                     <div class="p"><pre class="pre codeblock"><code>/scratch/app/11.2.0.4/grid/bin/tfactl availability disable -list /scratch/app/11.2.0.4/grid/bin/tfactl availability disable -list -for 3d /scratch/app/11.2.0.4/grid/ bin / tfactl availability disable -list -for 15h /scratch/app/11.2.0.4/grid/bin/tfactl availability disable -type server_disk -key filesystem -value“/ dev / xvdad1”/scratch/app/11.2.0.4/grid / bin / tfactl availability disable -type server_network -key interface -value eth1 /scratch/app/11.2.0.4/grid/bin/tfactl availability disable -type server_disk -key filesystem -value“/ dev / xvdad1”-for 3d / scratch /app/11.2.0.4/grid/bin/tfactl availability disable -type server_network -key interface -value eth1 -for 12h</code></pre></div>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-6A26DC69-861E-474F-B6C6-6306C2B64716" name="GUID-6A26DC69-861E-474F-B6C6-6306C2B64716"></a><h3 id="ATNMS-GUID-6A26DC69-861E-474F-B6C6-6306C2B64716" class="sect3"><span class="enumeration_section">E.2.3</span> tfactl diagnosetfa</h3>
               <div>
                  <p>使用<code class="codeph">tfactl diagnosetfa</code>命令从本地节点收集Oracle跟踪文件分析器诊断数据，以识别Oracle跟踪文件分析器的问题。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-6A26DC69-861E-474F-B6C6-6306C2B64716__GUID-C0ADAF53-2EC6-47D7-87AE-CCB44CC62D32">句法</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl diagnosetfa [-repo <span class="variable" translate="no">repository</span> ] [-tag <span class="variable" translate="no">tag_name</span> ] [-local]</code></pre></div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6A26DC69-861E-474F-B6C6-6306C2B64716__GUID-EFF3C104-E7B9-4036-8CD8-A188F1E48B8F">参数</p>
                     <div class="tblformal" id="GUID-6A26DC69-861E-474F-B6C6-6306C2B64716__GUID-F115EA40-E63F-485C-9EFD-814CBA5A4CBB">
                        <p class="titleintable">表E-6 tfactl diagnosetfa命令参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="tfactl diagnosetfa命令参数" border="1" summary="This table lists and describes tfactl diagnosetfa command parameters." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d74971e1068">参数</th>
                                 <th align="left" valign="bottom" width="20%" id="d74971e1070">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e1074" headers="d74971e1068 ">
                                    <p><code class="codeph">-repo <span class="variable" translate="no">repository</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e1074 d74971e1070 ">
                                    <p>为Oracle Trace File Analyzer诊断集合指定存储库目录。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e1084" headers="d74971e1068 ">
                                    <p><code class="codeph">-tag <span class="variable" translate="no">tag_name</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e1084 d74971e1070 ">
                                    <p>Oracle Trace File Analyzer将文件收集到<code class="codeph">tag_name</code>目录中。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e1097" headers="d74971e1068 ">
                                    <p><code class="codeph">-本地</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e1097 d74971e1070 ">
                                    <p>仅在本地节点上运行Oracle跟踪文件分析器诊断。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-6A26DC69-861E-474F-B6C6-6306C2B64716__GUID-60B27AE4-3DBB-4D4E-9C6F-8854BABBCD75">
                     <p class="titleinexample">示例E-4 tfactl diagnosetfa</p>
                     <div class="p"><pre class="pre codeblock"><code>$ tfactl diagnosetfa -local运行TFA诊断...用于收集TFA诊断的节点列表：1 myhost在myhost上运行TFA诊断...Wed Sep 12 00:12:18 2018：收集TFA流程详情......Wed Sep 12 00:12:18 2018：收集TFA文件的详细信息......Wed Sep 12 00:12:19 2018：收集CRS状态......Wed Sep 12 00:12:19 2018：收集GI安装日志......Wed Sep 12 00:19:15 2018：收集TFA安装日志......Wed Sep 12 00:19:15 2018：收集磁盘空间......Wed Sep 12 00:19:16 2018：收集最高产量......Wed Sep 12 00:19:16 2018：收集TFA状态......Wed Sep 12 00:19:19 2018：收集JStack输出......Wed Sep 12 00:19:31 2018：收集TFA日志......Wed Sep 12 00:19:32 2018：收集TFA BDB统计数据......Wed Sep 12 00:19:43 2018：Zipping Collections ...睡10秒......正在收集TFA诊断信息至/ tmp / tfadiagnostics_20180912_001217：/tmp/tfadiagnostics_20180912_001217/myhost.zip</code></pre></div>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-C2CED5A0-2BEB-4EE4-AA21-6EEF59487A8D" name="GUID-C2CED5A0-2BEB-4EE4-AA21-6EEF59487A8D"></a><h3 id="ATNMS-GUID-C2CED5A0-2BEB-4EE4-AA21-6EEF59487A8D" class="sect3"><span class="enumeration_section">E.2.4</span> tfactl禁用</h3>
               <div>
                  <p>使用<code class="codeph">tfactl disable</code>命令停止任何正在运行的Oracle跟踪文件分析器守护程序并禁用自动重新启动。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-C2CED5A0-2BEB-4EE4-AA21-6EEF59487A8D__GUID-470C6917-CF9F-48A2-B315-AF737896724C">句法</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl禁用</code></pre></div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-84A69622-517D-479C-8BA3-6FD00D91FE59" name="GUID-84A69622-517D-479C-8BA3-6FD00D91FE59"></a><h3 id="ATNMS-GUID-84A69622-517D-479C-8BA3-6FD00D91FE59" class="sect3"><span class="enumeration_section">E.2.5</span> tfactl启用</h3>
               <div>
                  <p>使用<code class="codeph">tfactl enable</code>命令在故障或系统重新引导后启用Oracle Trace File Analyzer守护程序的自动重新启动。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-84A69622-517D-479C-8BA3-6FD00D91FE59__GUID-06CFBAD2-0512-431B-95D7-F7E91177DABC">句法</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl启用</code></pre></div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-54F0796B-ACEB-4398-85F8-E7E794C3E4B8" name="GUID-54F0796B-ACEB-4398-85F8-E7E794C3E4B8"></a><h3 id="ATNMS-GUID-54F0796B-ACEB-4398-85F8-E7E794C3E4B8" class="sect3"><span class="enumeration_section">E.2.6</span> tfactl主机</h3>
               <div>
                  <p>使用<code class="codeph">tfactl host</code>命令向Oracle Trace File Analyzer配置添加主机或从中删除主机。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-54F0796B-ACEB-4398-85F8-E7E794C3E4B8__GUID-3EB0DD36-F8AB-40F5-93FE-229B1EE29031">句法</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl host [add <span class="variable" translate="no">host_name</span> |删除<span class="variable" translate="no">host_name</span> ]</code></pre></div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-54F0796B-ACEB-4398-85F8-E7E794C3E4B8__GUID-4602D273-7E66-42CD-A0EE-89CAF71C23DA">使用说明</p>
                     <div class="p">使用<code class="codeph">tfactl print hosts</code>命令查看Oracle Trace File Analyzer配置中的当前主机列表。<code class="codeph">tfactl print hosts</code>命令列出属于Oracle跟踪文件分析器集群的主机：<pre class="pre codeblock"><code>$ tfactl print hosts主机名：node1主机名：node2</code></pre></div>
                     <p>添加新主机时，Oracle跟踪文件分析器会联系其他主机上的Oracle跟踪文件分析器实例。Oracle Trace File Analyzer使用证书对新主机进行身份验证，Oracle Trace File Analyzer实例同步其各自的主机列表。在跟踪证书同步之前，Oracle跟踪文件分析器不会添加新主机。</p>
                     <p>成功添加主机后，将在Berkeley数据库中注册的所有节点上激活所有群集范围的命令。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-54F0796B-ACEB-4398-85F8-E7E794C3E4B8__GUID-59ECCFF1-5790-4791-805C-25319F0DCC0E">
                     <p class="titleinexample">示例E-5 tfactl主机</p>
                     <div class="p">指定要添加的主机名：<pre class="pre codeblock"><code>$ tfactl host add myhost</code></pre></div>
                     <div class="p">指定要删除的主机名：<pre class="pre codeblock"><code>$ tfactl host删除myhost</code></pre></div>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20" name="GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20"></a><h3 id="ATNMS-GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20" class="sect3"><span class="enumeration_section">E.2.7</span> tfactl打印</h3>
               <div>
                  <p>使用<code class="codeph">tfactl print</code>命令打印Berkeley数据库中的信息。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20__GUID-9FF7E432-3B49-466F-B2C0-82939B604712">句法</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl print <span class="variable" translate="no">command</span> [options]命令：status | components | config | directories | hosts | actions | repository | suspendedips | protocols | smtp</code></pre><pre class="pre codeblock"><code>tfactl打印状态</code></pre><pre class="pre codeblock"><code>tfactl打印组件[[ <span class="variable" translate="no">component_name1</span> ] [ <span class="variable" translate="no">component_name2</span> ] ... [ <span class="variable" translate="no">component_nameN</span> ]]</code></pre><pre class="pre codeblock"><code>tfactl print config [-node all |当地的| <span class="variable" translate="no">n1</span> ， <span class="variable" translate="no">n2</span> ，... -name <span class="variable" translate="no">param</span> ]</code></pre><pre class="pre codeblock"><code>tfactl打印目录[-node all |当地的| <span class="variable" translate="no">n1</span> ， <span class="variable" translate="no">n2</span> ，...] [-comp <span class="variable" translate="no">component_name1</span> ， <span class="variable" translate="no">component_name2</span> ，...] [-policy exclusions | noexclusions] [-permission public |私人的 ]</code></pre><pre class="pre codeblock"><code>tfactl打印主机</code></pre><pre class="pre codeblock"><code>tfactl print actions [-status <span class="variable" translate="no">status</span> ] [-since <span class="variable" translate="no">n</span> <span class="variable" translate="no">h</span> | <span class="variable" translate="no">d</span> ]</code></pre><pre class="pre codeblock"><code>tfactl打印存储库</code></pre><pre class="pre codeblock"><code>tfactl print suspendedips</code></pre><pre class="pre codeblock"><code>tfactl打印协议</code></pre><pre class="pre codeblock"><code>tfactl print smtp</code></pre></div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20__GUID-81E23B63-A808-49D8-AD15-09D7E5DA3044">参数</p>
                     <div class="tblformal" id="GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20__GUID-11F64CEE-61CA-4FA7-89BE-22B7A6CA0165">
                        <p class="titleintable">表E-7 tfactl打印命令参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="tfactl print命令参数" width="100%" border="1" summary="This table lists and describes tfactl print command parameters." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d74971e1627">参数</th>
                                 <th align="left" valign="bottom" width="71%" id="d74971e1630">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e1635" headers="d74971e1627 ">
                                    <p><code class="codeph">状态</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e1635 d74971e1630 ">
                                    <p>显示群集中所有节点上的Oracle跟踪文件分析器的状态。此外，还显示Oracle跟踪文件分析器版本及其运行的端口。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e1643" headers="d74971e1627 ">
                                    <p><code class="codeph">组件</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e1643 d74971e1630 ">
                                    <p>在配置中显示所需的组件。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e1651" headers="d74971e1627 ">
                                    <p><code class="codeph">配置</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e1651 d74971e1630 ">
                                    <p>显示当前的Oracle跟踪文件分析器配置设置。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e1659" headers="d74971e1627 ">
                                    <p><code class="codeph">目录</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e1659 d74971e1630 ">
                                    <p>列出Oracle跟踪文件分析器扫描跟踪或日志文件数据的所有目录。此外，还显示为数据库，Oracle ASM和实例分配的跟踪目录的位置。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e1667" headers="d74971e1627 ">
                                    <p><code class="codeph">主机</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e1667 d74971e1630 ">
                                    <p>列出属于Oracle跟踪文件分析器群集的主机，并且可以接收群集范围的命令。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e1675" headers="d74971e1627 ">
                                    <p><code class="codeph">行动</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e1675 d74971e1630 ">
                                    <p>列出提交给Oracle Trace File Analyzer的所有操作，例如诊断集合。默认情况下， <code class="codeph">tfactl print</code>命令仅显示正在运行或在过去一小时内完成的操作。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e1686" headers="d74971e1627 ">
                                    <p><code class="codeph">知识库</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e1686 d74971e1630 ">
                                    <p>显示存储库目录的当前位置和已用空间量。最初，存储库目录的最大大小是10 GB或可用文件系统空间的50％中的较小者。如果超出最大大小或文件系统空间达到1 GB或更少，则Oracle跟踪文件分析器将暂停操作并关闭存储库。使用<code class="codeph">tfactl purge</code>命令清除存储库中的集合。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e1697" headers="d74971e1627 ">
                                    <p><code class="codeph">suspendedips</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e1697 d74971e1630 ">
                                    <p>列出所有暂停的Oracle Trace File Analyzer IPS集合。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e1705" headers="d74971e1627 ">
                                    <p><code class="codeph">协议</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e1705 d74971e1630 ">
                                    <p>列出所有可用和受限制的协议。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e1713" headers="d74971e1627 ">
                                    <p><code class="codeph">SMTP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e1713 d74971e1630 ">
                                    <p>显示SMTP服务器配置</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20__GUID-4E80D5ED-B1A7-405E-B17A-879CF5CFAF9C">选项</p>
                     <div class="tblformal" id="GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20__GUID-1608D56B-4CFD-435A-A74D-BA46E96FE93B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table lists and describes tfactl print actions command options." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d74971e1731">选项</th>
                                 <th align="left" valign="bottom" width="20%" id="d74971e1733">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e1737" headers="d74971e1731 ">
                                    <p><code class="codeph">- <span class="variable" translate="no">status</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e1737 d74971e1733 ">
                                    <p>操作状态可以是<code class="codeph">COMPLETE</code> ， <code class="codeph">RUNNING</code> ， <code class="codeph">FAILED</code> ， <code class="codeph">REQUESTED</code>一个或多个</p>
                                    <p>指定以逗号分隔的状态列表。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e1760" headers="d74971e1731 ">
                                    <p><code class="codeph">-由于<span class="variable" translate="no">n</span> <span class="variable" translate="no">h</span> | <span class="variable" translate="no">d</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e1760 d74971e1733 ">
                                    <p>指定过去<span class="variable" translate="no">n</span>天或<span class="variable" translate="no">n</span>小时的操作。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20__GUID-95132124-FD20-4AA1-B4A4-45BC31A79D00">
                     <p class="titleinexample">示例E-6 tfactl print smtp</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl print smtp .---------------------------。| SMTP服务器配置| + --------------- + ----------- + |参数|价值| + --------------- + ----------- + | smtp.auth |假| | smtp.from | tfa | | smtp.user | -  | | smtp.cc | -  | | smtp.port | 25 | | smtp.bcc | -  | | smtp.password | ******* | | smtp.host | localhost | | smtp.to | -  | | smtp.debug |是的| | smtp.ssl |假| '--------------- ----------- +'</code></pre></div>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20__GUID-AF266BA8-508C-4E00-A6D6-84C5D7E4B3D4">
                     <p class="titleinexample">示例E-7 tfactl打印协议</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl打印协议.---------------------------------------------- ----。| rws1270069 | + ------------------------------------------------- -  + |协议| + ------------------------------------------------- -  + |可用：[TLSv1.2] | |受限制：[SSLv3，SSLv2Hello，TLSv1，TLSv1.1] | “------------------------------------------------- - ”</code></pre></div>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20__GUID-F30EF4E3-B5E7-47B9-AC0B-B55D2083E7E3">
                     <p class="titleinexample">示例E-8 tfactl打印组件ASM</p>
                     <div class="p"><pre class="pre codeblock"><code>$ tfactl打印组件ASM .-------------------------------------------- ------。| XML组件| + --------------- + --------------------------------- -  + |领域|价值| + --------------- + --------------------------------- -  + |名称| ASM | |说明| ASM日志| |比较。类型|收集行动| |配置|所有| |子组件| name：需要实例：默认值：| |还收集| TNS | | | AFD | | | ASMPROXY | | | ASMIO | “--------------- + --------------------------------- - ”</code></pre></div>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20__GUID-4978D9B7-5304-4474-A5B8-5847FF77FE63">
                     <p class="titleinexample">示例E-9 tfactl打印组件ODASTORAGE</p>
                     <div class="p"><pre class="pre codeblock"><code>$ tfactl打印组件ODASTORAGE .-------------------------------------------。| XML组件| + --------------- + --------------------------- + |领域|价值| + --------------- + --------------------------- + |名称| ODASTORAGE | |说明| ODA存储日志和数据| |比较。类型|行动| |配置|官方发展援助| |还收集| OS | | |官方发展援助| | | ASM | | | DCS | '--------------- + ---------------------------'</code></pre></div>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20__GUID-145ECCFF-FB90-4D95-B381-BD283214C86D">
                     <p class="titleinexample">示例E-10 tfactl print config</p>
                     <div class="p"><pre class="pre codeblock"><code>$ tfactl print config .--------------------------------------------- ---------------------------------------。| rws1270069 | + ------------------------------------------------- ---------------------- + ------------ + |配置参数|价值| + ------------------------------------------------- ---------------------- + ------------ + | TFA版本| 18.3.0.0.0 | | Java版本| 1.8 | |公共IP网络|是的| |自动诊断收集|是的| |警报日志扫描|是的| |磁盘使用率监视器|是的| | Managelogs Auto Purge |假| |在diagcollection期间修剪文件|是的| |库存跟踪级别| 1 | |集合跟踪级别| 1 | |扫描跟踪级别| 1 | |其他跟踪级别| 1 | |存储库当前大小（MB）| 588 | |存储库最大大小（MB）| 4724 | |最大TFA日志大小（MB）| 50 | |最大TFA日志数| 10 | |核心文件的最大大小（MB）| 50 | |核心文件的最大集合大小（MB）| 500 | |启用警报日志扫描的最小可用空间（MB）| 500 | |连续磁盘使用快照（分钟）|之间的时间间隔60 | |连续管理日志之间的时间间隔自动清除（分钟）| 60 | |超过时间段的日志将被自动清除（天[d] |小时[h]）| 30d | |自动吹扫|是的| |清除收集年龄（小时）| 12 | | TFA IPS池大小| 5 | | TFA ISA清除年龄（秒）| 2592000 | | TFA ISA清除模式|简单| “------------------------------------------------- ---------------------- + ------------”</code></pre></div>
                     <p>在前面的示例输出中：</p>
                     <div class="p">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold"><code class="codeph">Automatic diagnostic collection</code></span> ：当<code class="codeph">ON</code> （默认为<code class="codeph">OFF</code> ）时，如果扫描警报日志，则在这些日志中查找特定事件会触发诊断收集。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><code class="codeph">Trimming of files during diagcollection</code></span> ：确定Oracle跟踪文件分析器是否修剪大文件以仅包含指定时间范围内的数据。当修剪<code class="codeph">OFF</code> ，不会对自动诊断采集进行修剪跟踪文件。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><code class="codeph">Repository current size in MB</code></span> ：存储库中使用了多少空间。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><code class="codeph">Repository maximum size in MB</code></span> ：存储库中存储空间的最大大小。最初，最大大小设置为文件系统中10 GB或50％可用空间中较小的一个。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><code class="codeph">Trace Level</code></span> ：1是默认值，值2,3和4具有增加的详细程度。虽然您可以动态设置跟踪级别以运行Oracle跟踪文件分析器守护程序，但增加跟踪级别会显着影响Oracle跟踪文件分析器的性能。仅在My Oracle Support的请求下增加跟踪级别。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><code class="codeph">Automatic Purging</code></span> ：默认情况下启用Oracle Trace File Analyzer集合的自动清除。如果Oracle Trace File Analyzer集合的年龄超过了“ <code class="codeph">Minimum Age of Collections to Purge</code>的<code class="codeph">Minimum Age of Collections to Purge</code>的值，则会清除它们，并且存储库空间已用尽。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><code class="codeph">Minimum Age of Collections to Purge (Hours)</code></span> ：Oracle跟踪文件分析器保留集合的最小小时数，之后Oracle跟踪文件分析器清除集合。您可以使用<code class="codeph">tfactl set minagetopurge= <span class="variable" translate="no">hours</span></code>命令<code class="codeph">tfactl set minagetopurge= <span class="variable" translate="no">hours</span></code> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><code class="codeph">Minimum Space free to enable Alert Log Scan (MB)</code></span> ：Oracle跟踪文件分析器临时挂起警报日志扫描的空间限制<span class="bold"><code class="codeph">Minimum Space free to enable Alert Log Scan (MB)</code></span> ，直到空间空闲为止。如果用于元数据数据库的文件系统上的空间低于限制，则Oracle跟踪文件分析器不会存储警报日志事件。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-8755EF2B-A037-4FB4-9376-F91BAF480101" name="GUID-8755EF2B-A037-4FB4-9376-F91BAF480101"></a><h3 id="ATNMS-GUID-8755EF2B-A037-4FB4-9376-F91BAF480101" class="sect3"><span class="enumeration_section">E.2.8</span> tfactl休息</h3>
               <div>
                  <p>使用<code class="codeph">tfactl rest</code>命令配置REST服务。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-8755EF2B-A037-4FB4-9376-F91BAF480101__GUID-B417CA7D-EEBD-499F-8A9A-BADB61864E24">句法</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl rest [-status | -start | -stop | -upgrade | -uninstall] [-dir <span class="variable" translate="no">directory</span> ] [-port <span class="variable" translate="no">port</span> ] [-user <span class="variable" translate="no">user</span> ] [-debug [ <span class="variable" translate="no">debug_level 1-6</span> ]]</code></pre></div>
                     <div class="infoboxnote" id="GUID-8755EF2B-A037-4FB4-9376-F91BAF480101__GUID-3212541E-B97B-4B38-8AE3-40AF227A270A">
                        <p class="notep1">注意：</p>
                        <p>您只能以<code class="codeph">root</code>用户身份运行REST命令。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8755EF2B-A037-4FB4-9376-F91BAF480101__GUID-152EBF23-6C00-4D32-B4C2-D5A96A2D895B">参数</p>
                     <div class="tblformal" id="GUID-8755EF2B-A037-4FB4-9376-F91BAF480101__GUID-004C27AB-C7EC-44F1-A51B-415318992661">
                        <p class="titleintable">表E-8 REST命令参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="REST命令参数" border="1" summary="This table lists and describes REST command parameters." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d74971e2022">参数</th>
                                 <th align="left" valign="bottom" width="20%" id="d74971e2024">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e2028" headers="d74971e2022 ">
                                    <p><code class="codeph">-状态</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e2028 d74971e2024 ">
                                    <p>打印当前状态。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e2036" headers="d74971e2022 ">
                                    <p><code class="codeph">-开始</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e2036 d74971e2024 ">
                                    <p>如果尚未运行，则启动Oracle跟踪文件分析器REST服务。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e2044" headers="d74971e2022 ">
                                    <p><code class="codeph">-停</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e2044 d74971e2024 ">
                                    <p>如果正在运行，则停止Oracle跟踪文件分析器REST服务。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e2052" headers="d74971e2022 ">
                                    <p><code class="codeph">-升级</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e2052 d74971e2024 ">
                                    <p>检查是否应升级配置的ORDS API。</p>
                                    <p>如果ORDS API需要升级，则停止ORDS，升级API，然后重新启动ORDS。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e2062" headers="d74971e2022 ">
                                    <p><code class="codeph">-卸载</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e2062 d74971e2024 ">
                                    <p>删除Oracle跟踪文件分析器REST配置。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e2070" headers="d74971e2022 ">
                                    <p><code class="codeph">-dir</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e2070 d74971e2024 ">
                                    <p>用于存储Oracle跟踪文件分析器REST配置详细信息的目录。</p>
                                    <p>默认为用户主目录。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e2080" headers="d74971e2022 ">
                                    <p><code class="codeph">-港口</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e2080 d74971e2024 ">
                                    <p>要运行ORDS的端口。</p>
                                    <p>默认为9090。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e2090" headers="d74971e2022 ">
                                    <p><code class="codeph">-用户</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e2090 d74971e2024 ">
                                    <p>用户启动ORDS为。</p>
                                    <p>默认为GRID所有者。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e2100" headers="d74971e2022 ">
                                    <p><code class="codeph">-debug</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e2100 d74971e2024 ">
                                    <p>启用调试。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e2108" headers="d74971e2022 ">
                                    <p><code class="codeph">-水平</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e2108 d74971e2024 ">
                                    <div class="p">要使用的调试级别，可用级别为：<ul style="list-style-type:disc">
                                          <li>
                                             <p>1  - 致命</p>
                                          </li>
                                          <li>
                                             <p>2  - 错误</p>
                                          </li>
                                          <li>
                                             <p>3  - 警告</p>
                                          </li>
                                          <li>
                                             <p>4  -  INFO（默认）</p>
                                          </li>
                                          <li>
                                             <p>5  - 调试</p>
                                          </li>
                                          <li>
                                             <p>6  - 追踪</p>
                                          </li>
                                       </ul>
                                    </div>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-73028EA0-D2CA-4DAD-B2D0-41FC57329CF6" name="GUID-73028EA0-D2CA-4DAD-B2D0-41FC57329CF6"></a><h3 id="ATNMS-GUID-73028EA0-D2CA-4DAD-B2D0-41FC57329CF6" class="sect3"><span class="enumeration_section">E.2.9</span> tfactl restrictprotocol</h3>
               <div>
                  <p>使用<code class="codeph">tfactl restrictprotocol</code>命令限制某些协议。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-73028EA0-D2CA-4DAD-B2D0-41FC57329CF6__GUID-85D4D284-B704-480C-9D3B-CA402756C3E2">句法</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl restrictprotocol [-force] <span class="variable" translate="no">protocol</span></code></pre></div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-73028EA0-D2CA-4DAD-B2D0-41FC57329CF6__GUID-C3F4A4FC-60EF-47FF-9E22-474D7DA1E8E2">
                     <p class="titleinexample">示例E-11 tfactl restrictprotocol</p>
                     <div class="p"><pre class="pre codeblock"><code>$ tfactl restrictprotocol TLSv1</code></pre></div>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-B35F5CFD-F9F0-4678-B2AD-91C5898540A2" name="GUID-B35F5CFD-F9F0-4678-B2AD-91C5898540A2"></a><h3 id="ATNMS-GUID-B35F5CFD-F9F0-4678-B2AD-91C5898540A2" class="sect3"><span class="enumeration_section">E.2.10</span> tfactl sendmail</h3>
               <div>
                  <p>使用<code class="codeph">tfactl sendmail</code>命令发送测试电子邮件以验证SMTP配置。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B35F5CFD-F9F0-4678-B2AD-91C5898540A2__GUID-8895DB4D-C906-4A9B-B7C6-791D582B1AEB">句法</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl sendmail <span class="variable" translate="no">email_address</span></code></pre></div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-59B56691-8FD5-4130-A838-8E1AE2E8BB9C" name="GUID-59B56691-8FD5-4130-A838-8E1AE2E8BB9C"></a><h3 id="ATNMS-GUID-59B56691-8FD5-4130-A838-8E1AE2E8BB9C" class="sect3"><span class="enumeration_section">E.2.11</span> tfactl集</h3>
               <div>
                  <p>使用<code class="codeph">tfactl set</code>命令启用或禁用或修改各种Oracle跟踪文件分析器功能。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-59B56691-8FD5-4130-A838-8E1AE2E8BB9C__GUID-29F4C6C6-7A48-458F-9A8A-483EFD8919D8">句法</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl set [autodiagcollect = ON | OFF | trimfiles = ON | OFF | tracelevel = COLLECT | SCAN |库存|其他：1 | 2 | 3 | 4 |重新定位MB = <span class="variable" translate="no">n</span> | repositorydir = <span class="variable" translate="no">dir</span> [-force] | logsize = <span class="variable" translate="no">n</span> [-local] | logcount = <span class="variable" translate="no">n</span> [-local] | maxcorefilesize = <span class="variable" translate="no">n</span> [-local] | maxcorecollectionsize = <span class="variable" translate="no">n</span> [-local] autopurge = ON | OFF | publicip = ON | OFF | minSpaceForRTScan = <span class="variable" translate="no">n</span> | rtscan = ON | OFF | diskUsageMon = ON | OFF | diskUsageMonInterval = <span class="variable" translate="no">n</span> | manageLogsAutoPurge = ON | OFF | manageLogsAutoPurgeInterval = <span class="variable" translate="no">n</span> | manageLogsAutoPurgePolicyAge = <span class="variable" translate="no">d</span> | <span class="variable" translate="no">h</span> | minagetopurge = <span class="variable" translate="no">n</span> | tfaIpsPoolSize = <span class="variable" translate="no">n</span> | tfaDbUtlPurgeAge = <span class="variable" translate="no">n</span> | tfaDbUtlPurgeMode = simple | resource] [-c]</code></pre></div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-59B56691-8FD5-4130-A838-8E1AE2E8BB9C__GUID-73C9BBD5-741C-4433-8188-FA1DE1F0E551">参数</p>
                     <div class="tblformal" id="GUID-59B56691-8FD5-4130-A838-8E1AE2E8BB9C__GUID-B920F76D-52C9-403C-A800-B267EF5462F8">
                        <p class="titleintable">表E-9 tfactl set命令参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="tfactl set命令参数" width="100%" border="1" summary="This table lists and describes tfactl set command parameters." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d74971e2527">参数</th>
                                 <th align="left" valign="bottom" width="71%" id="d74971e2530">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2535" headers="d74971e2527 ">
                                    <p><code class="codeph">autodiagcollect = ON |关闭</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2535 d74971e2530 ">
                                    <p>设置为<code class="codeph">OFF</code> （默认）时，禁用自动诊断收集。如果设置为<code class="codeph">ON</code> ，则Oracle Trace File Analyzer会在Oracle Trace File Analyzer扫描警报日志时发生某些模式时自动收集诊断信息。
                                    </p>
                                    <p>要为Oracle跟踪文件分析器集群的所有节点设置自动收集，必须指定<code class="codeph">-c</code>参数。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2554" headers="d74971e2527 ">
                                    <p><code class="codeph">trimfiles = ON | OFF</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2554 d74971e2530 ">
                                    <p>设置为<code class="codeph">ON</code> ，Oracle Trace File Analyzer会在诊断收集作为扫描的一部分完成时修剪文件以仅包含相关数据。
                                    </p>
                                    <p>注意：使用<code class="codeph">tfactl diagcollect</code> ，可以使用指定的参数确定修剪的时间范围。Oracle建议您<span class="italic">不要</span>将此参数设置为<code class="codeph">OFF</code> ，因为未修剪的数据会占用很多空间。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2576" headers="d74971e2527 ">
                                    <p><code class="codeph">tracelevel = COLLECT |扫描|库存|其他：1 | 2 | 3 | 4</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2576 d74971e2530 ">
                                    <p>您可以为某些操作设置跟踪级别，包括<code class="codeph">INVENTORY: <span class="variable" translate="no">n</span></code> ， <code class="codeph">SCAN: <span class="variable" translate="no">n</span></code> ， <code class="codeph">COLLECT: <span class="variable" translate="no">n</span></code> ， <code class="codeph">OTHER: <span class="variable" translate="no">n</span></code> 。在此语法中， <code class="codeph"><span class="variable" translate="no">n</span></code>是1到4之间的数字， <code class="codeph">OTHER</code>包括与前三个组件无关的所有消息。
                                    </p>
                                    <p><span class="bold">注意：</span>除非My Oracle Support指示您这样做，否则请勿更改跟踪级别。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2616" headers="d74971e2527 ">
                                    <p><code class="codeph">重新定位MB = <span class="variable" translate="no">number</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2616 d74971e2530 ">
                                    <p>设置集合存储库的最大大小（MB）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2626" headers="d74971e2527 ">
                                    <p><code class="codeph">repositorydir = <span class="variable" translate="no">directory</span> [-force]</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2626 d74971e2530 ">
                                    <p>指定集合存储库目录。</p>
                                    <p>使用<code class="codeph">-force</code>选项在更改存储库时跳过初始检查（不推荐）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2642" headers="d74971e2527 ">
                                    <p><code class="codeph">logsize = <span class="variable" translate="no">n</span> [-local]</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2642 d74971e2530 ">
                                    <p>设置Oracle跟踪文件分析器旋转到新日志之前每个日志的最大大小（MB）（默认值为50 MB）。使用<code class="codeph">-local</code>参数仅将更改应用于本地节点。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2656" headers="d74971e2527 ">
                                    <p><code class="codeph">logcount = <span class="variable" translate="no">n</span> [-local]</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2656 d74971e2530 ">
                                    <p>设置Oracle跟踪文件分析器保留的指定大小的最大日志数（默认值为10）。使用<code class="codeph">-local</code>选项仅将更改应用于本地节点。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2670" headers="d74971e2527 ">
                                    <p><code class="codeph">port = <span class="variable" translate="no">n</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2670 d74971e2530 ">
                                    <p>指定Oracle跟踪文件分析器端口。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2680" headers="d74971e2527 ">
                                    <p><code class="codeph">maxcorefilesize = <span class="variable" translate="no">n</span> [-local]</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2680 d74971e2530 ">
                                    <p>将核心文件的最大大小设置为以MB为单位指定的大小（默认值为20 MB）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2691" headers="d74971e2527 ">
                                    <p><code class="codeph">maxcorecollectionsize = <span class="variable" translate="no">n</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2691 d74971e2530 ">
                                    <p>将核心文件的最大集合大小设置为以MB为单位指定的大小（默认值为200 MB）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2701" headers="d74971e2527 ">
                                    <p><code class="codeph">publicip = ON | OFF</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2701 d74971e2530 ">
                                    <p>允许Oracle Trace File Analyzer在公共网络上运行。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2710" headers="d74971e2527 ">
                                    <p><code class="codeph">SMTP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2710 d74971e2530 ">
                                    <p>在提示时指定用于电子邮件通知的SMTP服务器的配置详细信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2718" headers="d74971e2527 ">
                                    <p><code class="codeph">minSpaceForRTScan = <span class="variable" translate="no">n</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2718 d74971e2530 ">
                                    <p>指定运行RT扫描所需的最小空间（默认值为500）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2728" headers="d74971e2527 ">
                                    <p><code class="codeph">rtscan</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2728 d74971e2530 ">
                                    <p>指定允许Oracle跟踪文件分析器执行警报日志扫描。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2736" headers="d74971e2527 ">
                                    <p><code class="codeph">diskUsageMon = ON | OFF</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2736 d74971e2530 ">
                                    <p>打开（默认）或关闭监视磁盘使用情况和记录快照。</p>
                                    <p>Oracle跟踪文件分析器将快照存储在<code>tfa/repository/suptools/ <span class="variable" translate="no">node</span> /managelogs/usage_snapshot/</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2752" headers="d74971e2527 ">
                                    <p><code class="codeph">diskUsageMonInterval = <span class="variable" translate="no">minutes</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2752 d74971e2530 ">
                                    <p>指定快照之间的时间间隔（默认为60分钟）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2762" headers="d74971e2527 ">
                                    <p><code class="codeph">manageLogsAutoPurge = ON |关闭</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2762 d74971e2530 ">
                                    <p>打开或关闭自动清除（默认情况下在DSC中为ON，在其他位置默认为OFF）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2770" headers="d74971e2527 ">
                                    <p><code class="codeph">manageLogsAutoPurgeInterval = <span class="variable" translate="no">minutes</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2770 d74971e2530 ">
                                    <p>指定清除频率（默认为60分钟）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2780" headers="d74971e2527 ">
                                    <p><code class="codeph">manageLogsAutoPurgePolicyAge = <span class="variable" translate="no">n</span> d | h</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2780 d74971e2530 ">
                                    <p>要清除的日志年龄（默认为30天）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2791" headers="d74971e2527 ">
                                    <p><code class="codeph">minagetopurge = <span class="variable" translate="no">n</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2791 d74971e2530 ">
                                    <p>在Oracle跟踪文件分析器将其视为清除之前，设置集合的最小年龄（以小时为单位）（默认为12小时）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2801" headers="d74971e2527 ">
                                    <p><code class="codeph">autopurge</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2801 d74971e2530 ">
                                    <p>设置为<code class="codeph">ON</code> ，如果Oracle Trace File Analyzer在存储库中观察到较少的空间（默认为<code class="codeph">ON</code> ），则启用自动清除集合。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2815" headers="d74971e2527 ">
                                    <p><code class="codeph">tfaIpsPoolSize = <span class="variable" translate="no">n</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2815 d74971e2530 ">
                                    <p>设置Oracle跟踪文件分析器IPS池大小。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2826" headers="d74971e2527 ">
                                    <p><code class="codeph">tfaDbUtlPurgeAge = <span class="variable" translate="no">n</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2826 d74971e2530 ">
                                    <p>设置Oracle跟踪文件分析器ISA清除时间（以秒为单位）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2836" headers="d74971e2527 ">
                                    <p><code class="codeph">tfaDbUtlPurgeMode =简单|资源</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2836 d74971e2530 ">
                                    <p>设置Oracle跟踪文件分析器ISA清除模式（简单/资源）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d74971e2844" headers="d74971e2527 ">
                                    <p><code class="codeph">-C</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d74971e2844 d74971e2530 ">
                                    <p>将设置传播到Oracle Trace File Analyzer配置中的所有节点。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-59B56691-8FD5-4130-A838-8E1AE2E8BB9C__GUID-690CB5D6-B5A2-429D-BD26-6D38A6E7F2DF">
                     <p class="titleinexample">示例E-12 tfactl set</p>
                     <div class="p"><pre class="pre codeblock"><code>$ tfactl set autodiagcollect = ON reposizeMB = 20480 $ tfactl set autodiagcollect = ON $ tfactl set autopurge = ON $ tfactl set tracelevel = INVENTORY：3 $ tfactl set reposizeMB = 20480 $ tfactl set logsize = 100 $ tfactl set port = 5000</code></pre></div>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-3F77B9DB-07DA-419B-93E3-15C125645282" name="GUID-3F77B9DB-07DA-419B-93E3-15C125645282"></a><h3 id="ATNMS-GUID-3F77B9DB-07DA-419B-93E3-15C125645282" class="sect3"><span class="enumeration_section">E.2.12</span> tfactl setupmos</h3>
               <div>
                  <p>使用<code class="codeph">tfactl setupmos</code>命令将My Oracle Support凭据存储在Oracle钱包中。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-3F77B9DB-07DA-419B-93E3-15C125645282__GUID-DF642B2B-B913-4D5B-88B7-8E118DB8328F">句法</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl setupmos</code></pre></div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-BC6327D2-1E4F-4BA4-BD67-9D84060BC8A6" name="GUID-BC6327D2-1E4F-4BA4-BD67-9D84060BC8A6"></a><h3 id="ATNMS-GUID-BC6327D2-1E4F-4BA4-BD67-9D84060BC8A6" class="sect3"><span class="enumeration_section">E.2.13</span> tfactl开始</h3>
               <div>
                  <p>使用<code class="codeph">tfactl start</code>命令在本地节点上启动Oracle Trace File Analyzer守护程序，并启动所需的支持工具。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-BC6327D2-1E4F-4BA4-BD67-9D84060BC8A6__GUID-DA878CD9-5A66-47A5-94DD-5CE3B58AFEB8">句法</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl start [ <span class="variable" translate="no">tool</span> ]</code></pre></div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-0D19CE50-689E-4F5F-B469-D58C104EDF7F" name="GUID-0D19CE50-689E-4F5F-B469-D58C104EDF7F"></a><h3 id="ATNMS-GUID-0D19CE50-689E-4F5F-B469-D58C104EDF7F" class="sect3"><span class="enumeration_section">E.2.14</span> tfactl状态</h3>
               <div>
                  <p>使用<code class="codeph">tfactl status</code>命令检查Oracle Trace File Analyzer的运行状态。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-0D19CE50-689E-4F5F-B469-D58C104EDF7F__GUID-535C785E-F74B-4B9A-B08A-9849030B88DD">句法</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl状态</code></pre></div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-0D19CE50-689E-4F5F-B469-D58C104EDF7F__GUID-130FC68B-F0DF-4E7E-ADE5-F1BCACE220CC">
                     <p class="titleinexample">示例E-13 tfactl状态</p>
                     <div class="p"><pre class="pre codeblock"><code>$ / tfactl status .--------------------------------------------- -------------------------------------------------- - 。|主持人| TFA的状态| PID |港口|版本|构建ID |库存状态| + ------------ + -------- + ----- + ------ + ------- ----- + ---------------------- + ------------------ + | rws1270069 |跑步| 316 | 5000 | 18.3.0.0.0 | 18300020180828031750 |完成| “------------ + -------- + ----- + ------ + ------- ----- + + ---------------------- ------------------”</code></pre></div>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-11DEC0D0-78FB-4009-936E-59DBB4E0212A" name="GUID-11DEC0D0-78FB-4009-936E-59DBB4E0212A"></a><h3 id="ATNMS-GUID-11DEC0D0-78FB-4009-936E-59DBB4E0212A" class="sect3"><span class="enumeration_section">E.2.15</span> tfactl停止</h3>
               <div>
                  <p>使用<code class="codeph">tfactl stop</code>命令停止本地节点上的Oracle Trace File Analyzer守护程序，并停止所需的支持工具。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-11DEC0D0-78FB-4009-936E-59DBB4E0212A__GUID-C8FEFA21-0449-4357-A129-841F1205BDE7">句法</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl停止[ <span class="variable" translate="no">tool</span> ]</code></pre></div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-DFB900A9-0088-419F-AB8D-6889F78F6879" name="GUID-DFB900A9-0088-419F-AB8D-6889F78F6879"></a><h3 id="ATNMS-GUID-DFB900A9-0088-419F-AB8D-6889F78F6879" class="sect3"><span class="enumeration_section">E.2.16</span> tfactl同步码</h3>
               <div>
                  <p>使用<code class="codeph">tfactl syncnodes</code>命令生成Oracle Trace File Analyzer证书并将其复制到其他Oracle Trace File Analyzer节点。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-DFB900A9-0088-419F-AB8D-6889F78F6879__GUID-66FCBE83-F6DD-4DEB-B0A2-B74B7D4A5D24">句法</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl syncnodes [-regenerate]</code></pre></div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DFB900A9-0088-419F-AB8D-6889F78F6879__GUID-F892F024-9A84-4E0D-B281-A1843326B10E">参数</p>
                     <div class="tblformal" id="GUID-DFB900A9-0088-419F-AB8D-6889F78F6879__GUID-D6C20E44-4DA7-499F-BF87-5DA765E33D9C">
                        <p class="titleintable">表E-10 tfactl syncnodes命令参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="tfactl syncnodes命令参数" border="1" summary="This table lists and describes tfactl syncnodes command parameters." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d74971e3350">参数</th>
                                 <th align="left" valign="bottom" width="20%" id="d74971e3352">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e3356" headers="d74971e3350 ">
                                    <p><code class="codeph">-再生</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e3356 d74971e3352 ">
                                    <p>重新生成Oracle跟踪文件分析器证书。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-0186603E-9CC3-4016-A191-76FAED99F859" name="GUID-0186603E-9CC3-4016-A191-76FAED99F859"></a><h3 id="ATNMS-GUID-0186603E-9CC3-4016-A191-76FAED99F859" class="sect3"><span class="enumeration_section">E.2.17</span> tfactl卸载</h3>
               <div>
                  <p>使用<code class="codeph">tfactl start</code>命令卸载Oracle Trace File Analyzer。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-0186603E-9CC3-4016-A191-76FAED99F859__GUID-B65C5857-4320-4551-BA20-5FDB8FDDAE6A">句法</p>
                     <p>以<code class="codeph">root</code>用户身份运行<code class="codeph">uninstall</code>命令，或者安装user</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl卸载</code></pre></div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-6620DDE7-9C39-473C-B5BF-63E9E3BE2EAF" name="GUID-6620DDE7-9C39-473C-B5BF-63E9E3BE2EAF"></a><h3 id="ATNMS-GUID-6620DDE7-9C39-473C-B5BF-63E9E3BE2EAF" class="sect3"><span class="enumeration_section">E.2.18</span> tfactl上传</h3>
               <div>
                  <p>使用<code class="codeph">tfactl upload</code>命令将集合或文件上载到服务请求。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-6620DDE7-9C39-473C-B5BF-63E9E3BE2EAF__GUID-D805E993-0ACE-429C-BEC8-EEA83A567D2F">句法</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl upload -sr <span class="variable" translate="no">SR#</span> [ -  user <span class="variable" translate="no">UserId</span> | -wallet] <span class="variable" translate="no">Files</span></code></pre></div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6620DDE7-9C39-473C-B5BF-63E9E3BE2EAF__GUID-C4905865-457C-429F-8D02-E4EBE8EA2001">参数</p>
                     <div class="tblformal" id="GUID-6620DDE7-9C39-473C-B5BF-63E9E3BE2EAF__GUID-2C44A2FE-9728-4438-AF55-E12F4EAF3A33">
                        <p class="titleintable">表E-11 tfactl upload命令参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="tfactl upload命令参数" border="1" summary="This table lists and describes tfactl upload command parameters." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d74971e3587">参数</th>
                                 <th align="left" valign="bottom" width="20%" id="d74971e3589">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e3593" headers="d74971e3587 ">
                                    <p><code class="codeph">-sr <span class="variable" translate="no">SR#</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e3593 d74971e3589 ">
                                    <p>指定用于文件上载的服务请求编号。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e3603" headers="d74971e3587 ">
                                    <p><code class="codeph">-user <span class="variable" translate="no">userid</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e3603 d74971e3589 ">
                                    <p>指定My Oracle Support用户标识。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e3613" headers="d74971e3587 ">
                                    <p><code class="codeph">-钱包</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e3613 d74971e3589 ">
                                    <p>使用此选项可以使用<code class="codeph">upload</code>命令来使用Oracle wallet中的凭据。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d74971e3624" headers="d74971e3587 ">
                                    <p><code class="codeph"><span class="variable" translate="no">档</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d74971e3624 d74971e3589 ">
                                    <p>指定要上载的以空格分隔的文件列表。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="running-administration-commands.html#GUID-2178AB8E-FEAE-43EA-9878-FD646DD67484" title="您需要root访问tfactl或sudo访问权限才能运行所有管理命令。">运行管理命令</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="00207.LOB-storage-with-applications.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>带应用程序的LOB存储</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database SecureFiles and Large Objects Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database SecureFiles and Large Objects Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="securefiles-and-large-objects-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T02:58:18-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96333-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="application-design-with-LOBs.html" title="Previous" type="text/html"></link>
      <link rel="next" href="advanced-design-considerations.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SecureFiles and Large Objects Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADLOB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="application-design-with-LOBs.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="advanced-design-considerations.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database SecureFiles和Large Objects Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="application-design-with-LOBs.html" property="item" typeof="WebPage"><span property="name">LOB的应用程序设计</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">带应用程序的LOB存储</li>
            </ol>
            <a id="GUID-A81490D2-D92D-4513-81B3-FD672D0D267C" name="GUID-A81490D2-D92D-4513-81B3-FD672D0D267C"></a><a id="ADLOB45259"></a>
            
            <h2 id="ADLOB-GUID-A81490D2-D92D-4513-81B3-FD672D0D267C" class="sect2"><span class="enumeration_chapter">13</span> LOB存储与应用程序</h2>
         </header>
         <div class="ind">
            <div>
               <p>包含具有LOB列的表的应用程序可以使用<code class="codeph">SECUREFILE</code>和<code class="codeph">BASICFILE</code> LOB。如果某个功能仅适用于一种LOB，则说明这一点。
               </p>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="LOB-storage-with-applications.html#GUID-F02AB4ED-3EF6-436D-B441-074034D1EB7A">包含LOB的表</a></p>
                  </li>
                  <li>
                     <p><a href="LOB-storage-with-applications.html#GUID-FCF2526E-DB6D-4A77-AA4F-1DFB59E90784">LOB列的数据类型</a></p>
                  </li>
                  <li>
                     <p><a href="LOB-storage-with-applications.html#GUID-517E1234-EFCD-4D16-B69B-23F72A18A77D">LOB存储参数</a></p>
                  </li>
                  <li>
                     <p><a href="LOB-storage-with-applications.html#GUID-DF2C343F-6937-4E9B-A15F-141A90AAC92E">LOB列索引</a></p>
                  </li>
                  <li>
                     <p><a href="LOB-storage-with-applications.html#GUID-F4B2B0C3-6E8E-47A4-A46C-8014DAAD7B42">分区表中的LOB操作</a></p>
                  </li>
                  <li>
                     <p><a href="LOB-storage-with-applications.html#GUID-5E0E0772-C5CE-458A-AD07-E8DB32C24231">索引组织表中的LOB</a></p>
                  </li>
                  <li>
                     <p><a href="LOB-storage-with-applications.html#GUID-FD9C0216-EACF-4F21-B298-11336B4F4E75">分区索引组织表中LOB的限制</a></p>
                  </li>
                  <li>
                     <p><a href="LOB-storage-with-applications.html#GUID-FFA3FAB5-694E-49C5-A8AF-B21B441BEFCC">更新嵌套表中的LOB</a></p>
                  </li>
               </ul>
            </div><a id="ADLOB45260"></a><div class="props_rev_3"><a id="GUID-F02AB4ED-3EF6-436D-B441-074034D1EB7A" name="GUID-F02AB4ED-3EF6-436D-B441-074034D1EB7A"></a><h3 id="ADLOB-GUID-F02AB4ED-3EF6-436D-B441-074034D1EB7A" class="sect3">包含LOB的表</h3>
               <div>
                  <p>创建包含LOB的表时，请使用以下准则：</p>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-B30B5E05-1220-4880-A64D-3A6275E20C08">持久LOB初始化为NULL或Empty</a></p>
                     </li>
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-138D2EC5-7097-4710-9F6E-5FE2F01E4B21">初始化LOB</a></p>
                     </li>
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-B48DCD1B-0533-48FF-9F7C-AB673A35AE0A">将持久性LOB列和属性初始化为值</a></p>
                     </li>
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-F38219C8-6B10-49AF-AC9C-2548FC2D31A2">将BFILE初始化为NULL或文件名</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB45261"></a><div class="props_rev_3"><a id="GUID-B30B5E05-1220-4880-A64D-3A6275E20C08" name="GUID-B30B5E05-1220-4880-A64D-3A6275E20C08"></a><h4 id="ADLOB-GUID-B30B5E05-1220-4880-A64D-3A6275E20C08" class="sect4">持久LOB初始化为NULL或Empty</h4>
                  <div>
                     <p>您可以设置持久性LOB（即表中的LOB列）或您定义的对象类型中的LOB属性为<code class="codeph">NULL</code>或空：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">将持久性LOB设置为NULL：</span>设置为<code class="codeph">NULL</code>的LOB没有定位符。<code class="codeph">NULL</code>值存储在表中的行中，而不是定位符。这与所有其他数据类型的过程相同。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">将持久LOB设置为空：</span>相反，存储在表中的空LOB是具有定位符的零长度LOB。因此，如果您从空的LOB列或属性中进行<code class="codeph">SELECT</code> ，那么您将获得一个定位器，您可以使用该定位器使用支持的编程环境（如OCI或<code class="codeph">PL/SQL(DBMS_LOB</code> ））使用数据填充LOB。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-B30B5E05-1220-4880-A64D-3A6275E20C08__NOTE-133-DFDBEB8C">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="overview-of-supplied-LOB-APIs.html#GUID-54BD371D-4486-48FD-BBCE-6374D03E5697">提供的LOB API概述，</a>以获取有关支持的环境的更多信息</p>
                     </div>
                  </div><a id="ADLOB45262"></a><div class="props_rev_3"><a id="GUID-2A9490EB-7791-4EDA-8218-F96AFEBDF92E" name="GUID-2A9490EB-7791-4EDA-8218-F96AFEBDF92E"></a><h5 id="ADLOB-GUID-2A9490EB-7791-4EDA-8218-F96AFEBDF92E" class="sect5">将持久LOB设置为NULL</h5>
                     <div>
                        <div class="section">
                           <p>您可能希望在插入行时将持久性LOB值设置为<code class="codeph">NULL</code> 。
                           </p>
                           <p>这些是有用的可能情况：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果您在<code class="codeph">INSERT</code>时没有LOB数据。</p>
                              </li>
                              <li>
                                 <p>如果要使用<code class="codeph">SELECT</code>语句（如下所示）来确定LOB是否包含<code class="codeph">NULL</code>值：</p><pre class="oac_no_warn" dir="ltr">SELECT COUNT（*）FROM print_media WHERE ad_graphic IS NOT NULL; SELECT COUNT（*）FROM print_media WHERE ad_graphic IS NULL;</pre></li>
                           </ul>
                           <p>请注意，您不能在<code class="codeph">NULL</code>上调用OCI或<code class="codeph">DBMS_LOB</code>函数<a id="d75921e406" class="indexterm-anchor"></a><a id="d75921e410" class="indexterm-anchor"></a><a id="d75921e412" class="indexterm-anchor"></a><a id="d75921e414" class="indexterm-anchor"></a> LOB，因此您必须使用SQL <code class="codeph">UPDATE</code>语句将LOB列重置为非<code class="codeph">NULL</code> （或空）值。
                           </p>
                           <p>关键是你不能在支持的编程环境中对<code class="codeph">NULL.</code>的LOB进行函数调用<code class="codeph">NULL.</code>这些函数仅适用于定位器，如果LOB列为<code class="codeph">NULL</code> ，则行中没有定位器。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADLOB45263"></a><div class="props_rev_3"><a id="GUID-6F7EDF6A-C374-4584-93D2-115EA892CF24" name="GUID-6F7EDF6A-C374-4584-93D2-115EA892CF24"></a><h5 id="ADLOB-GUID-6F7EDF6A-C374-4584-93D2-115EA892CF24" class="sect5">将持久LOB设置为空</h5>
                     <div>
                        <div class="section">
                           <p>您可以将持久性LOB初始化为<code class="codeph">EMPTY</code>而不是<code class="codeph">NULL</code> 。这样做，使您可以获取LOB实例的定位器，而无需使用数据填充LOB。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>使用<code class="codeph">INSERT</code>语句中的SQL函数<code class="codeph">EMPTY_BLOB()</code>或<code class="codeph">EMPTY_CLOB()</code>将持久LOB设置为<code class="codeph">EMPTY</code> ，如下所示。
                                 </p><pre class="oac_no_warn" dir="ltr">插入a_table VALUES（EMPTY_BLOB（））;</pre></li>
                           </ul>
                           <p><a id="d75921e537" class="indexterm-anchor"></a>或者，您可以使用<code class="codeph">RETURNING</code>子句在一个操作中获取LOB定位器，而不是调用后续的<code class="codeph">SELECT</code>语句：</p><pre class="oac_no_warn" dir="ltr">DECLARE Lob_loc BLOB; BEGIN INSERT INTO a_table VALUES（EMPTY_BLOB（））RETURNING blob_col INTO Lob_loc; <span class="italic">/ *现在使用定位器Lob_loc用数据* /</span> END <span class="italic">填充BLOB</span> ;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADLOB45264"></a><div class="props_rev_3"><a id="GUID-138D2EC5-7097-4710-9F6E-5FE2F01E4B21" name="GUID-138D2EC5-7097-4710-9F6E-5FE2F01E4B21"></a><h4 id="ADLOB-GUID-138D2EC5-7097-4710-9F6E-5FE2F01E4B21" class="sect4">初始化LOB</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用以下<code class="codeph">INSERT</code>语句初始化<code class="codeph">print_media</code>的LOB：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO print_media VALUES（1001，EMPTY_CLOB（），EMPTY_CLOB（），NULL，EMPTY_BLOB（），EMPTY_BLOB（），NULL，NULL，NULL，NULL）;</pre><p>该值设置<code class="codeph">ad_sourcetext</code> <span class="italic">，</span> <code class="codeph">ad_fltextn</code> <span class="italic">，</span> <code class="codeph">ad_composite</code> <span class="italic">和</span> <code class="codeph">ad_photo</code>为空值，并设定<code class="codeph">ad_graphic</code>到<code class="codeph">NULL</code> 。</p>
                        <div class="infoboxnotealso" id="GUID-138D2EC5-7097-4710-9F6E-5FE2F01E4B21__TABLEFORLOBEXAMPLESTHEPMSCHEMAPRINT-DFDB1470">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="working-with-LOBs.html#GUID-D71F0CBE-0717-41A2-BCD4-71E1DDF895D1" title="许多Oracle LOB示例使用Oracle Database Sample Schema PM的print_media表。">表的LOB例子：PM模式print_media表</a>为<code class="codeph">print_media</code>表。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB45265"></a><div class="props_rev_3"><a id="GUID-B48DCD1B-0533-48FF-9F7C-AB673A35AE0A" name="GUID-B48DCD1B-0533-48FF-9F7C-AB673A35AE0A"></a><h4 id="ADLOB-GUID-B48DCD1B-0533-48FF-9F7C-AB673A35AE0A" class="sect4">将持久性LOB列和属性初始化为值<code class="codeph"></code></h4>
                  <div>
                     <div class="section">
                        <p>您可以将LOB列或LOB属性初始化为包含超过4G字节数据的值，即10.2版之前的限制。</p>
                        <div class="infoboxnotealso" id="GUID-B48DCD1B-0533-48FF-9F7C-AB673A35AE0A__GUID-9C508C22-8374-42BA-8F66-8D56528791DD">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="data-interface-for-persistent-LOBs.html#GUID-4BFDD493-F3FE-451C-9B03-21669D635586">持久LOB的数据接口</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB45266"></a><div class="props_rev_3"><a id="GUID-F38219C8-6B10-49AF-AC9C-2548FC2D31A2" name="GUID-F38219C8-6B10-49AF-AC9C-2548FC2D31A2"></a><h4 id="ADLOB-GUID-F38219C8-6B10-49AF-AC9C-2548FC2D31A2" class="sect4">将BFILE初始化为NULL或文件名</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">BFILE</code>可以初始化为<code class="codeph">NULL</code>或文件名。为此，您可以使用<code class="codeph">BFILENAME()</code>函数。
                        </p>
                        <div class="infoboxnotealso" id="GUID-F38219C8-6B10-49AF-AC9C-2548FC2D31A2__GUID-9C4A1F06-F4CB-4967-95AF-C1EA5A8DEE2A">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="LOB-APIs-for-BFILE-operations.html#GUID-8E287C3F-32D5-4AF6-9858-FDBCFA28A480">BFILENAME和初始化</a> ”</span> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB101"></a><div class="props_rev_3"><a id="GUID-D3001FAF-1C46-4913-964B-61BCC14039B8" name="GUID-D3001FAF-1C46-4913-964B-61BCC14039B8"></a><h4 id="ADLOB-GUID-D3001FAF-1C46-4913-964B-61BCC14039B8" class="sect4">对LOB段的第一范围的限制</h4>
                  <div>
                     <p>任何段的第一个范围<span class="italic">至少</span>需要<span class="italic">2个块</span> （如果<code class="codeph">FREELIST GROUPS</code>为0）。也就是说，段的初始范围大小应至少为2个块。LOB段是不同的，因为如果LOB是BasicFiles LOB，它们在第一个范围<span class="italic">中至少</span>需要<span class="italic">3个</span>块，如果LOB是SecureFiles LOB则需要16个块。</p>
                     <p>如果您尝试在具有initial = 2块的永久字典管理表空间中创建LOB段，则它仍然有效，因为永久字典管理表空间中的段可能会覆盖表空间的默认存储设置。</p>
                     <p>但是，如果临时类型的统一，本地管理的表空间或字典管理的表空间或本地管理的临时表空间的扩展区大小为2个块，则无法在这些表空间中创建LOB段。这是因为在这些表空间类型中，范围大小是固定的，并且不会忽略表空间的默认存储设置。</p>
                  </div>
               </div>
            </div><a id="ADLOB45267"></a><div class="props_rev_3"><a id="GUID-FCF2526E-DB6D-4A77-AA4F-1DFB59E90784" name="GUID-FCF2526E-DB6D-4A77-AA4F-1DFB59E90784"></a><h3 id="ADLOB-GUID-FCF2526E-DB6D-4A77-AA4F-1DFB59E90784" class="sect3">LOB列的数据类型</h3>
               <div>
                  <p>选择数据类型时，请考虑以下三个主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-4362287B-6452-4E37-B34D-477A8ACEA4C9">LOBs与LONG和LONG RAW类型相比</a></p>
                     </li>
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-710BFEBD-ECCE-4598-BB69-31D6EDCD7C4F">LOB中的变宽字符数据存储</a></p>
                     </li>
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-AABE1311-0928-4D4D-9C1C-926EBF977B61">用LOB隐式转换字符集</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB45269"></a><a id="ADLOB45268"></a><div class="props_rev_3"><a id="GUID-4362287B-6452-4E37-B34D-477A8ACEA4C9" name="GUID-4362287B-6452-4E37-B34D-477A8ACEA4C9"></a><h4 id="ADLOB-GUID-4362287B-6452-4E37-B34D-477A8ACEA4C9" class="sect4">LOBs与LONG和LONG RAW类型相比</h4>
                  <div>
                     <div class="section">
                        <p><a href="LOB-storage-with-applications.html#GUID-4362287B-6452-4E37-B34D-477A8ACEA4C9__G1017705" title="该表在前面的文本中描述">表13-1</a>列出了LOB，LONG和LONG RAW类型之间的相似点和不同点。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-4362287B-6452-4E37-B34D-477A8ACEA4C9__G1017705">
                        <p class="titleintable">表13-1 LOBs与LONG RAW</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="LOBs与LONG RAW" width="100%" border="1" summary="This table is described in the preceding text" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="47%" id="d75921e1057">LOB数据类型</th>
                                 <th align="left" valign="bottom" width="53%" id="d75921e1060">长期和长期数据类型</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d75921e1065" headers="d75921e1057 ">
                                    <p>您可以将多个LOB存储在一行中</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d75921e1065 d75921e1060 ">
                                    <p>每行只能存储一个<code class="codeph">LONG</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d75921e1081" headers="d75921e1057 ">
                                    <p><code class="codeph">LOB</code>可以是用户定义的数据类型的属性</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d75921e1081 d75921e1060 ">
                                    <p>这是不可能的，无论是<code class="codeph">LONG</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d75921e1098" headers="d75921e1057 ">
                                    <p>只有LOB定位器存储在表列中; <code class="codeph">BLOB</code>和<code class="codeph">CLOB</code>数据可以存储在单独的表空间中， <code class="codeph">BFILE</code>数据存储为外部文件。
                                    </p>
                                    <p>对于内联LOB，数据库存储表列中小于约4000字节数据的LOB。</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d75921e1098 d75921e1060 ">
                                    <p>在<code class="codeph">LONG</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code>的情况下，整个值存储在表列中。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d75921e1125" headers="d75921e1057 ">
                                    <p>访问LOB列时，可以选择获取定位器或数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d75921e1125 d75921e1060 ">
                                    <p>当您访问<code class="codeph">LONG</code>或<code class="codeph">LONG</code> <code class="codeph">RAW,</code>将返回整个值。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d75921e1141" headers="d75921e1057 ">
                                    <p>根据您的块大小，LOB最大可达128 TB或更大。</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d75921e1141 d75921e1060 ">
                                    <p><code class="codeph">LONG</code>或<code class="codeph">LONG</code> <code class="codeph">RAW</code>实例的大小限制为2千兆字节。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d75921e1157" headers="d75921e1057 ">
                                    <p>使用LOB以随机，分段方式操作数据具有更大的灵活性。可以随机访问偏移量来访问LOB。</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d75921e1157 d75921e1060 ">
                                    <p>使用<code class="codeph">LONG or LONG RAW data.</code>以随机，分段方式操纵数据的灵活性较低<code class="codeph">LONG or LONG RAW data.</code>必须从开头到所需位置访问<code class="codeph">LONG</code> <code class="codeph">.</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d75921e1171" headers="d75921e1057 ">
                                    <p>您可以使用Oracle Golden Gate复制LOB。</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d75921e1171 d75921e1060 ">
                                    <p>LONG或LONG RAW无法进行复制。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="ADLOB45270"></a><div class="props_rev_3"><a id="GUID-710BFEBD-ECCE-4598-BB69-31D6EDCD7C4F" name="GUID-710BFEBD-ECCE-4598-BB69-31D6EDCD7C4F"></a><h4 id="ADLOB-GUID-710BFEBD-ECCE-4598-BB69-31D6EDCD7C4F" class="sect4">LOB中的变宽字符数据存储</h4>
                  <div>
                     <p><code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>数据类型中的变宽字符数据以与UCS2 Unicode字符集格式兼容的内部格式存储。这确保了不同宽度格式的字符数据不存在存储损失。如果您使用LOB存储不同宽度的字符数据，请注意以下事项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>即使使用不同宽度的<code class="codeph">CHAR</code>或<code class="codeph">NCHAR</code>数据库字符集，也可以创建包含<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>列的表。
                           </p>
                        </li>
                        <li>
                           <p>无论是否使用宽度不同的<code class="codeph">CHAR</code>数据库字符集，都可以创建包含具有<code class="codeph">CLOB</code>属性的数据类型的表。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADLOB45271"></a><div class="props_rev_3"><a id="GUID-AABE1311-0928-4D4D-9C1C-926EBF977B61" name="GUID-AABE1311-0928-4D4D-9C1C-926EBF977B61"></a><h4 id="ADLOB-GUID-AABE1311-0928-4D4D-9C1C-926EBF977B61" class="sect4">用LOB隐式转换字符集</h4>
                  <div>
                     <div class="section">
                        <p>对于OCI（Oracle调用接口）中使用的<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>实例，或访问OCI功能的任何编程环境，在从一个字符集转换为另一个字符集时，将隐式执行字符集转换。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在加载到<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>时，使用<code class="codeph">DBMS_LOB.LOADCLOBFROMFILE</code> API执行从二进制数据到字符数据的隐式转换。</p>
                           </li>
                        </ul>
                        <p>除<code class="codeph">DBMS_LOB.LOADCLOBFROMFILE</code> ，LOB API不执行从二进制数据到字符数据的隐式转换。
                        </p>
                        <p>例如，当您使用<code class="codeph">DBMS_LOB.LOADFROMFILE</code> API填充<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code> ，您将使用来自<code class="codeph">BFILE</code>二进制数据填充LOB。在这种情况下，必须在调用<code class="codeph">DBMS_LOB.LOADFROMFILE</code>之前对<code class="codeph">BFILE</code>数据执行字符集转换。</p>
                        <div class="infoboxnotealso" id="GUID-AABE1311-0928-4D4D-9C1C-926EBF977B61__GUID-AD48511D-F922-408F-A5B0-67C48FC94FAC">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../nlspg/choosing-character-set.html#NLSPG002" target="_blank"><span class="italic">Oracle数据库全球化支持指南</span></a> ，了解有关字符集转换的更多详细信息。
                           </p>
                        </div>
                        <div class="infoboxnote" id="GUID-AABE1311-0928-4D4D-9C1C-926EBF977B61__GUID-42B7C4B8-5E40-4655-BF7E-D282522536B8">
                           <p class="notep1">注意：</p>
                           <p>如果数据库表中存在用户定义的<code class="codeph">CLOB</code>列，则无法将数据库字符集从单字节更改为多字节字符集。如果数据库表中存在用户定义的<code class="codeph">NCLOB</code>列，则无法在<code class="codeph">AL16UTF16</code>和<code class="codeph">UTF8</code>之间更改国家字符集。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADLOB45272"></a><div class="props_rev_3"><a id="GUID-517E1234-EFCD-4D16-B69B-23F72A18A77D" name="GUID-517E1234-EFCD-4D16-B69B-23F72A18A77D"></a><h3 id="ADLOB-GUID-517E1234-EFCD-4D16-B69B-23F72A18A77D" class="sect3">LOB存储参数</h3>
               <div>
                  <p>在设计具有LOB存储的表时，应考虑某些LOB存储特性。有关<code class="codeph">SECUREFILE</code>参数的讨论：</p>
                  <div class="infoboxnotealso" id="GUID-517E1234-EFCD-4D16-B69B-23F72A18A77D__GUID-F6341725-7994-42D1-83E6-8EDA0BDA7C24">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="using-oracle-LOBs-storage.html#GUID-D4B9A527-6DF8-4451-B88B-B973E961D9F7" title="CREATE TABLE语句使用特定于SecureFiles或BasicFiles LOB存储或两者的参数来使用LOB存储。">使用LOB存储创建表</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="using-oracle-LOBs-storage.html#GUID-E82DC080-8AA0-46F5-B6C6-DDAB7105BC9F" title="您可以使用ALTER TABLE语句和特定的LOB相关参数修改LOB存储。">带LOB存储的ALTER TABLE</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-B82B3C24-1FAF-4661-96A0-28241FD2A052">内联和外线LOB存储</a></p>
                     </li>
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-D3BD47D3-DD6A-4DC9-9BAF-5DBB60918087">为持久性LOB定义表空间和存储特性</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB45273"></a><div class="props_rev_3"><a id="GUID-B82B3C24-1FAF-4661-96A0-28241FD2A052" name="GUID-B82B3C24-1FAF-4661-96A0-28241FD2A052"></a><h4 id="ADLOB-GUID-B82B3C24-1FAF-4661-96A0-28241FD2A052" class="sect4">内联和外线LOB存储</h4>
                  <div>
                     <p>LOB列存储引用实际LOB值位置的定位器。</p>
                     <p>实际LOB值存储在表行（内联）或表行外（行外），具体取决于创建表时指定的列属性，以及LOB的大小。</p>
                     <p>当满足以下任何一种情况时，LOB值将存储在线外：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果您明确指定<a id="d75921e1635" class="indexterm-anchor"></a>创建表时，LOB存储子句中的<code class="codeph">DISABLE</code> <code class="codeph">STORAGE</code> <code class="codeph">IN</code> <code class="codeph">ROW</code> 。
                           </p>
                        </li>
                        <li>
                           <p>如果LOB的大小大于<a id="d75921e1652" class="indexterm-anchor"></a>无论列的LOB存储属性如何，大约4000字节（4000减去系统控制信息）。
                           </p>
                        </li>
                        <li>
                           <p>如果更新存储在线外的LOB并且生成的LOB小于大约4000字节，则它仍然存储在线外。</p>
                        </li>
                     </ul>
                     <p>当满足以下任何条件时，LOB值将以内联方式存储：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当存储在给定行中的LOB的大小很小时，大约4000字节或更少，并且您要么明确指定<a id="d75921e1666" class="indexterm-anchor"></a> <code class="codeph">ENABLE</code> <code class="codeph">STORAGE</code> <code class="codeph">IN</code> <code class="codeph">ROW</code>或LOB存储子句当您创建表，或当你不指定此参数（这是默认值）。
                           </p>
                        </li>
                        <li>
                           <p><a id="d75921e1682" class="indexterm-anchor"></a>当LOB值为<code class="codeph">NULL</code> （无论列的LOB存储属性如何）。
                           </p>
                        </li>
                     </ul>
                     <p>使用默认的LOB存储属性（内联存储）可以提高数据库性能;它避免了为较小的LOB值创建和管理外部存储的开销。如果存储在数据库中的LOB值通常很小，则建议使用内联存储。</p>
                     <div class="infoboxnote" id="GUID-B82B3C24-1FAF-4661-96A0-28241FD2A052__GUID-B7BB0C04-C07C-4B16-B3C1-B0B618C319FE">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a id="d75921e1694" class="indexterm-anchor"></a> LOB定位器始终存储在行中。
                              </p>
                           </li>
                           <li>
                              <p><a id="d75921e1699" class="indexterm-anchor"></a>无论LOB存储属性还是LOB值（ <code class="codeph">NULL</code> ，空或其他），LOB定位器始终存在于任何LOB实例。
                              </p>
                           </li>
                           <li>
                              <p><a id="d75921e1707" class="indexterm-anchor"></a>如果使用<code class="codeph">DISABLE STORAGE IN ROW</code>属性创建LOB并且BasicFiles LOB保存任何数据，则使用至少一个<code class="codeph">CHUNK</code>的外部存储空间;即使LOB的大小小于<code class="codeph">CHUNK</code>大小。
                              </p>
                           </li>
                           <li>
                              <p><a id="d75921e1723" class="indexterm-anchor"></a>如果使用<code class="codeph">EMPTY_CLOB()</code>或<code class="codeph">EMPTY_BLOB()</code>初始化LOB列，则不存在LOB值，甚至不存在<code class="codeph">NULL</code> 。该行仅包含LOB定位符。没有使用额外的LOB存储。
                              </p>
                           </li>
                           <li>
                              <p><a id="d75921e1737" class="indexterm-anchor"></a> LOB存储属性不会影响<code class="codeph">BFILE</code>列。<code class="codeph">BFILE</code>数据始终存储在数据库外部的操作系统文件中。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADLOB45274"></a><div class="props_rev_3"><a id="GUID-D3BD47D3-DD6A-4DC9-9BAF-5DBB60918087" name="GUID-D3BD47D3-DD6A-4DC9-9BAF-5DBB60918087"></a><h4 id="ADLOB-GUID-D3BD47D3-DD6A-4DC9-9BAF-5DBB60918087" class="sect4">为持久性LOB定义表空间和存储特性</h4>
                  <div>
                     <div class="section">
                        <p>在表中定义LOB时，可以显式指示每个<span class="italic">持久LOB</span>列的表空间和存储特征。
                        </p>
                        <p>要创建BasicFiles LOB， <code class="codeph">BASICFILE</code>关键字是可选的，但为了清楚起见，建议使用它，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE ContainsLOB_tab（n NUMBER，c CLOB）lob（c）STORE AS BASICFILE segname（TABLESPACE lobtbs1 CHUNK 4096 PCTVERSION 5 NOCACHE LOGGING STORAGE（MAXEXTENTS 5））;</pre><p>对于SecureFiles， <code class="codeph">SECUREFILE</code>关键字是必需的，如以下示例所示（假设<code class="codeph">TABLESPACE lobtbs1</code>为<code class="codeph">ASSM</code> ）：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE ContainsLOB_tab1（n NUMBER，c CLOB）lob（c）STORE AS SECUREFILE sfsegname（TABLESPACE lobtbs1 RETENTION AUTO CACHE LOGGING STORAGE（MAXEXTENTS 5））;</pre><div class="infoboxnote" id="GUID-D3BD47D3-DD6A-4DC9-9BAF-5DBB60918087__GUID-173834AE-0048-4526-97D5-80BEEB58EC88">
                           <p class="notep1">注意：</p>
                           <p>您没有为<span class="italic">外部</span> LOB（ <code class="codeph">BFILE</code> ）指定的表空间或存储特性，因为它们未存储在数据库中。
                           </p>
                        </div>
                        <p>如果必须修改现有LOB列上的LOB存储参数，请使用<code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">...MOVE</code>声明。您可以更改<code class="codeph">RETENTION</code> ， <code class="codeph">PCTVERSION</code> ， <code class="codeph">CACHE</code> ， <code class="codeph">NOCACHE</code> <code class="codeph">LOGGING</code> ， <code class="codeph">NOLOGGING</code>或<code class="codeph">STORAGE</code>设置。您也可以使用<code class="codeph">ALTER TABLE ...更改<code class="codeph">TABLESPACE</code> <code class="codeph">ALTER TABLE ...MOVE</code>声明。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADLOB45275"></a><div class="props_rev_3"><a id="GUID-96AEB423-5231-4E3A-B520-2C5FB95170E7" name="GUID-96AEB423-5231-4E3A-B520-2C5FB95170E7"></a><h5 id="ADLOB-GUID-96AEB423-5231-4E3A-B520-2C5FB95170E7" class="sect5">分配LOB数据段名称</h5>
                     <div>
                        <div class="section">
                           <p>如前面的示例所示，为LOB数据段指定名称可以实现更直观的工作环境。查询LOB数据字典视图<code class="codeph">USER_LOBS</code> ， <code class="codeph">ALL_LOBS</code> ， <code class="codeph">DBA_LOBS</code> ，您会看到您选择的LOB数据段而不是系统生成的名称。
                           </p>
                           <div class="infoboxnotealso" id="GUID-96AEB423-5231-4E3A-B520-2C5FB95170E7__NOTE-1212-DFDB4754">
                              <p class="notep1">也可以看看：</p>
                              <p>有关初始化参数的更多信息，请<a href="../refrn/initialization-parameters.html#REFRN-GUID-6F1C3203-0AA0-4AF1-921C-A027DD7CB6A9" target="_blank"><span><cite>参见Oracle数据库</cite></span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADLOB45276"></a><div class="props_rev_3"><a id="GUID-ADF08322-C5CA-4348-831A-6F172F06E9C1" name="GUID-ADF08322-C5CA-4348-831A-6F172F06E9C1"></a><h4 id="ADLOB-GUID-ADF08322-C5CA-4348-831A-6F172F06E9C1" class="sect4">LOB列或属性的LOB存储特征</h4>
                  <div>
                     <p>可以为LOB列或LOB属性指定的LOB存储特性包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">TABLESPACE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">PCTVERSION</code>或<code class="codeph">RETENTION</code></p>
                           <p>请注意，您可以为BasicFiles LOB指定<code class="codeph">PCTVERSION</code>或<code class="codeph">RETENTION</code> ，但不能同时指定两者。对于SecureFiles，只能指定<code class="codeph">RETENTION</code>参数。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CACHE</code> / <code class="codeph">NOCACHE/CACHE READS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">日志/ NOLOGGING</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CHUNK</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ENABLE</code> / <code class="codeph">DISABLE</code> <code class="codeph">STORAGE</code> <code class="codeph">IN</code> <code class="codeph">ROW</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">存储</code></p>
                        </li>
                     </ul>
                     <p>对于大多数用户，这些存储特性的默认值就足够了。如果要微调LOB存储，请考虑以下准则。</p>
                     <div class="infoboxnotealso" id="GUID-ADF08322-C5CA-4348-831A-6F172F06E9C1__GUID-FFCB481B-393A-4BE9-A35E-EEA53E2BE693">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../sqlrf/storage_clause.html#SQLRF30013" target="_blank"><span class="italic">Oracle数据库SQL语言参考中的</span></a> <code class="codeph">STORAGE</code>子句</p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF54529" target="_blank"><span class="italic">Oracle数据库SQL语言参考中的</span></a> <code class="codeph">RETENTION</code>参数</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADLOB45277"></a><div class="props_rev_3"><a id="GUID-4AA058A3-E537-4A0F-B4C8-8AC299FB6019" name="GUID-4AA058A3-E537-4A0F-B4C8-8AC299FB6019"></a><h4 id="ADLOB-GUID-4AA058A3-E537-4A0F-B4C8-8AC299FB6019" class="sect4">TABLESPACE和LOB指数</h4>
                  <div>
                     <p>LOB索引是与LOB存储密切相关的内部结构。这意味着用户可能不会删除LOB索引并重建它。</p>
                     <div class="infoboxnote" id="GUID-4AA058A3-E537-4A0F-B4C8-8AC299FB6019__GUID-CC085188-AB68-4455-AAE8-E79F60C2021B">
                        <p class="notep1">注意：</p>
                        <p>该<code class="codeph"> </code> LOB索引不能改变。
                        </p>
                     </div>
                     <p>系统根据LOB存储子句中的规范确定用于LOB数据和LOB索引的表空间：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果<span class="italic">没有</span>为LOB数据指定表空间，则表的表空间用于LOB数据和索引。
                           </p>
                        </li>
                        <li>
                           <p>如果为LOB数据指定表空间，则LOB数据和索引都使用指定的表空间。</p>
                        </li>
                     </ul>
                  </div><a id="ADLOB45278"></a><div class="props_rev_3"><a id="GUID-6688329D-2718-4E6C-8947-DB212D435103" name="GUID-6688329D-2718-4E6C-8947-DB212D435103"></a><h5 id="ADLOB-GUID-6688329D-2718-4E6C-8947-DB212D435103" class="sect5">非分区表中LOB索引的表空间</h5>
                     <div>
                        <p>创建表时，如果为非分区表指定LOB索引的表空间，则会忽略表空间的规范，并且LOB索引与LOB数据位于同一位置。分区LOB不包含LOB索引语法。</p>
                        <p>为LOB存储段指定单独的表空间可以减少对表的表空间的争用。</p>
                     </div>
                  </div>
               </div><a id="ADLOB45280"></a><a id="ADLOB45279"></a><div class="props_rev_3"><a id="GUID-8181A78E-C8ED-4BFD-BE2C-73B340B78EBD" name="GUID-8181A78E-C8ED-4BFD-BE2C-73B340B78EBD"></a><h4 id="ADLOB-GUID-8181A78E-C8ED-4BFD-BE2C-73B340B78EBD" class="sect4">PCTVERSION</h4>
                  <div>
                     <p>修改BasicFiles LOB时，会生成新版本的BasicFiles LOB页面，以支持对BasicFiles LOB值的先前版本的一致读取。</p>
                     <p><code class="codeph">PCTVERSION</code>是旧版BasicFiles LOB数据页可占用的所有已使用的BasicFiles LOB数据空间的百分比。只要旧版本的BasicFiles LOB数据页开始占用超过<code class="codeph">PCTVERSION</code>使用的BasicFiles LOB空间的数量，Oracle数据库就会尝试回收旧版本<code class="codeph">PCTVERSION</code>用它们。换句话说， <code class="codeph">PCTVERSION</code>是可用于对旧的BasicFiles LOB数据进行版本控制的BasicFiles LOB数据块的百分比。
                     </p>
                     <p><code class="codeph">PCTVERSION</code>的默认值为10（％），最小值为0，最大值为100。
                     </p>
                     <p>要确定<code class="codeph">PCTVERSION</code>应设置的值，请考虑以下事项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>BasicFiles LOB多久更新一次？</p>
                        </li>
                        <li>
                           <p>读取更新的BasicFiles LOB的频率是多少？</p>
                        </li>
                     </ul>
                     <p><a href="LOB-storage-with-applications.html#GUID-8181A78E-C8ED-4BFD-BE2C-73B340B78EBD__g1017753" title="该表在前面的文本中描述">表13-2</a>提供了一些指导，用于在给定更新百分比“X”的情况下确定合适的<code class="codeph">PCTVERSION</code>值。
                     </p>
                     <div class="tblformal" id="GUID-8181A78E-C8ED-4BFD-BE2C-73B340B78EBD__g1017753">
                        <p class="titleintable">表13-2推荐的PCTVERSION设置</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="推荐的PCTVERSION设置" width="100%" border="1" summary="This table is described in the preceding text" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="34%" id="d75921e2405">BasicFiles LOB更新模式</th>
                                 <th align="left" valign="bottom" width="48%" id="d75921e2408">BasicFiles LOB读取模式</th>
                                 <th align="left" valign="bottom" width="17%" id="d75921e2411">PCTVERSION</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d75921e2416" headers="d75921e2405 ">
                                    <p>更新X％数据的X％</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d75921e2416 d75921e2408 ">
                                    <p>读取更新的LOB</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d75921e2416 d75921e2411 ">
                                    <p>X％</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d75921e2426" headers="d75921e2405 ">
                                    <p>更新X％数据的X％</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d75921e2426 d75921e2408 ">
                                    <p>读取LOB但不读取更新的LOB</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d75921e2426 d75921e2411 ">
                                    <p>0％</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d75921e2436" headers="d75921e2405 ">
                                    <p>更新X％数据的X％</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d75921e2436 d75921e2408 ">
                                    <p>读取更新和未更新的LOB</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d75921e2436 d75921e2411 ">
                                    <p>2X％</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d75921e2446" headers="d75921e2405 ">
                                    <p>永远不要更新LOB</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d75921e2446 d75921e2408 ">
                                    <p>读取LOB</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d75921e2446 d75921e2411 ">
                                    <p>0％</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>如果您的应用程序需要多次BasicFiles LOB更新并同时读取大量的BasicFiles LOB列，那么请考虑为<code class="codeph">PCTVERSION</code>使用更高的值，例如20％。
                     </p>
                     <p>将<code class="codeph">PCTVERSION</code>设置为默认值的两倍允许将更多空闲页面用于旧版本的数据页面。由于大型查询可能需要一致读取BasicFiles LOB列，因此保留旧版本的BasicFiles LOB页可能很有用。在这种情况下，BasicFiles LOB存储可能会增长，因为数据库不会积极地重用可用页面。
                     </p>
                     <p>如果应用程序中的持久性BasicFiles LOB实例只创建并写入一次，并且之后主要是只读的，则更新很少发生。在这种情况下，请考虑使用较低的<code class="codeph">PCTVERSION</code>值，例如5％或更低。
                     </p>
                     <p>BasicFiles LOB更新越不频繁和越小，必须为BasicFiles LOB数据的旧副本保留的空间越少。如果已知现有的BasicFiles LOB是只读的，那么您可以安全地将<code class="codeph">PCTVERSION</code>设置为0％，因为旧版本的数据永远不会需要任何页面。
                     </p>
                  </div>
               </div><a id="ADLOB45281"></a><div class="props_rev_3"><a id="GUID-8FB3E176-1024-4531-9706-BA9C75C7CD28" name="GUID-8FB3E176-1024-4531-9706-BA9C75C7CD28"></a><h4 id="ADLOB-GUID-8FB3E176-1024-4531-9706-BA9C75C7CD28" class="sect4">BasicFiles LOB的RETENTION参数</h4>
                  <div>
                     <p>您可以在<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句的LOB存储子句中指定<code class="codeph">RETENTION</code>参数，以替代<code class="codeph">PCTVERSION</code>参数。这样做，将LOB列配置为在<span class="italic">一段时间内</span>存储旧版本的LOB数据，而不是使用表空间的百分比。例如：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE ContainsLOB_tab（n NUMBER，c CLOB）lob（c）STORE AS BASICFILE segname（TABLESPACE lobtbs1 CHUNK 4096 RETENTION NOCACHE LOGGING STORAGE（MAXEXTENTS 5））;</pre><p><code class="codeph">RETENTION</code>参数设计用于数据库的<code class="codeph">UNDO</code>功能，例如闪回版本查询。当LOB列设置了<code class="codeph">RETENTION</code>属性时，旧版本的LOB数据将保留<code class="codeph">UNDO_RETENTION</code>参数指定的时间量。
                     </p>
                     <p>请注意以下有关<code class="codeph">RETENTION</code>参数的信息：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>对于LOB列，未启用<code class="codeph">UNDO</code> SQL，因为它与其他数据类型一样。必须在LOB列上设置<code class="codeph">RETENTION</code>属性才能在LOB数据上使用Undo SQL。
                           </p>
                        </li>
                        <li>
                           <p>您无法显式设置<code class="codeph">RETENTION</code>参数的值。保留LOB版本的时间由<code class="codeph">UNDO_RETENTION</code>参数确定。
                           </p>
                        </li>
                        <li>
                           <p>仅在自动撤消管理模式下支持使用<code class="codeph">RETENTION</code>参数。必须先配置表以使用“自动还原管理”，然后才能在LOB列上设置“ <code class="codeph">RETENTION</code> ”。<a id="d75921e2603" class="indexterm-anchor"></a><a id="d75921e2605" class="indexterm-anchor"></a> ASSM需要LOB <code class="codeph">RETENTION</code>是在BasicFiles LOB的效果。如果BasicFiles LOB驻留在MSSM表空间中，则会以静默方式忽略SQL的<code class="codeph">RETENTION</code>参数（在<code class="codeph">STORE</code> <code class="codeph">AS</code>子句中）。
                           </p>
                        </li>
                        <li>
                           <p>LOB存储子句可以指定<code class="codeph">RETENTION</code>或<code class="codeph">PCTVERSION</code> ，但不能同时指定两者。
                           </p>
                           <div class="infoboxnotealso" id="GUID-8FB3E176-1024-4531-9706-BA9C75C7CD28__GUID-17252E5F-5368-4B80-AC65-5194D99B5192">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关使用数据库闪回功能的更多信息，请参见<a href="../adfns/flashback.html#ADFNS1008" target="_blank"><span class="italic">“Oracle数据库开发指南”</span></a> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>有关LOB存储子句语法的详细信息，请<a href="../sqlrf/storage_clause.html#SQLRF30013" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a>
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADLOB45282"></a><div class="props_rev_3"><a id="GUID-9569D544-FF47-4753-8763-E456C628A559" name="GUID-9569D544-FF47-4753-8763-E456C628A559"></a><h4 id="ADLOB-GUID-9569D544-FF47-4753-8763-E456C628A559" class="sect4">SecureFiles LOB的RETENTION参数</h4>
                  <div>
                     <p>为SecureFiles指定<code class="codeph">RETENTION</code>参数表示数据库动态地管理SecureFiles存储的一致读取数据，同时考虑诸如数据库的<code class="codeph">UNDO</code>模式之类的因素。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果数据库处于<code class="codeph">FLASHBACK</code>模式，则指定<code class="codeph">MAX</code>以限制LOB <code class="codeph">UNDO</code>保留的大小（以字节为单位）。如果指定<code class="codeph">MAX</code> ，则还必须在<code class="codeph">storage_clause</code>指定<code class="codeph">MAXSIZE</code>子句。
                           </p>
                        </li>
                        <li>
                           <p>如果要保留<code class="codeph">UNDO</code>足以仅用于一致读取目的，请指定<code class="codeph">AUTO</code> 。这是默认值。
                           </p>
                        </li>
                        <li>
                           <p>如果一致读取或闪回目的不需要<code class="codeph">UNDO</code>则指定<code class="codeph">NONE</code> 。
                           </p>
                        </li>
                     </ul>
                     <p>默认<code class="codeph">RETENTION</code>为SecureFiles的是<code class="codeph">AUTO</code> 。</p>
                  </div>
               </div><a id="ADLOB45284"></a><a id="ADLOB45283"></a><div class="props_rev_3"><a id="GUID-0299AFF9-7A92-47E3-A83E-59F2574A0ADF" name="GUID-0299AFF9-7A92-47E3-A83E-59F2574A0ADF"></a><h4 id="ADLOB-GUID-0299AFF9-7A92-47E3-A83E-59F2574A0ADF" class="sect4">CACHE / NOCACHE / CACHE READS</h4>
                  <div>
                     <p>创建包含LOB的表时，请根据<a href="LOB-storage-with-applications.html#GUID-0299AFF9-7A92-47E3-A83E-59F2574A0ADF__g1017777" title="该表在前面的文本中描述">表13-3中</a>的准则使用缓存选项：</p>
                     <div class="tblformal" id="GUID-0299AFF9-7A92-47E3-A83E-59F2574A0ADF__g1017777">
                        <p class="titleintable">表13-3何时使用CACHE，NOCACHE和CACHE READS</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="何时使用CACHE，NOCACHE和CACHE READS" width="100%" border="1" summary="This table is described in the preceding text" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="32%" id="d75921e2856">缓存模式</th>
                                 <th align="left" valign="bottom" width="34%" id="d75921e2859">读</th>
                                 <th align="left" valign="bottom" width="34%" id="d75921e2862">写</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d75921e2867" headers="d75921e2856 ">
                                    <p><code class="codeph">CACHE READS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d75921e2867 d75921e2859 ">
                                    <p>经常</p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d75921e2867 d75921e2862 ">
                                    <p>偶尔或偶尔</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d75921e2878" headers="d75921e2856 ">
                                    <p><code class="codeph">CACHE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d75921e2878 d75921e2859 ">
                                    <p>经常</p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d75921e2878 d75921e2862 ">
                                    <p>经常</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d75921e2889" headers="d75921e2856 ">
                                    <p><code class="codeph">NOCACHE</code> （默认）</p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d75921e2889 d75921e2859 ">
                                    <p>偶尔或偶尔</p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d75921e2889 d75921e2862 ">
                                    <p>决不</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div><a id="ADLOB45285"></a><div class="props_rev_3"><a id="GUID-F6D60D84-6A90-443C-87D7-7171BAB2B1E7" name="GUID-F6D60D84-6A90-443C-87D7-7171BAB2B1E7"></a><h5 id="ADLOB-GUID-F6D60D84-6A90-443C-87D7-7171BAB2B1E7" class="sect5">CACHE / NOCACHE / CACHE READS：LOB值和缓冲区高速缓存</h5>
                     <div>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>CACHE：LOB页面放在缓冲区缓存中以便更快地访问。</p>
                           </li>
                           <li>
                              <p>NOCACHE：作为<code class="codeph">STORE AS</code>子句中的参数， <code class="codeph">NOCACHE</code>指定不将LOB值带入缓冲区高速缓存。
                              </p>
                           </li>
                           <li>
                              <p>CACHE READS：LOB值仅在读取期间而不是在写入操作期间进入缓冲区高速缓存。</p>
                           </li>
                        </ul>
                        <p><code class="codeph">NOCACHE</code>是SecureFiles和BasicFiles LOB的默认值。
                        </p>
                        <div class="infoboxnote" id="GUID-F6D60D84-6A90-443C-87D7-7171BAB2B1E7__GUID-651BBC04-26BA-44CD-98C8-442DA37F61CC">
                           <p class="notep1">注意：</p>
                           <p>使用<code class="codeph">CACHE</code>选项可以在从LOB列读取和写入数据时提高性能。但是，它可能会过早地将其他非LOB页面从缓冲区缓存中移除。
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="ADLOB45286"></a><div class="props_rev_3"><a id="GUID-3543D99F-A826-4750-8E94-7BAE754E0792" name="GUID-3543D99F-A826-4750-8E94-7BAE754E0792"></a><h4 id="ADLOB-GUID-3543D99F-A826-4750-8E94-7BAE754E0792" class="sect4">LOGFING / NOLOGGING BasicFiles LOB的参数</h4>
                  <div>
                     <p>[ <code class="codeph">NO</code> ] <code class="codeph">LOGGING</code>参数用于以与其他表操作相同的方式使用LOB。在通常情况下，如果省略[ <code class="codeph">NO</code> ] <code class="codeph">LOGGING</code>子句，则这意味着既没有指定<code class="codeph">NO</code> <code class="codeph">LOGGING</code>也没有指定<code class="codeph">LOGGING</code> ，并且表或表分区的logging属性默认为它所驻留的表空间的logging属性。
                     </p>
                     <p>对于LOB，根据<code class="codeph">CACHE</code>的规定，还有另一种选择。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">指定了</span> <span class="bold">CACHE</span>并省略了[ <code class="codeph">NO</code> ] <code class="codeph">LOGGING</code>子句。<code class="codeph">LOGGING</code>自动实现（因为您不能使用<code class="codeph">CACHE</code> <code class="codeph">NOLOGGING</code> ）。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">未指定</span> <span class="bold">CACHE，</span>省略[ <code class="codeph">NO</code> ] <code class="codeph">LOGGING</code>子句。该过程的默认方式与对表和分区表的默认方式相同。也就是说，[ <code class="codeph">NO</code> ] <code class="codeph">LOGGING</code>值是从LOB段所在的表空间获得的。
                           </p>
                        </li>
                     </ul>
                     <p>还应牢记以下问题。</p>
                  </div><a id="ADLOB45287"></a><div class="props_rev_3"><a id="GUID-34BAE5A1-E016-4AE4-A805-BE7FDFB785DD" name="GUID-34BAE5A1-E016-4AE4-A805-BE7FDFB785DD"></a><h5 id="ADLOB-GUID-34BAE5A1-E016-4AE4-A805-BE7FDFB785DD" class="sect5">LOB <span class="bold">始终为</span> LOB <span class="bold">索引页</span> <span class="bold">生成撤消</span></h5>
                     <div>
                        <p>无论是否设置了<code class="codeph">LOGGING</code>或<code class="codeph">NOLOGGING</code> ，LOB都不会为LOB数据页生成回滚信息（撤消），因为旧的LOB数据存储在版本中。
                        </p>
                        <p>为LOB创建的回滚信息往往很小，因为它仅用于LOB索引页面更改。</p>
                     </div>
                  </div><a id="ADLOB45288"></a><div class="sect4"><a id="GUID-6B0BA57E-A7F1-4182-BA3C-B1CF36C9D4F7" name="GUID-6B0BA57E-A7F1-4182-BA3C-B1CF36C9D4F7"></a><h5 id="ADLOB-GUID-6B0BA57E-A7F1-4182-BA3C-B1CF36C9D4F7" class="sect5"><span class="bold">当</span> <span class="bold">日志</span>记录<span class="bold">设置的Oracle生成</span> LOB <span class="bold">数据页</span> <span class="bold">全部重做</span></h5>
                     <div>
                        <p><code class="codeph">NOLOGGING</code>旨在用于客户不关心介质恢复的情况。
                        </p>
                        <p>因此，如果磁盘/磁带/存储介质出现故障，则无法从日志中恢复更改，因为从未记录更改。</p>
                     </div><a id="ADLOB45289"></a><div class="props_rev_3"><a id="GUID-5F05A5C6-E45E-4751-8E41-6781EFD09458" name="GUID-5F05A5C6-E45E-4751-8E41-6781EFD09458"></a><h6 id="ADLOB-GUID-5F05A5C6-E45E-4751-8E41-6781EFD09458" class="sect6">NOLOGGING对于批量加载或插入非常有用。</h6>
                        <div>
                           <p>例如，在将数据加载到LOB中时，如果您不关心重做并且只能在失败时启动加载，请将LOB数据段存储特性设置为<code class="codeph">NOCACHE</code> <code class="codeph">NOLOGGING</code> 。这为初始数据加载提供了良好的性能。
                           </p>
                           <p>完成加载数据后，如有必要，使用<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>修改LOB数据段的LOB存储特性以进行正常的LOB操作，例如，修改为<code class="codeph">CACHE</code>或<code class="codeph">NOCACHE</code> <code class="codeph">LOGGING</code> 。</p>
                           <div class="infoboxnote" id="GUID-5F05A5C6-E45E-4751-8E41-6781EFD09458__GUID-092EB5A5-B02F-4334-BC69-8DC64AF87632">
                              <p class="notep1">注意：</p>
                              <p> <code class="codeph">CACHE</code>意味着你也得到了<code class="codeph">LOGGING</code> 。</p>
                           </div>
                        </div>
                     </div>
                  </div>
               </div><a id="ADLOB45290"></a><div class="props_rev_3"><a id="GUID-29BA6DC0-C48E-4AC9-8A64-1FD99B7D36CC" name="GUID-29BA6DC0-C48E-4AC9-8A64-1FD99B7D36CC"></a><h4 id="ADLOB-GUID-29BA6DC0-C48E-4AC9-8A64-1FD99B7D36CC" class="sect4">用于SecureFiles LOB的LOGGING / FILESYSTEM_LIKE_LOGGING</h4>
                  <div>
                     <p><code class="codeph">NOLOGGING</code>和<code class="codeph">LOGGING</code>参数应用于以与其他表操作相同的方式使用LOB。
                     </p>
                     <p>在通常情况下，如果省略<code class="codeph">logging_clause</code> ，则SecureFiles从其所在的表空间继承其logging属性。在这种情况下，如果<code class="codeph">NOLOGGING</code>是默认值，则SecureFiles默认为<code class="codeph">FILESYSTEM_LIKE_LOGGING</code> 。</p>
                     <div class="infoboxnote" id="GUID-29BA6DC0-C48E-4AC9-8A64-1FD99B7D36CC__GUID-54DF22E7-AD66-49FD-B5F0-F0C91D5A4908">
                        <p class="notep1">注意：</p>
                        <p>使用<code class="codeph">CACHE</code>选项可以在从LOB列读取和写入数据时提高性能。但是，它可能会过早地将其他非LOB页面从缓冲区缓存中移除。
                        </p>
                     </div>
                  </div><a id="ADLOB45291"></a><div class="props_rev_3"><a id="GUID-7F10CD88-C74A-40DE-B3E3-148228CB318F" name="GUID-7F10CD88-C74A-40DE-B3E3-148228CB318F"></a><h5 id="ADLOB-GUID-7F10CD88-C74A-40DE-B3E3-148228CB318F" class="sect5">CACHE意味着记录</h5>
                     <div>
                        <p>对于SecureFiles，还有一个替代方案，具体取决于<code class="codeph">CACHE</code>的指定方式：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果指定了<code class="codeph">CACHE</code>并且省略了<code class="codeph">LOGGING</code>子句，则使用<code class="codeph">LOGGING</code> 。
                              </p>
                           </li>
                           <li>
                              <p>如果未指定<code class="codeph">CACHE</code> ，则省略logging_clause。然后，该过程的默认方式与对表和分区表的默认方式相同。也就是说， <code class="codeph">LOGGING</code>值是从LOB值所在的表空间获得的。如果表空间是<code class="codeph">NOLOGGING</code> ，则SecureFiles默认为<code class="codeph">FILESYSTEM_LIKE_LOGGING</code> 。</p>
                           </li>
                        </ul>
                        <p>请记住以下问题。</p>
                     </div>
                  </div><a id="ADLOB45292"></a><div class="props_rev_3"><a id="GUID-D4E7E0CF-8FB4-4219-B5BF-7D4119CA4274" name="GUID-D4E7E0CF-8FB4-4219-B5BF-7D4119CA4274"></a><h5 id="ADLOB-GUID-D4E7E0CF-8FB4-4219-B5BF-7D4119CA4274" class="sect5">SecureFiles和一种生成REDO和UNDO的有效方法</h5>
                     <div>
                        <p>这意味着Oracle数据库确定为块更改生成<code class="codeph">REDO</code>和<code class="codeph">UNDO</code>是否更有效，类似于堆块，或者它是否生成类似于BasicFiles LOB的新块的版本和完整<code class="codeph">REDO</code> 。
                        </p>
                     </div>
                  </div><a id="ADLOB45293"></a><div class="props_rev_3"><a id="GUID-965E951A-5B7B-4F78-8710-146F61FA8D2C" name="GUID-965E951A-5B7B-4F78-8710-146F61FA8D2C"></a><h5 id="ADLOB-GUID-965E951A-5B7B-4F78-8710-146F61FA8D2C" class="sect5">FILESYSTEM_LIKE_LOGGING对批量加载或插入很有用</h5>
                     <div>
                        <p>例如，在将数据加载到LOB中时，如果您不关心<code class="codeph">REDO</code>并且只能在失败时启动加载，请将LOB数据段存储特征设置为<code class="codeph">FILESYSTEM_LIKE_LOGGING</code> 。这为初始数据加载提供了良好的性能。
                        </p>
                        <p>完成加载数据后，如有必要，使用<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>修改LOB数据段的LOB存储特性，以进行正常的LOB操作。例如，到<code class="codeph">CACHE</code>或<code class="codeph">NOCACHE</code> <code class="codeph">LOGGING</code> 。</p>
                     </div>
                  </div>
               </div><a id="ADLOB45294"></a><div class="props_rev_3"><a id="GUID-A3D50A10-E688-4DB3-A3EB-07AC7D0019A6" name="GUID-A3D50A10-E688-4DB3-A3EB-07AC7D0019A6"></a><h4 id="ADLOB-GUID-A3D50A10-E688-4DB3-A3EB-07AC7D0019A6" class="sect4">CHUNK</h4>
                  <div>
                     <p>块是一个或多个Oracle块。</p>
                     <p>您可以在创建包含LOB的表时指定BasicFiles LOB的块大小。这对应于Oracle数据库在访问或修改LOB值时使用的数据大小。块的一部分用于存储与系统相关的信息，其余部分用于存储LOB值。您正在使用的API具有一个函数，该函数返回LOB块中用于存储LOB值的空间量。在PL / SQL中使用<code class="codeph">DBMS_LOB.GETCHUNKSIZE</code> 。在OCI中，使用<code class="codeph">OCILobGetChunkSize()</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-A3D50A10-E688-4DB3-A3EB-07AC7D0019A6__GUID-36DF509D-44E8-4DB2-8BB8-D95EC7A78BB0">
                        <p class="notep1">注意：</p>
                        <p>如果表空间块大小与数据库块大小相同，则<code class="codeph">CHUNK</code>也是数据库块大小的倍数。默认的<code class="codeph">CHUNK</code>大小等于一个表空间块的大小，最大值为32K。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-A3D50A10-E688-4DB3-A3EB-07AC7D0019A6__GUID-935B92CA-0CFE-48B5-AE69-F94DE9AE9682">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="advanced-design-considerations.html#GUID-FD6659DC-8792-4D7C-AC07-9EABEA02DF91">Terabyte-Size LOB Support</a> ”</span>有关最大LOB大小的信息</p>
                     </div>
                  </div><a id="ADLOB45295"></a><div class="props_rev_3"><a id="GUID-D2B33837-A830-492D-954F-032B44C331AF" name="GUID-D2B33837-A830-492D-954F-032B44C331AF"></a><h5 id="ADLOB-GUID-D2B33837-A830-492D-954F-032B44C331AF" class="sect5">CHUNK的价值</h5>
                     <div>
                        <p>一旦选择了<code class="codeph">CHUNK</code>的值（当创建LOB列时），就无法更改它。
                        </p>
                        <p>因为您无法更改值<code class="codeph">CHUNK</code> ，所以选择一个可以优化存储和性能要求的值非常重要。对于SecureFiles， <code class="codeph">CHUNK</code>是一种建议大小，用于向后兼容。
                        </p>
                     </div><a id="ADLOB45297"></a><a id="ADLOB45296"></a><div class="props_rev_3"><a id="GUID-99B90EA0-666D-430B-9D0F-44699629D0F4" name="GUID-99B90EA0-666D-430B-9D0F-44699629D0F4"></a><h6 id="ADLOB-GUID-99B90EA0-666D-430B-9D0F-44699629D0F4" class="sect6">空间考虑因素</h6>
                        <div>
                           <p>对于内联存储的LOB， <code class="codeph">CHUNK</code>的值无关紧要。
                           </p>
                           <p>如果设置了<code class="codeph">ENABLE</code> <code class="codeph">STORAGE</code> <code class="codeph">IN</code> <code class="codeph">ROW</code> ，并且LOB定位器和LOB数据的大小小于大约4000字节，则会发生内联存储。但是，当LOB数据存储在线外时，它总是占用<code class="codeph">CHUNK</code>参数的倍数的空间。如果您的数据很小，这可能会导致大量的空间浪费，但<code class="codeph">CHUNK</code>设置为大量。<a href="LOB-storage-with-applications.html#GUID-99B90EA0-666D-430B-9D0F-44699629D0F4__CIHFGJEE" title="数据大小与CHUNK大小">表13-4</a>说明了这一点：</p>
                           <div class="tblformalwide" id="GUID-99B90EA0-666D-430B-9D0F-44699629D0F4__CIHFGJEE">
                              <p class="titleintable">表13-4数据大小和CHUNK大小</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="数据大小和CHUNK大小" width="100%" border="1" summary="Data Size vs CHUNK size" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="30%" id="d75921e4006">数据大小</th>
                                       <th align="left" valign="bottom" width="15%" id="d75921e4009">CHUNK尺寸</th>
                                       <th align="left" valign="bottom" width="39%" id="d75921e4012">用于存储LOB的磁盘空间</th>
                                       <th align="left" valign="bottom" width="17%" id="d75921e4015">空间利用率（百分比）</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d75921e4020" headers="d75921e4006 ">
                                          <p>3500启用行存储</p>
                                       </td>
                                       <td align="left" valign="top" width="15%" headers="d75921e4020 d75921e4009 ">
                                          <p>不相干</p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d75921e4020 d75921e4012 ">
                                          <p>3500排</p>
                                       </td>
                                       <td align="left" valign="top" width="17%" headers="d75921e4020 d75921e4015 ">
                                          <p>100</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d75921e4033" headers="d75921e4006 ">
                                          <p>3500禁用行中的存储</p>
                                       </td>
                                       <td align="left" valign="top" width="15%" headers="d75921e4033 d75921e4009 ">
                                          <p>32 KB</p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d75921e4033 d75921e4012 ">
                                          <p>32 KB</p>
                                       </td>
                                       <td align="left" valign="top" width="17%" headers="d75921e4033 d75921e4015 ">
                                          <p>10</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d75921e4046" headers="d75921e4006 ">
                                          <p>3500禁用行中的存储</p>
                                       </td>
                                       <td align="left" valign="top" width="15%" headers="d75921e4046 d75921e4009 ">
                                          <p>4 KB</p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d75921e4046 d75921e4012 ">
                                          <p>4 KB</p>
                                       </td>
                                       <td align="left" valign="top" width="17%" headers="d75921e4046 d75921e4015 ">
                                          <p>90</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d75921e4059" headers="d75921e4006 ">
                                          <p>33 KB</p>
                                       </td>
                                       <td align="left" valign="top" width="15%" headers="d75921e4059 d75921e4009 ">
                                          <p>32 KB</p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d75921e4059 d75921e4012 ">
                                          <p>64 KB</p>
                                       </td>
                                       <td align="left" valign="top" width="17%" headers="d75921e4059 d75921e4015 ">
                                          <p>51</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d75921e4072" headers="d75921e4006 ">
                                          <p>2 GB +10</p>
                                       </td>
                                       <td align="left" valign="top" width="15%" headers="d75921e4072 d75921e4009 ">
                                          <p>32 KB</p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d75921e4072 d75921e4012 ">
                                          <p>2 GB + 32 KB</p>
                                       </td>
                                       <td align="left" valign="top" width="17%" headers="d75921e4072 d75921e4015 ">
                                          <p>99+</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                     </div><a id="ADLOB45298"></a><div class="props_rev_3"><a id="GUID-AFD8D735-D009-4D1D-8D49-0365437CBFF5" name="GUID-AFD8D735-D009-4D1D-8D49-0365437CBFF5"></a><h6 id="ADLOB-GUID-AFD8D735-D009-4D1D-8D49-0365437CBFF5" class="sect6">性能注意事项</h6>
                        <div>
                           <p>以大块方式访问LOB更有效。</p>
                           <p>您可以将<code class="codeph">CHUNK</code>设置为最常访问或写入的数据大小。例如，如果一次只访问一个LOB数据<code class="codeph">CHUNK</code> ，则将<code class="codeph">CHUNK</code>设置为一个块的大小。如果你有大LOB，并读取或写入大量数据，那么为<code class="codeph">CHUNK</code>选择一个大值。</p>
                        </div>
                     </div>
                  </div><a id="ADLOB45299"></a><div class="props_rev_3"><a id="GUID-F83BB44C-C37B-40F1-94D4-8A50D61E1C6A" name="GUID-F83BB44C-C37B-40F1-94D4-8A50D61E1C6A"></a><h5 id="ADLOB-GUID-F83BB44C-C37B-40F1-94D4-8A50D61E1C6A" class="sect5">将INITIAL和NEXT设置为大于CHUNK</h5>
                     <div>
                        <p>如果明确指定LOB的存储特性，请确保LOB数据段存储的<code class="codeph">INITIAL</code>和<code class="codeph">NEXT</code>设置为大于<code class="codeph">CHUNK</code>大小的大小。
                        </p>
                        <p>例如，如果数据库块大小为2KB并且您指定了8KB的<code class="codeph">CHUNK</code> ，那么请确保<code class="codeph">INITIAL</code>和<code class="codeph">NEXT</code>大于8KB，并且最好大得多（例如，至少16KB）。
                        </p>
                        <p>换句话说：如果为<code class="codeph">INITIAL,</code> <code class="codeph">NEXT</code>或LOB <code class="codeph">CHUNK</code>大小指定值，请确保以下列方式设置它们：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">CHUNK</code> &lt;= <code class="codeph">NEXT</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">CHUNK</code> &lt;= <code class="codeph">INITIAL</code> 
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADLOB45300"></a><div class="props_rev_3"><a id="GUID-2FEF93D4-621B-41FF-829A-E45339DFB11C" name="GUID-2FEF93D4-621B-41FF-829A-E45339DFB11C"></a><h4 id="ADLOB-GUID-2FEF93D4-621B-41FF-829A-E45339DFB11C" class="sect4">在行条款中启用或禁用存储</h4>
                  <div>
                     <div class="p"><code class="codeph">ENABLE</code> | <code class="codeph">DISABLE</code> <code class="codeph">STORAGE</code> <code class="codeph">IN</code> <code class="codeph">ROW</code>子句用于指示LOB是应该内联（在行中）还是在行外存储。如果LOB保存<code class="codeph">IN</code> <code class="codeph">ROW</code> ，<ul style="list-style-type:disc">
                           <li>
                              <p>对于没有压缩和加密的LOB以及具有安全文件压缩的LOB，启用了Exadata下推</p>
                           </li>
                           <li>
                              <p>在没有压缩和加密的情况下为LOB启用内存中</p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnote" id="GUID-2FEF93D4-621B-41FF-829A-E45339DFB11C__GUID-3D0C17A5-47AE-4B7A-AA57-5A2A66A89A9B">
                        <p class="notep1">注意：</p>
                        <p>一旦你做了它，你可能不会改变这个规范：如果你<code class="codeph">ENABLE STORAGE IN ROW</code> ，那么你不能将它改为行中的<code class="codeph">DISABLE STORAGE IN ROW</code> ，反之亦然。
                        </p>
                     </div>
                     <p>默认为<code class="codeph">ENABLE</code> <code class="codeph">STORAGE</code> <code class="codeph">IN</code> <code class="codeph">ROW</code> 。
                     </p>
                  </div>
               </div><a id="ADLOB45301"></a><div class="props_rev_3"><a id="GUID-B5F583AE-B96A-4D57-BA26-41D048FE28B5" name="GUID-B5F583AE-B96A-4D57-BA26-41D048FE28B5"></a><h4 id="ADLOB-GUID-B5F583AE-B96A-4D57-BA26-41D048FE28B5" class="sect4">行中启用或禁用存储的指南</h4>
                  <div>
                     <p>存储在该行中的最大LOB数据量是<code class="codeph">VARCHAR2</code>的最大大小（4000）。这包括控制信息和LOB值。如果指示LOB应存储在行中，则一旦LOB值和控制信息大于约4000，则LOB值将自动移出行。
                     </p>
                     <p>这表明以下准则：</p>
                     <p>默认情况下，ENABLE STORAGE IN ROW通常是最佳选择，原因如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">小LOB：</span>如果LOB很小（小于大约4000字节），那么在读取行时可以读取整个LOB而无需额外的磁盘I / O.</p>
                        </li>
                        <li>
                           <p><span class="bold">大LOB：</span>如果LOB很大（大于大约4000字节），那么即使在将LOB数据移出行之后，如果设置了ENABLE STORAGE IN ROW，控制信息仍然存储在行中。该控制信息可以使我们更快地读取外线LOB数据。
                           </p>
                        </li>
                     </ul>
                     <p>但是，在某些情况下， <code class="codeph">DISABLE STORAGE IN ROW</code>是更好的选择。这是因为将LOB存储在行中会增加行的大小。如果要执行大量基表处理（例如全表扫描，多行访问（范围扫描）或许多<code class="codeph">UPDATE</code> / <code class="codeph">SELECT</code>到LOB列以外的列），这会影响性能。
                     </p>
                  </div>
               </div>
            </div><a id="ADLOB45302"></a><div class="props_rev_3"><a id="GUID-DF2C343F-6937-4E9B-A15F-141A90AAC92E" name="GUID-DF2C343F-6937-4E9B-A15F-141A90AAC92E"></a><h3 id="ADLOB-GUID-DF2C343F-6937-4E9B-A15F-141A90AAC92E" class="sect3">LOB列索引</h3>
               <div>
                  <p>您可以使用不同的技术来索引LOB列。</p>
                  <div class="infoboxnote" id="GUID-DF2C343F-6937-4E9B-A15F-141A90AAC92E__GUID-97D49844-1442-4B60-89F4-F5A68E2C0E4F">
                     <p class="notep1">注意：</p>
                     <p>移动LOB列后，必须重建任何现有表索引。<a id="d75921e4556" class="indexterm-anchor"></a></p>
                  </div>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-12808065-C59B-4ED4-BAD8-1BF38C1FC73F">LOB列上的域索引</a></p>
                     </li>
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-FA3F48B2-17CB-4D51-A281-7C6844576424">LOB列上的文本索引</a></p>
                     </li>
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-1E54F133-F2E6-43E3-9EFA-4AF53D898C39">LOB上基于函数的索引</a></p>
                     </li>
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-FF748A89-941D-4131-A782-F400994223F9">LOB列的可扩展索引</a></p>
                     </li>
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-3936617F-ACBD-4F81-9D69-FCE1ADC3787A">Oracle Text Indexing支持XML</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB45303"></a><div class="props_rev_3"><a id="GUID-12808065-C59B-4ED4-BAD8-1BF38C1FC73F" name="GUID-12808065-C59B-4ED4-BAD8-1BF38C1FC73F"></a><h4 id="ADLOB-GUID-12808065-C59B-4ED4-BAD8-1BF38C1FC73F" class="sect4">LOB列上的域索引</h4>
                  <div>
                     <p>您可以通过构建专门适用于您的域的索引来提高查询性能。随数据库提供的可扩展性接口允许域索引，这是用于实现此类域特定索引的框架。</p>
                     <div class="infoboxnote" id="GUID-12808065-C59B-4ED4-BAD8-1BF38C1FC73F__GUID-76A7AC0B-0C45-4DA1-A8C3-457B0D96DB53">
                        <p class="notep1">注意：</p>
                        <p>您无法在LOB列上构建B树或位图索引。<a id="d75921e4663" class="indexterm-anchor"></a><a id="d75921e4667" class="indexterm-anchor"></a></p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-12808065-C59B-4ED4-BAD8-1BF38C1FC73F__GUID-E51D090B-1C34-4952-9ECB-D183CA453634">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../addci/building-domain-indexes.html#ADDCI290" target="_blank"><span class="italic">Oracle数据库数据盒开发人员指南</span></a> ，了解有关构建域特定索引的信息。
                        </p>
                     </div>
                  </div>
               </div><a id="ADLOB45304"></a><div class="props_rev_3"><a id="GUID-FA3F48B2-17CB-4D51-A281-7C6844576424" name="GUID-FA3F48B2-17CB-4D51-A281-7C6844576424"></a><h4 id="ADLOB-GUID-FA3F48B2-17CB-4D51-A281-7C6844576424" class="sect4">LOB列上的文本索引</h4>
                  <div>
                     <p>根据LOB列内容的性质，其中一个Oracle Text选项也可用于构建索引。</p>
                     <p>例如，如果文本文档存储在<code class="codeph">CLOB</code>列中，则可以构建文本索引以加速<code class="codeph">CLOB</code>列上基于文本的查询的性能。
                     </p>
                     <div class="infoboxnotealso" id="GUID-FA3F48B2-17CB-4D51-A281-7C6844576424__GUID-C333FDAB-D3F3-4946-846A-3C234122BCAD">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../ccapp/index.html" target="_blank"><span class="italic">Oracle Text Application Developer's Guide，</span></a>用于使用<code class="codeph">CLOB</code>列存储文本数据的示例</p>
                     </div>
                  </div>
               </div><a id="ADLOB45305"></a><div class="props_rev_3"><a id="GUID-1E54F133-F2E6-43E3-9EFA-4AF53D898C39" name="GUID-1E54F133-F2E6-43E3-9EFA-4AF53D898C39"></a><h4 id="ADLOB-GUID-1E54F133-F2E6-43E3-9EFA-4AF53D898C39" class="sect4">LOB上基于函数的索引</h4>
                  <div>
                     <p>一个<a id="d75921e4831" class="indexterm-anchor"></a><a id="d75921e4835" class="indexterm-anchor"></a>基于函数的索引是基于表达式构建的索引。它将索引功能扩展到列上的索引之外。基于函数的索引增加了访问数据的各种方式。
                     </p>
                     <p>无法在嵌套表或LOB列上构建基于函数的索引。但是，您可以在VARRAY上构建基于函数的索引。</p>
                     <p>喜欢<a id="d75921e4842" class="indexterm-anchor"></a> LOB列上的可扩展索引和域索引，在LOB列上执行DML操作时，基于函数的索引也会自动更新。更新任何可扩展索引时，也会更新基于函数的索引。
                     </p>
                     <div class="infoboxnotealso" id="GUID-1E54F133-F2E6-43E3-9EFA-4AF53D898C39__GUID-198FBEEB-A82B-4017-9427-F9B1DECD804F">
                        <p class="notep1">也可以看看：</p>
                        <p>有关使用基于函数的索引的更多信息，请<a href="../adfns/indexes.html#ADFNS00505" target="_blank"><span class="italic">参见“Oracle数据库开发指</span></a>
                        </p>
                     </div>
                  </div>
               </div><a id="ADLOB45306"></a><div class="props_rev_3"><a id="GUID-FF748A89-941D-4131-A782-F400994223F9" name="GUID-FF748A89-941D-4131-A782-F400994223F9"></a><h4 id="ADLOB-GUID-FF748A89-941D-4131-A782-F400994223F9" class="sect4">LOB列的可扩展索引</h4>
                  <div>
                     <p>该数据库提供<span class="italic">可扩展索引</span> ，该功能使您可以根据需要定义新索引类型。这基于协作索引的概念，其中数据盒和数据库构建和维护诸如文本和空间之类的数据类型的索引，例如，用于在线分析处理（OLAP）。
                     </p>
                     <p>盒式磁带负责定义索引结构，在加载和更新操作期间维护索引内容，以及在查询处理期间搜索索引。索引结构可以作为堆组织存储在Oracle中，也可以作为索引组织表存储，或者作为操作系统文件存储在外部。</p>
                     <p>为了支持此结构，数据库提供了<span class="italic">索引类型</span> 。索引类型的目的是通过数据盒式磁带为复杂域（如文本，空间，图像和OLAP）启用高效的搜索和检索功能。索引类型类似于Oracle Server中内置的排序或位映射索引类型。不同之处在于索引类型由数据盒式开发人员实现，而Oracle内核实现内置索引。一旦数据盒式开发人员实现了新的索引类型，数据盒式磁带的最终用户就可以像使用内置索引类型一样使用它。
                     </p>
                     <p>当数据库系统处理域索引，数据盒式磁带的物理存储时</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>定义索引的格式和内容。这使得磁带盒能够定义可以容纳复杂数据对象的索引结构。</p>
                        </li>
                        <li>
                           <p>构建，删除和更新域索引。墨盒处理构建和维护索引结构。请注意，这与为简单SQL数据类型提供的医学索引功能有很大不同。此外，由于索引被建模为元组的集合，因此直接支持就地更新。</p>
                        </li>
                        <li>
                           <p>访问和解释索引的内容。此功能使数据盒式磁带成为查询处理的组成部分。也就是说，数据库查询的内容相关子句由数据盒式磁带处理。</p>
                        </li>
                     </ul>
                     <p>通过支持可扩展索引，数据库显着减少了开发访问复杂数据类型（如LOB）的高性能解决方案所需的工作量。</p>
                  </div><a id="ADLOB45307"></a><div class="sect4"><a id="GUID-D9B44BF2-1240-4155-92BB-32576598AF93" name="GUID-D9B44BF2-1240-4155-92BB-32576598AF93"></a><h5 id="ADLOB-GUID-D9B44BF2-1240-4155-92BB-32576598AF93" class="sect5">可扩展优化器</h5>
                     <div>
                        <p>可扩展优化器功能允许用户定义函数和索引的作者创建统计信息收集，选择性和成本函数。优化程序在选择查询计划时使用此信息。因此，基于成本的优化器被扩展为使用用户提供的信息。</p>
                        <p>可扩展索引功能使您可以定义新的运算符，索引类型和域索引。对于此类用户定义的运算符和域索引，可扩展优化器功能允许用户控制优化程序用于选择执行计划的三个主要组件： <span class="italic">统计信息，选择性</span>和<span class="italic">成本</span> 。
                        </p>
                        <div class="infoboxnotealso" id="GUID-D9B44BF2-1240-4155-92BB-32576598AF93__GUID-636747F8-4C2A-4D91-A268-A96DFE372E04">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../addci/introduction-to-data-cartridges.html#ADDCI4256" target="_blank"><span class="italic">Oracle数据库数据盒开发人员指南</span></a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="ADLOB45308"></a><div class="props_rev_3"><a id="GUID-3936617F-ACBD-4F81-9D69-FCE1ADC3787A" name="GUID-3936617F-ACBD-4F81-9D69-FCE1ADC3787A"></a><h4 id="ADLOB-GUID-3936617F-ACBD-4F81-9D69-FCE1ADC3787A" class="sect4">Oracle Text Indexing支持XML</h4>
                  <div>
                     <p>您可以在<code class="codeph">CLOB</code>列上创建Oracle Text索引并对XML数据执行查询。
                     </p>
                     <div class="infoboxnotealso" id="GUID-3936617F-ACBD-4F81-9D69-FCE1ADC3787A__GUID-6364DF32-18F2-469B-8B52-857C3BEFC11A">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../adxdk/introduction-to-XDK.html#ADXDK-GUID-48EA5544-C75E-43DF-BAC1-2740D7002F07" target="_blank"><span><cite>Oracle XML Developer's Kit程序员指南</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../ccref/oracle-text-SQL-statements-and-operators.html#CCREF-GUID-4775F5FE-4569-4DF4-A7CA-B20EC6880CAB" target="_blank"><span><cite>Oracle Text Reference</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../ccapp/understanding-oracle-text-application-development.html#CCAPP-GUID-CF13C01A-F5E6-4EF5-839B-C09CF0024D5E" target="_blank"><span><cite>Oracle Text Application Developer's Guide</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="ADLOB45309"></a><div class="props_rev_3"><a id="GUID-F4B2B0C3-6E8E-47A4-A46C-8014DAAD7B42" name="GUID-F4B2B0C3-6E8E-47A4-A46C-8014DAAD7B42"></a><h3 id="ADLOB-GUID-F4B2B0C3-6E8E-47A4-A46C-8014DAAD7B42" class="sect3">分区表中的LOB操作</h3>
               <div>
                  <p>您可以对包含的表进行分区<code class="codeph"></code> LOB列。
                  </p>
                  <p>话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-A37C90DC-0DC7-4883-A6FF-59FBC7D44D56">关于在分区表中操作LOB</a></p>
                     </li>
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-96390DD8-BDC3-4B81-AD24-88F66D97E870">对包含LOB列的表进行分区</a></p>
                     </li>
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-86D2A49E-A956-433D-9BF2-C63A01F27047">在包含分区LOB列的表上创建索引</a></p>
                     </li>
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-43137298-9F9C-45D7-B253-05279E547EEC">移动包含LOB的分区</a></p>
                     </li>
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-EE4CE357-4385-4CD5-ADFD-765855EC5EF0">拆分包含LOB的分区</a></p>
                     </li>
                     <li>
                        <p><a href="LOB-storage-with-applications.html#GUID-1D318F25-B9D8-4AD9-BFAE-8DA8C9378EE3">合并包含LOB的分区</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-A37C90DC-0DC7-4883-A6FF-59FBC7D44D56" name="GUID-A37C90DC-0DC7-4883-A6FF-59FBC7D44D56"></a><h4 id="ADLOB-GUID-A37C90DC-0DC7-4883-A6FF-59FBC7D44D56" class="sect4">关于在分区表中操作LOB</h4>
                  <div>
                     <p>因此，LOB可以利用分区的所有好处，包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>LOB段可以分布在多个表空间之间，以平衡I / O负载并使备份和恢复更易于管理。</p>
                        </li>
                        <li>
                           <p>分区表中的LOB变得更容易维护。</p>
                        </li>
                        <li>
                           <p>可以将LOB划分为逻辑组，以加快对作为组访问的LOB的操作。</p>
                        </li>
                     </ul>
                     <p>本节介绍了可以在分区表中操作LOB的一些方法。</p>
                  </div>
               </div><a id="ADLOB45310"></a><div class="props_rev_3"><a id="GUID-96390DD8-BDC3-4B81-AD24-88F66D97E870" name="GUID-96390DD8-BDC3-4B81-AD24-88F66D97E870"></a><h4 id="ADLOB-GUID-96390DD8-BDC3-4B81-AD24-88F66D97E870" class="sect4">对包含LOB列的表进行分区</h4>
                  <div>
                     <div class="section">
                        <p>RANGE分区，LIST分区和HASH分区表支持LOB。复合堆组织表也可以有LOB。</p>
                        <p>您可以使用以下技术对包含LOB列的表进行分区：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">CREATE TABLE</code>语句的<code class="codeph">PARTITION BY ...</code>子句<code class="codeph">CREATE TABLE</code> 。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">ALTER TABLE ...将分区添加到现有<code class="codeph">ALTER TABLE ...ADD PARTITION</code>条款。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">ALTER TABLE ...与具有分区LOB列的表交换分区<code class="codeph">ALTER TABLE ...EXCHANGE PARTITION</code>条款。请注意，只有当两个表具有相同的存储属性时，才能使用<code class="codeph">EXCHANGE PARTITION</code> ，例如，两个表都存储了不符合要求的LOB。
                              </p>
                           </li>
                        </ul>
                        <p>建议在<code class="codeph">CREATE TABLE</code>的同时创建LOB分区（在<code class="codeph">CREATE TABLE</code>语句中）。如果在创建表时在LOB列上创建分区，则该列可以保存存储在内联或外联LOB中的LOB。
                        </p>
                        <p>创建表后，只能在外部存储的LOB列上创建新的LOB分区。此外，分区维护操作<code class="codeph">SPLIT PARTITION</code>和<code class="codeph">MERGE PARTITIONS</code>仅适用于存储LOB外线的LOB列。
                        </p>
                        <div class="infoboxnote" id="GUID-96390DD8-BDC3-4B81-AD24-88F66D97E870__NOTE-1224-DFDB9B2C">
                           <p class="notep1">注意：</p>
                           <p>创建表后，无法更改存储属性</p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-96390DD8-BDC3-4B81-AD24-88F66D97E870__GUID-26D3482B-4E9A-42DB-88F6-B7938B412873">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关LOB存储属性的更多信息，请参阅<a href="LOB-storage-with-applications.html#GUID-517E1234-EFCD-4D16-B69B-23F72A18A77D">LOB存储参数</a></p>
                              </li>
                              <li>
                                 <p>有关LOB限制的其他信息，对<a href="LOB-storage-with-applications.html#GUID-FD9C0216-EACF-4F21-B298-11336B4F4E75">分区索引组织表</a>中的LOB的限制</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB45311"></a><div class="props_rev_3"><a id="GUID-86D2A49E-A956-433D-9BF2-C63A01F27047" name="GUID-86D2A49E-A956-433D-9BF2-C63A01F27047"></a><h4 id="ADLOB-GUID-86D2A49E-A956-433D-9BF2-C63A01F27047" class="sect4">在包含分区LOB列的表上创建索引</h4>
                  <div>
                     <div class="section">
                        <p><a id="d75921e5468" class="indexterm-anchor"></a>要提高查询性能，可以在分区LOB列上创建索引。例如：</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX <span class="italic">index_name</span> ON <span class="italic">table_name</span> （ <span class="italic">LOB_column_1</span> ， <span class="italic">LOB_column_2</span> ，...）本地;</pre><p>请注意，LOB列仅支持基于域和函数的索引。LOB不支持其他类型的索引，例如唯一索引。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB45312"></a><div class="props_rev_3"><a id="GUID-43137298-9F9C-45D7-B253-05279E547EEC" name="GUID-43137298-9F9C-45D7-B253-05279E547EEC"></a><h4 id="ADLOB-GUID-43137298-9F9C-45D7-B253-05279E547EEC" class="sect4">移动包含LOB的分区</h4>
                  <div>
                     <div class="section">
                        <p><a id="d75921e5555" class="indexterm-anchor"></a>您可以将LOB分区移动到不同的表空间。如果表空间不再足以容纳分区，这将非常有用。为此，请使用<code class="codeph">ALTER TABLE ...MOVE PARTITION</code>条款。例如：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE <span class="italic">current_table</span> MOVE PARTITION <span class="italic">partition_name</span> TABLESPACE <span class="italic">destination_table_space</span> LOB（ <span class="italic">column_name</span> ）STORE AS（TABLESPACE <span class="italic">current_tablespace</span> ）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB45313"></a><div class="props_rev_3"><a id="GUID-EE4CE357-4385-4CD5-ADFD-765855EC5EF0" name="GUID-EE4CE357-4385-4CD5-ADFD-765855EC5EF0"></a><h4 id="ADLOB-GUID-EE4CE357-4385-4CD5-ADFD-765855EC5EF0" class="sect4">拆分包含LOB的分区</h4>
                  <div>
                     <div class="section">
                        <p><a id="d75921e5646" class="indexterm-anchor"></a>您可以使用<code class="codeph">ALTER TABLE ...将包含LOB的分区拆分为两个大小相等的分区<code class="codeph">ALTER TABLE ...SPLIT PARTITION</code>条款。这样做允许您将一个或两个新分区放在新的表空间中。例如：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE <span class="italic">table_name</span> SPLIT PARTITION <span class="italic">partition_name</span> AT（ <span class="italic">partition_range_upper_bound</span> ）INTO（PARTITION <span class="italic">partition_name</span> ，PARTITION <span class="italic">new_partition_name</span> TABLESPACE <span class="italic">new_tablespace_name</span> LOB（ <span class="italic">column_name</span> ）STORE AS（TABLESPACE <span class="italic">tablespace_name</span> ）...;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB45314"></a><div class="props_rev_3"><a id="GUID-1D318F25-B9D8-4AD9-BFAE-8DA8C9378EE3" name="GUID-1D318F25-B9D8-4AD9-BFAE-8DA8C9378EE3"></a><h4 id="ADLOB-GUID-1D318F25-B9D8-4AD9-BFAE-8DA8C9378EE3" class="sect4">合并包含LOB的分区</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用<code class="codeph">ALTER TABLE ...合并包含LOB列的分区<code class="codeph">ALTER TABLE ...MERGE PARTITIONS</code>条款。
                        </p>
                        <p>此技术对于回收未使用的分区空间很有用。例如：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE <span class="italic">table_name</span> MERGE PARTITIONS <span class="italic">partition_1</span> ， <span class="italic">partition_2</span> INTO PARTITION <span class="italic">new_partition</span> TABLESPACE <span class="italic">new_tablespace_name</span> LOB（ <span class="italic">column_name</span> ）存储为（TABLESPACE <span class="italic">tablespace_name</span> ）...;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADLOB45316"></a><a id="ADLOB45315"></a><div class="props_rev_3"><a id="GUID-5E0E0772-C5CE-458A-AD07-E8DB32C24231" name="GUID-5E0E0772-C5CE-458A-AD07-E8DB32C24231"></a><h3 id="ADLOB-GUID-5E0E0772-C5CE-458A-AD07-E8DB32C24231" class="sect3">索引组织表中的LOB</h3>
               <div>
                  <p>索引组织表（IOT）支持内部和外部LOB列。在大多数情况下，对IOT中的LOB进行SQL DDL，DML和分段操作会产生与普通表相同的结果。唯一的例外是创建期间LOB的默认语义。主要区别是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic"><span class="bold">表空间映射</span></span> ：默认情况下，或除非另有指定，否则将在表空间中创建LOB数据和索引段，在该表空间中创建索引组织表的主键索引段。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><span class="bold">内联与外部存储相比</span></span> ：默认情况下，在没有溢出段的情况下创建的索引组织表中的所有LOB都存储在行外。换句话说，如果创建的索引组织表没有溢出段，则此表中的LOB将其默认存储属性设置为<code class="codeph">DISABLE</code> <code class="codeph">STORAGE</code> <code class="codeph">IN</code> <code class="codeph">ROW</code> 。如果您强行尝试为此类LOB指定<code class="codeph">ENABLE</code> <code class="codeph">STORAGE</code> <code class="codeph">IN</code> <code class="codeph">ROW</code>子句，则SQL会引发错误。
                        </p>
                        <p>另一方面，如果指定了溢出段，则索引组织表中的LOB完全模仿传统表中的语义。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-5E0E0772-C5CE-458A-AD07-E8DB32C24231__NOTE-123-DFDC1E0B">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="LOB-storage-with-applications.html#GUID-D3BD47D3-DD6A-4DC9-9BAF-5DBB60918087">为持久性LOB定义表空间和存储特性</a></p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-5E0E0772-C5CE-458A-AD07-E8DB32C24231__GUID-A0FA4C25-57AC-4EDF-909E-ECE599440CE3">带有LOB列的索引组织表（IOT）示例</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>请考虑以下示例：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE iotlob_tab（c1 INTEGER PRIMARY KEY，c2 BLOB，c3 CLOB，c4 VARCHAR2（20））组织索引表格IOT_ts PCTFREE 10 PCTUSED 10 INITRANS 1 MAXTRANS 1 STORAGE（INITIAL 4K）PCTTHRESHOLD 50包括c2溢出表格iTO_ts PCTFREE 10 PCTUSED 10 INITRANS 1 MAXTRANS 1个存储（初始8K）LOB（c2）存储为lobseg（TABLESPACE lob_ts禁止存储在行中16384 PCTVERSION 10 CACHE STORAGE（INITIAL 2M）INDEX lobidx_c1（TABLESPACE lobidx_ts STORAGE（INITIAL 4K）））;</pre><p>执行这些语句会导致创建索引组织表<code class="codeph">iotlob_tab</code>其中包含以下元素：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>表空间<code class="codeph">iot_ts</code>中的主键索引段<span class="italic">，</span></p>
                        </li>
                        <li>
                           <p>表空间<code class="codeph">ioto_ts</code>的溢出数据段</p>
                        </li>
                        <li>
                           <p>从列<code class="codeph">C3</code>开始的列显式存储在溢出数据段中</p>
                        </li>
                        <li>
                           <p>表空间<code class="codeph">lob_ts</code>中的<code class="codeph">BLOB</code> （列<code class="codeph">C2</code> ）数据段</p>
                        </li>
                        <li>
                           <p>表空间<code class="codeph">lobidx_ts</code>中的<code class="codeph">BLOB</code> （列<code class="codeph">C2</code> ）索引段</p>
                        </li>
                        <li>
                           <p>表空间中的<code class="codeph">CLOB</code> （列<code class="codeph">C3</code> ）数据段<code class="codeph">iot_ts</code></p>
                        </li>
                        <li>
                           <p>表空间中的<code class="codeph">CLOB</code> （列<code class="codeph">C3</code> ）索引段<code class="codeph">iot_ts</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CLOB</code> （列<code class="codeph">C3</code> ）凭借具有溢出段的IOT而成行存储</p>
                        </li>
                        <li>
                           <p>明确强制<code class="codeph">BLOB</code> （列<code class="codeph">C2</code> ）存储在行外</p>
                           <div class="infoboxnote" id="GUID-5E0E0772-C5CE-458A-AD07-E8DB32C24231__GUID-9C49B6C6-040D-4B1C-AEF9-83D28943E2AA">
                              <p class="notep1">注意：</p>
                              <p>如果未指定溢出，则默认情况下C2和C3都将存储在行外。</p>
                           </div>
                        </li>
                     </ul>
                     <p>其他LOB功能，例如<code class="codeph">BFILE</code>和不同的字符宽度LOB，也在索引组织表中受支持，它们的用法与传统表的用法相同。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB510"></a><div class="props_rev_3"><a id="GUID-FD9C0216-EACF-4F21-B298-11336B4F4E75" name="GUID-FD9C0216-EACF-4F21-B298-11336B4F4E75"></a><h3 id="ADLOB-GUID-FD9C0216-EACF-4F21-B298-11336B4F4E75" class="sect3">分区索引组织表中LOB的限制</h3>
               <div>
                  <p>范围，列表和散列分区的索引组织表支持LOB列，具有以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>不支持复合分区索引组织表。</p>
                     </li>
                     <li>
                        <p>关系和对象分区索引组织表（按范围，散列或列表分区）可以保存LOB，如下所示;但是，不支持分区维护操作，例如<code class="codeph">MOVE</code> ， <code class="codeph">SPLIT</code>和<code class="codeph">MERGE</code> ：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>VARRAY数据类型存储为LOB数据类型</p>
                           </li>
                           <li>
                              <p>具有LOB属性的抽象数据类型</p>
                           </li>
                           <li>
                              <p>具有LOB类型的嵌套表</p>
                              <div class="infoboxnotealso" id="GUID-FD9C0216-EACF-4F21-B298-11336B4F4E75__GUID-FF0F22FD-A4B5-4C81-9FD3-CFA6BF1DD951">
                                 <p class="notep1">也可以看看：</p>
                                 <p><span class="q">“ <a href="working-with-LOBs.html#GUID-BA662EA5-4955-4582-B12E-3312FE4B1D6A" title="本节提供有关LOB规则和限制的详细信息。">LOB规则和限制</a> ”</span>中给出了对LOB列的其他限制。
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </div>
            </div><a id="ADLOB45317"></a><div class="props_rev_3"><a id="GUID-FFA3FAB5-694E-49C5-A8AF-B21B441BEFCC" name="GUID-FFA3FAB5-694E-49C5-A8AF-B21B441BEFCC"></a><h3 id="ADLOB-GUID-FFA3FAB5-694E-49C5-A8AF-B21B441BEFCC" class="sect3">更新嵌套表中的LOB</h3>
               <div>
                  <div class="section">
                     <p>要更新嵌套表中的LOB，必须显式锁定包含LOB的行。为此，必须在更新LOB值之前在子查询中指定FOR UPDATE子句。</p>
                     <p>请注意，锁定父表的行不会锁定包含LOB列的嵌套表的行。</p>
                     <div class="infoboxnote" id="GUID-FFA3FAB5-694E-49C5-A8AF-B21B441BEFCC__GUID-5FD08603-F948-4E5A-81F2-E7C2E2800E8F">
                        <p class="notep1">注意：</p>
                        <p>包含LOB列的嵌套表是唯一支持创建LOB集合的数据结构。您无法创建任何LOB数据类型的<code class="codeph">VARRAY</code> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>