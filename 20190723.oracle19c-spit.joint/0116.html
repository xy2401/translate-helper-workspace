<html id="04799.oci-flush-or-refresh-functions.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Lists and describes OCI flush or refresh functions."></meta>
      <meta name="description" content="Lists and describes OCI flush or refresh functions."></meta>
      <title>OCI刷新或刷新功能</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="Lists and describes OCI flush or refresh functions."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="intro-to-navigational-and-type-functions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oci-mark-or-unmark-object-cache-functions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="intro-to-navigational-and-type-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oci-mark-or-unmark-object-cache-functions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oci-navigational-and-type-functions.html" property="item" typeof="WebPage"><span property="name">OCI导航和类型功能</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCI刷新或刷新功能</li>
            </ol>
            <a id="GUID-C53CECCE-A6AA-433F-8EC7-419BA3503EB2" name="GUID-C53CECCE-A6AA-433F-8EC7-419BA3503EB2"></a><a id="LNOCI17317"></a><a id="LNOCI171"></a>
            
            <h2 id="LNOCI-GUID-C53CECCE-A6AA-433F-8EC7-419BA3503EB2" class="sect2"><span class="enumeration_section">27.2</span> OCI刷新或刷新功能</h2>
         </header>
         <div class="ind">
            <div>
               <p>列出并描述OCI刷新或刷新功能。</p>
               <div class="section">
                  <p><a href="oci-flush-or-refresh-functions.html#GUID-C53CECCE-A6AA-433F-8EC7-419BA3503EB2__CACEIBCE" title="该表有2列。第1列是函数名称，第2列描述其用途。">表27-4</a>说明了本节中描述的OCI刷新或刷新功能。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-C53CECCE-A6AA-433F-8EC7-419BA3503EB2__CACEIBCE">
                  <p class="titleintable">表27-4刷新或刷新功能</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="刷新或刷新功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="56%" id="d239589e201">功能</th>
                           <th align="left" valign="bottom" width="44%" id="d239589e204">目的</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="56%" id="d239589e209" headers="d239589e201 ">
                              <p><a href="oci-flush-or-refresh-functions.html#GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E" title="将已修改的持久对象刷新到服务器。">OCICacheFlush（）</a></p>
                           </td>
                           <td align="left" valign="top" width="44%" headers="d239589e209 d239589e204 ">
                              <p>将缓存中已修改的持久对象刷新到服务器</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="56%" id="d239589e221" headers="d239589e201 ">
                              <p><a href="oci-flush-or-refresh-functions.html#GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F" title="刷新缓存中的所有固定持久对象。">OCICacheRefresh（）</a></p>
                           </td>
                           <td align="left" valign="top" width="44%" headers="d239589e221 d239589e204 ">
                              <p>刷新固定的持久对象</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="56%" id="d239589e233" headers="d239589e201 ">
                              <p><a href="oci-flush-or-refresh-functions.html#GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301" title="将修改后的持久对象刷新到服务器。">OCIObjectFlush（）</a></p>
                           </td>
                           <td align="left" valign="top" width="44%" headers="d239589e233 d239589e204 ">
                              <p>将修改后的持久对象刷新到服务器</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="56%" id="d239589e245" headers="d239589e201 ">
                              <p><a href="oci-flush-or-refresh-functions.html#GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C" title="刷新最新数据库快照中的持久对象。">OCIObjectRefresh（）</a></p>
                           </td>
                           <td align="left" valign="top" width="44%" headers="d239589e245 d239589e204 ">
                              <p>刷新持久对象</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNOCI17318"></a><div class="props_rev_3"><a id="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E" name="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E"></a><h3 id="LNOCI-GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E" class="sect3"><span class="enumeration_section">27.2.1</span> OCICacheFlush（）</h3>
               <div>
                  <p>将已修改的持久对象刷新到服务器。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-3B961491-D320-4B5A-B4A6-56E7A86826A2">目的</p>
                     <p>将已修改的持久对象刷新到服务器。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-823CBFBB-D499-421F-A2FC-63EAFF410355">句法</p><pre class="oac_no_warn" dir="ltr">sword OCICacheFlush（OCIEnv * env，OCIError * err，const OCISvcCtx * svc，void * context，OCIRef *（* get）（void * context，ub1 * last），OCIRef ** ref）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-217ED454-3937-46AE-8FA7-6275B6F1909A">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-2A4881BE-EF77-4CD9-9D98-A0C0D2FF6CD7"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-B3481F88-A9D2-47AE-87C8-1B81086AB528"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-1619436A-4B25-4B50-9FB0-E5938905B736"><!-- --></a> svc（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-14B0BAB5-05AC-4F8F-89B2-76C1F5987935"><!-- --></a>上下文（IN）[可选]</dt>
                        <dd>
                           <p>指定用户上下文，该用户上下文是客户端回调函数<code class="codeph">get</code>的参数。如果没有用户上下文，则此参数设置为<code class="codeph">NULL</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-4E82E1BF-235E-42DC-B837-41879FBD0A47"><!-- --></a> get（IN）[可选]</dt>
                        <dd>
                           <p>客户端定义的函数，用作迭代器以检索需要刷新的一批脏对象。如果函数不为<code class="codeph">NULL</code> ，则调用此函数以获取脏对象的引用。重复此过程，直到客户端函数返回<code class="codeph">NULL</code>引用或参数<code class="codeph">last</code>设置为<code class="codeph">TRUE</code> 。对于客户端函数的每次调用，参数<code class="codeph">context</code>都传递给<code class="codeph">get()</code> 。如果未给出用户回调，则此参数应为<code class="codeph">NULL</code> 。如果客户端函数返回的对象不是脏的持久对象，则忽略该对象。
                           </p>
                           <p>必须使用相同的服务上下文来新建或固定从客户端函数返回的所有对象;否则，发出错误信号。请注意，缓存按照标记为脏的顺序刷新返回的对象。</p>
                           <p>如果此参数作为<code class="codeph">NULL</code>传递（例如，未提供客户端定义的函数），则给定服务上下文的所有脏持久对象将按其被弄脏的顺序刷新。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-5AE6C1F9-00E9-436B-9474-A6F37FE16800"><!-- --></a> ref（OUT）[可选]</dt>
                        <dd>
                           <p>如果刷新对象时出错，（ <code class="codeph">*ref</code> ）指向导致错误的对象。如果<code class="codeph">ref</code>为<code class="codeph">NULL</code> ，则不返回该对象。如果<code class="codeph">*ref</code>为<code class="codeph">NULL</code> ，则分配引用并设置为指向该对象。如果<code class="codeph">*ref</code>不为<code class="codeph">NULL</code> ，则将对象的引用复制到给定空间中。如果错误不是由任何脏对象引起的，则给定的<code class="codeph">REF</code>被初始化为<code class="codeph">NULL</code>引用（ <code class="codeph">OCIRefIsNull(*ref</code> ）为<code class="codeph">TRUE</code> ）。
                           </p>
                           <p><code class="codeph">REF</code>被分配用于会话持续时间（ <code class="codeph">OCI_DURATION_SESSION</code> ）。应用程序可以使用<code class="codeph">OCIObjectFree()</code>函数释放分配的<code class="codeph">REF</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-FDBF5830-2448-4793-8173-1FE278BBCB41">评论</p>
                     <p>此函数将已修改的持久对象从对象缓存刷新到服务器。对象按照新的顺序刷新或标记为已更新或标记为已删除。</p>
                     <div class="infoboxnotealso" id="GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E__GUID-3A87B146-A12C-43C4-A79B-A28381F27E6C">
                        <p class="notep1">也可以看看：</p>
                        <p><code class="codeph">OCIObjectFlush（）</code></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>该功能最多只能进行一次网络往返。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-flush-or-refresh-functions.html#GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301" title="将修改后的持久对象刷新到服务器。">OCIObjectFlush（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17319"></a><div class="props_rev_3"><a id="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F" name="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F"></a><h3 id="LNOCI-GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F" class="sect3"><span class="enumeration_section">27.2.2</span> OCICacheRefresh（）</h3>
               <div>
                  <p>刷新缓存中的所有固定持久对象。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-33D56E40-2701-4C6B-BDAE-B72D39D63AF5">目的</p>
                     <p>刷新缓存中的所有固定持久对象。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-988D2B77-C537-4E6E-8145-1A3B45CE9739">句法</p><pre class="oac_no_warn" dir="ltr">sword OCICacheRefresh（OCIEnv * env，OCIError * err，const OCISvcCtx * svc，OCIRefreshOpt选项，void * context，OCIRef *（* get）（void * context），OCIRef ** ref）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-D52A27B0-32BD-424B-AB24-DE2CCE16F95C">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-352A2B5D-4D2E-4F22-A045-5F80964870CB"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-3A875E73-C831-4D32-A8A5-A2EA738F1A02"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-07B5C2FA-9333-4DA6-8475-78AB45436690"><!-- --></a> svc（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-79399133-2E32-4CA3-B67B-8ECF7EA818AF"><!-- --></a>选项（IN）[可选]</dt>
                        <dd>
                           <p>如果指定了<code class="codeph">OCI_REFRESH_LOADED</code> ，则刷新在事务中加载的所有对象。如果选项为<code class="codeph">OCI_REFRESH_LOADED</code>且参数<code class="codeph">get</code>不为<code class="codeph">NULL</code> ，则此函数将忽略该参数。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-B15246C4-47B5-4615-A288-CC8A775737A5"><!-- --></a>上下文（IN）[可选]</dt>
                        <dd>
                           <p>指定用户上下文，该用户上下文是客户端回调函数<code class="codeph">get</code>的参数。如果没有用户上下文，则此参数设置为<code class="codeph">NULL</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-D5D245FF-CEF1-405A-BBE5-22CC58ABBD7F"><!-- --></a> get（IN）[可选]</dt>
                        <dd>
                           <p>客户端定义的函数，充当迭代器以检索需要刷新的一批对象。如果函数不为<code class="codeph">NULL</code> ，则调用此函数以获取对象的引用。如果引用不为<code class="codeph">NULL</code> ，则刷新对象。重复这些步骤，直到此函数返回<code class="codeph">NULL</code>引用。对于客户端函数的每次调用，参数<code class="codeph">context</code>都传递给<code class="codeph">get()</code> 。如果未给出用户回调，则此参数应为<code class="codeph">NULL</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-6467F1AF-E88F-4DEB-938C-3532A4763791"><!-- --></a>参考（OUT）[可选]</dt>
                        <dd>
                           <p>如果刷新对象时出错，（ <code class="codeph">*ref</code> ）指向导致错误的对象。如果<code class="codeph">ref</code>为<code class="codeph">NULL</code> ，则不返回该对象。如果<code class="codeph">*ref</code>为<code class="codeph">NULL</code> ，则分配引用并设置为指向该对象。如果<code class="codeph">*ref</code>不为<code class="codeph">NULL</code> ，则将对象的引用复制到给定空间中。如果错误不是由任何对象引起的，则给定的<code class="codeph">ref</code>被初始化为<code class="codeph">NULL</code>引用（ <code class="codeph">OCIRefIsNull(*ref</code> ）为<code class="codeph">TRUE</code> ）。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-D85A32EC-F587-4467-8218-03D1F3E12AFD">评论</p>
                     <p>此函数刷新所有固定的持久对象，并从对象缓存中释放所有未固定的持久对象。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F__GUID-B3C21F2D-30B7-4DCF-AA2E-4D77164D3590">
                        <p class="notep1">注意：</p>
                        <p>刷新对象时，这些对象的二级存储器可能会移动到内存中的不同位置。因此，在此调用之前保存的属性的任何指针都可能无效。使用二级存储器的属性示例包括<code class="codeph">OCIString *</code> ， <code class="codeph">OCIColl *</code>和<code class="codeph">OCIRaw *</code> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-flush-or-refresh-functions.html#GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C" title="刷新最新数据库快照中的持久对象。">OCIObjectRefresh（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                        <li><a href="object-advanced-topics-in-oci.html#GUID-4FC980A1-942B-4CE8-B3B7-BFD72C44FB42" title="刷新时，将使用服务器中相应对象的最新值重新加载对象副本。">关于刷新对象副本</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17320"></a><div class="props_rev_3"><a id="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301" name="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301"></a><h3 id="LNOCI-GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301" class="sect3"><span class="enumeration_section">27.2.3</span> OCIObjectFlush（）</h3>
               <div>
                  <p>将修改后的持久对象刷新到服务器。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301__GUID-326785AA-4651-4091-BF31-2E42576C8623">目的</p>
                     <p>将修改后的持久对象刷新到服务器。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301__GUID-5250A8F7-3501-433B-A43D-263D84274741">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIObjectFlush（OCIEnv * env，OCIError * err，void * object）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301__GUID-AAA01752-C53A-4B67-973A-BCCBADE1E223">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301__GUID-7D58A041-D1EF-4132-9848-5AECB2C5E326"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301__GUID-6DBC5260-F610-4031-8C3A-4089FF5F88AD"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301__GUID-B8C3508C-E3EA-4CC7-8D11-4B4613EB045E"><!-- --></a>对象（IN）</dt>
                        <dd>
                           <p>指向持久对象的指针。在此调用之前必须固定该对象。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301__GUID-F7F21C30-7BBD-4154-A385-7B609280BE38">评论</p>
                     <p>此函数将修改后的持久对象刷新到服务器。在刷新对象时隐式获取独占锁。当此函数将对象写入服务器时，可能会触发触发器。此函数返回瞬态对象和值以及未修改的持久对象的错误。</p>
                     <p>可以通过服务器上的触发器修改对象。为了使缓存中的对象与数据库保持一致，应用程序可以释放或刷新缓存中的对象。</p>
                     <p>如果要刷新的对象包含内部LOB属性并且由于<code class="codeph">OCIObjectCopy()</code> ， <code class="codeph">OCILobAssign()</code>或<code class="codeph">OCILobLocatorAssign()</code>操作或通过<code class="codeph">OCILobLocatorAssign()</code>分配另一个LOB定位符而修改了LOB属性，则flush会生成LOB的副本在分配或复制内部LOB定位器或对象时存在于源LOB中的值。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="引脚可引用对象。">OCIObjectPin（）</a></li>
                        <li><a href="oci-flush-or-refresh-functions.html#GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E" title="将已修改的持久对象刷新到服务器。">OCICacheFlush（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="oci-miscellaneous-object-functions.html#GUID-73C98F89-47E5-4B82-B869-731F30F011B0" title="将源实例复制到目标。">OCIObjectCopy（）</a></li>
                        <li><a href="lob-functions.html#GUID-B052C110-D039-44A1-85C6-F5CC7348E2DC" title="将一个LOB或BFILE定位器分配给另一个">OCILobAssign（）</a></li>
                        <li><a href="lob-functions.html#GUID-F7887376-4B3C-430C-94A3-11FE96E26627" title="将一个LOB或BFILE定位器分配给另一个。">OCILobLocatorAssign（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                        <li><a href="lob-functions.html#GUID-699FFE4B-07C8-4904-959F-3686E73B8188">LOB功能</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17322"></a><a id="LNOCI17321"></a><div class="props_rev_3"><a id="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C" name="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C"></a><h3 id="LNOCI-GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C" class="sect3"><span class="enumeration_section">27.2.4</span> OCIObjectRefresh（）</h3>
               <div>
                  <p>刷新最新数据库快照中的持久对象。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-6962B07B-A47F-4339-B395-0649A08E41D0">目的</p>
                     <p>刷新最新数据库快照中的持久对象。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-FB34905E-1881-4796-854D-6762C2E1AB90">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIObjectRefresh（OCIEnv * env，OCIError * err，void * object）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-957AD274-852D-4F6C-BC83-72EE5E5AE144">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-F0FFC9F2-CF58-46C1-B3F3-A186EDAB69AF"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-252345CA-416A-43E6-9E67-798234330B0B"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-076169D0-2C76-4CB5-88F6-C0D3BF338173"><!-- --></a>对象（IN）</dt>
                        <dd>
                           <p>指向持久对象的指针，该指针必须已固定。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-DFB5953F-E4DB-4323-949E-5BC0BFC0C697">评论</p>
                     <p>此函数使用从服务器中的最新快照检索的数据刷新对象。当对象缓存中的对象与服务器中的对象不一致时，应刷新对象。</p>
                     <div class="infoboxnote" id="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-4A0E031D-C215-412C-A823-97EDE0017B0C">
                        <p class="notep1">注意：</p>
                        <p>将对象刷新到服务器时，可以触发触发器以修改服务器中的更多对象。对象缓存中的相同对象（由触发器修改）变得过时，必须先刷新才能锁定或刷新它们。</p>
                        <p>当用户发出SQL语句或PL / SQL过程来修改服务器中的任何对象时，会发生这种情况。</p>
                     </div>
                     <div class="infoboxnote" id="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__GUID-F07E10D0-582E-4F01-9730-459704520213">
                        <p class="notep1">注意：</p>
                        <p>如果此函数刷新未标记的对象，则自上次刷新以来对对象（脏对象）所做的修改将丢失。</p>
                     </div>
                     <p><a href="oci-flush-or-refresh-functions.html#GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__CACGGHIJ" title="该表有2列。第1列是对象属性，第2列描述刷新后的状态。">表27-5</a>显示了刷新后如何修改对象的各种元属性标志和持续时间。
                     </p>
                     <div class="tblformal" id="GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C__CACGGHIJ">
                        <p class="titleintable">表27-5刷新后的对象状态</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="刷新后的对象状态" width="100%" border="1" summary="This table has 2 columns. Column 1 is the object attribute and column 2 describes its status after refresh." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="47%" id="d239589e1677">对象属性</th>
                                 <th align="left" valign="bottom" width="53%" id="d239589e1680">刷新后的状态</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d239589e1685" headers="d239589e1677 ">
                                    <p>存在</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d239589e1685 d239589e1680 ">
                                    <p>设置为适当的值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d239589e1692" headers="d239589e1677 ">
                                    <p>固定</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d239589e1692 d239589e1680 ">
                                    <p>不变</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d239589e1699" headers="d239589e1677 ">
                                    <p>分配期限</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d239589e1699 d239589e1680 ">
                                    <p>不变</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d239589e1706" headers="d239589e1677 ">
                                    <p>针脚持续时间</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d239589e1706 d239589e1680 ">
                                    <p>不变</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>刷新的对象将被<span class="italic">替换为就地</span> 。当对象被替换为就地时，对象的顶级内存被重用，以便可以将新数据加载到相同的内存地址中。<code class="codeph">NULL</code>指示器结构的顶级内存也被重用。与顶级内存块不同，辅助内存块被释放并重新分配。
                     </p>
                     <p>在编写保留指向辅助内存块的指针的功能时应该小心，例如将辅助内存块的地址分配给局部变量，因为在刷新对象后此指针可能变为无效。</p>
                     <p>此功能不会影响瞬态对象或值。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-flush-or-refresh-functions.html#GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F" title="刷新缓存中的所有固定持久对象。">OCICacheRefresh（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="01534.part-diagnosing-responding-failures.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>诊断和应对失败</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Backup and Recovery User&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Backup and Recovery User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-backup-and-recovery-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T05:20:45-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96241-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-recovery-catalog.html" title="Previous" type="text/html"></link>
      <link rel="next" href="rman-data-repair-concepts.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="BRADV"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-recovery-catalog.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="rman-data-repair-concepts.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">备份和恢复用户指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">诊断和应对失败</li>
            </ol>
            <a id="GUID-ED89DC53-A816-450B-BFF4-A712D2694EEC" name="GUID-ED89DC53-A816-450B-BFF4-A712D2694EEC"></a><a id="BRADV325"></a>
            
            <h2 id="BRADV-GUID-ED89DC53-A816-450B-BFF4-A712D2694EEC" class="sect2"><span class="enumeration_part">第五部分</span>诊断和应对故障</h2>
         </header>
         <div class="ind">
            <div>
               <p>以下章节介绍如何诊断和响应介质故障和数据损坏。本书的这一部分包含以下章节：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="rman-data-repair-concepts.html#GUID-1805CCF7-4AF2-482D-B65A-998192F89C2B" title="虽然有几个问题可以阻止Oracle数据库的正常运行或影响数据库I / O操作，但只有以下内容通常需要DBA干预和数据修复：用户错误，应用程序错误和介质故障。当由于应用程序逻辑错误或手动错误导致数据库中的数据被错误地更改或删除时，会发生用户错误。有时，软件故障可能会破坏数据块。在物理损坏（也称为介质损坏）中，数据库无法识别该块。当数据库外部的问题阻止其在正常操作期间读取或写入文件时，会发生介质故障。RMAN提供多种数据修复方法。在RMAN还原操作中，选择要还原的文件，然后运行RESTORE命令。通常，您还原文件以准备介质恢复。RMAN使用RMAN存储库中可用备份集或映像副本的记录来选择用于还原操作的最佳可用备份。RMAN自动使用还原故障转移来跳过损坏或无法访问的备份并查找可用的备份。如果未找到备份或包含损坏的数据，RMAN会自动查找从中还原所需文件的另一个备份。RMAN会在还原其内容时自动解密受备份加密保护的备份集。其他步骤（如果有）取决于用于加密备份的技术。使用自动存储管理（ASM）磁盘组时，仅当数据文件的全名（包括化身）与现有数据文件的名称不匹配时，RMAN还原操作才会创建数据文件的新副本。RMAN使用还原优化来避免在可能的情况下从备份还原数据文件。如果数据文件存在于正确的位置且其标头包含预期信息，则RMAN不会从备份还原数据文件。在介质恢复中，RMAN会对已还原的数据应用更改，以便及时前滚此数据。RMAN自动化媒体恢复。RMAN自动恢复并应用增量备份和归档重做日志，无论哪种组合最有效。只要使用RESETLOGS选项打开数据库，就会创建数据库化身。使用RESETLOGS选项打开数据库时，RMAN会执行某些操作。可插拔数据库（PDB）版本是多租户容器数据库（CDB）的子实现，表示为（database_incarnation，pdb_incarnation）。当数据库经历多个化身时，某些备份可能成为孤立备份。孤立备份是在数据库的化身期间创建的备份，这些备份不在直接祖先路径中。当您在可插拔数据库（PDB）上执行时间点恢复，然后使用RESETLOGS选项打开PDB时，可能会导致孤立PDB备份。">RMAN数据修复概念</a></p>
                  </li>
                  <li>
                     <p><a href="diagnosing-repairing-failures-dra.html#GUID-8C219B50-1F7F-4F7A-95EE-5F029AE7EB2A" title="Data Recovery Advisor是一种通过确定数据库故障的最佳自动修复选项来帮助减少数据库恢复时间的工具。Data Recovery Advisor是一个Oracle数据库工具，可自动诊断数据故障，确定并提供适当的修复选项，并根据用户的请求执行修复。在使用Data Recovery Advisor之前，您必须熟悉一些概念。Data Recovery Advisor具有命令行和GUI界面。Oracle企业管理器云控制中提供了GUI界面。检查器是在Health Monitor中注册的诊断操作或过程，用于评估数据库或其组件的运行状况。失败是由数据完整性检查检测到的持久性数据损坏。每个故障都有故障状态：OPEN或CLOSED。每个故障都有一个失败优先级：CRITICAL，HIGH或LOW。 Data Recovery Advisor仅为诊断出的故障分配CRITICAL或HIGH优先级。为清楚起见，Data Recovery Advisor将相关故障组合在一起。ADVISE FAILURE命令可以显示手动和自动修复选项。Data Recovery Advisor将手动操作分类为必需或可选。如果可能，Data Recovery Advisor会整合修复以将多个故障修复为单个修复。合并修复可能包含多个步骤。每当Data Recovery Advisor生成自动修复选项时，它都会创建一个脚本，说明RMAN打算使用哪些命令来修复故障。Data Recovery Advisor打印此脚本的位置，该脚本是驻留在操作系统上的文本文件。仅在某些数据库配置上支持Data Recovery Advisor。Data Recovery Advisor仅支持单实例数据库。不支持Oracle Real Application Clusters（Oracle RAC）数据库。Oracle Data Guard环境中的Data Recovery Advisor存在一些限制。Data Recovery Advisor只能用于诊断和修复非CDB中的数据损坏以及多租户容器数据库（CDB）的根目录。可插拔数据库（PDB）不支持Data Recovery Advisor。当您怀疑或发现故障时，Data Recovery Advisor工作流程就会开始。您可以通过多种方式发现故障，包括错误消息，警报，跟踪文件和失败的数据完整性检查。您可以使用Data Recovery Advisor自动诊断数据故障，确定适当的修复选项以及在CDB中执行修复。如果您怀疑或知道发生了一个或多个数据库故障，请使用LIST FAILURE获取有关它们的信息。确定数据库遇到问题的最简单方法是使用LIST FAILURE命令。除了提供更详细的输出外，LIST FAILURE还可以限制输出。当用户事务试图访问损坏的数据时，数据库会被动地调用数据完整性检查。在某些情况下，潜在的故障可能无法检测到。在RMAN会话中运行LIST FAILURE后，使用ADVISE FAILURE命令显示修复选项。此命令打印故障摘要，并隐式关闭所有已修复的打开故障。如果存在一个或多个故障，则通常使用LIST FAILURE显示有关故障的信息，然后在同一个RMAN会话中显示ADVISE FAILURE以获取修复选项的报告。您还可以请求特定故障的修复选项。您可以按状态（CRITICAL，HIGH或LOW）或故障编号指定故障。您还可以使用EXCLUDE FAILURE从报告中排除一个或多个故障。您可以使用Data Recovery Advisor自动修复故障。如果ADVISE FAILURE建议手动修理，请先尝试这些。如果无法进行手动修复，或者无法修复所有故障，则可以使用REPAIR FAILURE自动修复当前RMAN会话中最新ADVISE FAILURE命令中建议的故障。默认情况下，脚本显示为标准输出。您可以使用SPOOL命令将脚本写入可编辑文件。在某些情况下，您可能希望使用CHANGE FAILURE命令来更改故障的状态或优先级。">使用Data Recovery Advisor诊断和修复故障</a></p>
                  </li>
                  <li>
                     <p><a href="validating-database-files-backups.html#GUID-CC967929-9610-410D-B881-66E71353D84C" title="验证使您可以检查备份的完整性。RMAN验证的主要目的是检查损坏的块和丢失的文件。您还可以使用RMAN确定是否可以还原备份。数据库可防止导致无法使用的备份文件或损坏的已还原数据文件的操作。损坏的块是一个已更改的块，因此它与Oracle数据库期望找到的块不同。在物理损坏（也称为媒体损坏）中，数据库根本无法识别块：校验和无效，块包含全零，或块的页眉和页脚不匹配。您可以使用SET MAXCORRUPT命令设置RMAN备份文件中允许的未标记损坏总数。默认值为零，这意味着RMAN不会容忍任何类型的未标记的损坏块。Oracle数据库支持用于检测，修复和监视块损坏的不同技术。您可以使用VALIDATE命令手动检查数据库文件中的物理和逻辑损坏。您还可以使用BACKUP VALIDATE命令执行验证。你可以运行RESTORE ...VALIDATE以测试RMAN是否可以从备份还原特定文件或文件集。RMAN选择要使用的备份。RMAN使您可以使用VALIDATE命令验证多租户容器数据库（CDB）和可插拔数据库（PDB）。验证CDB的步骤与用于验证非CDB的步骤类似。有多种方法可以验证PDB。">验证数据库文件和备份</a></p>
                  </li>
                  <li>
                     <p><a href="rman-complete-database-recovery.html#GUID-D908719C-9D46-4084-850C-0F81C25094EB" title="丢失一个或多个数据库文件后，完全恢复会使数据库恢复正常运行。完全恢复正在将数据库恢复到最近的某个时间点，而不会丢失任何已提交的事务。本章中描述的完整恢复操作受特定条件的限制。零数据丢失恢复设备（恢复设备）大大减少了连续归档重做日志备份之间存在的潜在数据丢失窗口。您可以在数据库故障的几个亚之内恢复目标数据库。您必须根据恢复目标以及丢失的数据库文件来规划数据库还原和恢复策略。用于确定哪些文件需要还原或恢复的技术取决于丢失的文件类型。当任何多路复用控制文件变得不可访问时，数据库立即关闭。关于何时以及如何恢复的决定取决于数据库的状态和数据文件的位置。确定缺少哪些数据文件的简单方法是运行VALIDATE DATABASE命令。尽管VALIDATE DATABASE是确定文件是否不可访问的好方法，但您可能希望使用SQL查询来获取更详细的信息。建议您记录数据库的DBID。预览备份可帮助您确保还原和恢复操作所需的所有备份都可用。异地备份存储在远程位置，例如安全存储设施，除非媒体管理器检索媒体，否则无法恢复。验证备份可确定备份是否可用。RMAN会根据需要自动从备份还原存档的重做日志文件以执行恢复。RMAN使您可以覆盖已还原的归档重做日志文件的默认位置。要管理用于包含已还原日志的磁盘空间，可以在一个RUN块中多次指定已归档日志的还原目标，以在多个目标之间分配已还原的日志。对于使用某些技术加密的备份，您必须提供用于解密这些备份的密码。在完全恢复期间，RMAN将还原一个或多个数据文件，然后应用还原备份后生成的所有重做。您使用RESTORE和RECOVER命令来还原和恢复数据库。如果无法将数据文件还原到其默认位置，则必须更新控制文件以反映数据文件的新位置。此方案假定数据库trgt已丢失其大部分或全部数据文件。它还假定数据库使用快速恢复区域。使用带有TABLESPACE选项的RESTORE和RECOVER命令执行表空间的完全恢复您可以通过切换到无法访问的数据文件的映像副本来恢复数据库。这种技术比传统的恢复和恢复花费的时间更少，因为不需要恢复备份。当一个或多个数据文件损坏时，您可以通过切换到损坏的数据文件的现有映像副本来执行恢复。您可以通过切换到损坏的数据文件的映像副本而不是还原这些数据文件来执行完整的数据库恢复。RMAN和Oracle Enterprise Manager云控制（云控制）为多租户环境中的备份和恢复提供全面支持。恢复整个CDB时，可以在单个操作中恢复根和所有PDB。如果发生仅影响根的数据损坏或用户错误，您可以考虑仅恢复根。您可以执行一个或多个PDB的完全恢复，而不会影响其他打开的PDB的操作。企业管理器云控制（云控制）提供了恢复PDB的界面。使用RECOVER命令使用预包装备份执行完全恢复。预打印备份用于在PDB插入当前CDB之前的某个时间将PDB恢复并恢复到其状态。 RMAN使用预包装备份执行PDB的完全恢复。在将PDB迁移到当前目标CDB之前，在源非CDB或源CDB上创建了这些预制备份备份。此示例使用预刷新备份执行目标CDB prod_cdb中PDB my_pdb的完全恢复。由于不同PDB中的表空间可以具有相同的名称，以消除歧义，因此必须直接连接到PDB以恢复其一个或多个表空间。相反，由于数据文件编号和路径在整个CDB中是唯一的，因此您可以在恢复PDB数据文件时连接到根或PDB。Oracle企业管理器云控制（云控制）提供了一个用于恢复PDB中的表空间的界面。通过切换到副本来恢复CDB比传统的恢复和恢复更快。RMAN使您可以使用RESTORE和RECOVER命令执行应用程序容器的完全恢复，而不会影响CDB中的其他容器。使用RESTORE和RECOVER命令执行应用程序根目录的完全恢复。您可以执行应用程序容器的完全恢复，其中包括应用程序根目录及其所有应用程序PDB，而不会影响CDB中的其他PDB。使用RESTORE和RECOVER命令执行一个或多个应用程序PDB的完全恢复。您可以使用RESTORE和RECOVER命令将稀疏数据库恢复到最近的时间点。执行包含稀疏数据文件的数据库的恢复与执行整个数据库的恢复非常相似。执行稀疏CDB的恢复与执行稀疏数据库的完全恢复非常相似。在根级别或CDB级别连接时，可以恢复稀疏PDB。">执行完整的数据库恢复</a></p>
                  </li>
                  <li>
                     <p><a href="rman-performing-flashback-dbpitr.html#GUID-5463669A-DC89-4FF4-ACCE-136A72DF687B" title="此概述描述了Oracle闪回技术和数据库时间点恢复的目的和基本概念。某些情况适合使用时间点恢复或闪回功能，以便在之前的某个时间点将数据库或数据库对象返回到其状态。数据库时间点恢复（DBPITR）和闪回功能使您可以将数据库恢复到先前的某个时间点。DBPITR在物理级别工作，以在过去的目标时间将数据文件返回到其状态。RMAN为一个或多个PDB的时间点恢复提供支持。要恢复PDB，必须以具有SYSDBA或SYSBACKUP权限的用户身份连接到root。恢复后，PDB的旧备份仍然有效，并且可以在发生介质故障时使用。在大多数可用的情况下，Oracle数据库的闪回功能比介质恢复更有效。您可以使用它们来调查数据库的过去状态。Oracle闪回数据库是DBPITR最有效的替代方法。逻辑闪回功能用于将表及其内容恢复到过去的时间。您可以对整个多租户容器数据库（CDB）或特定可插拔数据库（PDB）执行闪回数据库操作。多租户容器数据库（CDB）可以使用共享撤消或本地撤消。RMAN用于执行闪回数据库操作的技术取决于CDB的撤消配置类型.RMAN提供了管理PDB中数据块的重做损坏的方法。闪回表使用撤消表空间中的信息而不是恢复的备份来检索表。发生闪回表操作时，将删除新行并重新插入旧行。在执行表的闪回时，数据库的其余部分仍然可用。要执行闪回表操作，该表必须符合闪回的条件，执行操作的用户必须具有所需的权限。要在一个或多个表上使用闪回表功能，请使用带有目标时间或SCN的FLASHBACK TABLE SQL语句。默认情况下，数据库在执行FLASHBACK TABLE操作之前禁用受影响表上的触发器。在操作之后，数据库将触发器返回到操作之前的状态（启用或禁用）。您可以使用FLASHBACK TABLE从回收站中检索对象...在DROP声明之前。Flashback Drop可以反转DROP TABLE操作的效果。闪回丢弃比在这种情况下可以使用的其他恢复机制（如时间点恢复）更快，并且不会导致停机或丢失最近的事务。在执行闪回删除操作之前，必须满足先决条件。使用FLASHBACK TABLE ...在DROP语句之前要从回收站中恢复对象。您可以指定回收站中表的名称或原始表名。您可以使用相同的原始名称创建，然后删除多个对象。所有丢弃的对象都存储在回收站中。闪回数据库通过将数据库返回到先前某个时间点的状态来反转不需要的更改。闪回数据库通过撤消对运行命令时存在的数据文件的更改来工作。必须满足先决条件才能执行闪回数据库操作。闪回数据库操作使用FLASHBACK DATABASE命令将数据库回滚到过去的某个时间点。您可以使用FLASHBACK DATABASE命令为整个多租户容器数据库（CDB）执行闪回数据库操作。您可以使用FLASHBACK DATABASE命令对多租户容器数据库（CDB）中的单个可插拔数据库（PDB）执行闪回数据库操作。数据字典视图包含用于监视闪回数据库的信息。RMAN DBPITR在目标恢复时间之前从备份还原数据库，然后使用增量备份和重做将数据库前滚到目标时间。您可以恢复到SCN，时间，日志序列号或还原点。Oracle建议您在重要时间创建还原点，以便在必要时使时间点恢复更易于管理。必须满足某些先决条件才能执行数据库时间点恢复（DBPITR）。使用RESTORE和RECOVER命令执行DBPITR。使用RECOVER命令执行容器数据库（CDB）和可插拔数据库（PDB）的时间点恢复（PITR）。PDB的PITR只能使用RMAN执行。使用RESTORE和RECOVER命令为整个CDB执行时间点恢复。当您将一个或多个PDB恢复到指定的时间点时，剩余的PDB将在国家开发银行不受影响，可以开放和运作。使用RESTORE和RECOVER命令执行应用程序PDB的时间点恢复。执行稀疏数据库的时间点恢复类似于执行正常数据库的时间点恢复。本节介绍基本闪回数据库和DBPITR方案的变体。闪回数据库可用于撤消OPEN RESETLOGS操作。跨OPEN RESETLOGS的闪回数据库可用于在Data Guard环境中执行多个功能。您可以使用闪回数据库将数据库回滚到废弃的数据库化身。要将DPITR执行到非当前数据库化身，必须显式执行RESET DATABASE以将数据库重置为目标SCN上当前的化身。您还必须从包含目标SCN的数据库化身中还原控制文件。">执行闪回和数据库时间点恢复</a></p>
                  </li>
                  <li>
                     <p><a href="rman-block-media-recovery.html#GUID-1E226393-17D0-4AB0-A05D-91210255D8FF" title="阻止介质恢复恢复通过恢复损坏的数据块提供较低的平均恢复时间（MTTR）。使用块介质恢复来恢复数据文件中的一个或多个损坏的数据块。通常，数据库将块标记为介质损坏，然后在首次遇到损坏时将其写入磁盘。在块恢复之前，块的后续读取不会成功。您只能对标记为损坏或未通过损坏检查的块执行块恢复。阻止恢复行为取决于是在主数据库还是物理备用数据库上发现数据块损坏。V $ DATABASE_BLOCK_CORRUPTION视图显示由数据库组件（如RMAN，ANALYZE和SQL查询）标记为已损坏的块。阻止介质恢复仅需要对要恢复的块进行不间断的重做更改。这与数据文件恢复不同，它需要从恢复开始到结束时不间断的一系列重做更改。在使用RECOVER执行块介质恢复之前，必须满足某些先决条件...BLOCK命令。使用RECOVER ......BLOCK命令用于恢复数据文件中的各个损坏块。您确定需要恢复的块，然后使用任何可用的备份来还原和恢复这些块。您可以使用Data Recovery Advisor诊断和修复数据块损坏导致的故障。在此示例中，VALIDATE DATABASE命令时发现了损坏的数据块。RMAN可以自动恢复V $ DATABASE_BLOCK_CORRUPTION视图中列出的所有块。">执行块介质恢复</a></p>
                  </li>
                  <li>
                     <p><a href="rman-recovery-advanced.html#GUID-EA9DB3ED-2481-47DD-908B-A314D5C3F730" title="您可以通过应用增量备份对在NOARCHIVELOG模式下运行的数据库执行有限的恢复恢复。增量备份必须一致，就像在NOARCHIVELOG模式下运行的数据库的所有备份一样，因此在打开数据库时无法对数据库进行备份。RMAN可以将丢失的服务器参数文件还原到其默认位置或您选择的位置。与丢失控制文件不同，丢失服务器参数文件不会导致实例立即停止。实例可能会继续运行，但您必须将其关闭并在还原服务器参数文件后重新启动它。如果已配置控制文件自动备份，则只要执行自动备份，就会使用控制文件备份服务器参数文件。您还可以使用TO PFILE&#39;filename&#39;子句将服务器参数文件还原为客户端初始化参数文件。当所有当前控制文件都丢失时，您必须还原备份控制文件。如果当前控制文件的所有副本都丢失或损坏，则必须还原并装入备份控制文件。然后，您必须运行RECOVER命令，即使没有还原数据文件，也可以使用RESETLOGS选项打开数据库。还原控制文件时，默认目标是CONTROL_FILES初始化参数中定义的所有位置。如果未设置CONTROL_FILES初始化参数，则数据库使用相同的规则来确定在未设置CONTROL_FILES参数时创建控制文件时它使用的还原控制文件的目标。恢复控制文件的过程取决于是否使用了恢复目录。无论数据库是否使用快速恢复区域，恢复控制文件的命令都是相同的。使用备份控制文件恢复数据库，如果未使用恢复目录，则需要从自动备份还原控制文件。灾难恢复包括在丢失整个目标数据库，恢复目录数据库，所有当前控制文件，所有联机重做日志文件和所有参数文件后恢复和恢复目标数据库。在使用RMAN执行灾难恢复之前，必须满足某些先决条件。假设运行数据库的Linux服务器已损坏，无法修复。幸运的是，您将数据库备份到Oracle Secure Backup并使磁带可用。您可以使用这些备份来恢复数据库。使用RESTORE和RECOVER命令还原新主机上的数据库。当您要执行灾难恢复过程的测试运行或将数据库永久移动到新主机时，在新主机上还原数据库非常有用。必须执行某些步骤以准备在新主机上恢复数据库。要使用磁盘上的数据文件副本或备份集将数据库移动到新主机，必须手动将文件传输到新主机。此过程假定RMAN正在使用恢复目录。建议您测试是否可以将数据库还原到新主机。您可以还原使用旧版RMAN创建的备份，直至Oracle Database 9i第2版（9.2.0.8）。RMAN使您可以通过网络连接到包含所需文件的物理备用数据库来还原或恢复文件。您可以还原整个数据库，数据文件，控制文件，服务器参数文件或表空间。在需要同步主数据库和备用数据库的情况下，通过网络还原文件非常有用。RMAN使用RESTORE命令的FROM SERVICE子句从物理备用数据库通过网络还原数据库文件。您可以通过网络从主数据库获取增量备份，然后将此增量备份应用于物理备用数据库来执行恢复。在某些情况下，通过网络连接到物理备用数据库来恢复文件非常有用。使用RESTORE命令通过网络连接到主数据库或物理备用数据库来还原丢失或损坏的数据文件。RMAN通过创建增量备份来转发物理备用数据库，该增量备份包含对主数据库的更改，通过网络将增量备份传输到物理备用数据库，然后将增量备份应用于物理备用数据库。主数据库上的数据文件的所有更改（从备用数据文件头中的SCN开始）都包含在增量备份中。将RECOVER STANDBY DATABASE命令与FROM SERVICE子句一起使用，以使用对主数据库所做的更改来刷新物理备用数据库。">执行RMAN恢复：高级方案</a></p>
                  </li>
                  <li>
                     <p><a href="performing-rman-tspitr.html#GUID-CAACDB53-7C3A-45B4-8249-C5D855D47571" title="要有效地使用RMAN表空间时间点恢复（TSPITR），了解它可以解决的问题类型，组件，RMAN在TSPITR期间所执行的操作以及对何时以及如何进行的各种限制和限制很有帮助。跑。本节介绍运行RMAN的基本概念，准备任务和运行模式TSPITR。恢复管理器（RMAN）TSPITR可以将数据库中的一个或多个表空间快速恢复到较早的时间，而不会影响数据库中的其余表空间和对象。了解RMAN TSPITR的概念，例如使用的术语和模式。本节定义了RMAN TSPITR使用的一些常见实体。有几种运行RMAN TSPITR的模式。各种操作模式之间的差异对应于您的环境中需要多少自动化与自定义。在执行完全自动化的RMAN TSPITR（默认）之前，从恢复集，辅助目标和目标时间中选择表空间。由于某些限制和限制，TSPITR无法解决某些数据库问题。在执行TSPITR时需要考虑一些限制。在TSPITR期间不使用恢复目录时要注意某些预防措施。准备执行TSPITR时必须完成某些步骤。为您选择正确的目标时间或SCN非常重要。 TSPITR。请注意，在TSPITR之后将表空间联机后，您不能在使表空间联机的时间之前使用任何备份。最初，恢复集包括要恢复的表空间的数据文件。但是，如果表空间中的对象需要与其他表空间中的对象建立关系（例如约束），则必须先考虑这些关系才能执行TSPITRRMAN TSPITR要求正在恢复的表空间是自包含的，并且没有SYS拥有的对象驻留在表空间中。在表空间上执行RMAN TSPITR时，在目标恢复时间之后创建的对象将丢失。您可以通过在TSPITR之前使用数据泵导出实用程序导出这些对象并在之后使用数据泵导入重新导入这些对象来保留这些对象。在默认模式下，RMAN在目标数据库上尽可能多地使用TSPITR的配置。您可以自定义RMAN TSPITR的某些方面，同时仍然主要执行完全自动化的RMAN TSPITR的过程。您可能不希望恢复集数据文件在其原始位置恢复和恢复。SET NEWNAME命令可用于指定新目标。为恢复集指定新目标时，RMAN不会删除表空间的原始数据文件。与通常存储在其原始位置的恢复集数据文件不同，辅助集数据文件不得覆盖目标数据库中的相应原始文件。如果未指定与其原始位置不同的辅助集文件位置，则TSPITR将失败。当RMAN尝试覆盖原始数据库中的相应文件并发现正在使用的文件时，会发生故障。辅助集数据文件可以在目标中具有Oracle管理文件（OMF），并且可以使用自动存储管理（ASM）或非ASM存储。当设置了DB_FILE_NAME_CONVERT初始化参数且OMF文件位于ASM或非ASM存储中时，TSPITR以不同方式执行名称转换。您可以使用辅助数据库的DB_FILE_NAME_CONVERT和LOG_FILE_NAME_CONVERT初始化参数来指定磁盘组的转换。RMAN使用该模式转换ASM磁盘组名称，并在转换后的磁盘组中生成有效的OMF文件名。有多种方法可用于重命名辅助数据库的OMF（非ASM）文件名。要为辅助集数据文件指定新名称，可以将RECOVER TABLESPACE包含在RUN命令中，并使用RUN块中的SET NEWNAME命令重命名该文件。如果您不想为所有辅助集数据文件使用辅助目标，但又不想单独命名每个文件，则可以在辅助数据库使用的初始化参数文件中包含DB_FILE_NAME_CONVERT初始化参数。临时文件被视为数据库辅助集的一部分。在实例化辅助数据库时，RMAN将重新创建目标数据库的临时表空间，并使用辅助数据文件名的常规规则生成其名称。通过重定向RMAN以使用恢复集和辅助集数据文件的现有映像副本，可以增强TSPITR性能。在这种情况下，RMAN不需要从备份还原数据文件。使用SET NEWNAME命令可以在使用映像副本执行TSPITR时指定映像副本的位置。CONFIGURE AUXNAME命令为辅助集数据文件映像副本设置持久备用位置，而SET NEWNAME命令为RUN命令的持续时间设置备用位置。使用映像副本执行TSPITR时，此过程使用CONFIGURE AUXNAME。自动辅助数据库使用一组默认初始化参数。如果需要，您可以添加其他参数。如果使用初始化参数文件，则可以使用CONTROL_FILES初始化参数为辅助数据库的控制文件指定自己的位置要在辅助数据库上恢复它们后对辅助和恢复集执行恢复，RMAN可能需要还原存档日志。使用辅助目标时，存档日志将还原到该位置。如果在辅助数据库参数文件中指定LOG_FILE_NAME_CONVERT初始化参数，并且参数成功转换目标的联机重做日志的名称，则此参数将确定联机重做日志位置。虽然Oracle建议您让RMAN管理辅助数据库的所有方面，但有时您可能必须创建和管理自己的辅助数据库。如果选择此模式，则负责设置，启动，停止和清理TSPITR中使用的辅助数据库。创建适合用作辅助数据库的Oracle实例需要执行一组步骤。有多种方法可以为辅助数据库创建密码文件。使用文本编辑器为目标数据库主机上的辅助数据库创建初始化参数文件。辅助数据库必须具有有效的网络服务名称。在继续之前，请使用SQL * Plus确保您可以与辅助数据库建立SYSBACKUP或SYSDBA连接。使用您自己的辅助实例执行TSPITR时，请记住某些准则。可以覆盖使用自己的辅助数据库进行TSPITR时通道的默认行为。您可能希望使用SET NEWNAME命令来引用辅助集文件的现有映像副本以提高TSPITR性能，或者为TSPITR之后的恢复集文件分配新名称。如有必要，请计划这些命令，并将它们添加到为TSPITR运行的命令序列中。完成先决条件，然后按照本节中的步骤使用您自己的辅助数据库执行TSPITR。在开始RMAN TSPITR之前，必须启动辅助数据库。由于辅助数据库还没有控制文件，因此只能以NOMOUNT模式启动实例。启动RMAN并连接到目标数据库和手动创建的辅助数据库。使用RECOVER TABLESPACE命令使用您自己的辅助实例执行TSPITR。此过程使用RECOVER TABLESPACE ...UNTIL命令执行TSPITR。各种问题都可能导致RMAN TSPITR失败。必须确定并修复问题。目标数据库中的文件，SET NEWNAME或CONFIGURE AUXNAME命令分配的文件名以及DB_FILE_NAME_CONVERT参数的效果生成的文件名之间可能会发生名称冲突。在TSPITR期间，RMAN需要有关哪些表空间在TSPITR目标时间具有还原段的信息。如果使用此信息，通常可在恢复目录中使用此信息。如果您正在管理自己的辅助数据库并且TSPITR失败，请不要尝试在不解决错误的情况下重新运行TSPITR。">执行RMAN表空间时间点恢复（TSPITR）</a></p>
                  </li>
                  <li>
                     <p><a href="rman-recovering-tables-partitions.html#GUID-87B7F772-335F-4179-81C9-91678D026D01" title="RMAN RECOVER命令使您可以从RMAN备份恢复表和表分区。RMAN使您可以将一个或多个表或表分区恢复到指定的时间点，而不会影响其余的数据库对象。您可以使用以前创建的RMAN备份将表和表分区恢复到指定的时间点。要恢复表或表分区，需要完全备份undo，SYSTEM，SYSAUX以及包含表或表分区的表空间。RMAN使用RECOVER命令将表或表分区恢复到指定的时间点。RMAN执行一系列步骤，同时自动执行从RMAN备份恢复表或表分区的过程。RMAN创建一个辅助数据库，它在恢复指定的表或表分区的过程中使用它。有多种技术可用于指定辅助数据库文件的位置。在将表或表分区恢复到辅助数据库上的指定时间点之后，RMAN会创建一个包含已恢复对象的数据泵导出转储文件。您可以指定此转储文件的名称和位置，也可以允许RMAN使用默认名称和位置。默认情况下，RMAN将存储在导出转储文件中的已恢复表或表分区导入目标数据库。但是，您可以使用RESTORE命令的NOTABLEIMPORT子句选择不导入已恢复的表或表分区。使用REMAP TABLE子句重命名目标数据库中已恢复的表或表分区。将表或表分区恢复到不同的模式使您可以避免可能由源模式中已存在的约束，索引或触发器名称引起的名称冲突。使用RECOVER命令从RMAN备份恢复表和表分区受到某些限制。在准备恢复表或表分区之前，必须执行一些初步任务。从RMAN备份恢复表或表分区之前，必须满足某些先决条件。确定要恢复表或表分区的确切时间点非常重要。有多种方法可以指定必须恢复对象的时间点。使用RESTORE和RECOVER命令恢复表或表分区。RMAN使您可以使用RECOVER命令将可插拔数据库（PDB）中的一个或多个表或表分区恢复到指定的时间点，而不会影响PDB中的其他对象。本节包含的示例涵盖了恢复表和表分区的多种方案。此示例将多个表恢复到使用SYSDATE表示的指定时间点。此示例使用RMAN备份来恢复多个表分区。此示例将多个表恢复为与源架构不同的新架构。">从RMAN备份恢复表和表分区</a></p>
                  </li>
               </ul>
            </div>
         </div>
      </article>
   </body>
</html><html id="03927.OM.geometry.Rectangle.html" dir="ltr"></html><html lang="zh-Hans" dir="ltr">
<head>
	<meta charset="utf-8"></meta>
	<meta name="viewport" content="width=device-width"></meta>
	<title>Oracle Maps HTML5 JavaScript API参考类：Rectangle</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css"></link>

	<link type="text/css" rel="stylesheet" href="styles/site.yeti.css"></link>


    <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
    <meta name="dcterms.created" content="2019-01-15T02:06:19+00:00"></meta>
    <meta name="dcterms.title" content="Spatial and Graph Map Visualization Component Oracle Maps HTML5 JavaScript API Reference"></meta>
    <meta name="dcterms.category" content="database"></meta>
    <meta name="dcterms.isVersionOf" content="JIMJS"></meta>
    <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
    <meta name="dcterms.identifier" content="E95755-01"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  <script id="ssot-metadata" type="application/json"> {"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}} </script>
    </head>

<body dir="ltr">

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">Oracle Maps HTML5 JavaScript API参考</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation"></button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">命名空间<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="OM.html">OM</a></li><li><a href="OM.control.html">OM.control</a></li><li><a href="OM.edit.html">OM.edit</a></li><li><a href="OM.event.html">OM.event</a></li><li><a href="OM.filter.html">OM.filter</a></li><li><a href="OM.geometry.html">OM.geometry</a></li><li><a href="OM.gv.html">OM.gv</a></li><li><a href="OM.layer.html">OM.layer</a></li><li><a href="OM.lbs.html">OM.lbs</a></li><li><a href="OM.proj.html">OM.proj</a></li><li><a href="OM.server.html">OM.server</a></li><li><a href="OM.style.html">OM.style</a></li><li><a href="OM.template.html">OM.template</a></li><li><a href="OM.tool.html">OM.tool</a></li><li><a href="OM.universe.html">OM.universe</a></li><li><a href="OM.visualfilter.html">OM.visualfilter</a></li><li><a href="OM.wmts.html">OM.wmts</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">类<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="-_.html"></a></li><li><a href="-_anonymous_-OM.Class.html"><anonymous>〜OM.Class</anonymous></a></li><li><a href="-_anonymous_-OM.infowindow.MVInfoWindowTab.html"><anonymous>〜OM.infowindow。MVInfoWindowTab</anonymous></a></li><li><a href="-_anonymous_-OM.layer.TileLayerConfig.html"><anonymous>〜OM.layer。TileLayerConfig</anonymous></a></li><li><a href="-_anonymous_-OM.proj.AlbersUSA.html"><anonymous>〜OM.proj。AlbersUSA</anonymous></a></li><li><a href="-_anonymous_-OM.style.Bar.html"><anonymous>〜OM.style。酒吧</anonymous></a></li><li><a href="-_anonymous_-OM.style.PieSlice.html"><anonymous>〜OM.style。PieSlice</anonymous></a></li><li><a href="-_anonymous_-OM.style.StyleStore.html"><anonymous>〜OM.style。StyleStore</anonymous></a></li><li><a href="-_anonymous_-OM.util.GeomUtil.html"><anonymous>〜OM.util。GeomUtil</anonymous></a></li><li><a href="-_anonymous_-OM.util.WorldMercatorUtil.html"><anonymous>〜OM.util。WorldMercatorUtil</anonymous></a></li><li><a href="OM.Column.html">OM.Column</a></li><li><a href="OM.control.ButtonGroup.html">OM.control。ButtonGroup中</a></li><li><a href="OM.control.CopyRight.html">OM.control。版权</a></li><li><a href="OM.control.LayerControl.html">OM.control。LayerControl</a></li><li><a href="OM.control.Magnifier.html">OM.control。放大镜</a></li><li><a href="OM.control.MapDecoration.html">OM.control。MapDecoration</a></li><li><a href="OM.control.NavigationPanelBar.html">OM.control。NavigationPanelBar</a></li><li><a href="OM.control.ScaleBar.html">OM.control。比例尺</a></li><li><a href="OM.control.ToolBar.html">OM.control。工具栏</a></li><li><a href="OM.control.ToolButton.html">OM.control。工具按钮</a></li><li><a href="OM.edit.EditChangeEvent.html">OM.edit。EditChangeEvent</a></li><li><a href="OM.edit.EditChangeManager.html">OM.edit。EditChangeManager</a></li><li><a href="OM.edit.GeometrySegment.html">OM.edit。GeometrySegment</a></li><li><a href="OM.edit.GeometrySegmentPoint.html">OM.edit。GeometrySegmentPoint</a></li><li><a href="OM.event.Event.html">OM.event。事件</a></li><li><a href="OM.event.KeyboardEvent.html">OM.event。的KeyboardEvent</a></li><li><a href="OM.event.LayerEvent.html">OM.event。LayerEvent</a></li><li><a href="OM.event.MapDecorationEvent.html">OM.event。MapDecorationEvent</a></li><li><a href="OM.event.MapEvent.html">OM.event。MapEvent</a></li><li><a href="OM.event.MouseEvent.html">OM.event。的MouseEvent</a></li><li><a href="OM.event.ToolbarEvent.html">OM.event。ToolbarEvent</a></li><li><a href="OM.event.ToolEvent.html">OM.event。ToolEvent</a></li><li><a href="OM.Feature.html">OM.Feature</a></li><li><a href="OM.filter.All.html">OM.filter。所有</a></li><li><a href="OM.filter.And.html">OM.filter。和</a></li><li><a href="OM.filter.Any.html">OM.filter。任何</a></li><li><a href="OM.filter.AnyInteract.html">OM.filter。AnyInteract</a></li><li><a href="OM.filter.Between.html">OM.filter。之间</a></li><li><a href="OM.filter.Equals.html">OM.filter。等于</a></li><li><a href="OM.filter.Filter.html">OM.filter。过滤</a></li><li><a href="OM.filter.Greater.html">OM.filter。大</a></li><li><a href="OM.filter.GreaterEquals.html">OM.filter。GreaterEquals</a></li><li><a href="OM.filter.In.html">OM.filter。在</a></li><li><a href="OM.filter.InsidePolygon.html">OM.filter。InsidePolygon</a></li><li><a href="OM.filter.IsNotNull.html">OM.filter。IsNotNull</a></li><li><a href="OM.filter.IsNull.html">OM.filter。一片空白</a></li><li><a href="OM.filter.Less.html">OM.filter。减</a></li><li><a href="OM.filter.LessEquals.html">OM.filter。LessEquals</a></li><li><a href="OM.filter.Like.html">OM.filter。喜欢</a></li><li><a href="OM.filter.Not.html">OM.filter。不</a></li><li><a href="OM.filter.NotEquals.html">OM.filter。NotEquals</a></li><li><a href="OM.filter.Or.html">OM.filter。要么</a></li><li><a href="OM.filter.Xor.html">OM.filter。异或</a></li><li><a href="OM.geometry.Circle.html">OM.geometry。圈</a></li><li><a href="OM.geometry.Geometry.html">OM.geometry。几何</a></li><li><a href="OM.geometry.GeometryCollection.html">OM.geometry。的GeometryCollection</a></li><li><a href="OM.geometry.LineString.html">OM.geometry。线串</a></li><li><a href="OM.geometry.MultiLineString.html">OM.geometry。MULTILINESTRING</a></li><li><a href="OM.geometry.MultiPoint.html">OM.geometry。多点</a></li><li><a href="OM.geometry.MultiPolygon.html">OM.geometry。的MultiPolygon</a></li><li><a href="OM.geometry.Point.html">OM.geometry。点</a></li><li><a href="OM.geometry.Polygon.html">OM.geometry。多边形</a></li><li><a href="OM.geometry.Rectangle.html">OM.geometry。长方形</a></li><li><a href="OM.layer.BaiduTileLayer.html">OM.layer。BaiduTileLayer</a></li><li><a href="OM.layer.BuiltinExternalTileLayer.html">OM.layer。BuiltinExternalTileLayer</a></li><li><a href="OM.layer.DynamicTileLayer.html">OM.layer。DynamicTileLayer</a></li><li><a href="OM.layer.ElocationTileLayer.html">OM.layer。ElocationTileLayer</a></li><li><a href="OM.layer.GoogleTileLayer.html">OM.layer。GoogleTileLayer</a></li><li><a href="OM.layer.HereTileLayer.html">OM.layer。HereTileLayer</a></li><li><a href="OM.layer.Layer.html">OM.layer。层</a></li><li><a href="OM.layer.MarkerLayer.html">OM.layer。MarkerLayer</a></li><li><a href="OM.layer.TileLayer.html">OM.layer。TileLayer</a></li><li><a href="OM.layer.VectorLayer.html">OM.layer。VectorLayer</a></li><li><a href="OM.layer.WMSTileLayer.html">OM.layer。WMSTileLayer</a></li><li><a href="OM.layer.WMTSTileLayer.html">OM.layer。WMTSTileLayer</a></li><li><a href="OM.lbs.Address.html">OM.lbs。地址</a></li><li><a href="OM.lbs.DefaultGCResult.html">OM.lbs。DefaultGCResult</a></li><li><a href="OM.lbs.GCResult.html">OM.lbs。GCResult</a></li><li><a href="OM.lbs.GdfFormAddress.html">OM.lbs。GdfFormAddress</a></li><li><a href="OM.lbs.GenFormAddress.html">OM.lbs。GenFormAddress</a></li><li><a href="OM.lbs.Geocoder.html">OM.lbs。地理编码</a></li><li><a href="OM.lbs.Match.html">OM.lbs。比赛</a></li><li><a href="OM.lbs.MetaData.html">OM.lbs。元数据</a></li><li><a href="OM.lbs.OutputAddress.html">OM.lbs。OutputAddress</a></li><li><a href="OM.lbs.UnformatedAddress.html">OM.lbs。UnformatedAddress</a></li><li><a href="OM.lbs.USForm1Address.html">OM.lbs。USForm1Address</a></li><li><a href="OM.lbs.USForm2Address.html">OM.lbs。USForm2Address</a></li><li><a href="OM.Map.html">OM.Map</a></li><li><a href="OM.MapContext.html">OM.MapContext</a></li><li><a href="OM.MapMarker.html">OM.MapMarker</a></li><li><a href="OM.server.ServerJDBCGeorasterTheme.html">OM.server。ServerJDBCGeorasterTheme</a></li><li><a href="OM.server.ServerJDBCTheme.html">OM.server。ServerJDBCTheme</a></li><li><a href="OM.server.ServerMapRequest.html">OM.server。ServerMapRequest</a></li><li><a href="OM.server.ServerPredefinedTheme.html">OM.server。ServerPredefinedTheme</a></li><li><a href="OM.server.ServerTheme.html">OM.server。ServerTheme</a></li><li><a href="OM.style.AnimationColor.html">OM.style。AnimationColor</a></li><li><a href="OM.style.Area.html">OM.style。区域</a></li><li><a href="OM.style.BarChart.html">OM.style。BARCHART</a></li><li><a href="OM.style.BasicAnimation.html">OM.style。BasicAnimation</a></li><li><a href="OM.style.Bucket.html">OM.style。桶</a></li><li><a href="OM.style.BucketStyle.html">OM.style。BucketStyle</a></li><li><a href="OM.style.CollectionBucket.html">OM.style。CollectionBucket</a></li><li><a href="OM.style.Color.html">OM.style。颜色</a></li><li><a href="OM.style.ColorFormatter.html">OM.style。ColorFormatter</a></li><li><a href="OM.style.ColorScheme.html">OM.style。到ColorScheme</a></li><li><a href="OM.style.Div.html">OM.style。DIV</a></li><li><a href="OM.style.Formatter.html">OM.style。格式化</a></li><li><a href="OM.style.GlyphMarker.html">OM.style。GlyphMarker</a></li><li><a href="OM.style.Gradient.html">OM.style。梯度</a></li><li><a href="OM.style.HeatMap.html">OM.style。热图</a></li><li><a href="OM.style.Line.html">OM.style。线</a></li><li><a href="OM.style.LinearGradient.html">OM.style。的LinearGradient</a></li><li><a href="OM.style.Marker.html">OM.style。标记</a></li><li><a href="OM.style.PieChart.html">OM.style。饼形图</a></li><li><a href="OM.style.PulseAnimation.html">OM.style。PulseAnimation</a></li><li><a href="OM.style.RadialGradient.html">OM.style。的RadialGradient</a></li><li><a href="OM.style.RangedBucket.html">OM.style。RangedBucket</a></li><li><a href="OM.style.SizeFormatter.html">OM.style。SizeFormatter</a></li><li><a href="OM.style.StackedMarker.html">OM.style。StackedMarker</a></li><li><a href="OM.style.Style.html">OM.style。样式</a></li><li><a href="OM.style.Text.html">OM.style。文本</a></li><li><a href="OM.style.VariableMarker.html">OM.style。VariableMarker</a></li><li><a href="OM.template.Template.html">OM.template。模板</a></li><li><a href="OM.template.TemplateConfig.html">OM.template。TemplateConfig</a></li><li><a href="OM.TextFeature.html">OM.TextFeature</a></li><li><a href="OM.tool.BreakLineTool.html">OM.tool。BreakLineTool</a></li><li><a href="OM.tool.CircleTool.html">OM.tool。CircleTool</a></li><li><a href="OM.tool.DistanceTool.html">OM.tool。DistanceTool</a></li><li><a href="OM.tool.MarqueeZoomTool.html">OM.tool。MarqueeZoomTool</a></li><li><a href="OM.tool.RectangleTool.html">OM.tool。RectangleTool</a></li><li><a href="OM.tool.RedlineTool.html">OM.tool。RedlineTool</a></li><li><a href="OM.tool.RemoveVertexesTool.html">OM.tool。RemoveVertexesTool</a></li><li><a href="OM.tool.Tool.html">OM.tool。工具</a></li><li><a href="OM.tool.WhiteBoardTool.html">OM.tool。WhiteBoardTool</a></li><li><a href="OM.universe.BaiduUniverse.html">OM.universe。BaiduUniverse</a></li><li><a href="OM.universe.ElocationUniverse.html">OM.universe。ElocationUniverse</a></li><li><a href="OM.universe.LatLonUniverse.html">OM.universe。LatLonUniverse</a></li><li><a href="OM.universe.LocationBoxUniverse.html">OM.universe。LocationBoxUniverse</a></li><li><a href="OM.universe.OSMUniverse.html">OM.universe。OSMUniverse</a></li><li><a href="OM.universe.SElocationUniverse.html">OM.universe。SElocationUniverse</a></li><li><a href="OM.universe.TomTomUniverse.html">OM.universe。TomTomUniverse</a></li><li><a href="OM.universe.Universe.html">OM.universe。宇宙</a></li><li><a href="OM.universe.WorldMercatorUniverse.html">OM.universe。WorldMercatorUniverse</a></li><li><a href="OM.universe.ZoomLevel.html">OM.universe。缩放级别</a></li><li><a href="OM.visualfilter.DropShadow.html">OM.visualfilter。阴影效果</a></li><li><a href="OM.visualfilter.Glow.html">OM.visualfilter。辉光</a></li><li><a href="OM.visualfilter.VisualFilter.html">OM.visualfilter。VisualFilter</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="mixins.list.html" class="dropdown-toggle" data-toggle="dropdown">混入<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="OM.event.EventSource.html">OM.event。EventSource的</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">全球<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="global.html#addTab">addTab</a></li><li><a href="global.html#addToBaseSelArray">addToBaseSelArray</a></li><li><a href="global.html#attachTab">attachTab</a></li><li><a href="global.html#clearBaseSelArray">clearBaseSelArray</a></li><li><a href="global.html#getAllSelectedFeatures">getAllSelectedFeatures</a></li><li><a href="global.html#getBaseSelArray">getBaseSelArray</a></li><li><a href="global.html#getID">的getID</a></li><li><a href="global.html#getPanelContent">getPanelContent</a></li><li><a href="global.html#getPanelTab">getPanelTab</a></li><li><a href="global.html#getSingleTabContainer">getSingleTabContainer</a></li><li><a href="global.html#getTabHeaderTitle">getTabHeaderTitle</a></li><li><a href="global.html#getTitle">的getTitle</a></li><li><a href="global.html#getVectorLayer">getVectorLayer</a></li><li><a href="global.html#hideDrawer">hideDrawer</a></li><li><a href="global.html#initialize">初始化</a></li><li><a href="global.html#isVisible">ISVISIBLE</a></li><li><a href="global.html#moveTabsToLeft">moveTabsToLeft</a></li><li><a href="global.html#moveTabsToRight">moveTabsToRight</a></li><li><a href="global.html#publish">发布</a></li><li><a href="global.html#removeFromBaseSelArray">removeFromBaseSelArray</a></li><li><a href="global.html#setBaseSelArray">setBaseSelArray</a></li><li><a href="global.html#setPosition">setPosition两种</a></li><li><a href="global.html#showDrawer">showDrawer</a></li><li><a href="global.html#subscribe">订阅</a></li><li><a href="global.html#switchMode">开关模式</a></li><li><a href="global.html#update">更新</a></li><li><a href="global.html#updateProgress">的UpdateProgress</a></li><li><a href="global.html#updateScrollButtons">updateScrollButtons</a></li><li><a href="global.html#updateUi">updateUi</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="搜索" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	<h1 class="page-title"> <br>类：矩形</h1>
<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="OM.html">OM</a> 。 <a href="OM.geometry.html">几何</a> 。</span>长方形</h2>
        
    
</header>


<article>
    <div class="container-overview">
    
        
<hr>
<dt>
    <h4 class="name" id="Rectangle"><span class="type-signature"></span>新矩形（minX，minY，maxX，maxY，srid）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>该类定义了一个简单的二维矩形。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>其minX</code></td>
            

            <td class="type">
            
                
<span class="param-type">浮动</span>



            
            </td>

            

            

            <td class="description last"><p>指定X维度的下限</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>MINY</code></td>
            

            <td class="type">
            
                
<span class="param-type">浮动</span>



            
            </td>

            

            

            <td class="description last"><p>指定Y维度的下限</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxX的</code></td>
            

            <td class="type">
            
                
<span class="param-type">浮动</span>



            
            </td>

            

            

            <td class="description last"><p>指定X维度的上限</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>美星</code></td>
            

            <td class="type">
            
                
<span class="param-type">浮动</span>



            
            </td>

            

            

            <td class="description last"><p>指定Y维度的上限</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>SRID</code></td>
            

            <td class="type">
            
                
<span class="param-type">INT</span>



            
            </td>

            

            

            <td class="description last"><p>一个整数，指定空间参考标识符（坐标系），<br>例如8307用于标准经度/纬度（WGS 84）坐标系。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>OM.geometry的一个实例。长方形。</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type"><a href="OM.geometry.Rectangle.html">OM.geometry。长方形</a></span>



    </dd>
</dl>


        

    
</dd>

    
    </div>

    
        <h3 class="subsection-title">扩展</h3>

        


    <ul>
        <li><a href="OM.geometry.Geometry.html">OM.geometry。几何</a></li>
    </ul>


    

    

    

    

    

    

    
        <h3 class="subsection-title">方法</h3>

        <dl>
            
<hr>
<dt>
    <h4 class="name" id="densify"><span class="type-signature"></span>致密（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>加密简单的大地测量或投影线串或多边形。</p>
<p></p><p>MapViewer渲染大地形状，就像它们处于二维笛卡尔坐标中一样<br>系统，其中经度为X轴，纬度为Y轴。Oracle Spatial对待<br>这种形状不同，总是考虑到地球的球形。<br>当由MapViewer渲染时，具有两个端点的直线是直的<br>是由Spatial处理时地球表面上的圆弧。结果，结果<br>具有大地几何的空间查询的过滤器可能与几何形状不匹配<br>由MapViewer呈现。当大地测量几何跨越时，差异变得显着<br>横跨大面积。当过滤几何时，可以看到类似的差异<br>空间查询在投影系统中，查询的数据是大地测量。</p>
<p></p><p>此方法可用于解决此问题。它使一个简单的线串变粗糙<br>或多边形，通过将其他点线性插值为扩展更多的线段<br>超过1经度。密集的几何形状将导致最小的差异<br>在地图上呈现并用于空间查询。</p><p></p>
<p></p><p>您只需要显式调用此方法以获取过滤器时的密集几何<br>geometry用于基于动态JDBC主题的矢量图层。无需调用此方法<br>用于与基于预定义主题的vecotor图层一起使用的几何查询参数。</p><p></p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.geometry.Geometry.html#densify">OM.geometry。几何＃致密</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>致密的地质学。</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type"><a href="OM.geometry.Geometry.html">OM.geometry。几何</a></span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getArea"><span class="type-signature"></span>覆盖getArea（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取此矩形的总面积。价值<br>永远是积极的。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    
    <dt class="tag-overrides">覆盖：</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="OM.geometry.Geometry.html#getArea">OM.geometry。几何＃的getArea</a>
    </li></ul></dd>
    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getCenter"><span class="type-signature"></span> getCenter（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取矩形的中心点</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>矩形的中心点</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type"><a href="OM.geometry.Point.html">OM.geometry。点</a></span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getHeight"><span class="type-signature"></span>的getHeight（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取矩形的高度</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>矩形的高度</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">浮动</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getLength"><span class="type-signature"></span>的getLength（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取此矩形的总长度。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    
    <dt class="tag-overrides">覆盖：</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="OM.geometry.Geometry.html#getLength">OM.geometry。几何＃的getLength</a>
    </li></ul></dd>
    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getMaxX"><span class="type-signature"></span> getMaxX（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取最大X坐标值</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>最大X纵坐标值</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">浮动</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getMaxY"><span class="type-signature"></span> getMaxY（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取最大Y坐标值</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>最大Y纵坐标值</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">浮动</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getMBR"><span class="type-signature"></span> getMBR（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取几何对象的最小边界矩形（MBR）。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.geometry.Geometry.html#getMBR">OM.geometry。几何＃getMBR</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>几何的MBR作为Rectangle对象。</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type"><a href="OM.geometry.Rectangle.html">OM.geometry。长方形</a></span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getMinX"><span class="type-signature"></span> getMinX（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获得最小X坐标值</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>最小X坐标</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">浮动</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getMinY"><span class="type-signature"></span> getMinY（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获得最小Y坐标值</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>最小XY纵坐标</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">浮动</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getOrdinates"><span class="type-signature"></span> getOrdinates（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取几何对象的坐标。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.geometry.Geometry.html#getOrdinates">OM.geometry。几何＃getOrdinates</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>该坐标。</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">排列</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getSRID"><span class="type-signature"></span> getSRID（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取几何对象的SRID。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.geometry.Geometry.html#getSRID">OM.geometry。几何＃getSRID</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>SRID。</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">INT</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getType"><span class="type-signature"></span>的getType（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取几何对象的类型。<br>类型字符串是OM.GeomTypes中定义的常量之一。例如“Point”，“LineString”或“Polygon”。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.geometry.Geometry.html#getType">OM.geometry。几何＃的getType</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>几何类型。</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">串</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getWidth"><span class="type-signature"></span>的getWidth（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取矩形的宽度</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>矩形的宽度</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">浮动</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setRectangle"><span class="type-signature"></span> setRectangle（minX，minY，maxX，maxY）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>设置矩形的左下角和右上角坐标以及SRID。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>其minX</code></td>
            

            <td class="type">
            
                
<span class="param-type">浮动</span>



            
            </td>

            

            

            <td class="description last"><p>指定X维度的下限。</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>MINY</code></td>
            

            <td class="type">
            
                
<span class="param-type">浮动</span>



            
            </td>

            

            

            <td class="description last"><p>指定Y维度的下限。</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxX的</code></td>
            

            <td class="type">
            
                
<span class="param-type">浮动</span>



            
            </td>

            

            

            <td class="description last"><p>指定X维度的上限。</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>美星</code></td>
            

            <td class="type">
            
                
<span class="param-type">浮动</span>



            
            </td>

            

            

            <td class="description last"><p>指定Y维度的上限。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>空}</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">没有</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="toGML"><span class="type-signature"></span> toGML（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>返回此几何的GML字符串。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="toString"><span class="type-signature"></span>的toString（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>此方法用于将几何对象转换为符合geoJSON的字符串。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.geometry.Geometry.html#toString">OM.geometry。几何＃的toString</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="toWKT"><span class="type-signature"></span> toWKT（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>返回此几何的WKT字符串。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="transform"><span class="type-signature"></span> transform（toSrid，callBack，mcsURL，dataSource，optObj）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>将几何从一个坐标系转换为另一个坐标系。<br>如果原始SRID和目标SRID是以下之一<br>值：8307,4326,54004,53004,3785和3857，那么转换将是<br>在客户端完成。<br>否则，地图客户端将向地图块服务器发送请求，该服务器将调用Oracle<br>空间实用程序执行坐标系转换并返回<br>结果给客户。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>toSrid</code></td>
            

            <td class="type">
            
                
<span class="param-type">INT</span>



            
            </td>

            

            

            <td class="description last"><p>toSrid指定目标坐标系的SRID。</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>打回来</code></td>
            

            <td class="type">
            
                
<span class="param-type">功能</span>



            
            </td>

            

            

            <td class="description last"><p>之后执行的回调函数<br>坐标系转换完成。</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mcsURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">串</span>



            
            </td>

            

            

            <td class="description last"><p>一个可选参数，用于指定地图图块的URL<br>用于执行坐标系转换的服务器。<br>如果省略此参数，则地图切片服务器关联<br>使用第一个地图图块层。</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>数据源</code></td>
            

            <td class="type">
            
                
<span class="param-type">串</span>



            
            </td>

            

            

            <td class="description last"><p>可选参数。它是MapViewer的名称<br>数据源，在其中执行服务器端长度计算。<br>如果省略，则使用与添加的第一个地图图块层相关联的数据源。</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>optObj</code></td>
            

            <td class="type">
            
                
<span class="param-type">宾语</span>



            
            </td>

            

            

            <td class="description last"><p>可选参数，例如{bdutil：bdutil}。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.geometry.Geometry.html#transform">OM.geometry。几何变换＃</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>在客户端转换时生成的Geometry对象。空的时候<br>服务器端的转型。</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type"><a href="OM.geometry.Geometry.html">OM.geometry。几何</a></span>



    </dd>
</dl>


        

    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" aria-label="关" data-dismiss="modal"><span aria-hidden="true">×</span></button>
            <h4 class="modal-title">搜索结果</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">关</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


	<span class="copyright">版权所有©2010,2019，Oracle和/或其附属公司。版权所有。
	</span> <span class="jsdoc-message"><a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.2</a>在2019年1月9日星期三使用<a href="https://github.com/docstrap/docstrap">DocStrap模板生成的文档</a> 。
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->

<script>
	$( function () {
		$( '#main' ).localScroll( {
			offset : { top : 60 } //offset by the height of your header (give or take a few px, see what works for you)
		} );
		$( "dt.name" ).each( function () {
			var $this = $( this ).find("h4");
			var icon = $( "<i/>" ).addClass( "icon-plus-sign" ).addClass( "pull-right" ).addClass( "icon-white" );
			var dt = $(this);
			var children = dt.next( "dd" );

			dt.prepend( icon ).css( {cursor : "pointer"} );
			dt.addClass( "member-collapsed" ).addClass( "member" );


			children.hide();

			dt.children().on( "click", function () {
				children = dt.next( "dd" );
				children.slideToggle( "fast", function () {

					if ( children.is( ":visible" ) ) {
						icon.addClass( "icon-minus-sign" ).removeClass( "icon-plus-sign" ).removeClass( "icon-white" );
						dt.addClass( "member-open" ).animate( "member-collapsed" );
					} else {
						icon.addClass( "icon-plus-sign" ).removeClass( "icon-minus-sign" ).addClass( "icon-white" );
						dt.addClass( "member-collapsed" ).removeClass( "member-open" );
					}
				} );
			} );

		} );
	} );
</script>


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html><html id="13344.database-preparation-tasks-to-complete-before-upgrades.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Ensure that you have completed these database preparation tasks before starting an Oracle Database upgrade."></meta>
      <meta name="description" content="Ensure that you have completed these database preparation tasks before starting an Oracle Database upgrade."></meta>
      <title>在启动Oracle数据库升级之前完成的数据库准备任务</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Upgrade Guide"></meta>
      <meta property="og:description" content="Ensure that you have completed these database preparation tasks before starting an Oracle Database upgrade."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Upgrade Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-upgrade-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-25T08:26:31-07:00"></meta>
      <meta name="dcterms.title" content="Database Upgrade Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96252-05"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="installing-new-oracle-database-software.html" title="Previous" type="text/html"></link>
      <link rel="next" href="prepare-dbua-oracle-data-guard-rolling-upgrades.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="UPGRD"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="installing-new-oracle-database-software.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="prepare-dbua-oracle-data-guard-rolling-upgrades.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库升级指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="tasks-prepare-upgrade-oracle-database.html" property="item" typeof="WebPage"><span property="name">准备升级Oracle数据库</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">在启动Oracle数据库升级之前完成的数据库准备任务</li>
            </ol>
            <a id="GUID-58C1A4B9-32F4-44E5-B82B-5D0EC78A6AE2" name="GUID-58C1A4B9-32F4-44E5-B82B-5D0EC78A6AE2"></a>
            
            <h2 id="UPGRD-GUID-58C1A4B9-32F4-44E5-B82B-5D0EC78A6AE2" class="sect2">在启动Oracle数据库升级之前完成的数据库准备任务</h2>
         </header>
         <div class="ind">
            <div>
               <p>确保在开始Oracle数据库升级之前已完成这些数据库准备任务。</p>
               <p></p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="database-preparation-tasks-to-complete-before-upgrades.html#GUID-46F09541-C36A-4790-B3D3-E0E336A7BBC3">修补程序集更新和升级Oracle数据库的要求</a><br>在开始升级之前，请将新版Oracle数据库更新为最新的Oracle软件包修补程序，修补程序集更新（BP或PSU）或发行版更新（更新）或发行版更新（修订版）。
                  </li>
                  <li class="ulchildlink"><a href="database-preparation-tasks-to-complete-before-upgrades.html#GUID-6C0D6F38-2ADE-4E60-8603-A7DB1F218B8B">复制透明加密Oracle钱包</a><br>如果您使用带有透明数据加密（TDE）的Oracle钱包，请将<code class="codeph">sqlnet.ora</code>和wallet文件复制到新的Oracle主目录。
                  </li>
                  <li class="ulchildlink"><a href="database-preparation-tasks-to-complete-before-upgrades.html#GUID-6732E4F8-93B5-4257-A8FC-5257F28E44E3">升级Oracle数据库时对Oracle Net Services的建议</a><br>在升级之前，请查看Oracle Net Services的这些过程和参数更改。
                  </li>
                  <li class="ulchildlink"><a href="database-preparation-tasks-to-complete-before-upgrades.html#GUID-6428A98A-6621-4E49-89E5-FAFD51F04B60">了解密码区分大小写和升级</a><br>默认情况下，Oracle Database 12 <span class="italic">c</span>第2版（12.2）及更高版本将升级为独占模式。独占模式不支持不区分大小写的基于密码的身份验证。
                  </li>
                  <li class="ulchildlink"><a href="database-preparation-tasks-to-complete-before-upgrades.html#GUID-ABD2D296-EFB9-49CA-94C5-FB1068AF19DE">使用不区分大小写的密码版本检查帐户</a><br>使用这些过程可以确定要升级的Oracle数据库是否具有使用不区分大小写的密码版本的帐户或配置参数。
                  </li>
                  <li class="ulchildlink"><a href="database-preparation-tasks-to-complete-before-upgrades.html#GUID-E10096D0-36E3-41AF-9381-D74089FC6E17">使用只读表空间运行升级</a><br>使用带有<code class="codeph">-T</code>选项的Parallel Upgrade Utility可在升级期间使基于模式的表空间脱机。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="tasks-prepare-upgrade-oracle-database.html#GUID-733D2563-A42D-4366-9FCD-DABD25D0E2DF" title="完成预升级任务和检查以帮助您完成成功升级。">准备升级Oracle数据库</a></p>
                  </div>
               </div>
            </div>
            <a id="UPGRD52782"></a><div class="props_rev_3"><a id="GUID-46F09541-C36A-4790-B3D3-E0E336A7BBC3" name="GUID-46F09541-C36A-4790-B3D3-E0E336A7BBC3"></a><h3 id="UPGRD-GUID-46F09541-C36A-4790-B3D3-E0E336A7BBC3" class="sect3">修补程序集更新和升级Oracle数据库的要求</h3>
               <div>
                  <p>在开始升级之前，请将新版Oracle数据库更新为最新的Oracle软件包修补程序，修补程序集更新（BP或PSU）或发行版更新（更新）或发行版更新（修订版）。</p>
                  <p>新Oracle Database版本的软件包含一个完整版本，其中包含发布时Oracle Database的所有最新补丁和更新。</p>
                  <p>在开始升级或降级过程之前，Oracle强烈建议您同时更新早期版本和新版Oracle数据库。对于Oracle Database <span class="italic">12c</span>或更早版本，请更新到最新的Oracle软件包修补程序或修补程序集更新（BP或PSU）。对于Oracle Database 12 <span class="italic">c第</span> 2版（12.2），Oracle Database 18c或更高版本，请更新到最新的季度版本更新（更新）或版本更新版本（修订版）。
                  </p>
                  <div class="p">My Oracle Support提供了有关如何获取最新补丁的详细说明，以及生命周期管理和自动补丁的工具。例如：<ul style="list-style-type:disc">
                        <li>
                           <p>My Oracle Support说明854428.1包含有关补丁集和更新的信息。</p>
                        </li>
                        <li>
                           <p>我的Oracle支持说明730365.1包含大多数可用Oracle数据库版本的升级参考列表，包括下载信息，修补程序编号和其他说明的链接。</p>
                        </li>
                        <li>
                           <p>My Oracle Support说明2180188.1包含一次性补丁列表，用于升级，降级和与先前版本共存。</p>
                        </li>
                        <li>
                           <p>My Oracle Support说明1227443.1包含Oracle数据库PSU / BP /更新/修订已知问题的列表。本说明提供有关Oracle数据库，Oracle Grid Infrastructure和Oracle JavaVM组件（OJVM）的所有已知问题说明的信息。</p>
                        </li>
                        <li>
                           <p>My Oracle Support说明2118136.2包含一个下载助手，可帮助您选择环境所需的更新，修订，修补程序集更新（PSU），SPU（CPU），软件包修补程序，修补程序集和基本版本。Oracle强烈建议您从这里开始。</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;id=854428.1" target="_blank">我的Oracle支持说明854428.1</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;id=730365.1" target="_blank">我的Oracle支持说明730365.1</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;id=2180188.1" target="_blank">我的Oracle支持说明2180188.1</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;id=1227443.1" target="_blank">我的Oracle支持说明1227443.1</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;amp;id=2118136.2" target="_blank">我的Oracle支持说明2118136.2</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="database-preparation-tasks-to-complete-before-upgrades.html#GUID-58C1A4B9-32F4-44E5-B82B-5D0EC78A6AE2" title="确保在开始Oracle数据库升级之前已完成这些数据库准备任务。">在启动Oracle数据库升级之前要完成的数据库准备任务</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-6C0D6F38-2ADE-4E60-8603-A7DB1F218B8B" name="GUID-6C0D6F38-2ADE-4E60-8603-A7DB1F218B8B"></a><h3 id="UPGRD-GUID-6C0D6F38-2ADE-4E60-8603-A7DB1F218B8B" class="sect3">复制透明加密Oracle钱包</h3>
               <div>
                  <p>如果您使用带有透明数据加密（TDE）的Oracle钱包，请将<code class="codeph">sqlnet.ora</code>和wallet文件复制到新的Oracle主目录。
                  </p>
                  <div class="section">
                     <p>在开始升级之前，必须手动复制<code class="codeph">sqlnet.ora</code>和wallet文件。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>以授权用户身份登录。</span></li>
                     <li class="stepexpand"><span>手动将<code class="codeph">sqlnet.ora</code>文件和钱包文件<code class="codeph">ewallet.p12</code>复制到新版本的Oracle主目录。</span></li>
                     <li class="stepexpand"><span>在mount中打开Oracle钱包。</span><div>
                           <p>例如：</p><pre class="pre codeblock"><code>SQL&gt; STARTUP MOUNT; SQL&gt; ALTER SYSTEM SET ENCRYPTION WALLET OPEN</code></pre></div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="database-preparation-tasks-to-complete-before-upgrades.html#GUID-58C1A4B9-32F4-44E5-B82B-5D0EC78A6AE2" title="确保在开始Oracle数据库升级之前已完成这些数据库准备任务。">在启动Oracle数据库升级之前要完成的数据库准备任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD52802"></a><div class="props_rev_3"><a id="GUID-6732E4F8-93B5-4257-A8FC-5257F28E44E3" name="GUID-6732E4F8-93B5-4257-A8FC-5257F28E44E3"></a><h3 id="UPGRD-GUID-6732E4F8-93B5-4257-A8FC-5257F28E44E3" class="sect3">升级Oracle数据库时对Oracle Net Services的建议</h3>
               <div>
                  <p>在升级之前，请查看Oracle Net Services的这些过程和参数更改。</p>
                  <p>在Oracle Database <span class="italic">12c中</span> ，新的基础网络服务参数支持数据压缩，从而减少了通过SQL TCP连接传输的会话数据单元的大小。
                  </p>
                  <p>以下<code class="codeph">sqlnet.ora</code>文件的新参数指定压缩和首选压缩方案：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">SQLNET.COMPRESSION</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">SQLNET.COMPRESSION_LEVELS</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">SQLNET.COMPRESSION_THRESHOLD</code></p>
                     </li>
                  </ul>
                  <p>早期版本不支持Oracle Database 12 <span class="italic">c</span>中引入的这些参数。它们只适用于Oracle数据库<span class="italic">12c</span>和以后的版本中有关这些详细信息<code class="codeph">sqlnet.ora</code>压缩参数，请参阅<cite>Oracle网络服务参考</cite> 。
                  </p>
                  <p>如果要升级的Oracle数据库未配置侦听器，则在运行DBUA之前，必须运行Oracle Net Configuration Assistant（NETCA）以配置新版Oracle数据库的侦听协议地址和服务信息，包括<code class="codeph">listener.ora</code>文件。您必须为早于版本11.2的Oracle数据库版本创建新版本的侦听器。当前侦听器与早期的Oracle数据库版本向后兼容。
                  </p>
                  <p>使用DBUA升级Oracle RAC数据库时，它会自动将侦听器从旧的Oracle主目录迁移到新的Oracle Grid Infrastructure主目录。您必须使用Oracle Grid Infrastructure主目录中的<code class="codeph">lsnrctl</code>命令来管理侦听器。对于早期版本，请勿尝试使用Oracle主目录位置的<code class="codeph">lsnrctl</code>命令。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../netrf/parameters-for-the-sqlnet.ora.html#NETRF1972" target="_blank"><span><cite>Oracle数据库网络服务参考</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="database-preparation-tasks-to-complete-before-upgrades.html#GUID-58C1A4B9-32F4-44E5-B82B-5D0EC78A6AE2" title="确保在开始Oracle数据库升级之前已完成这些数据库准备任务。">在启动Oracle数据库升级之前要完成的数据库准备任务</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-6428A98A-6621-4E49-89E5-FAFD51F04B60" name="GUID-6428A98A-6621-4E49-89E5-FAFD51F04B60"></a><h3 id="UPGRD-GUID-6428A98A-6621-4E49-89E5-FAFD51F04B60" class="sect3">了解密码区分大小写和升级</h3>
               <div>
                  <p>默认情况下，Oracle Database 12 <span class="italic">c</span>第2版（12.2）及更高版本将升级为独占模式。独占模式不支持不区分大小写的基于密码的身份验证。
                  </p>
                  <p>当服务器以独占模式运行时，仅具有<code class="codeph">10G</code>密码版本的帐户将无法访问。
                  </p>
                  <p>在以前的Oracle数据库发行版中，您可以配置身份验证协议，以便通过设置<code class="codeph">SEC_CASE_SENSITIVE_LOGON=FALSE</code>来允许不区分大小写的基于密码的身份验证。从Oracle Database 12 <span class="italic">c第</span> 2版（12.2）开始，默认的基于密码的身份验证协议配置不包括使用不区分大小写的<code class="codeph">10G</code>密码版本。默认情况下， <code class="codeph">SQLNET.ORA</code>参数<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>设置为<code class="codeph">12</code> ，这是一种独占模式。在独占模式下配置数据库时，基于密码的身份验证协议要求对要进行身份验证的帐户存在一个区分大小写的密码版本（ <code class="codeph">11G</code>或<code class="codeph">12C</code> ）。此模式不包括使用早期版本中使用的<code class="codeph">10G</code>密码版本。升级到Oracle Database 12 <span class="italic">c第</span> 2版及更高版本后，仅具有不区分大小写的<code class="codeph">10G</code>密码版本的帐户将无法访问。发生此更改是因为默认情况下服务器以独占模式运行。在独占模式下配置Oracle数据库时，它无法使用旧的<code class="codeph">10G</code>密码版本来验证客户端。服务器没有用于验证客户端的密码版本。
                  </p>
                  <p>为了提高安全性，Oracle建议您启用区分大小写的基于密码的身份验证。此设置是默认设置。但是，您可以在升级到新的Oracle数据库版本期间临时禁用区分大小写的身份验证。升级后，您可以决定是否要在实施计划中启用区分大小写的基于密码的身份验证功能来管理密码版本。</p>
                  <p>在升级之前，Oracle建议您确定对基于密码的默认身份验证协议配置的此更改是否会影响您。执行以下检查：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>确定您是否拥有仅使用<code class="codeph">10G</code>不区分大小写的密码身份验证版本的帐户。
                        </p>
                     </li>
                     <li>
                        <p>确定您是否拥有Oracle Database <span class="italic">11g第</span> 2版（11.2.0.3）数据库或未应用关键修补程序更新<code class="codeph">CPUOct2012</code>或更高版本更新的早期客户端，以及任何不具有不区分大小写的<code class="codeph">10G</code>密码版本的帐户。
                        </p>
                     </li>
                     <li>
                        <p>确保您没有将已弃用的参数SEC_CASE_SENSITIVE_LOGON设置为FALSE。将此参数设置为FALSE可防止使用区分大小写的密码版本（ <code class="codeph">11G</code>和<code class="codeph">12C</code>密码版本）进行身份验证。
                        </p>
                     </li>
                  </ul>
                  <div class="section">
                     <p class="subhead2" id="GUID-6428A98A-6621-4E49-89E5-FAFD51F04B60__GUID-B89D9889-C12A-4D63-8AF6-3DF52997D394">使用不区分大小写的版本的帐户选项</p>
                     <p>如果您的用户帐户只有不区分大小写的<code class="codeph">10G</code>密码版本，则必须选择以下备选方案之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在升级之前，请更新仅具有<code class="codeph">10G</code>密码版本的每个帐户的密码版本。您可以通过使用<code class="codeph">10G</code>密码版本使用户密码到期来更新密码版本，并请求这些用户登录到他们的帐户。当他们尝试登录时，服务器会自动更新密码版本列表，其中包括区分大小写的密码版本。
                           </p>
                        </li>
                        <li>
                           <p>将SQLNET.ORA参数<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>的设置更改为任何非独占模式的设置。例如： <code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER=11</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../admqs/administering-user-accounts-and-security.html#ADMQS007" target="_blank"><span><cite>Oracle数据库2天DBA</cite></span></a></li>
                        <li><a href="../netrf/parameters-for-the-sqlnet.ora.html#NETRF2010" target="_blank"><span><cite>Oracle数据库网络服务参考</cite></span></a></li>
                        <li><a href="../dbseg/configuring-authentication.html#DBSEG30321" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="database-preparation-tasks-to-complete-before-upgrades.html#GUID-58C1A4B9-32F4-44E5-B82B-5D0EC78A6AE2" title="确保在开始Oracle数据库升级之前已完成这些数据库准备任务。">在启动Oracle数据库升级之前要完成的数据库准备任务</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-ABD2D296-EFB9-49CA-94C5-FB1068AF19DE" name="GUID-ABD2D296-EFB9-49CA-94C5-FB1068AF19DE"></a><h3 id="UPGRD-GUID-ABD2D296-EFB9-49CA-94C5-FB1068AF19DE" class="sect3">使用不区分大小写的密码版本检查帐户</h3>
               <div>
                  <p>使用这些过程可以确定要升级的Oracle数据库是否具有使用不区分大小写的密码版本的帐户或配置参数。</p>
                  <div class="section">
                     <p>默认情况下，在Oracle Database 12 <span class="italic">c第</span> 2版（12.2）及更高版本中，不会生成或允许<code class="codeph">10G</code>密码版本。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="p">
                     <p>如果未将<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>设置为允许不区分大小写的版本的许可身份验证协议，并且您不希望将使用不区分大小写的密码版本进行身份验证的用户帐户锁定在数据库之外，则必须识别受影响的帐户，并且确保他们使用区分大小写的密码版本。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-ABD2D296-EFB9-49CA-94C5-FB1068AF19DE__GUID-116A107A-5B52-40CF-BD0E-E88A9D8D19B8">
                     <p class="titleinexample">示例2-1查找使用不区分大小写（10G）版本的用户帐户</p>
                     <p>以管理用户身份登录SQL * Plus，并输入以下SQL查询：</p><pre class="pre codeblock"><code>来自DBA_USERS的SELECT USERNAME，PASSWORD_VERSIONS;</code></pre><p>以下结果显示了帐户的密码版本：</p><pre class="pre codeblock"><code>USERNAME PASSWORD_VERSIONS ------------------------------ ----------------- JONES 10G 11G 12C ADAMS 10G 11G CLARK 10G 11G PRESTON 11G BLAKE 10G</code></pre><p>在此示例中，使用的每个用户帐户密码验证版本的背景不同：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">JONES</code>是在Oracle Database <code class="codeph">10G</code>中创建的，当<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数的设置设置为<code class="codeph">8</code>时， <code class="codeph">JONES</code>的密码在Oracle Database <code class="codeph">12C</code>重置。因此，此密码重置创建了所有三个版本。<code class="codeph">11G</code>和<code class="codeph">12C</code>使用区分大小写的密码。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ADAMS</code>和<code class="codeph">CLARK</code>最初是使用<code class="codeph">10G</code>版本创建的，然后是从早期版本导入的<code class="codeph">11G</code>版本。然后，这些帐户密码在<code class="codeph">11G</code>重置，不推荐使用的参数SEC_CASE_SENSITIVE_LOGON设置为TRUE。</p>
                        </li>
                        <li>
                           <p><code class="codeph">BLAKE</code>的密码是使用<code class="codeph">10G</code>版本创建的，密码尚未重置。因此，用户BLAKE继续使用<code class="codeph">10G</code>密码版本，该版本使用不区分大小写的密码。
                           </p>
                        </li>
                     </ul>
                     <p>用户<code class="codeph">BLAKE</code>在升级之前只有<code class="codeph">10G</code>密码版本：</p><pre class="pre codeblock"><code>SQL&gt; SELECT USERNAME，PASSWORD_VERSIONS FROM DBA_USERS; USERNAME PASSWORD_VERSIONS ------------------------------ ----------------- BLAKE 10G</code></pre><p>如果在不采取任何进一步操作的情况下升级到新的Oracle数据库版本，则此帐户将无法访问。确保在升级之前未将系统配置为独占模式（通过将<code class="codeph">SQLNET.ORA</code>参数<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>设置为更宽松的身份验证模式）。
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-ABD2D296-EFB9-49CA-94C5-FB1068AF19DE__GUID-E00AD49A-B76C-4BBD-B42D-4270043AB4AC">
                     <p class="titleinexample">示例2-2使用不区分大小写的密码修复帐户</p>
                     <p>完成以下过程：</p>
                     <ol>
                        <li>
                           <p>使用以下SQL查询查找仅具有<code class="codeph">10G</code>密码版本的帐户：</p><pre class="oac_no_warn" dir="ltr">从DBA_USERS中选择USERNAME，其中（PASSWORD_VERSIONS ='10G'或PASSWORD_VERSIONS ='10G HTTP'）和USERNAME &lt;&gt;'ANONYMOUS';</pre></li>
                        <li>
                           <p>通过将<code class="codeph">SQLNET.ORA</code>参数<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>的设置编辑为适合受影响帐户的级别，配置系统以使其不以独占模式运行。例如：</p><pre class="oac_no_warn" dir="ltr">SQLNET.ALLOWED_LOGON_VERSION_SERVER = 11</pre><p>进行此更改后，继续升级。</p>
                        </li>
                        <li>
                           <p>升级完成后，使用以下命令语法使您在步骤1中找到的帐户失效，其中<code class="codeph"><span class="variable" translate="no">username</span></code>是在步骤1中从查询返回的用户的名称：</p>
                           <p><code class="codeph">ALTER USER用户<span class="variable" translate="no">username</span> PASSWORD EXPIRE;</code></p>
                        </li>
                        <li>
                           <p>询问已过期密码的用户是否登录。</p>
                        </li>
                        <li>
                           <p>当这些用户登录时，系统会提示他们重置密码。除了<code class="codeph">10G</code>密码版本之外，系统还会在内部为其帐户生成缺少的<code class="codeph">11G</code>和<code class="codeph">12C</code>密码版本。<code class="codeph">10G</code>密码版本仍然存在，因为系统正在允许模式下运行。
                           </p>
                        </li>
                        <li>
                           <p>确保用户连接的客户端软件具有<code class="codeph">O5L_NP</code>功能标志。
                           </p>
                           <div class="infoboxnote" id="GUID-ABD2D296-EFB9-49CA-94C5-FB1068AF19DE__GUID-1143859E-29FB-4502-8F2D-536D695A024D">
                              <p class="notep1">注意：</p>
                              <p>所有Oracle Database 11.2.0.4及更高版本的客户端以及所有Oracle Database 12.1及更高版本的客户端都具有<code class="codeph">O5L_NP</code>功能。其他客户端需要<code class="codeph">CPUOct2012</code>补丁才能获取<code class="codeph">O5L_NP</code>功能。
                              </p>
                              <p><code class="codeph">O5L_NP</code>功能标志记录在<cite>Oracle Database Net Services Reference</cite>中的参数<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code> 。</p>
                           </div>
                        </li>
                        <li>
                           <p>在所有客户端都具有<code class="codeph">O5L_NP</code>功能后，使用以下过程将服务器安全性提升回独占模式：</p>
                           <ol type="a">
                              <li>
                                 <p>从实例初始化文件中删除<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>设置，或将<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>实例初始化参数设置为<code class="codeph">TRUE</code> 。例如：</p>
                                 <p><code class="codeph">SEC_CASE_SENSITIVE_LOGON = TRUE</code></p>
                              </li>
                              <li>
                                 <p>卸下<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>从服务器参数<code class="codeph">SQLNET.ORA</code>文件，或者通过改变的值设置回独占模式<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>在服务器<code class="codeph">SQLNET.ORA</code>文件传回<code class="codeph">12</code> 。例如：</p>
                                 <p><code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER = 12</code></p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>使用以下SQL查询查找仍具有<code class="codeph">10G</code>密码版本的帐户：</p><pre class="oac_no_warn" dir="ltr">从DBA_USERS中选择USERNAME，其中PASSWORD_VERSIONS类似于'％10G％'和USERNAME &lt;&gt;'ANONYMOUS';</pre></li>
                        <li>
                           <p>使用步骤8中从查询返回的帐户列表使所有仍具有<code class="codeph">10G</code>密码版本的帐户失效。使用以下语法使帐户过期，其中<code class="codeph"><span class="variable" translate="no">username</span></code>是查询返回的列表上的名称：</p>
                           <p><code class="codeph">ALTER USER用户<span class="variable" translate="no">username</span> PASSWORD EXPIRE;</code></p>
                        </li>
                        <li>
                           <p>请求您已过期帐户的用户登录其帐户。</p>
                           <p>当用户登录时，系统会提示他们重置密码。系统内部仅为其帐户生成<code class="codeph">11G</code>和<code class="codeph">12C</code>密码版本。由于系统在独占模式下运行，因此不再生成<code class="codeph">10G</code>密码版本。
                           </p>
                        </li>
                        <li>
                           <p>通过重新运行步骤1中的查询，检查系统是否以安全模式运行。确保找不到用户。当查询找不到用户时，此结果表示系统中不存在<code class="codeph">10G</code>密码版本。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-ABD2D296-EFB9-49CA-94C5-FB1068AF19DE__GUID-E4DAD84C-5307-46AD-B58A-A68C91417160">
                     <p class="titleinexample">示例2-3检查SEC_CASE_SENSITIVE_LOGON是否存在设置为FALSE</p>
                     <p>当<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数设置为<code class="codeph">12</code>或<code class="codeph">12a</code>时，Oracle数据库不会阻止对<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>使用<code class="codeph">FALSE</code>设置。此设置可能导致升级的数据库中的所有帐户无法访问。
                     </p><pre class="pre codeblock"><code>SQL&gt; SHOW PARAMETER SEC_CASE_SENSITIVE_LOGON NAME TYPE VALUE ------------------------------------ ------ ----- ------------------------------ sec_case_sensitive_logon boolean FALSE</code></pre><div class="p">您可以使用以下命令更改此参数：<pre class="pre codeblock"><code>SQL&gt; ALTER SYSTEM SET SEC_CASE_SENSITIVE_LOGON = TRUE;系统改变了。
</code></pre></div>
                     <div class="infoboxnote" id="GUID-ABD2D296-EFB9-49CA-94C5-FB1068AF19DE__GUID-DDF30492-AA19-4933-9BE9-AFCDB2724733">
                        <p class="notep1">注意：</p>
                        <p>除非该参数的值<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>改为一个版本比更宽容<code class="codeph">12</code> ，如<code class="codeph">11</code> ，不要设置<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>参数设置为FALSE。</p>
                     </div>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../netrf/parameters-for-the-sqlnet.ora.html#NETRF2016" target="_blank"><span><cite>Oracle数据库网络服务参考</cite></span></a></li>
                        <li><a href="../dbseg/configuring-authentication.html#DBSEG30321" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="database-preparation-tasks-to-complete-before-upgrades.html#GUID-58C1A4B9-32F4-44E5-B82B-5D0EC78A6AE2" title="确保在开始Oracle数据库升级之前已完成这些数据库准备任务。">在启动Oracle数据库升级之前要完成的数据库准备任务</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="UPGRD52775"></a><div class="props_rev_3"><a id="GUID-E10096D0-36E3-41AF-9381-D74089FC6E17" name="GUID-E10096D0-36E3-41AF-9381-D74089FC6E17"></a><h3 id="UPGRD-GUID-E10096D0-36E3-41AF-9381-D74089FC6E17" class="sect3">使用只读表空间运行升级</h3>
               <div>
                  <p>使用带有<code class="codeph">-T</code>选项的Parallel Upgrade Utility可在升级期间使基于模式的表空间脱机。
                  </p>
                  <p>Oracle数据库可以读取在早期版本中创建的文件头，因此在升级期间不需要对它们执行任何操作。<code class="codeph">READ ONLY</code>表空间的文件头在更改为<code class="codeph">READ WRITE</code>时会更新。</p>
                  <p></p>
                  <p>如果升级遇到灾难性错误，则升级无法使表空间重新联机，请查看升级日志文件。日志文件包含使表空间可用所需的实际SQL语句。要使表空间重新联机，必须在数据库的日志文件中运行SQL语句，或运行每个PDB的日志文件。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-E10096D0-36E3-41AF-9381-D74089FC6E17__GUID-10AEECB2-077E-4EC6-8F85-694E6BE30EBC">在升级日志文件中查看表空间命令</p>
                     <p>如果发生灾难性升级失败，则可以导航到日志目录（ <code class="codeph"><span class="variable" translate="no">Oracle_base</span> /cfgtoologs/dbua</code> ），并手动运行日志文件中的命令以调出表空间。您可以在以下日志文件中查看表空间命令：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>非CDB升级： <code class="codeph">catupgrd0.log</code></p>
                        </li>
                        <li>
                           <p>PDB数据库： <code class="codeph">catupgrd <span class="variable" translate="no">pdbname</span> 0.log</code> ，其中<code class="codeph"><span class="variable" translate="no">pdbname</span></code>是要升级的PDB的名称。
                           </p>
                        </li>
                     </ul>
                     <p>在每个日志文件的开头，您可以找到以下SQL语句，这些语句将表设置为<code class="codeph">READ ONLY</code> ：</p><pre class="pre codeblock"><code>SQL&gt; ALTER TABLESPACE ARGROTBLSPA6只读;表空间已更改。SQL&gt; ALTER TABLESPACE ARGROTBLSPB6只读;表空间已更改。</code></pre><p>在每个日志文件的末尾，您会找到将表重置为<code class="codeph">READ WRITE</code> SQL语句：</p><pre class="pre codeblock"><code>SQL&gt; ALTER TABLESPACE ARGROTBLSPA6 READ WRITE;表空间已更改。SQL&gt; ALTER TABLESPACE ARGROTBLSPB6 READ WRITE;表空间已更改。</code></pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-E10096D0-36E3-41AF-9381-D74089FC6E17__GUID-9D35EB74-16FD-4AD2-89EB-BEDEFF8B9FA7">
                     <p class="notep1">也可以看看：</p>
                     <p>有关在数据库之间传输表空间的信息，请参见<a href="../admin/transporting-data.html#ADMIN11394" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="database-preparation-tasks-to-complete-before-upgrades.html#GUID-58C1A4B9-32F4-44E5-B82B-5D0EC78A6AE2" title="确保在开始Oracle数据库升级之前已完成这些数据库准备任务。">在启动Oracle数据库升级之前要完成的数据库准备任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="13390.rerunning-upgrades-oracle-database.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Use these options to rerun upgrades."></meta>
      <meta name="description" content="Use these options to rerun upgrades."></meta>
      <title>重新启动Oracle数据库升级</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Upgrade Guide"></meta>
      <meta property="og:description" content="Use these options to rerun upgrades."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Upgrade Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-upgrade-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-25T08:26:31-07:00"></meta>
      <meta name="dcterms.title" content="Database Upgrade Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96252-05"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="troubleshooting-oracle-database-upgrade.html" title="Previous" type="text/html"></link>
      <link rel="next" href="restarting-upgrade-specific-phase-that-failed-using-p.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="UPGRD"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="troubleshooting-oracle-database-upgrade.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="restarting-upgrade-specific-phase-that-failed-using-p.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库升级指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="upgrading-oracle-database.html" property="item" typeof="WebPage"><span property="name">升级Oracle数据库</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">重新启动Oracle数据库升级</li>
            </ol>
            <a id="GUID-190D00A4-BE9A-4139-B3FC-A29C2BFBE91B" name="GUID-190D00A4-BE9A-4139-B3FC-A29C2BFBE91B"></a><a id="UPGRD12412"></a>
            
            <h2 id="UPGRD-GUID-190D00A4-BE9A-4139-B3FC-A29C2BFBE91B" class="sect2">重新启动Oracle数据库升级</h2>
         </header>
         <div class="ind">
            <div>
               <p>使用这些选项重新运行升级。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="rerunning-upgrades-oracle-database.html#GUID-6E157C6B-879D-49B2-82A3-E5A4C375D48F">关于重新启动Oracle数据库的升级</a><br>Oracle提供此处列出的功能以重新运行或重新启动Oracle数据库升级，包括失败阶段之后。
                  </li>
                  <li class="ulchildlink"><a href="rerunning-upgrades-oracle-database.html#GUID-E281A34F-DCC4-4F4C-B7EF-03E694BB0CFF">使用升级（catctl.pl）脚本重新运行升级</a><br>您可以修复升级问题，然后使用<code>catctl.pl</code>脚本或<code>dbupgrade</code> shell命令重新运行升级。
                  </li>
                  <li class="ulchildlink"><a href="rerunning-upgrades-oracle-database.html#GUID-CF18A968-0C0E-4223-AA9F-37B39F31ACBA">重新启动多租户数据库（CDB）升级的选项</a><br>您可以使用四个选项来重新运行Oracle Database 12c第2版（12.2）的多租户数据库体系结构（CDB）上的升级。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="upgrading-oracle-database.html#GUID-CC88F262-3370-4FFA-8604-EDA9F20F56D9" title="Oracle提供了一套全面的工具，用于以最短的停机时间升级Oracle数据库，以及将应用程序迁移到新版本。">升级Oracle数据库</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-6E157C6B-879D-49B2-82A3-E5A4C375D48F" name="GUID-6E157C6B-879D-49B2-82A3-E5A4C375D48F"></a><h3 id="UPGRD-GUID-6E157C6B-879D-49B2-82A3-E5A4C375D48F" class="sect3">关于重新启动Oracle数据库的升级</h3>
               <div>
                  <p>Oracle提供此处列出的功能以重新运行或重新启动Oracle数据库升级，包括失败阶段之后。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-6E157C6B-879D-49B2-82A3-E5A4C375D48F__GUID-D1FCBADB-1DCA-472A-A912-F18427F91D36">并行升级实用程序和重新启动或重新运行</p>
                     <p>您可以使用数据库升级助手（DBUA）或使用并行升级实用程序（ <code class="codeph">catctl.pl</code> ）脚本重新运行或重新启动Oracle数据库升级阶段。您还可以在初始尝试中未能升级的PDB上运行命令，以便您可以完成升级。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E157C6B-879D-49B2-82A3-E5A4C375D48F__GUID-D4199F17-E082-433F-9FD1-45CA83123592">并行升级实用程序恢复选项</p>
                     <p>Oracle Database 12 <span class="italic">c第</span> 2版（12.2）包含一个用于Parallel Upgrade Utility的新Resume选项。此选项适用于CDB和非CDB。重新运行或重新启动升级时，不需要识别失败或不完整的阶段。使用恢复选项（ <code class="codeph">-R</code> ）使用并行升级实用程序时，该实用程序会自动检测先前升级中未成功完成的阶段。然后，并行升级实用程序重新运行或重新启动未成功完成的这些阶段，以便完成升级。绕过已成功完成的步骤可减少重新运行升级所需的时间。
                     </p>
                     <p>要使用“恢复”选项，请使用-R参数运行并行升级实用程序。例如：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl catctl.pl -L plist.txt -n 4 -N 2 -R -l $ ORACLE_HOME / cfgtoollogs catupgrd.sql</code></pre><p>无论您在升级过程中遇到哪个阶段，都可以随时重新运行整个升级。如果您计划重新运行整个升级，而不是仅重新运行失败的阶段，则不使用Resume（ <code class="codeph">-R</code> ）选项运行Parallel Upgrade Utility。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="rerunning-upgrades-oracle-database.html#GUID-190D00A4-BE9A-4139-B3FC-A29C2BFBE91B" title="使用这些选项重新运行升级。">重新运行Oracle数据库升级</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD52809"></a><div class="props_rev_3"><a id="GUID-E281A34F-DCC4-4F4C-B7EF-03E694BB0CFF" name="GUID-E281A34F-DCC4-4F4C-B7EF-03E694BB0CFF"></a><h3 id="UPGRD-GUID-E281A34F-DCC4-4F4C-B7EF-03E694BB0CFF" class="sect3">使用升级（catctl.pl）脚本重新运行升级</h3>
               <div>
                  <p>您可以修复升级问题，然后使用<code>catctl.pl</code>脚本或<code>dbupgrade</code> shell命令重新运行升级。
                  </p>
                  <div class="infoboxnote" id="GUID-E281A34F-DCC4-4F4C-B7EF-03E694BB0CFF__GUID-C3876793-A7D6-4D98-8C4E-6B79DA4403FF">
                     <p class="notep1">注意：</p>
                     <p>从Oracle Database 12c第1版（12.1）开始，不推荐使用非CDB体系结构。它可以在将来的版本中得到支持。</p>
                  </div>
                  <ol>
                     <li>
                        <p>关闭数据库。对于非CDB和CDB，语法是相同的。</p><pre class="pre codeblock"><code>SQL&gt; SHUTDOWN IMMEDIATE</code></pre></li>
                     <li>
                        <p>以<code>UPGRADE</code>模式重新启动数据库。
                        </p>
                        <p>对于非CDB：</p><pre class="pre codeblock"><code>SQL&gt; STARTUP UPGRADE</code></pre><p>对于CDB：</p><pre class="pre codeblock"><code>SQL&gt; STARTUP UPGRADE SQL&gt; alter pluggable database all open upgrade;</code></pre></li>
                     <li>
                        <p>重新运行并行升级实用程序（ <code>catctl.pl</code>或<code>dbupgrade</code> shell命令）。
                        </p>
                        <p>您可以根据需要多次重新运行并行升级实用程序。</p>
                        <p>使用CDB，您可以使用Resume选项（ <code class="codeph">-R</code> ）重新运行Parallel Upgrade Utility。该脚本从失败的阶段恢复升级。
                        </p>
                        <p>例如：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl catctl.pl -n 4 -R -l $ ORACLE_HOME / cfgtoollogs catupgrd.sql</code></pre><p>您还可以提供要重新运行升级的一个或多个特定PDB的名称。</p>
                        <p>例如，此命令重新运行名为<code class="codeph">cdb1_pdb1</code>的PDB上的升级：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl catctl.pl -n 4 -R -l $ ORACLE_HOME / cfgtoollogs -c'cdb1_pdb1'catupgrd.sql</code></pre><p>您可以使用<code>dbupgrade</code> shell命令运行相同的命令：</p><pre class="pre codeblock"><code>dbupgrade -n 4 -R -l $ ORACLE_HOME / diagnostics dbupgrade -n 4 -R -l $ ORACLE_HOME / diagnostics -c'cdb1_pdb1'</code></pre></li>
                     <li>
                        <p>运行<code>utlusts.sql</code> ，即升级后状态工具，它提供假脱机日志中升级状态的摘要。您可以在完成升级之前或之后的任何时间运行<code>utlusts.sql</code> ，但不能在升级期间运行。
                        </p>
                        <p>在非CDB中：</p><pre class="pre codeblock"><code>SQL&gt; @ $ ORACLE_HOME / rdbms / admin / utlusts.sql</code></pre><p>在国家开发银行：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl catcon.pl -n 1 -e -b utlu122s -d'''。''''utlusts.sql</code></pre><p>如果<code class="codeph">utlusts.sql</code>脚本返回错误或显示非<code class="codeph">VALID</code>或不是最新版本的组件，请按照故障排除过程获取更多信息。
                        </p>
                     </li>
                     <li>
                        <p>运行<code>utlrp.sql</code>以重新编译任何剩余的存储的PL / SQL和Java代码。
                        </p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl catcon.pl -n 1 -e -b utlrp -d'''。'''utlrp.sql</code></pre><p>该脚本生成日志文件<code class="codeph">utlrp0.log</code> ，该文件显示重新编译的结果。
                        </p>
                        <p>使用以下SQL命令验证所有预期的包和类是否有效，</p>
                        <p>在单个PDB（本例中为<code class="codeph">cdb1_pdb1</code> ）中，按正常模式打开PDB，如下所示：</p><pre class="pre codeblock"><code>alter pluggable database cdb1_pdb1 open;</code></pre><p>运行<code class="codeph">catcon.pl</code>以在PDB中启动<code class="codeph">utlrp.sql</code>以重新编译任何剩余的存储的PL / SQL和Java代码。使用以下语法：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl catcon.pl -n 1 -e -b utlrp -d'''。''' -  c'cdb1_pdb1'utlrp.sql</code></pre><p>在非CDB中：</p><pre class="pre codeblock"><code>SQL&gt; SELECT count（*）FROM dba_invalid_objects; SQL&gt; SELECT distinct object_name FROM dba_invalid_objects;</code></pre><p>在整个CDB中：</p><pre class="pre codeblock"><code>SQL&gt; ALTER SESSION SET CONTAINER =“CDB $ ROOT”SQL&gt; SELECT count（*）FROM dba_invalid_objects; SQL&gt; SELECT distinct object_name FROM dba_invalid_objects; SQL&gt; ALTER SESSION SET CONTAINER =“PDB $ SEED”SQL&gt; SELECT count（*）FROM dba_invalid_objects; SQL&gt; SELECT distinct object_name FROM dba_invalid_objects; SQL&gt; ALTER SESSION SET CONTAINER =“cdb1_pdb1”SQL&gt; SELECT count（*）FROM dba_invalid_objects; SQL&gt; SELECT distinct object_name FROM dba_invalid_objects;</code></pre></li>
                     <li>
                        <p>再次运行<code>utlusts.sql</code>以验证是否已修复所有问题。
                        </p>
                        <p>在非CDB中：</p><pre class="pre codeblock"><code>SQL&gt; @ $ ORACLE_HOME / rdbms / admin / utlusts.sql</code></pre><p>在国家开发银行：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl catcon.pl -n 1 -e -b utlu122s -d'''。''''utlusts.sql</code></pre></li>
                     <li>
                        <p>退出SQL * Plus。</p>
                     </li>
                     <li>
                        <p>如果要从版本11.2升级群集数据库，请使用以下命令语法升级Oracle Clusterware中的数据库配置，其中<code class="codeph"><span class="variable" translate="no">db-unique-name</span></code>是分配给它的数据库名称（不是实例名称）， <code class="codeph"><span class="variable" translate="no">Oracle_home</span></code>是Oracle数据库升级的主位置。
                        </p><pre class="pre codeblock"><code>$ srvctl upgrade database -d <span class="variable" translate="no">db-unique-name</span> -o <span class="variable" translate="no">Oracle_home</span>
</code></pre></li>
                  </ol>
                  <div class="section">
                     <p>您的数据库现已升级。您已准备好完成Oracle数据库的升级后任务。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="rerunning-upgrades-oracle-database.html#GUID-CF18A968-0C0E-4223-AA9F-37B39F31ACBA">重新启动多租户数据库（CDB）升级的选项</a></li>
                        <li><a href="troubleshooting-oracle-database-upgrade.html#GUID-474BFAA2-0CD6-4672-8A7A-BF640F4FBFB2">Oracle数据库升级故障排除</a></li>
                        <li><a href="post-upgrade-tasks-oracle-database.html#GUID-637ADBD0-866B-4B64-9513-4C7CDE84895C">Oracle数据库的升级后任务</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="rerunning-upgrades-oracle-database.html#GUID-190D00A4-BE9A-4139-B3FC-A29C2BFBE91B" title="使用这些选项重新运行升级。">重新运行Oracle数据库升级</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-CF18A968-0C0E-4223-AA9F-37B39F31ACBA" name="GUID-CF18A968-0C0E-4223-AA9F-37B39F31ACBA"></a><h3 id="UPGRD-GUID-CF18A968-0C0E-4223-AA9F-37B39F31ACBA" class="sect3">重新启动多租户数据库（CDB）升级的选项</h3>
               <div>
                  <p>您可以使用四个选项来重新运行Oracle Database 12c第2版（12.2）的多租户数据库体系结构（CDB）上的升级。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="rerunning-upgrades-oracle-database.html#GUID-AA02C085-6155-467E-AFF3-FB409C69E3B1">重新运行CDB的整个升级</a><br>如果在第一次升级尝试期间发生了几个不同的问题，请使用此过程重新运行整个升级。
                     </li>
                     <li class="ulchildlink"><a href="rerunning-upgrades-oracle-database.html#GUID-226F1EBA-3272-4BD2-A5FA-D08ED1BA5808">仅在指定的CDB上重新运行升级</a><br>您可以通过使用“恢复”选项（ <code class="codeph">-R</code> ）或“排除列表”选项（ <code class="codeph">-C</code> ）运行“并行升级实用程序”来重新运行指定多租户容器上的升级。
                     </li>
                     <li class="ulchildlink"><a href="rerunning-upgrades-oracle-database.html#GUID-BC8D35BA-2FDE-434C-936B-E7432B2F00AA">其他PDB在线时重新运行升级</a><br>您可以使用“并行升级实用程序恢复”选项重新运行PDB升级，也可以使用包含或排除列表明确包含或排除在线PDB。
                     </li>
                     <li class="ulchildlink"><a href="rerunning-upgrades-oracle-database.html#GUID-B8C68634-CB6B-415D-BB31-E8E11EBAF742">使用包含列表重新运行升级以指定CDB或PDB</a><br>使用此示例作为通过使用包含列表重新运行PDB上的升级的模型。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="rerunning-upgrades-oracle-database.html#GUID-190D00A4-BE9A-4139-B3FC-A29C2BFBE91B" title="使用这些选项重新运行升级。">重新运行Oracle数据库升级</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-AA02C085-6155-467E-AFF3-FB409C69E3B1" name="GUID-AA02C085-6155-467E-AFF3-FB409C69E3B1"></a><h4 id="UPGRD-GUID-AA02C085-6155-467E-AFF3-FB409C69E3B1" class="sect4">重新运行CDB的整个升级</h4>
                  <div>
                     <p>如果在第一次升级尝试期间发生了几个不同的问题，请使用此过程重新运行整个升级。</p>
                     <p>此示例演示了在初始升级尝试期间发生问题（例如用完共享池）后，再次在<code class="codeph">CDB$ROOT</code> ， <code class="codeph">PDB$SEED</code>和所有PDB上运行升级。
                     </p>
                     <ol>
                        <li>
                           <p>再次开始升级。例如：</p><pre class="pre codeblock"><code>SQL&gt;启动升级; alter pluggable database全部开放升级;</code></pre></li>
                        <li>
                           <p>运行并行升级实用程序（ <code>catctl.pl</code>或<code>dbupgrade</code> shell脚本）。例如：</p> <pre class="pre codeblock"><code>cd $ ORACLE_HOME / bin / ./dbupgrade -d $ ORACLE_HOME / rdbms / admin -l $ ORACLE_HOME / rdbms / log</code></pre><p>升级在所有容器上再次运行，包括<code class="codeph">CDB$ROOT</code> ， <code class="codeph">PDB$SEED</code>和CDB中的所有PDB。</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="rerunning-upgrades-oracle-database.html#GUID-CF18A968-0C0E-4223-AA9F-37B39F31ACBA" title="您可以使用四个选项来重新运行Oracle Database 12c第2版（12.2）的多租户数据库体系结构（CDB）上的升级。">重新运行多租户数据库（CDB）升级的选项</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-226F1EBA-3272-4BD2-A5FA-D08ED1BA5808" name="GUID-226F1EBA-3272-4BD2-A5FA-D08ED1BA5808"></a><h4 id="UPGRD-GUID-226F1EBA-3272-4BD2-A5FA-D08ED1BA5808" class="sect4">仅在指定的CDB上重新运行升级</h4>
                  <div>
                     <p>您可以通过使用“恢复”选项（ <code class="codeph">-R</code> ）或“排除列表”选项（ <code class="codeph">-C</code> ）运行“并行升级实用程序”来重新运行指定多租户容器上的升级。
                     </p>
                     <p>在以下两个示例中，多租户容器数据库包含五个PDB。所有升级都成功运行，但<code class="codeph">CDB1_PDB1</code>和<code class="codeph">CDB1_PDB2</code> ，它因升级错误而失败。要在这两个容器上运行升级，请关闭整个多租户数据库，并仅重新启动要升级的PDB。
                     </p>
                     <div class="infoboxnote" id="GUID-226F1EBA-3272-4BD2-A5FA-D08ED1BA5808__GUID-55112014-622E-47E2-8E6C-C59D19B603FF">
                        <p class="notep1">注意：</p>
                        <p>并行升级实用程序参数区分大小写。</p>
                     </div>
                     <div class="example" id="GUID-226F1EBA-3272-4BD2-A5FA-D08ED1BA5808__GUID-B75DB6FC-5DE9-4982-B5DA-FDF139B8A4C0">
                        <p class="titleinexample">示例4-40使用恢复选项重新运行升级</p>
                        <p>您可以使用并行升级实用程序恢复参数选项<code>-R</code>仅在一个或多个多租户容器（CDB）上重新运行升级。
                        </p>
                        <p>在以下示例中，升级脚本检测到它应仅在<code class="codeph">CDB1_PDB1</code>和<code class="codeph">CDB1_PDB2</code>容器上运行。
                        </p>
                        <ol>
                           <li>
                              <p>关闭多租户数据库，以升级模式启动数据库，然后启动升级未完成的PDB。例如：</p><pre class="pre codeblock"><code>SQL&gt; shutdown immediate;启动升级; alter pluggable database CDB1_PDB1 open upgrade; alter pluggable database CDB1_PDB2 open upgrade;</code></pre></li>
                           <li>
                              <p>显示CDB和PDB状态：</p><pre class="pre codeblock"><code>SQL&gt; show pdbs CON_ID CON_NAME OPEN MODE RESTRICTED ---------- ------------------------------  - --------- ---------- 2 PDB $ SEED MIGRATE YES 3 CDB1_PDB1 MIGRATE YES 4 CDB1_PDB2 MIGRATE YES 5 CDB1_PDB3安装6 CDB1_PDB4安装7 CDB1_PDB5安装</code></pre></li>
                           <li>
                              <p>重新运行升级。升级会自动从先前的升级日志中检测到CDB $ ROOT和PDB $ SEED已成功升级。升级绕过CDB $ ROOT和PDB $ SEED，并且仅在CDB1_PDB1和CDB_PDB2上运行。这里的命令示例适用于Linux / UNIX系统：</p><pre class="pre codeblock"><code>cd $ ORACLE_HOME / bin ./dbupgrade -d $ ORACLE_HOME / rdbms / admin -l $ ORACLE_HOME / cfgtoollogs -R</code></pre></li>
                        </ol>
                        <p>并行升级实用程序完成<code class="codeph">CDB1_PDB1</code>和<code class="codeph">CDB1_PDB2</code>的升级。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-226F1EBA-3272-4BD2-A5FA-D08ED1BA5808__GUID-128F4B45-EE79-40B5-A847-E7084AB33384">
                        <p class="titleinexample">示例4-41使用排除列表重新运行升级</p>
                        <p>排除列表包含您不想升级的容器。排除列表使用Parallel Upgrade Utility <code>-C</code>参数选项。通过将目录更改为<code><span class="variable" translate="no">Oracle_home</span> /rdbms/admin/</code>并使用<code>catctl.pl</code>在Perl中运行该实用程序，或者将目录更改为<code><span class="variable" translate="no">Oracle_home</span> /bin</code>并运行命令行脚本<code>dbupgrade -C</code>来运行并行升级实用程序。当您有许多要重新运行升级的PDB时，此方法很有用。
                        </p>
                        <p>在以下示例中，您提供了一个排除列表，以排除升级脚本在您不需要运行的容器上运行。</p>
                        <ol>
                           <li>
                              <p>关闭多租户数据库，以升级模式启动数据库，然后启动升级未完成的PDB。例如：</p><pre class="pre codeblock"><code>SQL&gt; shutdown immediate;启动升级; alter pluggable database CDB1_PDB1 open upgrade; alter pluggable database CDB1_PDB2 open upgrade;</code></pre></li>
                           <li>
                              <p>显示CDB和PDB状态：</p><pre class="pre codeblock"><code>SQL&gt; show pdbs CON_ID CON_NAME OPEN MODE RESTRICTED ---------- ------------------------------  - --------- ---------- 2 PDB $ SEED MIGRATE YES 3 CDB1_PDB1 MIGRATE YES 4 CDB1_PDB2 MIGRATE YES 5 CDB1_PDB3安装6 CDB1_PDB4安装7 CDB1_PDB5安装</code></pre></li>
                           <li>
                              <p>在您使用单引号指定的以空格分隔的排除列表中，重新运行升级，不包括升级中的<code class="codeph">CDB$ROOT</code>和<code class="codeph">PDB$SEED</code> 。这里的命令示例适用于Linux / UNIX系统：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / bin / dbupgrade -d $ ORACLE_HOME / rdbms / admin -l $ ORACLE_HOME / rdbms / log -C'CDB $ ROOT PDB $ SEED'</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                     <p>升级重新运行，并在<code class="codeph">CDB1_PDB1</code>和<code class="codeph">CDB1_PDB2</code>上完成。
                     </p>
                     <div class="infoboxnote" id="GUID-226F1EBA-3272-4BD2-A5FA-D08ED1BA5808__GUID-5C0750DB-9D77-4EC5-A370-B15FC92E9ED8">
                        <p class="notep1">注意：</p>
                        <p>对于Windows，必须使用双引号指定排除列表来指定<code class="codeph">-C</code>选项排除列表。例如：</p><pre class="pre codeblock"><code>... -C“CDB $ ROOT PDB $ SEED”</code></pre></div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="rerunning-upgrades-oracle-database.html#GUID-CF18A968-0C0E-4223-AA9F-37B39F31ACBA" title="您可以使用四个选项来重新运行Oracle Database 12c第2版（12.2）的多租户数据库体系结构（CDB）上的升级。">重新运行多租户数据库（CDB）升级的选项</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-BC8D35BA-2FDE-434C-936B-E7432B2F00AA" name="GUID-BC8D35BA-2FDE-434C-936B-E7432B2F00AA"></a><h4 id="UPGRD-GUID-BC8D35BA-2FDE-434C-936B-E7432B2F00AA" class="sect4">其他PDB在线时重新运行升级</h4>
                  <div>
                     <p>您可以使用“并行升级实用程序恢复”选项重新运行PDB升级，也可以使用包含或排除列表明确包含或排除在线PDB。</p>
                     <p>使用这些示例作为在PDB上运行升级的模型，您希望在其他PDB打开时重新运行某些PDB上的升级。</p>
                     <p>在示例中，容器<code class="codeph">CDB1_PDB1</code>和<code class="codeph">CDB1_PDB2</code>的升级失败，但在容器<code class="codeph">CDB1_PDB3</code> ， <code class="codeph">CDB1_PDB4</code>和<code class="codeph">CDB1_PDB5</code>成功<code class="codeph">CDB1_PDB5</code> 。
                     </p>
                     <p>您在正常模式下启动<code class="codeph">CDB$ROOT</code> 。您发现以下容器在线： <code class="codeph">CDB1_PDB3</code> ， <code class="codeph">CDB1_PDB4</code>和<code class="codeph">CDB1_PDB5</code> 。您查看<code class="codeph">CDB1_PDB3</code> ， <code class="codeph">CDB1_PDB4</code>和<code class="codeph">CDB1_PDB5</code>的升级日志，并将这些容器联机。
                     </p>
                     <p></p>
                     <div class="example" id="GUID-BC8D35BA-2FDE-434C-936B-E7432B2F00AA__GUID-E28BE9B3-BE6B-45AA-8C58-1B34A27275FB">
                        <p class="titleinexample">示例4-42使用恢复选项重新启动PDB上的升级</p>
                        <p>以下示例说明如何使用“Parallel Upgrade Utility Resume”选项完成<code class="codeph">CDB1_PDB1</code>和<code class="codeph">CDB1_PDB2</code>的升级。“恢复”选项排除已升级的PDB：</p>
                        <ol>
                           <li>
                              <p>在正常模式下启动<code class="codeph">CDB$ROOT</code> ，并在升级模式下打开<code class="codeph">CDB1_PDB1</code>和<code class="codeph">CDB1_PDB2</code> 。<code class="codeph">CDB1_PDB3</code> ， <code class="codeph">CDB1_PDB4</code> ， <code class="codeph">CDB1_PDB5</code>处于正常模式。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; startup; alter pluggable database CDB1_PDB1 open upgrade; alter pluggable database CDB1_PDB2 open upgrade; alter pluggable database cdb1_pdb3 open; alter pluggable database cdb1_pdb4 open; alter pluggable database cdb1_pdb5 open;</pre></li>
                           <li>
                              <p>使用SQL命令<code>show pdbs</code>显示PDB的状态。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; show pdbs CON_ID CON_NAME OPEN MODE RESTRICTED ---------- ------------------------------  - --------- ---------- 2 PDB $ SEED READ ONLY NO 3 CDB1_PDB1 MIGRATE YES 4 CDB1_PDB2 MIGRATE YES 5 CDB1_PDB3 READ WRITE NO 6 CDB1_PDB4 READ WRITE NO 7 CDB1_PDB5 READ WRITE NO</pre></li>
                           <li>
                              <p>使用Parallel Upgrade Utility命令行脚本<code>dbupgrade</code>重新运行升级，不包括升级中的<code class="codeph">CDB$ROOT</code> 。
                              </p><pre class="pre codeblock"><code>cd $ ORACLE_HOME / bin ./dbupgrade -d $ ORACLE_HOME / rdbms / admin / -l $ ORACLE_HOME / cfgtoollogs -R</code></pre><p>因为你运行使用Resume选项升级，并行升级实用程序检查日志，并确定了<code class="codeph">CDB1_PDB1</code>和<code class="codeph">CDB1_PDB2</code>是仅有的两个集装箱<code class="codeph">CDB1</code>没有升级。升级脚本仅在这两个PDB上运行。升级不会在<code class="codeph">PDB$SEED</code> ， <code class="codeph">CDB$ROOT</code> ， <code class="codeph">CDB_PDB3</code> ， <code class="codeph">CDB_PDB4</code>和<code class="codeph">CDB_PDB5</code>上重新运行。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-BC8D35BA-2FDE-434C-936B-E7432B2F00AA__GUID-07447E6C-9536-4DD9-9BF2-A52327B34F76">
                        <p class="titleinexample">示例4-43使用排除列表重新启动PDB上的升级</p>
                        <p>以下示例显示如何使用排除列表排除<code class="codeph">CDB1_PDB1</code>和<code class="codeph">CDB1_PDB2</code>的升级，以排除不希望运行升级脚本的PDB：</p>
                        <ol>
                           <li>
                              <p>在正常模式下启动<code class="codeph">CDB$ROOT</code> ，并在升级模式下打开<code class="codeph">CDB1_PDB1</code>和<code class="codeph">CDB1_PDB2</code> 。<code class="codeph">CDB1_PDB3</code> ， <code class="codeph">CDB1_PDB4</code> ， <code class="codeph">CDB1_PDB5</code>处于正常模式。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; startup; alter pluggable database CDB1_PDB1 open upgrade; alter pluggable database CDB1_PDB2 open upgrade; alter pluggable database cdb1_pdb3 open; alter pluggable database cdb1_pdb4 open; alter pluggable database cdb1_pdb5 open;</pre></li>
                           <li>
                              <p>使用SQL命令<code>show pdbs</code>显示PDB的状态。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; show pdbs CON_ID CON_NAME OPEN MODE RESTRICTED ---------- ------------------------------  - --------- ---------- 2 PDB $ SEED READ ONLY NO 3 CDB1_PDB1 MIGRATE YES 4 CDB1_PDB2 MIGRATE YES 5 CDB1_PDB3 READ WRITE NO 6 CDB1_PDB4 READ WRITE NO 7 CDB1_PDB5 READ WRITE NO</pre></li>
                           <li>
                              <p>使用Parallel Upgrade Utility命令行脚本<code>dbupgrade</code>重新运行升级，不包括升级中的<code class="codeph">CDB$ROOT</code> ：</p><pre class="pre codeblock"><code>cd $ ORACLE_HOME / bin ./dbupgrade -d $ ORACLE_HOME / rdbms / admin -l $ ORACLE_HOME / cfgtoollogs -R -C'CDB $ ROOT'</code></pre><p>并行升级实用程序使用Resume选项（ <code class="codeph">-R</code> ）运行，并从日志中识别CDB1_PDB1和</p>
                              <p>CDB1_PDB2尚未完成升级。由于并行升级实用程序使用“排除”选项（-C）运行，并且您指定排除了<code class="codeph">CDB$ROOT</code> ，因此还明确排除了在<code class="codeph">CDB$ROOT</code>上运行的升级脚本。</p>
                              <p>对于Windows，当您使用“排除”选项（ <code class="codeph">-C</code> ）运行并行升级实用程序时，必须使用CDB根名称和PDB种子名称周围的双引号指定目标<code>-C</code>选项。例如：</p><pre class="pre codeblock"><code>。 。 。 -C“CDB $ ROOT PDB $ SEED”</code></pre></li>
                           <li>
                              <p>升级在<code class="codeph">CDB1_PDB1</code>和<code class="codeph">CDB1_PDB2</code>上重新运行并完成。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="rerunning-upgrades-oracle-database.html#GUID-CF18A968-0C0E-4223-AA9F-37B39F31ACBA" title="您可以使用四个选项来重新运行Oracle Database 12c第2版（12.2）的多租户数据库体系结构（CDB）上的升级。">重新运行多租户数据库（CDB）升级的选项</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-B8C68634-CB6B-415D-BB31-E8E11EBAF742" name="GUID-B8C68634-CB6B-415D-BB31-E8E11EBAF742"></a><h4 id="UPGRD-GUID-B8C68634-CB6B-415D-BB31-E8E11EBAF742" class="sect4">使用包含列表重新运行升级以指定CDB或PDB</h4>
                  <div>
                     <p>使用此示例作为通过使用包含列表重新运行PDB上的升级的模型。</p>
                     <p>您可以使用包含列表指定要重新运行升级的CDB和PDB列表，并排除不在包含列表中的节点。通过使用包含选项（ <code class="codeph">-c</code> ）运行并行升级实用程序，然后使用要升级的容器的单引号指定的空格分隔列表来指定包含列表。
                     </p>
                     <p>在示例中，容器CDB1_PDB1和CDB1_PDB2中的升级失败，但在容器CDB1_PDB3，CDB1_PDB4和CDB1_PDB5中成功完成。您在正常模式下启动CDB $ ROOT。您发现以下容器在线：CDB1_PDB3，CDB1_PDB4和CDB1_PDB5。您查看CDB1_PDB3，CDB1_PDB4和CDB1_PDB5的升级日志，并将这些容器联机。</p>
                     <div class="example" id="GUID-B8C68634-CB6B-415D-BB31-E8E11EBAF742__GUID-DCE99A6B-AEAA-41E9-AD83-5B4643B2A229">
                        <p class="titleinexample">示例4-44使用包含列表重新启动PDB上的升级</p>
                     </div>
                     <!-- class="example" -->
                     <p>例如：</p>
                     <ol>
                        <li>
                           <p>在正常模式下启动<code class="codeph">CDB$ROOT</code> ，并在升级模式下打开<code class="codeph">CDB1_PDB1</code>和<code class="codeph">CDB1_PDB2</code> 。<code class="codeph">CDB1_PDB3</code> ， <code class="codeph">CDB1_PDB4</code> ， <code class="codeph">CDB1_PDB5</code>处于正常模式。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; startup; alter pluggable database CDB1_PDB1 open upgrade; alter pluggable database CDB1_PDB2 open upgrade; alter pluggable database cdb1_pdb3 open; alter pluggable database cdb1_pdb4 open; alter pluggable database cdb1_pdb5 open;</pre></li>
                        <li>
                           <p>使用SQL命令<code>show pdbs</code>显示PDB的状态。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; show pdbs CON_ID CON_NAME OPEN MODE RESTRICTED ---------- ------------------------------  - --------- ---------- 2 PDB $ SEED READ ONLY NO 3 CDB1_PDB1 MIGRATE YES 4 CDB1_PDB2 MIGRATE YES 5 CDB1_PDB3 READ WRITE NO 6 CDB1_PDB4 READ WRITE NO 7 CDB1_PDB5 READ WRITE NO</pre></li>
                        <li>
                           <p>使用包含（-c）选项重新运行并行升级实用程序，然后使用单引号指定空格分隔的包含列表。此选项仅在您在包含列表中列出的PDB上运行升级。</p>
                           <p>例如：</p><pre class="pre codeblock"><code>cd $ ORACLE_HOME / bin ./dbupgrade -d $ ORACLE_HOME / rdbms / admin -l ORACLE_HOME / cfgtoollogs -R -c'CDB1_PDB1 CDB1_PDB2'</code></pre><p>对于Windows，当您使用包含选项运行并行升级实用程序时，必须通过在包含列表周围使用双引号来指定<code class="codeph">-c</code>选项目标。例如：</p><pre class="pre codeblock"><code>。 。 。 -C“CDB1_PDB1 CDB1_PDB2”</code></pre></li>
                        <li>
                           <p>升级在<code class="codeph">CDB1_PDB1</code>和<code class="codeph">CDB1_PDB2</code>上重新运行并完成。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="rerunning-upgrades-oracle-database.html#GUID-CF18A968-0C0E-4223-AA9F-37B39F31ACBA" title="您可以使用四个选项来重新运行Oracle Database 12c第2版（12.2）的多租户数据库体系结构（CDB）上的升级。">重新运行多租户数据库（CDB）升级的选项</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="12342.configuring-SQL-Plus.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>配置SQL * Plus</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User&#39;s Guide and Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User&#39;s Guide and Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sqlplus-users-guide-and-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-25T05:48:09-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96459-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="SQL-Plus-user-interface.html" title="Previous" type="text/html"></link>
      <link rel="next" href="starting-SQL-Plus.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL*Plus User&#39;s Guide and Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQPUG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SQL-Plus-user-interface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="starting-SQL-Plus.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指南和参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="getting-started.html" property="item" typeof="WebPage"><span property="name">SQL * Plus入门</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置SQL * Plus</li>
            </ol>
            <a id="GUID-D7479120-872F-4E47-AC13-B1B07DF69A46" name="GUID-D7479120-872F-4E47-AC13-B1B07DF69A46"></a><a id="SQPUG012"></a>
            
            <h2 id="SQPUG-GUID-D7479120-872F-4E47-AC13-B1B07DF69A46" class="sect2"><span class="enumeration_chapter">2</span>配置SQL * Plus</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何操作<a id="d4705e20" class="indexterm-anchor"></a>配置SQL * Plus命令行环境。它有以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="configuring-SQL-Plus.html#GUID-5A2953BF-9E2F-450B-AFBA-EE2846C59B5E">SQL * Plus环境变量</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-SQL-Plus.html#GUID-410DDF15-7230-4238-B3FF-BA965CE16B2E">SQL * Plus配置</a></p>
                  </li>
               </ul>
            </div><a id="SQPUG332"></a><a id="SQPUG331"></a><div class="props_rev_3"><a id="GUID-5A2953BF-9E2F-450B-AFBA-EE2846C59B5E" name="GUID-5A2953BF-9E2F-450B-AFBA-EE2846C59B5E"></a><h3 id="SQPUG-GUID-5A2953BF-9E2F-450B-AFBA-EE2846C59B5E" class="sect3"><span class="enumeration_section">2.1</span> SQL * Plus环境变量</h3>
               <div>
                  <div class="section">
                     <p>这些<a id="d4705e60" class="indexterm-anchor"></a><a id="d4705e64" class="indexterm-anchor"></a>环境变量指定SQL * Plus使用的文件的位置或路径。有关影响SQL * Plus行为的其他环境变量，请参阅<span class="italic">Oracle数据库管理员参考</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-5A2953BF-9E2F-450B-AFBA-EE2846C59B5E__GUID-58035520-186F-435E-9D78-35D3E2BB6508">
                     <p class="titleintable">表2-1 <span class="italic"><span class="bold">影响SQL * Plus的参数或环境变量</span></span></p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="影响SQL * Plus的参数或环境变量" width="100%" border="1" summary="Shows two columns of Parameters or Variables and descriptions that can influence SQL*Plus or iSQL*Plus" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="32%" id="d4705e84">参数或变量</th>
                              <th align="left" valign="bottom" width="68%" id="d4705e87">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d4705e92" headers="d4705e84 ">
                                 <p>LD_LIBRARY_PATH<a id="d4705e95" class="indexterm-anchor"></a><a id="d4705e99" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d4705e92 d4705e87 ">
                                 <p>环境变量，用于指定在UNIX和Linux上搜索库的路径。环境变量在某些操作系统上可能具有不同的名称，例如Apple Mac OS上的DYLD_LIBRARY_PATH，IBM / AIX-5L上的LIBPATH和HP-UX上的SHLIB_PATH。不适用于Windows操作系统。</p>
                                 <p>例</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / lib目录</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d4705e111" headers="d4705e84 ">
                                 <p>本地<a id="d4705e114" class="indexterm-anchor"></a><a id="d4705e118" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d4705e111 d4705e87 ">
                                 <p>Windows环境变量，用于指定连接字符串。在UNIX上执行与TWO_TASK相同的功能。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d4705e126" headers="d4705e84 ">
                                 <p>NLS_LANG<a id="d4705e129" class="indexterm-anchor"></a><a id="d4705e133" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d4705e126 d4705e87 ">
                                 <p>环境变量指定全球化行为。</p>
                                 <p>例</p><pre class="oac_no_warn" dir="ltr">AMERICAN_AMERICA.UTF8</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d4705e145" headers="d4705e84 ">
                                 <p>ORACLE_HOME<a id="d4705e148" class="indexterm-anchor"></a><a id="d4705e152" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d4705e145 d4705e87 ">
                                 <p>环境变量，用于指定SQL * Plus的安装位置。SQL * Plus还使用它来指定消息文件的位置。</p>
                                 <p>例子：</p><pre class="oac_no_warn" dir="ltr">d：\ oracle \ 10g / u01 / app / oracle / product / v10g</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d4705e164" headers="d4705e84 ">
                                 <p>ORA_EDITION<a id="d4705e167" class="indexterm-anchor"></a><a id="d4705e171" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d4705e164 d4705e87 ">
                                 <p>环境变量，用于指定要使用的数据库版本。如果使用CONNECT或SQLPLUS命令选项<span class="italic">edition =</span> <span class="italic">value</span>指定版本，则使用它来代替ORA_EDITION。如果在CONNECT或SQLPLUS命令选项或ORA_EDITION中未指定版本，则SQL * Plus将连接到默认版本。
                                 </p>
                                 <p>设置ORA_EDITION时，会话中的后续STARTUP命令会导致ORA-38802错误。要更正此问题，您必须取消设置ORA_EDITION，然后重新连接并关闭数据库，然后再次启动数据库。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d4705e186" headers="d4705e84 ">
                                 <p>ORA_NLS10<a id="d4705e189" class="indexterm-anchor"></a><a id="d4705e193" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d4705e186 d4705e87 ">
                                 <p>环境变量，用于在SQL * Plus 10.2中指定NLS数据和用户引导文件的位置。默认位置是$ ORACLE_HOME / nls / data。在同时具有Oracle9 <span class="italic">i</span>和10 <span class="italic">g</span>或版本升级的系统的系统中，应为Oracle 10 <span class="italic">g</span>设置ORA_NLS10，并为9 <span class="italic">i</span>设置ORA_NLS33。9 <span class="italic">i中</span>的默认NLS位置是$ ORACLE_HOME / common / nls / admin / data。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d4705e216" headers="d4705e84 ">
                                 <p>ORACLE_PATH<a id="d4705e219" class="indexterm-anchor"></a><a id="d4705e223" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d4705e216 d4705e87 ">
                                 <p>环境变量，用于指定SQL脚本的位置。如果SQL * Plus无法在ORACLE_PATH中找到该文件，或者未设置ORACLE_PATH，则会在当前工作目录中搜索该文件。</p>
                                 <p>不适用于Windows</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d4705e233" headers="d4705e84 ">
                                 <p>ORACLE_SID<a id="d4705e236" class="indexterm-anchor"></a><a id="d4705e240" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d4705e233 d4705e87 ">
                                 <p>环境变量指定数据库实例，可选</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d4705e248" headers="d4705e84 ">
                                 <p>路径<a id="d4705e251" class="indexterm-anchor"></a><a id="d4705e255" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d4705e248 d4705e87 ">
                                 <p>环境变量，用于指定在Windows中搜索可执行文件和DLL的路径。通常包括ORACLE_HOME / bin</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d4705e263" headers="d4705e84 ">
                                 <p>SQLPATH<a id="d4705e266" class="indexterm-anchor"></a><a id="d4705e270" class="indexterm-anchor"></a><a id="d4705e274" class="indexterm-anchor"></a><a id="d4705e278" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d4705e263 d4705e87 ">
                                 <p>环境变量或Windows注册表项，用于指定SQL脚本的位置。SQL * Plus在SQLPATH指定的目录中以及SQLPATH目录的子目录中搜索SQL脚本，包括<span class="italic">login.sql</span> 。SQLPATH是以冒号分隔的目录列表。UNIX安装中没有设置默认值。
                                 </p>
                                 <p>在Windows中，SQLPATH在安装期间在注册表项中定义。有关SQLPATH注册表项的详细信息，请参阅<a href="configuring-SQL-Plus.html#GUID-A91DD984-84ED-4D67-9983-938FCFC3665E">SQLPATH</a>注册表项。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d4705e295" headers="d4705e84 ">
                                 <p>TNS_ADMIN<a id="d4705e298" class="indexterm-anchor"></a><a id="d4705e302" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d4705e295 d4705e87 ">
                                 <p>环境变量，用于指定tnsnames.ora文件的位置。如果未指定，则使用$ ORACLE_HOME / network / admin</p>
                                 <p>例</p><pre class="oac_no_warn" dir="ltr">h：\ network / var / opt / oracle</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d4705e315" headers="d4705e84 ">
                                 <p>TWO_TASK<a id="d4705e318" class="indexterm-anchor"></a><a id="d4705e322" class="indexterm-anchor"></a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d4705e315 d4705e87 ">
                                 <p>UNIX环境变量，用于指定连接字符串。未指定数据库的连接将连接到TWO_TASK中指定的数据库。</p>
                                 <p>例</p><pre class="oac_no_warn" dir="ltr">TWO_TASK = MYDB导出TWO_TASK sqlplus hr</pre><p>是相同的：</p><pre class="oac_no_warn" dir="ltr">sqlplus hr @ MYDB</pre></td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="SQPUG333"></a><div class="props_rev_3"><a id="GUID-A91DD984-84ED-4D67-9983-938FCFC3665E" name="GUID-A91DD984-84ED-4D67-9983-938FCFC3665E"></a><h4 id="SQPUG-GUID-A91DD984-84ED-4D67-9983-938FCFC3665E" class="sect4"><span class="enumeration_section">2.1.1</span> SQLPATH注册表项</h4>
                  <div>
                     <p>SQLPATH注册表项指定SQL脚本的位置。SQL * Plus在当前目录中搜索SQL脚本，然后在SQLPATH注册表项指定的目录中以及SQLPATH目录的子目录中搜索SQL脚本。</p>
                     <p>HKEY_LOCAL_MACHINE \ SOFTWARE \ ORACLE \ HOME0注册表子项（或关联的ORACLE_HOME的HOME <span class="italic">n</span>目录）包含SQLPATH注册表项。使用默认值ORACLE_HOME \ DBS创建SQLPATH。您可以将任何驱动器上的任何目录指定为SQLPATH的有效值。</p>
                     <p>设置SQLPATH注册表项时，可以使用分号（;）连接目录。例如：</p>
                     <p><code class="codeph">C：\ ORACLE \ ora12 \数据库; C：\ ORACLE \ ora12 \ DBS</code></p>
                     <p>见<a id="d4705e385" class="indexterm-anchor"></a><a id="d4705e389" class="indexterm-anchor"></a>注册表编辑器的帮助系统，提供有关如何编辑SQLPATH注册表项的说明。
                     </p>
                  </div>
               </div>
            </div><a id="SQPUG335"></a><a id="SQPUG336"></a><a id="SQPUG334"></a><div class="props_rev_3"><a id="GUID-410DDF15-7230-4238-B3FF-BA965CE16B2E" name="GUID-410DDF15-7230-4238-B3FF-BA965CE16B2E"></a><h3 id="SQPUG-GUID-410DDF15-7230-4238-B3FF-BA965CE16B2E" class="sect3"><span class="enumeration_section">2.2</span> SQL * Plus配置</h3>
               <div>
                  <p>您可以设置SQL * Plus <a id="d4705e416" class="indexterm-anchor"></a>环境与每个会话使用相同的设置。
                  </p>
                  <p>有两个操作系统文件可以执行此操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>站点配置文件<span class="italic">glogin.sql</span> ，用于站点范围设置。
                        </p>
                     </li>
                     <li>
                        <p>此外，用户配置<span class="italic">文件login.sql</span>设置用户特定设置。
                        </p>
                     </li>
                  </ul>
                  <p>这些文件的确切名称取决于系统。</p>
                  <div class="infoboxnote" id="GUID-410DDF15-7230-4238-B3FF-BA965CE16B2E__GUID-F94CE76C-66DC-4802-ACE7-A75E7669B2BD">
                     <p class="notep1">注意：</p>
                     <p>站点配置文件和用户配置文件在从<code class="codeph">SQLPLUS</code>或<code class="codeph">CONNECT</code>命令成功连接Oracle数据库之后运行，或者在指定了<code class="codeph">/NOLOG</code>情况下运行。使用<code class="codeph">ALTER SESSION SET CONTAINER</code>切换到另一个PDB时，不会运行站点配置文件和用户配置文件。</p>
                  </div>
                  <p>如果将SET SERVEROUTPUT或SET APPINFO命令放入站点配置文件或用户配置文件中，则某些特权连接可能会生成错误。</p>
                  <p>下表显示了配置文件脚本以及影响命令行用户界面的一些命令和设置。</p>
                  <div class="tblformal" id="GUID-410DDF15-7230-4238-B3FF-BA965CE16B2E__GUID-CDF5DDDA-3AE9-449C-A107-A5E4FBD5F44D">
                     <p class="titleintable">表2-2影响SQL * Plus用户界面设置的配置文件脚本</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="配置文件脚本影响SQL * Plus用户界面设置" width="100%" border="1" summary="Shows three columns: site profile or user profile and when they are run in the Windows GUI and Command-line, and when they are run in the iSQL*Plus Server." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d4705e467">这个脚本......</th>
                              <th align="left" valign="bottom" width="65%" id="d4705e474">在命令行中运行...</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d4705e479" headers="d4705e467 ">
                                 <p><a href="configuring-SQL-Plus.html#GUID-F6657670-3D8F-4922-82D3-D7913F51A46C">网站简介</a> （ <a id="d4705e485" class="indexterm-anchor"></a><a id="d4705e489" class="indexterm-anchor"></a> glogin.sql中）</p>
                                 <p>可以包含可以包含在SQL * Plus脚本中的任何内容，例如系统变量设置或DBA要实现的其他全局设置。</p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d4705e479 d4705e474 ">
                                 <p>从SQLPLUS或CONNECT命令成功连接Oracle数据库之后。</p>
                                 <p>指定/ NOLOG的位置。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d4705e502" headers="d4705e467 ">
                                 <p><a href="configuring-SQL-Plus.html#GUID-B9CC27CF-FA9F-4C2A-9B2C-F7411839C50A">用户个人资料</a> （login.sql）</p>
                                 <p>可以包含可以包含在SQL * Plus脚本中的任何内容，但这些设置仅适用于用户的会话。</p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d4705e502 d4705e474 ">
                                 <p>在站点配置文件之后立即。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-410DDF15-7230-4238-B3FF-BA965CE16B2E__GUID-CEDEF61C-63A9-4752-88DD-5FE9C4E57BB9">
                     <p class="titleintable">表2-3影响SQL * Plus用户界面设置的配置文件脚本中的命令</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Profile脚本中的命令影响SQL * Plus用户界面设置" width="100%" border="1" summary="Shows how specific commands in the site or user profile affect the Windows GUI and command-line, and the iSQL*Plus Server." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d4705e523">在配置文件脚本中，此命令...</th>
                              <th align="left" valign="bottom" width="65%" id="d4705e526">通过...影响命令行</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d4705e531" headers="d4705e523 ">
                                 <p><a href="SET-system-variable-summary.html#GUID-B78B8F90-AD6C-48CA-B0A8-D657F6FBFC38">SET SQLPLUSCOMPAT [IBILITY] {xy [.z]}</a></p>
                                 <p>另请参阅<a href="SET-system-variable-summary.html#GUID-1CF8DCB9-B864-4B6D-B4FC-D805C260BB39">SQL * Plus兼容性矩阵</a> 。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d4705e531 d4705e526 ">
                                 <p>设置SQL * Plus兼容模式以获取DBA对此站点所需的行为。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d4705e546" headers="d4705e523 ">
                                 <p>SQLPLUS命令<a href="starting-SQL-Plus.html#GUID-CEB8DF52-4D29-4DBD-B9B7-DB11BB7D6BB1">COMPATIBILITY选项</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d4705e546 d4705e526 ">
                                 <p>至于SET SQLPLUSCOMPATIBILITY，但设置了SQLPLUS命令COMPATIBILITY选项。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d4705e556" headers="d4705e523 ">
                                 <p>SQLPLUS命令<a href="starting-SQL-Plus.html#GUID-9FD4336C-AEC9-4206-90E9-AF1E397A2EB8">RESTRICT选项</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d4705e556 d4705e526 ">
                                 <p>在RESTRICT选项设置为3的情况下启动SQL * Plus会阻止读取用户配置文件脚本。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="SQPUG337"></a><div class="props_rev_3"><a id="GUID-F6657670-3D8F-4922-82D3-D7913F51A46C" name="GUID-F6657670-3D8F-4922-82D3-D7913F51A46C"></a><h4 id="SQPUG-GUID-F6657670-3D8F-4922-82D3-D7913F51A46C" class="sect4"><span class="enumeration_section">2.2.1</span>站点配置文件</h4>
                  <div>
                     <p>安装期间会创建站点配置文件脚本。数据库管理员使用它来配置SQL * Plus命令行连接的站点范围行为。安装期间安装的站点配置文件脚本是一个空脚本。</p>
                     <p>站点配置文件脚本通常命名为<a id="d4705e595" class="indexterm-anchor"></a><a id="d4705e599" class="indexterm-anchor"></a> glogin.sql中。只要用户启动SQL * Plus会话并成功建立Oracle数据库连接，SQL * Plus就会执行此脚本。
                     </p>
                     <p>站点配置文件使DBA能够为特定SQL * Plus安装的所有用户设置站点范围的SQL * Plus环境默认值</p>
                     <p>用户无法直接访问站点配置文件。</p>
                  </div><a id="SQPUG338"></a><div class="props_rev_3"><a id="GUID-EFD44ABB-963F-4EBD-B526-AEB59B31C0D4" name="GUID-EFD44ABB-963F-4EBD-B526-AEB59B31C0D4"></a><h5 id="SQPUG-GUID-EFD44ABB-963F-4EBD-B526-AEB59B31C0D4" class="sect5"><span class="enumeration_section">2.2.1.1</span>默认站点配置文件脚本</h5>
                     <div>
                        <p>站点配置文件脚本在UNIX中为$ ORACLE_HOME / sqlplus / admin / glogin.sql，在Windows中为ORACLE_HOME \ sqlplus \ admin \ glogin.sql。如果此位置已存在站点配置文件，则在安装SQL * Plus时会覆盖该站点配置文件。如果删除了SQL * Plus，则会删除站点配置文件脚本。</p>
                     </div>
                  </div>
               </div><a id="SQPUG339"></a><div class="props_rev_3"><a id="GUID-B9CC27CF-FA9F-4C2A-9B2C-F7411839C50A" name="GUID-B9CC27CF-FA9F-4C2A-9B2C-F7411839C50A"></a><h4 id="SQPUG-GUID-B9CC27CF-FA9F-4C2A-9B2C-F7411839C50A" class="sect4"><span class="enumeration_section">2.2.2</span>用户档案</h4>
                  <div>
                     <p>对于SQL * Plus命令行连接，SQL * Plus也支持<a id="d4705e656" class="indexterm-anchor"></a>用户资料<a id="d4705e661" class="indexterm-anchor"></a><a id="d4705e665" class="indexterm-anchor"></a>脚本。用户配置文件在站点配置文件之后执行，旨在允许用户专门定制其会话。用户配置文件脚本通常以命名<a id="d4705e670" class="indexterm-anchor"></a>的login.sql。SQL * Plus使用ORACLE_PATH环境变量搜索您指定的目录。SQL * Plus按列出的顺序搜索以冒号分隔的目录及其子目录列表。
                     </p>
                     <div class="p">
                        <div class="infoboxnote" id="GUID-B9CC27CF-FA9F-4C2A-9B2C-F7411839C50A__GUID-74D5F361-D0BA-4AE6-BC14-7A7017632EC6">
                           <p class="notep1">注意：</p>SQL * Plus将不再搜索当前目录中的login.sql。
                        </div>
                     </div>
                     <p>您可以将任何SQL命令，PL / SQL块或SQL * Plus命令添加到用户配置文件中。当您启动SQL * Plus时，它会自动搜索您的用户配置文件并运行它包含的命令。</p>
                  </div><a id="SQPUG340"></a><div class="props_rev_3"><a id="GUID-ABEF3448-F0AD-4A19-8688-877ED1086347" name="GUID-ABEF3448-F0AD-4A19-8688-877ED1086347"></a><h5 id="SQPUG-GUID-ABEF3448-F0AD-4A19-8688-877ED1086347" class="sect5"><span class="enumeration_section">2.2.2.1</span>修改LOGIN文件</h5>
                     <div>
                        <div class="section">
                           <p>您可以像修改任何其他脚本一样修改LOGIN文件。以下示例用户配置文件脚本显示了您可以包含的一些修改：</p><pre class="oac_no_warn" dir="ltr">-  login.sql  -  SQL * Plus用户登录启动文件。-   - 此脚本自动运行<a id="d4705e713" class="indexterm-anchor"></a><a id="d4705e717" class="indexterm-anchor"></a> glogin.sql  -   - 更改SQL * Plus提示以显示当前用户， - 连接标识符和当前时间。- 首先设置数据库日期格式以显示时间。ALTER SESSION SET nls_date_format ='HH：MI：SS'; - 设置SQLPROMPT以包含_USER， <a id="d4705e722" class="indexterm-anchor"></a><a id="d4705e724" class="indexterm-anchor"></a> _CONNECT_IDENTIFIER  - 和_DATE变量。SET SQLPROMPT“_USER'@'_ CONNECT_IDENTIFIER _DATE&gt;” - 设置<a id="d4705e729" class="indexterm-anchor"></a><a id="d4705e733" class="indexterm-anchor"></a>报表页面中显示的行数为24。SET PAGESIZE 24  - 将每个报告行上显示的字符数设置为78。SET LINESIZE 78  - 设置<a id="d4705e738" class="indexterm-anchor"></a><a id="d4705e743" class="indexterm-anchor"></a>报告中使用的数字格式为99,999美元。SET NUMFORMAT $ 99,999</pre><div class="infoboxnotealso" id="GUID-ABEF3448-F0AD-4A19-8688-877ED1086347__GUID-F0BC8703-BAFD-4DAE-9DA4-CF3DB192AC3A">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="SET.html#GUID-9095C4FF-F4EB-4218-84AA-83061186625F">SET</a>命令有关您可能希望在SQL * Plus LOGIN文件中设置的这些和其他SET命令变量的更多信息。
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="using-scripts-in-SQL-Plus.html#GUID-843C726C-F57D-46B7-B3E8-CE4B75AE4191">关于使用预定义变量</a>以获取有关预定<a href="using-scripts-in-SQL-Plus.html#GUID-843C726C-F57D-46B7-B3E8-CE4B75AE4191">义变量</a>的更多信息。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="SQPUG341"></a><div class="props_rev_3"><a id="GUID-BEC7888C-4EE6-4A05-83BD-FDE82D870F89" name="GUID-BEC7888C-4EE6-4A05-83BD-FDE82D870F89"></a><h4 id="SQPUG-GUID-BEC7888C-4EE6-4A05-83BD-FDE82D870F89" class="sect4"><span class="enumeration_section">2.2.3</span>存储和恢复SQL * Plus系统变量</h4>
                  <div>
                     <div class="section">
                        <p>从命令行，您可以存储当前的SQL * Plus系统<a id="d4705e786" class="indexterm-anchor"></a><a id="d4705e789" class="indexterm-anchor"></a>脚本中的变量<a id="d4705e794" class="indexterm-anchor"></a> STORE命令。如果更改任何变量，则可以运行此脚本以还原原始值。如果要在运行改变它们的报告后重置系统变量，这非常有用。您还可以在用户配置文件脚本中包含该脚本，以便每次启动SQL * Plus时都设置这些系统变量。
                        </p>
                        <p>要存储所有系统变量的当前设置，请输入</p><pre class="oac_no_warn" dir="ltr">STORE SET <span class="italic">file_name</span></pre><p>输入文件名和文件扩展名，或仅输入文件名以使用默认扩展名。SQL。你可以使用<a id="d4705e805" class="indexterm-anchor"></a> <a href="SET-system-variable-summary.html#GUID-0DFB3D8C-0389-4F44-A68D-3FDBB9F962EA">SET SUF [FIX] {SQL | text}</a>命令用于更改默认文件扩展名。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="SQPUG343"></a><a id="SQPUG342"></a><div class="props_rev_3"><a id="GUID-D02959D2-007A-443A-BA5B-24B508D743E6" name="GUID-D02959D2-007A-443A-BA5B-24B508D743E6"></a><h5 id="SQPUG-GUID-D02959D2-007A-443A-BA5B-24B508D743E6" class="sect5"><span class="enumeration_section">2.2.3.1</span>恢复系统变量</h5>
                     <div>
                        <div class="section">
                           <p>要恢复存储的系统变量，请输入</p><pre class="oac_no_warn" dir="ltr">START <span class="italic">file_name</span></pre><p>如果文件具有默认扩展名（由<a href="SET-system-variable-summary.html#GUID-0DFB3D8C-0389-4F44-A68D-3FDBB9F962EA">SET SUF [FIX] {SQL | text}</a>命令指定），则无需将期间和扩展名添加到文件名中。
                           </p>
                           <p>你也可以使用<a id="d4705e848" class="indexterm-anchor"></a> @（在标志处）或<a id="d4705e853" class="indexterm-anchor"></a> @@（双符号）命令来运行脚本。
                           </p><pre class="pre codeblock"><code>创建文件plusenv</code></pre><p>现在可以更改任何系统变量的值：</p><pre class="oac_no_warn" dir="ltr">显示PAGESIZE</pre><pre class="pre codeblock"><code>PAGESIZE 24</code></pre><pre class="oac_no_warn" dir="ltr">SET PAGESIZE 60 SHOW PAGESIZE</pre><pre class="pre codeblock"><code>PAGESIZE 60</code></pre><p>然后可以从脚本中恢复系统变量的原始值：</p><pre class="oac_no_warn" dir="ltr">开始播放SHOW PAGESIZE</pre><pre class="pre codeblock"><code>PAGESIZE 24</code></pre></div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-D02959D2-007A-443A-BA5B-24B508D743E6__GUID-3DE9DDD0-620E-43E4-9310-AEBB41AE0EC1">
                           <p class="titleinexample">示例2-1存储和恢复SQL * Plus系统变量</p>
                           <p>要将SQL * Plus系统变量的当前值存储在新脚本“plusenv.sql”中：</p><pre class="oac_no_warn" dir="ltr">STORE SET plusenv</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="SQPUG344"></a><div class="props_rev_3"><a id="GUID-B5B5E92E-3F77-41D5-B289-431C1185FACA" name="GUID-B5B5E92E-3F77-41D5-B289-431C1185FACA"></a><h4 id="SQPUG-GUID-B5B5E92E-3F77-41D5-B289-431C1185FACA" class="sect4"><span class="enumeration_section">2.2.4</span>关于安装命令行帮助</h4>
                  <div>
                     <p>命令行帮助<a id="d4705e904" class="indexterm-anchor"></a><a id="d4705e908" class="indexterm-anchor"></a>通常在Oracle数据库安装期间安装。如果没有，数据库管理员可以通过运行SQL * Plus提供的SQL脚本来创建SQL * Plus命令行帮助表并使用SQL * Plus帮助数据填充它们。
                     </p>
                     <p>数据库管理员还可以通过从SQL * Plus运行SQL脚本来删除SQL * Plus命令行帮助表。</p>
                     <p>在安装或删除SQL * Plus帮助之前，请确保：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>SQL * Plus已安装。</p>
                        </li>
                        <li>
                           <p>设置了ORACLE_HOME环境变量。</p>
                        </li>
                        <li>
                           <p>存在SQL * Plus帮助脚本文件：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>HLPBLD.SQL  - 删除并创建新的帮助表。</p>
                              </li>
                              <li>
                                 <p>HELPDROP.SQL  - 删除现有的帮助表。</p>
                              </li>
                              <li>
                                 <p>HELPUS.SQL  - 使用帮助数据填充帮助表。</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div><a id="SQPUG345"></a><div class="props_rev_3"><a id="GUID-218234D7-7305-47BC-B056-017788BEA4DF" name="GUID-218234D7-7305-47BC-B056-017788BEA4DF"></a><h5 id="SQPUG-GUID-218234D7-7305-47BC-B056-017788BEA4DF" class="sect5"><span class="enumeration_section">2.2.4.1</span>运行hlpbld.sql脚本以安装命令行帮助</h5>
                     <div>
                        <div class="section">
                           <p>运行提供的SQL脚本HLPBLD.SQL，以加载命令行帮助。</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>以SYSTEM用户身份登录SQL * Plus：</span><div><pre class="oac_no_warn" dir="ltr">SQLPLUS系统</pre><p>系统会提示您输入为SYSTEM用户定义的密码。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在UNIX中，从SQL * Plus运行SQL脚本HLPBLD.SQL：</span><div><pre class="oac_no_warn" dir="ltr">@ $ ORACLE_HOME / sqlplus / admin / help / hlpbld.sql helpus.sql</pre><p>在Windows中，使用以下命令从SQL * Plus运行SQL脚本HLPBLD.SQL：</p><pre class="oac_no_warn" dir="ltr">@％ORACLE_HOME％\ SQLPLUS \ ADMIN \ HELP \ HLPBLD.SQL HELPUS.SQL</pre><p>HLPBLD.SQL脚本创建并加载帮助表。</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div><a id="SQPUG346"></a><div class="props_rev_3"><a id="GUID-C75B74D3-25E0-4AA5-9945-6D6A5FD66E29" name="GUID-C75B74D3-25E0-4AA5-9945-6D6A5FD66E29"></a><h5 id="SQPUG-GUID-C75B74D3-25E0-4AA5-9945-6D6A5FD66E29" class="sect5"><span class="enumeration_section">2.2.4.2</span>运行helpdrop.sql脚本以删除命令行帮助</h5>
                     <div>
                        <div class="section">
                           <p>运行提供的SQL脚本HELPDROP.SQL，以删除命令行帮助。</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>以SYSTEM用户身份登录SQL * Plus：</span><div><pre class="oac_no_warn" dir="ltr">SQLPLUS系统</pre><p>系统会提示您输入为SYSTEM用户定义的密码。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在UNIX中，从SQL * Plus运行SQL脚本HELPDROP.SQL：</span><div><pre class="oac_no_warn" dir="ltr">@ $ ORACLE_HOME / SQLPLUS /管理/咨询/ helpdrop.sql</pre><p>在Windows中，从SQL * Plus运行SQL脚本HELPDROP.SQL：</p><pre class="oac_no_warn" dir="ltr">@％ORACLE_HOME \ SQLPLUS \ ADMIN \ HELP \ HELPDROP.SQL</pre><p>HELPDROP.SQL脚本删除帮助表，然后断开连接。</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div>
               </div><a id="SQPUG347"></a><div class="props_rev_3"><a id="GUID-868D52CC-A530-4C8C-A9BB-0326FDA4FCF3" name="GUID-868D52CC-A530-4C8C-A9BB-0326FDA4FCF3"></a><h4 id="SQPUG-GUID-868D52CC-A530-4C8C-A9BB-0326FDA4FCF3" class="sect4"><span class="enumeration_section">2.2.5</span>关于配置Oracle Net Services</h4>
                  <div>
                     <p>如果您打算连接到<a id="d4705e1047" class="indexterm-anchor"></a><a id="d4705e1051" class="indexterm-anchor"></a><a id="d4705e1055" class="indexterm-anchor"></a>除默认数据库之外的数据库，无论是在同一台计算机还是另一台计算机上，您都需要确保已安装Oracle Net，并且数据库侦听器已配置并正在运行。SQL * Plus使用Oracle Net服务。
                     </p>
                     <p>在Oracle数据库安装期间，默认情况下会安装Oracle Net服务和数据库侦听器。有关安装和配置Oracle Net的更多信息，请参阅<a href="http://www.oracle.com/technology/documentation" target="_blank"><code class="codeph">http://www.oracle.com/technology/documentation</code></a>的Oracle数据库文档。</p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="07162.DBA_AUDIT_STATEMENT.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="DBA_AUDIT_STATEMENT displays audit trail records for all GRANT, REVOKE, AUDIT, NOAUDIT, and ALTER SYSTEM statements in the database."></meta>
      <meta name="description" content="DBA_AUDIT_STATEMENT displays audit trail records for all GRANT, REVOKE, AUDIT, NOAUDIT, and ALTER SYSTEM statements in the database."></meta>
      <title>DBA_AUDIT_STATEMENT</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Reference"></meta>
      <meta property="og:description" content="DBA_AUDIT_STATEMENT displays audit trail records for all GRANT, REVOKE, AUDIT, NOAUDIT, and ALTER SYSTEM statements in the database."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00"></meta>
      <meta name="dcterms.title" content="Database Reference"></meta>
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96196-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBA_AUDIT_SESSION.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBA_AUDIT_TRAIL.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBA_AUDIT_SESSION.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBA_AUDIT_TRAIL.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views-3.html" property="item" typeof="WebPage"><span property="name">静态数据字典视图：DBA_2PC_NEIGHBORS到DBA_HIST_JAVA_POOL_ADVICE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBA_AUDIT_STATEMENT</li>
            </ol>
            <a id="GUID-181FEC64-A7D8-4FC3-8DBD-A2F812213848" name="GUID-181FEC64-A7D8-4FC3-8DBD-A2F812213848"></a><a id="REFRN23022"></a>
            
            <h2 id="REFRN-GUID-181FEC64-A7D8-4FC3-8DBD-A2F812213848" class="sect2"><span class="enumeration_section">4.117</span> DBA_AUDIT_STATEMENT</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBA_AUDIT_STATEMENT</code>显示数据库中所有<code class="codeph">GRANT</code> ， <code class="codeph">REVOKE</code> ， <code class="codeph">AUDIT</code> ， <code class="codeph">NOAUDIT</code>和<code class="codeph">ALTER SYSTEM</code>语句的审计跟踪记录。
               </p>
               <div class="section">
                  <div class="infoboxnote" id="GUID-181FEC64-A7D8-4FC3-8DBD-A2F812213848__GUID-9DD42104-D03C-4AE7-BEE6-8F71F70EC61E">
                     <p class="notep1">注意：</p>
                     <p>此视图仅在未启用统一审核的Oracle数据库中填充。在Oracle数据库中启用统一审计时，审计记录将填充在新审计跟踪中，并可从<code class="codeph">UNIFIED_AUDIT_TRAIL</code>查看。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关统一审计的详细信息，请参见“ <a href="../dbseg/part_6.html#DBSEG006" target="_blank"><span><cite>Oracle数据库安全指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>有关迁移到统一审计的详细信息，请参阅“ <a href="../upgrd/recommended-and-best-practices-complete-upgrading-oracle-database.html#UPGRD52810" target="_blank"><span><cite>Oracle数据库升级指南”</cite></span></a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-181FEC64-A7D8-4FC3-8DBD-A2F812213848__GUID-1A8277C9-9EBA-45FF-8690-157613795C9F">相关视图</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">USER_AUDIT_STATEMENT</code>显示当前用户发出的<code class="codeph">GRANT</code> ， <code class="codeph">REVOKE</code> ， <code class="codeph">AUDIT</code> ， <code class="codeph">NOAUDIT</code>和<code class="codeph">ALTER SYSTEM</code>语句的审计跟踪记录。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-181FEC64-A7D8-4FC3-8DBD-A2F812213848__GUID-195CD80B-7AB0-4D32-B5A9-15CF1C651261">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="This table describes the columns for this database view" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="24%" id="d809868e234">柱</th>
                           <th align="left" valign="bottom" width="18%" id="d809868e237">数据类型</th>
                           <th align="left" valign="bottom" width="14%" id="d809868e240">空值</th>
                           <th align="left" valign="bottom" width="45%" id="d809868e243">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e248" headers="d809868e234 ">
                              <p><code class="codeph">OS_USERNAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e248 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（255）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e248 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e248 d809868e243 ">
                              <p>审核其操作的用户的操作系统登录用户名</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e263" headers="d809868e234 ">
                              <p><code class="codeph">用户名</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e263 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e263 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e263 d809868e243 ">
                              <p>审核其操作的用户的名称（不是ID号）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e278" headers="d809868e234 ">
                              <p><code class="codeph">USERHOST</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e278 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e278 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e278 d809868e243 ">
                              <p>客户端主机名</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e293" headers="d809868e234 ">
                              <p><code class="codeph">终奌站</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e293 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（255）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e293 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e293 d809868e243 ">
                              <p>用户终端的标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e308" headers="d809868e234 ">
                              <p><code class="codeph">TIMESTAMP</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e308 d809868e237 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e308 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e308 d809868e243 ">
                              <p>在本地数据库会话时区中创建审计跟踪条目的日期和时间（用户登录由<code class="codeph">AUDIT SESSION</code>创建的条目的日期和时间）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e326" headers="d809868e234 ">
                              <p><code class="codeph">所有者</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e326 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e326 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e326 d809868e243 ">
                              <p>受操作影响的对象的创建者</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e341" headers="d809868e234 ">
                              <p><code class="codeph">OBJ_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e341 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e341 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e341 d809868e243 ">
                              <p>受操作影响的对象的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e356" headers="d809868e234 ">
                              <p><code class="codeph">ACTION_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e356 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（28）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e356 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e356 d809868e243 ">
                              <p>与<code class="codeph">DBA_AUDIT_TRAIL</code>中“ <code class="codeph">ACTION</code>列中的数字代码对应的操作类型的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e376" headers="d809868e234 ">
                              <p><code class="codeph">新名字</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e376 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e376 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e376 d809868e243 ">
                              <p><code class="codeph">RENAME</code>之后的对象的新名称或基础对象的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e394" headers="d809868e234 ">
                              <p><code class="codeph">OBJ_PRIVILEGE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e394 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（16）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e394 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e394 d809868e243 ">
                              <p><code class="codeph">GRANT</code>或<code class="codeph">REVOKE</code>语句授予或撤消的对象权限</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e415" headers="d809868e234 ">
                              <p><code class="codeph">SYS_PRIVILEGE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e415 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（40）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e415 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e415 d809868e243 ">
                              <p><code class="codeph">GRANT</code>或<code class="codeph">REVOKE</code>语句授予或撤消的系统特权</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e437" headers="d809868e234 ">
                              <p><code class="codeph">ADMIN_OPTION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e437 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e437 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e437 d809868e243 ">
                              <p>表示使用<code class="codeph">ADMIN</code>选项授予的角色或系统特权</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e455" headers="d809868e234 ">
                              <p><code class="codeph">GRANTEE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e455 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e455 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e455 d809868e243 ">
                              <p><code class="codeph">GRANT</code>或<code class="codeph">REVOKE</code>语句中指定的被授予者的名称</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e476" headers="d809868e234 ">
                              <p><code class="codeph">AUDIT_OPTION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e476 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（40）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e476 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e476 d809868e243 ">
                              <p>使用<code class="codeph">AUDIT</code>语句设置的审计选项</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e494" headers="d809868e234 ">
                              <p><code class="codeph">SES_ACTIONS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e494 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（19）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e494 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e494 d809868e243 ">
                              <p>会话摘要（一个16个字符的字符串，每个操作类型对应一个<code class="codeph">ALTER</code> ， <code class="codeph">AUDIT</code> ， <code class="codeph">COMMENT</code> ， <code class="codeph">DELETE</code> ， <code class="codeph">GRANT</code> ， <code class="codeph">INDEX</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">LOCK</code> ， <code class="codeph">RENAME</code> ， <code class="codeph">SELECT</code> ， <code class="codeph">UPDATE</code> ， <code class="codeph">REFERENCES</code>和<code class="codeph">EXECUTE</code> ）。位置14,15和16保留供将来使用。人物是：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">-</code> - 没有</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">S</code> - 成功</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">F</code> - 失败</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">B</code> - 两者</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e571" headers="d809868e234 ">
                              <p><code class="codeph">COMMENT_TEXT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e571 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（4000）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e571 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e571 d809868e243 ">
                              <p>由应用程序插入的审计跟踪的文本注释</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e586" headers="d809868e234 ">
                              <p><code class="codeph">SESSIONID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e586 d809868e237 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e586 d809868e240 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e586 d809868e243 ">
                              <p>每个Oracle会话的数字ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e602" headers="d809868e234 ">
                              <p><code class="codeph">ENTRYID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e602 d809868e237 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e602 d809868e240 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e602 d809868e243 ">
                              <p>会话中每个审计跟踪条目的数字ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e618" headers="d809868e234 ">
                              <p><code class="codeph">STATEMENTID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e618 d809868e237 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e618 d809868e240 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e618 d809868e243 ">
                              <p>每个语句运行的数字ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e634" headers="d809868e234 ">
                              <p><code class="codeph">RETURNCODE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e634 d809868e237 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e634 d809868e240 ">
                              <p><code class="codeph">不是NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e634 d809868e243 ">
                              <p>操作生成的Oracle错误代码。一些有用的值：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">0</code> - 行动成功</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">2004</code> - 违反安全规定</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e661" headers="d809868e234 ">
                              <p><code class="codeph">PRIV_USED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e661 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（40）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e661 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e661 d809868e243 ">
                              <p>用于执行操作的系统特权</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e676" headers="d809868e234 ">
                              <p><code class="codeph">CLIENT_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e676 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e676 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e676 d809868e243 ">
                              <p>每个Oracle会话中的客户端标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e692" headers="d809868e234 ">
                              <p><code class="codeph">ECONTEXT_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e692 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（64）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e692 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e692 d809868e243 ">
                              <p>应用执行上下文标识</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e707" headers="d809868e234 ">
                              <p><code class="codeph">SESSION_CPU</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e707 d809868e237 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e707 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e707 d809868e243 ">
                              <p>每个Oracle会话使用的CPU时间量</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e722" headers="d809868e234 ">
                              <p><code class="codeph">EXTENDED_TIMESTAMP</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e722 d809868e237 ">
                              <p><code class="codeph">TIMESTAMP（6）带时区</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e722 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e722 d809868e243 ">
                              <p>以UTC（协调世界时）时区创建审计跟踪条目的时间戳（由<code class="codeph">AUDIT SESSION</code>创建的条目的用户登录时间戳）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e740" headers="d809868e234 ">
                              <p><code class="codeph">PROXY_SESSIONID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e740 d809868e237 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e740 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e740 d809868e243 ">
                              <p>代理会话序列号，如果企业用户已通过代理机制登录</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e755" headers="d809868e234 ">
                              <p><code class="codeph">GLOBAL_UID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e755 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（32）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e755 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e755 d809868e243 ">
                              <p>用户的全局用户标识符（如果用户已以企业用户身份登录）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e770" headers="d809868e234 ">
                              <p><code class="codeph">INSTANCE_NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e770 d809868e237 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e770 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e770 d809868e243 ">
                              <p><code class="codeph">INSTANCE_NUMBER</code>初始化参数指定的实例编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e788" headers="d809868e234 ">
                              <p><code class="codeph">OS_PROCESS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e788 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（16）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e788 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e788 d809868e243 ">
                              <p>操作系统Oracle进程的进程标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e803" headers="d809868e234 ">
                              <p><code class="codeph">TRANSACTIONID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e803 d809868e237 ">
                              <p><code class="codeph">RAW（8）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e803 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e803 d809868e243 ">
                              <p>访问或修改对象的事务的事务标识符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e818" headers="d809868e234 ">
                              <p><code class="codeph">SCN</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e818 d809868e237 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e818 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e818 d809868e243 ">
                              <p>查询的系统更改编号（SCN）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e833" headers="d809868e234 ">
                              <p><code class="codeph">SQL_BIND</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e833 d809868e237 ">
                              <p><code class="codeph">NVARCHAR2（2000）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e833 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e833 d809868e243 ">
                              <p>绑定查询的可变数据</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e848" headers="d809868e234 ">
                              <p><code class="codeph">SQL_TEXT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e848 d809868e237 ">
                              <p><code class="codeph">NVARCHAR2（2000）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e848 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e848 d809868e243 ">
                              <p>查询的SQL文本</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d809868e864" headers="d809868e234 ">
                              <p><code class="codeph">OBJ_EDITION_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d809868e864 d809868e237 ">
                              <p><code class="codeph">VARCHAR2（128）</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d809868e864 d809868e240 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d809868e864 d809868e243 ">
                              <p>包含审计对象的版本的名称</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <div class="infoboxnote" id="GUID-181FEC64-A7D8-4FC3-8DBD-A2F812213848__GUID-AD765614-7527-4678-948B-D4D047AADD64">
                     <p class="notep1">注意：</p>
                     <p>仅当<code class="codeph">AUDIT_TRAIL</code>初始化参数设置为<code class="codeph">db</code> ， <code class="codeph">extended</code> ，才会填充<code class="codeph">SQL_BIND</code>和<code class="codeph">SQL_TEXT</code>列。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-181FEC64-A7D8-4FC3-8DBD-A2F812213848__GUID-28449B6A-38C2-4C74-A724-6DDF58CD1F34">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="AUDIT_TRAIL.html#GUID-BD86F593-B606-4367-9FB6-8DAB2E47E7FA" title="AUDIT_TRAIL启用或禁用数据库审计。">AUDIT_TRAIL</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="USER_AUDIT_STATEMENT.html#GUID-C6794037-77C7-468E-A4EB-9D003AF645A9" title="USER_AUDIT_STATEMENT显示当前用户发出的GRANT，REVOKE，AUDIT，NOAUDIT和ALTER SYSTEM语句的审计跟踪条目。">USER_AUDIT_STATEMENT</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="04753.getting-started-with-oci-for-windows.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="How to get started with OCI for Windows."></meta>
      <meta name="description" content="How to get started with OCI for Windows."></meta>
      <title>OCI for Windows入门</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="How to get started with OCI for Windows."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oci-function-server-round-trips.html" title="Previous" type="text/html"></link>
      <link rel="next" href="deprecated-oci-functions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oci-function-server-round-trips.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="deprecated-oci-functions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCI for Windows入门</li>
            </ol>
            <a id="GUID-AF5B9CF0-EA9A-4786-80AF-1FEF13363C88" name="GUID-AF5B9CF0-EA9A-4786-80AF-1FEF13363C88"></a><a id="LNOCI350"></a>
            
            <h2 id="LNOCI-GUID-AF5B9CF0-EA9A-4786-80AF-1FEF13363C88" class="sect2"><span class="enumeration_chapter">D</span> OCI for Windows入门</h2>
         </header>
         <div class="ind">
            <div>
               <p>如何开始使用OCI for Windows。</p>
               <p>本附录仅介绍适用于Windows 2003，Windows 2000和Windows XP操作系统的OCI功能。不再支持Windows NT。</p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="getting-started-with-oci-for-windows.html#GUID-F164142B-7EC4-401A-8899-B72951129B29" title="OCI for Windows软件包包括链接OCI程序所需的其他库。">Windows的OCI包中包含哪些内容？</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oci-for-windows.html#GUID-3C452EC3-71F9-46EB-BF67-CC749789B93F" title="OCI包含在默认的Oracle数据库安装中。">适用于Windows的Oracle目录结构</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oci-for-windows.html#GUID-C3D566D3-42EF-4714-AA55-5FDC7D030E1B" title="安装OCI时复制样本程序文件和相应的项目文件的位置。">适用于Windows的OCI程序示例</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oci-for-windows.html#GUID-03541A37-66B4-47EA-A6E5-1E7427FBED63" title="编译OCI应用程序时，必须包含相应的OCI头文件。">关于编译Windows的OCI应用程序</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oci-for-windows.html#GUID-86D08C43-CEF1-4B37-ADE7-8467651C82CA" title="OCI调用在Oracle提供的动态链接库（DLL）中实现。">关于链接OCI应用程序的Windows</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oci-for-windows.html#GUID-12517773-9169-4015-BF33-53E045ED82E1" title="修改Windows的OCI应用程序需要什么。">关于运行Windows的OCI应用程序</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oci-for-windows.html#GUID-2129561A-A16C-4ADE-8B73-DBFED7F883D7" title="如何使用Oracle XA库编译和链接OCI程序。该数据库支持使用XA动态注册。在命令提示符处添加环境变量仅影响当前会话。添加注册表变量会影响Windows系统上的所有会话。要为供应商提供的TP监视器添加注册表变量，请执行以下步骤。请参阅分布式TP：XA规范和其他特定的TP监视器和XA信息。">Oracle XA库</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oci-for-windows.html#GUID-0A924779-3CB5-421E-A02D-628022F92067" title="要利用对象，请对数据库运行对象类型转换程序（OTT）以生成包含C结构的头文件。">关于使用Windows的对象类型转换器</a></p>
                  </li>
               </ul>
            </div><a id="LNOCI18089"></a><div class="props_rev_3"><a id="GUID-F164142B-7EC4-401A-8899-B72951129B29" name="GUID-F164142B-7EC4-401A-8899-B72951129B29"></a><h3 id="LNOCI-GUID-F164142B-7EC4-401A-8899-B72951129B29" class="sect3"><span class="enumeration_section">D.1</span>适用于Windows的OCI包中包含哪些内容？
               </h3>
               <div>
                  <p>OCI for Windows软件包包括链接OCI程序所需的其他库。</p>
                  <p>Oracle Call Interface for Windows软件包包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Oracle调用接口（OCI）</p>
                     </li>
                     <li>
                        <p>必需的支持文件（RSF）</p>
                     </li>
                     <li>
                        <p>Oracle Universal Installer</p>
                     </li>
                     <li>
                        <p>用于编译OCI应用程序的头文件</p>
                     </li>
                     <li>
                        <p>用于链接OCI应用程序的库文件</p>
                     </li>
                     <li>
                        <p>用于演示如何构建OCI应用程序的示例程序</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-F164142B-7EC4-401A-8899-B72951129B29__GUID-5AE5532F-9A60-4F2D-B7FD-8463740227AC">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="instant-client.html#GUID-6895DB45-97AA-4738-9959-BD677D610186" title="Oracle Instant Client提供必要的Oracle数据库客户端文件，以创建和运行OCI，OCCI，ODBC和JDBC OCI应用程序。还提供有用的命令行实用程序，包括SQL * Plus，SQL * Loader和Oracle Data Pump。Oracle Instant Client消除了客户端计算机上对Oracle主目录的需求，从而简化了应用程序的部署。">关于Oracle Instant Client，</a>用于简化OCI安装选项</p>
                  </div>
               </div>
            </div><a id="LNOCI18091"></a><a id="LNOCI18090"></a><div class="props_rev_3"><a id="GUID-3C452EC3-71F9-46EB-BF67-CC749789B93F" name="GUID-3C452EC3-71F9-46EB-BF67-CC749789B93F"></a><h3 id="LNOCI-GUID-3C452EC3-71F9-46EB-BF67-CC749789B93F" class="sect3"><span class="enumeration_section">D.2</span> Windows的Oracle目录结构</h3>
               <div>
                  <p>OCI包含在默认的Oracle数据库安装中。</p>
                  <div class="section">
                     <p>安装Oracle数据库时，Oracle Universal Installer会在<span class="italic"><code class="codeph">ORACLE_BASE\ORACLE_HOME</code></span>目录下的<code class="codeph">oci</code> ， <code class="codeph">bin</code>和<code class="codeph">precomp</code>目录中创建OCI文件。这些文件包括链接和运行OCI应用程序所需的库文件，以及与其他Oracle for Microsoft Windows产品（如Oracle Forms）的链接。
                     </p>
                     <p><span class="italic"><code class="codeph">ORACLE_BASE\ORACLE_HOME</code></span>目录包含<a href="getting-started-with-oci-for-windows.html#GUID-3C452EC3-71F9-46EB-BF67-CC749789B93F__CACCBCBJ" title="该表有2列。第1列是目录名，第2列描述其内容。">表D-1</a>中描述的与OCI相关的以下目录。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-3C452EC3-71F9-46EB-BF67-CC749789B93F__CACCBCBJ">
                     <p class="titleintable">表D-1 ORACLE_HOME目录和内容</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="ORACLE_HOME目录和内容" width="100%" border="1" summary="This table has 2 columns. Column 1 is the directory name and column 2 describes its contents." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="38%" id="d382314e697">目录名称</th>
                              <th align="left" valign="bottom" width="62%" id="d382314e700">内容</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d382314e705" headers="d382314e697 ">
                                 <p><code class="codeph">\ BIN</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d382314e705 d382314e700 ">
                                 <p>可执行文件和帮助文件</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d382314e713" headers="d382314e697 ">
                                 <p><code class="codeph">\ OCI</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d382314e713 d382314e700 ">
                                 <p>用于Windows文件的Oracle Call Interface目录</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d382314e721" headers="d382314e697 ">
                                 <p><code class="codeph">\ OCI \包括</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d382314e721 d382314e700 ">
                                 <p>头文件，例如<code class="codeph">oci.h</code>和<code class="codeph">ociap.h</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d382314e734" headers="d382314e697 ">
                                 <p><code class="codeph">\ OCI \样本</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d382314e734 d382314e700 ">
                                 <p>示例程序</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d382314e742" headers="d382314e697 ">
                                 <p><code class="codeph">\预补偿\ ADMIN \ ottcfg.cfg</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d382314e742 d382314e700 ">
                                 <p>对象类型转换器实用程序和默认配置文件</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNOCI18092"></a><div class="props_rev_3"><a id="GUID-C3D566D3-42EF-4714-AA55-5FDC7D030E1B" name="GUID-C3D566D3-42EF-4714-AA55-5FDC7D030E1B"></a><h3 id="LNOCI-GUID-C3D566D3-42EF-4714-AA55-5FDC7D030E1B" class="sect3"><span class="enumeration_section">D.3</span> Windows的OCI程序示例</h3>
               <div>
                  <p>安装OCI时复制样本程序文件和相应的项目文件的位置。</p>
                  <p>安装OCI时，会将一组示例程序及其相应的项目文件复制到<span class="italic"><code class="codeph">ORACLE_BASE\ORACLE_HOME</code></span> <code class="codeph">\oci\samples</code>子目录中。Oracle建议您构建并运行这些示例程序，以验证是否已成功安装OCI，并熟悉开发OCI应用程序所涉及的步骤。
                  </p>
                  <p>要构建示例，请在命令提示符处运行批处理文件<code class="codeph">(make.bat)</code> 。例如，要构建<code class="codeph">cdemo1.c</code>示例，请在目录<code class="codeph">samples</code>输入以下命令：</p><pre class="oac_no_warn" dir="ltr">C：&gt;制作cdemo1</pre><p>使用完这些示例程序后，可以选择删除它们。</p>
                  <p>应使用<code class="codeph">ociucb.bat</code>编译<code class="codeph">ociucb.c</code>程序。此批处理文件创建DLL并将其放在<span class="italic"><code class="codeph">ORACLE_BASE\ORACLE_HOME</code></span> <code class="codeph">\bin</code>目录中。要加载用户回调函数，请将环境注册表变量<code class="codeph">ORA_OCI_UCBPKG</code>为<code class="codeph">OCIUCB</code> 。</p>
               </div>
            </div><a id="LNOCI18093"></a><div class="props_rev_3"><a id="GUID-03541A37-66B4-47EA-A6E5-1E7427FBED63" name="GUID-03541A37-66B4-47EA-A6E5-1E7427FBED63"></a><h3 id="LNOCI-GUID-03541A37-66B4-47EA-A6E5-1E7427FBED63" class="sect3"><span class="enumeration_section">D.4</span>关于编译Windows的OCI应用程序</h3>
               <div>
                  <p>编译OCI应用程序时，必须包含相应的OCI头文件。</p>
                  <p>头文件位于<span class="italic"><code class="codeph">\ORACLE_BASE\ORACLE_HOME</code></span> <code class="codeph">\oci\include</code>目录中。
                  </p>
                  <p>对于Microsoft Visual C ++，请在“选项”对话框的“库”部分中指定<span class="italic"><code class="codeph">\ORACLE_BASE\ORACLE_HOME\oci\lib\msvc</code></span> 。对于Borland编译器，请指定<span class="italic"><code class="codeph">\ORACLE_BASE\ORACLE_HOME\oci\lib\bc</code></span> 。
                  </p>
                  <p>例如，如果您使用的是Microsoft Visual C ++ 8.0，则必须在“工具”菜单的“选项”对话框的“目录”页面中放入相应的路径<code class="codeph">\oracle\db_1\oci\include</code> 。
                  </p>
                  <div class="infoboxnote" id="GUID-03541A37-66B4-47EA-A6E5-1E7427FBED63__GUID-5F2D08C8-AF49-4F67-B71E-6E6E976BEFD9">
                     <p class="notep1">注意：</p>
                     <p>当前OCI版本支持的唯一Microsoft Visual C ++版本是7.1或更高版本。</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-03541A37-66B4-47EA-A6E5-1E7427FBED63__GUID-C71A57B4-D12A-40DE-8E93-B80EA2D9C506">
                     <p class="notep1">也可以看看：</p>
                     <p>编译器的文档，提供有关编译应用程序和特殊编译器选项的特定信息</p>
                  </div>
               </div>
            </div><a id="LNOCI18094"></a><div class="props_rev_3"><a id="GUID-86D08C43-CEF1-4B37-ADE7-8467651C82CA" name="GUID-86D08C43-CEF1-4B37-ADE7-8467651C82CA"></a><h3 id="LNOCI-GUID-86D08C43-CEF1-4B37-ADE7-8467651C82CA" class="sect3"><span class="enumeration_section">D.5</span>关于链接OCI应用程序的Windows</h3>
               <div>
                  <p>OCI调用在Oracle提供的动态链接库（DLL）中实现。</p>
                  <p>这些DLL位于<span class="italic"><code class="codeph">ORACLE_BASE\ORACLE_HOME</code></span> <code class="codeph">\bin</code>目录中，是必需支持文件（RSF）的一部分。
                  </p>
                  <p>Oracle仅提供<code class="codeph">oci.lib</code>导入库以与Microsoft编译器一起使用。Oracle还支持Borland编译器与OCI一起使用。 Oracle建议应用程序必须始终与<code class="codeph">oci.lib</code>链接，以避免每次发布时重新链接或编译。
                  </p>
                  <p>在Microsoft编译器中使用<code class="codeph">oci.lib</code>时，您不必指示任何特殊链接选项。
                  </p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="getting-started-with-oci-for-windows.html#GUID-DCA9FAD0-0C02-4613-8ABF-80A438AE8F59" title="为什么需要与oci.lib链接的应用程序。">oci.lib</a></p>
                        </li>
                        <li>
                           <p><a href="getting-started-with-oci-for-windows.html#GUID-30B4694A-586E-497A-A2A7-13FBFF4CCDBB" title="使用LoadLibrary时如何搜索目录。">使用Load Library时加载客户端DLL（）</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI18095"></a><div class="props_rev_3"><a id="GUID-DCA9FAD0-0C02-4613-8ABF-80A438AE8F59" name="GUID-DCA9FAD0-0C02-4613-8ABF-80A438AE8F59"></a><h4 id="LNOCI-GUID-DCA9FAD0-0C02-4613-8ABF-80A438AE8F59" class="sect4"><span class="enumeration_section">D.5.1</span> oci.lib</h4>
                  <div>
                     <p>为什么需要与oci.lib链接的应用程序。</p>
                     <p>Oracle建议将应用程序与<code class="codeph">oci.lib</code>链接，后者负责加载正确版本的Oracle DLL。
                     </p>
                  </div>
               </div><a id="LNOCI18096"></a><div class="props_rev_3"><a id="GUID-30B4694A-586E-497A-A2A7-13FBFF4CCDBB" name="GUID-30B4694A-586E-497A-A2A7-13FBFF4CCDBB"></a><h4 id="LNOCI-GUID-30B4694A-586E-497A-A2A7-13FBFF4CCDBB" class="sect4"><span class="enumeration_section">D.5.2</span>使用Load Library时加载客户端DLL（）</h4>
                  <div>
                     <p>使用LoadLibrary时如何搜索目录。</p>
                     <p>对于客户端DLL加载， <code class="codeph">LoadLibrary()</code>函数按此顺序搜索以下目录：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>加载应用程序的目录或<code class="codeph">oci.dll</code>所在的目录</p>
                        </li>
                        <li>
                           <p>当前目录</p>
                        </li>
                        <li>
                           <p>视窗：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>32位Windows系统目录<code class="codeph">(system32)</code> 。使用Windows API的<code class="codeph">GetWindowsDirectory()</code>函数获取此目录的路径。
                                 </p>
                              </li>
                              <li>
                                 <p>16位Windows目录<code class="codeph">(system)</code> 。没有Win32函数可以获取此目录的路径，但会搜索它。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">PATH</code>环境变量中列出的目录</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNOCI18097"></a><div class="props_rev_3"><a id="GUID-12517773-9169-4015-BF33-53E045ED82E1" name="GUID-12517773-9169-4015-BF33-53E045ED82E1"></a><h3 id="LNOCI-GUID-12517773-9169-4015-BF33-53E045ED82E1" class="sect3"><span class="enumeration_section">D.6</span>关于运行Windows的OCI应用程序</h3>
               <div>
                  <p>修改Windows的OCI应用程序需要什么。</p>
                  <p>要运行OCI应用程序，请确保在运行OCI应用程序的计算机上安装了相应的一组必需支持文件（RSF）。</p>
               </div>
            </div><a id="LNOCI18099"></a><a id="LNOCI18098"></a><div class="props_rev_3"><a id="GUID-2129561A-A16C-4ADE-8B73-DBFED7F883D7" name="GUID-2129561A-A16C-4ADE-8B73-DBFED7F883D7"></a><h3 id="LNOCI-GUID-2129561A-A16C-4ADE-8B73-DBFED7F883D7" class="sect3"><span class="enumeration_section">D.7</span> Oracle XA库</h3>
               <div>
                  <p>XA应用程序编程接口（API）通常用于使Oracle数据库与事务处理（TP）监视器交互，例如：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Oracle Tuxedo</p>
                     </li>
                     <li>
                        <p>IBM Transarc Encina</p>
                     </li>
                     <li>
                        <p>IBM CICS</p>
                     </li>
                  </ul>
                  <p>您还可以在客户端程序中使用TP监视器语句。OCI支持使用XA API。</p>
                  <p>Oracle XA库作为Oracle数据库企业版的一部分自动安装。<a href="getting-started-with-oci-for-windows.html#GUID-2129561A-A16C-4ADE-8B73-DBFED7F883D7__G638606" title="该表有2列。第1列是组件名称，第2列描述其目录位置。">表D-2</a>列出了Oracle主目录中创建的组件。<code class="codeph">oci.lib</code>导入库包含XA导出。
                  </p>
                  <div class="tblformal" id="GUID-2129561A-A16C-4ADE-8B73-DBFED7F883D7__G638606">
                     <p class="titleintable">表D-2 Oracle XA组件</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle XA组件" width="100%" border="1" summary="This table has 2 columns. Column 1 is the component name and column 2 describes its directory location." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d382314e2334">零件</th>
                              <th align="left" valign="bottom" width="69%" id="d382314e2337">地点</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d382314e2342" headers="d382314e2334 ">
                                 <p><code class="codeph">xa.h</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d382314e2342 d382314e2337 ">
                                 <p><span class="italic"><code class="codeph">ORACLE_BASE\ORACLE_HOME</code></span> <code class="codeph">\oci\include</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="getting-started-with-oci-for-windows.html#GUID-405A09FB-4462-427A-9668-F109A16183F2" title="如何使用Oracle XA库编译和链接OCI程序。">关于编译和链接OCI程序与Oracle XA库</a></p>
                        </li>
                        <li>
                           <p><a href="getting-started-with-oci-for-windows.html#GUID-1DCFA8A1-8914-4E39-927D-B94C7B3D2B66" title="该数据库支持使用XA动态注册。">关于使用XA动态注册</a></p>
                        </li>
                        <li>
                           <p><a href="getting-started-with-oci-for-windows.html#GUID-263CE42C-7EEE-47E1-8A98-D594FA777CC3" title="请参阅分布式TP：XA规范和其他特定的TP监视器和XA信息。">XA和TP监视器信息</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI18101"></a><a id="LNOCI18100"></a><div class="props_rev_3"><a id="GUID-405A09FB-4462-427A-9668-F109A16183F2" name="GUID-405A09FB-4462-427A-9668-F109A16183F2"></a><h4 id="LNOCI-GUID-405A09FB-4462-427A-9668-F109A16183F2" class="sect4"><span class="enumeration_section">D.7.1</span>关于编译和链接OCI程序与Oracle XA库</h4>
                  <div>
                     <p>如何使用Oracle XA库编译和链接OCI程序。</p>
                     <p>要使用Oracle XA库编译和链接OCI程序：</p>
                     <ol>
                        <li>
                           <p>使用Microsoft Visual C ++或Borland编译器编译<span class="italic"><code class="codeph">program</code></span> <code class="codeph">.c</code> ，确保包含<span class="italic"> </span>您路径中的<span class="italic"><code class="codeph">ORACLE_BASE\ORACLE_HOME</code></span> <code class="codeph">\rdbms\xa</code> 。
                           </p>
                        </li>
                        <li>
                           <p>链接<span class="italic"><code class="codeph">program</code></span> <code class="codeph">.obj</code>与<a href="getting-started-with-oci-for-windows.html#GUID-405A09FB-4462-427A-9668-F109A16183F2__G638765" title="该表有2列。第1列是库名，第2列描述其目录位置。">表D-3中</a>显示的库：</p>
                           <div class="tblformal" id="GUID-405A09FB-4462-427A-9668-F109A16183F2__G638765">
                              <p class="titleintable">表D-3链接库</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="链接库" width="90%" border="1" summary="This table has 2 columns. Column 1 is the library name and column 2 describes its directory location." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="26%" id="d382314e2632">图书馆</th>
                                       <th align="left" valign="bottom" width="74%" id="d382314e2635">地点</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="26%" id="d382314e2640" headers="d382314e2632 ">
                                          <p><code class="codeph">oraxa12.lib</code></p>
                                       </td>
                                       <td align="left" valign="top" width="74%" headers="d382314e2640 d382314e2635 ">
                                          <p><span class="italic"><code class="codeph">ORACLE_BASE\ORACLE_HOME</code></span> <code class="codeph">\rdbms\xa</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="26%" id="d382314e2652" headers="d382314e2632 ">
                                          <p><code class="codeph">oci.lib</code></p>
                                       </td>
                                       <td align="left" valign="top" width="74%" headers="d382314e2652 d382314e2635 ">
                                          <p><span class="italic"><code class="codeph">ORACLE_BASE\ORACLE_HOME</code></span> <code class="codeph">\oci\lib\msvc</code>或，</p>
                                          <p><span class="italic"><code class="codeph">ORACLE_BASE\ORACLE_HOME</code></span> <code class="codeph">\oci\lib\bc</code></p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </li>
                        <li>
                           <p>运行<span class="italic"><code class="codeph">program</code></span> <code class="codeph">.exe</code> 。
                           </p>
                        </li>
                     </ol>
                  </div>
               </div><a id="LNOCI18102"></a><div class="props_rev_3"><a id="GUID-1DCFA8A1-8914-4E39-927D-B94C7B3D2B66" name="GUID-1DCFA8A1-8914-4E39-927D-B94C7B3D2B66"></a><h4 id="LNOCI-GUID-1DCFA8A1-8914-4E39-927D-B94C7B3D2B66" class="sect4"><span class="enumeration_section">D.7.2</span>关于使用XA动态注册</h4>
                  <div>
                     <p>该数据库支持使用XA动态注册。</p>
                     <p>XA动态注册可提高与符合XA标准的TP监视器交互的应用程序的性能。要使TP监视器在Windows上与Oracle数据库一起使用XA动态注册，必须将环境变量或注册表变量添加到运行TP监视器的Windows系统。有关说明，请参阅以下任一部分：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="getting-started-with-oci-for-windows.html#GUID-B04319F8-42AA-48E1-B278-9613B4C1B1C0" title="在命令提示符处添加环境变量仅影响当前会话。">为当前会话添加环境变量</a></p>
                        </li>
                        <li>
                           <p><a href="getting-started-with-oci-for-windows.html#GUID-BD88BD8D-EB33-49D5-A200-1D4CB832F843" title="添加注册表变量会影响Windows系统上的所有会话。">关于为所有会话添加注册表变量</a></p>
                        </li>
                        <li>
                           <p><a href="getting-started-with-oci-for-windows.html#GUID-CA646563-041A-4CDC-99F8-D271F9D1D354" title="要为供应商提供的TP监视器添加注册表变量，请执行以下步骤。">添加注册表变量：</a></p>
                        </li>
                     </ul>
                  </div><a id="LNOCI18104"></a><a id="LNOCI18103"></a><div class="props_rev_2"><a id="GUID-B04319F8-42AA-48E1-B278-9613B4C1B1C0" name="GUID-B04319F8-42AA-48E1-B278-9613B4C1B1C0"></a><h5 id="LNOCI-GUID-B04319F8-42AA-48E1-B278-9613B4C1B1C0" class="sect5"><span class="enumeration_section">D.7.2.1</span>为当前会话添加环境变量</h5>
                     <div>
                        <p>在命令提示符处添加环境变量仅影响当前会话。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-B04319F8-42AA-48E1-B278-9613B4C1B1C0__GUID-2C8A7BDB-A72F-465D-9787-AE32BC29C61E">添加环境变量：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>从安装了TP监视器的计算机上，在命令提示符处输入以下内容：</p><pre class="oac_no_warn" dir="ltr">C：\&gt;设置ORA_XA_REG_DLL = <span class="italic">vendor</span> .dll</pre><p>在此示例中， <span class="italic"><code class="codeph">vendor</code></span> <code class="codeph">.dll</code>是<span class="italic"><code class="codeph">vendor</code></span>提供的TP监视器DLL。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI18105"></a><div class="props_rev_3"><a id="GUID-BD88BD8D-EB33-49D5-A200-1D4CB832F843" name="GUID-BD88BD8D-EB33-49D5-A200-1D4CB832F843"></a><h5 id="LNOCI-GUID-BD88BD8D-EB33-49D5-A200-1D4CB832F843" class="sect5"><span class="enumeration_section">D.7.2.2</span>关于为所有会话添加注册表变量</h5>
                     <div>
                        <p>添加注册表变量会影响Windows系统上的所有会话。</p>
                        <p>这对于只运行一个TP监视器的计算机很有用。</p>
                     </div>
                  </div><a id="LNOCI18106"></a><div class="props_rev_3"><a id="GUID-CA646563-041A-4CDC-99F8-D271F9D1D354" name="GUID-CA646563-041A-4CDC-99F8-D271F9D1D354"></a><h5 id="LNOCI-GUID-CA646563-041A-4CDC-99F8-D271F9D1D354" class="sect5"><span class="enumeration_section">D.7.2.3</span>添加注册表变量：</h5>
                     <div>
                        <p>要为供应商提供的TP监视器添加注册表变量，请执行以下步骤。</p>
                        <ol>
                           <li class="stepexpand"><span>转到安装TP监视器的计算机。</span></li>
                           <li class="stepexpand"><span>在命令提示符处输入以下内容：</span><div><pre class="oac_no_warn" dir="ltr">C：\&gt; <a id="d382314e3486" class="indexterm-anchor"></a> REGEDT32</pre><p>出现“注册表编辑器”窗口</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>转到<code class="codeph">HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE\HOME</code> <span class="italic"><code class="codeph">ID</code></span> 。</span></li>
                           <li class="stepexpand"><span>在“ <span class="bold">编辑”</span>菜单中选择“ <span class="bold">添加值</span> ”。将出现“添加值”对话框。</span></li>
                           <li class="stepexpand"><span>在“ <span class="bold">值名称”</span>文本框中输入<code class="codeph">ORA_XA_REG_DLL</code> 。</span></li>
                           <li class="stepexpand"><span>从<span class="bold">数据类型</span>列表中选择<code class="codeph">REG_EXPAND_SZ</code> 。</span></li>
                           <li class="stepexpand"><span>单击<span class="bold">确定</span> 。出现“ <span>字符串编辑器”</span>对话框。</span></li>
                           <li class="stepexpand"><span>在<span class="bold">String</span>字段中输入<span class="italic"><code class="codeph">vendor</code></span> <code class="codeph">.dll</code> ，其中<span class="italic"><code class="codeph">vendor</code></span> <code class="codeph">.dll</code>是<span class="italic"><code class="codeph">vendor</code></span>提供的TP监视器DLL。</span></li>
                           <li class="stepexpand"><span>单击<span class="bold">确定</span> 。注册表编辑器添加参数。</span></li>
                           <li class="stepexpand"><span>从<span class="bold">注册表</span>菜单中选择<span class="bold">退出</span> 。</span><div>
                                 <p>注册表退出。</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div>
               </div><a id="LNOCI18107"></a><div class="props_rev_3"><a id="GUID-263CE42C-7EEE-47E1-8A98-D594FA777CC3" name="GUID-263CE42C-7EEE-47E1-8A98-D594FA777CC3"></a><h4 id="LNOCI-GUID-263CE42C-7EEE-47E1-8A98-D594FA777CC3" class="sect4"><span class="enumeration_section">D.7.3</span> XA和TP监视器信息</h4>
                  <div>
                     <p>请参阅<span class="italic">分布式TP：XA规范</span>和其他特定的TP监视器和XA信息。
                     </p>
                     <p><span class="italic">分布式TP：</span> Open Group在网站上发布<span class="italic">的XA规范</span> （C193）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=xa_specification" target="_blank">分布式TP：XA规范</a></p>
                     <div class="infoboxnotealso" id="GUID-263CE42C-7EEE-47E1-8A98-D594FA777CC3__GUID-42AF5251-E00E-4071-9CCC-48FDFD8E11CD">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../adfns/xa.html#ADFNS017" target="_blank"><span><cite>Oracle数据库开发指南</cite></span></a> ，关于使用Oracle XA开发应用程序的主题，有关Oracle XA库和使用XA动态注册的更多信息</p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=tuxedo_overview" target="_blank">Oracle Tuxedo</a>获取更多信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI18108"></a><div class="props_rev_3"><a id="GUID-0A924779-3CB5-421E-A02D-628022F92067" name="GUID-0A924779-3CB5-421E-A02D-628022F92067"></a><h3 id="LNOCI-GUID-0A924779-3CB5-421E-A02D-628022F92067" class="sect3"><span class="enumeration_section">D.8</span>关于使用Windows的对象类型转换器</h3>
               <div>
                  <p>要利用对象，请对数据库运行对象类型转换程序（OTT）以生成包含C结构的头文件。</p>
                  <p>例如，如果已在数据库中创建<code class="codeph">PERSON</code>类型，则OTT可以生成包含与<code class="codeph">PERSON</code>属性对应的元素的C结构。此外，还会创建一个null指示符结构，表示C结构实例的空信息。
                  </p>
                  <p>intype文件告诉OTT应该翻译哪些对象类型。此文件还控制生成的结构的命名。</p>
                  <div class="infoboxnote" id="GUID-0A924779-3CB5-421E-A02D-628022F92067__GUID-2539EF33-6FFE-4727-A993-340DB62999C1">
                     <p class="notep1">注意：</p>
                     <p>从Oracle Database <span class="italic">10g</span>第1版开始，INTYPE File Assistant不可用。
                     </p>
                  </div>
                  <p>请注意，intype文件中的<code class="codeph">CASE</code>规范（例如<code class="codeph">CASE=LOWER</code> ）仅适用于未通过intype文件中的<code class="codeph">TYPE</code>或<code class="codeph">TRANSLATE</code>语句明确列出的C标识符。在intype文件中为类型名称提供适当的案例非常重要，例如TYPE <code class="codeph">Person</code>和Type <code class="codeph">PeRsOn</code> 。
                  </p>
                  <p>可以从命令行调用Windows上的OTT。也可以在命令行上命名配置文件。对于Windows，配置文件是<code class="codeph">ottcfg.cfg,</code>位于<span class="italic"><code class="codeph">ORACLE_BASE\ORACLE_HOME</code></span> <code class="codeph">\precomp\admin</code> 。
                  </p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="13302.administering-oracle-database-on-linux.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>在Linux上管理Oracle数据库</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator&#39;s Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator&#39;s Reference for Linux and UNIX System-Based Operating Systems"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="administrators-reference-linux-and-unix-system-based-operating-systems.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T05:04:28-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96356-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="tuning-oracle-database.html" title="Previous" type="text/html"></link>
      <link rel="next" href="administering-oracle-database-on-oracle-solaris.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Administrator&#39;s Reference for Linux and UNIX System-Based Operating Systems"></meta>
    <meta name="dcterms.isVersionOf" content="UNXAR"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="tuning-oracle-database.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="administering-oracle-database-on-oracle-solaris.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库管理员参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">在Linux上管理Oracle数据库</li>
            </ol>
            <a id="GUID-340D998F-832C-4797-9C3B-5B55534DBA2B" name="GUID-340D998F-832C-4797-9C3B-5B55534DBA2B"></a><a id="UNXAR011"></a>
            
            <h2 id="UNXAR-GUID-340D998F-832C-4797-9C3B-5B55534DBA2B" class="sect2">在Linux <span class="enumeration_chapter">上</span>管理Oracle数据库</h2>
         </header>
         <div class="ind">
            <div>
               <p>本附录包含有关在Linux上管理Oracle数据库的信息。</p>
               <p>它包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="administering-oracle-database-on-linux.html#GUID-DD84F46F-4EBD-4D4C-A2C3-22EF994699CF">支持异步输入输出</a></p>
                  </li>
                  <li>
                     <p><a href="administering-oracle-database-on-linux.html#GUID-A46C0E76-770E-4C0B-B522-B004C756D0F1">异步输入输出支持</a></p>
                  </li>
                  <li>
                     <p><a href="administering-oracle-database-on-linux.html#GUID-D64FDD08-56F3-46C5-8845-66D5BB62E694">启用直接输入输出支持</a></p>
                  </li>
                  <li>
                     <p><a href="administering-oracle-database-on-linux.html#GUID-3A268E58-0D3F-4C82-B8DA-99298292327A">启用同时多线程</a></p>
                  </li>
                  <li>
                     <p><a href="administering-oracle-database-on-linux.html#GUID-5FBCEDFE-6548-44B5-9A96-9F89D7FEC5AF">分配共享资源</a></p>
                  </li>
                  <li>
                     <p><a href="administering-oracle-database-on-linux.html#GUID-00ABFA51-266B-422A-A730-A30FF37AAF09" title="Cgroup或控制组通过将一组专用CPU与数据库实例相关联来提高数据库性能。每个数据库实例只能使用其cgroup中的资源。">关于在Linux系统上创建cgroup</a></p>
                  </li>
                  <li>
                     <p><a href="administering-oracle-database-on-linux.html#GUID-CC72CEDC-58AA-4065-AC7D-FD4735E14416" title="如果您的操作系统启用了HugePages，请查看此信息。Oracle建议您在开始安装之前禁用Transparent HugePages。">HugePages概述</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-340D998F-832C-4797-9C3B-5B55534DBA2B__GUID-DE0BDEB5-CFA8-4B5C-80AB-112C5A590120">
                  <p class="notep1">注意：</p>
                  <p>从Oracle Database <span class="italic">11g</span>第2版（11.2），Linux x86-64和IBM：Linux on System z介质开始，不包含Linux x86二进制文件。
                  </p>
               </div>
            </div><a id="UNXAR334"></a><div class="props_rev_3"><a id="GUID-DD84F46F-4EBD-4D4C-A2C3-22EF994699CF" name="GUID-DD84F46F-4EBD-4D4C-A2C3-22EF994699CF"></a><h3 id="UNXAR-GUID-DD84F46F-4EBD-4D4C-A2C3-22EF994699CF" class="sect3"><span class="enumeration_section">A.1</span>支持异步输入输出</h3>
               <div>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-DD84F46F-4EBD-4D4C-A2C3-22EF994699CF__GUID-3062A27B-1DAE-4BAD-9E6C-8A9F84448F48">
                        <p class="notep1">注意：</p>
                        <p>在Linux上，默认情况下，自动存储管理使用异步输入输出。存储在网络文件系统上的数据库文件不支持异步输入输出。</p>
                     </div>
                     <p>Oracle数据库支持内核异步输入输出。默认情况下，在原始卷上启用异步输入输出。默认情况下，自动存储管理使用异步输入输出。</p>
                     <p>默认情况下，参数文件中的<code class="codeph">DISK_ASYNCH_IO</code>初始化参数设置为TRUE。要在文件系统文件上启用异步输入输出：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>确保所有Oracle数据库文件都位于支持异步输入输出的文件系统上。</span></li>
                     <li class="stepexpand"><span>将参数文件中的<code class="codeph">FILESYSTEMIO_OPTIONS</code>初始化参数设置为<code class="codeph">ASYNCH</code>或<code class="codeph">SETALL</code> 。</span><div>
                           <div class="infoboxnote" id="GUID-DD84F46F-4EBD-4D4C-A2C3-22EF994699CF__GUID-252BBFA6-0E23-4D72-B293-278678BE1A01">
                              <p class="notep1">注意：</p>
                              <p>如果通过ODM库接口或Direct NFS客户端管理文件系统文件，则默认情况下启用异步输入输出。无需在这些环境中设置<code class="codeph">FILESYSTEMIO_OPTIONS</code>以启用异步输入输出。
                              </p>
                           </div>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="UNXAR335"></a><div class="props_rev_3"><a id="GUID-A46C0E76-770E-4C0B-B522-B004C756D0F1" name="GUID-A46C0E76-770E-4C0B-B522-B004C756D0F1"></a><h3 id="UNXAR-GUID-A46C0E76-770E-4C0B-B522-B004C756D0F1" class="sect3"><span class="enumeration_section">A.2</span>异步输入输出支持</h3>
               <div>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-A46C0E76-770E-4C0B-B522-B004C756D0F1__GUID-CA85F418-7CDF-45FB-ADA0-6C48401A86BB">
                        <p class="notep1">注意：</p>
                        <p>在Linux上，默认情况下，自动存储管理使用异步输入输出。存储在网络文件系统上的数据库文件不支持异步输入输出。</p>
                     </div>
                     <p>Oracle数据库支持内核异步输入输出。默认情况下禁用此功能。</p>
                     <p>默认情况下，参数文件中的<code class="codeph">DISK_ASYNCH_IO</code>初始化参数设置为TRUE <span>以在原始设备上启用异步I / O.</span>要在文件系统文件上启用异步输入输出：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>确保所有Oracle数据库文件都位于支持异步输入输出的文件系统上。</span></li>
                     <li><span>将参数文件中的<code class="codeph">FILESYSTEMIO_OPTIONS</code>初始化参数设置为<code class="codeph">ASYNCH</code>以启用异步输入输出。如果要同时启用异步输入输出和直接输入输出，请将参数文件中的<code class="codeph">FILESYSTEMIO_OPTIONS</code>初始化参数设置为<code class="codeph">SETALL.</code> </span></li>
                  </ol>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
            </div><a id="UNXAR336"></a><div class="props_rev_3"><a id="GUID-D64FDD08-56F3-46C5-8845-66D5BB62E694" name="GUID-D64FDD08-56F3-46C5-8845-66D5BB62E694"></a><h3 id="UNXAR-GUID-D64FDD08-56F3-46C5-8845-66D5BB62E694" class="sect3"><span class="enumeration_section">A.3</span>启用直接输入输出支持</h3>
               <div>
                  <div class="section">
                     <p>Linux上提供并支持直接输入输出支持。</p>
                     <p>要启用直接输入输出支持：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将<code class="codeph">FILESYSTEMIO_OPTIONS</code>初始化参数设置为<code class="codeph">DIRECTIO</code> 。</p>
                        </li>
                        <li>
                           <p>将参数文件中的<code class="codeph">FILESYSTEMIO_OPTIONS</code>初始化参数设置为<code class="codeph">SETALL</code> ，这将启用异步输入输出和直接输入输出。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="UNXAR339"></a><div class="props_rev_3"><a id="GUID-3A268E58-0D3F-4C82-B8DA-99298292327A" name="GUID-3A268E58-0D3F-4C82-B8DA-99298292327A"></a><h3 id="UNXAR-GUID-3A268E58-0D3F-4C82-B8DA-99298292327A" class="sect3"><span class="enumeration_section">A.4</span>启用同时多线程</h3>
               <div>
                  <p>如果启用了Simultaneous Multithreading，则<code class="codeph">v$osstat</code>视图将报告对应于联机逻辑（ <code class="codeph">NUM_LCPUS</code> ）和虚拟CPU（ <code class="codeph">NUM_VCPUS</code> ）的另外两行。
                  </p>
               </div>
            </div><a id="UNXAR340"></a><div class="props_rev_3"><a id="GUID-5FBCEDFE-6548-44B5-9A96-9F89D7FEC5AF" name="GUID-5FBCEDFE-6548-44B5-9A96-9F89D7FEC5AF"></a><h3 id="UNXAR-GUID-5FBCEDFE-6548-44B5-9A96-9F89D7FEC5AF" class="sect3"><span class="enumeration_section">A.5</span>分配共享资源</h3>
               <div>
                  <div class="section">
                     <p>要使用<code class="codeph">MEMORY_TARGET</code>或<code class="codeph">MEMORY_MAX_TARGET</code>功能，下面的内核参数必须进行修改。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">/dev/shm</code>安装点在尺寸上应等于或大于的值大<code class="codeph">SGA_MAX_SIZE</code> ，如果设置，或应该被设置为至少<code class="codeph">MEMORY_TARGET</code>或<code class="codeph">MEMORY_MAX_TARGET</code> ，任一较大。例如，仅设置<code class="codeph">MEMORY_MAX_TARGET=4GB</code> ，在<code class="codeph">/dev/shm</code>挂载点上创建一个4 GB的系统：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>以<code class="codeph">root</code>用户身份运行以下命令：</p><pre class="oac_no_warn" dir="ltr">#mount -t tmpfs shmfs -o size = 4g / dev / shm</pre></li>
                              <li>
                                 <p>确保在系统重新启动时装入内存中文件系统，在<code class="codeph">/etc/fstab</code>文件中添加类似于以下内容的条目：</p><pre class="oac_no_warn" dir="ltr">tmpfs / dev / shm tmpfs size = 4g 0</pre></li>
                           </ul>
                        </li>
                        <li>
                           <p>每个Oracle实例的文件描述符数量增加了512 * <code class="codeph">PROCESSES</code> 。因此，文件描述符的最大数量应至少为此值，再加上操作系统要求的更多值。例如，如果<code class="codeph">cat /proc/sys/fs/file-max</code>命令返回<span>32768</span> <code class="codeph">PROCESSES</code>是100，你可以将其设置为6815744或更高的<code class="codeph">root</code> ，有51200可用于Oracle。使用以下选项之一设置<code class="codeph">file-max</code>描述符的值。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>运行以下命令：</p><pre class="oac_no_warn" dir="ltr">echo 6815744&gt; / proc / sys / fs / file-max</pre><p>要么</p>
                              </li>
                              <li>
                                 <p>修改<code class="codeph">/etc/sysctl.conf</code>文件中的以下条目，并以<code class="codeph">root</code>身份重新启动系统。
                                 </p><pre class="oac_no_warn" dir="ltr">fs.file-max = 6815744</pre></li>
                           </ul>
                        </li>
                        <li>
                           <p>每进程文件描述符数必须至少为512。例如，以<code class="codeph">root</code>身份运行以下命令。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在bash和sh：</p><pre class="oac_no_warn" dir="ltr">#ulimit -n</pre></li>
                              <li>
                                 <p>在csh上：</p><pre class="oac_no_warn" dir="ltr">#limit descriptors</pre></li>
                           </ul>
                           <p>如果上述命令返回200，则运行以下命令以设置每处理器文件描述符限制的值，例如设置为1000：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在bash和sh：</p><pre class="oac_no_warn" dir="ltr">#sudo sh＃ulimit -n 1000</pre></li>
                              <li>
                                 <p>在csh上：</p><pre class="oac_no_warn" dir="ltr">#sudo sh #limit descriptors 1000</pre></li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">MEMORY_TARGET</code>和<code class="codeph">MEMORY_MAX_TARGET</code>时不能使用<code class="codeph">LOCK_SGA</code>启用。<code class="codeph">MEMORY_TARGET</code>和<code class="codeph">MEMORY_MAX_TARGET</code>也不能在Linux上庞大的页面中使用。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-00ABFA51-266B-422A-A730-A30FF37AAF09" name="GUID-00ABFA51-266B-422A-A730-A30FF37AAF09"></a><h3 id="UNXAR-GUID-00ABFA51-266B-422A-A730-A30FF37AAF09" class="sect3"><span class="enumeration_section">A.6</span>关于在Linux系统上创建Cgroup</h3>
               <div>
                  <p>Cgroup或控制组通过将一组专用CPU与数据库实例相关联来提高数据库性能。每个数据库实例只能使用其cgroup中的资源。</p>
                  <p>在大型服务器上进行整合时，您可能希望将数据库限制为CPU和内存的特定子集。此功能可以轻松为Oracle数据库实例启用CPU和内存限制。</p>
                  <p>使用<code class="codeph">setup_processor_group.sh</code>脚本创建cgroup。从My Oracle Support网站上的注释1585184.1下载此脚本：</p>
                  <p><a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1585184.1" target="_blank">https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1585184.1</a></p>
               </div>
            </div><a id="UNXAR400"></a><div class="props_rev_3"><a id="GUID-CC72CEDC-58AA-4065-AC7D-FD4735E14416" name="GUID-CC72CEDC-58AA-4065-AC7D-FD4735E14416"></a><h3 id="UNXAR-GUID-CC72CEDC-58AA-4065-AC7D-FD4735E14416" class="sect3"><span class="enumeration_section">A.7</span> HugePages概述</h3>
               <div>
                  <p>HugePages是集成到Linux内核2.6中的一项功能。启用HugePages使操作系统可以支持大于默认值的内存页（通常为4 KB）。使用非常大的页面大小可以通过减少访问页表条目所需的系统资源量来提高系统性能。HugePages对32位和64位配置都很有用。HugePage大小从2 MB到256 MB不等，具体取决于内核版本和硬件架构。对于Oracle数据库，使用HugePages可以减少页面状态的操作系统维护，并提高转换后备缓冲区（TLB）命中率。</p>
                  <div class="infoboxnote" id="GUID-CC72CEDC-58AA-4065-AC7D-FD4735E14416__GUID-2DB721A0-2095-4EC1-A255-5475EC591852">
                     <p class="notep1">注意：</p>
                     <p>透明Hugepages目前不是手动配置HugePages的替代方法。</p>
                  </div>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="administering-oracle-database-on-linux.html#GUID-C042125D-9BE1-48D0-8C70-74251A0AF60C" title="如果您的操作系统启用了HugePages，请查看此信息。">回顾HugePages内存分配</a></p>
                     </li>
                     <li>
                        <p><a href="administering-oracle-database-on-linux.html#GUID-76C03D99-6025-41F2-8BE3-F6DCDB1DCEE0">在Linux上使用HugePages</a></p>
                     </li>
                     <li>
                        <p><a href="administering-oracle-database-on-linux.html#GUID-ECABF30C-136B-4D12-A371-6AC8980BB46E">使用HugePages调整SGA</a></p>
                     </li>
                     <li>
                        <p><a href="administering-oracle-database-on-linux.html#GUID-19BFCC60-BA4C-4750-85EB-7432282A9556">在Linux上配置HugePages</a></p>
                     </li>
                     <li>
                        <p><a href="administering-oracle-database-on-linux.html#GUID-95CAEFDE-489B-453A-B5D5-4461DABBEEAD">HugePages配置的限制</a></p>
                     </li>
                     <li>
                        <p><a href="administering-oracle-database-on-linux.html#GUID-02E9147D-D565-4AF8-B12A-8E6E9F74BEEA" title="Oracle建议您在开始安装之前禁用Transparent HugePages。">禁用透明HugePages</a></p>
                     </li>
                  </ul>
               </div>
               <div class="sect3"><a id="GUID-C042125D-9BE1-48D0-8C70-74251A0AF60C" name="GUID-C042125D-9BE1-48D0-8C70-74251A0AF60C"></a><h4 id="UNXAR-GUID-C042125D-9BE1-48D0-8C70-74251A0AF60C" class="sect4"><span class="enumeration_section">A.7.1</span>查看HugePages内存分配</h4>
                  <div>
                     <p>如果您的操作系统启用了HugePages，请查看此信息。</p>
                     <p>在Linux平台安装中，Oracle建议您使用HugePages获取Oracle数据库的最佳性能。在启用了HugePages的服务器上升级Oracle Grid Infrastructure和Oracle数据库时，Oracle建议您查看HugePages内存分配要求。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C042125D-9BE1-48D0-8C70-74251A0AF60C__GUID-F4F6A32B-F349-4C63-A36E-3D2B7C0DF3A2">GIMR和HugePages记忆</p>
                        <p>Oracle Grid Infrastructure安装包括Grid Infrastructure Management Repository（GIMR）。在群集成员节点上配置HugePages时，GIMR系统全局区域（SGA）将安装到HugePages内存中。GIMR SGA占用高达1 GB的HugePages内存。Oracle Grid Infrastructure在群集上安装Oracle数据库之前启动。</p>
                        <p>如果群集成员节点操作系统内存分配到HugePages不足以满足群集上所有Oracle数据库实例的SGA大小，那么您可能会发现一个或多个Oracle数据库SGA映射到常规页面，而不是的巨大页面，降低了预期的性能。为避免此问题，在计划升级时，请确保为HugePages保留的内存足够大，以满足您的内存要求。</p>
                        <p>将内存分配给HugePages足够大，以便计划在群集上运行SGA的所有数据库，并为Grid Infrastructure Management Repository提供SGA。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="UNXAR330"></a><div class="props_rev_3"><a id="GUID-76C03D99-6025-41F2-8BE3-F6DCDB1DCEE0" name="GUID-76C03D99-6025-41F2-8BE3-F6DCDB1DCEE0"></a><h4 id="UNXAR-GUID-76C03D99-6025-41F2-8BE3-F6DCDB1DCEE0" class="sect4"><span class="enumeration_section">A.7.2</span>在Linux上使用HugePages</h4>
                  <div>
                     <p>要使Oracle数据库在Linux上使用大页面（有时称为HugePages），请设置<code class="codeph">vm.nr_hugepages</code>内核参数的值以指定要保留的大页面数。您必须指定足够的大页面来保存数据库实例的整个SGA。要确定所需的参数值，请将实例的SGA大小除以大页面的大小，然后将结果向上舍入为最接近的整数。
                     </p>
                     <p>要确定默认的大页面大小，请运行以下命令：</p><pre class="oac_no_warn" dir="ltr">#grep Hugepagesize / proc / meminfo</pre><p>例如，如果<code class="codeph">/proc/meminfo</code>将大页面大小列为2 MB，并且实例的总SGA大小为1.6 GB，则将<code class="codeph">vm.nr_hugepages</code>内核参数的值设置为820（1.6 GB / 2 MB = 819.2 ）。
                     </p>
                  </div>
               </div><a id="UNXAR401"></a><div class="props_rev_3"><a id="GUID-ECABF30C-136B-4D12-A371-6AC8980BB46E" name="GUID-ECABF30C-136B-4D12-A371-6AC8980BB46E"></a><h4 id="UNXAR-GUID-ECABF30C-136B-4D12-A371-6AC8980BB46E" class="sect4"><span class="enumeration_section">A.7.3</span>使用HugePages调整SGA</h4>
                  <div>
                     <p>如果没有HugePages，操作系统会将每个4 KB的内存保留为页面。当它将页面分配给数据库系统全局区域（SGA）时，操作系统内核必须为分配给该数据库的每个4 KB页面不断更新其页表生命周期（脏，空，映射到进程等）的页表。 SGA。</p>
                     <p>使用HugePages，操作系统页表（虚拟内存到物理内存映射）较小，因为每个页表条目指向2 MB到256 MB的页面。</p>
                     <p>此外，内核具有较少的页面，其生命周期必须受到监视。例如，如果将HugePages与64位硬件一起使用，并且要映射256 MB内存，则可能需要一个页表条目（PTE）。如果您不使用HugePages，并且想要映射256 MB内存，则必须具有256 MB * 1024 KB / 4 KB = 65536个PTE。</p>
                     <p>HugePages具有以下优势：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>通过增加TLB命中率提高性能</p>
                        </li>
                        <li>
                           <p>页面被锁定在内存中，永远不会被换出，这为共享内存结构（如SGA）提供了RAM</p>
                        </li>
                        <li>
                           <p>连续页面是预分配的，不能用于除System V共享内存之外的任何其他内容（例如，SGA）</p>
                        </li>
                        <li>
                           <p>由于页面大小较大，内核对于该部分虚拟内存的簿记工作较少</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="UNXAR402"></a><div class="props_rev_3"><a id="GUID-19BFCC60-BA4C-4750-85EB-7432282A9556" name="GUID-19BFCC60-BA4C-4750-85EB-7432282A9556"></a><h4 id="UNXAR-GUID-19BFCC60-BA4C-4750-85EB-7432282A9556" class="sect4"><span class="enumeration_section">A.7.4</span>在Linux上配置HugePages</h4>
                  <div>
                     <div class="section">
                        <p>完成以下步骤以在计算机上配置HugePages：</p>
                        <ol>
                           <li>
                              <p>运行以下命令以确定内核是否支持HugePages：</p><pre class="oac_no_warn" dir="ltr">$ grep Huge / proc / meminfo</pre></li>
                           <li>
                              <p>某些Linux系统默认不支持HugePages。对于此类系统，请使用<code class="codeph">CONFIG_HUGETLBFS</code>和<code class="codeph">CONFIG_HUGETLB_PAGE</code>配置选项构建Linux内核。<code class="codeph">CONFIG_HUGETLBFS</code>位于下文件系统和<code class="codeph">CONFIG_HUGETLB_PAGE</code>当您选择选择<code class="codeph">CONFIG_HUGETLBFS</code> 。</p>
                           </li>
                           <li>
                              <p>编辑<code class="codeph">/etc/security/limits.conf</code>文件中的<code class="codeph">memlock</code>设置。<code class="codeph">memlock</code>设置以KB为单位指定，当启用HugePages内存时，最大锁定内存限制应设置为当前RAM的至少90％，并且当禁用HugePages内存时，应设置至少3145728 KB（3 GB）。例如，如果安装了64 GB RAM，则添加以下条目以增加最大锁定内存地址空间：</p><pre class="oac_no_warn" dir="ltr">*软memlock 60397977 * hard memlock 60397977</pre><p>您还可以将<code class="codeph">memlock</code>值设置为高于SGA要求。
                              </p>
                           </li>
                           <li>
                              <p>再次以<code class="codeph">oracle</code>用户身份登录并运行<code class="codeph">ulimit -l</code>命令以验证新的<code class="codeph">memlock</code>设置：</p><pre class="oac_no_warn" dir="ltr">$ ulimit -l 60397977</pre></li>
                           <li>
                              <p>运行以下命令以显示<code class="codeph">Hugepagesize</code>变量的值：</p><pre class="oac_no_warn" dir="ltr">$ grep Hugepagesize / proc / meminfo</pre></li>
                           <li>
                              <p>完成以下过程以创建一个脚本，该脚本计算当前共享内存段的<code class="codeph">hugepages</code>配置的建议值：</p>
                              <ol type="a">
                                 <li>
                                    <p>创建名为<code class="codeph">hugepages_settings.sh</code>的文本文件。
                                    </p>
                                 </li>
                                 <li>
                                    <p>在文件中添加以下内容：</p><pre class="oac_no_warn" dir="ltr">＃！/ bin / bash ## hugepages_settings.sh ## Linux bash脚本计算＃recommended HugePages / HugeTLB配置的值##注意：此脚本会对脚本运行时可用的所有共享内存＃段进行计算，无论它是什么＃是否是Oracle RDBMS共享内存段。＃检查内核版本KERN =`uname -r | awk -F。 '{printf（“％d。％d \ n”，$ 1，$ 2）; }'`＃找出HugePage大小HPG_SZ =`grep Hugepagesize / proc / meminfo | awk {'print $ 2'}`＃从1页开始是安全的，保证1个免费的HugePage NUM_PG = 1＃在`ipcs -m |中处理SEG_BYTES的运行共享内存段所需的累积页数awk {'print $ 5'} | grep“[0-9] [0-9] *”`做MIN_PG =`echo“$ SEG_BYTES /（$ HPG_SZ * 1024）”| bc -q` if [$ MIN_PG -gt 0];然后NUM_PG =`echo'$ NUM_PG + $ MIN_PG + 1“| bc -q` fi done＃完成结果案例$ KERN in'2.4'）HUGETLB_POOL =`echo“$ NUM_PG * $ HPG_SZ / 1024”| bc -q`; echo“推荐设置：vm.hugetlb_pool = $ HUGETLB_POOL”;; '2.6'|'3.8'）echo“推荐设置：vm.nr_hugepages = $ NUM_PG”;; *）echo“无法识别的内核版本$ KERN。正在退出。” ;; esac #End</pre></li>
                                 <li>
                                    <p>运行以下命令以更改文件的权限：</p><pre class="oac_no_warn" dir="ltr">$ chmod + x hugepages_settings.sh</pre></li>
                              </ol>
                           </li>
                           <li id="GUID-19BFCC60-BA4C-4750-85EB-7432282A9556__CACJDEDA">
                              <p>运行<code class="codeph">hugepages_settings.sh</code>脚本来计算<code class="codeph">hugepages</code>配置的值：</p><pre class="oac_no_warn" dir="ltr">$ ./hugepages_settings.sh</pre><div class="infoboxnote" id="GUID-19BFCC60-BA4C-4750-85EB-7432282A9556__GUID-3002140C-16FA-4FDB-80E1-4FA16945C4E2">
                                 <p class="notep1">注意：</p>
                                 <p>在运行此脚本之前，请确保运行使用<code class="codeph">hugepages</code>所有应用程序。
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>设置以下内核参数，其中<span class="italic">value</span>是您在步骤<a href="administering-oracle-database-on-linux.html#GUID-19BFCC60-BA4C-4750-85EB-7432282A9556__CACJDEDA">7中</a>确定的HugePages值：</p><pre class="oac_no_warn" dir="ltr">#sysctl -w vm.nr_hugepages = <span class="italic">value</span>
</pre></li>
                           <li>
                              <p>要确保在系统重新启动后分配HugePages，请将以下条目添加到<code class="codeph">/etc/sysctl.conf</code>文件中，其中<span class="italic">value</span>是您在步骤<a href="administering-oracle-database-on-linux.html#GUID-19BFCC60-BA4C-4750-85EB-7432282A9556__CACJDEDA">7中</a>确定的HugePages值：</p><pre class="oac_no_warn" dir="ltr">vm.nr_hugepages = <span class="italic">value</span>
</pre></li>
                           <li>
                              <p>运行以下命令以检查可用的大<code class="codeph">hugepages</code> ：</p><pre class="oac_no_warn" dir="ltr">$ grep Huge / proc / meminfo</pre></li>
                           <li>
                              <p>重启实例。</p>
                           </li>
                           <li>
                              <p>运行以下命令检查可用的<code class="codeph">hugepages</code> （1或2页免费）：</p><pre class="oac_no_warn" dir="ltr">$ grep Huge / proc / meminfo</pre><div class="infoboxnote" id="GUID-19BFCC60-BA4C-4750-85EB-7432282A9556__GUID-6DBCB1EC-3A2C-4840-98F4-B86F30815D87">
                                 <p class="notep1">注意：</p>
                                 <p>如果您无法使用<code class="codeph">nr_hugepages</code>设置HugePages分配，则可用内存可能会碎片化。重新启动服务器以使Hugepages分配生效。
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="UNXAR403"></a><div class="props_rev_3"><a id="GUID-95CAEFDE-489B-453A-B5D5-4461DABBEEAD" name="GUID-95CAEFDE-489B-453A-B5D5-4461DABBEEAD"></a><h4 id="UNXAR-GUID-95CAEFDE-489B-453A-B5D5-4461DABBEEAD" class="sect4"><span class="enumeration_section">A.7.5</span> HugePages配置的限制</h4>
                  <div>
                     <div class="section">
                        <p>HugePages具有以下限制：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您必须撤消两个<code class="codeph">MEMORY_TARGET</code>和<code class="codeph">MEMORY_MAX_TARGET</code>初始化参数。例如，要取消设置数据库实例的参数，请使用命令<code class="codeph">ALTER SYSTEM RESET</code> 。</p>
                           </li>
                           <li>
                              <p>自动内存管理（AMM）和HugePages不兼容。使用AMM时，通过在<code class="codeph">/dev/shm</code>下创建文件来分配整个SGA内存。当Oracle数据库使用AMM分配SGA时，不保留HugePages。要在Oracle Database 19c上使用HugePages，您必须禁用AMM。</p>
                           </li>
                           <li>
                              <p>如果在32位环境中使用VLM，则不能将HugePages用于数据库缓冲区高速缓存。您可以将HugePages用于SGA的其他部分，例如<code class="codeph">shared_pool</code> ， <code class="codeph">large_pool</code>等。VLM（缓冲区缓存）的内存分配使用共享内存文件系统（ <code class="codeph">ramfs/tmpfs/shmfs</code> ）完成。内存文件系统不保留或使用HugePages。
                              </p>
                           </li>
                           <li>
                              <p>除非系统管理员通过修改可用页数或修改池大小来更改HugePages配置，否则HugePages不会在系统启动后进行分配或释放。如果在系统启动期间未在内存中保留所需的空间，则HugePages分配失败。</p>
                           </li>
                           <li>
                              <p>确保正确配置HugePages，因为如果应用程序未使用多余的HugePages，系统可能会耗尽内存。</p>
                           </li>
                           <li>
                              <p>如果实例启动时没有足够的HugePages且初始化参数<code class="codeph">use_large_pages</code>设置为<code class="codeph">only</code> ，则数据库无法启动，并且警报日志消息提供有关Hugepages的必要信息。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-02E9147D-D565-4AF8-B12A-8E6E9F74BEEA" name="GUID-02E9147D-D565-4AF8-B12A-8E6E9F74BEEA"></a><h4 id="UNXAR-GUID-02E9147D-D565-4AF8-B12A-8E6E9F74BEEA" class="sect4"><span class="enumeration_section">A.7.6</span>禁用透明HugePages</h4>
                  <div>
                     <p>Oracle建议您在开始安装之前禁用Transparent HugePages。</p>
                     <div class="section" id="GUID-02E9147D-D565-4AF8-B12A-8E6E9F74BEEA__GUID-BD757063-779C-4411-9A30-B475FFC39EBD">
                        <p>透明HugePages内存与标准HugePages内存不同，因为内核<code class="codeph">khugepaged</code>线程在运行时动态分配内存。标准HugePages内存在启动时预先分配，并且在运行时不会更改。
                        </p>
                        <div class="infoboxnote" id="GUID-02E9147D-D565-4AF8-B12A-8E6E9F74BEEA__GUID-9010427C-CB6F-4769-B82E-94E826D3FB8A">
                           <p class="notep1">注意：</p>虽然在UEK2和更高版本的UEK内核上禁用了透明HugePages，但默认情况下可以在Linux系统上启用Transparent HugePages。
                        </div>
                        <p>Red Hat Enterprise Linux 6，Red Hat Enterprise Linux 7，SUSE 11，Oracle Linux 6和Oracle Linux 7默认启用透明HugePages内存，早期版本的Oracle Linux具有Unbreakable Enterprise Kernel 2（UEK2）内核。</p>
                        <p>透明HugePages可能会在运行时导致内存分配延迟。为避免性能问题，Oracle建议您在所有Oracle数据库服务器上禁用透明HugePages。Oracle建议您使用标准HugePages来提高性能。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要检查是否已启用Transparent HugePages，请以root用户身份运行以下命令之一：</p>
                        <p>红帽企业Linux内核：</p><pre class="pre codeblock"><code>#cat / sys / kernel / mm / redhat_transparent_hugepage / enabled</code></pre><p>其他内核：</p><pre class="pre codeblock"><code>#cat / sys / kernel / mm / transparent_hugepage / enabled</code></pre><p>以下是一个示例输出，显示正在使用透明HugePages，因为[always]标志已启用。</p><pre class="pre codeblock"><code>[始终不曾</code></pre><div class="infoboxnote" id="GUID-02E9147D-D565-4AF8-B12A-8E6E9F74BEEA__GUID-BA4B2D75-86E0-4052-8760-108D7BEA2E4B">
                           <p class="notep1">注意：</p>
                           <p>如果从内核中删除Transparent HugePages，则既不存在<code>/sys/kernel/mm/transparent_hugepage</code>也不存在<code>/sys/kernel/mm/redhat_transparent_hugepage files</code> 。
                           </p>
                        </div>
                        <p>要禁用透明HugePages：</p>
                        <ol>
                           <li>
                              <p>对于Oracle Linux 6或更早版本，请将以下条目添加到<code class="codeph">/etc/grub.conf</code>文件中的内核引导行：</p><pre class="pre codeblock"><code>transparent_hugepage =从不</code></pre><div class="p">例如：<pre class="pre codeblock"><code>标题Oracle Linux Server（2.6.32-300.25.1.el6uek.x86_64）root（hd0,0）kernel /vmlinuz-2.6.32-300.25.1.el6uek.x86_64 ro root = LABEL = / transparent_hugepage = never initrd / initramfs -2.6.32-300.25.1.el6uek.x86_64.img</code></pre></div>
                              <p>对于Oracle Linux 7或更高版本的操作系统，文件名可能有所不同。检查操作系统文档以获取确切的文件名和禁用透明HugePages的步骤。</p>
                              <p>例如，对于Oracle Linux 7.3，禁用透明HugePages的过程包括编辑<code class="codeph">/etc/default/grub</code>文件，然后运行命令<code class="codeph">grub2-mkconfig</code> 。
                              </p>
                           </li>
                           <li>
                              <p>重新启动系统以使更改成为永久更改。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="10365.Analytic-Functions.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>分析函数</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="Aggregate-Functions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="Object-Reference-Functions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Aggregate-Functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="Object-Reference-Functions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">功能</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">分析函数</li>
            </ol>
            <a id="GUID-527832F7-63C0-4445-8C16-307FA5084056" name="GUID-527832F7-63C0-4445-8C16-307FA5084056"></a><a id="SQLRF51188"></a><a id="SQLRF51189"></a><a id="SQLRF51190"></a><a id="SQLRF51191"></a><a id="SQLRF51192"></a><a id="SQLRF51193"></a><a id="SQLRF51194"></a><a id="SQLRF51195"></a><a id="SQLRF51196"></a><a id="SQLRF51197"></a><a id="SQLRF51198"></a><a id="SQLRF51199"></a><a id="SQLRF51200"></a><a id="SQLRF51201"></a><a id="SQLRF51202"></a><a id="SQLRF51203"></a><a id="SQLRF51204"></a><a id="SQLRF51205"></a><a id="SQLRF51206"></a><a id="SQLRF51207"></a><a id="SQLRF51208"></a><a id="SQLRF06174"></a>
            
            <h2 id="SQLRF-GUID-527832F7-63C0-4445-8C16-307FA5084056" class="sect2">分析函数</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>分析函数根据一组行计算聚合值。它们与聚合函数的不同之处在于它们为每个组返回多行。行组称为<span class="bold">窗口</span> ，由<span class="italic"><code class="codeph">analytic_clause</code></span>定义。对于每一行，定义行的滑动窗口。该窗口确定用于执行当前行计算的行范围。窗口大小可以基于物理行数或逻辑间隔（例如时间）。
                  </p>
                  <p>分析函数是查询中执行的最后一组操作，但最终的<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句除外。在处理分析函数之前，将完成所有连接以及所有<code class="codeph">WHERE</code> ， <code class="codeph">GROUP</code> <code class="codeph">BY</code>和<code class="codeph">HAVING</code>子句。因此，分析函数只能出现在选择列表或<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句中。
                  </p>
                  <p>分析函数通常用于计算累积，移动，居中和报告聚合。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-5410729B-24A9-46AB-B167-FA955FE7AA78"><span class="italic">analytic_function</span> :: =</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-A7FA5EBC-A064-4E06-980E-E1BF43EE789C"><img src="img/analytic_function.gif" alt="下面是analytic_function.eps的描述" title="下面是analytic_function.eps的描述" longdesc="img_text/analytic_function.html"><br><a href="img_text/analytic_function.html">说明analytic_function.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__CJAFAAIA">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-3F25B519-351E-4D07-94F5-E18B2721D5E9"><span class="italic">analytic_clause</span> :: =</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-169A99F4-FB9B-4CCE-AB08-AC0BABEFEA1B"><img src="img/analytic_clause.gif" alt="下面是analytic_clause.eps的描述" title="下面是analytic_clause.eps的描述" longdesc="img_text/analytic_clause.html"><br><a href="img_text/analytic_clause.html">说明analytic_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__QUERY_PARTITION_CLAUSE-1E92A25F">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-241EDB65-4F86-45A9-A617-12D6CB46FB7C"><span class="italic">query_partition_clause</span> :: =</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-28D3CEE9-919D-4035-843F-305450D713B6"><img src="img/query_partition_clause.gif" alt="query_partition_clause.eps的描述如下" title="query_partition_clause.eps的描述如下" longdesc="img_text/query_partition_clause.html"><br><a href="img_text/query_partition_clause.html">query_partition_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__ORDER_BY_CLAUSE-1E92A06C">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-4302F725-99B8-4965-AE54-A0F98EA567A3"><span class="italic">order_by_clause</span> :: =</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-BD08C7BC-34C3-4648-8CAD-FE856FF5AA4D"><img src="img/order_by_clause.gif" alt="order_by_clause.eps的描述如下" title="order_by_clause.eps的描述如下" longdesc="img_text/order_by_clause.html"><br><a href="img_text/order_by_clause.html">插图说明order_by_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-915AA1E2-65CE-4FCD-9DF7-5D6D1DA98AFD"><span class="italic">windowing_clause</span> :: =</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-41247A27-6EE2-43F8-B3BD-9A6CC31A1BB3"><img src="img/windowing_clause.gif" alt="下面是windowing_clause.eps的描述" title="下面是windowing_clause.eps的描述" longdesc="img_text/windowing_clause.html"><br><a href="img_text/windowing_clause.html">插图描述windowing_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>下面的部分将讨论此语法的语义。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-BB48E078-CA5C-4367-AB3B-DFB42CF579CF"><span class="italic">analytic_function</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>指定分析函数的名称（请参阅此语义讨论后的分析函数列表）。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-8B5BA781-30F6-4EE4-AA1A-253E64BC0005"><span class="italic">参数</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>分析函数需要0到3个参数。参数可以是任何数值数据类型或可以隐式转换为数字数据类型的任何非数字数据类型。Oracle确定具有最高数字优先级的参数，并将其余参数隐式转换为该数据类型。返回类型也是该数据类型，除非针对单个函数另有说明。</p>
                  <div class="infoboxnotealso" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-2A54E27C-EA48-4A5C-AA93-AEFF49564F1D">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="Data-Types.html#GUID-4C0B65DB-E751-4957-A1ED-5044BAFA7812">有关数字优先级</a>的信息的数值优先级，有关隐式转换的更多信息，请<a href="Data-Type-Comparison-Rules.html#GUID-98BE3A78-6E33-4181-B5CB-D96FD9DC1694__G195937" title="此矩阵列出了每个后续列的第一列和标题单元格中的数据类型。单元格中的X表示在该列的标题和该行的第1列中指定的数据类型的隐式转换。">参见表2-8</a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-90CD9193-D3E3-4B5E-8285-39D7265BA2E7"><span class="italic">analytic_clause</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>使用<code class="codeph">OVER</code> <span class="italic"><code class="codeph">analytic_clause</code></span>指示该函数对查询结果集进行操作。此子句是在<code class="codeph">FROM</code> ， <code class="codeph">WHERE</code> ， <code class="codeph">GROUP</code> <code class="codeph">BY</code>和<code class="codeph">HAVING</code>子句之后计算的。您可以在选择列表或<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句中使用此子句指定分析函数。要基于分析函数过滤查询结果，请将这些函数嵌套在父查询中，然后过滤嵌套子查询的结果。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-1F3F07C6-24A5-4AE5-8D7E-D4C2DDA3DF9A">关于<span class="italic">analytic_clause的</span>注释：</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>以下说明适用于<span class="italic"><code class="codeph">analytic_clause</code></span> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>你不能在任何地方指定任何分析函数嵌套分析函数<span class="italic"><code class="codeph">analytic_clause</code></span> 。但是，您可以在子查询中指定分析函数，并在其上计算另一个分析函数。
                        </p>
                     </li>
                     <li>
                        <p>您可以使用用户定义的分析函数以及内置分析函数指定<code class="codeph">OVER</code> <span class="italic"><code class="codeph">analytic_clause</code></span> 。请参见<a href="CREATE-FUNCTION.html#GUID-156AEDAC-ADD0-4E46-AA56-6D1F7CA63306">CREATE FUNCTION</a> 。</p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">analytic_clause</code></span>中的<code class="codeph">PARTITION</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句对归类敏感。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-2F371504-238A-46C2-89A5-FEB5E9F992EF">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../nlspg/appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#NLSPG-GUID-AFCE41ED-775B-4A00-AF38-C436776AE0C5" target="_blank"><span><cite>Oracle数据库全球化支持指南</cite></span></a>中的附录C，用于<code class="codeph">OVER</code>的排序规则确定规则<code class="codeph">(PARTITION</code> <code class="codeph">BY</code> ...<code class="codeph">ORDER</code> <code class="codeph">BY</code> ... <code class="codeph">)</code>分析函数的子句</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-146F6EDF-E8B5-4007-9DCD-A7FEF9F4DDCF"><span class="italic">query_partition_clause</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>使用<code class="codeph">PARTITION</code> <code class="codeph">BY</code>子句根据一个或多个<span class="italic"><code class="codeph">value_expr</code></span>将查询结果集划分为组。如果省略此子句，则该函数将查询结果集的所有行视为单个组。
                  </p>
                  <p>要在分析函数中使用<span class="italic"><code class="codeph">query_partition_clause</code></span> ，请使用语法的上部分支（不带括号）。要在模型查询（在<span class="italic"><code class="codeph">model_column_clauses</code></span> ）或分区外连接（在<span class="italic"><code class="codeph">outer_join_clause</code></span> ）中使用此子句，请使用语法的下部分支（带括号）。
                  </p>
                  <p>您可以在同一查询中指定多个分析函数，每个函数具有相同或不同的<code class="codeph">PARTITION</code> <code class="codeph">BY</code>键。
                  </p>
                  <p>如果要查询的对象具有parallel属性，并且如果使用<span class="italic"><code class="codeph">query_partition_clause</code></span>指定分析函数，则函数计算也会并行化。
                  </p>
                  <p><span class="italic"><code class="codeph">value_expr</code></span>是常量，列，非分析函数，函数表达式或涉及任何这些的表达式。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-666C34CD-99A1-4974-A898-AD1ACD8CA42E"><span class="italic">order_by_clause生成</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>使用<span class="italic"><code class="codeph">order_by_clause</code></span>指定数据在分区中的排序方式。对于所有分析函数，您可以在多个键的分区中对值进行排序，每个键由<span class="italic"><code class="codeph">value_expr</code></span>定义，每个键由排序序列限定。
                  </p>
                  <p>在每个函数中，您可以指定多个排序表达式。在使用对值进行排名的函数时，这样做尤其有用，因为第二个表达式可以解析第一个表达式的相同值之间的联系。</p>
                  <p>每当<span class="italic"><code class="codeph">order_by_clause</code></span>为多行产生相同的值时，该函数的行为如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">CUME_DIST</code> ， <code class="codeph">DENSE_RANK</code> ， <code class="codeph">NTILE</code> ， <code class="codeph">PERCENT_RANK</code>和<code class="codeph">RANK</code>为每个行返回相同的结果。
                        </p>
                     </li>
                     <li>
                        <p>即使存在基于<span class="italic"><code class="codeph">order_by_clause</code></span>的平局， <code class="codeph">ROW_NUMBER</code>也会为每一行分配不同的值。该值基于处理行的顺序，如果<code class="codeph">ORDER</code> <code class="codeph">BY</code>不保证总排序，则可能是不确定的。
                        </p>
                     </li>
                     <li>
                        <p>对于所有其他分析函数，结果取决于窗口规范。如果使用<code class="codeph">RANGE</code>关键字指定逻辑窗口，则该函数会为每个行返回相同的结果。如果使用<code class="codeph">ROWS</code>关键字指定物理窗口，则结果是不确定的。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__CIHCEIGA">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-576D5FDA-98DC-4ECF-A068-1FEACEC5E032">ORDER BY条款的限制</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>以下限制适用于<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在分析函数中使用时， <span class="italic"><code class="codeph">order_by_clause</code></span>必须采用表达式（ <span class="italic"><code class="codeph">expr</code></span> ）。<code class="codeph">SIBLINGS</code>关键字无效（仅在分层查询中相关）。位置（ <span class="italic"><code class="codeph">position</code></span> ）和列别名（ <span class="italic"><code class="codeph">c_alias</code></span> ）也无效。否则， <span class="italic"><code class="codeph">order_by_clause</code></span>与用于排序整个查询或子查询的<span class="italic"><code class="codeph">order_by_clause</code></span>相同。
                        </p>
                     </li>
                     <li>
                        <p>如果使用<code class="codeph">RANGE</code>关键字的分析函数可以在其<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句中使用多个排序键，如果它指定以下任何窗口：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">RANGE</code> <code class="codeph">BETWEEN</code> <code class="codeph">UNBOUNDED</code> <code class="codeph">PRECEDING</code> <code class="codeph">AND</code> <code class="codeph">CURRENT</code> <code class="codeph">ROW</code> 。这种简短的形式是<code class="codeph">RANGE</code> <code class="codeph">UNBOUNDED</code> <code class="codeph">PRECEDING</code> 。</p>
                           </li>
                           <li>
                              <p><code class="codeph">RANGE</code> <code class="codeph">BETWEEN</code> <code class="codeph">CURRENT</code> <code class="codeph">ROW</code> <code class="codeph">AND</code> <code class="codeph">UNBOUNDED</code> <code class="codeph">FOLLOWING</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">RANGE</code> <code class="codeph">BETWEEN</code> <code class="codeph">CURRENT</code> <code class="codeph">ROW</code> <code class="codeph">AND</code> <code class="codeph">CURRENT</code> <code class="codeph">ROW</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">RANGE</code> <code class="codeph">BETWEEN</code> <code class="codeph">UNBOUNDED</code> <code class="codeph">PRECEDING</code> <code class="codeph">AND</code> <code class="codeph">UNBOUNDED</code> <code class="codeph">FOLLOWING</code></p>
                           </li>
                        </ul>
                        <p>除了这四个之外的窗口边界在分析函数的<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句中只能有一个排序键。此限制不适用于<code class="codeph">ROW</code>关键字指定的窗口边界。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-71C83C7C-EF27-449A-9A15-D8B766DF7839">ASC | DESC</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>指定排序顺序（升序或降序）。<code class="codeph">ASC</code>是默认值。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-77FE7FDB-3AD3-4271-963D-5B6326747B66">NULLS FIRST | NULLS最后</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>指定返回的包含空值的行是否应在排序顺序中首先出现或最后出现。</p>
                  <p><code class="codeph">NULLS</code> <code class="codeph">LAST</code>是升序的默认值， <code class="codeph">NULLS</code> <code class="codeph">FIRST</code>是降序的默认值。
                  </p>
                  <p>分析函数始终按函数<span class="italic"><code class="codeph">order_by_clause</code></span>中指定的顺序对行进行操作。但是，函数的<span class="italic"><code class="codeph">order_by_clause</code></span>不保证结果的顺序。使用查询的<span class="italic"><code class="codeph">order_by_clause</code></span>来保证最终结果排序。
                  </p>
                  <div class="infoboxnotealso" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-7E6E6A07-320C-45C7-B5E0-4199B163571B">
                     <p class="notep1">也可以看看：</p>
                     <p>有关此子句的更多信息，请参阅<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6">SELECT的</a> <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2171079">order_by_clause</a></span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__I97640">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-ACD92224-03AE-420F-8D2A-75DBAF46A52F"><span class="italic">windowing_clause</span> <span class="bold"> </span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>一些分析函数允许<span class="italic"><code class="codeph">windowing_clause</code></span> 。在本节末尾的分析函数列表中，允许<span class="italic"><code class="codeph">windowing_clause</code></span>的函数后跟一个星号（*）。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-11156F7B-A9E7-440E-8623-1A4DC0333CAC">ROWS |范围</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>这些关键字为每一行定义用于计算函数结果的窗口（物理或逻辑行集）。然后该函数应用于窗口中的所有行。窗口从上到下遍历查询结果集或分区。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">ROWS</code>以物理单位（行）指定窗口。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">RANGE</code>将窗口指定为逻辑偏移量。
                        </p>
                     </li>
                  </ul>
                  <p>除非已指定<span class="italic"><code class="codeph">order_by_clause</code></span>否则不能指定此子句。<code class="codeph">RANGE</code>子句定义的某些窗口边界允许您在<span class="italic"><code class="codeph">order_by_clause</code></span>仅指定一个表达式。请参阅<a href="Analytic-Functions.html#GUID-527832F7-63C0-4445-8C16-307FA5084056__CIHCEIGA">ORDER BY子句的限制</a> 。
                  </p>
                  <p>具有逻辑偏移的分析函数返回的值始终是确定性的。但是，具有物理偏移的分析函数返回的值可能会产生不确定的结果，除非排序表达式导致唯一排序。您可能必须在<span class="italic"><code class="codeph">order_by_clause</code></span>指定多个列才能实现此唯一排序。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-C08BA9CF-6BCD-4D31-A1EA-DCEF7172A499">BETWEEN ......和</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>使用<code class="codeph">BETWEEN</code> ......<code class="codeph">AND</code>子句指定窗口的起点和终点。第一个表达式（在<code class="codeph">AND</code>之前）定义起始点，第二个表达式在<code class="codeph">AND</code>之后定义终点。
                  </p>
                  <p>如果省略<code class="codeph">BETWEEN</code>并仅指定一个端点，则Oracle将其视为起点，并且结束点默认为当前行。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-80CD3F98-47D8-4DC5-B1B1-B2289FB1DC57">无约束的先行</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>指定<code class="codeph">UNBOUNDED</code> <code class="codeph">PRECEDING</code>以指示窗口从分区的第一行开始。这是起点规范，不能用作终点规范。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-FCCD244F-C7E3-4D43-8AEA-D1008C796566">以下是无限制的</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>指定<code class="codeph">UNBOUNDED</code> <code class="codeph">FOLLOWING</code>以指示窗口在分区的最后一行结束。这是终点规范，不能用作起点规范。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-FC87DB5A-558F-4736-A446-BC06FA412B3E">当前行</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>作为起点， <code class="codeph">CURRENT</code> <code class="codeph">ROW</code>指定窗口从当前行或值开始（取决于您是否分别指定了<code class="codeph">ROW</code>或<code class="codeph">RANGE</code> ）。在这种情况下，终点不能是<span class="italic"><code class="codeph">value_expr</code></span> <code class="codeph">PRECEDING</code> 。</p>
                  <p>作为终点， <code class="codeph">CURRENT</code> <code class="codeph">ROW</code>指定窗口以当前行或值结束（取决于您是否分别指定了<code class="codeph">ROW</code>或<code class="codeph">RANGE</code> ）。在这种情况下，起始点不能是<span class="italic"><code class="codeph">value_expr</code></span> <code class="codeph">FOLLOWING</code> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-0A0B25DD-63EC-4C45-A2E5-01123E3E2AFA"><span class="italic">value_expr</span> PRECEDING或<span class="italic">value_expr</span>以下</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>对于<code class="codeph">RANGE</code>或<code class="codeph">ROW</code> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果<span class="italic"><code class="codeph">value_expr</code></span> <code class="codeph">FOLLOWING</code>是起始点，则结束点必须是<span class="italic"><code class="codeph">value_expr</code></span> <code class="codeph">FOLLOWING</code> 。</p>
                     </li>
                     <li>
                        <p>如果<span class="italic"><code class="codeph">value_expr</code></span> <code class="codeph">PRECEDING</code>是终点，则起始点必须为<span class="italic"><code class="codeph">value_expr</code></span> <code class="codeph">PRECEDING</code> 。</p>
                     </li>
                  </ul>
                  <p>如果要定义以数字格式的时间间隔定义的逻辑窗口，则可能需要使用转换函数。</p>
                  <div class="infoboxnotealso" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-3232B9F6-52FD-4A5A-90D5-97FD0402F8CD">
                     <p class="notep1">也可以看看：</p>
                     <p>有关将数字时间转换为间隔的信息，请使用<a href="NUMTOYMINTERVAL.html#GUID-B98B21AA-44F7-4A9D-A646-6775A1D5F46D">NUMTOYMINTERVAL</a>和<a href="NUMTODSINTERVAL.html#GUID-5A7392A8-7976-4465-8839-A65EFF1A80B6">NUMTODSINTERVAL</a></p>
                  </div>
                  <p>如果你指定了<code class="codeph">ROWS</code> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic"><code class="codeph">value_expr</code></span>是物理偏移量。它必须是常量或表达式，并且必须求值为正数值。
                        </p>
                     </li>
                     <li>
                        <p>如果<span class="italic"><code class="codeph">value_expr</code></span>是起始点的一部分，那么它必须求值到结束点之前的一行。
                        </p>
                     </li>
                  </ul>
                  <p>如果您指定<code class="codeph">RANGE</code> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic"><code class="codeph">value_expr</code></span>是逻辑偏移量。它必须是常量或表达式，其值为正数值或区间字面值。请参阅<a href="Literals.html#GUID-192417E8-A79D-4A1D-9879-68272D925707">面值</a>为区间文字信息。
                        </p>
                     </li>
                     <li>
                        <p>您只能在<span class="italic"><code class="codeph">order_by_clause</code></span>指定一个表达式。
                        </p>
                     </li>
                     <li>
                        <p>如果<span class="italic"><code class="codeph">value_expr</code></span>计算为数值，则<code class="codeph">ORDER</code> <code class="codeph">BY</code> <span class="italic"><code class="codeph">expr</code></span>必须是数字或<code class="codeph">DATE</code>数据类型。
                        </p>
                     </li>
                     <li>
                        <p>如果<span class="italic"><code class="codeph">value_expr</code></span>计算为间隔值，则<code class="codeph">ORDER</code> <code class="codeph">BY</code> <span class="italic"><code class="codeph">expr</code></span>必须是<code class="codeph">DATE</code>数据类型。
                        </p>
                     </li>
                  </ul>
                  <p>如果省略<span class="italic"><code class="codeph">windowing_clause</code></span>完全，则默认为<code class="codeph">RANGE</code> <code class="codeph">BETWEEN</code> <code class="codeph">UNBOUNDED</code> <code class="codeph">PRECEDING</code> <code class="codeph">AND</code> <code class="codeph">CURRENT</code> <code class="codeph">ROW</code> 。</p>
                  <p>分析函数通常用于数据仓库环境。在随后的分析函数列表中，后跟星号（*）的函数允许完整语法，包括<span class="italic"><code class="codeph">windowing_clause</code></span> 。
                  </p>
                  <ul class="simple" style="list-style-type:none;padding-left:0">
                     <li><a href="AVG.html#GUID-B64BCBF1-DAA0-4D88-9821-2C4D3FDE5E4A">AVG</a> *</li>
                     <li><a href="CLUSTER_DETAILS.html#GUID-6E47A5A7-B73A-4D79-BAA5-BB7E3C173D0F">CLUSTER_DETAILS</a></li>
                     <li><a href="CLUSTER_DISTANCE.html#GUID-21E611E3-2F15-4DF1-B648-9A36E8D5CE4D">CLUSTER_DISTANCE</a></li>
                     <li><a href="CLUSTER_ID.html#GUID-1B0D0954-5A57-409C-9E84-F3EE12712040">CLUSTER_ID</a></li>
                     <li><a href="CLUSTER_PROBABILITY.html#GUID-999A15BA-FEDD-4FA6-8F1B-C847C2FE51CD">CLUSTER_PROBABILITY</a></li>
                     <li><a href="CLUSTER_SET.html#GUID-7B44CB7A-4783-4FE0-80D8-26AE88D6B060">CLUSTER_SET</a></li>
                     <li><a href="CORR.html#GUID-E73AF5E2-38A4-436A-955C-5122C079F49C">CORR</a> *</li>
                     <li><a href="COUNT.html#GUID-AEF08B79-024D-4E3A-B362-9715FB011776">COUNT</a> *</li>
                     <li><a href="COVAR_POP.html#GUID-D728D05F-D2E3-405C-986F-088B8353553A">COVAR_POP</a> *</li>
                     <li><a href="COVAR_SAMP.html#GUID-7850B9E1-83A4-41CB-8F17-DCD2E2A70C95">COVAR_SAMP</a> *</li>
                     <li><a href="CUME_DIST.html#GUID-B12C577C-A63C-4D19-8E18-FCCBBFBF8278">CUME_DIST</a></li>
                     <li><a href="DENSE_RANK.html#GUID-BB66F574-09DF-4594-87A4-ABD83E8DC3FE">DENSE_RANK</a></li>
                     <li><a href="FEATURE_DETAILS.html#GUID-A42F313B-22C1-4CAC-BA3F-C418178D743F">FEATURE_DETAILS</a></li>
                     <li><a href="FEATURE_ID.html#GUID-BA187F80-5F51-49F6-BB69-64422FB9FD90">FEATURE_ID</a></li>
                     <li><a href="FEATURE_SET.html#GUID-55582346-F1D6-447E-851A-D4912982EB28">FEATURE_SET</a></li>
                     <li><a href="FEATURE_VALUE.html#GUID-EC0E44D0-BE01-49F8-9E5A-72B500119877">FEATURE_VALUE</a></li>
                     <li><a href="FIRST.html#GUID-85AB9246-0E0A-44A1-A7E6-4E57502E9238">第一</a></li>
                     <li><a href="FIRST_VALUE.html#GUID-D454EC3F-370C-4C64-9B11-33FCB10D95EC">FIRST_VALUE</a> *</li>
                     <li><a href="LAG.html#GUID-68081CD0-72BE-4C0A-AA6B-AD39FFA7BCF2">落后</a></li>
                     <li><a href="LAST.html#GUID-4E16BC0E-D3B8-4BA4-8F97-3A08891A85CC">持续</a></li>
                     <li><a href="LAST_VALUE.html#GUID-A646AF95-C8E9-4A67-87BA-87B11AEE7B79">LAST_VALUE</a> *</li>
                     <li><a href="LEAD.html#GUID-0A0481F1-E98F-4535-A739-FCCA8D1B5B77">铅</a></li>
                     <li><a href="LISTAGG.html#GUID-B6E50D8E-F467-425B-9436-F7F8BF38D466">LISTAGG</a></li>
                     <li><a href="MAX.html#GUID-E5372020-A6DA-44BF-93BE-DA8C3F74CD01">MAX</a> *</li>
                     <li><a href="MIN.html#GUID-F7F04E18-1AD8-4D15-9491-4622AD847A74">MIN</a> *</li>
                     <li><a href="NTH_VALUE.html#GUID-F8A0E88C-67E5-4AA6-9515-95D03A7F9EA0">NTH_VALUE</a> *</li>
                     <li><a href="NTILE.html#GUID-FAD7A986-AEBD-4A03-B0D2-F7F2148BA5E9">NTILE</a></li>
                     <li><a href="PERCENT_RANK.html#GUID-66A868F5-9EBA-482A-BF8C-09300B9EE165">PERCENT_RANK</a></li>
                     <li><a href="PERCENTILE_CONT.html#GUID-CA259452-A565-41B3-A4F4-DD74B66CEDE0">PERCENTILE_CONT</a></li>
                     <li><a href="PERCENTILE_DISC.html#GUID-7C34FDDA-C241-474F-8C5C-50CC0182E005">PERCENTILE_DISC</a></li>
                     <li><a href="PREDICTION.html#GUID-DA66A1C3-BFB2-43A1-A3FF-93D4A3DAB9C6">预测</a></li>
                     <li><a href="PREDICTION_COST.html#GUID-2E58222D-FB7E-4CA2-BCAA-C932FCDEE890">PREDICTION_COST</a></li>
                     <li><a href="PREDICTION_DETAILS.html#GUID-D7261A56-E729-4882-B48D-CDD343C53810">PREDICTION_DETAILS</a></li>
                     <li><a href="PREDICTION_PROBABILITY.html#GUID-0F309771-40A3-4E23-9A96-CD134C80F584">PREDICTION_PROBABILITY</a></li>
                     <li><a href="PREDICTION_SET.html#GUID-25AE84A7-C733-4BC5-8C57-2E5574C49AFC">PREDICTION_SET</a></li>
                     <li><a href="RANK.html#GUID-0950BD34-C994-41DA-A8F9-34B3FE53BBBA">秩</a></li>
                     <li><a href="RATIO_TO_REPORT.html#GUID-9D10C275-4341-435F-ACF4-767B9CCB7390">RATIO_TO_REPORT</a></li>
                     <li><a href="REGR_-Linear-Regression-Functions.html#GUID-A675B68F-2A88-4843-BE2C-FCDE9C65F9A9">REGR_（线性回归）函数</a> *</li>
                     <li><a href="ROW_NUMBER.html#GUID-D5A157F8-0F53-45BD-BF8C-AE79B1DB8C41">ROW_NUMBER</a></li>
                     <li><a href="STDDEV.html#GUID-CA0C3B1F-1A4C-4CFB-ADAB-D90216C4E099">STDDEV</a> *</li>
                     <li><a href="STDDEV_POP.html#GUID-4F804DE5-7E20-4E08-A1BA-32DBB167B34B">STDDEV_POP</a> *</li>
                     <li><a href="STDDEV_SAMP.html#GUID-7B2A708E-E73A-4CFE-978E-3F9C4BD37467">STDDEV_SAMP</a> *</li>
                     <li><a href="SUM.html#GUID-5610BE2C-CFE5-446F-A1F7-B924B5663220">SUM</a> *</li>
                     <li><a href="VAR_POP.html#GUID-B62FB4A4-BD1F-47B0-B412-31A98B70C2E4">VAR_POP</a> *</li>
                     <li><a href="VAR_SAMP.html#GUID-314D5831-0E26-4ABF-9F46-35F78F97DA52">VAR_SAMP</a> *</li>
                     <li><a href="VARIANCE.html#GUID-EC33717A-2509-402D-B3BB-7EECB2E4ED8B">方差</a> *</li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-527832F7-63C0-4445-8C16-307FA5084056__GUID-B3924FAE-EC0F-4781-A733-7BDE13A6B8AF">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../dwhsg/index.html" target="_blank"><span><cite>Oracle数据库数据仓库指南</cite></span></a> ，了解有关这些功能的更多信息以及说明其用途的方案</p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="02840.op-rhp-restapi-rhp-images-imageid-get.html" dir="ltr"></html><html lang="zh-Hans" dir="ltr">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
        <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
        <title>适用于Oracle数据库的REST API  - 显示指定映像的配置</title>
		<link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
		<meta name="dcterms.dateCopyrighted" content="2018, 2019"></meta>
		<meta name="dcterms.category" content="database"></meta>
		<meta name="dcterms.identifier" content="E96452-02"></meta>
		<meta name="dcterms.isVersionOf" content="DBRST"></meta>
		<meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
		
        <link rel="stylesheet" href="/sp_common/rest-template/ohc-rest-template/css/rest.css"></link>
        <script>
            document.write('<style type="text/css">');
            document.write('body > .noscript, body > .noscript ~ * { opacity: 0; }');
            document.write('</style>');
        </script>
        <script src="/sp_common/rest-template/requirejs/require.js" data-main="/sp_common/rest-template/ohc-rest-template/js/rest-config"></script>
        <script>
            if(window.require === undefined) {
                document.write('<script data-main="sp_common/rest-template/ohc-rest-template/js/rest-config" src="sp_common/rest-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/rest-template/ohc-rest-template/css/rest.css" rel="stylesheet">');
            }
        </script>
		
		<script type="application/json" id="ssot-metadata" space="preserve">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>

        <meta name="description" content="Provide consumers the ability to perform operations with different Oracle Database features through a web REST API that can be easily adopted."></meta>
        <meta property="og:site_name" content="Oracle Help Center"></meta>
        <meta property="og:title" content="REST APIs for Oracle Database"></meta>
        <meta property="og:description" content="Provide consumers the ability to perform operations with different Oracle Database features through a web REST API that can be easily adopted."></meta>
        <meta name="generator" content="Oracle REST API Publisher 1.7.0"></meta>
		<meta name="date" content="2019-04-11 10:34:12 UTC"></meta>
        <link rel="shortcut icon" href="/sp_common/rest-template/ohc-common/img/favicon.ico"></link>
        <meta name="application-name" content="REST APIs for Oracle Database"></meta>
        <link type="application/swagger+json" title="Swagger 2.0" href="swagger.json" rel="alternate"></link>
        <link rel="prev" href="op-rhp-restapi-rhp-images-imageid-delete.html" title="Previous" type="text/html"></link>
        <link rel="next" href="op-rhp-restapi-rhp-series-get.html" title="Next" type="text/html"></link>
    
    <meta name="dcterms.created" content="2019-04-11T10:36:09+00:00"></meta>
    <meta name="dcterms.title" content="REST APIs for Oracle Database"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
    <body dir="ltr">
        <div class="noscript alert alert-danger text-center" role="alert">
            <a class="pull-left" href="op-rhp-restapi-rhp-images-imageid-delete.html"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a class="pull-right" href="op-rhp-restapi-rhp-series-get.html">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
        <article>

            
            <header id="top">

                <ol class="breadcrumb">
                    <li><a href="index.html">适用于Oracle数据库的REST API</a></li>
                    <li>任务</li>
                    
                    <li>舰队修补和供应</li>
                    
                    <li class="active">
                        
                        <a href="api-fleet-patching-and-provisioning-rhp-manage-gold-images.html">RHP  - 管理黄金图像</a>
                        
                    </li>
                    
                </ol>
                
                <p class="draftsubtitle"></p>
                
                
                <div>
                	<div class="dropdown btn-group pull-right" style="clear:right">
                		<button id="dLabel" class="btn btn-default btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">跳到<span class="caret"></span></button>
      					<ul class="dropdown-menu" aria-labelledby="dLabel">
          					<li><a href="#request" data-toggle="ignore">请求</a></li>
          					<li><a href="#response" data-toggle="ignore">响应</a></li>
          					
      					</ul>
    				</div>
     				<h2>显示指定图像的配置</h2>
     			</div>
                
                <div>
                    <div class="label label-get text-uppercase">得到</div>
                    <p><strong>/ RHP-RESTAPI / RHP /图像/ {图像标识}</strong></p>
                </div>
            </header>
            <section>

                <div class="description">显示与给定图像名称关联的黄金图像的详细信息。</div>

                <h3 id="request">请求</h3>
                

                
                
                <div class="h5">支持的媒体类型</div>
                <ul class="media-types">
                
                    <li>应用程序/ JSON</li>
                
                </ul>
                
                

                
                <div class="h5">路径参数</div>
                <div class="schema-container">
                <ul class="schema-properties">
                
                    <li><a href="#request-path-param-imageId" role="button" data-toggle="collapse" aria-expanded="false" aria-controls="request-path-param-imageId">imageId：string</a>
                    <div class="collapse" id="request-path-param-imageId">
                        










































<div>图像名称。</div>




















                    </div>
                    </li>
                
                </ul>

                
                </div>
                


                
                <div class="h5">查询参数</div>
                <div class="schema-container">
                    <ul class="schema-properties">
                        
                        <li><a href="#request-query-param-dbtemplate" role="button" data-toggle="collapse" aria-expanded="false" aria-controls="request-query-param-dbtemplate">dbtemplate（可选）：布尔值</a>
                        <div class="collapse" id="request-query-param-dbtemplate">
                            










































<div>在默认模板目录中显示模板文件名。</div>



<div>默认值： <code>false</code></div>


















                        </div>
                        </li>
                        
                    </ul>
                    
                </div>
                


                


                


                

                

                
                
                <a href="#top" style="float:right">回到顶部</a>

                <h3 id="response">响应</h3>

                
                
                <div class="h5">支持的媒体类型</div>
                <ul class="media-types">
                    
                    <li>应用程序/ JSON</li>
                    
                </ul>
                
                



                
                <div class="response">
                <h4 class="response-code range-200">200回复</h4>
                <div class="response-body">
                <div>好。包含具有多个属性的图像资源表示的JSON对象，以及至少具有“self”链接的links数组。</div>

                


                
                    <div class="entity">
                    <div class="h5 hidden-print">身体 （ <span class="schema-path"></span> ）</div>


                    <div class="schema-container">
                    
                    <div id="200-definitions-imageResource" class="swagger-schema">
    <div class="panel-heading">根架构：imageResource</div>
    
      <div class="schema-type">输入： <code>object</code></div>
      
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <a href="#" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm" role="button" data-toggle="schema-view">显示来源</a>
        <ul class="schema-properties">
            
            <li><a href="#200-definitions-imageResource-properties-clientName-properties-clientName" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-clientName-properties-clientName">clientName（可选）：string</a>
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-clientName-properties-clientName">
                
                



























                
            </div>
            </li>
            
            <li><a href="#200-definitions-imageResource-properties-complete-properties-complete" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-complete-properties-complete">完成（可选）：布尔值</a>
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-complete-properties-complete">
                
                



























                
            </div>
            </li>
            
            <li><a href="#200-definitions-imageResource-properties-containsNonRollingPatch-properties-containsNonRollingPatch" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-containsNonRollingPatch-properties-containsNonRollingPatch">containsNonRollingPatch（可选）：布尔值</a>
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-containsNonRollingPatch-properties-containsNonRollingPatch">
                
                



























                
            </div>
            </li>
            
            <li><a href="#200-definitions-imageResource-properties-groupsConfigured-properties-groupsConfigured" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-groupsConfigured-properties-groupsConfigured">groupsConfigured（可选）：string</a>
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-groupsConfigured-properties-groupsConfigured">
                
                



























                
            </div>
            </li>
            
            <li><a href="#200-definitions-imageResource-properties-homePath-properties-homePath" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-homePath-properties-homePath">homePath（可选）：字符串</a>
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-homePath-properties-homePath">
                
                



























                
            </div>
            </li>
            
            <li><a href="#200-definitions-imageResource-properties-imageId-properties-imageId" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-imageId-properties-imageId">imageId（可选）：字符串</a>
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-imageId-properties-imageId">
                
                



























                
            </div>
            </li>
            
            <li><a href="#200-definitions-imageResource-properties-imageSize-properties-imageSize" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-imageSize-properties-imageSize">imageSize（可选）：整数</a>
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-imageSize-properties-imageSize">
                
                



























                
            </div>
            </li>
            
            <li><a href="#200-definitions-imageResource-properties-imageState-properties-imageState" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-imageState-properties-imageState">imageState（可选）：字符串</a>
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-imageState-properties-imageState">
                
                



























                
            </div>
            </li>
            
            <li><a href="#200-definitions-imageResource-properties-imageType-properties-imageType" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-imageType-properties-imageType">imageType（可选）：字符串</a>
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-imageType-properties-imageType">
                
                



























                
            </div>
            </li>
            
            <li><a href="#200-definitions-imageResource-properties-links-properties-links" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-links-properties-links">links（可选）：数组</a> <a href="#200-definitions-imageResource-properties-links" class="btn btn-default btn-sm btn-xsm" role="button">链接</a>
            
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-links-properties-links">
                
                





















                
            </div>
            </li>
            
            <li><a href="#200-definitions-imageResource-properties-owner-properties-owner" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-owner-properties-owner">owner（可选）：string</a>
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-owner-properties-owner">
                
                



























                
            </div>
            </li>
            
            <li><a href="#200-definitions-imageResource-properties-parentImage-properties-parentImage" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-parentImage-properties-parentImage">parentImage（可选）：string</a>
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-parentImage-properties-parentImage">
                
                



























                
            </div>
            </li>
            
            <li><a href="#200-definitions-imageResource-properties-patches-properties-patches" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-patches-properties-patches">补丁（可选）：阵列</a> <a href="#200-definitions-imageResource-properties-patches" class="btn btn-default btn-sm btn-xsm" role="button">补丁</a>
            
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-patches-properties-patches">
                
                





















                
            </div>
            </li>
            
            <li><a href="#200-definitions-imageResource-properties-platform-properties-platform" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-platform-properties-platform">platform（可选）：string</a>
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-platform-properties-platform">
                
                



























                
            </div>
            </li>
            
            <li><a href="#200-definitions-imageResource-properties-roles-properties-roles" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-roles-properties-roles">roles（可选）：数组</a> <a href="#200-definitions-imageResource-properties-roles" class="btn btn-default btn-sm btn-xsm" role="button">角色</a>
            
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-roles-properties-roles">
                
                





















                
            </div>
            </li>
            
            <li><a href="#200-definitions-imageResource-properties-templateWithDataFiles-properties-templateWithDataFiles" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-templateWithDataFiles-properties-templateWithDataFiles">templateWithDataFiles（可选）：array</a> <a href="#200-definitions-imageResource-properties-templateWithDataFiles" class="btn btn-default btn-sm btn-xsm" role="button">templateWithDataFiles</a>
            
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-templateWithDataFiles-properties-templateWithDataFiles">
                
                





















                
            </div>
            </li>
            
            <li><a href="#200-definitions-imageResource-properties-templateWithoutDataFiles-properties-templateWithoutDataFiles" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-templateWithoutDataFiles-properties-templateWithoutDataFiles">templateWithoutDataFiles（可选）：array</a> <a href="#200-definitions-imageResource-properties-templateWithoutDataFiles" class="btn btn-default btn-sm btn-xsm" role="button">templateWithoutDataFiles</a>
            
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-templateWithoutDataFiles-properties-templateWithoutDataFiles">
                
                





















                
            </div>
            </li>
            
            <li><a href="#200-definitions-imageResource-properties-version-properties-version" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-version-properties-version">version（可选）：string</a>
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-version-properties-version">
                
                



























                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display:none"><code class="json">{“type”：“object”，“properties”：{“imageId”：{“type”：“string”}，“clientName”：{“type”：“string”}，“roles”：{“type” ：“array”，“items”：{“type”：“string”}}，“patches”：{“type”：“array”，“items”：{“type”：“string”}}，“parentImage “：{”type“：”string“}，”homePath“：{”type“：”string“}，”imageState“：{”type“：”string“}，”imageType“：{”type“：” string“}，”imageSize“：{”type“：”integer“}，”version“：{”type“：”string“}，”owner“：{”type“：”string“}，”complete“： {“type”：“boolean”}，“platform”：{“type”：“string”}，“containsNonRollingPatch”：{“type”：“boolean”}，“groupsConfigured”：{“type”：“string” }，“templateWithDataFiles”：{“type”：“array”，“items”：{“type”：“string”}}，“templateWithoutDataFiles”：{“type”：“array”，“items”：{“type “：”string“}}，”links“：{”type“：”array“，”items“：{”$ ref“：”＃/ definitions / singleResourceLinks“}}}}</code></pre>
    

    

    

    

    

    

    


</div>

                    
                    <div id="200-definitions-imageResource-properties-links" class="swagger-schema">
    <div class="panel-heading">嵌套架构：链接</div>
    
      
      <div class="schema-type">类型： <code>array</code></div>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <a href="#" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm" role="button" data-toggle="schema-view">显示来源</a>
        <ul class="schema-properties">
            
            <li><a href="#200-definitions-singleResourceLinks-items-0" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-singleResourceLinks-items-0">数组：对象</a> <a href="#200-definitions-singleResourceLinks" class="btn btn-default btn-sm btn-xsm" role="button">singleResourceLinks</a>
            
            <div class="collapse schema-summary" id="200-definitions-singleResourceLinks-items-0">
                
                





















                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display:none"><code class="json">{“type”：“array”，“items”：{“$ ref”：“＃/ definitions / singleResourceLinks”}}</code></pre>
    

    

    

    

    

    


</div>

                    
                    <div id="200-definitions-imageResource-properties-patches" class="swagger-schema">
    <div class="panel-heading">嵌套架构：补丁</div>
    
      
      <div class="schema-type">类型： <code>array</code></div>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <a href="#" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm" role="button" data-toggle="schema-view">显示来源</a>
        <ul class="schema-properties">
            
            <li><a href="#200-definitions-imageResource-properties-patches-items-items-0" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-patches-items-items-0">数组：字符串</a>
            
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-patches-items-items-0">
                
                



























                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display:none"><code class="json">{“type”：“array”，“items”：{“type”：“string”}}</code></pre>
    

    

    

    

    

    


</div>

                    
                    <div id="200-definitions-imageResource-properties-roles" class="swagger-schema">
    <div class="panel-heading">嵌套架构：角色</div>
    
      
      <div class="schema-type">类型： <code>array</code></div>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <a href="#" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm" role="button" data-toggle="schema-view">显示来源</a>
        <ul class="schema-properties">
            
            <li><a href="#200-definitions-imageResource-properties-roles-items-items-0" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-roles-items-items-0">数组：字符串</a>
            
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-roles-items-items-0">
                
                



























                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display:none"><code class="json">{“type”：“array”，“items”：{“type”：“string”}}</code></pre>
    

    

    

    

    

    


</div>

                    
                    <div id="200-definitions-imageResource-properties-templateWithDataFiles" class="swagger-schema">
    <div class="panel-heading">嵌套模式：templateWithDataFiles</div>
    
      
      <div class="schema-type">类型： <code>array</code></div>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <a href="#" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm" role="button" data-toggle="schema-view">显示来源</a>
        <ul class="schema-properties">
            
            <li><a href="#200-definitions-imageResource-properties-templateWithDataFiles-items-items-0" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-templateWithDataFiles-items-items-0">数组：字符串</a>
            
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-templateWithDataFiles-items-items-0">
                
                



























                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display:none"><code class="json">{“type”：“array”，“items”：{“type”：“string”}}</code></pre>
    

    

    

    

    

    


</div>

                    
                    <div id="200-definitions-imageResource-properties-templateWithoutDataFiles" class="swagger-schema">
    <div class="panel-heading">嵌套架构：templateWithoutDataFiles</div>
    
      
      <div class="schema-type">类型： <code>array</code></div>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <a href="#" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm" role="button" data-toggle="schema-view">显示来源</a>
        <ul class="schema-properties">
            
            <li><a href="#200-definitions-imageResource-properties-templateWithoutDataFiles-items-items-0" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-imageResource-properties-templateWithoutDataFiles-items-items-0">数组：字符串</a>
            
            <div class="collapse schema-summary" id="200-definitions-imageResource-properties-templateWithoutDataFiles-items-items-0">
                
                



























                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display:none"><code class="json">{“type”：“array”，“items”：{“type”：“string”}}</code></pre>
    

    

    

    

    

    


</div>

                    
                    <div id="200-definitions-singleResourceLinks" class="swagger-schema">
    <div class="panel-heading">嵌套模式：singleResourceLinks</div>
    
      <div class="schema-type">输入： <code>object</code></div>
      
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <a href="#" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm" role="button" data-toggle="schema-view">显示来源</a>
        <ul class="schema-properties">
            
            <li><a href="#200-definitions-singleResourceLinks-properties-href-properties-href" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-singleResourceLinks-properties-href-properties-href">href（可选）：字符串</a>
            <div class="collapse schema-summary" id="200-definitions-singleResourceLinks-properties-href-properties-href">
                
                
























<div>引用的超链接元素以绝对格式提供。</div>




                
            </div>
            </li>
            
            <li><a href="#200-definitions-singleResourceLinks-properties-rel-properties-rel" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="200-definitions-singleResourceLinks-properties-rel-properties-rel">rel（可选）：字符串</a>
            <div class="collapse schema-summary" id="200-definitions-singleResourceLinks-properties-rel-properties-rel">
                
                




















<div>允许值： <code>[ "self", "collection", "up", "describedBy" ]</code></div>





<div>指定链接与描述的资源的关系类型。</div>




                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display:none"><code class="json">{“type”：“object”，“properties”：{“rel”：{“type”：“string”，“description”：“指定链接与描述的资源的关系类型。”，“enum” ：[“self”，“collection”，“up”，“describedBy”]}，“href”：{“type”：“string”，“description”：“以绝对格式提供的引用超链接元素。” }}}</code></pre>
    

    

    

    

    

    

    


</div>

                    
                    </div>

                    
                    </div>
                
                </div>
                </div>
                
                <div class="response">
                <h4 class="response-code range">默认响应</h4>
                <div class="response-body">
                <div>意外的错误。一个JSON对象，包含执行操作时问题的错误详细信息。</div>

                


                
                    <div class="entity">
                    <div class="h5 hidden-print">身体 （ <span class="schema-path"></span> ）</div>


                    <div class="schema-container">
                    
                    <div id="default-definitions-errorResource" class="swagger-schema">
    <div class="panel-heading">Root Schema：errorResource</div>
    
      <div class="schema-type">输入： <code>object</code></div>
      
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <a href="#" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm" role="button" data-toggle="schema-view">显示来源</a>
        <ul class="schema-properties">
            
            <li><a href="#default-definitions-errorResource-properties-errorCode-properties-errorCode" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="default-definitions-errorResource-properties-errorCode-properties-errorCode">errorCode（可选）：字符串</a>
            <div class="collapse schema-summary" id="default-definitions-errorResource-properties-errorCode-properties-errorCode">
                
                
























<div>特定于应用程序的错误代码，与tittle中显示的错误消息有关。</div>




                
            </div>
            </li>
            
            <li><a href="#default-definitions-errorResource-properties-errorDetails-properties-errorDetails" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="default-definitions-errorResource-properties-errorDetails-properties-errorDetails">errorDetails（可选）：array</a> <a href="#default-definitions-errorResource-properties-errorDetails" class="btn btn-default btn-sm btn-xsm" role="button">errorDetails</a>
            
            <div class="collapse schema-summary" id="default-definitions-errorResource-properties-errorDetails-properties-errorDetails">
                
                




















<div class="description">如果报告了多个错误，则可以在此阵列中以分层结构组织它们。</div>


                
            </div>
            </li>
            
            <li><a href="#default-definitions-errorResource-properties-errorPath-properties-errorPath" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="default-definitions-errorResource-properties-errorPath-properties-errorPath">errorPath（可选）：string</a>
            <div class="collapse schema-summary" id="default-definitions-errorResource-properties-errorPath-properties-errorPath">
                
                
























<div>用于指示错误发生位置的XPath或JSON路径。</div>




                
            </div>
            </li>
            
            <li><a href="#default-definitions-errorResource-properties-instance-properties-instance" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="default-definitions-errorResource-properties-instance-properties-instance">instance（可选）：string</a>
            <div class="collapse schema-summary" id="default-definitions-errorResource-properties-instance-properties-instance">
                
                
























<div>链接的URI，提供有关错误的更多详细信息。</div>




                
            </div>
            </li>
            
            <li><a href="#default-definitions-errorResource-properties-status-properties-status" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="default-definitions-errorResource-properties-status-properties-status">status（可选）：整数</a>
            <div class="collapse schema-summary" id="default-definitions-errorResource-properties-status-properties-status">
                
                
























<div>HTTP状态代码。</div>




                
            </div>
            </li>
            
            <li><a href="#default-definitions-errorResource-properties-title-properties-title" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="default-definitions-errorResource-properties-title-properties-title">title（可选）：string</a>
            <div class="collapse schema-summary" id="default-definitions-errorResource-properties-title-properties-title">
                
                
























<div>摘要错误消息。</div>




                
            </div>
            </li>
            
            <li><a href="#default-definitions-errorResource-properties-type-properties-type" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="default-definitions-errorResource-properties-type-properties-type">type（可选）：string</a>
            <div class="collapse schema-summary" id="default-definitions-errorResource-properties-type-properties-type">
                
                
























<div>链接到HTTP错误代码页。</div>




                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display:none"><code class="json">{“type”：“object”，“properties”：{“status”：{“type”：“integer”，“description”：“HTTP状态代码”。 }，“type”：{“type”：“string”，“description”：“链接到HTTP错误代码页”。 }，“title”：{“type”：“string”，“description”：“摘要错误消息”。 }，“instance”：{“type”：“string”，“description”：“链接的URI，提供有关错误的更多详细信息。” }，“errorDetails”：{“type”：“array”，“description”：“如果报告了多个错误，则可以在此数组中以层次结构进行组织。”，“items”：[{“$ ref”： “＃/ definitions / errorResource”}]}，“errorPath”：{“type”：“string”，“description”：“XPath或JSON路径，指示错误发生的位置。” }，“errorCode”：{“type”：“string”，“description”：“特定于应用程序的错误代码，与tittle显示的错误消息有关。” }}}</code></pre>
    

    

    

    

    

    

    


</div>

                    
                    <div id="default-definitions-errorResource-properties-errorDetails" class="swagger-schema">
    <div class="panel-heading">嵌套架构：errorDetails</div>
    
      
      <div class="schema-type">类型： <code>array</code></div>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <div>如果报告了多个错误，则可以在此阵列中以分层结构组织它们。</div>
    

    

    

    

    
        <a href="#" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm" role="button" data-toggle="schema-view">显示来源</a>
        <ul class="schema-properties">
            
            <li><a href="#default-definitions-errorResource-items-0" role="button" data-toggle="prop-collapse" aria-expanded="false" aria-controls="default-definitions-errorResource-items-0">数组：对象</a> <a href="#default-definitions-errorResource" class="btn btn-default btn-sm btn-xsm" role="button">errorResource</a>
            
            <div class="collapse schema-summary" id="default-definitions-errorResource-items-0">
                
                





















                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display:none"><code class="json">{“type”：“array”，“description”：“如果报告了多个错误，则可以在此数组中以层次结构组织。”，“items”：[{“$ ref”：“＃/ definitions / errorResource “}]}</code></pre>
    

    

    

    

    

    


</div>

                    
                    </div>

                    
                    </div>
                
                </div>
                </div>
                

				<a href="#top" style="float:right">回到顶部</a>
				
                

            </section>

            
        </article>
    </body>
</html><html id="03635.PRIF-00001.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>PRIF-00001至PRIF-00053</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Error Messages"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Error Messages"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-error-messages.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T07:32:34-07:00"></meta>
      <meta name="dcterms.title" content="Database Error Messages"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95938-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="PRGZ-01000.html" title="Previous" type="text/html"></link>
      <link rel="next" href="PRKA-02001.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ERRMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="PRGZ-01000.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="PRKA-02001.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库错误消息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">PRIF-00001至PRIF-00053</li>
            </ol>
            <a id="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C" name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C"></a>
            
            <h2 id="ERRMG-GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C" class="sect2"><span class="enumeration_chapter">126</span> PRIF-00001至PRIF-00053</h2>
         </header>
         <div class="ind">
            <div>
               <dl>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-94421C1C-FCDE-42A6-8569-5453D66F3E07"><!-- --></a> PRIF-00001：网络接口格式无效</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>给出了无效的网络接口。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>提供格式为&lt;if_name&gt; / <span class="variable" translate="no">subnet</span> ：&lt;if_type&gt;的网络接口。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-99A46960-65B6-4870-BEE7-4311E9DBAD98"><!-- --></a> PRIF-00002：网络接口类型无效</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：给出</span>了无效的网络接口类型。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>提供一个有效的接口类型PUBLIC，CLUSTER_INTERCONNECT或ASM。</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-9D7782A0-B952-4CFA-A48D-E739BF82B571"><!-- --></a> PRIF-00003：找不到配置的输入接口</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试访问尚未配置的接口。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查输入接口是否通过“getif”命令选项配置。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-6F017834-4FC3-4F89-8922-DE88CF162D8E"><!-- --></a> PRIF-00004：删除给定接口的配置时出现OCR错误</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> OCR可能配置不正确或OCR API失败。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>通过运行ocrdump检查是否正确配置了OCR。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-F940C368-29F8-49C1-9E7E-F15400143841"><!-- --></a> PRIF-00005：setif命令选项的语法无效</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>为oifcfg setif命令选项指定了无效语法。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>确保setif的语法是“oifcfg setif {-node <span class="variable" translate="no">nodename</span> | -global} {&lt;if_name&gt; / <span class="variable" translate="no">subnet</span> ：&lt;if_type&gt;} ...”</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-53835D58-624D-4527-B732-177191391F4E"><!-- --></a> PRIF-00006：getif命令选项的语法无效</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>为oifcfg getif命令选项指定了无效语法。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>确保getif的语法为“oifcfg getif [-node <span class="variable" translate="no">nodename</span> | -global] [-if &lt;if_name&gt; [/ <span class="variable" translate="no">subnet</span> ] [-type &lt;if_type&gt;]]。”</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-7A83807A-DE3A-4B6C-A7E8-AE6CBC84B734"><!-- --></a> PRIF-00007：delif命令选项的语法无效</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>为oifcfg delif命令选项指定了无效语法。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>确保delif的语法为“oifcfg delif {{-node <span class="variable" translate="no">nodename</span> | -global} [&lt;if_name&gt; [/ <span class="variable" translate="no">subnet</span> ]] [-force] | -force}。”</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-6D60EC76-E39A-452F-B90B-7785DF79B666"><!-- --></a> PRIF-00008：无法初始化prifcg上下文</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>出现系统错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查日志文件oifcfg.log中的消息。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-5AC9D514-558B-4664-945E-63922A7AF861"><!-- --></a> PRIF-00009：使用不正确</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>为oifcfg工具指定的命令行选项无效。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>运行“oifcfg -help”以检查oifcfg工具的用法。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-E0930AE8-830F-4CF3-BE74-3254367F38D9"><!-- --></a> PRIF-00010：无法初始化群集注册表</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>未正确配置群集注册表。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>运行“ocrdump”以查看是否正确配置了群集注册表。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-4DEA0387-0B2A-4AD9-B503-F24836F4F2BB"><!-- --></a> PRIF-00011：群集注册表错误</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>在群集注册表上运行时出现内部错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查日志文件oifcfg.log中的消息。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-28489707-9FAE-4C69-8FAD-7709E02C2CE4"><!-- --></a> PRIF-00012：无法初始化群集支持服务</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>未正确配置群集支持服务模块。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查日志文件oifcfg.log中的消息。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-71C22B6A-0A3E-45B8-8C2D-AD9EC607791C"><!-- --></a> PRIF-00013：群集支持服务错误</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>访问群集支持服务时出现内部错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查群集支持服务是否正常运行。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-F68E365C-A997-4BA2-80E3-6343BB38FFED"><!-- --></a> PRIF-00014：节点名称无效</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>节点名称与任何已配置的节点都不匹配。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>确保提供的节点名称是“olsnodes”返回的节点名称之一。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-D2594465-B713-4F47-8EBF-2343DBC0B065"><!-- --></a> PRIF-00015：指定了无效的子网值</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>由于指定的子网参数不是有效的IPv4或IPv6子网号，因此拒绝了oifcfg请求。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>重试指定有效IPv4或IPv6子网的命令。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-9D5A05A1-BEAD-40D4-AFC4-B4370BE9405A"><!-- --></a> PRIF-00016：iflist命令选项的语法无效</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>为oifcfg iflist命令选项指定了无效语法。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>确保iflist的语法是“oifcfg iflist [-p [-n]]。”</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-28AE9B23-BD43-495E-B2DB-1EF4918E91E4"><!-- --></a> PRIF-00017：在群集中获取主机名时出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>调用clsgpnp_crs_getcsshosts时出现内部错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查此处显示的基础错误。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-8AC735A3-F7C4-48A8-A30D-25220776692A"><!-- --></a> PRIF-00018：从GPnP配置文件中删除网络信息时出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>调用clsgpnpx_prfDelHostNetInfo时出现内部错误。</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查此处显示的基础错误。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-62B37067-E9F0-4B54-8620-608D1A72E7E2"><!-- --></a> PRIF-00019：从GPnP配置文件获取网络属性值时出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>调用clsgpnpx_prfGetNetAttrVal时出现内部错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查此处显示的基础错误。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-2DBD5F02-A1F1-4737-89CF-EB69BFE3350E"><!-- --></a> PRIF-00020：获取GPnP配置文件的锁定时出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>调用clsgpnp_crs_cssLockUpdates时出现内部错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查此处显示的基础错误。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-26A2072A-36D4-4452-AA47-53005E3F27E7"><!-- --></a> PRIF-00021：获取GPnP配置文件时出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>调用clsgpnp_getProfile时出现内部错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查此处显示的基础错误。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-D0E6958D-7474-4446-A2FC-DB90F90BABC1"><!-- --></a> PRIF-00022：克隆GPnP配置文件时出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>调用clsgpnp_getProfile时出现内部错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查此处显示的基础错误。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-5D4CEFF7-7220-4F2B-95A7-A600BF6D1188"><!-- --></a> PRIF-00023：从GPnP配置文件获取网络接口时出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>调用clsgpnpx_prfGetHostNetInfo时出现内部错误</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查此处显示的基础错误。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-C3780771-072A-49C3-A6C7-177EF2628FA6"><!-- --></a> PRIF-00024：从GPnP配置文件检索网络接口时出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>由于潜在的错误，无法检索网络接口信息。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查此处显示的基础错误。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-60166D26-DF5B-482F-BC8A-0D565011EE96"><!-- --></a> PRIF-00025：在GPnP配置文件中设置网络属性值时出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>调用clsgpnpx_prfSetNetAttrVal时出现内部错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查此处显示的基础错误。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-5315A0D6-7E1C-49B2-8F39-9EB1C33CE9A7"><!-- --></a> PRIF-00026：更新群集中的配置文件时出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>调用clsgpnp_crs_ensuredSignAndPush时出现内部错误</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查此处显示的基础错误。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-8792393A-2378-4DE0-A80E-749BCE4CB760"><!-- --></a> PRIF-00027：释放GPnP配置文件的内存显示时出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>调用clsgpnp_profileDestroy时出现内部错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查此处显示的基础错误。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-7E1BDDA4-3656-471A-AC83-29F65897E519"><!-- --></a> PRIF-00028：解锁GPnP配置文件时出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>调用clsgpnp_crs_cssUnlockUpdates时出现内部错误。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>检查此处显示的基础错误。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-4E11A15F-392A-40EF-9D46-BE34E8881C29"><!-- --></a> PRIF-00029：警告：网络参数中的通配符可能导致GPnP配置文件，OCR和系统不匹配。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>在一个或多个与网络相关的参数中检测到通配符语法。虽然这是允许的，但请注意，群集的所有节点上的网络详细信息（例如接口名称和子网）必须相同。在网络参数中使用通配符语法不允许网络配置在节点之间变化。通配符语法的此问题仅限于10.2和11.1数据库。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>如果通配符导致问题，请为10.2和11.1数据库提供不带通配符的接口名称和子网。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-2CC0D36D-8A00-4E89-8B00-2D5A05EEC70E"><!-- --></a> PRIF-00030：OCR和GPnP配置文件中的网络信息不同</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span> OCR中的网络信息不匹配。</p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用'oifcfg setif'将GPnP配置文件中的网络信息同步到OCR。</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-26E8838C-3EE2-4318-8A11-CA9CE345D321"><!-- --></a> PRIF-00031：删除指定的网络接口失败，因为它是最后一个私有接口</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>拒绝了删除唯一专用网络接口的请求，因为未指定强制。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>指定'-force'选项以删除最后一个专用接口，但请注意，这可能会导致Oracle Clusterware无法运行。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-1A8438C7-D1FD-4D30-961C-249ACB94A907"><!-- --></a> PRIF-00032：检查主机<span class="variable" translate="no">string</span> \ n <span class="variable" translate="no">string</span>配置文件可用性时出错</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>无法设置或删除接口，因为配置文件在指定节点上不可用。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>在设置界面或删除界面之前，请确保所有群集节点上的配置文件均可用。检查随附的错误消息并做出相应的响应。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-1995FF26-96E4-4CC2-A090-143020C392FE"><!-- --></a> PRIF-00033：无法设置或删除接口，因为无法发现主机\ n <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试设置或删除接口失败，因为无法发现主机或无法访问其GPnP配置文件。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>确保Oracle GPnP和mDNS后台驻留程序在所有群集节点上运行，并解决随附错误消息中报告的任何其他问题。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-D3A76453-0D29-40EE-B795-922E0F2BCA8C"><!-- --></a> PRIF-00034：群集互连或Oracle ASM网络不支持IPv6子网</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试将IPv6子网分类为Oracle ASM网络或群集互连。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>将IPv4子网用于Oracle ASM网络和群集互连。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-4D434EAE-0C18-4B9A-A5D9-56407FC1B887"><!-- --></a> PRIF-00035：无法检索全局接口的[OCR]注册表项[ <span class="variable" translate="no">string</span> ] [ <span class="variable" translate="no">string</span> ]</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试从OCR获取指定全局接口的注册表项失败。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用'oifcfg delif -global &lt;if_name&gt; [-force]'删除包含无效密钥的接口。使用'oifcfg setif -global &lt;if_name&gt; / <span class="variable" translate="no">subnet</span> ：&lt;if_type&gt;'重置接口。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-B328F251-CC95-4658-BF26-589D5D1C47E5"><!-- --></a> PRIF-00036：无法为节点<span class="variable" translate="no">string</span>上的接口<span class="variable" translate="no">string</span>检索OCR注册表项[ <span class="variable" translate="no">string</span> ]</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试从OCR获取指定接口的注册表项失败。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>使用'oifcfg delif -node <span class="variable" translate="no">nodename</span> &lt;if_name&gt; [-force]'删除包含无效密钥的接口。使用'oifcfg setif -node <span class="variable" translate="no">nodename</span> &lt;if_name&gt; / <span class="variable" translate="no">subnet</span> ：&lt;if_type&gt;'重置接口。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-0ACC44B7-A15D-4372-A817-ED29B4388392"><!-- --></a> PRIF-00037：重复接口类型[ <span class="variable" translate="no">string</span> ]为接口[指定<span class="variable" translate="no">string</span> ]</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试配置网络被拒绝，因为为指示的接口指定了多次指定的接口类型。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>提供格式为&lt;if_name&gt; / <span class="variable" translate="no">subnet</span> ：&lt;if_type&gt;的网络接口。确保为&lt;if_name&gt; / <span class="variable" translate="no">subnet</span> ：&lt;if_type&gt;提供唯一的组合</p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-D5260C10-22E2-4135-8D2A-03676F7BA98B"><!-- --></a> PRIF-00038：群集互连不支持IPv4和IPv6地址类型。
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试将网络分类为CLUSTER_INTERCONNECT失败，因为指定的地址类型与剩余的互连不匹配。所有群集互连网络必须具有相同的地址类型，IPv4或IPv6。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>重试指定与现有互连相同的地址类型的操作，或者，要更改群集互连的地址类型，请删除所有群集互连，并使用相同的新地址类型（IPv4或IPv6）将其添加回来。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-FECB562D-9EA9-402F-8D1C-4BD926F8FC86"><!-- --></a> PRIF-00039：错误：安装了Oracle Restart，oifcfg命令在此环境中无效</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>在Oracle Restart环境中运行了无效命令。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>不要在Oracle Restart环境中使用oifcfg实用程序。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-ECD59C64-64FD-4165-86C7-6D7BD66303AA"><!-- --></a> PRIF-00040：无法删除指定的网络接口，因为它是最后一个ASM接口</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>拒绝删除唯一ASM网络接口的请求，因为未指定-force。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>指定-force选项以删除最后一个ASM界面。但请注意，这可能会导致Oracle Clusterware无法运行。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-0E79D6FE-D68E-47E5-8698-F8CF737B6B60"><!-- --></a> PRIF-00041：无法修改指定的网络接口，因为它是最后一个专用接口</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试修改唯一专用接口的网络接口类型被拒绝，因为它可能导致Oracle Clusterware无法运行。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>不要修改唯一的私有接口的接口类型。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-516C37EE-99C3-49E4-AA6F-3DBAC070744B"><!-- --></a> PRIF-00042：无法修改指定的网络接口，因为它是最后一个ASM接口</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>尝试修改唯一的Oracle ASM接口的网络接口类型被拒绝，因为它可能导致Oracle Clusterware无法运行。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>请勿修改唯一的Oracle ASM界面的接口类型。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-079CC928-354D-40FF-9D94-53F86C83C739"><!-- --></a> PRIF-00050：输入中给出了重复的接口</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>输入中给出了重复的接口。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>警告：提供格式为&lt;if_name&gt; / <span class="variable" translate="no">subnet</span> ：&lt;if_type&gt;的网络接口。如果在同一命令行中提供了多个输入或者条目已存在，请确保为&lt;if_name&gt; / <span class="variable" translate="no">subnet</span> ：&lt;if_type&gt;提供唯一组合。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-448DB95E-3484-4142-8D2B-A8C0C85298C1"><!-- --></a> PRIF-00051：警告：interface [ <span class="variable" translate="no">string</span> ]设置为public和cluster_interconnect</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>该接口设置为public和cluster_interconnect。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>警告：确保接口未设置为public和cluster_interconnect。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-786EFE70-F0CC-46E9-9130-5CE50C2507AE"><!-- --></a> PRIF-00052：无法立即锁定GPnP配置文件。等待锁定......
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>该命令无法使用nowait选项获取独占CSS锁定。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span> Ctrl-C如果等待太久。检查集群件的设置。

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-7A59D5BC-370C-41AC-84BD-C1981AC5451C__GUID-293D77C4-29F3-4287-B809-4F6237ACD41E"><!-- --></a> PRIF-00053：为接口[ <span class="variable" translate="no">string</span> ]指定的类型组合无效</dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">原因：</span>网络接口规范包括“公共”和“asm”类型。

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">操作：</span>确保接口未设置为“public”和“asm”。

                     </p>
                     
                  </dd>
               </dl>
            </div>
         </div>
      </article>
   </body>
</html><html id="10368.Automatic-Locks-in-DML-Operations.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>DML操作中的自动锁定</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="Automatic-and-Manual-Locking-Mechanisms-During-SQL-Operations.html" title="Previous" type="text/html"></link>
      <link rel="next" href="Automatic-Locks-in-DDL-Operations.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Automatic-and-Manual-Locking-Mechanisms-During-SQL-Operations.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="Automatic-Locks-in-DDL-Operations.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Automatic-and-Manual-Locking-Mechanisms-During-SQL-Operations.html" property="item" typeof="WebPage"><span property="name">SQL操作期间的自动和手动锁定机制</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DML操作中的自动锁定</li>
            </ol>
            <a id="GUID-3D57596F-8B73-4C80-8F4D-79A12F781EFD" name="GUID-3D57596F-8B73-4C80-8F4D-79A12F781EFD"></a><a id="SQLRF55503"></a><a id="SQLRF55504"></a><a id="SQLRF55505"></a><a id="SQLRF55506"></a><a id="SQLRF55507"></a><a id="SQLRF55508"></a><a id="SQLRF55502"></a>
            
            <h2 id="SQLRF-GUID-3D57596F-8B73-4C80-8F4D-79A12F781EFD" class="sect2">DML操作中的自动锁定</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='Automatic-Locks-in-DML-Operations'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <div class="section">
                  <p><a id="d448581e123" class="indexterm-anchor"></a><a id="d448581e127" class="indexterm-anchor"></a> DML锁的目的，也称为<span class="bold">数据锁</span> ，是为了保证多个用户同时访问的数据的完整性。例如，DML锁定可以防止多个客户购买在线书商提供的书籍的最后一个副本。DML锁可防止同时冲突的DML或DDL操作的破坏性干扰。
                  </p>
                  <p>DML语句自动获取表级和行级的锁。在后面的部分中，每种类型的锁定或锁定模式后括号中的首字母缩写词是Oracle Enterprise Manager的锁定监视器中使用的缩写。企业管理器可能会为任何表锁显示“TM”，而不是指示表锁的模式（例如RS或SRX）。</p>
                  <p>这里总结了行和表锁的类型。有关行和表锁类型的更完整讨论，请参阅<a href="../cncpt/data-concurrency-and-consistency.html#CNCPT1339" target="_blank"><span class="italic">Oracle数据库概念</span></a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3D57596F-8B73-4C80-8F4D-79A12F781EFD__GUID-0D4FB99A-8654-4369-A618-F10DE05CBBD5">行锁（TX）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><a id="d448581e149" class="indexterm-anchor"></a><a id="d448581e151" class="indexterm-anchor"></a><a id="d448581e155" class="indexterm-anchor"></a><a id="d448581e157" class="indexterm-anchor"></a><a id="d448581e161" class="indexterm-anchor"></a><a id="d448581e165" class="indexterm-anchor"></a> <span class="bold">行锁</span> （也称为<span class="bold">TX锁</span> ）是表的单行上的锁。事务获取由以下语句之一修改的每一行的行锁： <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code> ， <code class="codeph">DELETE</code> ， <code class="codeph">MERGE</code>和<code class="codeph">SELECT</code> ...<code class="codeph">FOR</code> <code class="codeph">UPDATE</code> 。行锁定存在，直到事务提交或回滚。
                  </p>
                  <p>当事务获取行的行锁时，该事务还会获取该行所在表的表锁。表锁可防止冲突的DDL操作，这些操作将覆盖当前事务中的数据更改。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3D57596F-8B73-4C80-8F4D-79A12F781EFD__GUID-D8DC4534-13A5-44E7-A275-0615E2453BFA">表锁（TM）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><a id="d448581e206" class="indexterm-anchor"></a><a id="d448581e210" class="indexterm-anchor"></a>使用以下语句修改表时，事务会自动获取表锁（ <span class="bold">TM锁</span> ）： <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code> ， <code class="codeph">DELETE</code> ， <code class="codeph">MERGE</code>和<code class="codeph">SELECT</code> ...<code class="codeph">FOR</code> <code class="codeph">UPDATE</code> 。这些DML操作需要表锁来代表事务保留对表的DML访问，并防止与事务冲突的DDL操作。您可以使用<code class="codeph">LOCK</code> <code class="codeph">TABLE</code>语句显式获取表锁，如<span class="q">“ <a href="Manual-Data-Locking.html#GUID-B1DE7D59-7FD1-4971-B98D-B69529DF7688">手动数据锁定</a> ”中所述</span> 。
                  </p>
                  <p>表锁可以采用以下任何一种模式进行保存：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">行共享锁（RS）</span> （也称为子<span class="bold">共享表锁（SS））</span>指示持有表上锁的事务已锁定表中的行并打算更新它们。SS锁是表锁的最少限制模式，为表提供最高程度的并发性。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">行独占锁（RX）</span> ，也称为<span class="bold">子</span> <span class="bold">独占</span> <span class="bold">表锁（SX）</span> ，表示持有锁的事务已更新表行或发出<code class="codeph">SELECT</code> ...<code class="codeph">FOR</code> <code class="codeph">UPDATE</code> 。 SX锁允许其他事务在同一个表中同时查询，插入，更新，删除或锁定行。因此，SX锁允许多个事务为同一个表获取同时的SX和SS锁。
                        </p>
                     </li>
                     <li>
                        <p>一个事务持有的<span class="bold">共享表锁（S）</span>允许其他事务查询表（不使用<code class="codeph">SELECT</code> ...<code class="codeph">FOR</code> <code class="codeph">UPDATE</code> ）但仅在单个事务持有共享表锁时才允许更新。多个事务可能同时持有共享表锁，因此保持此锁定不足以确保事务可以修改表。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">共享行独占表锁（SRX）</span> （也称为<span class="bold">共享 - 子</span> <span class="bold">独占表锁（</span> <span class="bold">SSX））</span>比共享表锁更具限制性。一次只有一个事务可以获取给定表上的SSX锁。事务持有的SSX锁允许其他事务查询表（ <code class="codeph">SELECT</code> ...除外）<code class="codeph">FOR</code> <code class="codeph">UPDATE</code> ）但不更新表。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">独占表锁（X）</span>是<span class="bold">表锁</span>的最严格模式，允许持有锁的事务对表进行独占写访问。只有一个事务可以获取表的X锁。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-3D57596F-8B73-4C80-8F4D-79A12F781EFD__GUID-D097DF33-6008-4C7E-8ACC-11E31F763208">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="Manual-Data-Locking.html#GUID-B1DE7D59-7FD1-4971-B98D-B69529DF7688">手动数据锁定</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3D57596F-8B73-4C80-8F4D-79A12F781EFD__GUID-956E97D1-633E-4682-9287-B1A9710986EE">锁定DML操作</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>Oracle数据库代表DML操作自动获取行级和表级锁。操作类型决定了锁定行为。<a href="Automatic-Locks-in-DML-Operations.html#GUID-3D57596F-8B73-4C80-8F4D-79A12F781EFD__BABCJIAJ" title="表锁摘要">表B-1</a>总结了本节中的信息。
                  </p>
                  <div class="infoboxnote" id="GUID-3D57596F-8B73-4C80-8F4D-79A12F781EFD__GUID-F115A6CC-36D7-451D-8556-ADAEF0F25295">
                     <p class="notep1">注意：</p>
                     <p>由于约束的副作用， <a href="Automatic-Locks-in-DML-Operations.html#GUID-3D57596F-8B73-4C80-8F4D-79A12F781EFD__BABCJIAJ" title="表锁摘要">表B-1</a>中为DML语句显示的隐式SX锁有时可能是短时间的独占（X）锁。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="tblformal" id="GUID-3D57596F-8B73-4C80-8F4D-79A12F781EFD__BABCJIAJ">
                  <p class="titleintable">表B-1 DML语句获得的锁的摘要</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="DML声明获得的锁定摘要" width="100%" border="1" summary="Summary of Table Locks" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="46%" id="d448581e360">SQL语句</th>
                           <th align="left" valign="bottom" width="9%" id="d448581e363">行锁</th>
                           <th align="left" valign="bottom" width="9%" id="d448581e366">表锁模式</th>
                           <th align="left" valign="bottom" width="7%" id="d448581e369">RS</th>
                           <th align="left" valign="bottom" width="7%" id="d448581e372">RX</th>
                           <th align="left" valign="bottom" width="7%" id="d448581e375">小号</th>
                           <th align="left" valign="bottom" width="7%" id="d448581e378">SRX</th>
                           <th align="left" valign="bottom" width="7%" id="d448581e381">X</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="46%" id="d448581e386" headers="d448581e360 ">
                              <p><code class="codeph">SELECT</code> ......<code class="codeph">FROM</code> <span class="italic"><code class="codeph">table</code></span> <code class="codeph">...</code></p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e386 d448581e363 ">
                              <p>-</p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e386 d448581e366 ">
                              <p>没有</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e386 d448581e369 ">
                              <p>ÿ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e386 d448581e372 ">
                              <p>ÿ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e386 d448581e375 ">
                              <p>ÿ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e386 d448581e378 ">
                              <p>ÿ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e386 d448581e381 ">
                              <p>ÿ</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="46%" id="d448581e421" headers="d448581e360 ">
                              <p><code class="codeph">INSERT</code> <code class="codeph">INTO</code> <span class="italic"><code class="codeph">table</code></span> ...
                              </p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e421 d448581e363 ">
                              <p>是</p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e421 d448581e366 ">
                              <p>SX</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e421 d448581e369 ">
                              <p>ÿ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e421 d448581e372 ">
                              <p>ÿ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e421 d448581e375 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e421 d448581e378 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e421 d448581e381 ">
                              <p>ñ</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="46%" id="d448581e455" headers="d448581e360 ">
                              <p><code class="codeph">UPDATE</code> <span class="italic"><code class="codeph">table</code></span> ...
                              </p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e455 d448581e363 ">
                              <p>是</p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e455 d448581e366 ">
                              <p>SX</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e455 d448581e369 ">
                              <p>Y <a id="GUID-3D57596F-8B73-4C80-8F4D-79A12F781EFD__BABHAJFD" name="GUID-3D57596F-8B73-4C80-8F4D-79A12F781EFD__BABHAJFD" href="#GUID-3D57596F-8B73-4C80-8F4D-79A12F781EFD__BABHAJFD" yes,="" if="" no="" conflicting="" row="" locks="" are="" held="" by="" another="" transaction.="" otherwise,="" waits="" occur=")" ="" onclick="footdisplay(1, "><sup>脚1</sup></a></p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e455 d448581e372 ">
                              <p>Y <a id="fnsrc_d448581e479" name="fnsrc_d448581e479" href="#fnsrc_d448581e479" yes,="" if="" no="" conflicting="" row="" locks="" are="" held="" by="" another="" transaction.="" otherwise,="" waits="" occur=")" ="" onclick="footdisplay(1, "><sup>Footref 1</sup></a></p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e455 d448581e375 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e455 d448581e378 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e455 d448581e381 ">
                              <p>ñ</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="46%" id="d448581e491" headers="d448581e360 ">
                              <p><code class="codeph">MERGE</code> <code class="codeph">INTO</code> <span class="italic"><code class="codeph">table</code></span> ......
                              </p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e491 d448581e363 ">
                              <p>是</p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e491 d448581e366 ">
                              <p>SX</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e491 d448581e369 ">
                              <p>ÿ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e491 d448581e372 ">
                              <p>ÿ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e491 d448581e375 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e491 d448581e378 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e491 d448581e381 ">
                              <p>ñ</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="46%" id="d448581e525" headers="d448581e360 ">
                              <p><code class="codeph">FROM</code> <span class="italic"><code class="codeph">table</code></span> <code class="codeph">DELETE</code> ...
                              </p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e525 d448581e363 ">
                              <p>是</p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e525 d448581e366 ">
                              <p>SX</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e525 d448581e369 ">
                              <p>Y <a id="fnsrc_d448581e546" name="fnsrc_d448581e546" href="#fnsrc_d448581e546" yes,="" if="" no="" conflicting="" row="" locks="" are="" held="" by="" another="" transaction.="" otherwise,="" waits="" occur=")" ="" onclick="footdisplay(1, "><sup>Footref 1</sup></a></p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e525 d448581e372 ">
                              <p>Y <a id="fnsrc_d448581e551" name="fnsrc_d448581e551" href="#fnsrc_d448581e551" yes,="" if="" no="" conflicting="" row="" locks="" are="" held="" by="" another="" transaction.="" otherwise,="" waits="" occur=")" ="" onclick="footdisplay(1, "><sup>Footref 1</sup></a></p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e525 d448581e375 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e525 d448581e378 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e525 d448581e381 ">
                              <p>ñ</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="46%" id="d448581e563" headers="d448581e360 ">
                              <p><code class="codeph">SELECT</code> ......<code class="codeph">FROM</code> <span class="italic"><code class="codeph">table</code></span> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> <code class="codeph">OF</code> ...
                              </p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e563 d448581e363 ">
                              <p>是</p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e563 d448581e366 ">
                              <p>SX</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e563 d448581e369 ">
                              <p>Y <a id="fnsrc_d448581e593" name="fnsrc_d448581e593" href="#fnsrc_d448581e593" yes,="" if="" no="" conflicting="" row="" locks="" are="" held="" by="" another="" transaction.="" otherwise,="" waits="" occur=")" ="" onclick="footdisplay(1, "><sup>Footref 1</sup></a></p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e563 d448581e372 ">
                              <p>Y <a id="fnsrc_d448581e598" name="fnsrc_d448581e598" href="#fnsrc_d448581e598" yes,="" if="" no="" conflicting="" row="" locks="" are="" held="" by="" another="" transaction.="" otherwise,="" waits="" occur=")" ="" onclick="footdisplay(1, "><sup>Footref 1</sup></a></p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e563 d448581e375 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e563 d448581e378 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e563 d448581e381 ">
                              <p>ñ</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="46%" id="d448581e610" headers="d448581e360 ">
                              <p><code class="codeph">LOCK</code> <code class="codeph">TABLE</code> <span class="italic"><code class="codeph">table</code></span> <code class="codeph">IN</code> ...
                              </p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e610 d448581e363 ">
                              <p>-</p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e610 d448581e366 ">
                              <p></p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e610 d448581e369 ">
                              <p></p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e610 d448581e372 ">
                              <p></p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e610 d448581e375 ">
                              <p></p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e610 d448581e378 ">
                              <p></p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e610 d448581e381 ">
                              <p></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="46%" id="d448581e641" headers="d448581e360 ">
                              <p>   <code class="codeph">ROW</code> <code class="codeph">SHARE</code> <code class="codeph">MODE</code></p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e641 d448581e363 ">
                              <p></p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e641 d448581e366 ">
                              <p>SS</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e641 d448581e369 ">
                              <p>ÿ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e641 d448581e372 ">
                              <p>ÿ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e641 d448581e375 ">
                              <p>ÿ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e641 d448581e378 ">
                              <p>ÿ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e641 d448581e381 ">
                              <p>ñ</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="46%" id="d448581e673" headers="d448581e360 ">
                              <p>   <code class="codeph">ROW</code> <code class="codeph">EXCLUSIVE</code> <code class="codeph">MODE</code></p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e673 d448581e363 ">
                              <p></p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e673 d448581e366 ">
                              <p>SX</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e673 d448581e369 ">
                              <p>ÿ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e673 d448581e372 ">
                              <p>ÿ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e673 d448581e375 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e673 d448581e378 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e673 d448581e381 ">
                              <p>ñ</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="46%" id="d448581e705" headers="d448581e360 ">
                              <p>   <code class="codeph">SHARE</code> <code class="codeph">MODE</code></p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e705 d448581e363 ">
                              <p></p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e705 d448581e366 ">
                              <p>小号</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e705 d448581e369 ">
                              <p>ÿ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e705 d448581e372 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e705 d448581e375 ">
                              <p>ÿ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e705 d448581e378 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e705 d448581e381 ">
                              <p>ñ</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="46%" id="d448581e734" headers="d448581e360 ">
                              <p>   <code class="codeph">SHARE</code> <code class="codeph">ROW</code> <code class="codeph">EXCLUSIVE</code> <code class="codeph">MODE</code></p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e734 d448581e363 ">
                              <p></p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e734 d448581e366 ">
                              <p>SSX</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e734 d448581e369 ">
                              <p>ÿ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e734 d448581e372 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e734 d448581e375 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e734 d448581e378 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e734 d448581e381 ">
                              <p>ñ</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="46%" id="d448581e770" headers="d448581e360 ">
                              <p>   <code class="codeph">EXCLUSIVE</code> <code class="codeph">MODE</code></p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e770 d448581e363 ">
                              <p></p>
                           </td>
                           <td align="left" valign="top" width="9%" headers="d448581e770 d448581e366 ">
                              <p>X</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e770 d448581e369 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e770 d448581e372 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e770 d448581e375 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e770 d448581e378 ">
                              <p>ñ</p>
                           </td>
                           <td align="left" valign="top" width="7%" headers="d448581e770 d448581e381 ">
                              <p>ñ</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <p class="tablefootnote"><sup class="tablefootnote">脚注1</sup></p><p>是的，如果另一个事务没有保留冲突的行锁。否则，等待发生。</p>
               <p></p>
               <div class="section">
                  <p class="subhead1" id="GUID-3D57596F-8B73-4C80-8F4D-79A12F781EFD__GUID-08155532-E89C-4290-86CA-D3B3C9FE4CB7">查询行时锁定</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><a id="d448581e803" class="indexterm-anchor"></a>查询可以是显式的，如在<code class="codeph">SELECT</code>语句中，也可以是隐式的，如在大多数<code class="codeph">INSERT</code> ， <code class="codeph">MERGE</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>语句中一样。唯一不一定包含查询组件的DML语句是带有<code class="codeph">VALUES</code>子句的<code class="codeph">INSERT</code>语句。因为查询只读取数据，所以它们是最不可能干扰其他SQL语句的SQL语句。
                  </p>
                  <p>以下特征适用于<span class="italic">没有</span> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code>子句的查询：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>查询不获取数据锁。因此，其他事务可以查询和更新正在查询的表，包括正在查询的特定行。因为没有<code class="codeph">FOR</code> <code class="codeph">UPDATE</code>子句的查询不会获取任何数据锁来阻止其他操作，所以此类查询通常称为<span class="bold">非阻塞查询</span> 。
                        </p>
                     </li>
                     <li>
                        <p>查询不必等待释放任何数据锁。因此，查询始终可以继续。此规则的一个例外是查询可能必须在某些特定的待处理分布式事务的情况下等待数据锁定。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-3D57596F-8B73-4C80-8F4D-79A12F781EFD__GUID-4E58A092-C37C-4787-AAC1-1034F2F199E9">行修改时锁定</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>某些数据库使用锁管理器来维护内存中的锁列表。相反，Oracle数据库将锁信息存储在包含锁定行的数据块中。每个行锁仅影响一行。</p>
                  <p>Oracle数据库使用排队机制来获取行锁。如果事务需要行锁定，并且该行尚未锁定，则事务会在行的数据块中获取锁定。事务本身在块头的<span class="bold">感兴趣的事务列表（ITL）</span>部分中有一个条目。此事务修改的每一行都指向存储在ITL中的事务ID的副本。因此，由单个事务修改的同一块中的100行需要100个行锁，但是所有100行引用单个事务ID。</p>
                  <p>当事务结束时，事务ID保留在数据块头的ITL部分中。如果新事务要修改行，则它使用事务ID来确定锁是否处于活动状态。如果锁是活动的，那么新事务的会话要求在释放锁时通知;否则，新交易获得锁定。</p>
                  <p><code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code> ， <code class="codeph">DELETE</code>和<code class="codeph">SELECT</code> ......<code class="codeph">FOR</code> <code class="codeph">UPDATE</code>语句如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>包含DML语句的事务在由语句修改的行上获取独占行锁。因此，在锁定事务提交或回滚之前，其他事务无法更新或删除锁定的行。</p>
                     </li>
                     <li>
                        <p>除了这些行锁之外，包含修改数据的DML语句的事务还需要在包含受影响行的表上至少包含一个子例外表锁（SX）。如果事务已经拥有表的S，SRX或X表锁（比SX锁更严格），则不需要SX锁，也不会获取。但是，如果包含的事务只包含SS锁，则Oracle数据库会自动将SS锁转换为SX锁。</p>
                     </li>
                     <li>
                        <p>包含DML语句的事务不需要对子查询或隐式查询选择的任何行执行行锁定。</p>
                        <p>在以下示例<code class="codeph">UPDATE</code>语句中，括号中的<code class="codeph">SELECT</code>语句是子查询，而<code class="codeph">WHERE a &gt; 5</code>子句是隐式查询：</p><pre class="oac_no_warn" dir="ltr">UPDATE t SET x =（SELECT y FROM t2 WHERE t2.z = tz）WHERE a&gt; 5;</pre><p>DML语句中的子查询或隐式查询保证在查询开始时是一致的，并且不会看到它构成其一部分的DML语句的效果。</p>
                     </li>
                     <li>
                        <p>事务中的查询可以查看先前DML语句在同一事务中所做的更改，但不能查看其他事务的未提交更改。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-3D57596F-8B73-4C80-8F4D-79A12F781EFD__GUID-C56E4549-25CE-495E-AA90-FB46AAE986E3">
                     <p class="notep1">也可以看看：</p>
                     <p>有关外键锁定的信息，请参阅<a href="../cncpt/data-concurrency-and-consistency.html#CNCPT1359" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="01619.getting-started-with-oracle-text.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can create an Oracle Text developer user account and build simple text query and catalog applications."></meta>
      <meta name="description" content="You can create an Oracle Text developer user account and build simple text query and catalog applications."></meta>
      <title>Oracle Text入门</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Application Developer&#39;s Guide "></meta>
      <meta property="og:description" content="You can create an Oracle Text developer user account and build simple text query and catalog applications."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Application Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="text-application-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:45:16-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96275-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="understanding-oracle-text-application-development.html" title="Previous" type="text/html"></link>
      <link rel="next" href="indexing-with-oracle-text.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Application Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="CCAPP"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="understanding-oracle-text-application-development.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="indexing-with-oracle-text.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">应用程序开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Text入门</li>
            </ol>
            <a id="GUID-D954F00B-1019-475A-ACD6-82E32DE8773B" name="GUID-D954F00B-1019-475A-ACD6-82E32DE8773B"></a><a id="CCAPP0200"></a>
            
            <h2 id="CCAPP-GUID-D954F00B-1019-475A-ACD6-82E32DE8773B" class="sect2"><span class="enumeration_chapter">2</span> Oracle Text入门</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以创建Oracle Text开发人员用户帐户并构建简单的文本查询和目录应用程序。</p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="getting-started-with-oracle-text.html#GUID-2F586496-2F56-49D5-B61E-4344E4A6577C">Oracle Text入门概述</a></p>
                  </li>
                  <li>
                     <p><a href="administering-oracle-text.html#GUID-AED02059-54CF-4498-9321-EFFA504CE5A6" title="在Oracle Database Vault环境中，如果您具有DV_ACCTMGR角色，则可以创建CTXSYS用户。">在Oracle Database Vault环境中配置Oracle Text</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oracle-text.html#GUID-2654C316-2C70-4CD1-AFA4-5FD601D8624F">创建Oracle文本用户</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oracle-text.html#GUID-8D1FF789-F5F2-4C0A-9D8E-978DADBBC4F2" title="您可以使用SQL * Loader批量加载表。">查询应用程序快速浏览</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oracle-text.html#GUID-7648841D-DE6D-441D-8C1B-5883675C236F" title="您可以使用SQL * Loader批量加载表。">目录应用快速浏览</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started-with-oracle-text.html#GUID-0AA9ED63-E6F8-4123-A3A9-7BB5676BC040">分类应用快速浏览</a></p>
                  </li>
               </ul>
            </div>
            <div class="props_rev_3"><a id="GUID-2F586496-2F56-49D5-B61E-4344E4A6577C" name="GUID-2F586496-2F56-49D5-B61E-4344E4A6577C"></a><h3 id="CCAPP-GUID-2F586496-2F56-49D5-B61E-4344E4A6577C" class="sect3"><span class="enumeration_section">2.1</span> Oracle Text入门概述</h3>
               <div>
                  <p>本章提供有关如何配置Oracle Text，如何创建Oracle Text开发人员用户帐户以及如何构建简单文本查询和目录应用程序的基本信息。它还提供有关加载，索引和查询表的每种应用程序的基本SQL语句的信息。</p>
                  <p>附录中给出了更完整的应用示例。</p>
                  <div class="infoboxnote" id="GUID-2F586496-2F56-49D5-B61E-4344E4A6577C__GUID-CE3DA49C-4C7A-43EE-BB0E-B4911E9CA747">
                     <p class="notep1">注意：</p>
                     <p>本章省略了<code class="codeph">SQL&gt;</code>提示，部分是为了提高可读性，部分是为了便于您剪切和粘贴文本。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-2F586496-2F56-49D5-B61E-4344E4A6577C__GUID-04F9E5C2-B4E7-440C-A23E-AAE9F5EFAC3D">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="classifying-documents-in-oracle-text.html#GUID-D694A98B-3B18-48B2-B10E-FB884B436FAF" title="Oracle Text提供了各种文档分类方法。">在Oracle Text中</a></span>分类文档<span class="q">”</span>以了解有关构建文档分类应用程序的更多信息</p>
                  </div>
               </div>
            </div><a id="CCAPP9014"></a><div class="props_rev_3"><a id="GUID-2654C316-2C70-4CD1-AFA4-5FD601D8624F" name="GUID-2654C316-2C70-4CD1-AFA4-5FD601D8624F"></a><h3 id="CCAPP-GUID-2654C316-2C70-4CD1-AFA4-5FD601D8624F" class="sect3"><span class="enumeration_section">2.2</span>创建Oracle Text用户</h3>
               <div>
                  <div class="section">
                     <p>在创建Oracle Text索引并使用Oracle Text PL / SQL包之前，您需要创建一个用户<a id="d5610e259" class="indexterm-anchor"></a> <code class="codeph">CTXAPP</code>作用。此角色使您可以执行以下操作：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>创建和删除Oracle Text索引首选项</p>
                        </li>
                        <li>
                           <p>使用Oracle Text PL / SQL包</p>
                        </li>
                     </ul>
                     <p><a id="d5610e273" class="indexterm-anchor"></a>要创建Oracle Text应用程序开发人员用户，请以系统管理员用户身份执行以下步骤：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>创建用户。</span><div>
                           <p>以下SQL语句创建名为<code class="codeph">MYUSER</code>的用户，密码为<code class="codeph"><span class="codeinlineitalic">password</span></code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE USER myuser IDENTIFIED BY <span class="italic">password</span> ;</pre></div>
                     </li>
                     <li class="stepexpand"><span>向用户授予角色。</span><div>
                           <p>以下SQL语句授予所需的角色<a id="d5610e303" class="indexterm-anchor"></a> <code class="codeph">RESOURCE</code> ， <a id="d5610e308" class="indexterm-anchor"></a> <code class="codeph">CONNECT</code> ，和<a id="d5610e313" class="indexterm-anchor"></a> <code class="codeph">CTXAPP</code>到<code class="codeph">MYUSER</code> ：</p><pre class="oac_no_warn" dir="ltr">资源，连接，CTXAPP到MYUSER;</pre></div>
                     </li>
                     <li class="stepexpand"><span>授予<code class="codeph">CTX PL/SQL</code>包的EXECUTE特权。</span><div>
                           <p>Oracle Text包含几个允许您执行从同步Oracle Text索引到突出显示文档的操作的包。例如， <code class="codeph">CTX_DDL</code>包中包含<a id="d5610e337" class="indexterm-anchor"></a> <code class="codeph">SYNC_INDEX</code>过程，使您可以同步索引。<a href="../ccref/oracle-text-SQL-statements-and-operators.html#CCREF-GUID-4775F5FE-4569-4DF4-A7CA-B20EC6880CAB" target="_blank"><span class="italic">Oracle Text Reference</span></a>描述了这些包。
                           </p>
                           <p>要从存储过程调用任何这些过程，您的应用程序需要对包执行权限。例如，授予<a id="d5610e349" class="indexterm-anchor"></a>在所有Oracle Text包上<code class="codeph">execute</code> <code class="codeph">MYUSER</code>权限，输入以下SQL语句：</p><pre class="oac_no_warn" dir="ltr">在CTXSYS.CTX_CLS上向myuser执行GRANT EXECUTE;在CTXSYS.CTX_DDL上对myuser执行GRANT EXECUTE;在CTXSYS.CTX_DOC上执行GRANT EXECUTE到myuser;在CTXSYS.CTX_OUTPUT上执行GRANT EXECUTE到myuser;在CTXSYS.CTX_QUERY上向myuser执行GRANT EXECUTE;在CTXSYS.CTX_REPORT上执行GRANT EXECUTE到myuser;在CTXSYS.CTX_THES上向myuser执行GRANT EXECUTE;在CTXSYS.CTX_ULEXER上向myuser执行GRANT EXECUTE;</pre><div class="infoboxnote" id="GUID-2654C316-2C70-4CD1-AFA4-5FD601D8624F__GUID-92BBDB28-F3D3-4F4E-8417-26373309687C">
                              <p class="notep1">注意：</p>
                              <p>这些权限授予<code class="codeph">CTXAPP</code>角色。但是，由于角色权限并不总是在PL / SQL过程中起作用，因此最明确地将这些权限授予已具有<code class="codeph">CTXAPP</code>角色的用户是最安全的。
                              </p>
                           </div>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="CCAPP9015"></a><div class="props_rev_3"><a id="GUID-8D1FF789-F5F2-4C0A-9D8E-978DADBBC4F2" name="GUID-8D1FF789-F5F2-4C0A-9D8E-978DADBBC4F2"></a><h3 id="CCAPP-GUID-8D1FF789-F5F2-4C0A-9D8E-978DADBBC4F2" class="sect3"><span class="enumeration_section">2.3</span>查询应用程序快速浏览</h3>
               <div>
                  <p>在基本文本查询应用程序中，用户输入查询词或短语，并期望应用程序返回与查询最匹配的文档列表。这样的应用程序涉及创建一个<code class="codeph">CONTEXT</code>索引并使用<code class="codeph">CONTAINS.</code>查询它<code class="codeph">CONTAINS.</code></p>
                  <p>通常，查询应用程序需要用户界面。在<a href="CONTEXT-query-application.html#GUID-1F1B44E8-ACCA-446A-84EA-67FA692476BA">CONTEXT查询应用程序中</a>给出了如何使用<code class="codeph">CONTEXT</code>索引类型构建此类查询应用程序的示例。
                  </p>
                  <p>本节中的示例提供了用于加载文本表，索引文档和查询索引的基本SQL语句。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="getting-started-with-oracle-text.html#GUID-A5193144-108C-4DAB-AA36-0EACE8822AD2">创建文本表</a></p>
                     </li>
                     <li>
                        <p><a href="getting-started-with-oracle-text.html#GUID-7154E795-28C2-46E2-9CC5-BC60D65EA94C" title="您可以使用SQL * Loader批量加载表。">使用SQL * Loader加载表</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9645"></a><div class="props_rev_3"><a id="GUID-A5193144-108C-4DAB-AA36-0EACE8822AD2" name="GUID-A5193144-108C-4DAB-AA36-0EACE8822AD2"></a><h4 id="CCAPP-GUID-A5193144-108C-4DAB-AA36-0EACE8822AD2" class="sect4"><span class="enumeration_section">2.3.1</span>创建文本表</h4>
                  <div>
                     <div class="section">
                        <p>执行以下步骤以在表中创建和加载文档。</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以新用户身份连接。</span><div>
                              <p>在创建任何表之前，请假定您创建的用户的身份。</p><pre class="oac_no_warn" dir="ltr">连接myuser;</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建文本表。</span><div>
                              <p>以下示例使用<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>语句创建一个名为<code class="codeph">docs</code>表，其中包含两列（ <code class="codeph">id</code>和<code class="codeph">text</code> 。此示例使<code class="codeph">id</code>列成为主键。<code class="codeph">text</code>列是<code class="codeph">VARCHAR2</code> 。
                              </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE docs（id NUMBER PRIMARY KEY，text VARCHAR2（200））;</pre><div class="infoboxnote" id="GUID-A5193144-108C-4DAB-AA36-0EACE8822AD2__GUID-0E070647-2177-4156-97C9-173EBCED60E3">
                                 <p class="notep1">注意：</p>
                                 <p>支持以下类型的主键： <code class="codeph">NUMBER, VARCHAR2, DATE, CHAR, VARCHAR,</code>和<code class="codeph">RAW.</code></p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>将文档加载到表中。</span><div>
                              <p>使用SQL <a id="d5610e591" class="indexterm-anchor"></a> <code class="codeph">INSERT</code>语句将文本加载到表中。
                              </p>
                              <p>要填充<code class="codeph">docs</code>表，请使用<code class="codeph">INSERT</code>语句：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO docs VALUES（1，'&lt;HTML&gt; California是美国的一个州。&lt;/ HTML&gt;'）; INSERT INTO docs VALUES（2，'&lt;HTML&gt;巴黎是法国的一个城市。&lt;/ HTML&gt;'）; INSERT INTO docs VALUES（3，'&lt;HTML&gt;法国在欧洲。&lt;/ HTML&gt;'）;</pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-7154E795-28C2-46E2-9CC5-BC60D65EA94C" name="GUID-7154E795-28C2-46E2-9CC5-BC60D65EA94C"></a><h4 id="CCAPP-GUID-7154E795-28C2-46E2-9CC5-BC60D65EA94C" class="sect4"><span class="enumeration_section">2.3.2</span>使用SQL * Loader加载表</h4>
                  <div>
                     <p>您可以使用SQL * Loader批量加载表。</p>
                     <div class="section">
                        <p>执行以下步骤以使用SQL * Loader批量加载表：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>创建<code class="codeph">CONTEXT</code>索引。</span><div>
                              <p>通过在文本列上创建<code class="codeph">CONTEXT</code>索引来索引HTML文件，如下所示。因为您正在索引HTML，所以此示例使用<a id="d5610e691" class="indexterm-anchor"></a> <code class="codeph">NULL_FILTER</code>首选项类型，无过滤和<a id="d5610e696" class="indexterm-anchor"></a> <code class="codeph">HTML_SECTION_GROUP</code>类型。如果索引PDF，Microsoft Word或其他格式化文档，则使用<a id="d5610e701" class="indexterm-anchor"></a> <code class="codeph">CTXSYS.AUTO_FILTER</code> （默认值）作为<code class="codeph">FILTER</code>首选项。
                              </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX idx_docs ON docs（text）INDEXTYPE是CTXSYS.CONTEXT PARAMETERS（'FILTER CTXSYS.NULL_FILTER SECTION GROUP CTXSYS.HTML_SECTION_GROUP'）;</pre><p>此示例还使用<code class="codeph">HTML_SECTION_GROUP</code>部分组，建议将其用于索引HTML文档。使用<code class="codeph">HTML_SECTION_GROUP</code>可以在特定的HTML标记内进行搜索，并从索引中消除不需要的标记，例如字体信息。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用<code class="codeph">CONTAINS.</code>查询您的表格<code class="codeph">CONTAINS.</code></span><div>
                              <p>首先，设置<code class="codeph">SELECT</code>语句输出的格式，以便于读取。将<code class="codeph">text</code>列的宽度设置为40个字符：</p><pre class="oac_no_warn" dir="ltr">COLUMN text FORMAT a40;</pre><p><a id="d5610e737" class="indexterm-anchor"></a>接下来，用表查询表<a id="d5610e740" class="indexterm-anchor"></a>带<code class="codeph">CONTAINS.</code> <code class="codeph">SELECT</code>语句<code class="codeph">CONTAINS.</code>此查询检索满足查询的文档ID。以下查询查找包含单词<span class="italic">France的</span>所有文档<span class="italic">：</span></p><pre class="oac_no_warn" dir="ltr">SELECT SCORE（1），id，text FROM docs WHERE CONTAINS（text，'France'，1）&gt; 0;分数（1）ID文字---------- ---------- ------------------------ ---------------- 4 3 &lt;HTML&gt;法国在欧洲。&lt;/ HTML&gt; 4 2 &lt;HTML&gt;巴黎是法国的一个城市。&lt;/ HTML&gt;</pre></div>
                        </li>
                        <li class="stepexpand"><span>提交文件。</span><div>
                              <p><a id="d5610e759" class="indexterm-anchor"></a>在实际应用程序中，您可以使用突出显示的查询字词显示所选文档。Oracle Text使您可以使用。标记文档<a id="d5610e762" class="indexterm-anchor"></a> <code class="codeph">CTX_DOC</code>包。
                              </p>
                              <p>您可以使用SQL * Plus中的匿名PL / SQL块演示HTML文档标记。但是，在实际应用程序中，您可以在浏览器中显示文档。</p>
                              <p><a id="d5610e770" class="indexterm-anchor"></a>此PL / SQL示例使用内存中的版本<a id="d5610e773" class="indexterm-anchor"></a> <code class="codeph">CTX_DOC.MARKUP</code>在文件3中突出显示“ <span class="italic">法国</span> ”一词。它分配一个临时的<a id="d5610e781" class="indexterm-anchor"></a> <code class="codeph">CLOB</code> （字符大对象数据类型） <a id="d5610e786" class="indexterm-anchor"></a><a id="d5610e789" class="indexterm-anchor"></a>存储标记文本并将其读回标准输出。然后在退出之前取消分配<code class="codeph">CLOB</code> ：</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON; DECLARE 2 mklob CLOB; 3 amt NUMBER：= 40; 4行VARCHAR2（80）; 5 BEGIN 6 CTX_DOC.MARKUP（'idx_docs'，'3'，'France'，mklob）; 7 DBMS_LOB.READ（mklob，amt，1，line）; 8 DBMS_OUTPUT.PUT_LINE（'第一个40个字符：'||行）; 9 DBMS_LOB.FREETEMPORARY（mklob）; 10结束; 11 / FIRST 40 CHARS：&lt;HTML&gt; &lt;&lt;&lt; France &gt;&gt;&gt;在欧洲。&lt;/ HTML&gt; PL / SQL程序已成功完成。</pre></div>
                        </li>
                        <li class="stepexpand"><span>数据操作后同步索引。</span><div>
                              <p><a id="d5610e802" class="indexterm-anchor"></a><a id="d5610e804" class="indexterm-anchor"></a>创建<code class="codeph">CONTEXT</code>索引时，显式同步索引以将其更新为对文本表的任何插入，更新或删除。
                              </p>
                              <p><a id="d5610e811" class="indexterm-anchor"></a> Oracle Text使您可以使用<a id="d5610e814" class="indexterm-anchor"></a> <code class="codeph">CTX_DDL.SYNC_INDEX</code>程序。
                              </p>
                              <p>在<code class="codeph">docs</code>表中添加一些行：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO docs VALUES（4，'&lt;HTML&gt;洛杉矶是加州的一个城市。&lt;/ HTML&gt;'）; INSERT INTO docs VALUES（5，'&lt;HTML&gt;墨西哥城很大。&lt;/ HTML&gt;'）;</pre><p>由于索引未同步，因此不会在<span class="italic">城市上</span>查询这些新行<span class="italic">：</span></p><pre class="oac_no_warn" dir="ltr">SELECT SCORE（1），id，text FROM docs WHERE CONTAINS（text，'city'，1）&gt; 0;分数（1）ID文字---------- ---------- ------------------------ -------------------------- 4 2 &lt;HTML&gt;巴黎是法国的一个城市。&lt;/ HTML&gt;</pre><p>因此，将索引与2 Mb内存同步并重新运行查询：</p><pre class="oac_no_warn" dir="ltr">EXEC CTX_DDL.SYNC_INDEX（'idx_docs'，'2M'）; PL / SQL过程成功完成。COLUMN text FORMAT a50; SELECT SCORE（1），id，text FROM docs WHERE CONTAINS（text，'city'，1）&gt; 0;分数（1）ID文字---------- ---------- ------------------------ -------------------------- 4 5 &lt;HTML&gt;墨西哥城很大。&lt;/ HTML&gt; 4 4 &lt;HTML&gt;洛杉矶是一个城市在加利福尼亚州。&lt;/ HTML&gt; 4 2 &lt;HTML&gt;巴黎是法国的一个城市。&lt;/ HTML&gt;</pre><div class="infoboxnotealso" id="GUID-7154E795-28C2-46E2-9CC5-BC60D65EA94C__GUID-336E3ACB-8E00-403B-AF31-2EF14D1FAEC7">
                                 <p class="notep1">也可以看看：</p>
                                 <p><span class="q">“ <a href="CONTEXT-query-application.html#GUID-03558FFB-EFEF-4B43-92CA-E9ABB5EC0E6B">构建PSP Web应用程序</a> ”</span> ，以获取如何使用SQL * Loader从数据文件加载文本表的示例</p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="CCAPP9020"></a><div class="props_rev_3"><a id="GUID-7648841D-DE6D-441D-8C1B-5883675C236F" name="GUID-7648841D-DE6D-441D-8C1B-5883675C236F"></a><h3 id="CCAPP-GUID-7648841D-DE6D-441D-8C1B-5883675C236F" class="sect3"><span class="enumeration_section">2.4</span>目录应用快速浏览</h3>
               <div>
                  <p>本节中的示例提供了基本的SQL语句，用于为销售电子设备（如相机和CD播放器）的拍卖网站创建目录索引。每天都会添加新库存，商品说明，出价日期和价格必须一起存储。</p>
                  <p>该应用程序需要良好的混合查询响应时间。关键是确定用户经常搜索哪些列以创建合适的<code class="codeph">CTXCAT</code>索引。对此类索引的查询使用<code class="codeph">CATSEARCH</code>运算符。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="getting-started-with-oracle-text.html#GUID-6D37D808-7B7C-4DF7-A0D2-B769411100EB">创建表</a></p>
                     </li>
                     <li>
                        <p><a href="getting-started-with-oracle-text.html#GUID-8A4EFD39-6A03-49EC-BFDD-FB97DB7DA728" title="您可以使用SQL * Loader批量加载表。">使用SQL * Loader加载表</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-7648841D-DE6D-441D-8C1B-5883675C236F__GUID-FF418CB1-E875-4A45-AE56-18E3BF91E93D">
                     <p class="notep1">注意：</p>
                     <p>通常，查询应用程序需要用户界面。如何构建使用这样的查询应用的示例<code class="codeph">CATSEARCH</code>索引类型中给出<a href="CATSEARCH-query-application.html#GUID-72F18A97-92D7-411D-871A-27AD749D6141">CATSEARCH查询应用</a> 。
                     </p>
                  </div>
               </div><a id="CCAPP9650"></a><div class="props_rev_3"><a id="GUID-6D37D808-7B7C-4DF7-A0D2-B769411100EB" name="GUID-6D37D808-7B7C-4DF7-A0D2-B769411100EB"></a><h4 id="CCAPP-GUID-6D37D808-7B7C-4DF7-A0D2-B769411100EB" class="sect4"><span class="enumeration_section">2.4.1</span>创建表</h4>
                  <div>
                     <div class="section">
                        <p>执行以下步骤以创建和加载表：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以适当的用户身份连接。</span><div>
                              <p>以<code class="codeph">myuser</code>身份连接<code class="codeph">CTXAPP</code>角色：</p><pre class="oac_no_warn" dir="ltr">连接myuser;</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建你的表。</span><div>
                              <p>设置拍卖表以存储您的广告资源：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE拍卖（item_id NUMBER，title VARCHAR2（100），category_id NUMBER，price NUMBER，bid_close DATE）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>填充你的表。</span><div>
                              <p>使用各种项目填充表格，每个项目都包含<code class="codeph">id, title, price</code>和<code class="codeph">bid_date:</code></p><pre class="oac_no_warn" dir="ltr">插入拍卖价值（1，'NIKON CAMERA'，1,400，'24 -OCT-2002'）;插入拍卖价值（2，'OLYMPUS CAMERA'，1,300，'25 -OCT-2002'）;插入拍卖价值（3，'PENTAX CAMERA'，1,200，' -  26 -OCT-2002'）;插入拍卖价值（4，'CANON CAMERA'，1,250，' -  27 -OCT-2002'）;</pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-8A4EFD39-6A03-49EC-BFDD-FB97DB7DA728" name="GUID-8A4EFD39-6A03-49EC-BFDD-FB97DB7DA728"></a><h4 id="CCAPP-GUID-8A4EFD39-6A03-49EC-BFDD-FB97DB7DA728" class="sect4"><span class="enumeration_section">2.4.2</span>使用SQL * Loader加载表</h4>
                  <div>
                     <p>您可以使用SQL * Loader批量加载表。</p>
                     <div class="section">
                        <p>执行以下步骤以使用SQL * Loader批量加载表：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>确定您的查询。</span><div>
                              <p>确定可能检索的标准。在此示例中，您确定所有查询都在标题列中搜索项目描述，并且大多数查询按价格排序。稍后，当您使用<code class="codeph">CATSEARCH</code>运算符时，请指定text列的术语和结构化子句的条件。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>创建子索引以按价格订购。</span><div>
                              <p>要使Oracle Text有效地提供这些查询，您需要一个<a id="d5610e1132" class="indexterm-anchor"></a>价格列的子索引，因为您的查询按价格排序。
                              </p>
                              <p>因此，创建一个名为<code class="codeph">auction_set</code>的索引集，并为price列添加一个子索引：</p><pre class="oac_no_warn" dir="ltr">EXEC CTX_DDL.CREATE_INDEX_SET（'auction_iset'）; EXEC CTX_DDL.ADD_INDEX（'auction_iset'，'price'）; / * subindex A * /</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建<code class="codeph">CTXCAT</code>索引。</span><div>
                              <p>使用<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>语句在<code class="codeph">AUCTION</code>表上创建组合目录索引：</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX auction_titlex on AUCTION（title）INDEXTYPE IS CTXSYS.CTXCAT PARAMETERS（'index set auction_iset'）;</pre><p>下图显示了如何<a id="d5610e1164" class="indexterm-anchor"></a> <code class="codeph">CTXCAT</code>索引及其子索引与列有关。
                              </p>
                              <div class="figure" id="GUID-8A4EFD39-6A03-49EC-BFDD-FB97DB7DA728__GUID-6C550FCB-696E-4D00-A701-FC390DDAE448">
                                 <p class="titleinfigure">图2-1拍卖表架构和CTXCAT索引</p><img src="img/ccapp_pb_019a.png" width="403" alt="下面描述图2-1" title="下面描述图2-1" longdesc="img_text/ccapp_pb_019a.html"><br><a href="img_text/ccapp_pb_019a.html">“图2-1拍卖表模式和CTXCAT索引”的描述</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用<code class="codeph">CATSEARCH.</code>查询您的表格<code class="codeph">CATSEARCH.</code></span><div>
                              <p><a id="d5610e1183" class="indexterm-anchor"></a>在<code class="codeph">AUCTION</code>表上创建<code class="codeph">CTXCAT</code>索引后，使用。查询此索引<a id="d5610e1192" class="indexterm-anchor"></a> <code class="codeph">CATSEARCH</code>运营商。
                              </p>
                              <p>首先，设置输出格式以使输出可读：</p><pre class="oac_no_warn" dir="ltr">COLUMN title FORMAT a40;</pre><p>接下来，运行查询：</p><pre class="oac_no_warn" dir="ltr">SELECT title，price FROM拍卖WHERE CATSEARCH（标题，'CAMERA'，'按价格排序'）&gt; 0;标题--------------- ---------- PENTAX CAMERA 200 CANON CAMERA 250 OLYMPUS CAMERA 300 NIKON CAMERA 400选择标题，价格拍卖WHERE CATSEARCH（标题， 'CAMERA'，'价格&lt;= 300'）&gt; 0;标题--------------- ---------- PENTAX CAMERA 200 CANON CAMERA 250 OLYMPUS CAMERA 300</pre></div>
                        </li>
                        <li class="stepexpand"><span>更新你的表格。</span><div>
                              <p><a id="d5610e1210" class="indexterm-anchor"></a>通过添加新行来更新目录表。执行此操作时， <code class="codeph">CTXCAT</code>索引会自动同步以反映更改。
                              </p>
                              <p>例如，将以下新行添加到表中，然后重新运行查询：</p><pre class="oac_no_warn" dir="ltr">插入拍卖价值（5，'FUJI CAMERA'，1,350，'28 -OCT-2002'）;插入拍卖价值（6，'SONY CAMERA'，1,310，'28 -OCT-2002'）; SELECT title，price FROM拍卖WHERE CATSEARCH（标题，'CAMERA'，'按价格排序'）&gt; 0;标题----------------------------------- ---------- PENTAX CAMERA 200 CANON CAMERA 250 OLYMPUS CAMERA 300 SONY CAMERA 310 FUJI CAMERA 350 NIKON CAMERA 400 6行选择。
</pre><p>请注意添加的行如何立即显示在查询中。</p>
                              <div class="infoboxnotealso" id="GUID-8A4EFD39-6A03-49EC-BFDD-FB97DB7DA728__GUID-173BE6D9-DAF2-4453-80A7-63379146C169">
                                 <p class="notep1">也可以看看：</p>
                                 <p><span class="q">“ <a href="CONTEXT-query-application.html#GUID-03558FFB-EFEF-4B43-92CA-E9ABB5EC0E6B">构建PSP Web应用程序</a> ”</span> ，以获取如何使用SQL * Loader从数据文件加载文本表的示例</p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="CCAPP9021"></a><div class="props_rev_3"><a id="GUID-0AA9ED63-E6F8-4123-A3A9-7BB5676BC040" name="GUID-0AA9ED63-E6F8-4123-A3A9-7BB5676BC040"></a><h3 id="CCAPP-GUID-0AA9ED63-E6F8-4123-A3A9-7BB5676BC040" class="sect3"><span class="enumeration_section">2.5</span>分类应用快速浏览</h3>
               <div>
                  <p>分类应用程序的功能是基于文档内容执行某些操作。这些操作可以包括将类别ID分配给文档或将文档发送给用户。结果是文档的分类。</p>
                  <p>本节包含以下部分：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="getting-started-with-oracle-text.html#GUID-C17706E8-D438-4CF3-B6D3-6AED543B1BFD">关于文件的分类</a></p>
                     </li>
                     <li>
                        <p><a href="getting-started-with-oracle-text.html#GUID-BE0855FE-7920-4B57-9ED0-F311C5807626">创建分类应用程序的步骤</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9490"></a><a id="CCAPP9695"></a><div class="props_rev_3"><a id="GUID-C17706E8-D438-4CF3-B6D3-6AED543B1BFD" name="GUID-C17706E8-D438-4CF3-B6D3-6AED543B1BFD"></a><h4 id="CCAPP-GUID-C17706E8-D438-4CF3-B6D3-6AED543B1BFD" class="sect4"><span class="enumeration_section">2.5.1</span>关于文档的分类</h4>
                  <div>
                     <p>文档根据预定义的规则进行分类。这些规则选择类别的文档。例如， <span class="italic">“总统选举”</span>的查询规则选择关于政治的类别的文档。
                     </p>
                     <p>Oracle Text提供了几种类型的分类。一种是<a id="d5610e1385" class="indexterm-anchor"></a><a id="d5610e1387" class="indexterm-anchor"></a> <span class="italic">简单，</span>或<a id="d5610e1394" class="indexterm-anchor"></a><a id="d5610e1396" class="indexterm-anchor"></a>此处讨论的<span class="italic">基于规则的</span>分类，您可以在其中创建文档类别和分类文档的规则。同<a id="d5610e1403" class="indexterm-anchor"></a> <span class="italic">监督</span>分类，Oracle Text从您提供的一组培训文档中获取规则。同<a id="d5610e1409" class="indexterm-anchor"></a> <span class="italic">集群，</span> Oracle Text为您完成所有工作，同时获得规则和类别。
                     </p>
                     <p>要使用Oracle Text为文档内容创建简单的分类应用程序，请创建<span class="bold">规则。</span> <a id="d5610e1418" class="indexterm-anchor"></a><a id="d5610e1422" class="indexterm-anchor"></a> 规则本质上是一个对文档内容进行分类的查询表。您可以在<code class="codeph">CTXRULE</code>索引中索引这些规则。要对传入的文本流进行分类，请使用<a id="d5610e1430" class="indexterm-anchor"></a> <code class="codeph">SELECT</code>语句的<code class="codeph">WHERE</code>子句中的<code class="codeph">MATCHES</code>运算符。有关a的一般流程，请参见下图<a id="d5610e1442" class="indexterm-anchor"></a>分类申请。
                     </p>
                     <div class="figure" id="GUID-C17706E8-D438-4CF3-B6D3-6AED543B1BFD__GUID-04221F39-40E1-4500-943F-8D13C2A00327">
                        <p class="titleinfigure">图2-2文档分类应用程序概述</p><img src="img/ccapp_pb_018a.png" width="516" alt="下面是图2-2的描述" title="下面是图2-2的描述" longdesc="img_text/ccapp_pb_018a.html"><br><a href="img_text/ccapp_pb_018a.html">“图2-2文档分类应用程序概述”的说明</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnotealso" id="GUID-C17706E8-D438-4CF3-B6D3-6AED543B1BFD__GUID-528FF0FB-78A0-49A1-A1D5-C2FB96E2C9A1">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="classifying-documents-in-oracle-text.html#GUID-69EAD761-8C53-455D-91F3-C85E84F27A70">文档分类概述</a> ”</span></p>
                     </div>
                  </div>
               </div><a id="CCAPP9022"></a><div class="props_rev_3"><a id="GUID-BE0855FE-7920-4B57-9ED0-F311C5807626" name="GUID-BE0855FE-7920-4B57-9ED0-F311C5807626"></a><h4 id="CCAPP-GUID-BE0855FE-7920-4B57-9ED0-F311C5807626" class="sect4"><span class="enumeration_section">2.5.2</span>创建分类应用程序</h4>
                  <div>
                     <div class="section">
                        <p>以下示例说明如何使用具有<code class="codeph">CTXAPP</code>角色的<code class="codeph">myuser</code>对文档进行分类。您可以定义简单类别，创建<code class="codeph">CTXRULE</code>索引并使用<code class="codeph">MATCHES.</code></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以适当的用户身份连接。</span><div>
                              <p>以<code class="codeph">myuser</code>身份连接<code class="codeph">CTXAPP</code>角色：</p><pre class="oac_no_warn" dir="ltr">连接myuser;</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建规则表。</span><div>
                              <p><a id="d5610e1560" class="indexterm-anchor"></a>在此示例中，您将创建一个名为<code class="codeph">queries.</code>的表<code class="codeph">queries.</code> 每行定义一个带有ID的类别和一个作为查询字符串的规则。
                              </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE查询（query_id NUMBER，query_string VARCHAR2（80））; INSERT INTO查询VALUES（1，'oracle'）; INSERT INTO查询VALUES（2，'larry或ellison'）; INSERT INTO查询VALUES（3，'oracle和text'）; INSERT INTO查询VALUES（4，'市场份额'）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建您的<code class="codeph">CTXRULE</code>索引。</span><div><pre class="oac_no_warn" dir="ltr">CREATE INDEX queryx ON查询（query_string）INDEXTYPE IS CTXSYS.CTXRULE;</pre></div>
                        </li>
                        <li class="stepexpand"><span>使用<code class="codeph">MATCHES.</code><a id="d5610e1584" class="indexterm-anchor"></a></span><div>
                              <p>使用<a id="d5610e1589" class="indexterm-anchor"></a> <code class="codeph">SELECT</code>语句的<code class="codeph">WHERE</code>子句中的<code class="codeph">MATCHES</code>运算符，用于将文档与查询匹配，然后对文档进行分类。
                              </p><pre class="oac_no_warn" dir="ltr">COLUMN query_string FORMAT a35; SELECT query_id，query_string FROM查询WHERE MATCHES（query_string，'Oracle宣布其在数据库中的市场份额比去年增加。'）&gt; 0; QUERY_ID QUERY_STRING ---------- ----------------------------------- 1 oracle 4市场份额</pre><p>如图所示，文档字符串与类别1和4匹配。通过此分类，您可以执行操作，例如将文档写入特定表或通过电子邮件发送给用户。</p>
                              <div class="infoboxnotealso" id="GUID-BE0855FE-7920-4B57-9ED0-F311C5807626__GUID-AF31E117-6524-4367-892D-2C85A0B91FB6">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="classifying-documents-in-oracle-text.html#GUID-D694A98B-3B18-48B2-B10E-FB884B436FAF" title="Oracle Text offers various approaches to document classification.">在Oracle Text中</a>对<a href="classifying-documents-in-oracle-text.html#GUID-D694A98B-3B18-48B2-B10E-FB884B436FAF" title="Oracle Text提供了各种文档分类方法。">文档进行</a>分类以获得更多扩展分类示例</p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04801.oci-get-object-status-functions.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Lists and describes the OCI get object status functions."></meta>
      <meta name="description" content="Lists and describes the OCI get object status functions."></meta>
      <title>OCI获取对象状态函数</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="Lists and describes the OCI get object status functions."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oci-mark-or-unmark-object-cache-functions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oci-miscellaneous-object-functions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oci-mark-or-unmark-object-cache-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oci-miscellaneous-object-functions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oci-navigational-and-type-functions.html" property="item" typeof="WebPage"><span property="name">OCI导航和类型功能</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCI获取对象状态函数</li>
            </ol>
            <a id="GUID-BF3FB486-2A95-450F-BD03-9E092D617D29" name="GUID-BF3FB486-2A95-450F-BD03-9E092D617D29"></a><a id="LNOCI17330"></a><a id="LNOCI173"></a>
            
            <h2 id="LNOCI-GUID-BF3FB486-2A95-450F-BD03-9E092D617D29" class="sect2"><span class="enumeration_section">27.4</span> OCI获取对象状态函数</h2>
         </header>
         <div class="ind">
            <div>
               <p>列出并描述OCI获取对象状态函数。</p>
               <div class="section">
                  <p><a href="oci-get-object-status-functions.html#GUID-BF3FB486-2A95-450F-BD03-9E092D617D29__CACDDCDB" title="该表有2列。第1列是函数名称，第2列描述其用途。">表27-7</a>描述了本节中描述的OCI get对象状态函数。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-BF3FB486-2A95-450F-BD03-9E092D617D29__CACDDCDB">
                  <p class="titleintable">表27-7获取对象状态函数</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="获取对象状态函数" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="62%" id="d242258e201">功能</th>
                           <th align="left" valign="bottom" width="38%" id="d242258e204">目的</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="62%" id="d242258e209" headers="d242258e201 ">
                              <p><a href="oci-get-object-status-functions.html#GUID-AF9CFD0F-14C4-4D24-94BF-5D68E9C41E01" title="返回独立实例的存在元属性。">OCIObjectExists（）</a></p>
                           </td>
                           <td align="left" valign="top" width="38%" headers="d242258e209 d242258e204 ">
                              <p>获取实例的现有状态</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="62%" id="d242258e221" headers="d242258e201 ">
                              <p><a href="oci-get-object-status-functions.html#GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1" title="检索对象的给定属性。">OCIObjectGetProperty（）</a></p>
                           </td>
                           <td align="left" valign="top" width="38%" headers="d242258e221 d242258e204 ">
                              <p>获取特定对象属性的状态</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="62%" id="d242258e233" headers="d242258e201 ">
                              <p><a href="oci-get-object-status-functions.html#GUID-9B96A7DF-BE19-4131-8B95-11063C060012" title="检查对象是否标记为脏。">OCIObjectIsDirty（）</a></p>
                           </td>
                           <td align="left" valign="top" width="38%" headers="d242258e233 d242258e204 ">
                              <p>获取实例的脏污状态</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="62%" id="d242258e245" headers="d242258e201 ">
                              <p><a href="oci-get-object-status-functions.html#GUID-AC738B41-AA00-40D4-9824-F63BADA321FB" title="获取对象的锁定状态。">OCIObjectIsLocked（）</a></p>
                           </td>
                           <td align="left" valign="top" width="38%" headers="d242258e245 d242258e204 ">
                              <p>获取实例的锁定状态</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNOCI17331"></a><div class="props_rev_3"><a id="GUID-AF9CFD0F-14C4-4D24-94BF-5D68E9C41E01" name="GUID-AF9CFD0F-14C4-4D24-94BF-5D68E9C41E01"></a><h3 id="LNOCI-GUID-AF9CFD0F-14C4-4D24-94BF-5D68E9C41E01" class="sect3"><span class="enumeration_section">27.4.1</span> OCIObjectExists（）</h3>
               <div>
                  <p>返回独立实例的存在元属性。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-AF9CFD0F-14C4-4D24-94BF-5D68E9C41E01__GUID-9F9233E4-F4C5-49AE-9561-797CA6DC6D1C">目的</p>
                     <p>返回独立实例的存在元属性。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AF9CFD0F-14C4-4D24-94BF-5D68E9C41E01__GUID-9E691734-FEE9-45B6-9DF7-D9C035B5AC33">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIObjectExists（OCIEnv * env，OCIError * err，void * ins，boolean * exists）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AF9CFD0F-14C4-4D24-94BF-5D68E9C41E01__GUID-52EC18CF-7F5A-4D80-994B-0842A560E791">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-AF9CFD0F-14C4-4D24-94BF-5D68E9C41E01__GUID-84991B8B-0A1C-48EA-927D-50C9B00E6ED3"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AF9CFD0F-14C4-4D24-94BF-5D68E9C41E01__GUID-A54A3112-D51E-4D45-A543-34BF123D8C7C"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AF9CFD0F-14C4-4D24-94BF-5D68E9C41E01__GUID-687162F8-27DD-4022-A8D9-E62289FA512C"><!-- --></a> ins（IN）</dt>
                        <dd>
                           <p>指向实例的指针。如果它是一个对象，则必须固定它。</p>
                        </dd>
                        <dt class="dlterm">存在<a name="GUID-AF9CFD0F-14C4-4D24-94BF-5D68E9C41E01__GUID-89D2F6EF-5C85-4D5A-97AB-6D65829A3FEC"><!-- --></a> （OUT）</dt>
                        <dd>
                           <p>返回存在状态的值。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AF9CFD0F-14C4-4D24-94BF-5D68E9C41E01__GUID-DA04FFE0-0E6C-428F-A79C-F5F5E776F287">评论</p>
                     <p>此函数返回实例的存在元属性。如果实例是值，则此函数始终返回<code class="codeph">TRUE</code> 。实例必须是独立的持久或临时对象。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="引脚可引用对象。">OCIObjectPin（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                        <li><a href="oci-object-relational-programming.html#GUID-3B272F98-B2B9-4D63-9081-0F15A81747CC" title="对象的元属性用作标志，可以向应用程序或对象缓存提供有关对象状态的信息。">对象元属性</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17332"></a><div class="props_rev_3"><a id="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1" name="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1"></a><h3 id="LNOCI-GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1" class="sect3"><span class="enumeration_section">27.4.2</span> OCIObjectGetProperty（）</h3>
               <div>
                  <p>检索对象的给定属性。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-B2EDD7A0-4766-48BB-9BB9-81DEFA1C18EA">目的</p>
                     <p>检索对象的给定属性。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-B3797C87-58AE-4F4A-AE69-B5309AE725DF">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIObjectGetProperty（OCIEnv * envh，OCIError * errh，const void * obj，OCIObjectPropId propertyId，void * property，ub4 * size）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-CE27E109-E721-4436-B943-E03E82ED7B76">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-9C788938-5183-4CDA-9768-03C08619FE56"><!-- --></a> envh（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-A54682E9-5815-48FF-B4A3-ECC1F628065A"><!-- --></a> errh（IN / OUT）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-3A49A1DA-F6C6-4FB1-AD17-A5C5D4F73795"><!-- --></a> obj（IN）</dt>
                        <dd>
                           <p>返回其属性的对象。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-B176C9B9-BD44-4905-B005-49E191B146F0"><!-- --></a> propertyId（IN）</dt>
                        <dd>
                           <p>指定属性的标识符。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-7A70882E-368C-44EA-A52A-5893A0B9B6F0"><!-- --></a>属性（OUT）</dt>
                        <dd>
                           <p>复制指定属性的缓冲区。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-633E8226-64C2-47CF-B8A4-BC05D86F342C"><!-- --></a>尺寸（IN / OUT）</dt>
                        <dd>
                           <p>在输入时，此参数指定调用者传递的属性缓冲区的大小。</p>
                           <p>在输出时，它包含返回的属性的大小（以字节为单位）。此参数仅适用于字符串类型属性，例如<code class="codeph">OCI_OBJECTPROP_SCHEMA</code>和<code class="codeph">OCI_OBJECTPROP_TABLE</code> 。对于非字符串属性，将忽略此参数，因为大小已修复。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-56389F8E-BB35-4DE5-A6A3-0E6D0950840E">评论</p>
                     <p>此函数返回对象的指定属性。此属性由<code class="codeph">propertyId</code>标识。将属性值复制到<code class="codeph">property</code> ，对于字符串类型属性，将按大小返回字符串<code class="codeph">size</code> 。
                     </p>
                     <p>根据对象的生命周期和可引用性，对象被分类为持久性，瞬态和值。某些属性仅适用于持久对象，而其他一些属性仅适用于持久对象和瞬态对象。如果用户尝试获取不适用于给定对象的属性，则会返回错误。要避免此类错误，请首先检查对象是持久性还是瞬态或值（ <code class="codeph">OCI_OBJECTPROP_LIFETIME</code>属性），然后适当地查询其他属性。
                     </p>
                     <p>接下来给出不同的属性ID和相应类型的<code class="codeph">property</code>参数。
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-98023753-84BC-4971-8EB7-9A8325619144"><!-- --></a> OCI_OBJECTPROP_LIFETIME</dt>
                        <dd>
                           <p>这标识给定对象是持久对象还是临时对象或值实例。<code class="codeph">property</code>参数必须是指向<code class="codeph">OCIObjectLifetime</code>类型变量的指针。可能的值包括：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_OBJECT_PERSISTENT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_OBJECT_TRANSIENT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_OBJECT_VALUE</code></p>
                        </li>
                     </ul>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-0598E3D6-6174-4439-8173-DEE1EE32202F"><!-- --></a> OCI_OBJECTPROP_SCHEMA</dt>
                        <dd>
                           <p>这将返回对象所在表的模式名称。如果给定对象指向瞬态实例或值，则返回错误。如果输入缓冲区不足以容纳模式名称，则返回错误;错误消息传达所需的大小。成功后，返回的模式名称的大小（以字节为单位）将按<code class="codeph">size</code>返回。<code class="codeph">property</code>参数必须是<code class="codeph">text</code>类型的数组，并且<code class="codeph">size</code>应该被调用者设置为数组的大小（以字节为单位）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-3B2C16B0-AA8D-4350-A8FA-9091C5A47A90"><!-- --></a> OCI_OBJECTPROP_TABLE</dt>
                        <dd>
                           <p>这将返回对象所在的表名。如果给定对象指向瞬态实例或值，则返回错误。如果输入缓冲区不足以容纳表名，则返回错误;错误消息传达所需的大小。成功后，返回的表名称的大小（以字节为单位）将按<code class="codeph">size</code>返回。<code class="codeph">property</code>参数必须是<code class="codeph">text</code>类型的数组，并且<code class="codeph">size</code>应该被调用者设置为数组的大小（以字节为单位）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-D8C1D0FC-0801-4E85-8D0E-1B15B052A96D"><!-- --></a> OCI_OBJECTPROP_PIN_DURATION</dt>
                        <dd>
                           <p>这将返回对象的引脚持续时间。如果给定对象指向值实例，则返回错误。<code class="codeph">property</code>参数必须是指向<code class="codeph">OCIDuration</code>类型变量的指针。有效值包括：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_DURATION_SESSION</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_DURATION_TRANS</code></p>
                        </li>
                     </ul>
                     <p>有关持续时间的更多信息，请参阅<a href="object-advanced-topics-in-oci.html#GUID-639E852E-0AA3-414F-A5A3-598C8F2047E1" title="为了保持内存中的可用空间，对象缓存尝试尽可能重用对象的内存。当对象的生命周期（分配持续时间）到期或对象的引脚持续时间到期时，对象缓存会重用对象的内存。">对象持续时间</a> 。
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-C3ACAE2E-9F67-41F7-BE9E-88E467372C06"><!-- --></a> OCI_OBJECTPROP_ALLOC_DURATION</dt>
                        <dd>
                           <p>这将返回对象的分配持续时间。<code class="codeph">property</code>参数必须是指向<code class="codeph">OCIDuration</code>类型变量的指针。有效值包括：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_DURATION_SESSION</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_DURATION_TRANS</code></p>
                        </li>
                     </ul>
                     <p>有关持续时间的更多信息，请参阅<a href="object-advanced-topics-in-oci.html#GUID-639E852E-0AA3-414F-A5A3-598C8F2047E1" title="为了保持内存中的可用空间，对象缓存尝试尽可能重用对象的内存。当对象的生命周期（分配持续时间）到期或对象的引脚持续时间到期时，对象缓存会重用对象的内存。">对象持续时间</a> 。
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-95F4F38D-2D55-428B-BE28-AF2979162E95"><!-- --></a> OCI_OBJECTPROP_LOCK</dt>
                        <dd>
                           <p>这将返回对象的锁定状态。可能的锁定状态由<code class="codeph">OCILockOpt</code>枚举。如果给定对象指向瞬态或值实例，则返回错误。<code class="codeph">property</code>参数必须是指向<code class="codeph">OCILockOpt</code>类型的变量的指针。也可以通过调用<code class="codeph">OCIObjectIsLocked()</code>来检索对象的锁定状态。有效值包括：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_LOCK_NONE</code> （无锁定）</p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_LOCK_X</code> （独家锁定）</p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_LOCK_X_NOWAIT</code> （使用<code class="codeph">NOWAIT</code>选项进行独占锁定）</p>
                           <div class="infoboxnotealso" id="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-28BD1592-A45B-482F-88E0-F39C66DA512C">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-05B2D3AC-0677-4C38-9350-875820048948" title="有时，应用程序会尝试锁定当前被其他用户锁定的对象。在这种情况下，应用程序被阻止。">关于使用NOWAIT选项锁定</a></p>
                           </div>
                        </li>
                     </ul>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-003D758A-EF88-43CE-B052-81013A318695"><!-- --></a> OCI_OBJECTPROP_MARKSTATUS</dt>
                        <dd>
                           <p>这将返回脏状态并指示对象是新对象，更新对象还是已删除对象。如果给定对象指向瞬态或值实例，则返回错误。<code class="codeph">property</code>参数必须是<code class="codeph">OCIObjectMarkStatus</code>类型。有效值包括：</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_OBJECT_NEW</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_OBJECT_DELETED</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_OBJECT_UPDATED</code></p>
                        </li>
                     </ul>
                     <p>以下宏可用于测试对象标记状态：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_OBJECT_IS_UPDATED</code> （旗帜）</p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_OBJECT_IS_DELETED</code> （flag）</p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_OBJECT_IS_NEW</code> （旗帜）</p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_OBJECT_IS_DIRTY</code> （flag）</p>
                        </li>
                     </ul>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1__GUID-47531ABF-8FB9-4415-B989-B2FEE454D69B"><!-- --></a> OCI_OBJECTPROP_VIEW</dt>
                        <dd>
                           <p>这标识指定的对象是否是视图对象。如果返回的属性值为<code class="codeph">TRUE</code> ，则该对象是视图;否则，它不是。如果给定对象指向瞬态或值实例，则返回错误。<code class="codeph">property</code>参数必须是<code class="codeph">boolean</code>类型。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-miscellaneous-object-functions.html#GUID-FF85B1EA-695C-49A6-99AC-6E1A7F616FC0" title="锁定服务器上的持久对象。">OCIObjectLock（）</a></li>
                        <li><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-46497858-8E6C-4920-857C-83FFC8B0F7C1" title="在给定指向实例的指针时，将独立实例标记为已删除。">OCIObjectMarkDelete（）</a></li>
                        <li><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-6EEEC8CC-3041-4718-ADE7-20C6D8C661ED" title="将持久对象标记为已更新（脏）。">OCIObjectMarkUpdate（）</a></li>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="引脚可引用对象。">OCIObjectPin（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="oci-get-object-status-functions.html#GUID-AC738B41-AA00-40D4-9824-F63BADA321FB" title="获取对象的锁定状态。">OCIObjectIsLocked（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17333"></a><div class="props_rev_3"><a id="GUID-9B96A7DF-BE19-4131-8B95-11063C060012" name="GUID-9B96A7DF-BE19-4131-8B95-11063C060012"></a><h3 id="LNOCI-GUID-9B96A7DF-BE19-4131-8B95-11063C060012" class="sect3"><span class="enumeration_section">27.4.3</span> OCIObjectIsDirty（）</h3>
               <div>
                  <p>检查对象是否标记为脏。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-9B96A7DF-BE19-4131-8B95-11063C060012__GUID-A15B557B-2F41-49C7-91E0-D57C80E9A8E0">目的</p>
                     <p>检查对象是否标记为<span class="italic">脏</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B96A7DF-BE19-4131-8B95-11063C060012__GUID-CF187386-77AD-4CB0-87DB-F11CA2F4D573">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIObjectIsDirty（OCIEnv * env，OCIError * err，void * ins，boolean * dirty）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B96A7DF-BE19-4131-8B95-11063C060012__GUID-E8A7DCD7-A8BA-4E80-BD55-E36B9687D4B4">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-9B96A7DF-BE19-4131-8B95-11063C060012__GUID-6BAC645D-F432-400F-ABE4-74D8C55958F3"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9B96A7DF-BE19-4131-8B95-11063C060012__GUID-4BA74763-7785-4FEC-AEC5-88CE89E34EF2"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9B96A7DF-BE19-4131-8B95-11063C060012__GUID-15727917-581D-41BC-9023-026B6174E21F"><!-- --></a> ins（IN）</dt>
                        <dd>
                           <p>指向实例的指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9B96A7DF-BE19-4131-8B95-11063C060012__GUID-57AA682B-4503-46ED-BCDA-AF6D16EA96DB"><!-- --></a>脏（OUT）</dt>
                        <dd>
                           <p>脏状态的返回值。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B96A7DF-BE19-4131-8B95-11063C060012__GUID-1D2118A0-58B0-48D7-8DE4-B81A9A09BE87">评论</p>
                     <p>传递给此函数的实例必须是独立的。如果实例是对象，则必须固定实例。</p>
                     <p>此函数返回实例的脏状态。如果实例是值，则此函数对于脏状态始终返回<code class="codeph">FALSE</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-6EEEC8CC-3041-4718-ADE7-20C6D8C661ED" title="将持久对象标记为已更新（脏）。">OCIObjectMarkUpdate（）</a></li>
                        <li><a href="oci-get-object-status-functions.html#GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1" title="检索对象的给定属性。">OCIObjectGetProperty（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17334"></a><div class="props_rev_3"><a id="GUID-AC738B41-AA00-40D4-9824-F63BADA321FB" name="GUID-AC738B41-AA00-40D4-9824-F63BADA321FB"></a><h3 id="LNOCI-GUID-AC738B41-AA00-40D4-9824-F63BADA321FB" class="sect3"><span class="enumeration_section">27.4.4</span> OCIObjectIsLocked（）</h3>
               <div>
                  <p>获取对象的锁定状态。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-AC738B41-AA00-40D4-9824-F63BADA321FB__GUID-79A01415-5EB9-49DE-A7B3-E08BACEFE380">目的</p>
                     <p>获取对象的锁定状态。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AC738B41-AA00-40D4-9824-F63BADA321FB__GUID-186EFE0C-0726-4197-8A7E-4EF1E1DA96C7">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIObjectIsLocked（OCIEnv * env，OCIError * err，void * ins，boolean * lock）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AC738B41-AA00-40D4-9824-F63BADA321FB__GUID-254DDE09-AC16-424A-8C08-312B784855CA">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-AC738B41-AA00-40D4-9824-F63BADA321FB__GUID-781DE67C-8655-4951-A21B-17A35A978CDE"><!-- --></a> env（IN / OUT）</dt>
                        <dd>
                           <p>OCI环境句柄在对象模式下初始化。有关详细信息，请参阅<code class="codeph">OCIEnvNlsCreate()</code> ， <code class="codeph">OCIEnvCreate()</code>和<code class="codeph">OCIInitialize()</code> （不建议使用）的说明。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AC738B41-AA00-40D4-9824-F63BADA321FB__GUID-74FAA22E-A5FB-4CAB-8FE7-8E052FB56117"><!-- --></a>错误（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AC738B41-AA00-40D4-9824-F63BADA321FB__GUID-6612EA78-7CA2-4CC2-B78B-6FB30ACC6141"><!-- --></a> ins（IN）</dt>
                        <dd>
                           <p>指向实例的指针。实例必须是独立的，如果是对象，则必须固定。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AC738B41-AA00-40D4-9824-F63BADA321FB__GUID-49B16B8F-181E-44D2-A228-1DA290988E15"><!-- --></a>锁定（OUT）</dt>
                        <dd>
                           <p>锁定状态的返回值。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AC738B41-AA00-40D4-9824-F63BADA321FB__GUID-BB8B6F74-756D-422B-AF37-A415E802FD26">评论</p>
                     <p>此函数返回实例的锁定状态。如果实例是值，则此函数始终返回<code class="codeph">FALSE</code> 。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-miscellaneous-object-functions.html#GUID-FF85B1EA-695C-49A6-99AC-6E1A7F616FC0" title="锁定服务器上的持久对象。">OCIObjectLock（）</a></li>
                        <li><a href="oci-get-object-status-functions.html#GUID-B65AA4FB-E4FF-4062-927E-4C62900D59C1" title="检索对象的给定属性。">OCIObjectGetProperty（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="创建并初始化OCI函数的环境句柄。">OCIEnvCreate（）</a></li>
                        <li><a href="deprecated-oci-functions.html#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="在Oracle Database 11g第2版（11.2）之前的版本中不推荐使用此功能。">OCIInitialize（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="02616.XS_DIAG-package.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>XS_DIAG包</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="real-application-security-administrators-and-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:21:48-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2012, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95725-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="XS_DATA_SECURITY_UTIL-package.html" title="Previous" type="text/html"></link>
      <link rel="next" href="XS_NAMESPACE-package.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBFSG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="XS_DATA_SECURITY_UTIL-package.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="XS_NAMESPACE-package.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Security管理员和开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="real-application-security-plsql-packages.html" property="item" typeof="WebPage"><span property="name">Oracle数据库真实应用程序安全PL / SQL包</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">XS_DIAG包</li>
            </ol>
            <a id="GUID-A9C89475-4E4F-43D4-981B-C44596FB2B54" name="GUID-A9C89475-4E4F-43D4-981B-C44596FB2B54"></a><a id="DBFSG636"></a>
            
            <h2 id="DBFSG-GUID-A9C89475-4E4F-43D4-981B-C44596FB2B54" class="sect2">XS_DIAG包</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p><code class="codeph">XS_DIAG</code>程序包包含子程序，用于诊断主体，安全类，acls，数据安全策略，命名空间和工作空间中所有对象的数据安全性中的潜在问题。如果对象有效，则所有子程序都返回<code class="codeph">TRUE</code> ;否则，每个返回<code class="codeph">FALSE</code> 。对于每个已识别的不一致，将在<code class="codeph">XS$VALIDATION_TABLE</code>验证表中插入一行，直到达到您使用<code class="codeph">error_limit</code>参数指定的最大不一致数。用户可以查询此验证表，以确定所识别的信息不一致性，包括消息代码，错误描述，导致无效对象的路径以及可能有助于您识别不一致性质的任何其他有用信息。
                  </p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="XS_DIAG-package.html#GUID-D3FCEE5B-C7E4-4349-86E8-5F50DC511F15">安全模型</a></p>
                        </li>
                        <li>
                           <p><a href="XS_DIAG-package.html#GUID-10B93FBA-CD34-4D9A-9F8E-2E9F63D8E150">XS_DIAG子程序摘要</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div><a id="DBFSG637"></a><div class="props_rev_3"><a id="GUID-D3FCEE5B-C7E4-4349-86E8-5F50DC511F15" name="GUID-D3FCEE5B-C7E4-4349-86E8-5F50DC511F15"></a><h3 id="DBFSG-GUID-D3FCEE5B-C7E4-4349-86E8-5F50DC511F15" class="sect3">安全模型</h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">XS_DIAG</code>包<a id="d112789e263" class="indexterm-anchor"></a>在<code class="codeph">SYS</code>架构中创建。调用者对此程序包具有调用者权限，并且需要具有<code class="codeph">ADMIN_ANY_SEC_POLICY</code>系统特权才能运行<code class="codeph">XS_DIAG</code>程序包。对<code class="codeph">PUBLIC</code>授予<code class="codeph">XS_DIAG</code>包的<code class="codeph">EXECUTE</code>权限。对<code class="codeph">PUBLIC</code>授予对<code class="codeph">XS$VALIDATION_TABLE</code>验证表的<code class="codeph">SELECT</code>权限。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBFSG639"></a><a id="DBFSG638"></a><div class="props_rev_3"><a id="GUID-10B93FBA-CD34-4D9A-9F8E-2E9F63D8E150" name="GUID-10B93FBA-CD34-4D9A-9F8E-2E9F63D8E150"></a><h3 id="DBFSG-GUID-10B93FBA-CD34-4D9A-9F8E-2E9F63D8E150" class="sect3">XS_DIAG子程序摘要</h3>
               <div>
                  <div class="tblformal" id="GUID-10B93FBA-CD34-4D9A-9F8E-2E9F63D8E150__GUID-386E0EB6-7DBF-41DD-97CE-9FB445364886">
                     <p class="titleintable">表11-8 XS_DIAG子程序汇总</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="XS_DIAG子程序摘要" width="100%" border="1" summary="This table has 2 columns. Column 1 is the name of the subprogram and column 2 is its description." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="47%" id="d112789e419">子程序</th>
                              <th align="left" valign="bottom" width="53%" id="d112789e422">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d112789e427" headers="d112789e419 ">
                                 <p><a href="XS_DIAG-package.html#GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1">VALIDATE_PRINCIPAL函数</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d112789e427 d112789e422 ">
                                 <p>验证委托人。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d112789e435" headers="d112789e419 ">
                                 <p><a href="XS_DIAG-package.html#GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB">VALIDATE_SECURITY_CLASS函数</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d112789e435 d112789e422 ">
                                 <p>验证安全性类。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d112789e443" headers="d112789e419 ">
                                 <p><a href="XS_DIAG-package.html#GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9">VALIDATE_ACL函数</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d112789e443 d112789e422 ">
                                 <p>验证ACL。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d112789e451" headers="d112789e419 ">
                                 <p><a href="XS_DIAG-package.html#GUID-39061A4F-C36E-410E-9944-D8A57E302853">VALIDATE_DATA_SECURITY函数</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d112789e451 d112789e422 ">
                                 <p>验证数据安全策略或针对特定表验证数据安全策略。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d112789e459" headers="d112789e419 ">
                                 <p><a href="XS_DIAG-package.html#GUID-306835D0-D57C-4819-894A-315D0579BD08">VALIDATE_NAMESPACE_TEMPLATE函数</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d112789e459 d112789e422 ">
                                 <p>验证命名空间模板。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d112789e467" headers="d112789e419 ">
                                 <p><a href="XS_DIAG-package.html#GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522">VALIDATE_WORKSPACE函数</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d112789e467 d112789e422 ">
                                 <p>验证整个工作区。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>本节介绍以下XS_DIAG子程序：</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="DBFSG641"></a><a id="DBFSG642"></a><a id="DBFSG643"></a><a id="DBFSG640"></a><div class="props_rev_3"><a id="GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1" name="GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1"></a><h4 id="DBFSG-GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1" class="sect4">VALIDATE_PRINCIPAL函数</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">VALIDATE_PRINCIPAL</code>函数验证主体。如果对象有效，则此函数返回<code class="codeph">TRUE</code> ;否则，它返回<code class="codeph">FALSE</code> 。对于每个已识别的不一致，将在<code class="codeph">XS$VALIDATION_TABLE</code>验证表中插入一行，直到达到可存储的最大不一致数。用户必须查询此验证表以找出导致验证失败的原因。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1__GUID-D69854BD-BBAC-47FD-9C8C-F27D5532B8FD">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">validate_principal（名称IN VARCHAR2，error_limit IN PLS_INTEGER：= 1）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1__GUID-FAC0C42D-43B3-4F78-8D4A-4F04B661B3AE">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1__GUID-1CD40A91-94AF-47E8-B98E-EDA789963B55">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="VALIDATE_PRINCIPAL Parameters" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d112789e634">参数</th>
                                 <th align="left" valign="bottom" width="69%" id="d112789e637">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e642" headers="d112789e634 ">
                                    <p><code class="codeph">名称</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e642 d112789e637 ">
                                    <p>要验证的对象的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e650" headers="d112789e634 ">
                                    <p><code class="codeph">error_limit</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e650 d112789e637 ">
                                    <p>可以存储在验证表中的最大不一致数。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1__GUID-858BBAC3-F585-4A0A-844D-684E48B16627">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>验证主体user <code class="codeph">user1</code> ，然后查询验证表以防出现不一致。
                        </p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_principal（'user1'，100）然后dbms_output.put_line（'用户有效，则开始）。“）; else dbms_output.put_line（'用户无效。“）;万一;结束; / select * from xs $ validation_table;</pre><p>验证主体，角色<code class="codeph">role1</code> ，然后在存在不一致的情况下查询验证表。
                        </p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_principal（'role1'，100）则开始，然后dbms_output.put_line（'角色有效。“）; else dbms_output.put_line（'角色无效。“）;万一;结束; / select * from xs $ validation_table;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG649"></a><a id="DBFSG650"></a><a id="DBFSG651"></a><a id="DBFSG648"></a><div class="props_rev_3"><a id="GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB" name="GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB"></a><h4 id="DBFSG-GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB" class="sect4">VALIDATE_SECURITY_CLASS函数</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">VALIDATE_SECURITY_CLASS</code>函数验证安全性类。如果对象有效，则此函数返回<code class="codeph">TRUE</code> ;否则，它返回<code class="codeph">FALSE</code> 。对于每个已识别的不一致，将在<code class="codeph">XS$VALIDATION_TABLE</code>验证表中插入一行，直到达到可存储的最大不一致数。用户必须查询此验证表以找出导致验证失败的原因。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB__GUID-B8FE0509-D171-4CAB-BE40-2D55FB8D3055">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">validate_security_class（名称IN VARCHAR2，error_limit IN PLS_INTEGER：= 1）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB__GUID-25FF7912-A5E8-48A9-B7DE-199D087E9F36">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB__GUID-8BF88C7E-07AB-48AD-9168-DA0E6448120C">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="VALIDATE_SECURITY_CLASS Parameters" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d112789e832">参数</th>
                                 <th align="left" valign="bottom" width="69%" id="d112789e835">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e840" headers="d112789e832 ">
                                    <p><code class="codeph">名称</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e840 d112789e835 ">
                                    <p>要验证的对象的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e848" headers="d112789e832 ">
                                    <p><code class="codeph">error_limit</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e848 d112789e835 ">
                                    <p>可以存储在验证表中的最大不一致数。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB__GUID-2FC9B0BA-D61D-49C9-B111-F535FCF3BAF9">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>验证安全性类<code class="codeph">sec1</code> ，然后在存在不一致的情况下查询验证表。
                        </p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_security_class（'sec1'，100）则开始，然后是dbms_output.put_line（'安全类有效。“）; else dbms_output.put_line（'安全类无效。“）;万一;结束; / select * from xs $ validation_table;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG653"></a><a id="DBFSG654"></a><a id="DBFSG655"></a><a id="DBFSG652"></a><div class="props_rev_3"><a id="GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9" name="GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9"></a><h4 id="DBFSG-GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9" class="sect4">VALIDATE_ACL函数</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">VALIDATE_ACL</code>函数验证ACL。如果对象有效，则此函数返回<code class="codeph">TRUE</code> ;否则，它返回<code class="codeph">FALSE</code> 。对于每个已识别的不一致，将在<code class="codeph">XS$VALIDATION_TABLE</code>验证表中插入一行，直到达到可存储的最大不一致数。用户必须查询此验证表以找出导致验证失败的原因。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9__GUID-14D67B5E-7246-4866-B0F4-379096C19778">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">validate_acl（名称IN VARCHAR2，error_limit IN PLS_INTEGER：= 1）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9__GUID-6BF527A4-FA5C-488E-A9FD-C5AC352F7E22">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9__GUID-F001C13A-9BAB-47F4-A3A1-0324D5D873E7">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="VALIDATE_ACL Parameters" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d112789e1024">参数</th>
                                 <th align="left" valign="bottom" width="69%" id="d112789e1027">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1032" headers="d112789e1024 ">
                                    <p><code class="codeph">名称</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1032 d112789e1027 ">
                                    <p>要验证的对象的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1040" headers="d112789e1024 ">
                                    <p><code class="codeph">error_limit</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1040 d112789e1027 ">
                                    <p>可以存储在验证表中的最大不一致数。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9__GUID-9DE85198-B293-4347-8405-0BEAF5A63063">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>验证ACL， <code class="codeph">acl1</code> ，然后查询验证表，以防出现不一致。
                        </p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_acl（'acl1'，100）则dbms_output.put_line（'ACL有效。“）; else dbms_output.put_line（'ACL无效。“）;万一;结束; / select * from xs $ validation_table;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG657"></a><a id="DBFSG658"></a><a id="DBFSG659"></a><a id="DBFSG656"></a><div class="props_rev_3"><a id="GUID-39061A4F-C36E-410E-9944-D8A57E302853" name="GUID-39061A4F-C36E-410E-9944-D8A57E302853"></a><h4 id="DBFSG-GUID-39061A4F-C36E-410E-9944-D8A57E302853" class="sect4">VALIDATE_DATA_SECURITY函数</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">VALIDATE_DATA_SECURITY</code>函数验证数据安全性。如果对象有效，则此函数返回<code class="codeph">TRUE</code> ;否则，它返回<code class="codeph">FALSE</code> 。对于每个已识别的不一致，将在<code class="codeph">XS$VALIDATION_TABLE</code>验证表中插入一行，直到达到可存储的最大不一致数。用户必须查询此验证表以找出导致验证失败的原因。
                        </p>
                        <p>此功能有三种策略验证方式。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>当<code class="codeph">policy</code>不为NULL且<code class="codeph">table_name</code>为<code class="codeph">NULL</code> ，该函数将针对应用策略的所有表验证策略。请注意，当<code class="codeph">table_name</code>为NULL时，即使<code class="codeph">table_owner</code>不为NULL，也会忽略<code class="codeph">table_owner</code> 。</p>
                           </li>
                           <li>
                              <p>当<code class="codeph">policy</code>和<code class="codeph">table_name</code>都不为NULL时，该函数将根据特定表验证策略。如果未提供<code class="codeph">table_owner</code> ，则使用当前架构。
                              </p>
                           </li>
                           <li>
                              <p>当policy为NULL且table_name不为NULL时，该函数将根据表验证应用于表的所有策略。如果未提供<code class="codeph">table_owner</code> ，则使用当前架构。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-39061A4F-C36E-410E-9944-D8A57E302853__GUID-3373D36D-4EAE-49F3-A1D9-3C4312989B5C">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">validate_data_security（policy IN VARCHAR2：= NULL，table_owner IN VARCHAR2：= NULL，table_name IN VARCHAR2：= NULL，error_limit IN PLS_INTEGER：= 1）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-39061A4F-C36E-410E-9944-D8A57E302853__GUID-104E2BEF-ABE7-44F9-92F0-BB72DA977BD6">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-39061A4F-C36E-410E-9944-D8A57E302853__GUID-5DE88FE6-7556-4FFD-BBC1-24FDF8D79F08">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="VALIDATE_DATA_SECURITY Parameters" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d112789e1254">参数</th>
                                 <th align="left" valign="bottom" width="69%" id="d112789e1257">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1262" headers="d112789e1254 ">
                                    <p><code class="codeph">政策</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1262 d112789e1257 ">
                                    <p>要验证的对象的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1270" headers="d112789e1254 ">
                                    <p><code class="codeph">TABLE_OWNER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1270 d112789e1257 ">
                                    <p>表或视图的架构名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1278" headers="d112789e1254 ">
                                    <p><code class="codeph">TABLE_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1278 d112789e1257 ">
                                    <p>表或视图的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1286" headers="d112789e1254 ">
                                    <p><code class="codeph">error_limit</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1286 d112789e1257 ">
                                    <p>可以存储在验证表中的最大不一致数。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-39061A4F-C36E-410E-9944-D8A57E302853__GUID-49E5A1F6-C2C1-4EEE-ACBF-D21A629F45C6">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在所有应用的表上验证策略<code class="codeph">policy1</code> ，然后在存在不一致的情况下查询验证表。
                        </p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_data_security（policy =&gt;'policy1'，error_limit =&gt; 100）则开始，然后dbms_output.put_line（'该策略对所有应用的表都有效。“）; else dbms_output.put_line（'某些应用表的策略无效。“）;万一;结束; / select * from xs $ validation_table;</pre><p>验证给定表上的策略<code class="codeph">policy1</code> ，然后在存在不一致的情况下查询验证表。
                        </p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_data_security（policy =&gt;'policy1'，table_owner =&gt;'HR'，table_name =&gt;'EMPLOYEES'，error_limit =&gt; 100）则开始，然后dbms_output.put_line（'该策略在表上有效。“）; else dbms_output.put_line（'该策略在表上无效。“）;万一;结束; / select * from xs $ validation_table;</pre><p>验证应用于给定表的所有策略，然后在存在不一致的情况下查询验证表。</p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_data_security（table_owner =&gt;'HR'，table_name =&gt;'EMPLOYEES'，error_limit =&gt; 100）则开始，然后dbms_output.put_line（'表上的所有应用策略都有效。“）; else dbms_output.put_line（'表上的某些应用策略无效'）;万一;结束; / select * from xs $ validation_table;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG661"></a><a id="DBFSG662"></a><a id="DBFSG663"></a><a id="DBFSG660"></a><div class="props_rev_3"><a id="GUID-306835D0-D57C-4819-894A-315D0579BD08" name="GUID-306835D0-D57C-4819-894A-315D0579BD08"></a><h4 id="DBFSG-GUID-306835D0-D57C-4819-894A-315D0579BD08" class="sect4">VALIDATE_NAMESPACE_TEMPLATE函数</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">VALIDATE_NAMESPACE_TEMPLATE</code>函数验证命名空间。如果对象有效，则此函数返回<code class="codeph">TRUE</code> ;否则，它返回<code class="codeph">FALSE</code> 。对于每个已识别的不一致，将在<code class="codeph">XS$VALIDATION_TABLE</code>验证表中插入一行，直到达到可存储的最大不一致数。用户必须查询此验证表以找出导致验证失败的原因。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-306835D0-D57C-4819-894A-315D0579BD08__GUID-608C7D69-E707-43D7-B494-A806D614B916">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">validate_namespace_template（name IN VARCHAR2，error_limit IN PLS_INTEGER：= 1）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-306835D0-D57C-4819-894A-315D0579BD08__GUID-95CE7BC8-8234-4517-8992-629E30128A19">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-306835D0-D57C-4819-894A-315D0579BD08__GUID-94F9EC37-B837-4337-80D3-9ABB9C66F97A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="VALIDATE_NAMESPACE_TEMPLATE Parameters" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d112789e1472">参数</th>
                                 <th align="left" valign="bottom" width="69%" id="d112789e1475">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1480" headers="d112789e1472 ">
                                    <p><code class="codeph">名称</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1480 d112789e1475 ">
                                    <p>要验证的对象的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1488" headers="d112789e1472 ">
                                    <p><code class="codeph">error_limit</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1488 d112789e1475 ">
                                    <p>可以存储在验证表中的最大不一致数。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-306835D0-D57C-4819-894A-315D0579BD08__GUID-0CE5773A-5433-471A-8402-0D6955FFFD0D">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>验证命名空间<code class="codeph">ns1</code> ，然后查询验证表以防出现不一致。
                        </p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_namespace_template（'ns1'，100）则开始，然后dbms_output.put_line（'命名空间模板有效。“）; else dbms_output.put_line（'命名空间模板无效。“）;万一;结束; / select * from xs $ validation_table;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG665"></a><a id="DBFSG666"></a><a id="DBFSG667"></a><a id="DBFSG664"></a><div class="props_rev_3"><a id="GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522" name="GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522"></a><h4 id="DBFSG-GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522" class="sect4">VALIDATE_WORKSPACE函数</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">VALIDATE_WORKSPACE</code>函数验证所有工件，换句话说，它使用这一个函数验证工作空间中存在的所有对象。如果所有对象都有效，则此函数返回<code class="codeph">TRUE</code> ;否则，它返回<code class="codeph">FALSE</code> 。对于每个已识别的不一致，将在<code class="codeph">XS$VALIDATION_TABLE</code>验证表中插入一行，直到达到可存储的最大不一致数。用户必须查询此验证表以找出导致验证失败的原因。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522__GUID-6481594F-3341-4DAA-89F0-97A8804DBFC0">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">validate_workspace（error_limit IN PLS_INTEGER：= 1）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522__GUID-8E16C71F-3E5D-4067-8AE9-42CA19B01144">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522__GUID-250CCA32-0AAB-479F-9A25-2D9B3D57BBA4">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="VALIDATE_WORKSPACE Parameters" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d112789e1664">参数</th>
                                 <th align="left" valign="bottom" width="69%" id="d112789e1667">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1672" headers="d112789e1664 ">
                                    <p><code class="codeph">error_limit</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1672 d112789e1667 ">
                                    <p>可以存储在验证表中的最大不一致数。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522__GUID-65E74DDF-D11F-44BE-8CD8-4E46A477F7E2">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>验证工作空间中的所有对象，然后查询验证表以防出现不一致。</p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_workspace（100）然后dbms_output.put_line（'对象有效，则开始）。“）; else dbms_output.put_line（'对象无效。“）;万一;结束; / select * from xs $ validation_table;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03980.OM.style.LinearGradient.html" dir="ltr"></html><html lang="zh-Hans" dir="ltr">
<head>
	<meta charset="utf-8"></meta>
	<meta name="viewport" content="width=device-width"></meta>
	<title>Oracle Maps HTML5 JavaScript API参考类：LinearGradient</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css"></link>

	<link type="text/css" rel="stylesheet" href="styles/site.yeti.css"></link>


    <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
    <meta name="dcterms.created" content="2019-01-15T02:06:19+00:00"></meta>
    <meta name="dcterms.title" content="Spatial and Graph Map Visualization Component Oracle Maps HTML5 JavaScript API Reference"></meta>
    <meta name="dcterms.category" content="database"></meta>
    <meta name="dcterms.isVersionOf" content="JIMJS"></meta>
    <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
    <meta name="dcterms.identifier" content="E95755-01"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  <script id="ssot-metadata" type="application/json"> {"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}} </script>
    </head>

<body dir="ltr">

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">Oracle Maps HTML5 JavaScript API参考</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation"></button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">命名空间<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="OM.html">OM</a></li><li><a href="OM.control.html">OM.control</a></li><li><a href="OM.edit.html">OM.edit</a></li><li><a href="OM.event.html">OM.event</a></li><li><a href="OM.filter.html">OM.filter</a></li><li><a href="OM.geometry.html">OM.geometry</a></li><li><a href="OM.gv.html">OM.gv</a></li><li><a href="OM.layer.html">OM.layer</a></li><li><a href="OM.lbs.html">OM.lbs</a></li><li><a href="OM.proj.html">OM.proj</a></li><li><a href="OM.server.html">OM.server</a></li><li><a href="OM.style.html">OM.style</a></li><li><a href="OM.template.html">OM.template</a></li><li><a href="OM.tool.html">OM.tool</a></li><li><a href="OM.universe.html">OM.universe</a></li><li><a href="OM.visualfilter.html">OM.visualfilter</a></li><li><a href="OM.wmts.html">OM.wmts</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">类<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="-_.html"></a></li><li><a href="-_anonymous_-OM.Class.html"><anonymous>〜OM.Class</anonymous></a></li><li><a href="-_anonymous_-OM.infowindow.MVInfoWindowTab.html"><anonymous>〜OM.infowindow。MVInfoWindowTab</anonymous></a></li><li><a href="-_anonymous_-OM.layer.TileLayerConfig.html"><anonymous>〜OM.layer。TileLayerConfig</anonymous></a></li><li><a href="-_anonymous_-OM.proj.AlbersUSA.html"><anonymous>〜OM.proj。AlbersUSA</anonymous></a></li><li><a href="-_anonymous_-OM.style.Bar.html"><anonymous>〜OM.style。酒吧</anonymous></a></li><li><a href="-_anonymous_-OM.style.PieSlice.html"><anonymous>〜OM.style。PieSlice</anonymous></a></li><li><a href="-_anonymous_-OM.style.StyleStore.html"><anonymous>〜OM.style。StyleStore</anonymous></a></li><li><a href="-_anonymous_-OM.util.GeomUtil.html"><anonymous>〜OM.util。GeomUtil</anonymous></a></li><li><a href="-_anonymous_-OM.util.WorldMercatorUtil.html"><anonymous>〜OM.util。WorldMercatorUtil</anonymous></a></li><li><a href="OM.Column.html">OM.Column</a></li><li><a href="OM.control.ButtonGroup.html">OM.control。ButtonGroup中</a></li><li><a href="OM.control.CopyRight.html">OM.control。版权</a></li><li><a href="OM.control.LayerControl.html">OM.control。LayerControl</a></li><li><a href="OM.control.Magnifier.html">OM.control。放大镜</a></li><li><a href="OM.control.MapDecoration.html">OM.control。MapDecoration</a></li><li><a href="OM.control.NavigationPanelBar.html">OM.control。NavigationPanelBar</a></li><li><a href="OM.control.ScaleBar.html">OM.control。比例尺</a></li><li><a href="OM.control.ToolBar.html">OM.control。工具栏</a></li><li><a href="OM.control.ToolButton.html">OM.control。工具按钮</a></li><li><a href="OM.edit.EditChangeEvent.html">OM.edit。EditChangeEvent</a></li><li><a href="OM.edit.EditChangeManager.html">OM.edit。EditChangeManager</a></li><li><a href="OM.edit.GeometrySegment.html">OM.edit。GeometrySegment</a></li><li><a href="OM.edit.GeometrySegmentPoint.html">OM.edit。GeometrySegmentPoint</a></li><li><a href="OM.event.Event.html">OM.event。事件</a></li><li><a href="OM.event.KeyboardEvent.html">OM.event。的KeyboardEvent</a></li><li><a href="OM.event.LayerEvent.html">OM.event。LayerEvent</a></li><li><a href="OM.event.MapDecorationEvent.html">OM.event。MapDecorationEvent</a></li><li><a href="OM.event.MapEvent.html">OM.event。MapEvent</a></li><li><a href="OM.event.MouseEvent.html">OM.event。的MouseEvent</a></li><li><a href="OM.event.ToolbarEvent.html">OM.event。ToolbarEvent</a></li><li><a href="OM.event.ToolEvent.html">OM.event。ToolEvent</a></li><li><a href="OM.Feature.html">OM.Feature</a></li><li><a href="OM.filter.All.html">OM.filter。所有</a></li><li><a href="OM.filter.And.html">OM.filter。和</a></li><li><a href="OM.filter.Any.html">OM.filter。任何</a></li><li><a href="OM.filter.AnyInteract.html">OM.filter。AnyInteract</a></li><li><a href="OM.filter.Between.html">OM.filter。之间</a></li><li><a href="OM.filter.Equals.html">OM.filter。等于</a></li><li><a href="OM.filter.Filter.html">OM.filter。过滤</a></li><li><a href="OM.filter.Greater.html">OM.filter。大</a></li><li><a href="OM.filter.GreaterEquals.html">OM.filter。GreaterEquals</a></li><li><a href="OM.filter.In.html">OM.filter。在</a></li><li><a href="OM.filter.InsidePolygon.html">OM.filter。InsidePolygon</a></li><li><a href="OM.filter.IsNotNull.html">OM.filter。IsNotNull</a></li><li><a href="OM.filter.IsNull.html">OM.filter。一片空白</a></li><li><a href="OM.filter.Less.html">OM.filter。减</a></li><li><a href="OM.filter.LessEquals.html">OM.filter。LessEquals</a></li><li><a href="OM.filter.Like.html">OM.filter。喜欢</a></li><li><a href="OM.filter.Not.html">OM.filter。不</a></li><li><a href="OM.filter.NotEquals.html">OM.filter。NotEquals</a></li><li><a href="OM.filter.Or.html">OM.filter。要么</a></li><li><a href="OM.filter.Xor.html">OM.filter。异或</a></li><li><a href="OM.geometry.Circle.html">OM.geometry。圈</a></li><li><a href="OM.geometry.Geometry.html">OM.geometry。几何</a></li><li><a href="OM.geometry.GeometryCollection.html">OM.geometry。的GeometryCollection</a></li><li><a href="OM.geometry.LineString.html">OM.geometry。线串</a></li><li><a href="OM.geometry.MultiLineString.html">OM.geometry。MULTILINESTRING</a></li><li><a href="OM.geometry.MultiPoint.html">OM.geometry。多点</a></li><li><a href="OM.geometry.MultiPolygon.html">OM.geometry。的MultiPolygon</a></li><li><a href="OM.geometry.Point.html">OM.geometry。点</a></li><li><a href="OM.geometry.Polygon.html">OM.geometry。多边形</a></li><li><a href="OM.geometry.Rectangle.html">OM.geometry。长方形</a></li><li><a href="OM.layer.BaiduTileLayer.html">OM.layer。BaiduTileLayer</a></li><li><a href="OM.layer.BuiltinExternalTileLayer.html">OM.layer。BuiltinExternalTileLayer</a></li><li><a href="OM.layer.DynamicTileLayer.html">OM.layer。DynamicTileLayer</a></li><li><a href="OM.layer.ElocationTileLayer.html">OM.layer。ElocationTileLayer</a></li><li><a href="OM.layer.GoogleTileLayer.html">OM.layer。GoogleTileLayer</a></li><li><a href="OM.layer.HereTileLayer.html">OM.layer。HereTileLayer</a></li><li><a href="OM.layer.Layer.html">OM.layer。层</a></li><li><a href="OM.layer.MarkerLayer.html">OM.layer。MarkerLayer</a></li><li><a href="OM.layer.TileLayer.html">OM.layer。TileLayer</a></li><li><a href="OM.layer.VectorLayer.html">OM.layer。VectorLayer</a></li><li><a href="OM.layer.WMSTileLayer.html">OM.layer。WMSTileLayer</a></li><li><a href="OM.layer.WMTSTileLayer.html">OM.layer。WMTSTileLayer</a></li><li><a href="OM.lbs.Address.html">OM.lbs。地址</a></li><li><a href="OM.lbs.DefaultGCResult.html">OM.lbs。DefaultGCResult</a></li><li><a href="OM.lbs.GCResult.html">OM.lbs。GCResult</a></li><li><a href="OM.lbs.GdfFormAddress.html">OM.lbs。GdfFormAddress</a></li><li><a href="OM.lbs.GenFormAddress.html">OM.lbs。GenFormAddress</a></li><li><a href="OM.lbs.Geocoder.html">OM.lbs。地理编码</a></li><li><a href="OM.lbs.Match.html">OM.lbs。比赛</a></li><li><a href="OM.lbs.MetaData.html">OM.lbs。元数据</a></li><li><a href="OM.lbs.OutputAddress.html">OM.lbs。OutputAddress</a></li><li><a href="OM.lbs.UnformatedAddress.html">OM.lbs。UnformatedAddress</a></li><li><a href="OM.lbs.USForm1Address.html">OM.lbs。USForm1Address</a></li><li><a href="OM.lbs.USForm2Address.html">OM.lbs。USForm2Address</a></li><li><a href="OM.Map.html">OM.Map</a></li><li><a href="OM.MapContext.html">OM.MapContext</a></li><li><a href="OM.MapMarker.html">OM.MapMarker</a></li><li><a href="OM.server.ServerJDBCGeorasterTheme.html">OM.server。ServerJDBCGeorasterTheme</a></li><li><a href="OM.server.ServerJDBCTheme.html">OM.server。ServerJDBCTheme</a></li><li><a href="OM.server.ServerMapRequest.html">OM.server。ServerMapRequest</a></li><li><a href="OM.server.ServerPredefinedTheme.html">OM.server。ServerPredefinedTheme</a></li><li><a href="OM.server.ServerTheme.html">OM.server。ServerTheme</a></li><li><a href="OM.style.AnimationColor.html">OM.style。AnimationColor</a></li><li><a href="OM.style.Area.html">OM.style。区域</a></li><li><a href="OM.style.BarChart.html">OM.style。BARCHART</a></li><li><a href="OM.style.BasicAnimation.html">OM.style。BasicAnimation</a></li><li><a href="OM.style.Bucket.html">OM.style。桶</a></li><li><a href="OM.style.BucketStyle.html">OM.style。BucketStyle</a></li><li><a href="OM.style.CollectionBucket.html">OM.style。CollectionBucket</a></li><li><a href="OM.style.Color.html">OM.style。颜色</a></li><li><a href="OM.style.ColorFormatter.html">OM.style。ColorFormatter</a></li><li><a href="OM.style.ColorScheme.html">OM.style。到ColorScheme</a></li><li><a href="OM.style.Div.html">OM.style。DIV</a></li><li><a href="OM.style.Formatter.html">OM.style。格式化</a></li><li><a href="OM.style.GlyphMarker.html">OM.style。GlyphMarker</a></li><li><a href="OM.style.Gradient.html">OM.style。梯度</a></li><li><a href="OM.style.HeatMap.html">OM.style。热图</a></li><li><a href="OM.style.Line.html">OM.style。线</a></li><li><a href="OM.style.LinearGradient.html">OM.style。的LinearGradient</a></li><li><a href="OM.style.Marker.html">OM.style。标记</a></li><li><a href="OM.style.PieChart.html">OM.style。饼形图</a></li><li><a href="OM.style.PulseAnimation.html">OM.style。PulseAnimation</a></li><li><a href="OM.style.RadialGradient.html">OM.style。的RadialGradient</a></li><li><a href="OM.style.RangedBucket.html">OM.style。RangedBucket</a></li><li><a href="OM.style.SizeFormatter.html">OM.style。SizeFormatter</a></li><li><a href="OM.style.StackedMarker.html">OM.style。StackedMarker</a></li><li><a href="OM.style.Style.html">OM.style。样式</a></li><li><a href="OM.style.Text.html">OM.style。文本</a></li><li><a href="OM.style.VariableMarker.html">OM.style。VariableMarker</a></li><li><a href="OM.template.Template.html">OM.template。模板</a></li><li><a href="OM.template.TemplateConfig.html">OM.template。TemplateConfig</a></li><li><a href="OM.TextFeature.html">OM.TextFeature</a></li><li><a href="OM.tool.BreakLineTool.html">OM.tool。BreakLineTool</a></li><li><a href="OM.tool.CircleTool.html">OM.tool。CircleTool</a></li><li><a href="OM.tool.DistanceTool.html">OM.tool。DistanceTool</a></li><li><a href="OM.tool.MarqueeZoomTool.html">OM.tool。MarqueeZoomTool</a></li><li><a href="OM.tool.RectangleTool.html">OM.tool。RectangleTool</a></li><li><a href="OM.tool.RedlineTool.html">OM.tool。RedlineTool</a></li><li><a href="OM.tool.RemoveVertexesTool.html">OM.tool。RemoveVertexesTool</a></li><li><a href="OM.tool.Tool.html">OM.tool。工具</a></li><li><a href="OM.tool.WhiteBoardTool.html">OM.tool。WhiteBoardTool</a></li><li><a href="OM.universe.BaiduUniverse.html">OM.universe。BaiduUniverse</a></li><li><a href="OM.universe.ElocationUniverse.html">OM.universe。ElocationUniverse</a></li><li><a href="OM.universe.LatLonUniverse.html">OM.universe。LatLonUniverse</a></li><li><a href="OM.universe.LocationBoxUniverse.html">OM.universe。LocationBoxUniverse</a></li><li><a href="OM.universe.OSMUniverse.html">OM.universe。OSMUniverse</a></li><li><a href="OM.universe.SElocationUniverse.html">OM.universe。SElocationUniverse</a></li><li><a href="OM.universe.TomTomUniverse.html">OM.universe。TomTomUniverse</a></li><li><a href="OM.universe.Universe.html">OM.universe。宇宙</a></li><li><a href="OM.universe.WorldMercatorUniverse.html">OM.universe。WorldMercatorUniverse</a></li><li><a href="OM.universe.ZoomLevel.html">OM.universe。缩放级别</a></li><li><a href="OM.visualfilter.DropShadow.html">OM.visualfilter。阴影效果</a></li><li><a href="OM.visualfilter.Glow.html">OM.visualfilter。辉光</a></li><li><a href="OM.visualfilter.VisualFilter.html">OM.visualfilter。VisualFilter</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="mixins.list.html" class="dropdown-toggle" data-toggle="dropdown">混入<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="OM.event.EventSource.html">OM.event。EventSource的</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">全球<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="global.html#addTab">addTab</a></li><li><a href="global.html#addToBaseSelArray">addToBaseSelArray</a></li><li><a href="global.html#attachTab">attachTab</a></li><li><a href="global.html#clearBaseSelArray">clearBaseSelArray</a></li><li><a href="global.html#getAllSelectedFeatures">getAllSelectedFeatures</a></li><li><a href="global.html#getBaseSelArray">getBaseSelArray</a></li><li><a href="global.html#getID">的getID</a></li><li><a href="global.html#getPanelContent">getPanelContent</a></li><li><a href="global.html#getPanelTab">getPanelTab</a></li><li><a href="global.html#getSingleTabContainer">getSingleTabContainer</a></li><li><a href="global.html#getTabHeaderTitle">getTabHeaderTitle</a></li><li><a href="global.html#getTitle">的getTitle</a></li><li><a href="global.html#getVectorLayer">getVectorLayer</a></li><li><a href="global.html#hideDrawer">hideDrawer</a></li><li><a href="global.html#initialize">初始化</a></li><li><a href="global.html#isVisible">ISVISIBLE</a></li><li><a href="global.html#moveTabsToLeft">moveTabsToLeft</a></li><li><a href="global.html#moveTabsToRight">moveTabsToRight</a></li><li><a href="global.html#publish">发布</a></li><li><a href="global.html#removeFromBaseSelArray">removeFromBaseSelArray</a></li><li><a href="global.html#setBaseSelArray">setBaseSelArray</a></li><li><a href="global.html#setPosition">setPosition两种</a></li><li><a href="global.html#showDrawer">showDrawer</a></li><li><a href="global.html#subscribe">订阅</a></li><li><a href="global.html#switchMode">开关模式</a></li><li><a href="global.html#update">更新</a></li><li><a href="global.html#updateProgress">的UpdateProgress</a></li><li><a href="global.html#updateScrollButtons">updateScrollButtons</a></li><li><a href="global.html#updateUi">updateUi</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="搜索" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	<h1 class="page-title"> <br>类：LinearGradient</h1>
<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="OM.html">OM</a> 。 <a href="OM.style.html">风格</a> 。</span>的LinearGradient</h2>
        
    
</header>


<article>
    <div class="container-overview">
    
        
<hr>
<dt>
    <h4 class="name" id="LinearGradient"><span class="type-signature"></span>新的LinearGradient（配置）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>此类定义线性颜色渐变。<br>线性颜色渐变填充区域，颜色填充从一种颜色到另一种颜色不同。<br>颜色沿线性轴变化，沿垂直于轴的线的所有点具有相同的颜色。<br>颜色变化由颜色停止决定。色标指定沿轴的位置和颜色<br>在那个位置。插值颜色停止之间的颜色值。<br>轴由单位正方形上的两个点（即x和y在0和1之间）定义，因此<br>可以是水平的，垂直的，也可以是一个角度（角度）。<br>x和y值的范围可以从（0,0）到（1,1），其中（0,0）是左上角，（1,1）是右下角。<br>颜色停止的偏移是沿轴的偏移，是介于0（开始）和1（结束）之间的值。</p>
<ul><br>如果y1 = y2且x1 &lt;&gt; x2，则梯度是水平梯度<br>如果x1 = x2且y1 &lt;&gt; y2不同，则梯度是垂直梯度<br>如果x1 &lt;&gt; x2且y1 &lt;&gt; y2，则梯度是角度梯度<br></ul>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>配置</code></td>
            

            <td class="type">
            
                
<span class="param-type">宾语</span>



            
            </td>

            

            

            <td class="description last"><p>线性渐变的定义对象。它有以下几点<br>属性。<br>       </p><ul><br>         <li>styleName {String}样式名称</li><br>         <li>x1 {float}渐变起点的X坐标。必须是两者之间的数字<br>0和1，其中0表示渐变坐标系的左边界。</li><br>         <li>y1 {float}渐变起点的Y坐标。必须是两者之间的数字<br>0和1，其中0表示渐变坐标系的顶部边框。</li><br>         <li>x2 {float}渐变终点的X坐标。必须是两者之间的数字<br>0和1，其中0表示渐变坐标系的左边界。</li><br>         <li>y2 {float}渐变终点的Y坐标。必须是两者之间的数字<br>0和1，其中0表示渐变坐标系的顶部边框。</li><br>         <li>stops {Array}渐变的颜色停止。颜色停止由指定<br>一组颜色停止对象。每个颜色停止对象都有两个属性，偏移和颜色，<br>它们分别指定了停止偏移和颜色。停止偏移是0之间的数字<br>和1。它指定色标相对于渐变起点的位置。<br>0表示梯度起点，1表示梯度终点。<br>颜色由rgba值（“#rrggbbaa）”指定。<br>停止数组的示例：<br>[{offset：0，color：“＃ffffffff”}，{offset：1，color：“＃ff0000ff”}]<br>         </li><br>         <li>useFeatureBoundingBox {Boolean}默认值为true。如果为false，则为图层边界框<br>将用作渐变边界</li><br>         <li>stroke {String}笔触颜色。字符串格式为“#RRGGBB”。</li><br>         <li>strokeThickness {float}笔触宽度。默认值为1。</li><br>         <li>strokeOpacity {float}笔触不透明度。介于0和1之间的数字。默认值为1。</li><br>         <li>fillOpacity {float}填充不透明度。介于0和1之间的数字。默认值为1。</li><br>       </ul></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>OM.style的一个例子。的LinearGradient</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type"><a href="OM.style.LinearGradient.html">OM.style。的LinearGradient</a></span>



    </dd>
</dl>


        

    
</dd>

    
    </div>

    
        <h3 class="subsection-title">扩展</h3>

        


    <ul>
        <li><a href="OM.style.Gradient.html">OM.style。梯度</a></li>
    </ul>


    

    

    

    

    

    

    
        <h3 class="subsection-title">方法</h3>

        <dl>
            
<hr>
<dt>
    <h4 class="name" id="bindData"><span class="type-signature"></span> bindData（属性，列，格式化程序）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>将列数据集绑定到此样式的指定方面。这创造了<br>此样式实例上的单个绑定。检查各个子样式<br>看看他们支持多少绑定。<br>每个绑定由三个关键部分组成：样式属性为<br>bound，驱动style属性的Column数据集和解析器<br>计算并返回任何有效样式属性的函数<br>给定列中的数据值。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>属性</code></td>
            

            <td class="type">
            
                
<span class="param-type">串</span>



            
            </td>

            

            

            <td class="description last"><p>要绑定到数据列的style属性的名称。一个<br>属性是样式的视觉方面，例如“填充”，<br>“尺寸”等</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>柱</code></td>
            

            <td class="type">
            
                
<span class="param-type">宾语</span>



            
            </td>

            

            

            <td class="description last"><p>将要的数据列（通常是OM.Column的实例）<br>格式化样式的指定视觉属性。如果是String类型<br>值传入，然后假定它的名称<br>目标VectorLayer功能中的属性。</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>格式化</code></td>
            

            <td class="type">
            
                
<span class="param-type">宾语</span>



            
            </td>

            

            

            <td class="description last"><p>OM.style的一个实例。格式化;它<br>将单个项目的值（例如销售量）映射到a<br>特定的视觉样式属性值（例如颜色）。</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#bindData">OM.style。风格＃bindData</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="draw"><span class="type-signature"></span> draw（feature，mapContext，options）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>使用样式绘制要素的实际逻辑在此方法中实现。<br>必须由子类覆盖。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>特征</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="OM.Feature.html">OM.Feature</a></span>



            
            </td>

            

            

            <td class="description last"><p>要使用此样式的功能</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mapContext</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="OM.MapContext.html">OM.MapContext</a></span>



            
            </td>

            

            

            <td class="description last"><p>当前的地图上下文</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>选项</code></td>
            

            <td class="type">
            
                
<span class="param-type">宾语</span>



            
            </td>

            

            

            <td class="description last"><p>渲染选项，通常是图形组</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#draw">OM.style。风格＃平局</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            


<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">未定义</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getBindables"><span class="type-signature"></span> getBindables（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>返回可绑定样式属性的列表。可绑定属性是<br>样式的某个方面（例如填充颜色，笔划宽度或<br>总体大小）可以根据某些业务数据值进行更改<br>与每个功能相关联。它通常绑定到Column数据<br>组。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#getBindables">OM.style。风格＃getBindables</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>包含可绑定属性名称的数组;如果<br>没有可绑定的属性，那么空数组就是<br>回。</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">排列</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getConfig"><span class="type-signature"></span> getConfig（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>获取样式的配置。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#getConfig">OM.style。风格＃getConfig</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>配置对象</p>
</div>




        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getStyleName"><span class="type-signature"></span> getStyleName（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>返回样式名称</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#getStyleName">OM.style。风格＃getStyleName</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>样式名称</p>
</div>




        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="hasBinding"><span class="type-signature"></span> hasBinding（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>检查此样式是否具有关联的数据绑定。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#hasBinding">OM.style。风格＃hasBinding</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>如果有一个或多个数据绑定，则为true;否则是假的</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">布尔</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="isBindable"><span class="type-signature"></span> isBindable（ATTR）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>检查指定的样式属性是否可绑定。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ATTR</code></td>
            

            <td class="type">
            
                
<span class="param-type">串</span>



            
            </td>

            

            

            <td class="description last"><p>要检查的属性的名称</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#isBindable">OM.style。风格＃isBindable</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>如果参数是可绑定的，则为true;否则是假的</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">布尔</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="isBound"><span class="type-signature"></span>一个isBound（）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>检查指定的（可绑定）属性是否已绑定到某些属性<br>列数据集。</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#isBound">OM.style。风格＃一个isBound</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="isFeatureBound"><span class="type-signature"></span> isFeatureBound（功能）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>检查给定功能是否绑定到任何绑定<br>这种风格。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>特征</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="OM.Feature.html">OM.Feature</a></span>



            
            </td>

            

            

            <td class="description last"><p>要检查的要素实例</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#isFeatureBound">OM.style。风格＃isFeatureBound</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>如果要素具有关联的值，则返回true<br>任何样式绑定的Column实例。如果有，则返回false<br>没有与此功能关联的值，或者没有绑定<br>在这种风格。</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">布尔</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="resolveBinding"><span class="type-signature"></span> resolveBinding（b，feature）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>解析给定功能的指定绑定。<br>当Style对象具有一个或多个可视属性（例如Size）时<br>对于标记样式或填充颜色样式）绑定到外部数据<br>列，然后必须为每个功能解析此类可视属性<br>使用要素的关联数据列值。解决了视觉效果<br>然后使用属性值将样式应用于该要素。</p>
<p>换句话说，每次针对特定功能调用此方法时，<br>始终会发生以下过程：</p>
<p></p><ul><br>  <li>获取该功能的唯一ID<br>  </li><li>然后绑定使用id来查找相应的数据<br>来自关联的Column实例的值<br>  </li><li>数据值用于确定或解析可视属性<br>这种风格，如尺寸或填充颜色。<br>  </li><li>视觉属性值在此Style实例上设置<br>渲染特征的持续时间。</li></ul>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>b</code></td>
            

            <td class="type">
            
                
<span class="param-type">宾语</span>



            
            </td>

            

            

            <td class="description last"><p>绑定对象</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>特征</code></td>
            

            <td class="type">
            
                
<span class="param-type">宾语</span>



            
            </td>

            

            

            <td class="description last"><p>要解决的功能</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#resolveBinding">OM.style。风格＃resolveBinding</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>返回：</h5>
    
            
<div class="param-desc">
    <p>已解析的样式属性</p>
</div>



<dl>
    <dt>类型</dt>
    <dd>
        
<span class="param-type">宾语</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="unbindAllData"><span class="type-signature"></span> unbindAllData（属性）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>取消绑定当前绑定到指定样式属性的所有列数据集。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>属性</code></td>
            

            <td class="type">
            
                
<span class="param-type">串</span>



            
            </td>

            

            

            <td class="description last"><p>style属性的名称</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#unbindAllData">OM.style。风格＃unbindAllData</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="unbindData"><span class="type-signature"></span> unbindData（属性）</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>取消绑定给定属性的所有列数据集。</p>
    </div>
    

    

    

    
    
        <h5>参数：</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>名称</th>
        

        <th>类型</th>

        

        

        <th class="last">描述</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>属性</code></td>
            

            <td class="type">
            
                
<span class="param-type">串</span>



            
            </td>

            

            

            <td class="description last"><p>样式属性的名称（例如'填充'，'大小'</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">继承自：</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="OM.style.Style.html#unbindData">OM.style。风格＃unbindData</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" aria-label="关" data-dismiss="modal"><span aria-hidden="true">×</span></button>
            <h4 class="modal-title">搜索结果</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">关</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


	<span class="copyright">版权所有©2010,2019，Oracle和/或其附属公司。版权所有。
	</span> <span class="jsdoc-message"><a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.2</a>在2019年1月9日星期三使用<a href="https://github.com/docstrap/docstrap">DocStrap模板生成的文档</a> 。
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->

<script>
	$( function () {
		$( '#main' ).localScroll( {
			offset : { top : 60 } //offset by the height of your header (give or take a few px, see what works for you)
		} );
		$( "dt.name" ).each( function () {
			var $this = $( this ).find("h4");
			var icon = $( "<i/>" ).addClass( "icon-plus-sign" ).addClass( "pull-right" ).addClass( "icon-white" );
			var dt = $(this);
			var children = dt.next( "dd" );

			dt.prepend( icon ).css( {cursor : "pointer"} );
			dt.addClass( "member-collapsed" ).addClass( "member" );


			children.hide();

			dt.children().on( "click", function () {
				children = dt.next( "dd" );
				children.slideToggle( "fast", function () {

					if ( children.is( ":visible" ) ) {
						icon.addClass( "icon-minus-sign" ).removeClass( "icon-plus-sign" ).removeClass( "icon-white" );
						dt.addClass( "member-open" ).animate( "member-collapsed" );
					} else {
						icon.addClass( "icon-plus-sign" ).removeClass( "icon-minus-sign" ).addClass( "icon-white" );
						dt.addClass( "member-collapsed" ).removeClass( "member-open" );
					}
				} );
			} );

		} );
	} );
</script>


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html><html id="00042.using-cartridge-services.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>使用墨盒服务</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Data Cartridge Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Data Cartridge Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-cartridge-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T07:34:53-08:00"></meta>
      <meta name="dcterms.title" content="Data Cartridge Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96431-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="using-extensible-optimizer.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-user-defined-aggregate-functions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADDCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-extensible-optimizer.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-user-defined-aggregate-functions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据盒式开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="building-data-cartridges.html" property="item" typeof="WebPage"><span property="name">构建数据磁带</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用墨盒服务</li>
            </ol>
            <a id="GUID-2CB76BF0-C6C9-46BB-89C4-3619BC7A0F39" name="GUID-2CB76BF0-C6C9-46BB-89C4-3619BC7A0F39"></a><a id="ADDCI2130"></a>
            
            <h2 id="ADDCI-GUID-2CB76BF0-C6C9-46BB-89C4-3619BC7A0F39" class="sect2"><span class="enumeration_chapter">11</span>使用盒式磁带服务</h2>
         </header>
         <div class="ind">
            <div>
               <p>考虑如何使用墨盒服务。</p>
            </div><a id="ADDCI4647"></a><a id="ADDCI4648"></a><a id="ADDCI4649"></a><a id="ADDCI4650"></a><a id="ADDCI4651"></a><a id="ADDCI4652"></a><a id="ADDCI4646"></a><div class="props_rev_3"><a id="GUID-4B20A22F-E8D5-41E7-B819-F69AB25836CB" name="GUID-4B20A22F-E8D5-41E7-B819-F69AB25836CB"></a><h3 id="ADDCI-GUID-4B20A22F-E8D5-41E7-B819-F69AB25836CB" class="sect3"><span class="enumeration_section">11.1</span>盒式磁带服务简介</h3>
               <div>
                  <p>盒式磁带服务是一组服务，可帮助您在Oracle中创建数据盒式磁带<span class="italic"> </span>可扩展性框架。
                  </p>
                  <p>使用Oracle Cartridge Services具有以下优势：</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-4B20A22F-E8D5-41E7-B819-F69AB25836CB__GUID-F464F465-8A15-4480-8FF5-CAE459C874DB">可移植性</p>
                     <p>Oracle Cartridge Services为您提供跨不同机器架构的灵活性</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4B20A22F-E8D5-41E7-B819-F69AB25836CB__GUID-61A7CB7E-A02B-4549-BBF7-D5C904235BD6">Oracle环境中的灵活性</p>
                     <p>无论客户购买的操作配置如何，所有盒式磁带服务都可以与Oracle数据库配合使用，从而为您提供了另一种灵活性。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4B20A22F-E8D5-41E7-B819-F69AB25836CB__GUID-494AEAFD-690A-4999-B121-6F793BF318D8">语言独立</p>
                     <p>使用全球化支持服务可以使您的墨盒国际化。语言独立性意味着您可以在不同语言环境中使用不同的盒式磁带实例。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4B20A22F-E8D5-41E7-B819-F69AB25836CB__GUID-7F33325B-1F6D-40B4-8336-ED668F989FF7">与服务器紧密集成</p>
                     <p>各种盒式磁带服务旨在促进Oracle ORDBMS的访问。这为尝试执行相同操作的客户端程序提供了卓越的性能。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4B20A22F-E8D5-41E7-B819-F69AB25836CB__GUID-ABC2F599-362A-4C5D-A7D6-03A0A5E13A5D">保证兼容性</p>
                     <p>Oracle数据库是一种快速发展的技术，您的客户可能使用不同版本的Oracle进行操作。盒式磁带服务适用于所有版本的Oracle数据库。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4B20A22F-E8D5-41E7-B819-F69AB25836CB__GUID-B9D214A9-BD60-47DA-A0A3-606D8683F421">不同墨盒的集成</p>
                     <p>通过集成盒式磁带服务，您可以生成不同数据盒式磁带的统一集成。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>考虑一组可以用作数据盒带的服务。描述这些接口的API在<a href="cartridge-services-using-C-CPP-and-java.html#GUID-43B4F11B-33E4-4722-93E0-9D8F809CC745">使用C_ C ++和Java的Cartridge服务中</a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADDCI4654"></a><a id="ADDCI4655"></a><a id="ADDCI4653"></a><div class="props_rev_3"><a id="GUID-747941D1-ADED-4DD0-AFF2-65CE02DB47A6" name="GUID-747941D1-ADED-4DD0-AFF2-65CE02DB47A6"></a><h3 id="ADDCI-GUID-747941D1-ADED-4DD0-AFF2-65CE02DB47A6" class="sect3"><span class="enumeration_section">11.2</span>墨盒手柄</h3>
               <div>
                  <p>盒式磁带服务需要各种句柄，这些句柄封装在两种类型的OCI句柄中：</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-747941D1-ADED-4DD0-AFF2-65CE02DB47A6__GUID-72857FEE-092F-46D8-B3B6-81C6D609598C">环境处理</p>
                     <p>环境句柄是<code class="codeph">OCIEnv</code>或<code class="codeph">OCI_HTYPE_ENV</code> 。如果没有可用的会话，则在进程级别需要各种盒式磁带服务。<code class="codeph">OCIInitialize</code> （）应该使用<code class="codeph">OCI_OBJECT</code>选项进行盒式服务。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-747941D1-ADED-4DD0-AFF2-65CE02DB47A6__GUID-7ADC2324-DAA2-428C-9161-3C7986D04259">用户会话句柄</p>
                     <p>用户会话句柄是<code class="codeph">OCISession</code>或<code class="codeph">OCI_HTYPE_SESSION</code> 。在标注中，即使不打开连接回数据库的连接，也可以在分配句柄时使用服务。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>所有盒式磁带服务调用都将<code class="codeph">void</code> <code class="codeph">*</code> OCI句柄作为可以是环境或会话句柄的参数之一。虽然大多数服务调用都允许使用其中一个句柄，但某些调用可能对其中一个句柄无效。例如，使用环境句柄分配<code class="codeph">OCI_DURATION_SESSION</code>可能是错误的。通常在错误句柄中返回错误。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADDCI4656"></a><div class="props_rev_3"><a id="GUID-19749B3E-5460-4A14-9AA9-2ABEF54538C8" name="GUID-19749B3E-5460-4A14-9AA9-2ABEF54538C8"></a><h4 id="ADDCI-GUID-19749B3E-5460-4A14-9AA9-2ABEF54538C8" class="sect4"><span class="enumeration_section">11.2.1</span>客户端使用</h4>
                  <div>
                     <p>大多数盒式磁带服务也可用于客户端代码。请参阅个别服务以了解限制。要在客户端使用盒式磁带服务，必须使用<code class="codeph">OCI_OBJECT</code>选项初始化OCI环境。这在墨盒中自动实现。
                     </p>
                  </div>
               </div><a id="ADDCI4657"></a><div class="props_rev_3"><a id="GUID-FBBF0264-F3CC-418F-A962-228224DF3394" name="GUID-FBBF0264-F3CC-418F-A962-228224DF3394"></a><h4 id="ADDCI-GUID-FBBF0264-F3CC-418F-A962-228224DF3394" class="sect4"><span class="enumeration_section">11.2.2</span>墨盒侧面使用</h4>
                  <div>
                     <p>本文档中列出的大多数服务都可用于开发数据库盒式磁带，但请参阅每个服务的文档以了解限制。可以使用新的服务调用来获取标注中的会话句柄。无需打开连接回服务器的连接即可使用会话句柄。</p>
                  </div>
               </div><a id="ADDCI4659"></a><a id="ADDCI4658"></a><div class="props_rev_3"><a id="GUID-739EDBE8-A889-41E9-BF20-EA836EB6370F" name="GUID-739EDBE8-A889-41E9-BF20-EA836EB6370F"></a><h4 id="ADDCI-GUID-739EDBE8-A889-41E9-BF20-EA836EB6370F" class="sect4"><span class="enumeration_section">11.2.3</span>拨打服务电话</h4>
                  <div>
                     <div class="section">
                        <p>在使用任何服务之前，必须初始化OCI环境句柄。所有服务都将OCI环境（或user_session）句柄作为参数。错误在OCI错误句柄中返回。各种服务调用所需的子句柄不与OCI环境句柄一起分配。必须初始化环境的服务提供了初始化它的方法。<a href="using-cartridge-services.html#GUID-739EDBE8-A889-41E9-BF20-EA836EB6370F__CHDJIIJH">例11-1</a>演示了这些句柄的初始化。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-739EDBE8-A889-41E9-BF20-EA836EB6370F__CHDJIIJH">
                        <p class="titleinexample">例11-1初始化OCI句柄</p><pre class="oac_no_warn" dir="ltr">{OCIEnv * envhp; OCIError * errhp; （void）OCIInitialize（OCI_OBJECT，（dvoid *）0,0,0,0）; （void）OCIEnvInit（＆envhp，OCI_OBJECT，（size_t）0，（dvoid **）0）; （void）OCIHandleAlloc（（dvoid *）envhp，（dvoid **）errhp，OCI_HTYPE_ERROR，（size_t）0，（dvoid **）0）; / * ...使用手柄......* /（void）OCIHandleFree（（dvoid *）errhp，OCI_HTYPE_ERROR）; }</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADDCI4661"></a><a id="ADDCI4660"></a><div class="props_rev_3"><a id="GUID-2D130F86-823C-44C6-9C68-DA842C8D0570" name="GUID-2D130F86-823C-44C6-9C68-DA842C8D0570"></a><h4 id="ADDCI-GUID-2D130F86-823C-44C6-9C68-DA842C8D0570" class="sect4"><span class="enumeration_section">11.2.4</span>处理错误</h4>
                  <div>
                     <div class="section">
                        <p>返回错误的例程通常返回<code class="codeph">OCI_SUCCESS</code>或<code class="codeph">OCI_ERROR</code> 。某些例程可能会返回<code class="codeph">OCI_SUCCESS_WITH_INFO</code> ， <code class="codeph">OCI_INVALID_HANDLE</code>或<code class="codeph">OCI_NO_DATA</code> 。如果返回<code class="codeph">OCI_ERROR</code>或<code class="codeph">OCI_SUCCESS_WITH_INFO</code> ，则可以通过调用<code class="codeph">OCIErrorGet</code>来检索错误代码，错误工具和可能的错误消息，如<a href="using-cartridge-services.html#GUID-2D130F86-823C-44C6-9C68-DA842C8D0570__CHDDFJII">例11-2所示</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2D130F86-823C-44C6-9C68-DA842C8D0570__CHDDFJII">
                        <p class="titleinexample">示例11-2使用OCIErrorGet（）检索错误信息</p><pre class="oac_no_warn" dir="ltr">{OCIError * errhp; ub4错误代码;文本缓冲区[512]; （void）OCIErrorGet（（dvoid *）errhp，1，（text *）NULL，＆errcode，buffer，sizeof（buffer），OCI_HTYPE_ERROR）; }</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADDCI4662"></a><div class="props_rev_3"><a id="GUID-679DAAC2-0C1F-488D-B5DF-EABA5F011C2B" name="GUID-679DAAC2-0C1F-488D-B5DF-EABA5F011C2B"></a><h3 id="ADDCI-GUID-679DAAC2-0C1F-488D-B5DF-EABA5F011C2B" class="sect3"><span class="enumeration_section">11.3</span>内存服务</h3>
               <div>
                  <p>内存服务允许客户端分配或释放内存块。每个内存块与持续时间相关联。这允许客户端自动释放与持续时间相关的所有内存（在持续时间结束时）。持续时间确定用于分配内存的堆。内存服务预定义了三种持续时间：call（ <code class="codeph">OCI_DURATION_CALL</code> ），语句（ <code class="codeph">OCI_DURATION_STATEMENT</code> ）和session（ <code class="codeph">OCI_DURATION_SESSION</code> ）。
                  </p>
                  <p>客户端还可以创建用户持续时间。客户端必须明确地启动和终止用户持续时间。因此，客户端可以控制用户持续时间的长度。与预定义的持续时间一样，可以使用用户持续时间来指定分配持续时间（例如，在用户持续时间结束时释放存储器块）。</p>
                  <p>每个用户持续时间都有父时长。用户持续时间在其父持续时间终止时隐式终止。父级持续时间可以是呼叫，语句，事务，会话或任何其他用户持续时间。在用户持续时间中分配的内存来自其父持续时间的堆。</p>
                  <p>Oracle RDBMS内存管理器支持各种内存模型。目前，标注在该标注期间支持内存。随着行源的扩展以支持外部索引，需要持续时间大于标注的存储器。</p>
                  <p>支持以下功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>分配以下持续时间的（永久性和易碎性）记忆</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>致电代理商流程</p>
                           </li>
                           <li>
                              <p>声明</p>
                           </li>
                           <li>
                              <p>会议</p>
                           </li>
                           <li>
                              <p>墨盒的共享属性（元数据）</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>能够重新分配内存</p>
                     </li>
                     <li>
                        <p>能够创建一个subduration内存，一个子堆，当父堆被释放时它被释放。可以分配和释放此子堆的内存。</p>
                     </li>
                     <li>
                        <p>能够指定归零内存</p>
                     </li>
                     <li>
                        <p>能够分配大的连续内存</p>
                     </li>
                  </ul>
               </div>
            </div><a id="ADDCI4663"></a><div class="props_rev_3"><a id="GUID-D8019885-E182-45B7-A8A5-D2E529ABEC6F" name="GUID-D8019885-E182-45B7-A8A5-D2E529ABEC6F"></a><h3 id="ADDCI-GUID-D8019885-E182-45B7-A8A5-D2E529ABEC6F" class="sect3"><span class="enumeration_section">11.4</span>维护上下文</h3>
               <div>
                  <p>上下文管理允许客户端跨调用存储值。盒式磁带服务提供了一种保存和恢复上下文的机制。</p>
                  <p>大多数支持线程的操作系统都具有线程上下文的概念。线程可以在此上下文（或状态）中存储特定于线程的数据，并在任何时候检索它。这提供了线程全局变量的概念。通常，指向结构根的指针存储在上下文中。</p>
                  <p>当行源机制外部化时，您必须具有一种机制来维持对同一行源的多次调用之间的状态。</p>
                  <p>您必须维护会话，语句和进程状态。会话状态包括有关打开的多个语句的信息，基于会话的全球化支持设置的消息文件等。进程状态包括共享元数据（包括系统范围的元数据），消息文件等。根据盒式磁带应用程序是否真正具有多线程，信息共享可以处于进程级别或系统级别。</p>
                  <p>由于用户可以随时使用多个墨盒，因此必须为每个墨盒保持状态。这是通过要求用户为每个持续时间提供密钥来完成的。</p>
               </div><a id="ADDCI4664"></a><div class="props_rev_3"><a id="GUID-9FB156F1-D974-47D0-96F4-458192079F45" name="GUID-9FB156F1-D974-47D0-96F4-458192079F45"></a><h4 id="ADDCI-GUID-9FB156F1-D974-47D0-96F4-458192079F45" class="sect4"><span class="enumeration_section">11.4.1</span>持续时间</h4>
                  <div>
                     <p>内存和上下文管理调用支持各种预定义类型的持续时间。所有这些调用中的附加参数是上下文。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_DURATION_CALL</code> 。此操作的持续时间是标注的持续时间。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_DURATION_STATEMENT</code> 。此操作的持续时间是外部行源。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_DURATION_SESSION</code> 。此操作的持续时间是用户会话。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_DURATION_PROCESS</code> 。持续时间是代理程序。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADDCI4665"></a><div class="props_rev_3"><a id="GUID-4255F869-A224-40AD-BA7A-F9BE5AB22334" name="GUID-4255F869-A224-40AD-BA7A-F9BE5AB22334"></a><h3 id="ADDCI-GUID-4255F869-A224-40AD-BA7A-F9BE5AB22334" class="sect3"><span class="enumeration_section">11.5</span>全球化支持</h3>
               <div>
                  <p>为支持多语言应用程序，磁带和标注需要全球化支持功能。<code class="codeph">NLSRTL</code>是当前在RDBMS中使用的多平台，多语言库，为所有Oracle产品提供一致的全球化支持行为。
                  </p>
                  <p>全球化支持基本服务提供以下语言和文化敏感功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>区域信息检索。</p>
                     </li>
                     <li>
                        <p>字符串操作，格式为multibyte和wide-char。</p>
                     </li>
                     <li>
                        <p>字符集转换包括Unicode支持。</p>
                     </li>
                     <li>
                        <p>消息机制。</p>
                     </li>
                  </ul>
               </div><a id="ADDCI4666"></a><div class="props_rev_3"><a id="GUID-7D1A23C7-1BCA-417C-B44D-CDBB73F74EA5" name="GUID-7D1A23C7-1BCA-417C-B44D-CDBB73F74EA5"></a><h4 id="ADDCI-GUID-7D1A23C7-1BCA-417C-B44D-CDBB73F74EA5" class="sect4"><span class="enumeration_section">11.5.1</span>全球化支持语言信息检索</h4>
                  <div>
                     <p>Oracle语言环境由语言，区域和字符集定义组成。区域设置确定诸如本机日期和月份名称之类的约定;和日期，时间，数字和货币格式。国际化应用程序遵循用户的区域设置和文化习俗。例如，在德语区域设置中，用户希望以德语拼写查看日期和月份名称。以下界面提供了一种检索本地敏感信息的简单方法。</p>
                  </div>
               </div><a id="ADDCI4667"></a><div class="props_rev_3"><a id="GUID-429FB99D-A735-4E86-BD9D-03D03659DDEB" name="GUID-429FB99D-A735-4E86-BD9D-03D03659DDEB"></a><h4 id="ADDCI-GUID-429FB99D-A735-4E86-BD9D-03D03659DDEB" class="sect4"><span class="enumeration_section">11.5.2</span>字符串操作</h4>
                  <div>
                     <p>字符串操作支持两种类型的数据结构：多字节字符串和宽字符串字符串。多字节字符串采用本机Oracle字符集编码，并且在其上运行的函数将字符串作为整体单元。宽字符串函数为字符串操作提供了更大的灵活性，并支持基于字符和基于字符串的操作。</p>
                     <p>我们在这里使用的宽字符数据类型是特定于Oracle的，不要与ANSI / ISO C标准定义的<code class="codeph">wchar_t</code>混淆。所有平台中的Oracle宽字符串总是4个字节，而<code class="codeph">wchar_t</code>依赖于实现和平台。Oracle宽字符的思想是将多字节字符规范化为具有固定宽度以便于处理。Oracle宽字符和本机字符集之间的往返转换得到保证。
                     </p>
                     <p>字符串操作可以分为以下几类：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在多字节和宽字符之间转换字符串。</p>
                        </li>
                        <li>
                           <p>角色分类。</p>
                        </li>
                        <li>
                           <p>案例转换。</p>
                        </li>
                        <li>
                           <p>显示长度计算。</p>
                        </li>
                        <li>
                           <p>一般字符串操作，例如比较，连接和搜索。</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADDCI4668"></a><div class="props_rev_3"><a id="GUID-BFC61127-8442-4492-B8BF-DAE4458E58F8" name="GUID-BFC61127-8442-4492-B8BF-DAE4458E58F8"></a><h3 id="ADDCI-GUID-BFC61127-8442-4492-B8BF-DAE4458E58F8" class="sect3"><span class="enumeration_section">11.6</span>参数管理器界面</h3>
               <div>
                  <p>参数管理器提供一组例程来处理文件或字符串中的参数。提供例程来处理输入并获得键和值对。这些键和值对存储在存储器中，并提供可以访问存储参数值的例程。</p>
                  <p>输入处理例程将文件或字符串的内容与现有语法进行匹配，并将输入中找到的键名与用户已注册的已知键列表进行比较。可以根据flag参数中设置的位来配置输入处理例程的行为。</p>
                  <p>通过调用迭代存储的参数的函数，可以一次检索一个参数，或者同时检索所有参数。</p>
               </div><a id="ADDCI4670"></a><a id="ADDCI4669"></a><div class="props_rev_3"><a id="GUID-9BFC7550-25D1-40B7-8FB2-D3873B7F9D70" name="GUID-9BFC7550-25D1-40B7-8FB2-D3873B7F9D70"></a><h4 id="ADDCI-GUID-9BFC7550-25D1-40B7-8FB2-D3873B7F9D70" class="sect4"><span class="enumeration_section">11.6.1</span>特殊字符的输入处理和支持</h4>
                  <div>
                     <p>参数由键或参数名称，类型和值组成，并且必须由格式<span class="italic"><code class="codeph">key</code></span> <code class="codeph">=</code> <span class="italic"><code class="codeph">value</code></span>指定。
                     </p>
                     <p>参数可以选择接受可以用括号括起来的值列表，可以是<span class="italic"><code class="codeph">key</code></span> <code class="codeph">= (</code> <span class="italic"><code class="codeph">value1</code></span> <code class="codeph">, ...,</code> <span class="italic"><code class="codeph">valuen</code></span> ），也可以是<span class="italic"><code class="codeph">key</code></span> <code class="codeph">=</code> <span class="italic"><code class="codeph">value1</code></span> <code class="codeph">, ...,</code> <span class="italic"><code class="codeph">valuen</code></span> 。
                     </p>
                     <p>值可以是字符串，整数， <code class="codeph">OCINumber</code>或布尔值。以“ <code class="codeph">y</code> ”或“ <code class="codeph">t</code> ”开头的布尔值映射为<code class="codeph">TRUE</code> ，以“ <code class="codeph">n</code> ”或“ <code class="codeph">f</code> ”开头的布尔值映射为<code class="codeph">FALSE</code> 。布尔值的匹配不区分大小写。
                     </p>
                     <p>参数管理器将某些字符视为不按字面解析的特殊字符。特殊字符及其含义如<a href="using-cartridge-services.html#GUID-9BFC7550-25D1-40B7-8FB2-D3873B7F9D70__CHDEFAIA" title="列出参数管理器特有的字符以及每个字符的含义">表11-1所示</a> 。
                     </p>
                     <div class="tblformal" id="GUID-9BFC7550-25D1-40B7-8FB2-D3873B7F9D70__CHDEFAIA">
                        <p class="titleintable">表11-1特殊字符</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="特殊字符" width="100%" border="1" summary="Lists characters that are special to the parameter manager along with the meaning of each" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="30%" id="d35923e1167">字符</th>
                                 <th align="left" valign="bottom" width="70%" id="d35923e1170">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d35923e1175" headers="d35923e1167 ">
                                    <p><code class="codeph">＃</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d35923e1175 d35923e1170 ">
                                    <p>评论（仅适用于文件）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d35923e1183" headers="d35923e1167 ">
                                    <p><code class="codeph">（</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d35923e1183 d35923e1170 ">
                                    <p>启动值列表</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d35923e1191" headers="d35923e1167 ">
                                    <p><code class="codeph">）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d35923e1191 d35923e1170 ">
                                    <p>结束值列表</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d35923e1199" headers="d35923e1167 ">
                                    <p><code class="codeph">“</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d35923e1199 d35923e1170 ">
                                    <p>引用字符串的开头或结尾</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d35923e1207" headers="d35923e1167 ">
                                    <p><code class="codeph">“</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d35923e1207 d35923e1170 ">
                                    <p>引用字符串的开头或结尾</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d35923e1216" headers="d35923e1167 ">
                                    <p><code class="codeph">=</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d35923e1216 d35923e1170 ">
                                    <p>关键字和值的分隔符</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d35923e1225" headers="d35923e1167 ">
                                    <p><code class="codeph">\</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d35923e1225 d35923e1170 ">
                                    <p>逃避角色</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>如果必须按字面处理特殊字符，则必须以转义字符开头，或者整个字符串必须用单引号或双引号括起来。</p>
                     <p>键字符串只能包含字母数字字符。值可以包含任何字符。但是，除非引用或转义它们，否则该值不能包含特殊字符。</p>
                  </div>
               </div><a id="ADDCI4671"></a><div class="props_rev_3"><a id="GUID-9DD500EF-468F-4363-AC03-D049DC977E1D" name="GUID-9DD500EF-468F-4363-AC03-D049DC977E1D"></a><h4 id="ADDCI-GUID-9DD500EF-468F-4363-AC03-D049DC977E1D" class="sect4"><span class="enumeration_section">11.6.2</span>参数管理器行为标志</h4>
                  <div>
                     <p>处理文件或字符串的例程使用行为标志来改变参数管理器的默认特征。这些位可以在标志中设置：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_EXTRACT_CASE_SENSITIVE</code> 。所有比较都区分大小写。默认设置是使用不区分大小写的比较。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_EXTRACT_UNIQUE_ABBREVS</code> 。键允许使用唯一的缩写。默认值是不允许使用唯一缩写。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_EXTRACT_APPEND_VALUES</code> 。如果为特定键存储了一个或多个值，则应附加此键的任何新值。默认是返回错误。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADDCI4672"></a><div class="props_rev_3"><a id="GUID-E3670B44-5319-48E2-82BF-075DA6437221" name="GUID-E3670B44-5319-48E2-82BF-075DA6437221"></a><h4 id="ADDCI-GUID-E3670B44-5319-48E2-82BF-075DA6437221" class="sect4"><span class="enumeration_section">11.6.3</span>密钥注册</h4>
                  <div>
                     <p>在调用输入处理例程（ <code class="codeph">OCIExtractFromFile()</code>或<code class="codeph">OCIExtractFromString()</code> ，必须通过调用<code class="codeph">OCIExtractSetNumKeys()</code>后跟<code class="codeph">OCIExtractSetKey()</code>来注册所有键，这需要：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>密钥的名称</p>
                        </li>
                        <li>
                           <p>键的类型（ <code class="codeph">integer</code> ， <code class="codeph">string</code> ， <code class="codeph">boolean</code> ， <code class="codeph">OCINumber</code> ）</p>
                        </li>
                        <li>
                           <p>如果允许多个值，则为标志值设置<code class="codeph">OCI_EXTRACT_MULTIPLE</code> （默认值：仅允许一个值）</p>
                        </li>
                        <li>
                           <p>用于密钥的默认值（可能为<code class="codeph">NULL</code> ）</p>
                        </li>
                        <li>
                           <p>由起始值和结束值指定的允许整数值的范围（包括）（可以为<code class="codeph">NULL</code> ）</p>
                        </li>
                        <li>
                           <p>允许的字符串值列表（可能为<code class="codeph">NULL</code> ）</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADDCI4673"></a><div class="props_rev_3"><a id="GUID-E8F8F0FF-7D7F-4101-A0D9-8DCBA978CA6D" name="GUID-E8F8F0FF-7D7F-4101-A0D9-8DCBA978CA6D"></a><h4 id="ADDCI-GUID-E8F8F0FF-7D7F-4101-A0D9-8DCBA978CA6D" class="sect4"><span class="enumeration_section">11.6.4</span>参数存储和检索</h4>
                  <div>
                     <p>存储将输入处理成一组键和值的结果。在将参数存储在存储器中之前检查参数的有效性。检查这些值以查看它们是否属于正确的类型。此外，如果您愿意，可以检查这些值以查看它们是否在某个整数值范围内，或者是枚举字符串值列表的成员。此外，如果未指定键可以接受多个值，则如果在特定输入源中指定了多次键，则会返回错误。此外，如果密钥未知，则返回错误。处理完成后，可以使用特定例程检索字符串，整数， <code class="codeph">OCINumber</code>或布尔值， <code class="codeph">OCINumber</code>检索键值。
                     </p>
                     <p>可以同时检索所有参数。必须首先调用函数<code class="codeph">OCIExtractToList()</code>以生成从存储在存储器中的参数结构创建的参数列表。<code class="codeph">OCIExtractToList()</code>返回存储在内存中的唯一键的数量，然后可以调用<code class="codeph">OCIExtractFromList()</code>以返回与每个键关联的值列表。
                     </p>
                  </div>
               </div><a id="ADDCI4674"></a><div class="props_rev_3"><a id="GUID-4C90D89F-C821-4E65-B616-C0DBCC583446" name="GUID-4C90D89F-C821-4E65-B616-C0DBCC583446"></a><h4 id="ADDCI-GUID-4C90D89F-C821-4E65-B616-C0DBCC583446" class="sect4"><span class="enumeration_section">11.6.5</span>参数管理器上下文</h4>
                  <div>
                     <p>参数管理器在<code class="codeph">OCI</code>环境句柄中维护自己的上下文。此上下文存储所有已处理的参数信息和一些内部信息。它必须有一个调用来初始化<code class="codeph">OCIExtractInit()</code>并通过调用清理<code class="codeph">OCIExtractTerm()</code>
                     </p>
                  </div>
               </div>
            </div><a id="ADDCI4675"></a><div class="props_rev_3"><a id="GUID-AA025F94-1834-4930-8C43-0678A6EC7D42" name="GUID-AA025F94-1834-4930-8C43-0678A6EC7D42"></a><h3 id="ADDCI-GUID-AA025F94-1834-4930-8C43-0678A6EC7D42" class="sect3"><span class="enumeration_section">11.7</span>文件I / O.</h3>
               <div>
                  <p>OCI文件I / O包旨在通过在多个平台上提供一致的文件I / O视图，使您更容易编写与文件系统交互的可移植代码。</p>
                  <p>在数据盒带环境中使用此程序包时，您必须了解两个问题。第一个问题是，打开文件进行写入或在文件和目录上的操作系统保护提供的安全性以外的目录中创建新文件时，此程序包不提供任何安全性。第二个问题是此程序包不支持在多线程服务器环境中跨调用使用文件描述符。</p>
               </div>
            </div><a id="ADDCI4676"></a><div class="props_rev_3"><a id="GUID-5BEBEA1D-59BE-40B8-95AE-FD2B2684DB85" name="GUID-5BEBEA1D-59BE-40B8-95AE-FD2B2684DB85"></a><h3 id="ADDCI-GUID-5BEBEA1D-59BE-40B8-95AE-FD2B2684DB85" class="sect3"><span class="enumeration_section">11.8</span>字符串格式</h3>
               <div>
                  <div class="section">
                     <p>OCI字符串格式化包有助于编写通过<code class="codeph">OCIFormatString()</code>例程处理字符串操作的可移植代码。这是<code class="codeph">sprintf</code>的改进和可移植版本，它包含标准<code class="codeph">sprintf</code>不具备的附加功能和错误检查。此附加功能包括：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>任意论证选择。</p>
                        </li>
                        <li>
                           <p>可变宽度和精度规格。</p>
                        </li>
                        <li>
                           <p>缓冲区的长度检查。</p>
                        </li>
                        <li>
                           <p>Oracle全球化支持国际化。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="03243.embedding-transformations-model.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>在模型中嵌入转换</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-mining-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T04:34:41-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E97868-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="automatic-data-preparation.html" title="Previous" type="text/html"></link>
      <link rel="next" href="understanding-reverse-transformations.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Mining User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DMPRG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="automatic-data-preparation.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="understanding-reverse-transformations.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="transforming-data.html" property="item" typeof="WebPage"><span property="name">转换数据</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">在模型中嵌入转换</li>
            </ol>
            <a id="GUID-1949B958-6D98-4D00-BF9D-5AC3D8620E11" name="GUID-1949B958-6D98-4D00-BF9D-5AC3D8620E11"></a><a id="DMPRG579"></a>
            
            <h2 id="DMPRG-GUID-1949B958-6D98-4D00-BF9D-5AC3D8620E11" class="sect2"><span class="enumeration_section">4.4</span>在模型中嵌入转换</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>您可以通过创建转换列表并将其传递给<code class="codeph">DBMS_DATA_MINING.CREATE_MODEL</code>来指定自己的转换并将它们嵌入到模型中。</p><pre class="oac_no_warn" dir="ltr">PROCEDURE create_model（model_name IN VARCHAR2，mining_function IN VARCHAR2，data_table_name IN VARCHAR2，case_id_column_name IN VARCHAR2，target_column_name IN VARCHAR2 DEFAULT NULL，settings_table_name IN VARCHAR2 DEFAULT NULL，data_schema_name IN VARCHAR2 DEFAULT NULL，settings_schema_name IN VARCHAR2 DEFAULT NULL， <span class="bold"><code class="codeph">xform_list IN TRANSFORM_LIST DEFAULT NULL</code></span> ）;</pre></div>
               <!-- class="section" -->
            </div><a id="DMPRG753"></a><a id="DMPRG752"></a><div class="props_rev_3"><a id="GUID-7C9A9C6B-E2D4-48BA-BB4A-6F9E381F8C8D" name="GUID-7C9A9C6B-E2D4-48BA-BB4A-6F9E381F8C8D"></a><h3 id="DMPRG-GUID-7C9A9C6B-E2D4-48BA-BB4A-6F9E381F8C8D" class="sect3"><span class="enumeration_section">4.4.1</span>指定属性的转换指令</h3>
               <div>
                  <p>了解什么是属性的转换指令，并了解转换记录中的字段。</p>
                  <div class="section">
                     <p>转换列表定义为转换记录表。每个记录（ <code class="codeph">transform_rec</code> ）指定属性的转换指令。
                     </p><pre class="oac_no_warn" dir="ltr">TYPE transform_rec IS RECORD（attribute_name VARCHAR2（30），attribute_subname VARCHAR2（4000），表达式EXPRESSION_REC，reverse_expression EXPRESSION_REC，attribute_spec VARCHAR2（4000））;</pre><p>此表中描述了转换记录中的字段。</p>
                     <div class="tblformal" id="GUID-7C9A9C6B-E2D4-48BA-BB4A-6F9E381F8C8D__CIACJDHF">
                        <p class="titleintable">表4-2属性的转换记录中的字段</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="属性的转换记录中的字段" width="100%" border="1" summary="This table describes the fields in a transformation record. They are the fully-qualified attribute name, the transformation expression, the reverse transformation expression, and an attribute specification" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d10200e69">领域</th>
                                 <th align="left" valign="bottom" width="74%" id="d10200e72">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d10200e77" headers="d10200e69 ">
                                    <p><code class="codeph">attribute_name</code>和<code class="codeph">attribute_subname</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d10200e77 d10200e72 ">
                                    <p>这些字段标识属性，如<span class="q">“模型属性名称的范围”中所述</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d10200e90" headers="d10200e69 ">
                                    <p><code class="codeph">表达</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d10200e90 d10200e72 ">
                                    <p>用于转换属性的SQL表达式。例如，此表达式将age属性转换为两个类别：child和adult：[0,19]表示'child'，[19，）表示成人</p><pre class="oac_no_warn" dir="ltr">年龄&lt;19岁儿童'成人'的情况</pre><p>表达式和反向表达式存储在<code class="codeph">expression_rec</code>对象中。有关详细信息，请参见<span class="q">“表达式记录</span>
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d10200e108" headers="d10200e69 ">
                                    <p><code class="codeph">reverse_expression</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d10200e108 d10200e72 ">
                                    <p>用于反转转换的SQL表达式。例如，此表达式反转了age属性的转换：</p><pre class="oac_no_warn" dir="ltr">DECODE（年龄， '孩子'， '（ - 天道酬勤，19）'， '[19，天道酬勤）'）</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d10200e118" headers="d10200e69 ">
                                    <p><code class="codeph">attribute_spec</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d10200e118 d10200e72 ">
                                    <p>指定特殊处理<a id="d10200e125" class="indexterm-anchor"></a>属性。<code class="codeph">attribute_spec</code>字段可以为null，也可以包含以下一个或多个值：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">FORCE_IN</code> - 对于GLM，在启用<code class="codeph">ftr_selection_enable</code>设置时<code class="codeph">ftr_selection_enable</code>在模型构建中包含该属性。 （默认情况下禁用<code class="codeph">ftr_selection_enable</code> 。）如果模型未使用GLM，则此值无效。无法为嵌套属性或文本指定<code class="codeph">FORCE_IN</code> 。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">NOPREP</code> - <code class="codeph">NOPREP</code> ADP时，阻止自动转换属性。如果ADP未打开，则此值无效。您可以为嵌套属性指定<code class="codeph">NOPREP</code> ，但不能为嵌套属性中的单个子名称（行）指定<code class="codeph">NOPREP</code> 。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">TEXT</code> - 表示该属性包含非结构化文本。ADP对此设置没有影响。<code class="codeph">TEXT</code>可以选择包括子集<code class="codeph">POLICY_NAME</code> ， <code class="codeph">TOKEN_TYPE</code>和<code class="codeph">MAX_FEATURES</code> 。</p>
                                       </li>
                                    </ul>
                                    <p>参见<a href="embedding-transformations-model.html#GUID-3C7AEA58-5B73-4931-8259-26FAB6A599BD__CIAGBHCD">例4-1</a>和<a href="embedding-transformations-model.html#GUID-3C7AEA58-5B73-4931-8259-26FAB6A599BD__CIADCICG">例4-2</a> 。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="about-attributes.html#GUID-EF2FD24E-81A0-48A9-8AF9-391543373E57">模型属性名称的范围</a></li>
                        <li><a href="embedding-transformations-model.html#GUID-5BA0089A-F041-433D-AEBC-B723AE0218B7">表达记录</a></li>
                     </ul>
                  </div>
               </div><a id="DMPRG754"></a><div class="props_rev_3"><a id="GUID-5BA0089A-F041-433D-AEBC-B723AE0218B7" name="GUID-5BA0089A-F041-433D-AEBC-B723AE0218B7"></a><h4 id="DMPRG-GUID-5BA0089A-F041-433D-AEBC-B723AE0218B7" class="sect4"><span class="enumeration_section">4.4.1.1</span>表达记录</h4>
                  <div>
                     <div class="section">
                        <p>转换记录中的转换表达式是<code class="codeph">expression_rec</code>对象。
                        </p><pre class="oac_no_warn" dir="ltr">TYPE expression_rec是RECORD（lstmt DBMS_SQL.VARCHAR2A，lb BINARY_INTEGER DEFAULT 1，ub BINARY_INTEGER DEFAULT 0）; TYPE varchar2a IS TABLE OF VARCHAR2（32767）INDEX BY BINARY_INTEGER;</pre><p><code class="codeph">lstmt</code>字段存储<code class="codeph">VARCHAR2A</code> ，它允许转换表达式非常长，因为它们可以在多行<code class="codeph">VARCHAR2</code>分解。使用<code class="codeph">DBMS_DATA_MINING_TRANSFORM.SET_EXPRESSION</code>过程创建<code class="codeph">expression_rec</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DMPRG756"></a><a id="DMPRG838"></a><a id="DMPRG755"></a><div class="props_rev_3"><a id="GUID-3C7AEA58-5B73-4931-8259-26FAB6A599BD" name="GUID-3C7AEA58-5B73-4931-8259-26FAB6A599BD"></a><h4 id="DMPRG-GUID-3C7AEA58-5B73-4931-8259-26FAB6A599BD" class="sect4"><span class="enumeration_section">4.4.1.2</span>属性规范</h4>
                  <div>
                     <p>了解如何通过属性规范定义特定于属性的特征。</p>
                     <div class="section">
                        <p>转换记录中的属性规范定义了特定于此属性的特征。如果不为null，则属性规范可以包括值<code class="codeph">FORCE_IN</code> ， <code class="codeph">NOPREP</code>或<code class="codeph">TEXT</code> ，如<a href="embedding-transformations-model.html#GUID-7C9A9C6B-E2D4-48BA-BB4A-6F9E381F8C8D__CIACJDHF" title="此表描述转换记录中的字段。它们是完全限定的属性名称，转换表达式，反向转换表达式和属性规范">表4-2中所述</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3C7AEA58-5B73-4931-8259-26FAB6A599BD__CIAGBHCD">
                        <p class="titleinexample">示例4-1具有多个关键字的属性规范</p>
                        <p>如果适用多个属性规范关键字，则可以在逗号分隔的列表中提供它们。以下表达式是GLM模型中属性的规范。假设启用了<code class="codeph">ftr_selection_enable</code>设置，此表达式会强制将该属性包含在模型中。如果启用ADP，则不会执行属性的自动转换。
                        </p><pre class="oac_no_warn" dir="ltr">“FORCE_IN，NOPREP”</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-3C7AEA58-5B73-4931-8259-26FAB6A599BD__CIADCICG">
                        <p class="titleinexample">例4-2文本属性规范</p>
                        <p>对于文本属性，您可以选择指定子集<code class="codeph">POLICY_NAME</code> ， <code class="codeph">TOKEN_TYPE</code>和<code class="codeph">MAX_FEATURES</code> 。子集提供特定于文本转换的配置信息。在此示例中，文本内容的转换指令在名为<code class="codeph">my_policy</code>的文本策略中定义，其标记类型为<code class="codeph">THEME</code> 。提取的最大功能数量为3000。
                        </p><pre class="oac_no_warn" dir="ltr">“TEXT（POLICY_NAME：my_policy）（TOKEN_TYPE：主题）（MAX_FEATURES：3000）”</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-text-attribute.html#GUID-A550CA89-B5FE-4BAF-8567-0C05EA93516C" title="了解如何将列标识为文本属性，并为任何文本属性提供转换说明。">配置文本属性</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="DMPRG757"></a><div class="props_rev_3"><a id="GUID-EB1F46AB-A6CF-42BE-BF28-FAB32976C772" name="GUID-EB1F46AB-A6CF-42BE-BF28-FAB32976C772"></a><h3 id="DMPRG-GUID-EB1F46AB-A6CF-42BE-BF28-FAB32976C772" class="sect3"><span class="enumeration_section">4.4.2</span>构建转换列表</h3>
               <div>
                  <div class="section">
                     <p>转换列表是转换记录的集合。添加新转换记录时，它会附加到转换列表的顶部。您可以使用以下任何方法来构建转换列表：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>该<code class="codeph">SET_TRANFORM</code>手续<code class="codeph">DBMS_DATA_MINING_TRANSFORM</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DBMS_DATA_MINING_TRANSFORM</code>的<code class="codeph">STACK</code>接口</p>
                        </li>
                        <li>
                           <p>该<code class="codeph">GET_MODEL_TRANSFORMATIONS</code>和<code class="codeph">GET_TRANSFORM_LIST</code>函数<code class="codeph">DBMS_DATA_MINING</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="DMPRG758"></a><div class="props_rev_3"><a id="GUID-DF55112F-E801-4EDA-8DDB-2C2351C7CC52" name="GUID-DF55112F-E801-4EDA-8DDB-2C2351C7CC52"></a><h4 id="DMPRG-GUID-DF55112F-E801-4EDA-8DDB-2C2351C7CC52" class="sect4"><span class="enumeration_section">4.4.2.1</span> SET_TRANSFORM</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">SET_TRANSFORM</code>过程将单个转换记录添加到转换列表。
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_DATA_MINING_TRANSFORM.SET_TRANSFORM（xtype_list IN OUT NOCOPY TRANSFORM_LIST，attribute_name VARCHAR2，attribute_subname VARCHAR2，expression VARCHAR2，reverse_expression VARCHAR2，attribute_spec VARCHAR2 DEFAULT NULL）;</pre><p>使用<code class="codeph">SET_TRANSFORM</code>指定的SQL表达式必须适合<code class="codeph">VARCHAR2</code> 。要指定更长的表达式，可以使用<code class="codeph">SET_EXPRESSION</code>过程，该过程通过将行附加到<code class="codeph">VARCHAR2</code>数组来构建表达式。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DMPRG759"></a><div class="props_rev_3"><a id="GUID-6D860331-3995-4874-B41C-03F828F26CC4" name="GUID-6D860331-3995-4874-B41C-03F828F26CC4"></a><h4 id="DMPRG-GUID-6D860331-3995-4874-B41C-03F828F26CC4" class="sect4"><span class="enumeration_section">4.4.2.2</span> STACK接口</h4>
                  <div>
                     <p><code class="codeph">STACK</code>接口从转换指令表创建转换记录，并将它们添加到转换列表中。
                     </p>
                     <p><code class="codeph">STACK</code>接口指定必须以相同的方式转换给定类型的全部或部分属性。例如， <code class="codeph">STACK_BIN_CAT</code>将分类属性的分箱指令附加到变换列表。<code class="codeph">STACK</code>接口包含三个步骤：</p>
                     <ol>
                        <li>
                           <p><code class="codeph">CREATE</code>过程创建转换定义表。例如， <code class="codeph">CREATE_BIN_CAT</code>创建一个表来保存分类分箱指令。该表包含用于存储属性名称，属性值以及值的bin分配的列。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">INSERT</code>过程计算一个或多个属性的bin边界并填充定义表。例如， <code class="codeph">INSERT_BIN_CAT_FREQ</code>对数据源中的部分或全部分类属性执行基于频率的分级，并填充<code class="codeph">CREATE_BIN_CAT</code>创建的表。</p>
                        </li>
                        <li>
                           <p><code class="codeph">STACK</code>过程根据定义表中的信息创建转换记录，并将转换记录附加到转换列表。例如，STACK_BIN_CAT为存储在分类分箱定义表中的信息创建转换记录，并将转换记录附加到转换列表。
                           </p>
                        </li>
                     </ol>
                  </div>
               </div><a id="DMPRG760"></a><div class="props_rev_3"><a id="GUID-A4F641C5-70A9-4453-9C8A-7779F8C77E35" name="GUID-A4F641C5-70A9-4453-9C8A-7779F8C77E35"></a><h4 id="DMPRG-GUID-A4F641C5-70A9-4453-9C8A-7779F8C77E35" class="sect4"><span class="enumeration_section">4.4.2.3</span> GET_MODEL_TRANSFORMATIONS和GET_TRANSFORM_LIST</h4>
                  <div>
                     <p>使用这些函数创建新的转换列表。</p>
                     <div class="section">
                        <p>这两个函数可用于从嵌入现有模型的转换中创建新的转换列表。</p>
                        <p><code class="codeph">GET_MODEL_TRANSFORMATIONS</code>函数返回嵌入转换的列表。
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_DATA_MINING.GET_MODEL_TRANSFORMATIONS（model_name IN VARCHAR2）RETURN DM_TRANSFORMS PIPELINED;</pre><p><code class="codeph">GET_MODEL_TRANSFORMATIONS</code>返回<code class="codeph">dm_transform</code>对象的表。每个<code class="codeph">dm_transform</code>都有这些字段</p><pre class="oac_no_warn" dir="ltr">attribute_name VARCHAR2（4000）attribute_subname VARCHAR2（4000）表达式CLOB reverse_expression CLOB</pre><p>转换列表的组件是<code class="codeph">transform_rec</code> ，而不是<code class="codeph">dm_transform</code> 。<code class="codeph">transform_rec</code>的字段在<a href="embedding-transformations-model.html#GUID-7C9A9C6B-E2D4-48BA-BB4A-6F9E381F8C8D__CIACJDHF" title="此表描述转换记录中的字段。它们是完全限定的属性名称，转换表达式，反向转换表达式和属性规范">表4-2</a>中描述。您可以调用<code class="codeph">GET_MODEL_TRANSFORMATIONS</code>将<code class="codeph">dm_transform</code>对象列表转换为<code class="codeph">transform_rec</code>对象，并将每个<code class="codeph">transform_rec</code>附加到转换列表。
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_DATA_MINING.GET_TRANSFORM_LIST（xform_list OUT NOCOPY TRANSFORM_LIST，model_xforms IN DM_TRANSFORMS）;</pre><div class="infoboxnotealso" id="GUID-A4F641C5-70A9-4453-9C8A-7779F8C77E35__GUID-C9DEDF9F-E27F-4F6C-966D-EE444D77D77E">
                           <p class="notep1">也可以看看：</p>
                           <p><span><cite>Oracle Database PL / SQL包和类型参考中的</cite></span> <span class="q">“ <a href="../arpls/DBMS_DATA_MINING_TRANSFORM.html#ARPLS-GUID-94AE198A-2DA5-44BF-8DF3-E1C9078595B2" target="_blank">DBMS_DATA_MINING_TRANSFORM操作说明</a> ”</span> ， <span class="q">“ <a href="../arpls/DBMS_DATA_MINING_TRANSFORM.html#ARPLS-GUID-02B5DB17-3E39-4842-915F-3D012938BACA" target="_blank">SET_TRANSFORM过程</a> ”</span> ， <span class="q">“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-7F525A4E-9C93-44D6-BFFF-10BC018CD4A6" target="_blank">CREATE_MODEL过程</a> ”</span>和<span class="q">“ <a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-F91D8619-B830-41D6-86DE-643ACFA0B1BE" target="_blank">GET_MODEL_TRANSFORMATIONS函数</a> ”</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="DMPRG382"></a><div class="props_rev_3"><a id="GUID-D521DD05-C7F2-42CB-AE88-1C2BFB59DA2F" name="GUID-D521DD05-C7F2-42CB-AE88-1C2BFB59DA2F"></a><h3 id="DMPRG-GUID-D521DD05-C7F2-42CB-AE88-1C2BFB59DA2F" class="sect3"><span class="enumeration_section">4.4.3</span>转换列表和自动数据准备</h3>
               <div>
                  <p>如果启用ADP并指定转换列表，则转换列表将嵌入自动的系统生成的转换。转换列表在自动转换之前执行。</p>
                  <p>如果启用ADP并且未指定转换列表，则只会在模型中嵌入自动转换。</p>
                  <p>如果禁用ADP（默认设置）并指定转换列表，则自定义转换将嵌入到模型中。不执行自动转换。</p>
                  <p>如果禁用ADP（默认值）并且未指定转换列表，则模型中不会嵌入转换。如有必要，您必须自己转换培训，测试和评分数据集。您必须注意对每个数据集应用相同的转换。</p>
               </div>
            </div><a id="DMPRG387"></a><div class="props_rev_3"><a id="GUID-5B9E8688-4B56-4652-846D-90441B0F7889" name="GUID-5B9E8688-4B56-4652-846D-90441B0F7889"></a><h3 id="DMPRG-GUID-5B9E8688-4B56-4652-846D-90441B0F7889" class="sect3"><span class="enumeration_section">4.4.4</span> Oracle数据挖掘转换例程</h3>
               <div>
                  <p>了解转型例程。</p>
                  <div class="section">
                     <p>Oracle Data Mining提供了在<code class="codeph">DBMS_DATA_MINING_TRANSFORM</code>包中实现各种转换技术的<code class="codeph">DBMS_DATA_MINING_TRANSFORM</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../arpls/DBMS_DATA_MINING_TRANSFORM.html#ARPLS191" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></li>
                     </ul>
                  </div>
               </div><a id="DMPRG389"></a><a id="DMPRG388"></a><div class="props_rev_3"><a id="GUID-4B3355AD-0988-404C-8140-EB1DD7FE7CDF" name="GUID-4B3355AD-0988-404C-8140-EB1DD7FE7CDF"></a><h4 id="DMPRG-GUID-4B3355AD-0988-404C-8140-EB1DD7FE7CDF" class="sect4"><span class="enumeration_section">4.4.4.1分</span>箱例程</h4>
                  <div>
                     <p>解释Oracle Data Mining中的分箱技术。</p>
                     <div class="section">
                        <p>决定分箱策略的因素有很多。具有较少的值通常会导致更紧凑的模型和更快构建的模型，但它也会导致精度的某些损失。</p>
                        <p>通过精心选择的箱边界，模型质量可以显着提高。例如，将年龄分开的适当方式是将它们分成感兴趣的组，例如0-13岁儿童，13-19岁青少年，19-24岁青年，24-35岁工作，等等。</p>
                        <p>下表列出了Oracle Data Mining提供的分箱技术：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-4B3355AD-0988-404C-8140-EB1DD7FE7CDF__CIADFAFB">
                        <p class="titleintable">表4-3 DBMS_DATA_MINING_TRANSFORM中的分箱方法</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_DATA_MINING_TRANSFORM中的分箱方法" width="100%" border="1" summary="Binning routines in DBMS_DATA_MINING_TRANSFORM" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d10200e662">分箱方法</th>
                                 <th align="left" valign="bottom" width="69%" id="d10200e665">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d10200e670" headers="d10200e662 ">
                                    <p>前N个最常用的项目</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d10200e670 d10200e665 ">
                                    <p><a id="d10200e675" class="indexterm-anchor"></a>您可以使用此技术来分类分类属性。您可以指定箱数。最常出现的值标记为第一个bin，下一个频率出现的值标记为第二个bin，依此类推。所有剩余的值都在一个额外的bin中。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d10200e681" headers="d10200e662 ">
                                    <p>监督Binning</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d10200e681 d10200e665 ">
                                    <p><a id="d10200e686" class="indexterm-anchor"></a>监督分级是智能分箱的一种形式，其中分箱边界是从数据的重要特征导出的。有监督的分箱构建单预测器决策树以找到关于目标的有趣的箱边界。它可用于数字或分类属性。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d10200e692" headers="d10200e662 ">
                                    <p>等宽分档</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d10200e692 d10200e665 ">
                                    <p>您可以对数字属性使用等宽分箱。通过从最大值中减去最小值来计算值的范围，然后将值的范围划分为相等的间隔。您可以指定箱数，也可以自动计算。等宽分级通常必须与异常值处理一起使用。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d10200e704" headers="d10200e662 ">
                                    <p>分位数分档</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d10200e704 d10200e665 ">
                                    <p>位数<a id="d10200e710" class="indexterm-anchor"></a> binning是一种数字分箱技术。使用SQL分析函数<code class="codeph">NTILE</code>计算分位数。 bin边界基于每个分位数的最小值。具有相等左右边界的区域被折叠，可能导致比所请求的区域更少的区间。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="embedding-transformations-model.html#GUID-C8EAB4FC-1792-47CD-B4A5-4EA0BB61FC2D">异常值处理的例程</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMPRG391"></a><a id="DMPRG390"></a><div class="props_rev_3"><a id="GUID-E2DE82C1-73B5-4E31-AF7A-1FE9556D9FEA" name="GUID-E2DE82C1-73B5-4E31-AF7A-1FE9556D9FEA"></a><h4 id="DMPRG-GUID-E2DE82C1-73B5-4E31-AF7A-1FE9556D9FEA" class="sect4"><span class="enumeration_section">4.4.4.2</span>规范化例程</h4>
                  <div>
                     <p>了解Oracle Data Mining中的规范化例程。</p>
                     <div class="section">
                        <p>大多数规范化方法将单个属性的范围映射到另一个范围，通常为0到1或-1到+1。</p>
                        <p>归一化对异常值非常敏感。如果没有异常值处理，大多数值都会映射到很小的范围，从而导致信息的显着丢失。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-E2DE82C1-73B5-4E31-AF7A-1FE9556D9FEA__GUID-0440B634-4909-4AAB-912E-6701E8FAE2A1">
                        <p class="titleintable">表4-4 DBMS_DATA_MINING_TRANSFORM中的规范化方法</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_DATA_MINING_TRANSFORM中的规范化方法" width="100%" border="1" summary="Normalization Routines supported by DBMS_DATA_MINING_TRANSFORM" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d10200e760">转型</th>
                                 <th align="left" valign="bottom" width="69%" id="d10200e763">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d10200e768" headers="d10200e760 ">
                                    <p>MIN-MAX <a id="d10200e771" class="indexterm-anchor"></a>正常化</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d10200e768 d10200e763 ">
                                    <p>此技术使用最小值和最大值计算属性的规范化。移位是最小值，比例是最大值和最小值之间的差值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d10200e780" headers="d10200e760 ">
                                    <p>规模<a id="d10200e783" class="indexterm-anchor"></a>正常化</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d10200e780 d10200e763 ">
                                    <p>此归一化技术还使用最小值和最大值。对于比例归一化，shift = 0，scale = max {abs（max），abs（min）}。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d10200e792" headers="d10200e760 ">
                                    <p>Z得分<a id="d10200e795" class="indexterm-anchor"></a>正常化</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d10200e792 d10200e763 ">
                                    <p>该技术使用均值和标准差计算属性的标准化。Shift是平均值，scale是标准偏差。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="embedding-transformations-model.html#GUID-C8EAB4FC-1792-47CD-B4A5-4EA0BB61FC2D">异常值处理的例程</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMPRG393"></a><a id="DMPRG392"></a><div class="props_rev_3"><a id="GUID-C8EAB4FC-1792-47CD-B4A5-4EA0BB61FC2D" name="GUID-C8EAB4FC-1792-47CD-B4A5-4EA0BB61FC2D"></a><h4 id="DMPRG-GUID-C8EAB4FC-1792-47CD-B4A5-4EA0BB61FC2D" class="sect4"><span class="enumeration_section">4.4.4.3</span>异常值处理的例程</h4>
                  <div>
                     <div class="section">
                        <p><strong class="term">异常值</strong>是极值，通常是与平均值的几个标准偏差。为了最大限度地减少异常值的影响，您可以对数据进行Winsorize或trim。
                        </p>
                        <p><strong class="term">Winsorizing</strong>涉及将属性的尾部值设置为某个指定值。例如，对于90％Winsorization，最低5％的值设置为等于第5百分位数中的最小值，而值的高5％设置为等于第95百分位数中的最大值。
                        </p>
                        <p><strong class="term">修剪</strong>将尾部值设置为NULL。该算法将它们视为缺失值。
                        </p>
                        <p>异常值以不同的方式影响不同的算法。通常，异常值会导致等宽分级和最小 - 最大归一化的失真。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C8EAB4FC-1792-47CD-B4A5-4EA0BB61FC2D__GUID-D7D21C7E-C1B6-44B7-9CD7-D1050D2F0F23">
                        <p class="titleintable">表4-5 DBMS_DATA_MINING_TRANSFORM中的异常值处理方法</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_DATA_MINING_TRANSFORM中的异常值处理方法" width="100%" border="1" summary="Outlier treatment methods in DBMS_DATA_MINING_TRANSFORM -- trimming and windsorizing" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d10200e856">转型</th>
                                 <th align="left" valign="bottom" width="69%" id="d10200e859">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d10200e864" headers="d10200e856 ">
                                    <p><a id="d10200e866" class="indexterm-anchor"></a>修剪</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d10200e864 d10200e859 ">
                                    <p>此技术通过对非空值进行排序，根据某些分数计算尾值，并用空值替换尾值来修剪数值列中的异常值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d10200e873" headers="d10200e856 ">
                                    <p><a id="d10200e875" class="indexterm-anchor"></a> Windsorizing</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d10200e873 d10200e859 ">
                                    <p>此技术通过对非空值进行排序，根据某些分数计算尾值以及将尾值替换为某个指定值来修剪数值列中的异常值。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="09171.V-PROXY_DATAFILE.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="V$PROXY_DATAFILE contains descriptions of datafile and control file backups that are taken with Proxy Copy."></meta>
      <meta name="description" content="V$PROXY_DATAFILE contains descriptions of datafile and control file backups that are taken with Proxy Copy."></meta>
      <title>V $ PROXY_DATAFILE</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Reference"></meta>
      <meta property="og:description" content="V$PROXY_DATAFILE contains descriptions of datafile and control file backups that are taken with Proxy Copy."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00"></meta>
      <meta name="dcterms.title" content="Database Reference"></meta>
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96196-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="V-PROXY_COPY_SUMMARY.html" title="Previous" type="text/html"></link>
      <link rel="next" href="V-PROXY_PDB_TARGETS.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="V-PROXY_COPY_SUMMARY.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="V-PROXY_PDB_TARGETS.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="dynamic-performance-views.html" property="item" typeof="WebPage"><span property="name">动态性能视图</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="dynamic-performance-v-views-2.html" property="item" typeof="WebPage"><span property="name">动态性能（V $）视图：V $ IM_COLUMN_LEVEL至V $ RULE_SET_AGGREGATE_STATS</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">V $ PROXY_DATAFILE</li>
            </ol>
            <a id="GUID-18ED700A-A654-436A-A8A4-890B2CA90006" name="GUID-18ED700A-A654-436A-A8A4-890B2CA90006"></a><a id="REFRN30188"></a>
            
            <h2 id="REFRN-GUID-18ED700A-A654-436A-A8A4-890B2CA90006" class="sect2"><span class="enumeration_section">8.138</span> V $ PROXY_DATAFILE</h2>
         </header>
         <div class="ind">
            <div>
               <div><span><code class="codeph">V$PROXY_DATAFILE</code>包含使用代理副本获取的数据文件和控制文件备份的说明。</span> 每行代表一个数据库文件的备份。
               </div>
               <div class="tblformalwide" id="GUID-18ED700A-A654-436A-A8A4-890B2CA90006__GUID-9DFA030F-9502-445A-B6E8-375FEA18E331">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="This table describes the columns for this database view" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="24%" id="d1950440e171">柱</th>
                           <th align="left" valign="bottom" width="18%" id="d1950440e174">数据类型</th>
                           <th align="left" valign="bottom" width="58%" id="d1950440e177">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e182" headers="d1950440e171 ">
                              <p><code class="codeph">RECID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e182 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e182 d1950440e177 ">
                              <p>代理复制记录ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e194" headers="d1950440e171 ">
                              <p><code class="codeph">邮票</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e194 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e194 d1950440e177 ">
                              <p>代理复制记录戳</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e206" headers="d1950440e171 ">
                              <p><code class="codeph">设备类型</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e206 d1950440e174 ">
                              <p><code class="codeph">VARCHAR2（17）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e206 d1950440e177 ">
                              <p>副本所在的设备类型</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e218" headers="d1950440e171 ">
                              <p><code class="codeph">处理</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e218 d1950440e174 ">
                              <p><code class="codeph">VARCHAR2（513）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e218 d1950440e177 ">
                              <p>代理副本句柄标识要还原的副本</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e230" headers="d1950440e171 ">
                              <p><code class="codeph">评论</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e230 d1950440e174 ">
                              <p><code class="codeph">VARCHAR2（81）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e230 d1950440e177 ">
                              <p>操作系统或存储子系统返回的注释。该值仅供参考。恢复不需要它。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e242" headers="d1950440e171 ">
                              <p><code class="codeph">媒体</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e242 d1950440e174 ">
                              <p><code class="codeph">VARCHAR2（65）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e242 d1950440e177 ">
                              <p>副本所在的媒体的名称。该值仅供参考。恢复不需要它。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e254" headers="d1950440e171 ">
                              <p><code class="codeph">MEDIA_POOL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e254 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e254 d1950440e177 ">
                              <p>副本所在的媒体池。这与在Recovery Manager <code class="codeph">BACKUP</code>命令的<code class="codeph">POOL</code>操作数中输入的值相同</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e272" headers="d1950440e171 ">
                              <p><code class="codeph">标签</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e272 d1950440e174 ">
                              <p><code class="codeph">VARCHAR2（32）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e272 d1950440e177 ">
                              <p>代理副本标记</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e284" headers="d1950440e171 ">
                              <p><code class="codeph">状态</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e284 d1950440e174 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e284 d1950440e177 ">
                              <p>备份集的状态：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">A</code> - 可用</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">U</code> - 不可用</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">X</code> - 已过期</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">D</code> - 已删除</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e317" headers="d1950440e171 ">
                              <p><code class="codeph">DELETED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e317 d1950440e174 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e317 d1950440e177 ">
                              <p>指示此记录是否已删除（ <code class="codeph">YES</code> ）否（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e335" headers="d1950440e171 ">
                              <p><code class="codeph">文件＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e335 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e335 d1950440e177 ">
                              <p>绝对数据文件编号，如果这是控制文件备份，则为0</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e348" headers="d1950440e171 ">
                              <p><code class="codeph">CREATION_CHANGE＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e348 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e348 d1950440e177 ">
                              <p>数据文件创建更改编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e360" headers="d1950440e171 ">
                              <p><code class="codeph">CREATION_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e360 d1950440e174 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e360 d1950440e177 ">
                              <p>数据文件创建时间戳</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e372" headers="d1950440e171 ">
                              <p><code class="codeph">RESETLOGS_CHANGE＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e372 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e372 d1950440e177 ">
                              <p>复制日志在复制时更改数据文件的编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e384" headers="d1950440e171 ">
                              <p><code class="codeph">RESETLOGS_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e384 d1950440e174 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e384 d1950440e177 ">
                              <p>复制时，重置日志数据文件的时间戳</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e396" headers="d1950440e171 ">
                              <p><code class="codeph">CHECKPOINT_CHANGE＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e396 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e396 d1950440e177 ">
                              <p>复制时，检查点更改数据文件的编号</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e408" headers="d1950440e171 ">
                              <p><code class="codeph">CHECKPOINT_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e408 d1950440e174 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e408 d1950440e177 ">
                              <p>复制时数据文件的检查点时间戳</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e420" headers="d1950440e171 ">
                              <p><code class="codeph">ABSOLUTE_FUZZY_CHANGE＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e420 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e420 d1950440e177 ">
                              <p>如果已知，则文件的任何块中的最大更改</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e432" headers="d1950440e171 ">
                              <p><code class="codeph">RECOVERY_FUZZY_CHANGE＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e432 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e432 d1950440e177 ">
                              <p>媒体恢复写入文件的最高更改</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e444" headers="d1950440e171 ">
                              <p><code class="codeph">RECOVERY_FUZZY_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e444 d1950440e174 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e444 d1950440e177 ">
                              <p>通过介质恢复写入文件的最高更改的时间戳</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e456" headers="d1950440e171 ">
                              <p><code class="codeph">INCREMENTAL_LEVEL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e456 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e456 d1950440e177 ">
                              <p>如果此备份是增量备份策略的一部分，则为0。否则为null。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e468" headers="d1950440e171 ">
                              <p><code class="codeph">ONLINE_FUZZY</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e468 d1950440e174 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e468 d1950440e177 ">
                              <p>指示此副本是在崩溃后立即生成还是脱机立即生成（或者是在数据库打开时未正确使用的副本的副本）（ <code class="codeph">YES</code> ）或不是（ <code class="codeph">NO</code> ）。恢复将需要将所有重做应用到下一个崩溃恢复标记，以使文件保持一致。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e487" headers="d1950440e171 ">
                              <p><code class="codeph">BACKUP_FUZZY</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e487 d1950440e174 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e487 d1950440e177 ">
                              <p>指示这是否是使用<code class="codeph">BEGIN BACKUP | END BACKUP</code>进行的复制<code class="codeph">BEGIN BACKUP | END BACKUP</code>技术（ <code class="codeph">YES</code> ）与否（ <code class="codeph">NO</code> ）。<code class="codeph">BEGIN BACKUP | END BACKUP</code>在创建打开文件的代理副本时，内部使用<code class="codeph">BEGIN BACKUP | END BACKUP</code>技术。恢复将需要将所有重做应用到最终备份标记，以使此副本保持一致。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e511" headers="d1950440e171 ">
                              <p><code class="codeph">积木</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e511 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e511 d1950440e177 ">
                              <p>副本的大小（以块为单位）。还有复制时数据文件的大小。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e523" headers="d1950440e171 ">
                              <p><code class="codeph">BLOCK_SIZE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e523 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e523 d1950440e177 ">
                              <p>块数据文件的大小</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e535" headers="d1950440e171 ">
                              <p><code class="codeph">OLDEST_OFFLINE_RANGE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e535 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e535 d1950440e177 ">
                              <p>如果文件编号为<code class="codeph">0</code> （即，这是控制文件备份），则此控制文件副本中最旧的脱机范围记录的RECID。 <code class="codeph">0</code>表示数据文件副本。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e553" headers="d1950440e171 ">
                              <p><code class="codeph">开始时间</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e553 d1950440e174 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e553 d1950440e177 ">
                              <p>起始时间</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e565" headers="d1950440e171 ">
                              <p><code class="codeph">完成时间</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e565 d1950440e174 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e565 d1950440e177 ">
                              <p>完成时间</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e577" headers="d1950440e171 ">
                              <p><code class="codeph">ELAPSED_SECONDS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e577 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e577 d1950440e177 ">
                              <p>经过的秒数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e589" headers="d1950440e171 ">
                              <p><code class="codeph">CONTROLFILE_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e589 d1950440e174 ">
                              <p><code class="codeph">VARCHAR2（1）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e589 d1950440e177 ">
                              <p>控制文件的类型：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">B</code> - 正常控制文件</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">S</code> - 备用控制文件</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e612" headers="d1950440e171 ">
                              <p><code class="codeph">保持</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e612 d1950440e174 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e612 d1950440e177 ">
                              <p>指示此备份集的保留策略是否与配置保留策略的值不同（ <code class="codeph">YES</code> ）（ <code class="codeph">NO</code> ）（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e630" headers="d1950440e171 ">
                              <p><code class="codeph">KEEP_UNTIL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e630 d1950440e174 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e630 d1950440e177 ">
                              <p>如果指定，那么这是备份变得过时的日期。如果此列为NULL，则备份永不过期。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e642" headers="d1950440e171 ">
                              <p><code class="codeph">KEEP_OPTIONS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e642 d1950440e174 ">
                              <p><code class="codeph">VARCHAR2（11）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e642 d1950440e177 ">
                              <p>此备份集的其他保留选项：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">LOGS</code> - 表示使用<code class="codeph">LOGS</code>关键字进行的长期备份，现已弃用</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">BACKUP_LOGS</code> - 表示备份是在打开模式下进行的，因此必须应用归档日志备份以使其保持一致</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NOLOGS</code> - 表示装入数据库时进行的一致备份。
                                    </p>
                                 </li>
                                 <li>
                                    <p>NULL  - 表示此备份没有<code class="codeph">KEEP</code>选项，并根据保留策略过时</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e680" headers="d1950440e171 ">
                              <p><code class="codeph">RMAN_STATUS_RECID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e680 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e680 d1950440e177 ">
                              <p>拥有<code class="codeph">V$RMAN_STATUS</code>记录ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e695" headers="d1950440e171 ">
                              <p><code class="codeph">RMAN_STATUS_STAMP</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e695 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e695 d1950440e177 ">
                              <p>拥有<code class="codeph">V$RMAN_STATUS</code>邮票</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e710" headers="d1950440e171 ">
                              <p><code class="codeph">FOREIGN_DBID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e710 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e710 d1950440e177 ">
                              <p>传输此数据文件的数据库的外部DBID。如果备份的文件不是外部数据库文件，则该值为<code class="codeph">0</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e725" headers="d1950440e171 ">
                              <p><code class="codeph">PLUGGED_READONLY</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e725 d1950440e174 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e725 d1950440e177 ">
                              <p>指示这是否是传输的只读外部文件的代理副本（ <code class="codeph">YES</code> ）否（ <code class="codeph">NO</code> ）</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e743" headers="d1950440e171 ">
                              <p><code class="codeph">PLUGIN_CHANGE＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e743 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e743 d1950440e177 ">
                              <p>将外部数据文件传输到数据库的SCN。如果此文件不是外部数据库文件，则该值为<code class="codeph">0</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e758" headers="d1950440e171 ">
                              <p><code class="codeph">PLUGIN_RESETLOGS_CHANGE＃</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e758 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e758 d1950440e177 ">
                              <p><code class="codeph">RESETLOGS</code>操作的SCN用于传输此外来文件的化身。如果此文件不是外部数据库文件，则该值为<code class="codeph">0</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e776" headers="d1950440e171 ">
                              <p><code class="codeph">PLUGIN_RESETLOGS_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e776 d1950440e174 ">
                              <p><code class="codeph">日期</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e776 d1950440e177 ">
                              <p><code class="codeph">RESETLOGS</code>操作的时间，用于运输该外来文件的化身。如果此文件不是外部数据库文件，则该值为<code class="codeph">0</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e794" headers="d1950440e171 ">
                              <p><code class="codeph">CON_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e794 d1950440e174 ">
                              <p><code class="codeph">数</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e794 d1950440e177 ">
                              <p>数据所属容器的ID。可能的值包括：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">0</code> ：此值用于包含与整个CDB相关的数据的行。此值还用于非CDB中的行。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">1</code> ：此值用于包含仅与根有关的数据的行</p>
                                 </li>
                                 <li>
                                    <p><span class="italic">n</span> ：其中<span class="italic">n</span>是包含数据的行的适用容器ID</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e825" headers="d1950440e171 ">
                              <p><code class="codeph">BACKED_BY_PDB</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e825 d1950440e174 ">
                              <p><code class="codeph">VARCHAR2（3）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e825 d1950440e177 ">
                              <p>Recovery Manager（RMAN）允许以两种方式备份PDB。此列中的值指示PDB备份的执行方式：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">YES</code> ：连接到PDB时进行备份</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NO</code> ：连接到根容器时进行备份</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1950440e848" headers="d1950440e171 ">
                              <p><code class="codeph">GUID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1950440e848 d1950440e174 ">
                              <p><code class="codeph">RAW（16）</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d1950440e848 d1950440e177 ">
                              <p>备份所属的PDB的GUID。在删除PDB以识别备份所属的PDB之后，这很有用。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="04125.resultset.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>结果集</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="JDBC Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00"></meta>
      <meta name="dcterms.title" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96471-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="Oracle-collections.html" title="Previous" type="text/html"></link>
      <link rel="next" href="JDBC-Rowsets.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Oracle-collections.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="JDBC-Rowsets.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="data-access-and-manipulation.html" property="item" typeof="WebPage"><span property="name">数据访问和操作</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">结果集</li>
            </ol>
            <a id="GUID-16116A5C-1A33-4F65-B9DD-1BDCE925343B" name="GUID-16116A5C-1A33-4F65-B9DD-1BDCE925343B"></a><a id="JJDBC28611"></a>
            
            <h2 id="JJDBC-GUID-16116A5C-1A33-4F65-B9DD-1BDCE925343B" class="sect2"><span class="enumeration_chapter">17</span>结果集</h2>
         </header>
         <div class="ind">
            <div>
               <p>Java Development Kit（JDK）中的标准Java数据库连接（JDBC）功能包括对结果集功能的增强，例如向前或向后处理，相对或绝对定位，查看内部或外部数据库的更改，以及更新结果集数据和然后将更改复制到数据库。</p>
               <p>本章讨论以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="resultset.html#GUID-41D05006-5470-4C1C-ACA0-A4B487B4D1C0">结果集支持的Oracle JDBC实现概述</a></p>
                  </li>
                  <li>
                     <p><a href="resultset.html#GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A">结果集限制和降级规则</a></p>
                  </li>
                  <li>
                     <p><a href="resultset.html#GUID-EADCCA6E-E90A-4CA5-9F0A-D68DA3E4163A">关于避免更新冲突</a></p>
                  </li>
                  <li>
                     <p><a href="resultset.html#GUID-BD27B43E-525F-44C4-973F-18D2BB8BA007">行获取大小</a></p>
                  </li>
                  <li>
                     <p><a href="resultset.html#GUID-264DC004-D0F0-4BD4-935C-438FD46DB412">关于Refetching Rows</a></p>
                  </li>
                  <li>
                     <p><a href="resultset.html#GUID-8360DD85-DBCE-485A-9E22-F7B7A5904D63">关于查看内部和外部的数据库更改</a></p>
                  </li>
               </ul>
            </div><a id="JJDBC28613"></a><a id="JJDBC28614"></a><a id="JJDBC28612"></a><div class="props_rev_3"><a id="GUID-41D05006-5470-4C1C-ACA0-A4B487B4D1C0" name="GUID-41D05006-5470-4C1C-ACA0-A4B487B4D1C0"></a><h3 id="JJDBC-GUID-41D05006-5470-4C1C-ACA0-A4B487B4D1C0" class="sect3"><span class="enumeration_section">17.1</span>结果集支持的Oracle JDBC实现概述</h3>
               <div>
                  <div class="section">
                     <p>本节讨论Oracle JDBC实现结果集支持的关键方面，通过使用客户端缓存来实现可滚动性，以及通过使用<code class="codeph">ROWID</code>来实现可更新性。
                     </p>
                     <p>客户可以实现自己的客户端缓存机制，Oracle提供了一个用于这样做的接口。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-41D05006-5470-4C1C-ACA0-A4B487B4D1C0__GUID-01AC5CB7-BB44-44CE-947C-3DFE27661ED9">结果集可滚动性的Oracle JDBC实现</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>因为底层服务器<span class="italic">不</span>支持滚动游标，甲骨文JDBC必须在单独的层实现滚动性。
                     </p>
                     <p>重要的是要意识到这是通过使用客户端内存缓存来存储可滚动结果集的行来实现的。</p>
                     <div class="infoboxnote" id="GUID-41D05006-5470-4C1C-ACA0-A4B487B4D1C0__GUID-9B41789F-4F04-404B-9D40-24F16CA291B0">
                        <p class="notep1">注意：</p>
                        <p>由于任何可滚动结果集的所有行都存储在客户端缓存中，因此结果集包含许多行，多列或非常大的列的情况可能会导致客户端Java虚拟机（JVM）失败。不要为大型结果集指定可滚动性。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-41D05006-5470-4C1C-ACA0-A4B487B4D1C0__GUID-08094B4D-2ED1-4FB7-B07C-D14D7C57DE50">结果集可更新性的Oracle JDBC实现</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>为了支持可更新性，Oracle JDBC使用<code class="codeph">ROWID</code>唯一标识出现在结果集中的数据库行。对于可更新结果集的每个查询，Oracle JDBC驱动程序会自动检索<code class="codeph">ROWID</code>以及您选择的列。
                     </p>
                     <div class="infoboxnote" id="GUID-41D05006-5470-4C1C-ACA0-A4B487B4D1C0__GUID-DEECF8A1-5238-4BE3-BA09-9F8BD3119E4A">
                        <p class="notep1">注意：</p>
                        <p>可更新性本身不需要客户端缓存。特别是，只可向前更新的结果集不需要客户端缓存。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28616"></a><a id="JJDBC28617"></a><a id="JJDBC28618"></a><a id="JJDBC28619"></a><a id="JJDBC28615"></a><div class="props_rev_3"><a id="GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A" name="GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A"></a><h3 id="JJDBC-GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A" class="sect3"><span class="enumeration_section">17.2结果集</span>限制和降级规则</h3>
               <div>
                  <div class="section">
                     <p>某些类型的结果集对于某些类型的查询是不可行的。如果为运行的查询指定了不可行的结果集类型或并发类型，则JDBC驱动程序将遵循一组规则来确定要使用的最佳可行类型。</p>
                     <p>实际结果集类型和并发类型是在运行语句时确定的，如果所需的结果集类型或并发类型不可行，驱动程序会在语句对象上发出<code class="codeph">SQLWarning</code> 。<code class="codeph">SQLWarning</code>对象将包含所请求类型不可行的原因。检查警告以验证是否收到了您请求的结果集类型。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A__GUID-BFDF8097-D345-45D6-B977-40CB39564C6B">结果集限制</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对增强结果集的查询存在以下限制。如果不遵循这些准则，JDBC驱动程序将选择替代结果集类型或并发类型。</p>
                     <p>要生成可更新的结果集：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>查询只能从单个表中进行选择，并且不能包含任何连接操作。</p>
                           <p>此外，为了使插入可行，查询必须选择所有不可为空的列和所有没有默认值的列。</p>
                        </li>
                        <li>
                           <p>查询不能使用<code class="codeph">SELECT *</code> 。
                           </p>
                           <p>但是，有一个解决方法。</p>
                        </li>
                        <li>
                           <p>查询必须仅选择表列。</p>
                           <p>它不能选择派生列或聚合，例如一组列的<code class="codeph">SUM</code>或<code class="codeph">MAX</code> 。
                           </p>
                        </li>
                     </ul>
                     <p>要生成scr oll敏感的结果集：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>查询不能使用<code class="codeph">SELECT *</code> 。
                           </p>
                           <p>但是，有一个解决方法。</p>
                        </li>
                        <li>
                           <p>查询只能从一个表中进行选择。</p>
                        </li>
                     </ul>
                     <p>可滚动和可更新的结果集不能将任何列作为<code class="codeph">Stream</code> 。当服务器必须获取<code class="codeph">Stream</code>列时，它会将获取大小减小为1并阻止<code class="codeph">Stream</code>列之后的所有列，直到读取<code class="codeph">Stream</code>列。因此，无法批量提取列并滚动浏览。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A__GUID-030C5DF2-DA56-4091-8002-3077632C2645">解决方法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>作为<code class="codeph">SELECT *</code>限制的变通方法，您可以使用表别名，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">选择t。* FROM TABLE t ...
</pre><div class="infoboxnote" id="GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A__GUID-FCF14CE8-725D-4B3B-AE2F-FEC770374F2A">
                        <p class="notep1">注意：</p>
                        <p>有一种简单的方法可以确定您的查询是否可能产生滚动敏感或可更新的结果集：如果您可以合法地将<code class="codeph">ROWID</code>列添加到查询列表，那么查询可能适用于滚动敏感或可更新结果集。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A__GUID-ECB4DFDF-038A-4594-B5E8-291836D0367D">结果集降级规则</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>如果指定的结果集类型或并发类型不可行，则Oracle JDBC驱动程序在选择备用类型时使用以下规则：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果指定的结果集类型为<code class="codeph">TYPE_SCROLL_SENSITIVE</code> ，但JDBC驱动程序无法满足该请求，则驱动程序会尝试降级为<code class="codeph">TYPE_SCROLL_INSENSITIVE</code> 。</p>
                        </li>
                        <li>
                           <p>如果指定或降级的结果集类型为<code class="codeph">TYPE_SCROLL_INSENSITIVE</code> ，但JDBC驱动程序无法满足该请求，则驱动程序会尝试降级为<code class="codeph">TYPE_FORWARD_ONLY</code> 。</p>
                        </li>
                        <li>
                           <p>如果指定的并发类型为<code class="codeph">CONCUR_UPDATABLE</code> ，但JDBC驱动程序无法满足该请求，则JDBC驱动程序会尝试降级为<code class="codeph">CONCUR_READ_ONLY</code> 。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A__GUID-421E8A9F-17AC-4F4E-96CE-FA8016FFE254">
                        <p class="notep1">注意：</p>
                        <p>JDBC驱动程序对结果集类型和并发类型的任何操作都是相互独立的。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8CF0B30D-6201-4A26-8635-0DDD4449B27A__GUID-938ED844-5BB8-4425-8D49-36C652EC6E8B">验证结果集类型和并发类型</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>运行查询后，可以通过调用结果集对象上的方法来验证JDBC驱动程序实际使用的结果集类型和并发类型。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">int getType（）抛出SQLException</code></p>
                           <p>此方法返回用于查询的结果集类型的<code class="codeph">int</code>值。<code class="codeph">结果集。TYPE_FORWARD_ONLY</code> ， <code class="codeph">ResultSet.TYPE_SCROLL_SENSITIVE</code>或<code class="codeph">ResultSet.TYPE_SCROLL_INSENSITIVE</code>是可能的值。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">int getConcurrency（）抛出SQLException</code></p>
                           <p>此方法返回用于查询的并发类型的<code class="codeph">int</code>值。<code class="codeph">结果集。CONCUR_READ_ONLY</code>或<code class="codeph">ResultSet.CONCUR_UPDATABLE</code>是可能的值。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28620"></a><div class="props_rev_3"><a id="GUID-EADCCA6E-E90A-4CA5-9F0A-D68DA3E4163A" name="GUID-EADCCA6E-E90A-4CA5-9F0A-D68DA3E4163A"></a><h3 id="JJDBC-GUID-EADCCA6E-E90A-4CA5-9F0A-D68DA3E4163A" class="sect3"><span class="enumeration_section">17.3</span>关于避免更新冲突</h3>
               <div>
                  <p>了解有关JDBC驱动程序的可更新结果集的以下事实非常重要：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>驱动程序不会对可更新结果集强制执行写锁定。</p>
                     </li>
                     <li>
                        <p>驱动程序不检查与结果集<code class="codeph">DELETE</code>或<code class="codeph">UPDATE</code>操作的冲突。
                        </p>
                     </li>
                  </ul>
                  <p>如果您尝试对另一个已提交事务更新的行执行<code class="codeph">DELETE</code>或<code class="codeph">UPDATE</code>操作，则会发生冲突。
                  </p>
                  <p>Oracle JDBC驱动程序使用<code class="codeph">ROWID</code>唯一标识数据库表中的行。只要当驱动程序尝试向数据库发送<code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>操作时<code class="codeph">ROWID</code>有效，就会运行该操作。
                  </p>
                  <p>驱动程序不会报告另一个已提交事务所做的任何更改。任何冲突都会被忽略，您的更改将覆盖以前的更改。</p>
                  <p>要避免此类冲突，请在运行生成结果集的查询时使用Oracle <code class="codeph">FOR UPDATE</code>功能。这样可以避免冲突，但也会阻止同时访问数据。在数据项上只能同时保存一个写锁。
                  </p>
               </div>
            </div><a id="JJDBC28621"></a><div class="props_rev_3"><a id="GUID-BD27B43E-525F-44C4-973F-18D2BB8BA007" name="GUID-BD27B43E-525F-44C4-973F-18D2BB8BA007"></a><h3 id="JJDBC-GUID-BD27B43E-525F-44C4-973F-18D2BB8BA007" class="sect3"><span class="enumeration_section">17.4</span>行获取大小</h3>
               <div>
                  <p>默认情况下，当Oracle JDBC运行查询时，它会从数据库游标中一次检索10行的结果集。这是默认的Oracle行提取大小值。您可以通过更改行获取大小值来更改每次访问数据库游标时检索的行数。</p>
                  <p>标准JDBC还允许您指定查询时每个数据库往返提取的行数，此数字称为提取大小。在Oracle JDBC中，行预取值用作语句对象中的缺省提取大小。设置提取大小会覆盖row-prefetch设置，并影响通过该语句对象运行的后续查询。</p>
                  <p>获取大小也用于结果集。当语句对象运行查询时，语句对象的提取大小将传递给查询生成的结果集对象。但是，您还可以在结果集对象中设置提取大小，以覆盖传递给它的语句提取大小。</p>
                  <div class="infoboxnote" id="GUID-BD27B43E-525F-44C4-973F-18D2BB8BA007__GUID-D098C24F-D641-4BFE-A6F7-296D1B407A8A">
                     <p class="notep1">注意：</p>
                     <p>生成结果集后对语句对象的提取大小所做的更改将不会影响该结果集。</p>
                  </div>
                  <p>结果集获取大小（显式设置）或默认值等于传递给它的语句提取大小，确定在该结果集的任何后续数据库中检索的行数。这包括完成原始查询仍需要的任何行程，以及将数据重新添加到结果集中的任何行程。可以显式或隐式地重新获取数据，以更新滚动敏感或滚动不敏感/可更新的结果集。</p>
               </div><a id="JJDBC28622"></a><div class="props_rev_3"><a id="GUID-51BCFF01-EFB5-4134-9D08-93BFDDA10B40" name="GUID-51BCFF01-EFB5-4134-9D08-93BFDDA10B40"></a><h4 id="JJDBC-GUID-51BCFF01-EFB5-4134-9D08-93BFDDA10B40" class="sect4"><span class="enumeration_section">17.4.1</span>设置获取大小</h4>
                  <div>
                     <div class="section">
                        <p>所有<code class="codeph">Statement</code> ， <code class="codeph">PreparedStatement</code> ， <code class="codeph">CallableStatement</code>和<code class="codeph">ResultSet</code>对象中都提供了以下方法，用于设置和获取提取大小：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">void setFetchSize（int rows）抛出SQLException</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">int getFetchSize（）抛出SQLException</code></p>
                           </li>
                        </ul>
                        <p>要设置查询的提取大小，请在运行查询之前在语句对象上调用<code class="codeph">setFetchSize</code> 。如果将获取大小设置为N，则每次访问数据库时都会获取N行。
                        </p>
                        <p>运行查询后，可以在结果集对象上调用<code class="codeph">setFetchSize</code>以覆盖传递给它的语句对象提取大小。这将影响任何后续的数据库访问，以获取原始查询的更多行，以及影响以后任何行的重新获取。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28623"></a><div class="props_rev_3"><a id="GUID-CDDECEC2-3005-4A66-B5F5-5707DC37981F" name="GUID-CDDECEC2-3005-4A66-B5F5-5707DC37981F"></a><h4 id="JJDBC-GUID-CDDECEC2-3005-4A66-B5F5-5707DC37981F" class="sect4"><span class="enumeration_section">17.4.2</span>预设取指方向</h4>
                  <div>
                     <div class="section">
                        <p>标准JDBC允许预先指定方向，称为获取方向，以用于处理结果集。这允许JDBC驱动程序优化其处理。指定了以下结果集方法：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">void setFetchDirection（int direction）抛出SQLException</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">int getFetchDirection（）抛出SQLException</code></p>
                           </li>
                        </ul>
                        <p>Oracle JDBC驱动程序仅支持前向预设值，您可以通过输入<code class="codeph">ResultSet.来指定该<code class="codeph">ResultSet.FETCH_FORWARD</code>静态常量值。
                        </p>
                        <p>值<code class="codeph">ResultSet.FETCH_REVERSE</code>和<code class="codeph">ResultSet.不支持FETCH_UNKNOWN</code> 。尝试指定它们会导致SQL警告，并忽略设置。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28624"></a><div class="props_rev_3"><a id="GUID-264DC004-D0F0-4BD4-935C-438FD46DB412" name="GUID-264DC004-D0F0-4BD4-935C-438FD46DB412"></a><h3 id="JJDBC-GUID-264DC004-D0F0-4BD4-935C-438FD46DB412" class="sect3"><span class="enumeration_section">17.5</span>关于重新创建行</h3>
               <div>
                  <p>对于用于重新获取数据的某些类型的结果集，支持结果集<code class="codeph">refreshRow</code>方法。这包括返回数据库以从当前行开始重新获取对应于结果集中<span class="italic">n</span>行的数据库行，其中<span class="italic">n</span>是获取大小。这使您可以查看在结果集之外创建的数据库的最新更新，具体取决于封闭事务的隔离级别。
                  </p>
                  <p>由于重新获取仅重新获取与结果集中已有的行相对应的行，因此它不会对自原始查询以来在数据库中插入或删除的行执行任何操作。它会忽略已插入的行，即使从数据库中删除了相应的行，行仍将保留在结果集中。当尝试重新获取已在数据库中删除的行时，结果集中的相应行将保持其原始值。</p>
                  <div class="infoboxnote" id="GUID-264DC004-D0F0-4BD4-935C-438FD46DB412__GUID-83992638-31D8-4BD9-A8F4-EAD2A9D17DE7">
                     <p class="notep1">注意：</p>
                     <p>如果基于具有特定条件的查询声明<code class="codeph">TYPE_SCROLL_SENSITIVE</code>结果集，然后从外部更新该行以使列值不再与查询条件匹配，则驱动程序的行为就像已从数据库中删除该行并且该行不是通过发出的查询检索。因此，在调用<code class="codeph">refreshRow</code>方法时，您看不到特定行的更新。
                     </p>
                  </div>
                  <p>以下是<code class="codeph">refreshRow</code>方法的签名：</p><pre class="oac_no_warn" dir="ltr">void refreshRow（）抛出SQLException</pre><p>调用此方法时，您必须位于有效的当前行，而不是在行边界之外，而不是在插入行。</p>
                  <p>以下结果集类别支持<code class="codeph">refreshRow</code>方法：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>滚动敏感/只读</p>
                     </li>
                     <li>
                        <p>滚动敏感/更新</p>
                     </li>
                     <li>
                        <p>滚动不敏感/更新</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-264DC004-D0F0-4BD4-935C-438FD46DB412__GUID-C0D61A15-01DE-4B84-A661-8CE091327277">
                     <p class="notep1">注意：</p>
                     <p>滚动敏感的结果集功能是通过对<code class="codeph">refreshRow</code>隐式调用<code class="codeph">refreshRow</code> 。
                     </p>
                  </div>
               </div>
            </div><a id="JJDBC28625"></a><div class="props_rev_3"><a id="GUID-8360DD85-DBCE-485A-9E22-F7B7A5904D63" name="GUID-8360DD85-DBCE-485A-9E22-F7B7A5904D63"></a><h3 id="JJDBC-GUID-8360DD85-DBCE-485A-9E22-F7B7A5904D63" class="sect3"><span class="enumeration_section">17.6</span>关于查看内部和外部数据库更改</h3>
               <div>
                  <p>本节讨论结果集查看以下内容的能力：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>自己对结果集进行更改，称为内部更改</p>
                     </li>
                     <li>
                        <p>从其他地方进行的更改，来自您在结果集外部的自己的事务，或来自其他已提交的事务，称为外部更改</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-8360DD85-DBCE-485A-9E22-F7B7A5904D63__GUID-C7EC35EF-7726-4B80-B399-82BB6F63C1E9">
                     <p class="notep1">注意：</p>
                     <p>外部更改在标准JDBC规范中称为其他更改。</p>
                  </div>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="resultset.html#GUID-71728FB5-5112-4204-B563-A40D8C5FD783">可见性与外部变化的检测</a></p>
                     </li>
                     <li>
                        <p><a href="resultset.html#GUID-261E6F26-6213-409E-B8E0-BA03A0F3A0F7">内部和外部变化可见性摘要</a></p>
                     </li>
                     <li>
                        <p><a href="resultset.html#GUID-F29ED77D-7BD2-4044-94F2-F53A0739701F">Oracle滚动敏感结果集的实现</a></p>
                     </li>
                  </ul>
               </div><a id="JJDBC28626"></a><div class="props_rev_3"><a id="GUID-71728FB5-5112-4204-B563-A40D8C5FD783" name="GUID-71728FB5-5112-4204-B563-A40D8C5FD783"></a><h4 id="JJDBC-GUID-71728FB5-5112-4204-B563-A40D8C5FD783" class="sect4"><span class="enumeration_section">17.6.1</span>可见性与外部变化的检测</h4>
                  <div>
                     <p>关于外部源对底层数据库所做的更改，关于本地结果集中更改的可见性，有两个相似但不同的概念：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>变化的可见性</p>
                        </li>
                        <li>
                           <p>检测变化</p>
                        </li>
                     </ul>
                     <p>“可见”更改意味着当您查看结果集中的某一行时，您可以看到外部源所做更改的新数据值到数据库中的相应行。</p>
                     <p>但是，“检测到”更改意味着结果集意识到这是一个新值，因为首先填充结果集。</p>
                     <p>即使Oracle结果集看到新数据（如滚动敏感结果集中的外部<code class="codeph">UPDATE</code> ，也不会意识到自填充结果集以来此数据已更改。未检测到此类更改。
                     </p>
                  </div>
               </div><a id="JJDBC28628"></a><a id="JJDBC28627"></a><div class="props_rev_3"><a id="GUID-261E6F26-6213-409E-B8E0-BA03A0F3A0F7" name="GUID-261E6F26-6213-409E-B8E0-BA03A0F3A0F7"></a><h4 id="JJDBC-GUID-261E6F26-6213-409E-B8E0-BA03A0F3A0F7" class="sect4"><span class="enumeration_section">17.6.2</span>内部和外部变化可见性摘要</h4>
                  <div>
                     <div class="section">
                        <p><a href="resultset.html#GUID-261E6F26-6213-409E-B8E0-BA03A0F3A0F7__g1026797" title="表">表17-1</a>总结了Oracle JDBC实现中的结果集对象如何看到通过结果集本身在内部进行的更改，以及从事务中其他位置或其他已提交事务对基础数据库进行的外部更改。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-261E6F26-6213-409E-B8E0-BA03A0F3A0F7__g1026797">
                        <p class="titleintable">表17-1 Oracle JDBC的内部和外部更改的可见性</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle JDBC的内部和外部更改的可见性" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="21%" id="d60274e833">结果集类型</th>
                                 <th align="left" valign="bottom" width="13%" id="d60274e836">可以看到内部删除？</th>
                                 <th align="left" valign="bottom" width="13%" id="d60274e839">可以看到内部更新吗？</th>
                                 <th align="left" valign="bottom" width="13%" id="d60274e842">可以看到内部INSERT？</th>
                                 <th align="left" valign="bottom" width="13%" id="d60274e845">可以看到外部删除？</th>
                                 <th align="left" valign="bottom" width="14%" id="d60274e848">可以看到外部更新吗？</th>
                                 <th align="left" valign="bottom" width="14%" id="d60274e851">可以看到外部INSERT？</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d60274e856" headers="d60274e833 ">
                                    <p>只进</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e856 d60274e836 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e856 d60274e839 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e856 d60274e842 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e856 d60274e845 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d60274e856 d60274e848 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d60274e856 d60274e851 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d60274e878" headers="d60274e833 ">
                                    <p>滚动敏感</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e878 d60274e836 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e878 d60274e839 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e878 d60274e842 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e878 d60274e845 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d60274e878 d60274e848 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d60274e878 d60274e851 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d60274e900" headers="d60274e833 ">
                                    <p>滚动不敏感</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e900 d60274e836 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e900 d60274e839 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e900 d60274e842 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d60274e900 d60274e845 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d60274e900 d60274e848 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d60274e900 d60274e851 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-261E6F26-6213-409E-B8E0-BA03A0F3A0F7__GUID-D07BE092-0156-4028-A3B2-1D6B43A94419">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>请记住，显式使用<code class="codeph">refreshRow</code>方法不同于外部更改的可见性概念。
                                 </p>
                              </li>
                              <li>
                                 <p>请记住，即使外部更改可见，与滚动敏感结果集下的<code class="codeph">UPDATE</code>操作一样，也不会检测到它们。结果集<code class="codeph">rowDeleted</code> ， <code class="codeph">rowUpdated</code>和<code class="codeph">rowInserted</code>方法始终返回<code class="codeph">false</code> 。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28629"></a><div class="props_rev_3"><a id="GUID-F29ED77D-7BD2-4044-94F2-F53A0739701F" name="GUID-F29ED77D-7BD2-4044-94F2-F53A0739701F"></a><h4 id="JJDBC-GUID-F29ED77D-7BD2-4044-94F2-F53A0739701F" class="sect4"><span class="enumeration_section">17.6.3</span>滚动敏感结果集的Oracle实现</h4>
                  <div>
                     <p>滚动敏感结果集的Oracle实现涉及wind ow的概念，窗口大小基于获取大小。窗口大小会影响结果集中行的更新频率。
                     </p>
                     <p>通过移动到指定行建立当前行后，该窗口由结果集中以该行开头的<span class="italic">n</span>行组成，其中<span class="italic">n</span>是结果集使用的提取大小。请注意，首次创建结果集时，没有当前行，因此没有窗口。默认位置在第一行之前，该行不是有效的当前行。
                     </p>
                     <p>当您从一行移动到另一行时，只要当前行保持在该窗口内，窗口就保持不变。但是，一旦移动到窗口外的新当前行，就会将窗口重新定义为以新的当前行开头的N行。</p>
                     <p>每当重新定义窗口时，数据库中与新窗口中的行对应的N行将通过对<code class="codeph">refreshRow</code>方法的隐式调用自动重新获取，从而在整个新窗口中更新数据。
                     </p>
                     <p>因此，外部更新在滚动敏感的结果集中不会立即可见。它们仅在刚刚描述的自动重新获取后可见。</p>
                     <div class="infoboxnote" id="GUID-F29ED77D-7BD2-4044-94F2-F53A0739701F__GUID-23FE8EAC-CAB1-44A7-8883-81021FA544DD">
                        <p class="notep1">注意：</p>
                        <p>这种重新获取不是一种高效或优化的方法，它具有重要的性能问题。在使用当前实现的滚动敏感结果集之前，请仔细考虑。灵敏度和性能之间也存在显着的折衷。最敏感的结果集是提取大小为1的结果集，这将导致每次在行之间移动时都会重新获取新的当前行。但是，这会对应用程序的性能产生重大影响。</p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04790.oci-any-data-set-interface-functions.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Lists and describes OCI Any Data set interface functions."></meta>
      <meta name="description" content="Lists and describes OCI Any Data set interface functions."></meta>
      <title>OCI任何数据集接口函数</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="Lists and describes OCI Any Data set interface functions."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oci-any-data-interface-functions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oci-globalization-support-functions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oci-any-data-interface-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oci-globalization-support-functions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oci-any-type-and-data-functions.html" property="item" typeof="WebPage"><span property="name">OCI任何类型和数据功能</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCI任何数据集接口函数</li>
            </ol>
            <a id="GUID-2F70B267-ACC1-468B-8578-72402AC9F428" name="GUID-2F70B267-ACC1-468B-8578-72402AC9F428"></a><a id="LNOCI17618"></a><a id="LNOCI203"></a>
            
            <h2 id="LNOCI-GUID-2F70B267-ACC1-468B-8578-72402AC9F428" class="sect2"><span class="enumeration_section">30.4</span> OCI任何数据集接口函数</h2>
         </header>
         <div class="ind">
            <div>
               <p>列出并描述OCI任何数据集接口功能。</p>
               <div class="section">
                  <p><a href="oci-any-data-set-interface-functions.html#GUID-2F70B267-ACC1-468B-8578-72402AC9F428__BGBJGIFH" title="该表有2列。第1列是函数名称，第2列描述其用途。">表30-6</a>列出了本节中描述的Any Data Set Interface功能。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-2F70B267-ACC1-468B-8578-72402AC9F428__BGBJGIFH">
                  <p class="titleintable">表30-6任何数据集函数</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="任何数据集功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="61%" id="d299826e201">功能</th>
                           <th align="left" valign="bottom" width="39%" id="d299826e204">目的</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d299826e209" headers="d299826e201 ">
                              <p><a href="oci-any-data-set-interface-functions.html#GUID-13BB5AF0-2DF4-4CE3-A55E-80F98747127D" title="将新的框架实例添加到OCIAnyDataSet，并将实例的所有属性设置为NULL。">OCIAnyDataSetAddInstance（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d299826e209 d299826e204 ">
                              <p>将新的框架实例添加到<code class="codeph">OCIAnyDataSet</code> ，并将实例的所有属性设置为<code class="codeph">NULL</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d299826e232" headers="d299826e201 ">
                              <p><a href="oci-any-data-set-interface-functions.html#GUID-9E2B585B-5DA0-44AC-A12C-7F22B83CCB19" title="在给定的持续时间内分配OCIAnyDataSet并使用类型信息对其进行初始化。">OCIAnyDataSetBeginCreate（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d299826e232 d299826e204 ">
                              <p>在给定的持续时间内分配<code class="codeph">OCIAnyDataSet</code>并使用类型信息对其进行初始化</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d299826e250" headers="d299826e201 ">
                              <p><a href="oci-any-data-set-interface-functions.html#GUID-B2676271-C6DE-42E8-98C7-EAFAAE8BE1DD" title="释放OCIAnyDataSet。">OCIAnyDataSetDestroy（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d299826e250 d299826e204 ">
                              <p>释放<code class="codeph">OCIAnyDataSet</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d299826e267" headers="d299826e201 ">
                              <p><a href="oci-any-data-set-interface-functions.html#GUID-8281456E-9DFE-4D02-9BA8-837F04ADD0E7" title="标记OCIAnyDataSet创建的结束。">OCIAnyDataSetEndCreate（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d299826e267 d299826e204 ">
                              <p>标记<code class="codeph">OCIAnyDataSet</code>创建的结束</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d299826e285" headers="d299826e201 ">
                              <p><a href="oci-any-data-set-interface-functions.html#GUID-B08AC866-9DA5-4D52-B2E7-549A0E7CAA7B" title="获取OCIAnyDataSet中的实例数。">OCIAnyDataSetGetCount（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d299826e285 d299826e204 ">
                              <p>获取<code class="codeph">OCIAnyDataSet</code>的实例数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d299826e302" headers="d299826e201 ">
                              <p><a href="oci-any-data-set-interface-functions.html#GUID-8E8E00E9-5719-4BB0-93A3-1E0FAEF2624F" title="返回与当前位置的实例对应的OCIAnyData，并更新当前位置。">OCIAnyDataSetGetInstance（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d299826e302 d299826e204 ">
                              <p>返回与当前位置的实例对应的<code class="codeph">OCIAnyData</code>并更新当前位置</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d299826e320" headers="d299826e201 ">
                              <p><a href="oci-any-data-set-interface-functions.html#GUID-022BAF78-C1D1-4CAD-AD5B-C7C5CD297224" title="获取与OCIAnyDataSet对应的类型。">OCIAnyDataSetGetType（）</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d299826e320 d299826e204 ">
                              <p>获取与<code class="codeph">OCIAnyDataSet</code>对应的类型</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNOCI17619"></a><div class="props_rev_3"><a id="GUID-13BB5AF0-2DF4-4CE3-A55E-80F98747127D" name="GUID-13BB5AF0-2DF4-4CE3-A55E-80F98747127D"></a><h3 id="LNOCI-GUID-13BB5AF0-2DF4-4CE3-A55E-80F98747127D" class="sect3"><span class="enumeration_section">30.4.1</span> OCIAnyDataSetAddInstance（）</h3>
               <div>
                  <p>将新的框架实例添加到<code class="codeph">OCIAnyDataSet</code> ，并将实例的所有属性设置为<code class="codeph">NULL</code> 。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-13BB5AF0-2DF4-4CE3-A55E-80F98747127D__GUID-CDBF0E5C-9488-4E8F-8C08-D6B01DECBFFB">目的</p>
                     <p>将新的框架实例添加到<code class="codeph">OCIAnyDataSet</code> ，并将实例的所有属性设置为<code class="codeph">NULL</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-13BB5AF0-2DF4-4CE3-A55E-80F98747127D__GUID-8EB28D65-7A12-4F37-8577-01FEA01B999D">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIAnyDataSetAddInstance（OCISvcCtx * svchp，OCIError * errhp，OCIAnyDataSet * data_set，OCIAnyData ** data）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-13BB5AF0-2DF4-4CE3-A55E-80F98747127D__GUID-E1B3696B-267F-4E28-B996-3B4288F2DD32">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-13BB5AF0-2DF4-4CE3-A55E-80F98747127D__GUID-D957EBA0-02C9-4961-A800-FE826F93D307"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-13BB5AF0-2DF4-4CE3-A55E-80F98747127D__GUID-2B530845-7CDA-4B90-B938-B4F27BA73B10"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-13BB5AF0-2DF4-4CE3-A55E-80F98747127D__GUID-EBB85959-455E-442E-B609-0E82642D5FE1"><!-- --></a> data_set（IN / OUT）</dt>
                        <dd>
                           <p>添加了新实例的<code class="codeph">OCIAnyDataSet</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-13BB5AF0-2DF4-4CE3-A55E-80F98747127D__GUID-2A3AEAA9-A7AC-4A35-B0FB-77DC287A7F8D"><!-- --></a>数据（IN / OUT）</dt>
                        <dd>
                           <p><code class="codeph">OCIAnyData</code>对应于新添加的实例。如果<code class="codeph">(*data)</code>为<code class="codeph">NULL</code> ，新<code class="codeph">OCIAnyData</code>被分配给相同的持续时间<code class="codeph">OCIAnyDataSet</code> 。如果<code class="codeph">(*data)</code>不为<code class="codeph">NULL</code> ，则重用它。此<code class="codeph">OCIAnyData</code>可以使用随后被构造<code class="codeph">OCIAnyDataConvert()</code>调用，或者可以使用被构造分段<code class="codeph">OCIAnyDataAttrSet()</code>或<code class="codeph">OCIAnyDataCollAddElem()</code>调用。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-13BB5AF0-2DF4-4CE3-A55E-80F98747127D__GUID-78C8837D-2DD1-47BD-9A1C-0C7D8DD3214B">评论</p>
                     <p>此调用通过<code class="codeph">OCIAnyData</code>参数返回此框架实例，该参数可以随后通过调用OCIAnyData API来构造。</p>
                     <div class="infoboxnote" id="GUID-13BB5AF0-2DF4-4CE3-A55E-80F98747127D__GUID-7A42D4F9-5B88-45C8-8A75-DE067CD704B8">
                        <p class="notep1">注意：</p>
                        <p>旧值不会被破坏。在开始进行这些调用的序列之前，必须销毁（ <code class="codeph">*data</code> ）指向的旧值并将（ <code class="codeph">*data</code> ）设置为<code class="codeph">NULL</code>指针。在返回的<code class="codeph">OCIAnyData</code>不进行深度复制（ <code class="codeph">OCIType</code>信息或数据部分）。此<code class="codeph">OCIAnyData</code>不能超出的分配持续时间可以使用<code class="codeph">OCIAnyDataSet</code> （它像一个参考到<code class="codeph">OCIAnyDataSet</code> ）。返回的<code class="codeph">OCIAnyData</code>可以在后续调用此函数时重用，以便将新数据实例依次添加到<code class="codeph">OCIAnyDataSet</code> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-any-data-interface-functions.html#GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315" title="使用给定类型的给定数据值构造OCIAnyData。">OCIAnyDataConvert（）</a></li>
                        <li><a href="oci-any-data-interface-functions.html#GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15" title="使用给定值设置当前位置的属性。">OCIAnyDataAttrSet（）</a></li>
                        <li><a href="oci-any-data-interface-functions.html#GUID-51D85777-58B7-4348-ABB6-22F3E8568E37" title="将下一个集合元素添加到当前属性位置的OCIAnyData的collection属性。">OCIAnyDataCollAddElem（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17620"></a><div class="props_rev_3"><a id="GUID-9E2B585B-5DA0-44AC-A12C-7F22B83CCB19" name="GUID-9E2B585B-5DA0-44AC-A12C-7F22B83CCB19"></a><h3 id="LNOCI-GUID-9E2B585B-5DA0-44AC-A12C-7F22B83CCB19" class="sect3"><span class="enumeration_section">30.4.2</span> OCIAnyDataSetBeginCreate（）</h3>
               <div>
                  <p>在给定的持续时间内分配<code class="codeph">OCIAnyDataSet</code>并使用类型信息对其进行初始化。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-9E2B585B-5DA0-44AC-A12C-7F22B83CCB19__GUID-3729F0A5-C4EB-4BA9-92D9-4BCF7112CAB0">目的</p>
                     <p><code class="codeph">OCIAnyDataSet</code>可以包含给定类型的多个实例。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9E2B585B-5DA0-44AC-A12C-7F22B83CCB19__GUID-330AB135-C4ED-4036-B64A-0E0AD94E7920">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIAnyDataSetBeginCreate（OCISvcCtx * svchp，OCIError * errhp，OCITypeCode typecode，const OCIType * type，OCIDuration dur，OCIAnyDataSet ** data_set）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9E2B585B-5DA0-44AC-A12C-7F22B83CCB19__GUID-011A9DF7-69F4-49D9-AE44-82799A6778CB">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-9E2B585B-5DA0-44AC-A12C-7F22B83CCB19__GUID-7E362C2C-21FD-4C2A-A546-7BB0F7804224"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9E2B585B-5DA0-44AC-A12C-7F22B83CCB19__GUID-BB2866E1-123A-4829-AB98-B61D18A936E9"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9E2B585B-5DA0-44AC-A12C-7F22B83CCB19__GUID-72499DD3-F4E2-4A90-8D56-29434F0AD874"><!-- --></a>类型代码（IN）</dt>
                        <dd>
                           <p>对应于<code class="codeph">OCIAnyDataSet</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9E2B585B-5DA0-44AC-A12C-7F22B83CCB19__GUID-0832FFF5-2CC9-421D-ABC7-8CE3B57161CB"><!-- --></a>类型（IN）</dt>
                        <dd>
                           <p>对应于<code class="codeph">OCIAnyDataSet</code>类型。如果typecode对应于内置类型，例如<code class="codeph">OCI_TYPECODE_NUMBER</code> ，则此参数可以为<code class="codeph">NULL</code> 。对于用户定义的类型，它应该是非<code class="codeph">NULL</code> ，例如<code class="codeph">OCI_TYPECODE_OBJECT</code> ， <code class="codeph">OCI_TYPECODE_REF</code>和集合类型。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9E2B585B-5DA0-44AC-A12C-7F22B83CCB19__GUID-7072BFAC-B864-41E4-A863-3C256936D262"><!-- --></a> dur（IN）</dt>
                        <dd>
                           <div class="p">分配<code class="codeph">OCIAnyDataSet</code>持续时间。它是以下之一：<ul style="list-style-type:disc">
                                 <li>
                                    <p>之前创建的用户持续时间。它可以使用<code class="codeph">OCIDurationBegin()</code>创建。
                                    </p>
                                 </li>
                                 <li>
                                    <p>预定义的持续时间，例如<code class="codeph">OCI_DURATION_SESSION</code> 。</p>
                                 </li>
                              </ul>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9E2B585B-5DA0-44AC-A12C-7F22B83CCB19__GUID-C41B9169-D586-42BF-B463-C7F2D56D027C"><!-- --></a> data_set（OUT）</dt>
                        <dd>
                           <p>初始化的<code class="codeph">OCIAnyDataSet</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9E2B585B-5DA0-44AC-A12C-7F22B83CCB19__GUID-80AD29BE-90D6-4E17-9EFF-15974F4F5A82">评论</p>
                     <p>出于性能原因， <code class="codeph">OCIAnyDataSet</code>最终指向传入的<code class="codeph">OCIType</code>参数。你必须确保<code class="codeph">OCIType</code>生活较长（有配额的持续时间&gt; =的持续时间<code class="codeph">OCIAnyData</code>如果<code class="codeph">OCIType</code>是暂时性的，或有分配或针持续时间&gt; =该期间<code class="codeph">OCIAnyData</code> ，如果<code class="codeph">OCIType</code>是一种持久性的） 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17621"></a><div class="props_rev_3"><a id="GUID-B2676271-C6DE-42E8-98C7-EAFAAE8BE1DD" name="GUID-B2676271-C6DE-42E8-98C7-EAFAAE8BE1DD"></a><h3 id="LNOCI-GUID-B2676271-C6DE-42E8-98C7-EAFAAE8BE1DD" class="sect3"><span class="enumeration_section">30.4.3</span> OCIAnyDataSetDestroy（）</h3>
               <div>
                  <p>释放<code class="codeph">OCIAnyDataSet</code> 。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B2676271-C6DE-42E8-98C7-EAFAAE8BE1DD__GUID-1D4496FA-AE69-4C71-9D14-1B3140465684">目的</p>
                     <p>释放<code class="codeph">OCIAnyDataSet</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B2676271-C6DE-42E8-98C7-EAFAAE8BE1DD__GUID-43758099-865E-4200-899E-F1885D714AE0">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAnyDataSetDestroy（OCISvcCtx * svchp，OCIError * errhp，OCIAnyDataSet * data_set）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B2676271-C6DE-42E8-98C7-EAFAAE8BE1DD__GUID-CDC07B6C-B19C-454B-9904-FB4E4BF6D3F5">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B2676271-C6DE-42E8-98C7-EAFAAE8BE1DD__GUID-E794499C-3EEA-4800-B800-5B3440C3CD33"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B2676271-C6DE-42E8-98C7-EAFAAE8BE1DD__GUID-944F983E-61EA-4F9E-9D4F-1E3B806CEDB8"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCI_ERROR</code>获取诊断信息。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B2676271-C6DE-42E8-98C7-EAFAAE8BE1DD__GUID-3DF8DD56-FFD8-4EB6-BF09-41210D199FFC"><!-- --></a> data_set（IN / OUT）</dt>
                        <dd>
                           <p><code class="codeph">OCIAnyDataSet</code>被释放。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17622"></a><div class="props_rev_3"><a id="GUID-8281456E-9DFE-4D02-9BA8-837F04ADD0E7" name="GUID-8281456E-9DFE-4D02-9BA8-837F04ADD0E7"></a><h3 id="LNOCI-GUID-8281456E-9DFE-4D02-9BA8-837F04ADD0E7" class="sect3"><span class="enumeration_section">30.4.4</span> OCIAnyDataSetEndCreate（）</h3>
               <div>
                  <p>标记<code class="codeph">OCIAnyDataSet</code>创建的结束。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-8281456E-9DFE-4D02-9BA8-837F04ADD0E7__GUID-DE9099B7-EDEB-43A2-9EB5-095C854A18A6">目的</p>
                     <p>应在构造所有实例后调用此函数。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8281456E-9DFE-4D02-9BA8-837F04ADD0E7__GUID-FA27631E-269C-4824-98B4-9240508BF45F">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIAnyDataSetEndCreate（OCISvcCtx * svchp，OCIError * errhp，OCIAnyDataSet * data_set）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8281456E-9DFE-4D02-9BA8-837F04ADD0E7__GUID-F0AF9C92-A4DD-4865-BACC-DE295CE1D709">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-8281456E-9DFE-4D02-9BA8-837F04ADD0E7__GUID-A4348C06-A746-497D-8F05-F2717F93067D"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-8281456E-9DFE-4D02-9BA8-837F04ADD0E7__GUID-DD2F7834-1812-4341-9FA0-5F545F22EDFB"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCI_ERROR</code>获取诊断信息。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-8281456E-9DFE-4D02-9BA8-837F04ADD0E7__GUID-F233D7B9-A197-4D83-BDAA-FCD436B740DD"><!-- --></a> data_set（IN / OUT）</dt>
                        <dd>
                           <p>初始化的<code class="codeph">OCIAnyDataSet</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17623"></a><div class="props_rev_3"><a id="GUID-B08AC866-9DA5-4D52-B2E7-549A0E7CAA7B" name="GUID-B08AC866-9DA5-4D52-B2E7-549A0E7CAA7B"></a><h3 id="LNOCI-GUID-B08AC866-9DA5-4D52-B2E7-549A0E7CAA7B" class="sect3"><span class="enumeration_section">30.4.5</span> OCIAnyDataSetGetCount（）</h3>
               <div>
                  <p>获取<code class="codeph">OCIAnyDataSet</code>的实例数。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B08AC866-9DA5-4D52-B2E7-549A0E7CAA7B__GUID-95813CFC-048A-447D-84BB-A96718B62AC1">目的</p>
                     <p>获取<code class="codeph">OCIAnyDataSet</code>的实例数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B08AC866-9DA5-4D52-B2E7-549A0E7CAA7B__GUID-B3F49603-F55D-427D-BCFB-DBDF7F5A7477">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAnyDataSetGetCount（OCISvcCtx * svchp，OCIError * errhp，OCIAnyDataSet * data_set，ub4 * count）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B08AC866-9DA5-4D52-B2E7-549A0E7CAA7B__GUID-4EAE807F-224B-4E80-9F90-3229EE56D0AF">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B08AC866-9DA5-4D52-B2E7-549A0E7CAA7B__GUID-28AE7CAE-EFD7-4CEE-A05B-5B1AAB1F01EA"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B08AC866-9DA5-4D52-B2E7-549A0E7CAA7B__GUID-4E859E1A-32EA-41F8-8A58-1E1E111E3782"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCI_ERROR</code>获取诊断信息。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B08AC866-9DA5-4D52-B2E7-549A0E7CAA7B__GUID-78E1F6A5-2D93-4988-BECB-A7C28BDDF94B"><!-- --></a> data_set（IN / OUT）</dt>
                        <dd>
                           <p>格式良好的<code class="codeph">OCIAnyDataSet</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B08AC866-9DA5-4D52-B2E7-549A0E7CAA7B__GUID-4AEBEA1C-4D94-4115-98A8-BE0C5C7BBDEB"><!-- --></a>计数（OUT）</dt>
                        <dd>
                           <p><code class="codeph">OCIAnyDataSet</code>的实例<code class="codeph">OCIAnyDataSet</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17624"></a><div class="props_rev_3"><a id="GUID-8E8E00E9-5719-4BB0-93A3-1E0FAEF2624F" name="GUID-8E8E00E9-5719-4BB0-93A3-1E0FAEF2624F"></a><h3 id="LNOCI-GUID-8E8E00E9-5719-4BB0-93A3-1E0FAEF2624F" class="sect3"><span class="enumeration_section">30.4.6</span> OCIAnyDataSetGetInstance（）</h3>
               <div>
                  <p>返回与当前位置的实例对应的<code class="codeph">OCIAnyData</code> ，并更新当前位置。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-8E8E00E9-5719-4BB0-93A3-1E0FAEF2624F__GUID-FC16E65D-C1DC-42A5-8BD9-41715081122C">目的</p>
                     <p>返回与当前位置的实例对应的<code class="codeph">OCIAnyData</code> ，并更新当前位置。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8E8E00E9-5719-4BB0-93A3-1E0FAEF2624F__GUID-F23F925C-F105-4571-93C6-85495506ECBF">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIAnyDataSetGetInstance（OCISvcCtx * svchp，OCIError * errhp，OCIAnyDataSet * data_set，OCIAnyData **数据）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8E8E00E9-5719-4BB0-93A3-1E0FAEF2624F__GUID-6F2173F3-D18E-4B20-AE43-9DDC9701CBD6">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-8E8E00E9-5719-4BB0-93A3-1E0FAEF2624F__GUID-DB4A5C2B-54CD-4C78-9755-C88587F4615F"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-8E8E00E9-5719-4BB0-93A3-1E0FAEF2624F__GUID-B288BEF3-2D2F-4B32-AB54-99018A3F3D00"><!-- --></a> errhp（IN / OUT）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCI_ERROR</code>获取诊断信息。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-8E8E00E9-5719-4BB0-93A3-1E0FAEF2624F__GUID-FAD0979F-40B0-4F0A-B25C-6507B651504A"><!-- --></a> data_set（IN / OUT）</dt>
                        <dd>
                           <p>格式良好的<code class="codeph">OCIAnyDataSet</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-8E8E00E9-5719-4BB0-93A3-1E0FAEF2624F__GUID-FB305E35-F3DA-4A6D-B510-C57E5548BD48"><!-- --></a>数据（IN / OUT）</dt>
                        <dd>
                           <p><code class="codeph">OCIAnyDat</code>对应于实例。如果（*数据）为<code class="codeph">NULL</code> ，新<code class="codeph">OCIAnyData</code>被分配相同的持续时间<code class="codeph">OCIAnyDataSet</code> 。如果（ <code class="codeph">*data</code> ）不为<code class="codeph">NULL</code> ，则重用它。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8E8E00E9-5719-4BB0-93A3-1E0FAEF2624F__GUID-9390C930-C13D-41D3-9487-62E88992E20A">评论</p>
                     <p>仅允许对<code class="codeph">OCIAnyDataSet</code>的实例进行顺序访问。此调用返回与当前位置的实例对应的<code class="codeph">OCIAnyData</code> ，并更新当前位置。随后， <code class="codeph">OCIAnyData</code>访问例程可用于访问实例。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17625"></a><div class="props_rev_3"><a id="GUID-022BAF78-C1D1-4CAD-AD5B-C7C5CD297224" name="GUID-022BAF78-C1D1-4CAD-AD5B-C7C5CD297224"></a><h3 id="LNOCI-GUID-022BAF78-C1D1-4CAD-AD5B-C7C5CD297224" class="sect3"><span class="enumeration_section">30.4.7</span> OCIAnyDataSetGetType（）</h3>
               <div>
                  <p>获取与<code class="codeph">OCIAnyDataSet</code>对应的类型。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-022BAF78-C1D1-4CAD-AD5B-C7C5CD297224__GUID-2002C9F2-0B7C-4647-8280-34A213B3D1AF">目的</p>
                     <p>获取与<code class="codeph">OCIAnyDataSet</code>对应的类型。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-022BAF78-C1D1-4CAD-AD5B-C7C5CD297224__GUID-76F6CB89-7AD5-4C77-8D92-EA9EC973BAAA">句法</p><pre class="oac_no_warn" dir="ltr">sword OCIAnyDataSetGetType（OCISvcCtx * svchp，OCIError * errhp，OCIAnyDataSet * data_set，OCITypeCode * tc，OCIType ** type）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-022BAF78-C1D1-4CAD-AD5B-C7C5CD297224__GUID-9060DB00-4333-4EDD-9C84-73F6A73B686E">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-022BAF78-C1D1-4CAD-AD5B-C7C5CD297224__GUID-1D129DDE-03F9-41D3-81B7-864E35AB8E4E"><!-- --></a> svchp（IN）</dt>
                        <dd>
                           <p>OCI服务上下文。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-022BAF78-C1D1-4CAD-AD5B-C7C5CD297224__GUID-7C45E59F-F4C2-47A3-AED0-BB506813B95F"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误， <code class="codeph">OCI_ERROR</code> <code class="codeph">err</code>记录，此函数返回<code class="codeph">OCI_ERROR</code> 。通过调用<code class="codeph">OCI_ERROR</code>获取诊断信息。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-022BAF78-C1D1-4CAD-AD5B-C7C5CD297224__GUID-59AF5651-6101-4FE0-A5D4-19C12DCBD87E"><!-- --></a> data_set（IN）</dt>
                        <dd>
                           <p>初始化的<code class="codeph">OCIAnyDataSet</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-022BAF78-C1D1-4CAD-AD5B-C7C5CD297224__GUID-664CA5F3-EF29-4A1F-A18F-A66A1220C62B"><!-- --></a> tc（OUT）</dt>
                        <dd>
                           <p>typecode对应于<code class="codeph">OCIAnyDataSet</code>的类型。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-022BAF78-C1D1-4CAD-AD5B-C7C5CD297224__GUID-303F17C9-507F-4B31-9956-ACD2222A4F17"><!-- --></a>类型（OUT）</dt>
                        <dd>
                           <p>与<code class="codeph">OCIAnyDataSet</code>对应的类型。如果<code class="codeph">OCIAnyData</code>对应于内置类型，则为<code class="codeph">NULL</code> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>