<html id="06051.book-index.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>指数</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Installation and Configuration Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Installation and Configuration Guide for IBM AIX on POWER Systems (64-Bit), Linux x86-64, Oracle Solaris on SPARC (64-Bit), Oracle Solaris on x86-64 (64-Bit), and HP-UX Itanium"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-installation-and-configuration-guide-aix-5l-based-systems-64-bit-hp-ux-itanium-solaris-operating-system-sparc-64-bit-linux-x86-and-linux-x86-64.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T19:11:50-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18243-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="drda-gateway-config-worksheet.html" title="Previous" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64"></meta>
    <meta name="dcterms.isVersionOf" content="OTGIS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="drda-gateway-config-worksheet.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="#" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li class="active" property="itemListElement" typeof="ListItem">指数</li>
            </ol>
            
            <h2 class="it">指数</h2>
         </header>
         <div class="ind">
            <div><a href="#A">A</a> <a href="#B">B</a> <a href="#C">C</a> <a href="#D">D</a> <a href="#E">E</a> <a href="#F">F</a> <a href="#G">G</a> <a href="#H">H</a> <a href="#I">I</a> <a href="#L">L</a> <a href="#M">M</a> <a href="#N">N</a> <a href="#O">O</a> <a href="#P">P</a> <a href="#R">R</a> <a href="#S">S</a> <a href="#T">T</a> <a href="#X">X.</a>  
            </div>
            <div class="index-list">
               <div class="index-group"><a id="A"></a><hr>
                  <h2>一个</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">应用<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">验证登录<span class="index-term-targets"><a href="drda-gateway-security-consideration.html#GUID-D8FFEE1B-D34F-464B-A354-A1DFE720B5AA" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">AS / 400<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">命令，DSPRDBDIRE <span class="index-term-targets"><a href="config-drda-server.html#GUID-11C40E3E-E380-4AC7-82E6-F73F80A3A345" target="contentwin">1</a></span></li>
                           <li class="index-term">库名，HS_FDS_PACKAGE_COLLID <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-78726ADB-2620-4757-841C-2A6116C2FB5F" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="B"></a><hr>
                  <h2>乙</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">BINDADD特权<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">BINDAGENT特权<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">BIND特权<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB for Linux，Unix和Windows <span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                           <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="C"></a><hr>
                  <h2>C</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">字符集<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">异构服务<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-80C3AB82-E9A1-4386-B127-C52CF7C2F837" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">关闭并再次打开任何针对db2的会话以及任何更改<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">HS_FDS_PACKAGE_COLLID <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-78726ADB-2620-4757-841C-2A6116C2FB5F" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">集合特权 -  CREATE IN<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">集合特权 -  CREATETAB<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">通信数据库（CDB）表，DDF <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                     <li class="index-term">并发连接<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">TCP / IP <span class="index-term-targets"><a href="install-drda-gateway.html#GUID-D90BBC52-3CEC-44F3-9BCF-C7C3A665E898" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">配置助手<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">故障排除<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-D9C17095-FC56-4B93-A10B-B763FDF1E549" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">配置<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB iSeries版<span class="index-term-targets"><a href="config-drda-server.html#GUID-11C40E3E-E380-4AC7-82E6-F73F80A3A345" target="contentwin">1</a> ， <a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">2</a></span></li>
                           <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                           <li class="index-term">网关<span class="index-term-targets"><a href="config-drda-gateway.html#GUID-9C9C23D7-A1A7-4BB8-8C64-40EAEADC437E" target="contentwin">1的</a></span>主机工作站</li>
                        </ul>
                     </li>
                     <li class="index-term">配置<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">两阶段提交<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-D5855F55-42D9-4A92-9A79-3BC8D19A23EA" target="contentwin">1</a> ， <a href="config-informix-gateway.html#GUID-EDF059D2-44CF-474E-A747-09EF26BB8CA8" target="contentwin">2</a> ， <a href="config-teradata-gateway.html#GUID-53CFD0AD-17F5-41D2-A35F-83A3804D8A07" target="contentwin">3</a> ， <a href="config-sqlserver-gateway.html#GUID-89C4407C-4AA9-4BD4-A5A5-BE785C46BA2F" target="contentwin">4</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">配置网关<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-C69B3278-5B02-42A1-92C6-CB6A5C6CCE80" target="contentwin">1</a> ， <a href="config-informix-gateway.html#GUID-C6631E56-DC55-4091-BA96-07436BD42F86" target="contentwin">2</a> ， <a href="config-teradata-gateway.html#GUID-FC22971F-6EA5-4C2D-A82D-F23F88B4B271" target="contentwin">3</a> ， <a href="config-sqlserver-gateway.html#GUID-77F52D66-6325-4B24-A69F-99FE10C2DB48" target="contentwin">4</a></span></li>
                     <li class="index-term">connect_descriptor <span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-2BD5F71A-35A6-4B2B-8F38-674C63BC8341" target="contentwin">1</a> ， <a href="config-sybase-gateway.html#GUID-4CC375DC-B59E-4BF5-9785-8543B1117C9D" target="contentwin">2</a> ， <a href="config-informix-gateway.html#GUID-DD60137B-CBF0-4DC5-B32D-E49CB41BB243" target="contentwin">3</a> ， <a href="config-teradata-gateway.html#GUID-57309533-4623-4F60-94F8-07B19D03467A" target="contentwin">4</a> ， <a href="config-sqlserver-gateway.html#GUID-660EF702-E5A5-420B-9B10-16C7091DD08D" target="contentwin">5</a> ， <a href="config-odbc-gateway.html#GUID-4DE3CB96-8CCE-4526-8DE0-083872680367" target="contentwin">6</a> ， <a href="config-drda-gateway.html#GUID-281D0203-DD47-471A-9107-4CD86A4773AA" target="contentwin">7</a></span></li>
                     <li class="index-term">COPY特权<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">CREATE IN特权<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB for Linux，Unix和Windows <span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                           <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">CREATETAB特权<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">创建<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">事务日志表<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-4D9D9080-33F3-4225-A026-664E2AF204FB" target="contentwin">1</a> ， <a href="config-informix-gateway.html#GUID-E6C179AE-2D2C-49A4-88EA-A3E03155C336" target="contentwin">2</a> ， <a href="config-teradata-gateway.html#GUID-3A563D6E-6C8B-4098-9737-86EC6CC027CE" target="contentwin">3</a> ， <a href="config-sqlserver-gateway.html#GUID-FD61F5C4-2FC3-40F0-9E84-397A75C65EF9" target="contentwin">4</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">光标<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">稳定性，HS_FDS_ISOLATION_LEVEL <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-DB219EB7-817F-4E17-A09B-AA08D72E483B" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="D"></a><hr>
                  <h2>d</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">数据库<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">链接<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">定义和控制<span class="index-term-targets"><a href="drda-gateway-security-consideration.html#GUID-A99AC246-07D2-494F-9A00-BC79C4275B79" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                        </ul>
                     </li>
                     <li class="index-term">数据库链接<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">行为<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-A6518AE9-4138-4ECE-B0DB-25981E93C3DD" target="contentwin">1</a> ， <a href="config-informix-gateway.html#GUID-01C9B43C-92F5-4D3F-A326-542D4B3840D9" target="contentwin">2</a> ， <a href="config-teradata-gateway.html#GUID-498CD897-F7F6-4D81-993B-BDDAAF87CC87" target="contentwin">3</a> ， <a href="config-sqlserver-gateway.html#GUID-80D00A76-CFDA-40EE-82A9-03D0121040BF" target="contentwin">4</a> ， <a href="config-drda-gateway.html#GUID-28055BC7-5509-4E92-8442-810DA43B4848" target="contentwin">5</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">数据库链接<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">行为<span class="index-term-targets"><a href="config-odbc-gateway.html#GUID-CF945DF0-5504-485D-AD4E-5181A3A104A5" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">数据字典<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">支持<span class="index-term-targets"><a href="config-drda-gateway.html#GUID-ACFC0477-3122-4423-8845-5DC257F7636D" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">DB2<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">分布式数据设施（DDF） <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                           <li class="index-term">SPUFI实用程序<span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">DB2 UDB for iSeries<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">配置<span class="index-term-targets"><a href="config-drda-server.html#GUID-11C40E3E-E380-4AC7-82E6-F73F80A3A345" target="contentwin">1</a></span></li>
                           <li class="index-term">HS_FDS_ISOLATION_LEVEL <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-DB219EB7-817F-4E17-A09B-AA08D72E483B" target="contentwin">1</a></span></li>
                           <li class="index-term">HS_FDS_PACKAGE_COLLID <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-78726ADB-2620-4757-841C-2A6116C2FB5F" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">DB2 UDB for Linux，Unix和Windows<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">配置<span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                           <li class="index-term">HS_FDS_ISOLATION_LEVEL <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-DB219EB7-817F-4E17-A09B-AA08D72E483B" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">DB2 UDB for z / OS<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">配置<span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                           <li class="index-term">HS_FDS_ISOLATION_LEVEL <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-DB219EB7-817F-4E17-A09B-AA08D72E483B" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">DDF<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2（分布式数据工具） <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">描述缓存高水位线<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">定义<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-EB8F0E1C-BD14-48A4-924B-8AAEB5C3CF5A" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">目标主机名或IP地址，与DRDA服务器主机名或IP地址相同（配置TCP / IP，工作表） <span class="index-term-targets"><a href="drda-gateway-config-worksheet.html#GUID-14416E95-DF60-4914-8E5E-D04D6B4EDCFF" target="contentwin">1</a></span></li>
                     <li class="index-term">目标服务端口号，与DRDA服务器服务端口号相同（配置TCP / IP，工作表） <span class="index-term-targets"><a href="drda-gateway-config-worksheet.html#GUID-14416E95-DF60-4914-8E5E-D04D6B4EDCFF" target="contentwin">1</a></span></li>
                     <li class="index-term">分散式<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">数据设施（DDF） <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                           <li class="index-term">操作，DB2 <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                           <li class="index-term">交易，HS_FDS_RECOVERY_ACCOUNT <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-A297A81F-1359-4050-9560-7F531AEC5461" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">DRDA服务器<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">配置<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">DB2 UDB for iSeries <span class="index-term-targets"><a href="config-drda-server.html#GUID-11C40E3E-E380-4AC7-82E6-F73F80A3A345" target="contentwin">1</a></span></li>
                                 <li class="index-term">DB2 UDB for Linux，Unix和Windows <span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                                 <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">主机名或IP地址（配置TCP / IP，工作表） <span class="index-term-targets"><a href="drda-gateway-config-worksheet.html#GUID-14416E95-DF60-4914-8E5E-D04D6B4EDCFF" target="contentwin">1</a></span></li>
                           <li class="index-term">服务端口号（配置TCP / IP，工作表） <span class="index-term-targets"><a href="drda-gateway-config-worksheet.html#GUID-14416E95-DF60-4914-8E5E-D04D6B4EDCFF" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">DSPRDBDIRE命令<span class="index-term-targets"><a href="config-drda-server.html#GUID-11C40E3E-E380-4AC7-82E6-F73F80A3A345" target="contentwin">1</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="E"></a><hr>
                  <h2>Ë</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">错误消息<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">错误追踪<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-36FE24DD-0771-4DA7-8D1A-9DA017266A3A" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">错误<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">配置助手<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-D9C17095-FC56-4B93-A10B-B763FDF1E549" target="contentwin">1</a></span></li>
                           <li class="index-term">安装<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-69244255-162C-4499-A27A-43F3D2964923" target="contentwin">1</a> ， <a href="troubleshooting-gateways.html#GUID-F9EE47C5-3293-496E-869B-4C40DDE6068F" target="contentwin">2</a></span></li>
                           <li class="index-term">非交互式安装<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-FE62A784-7A94-4F04-A625-203D328832BF" target="contentwin">1</a></span></li>
                           <li class="index-term">静音模式<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-FE62A784-7A94-4F04-A625-203D328832BF" target="contentwin">1</a></span></li>
                           <li class="index-term">X windows <span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-D35C8D5A-56BF-4520-9881-9C534A939C6F" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">执行权限<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB for Linux，Unix和Windows <span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                           <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="F"></a><hr>
                  <h2>F</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">致命错误<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-F9EE47C5-3293-496E-869B-4C40DDE6068F" target="contentwin">1</a></span></li>
                     <li class="index-term">获取数组大小，使用HS_FDS_FETCH_ROWS <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-74466708-B28B-420F-BEA9-D779A083D28D" target="contentwin">1</a></span></li>
                     <li class="index-term">档<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">oraInst.loc <span class="index-term-targets"><a href="using-response-files-for-noninteractive-installation.html#GUID-CC808143-9260-4245-A472-55636A1852ED" target="contentwin">1</a></span></li>
                           <li class="index-term">响应文件<span class="index-term-targets"><a href="using-response-files-for-noninteractive-installation.html#GUID-DE1D6B11-DEAE-44F5-AC13-7159BEFB6BF8" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="G"></a><hr>
                  <h2>G</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">网关<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">验证登录<span class="index-term-targets"><a href="drda-gateway-security-consideration.html#GUID-D8FFEE1B-D34F-464B-A354-A1DFE720B5AA" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">网关<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">默认SID <span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-12D9F916-49DB-45AD-85F8-B2EB9C7AAFB2" target="contentwin">1</a> ， <a href="config-informix-gateway.html#GUID-7B745F77-AC3D-408B-A387-E22C151F6DD8" target="contentwin">2</a> ， <a href="config-sqlserver-gateway.html#GUID-D0E93DC3-86C1-46E3-A083-DBE7FA77A68B" target="contentwin">3</a> ， <a href="config-teradata-gateway.html#GUID-1665C038-40F1-4372-A86B-1D7052BF87C9" target="contentwin">4</a></span></li>
                           <li class="index-term">系统标识符（SID） <span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-12D9F916-49DB-45AD-85F8-B2EB9C7AAFB2" target="contentwin">1</a> ， <a href="config-informix-gateway.html#GUID-7B745F77-AC3D-408B-A387-E22C151F6DD8" target="contentwin">2</a> ， <a href="config-sqlserver-gateway.html#GUID-D0E93DC3-86C1-46E3-A083-DBE7FA77A68B" target="contentwin">3</a> ， <a href="config-teradata-gateway.html#GUID-1665C038-40F1-4372-A86B-1D7052BF87C9" target="contentwin">4</a> ， <a href="config-odbc-gateway.html#GUID-B5F907F0-25F9-4822-9D0A-E554BD366D21" target="contentwin">5</a></span></li>
                           <li class="index-term">两阶段提交<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-D5855F55-42D9-4A92-9A79-3BC8D19A23EA" target="contentwin">1</a> ， <a href="config-teradata-gateway.html#GUID-53CFD0AD-17F5-41D2-A35F-83A3804D8A07" target="contentwin">2</a> ， <a href="config-informix-gateway.html#GUID-EDF059D2-44CF-474E-A747-09EF26BB8CA8" target="contentwin">3</a> ， <a href="config-sqlserver-gateway.html#GUID-89C4407C-4AA9-4BD4-A5A5-BE785C46BA2F" target="contentwin">4</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">网关密码加密工具<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-D36F3A80-5A53-4BAF-997E-C79339A1E1A6" target="contentwin">1</a> ， <a href="config-sybase-gateway.html#GUID-2D397B75-1B57-4F1F-9936-DE79E60E5E4C" target="contentwin">2</a> ， <a href="config-informix-gateway.html#GUID-4CC59116-5556-4F1A-8E4D-2FB5CD82E491" target="contentwin">3</a> ， <a href="config-teradata-gateway.html#GUID-93EE34C4-32D8-471D-BEB8-9B70C5DFD392" target="contentwin">4</a> ， <a href="config-sqlserver-gateway.html#GUID-BA3E2194-0464-45AE-9FFA-9B58AF46D44A" target="contentwin">5</a></span></li>
                     <li class="index-term">全球化支持<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">异构服务<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-789F6685-A89D-44DD-AC61-F4576D43A645" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="H"></a><hr>
                  <h2>H</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">硬件要求<span class="index-term-targets"><a href="install-drda-gateway.html#GUID-D90BBC52-3CEC-44F3-9BCF-C7C3A665E898" target="contentwin">1</a></span></li>
                     <li class="index-term">异构服务<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">定义打开游标的最大数量<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-38E59E9E-3357-4B18-9D24-AD42E4B76D03" target="contentwin">1</a></span></li>
                           <li class="index-term">初始化参数<span class="index-term-targets"><a href="config-odbc-gateway.html#GUID-B5F907F0-25F9-4822-9D0A-E554BD366D21" target="contentwin">1</a></span></li>
                           <li class="index-term">优化数据传输<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-FACC2C92-E700-43F2-88F0-A61A198D6BDB" target="contentwin">1</a></span></li>
                           <li class="index-term">用于ODBC的Oracle数据库网关<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">创建初始化文件<span class="index-term-targets"><a href="config-odbc-gateway.html#GUID-B5F907F0-25F9-4822-9D0A-E554BD366D21" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">设置全局名称<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-56ED61A0-5124-42CA-9505-C52237CB75EF" target="contentwin">1</a></span></li>
                           <li class="index-term">指定缓存高水位线<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-EB8F0E1C-BD14-48A4-924B-8AAEB5C3CF5A" target="contentwin">1</a></span></li>
                           <li class="index-term">调整内部数据缓冲<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-EAF7FBFA-4E1B-4CBA-AEF9-8E6C86BDF2FC" target="contentwin">1</a></span></li>
                           <li class="index-term">调整LONG数据传输<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-B8AD0781-9283-4398-B59A-D982EA6CD1A6" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">HS_CALL_NAME初始化参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-E2311A48-7CCA-4798-9832-BA056EEF6D12" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_DB_NAME初始化参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-56ED61A0-5124-42CA-9505-C52237CB75EF" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_DESCRIBE_CACHE_HWM初始化参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-EB8F0E1C-BD14-48A4-924B-8AAEB5C3CF5A" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_FDS_AUTHENTICATE_METHOD <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-474C2735-8E72-49F9-A0D0-CD83D8C813D2" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_FDS_CONNECT_INFO <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-6896308B-8E89-47E5-81B5-6194C35DFCA5" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_FDS_FETCH_ROWS参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-74466708-B28B-420F-BEA9-D779A083D28D" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_FDS_ISOLATION_LEVEL参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-DB219EB7-817F-4E17-A09B-AA08D72E483B" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_FDS_PACKAGE_COLLID参数<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">定义<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-78726ADB-2620-4757-841C-2A6116C2FB5F" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">HS_FDS_PROC_IS_FUNC初始化参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-596054DA-B740-4529-9F95-5634B10F58F5" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_FDS_RECOVER_ACCOUNT<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">如果未指定用户标识<span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">HS_FDS_RECOVERY_ACCOUNT<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB for iSeries <span class="index-term-targets"><a href="config-drda-server.html#GUID-11C40E3E-E380-4AC7-82E6-F73F80A3A345" target="contentwin">1</a></span></li>
                           <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">HS_FDS_RECOVERY_ACCOUNT参数<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB for iSeries <span class="index-term-targets"><a href="config-drda-server.html#GUID-11C40E3E-E380-4AC7-82E6-F73F80A3A345" target="contentwin">1</a></span></li>
                           <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                           <li class="index-term">定义恢复用户ID <span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">HS_FDS_RECOVERY_PWD初始化参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-1331A06F-B1B6-4BA2-9942-3A85593A0ADA" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_FDS_RECOVERY_PWD参数<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB for iSeries <span class="index-term-targets"><a href="config-drda-server.html#GUID-11C40E3E-E380-4AC7-82E6-F73F80A3A345" target="contentwin">1</a></span></li>
                           <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                           <li class="index-term">定义恢复用户ID <span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">HS_FDS_RESULTSET_SUPPORT初始化参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-56F7B659-7786-429E-B1BB-E62A3B0B38D8" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_FDS_SHAREABLE_NAME初始化参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-EE609D20-1AB1-4124-A882-6E34A4DC5CA6" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_FDS_TRACE_LEVEL初始化参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-36FE24DD-0771-4DA7-8D1A-9DA017266A3A" target="contentwin">1</a></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">启用代理跟踪<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-C3FCE972-592C-42BC-9C23-2216D5BE0BD6" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">HS_FDS_TRANSACTION_LOG初始化参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-45C0C394-8FD5-43BE-BCE2-D5DC147B14C0" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_KEEP_REMOTE_COLUMN_SIZE初始化参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-362322DD-0FE8-4986-8E3F-EACFEBC278E2" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_LANGUAGE初始化参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-789F6685-A89D-44DD-AC61-F4576D43A645" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_LONG_PIECE_TRANSFER_SIZE初始化参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-B8AD0781-9283-4398-B59A-D982EA6CD1A6" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_OPEN_CURSORS初始化参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-38E59E9E-3357-4B18-9D24-AD42E4B76D03" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_RPC_FETCH_REBLOCKING初始化参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-FACC2C92-E700-43F2-88F0-A61A198D6BDB" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_RPC_FETCH_SIZE初始化参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-EAF7FBFA-4E1B-4CBA-AEF9-8E6C86BDF2FC" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_TIME_ZONE初始化参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-CC71FFC6-DD26-4C5E-837F-3F6B86495FD2" target="contentwin">1</a></span></li>
                     <li class="index-term">HS_TRANSACTION_LOG <span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-4D9D9080-33F3-4225-A026-664E2AF204FB" target="contentwin">1</a> ， <a href="config-informix-gateway.html#GUID-E6C179AE-2D2C-49A4-88EA-A3E03155C336" target="contentwin">2</a> ， <a href="config-teradata-gateway.html#GUID-3A563D6E-6C8B-4098-9737-86EC6CC027CE" target="contentwin">3</a> ， <a href="config-sqlserver-gateway.html#GUID-FD61F5C4-2FC3-40F0-9E84-397A75C65EF9" target="contentwin">4</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="I"></a><hr>
                  <h2>一世</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">IFILE初始化参数<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-26AC3542-59D8-44EE-93EC-CE27861C1FAA" target="contentwin">1</a></span></li>
                     <li class="index-term">初始化参数文件<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">定制<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-2F4F232B-1A87-4D73-949C-76D1CD49FA2B" target="contentwin">1</a> ， <a href="config-informix-gateway.html#GUID-7CA31AA4-075C-42F1-A316-6C44BB962440" target="contentwin">2</a> ， <a href="config-teradata-gateway.html#GUID-E53D69AD-0114-4D15-9894-02A8EFC124C8" target="contentwin">3</a> ， <a href="config-sqlserver-gateway.html#GUID-E2ED307B-B50E-481D-8C3D-EAB0FDB5B912" target="contentwin">4</a> ， <a href="initialization-parameters-for-gateways.html#GUID-82BEBA7B-5B1A-46F6-9ADC-7375C17A9E1F" target="contentwin">5</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">初始化参数<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">异构服务（HS） <span class="index-term-targets"><a href="config-odbc-gateway.html#GUID-B5F907F0-25F9-4822-9D0A-E554BD366D21" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">初始化参数（HS）<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">适用于ODBC的Oracle数据库网关<span class="index-term-targets"><a href="config-odbc-gateway.html#GUID-B5F907F0-25F9-4822-9D0A-E554BD366D21" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">的initsid.ora文件<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-2F4F232B-1A87-4D73-949C-76D1CD49FA2B" target="contentwin">1</a> ， <a href="config-informix-gateway.html#GUID-7CA31AA4-075C-42F1-A316-6C44BB962440" target="contentwin">2</a> ， <a href="config-teradata-gateway.html#GUID-E53D69AD-0114-4D15-9894-02A8EFC124C8" target="contentwin">3</a> ， <a href="config-sqlserver-gateway.html#GUID-E2ED307B-B50E-481D-8C3D-EAB0FDB5B912" target="contentwin">4</a></span></li>
                     <li class="index-term">安装<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">错误<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-69244255-162C-4499-A27A-43F3D2964923" target="contentwin">1</a> ， <a href="troubleshooting-gateways.html#GUID-F9EE47C5-3293-496E-869B-4C40DDE6068F" target="contentwin">2</a></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">静音模式<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-FE62A784-7A94-4F04-A625-203D328832BF" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">日志文件<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-6075A094-F9F1-4184-B461-9414690FC880" target="contentwin">1</a></span></li>
                           <li class="index-term">非交互式<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">错误处理<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-FE62A784-7A94-4F04-A625-203D328832BF" target="contentwin">1</a></span></li>
                                 <li class="index-term">oraInst.loc文件<span class="index-term-targets"><a href="using-response-files-for-noninteractive-installation.html#GUID-CC808143-9260-4245-A472-55636A1852ED" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">程序<span class="index-term-targets"><a href="overview-of-gateways.html#GUID-0BC53F8B-FE20-439B-AE65-0A27E076E51B" target="contentwin">1</a></span></li>
                           <li class="index-term">响应文件<span class="index-term-targets"><a href="using-response-files-for-noninteractive-installation.html#GUID-DE1D6B11-DEAE-44F5-AC13-7159BEFB6BF8" target="contentwin">1</a></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">准备<span class="index-term-targets"><a href="using-response-files-for-noninteractive-installation.html#GUID-DE1D6B11-DEAE-44F5-AC13-7159BEFB6BF8" target="contentwin">1</a></span></li>
                                 <li class="index-term">静音模式<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-FE62A784-7A94-4F04-A625-203D328832BF" target="contentwin">1</a></span></li>
                                 <li class="index-term">模板<span class="index-term-targets"><a href="using-response-files-for-noninteractive-installation.html#GUID-DE1D6B11-DEAE-44F5-AC13-7159BEFB6BF8" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">静音模式<span class="index-term-targets"><a href="using-response-files-for-noninteractive-installation.html#GUID-55B4112E-7140-45F6-8D17-8F574D5028D8" target="contentwin">1</a> ， <a href="using-response-files-for-noninteractive-installation.html#GUID-3AB6881C-E7FA-4051-B012-B7C018780286" target="contentwin">2</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">隔离级别，HS_FDS_ISOLATION_LEVEL <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-DB219EB7-817F-4E17-A09B-AA08D72E483B" target="contentwin">1</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="L"></a><hr>
                  <h2>大号</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">听者<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-2BD5F71A-35A6-4B2B-8F38-674C63BC8341" target="contentwin">1</a> ， <a href="config-sybase-gateway.html#GUID-4CC375DC-B59E-4BF5-9785-8543B1117C9D" target="contentwin">2</a> ， <a href="config-informix-gateway.html#GUID-DD60137B-CBF0-4DC5-B32D-E49CB41BB243" target="contentwin">3</a> ， <a href="config-teradata-gateway.html#GUID-57309533-4623-4F60-94F8-07B19D03467A" target="contentwin">4</a> ， <a href="config-sqlserver-gateway.html#GUID-660EF702-E5A5-420B-9B10-16C7091DD08D" target="contentwin">5</a> ， <a href="config-odbc-gateway.html#GUID-4DE3CB96-8CCE-4526-8DE0-083872680367" target="contentwin">6</a> ， <a href="config-drda-gateway.html#GUID-281D0203-DD47-471A-9107-4CD86A4773AA" target="contentwin">7</a></span></li>
                     <li class="index-term">listener.ora文件<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-CA3BACDA-B691-40FE-8617-71CD36779C3B" target="contentwin">1</a> ， <a href="config-informix-gateway.html#GUID-281BBE90-5CD2-46E4-84F3-F9B72284711A" target="contentwin">2</a> ， <a href="config-teradata-gateway.html#GUID-D61C23C5-1427-488B-B7AF-5C3B4D1D43E4" target="contentwin">3</a> ， <a href="config-sqlserver-gateway.html#GUID-72F32D3E-801C-4BD8-BDE3-18B54F8695A8" target="contentwin">4</a> ， <a href="config-odbc-gateway.html#GUID-B174B3FC-04F2-493D-B550-00AB7E3C5684" target="contentwin">5</a> ， <a href="config-drda-gateway.html#GUID-DE098DA2-B1FB-4E7E-B5C8-B6948EBF4BE1" target="contentwin">6</a></span></li>
                     <li class="index-term">日志文件<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-6075A094-F9F1-4184-B461-9414690FC880" target="contentwin">1</a></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">故障排除<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-69244255-162C-4499-A27A-43F3D2964923" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="M"></a><hr>
                  <h2>中号</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">挂载点目录<span class="index-term-targets"><a href="overview-of-gateways.html#GUID-C99974DC-DA20-4354-ADEB-70E773D224AF" target="contentwin">1</a></span></li>
                  </ul>
               </div>
               <div class="index-group"><a id="N"></a><hr>
                  <h2>ñ</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">Net Configuration Assistant<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">故障排除<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-D9C17095-FC56-4B93-A10B-B763FDF1E549" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">非交互式安装<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">oraInst.loc文件<span class="index-term-targets"><a href="using-response-files-for-noninteractive-installation.html#GUID-CC808143-9260-4245-A472-55636A1852ED" target="contentwin">1</a></span></li>
                           <li class="index-term">响应文件<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">准备<span class="index-term-targets"><a href="using-response-files-for-noninteractive-installation.html#GUID-DE1D6B11-DEAE-44F5-AC13-7159BEFB6BF8" target="contentwin">1</a></span></li>
                                 <li class="index-term">模板<span class="index-term-targets"><a href="using-response-files-for-noninteractive-installation.html#GUID-DE1D6B11-DEAE-44F5-AC13-7159BEFB6BF8" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">静音模式<span class="index-term-targets"><a href="using-response-files-for-noninteractive-installation.html#GUID-55B4112E-7140-45F6-8D17-8F574D5028D8" target="contentwin">1</a> ， <a href="using-response-files-for-noninteractive-installation.html#GUID-3AB6881C-E7FA-4051-B012-B7C018780286" target="contentwin">2</a></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">错误<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-FE62A784-7A94-4F04-A625-203D328832BF" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                        </ul>
                     </li>
                     <li class="index-term">非交互式安装<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">赛跑<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">Oracle Universal Installer <span class="index-term-targets"><a href="using-response-files-for-noninteractive-installation.html#GUID-3AB6881C-E7FA-4051-B012-B7C018780286" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="O"></a><hr>
                  <h2>Ø</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">ODBC连接<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">指定库<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-EE609D20-1AB1-4124-A882-6E34A4DC5CA6" target="contentwin">1的</a></span>路径</li>
                        </ul>
                     </li>
                     <li class="index-term">操作系统<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB for Linux，Unix和Windows <span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1的</a></span>用户标识</li>
                        </ul>
                     </li>
                     <li class="index-term">用于ODBC的Oracle数据库网关<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">创建初始化文件<span class="index-term-targets"><a href="config-odbc-gateway.html#GUID-B5F907F0-25F9-4822-9D0A-E554BD366D21" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">Oracle Net<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">配置<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-A96970BB-F954-4BC9-9E0C-6DC798F8D826" target="contentwin">1</a> ， <a href="config-informix-gateway.html#GUID-D954B57D-2106-4713-9B82-2B33F13EEB73" target="contentwin">2</a> ， <a href="config-teradata-gateway.html#GUID-77B087E9-81A8-499B-9BCA-FEE75046D55F" target="contentwin">3</a> ， <a href="config-sqlserver-gateway.html#GUID-C7E48634-3FB1-4401-8B54-D1A4BC92B1E5" target="contentwin">4</a> ， <a href="config-odbc-gateway.html#GUID-E4F4EA24-BE30-43AD-ADED-185647224273" target="contentwin">5</a> ， <a href="config-drda-gateway.html#GUID-C264695C-3A10-42E6-9295-85AC7AF86803" target="contentwin">6</a></span></li>
                           <li class="index-term">操作系统认证<span class="index-term-targets"><a href="drda-gateway-security-consideration.html#GUID-D8FFEE1B-D34F-464B-A354-A1DFE720B5AA" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">Oracle网络监听<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-2BD5F71A-35A6-4B2B-8F38-674C63BC8341" target="contentwin">1</a> ， <a href="config-sybase-gateway.html#GUID-4CC375DC-B59E-4BF5-9785-8543B1117C9D" target="contentwin">2</a> ， <a href="config-informix-gateway.html#GUID-DD60137B-CBF0-4DC5-B32D-E49CB41BB243" target="contentwin">3</a> ， <a href="config-teradata-gateway.html#GUID-57309533-4623-4F60-94F8-07B19D03467A" target="contentwin">4</a> ， <a href="config-sqlserver-gateway.html#GUID-660EF702-E5A5-420B-9B10-16C7091DD08D" target="contentwin">5</a> ， <a href="config-odbc-gateway.html#GUID-4DE3CB96-8CCE-4526-8DE0-083872680367" target="contentwin">6</a> ， <a href="config-drda-gateway.html#GUID-281D0203-DD47-471A-9107-4CD86A4773AA" target="contentwin">7</a></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">开始<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-C4BB495B-6C62-4173-9144-2A4F3FDE914C" target="contentwin">1</a> ， <a href="config-odbc-gateway.html#GUID-32187400-1FC2-4014-9193-9FE3ADC5A6A1" target="contentwin">2</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="P"></a><hr>
                  <h2>P</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">包<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">集合ID，HS_FDS_PACKAGE_COLLID <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-78726ADB-2620-4757-841C-2A6116C2FB5F" target="contentwin">1</a></span></li>
                           <li class="index-term">特权 -  BIND，COPY和EXECUTE<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">特权 -  BIND和EXECUTE<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">DB2 UDB for Linux，Unix和Windows <span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                        </ul>
                     </li>
                     <li class="index-term">参数<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">网关初始化文件<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">HS_FDS_CAPABILITY <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-03EFEDCF-182E-4B2E-A1F9-CB5518B1B4C2" target="contentwin">1</a></span></li>
                                 <li class="index-term">HS_FDS_FETCH_ROWS <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-74466708-B28B-420F-BEA9-D779A083D28D" target="contentwin">1</a></span></li>
                                 <li class="index-term">HS_FDS_ISOLATION_LEVEL <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-DB219EB7-817F-4E17-A09B-AA08D72E483B" target="contentwin">1</a></span></li>
                                 <li class="index-term">HS_FDS_PACKAGE_COLLID <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-78726ADB-2620-4757-841C-2A6116C2FB5F" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">HS_FDS_RECOVERY_ACCOUNT<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">DB2 UDB for iSeries <span class="index-term-targets"><a href="config-drda-server.html#GUID-11C40E3E-E380-4AC7-82E6-F73F80A3A345" target="contentwin">1</a></span></li>
                                 <li class="index-term">DB2 UDB for Linux，Unix和Windows <span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                                 <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">HS_FDS_RECOVERY_PWD<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">DB2 UDB for iSeries <span class="index-term-targets"><a href="config-drda-server.html#GUID-11C40E3E-E380-4AC7-82E6-F73F80A3A345" target="contentwin">1</a></span></li>
                                 <li class="index-term">DB2 UDB for Linux，Unix和Windows <span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                                 <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                        </ul>
                     </li>
                     <li class="index-term">特权<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">BIND<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">DB2 UDB for Linux，Unix和Windows <span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                                 <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">BINDADD<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">BINDAGENT<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">复制<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">创造<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">DB2 UDB for Linux，Unix和Windows <span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                                 <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">CREATETAB<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                           <li class="index-term">执行<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">DB2 UDB for Linux，Unix和Windows <span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                                 <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="R"></a><hr>
                  <h2>[R</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">RECOVER用户ID<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB for iSeries <span class="index-term-targets"><a href="config-drda-server.html#GUID-11C40E3E-E380-4AC7-82E6-F73F80A3A345" target="contentwin">1</a></span></li>
                           <li class="index-term">DB2 UDB for Linux，Unix和Windows <span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                           <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                           <li class="index-term">HS_FDS_RECOVERY_ACCOUNT <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-A297A81F-1359-4050-9560-7F531AEC5461" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">RECOVERY_ACCOUNT<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">帐户的用户名<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-9677A38C-4AE3-4D11-BBB1-AE391C7222F6" target="contentwin">1</a> ， <a href="config-informix-gateway.html#GUID-681F0B8D-3382-4721-BCAE-DD27E3AE7A6C" target="contentwin">2</a> ， <a href="config-teradata-gateway.html#GUID-44B352BC-7B24-4179-922F-A2AEA55CABAF" target="contentwin">3</a> ， <a href="config-sqlserver-gateway.html#GUID-58EED2A0-97C9-41DB-8583-391CEB717B6C" target="contentwin">4</a></span></li>
                           <li class="index-term">创建恢复帐户<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-9677A38C-4AE3-4D11-BBB1-AE391C7222F6" target="contentwin">1</a> ， <a href="config-informix-gateway.html#GUID-681F0B8D-3382-4721-BCAE-DD27E3AE7A6C" target="contentwin">2</a> ， <a href="config-teradata-gateway.html#GUID-44B352BC-7B24-4179-922F-A2AEA55CABAF" target="contentwin">3</a> ， <a href="config-sqlserver-gateway.html#GUID-58EED2A0-97C9-41DB-8583-391CEB717B6C" target="contentwin">4</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">恢复用户标识和密码<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB for iSeries <span class="index-term-targets"><a href="config-drda-server.html#GUID-11C40E3E-E380-4AC7-82E6-F73F80A3A345" target="contentwin">1</a></span></li>
                           <li class="index-term">DB2 UDB for Linux，Unix和Windows <span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                           <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">远程<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">数据库<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">DB2 UDB for iSeries <span class="index-term-targets"><a href="config-drda-server.html#GUID-11C40E3E-E380-4AC7-82E6-F73F80A3A345" target="contentwin">1</a></span></li>
                                 <li class="index-term">DB2 UDB for Linux，Unix和Windows <span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                                 <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                                 <li class="index-term">用户/ ID <span class="index-term-targets"><a href="drda-gateway-config-worksheet.html#GUID-14416E95-DF60-4914-8E5E-D04D6B4EDCFF" target="contentwin">1的</a></span>权限</li>
                              </ul>
                           </li>
                           <li class="index-term">DRDA数据库，HS_FDS_ISOLATION_LEVEL <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-DB219EB7-817F-4E17-A09B-AA08D72E483B" target="contentwin">1</a></span></li>
                           <li class="index-term">交易计划<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                                 <li class="index-term">硬件内存要求<span class="index-term-targets"><a href="install-drda-gateway.html#GUID-D90BBC52-3CEC-44F3-9BCF-C7C3A665E898" target="contentwin">1</a></span></li>
                              </ul>
                           </li>
                        </ul>
                     </li>
                     <li class="index-term">远程功能<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">在SQL语句中引用<span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-E2311A48-7CCA-4798-9832-BA056EEF6D12" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">要求<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">硬件<span class="index-term-targets"><a href="install-drda-gateway.html#GUID-D90BBC52-3CEC-44F3-9BCF-C7C3A665E898" target="contentwin">1</a></span></li>
                           <li class="index-term">软件<span class="index-term-targets"><a href="install-drda-gateway.html#GUID-4E0C3D32-3A77-4073-A502-08016E03D71C" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="S"></a><hr>
                  <h2>小号</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">样品<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">SQL脚本<span class="index-term-targets"><a href="config-drda-gateway.html#GUID-2E3C6894-FDFC-48D9-B425-C62FBA3510A5" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">架构权限 -  CREATE IN<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB for Linux，Unix和Windows <span class="index-term-targets"><a href="config-drda-server.html#GUID-65459B0F-6B03-409C-8BC5-C4F4870E9A42" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">安全<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">概述<span class="index-term-targets"><a href="drda-gateway-security-consideration.html#GUID-D0062E1A-925F-4C2A-9118-F103734F6EDA" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">SID <span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-12D9F916-49DB-45AD-85F8-B2EB9C7AAFB2" target="contentwin">1</a> ， <a href="config-informix-gateway.html#GUID-7B745F77-AC3D-408B-A387-E22C151F6DD8" target="contentwin">2</a> ， <a href="config-sqlserver-gateway.html#GUID-D0E93DC3-86C1-46E3-A083-DBE7FA77A68B" target="contentwin">3</a> ， <a href="config-teradata-gateway.html#GUID-1665C038-40F1-4372-A86B-1D7052BF87C9" target="contentwin">4</a> ， <a href="config-odbc-gateway.html#GUID-B5F907F0-25F9-4822-9D0A-E554BD366D21" target="contentwin">5</a></span></li>
                     <li class="index-term">静音模式安装<span class="index-term-targets"><a href="using-response-files-for-noninteractive-installation.html#GUID-55B4112E-7140-45F6-8D17-8F574D5028D8" target="contentwin">1</a> ， <a href="using-response-files-for-noninteractive-installation.html#GUID-3AB6881C-E7FA-4051-B012-B7C018780286" target="contentwin">2</a></span></li>
                     <li class="index-term">软件要求<span class="index-term-targets"><a href="install-drda-gateway.html#GUID-4E0C3D32-3A77-4073-A502-08016E03D71C" target="contentwin">1</a></span></li>
                     <li class="index-term">SPUFI，数据库本机工具<span class="index-term-targets"><a href="config-drda-gateway.html#GUID-ACFC0477-3122-4423-8845-5DC257F7636D" target="contentwin">1</a></span></li>
                     <li class="index-term">SQL<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">声明，HS_FDS_ISOLATION_LEVEL <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-DB219EB7-817F-4E17-A09B-AA08D72E483B" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">游标的稳定性，HS_FDS_ISOLATION_LEVEL <span class="index-term-targets"><a href="initialization-parameters-for-gateways.html#GUID-DB219EB7-817F-4E17-A09B-AA08D72E483B" target="contentwin">1</a></span></li>
                     <li class="index-term">系统权限 -  BINDADD和BINDAGENT<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">DB2 UDB for z / OS <span class="index-term-targets"><a href="config-drda-server.html#GUID-51158C4F-56F4-4C4D-BE85-5D3119763BE8" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="T"></a><hr>
                  <h2>Ť</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">TCP / IP<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">并发连接<span class="index-term-targets"><a href="install-drda-gateway.html#GUID-D90BBC52-3CEC-44F3-9BCF-C7C3A665E898" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">的tnsnames.ora <span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-2BD5F71A-35A6-4B2B-8F38-674C63BC8341" target="contentwin">1</a> ， <a href="config-sybase-gateway.html#GUID-4CC375DC-B59E-4BF5-9785-8543B1117C9D" target="contentwin">2</a> ， <a href="config-informix-gateway.html#GUID-DD60137B-CBF0-4DC5-B32D-E49CB41BB243" target="contentwin">3</a> ， <a href="config-teradata-gateway.html#GUID-57309533-4623-4F60-94F8-07B19D03467A" target="contentwin">4</a> ， <a href="config-sqlserver-gateway.html#GUID-660EF702-E5A5-420B-9B10-16C7091DD08D" target="contentwin">5</a> ， <a href="config-odbc-gateway.html#GUID-4DE3CB96-8CCE-4526-8DE0-083872680367" target="contentwin">6</a> ， <a href="config-drda-gateway.html#GUID-281D0203-DD47-471A-9107-4CD86A4773AA" target="contentwin">7</a></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">配置<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-2BD5F71A-35A6-4B2B-8F38-674C63BC8341" target="contentwin">1</a> ， <a href="config-sybase-gateway.html#GUID-4CC375DC-B59E-4BF5-9785-8543B1117C9D" target="contentwin">2</a> ， <a href="config-informix-gateway.html#GUID-DD60137B-CBF0-4DC5-B32D-E49CB41BB243" target="contentwin">3</a> ， <a href="config-teradata-gateway.html#GUID-57309533-4623-4F60-94F8-07B19D03467A" target="contentwin">4</a> ， <a href="config-sqlserver-gateway.html#GUID-660EF702-E5A5-420B-9B10-16C7091DD08D" target="contentwin">5</a> ， <a href="config-odbc-gateway.html#GUID-4DE3CB96-8CCE-4526-8DE0-083872680367" target="contentwin">6</a> ， <a href="config-drda-gateway.html#GUID-281D0203-DD47-471A-9107-4CD86A4773AA" target="contentwin">7</a></span></li>
                           <li class="index-term">多个侦听<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-4CC375DC-B59E-4BF5-9785-8543B1117C9D" target="contentwin">1</a> ， <a href="config-informix-gateway.html#GUID-DD60137B-CBF0-4DC5-B32D-E49CB41BB243" target="contentwin">2</a> ， <a href="config-teradata-gateway.html#GUID-57309533-4623-4F60-94F8-07B19D03467A" target="contentwin">3</a> ， <a href="config-sqlserver-gateway.html#GUID-660EF702-E5A5-420B-9B10-16C7091DD08D" target="contentwin">4</a> ， <a href="config-odbc-gateway.html#GUID-4DE3CB96-8CCE-4526-8DE0-083872680367" target="contentwin">5</a> ， <a href="config-drda-gateway.html#GUID-281D0203-DD47-471A-9107-4CD86A4773AA" target="contentwin">6</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">事务日志表<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">创建<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-4D9D9080-33F3-4225-A026-664E2AF204FB" target="contentwin">1</a> ， <a href="config-informix-gateway.html#GUID-E6C179AE-2D2C-49A4-88EA-A3E03155C336" target="contentwin">2</a> ， <a href="config-teradata-gateway.html#GUID-3A563D6E-6C8B-4098-9737-86EC6CC027CE" target="contentwin">3</a> ， <a href="config-sqlserver-gateway.html#GUID-FD61F5C4-2FC3-40F0-9E84-397A75C65EF9" target="contentwin">4</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">故障排除<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-0E90D62E-FE42-4691-B9D9-326FB0CE353E" target="contentwin">1</a></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">致命错误<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-F9EE47C5-3293-496E-869B-4C40DDE6068F" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                     <li class="index-term">两阶段提交<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">配置<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-D5855F55-42D9-4A92-9A79-3BC8D19A23EA" target="contentwin">1</a> ， <a href="config-teradata-gateway.html#GUID-53CFD0AD-17F5-41D2-A35F-83A3804D8A07" target="contentwin">2</a> ， <a href="config-informix-gateway.html#GUID-EDF059D2-44CF-474E-A747-09EF26BB8CA8" target="contentwin">3</a> ， <a href="config-sqlserver-gateway.html#GUID-89C4407C-4AA9-4BD4-A5A5-BE785C46BA2F" target="contentwin">4</a></span></li>
                           <li class="index-term">事务日志表<span class="index-term-targets"><a href="config-sybase-gateway.html#GUID-4D9D9080-33F3-4225-A026-664E2AF204FB" target="contentwin">1</a> ， <a href="config-informix-gateway.html#GUID-E6C179AE-2D2C-49A4-88EA-A3E03155C336" target="contentwin">2</a> ， <a href="config-teradata-gateway.html#GUID-3A563D6E-6C8B-4098-9737-86EC6CC027CE" target="contentwin">3</a> ， <a href="config-sqlserver-gateway.html#GUID-FD61F5C4-2FC3-40F0-9E84-397A75C65EF9" target="contentwin">4</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="index-group"><a id="X"></a><hr>
                  <h2>X</h2>
                  <ul class="index-terms" style="list-style-type:none">
                     <li class="index-term">X窗口<span class="index-term-targets"></span><ul class="index-terms" style="list-style-type:none">
                           <li class="index-term">显示错误<span class="index-term-targets"><a href="troubleshooting-gateways.html#GUID-D35C8D5A-56BF-4520-9881-9C534A939C6F" target="contentwin">1</a></span></li>
                        </ul>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01702.data-integrity.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter explains how integrity constraints enforce the business rules associated with a database and prevent the entry of invalid information into tables."></meta>
      <meta name="description" content="This chapter explains how integrity constraints enforce the business rules associated with a database and prevent the entry of invalid information into tables."></meta>
      <title>数据的完整性</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Concepts"></meta>
      <meta property="og:description" content="This chapter explains how integrity constraints enforce the business rules associated with a database and prevent the entry of invalid information into tables."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Concepts"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-concepts.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T07:47:16-08:00"></meta>
      <meta name="dcterms.title" content="Database Concepts"></meta>
      <meta name="dcterms.dateCopyrighted" content="1993, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96138-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="partitions-views-and-other-schema-objects.html" title="Previous" type="text/html"></link>
      <link rel="next" href="data-dictionary-and-dynamic-performance-views.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CNCPT"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="partitions-views-and-other-schema-objects.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="data-dictionary-and-dynamic-performance-views.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库概念</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-relational-structures.html" property="item" typeof="WebPage"><span property="name">Oracle关系数据结构</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">数据的完整性</li>
            </ol>
            <a id="GUID-6A89FF39-AD42-4399-BD1B-E51ECEE50B4E" name="GUID-6A89FF39-AD42-4399-BD1B-E51ECEE50B4E"></a><a id="CNCPT021"></a>
            
            <h2 id="CNCPT-GUID-6A89FF39-AD42-4399-BD1B-E51ECEE50B4E" class="sect2"><span class="enumeration_chapter">5</span>数据完整性</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍完整性约束如何实施与数据库关联的业务规则，并防止将无效信息输入表中。</p>
               <p>本章包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="data-integrity.html#GUID-A8893CD7-8B19-42AA-8550-9713071FA679" title="数据保持数据完整性非常重要，这符合数据库管理员或应用程序开发人员确定的业务规则。">数据完整性简介</a></p>
                  </li>
                  <li>
                     <p><a href="data-integrity.html#GUID-1C9665AD-A444-4AFB-984F-6385FCBEA64E" title="Oracle数据库使您可以在表级和列级应用约束。">完整性约束的类型</a></p>
                  </li>
                  <li>
                     <p><a href="data-integrity.html#GUID-97D4BB23-FD4B-4FB6-BE21-E5F8C43BD94F" title="作为约束定义的一部分，您可以指定Oracle数据库应如何以及何时强制执行约束，从而确定约束状态。">完整性约束条件</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-6A89FF39-AD42-4399-BD1B-E51ECEE50B4E__GUID-05504E74-A476-4D7B-A386-2B9EFF90156A">
                  <p class="notep1">也可以看看：</p>
                  <p><span class="q">“ <a href="tables-and-table-clusters.html#GUID-F845B1A7-71E3-4312-B66D-BC16C198ECE5" title="表是Oracle数据库中数据组织的基本单元。">表概述</a> ”</span>了解列的背景和完整性约束的必要性</p>
               </div>
            </div><a id="CNCPT122"></a><div class="props_rev_3"><a id="GUID-A8893CD7-8B19-42AA-8550-9713071FA679" name="GUID-A8893CD7-8B19-42AA-8550-9713071FA679"></a><h3 id="CNCPT-GUID-A8893CD7-8B19-42AA-8550-9713071FA679" class="sect3">数据完整性简介</h3>
               <div>
                  <p>数据保持<span class="bold">数据完整性</span>非常重要，这符合数据库管理员或应用程序开发人员确定的业务规则。
                  </p>
                  <p>业务规则指定必须始终为true或必须始终为false的条件和关系。例如，每家公司都定义了自己的工资，员工编号，库存跟踪等政策。</p>
               </div><a id="CNCPT33333"></a><div class="props_rev_3"><a id="GUID-724DD096-39F4-4A0B-9C76-5360D46C1686" name="GUID-724DD096-39F4-4A0B-9C76-5360D46C1686"></a><h4 id="CNCPT-GUID-724DD096-39F4-4A0B-9C76-5360D46C1686" class="sect4">保证数据完整性的技术</h4>
                  <div>
                     <p>在设计数据库应用程序时，开发人员可以使用多种选项来保证数据库中存储的数据的完整性。</p>
                     <p>这些选项包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用触发的存储数据库过程实施业务规则</p>
                        </li>
                        <li>
                           <p>使用存储过程完全控制对数据的访问</p>
                        </li>
                        <li>
                           <p>在数据库应用程序的代码中实施业务规则</p>
                        </li>
                        <li>
                           <p>使用Oracle数据库完整性约束，这些约束是在列或对象级别定义的限制数据库中的值的规则</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-724DD096-39F4-4A0B-9C76-5360D46C1686__GUID-9BAFE885-3D2F-4DEC-8F66-1080659D65B0">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="server-side-programming.html#GUID-40297ADF-0968-42F8-B8B9-84AD6ADCBE63" title="A database trigger is a compiled stored program unit, written in either PL/SQL or Java, that Oracle Database invokes (" fire=")=" ="">触发器概述</a> ”</span>解释了<span class="q"><a href="server-side-programming.html#GUID-40297ADF-0968-42F8-B8B9-84AD6ADCBE63" title="数据库触发器是一个编译的存储程序单元，用PL / SQL或Java编写，Oracle数据库调用（" fire=")=" ="">触发器</a></span>的用途和类型</p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="server-side-programming.html#GUID-6B5D98B7-A25D-4187-B3A9-43629E214635" title="在诸如SQL的非过程语言中，指定要操作的数据集，但不指定要执行的操作或它们的执行方式。">服务器端编程简介</a> ”</span>解释了存储过程的目的和特征</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT33334"></a><div class="props_rev_3"><a id="GUID-FBAEAD76-CC71-40BF-B133-6EBCC2AA5A9D" name="GUID-FBAEAD76-CC71-40BF-B133-6EBCC2AA5A9D"></a><h4 id="CNCPT-GUID-FBAEAD76-CC71-40BF-B133-6EBCC2AA5A9D" class="sect4">完整性约束的优点</h4>
                  <div>
                     <p>完整性约束是使用SQL创建和删除的模式对象。要强制执行数据完整性，请尽可能使用完整性约束。</p>
                     <p>完整性限制优于强制执行数据完整性的替代方案的优点包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>陈述轻松</p>
                           <p>因为使用SQL语句定义完整性约束，所以在定义或更改表时不需要其他编程。SQL语句易于编写并消除编程错误。</p>
                        </li>
                        <li>
                           <p>集中规则</p>
                           <p>为表定义了完整性约束，并将其存储在<a href="glossary.html#GUID-D6A3934F-BA6D-464F-9612-C683E20514A4"><span class="xrefglossterm">数据字典中</span></a> 。因此，所有应用程序输入的数据必须遵循相同的完整性约束。如果规则在表级别更改，则应用程序无需更改。此外，即使在数据库检查SQL语句之前，应用程序也可以使用数据字典中的元数据立即通知用户违规。
                           </p>
                        </li>
                        <li>
                           <p>加载数据时的灵活性</p>
                           <p>您可以临时禁用完整性约束，以避免在加载大量数据时的性能开销。数据加载完成后，您可以重新启用完整性约束。</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-FBAEAD76-CC71-40BF-B133-6EBCC2AA5A9D__GUID-B98886C5-41C9-4F6C-9987-F066974F8147">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="data-dictionary-and-dynamic-performance-views.html#GUID-9B9ABE1C-A1E3-464F-8936-978250DC3E1F" title="Oracle数据库的一个重要部分是它的数据字典，它是一组只读表，提供有关数据库的管理元数据。">数据字典概述</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../tdddg/creating-managing-schema-objects.html#TDDDG32200" target="_blank"><span><cite>Oracle数据库2天开发人员指南</cite></span></a>和<a href="../adfns/data-integrity.html#ADFNS004" target="_blank"><span><cite>Oracle数据库开发指南</cite></span></a> ，了解如何维护数据完整性</p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-schema-objects.html#ADMIN11537" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何管理完整性约束</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT88884"></a><a id="CNCPT322"></a><div class="props_rev_3"><a id="GUID-1C9665AD-A444-4AFB-984F-6385FCBEA64E" name="GUID-1C9665AD-A444-4AFB-984F-6385FCBEA64E"></a><h3 id="CNCPT-GUID-1C9665AD-A444-4AFB-984F-6385FCBEA64E" class="sect3">完整性约束的类型</h3>
               <div>
                  <p>Oracle数据库使您可以在表级和列级应用约束。</p>
                  <p>指定为列或属性定义的一部分的约束是内联规范。作为表定义的一部分指定的约束是外部规范。</p>
                  <p><a href="glossary.html#GUID-E0D85C39-5CB4-4E85-A9AB-3834FA6F09C7"><span class="xrefglossterm">键</span></a>是某些类型的完整性约束的定义中包含的列或列集。键描述关系数据库的表和列之间的关系。密钥中的各个值称为<a href="glossary.html#GUID-034BA760-3056-4791-A624-03BB28B82AFD"><span class="xrefglossterm">密钥值</span></a> 。
                  </p>
                  <p>下表描述了约束的类型。每个都可以指定为内联或外联，但<code class="codeph">NOT NULL</code>除外，它必须是内联的。
                  </p>
                  <div class="tblformal" id="GUID-1C9665AD-A444-4AFB-984F-6385FCBEA64E__TYPESOFCONSTRAINTSCONSTRAINTTYPEDES-185E6EB1">
                     <p class="titleintable">表5-1完整性约束的类型</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="完整性约束的类型" width="100%" border="1" summary="This table describes the types of integrity constraints." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d31842e1564">约束类型</th>
                              <th align="left" valign="bottom" width="20%" id="d31842e1566">描述</th>
                              <th align="left" valign="bottom" width="20%" id="d31842e1568">也可以看看</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d31842e1572" headers="d31842e1564 ">
                                 <p><code class="codeph">不是NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d31842e1572 d31842e1566 ">
                                 <p>允许或禁止在指定列中插入或更新包含<a href="glossary.html#GUID-8854502F-2B8F-4ABC-98FA-BBFC3695A964"><span class="xrefglossterm">null</span></a>的行。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d31842e1572 d31842e1568 ">
                                 <p><span class="q">“ <a href="data-integrity.html#GUID-CF2E06A6-6A35-46CE-808E-305A459457CC" title="NOT NULL约束要求表的列不包含空值。null表示没有值。默认情况下，表中的所有列都允许空值。">NOT NULL Integrity Constraints</a> ”</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d31842e1597" headers="d31842e1564 ">
                                 <p>独特的钥匙</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d31842e1597 d31842e1566 ">
                                 <p>禁止多行在同一列或列组合中具有相同的值，但允许某些值为null。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d31842e1597 d31842e1568 ">
                                 <p><span class="q">“ <a href="data-integrity.html#GUID-077C26A1-49C3-4E72-AE1D-7CEDD997917A" title="唯一键约束要求列或列集中的每个值都是唯一的。表的任何行都不会在具有唯一键约束的单个列（唯一键）或列集（复合唯一键）中具有重复值。">独特的约束</a> ”</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d31842e1621" headers="d31842e1564 ">
                                 <p>首要的关键</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d31842e1621 d31842e1566 ">
                                 <p>组合<code class="codeph">NOT NULL</code>约束和唯一约束。它禁止多行在同一列或列组合中具有相同的值，并禁止值为空。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d31842e1621 d31842e1568 ">
                                 <p><span class="q">“ <a href="data-integrity.html#GUID-E1033BB9-0F67-4E59-82AC-B8B572FD82BB" title="在主键约束中，受约束约束的一个或多个列的组中的值唯一地标识该行。每个表都可以有一个主键，实际上命名行并确保不存在重复行。">主键约束</a> ”</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d31842e1645" headers="d31842e1564 ">
                                 <p>外键</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d31842e1645 d31842e1566 ">
                                 <p>将列指定为外键，并在外键和主键或唯一键之间建立关系，称为<a href="glossary.html#GUID-B1E1A035-9C29-43EB-84AA-0A9CD4482530"><span class="xrefglossterm">引用键</span></a> 。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d31842e1645 d31842e1568 ">
                                 <p><span class="q">“ <a href="data-integrity.html#GUID-7CD73D16-EA1A-4AA8-AA7D-4288557395B8" title="只要两个表包含一个或多个公共列，Oracle数据库就可以通过外键约束（也称为引用完整性约束）强制实现两个表之间的关系。">外键约束</a> ”</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d31842e1669" headers="d31842e1564 ">
                                 <p>校验</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d31842e1669 d31842e1566 ">
                                 <p>需要数据库值以遵守指定的条件。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d31842e1669 d31842e1568 ">
                                 <p><span class="q">“ <a href="data-integrity.html#GUID-5AF9C206-0139-4506-96DE-F6AD1D41CD41" title="对列或列集的检查约束要求每行的指定条件为true或未知。">检查约束</a> ”</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d31842e1690" headers="d31842e1564 ">
                                 <p><code class="codeph">REF</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d31842e1690 d31842e1566 ">
                                 <p>指示<code class="codeph">REF</code>列中值允许的数据操作类型以及这些操作如何影响相关值。在对象关系数据库中，称为<code class="codeph">REF</code>的内置数据类型封装了对指定对象类型的行对象的引用。在参照完整性约束<code class="codeph">REF</code>列确保有针对行对象<code class="codeph">REF</code> 。</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d31842e1690 d31842e1568 ">
                                 <p><a href="../adobj/design-considerations-for-REFs.html#ADOBJ00805" target="_blank"><span><cite>Oracle数据库对象关系开发人员指南</cite></span></a> ，了解<code class="codeph">REF</code>约束</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-1C9665AD-A444-4AFB-984F-6385FCBEA64E__GUID-E0B96DBC-119F-469C-BE1E-D64959821440">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="tables-and-table-clusters.html#GUID-F845B1A7-71E3-4312-B66D-BC16C198ECE5" title="表是Oracle数据库中数据组织的基本单元。">表格概述</a> ”</span></p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/constraint.html#SQLRF52180" target="_blank"><span><cite>Oracle数据库SQL语言参考，</cite></span></a>以了解有关约束类型的更多信息</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="CNCPT1641"></a><div class="props_rev_3"><a id="GUID-CF2E06A6-6A35-46CE-808E-305A459457CC" name="GUID-CF2E06A6-6A35-46CE-808E-305A459457CC"></a><h4 id="CNCPT-GUID-CF2E06A6-6A35-46CE-808E-305A459457CC" class="sect4">NOT NULL完整性约束</h4>
                  <div>
                     <p><code class="codeph">NOT NULL</code>约束要求表的列不包含空值。<strong class="term">null</strong>表示没有值。默认情况下，表中的所有列都允许空值。
                     </p>
                     <p><code class="codeph">NOT NULL</code>约束适用于不能缺少值的列。例如， <code class="codeph">hr.employees</code>表需要<code class="codeph">email</code>列中的值。尝试插入没有电子邮件地址的员工行会产生错误：</p><pre class="pre codeblock"><code>SQL&gt; INSERT INTO hr.employees（employee_id，last_name）值（999，'Smith'）; 。。。第1行的错误：ORA-01400：无法插入NULL（“HR”。“EMPLOYEES”。“EMAIL”）</code></pre><p>如果表不包含任何行或者您指定了默认值，则只能添加具有<code class="codeph">NOT NULL</code>约束的列。
                     </p>
                     <div class="infoboxnotealso" id="GUID-CF2E06A6-6A35-46CE-808E-305A459457CC__GUID-D27843C7-6BD5-4F3F-BEDF-88D1B9D0AD79">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../tdddg/creating-managing-schema-objects.html#TDDDG32220" target="_blank"><span><cite>Oracle数据库2天开发人员指南</cite></span></a> ，了解向表中添加<code class="codeph">NOT NULL</code>约束的示例</p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/constraint.html#SQLRF30038" target="_blank"><span><cite>Oracle数据库SQL语言参考，</cite></span></a>用于限制使用<code class="codeph">NOT NULL</code>约束</p>
                           </li>
                           <li>
                              <p><a href="../adfns/data-integrity.html#ADFNS265" target="_blank"><span><cite>Oracle数据库开发指南</cite></span></a> ，了解何时使用<code class="codeph">NOT NULL</code>约束</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT88885"></a><a id="CNCPT1642"></a><div class="props_rev_3"><a id="GUID-077C26A1-49C3-4E72-AE1D-7CEDD997917A" name="GUID-077C26A1-49C3-4E72-AE1D-7CEDD997917A"></a><h4 id="CNCPT-GUID-077C26A1-49C3-4E72-AE1D-7CEDD997917A" class="sect4">独特的约束</h4>
                  <div>
                     <p><span class="bold">唯一键约束</span>要求列或列集中的每个值都是唯一的。表的任何行都不会在具有唯一键约束的单个列（ <span class="bold">唯一键</span> ）或列集（ <span class="bold">复合唯一键</span> ）中具有重复值。
                     </p>
                     <div class="infoboxnote" id="GUID-077C26A1-49C3-4E72-AE1D-7CEDD997917A__GUID-82F8DFCF-4E8D-4E6B-8DE7-7809977FAB3A">
                        <p class="notep1">注意：</p>
                        <p>术语<span class="italic">key</span>仅指完整性约束中定义的列。由于数据库通过隐式创建或重用键列上的<a href="glossary.html#GUID-3CDC5A7E-10A5-4F63-9ED3-49A74D001CA5"><span class="xrefglossterm">索引</span></a>来强制执行唯一约束，因此术语<span class="italic">唯一键</span>有时会错误地用作<span class="italic">唯一键约束</span>或<span class="italic">唯一索引</span>的同义词。
                        </p>
                     </div>
                     <p>唯一键约束适用于不允许重复值的任何列。唯一约束与主键约束不同，主键约束的目的是唯一地标识每个表行，并且通常包含除了唯一之外没有任何意义的值。唯一键的示例包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>客户电话号码，主键是客户号码</p>
                        </li>
                        <li>
                           <p>部门名称，主键是部门编号</p>
                        </li>
                     </ul>
                     <p>如<a href="tables-and-table-clusters.html#GUID-B0DFC5A7-E482-4E17-A6F5-FF476A92DC73__CBBEHJCH">例2-1</a>所示， <code class="codeph">hr.employees</code>表的<code class="codeph">email</code>列中存在唯一键约束。声明的相关部分如下：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE员工（......，电子邮件VARCHAR2（25）CONSTRAINT emp_email_nn NOT NULL ...，CONSTRAINT emp_email_uk UNIQUE（电子邮件）......）;</pre><p><code class="codeph">emp_email_uk</code>约束确保没有两个员工具有相同的电子邮件地址，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT employee_id，last_name，email FROM employees WHERE email ='PFAY'; EMPLOYEE_ID LAST_NAME电子邮件----------- ------------------------- ----------- -------------- 202 Fay PFAY SQL&gt; INSERT INTO员工（employee_id，last_name，email，hire_date，job_id）1 VALUES（999，'Fay'，'PFAY'，SYSDATE，'ST_CLERK “）; 。。。第1行的错误：ORA-00001：违反了唯一约束（HR.EMP_EMAIL_UK）</pre><p>除非还定义了<code class="codeph">NOT NULL</code>约束，否则null始终满足唯一键约束。因此，具有唯一键约束和<code class="codeph">NOT NULL</code>约束的列是典型的。此组合强制用户在唯一键中输入值，并消除新行数据与现有行数据冲突的可能性。
                     </p>
                     <div class="infoboxnote" id="GUID-077C26A1-49C3-4E72-AE1D-7CEDD997917A__GUID-007A291C-6A61-4701-BF8E-DB9C6B6EEC1D">
                        <p class="notep1">注意：</p>
                        <p>由于多列上唯一键约束的搜索机制，因此在部分空复合唯一键约束的非空列中不能具有相同的值。</p>
                     </div>
                     <div class="example" id="GUID-077C26A1-49C3-4E72-AE1D-7CEDD997917A__CHDJJAJA">
                        <p class="titleinexample">例5-1唯一约束</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT employee_id，last_name，email FROM employees WHERE email ='PFAY'; EMPLOYEE_ID LAST_NAME电子邮件----------- ------------------------- ----------- -------------- 202 Fay PFAY SQL&gt; INSERT INTO员工（employee_id，last_name，email，hire_date，job_id）1 VALUES（999，'Fay'，'PFAY'，SYSDATE，'ST_CLERK “）; 。。。第1行的错误：ORA-00001：违反了唯一约束（HR.EMP_EMAIL_UK）</pre><div class="infoboxnotealso" id="GUID-077C26A1-49C3-4E72-AE1D-7CEDD997917A__GUID-C28D471F-0F36-4116-9DE9-6E04C5381ED2">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="indexes-and-index-organized-tables.html#GUID-F6EFE752-18FA-4BCE-BDE0-F2C386361187" title="索引可以是唯一的也可以是非唯一的。唯一索引保证表中没有两行在键列中具有重复值。">独特和非独特的索引</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../tdddg/creating-managing-schema-objects.html#TDDDG192" target="_blank"><span class="italic">Oracle数据库2天开发人员指南</span></a> ，了解向表中添加<code class="codeph">UNIQUE</code>约束的示例</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="CNCPT1646"></a><div class="props_rev_3"><a id="GUID-E1033BB9-0F67-4E59-82AC-B8B572FD82BB" name="GUID-E1033BB9-0F67-4E59-82AC-B8B572FD82BB"></a><h4 id="CNCPT-GUID-E1033BB9-0F67-4E59-82AC-B8B572FD82BB" class="sect4">主键约束</h4>
                  <div>
                     <p>在<span class="bold">主键约束中</span> ，受<span class="bold">约束约束</span>的一个或多个列的组中的值唯一地标识该行。每个表都可以有一个<span class="bold">主键</span> ，实际上命名行并确保不存在重复行。
                     </p>
                     <p>主键可以是自然的或代理的。<a href="glossary.html#GUID-C697AA5E-12D3-40DC-A5D2-BC7DFDF3E945"><span class="xrefglossterm">自然键</span></a>是由表中的现有属性组成的有意义的标识符。例如，自然键可以是查找表中的邮政编码。相反， <a href="glossary.html#GUID-615CBF3E-BEBE-40A1-AE81-5B2F3275ABF3"><span class="xrefglossterm">代理键</span></a>是系统生成的递增标识符，用于确保表中的唯一性。通常， <a href="glossary.html#GUID-E55254A3-D483-4311-8637-1FFEB6BD25BF"><span class="xrefglossterm">序列</span></a>生成代理键。
                     </p>
                     <p>主键约束的Oracle数据库实现保证以下语句为真：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>没有两行在指定列或列集中具有重复值。</p>
                        </li>
                        <li>
                           <p>主键列不允许空值。</p>
                        </li>
                     </ul>
                     <p>调用主键的典型情况是员工的数字标识符。每位员工都必须拥有唯一的ID。员工必须由<code class="codeph">employees</code>表中的一行且仅一行描述。
                     </p>
                     <p><a href="data-integrity.html#GUID-077C26A1-49C3-4E72-AE1D-7CEDD997917A" title="唯一键约束要求列或列集中的每个值都是唯一的。表的任何行都不会在具有唯一键约束的单个列（唯一键）或列集（复合唯一键）中具有重复值。">唯一约束中</a>的示例表示现有员工的员工ID为202，其中员工ID是主键。以下示例显示尝试添加具有相同员工ID的员工和没有ID的员工：</p><pre class="pre codeblock"><code>SQL&gt; INSERT INTO employees（employee_id，last_name，email，hire_date，job_id）1 VALUES（202，'Chan'，'JCHAN'，SYSDATE，'ST_CLERK'）; 。。。第1行的错误：ORA-00001：违反SQL&gt; INSERT INTO employees（last_name）VALUES（'Chan'）的唯一约束（HR.EMP_EMP_ID_PK）; 。。。第1行的错误：ORA-01400：无法插入NULL（“HR”。“EMPLOYEES”。“EMPLOYEE_ID”）</code></pre><p>数据库使用<a href="glossary.html#GUID-3CDC5A7E-10A5-4F63-9ED3-49A74D001CA5"><span class="xrefglossterm">索引</span></a>强制执行主键约束。通常，为列创建的主键约束会隐式创建唯一索引和<code class="codeph">NOT NULL</code>约束。请注意此规则的以下例外情况：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在某些情况下，与使用<a href="glossary.html#GUID-19E5560E-9730-4A50-9C26-4E95C4AD81AE"><span class="xrefglossterm">可延迟约束</span></a>创建主键时一样，生成的索引不是唯一的。
                           </p>
                           <div class="infoboxnote" id="GUID-E1033BB9-0F67-4E59-82AC-B8B572FD82BB__GUID-50F5F6AA-7332-46B9-ABAC-9DD5174EB994">
                              <p class="notep1">注意：</p>
                              <p>您可以使用<code class="codeph">CREATE UNIQUE INDEX</code>语句显式创建唯一索引。
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>如果在创建主键约束时存在可用索引，则约束将重用此索引，并且不会隐式创建索引。</p>
                        </li>
                     </ul>
                     <p>默认情况下，隐式创建的索引的名称是主键约束的名称。您还可以为索引指定用户定义的名称。您可以通过在用于创建约束的<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句中包含<code class="codeph">ENABLE</code>子句来为索引指定存储选项。
                     </p>
                     <div class="infoboxnotealso" id="GUID-E1033BB9-0F67-4E59-82AC-B8B572FD82BB__GUID-C0584FA5-D66D-4E1F-A18E-CAB21E418F0F">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../tdddg/creating-managing-schema-objects.html#TDDDG193" target="_blank"><span><cite>“Oracle数据库2天开发人员指南”</cite></span></a>和“ <a href="../adfns/data-integrity.html#ADFNS00607" target="_blank"><span><cite>Oracle数据库开发指南”</cite></span></a> ，了解如何向表中添加主键约束</p>
                     </div>
                  </div>
               </div><a id="CNCPT88886"></a><a id="CNCPT88887"></a><a id="CNCPT1649"></a><div class="props_rev_3"><a id="GUID-7CD73D16-EA1A-4AA8-AA7D-4288557395B8" name="GUID-7CD73D16-EA1A-4AA8-AA7D-4288557395B8"></a><h4 id="CNCPT-GUID-7CD73D16-EA1A-4AA8-AA7D-4288557395B8" class="sect4">外键约束</h4>
                  <div>
                     <p>只要两个表包含一个或多个公共列，Oracle数据库就可以通过<span class="bold">外键约束</span> （也称为<span class="italic">引用完整性约束）</span>强制实现两个表之间的关系。
                     </p>
                     <p>外键约束要求对于定义约束的列中的每个值，另一个指定的其他表和列中的值必须匹配。参照完整性规则的一个示例是员工只能在现有部门工作。</p>
                     <p>下表列出了与参照完整性约束相关的术语。</p>
                     <div class="tblformal" id="GUID-7CD73D16-EA1A-4AA8-AA7D-4288557395B8__BABHECEH">
                        <p class="titleintable">表5-2参照完整性约束条款</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="参照完整性约束条款" border="1" summary="This table lists terms associated with referential integrity constraints." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d31842e3196">术语</th>
                                 <th align="left" valign="bottom" id="d31842e3199">定义</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d31842e3204" headers="d31842e3196 ">
                                    <p>外键</p>
                                 </td>
                                 <td align="left" valign="top" headers="d31842e3204 d31842e3199 ">
                                    <p>引用引用键的约束定义中包含的列或列集。例如， <code class="codeph">department_id</code>列<code class="codeph">employees</code>是一个外键引用<code class="codeph">department_id</code>列<code class="codeph">departments</code> 。
                                    </p>
                                    <p>外键可以定义为多个列。但是，复合外键必须引用具有相同列数和相同数据类型的复合主键或唯一键。</p>
                                    <p>外键的值可以与引用的主键或唯一键值匹配，也可以为null。如果复合外键的任何列为空，则键的非空部分不必匹配父键的任何相应部分。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d31842e3227" headers="d31842e3196 ">
                                    <p>参考密钥</p>
                                 </td>
                                 <td align="left" valign="top" headers="d31842e3227 d31842e3199 ">
                                    <p>外键引用的表的唯一键或主键。例如， <code class="codeph">department_id</code>列<code class="codeph">departments</code>对于所引用的关键<code class="codeph">department_id</code>列<code class="codeph">employees</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d31842e3246" headers="d31842e3196 ">
                                    <p>依赖或子表</p>
                                 </td>
                                 <td align="left" valign="top" headers="d31842e3246 d31842e3199 ">
                                    <p>包含外键的表。此表取决于引用的唯一键或主键中存在的值。例如， <code class="codeph">employees</code>表是<code class="codeph">departments</code>的子项。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d31842e3259" headers="d31842e3196 ">
                                    <p>引用或父表</p>
                                 </td>
                                 <td align="left" valign="top" headers="d31842e3259 d31842e3199 ">
                                    <p>子表的外键引用的表。此表的引用键确定子表中是否允许特定插入或更新。例如， <code class="codeph">departments</code>表是<code class="codeph">employees</code>的父级。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a href="data-integrity.html#GUID-7CD73D16-EA1A-4AA8-AA7D-4288557395B8__I3773">图5-1</a>显示了<code class="codeph">employees.department_id</code>列上的外键。它保证此列中的每个值都必须与<code class="codeph">departments.department_id</code>列中的值匹配。因此， <code class="codeph">employees.department_id</code>列中不存在错误的部门编号。
                     </p>
                     <div class="figure" id="GUID-7CD73D16-EA1A-4AA8-AA7D-4288557395B8__I3773">
                        <p class="titleinfigure">图5-1参照完整性约束</p><img src="img/cncpt056.gif" alt="下面是图5-1的描述" title="下面是图5-1的描述" longdesc="img_text/cncpt056.html"><br><a href="img_text/cncpt056.html">“图5-1参照完整性约束”的描述</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnotealso" id="GUID-7CD73D16-EA1A-4AA8-AA7D-4288557395B8__GUID-ACB57F63-6FC8-4978-B5FA-AE0E2EC14470">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../tdddg/creating-managing-schema-objects.html#TDDDG195" target="_blank"><span><cite>Oracle数据库2天开发人员指南</cite></span></a>和<a href="../adfns/data-integrity.html#ADFNS00611" target="_blank"><span><cite>Oracle数据库开发指南</cite></span></a> ，了解如何向表中添加外键约束</p>
                     </div>
                  </div><a id="CNCPT88888"></a><a id="CNCPT1650"></a><div class="props_rev_3"><a id="GUID-EF16D0D5-EB95-440A-9FFA-E890DFBB7C64" name="GUID-EF16D0D5-EB95-440A-9FFA-E890DFBB7C64"></a><h5 id="CNCPT-GUID-EF16D0D5-EB95-440A-9FFA-E890DFBB7C64" class="sect5">自我参照完整性约束</h5>
                     <div>
                        <p><span class="bold">自引用完整性约束</span>是引用同一表中的父键的外键。
                        </p>
                        <p>在下面的图中，自参照约束确保了每一个值<code class="codeph">employees.manager_id</code>列对应于在现有值<code class="codeph">employees.employee_id</code>柱。例如，员工102的经理必须存在于<code class="codeph">employees</code>表中。此约束消除了<code class="codeph">manager_id</code>列中错误员工编号的可能性。
                        </p>
                        <div class="figure" id="GUID-EF16D0D5-EB95-440A-9FFA-E890DFBB7C64__I3776">
                           <p class="titleinfigure">图5-2单表参照约束</p><img src="img/cncpt057.gif" alt="下面是图5-2的描述" title="下面是图5-2的描述" longdesc="img_text/cncpt057.html"><br><a href="img_text/cncpt057.html">“图5-2单表参考约束”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                  </div><a id="CNCPT33335"></a><div class="props_rev_3"><a id="GUID-147E2168-6739-481F-9703-3DC95D93B611" name="GUID-147E2168-6739-481F-9703-3DC95D93B611"></a><h5 id="CNCPT-GUID-147E2168-6739-481F-9703-3DC95D93B611" class="sect5">空和外键</h5>
                     <div>
                        <p>关系模型允许外键的值匹配引用的主键或唯一键值，或者为null。例如， <code class="codeph">hr.employees</code>的一行可能未指定部门ID。</p>
                        <p>如果复合外键的任何列为空，则键的非空部分不必匹配父键的任何相应部分。例如， <code class="codeph">reservations</code>表可能在<code class="codeph">table_id</code>和<code class="codeph">date</code>列上包含复合外键，但<code class="codeph">table_id</code>为null。
                        </p>
                     </div>
                  </div><a id="CNCPT88889"></a><a id="CNCPT33336"></a><div class="props_rev_3"><a id="GUID-FB419C3E-7C1E-4881-B77D-D09A57C741A6" name="GUID-FB419C3E-7C1E-4881-B77D-D09A57C741A6"></a><h5 id="CNCPT-GUID-FB419C3E-7C1E-4881-B77D-D09A57C741A6" class="sect5">父密钥修改和外键</h5>
                     <div>
                        <p>外键和父键之间的关系对删除父键有影响。例如，如果用户尝试删除该部门的记录，那么该部门员工的记录会发生什么变化？</p>
                        <p>修改父键时，参照完整性约束可以指定对子表中的从属行执行以下操作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>删除或更新时无任何操作</p>
                              <p>在正常情况下，如果结果违反参照完整性，则用户无法修改引用的键值。例如，如果<code class="codeph">employees.department_id</code>是<code class="codeph">departments</code>的外键，并且员工属于特定部门，则尝试删除该部门的行会违反约束。
                              </p>
                           </li>
                           <li>
                              <p>级联删除</p>
                              <p>删除包含引用键值的行时删除级联（ <code class="codeph">DELETE CASCADE</code> ），从而导致子表中具有相关外键值的所有行也将被删除。例如，删除<code class="codeph">departments</code>中的行会导致删除此部门中所有员工的行。
                              </p>
                           </li>
                           <li>
                              <p>删除设置为null</p>
                              <p>删除包含引用键值的行时，删除设置为null（ <code class="codeph">DELETE SET NULL</code> ），从而导致具有从属外键值的子表中的所有行将这些值设置为null。例如，删除部门行会将<code class="codeph">department_id</code>列值设置为null，以用于此部门中的员工。
                              </p>
                           </li>
                        </ul>
                        <p><a href="data-integrity.html#GUID-FB419C3E-7C1E-4881-B77D-D09A57C741A6__G14265" title="此表显示不同参照操作对父表中的键值以及子表中的外键值所允许的DML语句。">表5-3</a>概述了对父表中键值的不同引用操作所允许的DML语句，以及子表中的外键值。
                        </p>
                        <div class="tblformal" id="GUID-FB419C3E-7C1E-4881-B77D-D09A57C741A6__G14265">
                           <p class="titleintable">表5-3更新允许的DML语句和删除无操作</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="更新允许的DML语句和删除无操作" width="100%" border="1" summary="This table shows the DML Statements  allowed by the different referential actions on the key values in the parent table, and the foreign key values in the child table. " frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d31842e4233">DML声明</th>
                                    <th align="left" valign="bottom" width="37%" id="d31842e4236">针对父表发布</th>
                                    <th align="left" valign="bottom" width="37%" id="d31842e4239">发布儿童表</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d31842e4244" headers="d31842e4233 ">
                                       <p><code class="codeph">插入</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d31842e4244 d31842e4236 ">
                                       <p>如果父键值是唯一的，则始终正常</p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d31842e4244 d31842e4239 ">
                                       <p>仅当外键值存在于父键中或者部分或全部为空时才可以</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d31842e4255" headers="d31842e4233 ">
                                       <p><code class="codeph">UPDATE NO</code> <code class="codeph">ACTION</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d31842e4255 d31842e4236 ">
                                       <p>如果语句未在子表中留下任何行而没有引用的父键值，则允许</p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d31842e4255 d31842e4239 ">
                                       <p>如果新的外键值仍引用引用的键值，则允许</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d31842e4269" headers="d31842e4233 ">
                                       <p><code class="codeph">DELETE NO</code> <code class="codeph">ACTION</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d31842e4269 d31842e4236 ">
                                       <p>如果子表中没有行引用父键值，则允许</p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d31842e4269 d31842e4239 ">
                                       <p>总是好的</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d31842e4283" headers="d31842e4233 ">
                                       <p><code class="codeph">删除CASCADE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d31842e4283 d31842e4236 ">
                                       <p>总是好的</p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d31842e4283 d31842e4239 ">
                                       <p>总是好的</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d31842e4294" headers="d31842e4233 ">
                                       <p><code class="codeph">DELETE SET</code> <code class="codeph">NULL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d31842e4294 d31842e4236 ">
                                       <p>总是好的</p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d31842e4294 d31842e4239 ">
                                       <p>总是好的</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnote" id="GUID-FB419C3E-7C1E-4881-B77D-D09A57C741A6__GUID-E26077A0-8038-4595-AE42-A371EBB2B81E">
                           <p class="notep1">注意：</p>
                           <p>可以使用数据库触发器强制执行Oracle数据库的<code class="codeph">FOREIGN KEY</code>完整性约束不支持的其他引用操作。请参阅<span class="q">“ <a href="server-side-programming.html#GUID-40297ADF-0968-42F8-B8B9-84AD6ADCBE63" title="数据库触发器是一个编译的存储程序单元，用PL / SQL或Java编写，Oracle数据库调用（" fire=")=" ="">触发器概述</a> ”</span> 。
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-FB419C3E-7C1E-4881-B77D-D09A57C741A6__GUID-97A95BE1-E246-4E76-98C0-70CBAF8300E9">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../sqlrf/constraint.html#SQLRF52202" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> ，了解<code class="codeph">ON DELETE</code>子句</p>
                        </div>
                     </div>
                  </div><a id="CNCPT1657"></a><div class="props_rev_3"><a id="GUID-8D485547-5304-4FE7-A1B3-8A4009484A6A" name="GUID-8D485547-5304-4FE7-A1B3-8A4009484A6A"></a><h5 id="CNCPT-GUID-8D485547-5304-4FE7-A1B3-8A4009484A6A" class="sect5">索引和外键</h5>
                     <div>
                        <p>通常，应将外键编入索引。唯一的例外是永远不会更新或删除匹配的唯一键或主键。</p>
                        <p>索引子表中的外键具有以下优点：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>防止子表上的完整表锁定。而是，数据库获取索引上的行锁。</p>
                           </li>
                           <li>
                              <p>无需对子表进行<a href="glossary.html#GUID-BF9B54D6-892E-4C3B-8536-38958ACC069D"><span class="xrefglossterm">全表扫描</span></a> 。作为说明，假设用户从<code class="codeph">departments</code>表中删除了部门10的记录。如果未对<code class="codeph">employees.department_id</code>编制索引，则数据库必须扫描<code class="codeph">employees</code>以查看部门10中是否存在任何员工。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-8D485547-5304-4FE7-A1B3-8A4009484A6A__GUID-35C81A3C-5431-40E9-84CA-ECD23109E318">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="data-concurrency-and-consistency.html#GUID-261F98F8-F7B4-49A9-9BE8-11F2B1F4609B" title="Oracle数据库最大化了与依赖外键相关的父键的并发控制。">锁和外键</a> ”</span>解释了索引和未索引的外键列的锁定行为</p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="indexes-and-index-organized-tables.html#GUID-DE7A95BC-6E4A-47EA-9FC5-B85B54F8CF41" title="An index is an optional structure, associated with a table or table cluster, that can sometimes speed data access.">索引简介</a> ”</span>解释了<span class="q"><a href="indexes-and-index-organized-tables.html#GUID-DE7A95BC-6E4A-47EA-9FC5-B85B54F8CF41" title="索引是与表或表集群相关联的可选结构，有时可以加速数据访问。">索引</a></span>的目的和特征</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT1660"></a><div class="props_rev_3"><a id="GUID-5AF9C206-0139-4506-96DE-F6AD1D41CD41" name="GUID-5AF9C206-0139-4506-96DE-F6AD1D41CD41"></a><h4 id="CNCPT-GUID-5AF9C206-0139-4506-96DE-F6AD1D41CD41" class="sect4">检查约束</h4>
                  <div>
                     <p>对列或列集的<strong class="term">检查约束</strong>要求每行的指定<strong class="term">条件</strong>为true或未知。
                     </p>
                     <p>如果DML导致约束的条件评估为false，则回滚SQL语句。检查约束的主要好处是能够执行非常具体的完整性规则。例如，您可以使用检查约束在<code class="codeph">hr.employees</code>表中强制执行以下规则：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">salary</code>列的值不得大于10000。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">commission</code>列的值必须不大于工资。
                           </p>
                        </li>
                     </ul>
                     <p>以下示例为<code class="codeph">employees</code>创建最大工资约束，并演示当语句尝试插入包含超过最大值的工资的行时会发生什么：</p><pre class="pre codeblock"><code>SQL&gt; ALTER TABLE employees ADD CONSTRAINT max_emp_sal CHECK（salary &lt;10001）; SQL&gt; INSERT INTO employees（employee_id，last_name，email，hire_date，job_id，salary）1 VALUES（999，'Green'，'BGREEN'，SYSDATE，'ST_CLERK'，20000）; 。。。第1行的错误：ORA-02290：违反了检查约束（HR.MAX_EMP_SAL）</code></pre><p>单个列可以具有多个检查约束，这些约束在其定义中引用该列。例如， <code class="codeph">salary</code>列可以有一个约束来阻止超过10000的值和一个单独的约束来阻止小于500的值。
                     </p>
                     <p>如果列存在多个检查约束，则必须对它们进行设计，以使其目的不会发生冲突。不能假设评估条件的顺序。数据库不验证检查条件不相互排斥。</p>
                     <div class="infoboxnotealso" id="GUID-5AF9C206-0139-4506-96DE-F6AD1D41CD41__GUID-EFEF075C-5872-494B-B888-C66C63915053">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../sqlrf/constraint.html#SQLRF52204" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> ，了解检查约束的限制</p>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT33337"></a><div class="props_rev_3"><a id="GUID-97D4BB23-FD4B-4FB6-BE21-E5F8C43BD94F" name="GUID-97D4BB23-FD4B-4FB6-BE21-E5F8C43BD94F"></a><h3 id="CNCPT-GUID-97D4BB23-FD4B-4FB6-BE21-E5F8C43BD94F" class="sect3">完整性约束条件</h3>
               <div>
                  <p>作为约束定义的一部分，您可以指定Oracle数据库应如何以及何时强制执行约束，从而确定约束状态。</p>
               </div><a id="CNCPT88890"></a><a id="CNCPT33339"></a><div class="props_rev_3"><a id="GUID-F9E519B3-6DE9-47EC-9B6B-527E2D78349E" name="GUID-F9E519B3-6DE9-47EC-9B6B-527E2D78349E"></a><h4 id="CNCPT-GUID-F9E519B3-6DE9-47EC-9B6B-527E2D78349E" class="sect4">检查已修改和现有数据</h4>
                  <div>
                     <p>通过该数据库，您可以指定约束是应用于现有数据还是未来数据。如果启用了约束，则数据库会在输入或更新新数据时对其进行检查。不符合约束的数据无法进入数据库。</p>
                     <p>例如，在<code class="codeph">employees.department_id</code>上启用<code class="codeph">NOT NULL</code>约束可确保每个将来的行都具有部门ID。如果禁用约束，则表可以包含违反约束的行。
                     </p>
                     <p>您可以将约束设置为以下任一验证模式：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">VALIDATE</code></p>
                           <p>现有数据必须符合约束条件。例如，在<code class="codeph">employees.department_id</code>上启用<code class="codeph">NOT NULL</code>约束并将其设置为<code class="codeph">VALIDATE</code>检查每个现有行是否具有部门ID。</p>
                        </li>
                        <li>
                           <p><code class="codeph">NOVALIDATE</code></p>
                           <p>现有数据不必符合约束条件。实际上，这是一种“信任我”模式。例如，如果您确定加载到表中的每个销售都有一个日期，那么您可以在日期列上创建一个<code class="codeph">NOT NULL</code>约束并将约束设置为<code class="codeph">NOVALIDATE</code> 。非强制约束通常仅对物化视图和查询重写有用。
                           </p>
                           <p>对于<code class="codeph">NOVALIDATE</code>模式中的约束， <code class="codeph">RELY</code>参数指示优化器可以使用约束来确定连接信息。即使约束不用于验证数据，它也可以为物化视图实现更复杂的查询重写，并使数据仓库工具能够从数据字典中检索约束信息。默认值为<code class="codeph">NORELY</code> ，这意味着优化器实际上不知道约束。
                           </p>
                        </li>
                     </ul>
                     <p><code class="codeph">VALIDATE</code>和<code class="codeph">NOVALIDATE</code>的行为始终取决于是启用还是禁用约束。下表总结了这些关系。
                     </p>
                     <div class="tblformal" id="GUID-F9E519B3-6DE9-47EC-9B6B-527E2D78349E__CHDEAFJA">
                        <p class="titleintable">表5-4对已修改数据和现有数据的检查</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="检查修改的和现有的数据" width="100%" border="1" summary="This table summarized the checks on modified and existing data." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d31842e5607">修改数据</th>
                                 <th align="left" valign="bottom" width="20%" id="d31842e5610">现有数据</th>
                                 <th align="left" valign="bottom" width="60%" id="d31842e5613">摘要</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d31842e5618" headers="d31842e5607 ">
                                    <p><code class="codeph">ENABLE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d31842e5618 d31842e5610 ">
                                    <p><code class="codeph">VALIDATE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d31842e5618 d31842e5613 ">
                                    <p>现有和未来的数据必须遵守约束条件。如果现有行违反约束，则尝试将新约束应用于填充表会导致错误。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d31842e5630" headers="d31842e5607 ">
                                    <p><code class="codeph">ENABLE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d31842e5630 d31842e5610 ">
                                    <p><code class="codeph">NOVALIDATE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d31842e5630 d31842e5613 ">
                                    <p>数据库检查约束，但不必对所有行都为true。因此，现有行可能违反约束，但新行或已修改的行必须符合规则。此模式通常用于包含已验证其完整性的现有数据的数据仓库中。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d31842e5642" headers="d31842e5607 ">
                                    <p><code class="codeph">DISABLE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d31842e5642 d31842e5610 ">
                                    <p><code class="codeph">VALIDATE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d31842e5642 d31842e5613 ">
                                    <p>数据库禁用约束，删除其索引，并阻止修改受约束的列。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d31842e5654" headers="d31842e5607 ">
                                    <p><code class="codeph">DISABLE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d31842e5654 d31842e5610 ">
                                    <p><code class="codeph">NOVALIDATE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d31842e5654 d31842e5613 ">
                                    <p>不检查约束，并且不一定是真的。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-F9E519B3-6DE9-47EC-9B6B-527E2D78349E__GUID-AD053996-8713-455A-8D5B-DEC99CA1D305">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../sqlrf/constraint.html#SQLRF52214" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> ，了解约束状态</p>
                     </div>
                  </div>
               </div><a id="CNCPT522"></a><div class="props_rev_3"><a id="GUID-ED1E9D21-EDFB-4AAD-9193-87D576F67761" name="GUID-ED1E9D21-EDFB-4AAD-9193-87D576F67761"></a><h4 id="CNCPT-GUID-ED1E9D21-EDFB-4AAD-9193-87D576F67761" class="sect4">当数据库检查有效性的约束时</h4>
                  <div>
                     <p>每个约束都处于不可延迟（默认）或可延迟状态。此状态确定Oracle数据库何时检查约束的有效性。</p>
                     <p>下图显示了可延迟约束的选项。</p>
                     <div class="figure" id="GUID-ED1E9D21-EDFB-4AAD-9193-87D576F67761__GUID-93E99346-78E4-48C1-8B3A-74CC84B0B63E">
                        <p class="titleinfigure">图5-3可延迟约束的选项</p><img src="img/cncpt313.gif" alt="下面是图5-3的描述" title="下面是图5-3的描述" longdesc="img_text/cncpt313.html"><br><a href="img_text/cncpt313.html">“图5-3可延迟约束选项”的说明</a></div>
                     <!-- class="figure" -->
                  </div><a id="CNCPT88891"></a><div class="props_rev_3"><a id="GUID-6E6E9B10-620E-4211-A47E-B587B987BFF9" name="GUID-6E6E9B10-620E-4211-A47E-B587B987BFF9"></a><h5 id="CNCPT-GUID-6E6E9B10-620E-4211-A47E-B587B987BFF9" class="sect5">不可延迟的约束</h5>
                     <div>
                        <p>在不可延迟的<span class="bold">约束中</span> ，Oracle数据库永远不会将<span class="bold">约束</span>的有效性检查推迟到事务结束。相反，数据库会检查每个语句末尾的约束。如果违反约束，则语句回滚。
                        </p>
                        <p>例如， <code class="codeph">employees.last_name</code>列存在<code class="codeph">NOT NULL</code>延迟的<code class="codeph">NOT NULL</code>约束。如果会话尝试插入没有姓氏的行，则数据库会立即回滚该语句，因为违反了<code class="codeph">NOT NULL</code>约束。没有插入行。
                        </p>
                     </div>
                  </div><a id="CNCPT88892"></a><div class="props_rev_3"><a id="GUID-2C8FE035-70C8-454A-BB32-F6361A15DF96" name="GUID-2C8FE035-70C8-454A-BB32-F6361A15DF96"></a><h5 id="CNCPT-GUID-2C8FE035-70C8-454A-BB32-F6361A15DF96" class="sect5">可延迟的约束</h5>
                     <div>
                        <p><span class="bold">可延迟约束</span>允许事务使用<code class="codeph">SET CONSTRAINT</code>子句来推迟检查此约束，直到发出<code class="codeph">COMMIT</code>语句。如果对可能违反约束的数据库进行更改，则此设置可以有效地禁用约束，直到完成所有更改。
                        </p>
                        <p>您可以设置数据库检查可延迟约束时的默认行为。您可以指定以下任一属性：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">初步立即</code></p>
                              <p>数据库在每个语句执行后立即检查约束。如果违反了约束，则数据库将回滚该语句。</p>
                           </li>
                           <li>
                              <p><code class="codeph">初步推迟</code></p>
                              <p>发出<code class="codeph">COMMIT</code>时，数据库会检查约束。如果违反约束，则数据库回滚事务。
                              </p>
                           </li>
                        </ul>
                        <p>假设<code class="codeph">employees.last_name</code>上的可延迟<code class="codeph">NOT NULL</code>约束设置为<code class="codeph">INITIALLY DEFERRED</code> 。用户使用100个<code class="codeph">INSERT</code>语句创建事务，其中一些语句具有<code class="codeph">last_name</code>空值。当用户尝试提交时，数据库将回滚所有100个语句。但是，如果此约束设置为<code class="codeph">INITIALLY IMMEDIATE</code> ，则数据库不会回滚事务。
                        </p>
                        <p>如果约束导致操作，则数据库将此操作视为导致该操作的语句的一部分，无论约束是延迟还是立即。例如，删除<code class="codeph">departments</code>的行会导致删除引用已删除部门行的<code class="codeph">employees</code>中的所有行。在这种情况下，从<code class="codeph">employees</code>删除被视为对<code class="codeph">departments</code>执行的<code class="codeph">DELETE</code>语句的一部分。
                        </p>
                        <div class="infoboxnotealso" id="GUID-2C8FE035-70C8-454A-BB32-F6361A15DF96__GUID-97AEABFA-0331-4A0C-A9F5-56F6E6995154">
                           <p class="notep1">也可以看看：</p>
                           <p>有关约束属性及其默认值的信息，请<a href="../sqlrf/constraint.html#SQLRF52216" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT422"></a><div class="props_rev_3"><a id="GUID-7E8D0D6D-E7D8-4329-9C36-67A0A79851A1" name="GUID-7E8D0D6D-E7D8-4329-9C36-67A0A79851A1"></a><h4 id="CNCPT-GUID-7E8D0D6D-E7D8-4329-9C36-67A0A79851A1" class="sect4">约束检查的示例</h4>
                  <div>
                     <p>以下示例有助于说明Oracle数据库何时执行约束检查。</p>
                     <p>假设如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">employees</code>表具有<span class="q">“ <a href="data-integrity.html#GUID-EF16D0D5-EB95-440A-9FFA-E890DFBB7C64" title="自引用完整性约束是引用同一表中的父键的外键。">自引用完整性约束</a> ”中</span>所示的结构。
                           </p>
                        </li>
                        <li>
                           <p>自引用约束使<code class="codeph">manager_id</code>列中的条目依赖于<code class="codeph">employee_id</code>列的值。
                           </p>
                        </li>
                     </ul>
                  </div><a id="CNCPT33341"></a><div class="props_rev_3"><a id="GUID-6A309B2D-42B1-4886-AAAF-DD51760A8103" name="GUID-6A309B2D-42B1-4886-AAAF-DD51760A8103"></a><h5 id="CNCPT-GUID-6A309B2D-42B1-4886-AAAF-DD51760A8103" class="sect5">示例：当没有父键值存在时，在外键列中插入值</h5>
                     <div>
                        <p>此示例涉及将第一行插入<code class="codeph">employees</code>表。当前不存在任何行，那么如果<code class="codeph">manager_id</code>列中的值无法引用<code class="codeph">employee_id</code>列中的现有值，那么如何输入行？
                        </p>
                        <div class="example" id="GUID-6A309B2D-42B1-4886-AAAF-DD51760A8103__GUID-A64C6438-3348-432D-90FB-32C528358D8C">
                           <p>一些可能性是：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果<code class="codeph">manager_id</code>列没有在其上定义<code class="codeph">NOT NULL</code>约束，则可以为第一行的<code class="codeph">manager_id</code>列输入null。
                                 </p>
                                 <p>由于外键中允许空值，因此Oracle数据库会将此行插入表中。</p>
                              </li>
                              <li>
                                 <p>您可以在<code class="codeph">employee_id</code>和<code class="codeph">manager_id</code>列中输入相同的值，指定员工是他或她自己的经理。
                                 </p>
                                 <p>此案例表明Oracle Database在语句执行<span class="italic">后</span>执行其约束检查。要允许在父键和外键中使用相同的值输入行，数据库必须首先插入新行，然后确定表中的任何行是否具有与新行的<code class="codeph">manager_id</code>对应的<code class="codeph">employee_id</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>多行<code class="codeph">INSERT</code>语句（例如具有嵌套<code class="codeph">SELECT</code>语句的<code class="codeph">INSERT</code>语句）可以插入彼此引用的行。
                                 </p>
                                 <p>例如，第一行可能有200个用于员工ID，300个用于管理员ID，而第二行有300个用于员工ID，200个用于管理员ID。约束检查将推迟到<code class="codeph">INSERT</code>语句的完整执行。数据库插入所有行，然后检查所有行是否存在约束违规。
                                 </p>
                              </li>
                           </ul>
                           <p>在解析语句之前，默认值作为<code class="codeph">INSERT</code>语句的一部分包含在内。因此，默认列值受所有完整性约束检查的约束。
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="CNCPT88893"></a><a id="CNCPT88894"></a><a id="CNCPT33342"></a><div class="props_rev_3"><a id="GUID-8AA33487-F1D7-4EC8-ADC1-04A4EEF7974B" name="GUID-8AA33487-F1D7-4EC8-ADC1-04A4EEF7974B"></a><h5 id="CNCPT-GUID-8AA33487-F1D7-4EC8-ADC1-04A4EEF7974B" class="sect5">示例：更新所有外键和父键值</h5>
                     <div>
                        <p>在此示例中，自引用约束使<code class="codeph">employees</code>的<code class="codeph">manager_id</code>列中的条目依赖于<code class="codeph">employee_id</code>列的值。
                        </p>
                        <div class="example" id="GUID-8AA33487-F1D7-4EC8-ADC1-04A4EEF7974B__GUID-1319D7AE-3357-4B72-B48E-A43C3184D5A1">
                           <p>该公司已被出售。由于此次销售，所有员工编号必须更新为当前值加5000，以便与新公司的员工编号进行协调。如下图所示，一些员工也是经理：</p>
                           <div class="figure" id="GUID-8AA33487-F1D7-4EC8-ADC1-04A4EEF7974B__I3782">
                              <p class="titleinfigure">图5-4更新前员工表</p><img src="img/cncpt058.gif" alt="下面是图5-4的描述" title="下面是图5-4的描述" longdesc="img_text/cncpt058.html"><br><a href="img_text/cncpt058.html">“图5-4更新前员工表”的说明</a></div>
                           <!-- class="figure" -->
                           <p>由于经理人数也是员工编号，经理人数也必须增加5000。您可以执行以下SQL语句来更新值：</p><pre class="pre codeblock"><code>UPDATE员工SET employee_id = employee_id + 5000，manager_id = manager_id + 5000;</code></pre><p>尽管定义了约束来验证每个<code class="codeph">manager_id</code>值是否与<code class="codeph">employee_id</code>值匹配，但前面的语句是有效的，因为数据库在语句完成后有效地检查约束。<a href="data-integrity.html#GUID-8AA33487-F1D7-4EC8-ADC1-04A4EEF7974B__I3784">图5-5</a>显示了数据库在检查约束之前执行整个SQL语句的操作。
                           </p>
                           <div class="figure" id="GUID-8AA33487-F1D7-4EC8-ADC1-04A4EEF7974B__I3784">
                              <p class="titleinfigure">图5-5约束检查</p><img src="img/cncpt059.gif" alt="下面是图5-5的描述" title="下面是图5-5的描述" longdesc="img_text/cncpt059.html"><br><a href="img_text/cncpt059.html">“图5-5约束检查”的描述</a></div>
                           <!-- class="figure" -->
                           <p>本节中的示例说明了<code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>语句中的约束检查机制，但数据库对所有类型的DML语句使用相同的机制。数据库对所有类型的约束使用相同的机制，而不仅仅是自引用约束。
                           </p>
                           <div class="infoboxnote" id="GUID-8AA33487-F1D7-4EC8-ADC1-04A4EEF7974B__GUID-3F0F4661-F1EC-4DDA-AAEF-657FBD9D1EDC">
                              <p class="notep1">注意：</p>
                              <p><a href="glossary.html#GUID-1274BCF5-2EC1-4752-B9CE-998A85A83307"><span class="xrefglossterm">视图</span></a>或<a href="glossary.html#GUID-FBC00D26-94DC-4BA6-82D0-60A7F29CB81D"><span class="xrefglossterm">同义词</span></a>上的操作受基表上定义的完整性约束的约束。
                              </p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="01112.DBMS_SQL_MONITOR.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_SQL_MONITOR package provides information about Real-Time SQL Monitoring and Real-Time Database Operation Monitoring."></meta>
      <meta name="description" content="The DBMS_SQL_MONITOR package provides information about Real-Time SQL Monitoring and Real-Time Database Operation Monitoring."></meta>
      <title>DBMS_SQL_MONITOR</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_SQL_MONITOR package provides information about Real-Time SQL Monitoring and Real-Time Database Operation Monitoring."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_SQL.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_SQL_TRANSLATOR.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_SQL.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_SQL_TRANSLATOR.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_SQL_MONITOR</li>
            </ol>
            <a id="GUID-13874A73-369E-42CD-9C43-A12F1B3BDEC6" name="GUID-13874A73-369E-42CD-9C43-A12F1B3BDEC6"></a><a id="ARPLS74779"></a><a id="ARPLS74779"></a>
            
            <h2 id="ARPLS-GUID-13874A73-369E-42CD-9C43-A12F1B3BDEC6" class="sect2"><span class="enumeration_chapter">157</span> DBMS_SQL_MONITOR</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_SQL_MONITOR</code>包提供有关实时SQL监视和实时数据库操作监视的信息。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_SQL_MONITOR.html#GUID-A584981E-E45A-496D-83FF-B4EAF79B7297" title="DBMS_SQL_MONITOR包提供有关实时SQL监视和实时数据库操作监视的信息。">DBMS_SQL_MONITOR概述</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQL_MONITOR.html#GUID-94A0C0AC-E564-4229-A73F-846EBD845F8B" title="此包可供PUBLIC使用，并以调用者的权限权限执行。报告功能需要权限才能从角色SELECT_CATALOG_ROLE提供的目录中选择数据。">DBMS_SQL_MONITOR安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQL_MONITOR.html#GUID-02DE31A1-9230-44A4-A977-36E2F515AF70" title="DBMS_SQL_MONITOR包使用下表中显示的常量。">DBMS_SQL_MONITOR常量</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQL_MONITOR.html#GUID-9A5E6564-E176-40CF-9428-E844C4C560AA" title="此表列出并描述了DBMS_SQL_MONITOR包子程序。">DBMS_SQL_MONITOR子程序的摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-13874A73-369E-42CD-9C43-A12F1B3BDEC6__GUID-E1CE17F5-9EE7-4FF7-A098-A3B790ED4E6C">
                  <p class="notep1">也可以看看：</p>
                  <p><a href="DBMS_SQLTUNE.html#GUID-821462BF-1695-41CF-AFF7-FD23E9999C6A" title="DBMS_SQLTUNE包是用于按需调优SQL的接口。相关包DBMS_AUTO_SQLTUNE包为SQL Tuning Advisor提供了作为自动化任务运行的接口。">DBMS_SQLTUNE</a></p>
               </div>
            </div><a id="ARPLS74781"></a><a id="ARPLS74781"></a><div class="props_rev_3"><a id="GUID-A584981E-E45A-496D-83FF-B4EAF79B7297" name="GUID-A584981E-E45A-496D-83FF-B4EAF79B7297"></a><h3 id="ARPLS-GUID-A584981E-E45A-496D-83FF-B4EAF79B7297" class="sect3"><span class="enumeration_section">157.1</span> DBMS_SQL_MONITOR概述</h3>
               <div>
                  <p><code class="codeph">DBMS_SQL_MONITOR</code>包提供有关实时SQL监视和实时数据库操作监视的信息。
                  </p>
                  <div class="section">
                     <p>这些功能提供对SQL语句，PL / SQL块或复合数据库操作的自动监视，这些操作被认为是高成本的。简单的数据库操作是单个SQL语句或PL / SQL过程或函数。复合数据库操作是数据库会话中两个定义的时间点之间的活动。监视的数据收集在<code class="codeph">V$SQL_MONITOR</code>和<code class="codeph">V$SQL_PLAN_MONITOR</code>视图中。
                     </p>
                     <p>以下子程序开始和结束复合数据库操作的监视：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBMS_SQL_MONITOR.html#GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82" title="此函数在当前会话中启动数据库操作。">BEGIN_OPERATION函数</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQL_MONITOR.html#GUID-73978AE6-8FC9-4640-93BC-ADE787F8D735" title="此函数结束当前会话中的数据库操作。如果指定的数据库操作不存在，则此函数无效。">END_OPERATION程序</a></p>
                        </li>
                     </ul>
                     <p>以下子程序报告了在<code class="codeph">V$SQL_MONITOR</code>和<code class="codeph">V$SQL_PLAN_MONITOR</code>收集的监视数据：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBMS_SQL_MONITOR.html#GUID-04851EB0-32AB-424C-91A1-65AD9220A690" title="此函数构建详细报告，其中包含SQL语句，PL / SQL块或数据库操作的监视信息。">REPORT_SQL_MONITOR函数</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQL_MONITOR.html#GUID-E41600C9-8116-4DFD-B479-E0BFA10506A2" title="此函数与REPORT_SQL_MONITOR函数相同，只是返回类型是XMLType。">REPORT_SQL_MONITOR_XML函数</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQL_MONITOR.html#GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4" title="此函数为Oracle数据库监视的所有或部分数据库操作构建报告。">REPORT_SQL_MONITOR_LIST函数</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQL_MONITOR.html#GUID-F3549005-FA48-4AF2-8E3B-B3D1B02CF489" title="此函数与REPORT_SQL_MONITOR_LIST函数相同，只是它返回XMLType。">REPORT_SQL_MONITOR_LIST_XML函数</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS74782"></a><a id="ARPLS74782"></a><div class="props_rev_3"><a id="GUID-94A0C0AC-E564-4229-A73F-846EBD845F8B" name="GUID-94A0C0AC-E564-4229-A73F-846EBD845F8B"></a><h3 id="ARPLS-GUID-94A0C0AC-E564-4229-A73F-846EBD845F8B" class="sect3"><span class="enumeration_section">157.2</span> DBMS_SQL_MONITOR安全模型</h3>
               <div>
                  <p>此包可供<code class="codeph">PUBLIC</code>使用，并以调用者的权限权限执行。报告功能需要权限才能从角色<code class="codeph">SELECT_CATALOG_ROLE</code>提供的目录中选择数据。</p>
               </div>
            </div><a id="ARPLS74957"></a><a id="ARPLS74958"></a><a id="ARPLS74958"></a><a id="ARPLS74957"></a><div class="props_rev_3"><a id="GUID-02DE31A1-9230-44A4-A977-36E2F515AF70" name="GUID-02DE31A1-9230-44A4-A977-36E2F515AF70"></a><h3 id="ARPLS-GUID-02DE31A1-9230-44A4-A977-36E2F515AF70" class="sect3"><span class="enumeration_section">157.3</span> DBMS_SQL_MONITOR常量</h3>
               <div>
                  <p><code class="codeph">DBMS_SQL_MONITOR</code>包使用下表中显示的常量。
                  </p>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-02DE31A1-9230-44A4-A977-36E2F515AF70__CHDIFEHH">
                     <p class="titleintable">表157-1 DBMS_SQL_MONITOR常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQL_MONITOR常量" width="100%" border="1" summary="This table describes constants used by DBMS_SQL_MONITOR." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d884171e513">不变</th>
                              <th align="left" valign="bottom" width="21%" id="d884171e516">类型</th>
                              <th align="left" valign="bottom" width="13%" id="d884171e519">值</th>
                              <th align="left" valign="bottom" width="37%" id="d884171e522">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d884171e527" headers="d884171e513 ">
                                 <p><code class="codeph">FORCE_TRACKING</code></p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d884171e527 d884171e516 ">
                                 <p><code class="codeph">VARCHAR2（30）</code></p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d884171e527 d884171e519 ">
                                 <p><code class="codeph">'Y'</code></p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d884171e527 d884171e522 ">
                                 <p>操作开始时强制跟踪复合数据库操作</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d884171e543" headers="d884171e513 ">
                                 <p><code class="codeph">NO_FORCE_TRACKING</code></p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d884171e543 d884171e516 ">
                                 <p><code class="codeph">VARCHAR2（30）</code></p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d884171e543 d884171e519 ">
                                 <p><code class="codeph">'N'</code></p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d884171e543 d884171e522 ">
                                 <p>操作开始时，请勿强制跟踪复合数据库操作。仅在消耗5秒的CPU或I / O时间时才跟踪它。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS74783"></a><a id="ARPLS74784"></a><a id="ARPLS74784"></a><a id="ARPLS74783"></a><div class="props_rev_3"><a id="GUID-9A5E6564-E176-40CF-9428-E844C4C560AA" name="GUID-9A5E6564-E176-40CF-9428-E844C4C560AA"></a><h3 id="ARPLS-GUID-9A5E6564-E176-40CF-9428-E844C4C560AA" class="sect3"><span class="enumeration_section">157.4</span> DBMS_SQL_MONITOR子程序摘要</h3>
               <div>
                  <p>此表列出并描述了<code class="codeph">DBMS_SQL_MONITOR</code>包子程序。
                  </p>
                  <div class="tblformal" id="GUID-9A5E6564-E176-40CF-9428-E844C4C560AA__GUID-9FDB7613-85DC-4D03-B879-24C58F43F085">
                     <p class="titleintable">表157-2 DBMS_SQL_MONITOR包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQL_MONITOR包子程序" width="100%" border="1" summary="This table lists and describes the DBMS_SQL_MONITOR package subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="53%" id="d884171e659">子程序</th>
                              <th align="left" valign="bottom" width="47%" id="d884171e662">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d884171e667" headers="d884171e659 ">
                                 <p><a href="DBMS_SQL_MONITOR.html#GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82" title="此函数在当前会话中启动数据库操作。">BEGIN_OPERATION函数</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d884171e667 d884171e662 ">
                                 <p><span>此函数在当前会话中启动数据库操作。</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d884171e681" headers="d884171e659 ">
                                 <p><a href="DBMS_SQL_MONITOR.html#GUID-73978AE6-8FC9-4640-93BC-ADE787F8D735" title="此函数结束当前会话中的数据库操作。如果指定的数据库操作不存在，则此函数无效。">END_OPERATION程序</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d884171e681 d884171e662 ">
                                 <p><span>此函数结束当前会话中的数据库操作。如果指定的数据库操作不存在，则此函数无效。</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d884171e695" headers="d884171e659 ">
                                 <p><a href="DBMS_SQL_MONITOR.html#GUID-04851EB0-32AB-424C-91A1-65AD9220A690" title="此函数构建详细报告，其中包含SQL语句，PL / SQL块或数据库操作的监视信息。">REPORT_SQL_MONITOR函数</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d884171e695 d884171e662 ">
                                 <p><span>此函数构建详细报告，其中包含SQL语句，PL / SQL块或数据库操作的监视信息。</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d884171e709" headers="d884171e659 ">
                                 <p><a href="DBMS_SQL_MONITOR.html#GUID-E41600C9-8116-4DFD-B479-E0BFA10506A2" title="此函数与REPORT_SQL_MONITOR函数相同，只是返回类型是XMLType。">REPORT_SQL_MONITOR_XML函数</a></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d884171e709 d884171e662 ">
                                 <p><span>此函数与<code class="codeph">REPORT_SQL_MONITOR</code>函数相同，只是返回类型是<code class="codeph">XMLType</code> 。</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d884171e734" headers="d884171e659 ">
                                 <p><a href="DBMS_SQL_MONITOR.html#GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4" title="此函数为Oracle数据库监视的所有或部分数据库操作构建报告。">REPORT_SQL_MONITOR_LIST函数</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d884171e734 d884171e662 ">
                                 <p><span>此函数为Oracle数据库监视的所有或部分数据库操作构建报告。</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d884171e748" headers="d884171e659 ">
                                 <p><a href="DBMS_SQL_MONITOR.html#GUID-F3549005-FA48-4AF2-8E3B-B3D1B02CF489" title="此函数与REPORT_SQL_MONITOR_LIST函数相同，只是它返回XMLType。">REPORT_SQL_MONITOR_LIST_XML函数</a></p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d884171e748 d884171e662 ">
                                 <p><span>此函数与<code class="codeph">REPORT_SQL_MONITOR_LIST</code>函数相同，只是它返回<code class="codeph">XMLType</code> 。</span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS74785"></a><a id="ARPLS74786"></a><a id="ARPLS74786"></a><a id="ARPLS74785"></a><div class="props_rev_3"><a id="GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82" name="GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82"></a><h4 id="ARPLS-GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82" class="sect4"><span class="enumeration_section">157.4.1</span> BEGIN_OPERATION函数</h4>
                  <div>
                     <p><span>此函数在当前会话中启动数据库操作。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82__GUID-679014C6-F7F6-4B27-8B32-D10285BD1160">句法</p><pre class="pre codeblock"><code>DBMS_SQL_MONITOR.BEGIN_OPERATION（dbop_name IN VARCHAR2，dbop_eid IN NUMBER：= NULL，forced_tracking IN VARCHAR2：= NO_FORCE_TRACKING，attribute_list IN VARCHAR2：= NULL，session_id IN NUMBER：= NULL，session_serial IN NUMBER：= NULL）iRETURN NUMBER;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82__GUID-34F2425D-DCA6-43E0-934A-BEEC321CA448">参数</p>
                        <div class="tblformal" id="GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82__GUID-C384378F-203A-4D9E-98C1-1A1A05BF2B4A">
                           <p class="titleintable">表157-3 <span class="italic"><span class="bold">BEGIN_OPERATION过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="BEGIN_OPERATION过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_MONITOR.BEGIN_OPERATION subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d884171e885">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d884171e888">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e893" headers="d884171e885 ">
                                       <p><code class="codeph">dbop_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e893 d884171e888 ">
                                       <p>复合数据库操作的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e901" headers="d884171e885 ">
                                       <p><code class="codeph">dbop_eid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e901 d884171e888 ">
                                       <p>当前执行复合数据库操作的唯一标识符。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e909" headers="d884171e885 ">
                                       <p><code class="codeph">forced_tracking</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e909 d884171e888 ">
                                       <p>是否强制跟踪。可能的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">FORCE_TRACKING</code> - 强制在操作开始时跟踪复合数据库操作。您还可以使用字符串变量<code class="codeph">Y</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NO_FORCE_TRACKING</code> - 仅在消耗了至少5秒的CPU或I / O时间时跟踪操作。您还可以使用字符串变量<code class="codeph">N</code></p>
                                          </li>
                                       </ul>
                                       <p>请参见<span class="q">“ <a href="DBMS_SQL_MONITOR.html#GUID-02DE31A1-9230-44A4-A977-36E2F515AF70" title="DBMS_SQL_MONITOR包使用下表中显示的常量。">DBMS_SQL_MONITOR常量</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e946" headers="d884171e885 ">
                                       <p><code class="codeph">ATTRIBUTE_LIST</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e946 d884171e888 ">
                                       <p>用户创建的属性列表。它是以逗号分隔的名称 - 值对列表（例如， <code class="codeph">'table_name=emp, operation=load'</code> ）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e957" headers="d884171e885 "><code class="codeph">SESSION_ID</code></td>
                                    <td align="left" valign="top" width="70%" headers="d884171e957 d884171e888 ">要监视的会话的会话ID。如果省略（或null），则数据库监视当前会话。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e963" headers="d884171e885 "><code class="codeph">session_serial</code></td>
                                    <td align="left" valign="top" width="70%" headers="d884171e963 d884171e888 ">要监视的会话的序列号。如果省略（或为null），则数据库仅使用会话ID来确定会话。</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82__GUID-DAFA16B3-BF50-444E-99A7-DC071AC56536">返回值</p>
                        <p>此函数返回数据库操作执行ID。如果<code class="codeph">dbop_eid</code>的值为null，则数据库将生成唯一值。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74787"></a><a id="ARPLS74788"></a><a id="ARPLS74788"></a><a id="ARPLS74787"></a><div class="props_rev_3"><a id="GUID-73978AE6-8FC9-4640-93BC-ADE787F8D735" name="GUID-73978AE6-8FC9-4640-93BC-ADE787F8D735"></a><h4 id="ARPLS-GUID-73978AE6-8FC9-4640-93BC-ADE787F8D735" class="sect4"><span class="enumeration_section">157.4.2</span> END_OPERATION程序</h4>
                  <div>
                     <p><span>此函数结束当前会话中的数据库操作。如果指定的数据库操作不存在，则此函数无效。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-73978AE6-8FC9-4640-93BC-ADE787F8D735__GUID-CF22D9EC-CBD4-4B99-8309-E97441DBD2ED">句法</p><pre class="pre codeblock"><code>DBMS_SQL_MONITOR.END_OPERATION（dbop_name IN VARCHAR2，dbop_eid IN NUMBER）返回号码;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-73978AE6-8FC9-4640-93BC-ADE787F8D735__GUID-85AEED5F-07DD-4495-92ED-03DA17F9764C">参数</p>
                        <div class="tblformal" id="GUID-73978AE6-8FC9-4640-93BC-ADE787F8D735__GUID-CAE9FA6A-76BC-42B7-95E3-A2D52EDF3108">
                           <p class="titleintable">表157-4 END_OPERATION过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="END_OPERATION过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_MONITOR.END_OPERATION subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d884171e1088">参数</th>
                                    <th align="left" valign="bottom" width="80%" id="d884171e1091">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d884171e1096" headers="d884171e1088 ">
                                       <p><code class="codeph">dbop_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d884171e1096 d884171e1091 ">
                                       <p>复合数据库操作的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d884171e1104" headers="d884171e1088 ">
                                       <p><code class="codeph">dbop_eid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d884171e1104 d884171e1091 ">
                                       <p>当前执行复合数据库操作的唯一标识符</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74789"></a><a id="ARPLS74790"></a><a id="ARPLS74790"></a><a id="ARPLS74789"></a><div class="props_rev_3"><a id="GUID-04851EB0-32AB-424C-91A1-65AD9220A690" name="GUID-04851EB0-32AB-424C-91A1-65AD9220A690"></a><h4 id="ARPLS-GUID-04851EB0-32AB-424C-91A1-65AD9220A690" class="sect4"><span class="enumeration_section">157.4.3</span> REPORT_SQL_MONITOR函数</h4>
                  <div>
                     <p><span>此函数构建详细报告，其中包含SQL语句，PL / SQL块或数据库操作的监视信息。</span></p>
                     <div class="section">
                        <p>对于每个操作，它提供关键信息和相关的全局统计信息。使用此函数可获取数据库操作的详细监视信息。</p>
                        <p>此报告的目标数据库操作可以是：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Oracle数据库监控的最后一个数据库操作（默认情况下，无参数）。</p>
                           </li>
                           <li>
                              <p>最后一个数据库操作在指定的会话中执行并由Oracle数据库监视。会话由其会话ID和可选的序列号（ <code class="codeph">-1</code>是当前会话）标识。
                              </p>
                           </li>
                           <li>
                              <p>最后一次执行由其<code class="codeph">sql_id</code>标识的特定数据库操作。
                              </p>
                           </li>
                           <li>
                              <p>由<code class="codeph">sql_id</code> ， <code class="codeph">sql_exec_start</code>和<code class="codeph">sql_exec_id</code>组合标识的数据库操作的特定执行。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">dbop_name</code>标识的特定数据库操作的最后一次执行。
                              </p>
                           </li>
                           <li>
                              <p>由<code class="codeph">dbop_name</code> ， <code class="codeph">dbop_exec_id</code>组合标识的数据库操作的特定执行。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-04851EB0-32AB-424C-91A1-65AD9220A690__GUID-D823876B-CD95-4A67-8B40-4F2D585E859D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQL_MONITOR.REPORT_SQL_MONITOR（sql_id IN VARCHAR2 DEFAULT NULL，dbop_name IN VARCHAR2 DEFAULT NULL，dbop_exec_id IN NUMBER DEFAULT NULL，session_id IN NUMBER DEFAULT NULL，session_serial IN NUMBER DEFAULT NULL，sql_exec_start IN DATE DEFAULT NULL，sql_exec_id IN NUMBER DEFAULT NULL，inst_id IN NUMBER DEFAULT NULL，start_time_filter IN DATE DEFAULT NULL，end_time_filter IN DATE DEFAULT NULL，instance_id_filter IN NUMBER DEFAULT NULL，parallel_filter IN VARCHAR2 DEFAULT NULL，plan_line_filter IN NUMBER DEFAULT NULL，event_detail IN VARCHAR2 DEFAULT'YES'，bucket_max_count IN NUMBER DEFAULT 128，bucket_interval IN NUMBER DEFAULT NULL，base_path IN VARCHAR2 DEFAULT NULL，last_refresh_time IN DATE DEFAULT NULL，report_level IN VARCHAR2 DEFAULT'TYPICAL'，输入IN VARCHAR2 DEFAULT'TEXT'，sql_plan_hash_value IN NUMBER DEFAULT NULL，con_name IN VARCHAR2 DEFAULT NULL）RETURN CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-04851EB0-32AB-424C-91A1-65AD9220A690__GUID-89744270-573B-483E-B789-5425112FF90D">参数</p>
                        <div class="tblformal" id="GUID-04851EB0-32AB-424C-91A1-65AD9220A690__GUID-9F5AA0D2-9D73-4654-9081-6F1274A79F01">
                           <p class="titleintable">表157-5 <span class="italic"><span class="bold">REPORT_SQL_MONITOR过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_SQL_MONITOR过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_MONITOR.REPORT_SQL_MONITOR subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d884171e1272">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d884171e1275">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1280" headers="d884171e1272 ">
                                       <p><code class="codeph">SQL_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1280 d884171e1275 ">
                                       <p>应显示监视信息的简单数据库操作的<code class="codeph">SQL_ID</code> 。使用<code class="codeph">NULL</code> （缺省值）显示Oracle监视的上一个简单数据库操作的监视信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1293" headers="d884171e1272 ">
                                       <p><code class="codeph">dbop_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1293 d884171e1275 ">
                                       <p><code class="codeph">DBOP_NAME</code> ，显示复合数据库操作的监视信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1303" headers="d884171e1272 ">
                                       <p><code class="codeph">dbop_exec_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1303 d884171e1275 ">
                                       <p>显示监视信息的复合数据库操作的执行ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1311" headers="d884171e1272 ">
                                       <p><code class="codeph">SESSION_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1311 d884171e1275 ">
                                       <p>仅定位代表指定会话执行和监视的语句子集。默认值为<code class="codeph">NULL</code> 。对当前会话使用<code class="codeph">-1</code>或<code class="codeph">USERENV('SID')</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1328" headers="d884171e1272 ">
                                       <p><code class="codeph">session_serial</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1328 d884171e1275 ">
                                       <p>除了<code class="codeph">session_id</code> ，您还可以指定会话序列号，以确保定位所需的会话化身。当<code class="codeph">session_id</code>为<code class="codeph">NULL</code>时，将忽略此项。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1345" headers="d884171e1272 ">
                                       <p><code class="codeph">sql_exec_start</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1345 d884171e1275 ">
                                       <p>执行受监控SQL的时间。仅在指定<code class="codeph">sql_id</code>时适用。用于显示<code class="codeph">sql_id</code>的特定执行的监视信息。当<code class="codeph">NULL</code> （默认值）时，显示<code class="codeph">sql_id</code>的最后一次执行。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1365" headers="d884171e1272 ">
                                       <p><code class="codeph">sql_exec_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1365 d884171e1275 ">
                                       <p>SQL监视器在内部生成的数字ID，用于标识同一SQL语句的不同执行。因此，每次执行都将具有相同的<code class="codeph">sql_id</code>但具有不同的<code class="codeph">sql_exec_id</code> 。仅在指定<code class="codeph">sql_id</code>时适用，并用于显示特定<code class="codeph">sql_id</code>执行的监视信息。当<code class="codeph">NULL</code> （默认值）时，显示<code class="codeph">sql_id</code>的最后一次执行。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1392" headers="d884171e1272 ">
                                       <p><code class="codeph">INST_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1392 d884171e1275 ">
                                       <p>仅查看在指定实例上启动的查询。使用<code class="codeph">-1</code>来定位当前实例。默认<code class="codeph">NULL</code>将以所有实例为目标。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1406" headers="d884171e1272 ">
                                       <p><code class="codeph">start_time_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1406 d884171e1275 ">
                                       <p>如果不为<code class="codeph">NULL</code> ，则报告显示此日期之后开始的<code class="codeph">V$ACTIVE_SESSION_HISTORY</code>活动。如果为<code class="codeph">NULL</code> ，则在目标数据库操作开始后，报告的活动将启动。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1423" headers="d884171e1272 ">
                                       <p><code class="codeph">end_time_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1423 d884171e1275 ">
                                       <p>如果不为<code class="codeph">NULL</code> ，则报告显示在此日期之前启动的<code class="codeph">V$ACTIVE_SESSION_HISTORY</code>活动。如果为<code class="codeph">NULL</code> ，则报告的活动在目标数据库操作结束时结束，如果操作仍在执行，则结束<code class="codeph">SYSDATE</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1443" headers="d884171e1272 ">
                                       <p><code class="codeph">instance_id_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1443 d884171e1275 ">
                                       <p>仅查看指定实例的活动。使用<code class="codeph">NULL</code> （默认值）来定位所有实例。仅在查询并行运行时才相关。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1455" headers="d884171e1272 ">
                                       <p><code class="codeph">parallel_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1455 d884171e1275 ">
                                       <p>并行过滤器仅适用于并行执行，并允许您仅选择并行执行中涉及的过程的子集。字符串<code class="codeph">parallel_filter</code>可以是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">NULL</code> - 将所有并行执行服务器以及查询协调器作为目标</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">['qc'][servers(&lt;svr_grp&gt;[,] &lt;svr_set&gt;[,] &lt;srv_num&gt;)]</code>其中任何<code class="codeph">NULL</code>值都被解释为<code class="codeph">ALL</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1482" headers="d884171e1272 ">
                                       <p><code class="codeph">plan_line_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1482 d884171e1275 ">
                                       <p>为SQL的计划中的指定行号选择活动和执行统计信息。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1490" headers="d884171e1272 ">
                                       <p><code class="codeph">event_detail</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1490 d884171e1275 ">
                                       <p>设置为<code class="codeph">NO</code> ，活动仅由<code class="codeph">wait_class</code>聚合。使用<code class="codeph">YES</code> （默认值）按<code class="codeph">wait_class</code> ， <code class="codeph">event_name</code>聚合。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1513" headers="d884171e1272 ">
                                       <p><code class="codeph">bucket_max_count</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1513 d884171e1275 ">
                                       <p>指定要在报告中创建的最大桶数</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1521" headers="d884171e1272 ">
                                       <p><code class="codeph">bucket_interval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1521 d884171e1275 ">
                                       <p>表示所有直方图存储桶的确切时间间隔（以秒为单位）。如果指定，则忽略<code class="codeph">bucket_max_count</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1532" headers="d884171e1272 ">
                                       <p><code class="codeph">BASE_PATH</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1532 d884171e1275 ">
                                       <p>Flex HTML资源的URL路径，因为flex HTML格式需要访问外部文件（Java脚本和Flash <code class="codeph">swf</code>文件）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1543" headers="d884171e1272 ">
                                       <p><code class="codeph">last_refresh_time</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1543 d884171e1275 ">
                                       <p>如果不为<code class="codeph">NULL</code> （默认值），则表示上次检索报告的时间（报告标记的<code class="codeph">SYSDATE</code>属性）。如果要显示正在运行的查询的报告以及定期刷新该报告，请使用此选项。这样可以优化报告的大小，因为只返回新更改的信息。特别是，以下将进行优化：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>指定此选项时，不会返回SQL文本</p>
                                          </li>
                                          <li>
                                             <p>活动直方图将从与该时间相交的桶开始。即使<code class="codeph">last_refresh_time</code>在该存储桶的开始之后，也会返回存储桶的全部内容</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1567" headers="d884171e1272 ">
                                       <p><code class="codeph">report_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1567 d884171e1275 ">
                                       <p>报告的详细程度。在以下内容中，只能指定一个：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">NONE</code> ：可能性最小</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BASIC</code> ：这相当于<code class="codeph">sql_text-plan-xplan-sessions-instance-activity_histogram-plan_histogram-metrics</code> ，其中令牌“ <code class="codeph">-</code> ”表示报告部分不会包含在报告中。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code> ：除了<code class="codeph">plan_histogram</code>所有东西</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> ：一切</p>
                                          </li>
                                       </ul>
                                       <p>此外，还可以使用<code class="codeph">±</code> <span class="italic"><code class="codeph">section_name</code></span>启用或禁用单个报告部分。定义了几个部分：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">XPLAN</code> ：显示解释计划。默认为<code class="codeph">ON</code> 。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PLAN</code> ：显示计划监控统计信息。默认为<code class="codeph">ON</code> 。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SESSIONS</code> ：显示会话详细信息。仅适用于并行查询。默认为<code class="codeph">ON</code> 。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INSTANCE</code> ：显示实例详细信息。仅适用于并行和跨实例查询。默认为<code class="codeph">ON</code> 。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PARALLEL</code> ：用于指定会话和实例详细信息的伞形参数</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ACTIVITY</code> ：在全局级别，计划行级别和会话中显示活动摘要</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INSTANCE</code> <code class="codeph">LEVEL</code> :(如适用）。 <code class="codeph"> 默认为ON</code> 。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BINDS</code> ：显示可用时的绑定信息。默认为<code class="codeph">ON</code> 。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">METRICS</code> ：随时间显示度量标准数据（如CPU和IO）。默认为<code class="codeph">ON</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ACTIVITY_HISTOGRAM</code> ：显示整个查询活动的直方图。默认为<code class="codeph">ON</code> 。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PLAN_HISTOGRAM</code> ：在计划行级别显示活动直方图。默认为<code class="codeph">OFF</code> 。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OTHER</code> ：其他信息。默认为<code class="codeph">ON</code> 。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>此外，可以在不同级别指定SQL文本：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">-SQL_TEXT</code> ：报告中没有SQL文本</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">+SQL_TEXT</code> ：好的部分SQL文本，即存储在<code class="codeph">GV$SQL_MONITOR</code>的前2000个字符</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SQL_FULLTEXT</code> ：没有完整的SQL文本，即<code class="codeph">+sql_text</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">+SQL_FULLTEXT</code> ：显示完整的SQL文本（默认）</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1734" headers="d884171e1272 ">
                                       <p><code class="codeph">类型</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1734 d884171e1275 ">
                                       <p>报告类型：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TEXT</code> ：文本报告（默认）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">HTML</code> ：简单的HTML报告</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ACTIVE</code> ：数据库活动报告。仅在选择此类型时才会显示某些信息（说明计划， <code class="codeph">activity_histogram</code> ，metrics和<code class="codeph">plan_histogram</code> ）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">XML</code> ：报告的原始数据</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1769" headers="d884171e1272 ">
                                       <p><code class="codeph">sql_plan_hash_value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1769 d884171e1275 ">
                                       <p>仅定位具有指定计划哈希值的那些。默认值为<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e1780" headers="d884171e1272 ">
                                       <p><code class="codeph">con_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e1780 d884171e1275 ">
                                       <p>多租户数据库中的容器名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-04851EB0-32AB-424C-91A1-65AD9220A690__GUID-B48B1496-8340-4E3E-B096-687B9BC65844">返回值</p>
                        <p>SQL监视器报告，一个XML文档。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-04851EB0-32AB-424C-91A1-65AD9220A690__GUID-EF6801E4-1AF8-450D-A9EC-545133451F2C">使用说明</p>
                        <p>调用此函数的用户必须具有访问以下固定视图的权限：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">GV $ SQL_MONITOR</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">GV $ SQL_PLAN_MONITOR</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">GV $ ACTIVE_SESSION_HISTORY</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">GV $ SESSION_LONGOPS</code></p>
                           </li>
                           <li>
                              <p>如果请求SQL全文且其长度大于2 KB，则为<code class="codeph">GV$SQL</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-E41600C9-8116-4DFD-B479-E0BFA10506A2" name="GUID-E41600C9-8116-4DFD-B479-E0BFA10506A2"></a><h4 id="ARPLS-GUID-E41600C9-8116-4DFD-B479-E0BFA10506A2" class="sect4"><span class="enumeration_section">157.4.4</span> REPORT_SQL_MONITOR_XML函数</h4>
                  <div>
                     <p><span>此函数与<code class="codeph">REPORT_SQL_MONITOR</code>函数相同，只是返回类型是<code class="codeph">XMLType</code> 。</span></p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_SQL_MONITOR.html#GUID-04851EB0-32AB-424C-91A1-65AD9220A690" title="此函数构建详细报告，其中包含SQL语句，PL / SQL块或数据库操作的监视信息。">REPORT_SQL_MONITOR函数</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS74842"></a><a id="ARPLS74843"></a><a id="ARPLS74843"></a><a id="ARPLS74842"></a><div class="props_rev_3"><a id="GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4" name="GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4"></a><h4 id="ARPLS-GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4" class="sect4"><span class="enumeration_section">157.4.5</span> REPORT_SQL_MONITOR_LIST函数</h4>
                  <div>
                     <p><span>此函数为Oracle数据库监视的所有或部分数据库操作构建报告。</span></p>
                     <div class="section">
                        <p>对于每个数据库操作，它提供关键信息和相关的全局统计信息。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4__GUID-6EBBFA15-DF03-4300-9716-511EE0FAE530">句法</p><pre class="pre codeblock"><code>DBMS_SQL_MONITOR.REPORT_SQL_MONITOR_LIST（sql_id IN VARCHAR2 DEFAULT NULL，dbop_name IN VARCHAR2 DEFAULT NULL，monitor_type IN NUMBER DEFAULT MONITOR_TYPE_ALL，session_id IN NUMBER DEFAULT NULL，session_serial IN NUMBER DEFAULT NULL，inst_id IN NUMBER DEFAULT NULL，active_since_date IN DATE DEFAULT NULL，active_since_sec IN NUMBER DEFAULT NULL，last_refresh_time IN DATE DEFAULT NULL，report_level IN VARCHAR2 DEFAULT'TYPICAL'，auto_refresh IN NUMBER DEFAULT NULL，base_path IN VARCHAR2 DEFAULT NULL，输入IN VARCHAR2 DEFAULT'TEXT'，con_name IN VARCHAR2 DEFAULT NULL）RETURN CLOB;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4__GUID-8BFE44E2-C827-4606-98C2-5B376C770B60">参数</p>
                        <div class="tblformal" id="GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4__GUID-E14C43BB-3900-4890-91BB-6461BF2B8963">
                           <p class="titleintable">表157-6 <span class="italic"><span class="bold">REPORT_SQL_MONITOR_LIST过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_SQL_MONITOR_LIST过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_SQL_MONITOR.REPORT_SQL_MONITOR_LIST subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d884171e2040">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d884171e2043">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2048" headers="d884171e2040 ">
                                       <p><code class="codeph">SQL_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2048 d884171e2043 ">
                                       <p>应显示监视信息的简单数据库操作的<code class="codeph">SQL_ID</code> 。使用<code class="codeph">NULL</code> （默认）显示Oracle数据库监控的上一个操作的监视信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2061" headers="d884171e2040 ">
                                       <p><code class="codeph">dbop_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2061 d884171e2043 ">
                                       <p><code class="codeph">DBOP_NAME</code> ，显示复合数据库操作的监视信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2071" headers="d884171e2040 ">
                                       <p><code class="codeph">MONITOR_TYPE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2071 d884171e2043 ">
                                       <p>监控类型：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">MONITOR_TYPE_SQL</code>仅返回简单的数据库操作</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MONITOR_TYPE_DBOP</code>返回复合数据库操作</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MONITOR_TYPE_ALL</code>返回所有类型</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2095" headers="d884171e2040 ">
                                       <p><code class="codeph">SESSION_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2095 d884171e2043 ">
                                       <p>仅定位代表指定会话执行和监视的数据库操作的子集。默认值为<code class="codeph">NULL</code> 。对当前会话使用<code class="codeph">-1</code>或<code class="codeph">USERENV('SID')</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2112" headers="d884171e2040 ">
                                       <p><code class="codeph">session_serial</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2112 d884171e2043 ">
                                       <p>除了<code class="codeph">session_id</code> ，您还可以指定会话序列号，以确保定位所需的会话化身。当<code class="codeph">session_id</code>为<code class="codeph">NULL</code>时，将忽略此项。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2129" headers="d884171e2040 ">
                                       <p><code class="codeph">INST_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2129 d884171e2043 ">
                                       <p>仅查看源自指定实例的受监视数据库操作。使用<code class="codeph">-1</code>来定位执行报告的实例。要定位所有实例，请使用<code class="codeph">NULL</code> （默认值）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2143" headers="d884171e2040 ">
                                       <p><code class="codeph">active_since_date</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2143 d884171e2043 ">
                                       <p>如果不为<code class="codeph">NULL</code> （默认值），则返回自指定时间以来一直处于活动状态的受监视数据库操作。这包括正在执行的所有操作，以及在指定的开始时间之后完成执行的所有操作。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2154" headers="d884171e2040 ">
                                       <p><code class="codeph">active_since_sec</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2154 d884171e2043 ">
                                       <p>如果不为<code class="codeph">NULL</code> （默认值），则返回自指定时间以来一直处于活动状态的受监视数据库操作。这包括正在执行的所有操作，以及在指定日期和时间之后完成执行的所有操作。在这种情况下，相对于当前<code class="codeph">SYSDATE</code>指定的开始时间减去指定的秒数。例如，使用3600将报告限制为过去1小时内处于活动状态的所有操作。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2168" headers="d884171e2040 ">
                                       <p><code class="codeph">last_refresh_time</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2168 d884171e2043 ">
                                       <p>如果不为<code class="codeph">NULL</code> （默认值），则表示上次检索列表报告的时间。这样可以优化应用程序显示列表并定期刷新报表（例如每5秒一次）的情况。在这种情况下，报告将显示自指定的<code class="codeph">last_refresh_time</code>以来一直处于活动状态的受监视查询的执行详细信息。对于其他查询，报告返回执行密钥（ <code class="codeph">sql_id</code> ， <code class="codeph">sql_exec_start</code>和<code class="codeph">sql_exec_id</code> ）。此外，对于在指定日期之后具有第一次刷新时间的查询，仅返回SQL执行密钥和统计信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2191" headers="d884171e2040 ">
                                       <p><code class="codeph">report_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2191 d884171e2043 ">
                                       <p>报告的详细程度。级别可以是<code class="codeph">BASIC</code> （SQL文本最多200个字符）， <code class="codeph">TYPICAL</code> （包括完整的SQL文本，假设游标没有老化，在这种情况下，SQL文本最多包含2000个字符），或者<code class="codeph">ALL</code>是相同的<code class="codeph">TYPICAL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2211" headers="d884171e2040 ">
                                       <p><code class="codeph">自动刷新</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2211 d884171e2043 ">
                                       <p>指定在受监视的SQL或数据库操作仍在执行时自动刷新报告数据的持续时间（以秒为单位）。这适用于活动报告类型。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2220" headers="d884171e2040 ">
                                       <p><code class="codeph">BASE_PATH</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2220 d884171e2043 ">
                                       <p>flex HTML资源的URL路径，因为flex HTML格式需要访问外部文件（java脚本和flash <code class="codeph">swf</code>文件）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2231" headers="d884171e2040 ">
                                       <p><code class="codeph">类型</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2231 d884171e2043 ">
                                       <p>报告类型：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TEXT</code> ：文本报告（默认）</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">HTML</code> ：简单的HTML报告</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ACTIVE</code> ：数据库活动报告。仅在选择此类型时才会显示某些信息（说明计划， <code class="codeph">activity_histogram</code> ，metrics和<code class="codeph">plan_histogram</code> ）。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">XML</code> ：报告的原始数据</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d884171e2266" headers="d884171e2040 ">
                                       <p><code class="codeph">con_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d884171e2266 d884171e2043 ">
                                       <p>多租户数据库中的容器名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4__GUID-4FC2695B-E057-4928-B1A7-52AA33C51003">返回值</p>
                        <p>包含受监视数据库操作列表的文本，XML或HTML格式的报告。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4__GUID-7A2597FF-50D2-4567-9B91-1325A5209118">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<a href="DBMS_SQL_MONITOR.html#GUID-04851EB0-32AB-424C-91A1-65AD9220A690" title="此函数构建详细报告，其中包含SQL语句，PL / SQL块或数据库操作的监视信息。">REPORT_SQL_MONITOR函数</a>获取单个数据库操作的详细监视信息。
                              </p>
                           </li>
                           <li>
                              <p>调用此函数的用户需要具有访问固定视图<code class="codeph">GV$SQL_MONITOR</code>和<code class="codeph">GV$SQL</code>的权限。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-F3549005-FA48-4AF2-8E3B-B3D1B02CF489" name="GUID-F3549005-FA48-4AF2-8E3B-B3D1B02CF489"></a><h4 id="ARPLS-GUID-F3549005-FA48-4AF2-8E3B-B3D1B02CF489" class="sect4"><span class="enumeration_section">157.4.6</span> REPORT_SQL_MONITOR_LIST_XML函数</h4>
                  <div>
                     <p><span>此函数与<code class="codeph">REPORT_SQL_MONITOR_LIST</code>函数相同，只是它返回<code class="codeph">XMLType</code> 。</span></p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_SQL_MONITOR.html#GUID-8E1AB71C-0167-4895-B72D-45B1C1B222C4" title="此函数为Oracle数据库监视的所有或部分数据库操作构建报告。">REPORT_SQL_MONITOR_LIST函数</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00915.configure-appc-gateway-using-tcp-ip.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>使用TCP / IP通信协议配置网关</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Installation and Configuration Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Installation and Configuration Guide for Microsoft Windows"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-appc-installation-and-configuration-guide-microsoft-windows.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T19:10:00-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18240-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configure-appc-gateway-using-sna.html" title="Previous" type="text/html"></link>
      <link rel="next" href="appc-gateway-security-requirements.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC Installation and Configuration Guide for Microsoft Windows"></meta>
    <meta name="dcterms.isVersionOf" content="APPCW"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configure-appc-gateway-using-sna.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="appc-gateway-security-requirements.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安装和配置指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用TCP / IP通信协议配置网关</li>
            </ol>
            <a id="GUID-2E8F3302-CA66-45F1-A0F0-241FDEC9EBCE" name="GUID-2E8F3302-CA66-45F1-A0F0-241FDEC9EBCE"></a><a id="APPCW215"></a>
            
            <h2 id="APPCW-GUID-2E8F3302-CA66-45F1-A0F0-241FDEC9EBCE" class="sect2"><span class="enumeration_chapter">9</span>使用TCP / IP通信协议配置网关</h2>
         </header>
         <div class="ind">
            <div>
               <p>以下主题概述了在Microsoft Windows平台上使用TCP / IP for IMS Connect为网关配置Oracle数据库的步骤。它们还提供了验证网关和OLTP组件的安装和配置的步骤。</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-07D12664-17E3-4DC4-B3C8-3BD452A44675">在你开始之前</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A">准备配置网关安装/升级</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C">配置Oracle数据库：首次安装</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-9883203F-7CBC-484D-BCC3-CA836A9946B1">从以前的网关升级或迁移Oracle数据库</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6">允许多个用户的可选配置步骤</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-4401EF36-6A5E-4DF2-8FB8-57D8EEFEDB92">配置网关的TCP / IP</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189">配置网关</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-7FBE512D-4608-482A-8F27-EFBFF6BAE583">加载PGA_TCP_IMSC表</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-8D4B842E-0CF0-4072-8FF6-3AC0737A7D00">验证网关安装和OLTP配置</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-7FB56CC9-2004-4716-9DF5-4082EC028816">执行安装后程序</a></p>
                  </li>
               </ul>
               <p><a id="d11914e82" class="indexterm-anchor"></a><a id="d11914e88" class="indexterm-anchor"></a>使用针对IMS Connect的TCP / IP支持为APPC配置Oracle数据库网关涉及使用以下组件：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p>Oracle数据库</p>
                  </li>
                  <li>
                     <p>你的Windows系统</p>
                  </li>
                  <li>
                     <p>你的网络</p>
                  </li>
                  <li>
                     <p>OLTP</p>
                  </li>
               </ul>
            </div><a id="APPCW216"></a><div class="props_rev_3"><a id="GUID-07D12664-17E3-4DC4-B3C8-3BD452A44675" name="GUID-07D12664-17E3-4DC4-B3C8-3BD452A44675"></a><h3 id="APPCW-GUID-07D12664-17E3-4DC4-B3C8-3BD452A44675" class="sect3">在你开始之前</h3>
               <div>
                  <p>以下主题要求您输入系统特有的参数，以便正确配置网关和TCP / IP通信接口。</p>
                  <p>有关列出完成配置过程之前需要了解的安装参数的工作<a href="appc-gateway-configuration-worksheet.html#GUID-96B6C85D-6B37-42C7-ADE0-5752F46AF88A">表</a> ，请参阅<a href="appc-gateway-configuration-worksheet.html#GUID-96B6C85D-6B37-42C7-ADE0-5752F46AF88A">配置工作</a>表。在开始之前，请让网络管理员为您提供这些唯一的参数名称。
                  </p>
               </div>
            </div><a id="APPCW321"></a><a id="APPCW322"></a><a id="APPCW323"></a><a id="APPCW217"></a><div class="props_rev_3"><a id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A" name="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A"></a><h3 id="APPCW-GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A" class="sect3">准备配置网关安装/升级</h3>
               <div>
                  <div class="section">
                     <p>在安装或升级/迁移网关时，有三种方法可以建立网关 -  Oracle数据库关系：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011353">当Oracle数据库和网关安装在同一台机器上的同一ORACLE_HOME中时</a> ;</p>
                        </li>
                        <li>
                           <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011368">当Oracle数据库和网关安装在不同的机器上时</a> ;要么</p>
                        </li>
                        <li>
                           <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011275">当Oracle数据库和网关位于同一台计算机上但位于不同目录中时</a></p>
                        </li>
                     </ul>
                     <p><a id="d11914e214" class="indexterm-anchor"></a><a id="d11914e218" class="indexterm-anchor"></a><a id="d11914e222" class="indexterm-anchor"></a>根据网关和Oracle数据库的位置，您可能需要将某些网关管理文件传输到安装Oracle数据库的位置。
                     </p>
                     <p>按照适合您下面列出的网关-Oracle数据库位置组合的说明进行操作。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011353">
                     <p class="subhead2" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__GUID-CB489B5A-2B9A-4376-92D2-A9D9E79F7BCB">当Oracle数据库和网关安装在同一台机器上的同一ORACLE_HOME中时</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您不需要传输文件。继续<span class="q">“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C">配置Oracle数据库：首次安装</a> ”</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011368">
                     <p class="subhead2" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__GUID-67C72431-4FE7-4DF9-BC56-487482A6A4BA">当Oracle数据库和网关安装在不同的计算机上时</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ol>
                        <li>
                           <p>在网关<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中找到网关管理文件。此目录中所有文件的后缀为<code class="codeph">.sql</code> ， <code class="codeph">.pkh</code> ， <span class="bold"> </span>必须将<code class="codeph">.pkb</code>复制到Oracle数据库的Oracle主目录中具有类似名称的目录中。
                           </p>
                        </li>
                        <li>
                           <p>现在，在网关<code class="codeph">%ORACLE_HOME%\dg4appc\demo</code>目录中找到网关演示文件和子目录。将<code class="codeph">pgavsn.sql</code>和<code class="codeph">pgaecho.sql</code>文件复制到Oracle数据库中名称相似的目录中。
                           </p>
                        </li>
                        <li>
                           <p>将<code class="codeph">pgaims.sql</code>文件从网关Oracle主目录<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code>目录<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code>到Oracle数据库的Oracle主目录<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code>目录。
                           </p>
                        </li>
                        <li>
                           <p>可选步骤：如果要运行<code class="codeph">IVTNV</code>和<code class="codeph">IVTNO</code> ，则需要将<code class="codeph">ivtno.ctl</code> ， <code class="codeph">ivtnod.sql</code> ， <code class="codeph">ivtnv.ctl</code>和<code class="codeph">ivtnvd.sql</code>文件复制到Oracle数据库的Oracle主目录<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code>目录也是如此。确保生成所需的TIP并将其传输。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011275">
                     <p class="subhead2" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__GUID-C2C2EF5C-EEE3-492C-981B-362CFD4AC10D">当Oracle数据库和网关位于同一台计算机上但位于不同目录中时</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您必须将网关的Oracle主目录更改为Oracle数据库的Oracle主目录。</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>例如，如果您的网关的Oracle主目录设置如下：</span><div><pre class="oac_no_warn" dir="ltr">C：\&gt; echo％ORACLE_HOME％C：\ oracle \ pga \ 12.2</pre><p>并且您的服务器的Oracle主目录位于' <code class="codeph">\oracle\pga\12.2'</code>目录中，然后您需要执行以下操作：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; SET ORACLE_HOME = C：\ oracle \ pga \ 12.2</pre></div>
                     </li>
                     <li class="stepexpand"><span>现在，使用以下命令创建目录：</span><div><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％C：\&gt; mkdir dg4appc C：\&gt; mkdir dg4appc \ admin C：\&gt; mkdir dg4appc \ demo C：\&gt; mkdir dg4appc \ demo \ IMS</pre></div>
                     </li>
                     <li class="stepexpand"><span>使用系统上可用的任何文件传输机制将所有<code class="codeph">.sql</code> ， <code class="codeph">.pkh</code>和<code class="codeph">.pkb</code>文件从网关的Oracle主目录<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>到Oracle数据库的Oracle主目录<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录。</span></li>
                     <li class="stepexpand"><span>您还可以将演示文件从网关目录传输到Oracle数据库目录。将pgavsn.sql和<code class="codeph">pgaecho.sql</code>文件<code class="codeph">and</code>目录以递归方式从网关Oracle主目录的<code class="codeph">%ORACLE_HOME%\dg4appc\demo</code>目录<code class="codeph">%ORACLE_HOME%\dg4appc\demo</code>到Oracle数据库的<code class="codeph">%ORACLE_HOME%\dg4appc\demo</code>目录。</span></li>
                     <li class="stepexpand"><span>你也可以复制<a id="d11914e374" class="indexterm-anchor"></a> <code class="codeph">pgaims.sql</code>文件从网关Oracle主页<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code>目录到Oracle数据库Oracle主目录<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code>目录。</span><div>
                           <p>可选步骤：如果要运行<code class="codeph">IVTNV</code>和<code class="codeph">IVTNO</code> ，则需要将<code class="codeph">ivtno.ctl</code> ， <code class="codeph">ivtnod.sql</code> ， <code class="codeph">ivtnv.ctl</code>和<code class="codeph">ivtnvd.sql</code>文件复制到Oracle数据库的Oracle主目录<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code>目录也是如此。确保生成所需的TIP并将其传输。
                           </p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>继续<span class="q">“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C">配置Oracle数据库：首次安装</a> ”</span> 。执行这些步骤后，您可能需要执行“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6">允许多个用户</a>的<a href="configure-appc-gateway-using-tcp-ip.html#GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6">可选配置步骤”，“允许多个用户的</a> <a href="configure-appc-gateway-using-tcp-ip.html#GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6">可选配置步骤”</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW218"></a><div class="props_rev_3"><a id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C" name="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C"></a><h3 id="APPCW-GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C" class="sect3">配置Oracle数据库：首次安装</h3>
               <div>
                  <div class="section">
                     <p>请按照以下步骤配置<a id="d11914e460" class="indexterm-anchor"></a>安装Oracle Database Gateway for APPC后的Oracle数据库。</p>
                     <ol>
                        <li>
                           <p>确保<a id="d11914e471" class="indexterm-anchor"></a><a id="d11914e473" class="indexterm-anchor"></a><a id="d11914e477" class="indexterm-anchor"></a> <code class="codeph">UTL_RAW</code> PL / SQL包已安装在Oracle数据库中。<a id="d11914e486" class="indexterm-anchor"></a><a id="d11914e492" class="indexterm-anchor"></a>所有PGAU生成的TIP规范都使用<code class="codeph">UTL_RAW</code> ，它提供了操作原始数据的例程。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>使用<a id="d11914e504" class="indexterm-anchor"></a> SQL * Plus以用户<code class="codeph">SYS</code>身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE UTL_RAW</pre><p><code class="codeph">DESCRIBE</code>语句在屏幕上生成输出。如果浏览输出，则应该看到一些函数，包括比较函数。如果没有看到此输出，请执行步骤<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1009553">1.d</a>继续安装<code class="codeph">UTL_RAW</code> 。
                                 </p>
                                 <p>如果<a id="d11914e530" class="indexterm-anchor"></a><a id="d11914e534" class="indexterm-anchor"></a> <code class="codeph">DESCRIBE</code>语句表示成功，然后是Oracle数据库<a id="d11914e539" class="indexterm-anchor"></a> <code class="codeph">UTL_RAW</code>安装<code class="codeph">UTL_RAW</code> ，您可以继续执行步骤<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1009086">2</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>使用SQL * Plus以<code class="codeph">SYS</code>身份连接到Oracle数据库。</p>
                              </li>
                              <li id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1009553">
                                 <p>从SQL * Plus，运行<a id="d11914e556" class="indexterm-anchor"></a><a id="d11914e560" class="indexterm-anchor"></a> utlraw.sql和<a id="d11914e565" class="indexterm-anchor"></a><a id="d11914e567" class="indexterm-anchor"></a> Oracle数据库<code class="codeph">%ORACLE_HOME%\rdbms\admin</code>目录中的<code class="codeph">prvtrawb.plb</code>脚本，顺序如下：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ rdbms \ admin SQL&gt; @ utlraw.sql SQL&gt; @ prvtrawb.sql</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1009086">
                           <p>确保<code class="codeph">DBMS_OUTPUT</code>标准PL / SQL <a id="d11914e585" class="indexterm-anchor"></a><a id="d11914e587" class="indexterm-anchor"></a><a id="d11914e591" class="indexterm-anchor"></a>包已启用<a id="d11914e596" class="indexterm-anchor"></a> Oracle数据库。分发介质上的示例程序和安装验证程序使用此标准程序包。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>如有必要，请使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE DBMS_OUTPUT</pre><p>该<a id="d11914e615" class="indexterm-anchor"></a><a id="d11914e619" class="indexterm-anchor"></a> <code class="codeph">DESCRIBE</code>语句在屏幕上生成输出。如果您浏览该输出，那么您应该看到一些功能，包括a <a id="d11914e626" class="indexterm-anchor"></a><a id="d11914e628" class="indexterm-anchor"></a> put_line函数。
                                 </p>
                                 <p>如果没有看到此输出，则必须创建<code class="codeph">DBMS_OUTPUT</code>包。有关<code class="codeph">DBMS_OUTPUT</code>程序包的更多信息，请参阅<a href="../arpls/DBMS_OUTPUT.html#ARPLS036" target="_blank"><span class="italic">Oracle数据库PL / SQL程序包和类型参考</span></a> 。成功安装<code class="codeph">DBMS_OUTPUT</code>包后，发出<code class="codeph">DESCRIBE</code>语句。
                                 </p>
                                 <p>如果<code class="codeph">DESCRIBE</code>语句指示成功，则Oracle数据库已创建<code class="codeph">DBMS_OUTPUT</code> ，您可以继续执行步骤3。
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>安装<a id="d11914e663" class="indexterm-anchor"></a><a id="d11914e667" class="indexterm-anchor"></a> <code class="codeph">UTL_PG</code> PL / SQL包。所有<a id="d11914e674" class="indexterm-anchor"></a><a id="d11914e680" class="indexterm-anchor"></a> PGAU生成的TIP规范使用<code class="codeph">UTL_PG</code> ，它提供了与原始数据进行数字转换的例程。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>如有必要，请使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，运行<a id="d11914e698" class="indexterm-anchor"></a><a id="d11914e702" class="indexterm-anchor"></a> Oracle数据库的<code class="codeph">%ORACLE_HOME%\rdbms\admin</code>目录中的<code class="codeph">utlpg.sql</code>和<code class="codeph">prvtpgb.plb</code>脚本，顺序如下：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ rdbms \ admin SQL&gt; @ utlpg.sql SQL&gt; @ prvtpgb.plb</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>我安装了异构服务（HS）目录。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>如有必要，请使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE HS_FDS_CLASS</pre><p><code class="codeph">DESCRIBE</code>语句在屏幕上生成输出。如果<code class="codeph">DESCRIBE</code>语句指示成功，则已在Oracle数据库上创建了异构服务目录，您可以继续执行步骤<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1008586">5</a> 。
                                 </p>
                                 <p>如果<code class="codeph">DESCRIBE</code>语句未指示成功，则必须创建异构服务目录，并且必须执行以下步骤<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1011512">4.c</a> ：</p>
                              </li>
                              <li id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1011512">
                                 <p>如果需要创建异构服务目录，请输入以下命令：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ rdbms \ admin SQL&gt; @ caths.sql</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1008586">
                           <p><a id="d11914e765" class="indexterm-anchor"></a><a id="d11914e769" class="indexterm-anchor"></a>创建公共数据库链接以访问APPC的Oracle数据库网关： <a id="d11914e776" class="indexterm-anchor"></a> 
                           </p>
                           <p>使用<a id="d11914e783" class="indexterm-anchor"></a> SQL * Plus连接到<a id="d11914e788" class="indexterm-anchor"></a> Oracle数据库作为用户<code class="codeph">SYSTEM</code> 。您可以使用以下SQL * Plus <a id="d11914e794" class="indexterm-anchor"></a>表示Oracle数据库和网关是在同一系统上还是在不同系统上。在下面的示例中， <code class="codeph">pgasrv</code>是<span class="italic"><code class="codeph">tns_name_entry</code></span> ，稍后修改<code class="codeph">tnsnames.ora</code>文件时将分配给网关。
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt;使用<span class="italic">'PGASRV'</span>创建公共数据库链接PGA
</pre></li>
                        <li>
                           <p>创建网关管理员用户<a id="d11914e818" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code>并安装<a id="d11914e825" class="indexterm-anchor"></a> PG DD。</p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以用户<code class="codeph">SYSTEM</code>身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，运行<code class="codeph">pgacr8au.sql</code> <a id="d11914e843" class="indexterm-anchor"></a><a id="d11914e845" class="indexterm-anchor"></a> <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中的脚本。此脚本创建<code class="codeph">PGAADMIN</code>用户标识。</p>
                                 <p>定义的初始密码<a id="d11914e858" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code>是<code class="codeph">PGAADMIN</code> 。使用<a id="d11914e868" class="indexterm-anchor"></a><a id="d11914e870" class="indexterm-anchor"></a> <code class="codeph">ALTER USER</code>命令用于更改密码。有关密码问题的更多信息，请参阅<a href="../sqlrf/ALTER-USER.html#SQLRF01103" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                                 </p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ pgacr8au.sql</pre></li>
                              <li>
                                 <p>使用SQL * Plus以用户<code class="codeph">PGAADMIN</code>连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，运行<code class="codeph">pgddcr8.sql</code> <a id="d11914e896" class="indexterm-anchor"></a><a id="d11914e898" class="indexterm-anchor"></a><a id="d11914e902" class="indexterm-anchor"></a> <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中的脚本。此脚本安装PG DD。</p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ pgddcr8.sql</pre></li>
                              <li>
                                 <p>从SQL * Plus，以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p><a id="d11914e920" class="indexterm-anchor"></a>授予执行权限<a id="d11914e925" class="indexterm-anchor"></a> <code class="codeph">DBMS_PIPE</code>到<code class="codeph">PGAADMIN</code> ：<a id="d11914e933" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT EXECUTE DBMS_PIPE到PGAADMIN</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>确保<a id="d11914e942" class="indexterm-anchor"></a> <code class="codeph">pg4tcpmap</code>包已安装在Oracle数据库中。按照步骤a到c测试<code class="codeph">pg4tcpmap</code>正确安装。
                           </p>
                           <p>请参阅<span class="q">“ <a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-C9B3713C-E8A0-4D7A-A6C9-504B83D64733">输出为pg4tcpmap工具</a> ”，</span>在<a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-67D9D370-DB10-430B-93B8-BD8844DE7E3E">网关初始化参数为TCP / IP通信协议</a>从输出的样本<code class="codeph">pg4tcpmap</code>工具，并参考第6章<a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南</span></a>关于所需要的命令的详细信息运行该工具。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>使用<a id="d11914e975" class="indexterm-anchor"></a> SQL * Plus以用户<code class="codeph">SYSTEM</code>身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; select table_name，dba_tables的owner，table_name ='PGA_TCP_IMSC'，owner ='PGAADMIN'; SQL&gt;列所有者格式化10 SQL&gt;列index_name格式18 SQL&gt;列table_name格式化14 SQL&gt; select owner，index_name，table_name，来自dba_indexes的唯一性，其中index_name ='PGA_TCP_IMSC_IND';</pre><p>两个<code class="codeph">SELECT</code>语句都必须分别生成一行。以下是第一个select语句的结果：</p><pre class="oac_no_warn" dir="ltr">TABLE_NAME OWNER ------------------------------ ------------------ ------------ PGA_TCP_IMSC PGAADMIN</pre><p></p>
                                 <p>以下是第二个select语句的结果：</p><pre class="oac_no_warn" dir="ltr">所有者INDEX_NAME TABLE_NAME不确定---------- ------------------ -------------- ---- ----- PGAADMIN PGA_TCP_IMSC_IND PGA_TCP_IMSC UNIQUE</pre><p>如果select语句在屏幕上产生前面的输出，那么你可以跳过步骤C.如果select语句没有产生输出或多行，那么结果与上面描述的输出不同，并且它是必要的你执行步骤<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__BABIHCJJ">7.c.</a>
                                 </p>
                              </li>
                              <li id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__BABIHCJJ">
                                 <p>从SQL * Plus，运行<a id="d11914e1008" class="indexterm-anchor"></a> Oracle数据库的<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中的<code class="codeph">pgaimsc.sql</code>脚本：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ pgaimsc.sql</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>安装<a id="d11914e1021" class="indexterm-anchor"></a><a id="d11914e1025" class="indexterm-anchor"></a> TIP跟踪访问PL / SQL例程。这些例程需要<a id="d11914e1028" class="indexterm-anchor"></a> <code class="codeph">DBMS_PIPE</code>标准PL / SQL包<a id="d11914e1033" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code>具有执行权限。有关<code class="codeph">DBMS_PIPE</code>更多信息，请参阅<a href="../arpls/DBMS_PIPE.html#ARPLS038" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>如有必要，请使用SQL * Plus连接到<a id="d11914e1051" class="indexterm-anchor"></a> Oracle数据库作为用户<code class="codeph">PGAADMIN</code> 。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，运行<a id="d11914e1060" class="indexterm-anchor"></a> <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中的<code class="codeph">pgatiptr.sql</code>脚本。这个脚本创建<a id="d11914e1068" class="indexterm-anchor"></a> PL / SQL例程，可以调用它们来读取和清除由PGAU生成的跟踪信息<a id="d11914e1073" class="indexterm-anchor"></a>提示规格。它还为这些例程创建公共同义词。该脚本会提示您输入必要的用户标识和密码。
                                 </p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ pgatiptr.sql</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>安装<code class="codeph">GPGLOCAL</code>包。编译和执行所有PGAU生成时需要此包<a id="d11914e1086" class="indexterm-anchor"></a>提示规格。<a id="d11914e1091" class="indexterm-anchor"></a><a id="d11914e1095" class="indexterm-anchor"></a><a id="d11914e1099" class="indexterm-anchor"></a>应该授予TIP开发人员执行权限<a id="d11914e1104" class="indexterm-anchor"></a> <code class="codeph">GPGLOCAL</code> （请参阅<span class="q">“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6">允许多个用户的可选配置步骤</a> ”</span> ）。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以用户身份连接到Oracle数据库<a id="d11914e1119" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code> 。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，在<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中运行<code class="codeph">gpglocal.pkh</code>脚本。这个脚本编译<a id="d11914e1133" class="indexterm-anchor"></a><a id="d11914e1135" class="indexterm-anchor"></a> <code class="codeph">GPGLOCAL</code>包规范。<a id="d11914e1142" class="indexterm-anchor"></a><a id="d11914e1144" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ gpglocal.pkh</pre></li>
                              <li>
                                 <p>从SQL * Plus，在<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中运行<code class="codeph">gpglocal.pkb</code>脚本。该脚本编译<code class="codeph">GPGLOCAL</code>包体。<a id="d11914e1162" class="indexterm-anchor"></a><a id="d11914e1164" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ gpglocal.pkb</pre><div class="infoboxnote" id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__GUID-52205353-CF87-4B8A-87F8-76C5E9C3F7D9">
                                    <p class="notep1">注意：</p>
                                    <p><span class="bold">将通信协议从SNA更改为TCP / IP时重新编译TIP</span> ：</p>
                                    <p>如果您现有的TIP是使用SNA协议在网关上生成的，并且您希望使用新的TCP / IP功能，那么PGA必须使用强制<code class="codeph">NLS_LANGUAGE</code>和Side Profile Settings重新生成TIP。在<code class="codeph">DEFINE</code> <code class="codeph">TRANSACTION</code>命令中指定合适的ASCII字符集。
                                    </p>
                                    <p>这是因为网关假定正在使用IMS Connect中的适当用户出口，这将在适当的ASCII和EBCDIC字符集之间进行转换。</p>
                                 </div>
                              </li>
                           </ol>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW219"></a><div class="props_rev_3"><a id="GUID-9883203F-7CBC-484D-BCC3-CA836A9946B1" name="GUID-9883203F-7CBC-484D-BCC3-CA836A9946B1"></a><h3 id="APPCW-GUID-9883203F-7CBC-484D-BCC3-CA836A9946B1" class="sect3">从以前的网关升级或迁移Oracle数据库</h3>
               <div>
                  <div class="section">
                     <p>仅当您的系统上安装了以前版本的Oracle Database Gateway for APPC并且需要为网关的12 <span class="italic">c</span>版本21（12.2）配置它时，请遵循这些说明。
                     </p>
                     <ol>
                        <li>
                           <p>将Oracle Database Gateway for APPC升级到当前版本级别，如下所示：</p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>安装<code class="codeph">UTL_RAW</code>包体。从SQL * Plus，从<code class="codeph">%ORACLE_HOME%\rdbms\admin</code>目录运行<code class="codeph">prvtrawb.plb</code>脚本。该脚本升级<code class="codeph">UTL_RAW</code>包体。
                                 </p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ rdbms \ admin SQL&gt; @ prvtrawb.plb</pre></li>
                              <li>
                                 <p>安装<code class="codeph">UTL_PG</code>包体。从SQL * Plus，从<code class="codeph">%ORACLE_HOME%\rdbms\admin</code>目录运行<code class="codeph">prvtpgb.plb</code>脚本。此脚本升级<code class="codeph">UTL_PG</code>程序包主体。
                                 </p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ rdbms \ admin SQL&gt; @ prvtpgb.plb</pre></li>
                           </ol>
                           <p><code class="codeph">prvtrawb.plb</code>和<code class="codeph">prvtpgb.plb</code>脚本应该成功完成。如果由于规范不存在或无效而失败，请考虑按照“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A">如果必须重新安装软件包规范”中的说明重新安装软件包规范</a> 。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCW220"></a><div class="props_rev_3"><a id="GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A" name="GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A"></a><h4 id="APPCW-GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A" class="sect4">如果必须重新安装包规范</h4>
                  <div>
                     <div class="section">
                        <p>如果<code class="codeph">UTL_RAW</code>或<code class="codeph">UTL_PG</code>程序包已失效或删除，则<code class="codeph">prvtrawb.plb</code>和<code class="codeph">prvtpgb.plb</code>脚本可能无法成功完成，则可能必须重新安装程序包规范。
                        </p>
                        <p>如果确实重新安装了软件包规范，那么任何依赖对象（例如现有用户TIP和客户端应用程序）都将失效，随后需要重新编译。这种影响是一次性能延迟，同时重新编译TIP和从属客户端应用程序。</p>
                        <div class="infoboxnote" id="GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A__GUID-BFD9E9D3-CF9F-4DE9-970A-6F4A19983049">
                           <p class="notep1">注意：</p>
                           <p>在继续重新安装包脚本之前，请确保您位于<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中</p>
                        </div>
                        <p>TIP在版本3.3中被拆分为单独的规范和正文文件，以避免在以后的版本中进行级联重新编译。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>步骤1：在继续PGAU升级之前运行以下脚本：</p>
                              <ol>
                                 <li>
                                    <p>如有必要，请使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。</p>
                                 </li>
                                 <li>
                                    <p>从SQL * Plus，按以下顺序在Oracle数据库<code class="codeph">%ORACLE_HOME%\rdbms\admin</code>目录中运行<code class="codeph">utlraw.sql</code>和<code class="codeph">utlpg.sql</code>脚本，以升级其各自的包规范：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ rdbms \ admin SQL&gt; @ utlraw.sql SQL&gt; @ utlpg.sql</pre></li>
                              </ol>
                           </li>
                           <li>
                              <p>第2步：重复安装<code class="codeph">UTL_RAW</code>和<code class="codeph">UTL_PG</code>包体</p>
                           </li>
                        </ul>
                        <p>脚本运行后，重复<a href="configure-appc-gateway-using-tcp-ip.html#GUID-9883203F-7CBC-484D-BCC3-CA836A9946B1">从先前网关升级或迁移Oracle数据库中的</a>步骤1a和1b，然后继续<a href="configure-appc-gateway-using-tcp-ip.html#GUID-F632840A-F2C5-496A-83E4-CCABBF1F7F39">从以前的网关版本升级PGAU</a> 。
                        </p>
                        <div class="infoboxnote" id="GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A__GUID-DFE1FE94-FD94-4A78-B62C-2BD2431AEC2B">
                           <p class="notep1">注意：</p>
                           <p>重新安装软件包规范后，必须重新编译TIP和从属客户端应用程序。有关编译TIP的更多信息，请参阅“ <a href="../appug/creating-tip-oracle-database-gateway-appc.html#APPUG300" target="_blank"><span class="italic">Oracle Database Gateway for APPC用户指南”</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPCW221"></a><div class="props_rev_3"><a id="GUID-F632840A-F2C5-496A-83E4-CCABBF1F7F39" name="GUID-F632840A-F2C5-496A-83E4-CCABBF1F7F39"></a><h4 id="APPCW-GUID-F632840A-F2C5-496A-83E4-CCABBF1F7F39" class="sect4">从以前的网关版本升级PGAU</h4>
                  <div>
                     <div class="section">
                        <p>在执行新的PGAU之前，按如下方式升级PG DD：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>如有必要，请使用SQL * Plus以用户<code class="codeph">PGAADMIN</code>连接到Oracle数据库。</span></li>
                        <li class="stepexpand"><span>从SQL * Plus，在<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中运行<code class="codeph">pgddupgr.sql</code>脚本。此脚本升级PG DD。</span><div><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ pgddupgr.sql</pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="APPCW222"></a><div class="props_rev_3"><a id="GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6" name="GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6"></a><h3 id="APPCW-GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6" class="sect3">允许多个用户的可选配置步骤</h3>
               <div>
                  <div class="section">
                     <p>以下配置步骤是可选的。如果要允许除以外的用户，请执行这些步骤<a id="d11914e1494" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code>表演<a id="d11914e1501" class="indexterm-anchor"></a>使用PGAU的PG DD操作。</p>
                     <ol>
                        <li>
                           <p>创建<a id="d11914e1510" class="indexterm-anchor"></a><a id="d11914e1512" class="indexterm-anchor"></a> PG DD的公共同义词，允许其他用户访问表：</p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以用户<code class="codeph">SYSTEM</code>身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，在<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中运行<code class="codeph">pgddcr8s.sql</code>脚本。此脚本为PG DD创建公共同义词。</p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ pgddcr8.sql</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>创建角色以访问PG DD，执行事务定义和生成<a id="d11914e1538" class="indexterm-anchor"></a>提示规格。<code class="codeph">PGAADMIN</code>用户可以根据需要将这些角色授予其他用户。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以用户<code class="codeph">PGAADMIN</code>连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，在<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中运行<code class="codeph">pgddcr8r.sql</code>脚本。该脚本创建了两个角色， <code class="codeph">PGDDDEF</code>和<code class="codeph">PGDDGEN</code> 。该<a id="d11914e1568" class="indexterm-anchor"></a><a id="d11914e1570" class="indexterm-anchor"></a> <code class="codeph">PGDDDEF</code>角色为<code class="codeph">PGDDDEF</code>角色提供<code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>权限<a id="d11914e1590" class="indexterm-anchor"></a> PG DD表，以及针对其他人的select权限，并允许执行<code class="codeph">PGAU</code> <code class="codeph">DEFINE</code> ， <code class="codeph">GENERATE</code> ， <code class="codeph">REDEFINE</code> ， <code class="codeph">REPORT</code>和<code class="codeph">UNDEFINE</code>语句。该<a id="d11914e1615" class="indexterm-anchor"></a><a id="d11914e1617" class="indexterm-anchor"></a> <code class="codeph">PGDDGEN</code>角色为PG DD表提供select权限，并且只允许执行<code class="codeph">PGAU</code> <code class="codeph">GENERATE</code>和<code class="codeph">REPORT</code>语句。
                                 </p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ pgddcr8r.sql</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p><a id="d11914e1637" class="indexterm-anchor"></a><a id="d11914e1641" class="indexterm-anchor"></a><a id="d11914e1645" class="indexterm-anchor"></a><a id="d11914e1649" class="indexterm-anchor"></a>授予访问PGA所需包的权限。
                           </p>
                           <p><a id="d11914e1655" class="indexterm-anchor"></a><a id="d11914e1659" class="indexterm-anchor"></a> TIP开发人员需要访问随附的以下PL / SQL包<a id="d11914e1664" class="indexterm-anchor"></a> Oracle数据库：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a id="d11914e1672" class="indexterm-anchor"></a> <code class="codeph">%ORACLE_HOME%\rdbms\admin</code> <code class="codeph">DBMS_PIPE</code> <a id="d11914e1679" class="indexterm-anchor"></a>目录</p>
                              </li>
                              <li>
                                 <p><a id="d11914e1684" class="indexterm-anchor"></a> <code class="codeph">%ORACLE_HOME%\rdbms\admin</code> <code class="codeph">UTL_RAW</code> <a id="d11914e1691" class="indexterm-anchor"></a>目录</p>
                              </li>
                              <li>
                                 <p><a id="d11914e1700" class="indexterm-anchor"></a> <code class="codeph">%ORACLE_HOME%\rdbms\admin</code> <code class="codeph">UTL_PG</code> <a id="d11914e1707" class="indexterm-anchor"></a><a id="d11914e1711" class="indexterm-anchor"></a>目录</p>
                              </li>
                           </ul>
                           <p>必须向TIP开发人员提供执行这些包的显式授权。</p>
                           <p>这些授权可以是私有的，如下例所示：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; sqlplus SYS \ <span class="italic">pw @ database_specification_string</span> SQL&gt; GRANT EXECUTE ON UTL_RAW TO <span class="italic">tip_developer</span> ; SQL&gt; GRANT EXECUTE ON UTL_PG to <span class="italic">tip_developer</span> ; SQL&gt; GRANT EXECUTE ON DBMS_PIPE TO <span class="italic">tip_developer;</span> SQL&gt; CONNECT PGAADMIN \ <span class="italic">pw @ database_specification_string</span> SQL&gt; GRANT EXECUTE在PGAADMIN.PURGE_TRACE到<span class="italic">tip_developer</span> ; SQL&gt; GRANT EXECUTE在PGAADMIN.READ_TRACE上执行<span class="italic">tip_developer</span> ; SQL&gt; GRANT EXECUTE on PGAADMIN.GPGLOCAL to <span class="italic">tip_developer;</span> SQL&gt;退出</pre><p>或者，这些授权可以是公开的，如下例所示：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; sqlplus SYS \ pw @ <span class="italic">database_specification_string</span> SQL&gt; GRTL EXECUTE UTL_RAW TO PUBLIC; SQL&gt;在UTL_PG上执行GRANT EXECUTE; SQL&gt; GRANT EXECUTE DBMS_PIPE到PUBLIC; SQL&gt; CONNECT PGAADMIN \ <span class="italic">pw @ database_specification_string</span> SQL&gt; GRGA EXECUTE PGAADMIN.PURGE_TRACE TO PUBLIC; SQL&gt; GRGA EXECUTE PGAADMIN.READ_TRACE TO PUBLIC; SQL&gt; GRGA EXECUTE PGAADMIN.GPGLOCAL TO PUBLIC; SQL&gt; EXIT</pre><p>您可以使用私人或公共补助金。两者都足以使用PGA。公共补助更容易，现在可以执行。如果您使用私有授权，则每次创建新的TIP开发人员用户ID时都必须发布它们。<a id="d11914e1759" class="indexterm-anchor"></a><a id="d11914e1763" class="indexterm-anchor"></a></p>
                           <p><code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中提供了用于执行这些授权的SQL脚本。该<a id="d11914e1772" class="indexterm-anchor"></a><a id="d11914e1776" class="indexterm-anchor"></a><a id="d11914e1781" class="indexterm-anchor"></a><a id="d11914e1785" class="indexterm-anchor"></a> <code class="codeph">pgddapub.sql</code>脚本执行这些授权以公开访问包。该<a id="d11914e1792" class="indexterm-anchor"></a><a id="d11914e1797" class="indexterm-anchor"></a><a id="d11914e1801" class="indexterm-anchor"></a><a id="d11914e1805" class="indexterm-anchor"></a> <code class="codeph">pgddadev.sql</code>脚本执行授权，以便由单个TIP开发人员对包进行私有访问。如果要使用私有授权，则必须为每个TIP开发人员的用户ID运行一次<code class="codeph">pgddadev.sql</code>脚本：</p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以用户<code class="codeph">PGAADMIN</code>连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus中，从<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录运行合适的脚本（ <code class="codeph">pgddapub.sql</code>或<code class="codeph">pgddadev.sql</code> ）。该脚本执行必要的授权，如前所述。系统会提示您输入所需的用户标识，密码和数据库规范字符串。如果您使用私有授权，则对需要访问软件包的每个用户ID重复此步骤。
                                 </p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ pgddapub.sql</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ pgddadev.sql</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p><a id="d11914e1842" class="indexterm-anchor"></a><a id="d11914e1848" class="indexterm-anchor"></a>如果在通信协议为SNA时从先前版本的网关升级到使用TCP / IP的当前网关，并且如果要升级现有网关<a id="d11914e1853" class="indexterm-anchor"></a><a id="d11914e1857" class="indexterm-anchor"></a><a id="d11914e1858" class="indexterm-anchor"></a>具有新功能和维护的TIP，然后使用。重新生成现有的T IP规范<a id="d11914e1868" class="indexterm-anchor"></a> PGAU <code class="codeph">GENERATE</code>声明。
                           </p>
                           <div class="infoboxnote" id="GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6__GUID-F70BAD7D-FFFC-4B4C-8945-01CD0C33606D">
                              <p class="notep1">注意：</p>
                              <p>该<a id="d11914e1880" class="indexterm-anchor"></a>程序网关管理实用程序（PGAU）已得到增强，可自动升级现有的PG DD条目<a id="d11914e1885" class="indexterm-anchor"></a><a id="d11914e1889" class="indexterm-anchor"></a>当一个新的属性时<a id="d11914e1894" class="indexterm-anchor"></a>执行PGAU <code class="codeph">GENERATE</code>命令。要支持此增强功能，请为该增强功能添加新权限<a id="d11914e1902" class="indexterm-anchor"></a> <code class="codeph">PGDDGEN</code>角色。为此，作为<code class="codeph">PGAADMIN</code>用户，使用SQL * Plus连接到存储PG DD的Oracle数据库。然后，发出以下SQL命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT INSERT在PGA_DATA_VALUES到PGDDGEN</pre></div>
                           <ol type="a">
                              <li>
                                 <p>在生成PGAU控制文件的目录路径中调用PGAU以及存储TIP的位置：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; pgau PGAU&gt; CONNECT PGAADMIN \ pgaadmin @ <span class="italic">database_specification_string</span> PGAU&gt; GENERATE <span class="italic">tranname</span> PGAU&gt; EXIT</pre></li>
                           </ol>
                           <p>有关<code class="codeph">GENERATE</code>命令的更多信息，请参阅<a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC用户指南</span></a>第2章中的<a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG944" target="_blank">PGAU GENERATE</a>部分。
                           </p>
                           <p>请注意，不必再次定义PG DD条目。</p>
                        </li>
                        <li>
                           <p>在存储新生成的TIP规范的同一目录路径中调用SQL * Plus。</p><pre class="oac_no_warn" dir="ltr">C：\&gt; sqlplus <span class="italic">tip_owner \ pw @ database_specification_string</span> SQL&gt; @ <span class="italic">tipname。</span> pkh SQL&gt; @ <span class="italic">tipname</span> .pkb SQL&gt;退出</pre><p><a id="d11914e1958" class="indexterm-anchor"></a><a id="d11914e1964" class="indexterm-anchor"></a><a id="d11914e1968" class="indexterm-anchor"></a> PGAU <code class="codeph">GENERATE</code>在两个输出文件中生成TIP，规范和正文。您必须先编译规范，然后再编译正文。
                           </p>
                           <p>有关<code class="codeph">GENERATE</code>命令的更多信息，请参阅<a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC用户指南</span></a>第2章中的<a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG944" target="_blank">PGAU GENERATE</a>命令部分。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW223"></a><div class="props_rev_3"><a id="GUID-4401EF36-6A5E-4DF2-8FB8-57D8EEFEDB92" name="GUID-4401EF36-6A5E-4DF2-8FB8-57D8EEFEDB92"></a><h3 id="APPCW-GUID-4401EF36-6A5E-4DF2-8FB8-57D8EEFEDB92" class="sect3">配置网关的TCP / IP</h3>
               <div>
                  <div class="section">
                     <p>您现在必须为TCP / IP连接的IMS Connect通信包配置文件配置TCP / IP。</p>
                     <p>配置配置文件以定义与TCP / IP对话<a id="d11914e2046" class="indexterm-anchor"></a> OLTP。</p>
                     <p>完成通信包的配置后，请返回以下部分“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189">配置网关”</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW224"></a><div class="props_rev_3"><a id="GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189" name="GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189"></a><h3 id="APPCW-GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189" class="sect3">配置网关</h3>
               <div>
                  <div class="section">
                     <p>使用以下步骤配置网关。</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>自定义网关参数。</span><div>
                           <p>有许多具体的参数<a id="d11914e2099" class="indexterm-anchor"></a>在使用TCP / IP进行IMS Connect时，APPC的Oracle数据库网关。它们在网关参数文件<code class="codeph">init <span class="codeinlineitalic">sid</span> .ora</code>中提供，该文件位于<a id="d11914e2112" class="indexterm-anchor"></a> <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录。示例网关参数<a id="d11914e2117" class="indexterm-anchor"></a><a id="d11914e2119" class="indexterm-anchor"></a><a id="d11914e2125" class="indexterm-anchor"></a>文件， <a id="d11914e2131" class="indexterm-anchor"></a><a id="d11914e2133" class="indexterm-anchor"></a> <code class="codeph">initPGA.ora</code> ，在此子目录中提供。<a id="d11914e2140" class="indexterm-anchor"></a><a id="d11914e2144" class="indexterm-anchor"></a><a id="d11914e2150" class="indexterm-anchor"></a></p>
                           <div class="infoboxnote" id="GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189__GUID-33894135-8EAF-4D97-A7B2-C79337F24F77">
                              <p class="notep1">注意：</p>
                              <p>在里面<a id="d11914e2157" class="indexterm-anchor"></a><a id="d11914e2159" class="indexterm-anchor"></a> <code class="codeph">init <span class="codeinlineitalic">sid</span> .ora</code>文件，替换你的网关<span class="bold"> </span>此文件名中“ <span class="italic"><code class="codeph">sid</code></span> ”的SID名称。
                              </p>
                              <p>init <span class="italic">sid</span> .ora文件包含APPC和TCP / IP参数，由描述分隔。您必须通过删除APPC参数来修改<code class="codeph">init <span class="codeinlineitalic">sid</span> .ora</code>文件。有关有效的TCP / IP参数，请参阅<a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-67D9D370-DB10-430B-93B8-BD8844DE7E3E">TCP / IP通信协议的网关初始化</a>参数。
                              </p>
                           </div>
                           <p>参数分为两类：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>网关初始化<a id="d11914e2197" class="indexterm-anchor"></a><a id="d11914e2203" class="indexterm-anchor"></a><a id="d11914e2207" class="indexterm-anchor"></a>参数</p>
                                 <p>这些参数控制Oracle环境中网关的一般操作。</p>
                                 <div class="infoboxnote" id="GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189__GUID-2DA2B5C3-F793-4AC9-9ECA-7AEB91D91ABF">
                                    <p class="notep1">注意：</p>
                                    <p>在执行以下步骤之前，请参阅<a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-67D9D370-DB10-430B-93B8-BD8844DE7E3E">TCP / IP通信协议的网关初始化参数，</a>以获取有关定制网关初始化和PGA参数的信息。特别注意使用的信息<a id="d11914e2221" class="indexterm-anchor"></a> <code class="codeph">PGA_CAPABILITY</code>参数。
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p>PGA <a id="d11914e2231" class="indexterm-anchor"></a><a id="d11914e2235" class="indexterm-anchor"></a><a id="d11914e2241" class="indexterm-anchor"></a>参数</p>
                                 <p>PGA参数控制网关的TCP / IP接口部分。使用<a id="d11914e2248" class="indexterm-anchor"></a><a id="d11914e2252" class="indexterm-anchor"></a> <code class="codeph">SET</code>网关初始化参数指定PGA参数。Oracle建议您对所有<code class="codeph">SET</code>命令进行分组<a id="d11914e2264" class="indexterm-anchor"></a><a id="d11914e2266" class="indexterm-anchor"></a>对于init <span class="italic">sid</span> .ora文件末尾的PGA参数。
                                 </p>
                                 <div class="infoboxnote" id="GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189__GUID-1D92A7D7-737D-4553-9ADE-025220344BCE">
                                    <p class="notep1">注意：</p>
                                    <p>拼写错误的参数将被忽略<a id="d11914e2277" class="indexterm-anchor"></a> 。但是，如果缺少<code class="codeph">%ORACLE_HOME%\dg4appc\admin\initsid.ora</code>文件，则对网关的所有调用都会失败并返回<code class="codeph">PGA-20928</code>错误。
                                    </p>
                                 </div>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="APPCW225"></a><div class="props_rev_3"><a id="GUID-7FBE512D-4608-482A-8F27-EFBFF6BAE583" name="GUID-7FBE512D-4608-482A-8F27-EFBFF6BAE583"></a><h3 id="APPCW-GUID-7FBE512D-4608-482A-8F27-EFBFF6BAE583" class="sect3">加载PGA_TCP_IMSC表</h3>
               <div>
                  <div class="section">
                     <p>希望使用TCP / IP协议的网关用户通过使用<a id="d11914e2331" class="indexterm-anchor"></a> <code class="codeph">pg4tcpmap</code>工具。
                     </p>
                     <p>该<a id="d11914e2340" class="indexterm-anchor"></a> <code class="codeph">pg4tcpmap</code>工具驻留在网关上。其功能是将侧面配置文件名称映射到TCP / IP和IMS Connect属性。您必须在执行PL / SQL网关语句之前运行此工具（例如<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS\pgaims.sql</code> ）。 <span class="bold"> </span></p>
                     <p>在<a id="d11914e2354" class="indexterm-anchor"></a>例如，PGAINIT TIP，用户必须指定侧面配置文件名称。SNA协议识别并使用该参数。在此版本的网关中， <code class="codeph">pg4tcpmap</code>工具使用原始PGAINIT TIP格式将相关SNA参数映射到TCP / IP。 <code class="codeph">pg4tcpmap</code>工具将这些参数的值插入到一个名为的表中<a id="d11914e2363" class="indexterm-anchor"></a><a id="d11914e2367" class="indexterm-anchor"></a> <code class="codeph">PGA_TCP_IMSC</code> 。
                     </p>
                     <p>在执行<code class="codeph">pg4tcpmap</code>之前，必须指定<code class="codeph">ORACLE_HOME</code> ，Oracle SID并修改<code class="codeph">init <span class="codeinlineitalic">sid</span> .ora</code> 。有关<code class="codeph">pg4tcpmap</code>命令的完整信息，请参阅本指南中的<a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-67D9D370-DB10-430B-93B8-BD8844DE7E3E">“TCP / IP通信协议的网关初始化参数”</a>和“ <a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南”的</span></a>第6章。
                     </p>
                     <p>“ <a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南”的</span></a>第6章包含一个列表<a id="d11914e2408" class="indexterm-anchor"></a> <code class="codeph">pg4tcpmap</code>命令和使用它们的说明，以及表的示例。有关已执行的<code class="codeph">pg4tcpmap</code>工具的跟踪文件的信息，请参阅“ <a href="../appug/troubleshooting-oracle-database-gateway-appc.html#APPUG800" target="_blank"><span class="italic">Oracle Database Gateway for APPC用户指南</span></a> ”中的“故障排除”。
                     </p>
                     <p>要操作此工具，请执行以下命令：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ bin C：\&gt; pg4tcpmap</pre><p>有关<code class="codeph">pg4tcpmap</code>输出的示例，请参阅<span class="q">“ <a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-C9B3713C-E8A0-4D7A-A6C9-504B83D64733">pg4tcpmap工具</a></span>的输出”。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW226"></a><div class="props_rev_3"><a id="GUID-8D4B842E-0CF0-4072-8FF6-3AC0737A7D00" name="GUID-8D4B842E-0CF0-4072-8FF6-3AC0737A7D00"></a><h3 id="APPCW-GUID-8D4B842E-0CF0-4072-8FF6-3AC0737A7D00" class="sect3">验证网关安装和OLTP配置</h3>
               <div>
                  <div class="section">
                     <p>要验证网关安装和OLTP配置，请在安装网关后执行以下过程。<a id="d11914e2469" class="indexterm-anchor"></a><a id="d11914e2475" class="indexterm-anchor"></a></p>
                     <div class="infoboxnote" id="GUID-8D4B842E-0CF0-4072-8FF6-3AC0737A7D00__GUID-EB033894-EA4D-45AF-A47F-5ABD08BB76C3">
                        <p class="notep1">注意：</p>
                        <p>如果你的<a id="d11914e2484" class="indexterm-anchor"></a>数据库链接名称不是“PGA”，修改演示<code class="codeph">.sql</code>文件，为它们提供您在步骤<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__i1008586">configure-appc-gateway-using-tcp-ip.html＃GUID-C1D6A15C-21DD-480A-中</a>创建的特定数据库链接名称<span class="q">“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C">配置Oracle数据库：首次安装</a> ”的</span> <a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__i1008586">A45D-EE4D3554B54C__i1008586</a> 。您必须修改以下.sql文件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">pgavsn.sql</code></p>
                           </li>
                           <li>
                              <p><a id="d11914e2506" class="indexterm-anchor"></a><a id="d11914e2508" class="indexterm-anchor"></a><code class="codeph">pgaecho.sql</code> 
                              </p>
                           </li>
                           <li>
                              <p><a id="d11914e2517" class="indexterm-anchor"></a><a id="d11914e2519" class="indexterm-anchor"></a><code class="codeph">pgaims.sql </code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCW227"></a><div class="props_rev_3"><a id="GUID-02491AB4-86E5-4F50-B968-BE0457542AE5" name="GUID-02491AB4-86E5-4F50-B968-BE0457542AE5"></a><h4 id="APPCW-GUID-02491AB4-86E5-4F50-B968-BE0457542AE5" class="sect4">验证网关安装</h4>
                  <div>
                     <div class="section">
                        <p>使用以验证网关软件安装<a id="d11914e2578" class="indexterm-anchor"></a><a id="d11914e2584" class="indexterm-anchor"></a>先前创建的数据库链接PGA，执行以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>使用SQL * Plus，连接到您的<a id="d11914e2595" class="indexterm-anchor"></a> Oracle数据库作为用户<a id="d11914e2602" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code> 。</span></li>
                        <li class="stepexpand"><span>运行<code class="codeph">%ORACLE_HOME%\dg4appc\demo\pgavsn.sql</code> 。</span><div><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ demo SQL&gt; @ pgavsn.sql</pre><p>服务器版本号标题出现在您的终端上。您将收到以下输出：</p><pre class="oac_no_warn" dir="ltr">适用于APPC的Oracle数据库网关（用于IMS连接的扩展TCP / IP）。版本11.2.0.0.2 2009年6月11日星期四14:52:36版权所有（c）Oracle Corporation 1979,2009。版权所有。PL / SQL过程成功完成。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>运行<code class="codeph">%ORACLE_HOME%\dg4appc\demo\pgaecho.sql</code> 。</span><div><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ demo SQL&gt; @ pgaecho.sql</pre><p>您将收到以下输出：</p><pre class="oac_no_warn" dir="ltr">==&gt;恭喜，您的安装成功。 &lt;==</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="APPCW228"></a><div class="props_rev_3"><a id="GUID-C360B987-27C2-47CE-8F69-A808B63A8C20" name="GUID-C360B987-27C2-47CE-8F69-A808B63A8C20"></a><h4 id="APPCW-GUID-C360B987-27C2-47CE-8F69-A808B63A8C20" class="sect4">验证OLTP配置</h4>
                  <div>
                     <div class="section">
                        <p>使用以下过程验证OLTP配置。</p>
                        <div class="infoboxnote" id="GUID-C360B987-27C2-47CE-8F69-A808B63A8C20__GUID-A45A7AA8-FC74-44D5-B7D5-C0ED844C6E27">
                           <p class="notep1">注意：</p>
                           <p>如果尚未完成<span class="q">“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A">准备配置网关安装/升级</a> ”中</span>详细说明的文件传输，请立即完成，然后再继续执行下一步。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="APPCW229"></a><div class="props_rev_3"><a id="GUID-85147605-CE9E-4F69-8243-CC3FC50F1B65" name="GUID-85147605-CE9E-4F69-8243-CC3FC50F1B65"></a><h5 id="APPCW-GUID-85147605-CE9E-4F69-8243-CC3FC50F1B65" class="sect5">IMS / TM验证</h5>
                     <div>
                        <div class="section">
                           <p>执行以下步骤以验证IMS / TM配置。在开始此过程之前，请确保已安装并配置了IMS Connect，并且它已启动并正在运行。有关如何执行安装和配置任务的信息，请参阅“IBM <span class="italic">IMS Connect指南和参考</span> ”。
                           </p>
                           <div class="infoboxnote" id="GUID-85147605-CE9E-4F69-8243-CC3FC50F1B65__GUID-40B406D8-A2F9-4C3E-9F9D-DB44AECB56CA">
                              <p class="notep1">注意：</p>
                              <p><a id="d11914e2756" class="indexterm-anchor"></a><a id="d11914e2760" class="indexterm-anchor"></a><a id="d11914e2764" class="indexterm-anchor"></a>将通信协议更改为TCP / IP时，必须重新编译TIP。</p>
                              <p>仅限TCP / IP： <a id="d11914e2771" class="indexterm-anchor"></a><a id="d11914e2775" class="indexterm-anchor"></a>如果您现有的TIP是使用SNA协议在网关上生成的，并且您希望使用新的TCP / IP功能，那么PGA必须使用强制<code class="codeph">NLS_LANGUAGE</code>和Side Profile Settings重新生成TIP。在<code class="codeph">DEFINE TRANSACTION</code>命令中指定合适的ASCII字符集。
                              </p>
                              <p>这是因为网关假定正在使用IMS Connect中的适当用户出口，这将在适当的ASCII和EBCDIC字符集之间进行转换。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>验证<a id="d11914e2792" class="indexterm-anchor"></a> <code class="codeph">FLIP</code>事务已正确安装，登录到您的IMS / TM系统并输入以下事务（在为网关配置IMS / TM系统时，将<code class="codeph">FLIP</code>替换为您为<code class="codeph">FLIP</code>选择的事务ID）：</span><div><pre class="oac_no_warn" dir="ltr">翻上这条消息</pre><p>终端上显示以下输出：</p><pre class="oac_no_warn" dir="ltr">EGASSEM SIHT PILF</pre><div class="infoboxnote" id="GUID-85147605-CE9E-4F69-8243-CC3FC50F1B65__GUID-78131187-0DD8-419D-99D0-8373F4B53FFC">
                                    <p class="notep1">注意：</p>
                                    <p>如果尚未完成<a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A">准备配置网关安装/升级</a> <span class="q">“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A">准备配置网关安装/升级</a> ”中</span>详细说明的文件传输，请立即完成，然后再继续执行下一步。
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>从Windows平台，修改<code class="codeph">pgaims.sql</code> <a id="d11914e2832" class="indexterm-anchor"></a><a id="d11914e2836" class="indexterm-anchor"></a>文件，驻留在<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS\pgaims.sql.</code>自定义用于访问网关和IMS / TM系统的以下三个项目，如文件开头的注释中所述：</span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>IMS / TM事务ID</p>
                                    </li>
                                    <li>
                                       <p>侧面配置文件名称</p>
                                    </li>
                                    <li>
                                       <p>logmode条目名称</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>确保<a id="d11914e2858" class="indexterm-anchor"></a>系统上的TCP / IP通信协议已启动。</span></li>
                           <li class="stepexpand"><span>使用SQL * Plus，连接到您的<a id="d11914e2868" class="indexterm-anchor"></a>来自<code class="codeph">PGAADMIN</code> Oracle数据库。</span></li>
                           <li class="stepexpand"><span>跑<a id="d11914e2881" class="indexterm-anchor"></a><a id="d11914e2885" class="indexterm-anchor"></a> <code class="codeph">pgaims.sql</code> 。</span><div><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ demo \ IMS SQL&gt; @ pgaims.sql</pre><p>出现以下消息：</p>
                              </div>
                           </li>
                        </ol>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">==&gt;恭喜，您的网关正在与IMS / TM &lt;==进行通信</pre><p>您的IMS / TM安装验证现已完成。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="APPCW230"></a><div class="props_rev_3"><a id="GUID-7FB56CC9-2004-4716-9DF5-4082EC028816" name="GUID-7FB56CC9-2004-4716-9DF5-4082EC028816"></a><h3 id="APPCW-GUID-7FB56CC9-2004-4716-9DF5-4082EC028816" class="sect3">执行安装后程序</h3>
               <div>
                  <div class="section">
                     <p>以下是您可以根据需要执行的可选步骤。建议安装OLTP的示例应用程序，以帮助您完全了解网关的工作方式以及与OLTP的接口方式。</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCW231"></a><div class="props_rev_3"><a id="GUID-CA7EA2DB-3417-4206-8852-211FDAA6786A" name="GUID-CA7EA2DB-3417-4206-8852-211FDAA6786A"></a><h4 id="APPCW-GUID-CA7EA2DB-3417-4206-8852-211FDAA6786A" class="sect4">安装示例应用程序</h4>
                  <div>
                     <div class="section">
                        <p>适用于IMS Connect的Oracle数据库网关APPC包含用于IMS Connect的TCP / IP，包含演示网关功能的示例PL / SQL过程和OLTP事务程序。</p>
                        <div class="infoboxnote" id="GUID-CA7EA2DB-3417-4206-8852-211FDAA6786A__GUID-5EEB6D9D-932F-452F-B2E2-0010F52D4454">
                           <p class="notep1">注意：</p>
                           <p>当您调用使用TCP / IP作为通信协议的网关时，如果您使用EBCDIC作为控制文件中的语言，则必须将语言从EBCDIC更改为ASCII。可能是EBCDIC语言的控制文件的一些示例是<code class="codeph">ivtno.ctl</code>和<code class="codeph">ivtnv.ctl</code> 。
                           </p>
                           <p>有关更多信息，请参阅<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS\ivtno.ctl</code>和</p>
                           <p><code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS\ivtnv.ctl</code>文件。
                           </p>
                        </div>
                        <p>为IMS / TM提供样本：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">IVTNO</code>和<code class="codeph">IVTNV</code>样本事务进行IMS查询</p>
                           </li>
                        </ul>
                        <p>在产品的后续版本中，将附加样本添加到分发介质中。示例应用程序尽可能使用随数据库产品提供的示例数据库。</p>
                        <p>对于此版本，以下目录中的<code class="codeph">README.doc</code>文件中提供了有关安装和使用示例应用程序的完整文档：</p>
                        <p><code class="codeph">％ORACLE_HOME％\ pg4appc \演示\ IMS \ sample_IMS_applications.txt</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04086.JDBC-standards-support.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>JDBC标准支持</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="JDBC Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00"></meta>
      <meta name="dcterms.title" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96471-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="overview-Oracle-JDBC.html" title="Previous" type="text/html"></link>
      <link rel="next" href="Oracle-extensions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="overview-Oracle-JDBC.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="Oracle-extensions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="overview-Oracle-JDBC.html" property="item" typeof="WebPage"><span property="name">Oracle JDBC</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">JDBC标准支持</li>
            </ol>
            <a id="GUID-7BCBC4DF-EA21-4E60-A625-43FF43BEB37D" name="GUID-7BCBC4DF-EA21-4E60-A625-43FF43BEB37D"></a><a id="JJDBC28082"></a>
            
            <h2 id="JJDBC-GUID-7BCBC4DF-EA21-4E60-A625-43FF43BEB37D" class="sect2"><span class="enumeration_chapter">3</span> JDBC标准支持</h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d20392e21" class="indexterm-anchor"></a> Oracle Java数据库连接（JDBC）驱动程序支持不同版本的JDBC标准功能。在Oracle Database 12 <span class="italic">c</span>第2版（12.2.0.1）中，Oracle JDBC驱动程序已得到增强，可为JDBC 4.1标准提供支持。这些功能是通过<code class="codeph">oracle.jdbc</code>和<code class="codeph">oracle.sql</code>包提供的。这些包支持Java Development Kit（JDK）第8版。本章讨论Oracle JDBC驱动程序中的JDBC标准支持。它包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="JDBC-standards-support.html#GUID-1C521870-767B-43B3-9711-A55BFCCF9445">支持JDBC 2.0标准</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-standards-support.html#GUID-0B52F2F0-AEA8-4906-832D-36B3FC2EE40F">支持JDBC 3.0标准</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-standards-support.html#GUID-0ABBC622-2FC8-4713-810F-F1417200C361">支持JDBC 4.0 Standard</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-standards-support.html#GUID-CCFF23EA-6FA8-440D-B1CA-CD4220CB5609">支持JDBC 4.1标准</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-standards-support.html#GUID-47632F02-EA29-41BA-A51C-0C157A5B4122" title="Oracle Database 12c第2版（12.2.0.1）JDBC驱动程序通过JDK 8提供对JDBC 4.2标准的支持。本节介绍了此版本中添加的一些重要方法。">支持JDBC 4.2标准</a></p>
                  </li>
               </ul>
            </div><a id="JJDBC28083"></a><div class="props_rev_3"><a id="GUID-1C521870-767B-43B3-9711-A55BFCCF9445" name="GUID-1C521870-767B-43B3-9711-A55BFCCF9445"></a><h3 id="JJDBC-GUID-1C521870-767B-43B3-9711-A55BFCCF9445" class="sect3"><span class="enumeration_section">3.1</span>支持JDBC 2.0标准</h3>
               <div>
                  <div class="section">
                     <p>此版本的Oracle JDBC驱动程序通过JDK 1.2及更高版本提供对JDBC 2.0功能的支持。有三个方面需要考虑：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>支持通过<code class="codeph">java.sql</code>包处理的数据类型，例如对象，数组和大对象（LOB）。
                           </p>
                        </li>
                        <li>
                           <p>支持标准功能，例如结果集增强和更新批处理，这些功能通过JDK 1.2.x及更高版本下的标准对象（如<code class="codeph">Connection</code> ， <code class="codeph">ResultSet</code>和<code class="codeph">PreparedStatement</code> 。
                           </p>
                        </li>
                        <li>
                           <p>支持扩展功能，例如JDBC 2.0可选包的功能，也称为标准扩展应用程序编程接口（API），包括数据源，连接池和分布式事务。</p>
                        </li>
                     </ul>
                     <p>本节包括以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="JDBC-standards-support.html#GUID-8475E348-352E-4C1E-B2F2-49EAFF0E2DAE">数据类型支持</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-standards-support.html#GUID-BEA3D76E-CA94-4917-A0C0-78B8DEABF8F8">标准功能支持</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-standards-support.html#GUID-AE4EBD3A-67BB-44CF-A33D-3164F0C94E48">扩展功能支持</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-standards-support.html#GUID-337D305F-992A-4586-B702-385B1B011D73">标准与Oracle性能增强API</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-1C521870-767B-43B3-9711-A55BFCCF9445__GUID-36C5C10D-6D54-4EEB-834F-FDB4B894377E">
                        <p class="notep1">注意：</p>
                        <p>不再支持早于5.0的JDK版本。包<code class="codeph">oracle.jdbc2</code>已被删除。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28084"></a><div class="props_rev_3"><a id="GUID-8475E348-352E-4C1E-B2F2-49EAFF0E2DAE" name="GUID-8475E348-352E-4C1E-B2F2-49EAFF0E2DAE"></a><h4 id="JJDBC-GUID-8475E348-352E-4C1E-B2F2-49EAFF0E2DAE" class="sect4"><span class="enumeration_section">3.1.1</span>数据类型支持</h4>
                  <div>
                     <div class="section">
                        <p>Oracle JDBC完全支持JDK 6和JDK 7，它通过在标准<code class="codeph">java.sql</code>包中实现接口来包含标准JDBC 2.0功能。这些接口由<code class="codeph">oracle.sql</code>和<code class="codeph">oracle.jdbc</code>包中的类适当实现。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28085"></a><div class="props_rev_3"><a id="GUID-BEA3D76E-CA94-4917-A0C0-78B8DEABF8F8" name="GUID-BEA3D76E-CA94-4917-A0C0-78B8DEABF8F8"></a><h4 id="JJDBC-GUID-BEA3D76E-CA94-4917-A0C0-78B8DEABF8F8" class="sect4"><span class="enumeration_section">3.1.2</span>标准功能支持</h4>
                  <div>
                     <div class="section">
                        <p>在JDK 6.0环境中，使用<code class="codeph">ojdbc6.jar</code>的JDBC类，JDBC 2.0功能（如可滚动结果集，可更新结果集和更新批处理）通过标准JDBC 2.0接口指定的方法得到支持。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28086"></a><div class="props_rev_3"><a id="GUID-AE4EBD3A-67BB-44CF-A33D-3164F0C94E48" name="GUID-AE4EBD3A-67BB-44CF-A33D-3164F0C94E48"></a><h4 id="JJDBC-GUID-AE4EBD3A-67BB-44CF-A33D-3164F0C94E48" class="sect4"><span class="enumeration_section">3.1.3</span>扩展功能支持</h4>
                  <div>
                     <div class="section">
                        <p>JDK 1.2.x或更高版本的环境支持JDBC 2.0可选包的功能，包括数据源，连接池和分布式事务。</p>
                        <p>标准的<code class="codeph">javax.sql</code>包和实现其接口的类包含在Oracle数据库打包的Java Archive（JAR）文件中。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28087"></a><div class="props_rev_3"><a id="GUID-337D305F-992A-4586-B702-385B1B011D73" name="GUID-337D305F-992A-4586-B702-385B1B011D73"></a><h4 id="JJDBC-GUID-337D305F-992A-4586-B702-385B1B011D73" class="sect4"><span class="enumeration_section">3.1.4</span>标准与Oracle性能增强API</h4>
                  <div>
                     <div class="section">
                        <p>JDBC 2.0下提供了获取大小或行预取，以前只能作为Oracle扩展使用。您可以选择使用标准模型或Oracle模型。Oracle建议您尽可能使用JDBC标准模型。但是，不要尝试在单个应用程序中混合使用标准模型和Oracle模型来实现此功能。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="resultset.html#GUID-BD27B43E-525F-44C4-973F-18D2BB8BA007">行获取大小</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
            </div><a id="JJDBC28089"></a><a id="JJDBC28088"></a><div class="props_rev_3"><a id="GUID-0B52F2F0-AEA8-4906-832D-36B3FC2EE40F" name="GUID-0B52F2F0-AEA8-4906-832D-36B3FC2EE40F"></a><h3 id="JJDBC-GUID-0B52F2F0-AEA8-4906-832D-36B3FC2EE40F" class="sect3"><span class="enumeration_section">3.2</span>支持JDBC 3.0标准</h3>
               <div>
                  <div class="section">
                     <p>Oracle Database 12 <span class="italic">c</span>第1版JDBC驱动程序通过JDK 1.4及更高版本提供对标准JDBC 3.0功能的支持。下表列出了此版本的Oracle JDBC驱动程序支持的JDBC 3.0功能，并提供了对每个功能的详细讨论的参考。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-0B52F2F0-AEA8-4906-832D-36B3FC2EE40F__CFAFGHAJ">
                     <p class="titleintable">表3-1 JDBC 3.0功能的关键区域</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="JDBC 3.0功能的关键领域" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d20392e347">特征</th>
                              <th align="left" valign="bottom" width="74%" id="d20392e350">评论和参考</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d20392e355" headers="d20392e347 ">
                                 <p>交易保存点</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d20392e355 d20392e350 ">
                                 <p>有关信息，请参阅<span class="q">“ <a href="JDBC-standards-support.html#GUID-020AF373-6BF0-4BB3-B338-6F9609A223CA">事务保存点概述</a> ”</span> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d20392e367" headers="d20392e347 ">
                                 <p>声明缓存</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d20392e367 d20392e350 ">
                                 <p>通过连接池重用预准备语句。请参见<a href="statement-and-resultset-caching.html#GUID-F3F4BB63-356A-4F65-81B1-5C84FC35A16D">语句和结果集缓存</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d20392e380" headers="d20392e347 ">
                                 <p>在本地和全局事务之间切换</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d20392e380 d20392e350 ">
                                 <p>请参阅<span class="q">“ <a href="distributed-transactions.html#GUID-C6290011-D20A-41BD-9FA5-FEDBCD9B4F17">关于在全局和本地事务之间切换</a> ”</span> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d20392e392" headers="d20392e347 ">
                                 <p>LOB修改</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d20392e392 d20392e350 ">
                                 <p>请参见<span class="q">“ <a href="JDBC-standards-support.html#GUID-A21ED9A5-5A73-4019-999F-1D6E14C93F4E">JDBC 3.0 LOB接口方法</a> ”</span> <a href="JDBC-standards-support.html#GUID-A21ED9A5-5A73-4019-999F-1D6E14C93F4E">JDBC 3.0 LOB接口方法</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d20392e408" headers="d20392e347 ">
                                 <p>命名的SQL参数</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d20392e408 d20392e350 ">
                                 <p>请参阅<span class="q">“ <a href="Oracle-extensions.html#GUID-0C1F7E0A-5A10-4E81-B789-F275D81E12F7">接口oracle.jdbc。OracleCallableStatement</a> “</span>和<span class="q">” <a href="Oracle-extensions.html#GUID-B5463D4F-6319-4A21-AB35-A5A7F3FDFC61">接口oracle.jdbc。OraclePreparedStatement</a> “</span> <a href="Oracle-extensions.html#GUID-B5463D4F-6319-4A21-AB35-A5A7F3FDFC61">接口oracle.jdbc。OraclePreparedStatement</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d20392e429" headers="d20392e347 ">
                                 <p>行集</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d20392e429 d20392e350 ">
                                 <p>请参阅<a href="JDBC-Rowsets.html#GUID-AF2DA648-73E2-4D62-9EAF-E273BD88FA89">JDBC RowSet</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d20392e439" headers="d20392e347 ">
                                 <p>检索自动生成的密钥</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d20392e439 d20392e350 ">
                                 <p>请参阅<span class="q">“ <a href="JDBC-standards-support.html#GUID-11E3AAF8-009C-418E-8263-E41EE49F2EA8">检索自动生成的密钥</a> ”</span> <a href="JDBC-standards-support.html#GUID-11E3AAF8-009C-418E-8263-E41EE49F2EA8">检索自动生成的密钥</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d20392e454" headers="d20392e347 ">
                                 <p>结果集可保持性</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d20392e454 d20392e350 ">
                                 <p>请参见<span class="q">“ <a href="JDBC-standards-support.html#GUID-B46CD2AA-EE57-498F-9E27-3B44A2548DED">结果集可保持性</a> ”</span> <a href="JDBC-standards-support.html#GUID-B46CD2AA-EE57-498F-9E27-3B44A2548DED">结果集可保持性</a></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>本节介绍了Oracle JDBC驱动程序支持的以下JDBC 3.0功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="JDBC-standards-support.html#GUID-020AF373-6BF0-4BB3-B338-6F9609A223CA">交易保存点概述</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-standards-support.html#GUID-11E3AAF8-009C-418E-8263-E41EE49F2EA8">检索自动生成的密钥</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-standards-support.html#GUID-A21ED9A5-5A73-4019-999F-1D6E14C93F4E">JDBC 3.0 LOB接口方法</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-standards-support.html#GUID-B46CD2AA-EE57-498F-9E27-3B44A2548DED">结果集可保持性</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28091"></a><div class="props_rev_3"><a id="GUID-020AF373-6BF0-4BB3-B338-6F9609A223CA" name="GUID-020AF373-6BF0-4BB3-B338-6F9609A223CA"></a><h4 id="JJDBC-GUID-020AF373-6BF0-4BB3-B338-6F9609A223CA" class="sect4"><span class="enumeration_section">3.2.1</span>事务保存点概述</h4>
                  <div>
                     <div class="section">
                        <p><a id="d20392e516" class="indexterm-anchor"></a><a id="d20392e518" class="indexterm-anchor"></a> JDBC 3.0规范支持<span class="bold">保存点</span> ，这些<span class="bold">保存点</span>在事务中提供更精细的分界。应用程序可以在事务中设置保存点，然后回滚保存点之后完成的所有工作。保存点放宽了事务的原子性属性。具有保存点的事务在某种意义上是原子的，它看起来是事务上下文之外的单个单元，但在事务中操作的代码可以保留部分状态。
                        </p>
                        <div class="infoboxnote" id="GUID-020AF373-6BF0-4BB3-B338-6F9609A223CA__GUID-6F2BBEDA-4BA8-4BED-A4C6-F33238239077">
                           <p class="notep1">注意：</p>
                           <p>仅本地事务支持保存点。在全局事务中指定保存点会导致<code class="codeph">SQLException</code>异常。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="JJDBC28092"></a><div class="props_rev_3"><a id="GUID-CAA32325-8896-44D5-83EF-A0CCDDFB8350" name="GUID-CAA32325-8896-44D5-83EF-A0CCDDFB8350"></a><h5 id="JJDBC-GUID-CAA32325-8896-44D5-83EF-A0CCDDFB8350" class="sect5"><span class="enumeration_section">3.2.1.1</span>关于创建保存点</h5>
                     <div>
                        <div class="section">
                           <p>您可以使用<code class="codeph">Connection.setSavepoint</code>方法创建一个保存点，该方法返回一个<code class="codeph">java.sql.Savepoint</code>实例。
                           </p>
                           <p>保存点已命名或未命名。您可以通过向<code class="codeph">setSavepoint</code>方法提供字符串来指定保存点的名称。如果未指定名称，则会为保存点分配一个整数ID。您使用<code class="codeph">getSavepointName</code>方法检索名称。您使用<code class="codeph">getSavepointId</code>方法检索ID。
                           </p>
                           <div class="infoboxnote" id="GUID-CAA32325-8896-44D5-83EF-A0CCDDFB8350__GUID-D3732A59-BBC8-42E8-A6B3-2CF7E22A64B7">
                              <p class="notep1">注意：</p>
                              <p>尝试从未命名的保存点检索名称或尝试从命名保存点检索ID会引发<code class="codeph">SQLException</code>异常。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28093"></a><div class="props_rev_3"><a id="GUID-3441D863-F87C-4D64-8E55-97C5D2FEB02B" name="GUID-3441D863-F87C-4D64-8E55-97C5D2FEB02B"></a><h5 id="JJDBC-GUID-3441D863-F87C-4D64-8E55-97C5D2FEB02B" class="sect5"><span class="enumeration_section">3.2.1.2</span>关于回滚到保存点</h5>
                     <div>
                        <div class="section">
                           <p>您使用<code class="codeph">Connection.rollback(Savepoint svpt)</code>方法回滚到保存点。如果尝试回滚到已释放的保存点，则<code class="codeph">SQLException</code>异常。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28094"></a><div class="props_rev_3"><a id="GUID-832B7652-01D0-4A8D-9EE9-265A3AF94B90" name="GUID-832B7652-01D0-4A8D-9EE9-265A3AF94B90"></a><h5 id="JJDBC-GUID-832B7652-01D0-4A8D-9EE9-265A3AF94B90" class="sect5"><span class="enumeration_section">3.2.1.3</span>关于释放保存点</h5>
                     <div>
                        <div class="section">
                           <p>您使用<code class="codeph">Connection.releaseSavepoint(Savepoint svpt)</code>方法删除保存点。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28095"></a><div class="props_rev_3"><a id="GUID-F59F3A94-6983-4C0A-8FFB-E2984C3A5924" name="GUID-F59F3A94-6983-4C0A-8FFB-E2984C3A5924"></a><h5 id="JJDBC-GUID-F59F3A94-6983-4C0A-8FFB-E2984C3A5924" class="sect5"><span class="enumeration_section">3.2.1.4</span>关于检查Savepoint支持</h5>
                     <div>
                        <div class="section">
                           <p>您可以通过调用<code class="codeph">oracle.jdbc.查询数据库是否支持保存点<code class="codeph">oracle.jdbc.OracleDatabaseMetaData.supportsSavepoints</code>方法，如果保存点可用则返回<code class="codeph">true</code> ，否则返回<code class="codeph">false</code> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28096"></a><div class="props_rev_3"><a id="GUID-FF4F93BC-C194-41D0-B07D-0031EAE2338A" name="GUID-FF4F93BC-C194-41D0-B07D-0031EAE2338A"></a><h5 id="JJDBC-GUID-FF4F93BC-C194-41D0-B07D-0031EAE2338A" class="sect5"><span class="enumeration_section">3.2.1.5</span>保存点说明</h5>
                     <div>
                        <div class="section">
                           <p>使用保存点时，必须考虑以下事项：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>释放保存点后，尝试在回滚操作中引用它将导致<code class="codeph">SQLException</code>异常。
                                 </p>
                              </li>
                              <li>
                                 <p>提交或回滚事务时，在该事务中创建的所有保存点都将自动释放并变为无效。</p>
                              </li>
                              <li>
                                 <p>将事务滚动回保存点会自动释放并使在相关保存点之后创建的任何保存点无效。</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="JJDBC28099"></a><div class="props_rev_3"><a id="GUID-11E3AAF8-009C-418E-8263-E41EE49F2EA8" name="GUID-11E3AAF8-009C-418E-8263-E41EE49F2EA8"></a><h4 id="JJDBC-GUID-11E3AAF8-009C-418E-8263-E41EE49F2EA8" class="sect4"><span class="enumeration_section">3.2.2</span>检索自动生成的密钥</h4>
                  <div>
                     <div class="section">
                        <p>插入行时，许多数据库系统会自动生成唯一的键字段。Oracle数据库在序列和触发器的帮助下提供相同的功能。JDBC 3.0引入了自动生成的密钥功能的检索，使您可以检索此类生成的值。在JDBC 3.0中，增强了以下接口以支持检索自动生成的密钥功能：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">java.sql中。DatabaseMetaData的</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">java.sql中。连接</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">java.sql中。声明</code></p>
                           </li>
                        </ul>
                        <p>这些接口提供了支持检索自动生成的密钥的方法。但是，仅在处理<code class="codeph">INSERT</code>语句时才支持此功能。处理其他数据操作语言（DML）语句，但不检索自动生成的键。
                        </p>
                        <div class="infoboxnote" id="GUID-11E3AAF8-009C-418E-8263-E41EE49F2EA8__GUID-B9F38F15-4BD0-4718-9BEC-7502A35B4CE0">
                           <p class="notep1">注意：</p>
                           <p>Oracle服务器端内部驱动程序不支持检索自动生成的密钥功能。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="JJDBC28101"></a><div class="props_rev_3"><a id="GUID-36E77574-B330-4B1F-9DF9-D53530276976" name="GUID-36E77574-B330-4B1F-9DF9-D53530276976"></a><h5 id="JJDBC-GUID-36E77574-B330-4B1F-9DF9-D53530276976" class="sect5"><span class="enumeration_section">3.2.2.1</span> java.sql。声明</h5>
                     <div>
                        <div class="section">
                           <p>如果未明确指示键列，则Oracle JDBC驱动程序无法识别需要检索的列。使用列名或列索引数组时，Oracle JDBC驱动程序可以识别哪些列包含要检索的自动生成的键。但是，当<code class="codeph">Statement.RETURN_GENERATED_KEYS</code>整数标志，Oracle JDBC驱动程序无法识别这些列。当整数标志用于指示要返回自动生成的键时， <code class="codeph">ROWID</code>伪列将作为键返回。然后可以从<code class="codeph">ResultSet</code>对象中获取<code class="codeph">ROWID</code>并可以使用它来检索其他列。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28103"></a><div class="props_rev_3"><a id="GUID-36C7ABD9-9646-4FFF-9F80-76EFA4FB11E4" name="GUID-36C7ABD9-9646-4FFF-9F80-76EFA4FB11E4"></a><h5 id="JJDBC-GUID-36C7ABD9-9646-4FFF-9F80-76EFA4FB11E4" class="sect5"><span class="enumeration_section">3.2.2.2</span>样本代码</h5>
                     <div>
                        <div class="section">
                           <p>以下代码说明了自动生成密钥的检索：</p><pre class="oac_no_warn" dir="ltr">/ **用于创建ORDERS表的SQL语句和用于生成* ORDER_ID的序列。 * *创建表订单（ORDER_ID号，CUSTOMER_ID号，ISBN号，*描述NCHAR（5））* *创建序列SEQ01增量1开始1000 * / ...String cols [] = {“ORDER_ID”，“DESCRIPTION”}; //创建PreparedStatement以将行插入ORDERS表。OraclePreparedStatement pstmt =（OraclePreparedStatement）conn.prepareStatement（“INSERT INTO ORDERS（ORDER_ID，CUSTOMER_ID，ISBN，DESCRIPTION）VALUES（SEQ01。NEXTVAL，101,966431502，？）“，cols）; char c [] = {'a'，'\ u5185'，'b'}; String s = new String（c）;</pre><pre class="oac_no_warn" dir="ltr">pstmt.setNString（1，s）; pstmt.executeUpdate（）; ResultSet rset = pstmt.getGeneratedKeys（）; ...
</pre><p>在前面的示例中，创建序列<code class="codeph">SEQ01</code> ，以生成从<code class="codeph">1000</code>开始的<code class="codeph">ORDER_ID</code>列的值，并在每次处理序列时递增<code class="codeph">1</code>以生成下一个值。创建<code class="codeph">OraclePreparedStatement</code>对象以将行插入<code class="codeph">ORDERS</code>表。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28104"></a><div class="props_rev_3"><a id="GUID-1C2E2B0F-081B-4AC2-84EB-91B1D84E5C3F" name="GUID-1C2E2B0F-081B-4AC2-84EB-91B1D84E5C3F"></a><h5 id="JJDBC-GUID-1C2E2B0F-081B-4AC2-84EB-91B1D84E5C3F" class="sect5"><span class="enumeration_section">3.2.2.3</span>自动生成密钥的限制</h5>
                     <div>
                        <div class="section">
                           <p>自动生成的密钥使用DML returns子句实现。因此，您需要仅按位置访问从<code class="codeph">getGeneratedKeys</code>方法返回的<code class="codeph">ResultSet</code>对象，并且不应将任何绑定变量名称用作<code class="codeph">ResultSet</code>对象中的列。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="JJDBC28106"></a><a id="JJDBC28107"></a><a id="JJDBC28105"></a><div class="props_rev_3"><a id="GUID-A21ED9A5-5A73-4019-999F-1D6E14C93F4E" name="GUID-A21ED9A5-5A73-4019-999F-1D6E14C93F4E"></a><h4 id="JJDBC-GUID-A21ED9A5-5A73-4019-999F-1D6E14C93F4E" class="sect4"><span class="enumeration_section">3.2.3</span> JDBC 3.0 LOB接口方法</h4>
                  <div>
                     <div class="section">
                        <p>下表显示了Oracle专有方法和JDBC 3.0标准方法之间的转换。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-A21ED9A5-5A73-4019-999F-1D6E14C93F4E__CACFFCBB">
                        <p class="titleintable">表3-2 BLOB方法等价物</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="BLOB方法等价物" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="44%" id="d20392e922">Oracle专有方法</th>
                                 <th align="left" valign="bottom" width="56%" id="d20392e925">JDBC 3.0标准方法</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d20392e930" headers="d20392e922 ">
                                    <p><code class="codeph">putBytes（long pos，byte [] bytes）</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d20392e930 d20392e925 ">
                                    <p><code class="codeph">setBytes（long pos，byte [] bytes）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d20392e940" headers="d20392e922 ">
                                    <p><code class="codeph">putBytes（long pos，byte [] bytes，int length）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d20392e940 d20392e925 ">
                                    <p><code class="codeph">setBytes（long pos，byte [] bytes，int offset，int len）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d20392e949" headers="d20392e922 ">
                                    <p><code class="codeph">getBinaryOutputStream（长pos）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d20392e949 d20392e925 ">
                                    <p><code class="codeph">setBinaryStream（长pos）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d20392e958" headers="d20392e922 ">
                                    <p><code class="codeph">修剪（长镜头）</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d20392e958 d20392e925 ">
                                    <p><code class="codeph">截断（长镜头）</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="tblformal" id="GUID-A21ED9A5-5A73-4019-999F-1D6E14C93F4E__CACGFCFC">
                        <p class="titleintable">表3-3 CLOB方法等价物</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="CLOB方法等价物" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="47%" id="d20392e977">Oracle专有方法</th>
                                 <th align="left" valign="bottom" width="53%" id="d20392e980">JDBC 3.0标准方法</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d20392e985" headers="d20392e977 ">
                                    <p><code class="codeph">putString（long pos，String str）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d20392e985 d20392e980 ">
                                    <p><code class="codeph">setString（long pos，String str）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d20392e994" headers="d20392e977 ">
                                    <p>不适用</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d20392e994 d20392e980 ">
                                    <p><code class="codeph">setString（long pos，String str，int offset，int len）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d20392e1002" headers="d20392e977 ">
                                    <p><code class="codeph">getAsciiOutputStream（长pos）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d20392e1002 d20392e980 ">
                                    <p><code class="codeph">setAsciiStream（long pos）</code> 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d20392e1012" headers="d20392e977 ">
                                    <p><code class="codeph">getCharacterOutputStream（长pos）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d20392e1012 d20392e980 ">
                                    <p><code class="codeph">setCharacterStream（长pos）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d20392e1021" headers="d20392e977 ">
                                    <p><code class="codeph">修剪（长镜头）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d20392e1021 d20392e980 ">
                                    <p><code class="codeph">截断（长镜头）</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="JJDBC28108"></a><div class="props_rev_3"><a id="GUID-B46CD2AA-EE57-498F-9E27-3B44A2548DED" name="GUID-B46CD2AA-EE57-498F-9E27-3B44A2548DED"></a><h4 id="JJDBC-GUID-B46CD2AA-EE57-498F-9E27-3B44A2548DED" class="sect4"><span class="enumeration_section">3.2.4</span>结果集可保持性</h4>
                  <div>
                     <div class="section">
                        <p>自JDBC 3.0以来引入了结果集可保持性。此功能使应用程序可以在执行提交操作时决定是应该打开还是关闭<code class="codeph">ResultSet</code>对象。提交操作可以是隐式操作也可以是显式操作。
                        </p>
                        <p>Oracle数据库仅支持<code class="codeph">HOLD_CURSORS_OVER_COMMIT</code> 。因此，它是Oracle JDBC驱动程序的默认值。任何更改可保持性的尝试都将抛出<code class="codeph">SQLFeatureNotSupportedException</code>异常。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28109"></a><div class="props_rev_3"><a id="GUID-0ABBC622-2FC8-4713-810F-F1417200C361" name="GUID-0ABBC622-2FC8-4713-810F-F1417200C361"></a><h3 id="JJDBC-GUID-0ABBC622-2FC8-4713-810F-F1417200C361" class="sect3"><span class="enumeration_section">3.3</span>支持JDBC 4.0标准</h3>
               <div>
                  <div class="section">
                     <p>Oracle Database Release 18c JDBC驱动程序提供对JDBC 4.0标准的支持。</p>
                     <div class="infoboxnote" id="GUID-0ABBC622-2FC8-4713-810F-F1417200C361__GUID-C07026C9-C9CF-450C-8213-A7C76A9035A6">
                        <p class="notep1">注意：</p>
                        <p>JDBC 4.0规范定义了<code class="codeph">java.sql.Connection.createArrayOf</code>工厂方法创建<code class="codeph">java.sql.Array</code>对象。<code class="codeph">createArrayOf</code>方法接受数组元素类型的名称作为参数之一，其中数组类型是匿名的。Oracle数据库仅支持命名数组类型，而不支持匿名数组类型。因此，当前版本的Oracle JDBC驱动程序不支持<code class="codeph">createArrayOf</code>方法，也不支持<code class="codeph">createArrayOf</code>方法。您必须使用Oracle特定的<code class="codeph">createARRAY</code>方法来创建数组类型。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-0ABBC622-2FC8-4713-810F-F1417200C361__GUID-F672FD94-B2B8-441F-8679-5674CC3B50D8">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="Oracle-collections.html#GUID-10D24D4A-4A0F-41DE-96CE-B9EED2583971">创建ARRAY对象</a> ”</span>以获取有关<code class="codeph">createArrayOf</code>方法的更多信息。
                              </p>
                           </li>
                           <li>
                              <p>以下页面提供了有关这些功能的详细信息，因为本文档仅提供了这些新功能的概述</p>
                              <p><a href="http://docs.oracle.com/javase/6/docs/" target="_blank">http://docs.oracle.com/javase/6/docs/</a></p>
                           </li>
                        </ul>
                     </div>
                     <p>Oracle Database Release 18c JDBC驱动程序中提供的一些功能如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="JDBC-standards-support.html#GUID-2A7DE9E6-1258-4694-B7AD-9B1194967659">包装模式支持</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-standards-support.html#GUID-61A9645F-9DDB-455A-AAAB-0AB62380C134">SQLXML类型</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-standards-support.html#GUID-F8B8B00E-3573-4F2C-BB03-BD1E5157D548">增强的异常层次结构和SQLException</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-standards-support.html#GUID-30BFA2C0-C6DD-49AA-8423-DBDB17DD3380">RowId数据类型</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-standards-support.html#GUID-12AE5875-3CFC-48EA-949B-539B7A56FF82">LOB创作</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-standards-support.html#GUID-74632540-DE51-49F2-8DB8-D00E1A1EC299">国家语言字符集支持</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28110"></a><div class="props_rev_3"><a id="GUID-2A7DE9E6-1258-4694-B7AD-9B1194967659" name="GUID-2A7DE9E6-1258-4694-B7AD-9B1194967659"></a><h4 id="JJDBC-GUID-2A7DE9E6-1258-4694-B7AD-9B1194967659" class="sect4"><span class="enumeration_section">3.3.1</span>包装模式支持</h4>
                  <div>
                     <div class="section">
                        <p>包装模式是Java应用程序中常用的编码模式，用于提供超出传统JDBC API的扩展，这些扩展特定于数据源。您可能需要使用这些扩展来访问作为代表实际资源的代理类实例包装的资源。JDBC 4.0引入了<code class="codeph">Wrapper</code>接口，该接口描述了访问由其代理表示的这些包装资源的标准机制，以允许直接访问资源委托。
                        </p>
                        <p><code class="codeph">Wrapper</code>接口提供以下两种方法：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">public boolean isWrapperFor（Class &lt;？&gt; iface）抛出SQLException;</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">public &lt;T&gt; T unwrap（Class &lt;T&gt; iface）抛出SQLException;</code></p>
                           </li>
                        </ul>
                        <p>除表示SQL数据的其他JDBC 4.0接口都实现此接口。这些包括<code class="codeph">Connection</code> ， <code class="codeph">Statement</code>及其子类型， <code class="codeph">ResultSet</code>和元数据接口。
                        </p>
                        <div class="infoboxnotealso" id="GUID-2A7DE9E6-1258-4694-B7AD-9B1194967659__GUID-443B8A11-43F4-4D9D-AFAB-1847D751CFC9">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/Wrapper.html" target="_blank"><code class="codeph">http://docs.oracle.com/javase/7/docs/api/java/sql/Wrapper.html</code></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28113"></a><a id="JJDBC28114"></a><a id="JJDBC28111"></a><div class="props_rev_3"><a id="GUID-61A9645F-9DDB-455A-AAAB-0AB62380C134" name="GUID-61A9645F-9DDB-455A-AAAB-0AB62380C134"></a><h4 id="JJDBC-GUID-61A9645F-9DDB-455A-AAAB-0AB62380C134" class="sect4"><span class="enumeration_section">3.3.2</span> SQLXML类型</h4>
                  <div>
                     <div class="section">
                        <p>JDBC 4.0标准中最重要的更新之一是对SQL数据类型的支持，由SQL 2003标准定义。现在JDBC提供了一个映射接口来支持SQL / XML数据库数据类型，即<code class="codeph">java.sql.SQLXML</code> 。这个新的JDBC接口定义了XML的Java本机绑定，从而使任何数据库XML数据的处理更容易，更有效。
                        </p>
                        <div class="infoboxnote" id="GUID-61A9645F-9DDB-455A-AAAB-0AB62380C134__GUID-4967B9DC-4D09-4FF3-83B9-713A01F36936">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您还需要在<code class="codeph">classpath</code>环境变量中包含<code class="codeph">xdb6.jar</code>和<code class="codeph">xmlparserv2.jar</code>文件，以使用<code class="codeph">SQLXML</code>类型数据（如果它们尚未存在于<code class="codeph">classpath</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">CachedRowset</code>对象不支持SQLXML。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>您可以通过调用<code class="codeph">java.sql.的<code class="codeph">createSQLXML</code>方法来创建XML实例<code class="codeph">java.sql.Connection</code>界面。此方法返回一个空的XML对象。
                        </p>
                        <p><code class="codeph">PreparedStatement</code> ， <code class="codeph">CallableStatement</code>和<code class="codeph">ResultSet</code>接口已通过以下方式使用适当的getter和setter方法进行了扩展：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">PreparedStatement</code> ：添加了方法<code class="codeph">setSQLXML</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">CallableStatement</code> ：添加了方法<code class="codeph">getSQLXML</code>和<code class="codeph">setSQLXML</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ResultSet</code> ：添加了方法<code class="codeph">getSQLXML</code></p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-61A9645F-9DDB-455A-AAAB-0AB62380C134__GUID-D668058B-12B5-41B0-9E88-4625611B2D97">
                           <p class="notep1">注意：</p>
                           <p>在Oracle Database <span class="italic">10g</span>及更早版本的Oracle Database <span class="italic">11g中</span> ，Oracle JDBC驱动程序通过Oracle专有扩展支持Oracle SQL XML类型（XMLType），该扩展不符合JDBC标准。
                           </p>
                           <p>11.2.0.2 Oracle JDBC驱动程序符合JDBC标准，引入了新的连接属性<code class="codeph">oracle.jdbc.getObjectReturnsXMLType</code> 。如果将此属性设置为<code class="codeph">false</code> ，则<code class="codeph">getObject</code>方法将返回<code class="codeph">java.sql.的实例<code class="codeph">java.sql.SQLXML</code>类型，如果依赖于使用<code class="codeph">oracle.xdb. SQL XMLType的现有Oracle专有支持<code class="codeph">oracle.xdb.XMLType</code> ，然后您可以将此属性的值更改回<code class="codeph">true</code> 。
                           </p>
                           <p>但是，当前版本的Oracle JDBC驱动程序不需要设置<code class="codeph">getObjectReturnsXMLType</code>属性。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-61A9645F-9DDB-455A-AAAB-0AB62380C134__GUID-3C42663B-5199-4058-BD5A-D5543300DA80">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-61A9645F-9DDB-455A-AAAB-0AB62380C134__GUID-EA78EEF0-35A9-47CD-AAA7-24F83C95583B">
                        <p class="titleinexample">示例3-1访问SQLXML数据</p>
                        <p>以下示例说明如何从<code class="codeph">String</code>创建XML实例，将XML数据写入数据库，然后从数据库中检索XML数据。
                        </p><pre class="oac_no_warn" dir="ltr">import java.sql。*; import java.util。性能; import oracle.jdbc.pool。OracleDataSource; public class SQLXMLTest {public static void main（String [] args）{Connection conn = null;语句stmt = null; ResultSet rs = null; PreparedStatement ps = null;字符串xml =“&lt;？xml版本= \“1.0 \”？&gt; \ n“+”&lt;oldjoke&gt; \ n“+”&lt;burns&gt;说&lt;quote&gt;晚安&lt;/ quote&gt;，Gracie。&lt;/ burns&gt; \ n“+”&lt;allen&gt; &lt;quote&gt;晚安，格雷西。&lt;/引用&gt; &lt;/ allen&gt; \ n“+”&lt;掌声/&gt; \ n“+”&lt;/ oldjoke&gt;“;尝试{OracleDataSource ods = new OracleDataSource（）; ods.setURL（”jdbc：oracle：thin：@ // localhost：5221 / orcl“）; ods.setUser（”HR“）; ods.setPassword（”hr“）; conn = ods.getConnection（）; ps = conn.prepareStatement（”insert into x values（？，？）“）; ps.setString（1，”string to string“）; SQLXML x = conn.createSQLXML（）; x.setString（xml）; ps.setSQLXML（2，x）; ps.execute（）; stmt = conn .createStatement（）; rs = stmt.executeQuery（“select * from x”）; while（rs.next（））{x = rs.getSQLXML（2）; System.out.println（rs.getString（1）+ “\ n”+ rs.getSQLXML（2）.getString（））; x.free（）;} rs.close（）; ps.close（）;} catch（SQLException e）{e.printStackTrace（）;} }}</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-61A9645F-9DDB-455A-AAAB-0AB62380C134__GUID-40F9A94D-2FF9-45F7-BECE-79EDA094EA41">
                           <p class="notep1">注意：</p>
                           <p>使用空XML调用setter方法会抛出<code class="codeph">SQLException</code> 。getter方法永远不会返回空XML。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28115"></a><div class="props_rev_3"><a id="GUID-F8B8B00E-3573-4F2C-BB03-BD1E5157D548" name="GUID-F8B8B00E-3573-4F2C-BB03-BD1E5157D548"></a><h4 id="JJDBC-GUID-F8B8B00E-3573-4F2C-BB03-BD1E5157D548" class="sect4"><span class="enumeration_section">3.3.3</span>增强的异常层次结构和SQLException</h4>
                  <div>
                     <div class="section">
                        <p>JDBC 3.0仅定义了一个异常<code class="codeph">SQLException</code> 。但是，存在大量错误，区分它们很有用。此功能提供<code class="codeph">SQLException</code>类的子类，以标识不同类别的错误。主要区别在于永久性错误和瞬态错误。永久性错误是系统正确运行的结果，并且总是会发生。瞬态错误是系统某些部分的故障（包括超时）的结果，可能不会再次发生。
                        </p>
                        <p>JDBC 4.0添加了额外的异常来表示瞬态错误和永久错误以及这些错误的不同类别。</p>
                        <p>此外， <code class="codeph">SQLException</code>类及其子类得到增强，以提供对J2SE链式异常功能的支持。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28116"></a><div class="props_rev_3"><a id="GUID-30BFA2C0-C6DD-49AA-8423-DBDB17DD3380" name="GUID-30BFA2C0-C6DD-49AA-8423-DBDB17DD3380"></a><h4 id="JJDBC-GUID-30BFA2C0-C6DD-49AA-8423-DBDB17DD3380" class="sect4"><span class="enumeration_section">3.3.4</span> RowId数据类型</h4>
                  <div>
                     <div class="section">
                        <p>JDBC 4.0提供了<code class="codeph">java.sql.RowId</code>数据类型表示SQL <code class="codeph">ROWID</code>值。您可以使用<code class="codeph">ResultSet</code>和<code class="codeph">CallableStatement</code>接口中定义的getter方法检索<code class="codeph">RowId</code>值。您还可以在参数化的<code class="codeph">PreparedStatement</code>使用<code class="codeph">RowId</code>值来设置具有<code class="codeph">RowId</code>对象的参数，或者在可更新的结果集中使用<code class="codeph">RowId</code>值来更新具有特定<code class="codeph">RowId</code>值的列。
                        </p>
                        <p><code class="codeph">RowId</code>对象有效，直到未删除标识的行。<code class="codeph">RowId</code>对象也可能对以下内容有效：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>创建它的事务的持续时间</p>
                           </li>
                           <li>
                              <p>创建它的会话的持续时间</p>
                           </li>
                           <li>
                              <p>一个未定义的持续时间，它永远有效</p>
                           </li>
                        </ul>
                        <p>可以通过调用<code class="codeph">DatabaseMetaData.getRowIdLifetime</code>方法来确定RowId对象的生存期。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28117"></a><div class="props_rev_3"><a id="GUID-12AE5875-3CFC-48EA-949B-539B7A56FF82" name="GUID-12AE5875-3CFC-48EA-949B-539B7A56FF82"></a><h4 id="JJDBC-GUID-12AE5875-3CFC-48EA-949B-539B7A56FF82" class="sect4"><span class="enumeration_section">3.3.5</span> LOB创建</h4>
                  <div>
                     <div class="section">
                        <p>在JDBC 4.0中， <code class="codeph">Connection</code>接口已得到增强，可为创建<code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>对象提供支持。该接口提供了<code class="codeph">createBlob</code> ， <code class="codeph">createClob</code>和<code class="codeph">createNClob</code>方法，使您可以创建<code class="codeph">Blob</code> ， <code class="codeph">Clob</code>和<code class="codeph">NClob</code>对象。
                        </p>
                        <p>创建的大对象（LOB）不包含任何数据。您可以通过调用<code class="codeph">java.sql.提供的API来向这些对象添加数据或从中检索数据<code class="codeph">java.sql.Blob</code> ， <code class="codeph">java.sql.Clob</code>和<code class="codeph">java.sql.NClob</code>接口。您可以从这些对象中检索整个内容或部分内容。以下代码段说明了如何从偏移量200开始从<code class="codeph">BLOB</code>对象检索100个字节的数据：</p><pre class="oac_no_warn" dir="ltr">...Connection con = DriverManager.getConnection（url，props）; Blob aBlob = con.createBlob（）; //将数据添加到BLOB对象。aBlob.setBytes（...）; ...//从BLOB对象中检索部分数据。InputStream = aBlob.getBinaryStream（200,100）; ...
</pre><p>您还可以使用<code class="codeph">setBlob</code> ， <code class="codeph">setClob</code>和<code class="codeph">setNClob</code>方法将LOB作为输入参数传递给<code class="codeph">PreparedStatement</code>对象。您可以使用<code class="codeph">updateBlob</code> ， <code class="codeph">updateClob</code>和<code class="codeph">updateNClob</code>方法更新可更新结果集中的列值。
                        </p>
                        <p>这些LOB是临时LOB，可用于任何应使用临时LOB的目的。要使存储在数据库中永久存储，必须将这些LOB写入表中。</p>
                        <div class="infoboxnotealso" id="GUID-12AE5875-3CFC-48EA-949B-539B7A56FF82__GUID-8C8F6E8B-2EBE-4A93-BFBE-E9A15212F2E2">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="LOBs-and-BFiles.html#GUID-8302600F-2799-445E-AFB0-BA8DE15DC71E">关于使用临时LOB</a> ”</span></p>
                        </div>
                        <p>临时LOB至少在创建它们的事务期间保持有效。这可能导致在长时间运行的事务中无理使用内存。您可以通过调用其<code class="codeph">free</code>方法释放LOB，如下所示：</p><pre class="oac_no_warn" dir="ltr">...Clob aClob = con.createClob（）; int numWritten = aClob.setString（1，val）; aClob.free（）; ...
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28118"></a><div class="props_rev_3"><a id="GUID-74632540-DE51-49F2-8DB8-D00E1A1EC299" name="GUID-74632540-DE51-49F2-8DB8-D00E1A1EC299"></a><h4 id="JJDBC-GUID-74632540-DE51-49F2-8DB8-D00E1A1EC299" class="sect4"><span class="enumeration_section">3.3.6</span>国家语言字符集支持</h4>
                  <div>
                     <div class="section">
                        <p>JDBC 4.0引入了<code class="codeph">NCHAR</code> ， <code class="codeph">NVARCHAR</code> ， <code class="codeph">LONGNVARCHAR</code>和<code class="codeph">NCLOB</code> JDBC类型来访问国家字符集类型。这些类型与<code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR</code> ， <code class="codeph">LONGVARCHAR</code>和<code class="codeph">CLOB</code>类型类似，不同之处在于使用国家字符集对值进行编码。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC29006"></a><div class="props_rev_3"><a id="GUID-CCFF23EA-6FA8-440D-B1CA-CD4220CB5609" name="GUID-CCFF23EA-6FA8-440D-B1CA-CD4220CB5609"></a><h3 id="JJDBC-GUID-CCFF23EA-6FA8-440D-B1CA-CD4220CB5609" class="sect3"><span class="enumeration_section">3.4</span>支持JDBC 4.1标准</h3>
               <div>
                  <div class="section">
                     <p>Oracle Database 12 <span class="italic">c</span>第1版JDBC驱动程序通过JDK 7提供对JDBC 4.1标准的支持。本节介绍JDBC 4.1规范中的以下重要方法：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph"><a href="JDBC-standards-support.html#GUID-1987FAC4-E93A-49A5-9EB4-A78B465E6938">setClientInfo方法</a></code></p>
                        </li>
                        <li>
                           <p><code class="codeph"><a href="JDBC-standards-support.html#GUID-D698998A-C58E-4CE7-9A50-B45E87A76C76">getObject方法</a></code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC29051"></a><a id="JJDBC29007"></a><div class="props_rev_3"><a id="GUID-1987FAC4-E93A-49A5-9EB4-A78B465E6938" name="GUID-1987FAC4-E93A-49A5-9EB4-A78B465E6938"></a><h4 id="JJDBC-GUID-1987FAC4-E93A-49A5-9EB4-A78B465E6938" class="sect4"><span class="enumeration_section">3.4.1</span> setClientInfo方法</h4>
                  <div>
                     <div class="section">
                        <p>要监视数据库资源的使用情况，可以使用<code class="codeph">setClientInfo</code>方法在给定时间点使用数据库标识各种应用程序任务。<code class="codeph">setClientInfo</code>方法设置提供各种应用程序信息的属性的值。此方法接受<code class="codeph">&lt;namespace&gt;.&lt;keyname&gt;</code>形式的键。例如，您可以使用<code class="codeph">setClientInfo</code>方法使用<code class="codeph">ACTION</code> ， <code class="codeph">MODULE</code>和<code class="codeph">CLIENTID</code>键（可在<code class="codeph">V$SESSION</code>视图和许多性能视图中找到，并可在跟踪文件中报告），如以下代码段所示：</p><pre class="pre codeblock"><code>//“conn”是java.sql的一个实例。连接：conn.setClientInfo（“OCSID.CLIENTID”，“Alice_HR_Payroll”）; conn.setClientInfo（“OCSID.MODULE”，“APP_HR_PAYROLL”）; conn.setClientInfo（“OCSID.ACTION”，“PAYROLL_REPORT”）;</code></pre><p><code class="codeph">setClientInfo</code>方法检查Java权限<code class="codeph">oracle.jdbc.clientInfo</code> ，如果安全检查失败，则抛出<code class="codeph">SecurityException</code> 。它支持<code class="codeph">&lt;namespace&gt;.形式的权限名称模式<code class="codeph">&lt;namespace&gt;.*</code> 。<code class="codeph">setClientInfo</code>方法设置或清除所有对，因此它要求必须将权限名称设置为星号（ <code class="codeph">*</code> ）。
                        </p>
                        <p>JDBC驱动程序支持任何<code class="codeph">&lt;namespace&gt;.&lt;keyname&gt;</code>组合。<code class="codeph">setClientInfo</code>方法支持其他命名空间中的<code class="codeph">OCSID</code>命名空间。但是，使用<code class="codeph">OCSID</code>命名空间和任何其他命名空间之间存在差异。使用<code class="codeph">OCSID</code>命名空间， <code class="codeph">setClientInfo</code>方法仅支持以下键：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">行动</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">客户端ID</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ECID</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">MODULE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">序列号</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBOP</code></p>
                           </li>
                        </ul>
                        <p>此外，与任何其他命名空间相关联的信息使用单个协议通过网络传送，而与OCSID命名空间相关联的信息使用不同的协议传送。用于OCSID命名空间的协议也被OCI C库和10 <span class="italic">g</span> JDBC瘦驱动程序以及后来的瘦驱动程序用于发送端到端度量值。
                        </p>
                        <div class="infoboxnote" id="GUID-1987FAC4-E93A-49A5-9EB4-A78B465E6938__GUID-48A38DBF-B9DB-4641-A9ED-1A6CE2CA309D">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">setClientInfo</code>方法向后兼容<code class="codeph">setEndToEndMetrics</code>和<code class="codeph">setClientIdentifier</code>方法，并且可以使用DMS来设置客户端标记。
                                 </p>
                              </li>
                              <li>
                                 <p>Oracle Database 12 <span class="italic">c</span>第1版（12.1）中不推荐使用<code class="codeph">setEndToEndMetrics</code>方法。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-1987FAC4-E93A-49A5-9EB4-A78B465E6938__BABCFCGD">
                        <p class="subhead3" id="GUID-1987FAC4-E93A-49A5-9EB4-A78B465E6938__GUID-C24CD8AB-A35F-41A0-B653-4DECFFCF8259">关于监控数据库操作</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>许多Java应用程序没有数据库连接，但是它们需要代表其功能来跟踪数据库活动。对于这样的应用，Oracle数据库12 <span class="italic">c</span>解除1（12.1）引入的<code class="codeph">DBOP</code>它可以与所述应用程序的线程相关联，当所述应用程序不具有到数据库明确的访问标记。该<a id="d20392e1870" class="indexterm-anchor"></a> DBOP标记通过调用DMS API与线程相关联，无需与数据库建立活动连接。当线程发送下一个数据库调用时，DMS通过连接和数据库调用传播这些标记，而不需要额外的往返。通过这种方式，应用程序可以将其活动与数据库操作相关联，同时分解Application层中的代码。<code class="codeph">DBOP</code>标记由以下组成：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>数据库操作名称</p>
                           </li>
                           <li>
                              <p>执行ID</p>
                           </li>
                           <li>
                              <p>操作属性</p>
                           </li>
                        </ul>
                        <p><code class="codeph">setClientInfo</code>方法支持<code class="codeph">DBOP</code>标记。<code class="codeph">setClientInfo</code>方法设置标记的值以监视数据库操作。当JDBC应用程序连接到数据库并进行数据库往返时，可以跟踪数据库活动。例如，您可以通过以下方式将<code class="codeph">DBOP</code>标记的值设置为<code class="codeph">foo</code> ：</p><pre class="oac_no_warn" dir="ltr">...Connection conn = DriverManager.getConnection（myUrl，myUsername，myPassword）; conn.setClientInfo（“E2E_CONTEXT.DBOP”，“foo”）;语句stmt = conn.createStatement（）; stmt.execute（“从双选1”）; //在此之后设置DBOP标记...
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC29009"></a><a id="JJDBC29010"></a><a id="JJDBC29011"></a><a id="JJDBC29008"></a><div class="props_rev_3"><a id="GUID-D698998A-C58E-4CE7-9A50-B45E87A76C76" name="GUID-D698998A-C58E-4CE7-9A50-B45E87A76C76"></a><h4 id="JJDBC-GUID-D698998A-C58E-4CE7-9A50-B45E87A76C76" class="sect4"><span class="enumeration_section">3.4.2</span> getObject方法</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">getObject</code>方法根据传递的参数检索对象。Oracle Database 12 <span class="italic">c</span>第2版（12.2.0.1）支持以下两种<code class="codeph">getObject</code>方法：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D698998A-C58E-4CE7-9A50-B45E87A76C76__GUID-55A187B7-515A-460E-A5AE-ADCB69239FD0">方法1</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">&lt;T&gt; T getObject（int parameterIndex，java.lang。Class &lt;T&gt; type）抛出SQLException</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D698998A-C58E-4CE7-9A50-B45E87A76C76__GUID-C3E3FFF2-BD84-464B-AE72-AACB6E595C62">方法2</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">&lt;T&gt; T getObject（java.lang。String parameterName，java.lang。Class &lt;T&gt; type）抛出SQLException</pre><p>这些方法支持JDBC规范中列出的转换以及<a href="JDBC-reference-information.html#GUID-260661A5-E0CE-40D5-8590-FC15266C3392__CACBBAIE" title="此表列出了有效的SQL数据类型和Java类映射。">表A-1中</a>列出的其他转换。Oracle数据库12 <span class="italic">c</span>解除2（12.2.0.1）驱动程序也支持转换到一些附加的类，其中实现一个或多个静态<code class="codeph">valueOf</code>方法中，如果下列任一条件满足：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>JDBC规范或<a href="JDBC-reference-information.html#GUID-260661A5-E0CE-40D5-8590-FC15266C3392__CACBBAIE" title="此表列出了有效的SQL数据类型和Java类映射。">表A-1中</a>未指定其他转换</p>
                           </li>
                           <li>
                              <p><code class="codeph">type</code>参数定义一个或多个名为<code class="codeph">valueOf</code>公共静态单参数方法</p>
                           </li>
                           <li>
                              <p>一个或多个<code class="codeph">valueOf</code>方法接受一个参数，该参数是由JDBC规范或<a href="JDBC-reference-information.html#GUID-260661A5-E0CE-40D5-8590-FC15266C3392__CACBBAIE" title="此表列出了有效的SQL数据类型和Java类映射。">表A-1</a>支持的类型的值</p>
                           </li>
                        </ul>
                        <p>此版本的JDBC驱动程序将值转换为JDBC规范或<a href="JDBC-reference-information.html#GUID-260661A5-E0CE-40D5-8590-FC15266C3392__CACBBAIE" title="此表列出了有效的SQL数据类型和Java类映射。">表A-1中</a>指定的类型，然后使用转换后的值作为参数调用相应的<code class="codeph">valueOf</code>方法。如果有多个适当的<code class="codeph">valueOf</code>方法，则JDBC驱动程序以未指定的方式选择一个<code class="codeph">valueOf</code>方法。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D698998A-C58E-4CE7-9A50-B45E87A76C76__GUID-F6102411-55E7-43CB-B9A7-774E20EB02F5">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">ResultSet rs =。 。 。;字符c = rs.getObject（1，java.lang。Character.class）;</pre><p>Character类定义以下<code class="codeph">valueOf</code>方法：</p><pre class="oac_no_warn" dir="ltr">public static Character valueOf（char c）;</pre><p><a href="JDBC-reference-information.html#GUID-260661A5-E0CE-40D5-8590-FC15266C3392__CACBBAIE" title="此表列出了有效的SQL数据类型和Java类映射。">表A-1</a>指定<code class="codeph">NUMBER</code>可以转换为<code class="codeph">char</code> 。因此，如果<code class="codeph">ResultSet</code>的第一列是<code class="codeph">NUMBER</code> ，则<code class="codeph">getObject</code>方法将该<code class="codeph">NUMBER</code>值转换为<code class="codeph">char</code> ，并将<code class="codeph">char</code>值传递给<code class="codeph">valueOf(char)</code>方法并返回生成的<code class="codeph">Character</code>对象。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-47632F02-EA29-41BA-A51C-0C157A5B4122" name="GUID-47632F02-EA29-41BA-A51C-0C157A5B4122"></a><h3 id="JJDBC-GUID-47632F02-EA29-41BA-A51C-0C157A5B4122" class="sect3"><span class="enumeration_section">3.5</span>支持JDBC 4.2标准</h3>
               <div>
                  <p>Oracle Database 12 <span class="italic">c</span>第2版（12.2.0.1）JDBC驱动程序通过JDK 8提供对JDBC 4.2标准的支持。本节介绍了此版本中添加的一些重要方法。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-47632F02-EA29-41BA-A51C-0C157A5B4122__GUID-6DEFE076-E3F9-423F-9928-C55F22605156">％Large％方法</p>
                     <p>此版本的Oracle JDBC驱动程序支持JDBC 4.2标准中引入的以下方法，这些方法处理<code class="codeph">long</code>值：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">executeLargeBatch（）</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">executeLargeUpdate（String sql）</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">executeLargeUpdate（String sql，int autoGeneratedKeys）</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">executeLargeUpdate（String sql，int [] columnIndexes）</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">executeLargeUpdate（String sql，String [] columnNames）</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">getLargeMaxRows（）</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">getLargeUpdateCount（）</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">setLargeMaxRows（long max）</code></p>
                        </li>
                     </ul>
                     <p>这些新方法作为<code class="codeph">java.sql.一部分提供<code class="codeph">java.sql.Statement</code>界面。<code class="codeph">%Large%</code>方法与相应的<span class="italic">非大型</span>方法相同，只是它们使用<code class="codeph">long</code>值而不是<code class="codeph">int</code>值。例如， <code class="codeph">executeUpdate</code>方法返回更新为<code class="codeph">int</code>值的行数，而<code class="codeph">executeLargeUpdate</code>方法返回更新为<code class="codeph">long</code>值的行数。如果行数大于<code class="codeph">Integer.的值<code class="codeph">Integer.MAX_VALUE</code> ，那么您的应用程序必须使用<code class="codeph">executeLargeUpdate</code>方法。
                     </p>
                     <p>以下代码段显示了如何使用<code class="codeph">executeLargeUpdate(String sql)</code>方法：</p><pre class="pre codeblock"><code>...语句stmt = conn.createStatement（）; stmt.executeQuery（“create table BloggersData（FIRST_NAME varchar（100），ID int）”）; long updateCount = stmt.executeLargeUpdate（“插入BloggersData（FIRST_NAME，ID）值（'John'，1）”）; ...</code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-47632F02-EA29-41BA-A51C-0C157A5B4122__GUID-CB594E52-65F3-4941-A787-B28F287DAA48">SQLType方法</p>
                     <p>此版本的Oracle JDBC驱动程序支持JDBC 4.2标准中引入的以下方法，这些方法采用<code class="codeph">SQLType</code>参数：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">方法setObject</code></p>
                           <p><code class="codeph">setObject</code>方法设置指定对象的指定参数的值。此方法类似于<code class="codeph">setObject(int parameterIndex, Object x, SQLType targetSqlType, int scaleOrLength)</code>方法，但它假定比例为零。此方法的默认实现抛出<code class="codeph">SQLFeatureNotSupportedException</code> 。
                           </p><pre class="pre codeblock"><code>void setObject（int parameterIndex，java.lang。Object x，SQLType targetSqlType）抛出SQLException</code></pre><p>哪里，</p>
                           <p><code class="codeph">parameterIndex</code>是指定参数的索引，其中第一个参数是1，第二个参数是2，依此类推</p>
                           <p><code class="codeph">x</code>是包含输入参数值的对象</p>
                           <p><code class="codeph">targetSqlType</code>是要发送到数据库的SQL类型</p>
                        </li>
                        <li>
                           <p><code class="codeph">updateObject</code></p>
                           <p><code class="codeph">updateObject</code>方法将列索引作为参数，并使用Object值更新指定的列。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">的registerOutParameter</code></p>
                           <p><code class="codeph">registerOutParameter</code>方法将指定的参数注册为JDBC类型<code class="codeph">SQLType</code> 。
                           </p>
                        </li>
                     </ul>
                     <p>以下代码段显示了如何使用<code class="codeph">setObject</code>方法：</p><pre class="pre codeblock"><code>...int empId = 100; connection.prepareStatement（“SELECT FIRST_NAME，LAST_NAME来自EMPLOYEES，EMPNO =？“）; preparedStatement.setObject（1，Integer.valueOf（empId），OracleType。数）; ...</code></pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="https://docs.oracle.com/javase/8/docs/technotes/guides/jdbc/jdbc_42.html" target="_blank">https://docs.oracle.com/javase/8/docs/technotes/guides/jdbc/jdbc_42.html</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00941.troubleshooting-oracle-database-gateway-appc.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>故障排除</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-appc-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T18:35:49-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18239-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="developing-appc-client-app-tcpip-only.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-database-gateway-appc-data-dictionary.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="APPUG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="developing-appc-client-app-tcpip-only.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-database-gateway-appc-data-dictionary.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">故障排除</li>
            </ol>
            <a id="GUID-6A2105DD-D6F0-4368-BE63-F8A85D5C959F" name="GUID-6A2105DD-D6F0-4368-BE63-F8A85D5C959F"></a><a id="APPUG800"></a>
            
            <h2 id="APPUG-GUID-6A2105DD-D6F0-4368-BE63-F8A85D5C959F" class="sect2"><span class="enumeration_chapter">8</span>故障排除</h2>
         </header>
         <div class="ind">
            <div>
               <p>以下主题讨论了用于确定和解决数据转换，截断和对话启动问题的诊断技术和帮助。他们还描述了在调试时如何收集数据（ <a id="d27654e30" class="indexterm-anchor"></a>跟踪）选项已打开。
               </p>
               <p>您希望仅在怀疑存在问题时跟踪PL / SQL存储过程。在正常操作期间不要启用跟踪，因为它会影响性能。</p>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="troubleshooting-oracle-database-gateway-appc.html#GUID-44AA95CB-1A59-4A0D-8BCB-19B1139611E6">提示定义错误</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-oracle-database-gateway-appc.html#GUID-4281654A-F168-4FAE-965A-075F4F50B293">PG DD诊断参考文献的问题分析</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-oracle-database-gateway-appc.html#GUID-6518A07D-DCF3-4A68-806E-99A676824ADA">使用PG DD选择脚本进行问题分析</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-oracle-database-gateway-appc.html#GUID-4E779CEA-28E7-490E-B067-BC437772DB1F">数据转换错误</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-oracle-database-gateway-appc.html#GUID-631D594A-F7C7-4A93-972C-9B3616627EA1">TIP运行时跟踪的问题分析</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-oracle-database-gateway-appc.html#GUID-EF313327-72F1-40CC-969E-8792EFC8BB82">提示运行时跟踪控件</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-oracle-database-gateway-appc.html#GUID-6A9F8498-78E7-4081-A3A5-6E6E626484CF">抑制TIP警告和跟踪</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-oracle-database-gateway-appc.html#GUID-08CB835D-AD35-419F-949A-84E58E7262A3">数据转换和截断错误的问题分析</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-oracle-database-gateway-appc.html#GUID-8957B512-BDC4-4D22-9BBB-1CDA7387BB9A">网关服务器跟踪</a></p>
                  </li>
               </ul>
            </div><a id="APPUG1317"></a><a id="APPUG1049"></a><div class="props_rev_3"><a id="GUID-44AA95CB-1A59-4A0D-8BCB-19B1139611E6" name="GUID-44AA95CB-1A59-4A0D-8BCB-19B1139611E6"></a><h3 id="APPUG-GUID-44AA95CB-1A59-4A0D-8BCB-19B1139611E6" class="sect3">提示定义错误</h3>
               <div>
                  <div class="section">
                     <p>如果未正确定义PG DD中的<code class="codeph">TRANSACTION</code> ， <code class="codeph">CALL</code>或<code class="codeph">DATA</code>条目，则会发生TIP定义错误。<a id="d27654e126" class="indexterm-anchor"></a><a id="d27654e130" class="indexterm-anchor"></a></p>
                     <p>使用<code class="codeph">REPORT</code> with <code class="codeph">DEBUG</code>语句列出PG DD内容和<code class="codeph">GENERATE DIAGNOSE(PKGEX(DR))</code>选项以在TIP中包含相应的ID号。</p>
                     <p><a href="troubleshooting-oracle-database-gateway-appc.html#GUID-44AA95CB-1A59-4A0D-8BCB-19B1139611E6__CHDBEGEA" title="这3列表显示了用于表示ID号的PGDD ID号及其与PGAU REPORT，PGDD表，序列对象的对应关系">表8-1</a>显示了用于表示ID号的助记符及其与以下内容的对应关系：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PGAU <code class="codeph">REPORT</code>包含调试列表， <a id="d27654e158" class="indexterm-anchor"></a><a id="d27654e164" class="indexterm-anchor"></a> <code class="codeph">GENERATE</code>跟踪和提示</p>
                        </li>
                        <li>
                           <p>PG DD表和从中选择ID号的列</p>
                        </li>
                        <li>
                           <p>源自ID号的Oracle序列对象</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-44AA95CB-1A59-4A0D-8BCB-19B1139611E6__CHDBEGEA">
                     <p class="titleintable">表8-1通信中的PG DD ID号</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="通信中的PG DD ID号码" width="100%" border="1" summary="This 3 column table shows the PGDD ID numbers used in correspondence to represent ID numbers and their correspondence with PGAU REPORT, PGDD tables, Sequence Objects" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d27654e188">PGAU报告/提示</th>
                              <th align="left" valign="bottom" width="35%" id="d27654e191">PDGG表（col）</th>
                              <th align="left" valign="bottom" width="34%" id="d27654e194">序列对象</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e199" headers="d27654e188 ">
                                 <p><code class="codeph">v＃交易版</code></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d27654e199 d27654e191 ">
                                 <p><code class="codeph">pga_trans（版本）</code></p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d27654e199 d27654e194 ">
                                 <p><code class="codeph">pga.transvers</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e212" headers="d27654e188 ">
                                 <p><code class="codeph">v＃通话版</code></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d27654e212 d27654e191 ">
                                 <p><code class="codeph">pga_call（版本）</code></p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d27654e212 d27654e194 ">
                                 <p><code class="codeph">pga.callvers</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e225" headers="d27654e188 ">
                                 <p><code class="codeph">v＃数据版本</code></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d27654e225 d27654e191 ">
                                 <p><code class="codeph">pga_data（版本）</code></p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d27654e225 d27654e194 ">
                                 <p><code class="codeph">pga.datavers</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e238" headers="d27654e188 ">
                                 <p><code class="codeph">t＃transaction id＃</code></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d27654e238 d27654e191 ">
                                 <p><code class="codeph">pga_trans（反式＃）</code></p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d27654e238 d27654e194 ">
                                 <p><code class="codeph">pga.transeq</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e251" headers="d27654e188 ">
                                 <p><code class="codeph">c＃call id＃</code></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d27654e251 d27654e191 ">
                                 <p><code class="codeph">pga_call（电话＃）</code> 
                                 </p>
                                 <p><code class="codeph">pga_call_parm（电话＃）</code></p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d27654e251 d27654e194 ">
                                 <p><code class="codeph">pga.callseq</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e268" headers="d27654e188 ">
                                 <p><code class="codeph">d＃data id＃</code></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d27654e268 d27654e191 ">
                                 <p><code class="codeph">pga_call_parm（数据＃）</code></p>
                                 <p><code class="codeph">pga_data（数据＃）</code></p>
                                 <p><code class="codeph">pga_fields（数据＃）</code></p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d27654e268 d27654e194 ">
                                 <p><code class="codeph">pga.dataseq</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e287" headers="d27654e188 ">
                                 <p><code class="codeph">f＃field id＃</code></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d27654e287 d27654e191 ">
                                 <p><code class="codeph">pga_fields（FLD＃）</code></p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d27654e287 d27654e194 ">
                                 <p><code class="codeph">pga.fieldseq</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e300" headers="d27654e188 ">
                                 <p><code class="codeph">q＃qualifier id＃</code></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d27654e300 d27654e191 ">
                                 <p><code class="codeph">pga_data_values（QUAL＃）</code></p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d27654e300 d27654e194 ">
                                 <p><code class="codeph">pga.fieldseq</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e313" headers="d27654e188 ">
                                 <p><code class="codeph">#trans属性id＃</code></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d27654e313 d27654e191 ">
                                 <p><code class="codeph">pga_trans_values（ATTR＃）</code></p>
                                 <p><code class="codeph">pga_trans_attr（ATTR＃）</code></p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d27654e313 d27654e194 ">
                                 <p><code class="codeph">pga.tattrseq</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e329" headers="d27654e188 ">
                                 <p><code class="codeph">＃字段属性id＃</code></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d27654e329 d27654e191 ">
                                 <p><code class="codeph">pga_data_values（ATTR＃）</code></p>
                                 <p><code class="codeph">pga_data_attr（ATTR＃）</code></p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d27654e329 d27654e194 ">
                                 <p><code class="codeph">pga.dtattseq</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e345" headers="d27654e188 ">
                                 <p><code class="codeph">e＃environment</code></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d27654e345 d27654e191 ">
                                 <p><code class="codeph">pga_environments（ENV＃）</code></p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d27654e345 d27654e194 ">
                                 <p><code class="codeph">pga.envrseq</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e359" headers="d27654e188 ">
                                 <p><code class="codeph">l＃编译器/语言</code></p>
                              </td>
                              <td align="left" valign="top" width="35%" headers="d27654e359 d27654e191 ">
                                 <p><code class="codeph">pga_compilers（化合物＃）</code></p>
                              </td>
                              <td align="left" valign="top" width="34%" headers="d27654e359 d27654e194 ">
                                 <p><code class="codeph">pga.compseq</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>这些ID号可用于将TIP中执行的转换与存储在PG DD中的定义相关联。</p>
                     <p>P G DD诊断参考出现在使用<code class="codeph">PKGEX(DR)</code>选项生成的<code class="codeph">PKGEX(DR)</code>作为单行注释：</p><pre class="oac_no_warn" dir="ltr">-  PG DD <span class="italic">类型idno = nnn ...</span>  
</pre><p>PG DD诊断引用在<code class="codeph">REPORT</code>显示在<code class="codeph">DEBUG</code>列表中，在其相关定义条目的右侧或右侧作为最终分隔的注释：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">/ * idno = nnn * /</span> 
</pre><p>有关PG DD的更多信息，请参阅<a href="oracle-database-gateway-appc-data-dictionary.html#GUID-F3F6C244-4F0A-4529-B790-A5BBC4FB2F93">APPC数据字典的数据库网关</a> ，包括字典表的完整列表。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPUG1050"></a><div class="props_rev_3"><a id="GUID-4281654A-F168-4FAE-965A-075F4F50B293" name="GUID-4281654A-F168-4FAE-965A-075F4F50B293"></a><h3 id="APPUG-GUID-4281654A-F168-4FAE-965A-075F4F50B293" class="sect3">PG DD诊断参考文献的问题分析</h3>
               <div>
                  <div class="section">
                     <p>应通过PGAU <code class="codeph">GENERATE</code>命令和<code class="codeph">PKGEX(DR)</code>诊断选项<code class="codeph">GENERATE</code> TIP，以在TIP中包含PG DD参考注释。这些诊断引用仅为注释，不会影响TIP的运行时开销。有关<code class="codeph">PKGEX (DR)</code>参数的说明，请参阅<a href="pga-utility-oracle-database-gateway-appc.html#GUID-F73E20E7-D94C-468F-BA65-CC34F6373F19">Procedural Gateway Administration Utility</a>中的<a href="pga-utility-oracle-database-gateway-appc.html#GUID-3ABF57C3-C8F6-4DA7-9D7F-C415C805A402">GENERATE</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>在定义之前<a id="d27654e475" class="indexterm-anchor"></a> PL / SQL包，从TIP中的TIP规范中识别事务名称，ID号（ <code class="codeph">t#</code> ）和版本（ <code class="codeph">v#</code> ）。</span></li>
                     <li class="stepexpand"><span>调用PGAU <code class="codeph">REPORT WITH DEBUG</code>指定相同的事务名称和版本。</span><div>
                           <p><code class="codeph">REPORT</code>从PG DD中选择定义，并生成一个列表，显示<code class="codeph">DATA</code> ， <code class="codeph">CALL</code>和<code class="codeph">TRANSACTION</code>定义以及每个用户提供的定义的ID号。
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>将报告的定义与远程事务程序中使用的定义进行比较，并识别所有相应的交换和传输的数据格式。</span></li>
                     <li class="stepexpand"><span>查找并调查任何不匹配，例如：</span><div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>不同数量的发送/接收呼叫</p>
                              </li>
                              <li>
                                 <p>不同的发送/接收呼叫序列</p>
                              </li>
                              <li>
                                 <p>发送/接收呼叫上的不同参数列表</p>
                              </li>
                              <li>
                                 <p>每个交换参数内的不同数据字段</p>
                              </li>
                              <li>
                                 <p>每个交换参数的长度不同</p>
                              </li>
                              <li>
                                 <p>每个交换参数的不支持的数据类型</p>
                              </li>
                              <li>
                                 <p>不恰当地初始化控制字段：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>重复小组计数</p>
                                       <p><code class="codeph">IBMVSCOBOLII</code>受影响的条款包括</p>
                                       <p><code class="codeph">OCCURS n TIMES DEPENDING ON</code> <code class="codeph">field</code></p>
                                    </li>
                                    <li>
                                       <p>重新映射组标准</p>
                                       <p><code class="codeph">IBMVSCOBOLII</code>受影响的条款包括</p>
                                       <p><code class="codeph">REDEFINES field1 WHEN field2 =</code>标准</p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="APPUG1318"></a><a id="APPUG1319"></a><a id="APPUG1051"></a><div class="props_rev_3"><a id="GUID-6518A07D-DCF3-4A68-806E-99A676824ADA" name="GUID-6518A07D-DCF3-4A68-806E-99A676824ADA"></a><h3 id="APPUG-GUID-6518A07D-DCF3-4A68-806E-99A676824ADA" class="sect3">使用PG DD选择脚本进行问题分析</h3>
               <div>
                  <p><a id="d27654e603" class="indexterm-anchor"></a> PGAU <code class="codeph">GENERATE</code>错误消息和<code class="codeph">TRACE(OC)</code>条目引用SQL <code class="codeph">SELECT</code>语句。有关每个条目的名称标识的含义，请参阅<a href="troubleshooting-oracle-database-gateway-appc.html#GUID-6518A07D-DCF3-4A68-806E-99A676824ADA__G1019897" title="此2列表列出了每个条目的名称标识的含义。">表8-2</a> 。
                  </p>
                  <div class="tblformal" id="GUID-6518A07D-DCF3-4A68-806E-99A676824ADA__G1019897">
                     <p class="titleintable">表8-2 TRACE（OC）输出的含义</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="TRACE（OC）输出的含义" width="100%" border="1" summary="This 2 column table lists the meaning of the name designations for each entry." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d27654e634">名称</th>
                              <th align="left" valign="bottom" width="69%" id="d27654e637">条目</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e642" headers="d27654e634 ">
                                 <p><code class="codeph">SED</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e642 d27654e637 ">
                                 <p>选择环境数据</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e650" headers="d27654e634 ">
                                 <p><code class="codeph">STL</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e650 d27654e637 ">
                                 <p>选择交易（最新版本）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e658" headers="d27654e634 ">
                                 <p><code class="codeph">STV</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e658 d27654e637 ">
                                 <p>选择交易（特定版本）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e666" headers="d27654e634 ">
                                 <p><code class="codeph">STC</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e666 d27654e637 ">
                                 <p>选择交易电话</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e674" headers="d27654e634 ">
                                 <p><code class="codeph">SPD</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e674 d27654e637 ">
                                 <p>选择参数数据</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e682" headers="d27654e634 ">
                                 <p><code class="codeph">SF</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e682 d27654e637 ">
                                 <p>选择字段</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e690" headers="d27654e634 ">
                                 <p><code class="codeph">SFA</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e690 d27654e637 ">
                                 <p>选择字段属性</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e698" headers="d27654e634 ">
                                 <p><code class="codeph">SXF</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e698 d27654e637 ">
                                 <p>选择转换格式</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e706" headers="d27654e634 ">
                                 <p><code class="codeph">SXA</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e706 d27654e637 ">
                                 <p>选择属性转换</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>该<a id="d27654e715" class="indexterm-anchor"></a>提供<a href="troubleshooting-oracle-database-gateway-appc.html#GUID-6518A07D-DCF3-4A68-806E-99A676824ADA__G1019813" title="提供此表中的SQL * Plus测试脚本是为了执行相同的SELECTS，因为GENERATE执行以确定生成TIP时正在使用哪些PG DD行">表8-3</a>中的SQL * Plus测试脚本以执行相同的<code class="codeph">SELECTS</code>因为<code class="codeph">GENERATE</code>执行以确定在生成TIP时正在使用哪些PG DD行。在安装期间，这些文件将加载到Microsoft Windows上的<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录或基于UNIX的系统上的<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中。
                  </p>
                  <div class="tblformal" id="GUID-6518A07D-DCF3-4A68-806E-99A676824ADA__G1019813">
                     <p class="titleintable">表8-3 SQL * Plus测试脚本及其对应的条目</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SQL * Plus测试脚本及其相应的条目" width="100%" border="1" summary="The SQL*Plus test scripts in this table are provided to perform the identical SELECTS as GENERATE performs to determine which PG DD rows are being used when the TIP is generated" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d27654e748">脚本</th>
                              <th align="left" valign="bottom" width="69%" id="d27654e751">条目</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e756" headers="d27654e748 ">
                                 <p><code class="codeph">pgddsed.sql</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e756 d27654e751 ">
                                 <p>选择环境数据</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e764" headers="d27654e748 ">
                                 <p><code class="codeph">pgddstl.sql</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e764 d27654e751 ">
                                 <p>选择交易（最新版本）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e772" headers="d27654e748 ">
                                 <p><code class="codeph">pgddstv.sql</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e772 d27654e751 ">
                                 <p>选择交易（特定版本）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e780" headers="d27654e748 ">
                                 <p><code class="codeph">pgddstc.sql</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e780 d27654e751 ">
                                 <p>选择交易电话</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e788" headers="d27654e748 ">
                                 <p><code class="codeph">pgddspd.sql</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e788 d27654e751 ">
                                 <p>选择参数数据</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e796" headers="d27654e748 ">
                                 <p><code class="codeph">pgddsf.sql</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e796 d27654e751 ">
                                 <p>选择字段</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e804" headers="d27654e748 ">
                                 <p><code class="codeph">pgddsfa.sql</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e804 d27654e751 ">
                                 <p>选择字段属性</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e812" headers="d27654e748 ">
                                 <p><code class="codeph">pgddsxf.sql</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e812 d27654e751 ">
                                 <p>选择转换格式</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e820" headers="d27654e748 ">
                                 <p><code class="codeph">pgddsxa.sql</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e820 d27654e751 ">
                                 <p>选择属性转换</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>脚本按<code class="codeph">GENERATE</code>使用的顺序显示，每个脚本都会提示SQL * Plus用户输入所需的内容。从先前选择中检索的信息通常用作后续选择的输入。如果您怀疑PG DD字段条目产生了不准确的数据，请浏览上面列出的<code class="codeph">.sql</code>文件以确定问题的根源。在安装期间，这些文件将加载到Microsoft Windows上的<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录或基于UNIX的系统上的<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中。
                  </p>
               </div>
            </div><a id="APPUG1052"></a><div class="props_rev_3"><a id="GUID-4E779CEA-28E7-490E-B067-BC437772DB1F" name="GUID-4E779CEA-28E7-490E-B067-BC437772DB1F"></a><h3 id="APPUG-GUID-4E779CEA-28E7-490E-B067-BC437772DB1F" class="sect3">数据转换错误</h3>
               <div>
                  <p><a id="d27654e878" class="indexterm-anchor"></a>数据转换错误通常是以下结果：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数据类型的确定不正确</p>
                        <p>要么</p>
                     </li>
                     <li>
                        <p>数据位置规范不正确</p>
                     </li>
                  </ul>
                  <p>PGAU确定数据类型基于PG DD， <code class="codeph">pga_fields</code> <code class="codeph">(mask)</code>和<code class="codeph">pga_fields</code> <code class="codeph">(maskopts)</code>列中的值。PGAU生成<a id="d27654e904" class="indexterm-anchor"></a>用于根据掩码值执行转换的PL / SQL代码：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a id="d27654e912" class="indexterm-anchor"></a> <code class="codeph">PIC X</code>转换为具有相同字符长度的<code class="codeph">CHAR</code></p>
                     </li>
                     <li>
                        <p><a id="d27654e922" class="indexterm-anchor"></a> <code class="codeph">PIC G</code>转换为具有相同字符长度的<code class="codeph">CHAR</code></p>
                     </li>
                     <li>
                        <p><a id="d27654e932" class="indexterm-anchor"></a> <code class="codeph">PIC 9</code>转换为<code class="codeph">NUMBER</code></p>
                     </li>
                  </ul>
                  <p>假定所有<code class="codeph">PIC X</code>和<code class="codeph">PIC G</code>掩模值的字符数据类型，转换错误更可能是位置，长度和对齐误差的结果。
                  </p>
                  <p>数字数据类型的确定取决于几个因素，包括掩码和掩码值的组合以及它们如何以其内部格式应用于实际远程主机数据。mask，maskopts和data的值可能以意外的方式发生冲突。例如，如果数据采用显示格式，则可以覆盖<code class="codeph">USAGE IS COMP</code>等选项。虽然编译器偶尔会正确执行此类覆盖，但在与使用其他语言编码的系统交换数据时，它们可能会导致意外结果。
                  </p>
                  <p>要通知用户此类覆盖，以下<code class="codeph">UTL_PG</code>功能中包含警告功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">请_NUMBER_TO_RAW_FORMAT</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">MAKE_RAW_TO_NUMBER_FORMAT</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">NUMBER_TO_RAW</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">RAW_TO_NUMBER</code></p>
                     </li>
                  </ul>
               </div>
            </div><a id="APPUG1053"></a><div class="props_rev_3"><a id="GUID-631D594A-F7C7-4A93-972C-9B3616627EA1" name="GUID-631D594A-F7C7-4A93-972C-9B3616627EA1"></a><h3 id="APPUG-GUID-631D594A-F7C7-4A93-972C-9B3616627EA1" class="sect3">TIP运行时跟踪的问题分析</h3>
               <div>
                  <p>TIP应该由PGAU <code class="codeph">GENERATE</code>命令<code class="codeph">GENERATE</code> <a id="d27654e1025" class="indexterm-anchor"></a> <code class="codeph">PKGEX(DC)</code>诊断选项包括TIP中的TIP数据转换跟踪逻辑。 TIP函数调用跟踪逻辑始终包含在每个TIP中。这是运行时跟踪检测，并且在启用跟踪时具有一些开销，但在禁用跟踪时可忽略不计。有关更多信息，请参阅<a href="pga-utility-oracle-database-gateway-appc.html#GUID-F73E20E7-D94C-468F-BA65-CC34F6373F19">过程网关管理实用程序中的</a> <a href="pga-utility-oracle-database-gateway-appc.html#GUID-3ABF57C3-C8F6-4DA7-9D7F-C415C805A402">GENERATE</a> 。
                  </p>
                  <ol>
                     <li>
                        <p>使用<code class="codeph">PKGEX(DC, DR)</code>选项重新生成TIP并重新编译TIP正文文件， <a id="d27654e1045" class="indexterm-anchor"></a><a id="d27654e1047" class="indexterm-anchor"></a> <span class="italic"><code class="codeph">tipname</code></span> 。 <code class="codeph">pkb</code> 。避免重新编译TIP规范。
                        </p>
                     </li>
                     <li>
                        <p>修改调用TIP初始化函数（ <code class="codeph">tipname</code> <code class="codeph">_init</code> ）的应用程序，以传递跟踪标志参数，并启用数据转换和函数调用跟踪。请参阅<span class="q">“ <a href="troubleshooting-oracle-database-gateway-appc.html#GUID-811F3433-2169-4B0A-95BB-1D4EEE185993">控制TIP运行时数据转换跟踪</a> ”</span> 。
                        </p>
                        <p>如果问题导致在TIP中引发异常并且应用程序包含异常处理程序，则应该注释掉应用程序异常处理程序以防止它处理异常并防止报告异常原点。当下次引发TIP异常时，将报告其在TIP中的源行号。记录此信息。</p>
                     </li>
                     <li>
                        <p>使用诊断TIP初始化执行应用程序。</p>
                        <p>如果TIP跟踪管道入口由于应用程序调用而导致TIP在TIP跟踪管道入口中写入跟踪消息而溢出，则从溢出条件开始一分钟开始步骤<a href="troubleshooting-oracle-database-gateway-appc.html#GUID-631D594A-F7C7-4A93-972C-9B3616627EA1__i1008612">4</a>并清空TIP跟踪管道。
                        </p>
                        <p>否则， <code class="codeph">ORA-20703 PGA-TIP: pipe send error</code>异常“ <code class="codeph">ORA-20703 PGA-TIP: pipe send error</code> ”，结束诊断会话，可能在生成任何相关的跟踪信息之前。
                        </p>
                     </li>
                     <li id="GUID-631D594A-F7C7-4A93-972C-9B3616627EA1__i1008612">
                        <p>检索并记录TIP跟踪消息流。</p>
                        <p>使用SQL * Plus连接到执行应用程序的同一Oracle用户ID或执行TIP的用户ID。这建立了第二个会话，从中可以读取跟踪管道出口，防止TIP跟踪管道在TIP跟踪管道入口处溢出。</p>
                        <ol type="a">
                           <li>
                              <p>发出命令：</p><pre class="oac_no_warn" dir="ltr">在大小为nnnnn时设置serveroutput</pre></li>
                           <li>
                              <p>发出命令以记录跟踪输出：</p><pre class="oac_no_warn" dir="ltr">spool tipname.trc</pre></li>
                           <li>
                              <p>发出命令以检索跟踪流：</p><pre class="oac_no_warn" dir="ltr">exec rtrace（'tipname'）;</pre><p>如果应用程序长时间运行，请根据需要重复此命令，直到检索到所有跟踪消息。</p>
                           </li>
                        </ol>
                     </li>
                     <li>
                        <p>如果出现任何异常，请记下它们的前缀，编号和完整的消息文本。</p>
                     </li>
                     <li>
                        <p>分析TIP跟踪消息流。<a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-AA9B8762-BDAF-4EED-A8B0-09F8A937F04E">管理实用程序示例中</a>显示了<code class="codeph">pgadb2i</code> TIP的正常跟踪。
                        </p>
                     </li>
                  </ol>
               </div>
            </div><a id="APPUG1320"></a><a id="APPUG1054"></a><div class="props_rev_3"><a id="GUID-EF313327-72F1-40CC-969E-8792EFC8BB82" name="GUID-EF313327-72F1-40CC-969E-8792EFC8BB82"></a><h3 id="APPUG-GUID-EF313327-72F1-40CC-969E-8792EFC8BB82" class="sect3">提示运行时跟踪控件</h3>
               <div>
                  <p><a id="d27654e1156" class="indexterm-anchor"></a><a id="d27654e1160" class="indexterm-anchor"></a><a id="d27654e1164" class="indexterm-anchor"></a>运行时跟踪控制是在TIP初始化调用中指定的第二个参数。它是以下形式的<code class="codeph">CHAR(8)</code>数据类型：</p><pre class="oac_no_warn" dir="ltr">rc：= yourtip_init（ <span class="italic">trannum，</span> 'wxyz0000'）;</pre><p><a href="troubleshooting-oracle-database-gateway-appc.html#GUID-EF313327-72F1-40CC-969E-8792EFC8BB82__G1019847" title="该2列表描述了TIP呼叫的第二参数上的位置1到4的值">表8-4</a>描述了位置1到4的值：</p>
                  <div class="tblformal" id="GUID-EF313327-72F1-40CC-969E-8792EFC8BB82__G1019847">
                     <p class="titleintable">表8-4 TIP呼叫第二参数的位置1到4的值</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="TIP呼叫第二参数的位置1到4的值" width="100%" border="1" summary="This 2 column table describes the value of positions one through four on the Second Parameter of TIP Call" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d27654e1195">项目</th>
                              <th align="left" valign="bottom" width="69%" id="d27654e1198">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e1203" headers="d27654e1195 ">
                                 <p>位置1（ <code class="codeph">w</code> ）</p>
                                 <p></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e1203 d27654e1198 ">
                                 <p>控制<code class="codeph">UTL_RAW</code>警告。值为0会抑制警告;值为1发出警告。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e1217" headers="d27654e1195 ">
                                 <p>位置2（ <code class="codeph">x</code> ）</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e1217 d27654e1198 ">
                                 <p>控制函数进入/退出跟踪。值0禁止函数进入/退出跟踪;值为1启用函数进入/退出跟踪。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e1227" headers="d27654e1195 ">
                                 <p>位置3（ <code class="codeph">y</code> ）</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e1227 d27654e1198 ">
                                 <p>控制数据转换跟踪。值为0会抑制数据转换跟踪;值为1可启用数据转换跟踪。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d27654e1237" headers="d27654e1195 ">
                                 <p>第4位（ <code class="codeph">z</code> ）</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d27654e1237 d27654e1198 ">
                                 <p>控制网关交换跟踪。值为0会抑制网关交换跟踪;值为1启用网关交换跟踪。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>位置5到8保留并被忽略。</p>
               </div><a id="APPUG1055"></a><div class="props_rev_3"><a id="GUID-307D591E-994D-4993-AA60-9D042D64DDFC" name="GUID-307D591E-994D-4993-AA60-9D042D64DDFC"></a><h4 id="APPUG-GUID-307D591E-994D-4993-AA60-9D042D64DDFC" class="sect4">生成运行时数据转换跟踪和警告支持</h4>
                  <div>
                     <p>使用PGAU重新生成TIP并指定<code class="codeph">GENERATE</code>参数<code class="codeph">DIAGNOSE(PKGEX(DC))</code> 。这包括TIP中的运行时PL / SQL代码，用于测试并显示正确但可能意外的<code class="codeph">NUMBER_TO_RAW</code>和<code class="codeph">RAW_TO_NUMBER</code>转换的警告。
                     </p>
                     <p>有关此参数的详细信息，请参阅<a href="pga-utility-oracle-database-gateway-appc.html#GUID-F73E20E7-D94C-468F-BA65-CC34F6373F19">过程网关管理实用程序中的</a> <a href="pga-utility-oracle-database-gateway-appc.html#GUID-3ABF57C3-C8F6-4DA7-9D7F-C415C805A402">GENERATE</a> 。
                     </p>
                     <p>在SQL * Plus下重新编译TIP主体。避免重新编译TIP规范。</p>
                  </div>
               </div><a id="APPUG1056"></a><div class="props_rev_3"><a id="GUID-7FA0D673-0077-4656-B2E6-98A392BD9160" name="GUID-7FA0D673-0077-4656-B2E6-98A392BD9160"></a><h4 id="APPUG-GUID-7FA0D673-0077-4656-B2E6-98A392BD9160" class="sect4">控制TIP运行时转换警告</h4>
                  <div>
                     <div class="section">
                        <p>重新生成TIP后，运行时警告的发布受应用程序的控制。默认情况下，警告被禁止，仅在启用时发出。</p>
                        <p>如果出现错误和异常，则始终发出错误和异常。</p>
                        <p>要启用警告，必须在调用TIP初始化函数时提供附加参数。此参数是<code class="codeph">CHAR(8)</code>数据类型，每个字符位置控制特定的TIP运行时诊断函数。
                        </p>
                        <p>要在<code class="codeph">yourtip</code>启用警告，客户端应用程序应使用以下语句调用TIP初始化函数：</p><pre class="oac_no_warn" dir="ltr">rc：= <span class="italic">yourtip_init（trannum，</span> '10000000'）;</pre><p>以下是在初始化时输入到TIP跟踪管道入口：</p><pre class="oac_no_warn" dir="ltr">“启用了UTL_PG警告”</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPUG1057"></a><div class="props_rev_3"><a id="GUID-66383F07-00E0-492E-9223-EE3C4483AA1D" name="GUID-66383F07-00E0-492E-9223-EE3C4483AA1D"></a><h4 id="APPUG-GUID-66383F07-00E0-492E-9223-EE3C4483AA1D" class="sect4">控制TIP运行时功能进入/退出跟踪</h4>
                  <div>
                     <div class="section">
                        <p>要在<code class="codeph">yourtip</code>启用函数进入/退出跟踪，客户端应用程序应使用以下语句调用TIP初始化函数：</p><pre class="oac_no_warn" dir="ltr">rc：= yourtip_init（ <span class="italic">trannum，</span> '01000000'）;</pre><p>以下是在初始化时输入到TIP跟踪管道入口：</p><pre class="oac_no_warn" dir="ltr">'功能进入/退出跟踪已启用''tipname_init已输入''时间日期/时间戳'</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPUG1058"></a><div class="props_rev_3"><a id="GUID-811F3433-2169-4B0A-95BB-1D4EEE185993" name="GUID-811F3433-2169-4B0A-95BB-1D4EEE185993"></a><h4 id="APPUG-GUID-811F3433-2169-4B0A-95BB-1D4EEE185993" class="sect4">控制TIP运行时数据转换跟踪</h4>
                  <div>
                     <div class="section">
                        <p>要在<code class="codeph">yourtip</code>启用数据转换跟踪，客户端应用程序应使用以下语句调用TIP初始化函数：</p><pre class="oac_no_warn" dir="ltr">rc：= yourtip_init（ <span class="italic">trannum，</span> '00100000'）;</pre><p>以下是在初始化时输入到TIP跟踪管道入口：</p><pre class="oac_no_warn" dir="ltr">'数据转换跟踪已启用'</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPUG1059"></a><div class="props_rev_3"><a id="GUID-AF44EE8C-B8D1-447C-862D-23429F449772" name="GUID-AF44EE8C-B8D1-447C-862D-23429F449772"></a><h4 id="APPUG-GUID-AF44EE8C-B8D1-447C-862D-23429F449772" class="sect4">控制TIP运行时网关Exchange跟踪</h4>
                  <div>
                     <div class="section">
                        <p>要在<code class="codeph">yourtip</code>启用运行时网关交换跟踪，客户端应用程序应使用以下语句调用TIP初始化函数：</p><pre class="oac_no_warn" dir="ltr">rc：= yourtip_init（ <span class="italic">trannum，</span> '00010000'）;</pre><p>以下是在初始化时输入到TIP跟踪管道入口：</p><pre class="oac_no_warn" dir="ltr">'网关交换跟踪已启用'</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="APPUG1060"></a><div class="props_rev_3"><a id="GUID-6A9F8498-78E7-4081-A3A5-6E6E626484CF" name="GUID-6A9F8498-78E7-4081-A3A5-6E6E626484CF"></a><h3 id="APPUG-GUID-6A9F8498-78E7-4081-A3A5-6E6E626484CF" class="sect3">抑制TIP警告和跟踪</h3>
               <div>
                  <p>调试完成后，有两种方法可以抑制以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数据转换跟踪</p>
                     </li>
                     <li>
                        <p>转换警告</p>
                     </li>
                     <li>
                        <p>功能进入/退出跟踪</p>
                     </li>
                     <li>
                        <p>网关交换跟踪</p>
                     </li>
                  </ul>
                  <p>您可以：</p>
                  <ol>
                     <li>
                        <p>调用TIP初始化函数而不传递任何诊断控制参数：</p><pre class="oac_no_warn" dir="ltr">rc：= yourtip_init（ <span class="italic">trannum</span> <span class="italic"><code class="codeph">)</code></span> ;</pre></li>
                     <li>
                        <p>调用TIP初始化函数，传递修改的诊断控制参数，该参数禁用所有跟踪和警告：</p><pre class="oac_no_warn" dir="ltr">rc：= yourtip_init（ <span class="italic">trannum，</span> '00000000'）;</pre><p>方法C中描述的第三种方法删除了以下逻辑：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>数据转换跟踪</p>
                           </li>
                           <li>
                              <p>转换警告</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>再次生成TIP而不：</p><pre class="oac_no_warn" dir="ltr">PKGEX（DC）</pre></li>
                  </ol>
                  <p>或者您可以重新编译TIP主体的先前版本（如果已保存）。</p>
                  <p>方法A和B允许您使用相同的TIP而无需更改，但没有跟踪或警告。这些方法是可逆的，无需改变或替换TIP。如果问题再次发生，可以重新显示跟踪和警告。</p>
                  <p>方法C还抑制数据转换跟踪和警告，并通过避免测试来减少开销，但如果不重新生成TIP或重新编译具有嵌入数据转换跟踪和警告诊断的备用版本，则不可逆。</p>
                  <p>功能进入/退出和网关交换跟踪的逻辑包含在每个TIP中，不能删除。它可以通过方法A或B禁用。</p>
               </div>
            </div><a id="APPUG1061"></a><div class="props_rev_3"><a id="GUID-08CB835D-AD35-419F-949A-84E58E7262A3" name="GUID-08CB835D-AD35-419F-949A-84E58E7262A3"></a><h3 id="APPUG-GUID-08CB835D-AD35-419F-949A-84E58E7262A3" class="sect3">数据转换和截断错误的问题分析</h3>
               <div>
                  <p>用于APPC数据长度的Oracle数据库网关受限于<a id="d27654e1691" class="indexterm-anchor"></a>每个APPC交换和PL / SQL变量的PL / SQL为32,763字节。
                  </p>
                  <p>以下步骤可用于诊断数据转换或<a id="d27654e1698" class="indexterm-anchor"></a>截断错误。
                  </p>
                  <p>请参阅<a href="creating-tip-oracle-database-gateway-appc.html#GUID-78D4439E-7DD6-45DF-842E-35007FCC572B">创建提示</a>以查看下面第1至4项中引用的正确值和定义：</p>
                  <ol>
                     <li>
                        <p>确保RHT中使用的COBOL定义与PGAU的输入匹配;</p>
                     </li>
                     <li>
                        <p>确保RHT传输缓冲区足够长;</p>
                     </li>
                     <li>
                        <p><span class="bold">如果您的网关使用SNA</span> ：确保RHT APPC呼叫寻址正确的传输缓冲区并使用正确的数据长度;</p>
                        <p><span class="bold">如果您的网关使用TCP / IP</span> ：确保RHT I / O PCB调用寻址正确的传输缓冲区并使用正确的数据长度</p>
                     </li>
                     <li>
                        <p>确保客户端应用程序已声明在TIP调用中用作参数的正确TIP数据类型。</p>
                     </li>
                     <li>
                        <p>确保客户端应用程序以正确的顺序（init，用户定义的......，term）调用TIP函数，并且RHT的任何输入数据都是正确的。还要确保如果存在多个用户定义的函数，则按正确的顺序调用它们并传递正确的输入值（如果有）。</p>
                        <p>可以在客户端应用程序中插入<code class="codeph">DBMS_OUTPUT</code>调用以跟踪其行为。
                        </p>
                        <p>有关按正确顺序调用TIP函数的更多信息，请参阅安装指南中有关为首次安装配置Oracle数据库的部分。</p>
                     </li>
                     <li>
                        <p><a id="d27654e1739" class="indexterm-anchor"></a><a id="d27654e1743" class="indexterm-anchor"></a> （可选）使用包含的诊断跟踪重新生成TIP并启用它们。以下跟踪特别有用：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>数据转换跟踪</p>
                           </li>
                           <li>
                              <p>功能进入/退出跟踪</p>
                           </li>
                           <li>
                              <p>网关交换跟踪</p>
                           </li>
                        </ul>
                        <p>有关跟踪的更多信息，请参阅<span class="q">“ <a href="troubleshooting-oracle-database-gateway-appc.html#GUID-631D594A-F7C7-4A93-972C-9B3616627EA1">使用TIP运行时跟踪</a></span>进行<span class="q"><a href="troubleshooting-oracle-database-gateway-appc.html#GUID-631D594A-F7C7-4A93-972C-9B3616627EA1">问题分析</a> ”</span> ;另请参阅<a href="pga-utility-oracle-database-gateway-appc.html#GUID-F73E20E7-D94C-468F-BA65-CC34F6373F19">过程网关管理实用程序中的</a> <a href="pga-utility-oracle-database-gateway-appc.html#GUID-3ABF57C3-C8F6-4DA7-9D7F-C415C805A402">GENERATE</a> 。
                        </p>
                        <p>请注意，对于使用SNA的网关而言，跟踪的输出与使用TCP / IP的网关的输出不同。但是，无论您使用哪种通信协议，调用跟踪的方法都是相同的。</p>
                        <p>在Microsoft Windows上，还必须在<code class="codeph">%ORACLE_HOME%\dg4appc\admin\init <span class="codeinlineitalic">sid</span> .ora</code>启用网关服务器跟踪。设置参数<a id="d27654e1783" class="indexterm-anchor"></a> <code class="codeph">SET TRACE_LEVEL=255</code>和<a id="d27654e1788" class="indexterm-anchor"></a> <code class="codeph">SET LOG_DESTINATION=C:\oracle\pga\12.2\dg4appc\log</code></p>
                        <p>在基于UNIX的系统上，还必须在<code class="codeph">$ORACLE_HOME/dg4appc/admin/init <span class="codeinlineitalic">sid</span> .ora</code>启用网关服务器跟踪。设置参数<a id="d27654e1800" class="indexterm-anchor"></a> <code class="codeph">SET TRACE_LEVEL=255</code>和<code class="codeph">SET LOG_DESTINATION=/oracle/pga/12.2/dg4appc/log</code></p>
                        <p>有关跟踪的详细信息，请参阅本指南中的<span class="q">“ <a href="troubleshooting-oracle-database-gateway-appc.html#GUID-8957B512-BDC4-4D22-9BBB-1CDA7387BB9A">网关服务器跟踪</a> ”</span> 。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">如果您的网关使用SNA</span> ：有关这些参数的详细信息，请参阅“ <span class="italic">Oracle数据库网关中的APPC安装和配置指南</span> ”中的附录A“SNA协议的网关初始化参数”。</p>
                           </li>
                           <li>
                              <p><span class="bold">如果您的网关使用TCP / IP</span> ：请参阅附录B，“ <a href="../appci/appc-gateway-initialization-parameters-tcp-ip.html#APPCI290" target="_blank"><span class="italic">用于APPC</span></a>的<a href="../appci/appc-gateway-initialization-parameters-tcp-ip.html#APPCI290" target="_blank"><span class="italic">Oracle数据库网关</span></a>中的TCP / IP通信协议的网关初始化参数”， <a href="../appci/appc-gateway-initialization-parameters-tcp-ip.html#APPCI290" target="_blank"><span class="italic">适用于POWER系统上的IBM AIX的安装和配置指南（64位），Linux x86 -64，SPARC上的Oracle Solaris（64位）和</span></a> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/appug&amp;id=APPCW265" target="_blank"><span class="italic">适用于Microsoft Windows的APPC安装和配置指南的</span></a> <a href="../appci/appc-gateway-initialization-parameters-tcp-ip.html#APPCI290" target="_blank"><span class="italic">HP-UX Itanium</span></a>或<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/appug&amp;id=APPCW265" target="_blank"><span class="italic">Oracle数据库网关</span></a> 。有关这些参数的更多信息。
                              </p>
                           </li>
                        </ul>
                        <p>重新运行客户端应用程序并检查跟踪（有关详细信息，请参阅下一步）。</p>
                        <p>要禁用跟踪，请重置</p>
                        <p><code class="codeph">SET TRACE_LEVEL = 0</code></p>
                     </li>
                     <li>
                        <p>检查跟踪输出。</p>
                        <p>TIP跟踪输出可以保存在假脱机文件中，例如：</p><pre class="oac_no_warn" dir="ltr">spool <span class="italic">tipname</span> .trc</pre><p>TIP跟踪输出将写入指定的<code class="codeph">DBMS_PIPE</code> ，并可通过发出以下命令在SQL * Plus下检索：</p><pre class="oac_no_warn" dir="ltr">exec rtrace（' <span class="italic">tipname</span> '）;</pre><p>或者可以通过发出以下命令来清除它：</p><pre class="oac_no_warn" dir="ltr">exec ptrace（' <span class="italic">tipname</span> '）;</pre><div class="infoboxnote" id="GUID-08CB835D-AD35-419F-949A-84E58E7262A3__GUID-5C6799CA-FF61-4E02-9122-2929B63946C4">
                           <p class="notep1">注意：</p>
                           <p><span class="italic"><code class="codeph">tipname</code></span>区分大小写，必须与TIP中的完全相同。</p>
                        </div>
                        <p>网关服务器跟踪输出将写入由指定的默认目录路径中的日志文件<a id="d27654e1880" class="indexterm-anchor"></a>用于Microsoft Windows的<code class="codeph">%ORACLE_HOME%\dg4appc\admin\init <span class="codeinlineitalic">sid</span> .ora</code> <code class="codeph">SET LOG_DESTINATION</code>网关参数和用于基于UNIX的系统的<code class="codeph">$ORACLE_HOME/dg4appc/admin/initsid.ora</code> <code class="codeph">SET LOG_DESTINATION</code>网关参数。例如，在Microsoft Windows上：</p><pre class="oac_no_warn" dir="ltr">SET LOG_DESTINATION = C：\ oracle \ pga \ 12.2 \ dg4appc \ log</pre><p>在基于UNIX的系统上：</p><pre class="oac_no_warn" dir="ltr">SET LOG_DESTINATION = $ ORACLE_HOME / dg4appc / log /</pre><p>有关更多信息，请参阅<span class="q">“ <a href="troubleshooting-oracle-database-gateway-appc.html#GUID-8957B512-BDC4-4D22-9BBB-1CDA7387BB9A">网关服务器跟踪</a> ”</span> 。
                        </p>
                        <p>可以通过编辑文件或发出显示文件内容的其他系统命令来查看网关服务器日志文件。还可以复制和保存日志文件以记录问题症状。</p>
                     </li>
                  </ol>
               </div>
            </div><a id="APPUG1062"></a><div class="props_rev_3"><a id="GUID-8957B512-BDC4-4D22-9BBB-1CDA7387BB9A" name="GUID-8957B512-BDC4-4D22-9BBB-1CDA7387BB9A"></a><h3 id="APPUG-GUID-8957B512-BDC4-4D22-9BBB-1CDA7387BB9A" class="sect3">网关服务器跟踪</h3>
               <div>
                  <p><a id="d27654e1942" class="indexterm-anchor"></a><a id="d27654e1946" class="indexterm-anchor"></a><a id="d27654e1948" class="indexterm-anchor"></a>网关在网关远程过程调用（RPC）和APPC特定代码中包含广泛的跟踪逻辑。通过网关初始化参数或对网关的动态RPC调用启用跟踪。跟踪提供有关网关RPC功能的执行以及APPC接口的执行的信息。跟踪文件包含按时间顺序的事件编写的文本流。跟踪旨在帮助应用程序编程人员调试其OLTP事务程序和通过网关与这些事务程序进行通信的Oracle应用程序。
                  </p>
                  <p>从打开数据库链接到关闭之前，将为整个网关会话创建单个跟踪文件。跟踪可以仅定向到特定路径/文件名或路径（目录）。在第一种情况下，每次为正在跟踪的网关开始新会话时，都会覆盖该文件。当跟踪目标是目录时，将为每个网关会话写入具有生成名称（包含操作系统进程ID）的单独文件。只要在要写入所需跟踪之后但在可以复制和保存之前，要跟踪的网关可能是新会话的目标，就必须使用后一种方法。相反，在某些情况下，您可以选择创建仅用于跟踪的不同网关系统标识符，并将其跟踪指向单个特定文件名。这避免了例如在重现或调试问题时需要重复尝试时不断增加的跟踪文件集的问题。如果意外的网关会话有可能覆盖有用的跟踪，则永远不应使用固定的文件名。</p>
               </div><a id="APPUG1063"></a><div class="props_rev_3"><a id="GUID-8543D1E6-AFCF-41B7-B880-816E6653A260" name="GUID-8543D1E6-AFCF-41B7-B880-816E6653A260"></a><h4 id="APPUG-GUID-8543D1E6-AFCF-41B7-B880-816E6653A260" class="sect4">定义网关跟踪目标</h4>
                  <div>
                     <p>本节介绍如何定义跟踪文件到网关的目标，以及如何在初始化期间使网关创建跟踪文件。请注意，这不会启用任何网关跟踪，它仅定义启用网关跟踪时生成的任何跟踪输出的目标。</p>
                     <ol>
                        <li>
                           <p>选择要跟踪的网关系统标识符。确定是要跟踪现有网关系统标识符还是专门为跟踪创建的新标识符。如果将使用新的系统标识符，请通过创建新系统标识符将新系统标识符与旧系统标识符完全相同<a id="d27654e1991" class="indexterm-anchor"></a><a id="d27654e1993" class="indexterm-anchor"></a> <code class="codeph">init <span class="codeinlineitalic">sid</span> .ora</code> （旧的副本）， <code class="codeph">listener.ora</code>条目以及新的Oracle数据库链接。
                           </p>
                           <p>测试新系统标识符以确保其在继续之前有效。</p>
                        </li>
                        <li>
                           <p>对于Microsoft Windows，在<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> ，编辑<a id="d27654e2014" class="indexterm-anchor"></a><a id="d27654e2016" class="indexterm-anchor"></a> <code class="codeph">init <span class="codeinlineitalic">sid</span> .ora</code>文件，因此它包含以下内容：</p><pre class="oac_no_warn" dir="ltr">组<a id="d27654e2028" class="indexterm-anchor"></a><a id="d27654e2033" class="indexterm-anchor"></a><a id="d27654e2035" class="indexterm-anchor"></a> TRACE_LEVEL = 255 <a id="d27654e2038" class="indexterm-anchor"></a>组<a id="d27654e2041" class="indexterm-anchor"></a> LOG_DESTINATION = <span class="italic">logdest</span> 
</pre><p>对于基于UNIX的系统，在<code class="codeph">$ORACLE_HOME/dg4appc/admin</code> ，编辑<a id="d27654e2054" class="indexterm-anchor"></a><a id="d27654e2056" class="indexterm-anchor"></a> <code class="codeph">init <span class="codeinlineitalic">sid</span> .ora</code>文件，因此它包含以下内容：</p><pre class="oac_no_warn" dir="ltr">组<a id="d27654e2068" class="indexterm-anchor"></a><a id="d27654e2073" class="indexterm-anchor"></a><a id="d27654e2075" class="indexterm-anchor"></a> TRACE_LEVEL = 255 <a id="d27654e2078" class="indexterm-anchor"></a>组<a id="d27654e2081" class="indexterm-anchor"></a> LOG_DESTINATION = <span class="italic">logdest</span> 
</pre><p>其中<span class="italic"><code class="codeph">logdest</code></span>是跟踪输出的目录路径。日志文件通常位于Microsoft Windows的<code class="codeph">%ORACLE_HOME%\dg4appc\log</code>和基于UNIX的系统的<code class="codeph">$ORACLE_HOME/dg4appc/log</code>中。有关详细信息，请参阅前面有关<span class="q">“ <a href="troubleshooting-oracle-database-gateway-appc.html#GUID-08CB835D-AD35-419F-949A-84E58E7262A3">数据转换和截断错误的问题分析</a> ”的</span>讨论。
                           </p>
                           <div class="infoboxnote" id="GUID-8543D1E6-AFCF-41B7-B880-816E6653A260__GUID-B5A763FB-7774-4B69-903C-366591E579A5">
                              <p class="notep1">注意：</p>
                              <p>未检测到init <span class="italic">sid</span> .ora中的拼写错误的参数名称。该参数被忽略。
                              </p>
                           </div>
                        </li>
                     </ol>
                     <p>完成这两个步骤后，网关将在初始化期间打开指定的跟踪文件。此系统标识符上的每个会话都会写入一个跟踪文件<a id="d27654e2114" class="indexterm-anchor"></a> <code class="codeph">SET</code> <code class="codeph">LOG_DESTINATION</code>参数在上面的步骤2中描述。
                     </p>
                     <p>如果指定了目录路径，则每个跟踪文件都具有以下形式的名称：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">sid_pid.log</span> 
</pre><p>其中<span class="italic"><code class="codeph">sid</code></span>是网关sid， <span class="italic"><code class="codeph">pid</code></span>是以十进制表示的网关服务器的操作系统进程ID。
                     </p>
                  </div>
               </div><a id="APPUG1064"></a><div class="props_rev_3"><a id="GUID-8BB7C199-A1DA-4A2C-B520-EFA5A2BBA529" name="GUID-8BB7C199-A1DA-4A2C-B520-EFA5A2BBA529"></a><h4 id="APPUG-GUID-8BB7C199-A1DA-4A2C-B520-EFA5A2BBA529" class="sect4">启用网关跟踪</h4>
                  <div>
                     <p>有两种方法可以启用网关服务器跟踪。第一种是在网关初始化文件中设置跟踪选项， <a id="d27654e2178" class="indexterm-anchor"></a><a id="d27654e2180" class="indexterm-anchor"></a> <code class="codeph">init <span class="codeinlineitalic">sid</span> .ora</code> 。第二种是使用附加的PGA远程过程调用（RPC）函数<code class="codeph">PGATCTL</code>来动态控制Oracle应用程序内的跟踪。第一种方法导致对网关系统标识符的所有用户执行跟踪，并且仅当网关系统标识符的使用可以限于实际需要跟踪的用户时才建议进行跟踪。第二种方法更灵活，允许应用程序员有选择地跟踪单个网关会话上的事件，而不会影响其他用户的网关会话的操作。
                     </p>
                     <p>在启用网关服务器跟踪之前，请执行<span class="q">“ <a href="troubleshooting-oracle-database-gateway-appc.html#GUID-8543D1E6-AFCF-41B7-B880-816E6653A260">定义网关跟踪目标</a> ”中</span>列出的任务。
                     </p>
                  </div><a id="APPUG1065"></a><div class="props_rev_3"><a id="GUID-4DE6025D-1E12-449A-BA66-E5ABEE2F5524" name="GUID-4DE6025D-1E12-449A-BA66-E5ABEE2F5524"></a><h5 id="APPUG-GUID-4DE6025D-1E12-449A-BA66-E5ABEE2F5524" class="sect5">使用初始化参数启用网关跟踪</h5>
                     <div>
                        <p>编辑<a id="d27654e2242" class="indexterm-anchor"></a><a id="d27654e2244" class="indexterm-anchor"></a> <code class="codeph">init <span class="codeinlineitalic">sid</span> .ora</code>文件，并在文件末尾添加以下行（或者，如果是<a id="d27654e2254" class="indexterm-anchor"></a> <code class="codeph">SET TRACE_LEVEL</code>参数已经指定，修改它）：</p><pre class="oac_no_warn" dir="ltr">SET TRACE_LEVEL = <span class="italic">trace</span> 
</pre><p>其中<code class="codeph">trace</code>是1到255之间的数值，表示要启用哪些跟踪。有关使用此参数的更多信息，请参阅附录A“用于SNA协议的网关初始化参数”的“PGA参数”， <a href="../appci/appc-gateway-initialization-parameters-sna.html#APPCI283" target="_blank"><span class="italic">适用于POWER系统上的IBM AIX安装和配置指南</span></a>的<a href="../appci/appc-gateway-initialization-parameters-sna.html#APPCI283" target="_blank"><span class="italic">Oracle数据库网关（64位） ，Linux x86-64，SPARC上的Oracle Solaris（64位）和</span></a> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/appug&amp;id=APPCW258" target="_blank"><span class="italic">适用于Microsoft Windows的APPC安装和配置指南的</span></a> <a href="../appci/appc-gateway-initialization-parameters-sna.html#APPCI283" target="_blank"><span class="italic">HP-UX Itanium</span></a>或<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/appug&amp;id=APPCW258" target="_blank"><span class="italic">Oracle数据库网关</span></a> 
                        </p>
                        <p>完成此步骤后，将为所需的网关系统标识符启用跟踪。</p>
                     </div>
                  </div><a id="APPUG1321"></a><a id="APPUG1066"></a><div class="props_rev_3"><a id="GUID-170B8A33-0F19-4147-8619-6D5B4C76332A" name="GUID-170B8A33-0F19-4147-8619-6D5B4C76332A"></a><h5 id="APPUG-GUID-170B8A33-0F19-4147-8619-6D5B4C76332A" class="sect5">从PL / SQL动态启用网关跟踪</h5>
                     <div>
                        <p>只有用户编写的TIP才需要以下内容。PGAU生成的TIP自动包含以下功能。有关更多信息，请参阅<span class="q">“ <a href="troubleshooting-oracle-database-gateway-appc.html#GUID-AF44EE8C-B8D1-447C-862D-23429F449772">控制TIP运行时网关Exchange跟踪</a> ”</span> 。
                        </p>
                        <p>对调用事务接口包以执行远程事务的PL / SQL应用程序进行以下更改。</p>
                        <ol>
                           <li>
                              <p>在对TIP初始化函数进行任何调用之前，添加对<code class="codeph">PGATCTL</code>调用：</p><pre class="oac_no_warn" dir="ltr">PGATCTL @ <span class="italic">DBLINK（convid，traceF，</span>吨<span class="italic">种族</span> ）;</pre><p><a href="troubleshooting-oracle-database-gateway-appc.html#GUID-170B8A33-0F19-4147-8619-6D5B4C76332A__G1019874" title="该2列表描述了PGATCTL中的参数。">表8-5</a>描述了<code class="codeph">PGATCTL</code>中的参数：</p>
                              <div class="tblformal" id="GUID-170B8A33-0F19-4147-8619-6D5B4C76332A__G1019874">
                                 <p class="titleintable">表8-5 PGATCTL参数</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="PGATCTL参数" width="90%" border="1" summary="This 2 column table describes the parameters in PGATCTL." frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="31%" id="d27654e2374">参数</th>
                                          <th align="left" valign="bottom" width="69%" id="d27654e2377">描述</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="31%" id="d27654e2382" headers="d27654e2374 ">
                                             <p><span class="italic"><code class="codeph">DBLINK</code></span></p>
                                          </td>
                                          <td align="left" valign="top" width="69%" headers="d27654e2382 d27654e2377 ">
                                             <p>是网关的数据库链接的名称</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="31%" id="d27654e2391" headers="d27654e2374 ">
                                             <p><span class="italic"><code class="codeph">convid</code></span></p>
                                          </td>
                                          <td align="left" valign="top" width="69%" headers="d27654e2391 d27654e2377 ">
                                             <p><span class="bold">对于使用SNA的网关</span> ： <code class="codeph">PGAINIT</code>函数返回的对话标识符用于标识对话。
                                             </p>
                                             <p><span class="bold">对于使用</span> <span class="bold">TCP / IP</span> <span class="bold">的网关</span> ： <code class="codeph">PGAINIT</code>函数返回的套接字文件描述符用于标识对话</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="31%" id="d27654e2415" headers="d27654e2374 ">
                                             <p><span class="italic"><code class="codeph">traceF</code></span></p>
                                          </td>
                                          <td align="left" valign="top" width="69%" headers="d27654e2415 d27654e2377 ">
                                             <p>是要执行的跟踪控制功能。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="31%" id="d27654e2424" headers="d27654e2374 ">
                                             <p><span class="italic"><code class="codeph">痕迹</code></span></p>
                                          </td>
                                          <td align="left" valign="top" width="69%" headers="d27654e2424 d27654e2377 ">
                                             <p>指定要启用哪些跟踪，如前面讨论中所述<a id="d27654e2432" class="indexterm-anchor"></a> <code class="codeph">SET</code> <code class="codeph">TRACE_LEVEL</code>初始化参数。
                                             </p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                              <p>此调用为在调用<code class="codeph">traceS</code>指定的值之后启动的所有新会话设置跟踪标志。</p>
                           </li>
                           <li>
                              <p>重新编译PL / SQL应用程序以获取新的跟踪调用。</p>
                           </li>
                        </ol>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="02622.configuring-application-privileges-and-access-contol-lists.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>配置应用程序权限和访问控制列表</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="real-application-security-administrators-and-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:21:48-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2012, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95725-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-application-sessions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="configuring-data-security.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBFSG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-application-sessions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="configuring-data-security.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Security管理员和开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置应用程序权限和访问控制列表</li>
            </ol>
            <a id="GUID-7CA4B68D-D6F0-46FC-96FE-B18F6B4EF43E" name="GUID-7CA4B68D-D6F0-46FC-96FE-B18F6B4EF43E"></a><a id="DBFSG99152"></a>
            
            <h2 id="DBFSG-GUID-7CA4B68D-D6F0-46FC-96FE-B18F6B4EF43E" class="sect2"><span class="enumeration_chapter">4</span>配置应用程序权限和访问控制列表</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何在Oracle Database Real Application Security中配置应用程序权限和访问控制列表（ACL）。它包括有关如何创建，设置和修改ACL的信息，并描述ACL安全性如何与其他Oracle数据库安全机制交互。</p>
               <div class="p">本章包含以下部分：<ul style="list-style-type:disc">
                     <li>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-2B4473AF-0A79-4365-AEE3-DE4FCA3B0D5E">关于应用程序权限</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-F6C92BDA-15C8-4515-BDED-9CCB2BC02985">关于配置安全类</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AB53EC7B-C593-4AF3-B991-70E6503586F6">关于配置访问控制列表</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-23630E01-8BE5-4850-807D-D00CB299655C">数据安全</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-098E7FD1-96D6-4783-8F44-C421BB3EAFB8">ACL绑定</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBFSG99761"></a><div class="props_rev_3"><a id="GUID-2B4473AF-0A79-4365-AEE3-DE4FCA3B0D5E" name="GUID-2B4473AF-0A79-4365-AEE3-DE4FCA3B0D5E"></a><h3 id="DBFSG-GUID-2B4473AF-0A79-4365-AEE3-DE4FCA3B0D5E" class="sect3">关于应用程序权限</h3>
               <div>
                  <p>数据库具有预定义的系统特权，例如<code class="codeph">CREATE TABLE</code>和对象特权，例如<code class="codeph">UPDATE</code> 。必须为企业应用程序定义的大量自定义权限通常称为应用程序定义的权限。Real Application Security在数据库中引入了这些权限的定义，称为应用程序权限。对于应用程序开发人员，这些自定义应用程序权限用于应用程序级别操作的访问控制。这些应用程序级操作允许在粒度级别的列，行或单元格上对数据进行细粒度访问。
                  </p>
                  <p>当应用程序特权显式绑定到资源（例如，表的行和列）时，可以使用应用程序特权来保护数据库对象上的应用程序级操作。或者，当不需要绑定到资源时，它可以以与系统特权相同的方式使用。</p>
                  <div class="infoboxnotealso" id="GUID-2B4473AF-0A79-4365-AEE3-DE4FCA3B0D5E__GUID-84D880FD-005E-46E7-9F9B-7E729BA3C132">
                     <p class="notep1">也可以看看：</p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-597A7EB2-F904-4483-B17C-FEEA12421469">关于检查权限的ACL</a></div>
                  <p>本节包含以下主题： <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884">聚合权限</a> 。
                  </p>
               </div><a id="DBFSG423"></a><a id="DBFSG424"></a><a id="DBFSG99778"></a><div class="props_rev_3"><a id="GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884" name="GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884"></a><h4 id="DBFSG-GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884" class="sect4">聚合权限</h4>
                  <div>
                     <p>Real Application Security <span class="bold">聚合权限</span>意味着一组其他应用程序权限。聚合权限的隐含应用程序权限可以是当前安全类或继承的应用程序权限定义的任何应用程序权限（有关详细信息，请参阅<span class="q">“ <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-F6C92BDA-15C8-4515-BDED-9CCB2BC02985">关于配置安全性类</a> ”</span> ）。授予或拒绝聚合权限时，将隐式授予或拒绝其隐含的应用程序权限。
                     </p>
                     <p>当聚合权限<code class="codeph">AG</code>意味着应用程序权限<code class="codeph">p1</code>和<code class="codeph">p2</code> ，授予应用程序权限<code class="codeph">AG</code>意味着授予<code class="codeph">p1</code>和<code class="codeph">p2</code> 。但是，同时授予<code class="codeph">p1</code>和<code class="codeph">p2</code>并不意味着授予<code class="codeph">AG</code> 。
                     </p>
                     <p>聚合权限可用于以下目的：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>启用分组并将一组应用程序权限授予单个授权，从而简化应用程序权限管理。组名称或一组应用程序特权的别名（其中组名称本身不是应用程序特权）在检查组中的每个应用程序特权时检查集合是否更简单。</p>
                        </li>
                        <li>
                           <p>提供基于单个应用程序权限检查检查一组应用程序权限的有效方法。</p>
                        </li>
                     </ul>
                     <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884__CHDEIFIJ">示例4-1</a>将名为<code class="codeph">UPDATE_INFO</code>的聚合权限<code class="codeph">UPDATE_INFO</code>到<code class="codeph">HRPRIVS</code>安全性类。聚合权限包含隐含权限<code class="codeph">UPDATE</code> ， <code class="codeph">DELETE</code>和<code class="codeph">INSERT</code> 。</p>
                     <p>当组名本身是第一类权限时，根据其与其成员的关系，聚合权限可能有几种可能的语义。在定义表示聚合权限的语义时，必须考虑聚合权限与其成员之间的各种关系，例如<span class="italic">imply</span>和<span class="italic">include</span> 。例如，考虑Java Security中的<span class="italic">暗示</span>关系;在授予聚合权限时选择此语义意味着单独授予其所有成员应用程序权限，但不授予聚合权限。因此，授予聚合的所有成员应用程序特权并不意味着授予聚合特权。
                     </p>
                     <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884__CHDBGIJE">示例4-2</a>为聚合权限<code class="codeph">UPDATE_INFO</code>添加了隐含应用程序权限的列表。</p>
                     <p>聚合权限不是应用程序角色。应用程序角色本身不是保护资源的应用程序特权。应用程序角色用于激活和停用应用程序用户可用的应用程序权限，以强制执行基于角色的访问控制约束。</p>
                     <p>此外，聚合权限不是安全性类。安全类不是可以授予用户的应用程序特权。安全性类列出了一组应用程序权限，包括可在ACL中授予或拒绝的聚合权限。在安全性类中，可以基于安全性类中可用的应用程序特权来定义许多聚合特权。</p>
                     <p>聚合权限可以具有其他聚合权限作为其成员。请注意，聚合权限的成员权限必须在与聚合权限相同的安全性类（或祖先安全性类）中定义。聚合权限定义不能创建循环。</p>
                     <div class="example" id="GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884__CHDEIFIJ">
                        <p class="titleinexample">示例4-1将聚合权限添加到安全性类</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">ADD_PRIVILEGES</span> （sec_class =&gt;'HRPRIVS'，priv =&gt;' <span class="bold">UPDATE_INFO</span> '，implied_priv_list =&gt; XS $ NAME_LIST（'“ <span class="bold">UPDATE</span> ”'，'“ <span class="bold">DELETE</span> ”'，'“ <span class="bold">INSERT</span> ”'））;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884__CHDBGIJE">
                        <p class="titleinexample">示例4-2将隐含权限添加到聚合权限</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <a id="d17697e504" class="indexterm-anchor"></a> <span class="bold">ADD_IMPLIED_PRIVILEGES（sec_class =&gt;'HRPRIVS'，</span> （priv =&gt;' <span class="bold">UPDATE_INFO</span> '， <span class="bold">implied_priv_list</span> =&gt; XS $ NAME_LIST（'“ <span class="bold">UPDATE</span> ”'，'“ <span class="bold">DELETE</span> ”'，'“ <span class="bold">INSERT</span> ”'）; END;</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>本节包含： <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE">ALL Privilege</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DBFSG99833"></a><a id="DBFSG99779"></a><div class="props_rev_3"><a id="GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE" name="GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE"></a><h5 id="DBFSG-GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE" class="sect5">所有特权</h5>
                     <div>
                        <p><code class="codeph">ALL</code>权限是预定义的聚合权限。每个安全类都具有<code class="codeph">ALL</code>权限，并且它包含该安全性类的所有应用程序权限。<code class="codeph">ALL</code>未在每个安全类中明确定义，但系统基于与ACL关联的安全性类在内部理解它。无论何时从安全性类添加或删除应用程序权限，安全性类的<code class="codeph">ALL</code>的基数都会更改。
                        </p>
                        <p>使用<code class="codeph">ALL</code>构造使Real Application Security能够表达访问控制策略，例如“向除了特定权限<code class="codeph">p1</code>之外的应用程序定义的应用程序用户<code class="codeph">u1</code>授予所有应用程序权限”。<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE__CHDIHHIH">示例4-3</a>显示了安全性类<code class="codeph">AppSecurityClass</code>中的ACL，该ACL具有应用程序的所有应用程序权限。ACE的有序评估确保除了<code class="codeph">p1</code>之外的<code class="codeph">ALL</code>被授予应用程序用户<code class="codeph">u1</code> 。
                        </p>
                        <div class="example" id="GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE__CHDIHHIH">
                           <p class="titleinexample">示例4-3使用ALL Grant</p><pre class="oac_no_warn" dir="ltr">从DBA_XS_ACLS中选择NAME，SECURITY_CLASS，PARENT_ACL; NAME SECURITY_CLASS PARENT_ACL ---------- ---------------- --------------- sampleACL AppSecurityClass选择ACL，ACE_ORDER来自DBA_XS_ACES的GRANT_TYPE，PRINCIPAL，PRIVILEGE; ACL ACE_ORDER GRANT_TYPE PRINCIPAL PRIVILEGE --------- --------- ---------- ------------ ----- ----- sampleACL 1 DENY U1 p1 sampleACL 2 GRANT U1 ALL</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div><a id="DBFSG99818"></a><div class="props_rev_3"><a id="GUID-F6C92BDA-15C8-4515-BDED-9CCB2BC02985" name="GUID-F6C92BDA-15C8-4515-BDED-9CCB2BC02985"></a><h3 id="DBFSG-GUID-F6C92BDA-15C8-4515-BDED-9CCB2BC02985" class="sect3">关于配置安全类</h3>
               <div>
                  <div class="p">本节包含以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-D2C264EE-CFFF-4B2C-8D8D-26E979DBB472">关于安全类</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC">安全类继承</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-FD57A8C7-36EE-42C3-A8FB-F6E4A51BEEDC">安全类作为权限范围</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-0CD2270F-C556-4F2F-A7E2-9A71FBAE650D">DML安全类</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-730D9BA1-A246-47BC-86ED-C1D978CCDD61">关于验证安全类</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906">操纵安全类</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99819"></a><div class="props_rev_3"><a id="GUID-D2C264EE-CFFF-4B2C-8D8D-26E979DBB472" name="GUID-D2C264EE-CFFF-4B2C-8D8D-26E979DBB472"></a><h4 id="DBFSG-GUID-D2C264EE-CFFF-4B2C-8D8D-26E979DBB472" class="sect4">关于安全类</h4>
                  <div>
                     <p>一个<a id="d17697e956" class="indexterm-anchor"></a> <span class="bold">安全性类</span>是一组应用程序特权的范围。可以在多个安全性类中定义相同的应用程序特权。安全性类限制可在ACL中授予或拒绝的应用程序权限集。安全类既是定义相关应用程序特权集合的地方，也是将ACL与一个安全类相关联的方法。
                     </p>
                     <p>Real Application Security支持一组预定义的应用程序权限和安全性类，还允许应用程序使用安全性类定义自己的自定义应用程序权限。受保护的每个对象类都与一个安全类相关联，该安全类指示可以对其对象执行的操作集。有预定义的安全类，用于定义内置应用程序特权。</p>
                     <p>安全性类简化了管理大量应用程序权限的任务。每个ACL与一个安全类相关联。此安全性类定义可在ACL中授予的应用程序特权的范围。</p>
                     <p>每种对象类型都可以支持大量的应用程序权限，许多不同的对象类型可以共享一组通用的操作。为简化这些类型的规范，安全性类支持继承。</p>
                  </div>
               </div><a id="DBFSG99820"></a><a id="DBFSG99775"></a><div class="props_rev_3"><a id="GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC" name="GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC"></a><h4 id="DBFSG-GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC" class="sect4">安全类继承</h4>
                  <div>
                     <p>安全性类可以从父安全性类继承应用程序特权。子安全性类隐式包含父安全性类中定义的所有应用程序特权。安全性类中可用的应用程序权限是安全性类中定义的应用程序权限与从父安全性类继承的应用程序权限的组合。</p>
                     <p>安全性类可以指定父安全性类的列表。这些父类中可用的应用程序权限在子类中可用。在子级及其父级安全性类中定义相同的应用程序特权名称时，子级中的应用程序特权将替换或覆盖父级中的应用程序特权。</p>
                     <p><a id="d17697e1093" class="indexterm-anchor"></a><a id="d17697e1097" class="indexterm-anchor"></a> <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC__CHDDGCJC">示例4-4</a>通过创建名为<code class="codeph">HRPRIVS</code>的安全性类来显示安全性类继承。 <code class="codeph">HRPRIVS</code>安全类定义了两个应用程序权限： <code class="codeph">VIEW_SENSITIVE_INFO</code>和<code class="codeph">UPDATE_INFO</code> 。 <code class="codeph">UPDATE_INFO</code> ，这是一个聚合权限，它隐含三个其他权限： <code class="codeph">UPDATE</code> ， <code class="codeph">DELETE</code>和<code class="codeph">INSERT</code> 。安全类<code class="codeph">HRPRIVS</code>从<code class="codeph">parent_list</code>参数指定的<code class="codeph">DML</code>安全性类继承应用程序特权。
                     </p>
                     <div class="example" id="GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC__CHDDGCJC">
                        <p class="titleinexample">示例4-4显示安全类继承</p><pre class="oac_no_warn" dir="ltr">DECLARE pr_list XS $ PRIVILEGE_LIST; BEGIN pr_list：= XS $ PRIVILEGE_LIST（XS $ PRIVILEGE（name =&gt;' <span class="bold">VIEW_SENSITIVE_INFO</span> '），XS $ PRIVILEGE（name =&gt;' <span class="bold">UPDATE_INFO</span> '，implied_priv_list =&gt; XS $ NAME_LIST（'“UPDATE”'，'“DELETE”'， '“插入”'）））; sys.xs_security_class.create_security_class（name =&gt;' <span class="bold">HRPRIVS</span> '， <span class="bold">parent_list</span> =&gt; XS $ NAME_LIST（' <span class="bold">DML</span> '），priv_list =&gt; pr_list）;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG99780"></a><div class="props_rev_3"><a id="GUID-FD57A8C7-36EE-42C3-A8FB-F6E4A51BEEDC" name="GUID-FD57A8C7-36EE-42C3-A8FB-F6E4A51BEEDC"></a><h4 id="DBFSG-GUID-FD57A8C7-36EE-42C3-A8FB-F6E4A51BEEDC" class="sect4">安全类作为权限范围</h4>
                  <div>
                     <p>ACL具有单个安全类作为其<strong class="term">范围</strong> 。ACL为主体授予应用程序权限，以控制对受保护数据或功能的访问;它只能授予其安全性类中定义的应用程序权限。<code class="codeph">security_class</code>参数用于指定ACL中的安全性类。在针对ACL检查应用程序特权时，将根据ACL的安全性类解析应用程序特权的安全性类，因为ACL始终具有关联的安全性类。如果未指定安全性类，则<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-0CD2270F-C556-4F2F-A7E2-9A71FBAE650D">DML安全性类</a>将用作默认安全性类。不同的ACL可以具有相同的安全级别作为其范围。
                     </p>
                  </div>
               </div><a id="DBFSG99776"></a><div class="props_rev_3"><a id="GUID-0CD2270F-C556-4F2F-A7E2-9A71FBAE650D" name="GUID-0CD2270F-C556-4F2F-A7E2-9A71FBAE650D"></a><h4 id="DBFSG-GUID-0CD2270F-C556-4F2F-A7E2-9A71FBAE650D" class="sect4">DML安全类</h4>
                  <div>
                     <p><code class="codeph">DML</code>安全性类是在安装期间预定义或创建的。<code class="codeph">DML</code>安全性类包含对象操作的常见应用程序特权： <code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code> 。如果ACL未指定其安全性类，则<code class="codeph">DML</code>是ACL的默认安全性类。</p>
                     <p>Real Application Security DML应用程序权限与数据库对象权限相同，并且由数据库对象级别操作固有地强制执行。但是，仅当为数据库表启用了Real Application Security Data Security时，Real Application Security DML应用程序权限才有效。</p>
                  </div>
               </div><a id="DBFSG99787"></a><div class="props_rev_3"><a id="GUID-730D9BA1-A246-47BC-86ED-C1D978CCDD61" name="GUID-730D9BA1-A246-47BC-86ED-C1D978CCDD61"></a><h4 id="DBFSG-GUID-730D9BA1-A246-47BC-86ED-C1D978CCDD61" class="sect4">关于验证安全类</h4>
                  <div>
                     <p>Oracle建议您在管理配置更改后始终验证Real Application Security对象。<code class="codeph">XS_DIAG</code>包提供了一组验证API，以帮助确保这些更改不会破坏Real Application Security对象之间的复杂关系。
                     </p>
                     <p>有关验证安全性类的详细信息，请参阅<span class="q">“ <a href="XS_DIAG-package.html#GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB">VALIDATE_SECURITY_CLASS函数</a> ”</span> 。
                     </p>
                  </div>
               </div><a id="DBFSG395"></a><a id="DBFSG397"></a><a id="DBFSG398"></a><a id="DBFSG400"></a><a id="DBFSG399"></a><a id="DBFSG401"></a><a id="DBFSG403"></a><a id="DBFSG402"></a><a id="DBFSG404"></a><a id="DBFSG405"></a><a id="DBFSG393"></a><div class="props_rev_3"><a id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906" name="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906"></a><h4 id="DBFSG-GUID-AD671E89-120C-4255-BEF3-C950A8E0C906" class="sect4">操纵安全类</h4>
                  <div>
                     <div class="section">
                        <p>要操作安全类，请使用PL / SQL包<code class="codeph">XS_SECURITY_CLASS</code> ;它包括创建，管理和删除安全类及其应用程序权限的过程。该软件包还包括管理安全类继承的过程;请参阅<span class="q">“ <a href="XS_SECURITY_CLASS-package.html#GUID-0141A8A6-DF49-49F6-95C8-B14231092BB8">XS_SECURITY_CLASS包</a> ”</span> 。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHDHIFA">例4-5</a>调用<code class="codeph">ADD_PARENTS</code>将父安全类<code class="codeph">GENPRIVS</code>添加到<code class="codeph">HRPRIVS</code>安全类。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHGBCDG">示例4-6</a>调用<code class="codeph">REMOVE_PARENTS</code>以从<code class="codeph">HRPRIVS</code>安全性类中删除父安全性类<code class="codeph">GENPRIVS</code> 。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHIFCID">示例4-7</a>调用<code class="codeph">ADD_PRIVILEGES</code>将名为<code class="codeph">UPDATE_INFO</code>的聚合权限添加到<code class="codeph">HRPRIVS</code>安全性类。聚合权限包含隐含权限<code class="codeph">UPDATE</code> ， <code class="codeph">DELETE</code>和<code class="codeph">INSERT</code> 。请注意， <code class="codeph">ADD_PRIVILEGES</code>可用于向安全性类添加多个应用程序权限。有关详细信息，请参阅<span class="q">“ <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884">聚合权限</a> ”</span> 。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHCCGCB">示例4-8</a>调用<code class="codeph">REMOVE_PRIVILEGES</code>以从<code class="codeph">HRPRIVS</code>安全性类中删除<code class="codeph">UPDATE_INFO</code>应用程序特权。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHBBICH">例4-9</a>调用<code class="codeph">REMOVE_PRIVILEGES</code>从<code class="codeph">HRPRIVS</code>安全类中删除所有应用程序权限。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHEFFJE">示例4-10</a>调用<code class="codeph">ADD_IMPLIED_PRIVILEGES</code>为集合特权<code class="codeph">UPDATE_INFO</code>添加隐含应用程序特权的列表。</p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHHHCIA">示例4-11</a>调用<code class="codeph">REMOVE_IMPLIED_PRIVILEGES</code>从聚合权限<code class="codeph">UPDATE_INFO</code>删除隐式权限<code class="codeph">DELETE</code> 。</p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHIIIGA">示例4-12</a>调用<code class="codeph">REMOVE_IMPLIED_PRIVILEGES</code>以从聚合权限<code class="codeph">UPDATE_INFO</code>删除所有隐式应用程序权限。</p>
                        <p>该过程为指定的安全性类设置描述字符串。<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHFAFCC">示例4-13</a>调用<code class="codeph">SET_DESCRIPTION</code>为<code class="codeph">HRPRIVS</code>安全类设置描述字符串。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHGJDGA">示例4-14</a>调用<code class="codeph">DELETE_SECURITY_CLASS</code>以使用默认删除选项<code class="codeph">DEFAULT_OPTION</code>删除<code class="codeph">HRACL</code> ACL。请注意，此选项在<span class="q">“ <a href="XS_ADMIN_UTIL-package.html#GUID-F39AEA2C-EF16-4E19-BE15-55CFD799E7F8">XS_ADMIN_UTIL包</a> ”中</span>定义。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHDHIFA">
                        <p class="titleinexample">示例4-5为指定的安全性类添加父安全性类</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">ADD_PARENTS</span> （' <span class="bold">HRPRIVS</span> '，' <span class="bold">GENPRIVS</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHGBCDG">
                        <p class="titleinexample">示例4-6删除指定安全性类的一个或多个父类</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">REMOVE_PARENTS</span> （' <span class="bold">HRPRIVS</span> '，' <span class="bold">GENPRIVS</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHIFCID">
                        <p class="titleinexample">示例4-7将一个或多个应用程序权限添加到安全性类</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">ADD_PRIVILEGES</span> （sec_class =&gt;' <span class="bold">HRPRIVS</span> '，priv =&gt;' <span class="bold">UPDATE_INFO</span> '，implied_priv_list =&gt; XS $ NAME_LIST（'“ <span class="bold">UPDATE</span> ”'，'“ <span class="bold">DELETE</span> ”'，'“ <span class="bold">INSERT</span> ”'））;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHCCGCB">
                        <p class="titleinexample">示例4-8从指定的安全性类中删除一个或多个应用程序权限</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">REMOVE_PRIVILEGES</span> （' <span class="bold">HRPRIVS</span> '，' <span class="bold">UPDATE_INFO</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHBBICH">
                        <p class="titleinexample">示例4-9删除指定安全类的所有应用程序权限</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">REMOVE_PRIVILEGES</span> （' <span class="bold">HRPRIVS</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHEFFJE">
                        <p class="titleinexample">示例4-10将一个或多个隐含应用程序权限添加到聚合权限</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">ADD_IMPLIED_PRIVILEGES</span> （priv =&gt;' <span class="bold">UPDATE_INFO</span> '，implied_priv_list =&gt; XS $ NAME_LIST（'“UPDATE”'，'“DELETE”'，'“INSERT”'））;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHHHCIA">
                        <p class="titleinexample">示例4-11从聚合权限中删除指定的隐含应用程序权限</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">REMOVE_IMPLIED_PRIVILEGES</span> （' <span class="bold">UPDATE_INFO</span> '，'“ <span class="bold">DELETE</span> ”'）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHIIIGA">
                        <p class="titleinexample">示例4-12从聚合权限中删除所有隐含的应用程序权限</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">REMOVE_IMPLIED_PRIVILEGES</span> （' <span class="bold">UPDATE_INFO</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHFAFCC">
                        <p class="titleinexample">示例4-13为指定的安全性类设置描述字符串</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS。 <span class="bold">SET_DESCRIPTION</span> （' <span class="bold">HRPRIVS</span> '，'包含管理HR数据所需的权限'）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHGJDGA">
                        <p class="titleinexample">示例4-14删除指定的安全类</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_SECURITY_CLASS.DELETE_SECURITY_CLASS（ <span class="bold">'HRPRIVS'，XS_ADMIN_UTIL</span> <span class="bold">DEFAULT_OPTION。）;</span>结束;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="DBFSG99821"></a><div class="props_rev_3"><a id="GUID-AB53EC7B-C593-4AF3-B991-70E6503586F6" name="GUID-AB53EC7B-C593-4AF3-B991-70E6503586F6"></a><h3 id="DBFSG-GUID-AB53EC7B-C593-4AF3-B991-70E6503586F6" class="sect3">关于配置访问控制列表</h3>
               <div>
                  <div class="p">本节包含以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-DC08E175-5405-4482-BCDF-76086F6CA59C">关于ACL和ACE</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-B6EFA21A-327E-461F-B6E4-003FDA109651">创建ACL和ACE</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-79900B96-F923-4218-A75B-2D00835A3EF5">关于验证访问控制列表</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E">更新访问控制列表</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-597A7EB2-F904-4483-B17C-FEEA12421469">关于检查权限的ACL</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-0880A4FB-1F3E-47C3-BD55-F965BB13FF57">关于使用多级身份验证</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-A8FB7EF2-A069-4747-BB68-08CDFBAFB8D6">主要类型</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-3662CEB4-8437-45E5-BFAE-B2C8F61B7FEB">访问解决结果</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-4E467F69-E91A-4D5D-AE24-992574517750">ACE评估订单</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-4C3F67DC-3502-4B30-8663-344CD16BBF3A">ACL继承</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-C816E61C-3209-4ACF-961A-267CC24E6A5B">关于ACL目录视图</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-F55B017D-D9C7-4A20-9E96-AC2057F34E5C">关于安全类目录视图</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99823"></a><a id="DBFSG99822"></a><div class="props_rev_3"><a id="GUID-DC08E175-5405-4482-BCDF-76086F6CA59C" name="GUID-DC08E175-5405-4482-BCDF-76086F6CA59C"></a><h4 id="DBFSG-GUID-DC08E175-5405-4482-BCDF-76086F6CA59C" class="sect4">关于ACL和ACE</h4>
                  <div>
                     <p>Real Application Security包含访问控制列表（ACL），并支持授权，拒绝和各种冲突解决方法。<a id="d17697e2362" class="indexterm-anchor"></a>扩展ACL以支持应用程序定义的权限，使应用程序能够控制对其有意义的权限。授权查询的格式如下：“应用程序用户是否已获得ACL <span class="italic"><code class="codeph">a</code></span>权限<span class="italic"><code class="codeph">p</code></span>授权？“应用程序定义的权限是通过中间层和数据库中支持的API实现的。这些API使应用程序能够保护敏感操作，例如批准采购订单。
                     </p>
                     <p>在执行敏感操作之前，应用程序必须确定所需的应用程序权限。例如，如果应用程序需要<code class="codeph">approvePO</code>应用程序权限，则它必须找到与所需采购订单<code class="codeph">a1</code>关联的ACL，并发出查询以确定Real Application Security会话是否已获得<code class="codeph">a1</code>应用程序权限<code class="codeph">approvePO</code>授权。请注意，必须信任应用程序才能正确执行授权。数据安全性通过提供将ACL与表中的行相关联的声明方法来改进这一点;数据安全策略允许管理员或开发人员使用SQL谓词标识表中的一组行，并将该集与用于控制对其成员行的访问的ACL相关联。
                     </p>
                     <p>数据安全系统提供SQL运算符，该运算符返回与行关联的ACL。此SQL运算符使用与该行关联的ACL引用执行授权检查。默认情况下，查询返回允许用户查看的所有行;这些ACL引用可以在中间层中用于确定对特定行的适当访问，作为限制结果集的<code class="codeph">WHERE</code>子句中的参数。因此，可以进一步限制结果集以基于用户的授权仅显示某些特定操作的那些行，例如<code class="codeph">approvePO</code> 。
                     </p>
                     <p>Real Application Security系统为数据库中的SQL操作提供本机实施，限制了应用程序中由于安全性错误而造成的损坏范围。因此，应用程序的一部分中的SQL注入攻击将不提供对该组件外部的表的访问。</p>
                     <p>ACL通过指定资源上的主体的应用程序特权来保护资源。ACL是访问控制条目（ACE）的列表，其中每个ACE维护从主体到授予或拒绝的资源应用程序特权的映射。主体可以是数据库用户或Real Application Security应用程序用户或应用程序角色。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DC08E175-5405-4482-BCDF-76086F6CA59C__GUID-4B64F9A6-B682-49EE-B47F-13375C24ACEB">访问控制条目或ACE</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>一个<a id="d17697e2407" class="indexterm-anchor"></a> <span class="bold">访问控制条目</span>或<span class="bold">ACE</span>表示应用程序权限授予，ACL表示绑定到资源的一组应用程序权限授予。这里，资源可以是数据库表，表中的列，或使用SQL谓词选择的表中的一组行。因此，当访问资源时，仅检查与资源相关联的ACL的访问权限。
                        </p>
                        <p>ACE授予或拒绝访问特定主体的某些应用程序功能或其他数据库数据。ACE本身并未指定要保护的数据;通过将ACL与目标数据相关联，在ACE和ACL之外完成。</p>
                        <p><code class="codeph">XS$ACE_TYPE</code>类型来构造ACL的每个ACE条目。 <code class="codeph">XS$ACE_LIST</code>对象由权限列表和授予或拒绝权限的主体组成。可以通过<code class="codeph">DBA_XS_ACES</code>访问ACE相关信息<a id="d17697e2429" class="indexterm-anchor"></a>视图。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99825"></a><a id="DBFSG99824"></a><div class="props_rev_3"><a id="GUID-B6EFA21A-327E-461F-B6E4-003FDA109651" name="GUID-B6EFA21A-327E-461F-B6E4-003FDA109651"></a><h4 id="DBFSG-GUID-B6EFA21A-327E-461F-B6E4-003FDA109651" class="sect4">创建ACL和ACE</h4>
                  <div>
                     <div class="section">
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-B6EFA21A-327E-461F-B6E4-003FDA109651__CHDIBCFH">例4-15</a>创建了一个名为<code class="codeph">HRACL</code>的ACL。此ACL包含<code class="codeph">ace_list</code>包含的ACE。<code class="codeph">ace_list</code>中使用的应用程序权限在<code class="codeph">HRPRIVS</code>安全性类中可用。<code class="codeph">st_date</code>和<code class="codeph">en_date</code>参数指定此ACL的活动开始和结束时间;请注意，只有<code class="codeph">SELECT</code>和<code class="codeph">VIEW_SENSITIVE_INFO</code>应用程序权限是临时的。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B6EFA21A-327E-461F-B6E4-003FDA109651__CHDIBCFH">
                        <p class="titleinexample">示例4-15创建访问控制列表</p><pre class="oac_no_warn" dir="ltr">DECLARE带有时区的<span class="bold">st_date</span> TIMESTAMP; <span class="bold">en_date</span> TIMESTAMP WITH TIME ZONE; <span class="bold">ace_list</span> XS $ ACE_LIST; BEGIN <span class="bold">st_date</span> ：= SYSTIMESTAMP; <span class="bold">en_date</span> ：= TO_TIMESTAMP_TZ（'2019-06-18 11:00:00 -5：00'，'YYYY-MM-DD HH：MI：SS TZH：TZM'）; <span class="bold">ace_list</span> ：= XS $ ACE_LIST（XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（'“SELECT”'，'VIEW_SENSITIVE_INFO'），grant =&gt; true，principal_name =&gt;'HRREP'，start_date =&gt; st_date，end_date =&gt; en_date ），XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（'UPDATE_INFO'），授予=&gt; true，principal_name =&gt;'HRMGR'），XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（'“SELECT”'），授予=&gt; true，principal_name =&gt;'DB_HR'，principal_type =&gt; XS_ACL.PTYPE_DB））; sys.xs_acl.create_acl（name =&gt; <span class="bold">'HRACL'</span> ，ace_list =&gt; ace_list，sec_class =&gt; <span class="bold">'HRPRIVS'</span> ，description =&gt;'HR Representative Access'）;结束; /</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="p">每个ACE都包含作为授权目标的主体和应用程序特权列表。授权受以下主题中描述的以下属性的约束：<ul style="list-style-type:disc">
                              <li>
                                 <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8">拒绝</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-A2595721-58A0-4791-A5A3-31075DCD22E5">倒置</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF">ACE开始日期和结束日期</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DBFSG415"></a><a id="DBFSG99766"></a><div class="props_rev_3"><a id="GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8" name="GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8"></a><h5 id="DBFSG-GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8" class="sect5">拒绝</h5>
                     <div>
                        <p>授予被否定时，应用程序权限被拒绝。<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8__CHDGAJDC">示例4-16</a>设置<code class="codeph">granted</code> <code class="codeph">FALSE</code>的属性的值以拒绝对主体的应用程序特权。默认值为<code class="codeph">TRUE</code> 。</p>
                        <p>Real Application Security ACL仅支持ACE的有序评估。授予或拒绝所请求的应用程序特权的第一个ACE有助于最终授予或拒绝。请参见<span class="q">“ <a href="real-application-security-data-dictionary-views.html#GUID-EE179ED6-98B5-4FB5-A907-BA390D3C7D9F">DBA_XS_ACES</a> ”</span>部分。
                        </p>
                        <div class="example" id="GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8__CHDGAJDC">
                           <p class="titleinexample">示例4-16拒绝权限</p><pre class="oac_no_warn" dir="ltr">XS $ ACE_LIST（XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（'UPDATE_INFO'）， <span class="bold">授予</span> =&gt; <span class="bold">FALSE</span> ，principal_name =&gt;'HRREP'）;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG416"></a><a id="DBFSG99767"></a><div class="props_rev_3"><a id="GUID-A2595721-58A0-4791-A5A3-31075DCD22E5" name="GUID-A2595721-58A0-4791-A5A3-31075DCD22E5"></a><h5 id="DBFSG-GUID-A2595721-58A0-4791-A5A3-31075DCD22E5" class="sect5">倒置</h5>
                     <div>
                        <p>当指定的应用程序特权被赋予除1之外的所有主体时，该主体被反转; <code class="codeph">inverted</code>属性设置为<code class="codeph">TRUE</code> 。 <code class="codeph">inverted</code>属性的默认值为<code class="codeph">FALSE</code> 。在<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-A2595721-58A0-4791-A5A3-31075DCD22E5__CHDCFHAG">示例4-17中</a> ，对反向角色<code class="codeph">HRGUEST</code>的授权为未启用角色的任何用户提供应用程序权限。
                        </p>
                        <div class="example" id="GUID-A2595721-58A0-4791-A5A3-31075DCD22E5__CHDCFHAG">
                           <p class="titleinexample">示例4-17反转应用程序权限</p><pre class="oac_no_warn" dir="ltr">XS $ ACE_LIST（XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（ 'UPDATE_INFO'）， <span class="bold">反相</span> =&gt; <span class="bold">TRUE，principal_name</span> =&gt; <span class="bold">'HRGUEST'）;</span></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG417"></a><a id="DBFSG99769"></a><div class="props_rev_3"><a id="GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF" name="GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF"></a><h5 id="DBFSG-GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF" class="sect5">ACE开始日期和结束日期</h5>
                     <div>
                        <p>每个ACE都可以根据开始日期和结束日期设置时间约束，指定ACE生效的时间。</p>
                        <p>在<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF__CHDHJEIH">示例4-18中</a> ，可选属性<code class="codeph">start_date</code>和<code class="codeph">end_date</code> （数据类型<code class="codeph">TIMESTAMP WITH TIME ZONE</code> ）定义ACE有效的时间段。<code class="codeph">end_date</code>值必须大于<code class="codeph">start_date</code>值。
                        </p>
                        <div class="example" id="GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF__CHDHJEIH">
                           <p class="titleinexample">示例4-18设置ACE开始日期和结束日期</p><pre class="oac_no_warn" dir="ltr">XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（'“SELECT”'，'VIEW_SENSITIVE_INFO'），grant =&gt; true，principal_name =&gt;'HRREP'， <span class="bold">start_date =&gt; st_date，</span> <span class="bold">end_date =&gt; en_date））</span></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="DBFSG235"></a><div class="props_rev_3"><a id="GUID-79900B96-F923-4218-A75B-2D00835A3EF5" name="GUID-79900B96-F923-4218-A75B-2D00835A3EF5"></a><h4 id="DBFSG-GUID-79900B96-F923-4218-A75B-2D00835A3EF5" class="sect4">关于验证访问控制列表</h4>
                  <div>
                     <p>Oracle建议您在管理配置更改后始终验证Real Application Security对象。<code class="codeph">XS_DIAG</code>包提供了一组验证API，以帮助确保这些更改不会破坏Real Application Security对象之间的复杂关系。
                     </p>
                     <p>有关验证ACL的详细信息，请参阅<span class="q">“ <a href="XS_DIAG-package.html#GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9">VALIDATE_ACL函数</a> ”</span> 。</p>
                  </div>
               </div><a id="DBFSG406"></a><a id="DBFSG407"></a><a id="DBFSG408"></a><a id="DBFSG409"></a><a id="DBFSG411"></a><a id="DBFSG412"></a><a id="DBFSG413"></a><a id="DBFSG414"></a><a id="DBFSG99826"></a><div class="props_rev_3"><a id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E" name="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E"></a><h4 id="DBFSG-GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E" class="sect4">更新访问控制列表</h4>
                  <div>
                     <div class="section">
                        <p>要操作ACL，请使用PL / SQL包<code class="codeph">XS_ACL</code> ;它包含创建和管理ACL的过程。请参阅<span class="q">“ <a href="XS_ACL-package.html#GUID-7EDC932E-82DE-4CC5-A9AC-F5A376D7621F">XS_ACL包</a> ”</span> 。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDIDGEJ">例4-19</a>调用<code class="codeph">APPEND_ACES</code>将ACE， <code class="codeph">ace_entry</code>添加到<code class="codeph">HRACL</code> ACL。 ACE将<code class="codeph">SELECT</code>权限授予<code class="codeph">DB_HR</code>数据库用户。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDICBAF">例4-20</a>调用<code class="codeph">REMOVE_ACES</code>从名为<code class="codeph">HRACL</code>的ACL中删除所有ACE。</p>
                        <p>该过程设置或修改ACL的安全性类。 <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDBIEGI">示例4-21</a>调用<code class="codeph">SET_SECURITY_CLASS</code>过程以将<code class="codeph">HRPRIVS</code>安全性类与ACL <code class="codeph">HRACL</code>相关联。</p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDEBIAC">实施例4-22</a>调用<code class="codeph">SET_PARENT_ACL</code>设置<code class="codeph">AllDepACL</code> ACL作为父ACL <code class="codeph">HRACL</code> ACL。继承类型设置为<code class="codeph">EXTEND</code> 。</p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDCAGH">例4-23</a>调用<code class="codeph">REMOVE_ACL_PARAMETERS</code>删除<code class="codeph">ACL1</code>所有ACL参数。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDCACE">例4-24</a>调用<code class="codeph">REMOVE_ACL_PARAMETERS</code>来删除<code class="codeph">ACL1</code>的<code class="codeph">REGION</code>参数。
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDAJIC">例4-25</a>调用<code class="codeph">SET_DESCRIPTION</code>来设置ACL <code class="codeph">HRACL</code>的描述。</p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDEIEFE">示例4-26</a>调用<code class="codeph">DELETE_ACL</code>以使用默认删除选项删除ACL <code class="codeph">HRACL</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDIDGEJ">
                        <p class="titleinexample">示例4-19将ACE附加到访问控制列表</p><pre class="oac_no_warn" dir="ltr">DECLARE ace_entry XS $ ACE_TYPE; BEGIN ace_entry：= XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（'“ <span class="bold">SELECT</span> ”'）， <span class="bold">grant</span> =&gt; true，principal_name =&gt;' <span class="bold">DB_HR</span> '，principal_type =&gt; XS_ACL.PTYPE_DB）; SYS.XS_ACL。 <span class="bold">APPEND_ACES</span> （' <span class="bold">HRACL</span> '， <span class="bold">ace_entry</span> ）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDICBAF">
                        <p class="titleinexample">示例4-20从ACL中删除所有ACE</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_ACL。 <span class="bold">REMOVE_ACES</span> （' <span class="bold">HRACL</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDBIEGI">
                        <p class="titleinexample">示例4-21修改ACL的安全级别</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_ACL。 <span class="bold">SET_SECURITY_CLASS</span> （' <span class="bold">HRACL</span> '，' <span class="bold">HRPRIVS</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDEBIAC">
                        <p class="titleinexample">示例4-22设置或修改父ACL</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_ACL.SET_PARENT_ACL（'HRACL'，'AllDepACL'，XS_ACL.EXTENDED）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDCAGH">
                        <p class="titleinexample">示例4-23删除ACL的所有ACL参数</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_ACL。 <span class="bold">REMOVE_ACL_PARAMETERS</span> （' <span class="bold">ACL1</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDCACE">
                        <p class="titleinexample">示例4-24删除ACL的指定ACL参数</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_ACL。 <span class="bold">REMOVE_ACL_PARAMETERS</span> （' <span class="bold">ACL1</span> '，' <span class="bold">REGION</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDAJIC">
                        <p class="titleinexample">示例4-25设置ACL的描述字符串</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_ACL。 <span class="bold">SET_DESCRIPTION</span> （' <span class="bold">HRACL</span> '，'授予人力资源代表和经理的权限。“）;结束;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDEIEFE">
                        <p class="titleinexample">示例4-26删除ACL</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_ACL。 <span class="bold">DELETE_ACL</span> （' <span class="bold">HRACL</span> '）;结束;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG99834"></a><div class="props_rev_3"><a id="GUID-597A7EB2-F904-4483-B17C-FEEA12421469" name="GUID-597A7EB2-F904-4483-B17C-FEEA12421469"></a><h4 id="DBFSG-GUID-597A7EB2-F904-4483-B17C-FEEA12421469" class="sect4">关于检查权限的ACL</h4>
                  <div>
                     <p>有两种执法形式;系统对受数据安全保护的对象强制执行DML权限，用户添加的SQL运算符强制执行所有其他应用程序权限。</p>
                     <p>要检查ACL以获取应用程序特权，请调用SQL运算符<code class="codeph">ORA_CHECK_ACL</code> ：</p><pre class="oac_no_warn" dir="ltr"><a id="d17697e3692" class="indexterm-anchor"></a><a id="d17697e3696" class="indexterm-anchor"></a><a id="d17697e3700" class="indexterm-anchor"></a><a id="d17697e3704" class="indexterm-anchor"></a> ORA_CHECK_ACL（acls，privilege [，privilege] ...）</pre><p><code class="codeph">ORA_CHECK_ACL</code> SQL运算符根据有序ACL列表评估应用程序权限列表。评估过程继续进行，直到发生以下三个事件中的任何一个：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在任何可能拒绝相同应用程序特权之前，为每个应用程序特权都会遇到授权。结果是授予了应用程序权限。</p>
                        </li>
                        <li>
                           <p>在任何潜在授权之前，将拒绝指定的应用程序权限之一。结果是至少有一个应用程序权限被拒绝。</p>
                        </li>
                        <li>
                           <p>ACE列表已完全遍历。结果是并非所有应用程序权限都被授予。</p>
                        </li>
                     </ul>
                     <p>为了评估应用程序权限，Oracle会检查ACE（按顺序保留），并在找到授予或拒绝所请求的应用程序权限的ACE时停止评估。</p>
                     <p>要查找与表或视图的行关联的ACL，请调用SQL运算符<code class="codeph">ORA_GET_ACLIDS</code> ： <code class="codeph">ORA_GET_ACLIDS(table, ...)</code> 。例如，要在表， <code class="codeph">tab</code>上强制实施应用程序权限<code class="codeph">priv</code> ，用户查询会添加以下检查：</p><pre class="oac_no_warn" dir="ltr">ORA_CHECK_ACL（ORA_GET_ACLIDS（tab），priv）</pre><p>此函数回答了应用程序权限是被授予，被拒绝还是两者都没有的问题。相应的Java API也可用。</p>
                  </div>
               </div><a id="DBFSG99808"></a><div class="props_rev_3"><a id="GUID-0880A4FB-1F3E-47C3-BD55-F965BB13FF57" name="GUID-0880A4FB-1F3E-47C3-BD55-F965BB13FF57"></a><h4 id="DBFSG-GUID-0880A4FB-1F3E-47C3-BD55-F965BB13FF57" class="sect4">关于使用多级身份验证</h4>
                  <div>
                     <p><a id="d17697e3878" class="indexterm-anchor"></a><a id="d17697e3880" class="indexterm-anchor"></a> <span class="bold">多级认证</span> <a id="d17697e3887" class="indexterm-anchor"></a><a id="d17697e3889" class="indexterm-anchor"></a><a id="d17697e3893" class="indexterm-anchor"></a><a id="d17697e3897" class="indexterm-anchor"></a>使用户能够通过系统约束ACL，根据身份验证级别指定应用程序权限。<span class="bold">系统约束ACL</span>基于反映应用程序用户的身份验证级别的动态角色，指定对象的最小应用程序范围的应用程序权限集。尝试访问对象时，应用程序用户可能是<a id="d17697e3906" class="indexterm-anchor"></a>强烈或<a id="d17697e3911" class="indexterm-anchor"></a>在防火墙内部或外部进行弱验证，具有以下四种可能的身份验证级别：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>防火墙内部经过严格认证</p>
                        </li>
                        <li>
                           <p>经过强烈认证，外部防火墙</p>
                        </li>
                        <li>
                           <p>防火墙内部经过严格认证</p>
                        </li>
                        <li>
                           <p>在防火墙外部经过严格认证</p>
                        </li>
                     </ul>
                     <p>系统约束ACL可以指定应用程序特权，这些特权适用于应用程序中每个身份验证级别的应用程序用户。根据应用程序要求，管理员可以根据任何必要的标准向特定用户授予其他应用程序权限;此类附加应用程序权限独立于任何系统约束ACL。 <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDEFIDH">例4-28</a>和<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDDCAFF">例4-29</a>实现了系统约束ACL。</p>
                  </div>
               </div><a id="DBFSG99768"></a><div class="props_rev_3"><a id="GUID-A8FB7EF2-A069-4747-BB68-08CDFBAFB8D6" name="GUID-A8FB7EF2-A069-4747-BB68-08CDFBAFB8D6"></a><h4 id="DBFSG-GUID-A8FB7EF2-A069-4747-BB68-08CDFBAFB8D6" class="sect4">主要类型</h4>
                  <div>
                     <p>除Real Application Security主体，应用程序用户和应用程序角色外，Real Application Security还支持基于数据库用户和角色的授权。当系统在Real Application Security会话的上下文中评估ACL时，它会忽略基于数据库架构的授权，但会尊重基于数据库角色的授权，因为它们是Real Application Security用户角色列表的一部分。在ACL中，多个ACE可以向主体授予权限。</p>
                  </div>
               </div><a id="DBFSG99770"></a><div class="props_rev_3"><a id="GUID-3662CEB4-8437-45E5-BFAE-B2C8F61B7FEB" name="GUID-3662CEB4-8437-45E5-BFAE-B2C8F61B7FEB"></a><h4 id="DBFSG-GUID-3662CEB4-8437-45E5-BFAE-B2C8F61B7FEB" class="sect4">访问解决结果</h4>
                  <div>
                     <p>访问请求可能有两种可能的结果： <code class="codeph">true</code>或<code class="codeph">false</code> 。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">true</code>的结果意味着授予了所请求的应用程序权限</p>
                        </li>
                        <li>
                           <p><code class="codeph">false</code>的结果意味着未授予或拒绝所请求的应用程序权限。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99829"></a><div class="props_rev_3"><a id="GUID-4E467F69-E91A-4D5D-AE24-992574517750" name="GUID-4E467F69-E91A-4D5D-AE24-992574517750"></a><h4 id="DBFSG-GUID-4E467F69-E91A-4D5D-AE24-992574517750" class="sect4">ACE评估订单</h4>
                  <div>
                     <p>ACE按照它们在ACL中出现的顺序进行评估。评估特定ACE的结果可能是以下之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>授予应用程序权限。</p>
                        </li>
                        <li>
                           <p>应用程序权限被拒绝。</p>
                        </li>
                        <li>
                           <p>应用程序权限既未被授予也未被拒绝。</p>
                        </li>
                     </ul>
                     <p>请注意，如果ACE授予先前ACE拒绝的应用程序特权，则结果为拒绝，因为按顺序评估ACE。</p>
                  </div>
               </div><a id="DBFSG99830"></a><div class="props_rev_3"><a id="GUID-4C3F67DC-3502-4B30-8663-344CD16BBF3A" name="GUID-4C3F67DC-3502-4B30-8663-344CD16BBF3A"></a><h4 id="DBFSG-GUID-4C3F67DC-3502-4B30-8663-344CD16BBF3A" class="sect4">ACL继承</h4>
                  <div>
                     <p>ACL可以显式地从单个父ACL继承，使应用程序能够跨多个对象共享策略。当对应用程序特权的请求涉及两个ACL时，访问解析算法的最终结果可以基于ACL的各个访问解析结果的语义。Real Application Security支持两种类型的继承语义：扩展ACL继承（带有有序评估的<code class="codeph">OR</code> ）和约束ACL继承（ <code class="codeph">AND</code> ）。
                     </p>
                     <div class="p">本节包含：<ul style="list-style-type:disc">
                           <li>
                              <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-32BBCA8C-43CC-440E-8878-3684D8194F8E">扩展ACL继承</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B">约束ACL继承</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DBFSG419"></a><a id="DBFSG418"></a><div class="props_rev_3"><a id="GUID-32BBCA8C-43CC-440E-8878-3684D8194F8E" name="GUID-32BBCA8C-43CC-440E-8878-3684D8194F8E"></a><h5 id="DBFSG-GUID-32BBCA8C-43CC-440E-8878-3684D8194F8E" class="sect5">扩展ACL继承</h5>
                     <div>
                        <div class="section">
                           <p><a id="d17697e4583" class="indexterm-anchor"></a><a id="d17697e4587" class="indexterm-anchor"></a>扩展ACL继承（ <code class="codeph">OR</code>与有序评估）规定ACE从继承树的底部到其顶部（从子级到父级）进行评估。在扩展ACL继承时，如果子ACL或父ACL授予该特权，则授予应用程序特权，如果子ACL或父ACL拒绝该特权，则授予应用特权。实际上，显式授予或拒绝所请求的应用程序权限的第一个ACL确定最终结果。在第一次授予或拒绝之后，不会尝试进一步评估剩余的ACL。请注意，此评估规则与ACL中ACE的有序评估相同。</p>
                           <p>下面的示例将<code class="codeph">AllDepACL</code> ACL作为父ACL <code class="codeph">HRACL</code> ACL。继承类型设置为<code class="codeph">EXTENDED</code> 。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-32BBCA8C-43CC-440E-8878-3684D8194F8E__GUID-7AFC049E-7E9E-4EFB-BB96-C63D769D9D4B">
                           <p class="titleinexample">示例4-27扩展ACL继承</p><pre class="oac_no_warn" dir="ltr">BEGIN SYS.XS_ACL.SET_PARENT_ACL（ 'HRACL'， 'AllDepACL'，XS_ACL <span class="bold">EXTENDED。）;</span>结束;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG421"></a><a id="DBFSG422"></a><a id="DBFSG420"></a><div class="props_rev_3"><a id="GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B" name="GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B"></a><h5 id="DBFSG-GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B" class="sect5">约束ACL继承</h5>
                     <div>
                        <div class="section">
                           <p><a id="d17697e4760" class="indexterm-anchor"></a><a id="d17697e4764" class="indexterm-anchor"></a>约束ACL继承（ <code class="codeph">AND</code> ）要求子ACL和父ACL都授予应用程序特权，以便ACL检查的计算结果为<code class="codeph">true</code> 。
                           </p>
                           <p>如果应用程序的所有ACL都受到相同父ACL的约束，则可以强制实施应用程序范围的安全策略。例如，假设一个示例策略，其中经过身份验证的公司防火墙内的用户除了具有<code class="codeph">SELECT</code>权限外，还可以拥有应用程序权限。<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDEFIDH">示例4-28</a>显示了此策略的约束ACL（继承类型设置为<code class="codeph">CONSTRAINED</code> ），其中具有<code class="codeph">XSPUBLIC</code>应用程序角色的所有应用程序用户都被授予<code class="codeph">SELECT</code>权限。请注意，只有谁是在企业防火墙内部的应用程序的用户动态应用程序角色<code class="codeph">FIREWALL</code>启用。因此，防火墙内的应用程序用户将被授予<code class="codeph">HRPRIVS</code>安全性类中的所有应用程序权限。由于此ACL约束所有ACL（例如<code class="codeph">guestACL</code> ，因此<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDDCAFF">示例4-29</a>显示这些ACL的应用程序权限授予受<code class="codeph">FIREWALL_ACL</code>约束。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDEFIDH">
                           <p class="titleinexample">示例4-28约束ACL继承：特定于防火墙的身份验证权限</p><pre class="oac_no_warn" dir="ltr">DECLARE ace_list XS $ ACE_LIST; BEGIN ace_list：= XS $ ACE_LIST（XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（'“SELECT”'），grant =&gt; true，principal_name =&gt;'XSPUBLIC'），XS $ ACE_TYPE（privilege_list =&gt; XS $ NAME_LIST（ 'ALL'），被授予=&gt; true，principal_name =&gt;'防火墙'））; sys.xs_acl.create_acl（name =&gt;'FIREWALL_ACL'，ace_list =&gt; ace_list，sec_class =&gt;'HRPRIVS'，description =&gt;'如果不在防火墙内，则仅选择权限'）;结束; / BEGIN SYS.XS_ACL.SET_PARENT_ACL（ 'GuestACL'， 'FIREWALL_ACL'，XS_ACL <span class="bold">约束</span> 。）;结束;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDDCAFF">
                           <p class="titleinexample">示例4-29使用约束应用程序权限</p><pre class="oac_no_warn" dir="ltr">SQL&gt;从DBA_XS_ACES中选择ACE_ORDER，GRANT_TYPE，PRINCIPAL，PRIVILEGE，其中ACL ='FIREWALL_ACL'; ACE_ORDER GRANT_TYPE PRINCIPAL PRIVILEGE ---------- ---------- --------- ---------- 1 GRANT XSPUBLIC SELECT 2 GRANT FIREWALL所有</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="DBFSG99831"></a><div class="props_rev_2"><a id="GUID-C816E61C-3209-4ACF-961A-267CC24E6A5B" name="GUID-C816E61C-3209-4ACF-961A-267CC24E6A5B"></a><h4 id="DBFSG-GUID-C816E61C-3209-4ACF-961A-267CC24E6A5B" class="sect4">关于ACL目录视图</h4>
                  <div>
                     <p>ACL具有以下目录视图：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">DBA_XS_ACLS</code>目录视图，在<span class="q">“ <a href="real-application-security-data-dictionary-views.html#GUID-2F2051EB-000E-49CA-BF7E-A4541B5B74CD">DBA_XS_ACLS</a> ”</span>部分中描述</p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_XS_ACES</code>目录视图，在<span class="q">“ <a href="real-application-security-data-dictionary-views.html#GUID-EE179ED6-98B5-4FB5-A907-BA390D3C7D9F">DBA_XS_ACES</a> ”</span>部分中描述</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99832"></a><div class="props_rev_2"><a id="GUID-F55B017D-D9C7-4A20-9E96-AC2057F34E5C" name="GUID-F55B017D-D9C7-4A20-9E96-AC2057F34E5C"></a><h4 id="DBFSG-GUID-F55B017D-D9C7-4A20-9E96-AC2057F34E5C" class="sect4">关于安全类目录视图</h4>
                  <div>
                     <p>安全性类具有以下目录视图：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">DBA_XS_SECURITY_CLASSES</code> ，在<span class="q">“ <a href="real-application-security-data-dictionary-views.html#GUID-84536AC8-E0EA-4A48-A36D-6A404D8971C2">DBA_XS_SECURITY_CLASSES</a> ”</span>部分中描述</p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_XS_SECURITY_CLASS_DEP</code> ，在<span class="q">“ <a href="real-application-security-data-dictionary-views.html#GUID-9A5A3AD3-7964-4FF7-88E3-7C80ABE68D1B">DBA_XS_SECURITY_CLASS_DEP</a> ”中</span>描述</p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_XS_PRIVILEGES</code> ，在<span class="q">“ <a href="real-application-security-data-dictionary-views.html#GUID-FDB19BE4-5158-47D4-BB0D-FC4D473104AF">DBA_XS_PRIVILEGES</a> ”中</span>描述</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="DBFSG99835"></a><div class="props_rev_3"><a id="GUID-23630E01-8BE5-4850-807D-D00CB299655C" name="GUID-23630E01-8BE5-4850-807D-D00CB299655C"></a><h3 id="DBFSG-GUID-23630E01-8BE5-4850-807D-D00CB299655C" class="sect3">数据安全</h3>
               <div>
                  <p>数据安全性将ACL与逻辑行组相关联，称为数据域。</p>
                  <p>这使应用程序能够通过定义数据域及其访问权限的策略在数据库层定义和实施特定于应用程序的权限。这些数据域包括标识一组行的SQL谓词和保护标识的行的ACL。ACL评估基于应用程序用户，而不是架构所有者。</p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-B3A35024-58AF-4FED-ADB5-2466E1708FC0">数据领域</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-5CB0635F-DF2A-42F6-81C4-B2C354E5A448">参数化ACL</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99836"></a><div class="props_rev_3"><a id="GUID-B3A35024-58AF-4FED-ADB5-2466E1708FC0" name="GUID-B3A35024-58AF-4FED-ADB5-2466E1708FC0"></a><h4 id="DBFSG-GUID-B3A35024-58AF-4FED-ADB5-2466E1708FC0" class="sect4">数据领域</h4>
                  <div>
                     <p>Real Application Security的数据安全策略<a id="d17697e5353" class="indexterm-anchor"></a> <span class="bold">data realms将</span> ACL与表中的行相关联。数据领域有两个部分：</p>
                     <ol>
                        <li>
                           <p>表示为SQL谓词的规则，用于选择一组行。</p>
                        </li>
                        <li>
                           <p>一组ACL，用于指定行的访问策略。</p>
                        </li>
                     </ol>
                     <p>Data Security管理由关联的ACL授予的DML Real Application Security应用程序权限。该<a id="d17697e5369" class="indexterm-anchor"></a> <code class="codeph">DataSecurity</code>模块本身并不强制实施其他（非DML）Real Application Security应用程序权限。当在SQL运算符或数据域谓词中调用<code class="codeph">CHECK_PRIVILEGE</code>运算符时，可以以编程方式强制执行此类应用程序特权作为DML操作的一部分。
                     </p>
                  </div>
               </div><a id="DBFSG99837"></a><div class="props_rev_3"><a id="GUID-5CB0635F-DF2A-42F6-81C4-B2C354E5A448" name="GUID-5CB0635F-DF2A-42F6-81C4-B2C354E5A448"></a><h4 id="DBFSG-GUID-5CB0635F-DF2A-42F6-81C4-B2C354E5A448" class="sect4">参数化ACL</h4>
                  <div>
                     <p>由于每个数据领域都定义了一组使用一组参数的规则，因此这些参数的不同值会选择不同的行。这些行集可能需要不同的ACL。因此，ACL和一组行之间的关联取决于数据领域规则及其<a id="d17697e5491" class="indexterm-anchor"></a>参数名称和值。
                     </p>
                  </div>
               </div>
            </div><a id="DBFSG99838"></a><div class="props_rev_3"><a id="GUID-098E7FD1-96D6-4783-8F44-C421BB3EAFB8" name="GUID-098E7FD1-96D6-4783-8F44-C421BB3EAFB8"></a><h3 id="DBFSG-GUID-098E7FD1-96D6-4783-8F44-C421BB3EAFB8" class="sect3">ACL绑定</h3>
               <div>
                  <p>在数据库中，可以通过以下方式将特权绑定到资源：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>它可以显式绑定为权限授予的一部分。例如，数据库对象特权作为特权授予的一部分绑定到资源，例如<code class="codeph">GRANT</code> <span class="italic"><code class="codeph">user_N</code></span> <code class="codeph">update ON</code> <span class="italic"><code class="codeph">table_M</code></span> 。</p>
                     </li>
                     <li>
                        <p>它也可以作为权限定义的一部分进行全局绑定，例如系统权限<code class="codeph">ALTER SYSTEM</code>或<code class="codeph">CREATE ANY TABLE</code> ，它们不需要将资源名称作为其grant语句的一部分。
                        </p>
                     </li>
                  </ul>
                  <p>同样，Real Application Security应用程序特权可以是以下类型之一：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>作为数据安全策略的一部分，通过ACL和数据域明确绑定;请参阅<a href="configuring-data-security.html#GUID-ED34EBA9-8906-41A9-9491-B303DA4824E1" title="描述在同一模式中跨不同应用程序引入Real Application Security策略管理的模式级权限。介绍如何为两个应用程序管理员设置和启用架构级别数据安全策略。介绍如何禁用数据安全策略并撤消用户的系统权限。">配置数据安全性</a></p>
                     </li>
                     <li>
                        <p>作为其定义的一部分，在全球范围内绑定资源</p>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04128.statement-and-resultset-caching.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>语句和结果集缓存</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="JDBC Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00"></meta>
      <meta name="dcterms.title" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96471-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="performance-and-scalability.html" title="Previous" type="text/html"></link>
      <link rel="next" href="performance-extensions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="performance-and-scalability.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="performance-extensions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="performance-and-scalability.html" property="item" typeof="WebPage"><span property="name">性能和可伸缩性</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">语句和结果集缓存</li>
            </ol>
            <a id="GUID-F3F4BB63-356A-4F65-81B1-5C84FC35A16D" name="GUID-F3F4BB63-356A-4F65-81B1-5C84FC35A16D"></a><a id="JJDBC28649"></a>
            
            <h2 id="JJDBC-GUID-F3F4BB63-356A-4F65-81B1-5C84FC35A16D" class="sect2"><span class="enumeration_chapter">20</span>语句和结果集缓存</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍了语句缓存（Oracle Java数据库连接（JDBC）扩展）的优点和用法。</p>
               <div class="infoboxnote" id="GUID-F3F4BB63-356A-4F65-81B1-5C84FC35A16D__GUID-FC9BD3E5-B4F2-4865-8DA0-984A5D5F6EE0">
                  <p class="notep1">注意：</p>
                  <p>仅当您确定表结构在数据库中保持不变时才使用语句缓存。如果更改表结构，然后重用在更改表结构之前创建并执行的语句，则可能会出错。</p>
               </div>
               <p>本章包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="statement-and-resultset-caching.html#GUID-DE966F8D-3D12-4697-A7A4-A09E0DF58CA1">关于语句缓存</a></p>
                  </li>
                  <li>
                     <p><a href="statement-and-resultset-caching.html#GUID-6BD392DE-C6CE-4743-8176-D011A597AE0D">关于使用语句缓存</a></p>
                  </li>
                  <li>
                     <p><a href="statement-and-resultset-caching.html#GUID-60A76058-8FD3-4A0E-B6DB-B60DC76C6E59">关于重用语句对象</a></p>
                  </li>
                  <li>
                     <p><a href="statement-and-resultset-caching.html#GUID-5D1A9E2F-F191-4FCF-994C-C1D5B143FC4F">关于结果集缓存</a></p>
                  </li>
               </ul>
            </div><a id="JJDBC28650"></a><div class="props_rev_3"><a id="GUID-DE966F8D-3D12-4697-A7A4-A09E0DF58CA1" name="GUID-DE966F8D-3D12-4697-A7A4-A09E0DF58CA1"></a><h3 id="JJDBC-GUID-DE966F8D-3D12-4697-A7A4-A09E0DF58CA1" class="sect3"><span class="enumeration_section">20.1</span>关于语句缓存</h3>
               <div>
                  <p>语句缓存通过缓存重复使用的可执行语句（例如循环或重复调用的方法）来提高性能。从JDBC 3.0开始，JDBC标准定义了语句缓存接口。</p>
                  <p>语句缓存可以执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>防止重复创建游标的开销</p>
                     </li>
                     <li>
                        <p>防止重复的语句解析和创建</p>
                     </li>
                     <li>
                        <p>在客户端重用数据结构</p>
                     </li>
                  </ul>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-50791E8A-769F-4261-A5F6-057EB8B7A054">语句缓存的基础知识</a></p>
                     </li>
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-CF36BCE2-4B24-4975-8673-F90E5A9BEF5A">隐式语句缓存</a></p>
                     </li>
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-DFBC7F09-5F27-42E1-8044-24733A6AE5F8">显式语句缓存</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-DE966F8D-3D12-4697-A7A4-A09E0DF58CA1__GUID-B497605E-BF7B-489E-B34C-4B824B9A3525">
                     <p class="notep1">注意：</p>
                     <p>Oracle强烈建议您使用隐式语句缓存。Oracle JDBC驱动程序的设计假设启用了隐式语句高速缓存。因此，不使用Statement缓存会对性能产生负面影响。</p>
                  </div>
               </div><a id="JJDBC28651"></a><div class="props_rev_3"><a id="GUID-50791E8A-769F-4261-A5F6-057EB8B7A054" name="GUID-50791E8A-769F-4261-A5F6-057EB8B7A054"></a><h4 id="JJDBC-GUID-50791E8A-769F-4261-A5F6-057EB8B7A054" class="sect4"><span class="enumeration_section">20.1.1</span>语句缓存的基础知识</h4>
                  <div>
                     <p>应用程序使用Statement缓存来缓存与特定物理连接关联的语句。缓存与<code class="codeph">OracleConnection</code>对象关联。<code class="codeph">OracleConnection</code>包括启用Statement缓存的方法。启用语句缓存时，在调用<code class="codeph">close</code>方法时会缓存语句对象。
                     </p>
                     <p>由于每个物理连接都有自己的缓存，因此如果为多个物理连接启用Statement缓存，则可以存在多个缓存。在连接高速缓存上启用语句高速缓存时，逻辑连接将受益于在基础物理连接上启用的语句高速缓存。如果您尝试在连接缓存所持有的逻辑连接上启用语句缓存，则会引发异常。</p>
                     <p>Statement缓存有两种类型：隐式和显式。可以独立于另一个启用或禁用每种类型的Statement缓存。您既可以使用，也可以同时使用，或者两者都有效。两种类型的Statement缓存都为每个连接共享一个缓存。</p>
                  </div>
               </div><a id="JJDBC28652"></a><div class="props_rev_3"><a id="GUID-CF36BCE2-4B24-4975-8673-F90E5A9BEF5A" name="GUID-CF36BCE2-4B24-4975-8673-F90E5A9BEF5A"></a><h4 id="JJDBC-GUID-CF36BCE2-4B24-4975-8673-F90E5A9BEF5A" class="sect4"><span class="enumeration_section">20.1.2</span>隐式语句缓存</h4>
                  <div>
                     <p>启用隐式语句缓存时<a id="d64860e168" class="indexterm-anchor"></a><a id="d64860e174" class="indexterm-anchor"></a> ，当您调用此语句对象的<code class="codeph">close</code>方法时，JDBC会自动缓存准备或可调用的语句。使用标准连接对象和语句对象方法缓存和检索准备好的和可调用的语句。
                     </p>
                     <p>简单语句不是隐式缓存的，因为隐式语句缓存使用SQL字符串作为键，而普通语句在没有SQL字符串的情况下创建。因此，隐式语句缓存仅适用于<a id="d64860e184" class="indexterm-anchor"></a> <code class="codeph">OraclePreparedStatement</code>和<code class="codeph">OracleCallableStatement</code> <a id="d64860e191" class="indexterm-anchor"></a>使用SQL字符串创建的对象。您<span class="italic">不能</span>对<code class="codeph">OracleStatement</code>使用隐式语句缓存。当您创建一个<code class="codeph">OraclePreparedStatement</code>或<code class="codeph">OracleCallableStatement</code> ，JDBC驱动程序会自动搜索匹配的语句缓存。匹配标准如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>语句中的SQL字符串必须与缓存中的SQL字符串相同。</p>
                        </li>
                        <li>
                           <p>语句类型必须相同，即准备或可调用。</p>
                        </li>
                        <li>
                           <p>语句生成的可滚动类型的结果集必须相同，即仅向前或可滚动。</p>
                        </li>
                     </ul>
                     <p>如果在缓存搜索期间找到匹配项，则返回缓存的语句。如果未找到匹配项，则创建并返回新语句。在任何一种情况下，当您调用语句对象的<code class="codeph">close</code>方法时，都会缓存语句及其游标和状态。
                     </p>
                     <p>当一个缓存<a id="d64860e224" class="indexterm-anchor"></a> <code class="codeph">OraclePreparedStatement</code>或<code class="codeph">OracleCallableStatement</code> <a id="d64860e231" class="indexterm-anchor"></a>检索对象后，状态和数据信息将自动重新初始化并重置为默认值，同时保存元数据。使用a从缓存中删除语句以符合最大大小<a id="d64860e234" class="indexterm-anchor"></a><a id="d64860e240" class="indexterm-anchor"></a><a id="d64860e244" class="indexterm-anchor"></a><a id="d64860e246" class="indexterm-anchor"></a>最近最少使用（LRU）算法。
                     </p>
                     <div class="infoboxnote" id="GUID-CF36BCE2-4B24-4975-8673-F90E5A9BEF5A__GUID-CC0785F3-9026-474E-99CD-3964B83E56AA">
                        <p class="notep1">注意：</p>
                        <p>JDBC驱动程序不会清除元数据。但是，尽管出于性能原因保存了元数据，但它没有语义影响。来自隐式缓存的语句看起来好像是新创建的。</p>
                     </div>
                     <p>您可以阻止隐式缓存特定语句。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="statement-and-resultset-caching.html#GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD">关于使用隐式语句缓存</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDBC28654"></a><a id="JJDBC28653"></a><div class="props_rev_3"><a id="GUID-DFBC7F09-5F27-42E1-8044-24733A6AE5F8" name="GUID-DFBC7F09-5F27-42E1-8044-24733A6AE5F8"></a><h4 id="JJDBC-GUID-DFBC7F09-5F27-42E1-8044-24733A6AE5F8" class="sect4"><span class="enumeration_section">20.1.3</span>显式语句缓存</h4>
                  <div>
                     <p><a id="d64860e288" class="indexterm-anchor"></a><a id="d64860e294" class="indexterm-anchor"></a>显式语句缓存使您可以缓存和检索选定的准备和可调用语句。显式语句缓存依赖于您提供的键，一个任意Java <code class="codeph">String</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-DFBC7F09-5F27-42E1-8044-24733A6AE5F8__GUID-FEE8E80F-3B04-4F04-A5EF-EA6B03AAE090">
                        <p class="notep1">注意：</p>
                        <p>无法缓存普通语句。</p>
                     </div>
                     <p>由于显式语句缓存保留语句数据和状态以及元数据，因此它具有隐式语句缓存的性能优势，而隐式语句缓存仅保留元数据。但是，在使用此类缓存时必须谨慎，因为显式语句缓存会保存所有三种类型的信息以供重用，您可能不知道从事先使用语句时保留了哪些数据和状态。</p>
                     <p>可以通过以下几点区分隐式和显式语句缓存：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>检索语句</p>
                           <p>在隐式语句缓存的情况下，您不需要特殊操作来从缓存中检索语句。相反，无论何时调用<code class="codeph">prepareStatement</code>或<code class="codeph">prepareCall</code> ，JDBC都会自动检查缓存中是否有匹配的语句，如果找到则返回它。但是，在显式语句缓存的情况下，您使用专门的Oracle <code class="codeph">WithKey</code>方法来缓存和检索语句对象。
                           </p>
                        </li>
                        <li>
                           <p>提供关键</p>
                           <p>隐式语句缓存使用准备或可调用语句的SQL字符串作为键，不需要您执行任何操作。相反，显式语句缓存要求您提供Java <code class="codeph">String</code> ，并将其用作键。
                           </p>
                        </li>
                        <li>
                           <p>回复陈述</p>
                           <p>在隐式语句缓存期间，如果JDBC驱动程序无法在缓存中找到语句，则它将自动创建一个语句。但是，在显式语句缓存期间，如果JDBC驱动程序无法在缓存中找到匹配的语句，则它将返回<code class="codeph">null</code>值。
                           </p>
                        </li>
                     </ul>
                     <p><a href="statement-and-resultset-caching.html#GUID-DFBC7F09-5F27-42E1-8044-24733A6AE5F8__G1076722" title="表">表20-1</a>比较了隐式和显式语句缓存中使用的不同方法。
                     </p>
                     <div class="tblformalwide" id="GUID-DFBC7F09-5F27-42E1-8044-24733A6AE5F8__G1076722">
                        <p class="titleintable">表20-1语句缓存中使用的比较方法</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="比较语句缓存中使用的方法" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="12%" id="d64860e358">缓存类型</th>
                                 <th align="left" valign="bottom" width="29%" id="d64860e361">分配</th>
                                 <th align="left" valign="bottom" width="21%" id="d64860e364">插入缓存</th>
                                 <th align="left" valign="bottom" width="37%" id="d64860e367">从缓存中检索</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d64860e372" headers="d64860e358 ">
                                    <p>含蓄</p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d64860e372 d64860e361 ">
                                    <p><code class="codeph">prepareStatement prepareCall</code></p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d64860e372 d64860e364 ">
                                    <p><code class="codeph">关</code></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d64860e372 d64860e367 ">
                                    <p><code class="codeph">prepareStatement prepareCall</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d64860e392" headers="d64860e358 ">
                                    <p>明确的</p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d64860e392 d64860e361 ">
                                    <p><code class="codeph">createStatement prepareStatement prepareCall</code></p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d64860e392 d64860e364 ">
                                    <p><code class="codeph">closeWithKey</code></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d64860e392 d64860e367 ">
                                    <p><code class="codeph">getStatementWithKey getCallWithKey</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div><a id="JJDBC28655"></a><div class="props_rev_3"><a id="GUID-6BD392DE-C6CE-4743-8176-D011A597AE0D" name="GUID-6BD392DE-C6CE-4743-8176-D011A597AE0D"></a><h3 id="JJDBC-GUID-6BD392DE-C6CE-4743-8176-D011A597AE0D" class="sect3"><span class="enumeration_section">20.2</span>关于使用语句缓存</h3>
               <div>
                  <p>本节讨论以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9">关于启用和禁用语句缓存</a></p>
                     </li>
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-D410355C-0318-41AC-AC93-3CDC59EFFD37">关于关闭缓存的语句</a></p>
                     </li>
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD">关于使用隐式语句缓存</a></p>
                     </li>
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-968C6FA9-D861-4624-B7E7-568B63DF4D08">关于使用显式语句缓存</a></p>
                     </li>
                  </ul>
               </div><a id="JJDBC28657"></a><a id="JJDBC28658"></a><a id="JJDBC28659"></a><a id="JJDBC28660"></a><a id="JJDBC28661"></a><a id="JJDBC28662"></a><a id="JJDBC28656"></a><div class="props_rev_3"><a id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9" name="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9"></a><h4 id="JJDBC-GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9" class="sect4"><span class="enumeration_section">20.2.1</span>关于启用和禁用语句缓存</h4>
                  <div>
                     <p>使用<code class="codeph">OracleConnection</code> API时，可以独立于另一个启用或禁用隐式和显式语句缓存。您可以同时使用它们，也可以同时使用它们或两者都有效。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9__GUID-8093CBA2-C30E-4C04-BF27-E654650BC150">启用隐式语句缓存</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>有两种方法可以启用隐式语句缓存。第一种方法在非池化物理连接上启用语句缓存，您需要使用<code class="codeph">setStatementCacheSize</code>方法显式指定每个连接的语句大小。第二种方法在池化逻辑连接上启用语句缓存。池中的每个连接都有自己的Statement缓存，其最大大小可以通过设置<code class="codeph">MaxStatementsLimit</code>属性来指定。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9__GUID-F5B4E54F-F528-4AA5-94E9-AA39B47E0540">方法1</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>执行以下步骤：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在连接上调用<code class="codeph">OracleDataSource.setImplicitCachingEnabled(true)</code>方法，将<code class="codeph">OracleDataSource</code>属性<code class="codeph">implicitCachingEnabled</code>设置为<code class="codeph">true</code> 。例如：</p><pre class="oac_no_warn" dir="ltr">OracleDataSource ods = new OracleDataSource（）; ...ods.setImplicitCachingEnabled（真）; ...
</pre></li>
                           <li>
                              <p>在物理连接上调用<code class="codeph">OracleConnection.setStatementCacheSize</code>方法。您提供的参数是缓存中的最大语句数。例如，以下代码指定十个语句的高速缓存大小：</p><pre class="oac_no_warn" dir="ltr">（（的OracleConnection）康恩）.setStatementCacheSize（10）;</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9__GUID-11810DA3-4EF9-4D09-8DE6-D78C6CF5A813">方法2</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>执行以下步骤：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将<code class="codeph">OracleDataSource</code>属性<code class="codeph">implicitCachingEnabled</code>和<code class="codeph">connectionCachingEnabled</code>为<code class="codeph">true</code> 。例如：</p><pre class="oac_no_warn" dir="ltr">OracleDataSource ods = new OracleDataSource（）; ...ods.setConnectionCachingEnabled（true）; ods.setImplicitCachingEnabled（true）; ...
</pre></li>
                           <li>
                              <p>使用连接缓存时，将<code class="codeph">MaxStatementsLimit</code>属性设置为连接缓存上的正整数。例如：</p><pre class="oac_no_warn" dir="ltr">属性cacheProps = new Properties（）; ...cacheProps.put（“MaxStatementsLimit”，“50”）;</pre></li>
                        </ul>
                        <p>要确定是否启用了隐式缓存，请调用<code class="codeph">getImplicitCachingEnabled</code> ，如果启用了隐式缓存，则返回<code class="codeph">true</code> ，否则返回<code class="codeph">false</code> 。
                        </p>
                        <div class="infoboxnote" id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9__GUID-4C702324-D20C-4D04-A746-F74D7EBF3D1A">
                           <p class="notep1">注意：</p>
                           <p>启用语句高速缓存可启用隐式和显式语句高速缓存。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9__GUID-B4AD33D6-38E3-4453-A025-A3BE3D14257C">禁用隐式语句缓存</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>通过在连接上调用<code class="codeph">setImplicitCachingEnabled(false)</code>或将<code class="codeph">ImplicitCachingEnabled</code>属性设置为<code class="codeph">false</code>来禁用隐式语句缓存。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9__GUID-6A06E0CD-878F-4BD4-9E8C-DA536A40B451">启用显式语句缓存</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要启用显式语句高速缓存，必须首先设置语句高速缓存大小。要设置高速缓存大小，请在物理连接上调用<code class="codeph">OracleConnection.setStatementCacheSize</code>方法。您提供的参数是缓存中的最大语句数。参数<code class="codeph">0</code>指定不缓存。要检查缓存大小，请按以下方式使用<code class="codeph">getStatementCacheSize</code>方法：</p><pre class="oac_no_warn" dir="ltr">System.out.println（“Stmt Cache size is”+（（OracleConnection）conn）.getStatementCacheSize（））;</pre><p>以下代码指定十个语句的高速缓存大小：</p><pre class="oac_no_warn" dir="ltr">（（的OracleConnection）康恩）.setStatementCacheSize（10）;</pre><p>通过在连接上调用<code class="codeph">setExplicitCachingEnabled(true)</code>来启用显式语句缓存。
                        </p>
                        <p>要确定是否启用了显式缓存，请调用<code class="codeph">getExplicitCachingEnabled</code> ，如果启用了显式缓存，则返回<code class="codeph">true</code> ，否则返回<code class="codeph">false</code> 。
                        </p>
                        <div class="infoboxnote" id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9__GUID-6103DC22-7A1C-41A0-8231-12EB9711922A">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您可以独立地为特定物理连接启用隐式和显式缓存。因此，可以在同一会话期间隐式和显式地执行Statement缓存。</p>
                              </li>
                              <li>
                                 <p>隐式和显式语句缓存共享<span class="italic">相同的</span>缓存。设置语句高速缓存大小时请记住这一点。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3E425401-A7F0-49FA-A057-01DB6ECCFFC9__GUID-4F1F45B0-DDB5-4766-90FD-D1ECBF89DE00">禁用显式语句缓存</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>通过调用<code class="codeph">setExplicitCachingEnabled(false)</code>禁用显式语句缓存。禁用缓存或关闭缓存会清除缓存。以下示例禁用显式语句缓存：<a id="d64860e654" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">（（的OracleConnection）康恩）.setExplicitCachingEnabled（假）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28664"></a><a id="JJDBC28665"></a><a id="JJDBC28666"></a><a id="JJDBC28663"></a><div class="props_rev_3"><a id="GUID-D410355C-0318-41AC-AC93-3CDC59EFFD37" name="GUID-D410355C-0318-41AC-AC93-3CDC59EFFD37"></a><h4 id="JJDBC-GUID-D410355C-0318-41AC-AC93-3CDC59EFFD37" class="sect4"><span class="enumeration_section">20.2.2</span>关于关闭缓存语句</h4>
                  <div>
                     <p>执行以下操作以关闭Statement并确保它不会返回到缓存：</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D410355C-0318-41AC-AC93-3CDC59EFFD37__GUID-BE0E8A7C-0001-46F7-99D6-26570EFCA6A5">在J2SE 5.0中</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>禁用该语句的缓存</p><pre class="oac_no_warn" dir="ltr">stmt.setDisableStmtCaching（真）;</pre></li>
                           <li>
                              <p>调用语句对象的<code class="codeph">close</code>方法</p><pre class="oac_no_warn" dir="ltr">stmt.close（）;</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D410355C-0318-41AC-AC93-3CDC59EFFD37__GUID-FA67A4E5-80B3-4307-A6A8-5C2A18F6289B">在JSE 6.0中</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">stmt.setPoolable（假）; stmt.close（）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D410355C-0318-41AC-AC93-3CDC59EFFD37__GUID-6B67FF68-3866-4BC4-A486-962E85E3720C">物理关闭缓存的语句</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>启用隐式语句缓存后，您无法手动关闭语句。语句对象的<code class="codeph">close</code>方法缓存语句而不是关闭它。该声明在以下三个条件之一下自动关闭：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>关闭关联连接时</p>
                           </li>
                           <li>
                              <p>当缓存达到其大小限制时，LRU算法从缓存中抢占最近最少使用的语句对象</p>
                           </li>
                           <li>
                              <p>如果在禁用语句高速缓存的语句上调用<code class="codeph">close</code>方法</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28668"></a><a id="JJDBC28669"></a><a id="JJDBC28670"></a><a id="JJDBC28671"></a><a id="JJDBC28667"></a><div class="props_rev_3"><a id="GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD" name="GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD"></a><h4 id="JJDBC-GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD" class="sect4"><span class="enumeration_section">20.2.3</span>关于使用隐式语句缓存</h4>
                  <div>
                     <p>启用隐式语句缓存后，默认情况下会自动缓存所有准备和可调用语句。隐式语句缓存包括以下步骤：</p>
                     <ol>
                        <li>
                           <p>启用隐式语句缓存。</p>
                        </li>
                        <li>
                           <p>使用其中一种标准方法分配语句。</p>
                        </li>
                        <li>
                           <p>禁用您不想缓存的任何特定语句的隐式语句缓存。这是一个可选步骤。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">close</code>方法缓存语句。
                           </p>
                        </li>
                        <li>
                           <p>通过调用适当的标准prepare方法检索隐式缓存的语句。</p>
                        </li>
                     </ol>
                     <div class="section">
                        <p class="subhead3" id="GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD__GUID-54FB304A-0E62-44AC-B2C5-FF456C01218B">为隐式缓存分配语句</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要为隐式语句缓存分配语句，请像通常那样使用<code class="codeph">prepareStatement</code>或<code class="codeph">prepareCall</code>方法。
                        </p>
                        <p>以下代码分配一个名为<code class="codeph">pstmt</code>的新语句对象：</p><pre class="oac_no_warn" dir="ltr">PreparedStatement pstmt = conn.prepareStatement（“UPDATE \ temp SET ename =？在哪里rowid =？“）;</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD__i1072689">
                        <p class="subhead3" id="GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD__GUID-5CCE5D15-45E4-44E8-A292-14A5A65DE3AB">禁用特定语句的隐式语句缓存</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>通过为连接启用隐式语句缓存，默认情况下，将自动缓存该连接的所有可调用和预准备语句。要防止特定的可调用或预准备语句被隐式缓存，请使用<a id="d64860e808" class="indexterm-anchor"></a>语句对象的<code class="codeph">setDisableStmtCaching</code>方法。您可以通过在任何不常用的语句上调用<code class="codeph">setDisableStmtCaching</code>方法来管理缓存空间。
                        </p>
                        <p>以下代码禁用<code class="codeph">pstmt</code>隐式语句缓存：<code class="codeph"></code></p><pre class="oac_no_warn" dir="ltr">PreparedStatement pstmt = conn.prepareStatement（“SELECT 1 from DUAL”）; （（OraclePreparedStatement）数PreparedStatement pstmt）.setDisableStmtCaching（真）; pstmt.close（）;</pre><div class="infoboxnote" id="GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD__GUID-0819F6BD-CA13-44E4-8B33-37A4ECFE98F8">
                           <p class="notep1">注意：</p>
                           <p>如果您使用的是JSE 6，则可以使用标准JDBC 4.0方法<code class="codeph">setPoolable</code>禁用语句缓存：</p><pre class="oac_no_warn" dir="ltr">PreparedStatement.setPoolable（假）;</pre><p>使用以下命令检查<code class="codeph">Statement</code>对象是否可以使用：</p><pre class="oac_no_warn" dir="ltr">Statement.isPoolable（）;</pre></div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD__GUID-FB8933A9-F608-48D2-8A0B-F814F812F046">隐式缓存语句</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要缓存已分配的语句，请调用语句对象的<code class="codeph">close</code>方法。当调用<code class="codeph">close</code>的上法<code class="codeph">OraclePreparedStatement</code>或<code class="codeph">OracleCallableStatement</code>对象，JDBC驱动程序会自动将缓存中的这一说法，除非你有这种说法禁用缓存。
                        </p>
                        <p>以下代码缓存<code class="codeph">pstmt</code>语句：</p><pre class="oac_no_warn" dir="ltr">pstmt.close（）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-70EF2E8D-805A-4057-995F-34B58ADC0CFD__GUID-0AB1DC9D-6A8A-4E1E-AB48-6D7D5E69D07D">检索隐式缓存的语句</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要检索隐式缓存语句，请根据语句类型调用<code class="codeph">prepareStatement</code>或<code class="codeph">prepareCall</code>方法。
                        </p>
                        <p>以下代码使用<code class="codeph">prepareStatement</code>方法从缓存中检索<code class="codeph">pstmt</code> ：</p><pre class="oac_no_warn" dir="ltr">pstmt = conn.prepareStatement（“UPDATE \ temp SET ename =？在哪里rowid =？“）;</pre></div>
                     <!-- class="section" -->
                  </div><a id="JJDBC28673"></a><a id="JJDBC28672"></a><div class="props_rev_3"><a id="GUID-A9FF7B73-F256-4872-88BE-AFFD5D5A7062" name="GUID-A9FF7B73-F256-4872-88BE-AFFD5D5A7062"></a><h5 id="JJDBC-GUID-A9FF7B73-F256-4872-88BE-AFFD5D5A7062" class="sect5"><span class="enumeration_section">20.2.3.1</span>语句分配和隐式语句缓存中使用的方法</h5>
                     <div>
                        <div class="section">
                           <p><a href="statement-and-resultset-caching.html#GUID-A9FF7B73-F256-4872-88BE-AFFD5D5A7062__g1076757" title="表">表20-2</a>描述了用于分配语句和检索隐式缓存语句的方法。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-A9FF7B73-F256-4872-88BE-AFFD5D5A7062__g1076757">
                           <p class="titleintable">表20-2语句分配和隐式语句缓存中使用的方法</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="语句分配和隐式语句缓存中使用的方法" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="32%" id="d64860e926">方法</th>
                                    <th align="left" valign="bottom" width="68%" id="d64860e929">隐式语句缓存的功能</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d64860e934" headers="d64860e926 ">
                                       <p><code class="codeph">prepareStatement</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d64860e934 d64860e929 ">
                                       <p>执行缓存搜索，查找并返回所需的缓存<code class="codeph">OraclePreparedStatement</code>对象，或者如果未找到匹配项，则分配新的<code class="codeph">OraclePreparedStatement</code>对象</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d64860e948" headers="d64860e926 ">
                                       <p><code class="codeph">方法prepareCall</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d64860e948 d64860e929 ">
                                       <p>执行缓存搜索，查找并返回所需的缓存<code class="codeph">OracleCallableStatement</code>对象，或者如果未找到匹配项，则分配新的<code class="codeph">OracleCallableStatement</code>对象</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p><a href="statement-and-resultset-caching.html#GUID-A9FF7B73-F256-4872-88BE-AFFD5D5A7062__CBHBFBAF">示例20-1</a>提供了一个示例代码，该代码显示了如何启用隐式语句缓存。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-A9FF7B73-F256-4872-88BE-AFFD5D5A7062__CBHBFBAF">
                           <p class="titleinexample">示例20-1使用隐式语句缓存</p><pre class="oac_no_warn" dir="ltr">import java.sql。PreparedStatement的; import java.sql。ResultSet的; import java.sql。的SQLException; import java.util。性能; import javax.sql。数据源; import oracle.jdbc。的OracleConnection; import oracle.jdbc.pool。OracleDataSource;公共类TestJdbc {/ ** *获取连接，准备语句，执行查询，获取结果，关闭连接。* @param ods用于获取连接的DataSource。* / private static void doSQL（DataSource ods）抛出SQLException {final String SQL =“从all_users中选择用户名”; OracleConnection conn = null; PreparedStatement ps = null; ResultSet rs = null; try {conn =（OracleConnection）ods.getConnection（）; System.out.println（“Connection：”+ conn）; System.out.println（“Connection getImplicitCachingEnabled：”+ conn.getImplicitCachingEnabled（））; System.out.println（“Connection getStatementCacheSize：”+ conn.getStatementCacheSize（））; ps = conn.prepareStatement（SQL）; System.out.println（“PreparedStatement：”+ ps）; rs = ps.executeQuery（）; while（rs.next（））{String owner = rs.getString（1）; System.out.println（所有者）;终于{if（rs！）= null）{rs.close（）;如果（ps！= null）{ps.close（）; conn.close（）; public static void main（String [] args）{try {OracleDataSource ods = new OracleDataSource（）; ods.setDriverType（“thin”）; ods.setServerName（“localhost”）; ods.setPortNumber（5221）; ods.setServiceName（“orcl”）; ods.setUser（“HR”）; ods.setPassword（“hr”）; ods.setConnectionCachingEnabled（true）; ods.setImplicitCachingEnabled（true）;属性cacheProps = new Properties（）; cacheProps.put（“InitialLimit”，“1”）; cacheProps.put（“MinLimit”，“1”）; cacheProps.put（“MaxLimit”，“5”）; cacheProps.put（“MaxStatementsLimit”，“50”）; ods.setConnectionCacheProperties（cacheProps）; System.out.println（“DataSource getImplicitCachingEnabled：”+ ods.getImplicitCachingEnabled（））; for（int i = 0; i &lt;5; i ++）{doSQL（ods）; catch（Exception ex）{ex.printStackTrace（）; }}}</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="JJDBC28675"></a><a id="JJDBC28676"></a><a id="JJDBC28677"></a><a id="JJDBC28674"></a><div class="props_rev_3"><a id="GUID-968C6FA9-D861-4624-B7E7-568B63DF4D08" name="GUID-968C6FA9-D861-4624-B7E7-568B63DF4D08"></a><h4 id="JJDBC-GUID-968C6FA9-D861-4624-B7E7-568B63DF4D08" class="sect4"><span class="enumeration_section">20.2.4</span>关于使用显式语句缓存</h4>
                  <div>
                     <p>启用显式语句缓存时，可以显式缓存已准备或可调用的语句。显式语句缓存包括以下步骤：</p>
                     <ol>
                        <li>
                           <p>启用显式语句缓存。</p>
                        </li>
                        <li>
                           <p>使用其中一种标准方法分配语句。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">closeWithKey</code>方法通过使用键关闭语句来显式缓存语句。
                           </p>
                        </li>
                        <li>
                           <p>通过调用适当的Oracle WithKey方法检索显式缓存的语句，并指定相应的键。</p>
                        </li>
                        <li>
                           <p>通过使用<code class="codeph">closeWithKey</code>方法再次关闭它来重新缓存打开的显式缓存语句。每次关闭缓存语句时，都会使用其键重新缓存它。
                           </p>
                        </li>
                     </ol>
                     <div class="section">
                        <p class="subhead3" id="GUID-968C6FA9-D861-4624-B7E7-568B63DF4D08__GUID-BC35F76E-655A-4086-9BC4-28E88AFC1CC3">为显式缓存分配语句</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要为显式语句缓存分配语句，请像通常那样使用<code class="codeph">createStatement</code> ， <code class="codeph">prepareStatement</code>或<code class="codeph">prepareCall</code>方法。
                        </p>
                        <p>以下代码分配一个名为<code class="codeph">pstmt</code>的新语句对象：</p><pre class="oac_no_warn" dir="ltr">PreparedStatement pstmt = conn.prepareStatement（“UPDATE \ temp SET ename =？在哪里rowid =？“）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-968C6FA9-D861-4624-B7E7-568B63DF4D08__GUID-930C7CA5-B4C8-4128-831D-F901F9B58C87">显式缓存语句</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要显式缓存已分配的语句，请调用语句对象的<code class="codeph">closeWithKey</code>方法，并指定键。关键是您提供的任意Java <code class="codeph">String</code> 。<code class="codeph">closeWithKey</code>方法按<code class="codeph">closeWithKey</code>缓存语句。这意味着数据，状态和元数据将被保留并且不会被清除。
                        </p>
                        <p>以下代码使用键<code class="codeph">"mykey"</code>缓存<code class="codeph">pstmt</code>语句：</p><pre class="oac_no_warn" dir="ltr">（（OraclePreparedStatement）pstmt）.closeWithKey（“mykey”）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-968C6FA9-D861-4624-B7E7-568B63DF4D08__GUID-899B056E-8205-487B-8D93-F57EA68A46C9">检索显式缓存的语句</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要调用显式缓存的语句，请根据语句类型调用<code class="codeph">getStatementWithKey</code>或<code class="codeph">getCallWithKey</code>方法。
                        </p>
                        <p>如果检索具有指定键的语句，则JDBC驱动程序将根据指定的键在高速缓存中搜索该语句。如果找到匹配项，则返回匹配语句及其状态，数据和元数据。此信息与上次结束语句时的信息相同。如果未找到匹配项，则JDBC驱动程序返回<code class="codeph">null</code> 。
                        </p>
                        <p>以下代码使用带有<code class="codeph">getStatementWithKey</code>方法的<code class="codeph">"mykey"</code>键从缓存中调用<code class="codeph">pstmt</code> 。回想一下，使用<code class="codeph">"mykey"</code>键缓存了<code class="codeph">pstmt</code>语句对象。
                        </p><pre class="oac_no_warn" dir="ltr">pstmt =（（OracleConnection）conn）。getStatementWithKey（“mykey”）;</pre><p>如果在<code class="codeph">pstmt</code>语句对象上调用<code class="codeph">creationState</code>方法，则该方法返回<code class="codeph">EXPLICIT</code> 。</p>
                        <div class="infoboxnote" id="GUID-968C6FA9-D861-4624-B7E7-568B63DF4D08__GUID-5818FF92-F7CE-4F17-B9EF-19723E16318D">
                           <p class="notep1">注意：</p>
                           <p>检索显式缓存的语句时，请确保在指定键时使用适合语句类型的方法。例如，如果使用<code class="codeph">prepareStatement</code>方法分配语句，则使用<code class="codeph">getStatementWithKey</code>方法从缓存中检索该语句。JDBC驱动程序<span class="italic">不</span>验证声明它返回的类型。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="JJDBC28678"></a><div class="props_rev_3"><a id="GUID-6E6FE54B-CD93-4C77-8D14-9656F472E86F" name="GUID-6E6FE54B-CD93-4C77-8D14-9656F472E86F"></a><h5 id="JJDBC-GUID-6E6FE54B-CD93-4C77-8D14-9656F472E86F" class="sect5"><span class="enumeration_section">20.2.4.1</span>用于检索显式缓存语句的方法</h5>
                     <div>
                        <div class="section">
                           <p><a href="statement-and-resultset-caching.html#GUID-6E6FE54B-CD93-4C77-8D14-9656F472E86F__g1076741" title="表">表20-3</a>描述了用于检索显式缓存语句的方法。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-6E6FE54B-CD93-4C77-8D14-9656F472E86F__g1076741">
                           <p class="titleintable">表20-3用于检索显式缓存语句的方法</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="用于检索显式缓存语句的方法" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="44%" id="d64860e1166">方法</th>
                                    <th align="left" valign="bottom" width="56%" id="d64860e1169">显式语句缓存的功能</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="44%" id="d64860e1174" headers="d64860e1166 ">
                                       <p><code class="codeph">getStatementWithKey</code></p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d64860e1174 d64860e1169 ">
                                       <p>指定从缓存中检索预准备语句所需的密钥</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="44%" id="d64860e1182" headers="d64860e1166 ">
                                       <p><code class="codeph">getCallWithKey</code></p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d64860e1182 d64860e1169 ">
                                       <p>指定从缓存中检索可调用语句所需的密钥</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div>
            </div><a id="JJDBC28679"></a><div class="props_rev_3"><a id="GUID-60A76058-8FD3-4A0E-B6DB-B60DC76C6E59" name="GUID-60A76058-8FD3-4A0E-B6DB-B60DC76C6E59"></a><h3 id="JJDBC-GUID-60A76058-8FD3-4A0E-B6DB-B60DC76C6E59" class="sect3"><span class="enumeration_section">20.3</span>关于重用语句对象</h3>
               <div>
                  <p>JDBC 3.0规范引入了语句池的功能，使应用程序能够以与使用<code class="codeph">Connection</code>对象相同的方式重用<code class="codeph">PreparedStatement</code>对象。<code class="codeph">PreparedStatement</code>对象可以透明方式由多个逻辑连接重用。
                  </p>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-31C86EE4-9292-4FAE-BEE2-75E9749E0969">关于使用汇总语句</a></p>
                     </li>
                     <li>
                        <p><a href="statement-and-resultset-caching.html#GUID-B65BBA20-C969-4950-BE7C-EBFEBA1EB5F1">关于结束汇总声明</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-60A76058-8FD3-4A0E-B6DB-B60DC76C6E59__GUID-38684C6E-330E-4A9A-9850-8812DED36176">
                     <p class="notep1">注意：</p>
                     <p>Oracle JDBC驱动程序使用隐式语句缓存来支持语句池。</p>
                  </div>
               </div><a id="JJDBC28680"></a><div class="props_rev_3"><a id="GUID-31C86EE4-9292-4FAE-BEE2-75E9749E0969" name="GUID-31C86EE4-9292-4FAE-BEE2-75E9749E0969"></a><h4 id="JJDBC-GUID-31C86EE4-9292-4FAE-BEE2-75E9749E0969" class="sect4"><span class="enumeration_section">20.3.1</span>关于使用池化语句</h4>
                  <div>
                     <p>应用程序可以通过从<code class="codeph">Statement</code>接口调用<code class="codeph">isPoolable</code>方法来确定数据源是否支持语句池。如果返回值为<code class="codeph">true</code> ，则应用程序知道正在合并<code class="codeph">PreparedStatement</code>对象。应用程序还可以使用<code class="codeph">Statement</code>接口中的<code class="codeph">setPoolable</code>方法请求汇集或不池化的<code class="codeph">Statement</code> 。
                     </p>
                     <p>重用池化语句应该对应用程序完全透明，也就是说，无论<code class="codeph">PreparedStatement</code>对象是否参与语句池，应用程序代码都应保持不变。如果应用程序关闭<code class="codeph">PreparedStatement</code>对象，它仍必须调用<code class="codeph">Connection.prepareStatement</code>方法才能重用它。
                     </p>
                     <div class="infoboxnote" id="GUID-31C86EE4-9292-4FAE-BEE2-75E9749E0969__GUID-EDA1DBC4-9373-4A49-86D1-49F09CDEA94D">
                        <p class="notep1">注意：</p>
                        <p>应用程序无法直接控制语句的汇总方式。语句池与<code class="codeph">PooledConnection</code>对象关联，其行为由生成它的<code class="codeph">ConnectionPoolDataSource</code>对象的属性确定。
                        </p>
                     </div>
                  </div>
               </div><a id="JJDBC28681"></a><div class="props_rev_3"><a id="GUID-B65BBA20-C969-4950-BE7C-EBFEBA1EB5F1" name="GUID-B65BBA20-C969-4950-BE7C-EBFEBA1EB5F1"></a><h4 id="JJDBC-GUID-B65BBA20-C969-4950-BE7C-EBFEBA1EB5F1" class="sect4"><span class="enumeration_section">20.3.2</span>关于关闭合并报表</h4>
                  <div>
                     <p>应用程序关闭池化语句的方式与关闭非池化语句的方式完全相同。一旦语句关闭，无论是池化还是非池化，它都不再可供应用程序使用，并且尝试重用它会导致抛出异常。唯一可见的区别是应用程序无法直接关闭正在汇总的物理语句。这是由池管理器完成的。<code class="codeph">PooledConnection.closeAll</code>方法关闭给定物理连接上打开的所有语句，释放与这些语句关联的资源。
                     </p>
                     <p>以下方法可以关闭池化语句：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a id="d64860e1334" class="indexterm-anchor"></a><a id="d64860e1338" class="indexterm-anchor"></a><code class="codeph">close</code></p>
                           <p>这个<code class="codeph">java.sql.Statement</code>接口方法由应用程序调用。如果正在汇总语句，则它会关闭应用程序使用的逻辑语句，但不会关闭正在汇总的物理语句。
                           </p>
                        </li>
                        <li>
                           <p><a id="d64860e1349" class="indexterm-anchor"></a><a id="d64860e1353" class="indexterm-anchor"></a><code class="codeph">close</code></p>
                           <p>这个<code class="codeph">java.sql.Connection</code>接口方法由应用程序调用。此方法的行为有所不同，具体取决于使用语句的连接是否正在合并：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>非圆形连接</p>
                                 <p>此方法关闭物理连接以及该连接创建的所有语句。这是必要的，因为垃圾收集机制无法检测何时可以释放外部管理的资源。</p>
                              </li>
                              <li>
                                 <p>汇集连接</p>
                                 <p>此方法关闭逻辑连接及其返回的逻辑语句，但<code class="codeph">PooledConnection</code>打开底层的<code class="codeph">PooledConnection</code>对象和任何关联的池化语句</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">PooledConnection.closeAll</code></p>
                           <p>连接池管理器调用此方法来关闭<code class="codeph">PooledConnection</code>对象<code class="codeph">PooledConnection</code>所有物理语句</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="JJDBC28682"></a><div class="props_rev_3"><a id="GUID-5D1A9E2F-F191-4FCF-994C-C1D5B143FC4F" name="GUID-5D1A9E2F-F191-4FCF-994C-C1D5B143FC4F"></a><h3 id="JJDBC-GUID-5D1A9E2F-F191-4FCF-994C-C1D5B143FC4F" class="sect3"><span class="enumeration_section">20.4</span>关于结果集缓存</h3>
               <div>
                  <div class="section">
                     <p>您的应用程序有时会向数据库发送重复查询。为了改善重复查询的响应时间，可以将查询，查询片段和PL / SQL函数的结果缓存在内存中。结果缓存存储在所有会话中共享的查询结果。重复执行这些查询时，将直接从高速缓存中检索结果。</p>
                     <div class="infoboxnote" id="GUID-5D1A9E2F-F191-4FCF-994C-C1D5B143FC4F__GUID-320549CB-EAD4-490D-B7AB-93A642B9D0B0">
                        <p class="notep1">注意：</p>
                        <p>如果结果集非常大，则由于大小限制，它可能不会被缓存。</p>
                     </div>
                     <p>您必须使用结果缓存提示注释查询或查询片段，以指示结果将存储在查询结果缓存中。</p>
                     <p>可以通过以下方式缓存查询结果集：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="statement-and-resultset-caching.html#GUID-769AF0BA-E91D-4867-825D-45A46D5FF0E4">服务器端结果集缓存</a></p>
                        </li>
                        <li>
                           <p><a href="statement-and-resultset-caching.html#GUID-0DBA7293-CC9F-446F-959F-34B23F393F80">客户端结果集缓存</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-5D1A9E2F-F191-4FCF-994C-C1D5B143FC4F__GUID-6866DB41-CD53-416F-BF0E-A4D4A3FF2EB8">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>服务器端和客户端结果集缓存对于只读或主要读取数据最有用。它们可能会降低具有高动态结果的查询的性能。</p>
                           </li>
                           <li>
                              <p>服务器端和客户端结果集缓存都使用内存。因此，缓存非常大的结果集可能会导致性能问题。</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28683"></a><div class="props_rev_3"><a id="GUID-769AF0BA-E91D-4867-825D-45A46D5FF0E4" name="GUID-769AF0BA-E91D-4867-825D-45A46D5FF0E4"></a><h4 id="JJDBC-GUID-769AF0BA-E91D-4867-825D-45A46D5FF0E4" class="sect4"><span class="enumeration_section">20.4.1</span>服务器端结果集缓存</h4>
                  <div>
                     <div class="section">
                        <p>自Oracle Database <span class="italic">11g</span>第1版以来，已为JDBC Thin和JDBC Oracle调用接口（OCI）驱动程序引入了对服务器端结果集缓存的支持。服务器端结果缓存用于在内存中缓存当前查询，查询片段和PL / SQL函数的结果，然后在将来执行查询，查询片段或PL / SQL函数时使用缓存结果。缓存的结果驻留在SGA的结果缓存内存部分中。只要成功修改了在其创建中使用的数据库对象，缓存的结果就会自动失效。服务器端缓存可以是以下两种类型：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>SQL查询结果缓存</p>
                           </li>
                           <li>
                              <p>PL / SQL函数结果缓存</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-769AF0BA-E91D-4867-825D-45A46D5FF0E4__GUID-77C37F76-CC40-48AF-ADD1-678615365BFC">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关SQL查询结果缓存的详细信息，请<a href="../tgdba/tuning-result-cache.html#TGDBA631" target="_blank"><span class="italic">参见Oracle数据库性能调整指南</span></a></p>
                              </li>
                              <li>
                                 <p>有关PL / SQL函数结果缓存的更多信息，请<a href="../lnpls/plsql-subprograms.html#LNPLS00817" target="_blank"><span class="italic">参见Oracle Database PL / SQL语言参考</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-0DBA7293-CC9F-446F-959F-34B23F393F80" name="GUID-0DBA7293-CC9F-446F-959F-34B23F393F80"></a><h4 id="JJDBC-GUID-0DBA7293-CC9F-446F-959F-34B23F393F80" class="sect4"><span class="enumeration_section">20.4.2</span>客户端结果集缓存</h4>
                  <div>
                     <div class="section">
                        <p>客户端结果集缓存功能支持客户端内存中SQL查询结果集的客户端缓存。通过这种方式，应用程序可以使用客户端内存来利用客户端结果集缓存来改善重复查询的响应时间。</p>
                        <p>本节包括以下主题：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="statement-and-resultset-caching.html#GUID-822D17D2-9872-430A-87F1-0F8B6F2E58DF">启用客户端结果集缓存</a></p>
                           </li>
                           <li>
                              <p><a href="statement-and-resultset-caching.html#GUID-5E30E39C-D773-4A00-94EF-861AE4DDEF78">客户端结果集缓存的好处</a></p>
                           </li>
                           <li>
                              <p><a href="statement-and-resultset-caching.html#GUID-DA1EEDD3-E6C5-4D34-B9A4-069C3690870E">JDBC中的使用指南</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div class="sect4"><a id="GUID-822D17D2-9872-430A-87F1-0F8B6F2E58DF" name="GUID-822D17D2-9872-430A-87F1-0F8B6F2E58DF"></a><h5 id="JJDBC-GUID-822D17D2-9872-430A-87F1-0F8B6F2E58DF" class="sect5"><span class="enumeration_section">20.4.2.1</span>启用客户端结果集缓存</h5>
                     <div>
                        <p></p>
                        <p>Oracle Database Release 18c支持JDBC瘦驱动程序中的客户端结果集缓存。您可以使用新的<code class="codeph">oracle.jdbc.enableQueryResultCache</code>连接属性来启用此功能。此属性的默认值为<code class="codeph">true</code> ，表示默认情况下启用此功能。您可以通过将属性设置为<code class="codeph">false</code>来禁用此功能。
                        </p>
                        <div class="infoboxnote" id="GUID-822D17D2-9872-430A-87F1-0F8B6F2E58DF__GUID-96BBCA50-81F7-402D-9048-17FB2CA820F4">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在Oracle Database 12 <span class="italic">c</span>第2版（12.2）中， <code class="codeph">enableQueryResultCache</code>属性可用作<code class="codeph">enableResultSetCache</code> ，默认值为<code class="codeph">false</code> 。您可以通过将<code class="codeph">enableResultSetCache</code>属性设置为<code class="codeph">true</code>来启用此功能。
                                 </p>
                              </li>
                              <li>
                                 <p>JDBC OCI驱动程序已经支持客户端结果集缓存。</p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-822D17D2-9872-430A-87F1-0F8B6F2E58DF__GUID-B214E566-ADFF-4746-9354-C8777666C9A0">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../lnoci/performance-topics.html#LNOCI10103" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a></p>
                        </div>
                        <p>要使用此功能，必须按以下方式设置以下数据库初始化参数：</p><pre class="pre codeblock"><code>CLIENT_RESULT_CACHE_SIZE = 100M CLIENT_RESULT_CACHE_LAG = 1000</code></pre><p><code class="codeph">CLIENT_RESULT_CACHE_SIZE</code>参数的此值控制瘦驱动程序可用于其缓存的内存量。
                        </p>
                        <p>然后可以对只读或读取主表进行注释，并将其数据缓存在驱动程序上。例如， <code class="codeph">RESULT_CACHE(MODE FORCE)</code> 。
                        </p>
                        <p>您还可以使用SQL提示<code class="codeph">/*+RESULT_CACHE */</code>来标识符合缓存条件的查询。
                        </p>
                        <div class="infoboxnotealso" id="GUID-822D17D2-9872-430A-87F1-0F8B6F2E58DF__GUID-51E8406F-C81C-4264-BAC7-7DA01ABD9159">
                           <p class="notep1">也可以看看：</p><a href="../jajdb/index.html" target="_blank"><span class="italic">Oracle数据库JDBC Java API参考</span></a></div>
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-5E30E39C-D773-4A00-94EF-861AE4DDEF78" name="GUID-5E30E39C-D773-4A00-94EF-861AE4DDEF78"></a><h5 id="JJDBC-GUID-5E30E39C-D773-4A00-94EF-861AE4DDEF78" class="sect5"><span class="enumeration_section">20.4.2.2</span>客户端结果集缓存的优点</h5>
                     <div>
                        <div class="section">
                           <p>客户端结果集缓存的好处如下：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>客户端结果集缓存对应用程序完全透明，其结果集数据缓存与影响其结果集的任何会话或数据库更改保持一致。</p>
                              </li>
                              <li>
                                 <p>表注释使客户端结果集对JDBC应用程序透明地工作。否则，您必须使用提示启用它。缓存命中避免执行查询和往返服务器以获取结果集。这可以为服务器资源（例如，服务器CPU和服务器I / O）节省大量性能。</p>
                                 <div class="infoboxnotealso" id="GUID-5E30E39C-D773-4A00-94EF-861AE4DDEF78__GUID-B4D218AF-E0F4-4F70-9308-EA78C8B9ADC8">
                                    <p class="notep1">也可以看看：</p>
                                    <p><a href="statement-and-resultset-caching.html#GUID-1007119D-A2F7-43D5-8A53-206033BA35FD">表注释</a>和<a href="statement-and-resultset-caching.html#GUID-E628A526-EA86-450C-B974-63422881E875">SQL提示</a></p>
                                 </div>
                              </li>
                              <li>
                                 <p>客户端上的结果缓存是按进程进行的，因此多个客户端会话可以同时使用匹配的缓存结果集。</p>
                              </li>
                              <li>
                                 <p>客户端上的结果缓存最大限度地减少了每个应用程序拥有自己的自定义结果集缓存的需要。</p>
                              </li>
                              <li>
                                 <p>客户端上的结果缓存使用比服务器内存便宜的客户端内存。</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-DA1EEDD3-E6C5-4D34-B9A4-069C3690870E" name="GUID-DA1EEDD3-E6C5-4D34-B9A4-069C3690870E"></a><h5 id="JJDBC-GUID-DA1EEDD3-E6C5-4D34-B9A4-069C3690870E" class="sect5"><span class="enumeration_section">20.4.2.3</span> JDBC中的使用指南</h5>
                     <div>
                        <div class="section">
                           <p>您可以通过以下三种方式启用结果集缓存：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="statement-and-resultset-caching.html#GUID-1764F69A-8E6B-4B78-AAF0-1D6257B3BBE5">RESULT_CACHE_MODE参数</a></p>
                              </li>
                              <li>
                                 <p><a href="statement-and-resultset-caching.html#GUID-1007119D-A2F7-43D5-8A53-206033BA35FD">表注释</a></p>
                              </li>
                              <li>
                                 <p><a href="statement-and-resultset-caching.html#GUID-E628A526-EA86-450C-B974-63422881E875">SQL提示</a></p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-DA1EEDD3-E6C5-4D34-B9A4-069C3690870E__GUID-615B0647-6DE8-4BBF-9B23-15180BB8C9AD">
                              <p class="notep1">注意：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>使用客户端结果集缓存时，必须在应用程序级别使用JDBC语句缓存或缓存语句。</p>
                                 </li>
                                 <li>
                                    <p>SQL提示优先于会话参数<code class="codeph">RESULT_CACHE_MODE</code>和表注释。表注释<code class="codeph">FORCE</code>优先于会话参数。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="statement-and-resultset-caching.html#GUID-F3F4BB63-356A-4F65-81B1-5C84FC35A16D">语句和结果集缓存</a></li>
                           </ul>
                        </div>
                     </div>
                     
                     <div class="props_rev_3"><a id="GUID-1764F69A-8E6B-4B78-AAF0-1D6257B3BBE5" name="GUID-1764F69A-8E6B-4B78-AAF0-1D6257B3BBE5"></a><h6 id="JJDBC-GUID-1764F69A-8E6B-4B78-AAF0-1D6257B3BBE5" class="sect6"><span class="enumeration_section">20.4.2.3.1</span> RESULT_CACHE_MODE参数</h6>
                        <div>
                           <div class="section">
                              <p>您可以使用<code class="codeph">RESULT_CACHE_MODE</code>参数来确定查询中表的结果缓存模式。将此子句与<code class="codeph">ALTER SESSION</code>和<code class="codeph">ALTER SYSTEM</code>语句一起使用，或在服务器参数文件（ <code class="codeph">init.ora</code> ）中使用以确定结果缓存。您可以设置<code class="codeph">RESULT_CACHE_MODE</code>参数以控制SQL查询结果缓存是用于所有查询，还是仅用于使用SQL提示或表注释使用结果缓存提示进行批注的查询。
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                     <div class="props_rev_3"><a id="GUID-1007119D-A2F7-43D5-8A53-206033BA35FD" name="GUID-1007119D-A2F7-43D5-8A53-206033BA35FD"></a><h6 id="JJDBC-GUID-1007119D-A2F7-43D5-8A53-206033BA35FD" class="sect6"><span class="enumeration_section">20.4.2.3.2</span>表注释</h6>
                        <div>
                           <div class="section">
                              <p>您可以使用表注释来启用结果缓存，而无需更改代码。<code class="codeph">ALTER TABLE</code>和<code class="codeph">CREATE TABLE</code>语句使您可以使用结果缓存模式注释表。语法是：</p><pre class="oac_no_warn" dir="ltr">CREATE | ALTER TABLE [&lt;schema&gt;。] &lt;table&gt; ...[RESULT_CACHE（MODE {FORCE | DEFAULT}）]</pre><p>以下示例显示如何将表注释与<code class="codeph">CREATE TABLE</code>语句一起使用：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE foo（NUMBER，b VARCHAR2（20））RESULT_CACHE（MODE FORCE）;</pre><p>以下示例显示如何将表注释与<code class="codeph">ALTER TABLE</code>语句一起使用：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE foo RESULT_CACHE（MODE DEFAULT）;</pre></div>
                           <!-- class="section" -->
                        </div>
                     </div>
                     <div class="props_rev_3"><a id="GUID-E628A526-EA86-450C-B974-63422881E875" name="GUID-E628A526-EA86-450C-B974-63422881E875"></a><h6 id="JJDBC-GUID-E628A526-EA86-450C-B974-63422881E875" class="sect6"><span class="enumeration_section">20.4.2.3.3</span> SQL提示</h6>
                        <div>
                           <div class="section">
                              <p>您可以使用SQL提示通过使用<code class="codeph">/*+ result_cache */</code>或/ * + no_result_cache * / hint对查询进行批注来指定要缓存的查询。例如，请查看以下代码段：</p><pre class="oac_no_warn" dir="ltr">String query =“select / * + result_cache * / *来自员工employee_id &lt;：1”; （（oracle.jdbc。的OracleConnection）康涅狄格州）.setImplicitCachingEnabled（真）; （（oracle.jdbc。的OracleConnection）康恩）.setStatementCacheSize（10）; PreparedStatement pstmt; ResultSet rs; for（int j = 0; j &lt;10; j ++）{pstmt = conn.prepareStatement（query）; pstmt.setInt（1,7500）; rs = pstmt.executeQuery（）; while（rs.next（））{//查看值} rs.close; pstmt.close（）; }}</pre><p>在前面的示例中，客户端结果缓存提示<code class="codeph">/*+ result_cache */</code>被注释为实际查询，即， <code class="codeph">select * from employees where employee_id &lt; : 1</code> 。因此，查询的第一次执行将转到数据库，并为查询的其余九次执行缓存结果集。这显着提高了应用程序的性能。这主要用于只读数据。
                              </p>
                              <p>以下是SQL提示的更多示例。以下所有示例都假定使用以下命令对<code class="codeph">dept</code>表进行结果缓存注释：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE dept result_cache（MODE FORCE）;</pre></div>
                           <!-- class="section" -->
                           <div class="section">
                              <p class="subhead3" id="GUID-E628A526-EA86-450C-B974-63422881E875__GUID-57E656F2-6000-4BDC-B72B-9F8D5D7A08E5">例子</p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>SELECT * FROM员工</p>
                                    <p>结果集不会被缓存。</p>
                                 </li>
                                 <li>
                                    <p>SELECT * FROM部门</p>
                                    <p>结果集将被缓存。</p>
                                 </li>
                                 <li>
                                    <p>SELECT / * + result_cache * / employee_id来自员工</p>
                                    <p>结果集将被缓存。</p>
                                 </li>
                                 <li>
                                    <p>SELECT / * + no_result_cache * / department_id来自部门</p>
                                    <p>结果集不会被缓存。</p>
                                 </li>
                                 <li>
                                    <p>SELECT / * + result_cache * / * FROM departments</p>
                                    <p>虽然不需要查询提示，但结果集将被缓存。</p>
                                 </li>
                                 <li>
                                    <p>SELECT e.first_name FROM employees e，departments d WHERE e.department_id = d.department_id</p>
                                    <p>结果集不会被缓存，因为查询提示既不可用也不是所有表都注释为<code class="codeph">FORCE</code> 。</p>
                                 </li>
                              </ul>
                              <div class="infoboxnote" id="GUID-E628A526-EA86-450C-B974-63422881E875__GUID-1948B9E8-654E-4F0B-81A6-4004E656EFBC">
                                 <p class="notep1">注意：</p>
                                 <p>有关使用指南，客户端缓存一致性，部署时间设置，客户端缓存统计信息，客户端结果缓存验证以及OCI客户端结果缓存和服务器结果缓存的信息，请参阅<a href="../lnoci/performance-topics.html#LNOCI10103" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> 。
                                 </p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="13388.required-tasks-complete-upgrading-oracle-database.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Review and complete these required tasks that are specified for your environment after you complete your upgrade."></meta>
      <meta name="description" content="Review and complete these required tasks that are specified for your environment after you complete your upgrade."></meta>
      <title>升级Oracle数据库后需要完成的任务</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Upgrade Guide"></meta>
      <meta property="og:description" content="Review and complete these required tasks that are specified for your environment after you complete your upgrade."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Upgrade Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-upgrade-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-25T08:26:31-07:00"></meta>
      <meta name="dcterms.title" content="Database Upgrade Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96252-05"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="how-to-show-current-state-oracle-data-dictionary.html" title="Previous" type="text/html"></link>
      <link rel="next" href="recommended-and-best-practices-complete-upgrading-oracle-database.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="UPGRD"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="how-to-show-current-state-oracle-data-dictionary.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="recommended-and-best-practices-complete-upgrading-oracle-database.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库升级指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="post-upgrade-tasks-oracle-database.html" property="item" typeof="WebPage"><span property="name">Oracle数据库的升级后任务</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">升级Oracle数据库后需要完成的任务</li>
            </ol>
            <a id="GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" name="GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9"></a><a id="UPGRD12421"></a>
            
            <h2 id="UPGRD-GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" class="sect2">升级Oracle数据库后需要完成的任务</h2>
         </header>
         <div class="ind">
            <div>
               <p>完成升级后，请查看并完成为您的环境指定的所需任务。</p>
               <p>升级Oracle数据库后，必须完成这些升级后任务。您必须在手动执行升级时以及使用数据库升级助手（DBUA）进行升级时完成这些任务。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9AAA819-C4E2-4674-B8E3-530921AF49F7">手动升级后在Linux和Unix系统上设置环境变量</a><br>如果您执行了Oracle数据库的手动升级，则必须确保所需的操作系统环境变量指向新Oracle数据库发行版的目录。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-1023C5FB-B409-4F16-BCA1-C14CB9B7E625">重新编译所有无效对象</a><br>Oracle建议您在安装，修补或升级数据库后运行<code>utlrp.sql</code>脚本，以识别和重新编译无效对象。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-EB3A48A3-612F-4062-B73A-CDF24C4AF15D">重新编译多租户架构数据库上的所有无效对象</a><br>在升级后的多租户架构Oracle数据库。Oracle建议您使用<code class="codeph">catcon</code> Perl脚本重新编译无效对象。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-FF36ABBF-7578-47DF-A4F2-6AC2FDA5CA33">跟踪无效对象重新编译进度</a><br>使用这些SQL查询来跟踪无效对象的<code>utlrp.sql</code>脚本重新编译的进度。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-21424A22-F527-4E2F-A072-FD600E5BD449">升级Oracle数据库后运行OPatch命令</a><br>升级Oracle数据库后，必须从新的Oracle主目录运行OPatch命令。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-04943AB1-2558-4058-81AA-26EB6C2E5C38">升级Oracle数据库后，将oratab和脚本设置为指向新的Oracle位置</a><br>您必须将脚本设置为指向新的Oracle主目录位置。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-3F55A8C1-C867-4483-AB43-B2D12D9745BA">检查PL / SQL包和依赖过程</a><br>在早期版本Oracle数据库中安装的软件包可能在新版本中不可用，这会影响应用程序。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-B57B8AF5-C22C-4CE7-8D9D-AAA00B9FF3E3">根据Oracle维护类型升级表</a><br>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）及更高版本开始，您必须手动升级依赖于Oracle维护类型的用户表。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-88FB7FFD-4392-49C6-843A-45B49F8A1821">启用新的扩展数据类型功能</a><br>使系统能够利用新的扩展数据类型需要特定的升级操作。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-E3E9F44D-6769-4E30-A61F-12E91168640C">调整并行执行服务器的最小值和最大值</a><br>根据您的环境，您可以减少<span class="parmname" translate="no">PARALLEL_MIN_SERVERS</span>参数的默认设置。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-56A8346B-EA67-46FB-AB4C-A7D0710C8CD8">关于升级Oracle数据库后的恢复目录升级</a><br>如果使用的恢复目录模式版本早于RMAN客户端所需的版本，则必须对其进行升级。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-41C8B1F3-1294-4F58-99F7-AB75F9889E05">升级Oracle数据库后升级时区文件版本</a><br>如果升级前信息工具指示您在完成数据库升级后升级时区文件，则使用<code class="codeph">DBMS_DST</code> PL / SQL程序包升级时区文件。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-B22CC865-E3FB-4D7E-821F-A60159E0F833">升级Oracle数据库后升级由DBMS_STATS包创建的统计表</a><br>如果使用<code>DBMS_STATS.CREATE_STAT_TABLE</code>过程创建了统计表，则通过运行<code>DBMS_STATS.UPGRADE_STAT_TABLE</code>升级这些表。</li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-751FEECC-E0C8-4C86-AC1C-AFB64C81CF00">升级Oracle数据库后升级经过外部验证的SSL用户</a><br>如果您是从Oracle9需要升级<span class="italic">我</span>第2版（9.2）或Oracle数据库<span class="italic">10g</span>第1版（10.1），并且正在使用外部认证的SSL的用户，那么你必须运行SSL外部用户转换（ <code>extusrupgrade</code> ）脚本来升级的用户。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-ACCBC4FB-2626-40AD-91A4-3E38DA4FF339">为Oracle XML DB配置FTP和HTTP端口以及HTTP身份验证</a><br>Oracle数据库配置助手（DBCA）不会对Oracle数据库<span class="italic">12c</span>中配置的Oracle XML DB港口和以后升级版本使用摘要身份验证。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C4517406-1BB3-41AA-AD27-8E18AA2E98C5">升级Oracle数据库后安装Oracle文本提供的知识库</a><br>Oracle数据库升级后，必须重新生成Oracle Text提供的知识库的所有用户扩展。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-BC3DDABF-E041-4CD5-964F-E291AB4D453F">使用AUTO_LEXER重建Oracle文本索引</a><br>如果您是从之前版本的升级Oracle Text的比Oracle数据库<span class="italic">12c</span>中，然后查看这个话题。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-BF742F8E-61C6-4F7C-927D-26687D1A3B2F">升级Oracle数据库后更新Oracle Application Express配置</a><br>Oracle Application Express会影响升级过程，具体取决于Oracle Application Express版本和数据库安装类型。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-7A62A202-2965-4DEB-A834-5E8218B23A3C">在只读Oracle Homes中替换DEMO目录</a><br>升级只读Oracle主目录后，复制早期版本的Oracle数据库<code class="codeph">demo</code>目录，并将只读Oracle主目录中的<code class="codeph">demo</code>目录替换为新版本的<code class="codeph">demo</code>目录。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-77701CFB-0716-40B4-B9BE-6E0A77506496">配置外部网络服务的访问控制列表（ACL）</a><br>Oracle数据库<span class="italic">12c</span>与更高版本包括细粒度访问控制的<code class="codeph">UTL_TCP</code> ， <code class="codeph">UTL_SMTP</code> ， <code class="codeph">UTL_MAIL</code> ， <code class="codeph">UTL_HTTP</code> ，或<code class="codeph">UTL_INADDR</code>包。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-12B920E9-B2DA-48A0-832C-3E07D172A011">升级Oracle数据库后启用Oracle Database Vault</a><br>根据您的目标数据库版本，可能需要禁用Oracle Database Vault以完成Oracle数据库升级。
                  </li>
                  <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-433E0DB9-026E-4322-A8FF-BA0E108AB28B">检查SQLNET.ALLOWED_LOGON_VERSION参数行为</a><br>从版本10g之前的客户端连接到Oracle数据库失败，错误为<code class="codeph">ORA-28040: No matching authentication protocol</code> 。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="post-upgrade-tasks-oracle-database.html#GUID-637ADBD0-866B-4B64-9513-4C7CDE84895C" title="升级Oracle数据库后，完成所需的升级后任务，并考虑新版本的建议。">Oracle数据库的升级后任务</a></p>
                  </div>
               </div>
            </div>
            <a id="UPGRD12422"></a><div class="props_rev_3"><a id="GUID-C9AAA819-C4E2-4674-B8E3-530921AF49F7" name="GUID-C9AAA819-C4E2-4674-B8E3-530921AF49F7"></a><h3 id="UPGRD-GUID-C9AAA819-C4E2-4674-B8E3-530921AF49F7" class="sect3">手动升级后在Linux和Unix系统上设置环境变量</h3>
               <div>
                  <p>如果您执行了Oracle数据库的手动升级，则必须确保所需的操作系统环境变量指向新Oracle数据库发行版的目录。</p>
                  <p>确认以下环境变量指向新Oracle主目录的目录：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">ORACLE_HOME</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">路径</code></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-C9AAA819-C4E2-4674-B8E3-530921AF49F7__GUID-F9357890-AD33-41D4-822E-349F7A61EDFC">
                     <p class="notep1">注意：</p>
                     <p>DBUA自动对Oracle环境变量进行必要的更改。</p>
                  </div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN12480" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-1023C5FB-B409-4F16-BCA1-C14CB9B7E625" name="GUID-1023C5FB-B409-4F16-BCA1-C14CB9B7E625"></a><h3 id="UPGRD-GUID-1023C5FB-B409-4F16-BCA1-C14CB9B7E625" class="sect3">重新编译所有无效对象</h3>
               <div>
                  <p>Oracle建议您在安装，修补或升级数据库后运行<code>utlrp.sql</code>脚本，以识别和重新编译无效对象。
                  </p>
                  <div class="section"><code>utlrp.sql</code>脚本重新编译所有无效对象。安装后立即运行脚本，以确保用户不会遇到无效对象。
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>启动SQL * Plus：</span><div><pre class="pre codeblock"><code>sqlplus“/ AS SYSDBA”</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>运行<code>utlrp.sql</code>脚本，其中<code class="codeph"><span class="variable" translate="no">Oracle_home</span></code>是Oracle主路径：</span><div><pre class="pre codeblock"><code>SQL&gt; @ <span class="variable" translate="no">Oracle_home</span> /rdbms/admin/utlrp.sql</code></pre></div>
                     </li>
                  </ol>
                  <div class="section">
                     <p><code>utlrp.sql</code>脚本根据无效对象的数量和可用的CPU数量自动重新编译串行或并行重新编译中的无效对象。使用CPU数（ <span class="parmname" translate="no">cpu_count</span> ）乘以每个CPU的线程数（ <span class="parmname" translate="no">parallel_threads_per_cpu</span> ）计算CPU。在Oracle Real Application Clusters（Oracle RAC）上，此数字将添加到所有Oracle RAC节点。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-EB3A48A3-612F-4062-B73A-CDF24C4AF15D" name="GUID-EB3A48A3-612F-4062-B73A-CDF24C4AF15D"></a><h3 id="UPGRD-GUID-EB3A48A3-612F-4062-B73A-CDF24C4AF15D" class="sect3">重新编译多租户架构数据库上的所有无效对象</h3>
               <div>
                  <p>在升级后的多租户架构Oracle数据库。Oracle建议您使用<code class="codeph">catcon</code> Perl脚本重新编译无效对象。
                  </p>
                  <div class="section">
                     <p>使用<code>catcon.pl</code>实用程序在容器数据库（CDB）中的所有容器上运行<code>utlrp.sql</code> 。
                     </p>
                     <p><code>catcon.p</code> l脚本从<code>$ORACLE_HOME/rdbms/admin</code>目录运行utlrp.sql。该脚本重新编译任何剩余的存储的PL / SQL和Java代码。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-EB3A48A3-612F-4062-B73A-CDF24C4AF15D__GUID-F588FB3D-EE1A-485B-92B1-3A09BA3F9354">
                     <p class="titleinexample">示例5-1使用CATCON实用程序在CDB中的所有容器上运行utlrp.sql脚本</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl catcon.pl -n 1 -e -b utlrp -d'''。'''utlrp.sql</code></pre><p>请注意此用例的以下条件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">-n</code>参数设置为1，因此脚本按顺序运行每个PDB重新编译。
                           </p>
                        </li>
                        <li>
                           <p>期望PDB的串行重新编译完成时间延迟。根据要升级的PDB数量，重新编译可能会大大超出升级脚本完成所需的时间。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-FF36ABBF-7578-47DF-A4F2-6AC2FDA5CA33" name="GUID-FF36ABBF-7578-47DF-A4F2-6AC2FDA5CA33"></a><h3 id="UPGRD-GUID-FF36ABBF-7578-47DF-A4F2-6AC2FDA5CA33" class="sect3">跟踪无效对象重新编译进度</h3>
               <div>
                  <p>使用这些SQL查询来跟踪无效对象的<code>utlrp.sql</code>脚本重新编译的进度。
                  </p>
                  <div class="section">Oracle建议您在升级后运行<code>utlrp.sql</code>脚本以重新编译无效对象。您可以运行SQL查询来监视脚本。
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-FF36ABBF-7578-47DF-A4F2-6AC2FDA5CA33__GUID-56510475-53D3-4F10-A1FF-1783B3DD5C85">
                     <p class="titleinexample">示例5-2剩余的无效对象数</p>
                     <p>输入此查询以返回剩余无效对象的数量。随着<code>utlrp.sql</code>脚本的运行，此数字会随着时间的推移而减少。
                     </p><pre class="pre codeblock"><code>SELECT COUNT（*）FROM obj $ WHERE status IN（4,5,6）;</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-FF36ABBF-7578-47DF-A4F2-6AC2FDA5CA33__GUID-D3A71C2E-00F0-425E-804D-65D37E47C7FA">
                     <p class="titleinexample">示例5-3重新编译的对象数</p>
                     <p>输入此查询以返回<code>utlrp.sql</code>已编译的对象数。脚本运行时，此数字会随着时间的推移而增加
                     </p><pre class="pre codeblock"><code>SELECT COUNT（*）FROM UTL_RECOMP_COMPILED;</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-FF36ABBF-7578-47DF-A4F2-6AC2FDA5CA33__GUID-EC38A517-C8CA-4578-98F7-BC6DC9192A70">
                     <p class="titleinexample">示例5-4使用错误重新编译的对象数</p>
                     <p>输入此查询以返回<code>utlrp.sql</code>编译时出错的对象数。
                     </p><pre class="pre codeblock"><code>从utl_recomp_errors中选择COUNT（DISTINCT（obj＃））“OBJECTS WITH ERRORS”;</code></pre><p>如果该数字高于预期，则检查每个对象报告的错误消息。如果您看到由于系统配置错误或资源限制而导致的错误，请修复这些错误的原因，然后再次运行<code>utlrp.sql</code> 。
                     </p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-21424A22-F527-4E2F-A072-FD600E5BD449" name="GUID-21424A22-F527-4E2F-A072-FD600E5BD449"></a><h3 id="UPGRD-GUID-21424A22-F527-4E2F-A072-FD600E5BD449" class="sect3">升级Oracle数据库后运行OPatch命令</h3>
               <div>
                  <p>升级Oracle数据库后，必须从新的Oracle主目录运行OPatch命令。</p>
                  <p>OPatch是一个基于Java的实用程序，可以使用Oracle Universal Installer进行安装。Opatch与平台无关。它在所有支持的操作系统上运行。另一个版本的OPatch，称为独立OPatch，也可用。它在没有Oracle Universal Installer的Oracle家庭上运行。</p>
                  <p>修补程序是复制到现有安装的一小部分文件。它们与特定版本的Oracle产品相关联。应用于已安装产品的正确版本时，修补程序会生成产品的升级版本。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-21424A22-F527-4E2F-A072-FD600E5BD449__GUID-4BD57FC7-5C23-402B-B145-473A4FCBE3E1">运行Opatch以检查Oracle数据库清单</p>
                     <p>以Oracle安装所有者身份登录，并从新的Oracle主目录运行<code class="codeph">lsinventory</code>命令。该命令可生成系统上安装的Oracle软件的准确完整清单：</p><pre class="pre codeblock"><code>opatch lsinventory -patch</code></pre><p>请定期参阅My Oracle Support说明756671.1，以获取有关版本更新（更新）和版本更新修订（修订版）的最新建议。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;id=756671.1" target="_blank">https://support.oracle.com/rs?type=doc&amp;id=756671.1</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="UPGRD52744"></a><div class="props_rev_3"><a id="GUID-04943AB1-2558-4058-81AA-26EB6C2E5C38" name="GUID-04943AB1-2558-4058-81AA-26EB6C2E5C38"></a><h3 id="UPGRD-GUID-04943AB1-2558-4058-81AA-26EB6C2E5C38" class="sect3">升级Oracle数据库后，将oratab和脚本设置为指向新的Oracle位置</h3>
               <div>
                  <p>您必须将脚本设置为指向新的Oracle主目录位置。</p>
                  <div class="section">
                     <p>将Oracle数据库升级到新版本后，必须确保<code class="codeph">oratab</code>文件和设置<code><span class="variable" translate="no">ORACLE_HOME</span></code>值的任何客户端脚本指向为新Oracle Database版本创建的新Oracle主目录。DBUA自动将<code class="codeph">oratab</code>指向新的Oracle主目录。但是，无论使用何种方法升级，都必须检查客户端脚本。
                     </p>
                     <p>如果手动升级数据库，则必须以新Oracle Database版本的Oracle安装所有者身份登录，并手动更新<code class="codeph">oratab</code>文件。<code class="codeph">oratab</code>文件的位置可能因操作系统而异。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-04943AB1-2558-4058-81AA-26EB6C2E5C38__GUID-EE5369BE-203A-433F-BD9B-BEBA61D30CE3">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../admin/getting-started-with-database-administration.html#ADMIN12475" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关设置操作系统环境变量的信息</p>
                     <p>My Oracle Support：查找或创建Oratab文件（Doc ID 394251.1）</p>
                     <p><a href="https://support.oracle.com/rs?type=doc&amp;id=394251.1" target="_blank">https://support.oracle.com/rs?type=doc&amp;id=394251.1</a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD52766"></a><div class="props_rev_3"><a id="GUID-3F55A8C1-C867-4483-AB43-B2D12D9745BA" name="GUID-3F55A8C1-C867-4483-AB43-B2D12D9745BA"></a><h3 id="UPGRD-GUID-3F55A8C1-C867-4483-AB43-B2D12D9745BA" class="sect3">检查PL / SQL包和依赖过程</h3>
               <div>
                  <p>在早期版本Oracle数据库中安装的软件包可能在新版本中不可用，这会影响应用程序。</p>
                  <p>升级后，请检查以确保您在自己的脚本中使用的任何程序包或从脚本调用的程序包都在新版本中可用。依赖于软件包的测试程序应该是升级计划的一部分。</p>
                  <p>数据库应用程序中的代码可以引用连接数据库中的对象例如，Oracle调用接口（OCI）和预编译器应用程序可以提交匿名PL / SQL块。Oracle Forms应用程序中的触发器可以引用架构对象。此类应用程序依赖于它们引用的架构对象。依赖性管理技术因开发环境而异。Oracle数据库不会自动跟踪应用程序依赖性。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../admin/managing-schema-objects.html#ADMIN11556" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-B57B8AF5-C22C-4CE7-8D9D-AAA00B9FF3E3" name="GUID-B57B8AF5-C22C-4CE7-8D9D-AAA00B9FF3E3"></a><h3 id="UPGRD-GUID-B57B8AF5-C22C-4CE7-8D9D-AAA00B9FF3E3" class="sect3">根据Oracle维护类型升级表</h3>
               <div>
                  <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）及更高版本开始，您必须手动升级依赖于Oracle维护类型的用户表。
                  </p>
                  <div class="section">
                     <p>如果数据库具有依赖于Oracle维护类型的用户表（例如， <code class="codeph">AQ</code>队列表），则在升级后运行<code>utluptabdata.sql</code>命令，以对受Oracle维护更改影响的任何用户表执行<code class="codeph">ALTER TABLE UPGRADE</code>类型。此行为更改使用户表在升级期间保持<code class="codeph">READ ONLY</code>状态。禁止用户使用SYSDBA权限（ <code class="codeph">AS SYSDBA</code> ）登录应用程序，并更改依赖于Oracle维护类型的应用程序表。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-B57B8AF5-C22C-4CE7-8D9D-AAA00B9FF3E3__TOIDENTIFYTABLESTHATNEEDTOBEUPGRADE-C507515A">
                     <p>要确定数据库升级完成后需要升级的表，请连接到数据库<code class="codeph">AS SYSDBA</code> ，然后运行以下查询：</p><pre class="pre codeblock"><code>COLUMN所有者FORMAT A30 COLUMN table_name FORMAT A30 SELECT DISTINCT所有者，table_name FROM dba_tab_cols WHERE data_upgraded ='NO'ORDER BY 1,2;</code></pre><p>此查询列出未列为<code class="codeph">UPGRADED</code>所有表。但是， <code>utluptabdata.sql</code>脚本仅升级依赖于Oracle维护类型的表。如果查询列出了任何表，则运行<code>utluptabdata.sql</code>脚本以在依赖用户表上执行<code class="codeph">ALTER TABLE UPGRADE</code>命令，以便将这些Oracle维护类型升级到该类型的最新版本。
                     </p>
                     <p>您必须使用具有<code class="codeph">ALTER</code>权限的用户帐户运行<code>utluptabdata.sql</code>脚本，该用户帐户依赖于Oracle维护类型的所有表，或者授予SYSDBA系统权限的用户，并且记录在<code class="codeph">AS SYSDBA</code> 。</p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-B57B8AF5-C22C-4CE7-8D9D-AAA00B9FF3E3__GUID-89372EC2-AC93-46B1-AF63-869BD3DC5D2E">
                     <p>当参数<span class="parmname" translate="no">SERVEROUTPUT</span>设置为<code class="codeph">ON</code> ， <code>utluptabdata.sql</code>脚本将显示所有已升级表的名称，并列出表升级期间遇到的任何错误。要将服务器输出设置为<code class="codeph">ON</code> ，请运行以下命令：</p><pre class="pre codeblock"><code>SET SERVEROUTPUT ON @ utluptabdata.sql</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD60138"></a><div class="props_rev_3"><a id="GUID-88FB7FFD-4392-49C6-843A-45B49F8A1821" name="GUID-88FB7FFD-4392-49C6-843A-45B49F8A1821"></a><h3 id="UPGRD-GUID-88FB7FFD-4392-49C6-843A-45B49F8A1821" class="sect3">启用新的扩展数据类型功能</h3>
               <div>
                  <p>使系统能够利用新的扩展数据类型需要特定的升级操作。</p>
                  <div class="section">
                     <p>Oracle Database 12 <span class="italic">c</span>引入了<code class="codeph">MAX_STRING_SIZE</code>来控制SQL中<code class="codeph">VARCHAR2</code> ， <code class="codeph">NVARCHAR2</code>和<code class="codeph">RAW</code>数据类型的最大大小。设置<code class="codeph">MAX_STRING_SIZE = EXTENDED</code>可启用Oracle Database 12 <span class="italic">c中</span>引入的32767字节限制。
                     </p>
                     <p>为了能够设置<code class="codeph">MAX_STRING_SIZE = EXTENDED</code> ，必须将<code class="codeph">COMPATIBLE</code>初始化参数设置为<code class="codeph">12.0.0.0</code>或更高版本</p>
                     <p>此外，在数据库以升级模式打开时，必须运行脚本<code class="codeph">utl32k.sql</code>脚本，以便使受数据类型大小更改影响的对象无效并重新编译。例如：</p><pre class="pre codeblock"><code>CONNNECT SYS / AS SYSDBA立即关闭;启动升级; ALTER SYSTEM SET max_string_size = extended; START $ ORACLE_HOME / rdbms / admin / utl32k.sql SHUTDOWN IMMEDIATE;启动;</code></pre><div class="infoboxnote" id="GUID-88FB7FFD-4392-49C6-843A-45B49F8A1821__GUID-9EC9FA32-9DEA-480D-8D94-998036111DE8">
                        <p class="notep1">警告：</p>
                        <p>您可以将<code class="codeph">MAX_STRING_SIZE</code>的值从<code class="codeph">STANDARD</code>更改为<code class="codeph">EXTENDED</code> 。但是，您无法将<code class="codeph">MAX_STRING_SIZE</code>的值从<code class="codeph">EXTENDED</code>更改为<code class="codeph">STANDARD</code> 。通过设置<code class="codeph">MAX_STRING_SIZE = EXTENDED</code> ，您将采取可能会在数据库中引入应用程序不兼容的显式操作。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-88FB7FFD-4392-49C6-843A-45B49F8A1821__GUID-8248AD25-E6A0-4040-A0F5-DFA79AC93593">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">MAX_STRING_SIZE</code>完整信息，请<code class="codeph">MAX_STRING_SIZE</code> <a href="../refrn/MAX_STRING_SIZE.html#REFRN10321" target="_blank"><span><cite>Oracle数据库参考</cite></span></a> ，包括建议和过程</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD60139"></a><div class="props_rev_3"><a id="GUID-E3E9F44D-6769-4E30-A61F-12E91168640C" name="GUID-E3E9F44D-6769-4E30-A61F-12E91168640C"></a><h3 id="UPGRD-GUID-E3E9F44D-6769-4E30-A61F-12E91168640C" class="sect3">调整并行执行服务器的最小值和最大值</h3>
               <div>
                  <p>根据您的环境，您可以减少<span class="parmname" translate="no">PARALLEL_MIN_SERVERS</span>参数的默认设置。
                  </p>
                  <div class="section">
                     <p>在Oracle数据库<span class="italic">12c</span>中，默认<span class="parmname" translate="no">PARALLEL_MIN_SERVERS</span>更改从<code class="codeph">0</code>到一个基于硬件平台上提供的值。进行此更改是为并行执行提供足够的最小支持。如果您发现新的默认设置太高，请根据您的要求调整设置。<code class="codeph">PARALLEL_MAX_SERVERS</code>的默认值未更改。如果旧环境中的默认值未更改，则无需采取进一步操作。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-E3E9F44D-6769-4E30-A61F-12E91168640C__GUID-64A537C4-9342-4D7A-993B-77A3D62CC797">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">PARALLEL_MIN_SERVERS</code>信息，请<a href="../refrn/PARALLEL_MIN_SERVERS.html#REFRN10160" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12423"></a><div class="props_rev_3"><a id="GUID-56A8346B-EA67-46FB-AB4C-A7D0710C8CD8" name="GUID-56A8346B-EA67-46FB-AB4C-A7D0710C8CD8"></a><h3 id="UPGRD-GUID-56A8346B-EA67-46FB-AB4C-A7D0710C8CD8" class="sect3">关于升级Oracle数据库后的恢复目录升级</h3>
               <div>
                  <p>如果使用的恢复目录模式版本早于RMAN客户端所需的版本，则必须对其进行升级。</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-56A8346B-EA67-46FB-AB4C-A7D0710C8CD8__GUID-7EFA2B8A-C674-4857-B9D1-D283ED5C3559">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关管理RMAN恢复目录的信息，请参见<a href="../bradv/managing-recovery-catalog.html#BRADV8015" target="_blank"><span class="italic">“Oracle数据库备份和恢复用户指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关升级恢复目录和<code class="codeph">UPGRADE CATALOG</code>命令的完整信息，请<code class="codeph">UPGRADE CATALOG</code> <a href="../bradv/managing-recovery-catalog.html#BRADV188" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南”</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD52684"></a><div class="props_rev_3"><a id="GUID-41C8B1F3-1294-4F58-99F7-AB75F9889E05" name="GUID-41C8B1F3-1294-4F58-99F7-AB75F9889E05"></a><h3 id="UPGRD-GUID-41C8B1F3-1294-4F58-99F7-AB75F9889E05" class="sect3">升级Oracle数据库后升级时区文件版本</h3>
               <div>
                  <p>如果升级前信息工具指示您在完成数据库升级后升级时区文件，则使用<code class="codeph">DBMS_DST</code> PL / SQL程序包升级时区文件。
                  </p>
                  <p>Oracle数据库提供多个版本的时区文件。有两种类型的文件与每个时区文件相关联：一个大文件，其中包含数据库中定义的所有时区，以及一个小文件，其中只包含最常用的时区。大版本被指定为<code class="codeph">timezlrg_ <span class="variable" translate="no">version_number</span> .dat</code> 。小版本被指定为<code class="codeph">timezone_ <span class="variable" translate="no">version_number</span> .dat</code> 。这些文件位于Oracle Database主目录下的<code>oracore/zoneinfo</code>子目录中。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../nlspg/datetime-data-types-and-time-zone-support.html#NLSPG261" target="_blank"><span><cite>Oracle数据库全球化支持指南</cite></span></a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;id=1585343.1" target="_blank">https://support.oracle.com/rs?type=doc&amp;id=1585343.1</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="UPGRD12424"></a><div class="props_rev_3"><a id="GUID-B22CC865-E3FB-4D7E-821F-A60159E0F833" name="GUID-B22CC865-E3FB-4D7E-821F-A60159E0F833"></a><h3 id="UPGRD-GUID-B22CC865-E3FB-4D7E-821F-A60159E0F833" class="sect3">升级Oracle数据库后升级由DBMS_STATS包创建的统计表</h3>
               <div>
                  <p>如果使用<code>DBMS_STATS.CREATE_STAT_TABLE</code>过程创建了统计表，则通过运行<code>DBMS_STATS.UPGRADE_STAT_TABLE</code>升级这些表。</p>
                  <div class="section">
                     <p></p>
                     <p>在以下示例中， <code class="codeph">green</code>是统计信息表的所有者， <code class="codeph">STAT_TABLE</code>是统计信息表的名称。
                     </p><pre class="pre codeblock"><code>EXECUTE DBMS_STATS.UPGRADE_STAT_TABLE（'green'，'stat_table'）;</code></pre><p>对每个统计表执行此过程。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-B22CC865-E3FB-4D7E-821F-A60159E0F833__GUID-9EF4BC3C-2F9D-49E3-8C4A-35EC12999E33">
                     <p class="notep1">也可以看看：</p>
                     <p>有关DBMS_STATS包的信息<a href="../arpls/DBMS_STATS.html#ARPLS059" target="_blank"><span class="italic">，请参见Oracle Database PL / SQL包和类型参考</span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12425"></a><div class="props_rev_3"><a id="GUID-751FEECC-E0C8-4C86-AC1C-AFB64C81CF00" name="GUID-751FEECC-E0C8-4C86-AC1C-AFB64C81CF00"></a><h3 id="UPGRD-GUID-751FEECC-E0C8-4C86-AC1C-AFB64C81CF00" class="sect3">升级Oracle数据库后升级经过外部验证的SSL用户</h3>
               <div>
                  <p>如果您是从Oracle9需要升级<span class="italic">我</span>第2版（9.2）或Oracle数据库<span class="italic">10g</span>第1版（10.1），并且正在使用外部认证的SSL的用户，那么你必须运行SSL外部用户转换（ <code>extusrupgrade</code> ）脚本来升级的用户。
                  </p>
                  <div class="section">
                     <p><code>extusrupgrade</code>脚本具有以下语法，其中<code class="codeph"><span class="variable" translate="no">ORACLE_HOME</span></code>是Oracle数据库主目录， <code class="codeph"><span class="variable" translate="no">hostname</span></code>是运行数据库的主机的名称， <code class="codeph"><span class="variable" translate="no">port_no</span></code>是侦听器端口号， <code class="codeph"><span class="variable" translate="no">sid</span></code>是数据库实例的系统标识符， <code class="codeph"><span class="variable" translate="no">db_admin</span></code>是具有修改用户帐户权限的数据库管理用户。
                     </p><pre class="pre codeblock"><code><span class="variable" translate="no">ORACLE_HOME</span> / rdbms / bin / extusrupgrade --dbconnectstring <span class="variable" translate="no">hostname</span> ： <span class="variable" translate="no">port_no</span> ： <span class="variable" translate="no">sid</span> --dbuser <span class="variable" translate="no">db_admin</span> --dbuserpassword <span class="italic">password</span> -a</code></pre><p>例如：</p><pre class="pre codeblock"><code>extusrupgrade --dbconnectstring dlsun88：1521：10gR2 --dbuser system --dbuserpassword manager -a</code></pre><div class="infoboxnote" id="GUID-751FEECC-E0C8-4C86-AC1C-AFB64C81CF00__GUID-E77144F4-12C2-4319-BBFD-DF2E1F4701E4">
                        <p class="notep1">注意：</p>
                        <p>如果要从Oracle数据库<span class="italic">10g</span>第2版（10.2）或更高版本升级，则不需要运行<code class="codeph">extusrupgrade</code>脚本。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-751FEECC-E0C8-4C86-AC1C-AFB64C81CF00__GUID-513FD213-61C9-48B7-884A-C9C3CCAA576D">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code>extusrupgrade</code>脚本的详细信息，请<code>extusrupgrade</code> <a href="../dbimi/ssl-external-users-conversion-script.html#DBIMI348" target="_blank"><span><cite>“Oracle数据库企业用户安全性管理员指南”</cite></span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD52883"></a><div class="props_rev_3"><a id="GUID-ACCBC4FB-2626-40AD-91A4-3E38DA4FF339" name="GUID-ACCBC4FB-2626-40AD-91A4-3E38DA4FF339"></a><h3 id="UPGRD-GUID-ACCBC4FB-2626-40AD-91A4-3E38DA4FF339" class="sect3">为Oracle XML DB配置FTP和HTTP端口以及HTTP身份验证</h3>
               <div>
                  <p>Oracle数据库配置助手（DBCA）不会对Oracle数据库<span class="italic">12c</span>中配置的Oracle XML DB港口和以后升级版本使用摘要身份验证。
                  </p>
                  <p>Oracle建议您在配置端口时，还要配置HTTP身份验证以访问Oracle XML DB存储库，以利用改进的安全功能。</p>
                  <p>与Oracle数据库<span class="italic">12c的</span>开始，Oracle通过支持摘要式身份验证增强数据库的安全性。摘要式身份验证是一种行业标准协议，通常与HTTP协议一起使用。大多数HTTP客户端都支持它。摘要式身份验证可确保始终以安全的方式传输密码，即使未使用加密（HTTPS）连接也是如此。支持摘要式身份验证使组织能够部署使用Oracle XML DB HTTP的应用程序，而无需担心密码被泄露。Oracle XML DB中的摘要式身份验证支持还可确保Oracle XML DB HTTP服务器与Microsoft Web Folders WebDAV客户端保持兼容。
                  </p>
                  <p>安装或升级新版本后，必须手动为Oracle XML DB配置FTP和HTTP端口，如下所示：</p>
                  <ol>
                     <li>
                        <p>使用<code class="codeph">DBMS_XDB_CONFIG.setHTTPPort( <span class="variable" translate="no">HTTP_port_number</span> )</code>为Oracle XML DB设置HTTP端口：</p><pre class="pre codeblock"><code>SQL&gt; exec DBMS_XDB_CONFIG.setHTTPPort（ <span class="variable" translate="no">port_number</span> ）;</code></pre></li>
                     <li>
                        <p>使用<code class="codeph">DBMS_XDB_CONFIG.setFTPPort( <span class="variable" translate="no">FTP_port_number</span> )</code>设置Oracle XML DB的FTP端口：</p><pre class="pre codeblock"><code>SQL&gt; exec DBMS_XDB_CONFIG.setFTPPort（ <span class="variable" translate="no">FTP_port_number</span> ）;</code></pre><div class="infoboxnote" id="GUID-ACCBC4FB-2626-40AD-91A4-3E38DA4FF339__GUID-2F832128-06C1-4A83-9A9F-F6035E981B03">
                           <p class="notep1">注意：</p>
                           <p>您可以分别使用<code class="codeph">DBMS_XDB_CONFIG.getFTPPort</code>和<code class="codeph">DBMS_XDB_CONFIG.getHTTPPort</code>查询过程中用于FTP和HTTP的端口号。
                           </p>
                        </div>
                     </li>
                     <li>
                        <p>要查看所有使用的端口号，请查询<code class="codeph">DBMS_XDB_CONFIG.usedport</code> 。
                        </p>
                     </li>
                  </ol>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-ACCBC4FB-2626-40AD-91A4-3E38DA4FF339__GUID-B5E37F24-B55B-4C6A-A32B-E79E0E11F74B">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../adxdb/repository-access-using-protocols.html#ADXDB2500" target="_blank"><span><cite>Oracle XML DB Developer's Guide</cite></span></a> ，了解有关使用FTP，HTTP，HTTPS和WebDAV协议访问Oracle XML DB存储库数据的更多信息</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12426"></a><div class="props_rev_3"><a id="GUID-C4517406-1BB3-41AA-AD27-8E18AA2E98C5" name="GUID-C4517406-1BB3-41AA-AD27-8E18AA2E98C5"></a><h3 id="UPGRD-GUID-C4517406-1BB3-41AA-AD27-8E18AA2E98C5" class="sect3">升级Oracle数据库后安装Oracle文本提供的知识库</h3>
               <div>
                  <p>Oracle数据库升级后，必须重新生成Oracle Text提供的知识库的所有用户扩展。</p>
                  <p>重新生成用户扩展会影响在给定Oracle主目录中安装的所有数据库。</p>
                  <p>升级后，Oracle Text提供的知识库（它们是新Oracle数据库的配套产品的一部分）无法立即使用。在升级之后，任何依赖于提供的知识库的Oracle Text功能在升级之后都不起作用。要重新启用此类功能，必须从安装介质中为新的Oracle数据库发行版安装Oracle Text提供的知识库。</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-C4517406-1BB3-41AA-AD27-8E18AA2E98C5__GUID-2810B301-1DE5-498E-8AB4-782B077EE6DD">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关Oracle Text提供的知识库的信息，请参阅<a href="../ccapp/working-with-thesaurus-in-oracle-text.html#CCAPP0900" target="_blank"><span><cite>Oracle Text Application Developer's Guide</cite></span></a></p>
                        </li>
                        <li>
                           <p>适用于配套产品的<a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle数据库安装指南</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-BC3DDABF-E041-4CD5-964F-E291AB4D453F" name="GUID-BC3DDABF-E041-4CD5-964F-E291AB4D453F"></a><h3 id="UPGRD-GUID-BC3DDABF-E041-4CD5-964F-E291AB4D453F" class="sect3">使用AUTO_LEXER重建Oracle文本索引</h3>
               <div>
                  <p>如果您是从之前版本的升级Oracle Text的比Oracle数据库<span class="italic">12c</span>中，然后查看这个话题。
                  </p>
                  <p>完成升级到新的Oracle数据库发行版后，如果使用使用AUTO_LEXER创建的Oracle Text索引，则必须重建索引才能使查询生效。</p>
                  <div class="section">
                     <p>此外，您必须重建具有以下INDEX_STEMS类型的BASIC_LEXER集的索引：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>阿拉伯</p>
                        </li>
                        <li>
                           <p>挪威语</p>
                        </li>
                        <li>
                           <p>CATALAN</p>
                        </li>
                        <li>
                           <p>克罗地亚语</p>
                        </li>
                        <li>
                           <p>捷克</p>
                        </li>
                        <li>
                           <p>丹麦</p>
                        </li>
                        <li>
                           <p>ERIVATIONAL_NEW</p>
                        </li>
                        <li>
                           <p>DUTCH_NEW</p>
                        </li>
                        <li>
                           <p>ENGLISH_NEW</p>
                        </li>
                        <li>
                           <p>芬兰</p>
                        </li>
                        <li>
                           <p>FRENCH_NEW</p>
                        </li>
                        <li>
                           <p>GERMAN_NEW</p>
                        </li>
                        <li>
                           <p>希腊语</p>
                        </li>
                        <li>
                           <p>希伯来</p>
                        </li>
                        <li>
                           <p>匈牙利</p>
                        </li>
                        <li>
                           <p>ITALIAN_NEW</p>
                        </li>
                        <li>
                           <p>尼诺斯克</p>
                        </li>
                        <li>
                           <p>抛光</p>
                        </li>
                        <li>
                           <p>葡萄牙语</p>
                        </li>
                        <li>
                           <p>罗马尼亚语</p>
                        </li>
                        <li>
                           <p>俄语</p>
                        </li>
                        <li>
                           <p>塞尔维亚</p>
                        </li>
                        <li>
                           <p>SLOVAK</p>
                        </li>
                        <li>
                           <p>斯洛文尼亚语</p>
                        </li>
                        <li>
                           <p>SPANISH_NEW</p>
                        </li>
                        <li>
                           <p>瑞典</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12427"></a><div class="props_rev_3"><a id="GUID-BF742F8E-61C6-4F7C-927D-26687D1A3B2F" name="GUID-BF742F8E-61C6-4F7C-927D-26687D1A3B2F"></a><h3 id="UPGRD-GUID-BF742F8E-61C6-4F7C-927D-26687D1A3B2F" class="sect3">升级Oracle数据库后更新Oracle Application Express配置</h3>
               <div>
                  <p>Oracle Application Express会影响升级过程，具体取决于Oracle Application Express版本和数据库安装类型。</p>
                  <p>如果升级的Oracle数据库发行版包含Oracle Application Express 3.2或更高版本，则升级到新的Oracle数据库发行版后无需执行其他配置。但是，如果Oracle Application Express在注册表中，以便升级中包含Oracle Application Express，则将<span class="parmname" translate="no">open_cursors</span>参数设置为最小值200。
                  </p>
                  <p>如果升级的Oracle数据库是Oracle Express Edition数据库，则它包含为Oracle Express Edition环境定制的早期版本的Oracle Application Express。升级期间会自动安装最新的Oracle Application Express版本。您必须完成一系列安装后步骤才能配置Oracle Application Express以与新的Oracle数据库版本一起使用。</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-BF742F8E-61C6-4F7C-927D-26687D1A3B2F__GUID-84BD9182-1689-4FB6-B6A2-ACAEFC921003">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/upgrd&amp;id=HTMIG29181" target="_blank"><span><cite>适用</cite></span></a>于<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/upgrd&amp;id=HTMIG29181" target="_blank"><span><cite>Oracle Application Express的安装</cite></span></a>后任务的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/upgrd&amp;id=HTMIG29181" target="_blank"><span><cite>Oracle Application Express安装指南</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="http://www.oracle.com/technetwork/developer-tools/apex/overview/index.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/developer-tools/apex/overview/index.html</code></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-7A62A202-2965-4DEB-A834-5E8218B23A3C" name="GUID-7A62A202-2965-4DEB-A834-5E8218B23A3C"></a><h3 id="UPGRD-GUID-7A62A202-2965-4DEB-A834-5E8218B23A3C" class="sect3">在只读Oracle Homes中替换DEMO目录</h3>
               <div>
                  <p>升级只读Oracle主目录后，复制早期版本的Oracle数据库<code class="codeph">demo</code>目录，并将只读Oracle主目录中的<code class="codeph">demo</code>目录替换为新版本的<code class="codeph">demo</code>目录。
                  </p>
                  <div class="section">
                     <p>Oracle Database 18c及更高版本在文件路径<code><span class="variable" translate="no">Oracle_home</span> /rdbms/demo</code>包含产品演示目录。这些目录包括特定于每个Oracle数据库发行版的选项和功能的示例和产品演示，其中一些可以在升级后通过安装Oracle数据库示例添加到其中。在您的早期版本中，如果您下载并使用了早期版本的演示文件，那么您有两个问题：您希望保存早期版本的工作以便使用新版本进行审查和测试，并且您希望获得演示的更新，特定于新版本。
                     </p>
                     <p>升级Oracle主页，下载并执行您想要使用新演示文件执行的任何其他工作后，您可以刷新旧的演示文件。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-7A62A202-2965-4DEB-A834-5E8218B23A3C__GUID-76FF8422-7123-449C-A70E-12D660665006">
                     <p class="titleinexample">示例5-5在只读Oracle主目录中复制早期版本演示目录和刷新演示</p>
                     <p>升级后，使用此过程将先前<code class="codeph">demo</code>目录中的所有工作保存在只读Oracle主目录中，并将早期版本<code class="codeph">demo</code>目录替换为新版本<code class="codeph">demo</code>目录：</p>
                     <ol>
                        <li>
                           <p>以Oracle软件所有者用户（ <code class="codeph">oracle</code> ）身份登录。
                           </p>
                        </li>
                        <li>
                           <p>检查<code class="codeph">rdbms/demo</code>目录是否已复制到只读Oracle主目录。
                           </p>
                           <p>在此示例中，环境变量<code class="codeph">ORACLE_BASE_HOME</code>被定义为只读Oracle主目录的路径。
                           </p>
                           <p>Linux和Unix平台：</p><pre class="pre codeblock"><code>$ ls -l -d $ ORACLE_BASE_HOME / rdbms / demo /u01/app/oracle/product/19.0.0/dbhome_1/rdbms/demo</code></pre><p>Microsoft Windows平台</p><pre class="pre codeblock"><code>ls -l -d％ORACLE_BASE_HOME％\ rdbms \ demo％ORACLE_BASE_HOME％\ rdbms \ demo</code></pre></li>
                        <li>
                           <p>将目录更改为只读Oracle主目录并进行复制，其中<code class="codeph">demo.old_release18</code>是您为早期版本演示文件提供的名称：</p><pre class="pre codeblock"><code>cd $ ORACLE_BASE_HOME / rdbms mv demo demo.old_release18</code></pre></li>
                        <li>
                           <p>将新的<code class="codeph">demo</code>目录从已升级的Oracle主目录复制到只读Oracle主目录。
                           </p>
                           <p>在此示例中，环境变量ORACLE_HOME被定义为新版Oracle Home。</p>
                           <p>Linux和Unix：</p><pre class="pre codeblock"><code>cp -r $ ORACLE_HOME / rdbms / demo demo</code></pre><p>微软Windows</p><pre class="pre codeblock"><code>xcopy c：\％ORACLE_HOME％\ rdbms \ demo c：％ORACLE_BASE_HOME％\ rdbms \ demo / E</code></pre></li>
                     </ol><pre class="pre codeblock"><code></code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12428"></a><div class="props_rev_3"><a id="GUID-77701CFB-0716-40B4-B9BE-6E0A77506496" name="GUID-77701CFB-0716-40B4-B9BE-6E0A77506496"></a><h3 id="UPGRD-GUID-77701CFB-0716-40B4-B9BE-6E0A77506496" class="sect3">配置外部网络服务的访问控制列表（ACL）</h3>
               <div>
                  <p>Oracle数据库<span class="italic">12c</span>与更高版本包括细粒度访问控制的<code class="codeph">UTL_TCP</code> ， <code class="codeph">UTL_SMTP</code> ， <code class="codeph">UTL_MAIL</code> ， <code class="codeph">UTL_HTTP</code> ，或<code class="codeph">UTL_INADDR</code>包。
                  </p>
                  <p>如果您有使用这些软件包的应用程序，那么在升级Oracle数据库之后，您必须在受影响的软件包可以像在早期版本中那样工作之前在数据库中配置网络访问控制列表（ACL）。如果没有ACL，您的应用程序可能会失败并显示错误“ORA-24247：访问控制列表（ACL）拒绝网络访问”。</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-77701CFB-0716-40B4-B9BE-6E0A77506496__GUID-BAEB6D4F-0F26-4510-965A-508B86134D09">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../dbseg/managing-fine-grained-access-in-pl-sql-packages-and-types.html#DBSEG40012" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a>适用于更复杂的情况，例如将某些用户连接到主机A，将其他用户连接到主机B.</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12429"></a><div class="props_rev_3"><a id="GUID-12B920E9-B2DA-48A0-832C-3E07D172A011" name="GUID-12B920E9-B2DA-48A0-832C-3E07D172A011"></a><h3 id="UPGRD-GUID-12B920E9-B2DA-48A0-832C-3E07D172A011" class="sect3">升级Oracle数据库后启用Oracle Database Vault</h3>
               <div>
                  <p>根据您的目标数据库版本，可能需要禁用Oracle Database Vault以完成Oracle数据库升级。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-216BAD89-4ED9-43CB-B7A5-F710499673BE">在不禁用Oracle Database Vault的情况下升级Oracle数据库</a><br>如果目标Oracle数据库版本为12.2或更高版本，则可以在不禁用Oracle Database Vault的情况下进行升级。
                     </li>
                     <li class="ulchildlink"><a href="required-tasks-complete-upgrading-oracle-database.html#GUID-68B42C38-0B29-49B0-8B9F-8885C450F6DF">Oracle Database Vault的常见升级方案</a><br>升级后启用Oracle Database Vault的要求会发生变化，具体取决于源Oracle Database发行版。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-216BAD89-4ED9-43CB-B7A5-F710499673BE" name="GUID-216BAD89-4ED9-43CB-B7A5-F710499673BE"></a><h4 id="UPGRD-GUID-216BAD89-4ED9-43CB-B7A5-F710499673BE" class="sect4">在不禁用Oracle Database Vault的情况下升级Oracle数据库</h4>
                  <div>
                     <p>如果目标Oracle数据库版本为12.2或更高版本，则可以在不禁用Oracle Database Vault的情况下进行升级。</p>
                     <p>如果在源Oracle数据库发行版中启用了Oracle Database Vault，则可以在不先禁用Oracle Database Vault的情况下将Oracle数据库升级到Oracle Database 18c及更高版本。升级后，如果源Oracle数据库版本是Oracle Database 12c第1版（12.1）或更高版本，则使用与升级之前相同的强制设置启用Oracle Database Vault。例如，如果源数据库是Oracle数据库版本12.1，并且在该版本中禁用了Oracle Database Vault，则在升级后它将保持禁用状态。如果源Oracle Database Database 12.1数据库在升级之前已启用Oracle Database Vault，则升级后将启用Oracle Database Vault。</p>
                     <p>如果在升级之前手动禁用Oracle Database Vault，则必须在升级后手动启用Oracle Database Vault。</p>
                     <p>如果在升级之前未启用Oracle Database Vault，则可以在升级后手动启用它。</p>
                     <p>使用<code class="codeph">dvsys.dbms_macadm.enable_dv()</code>过程在已升级的数据库中启用Oracle Database Vault。使用授予<code class="codeph">DV_OWNER</code>的用户帐户运行此过程。运行该过程后，重新启动数据库实例，以使该过程生效。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../dvadm/disabling-and-enabling-oracle-database-vault.html#DVADM71064" target="_blank"><span><cite>Oracle Database Vault管理员指南</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-12B920E9-B2DA-48A0-832C-3E07D172A011" title="根据您的目标数据库版本，可能需要禁用Oracle Database Vault以完成Oracle数据库升级。">升级Oracle数据库后启用Oracle Database Vault</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-68B42C38-0B29-49B0-8B9F-8885C450F6DF" name="GUID-68B42C38-0B29-49B0-8B9F-8885C450F6DF"></a><h4 id="UPGRD-GUID-68B42C38-0B29-49B0-8B9F-8885C450F6DF" class="sect4">Oracle Database Vault的常见升级方案</h4>
                  <div>
                     <p>升级后启用Oracle Database Vault的要求会发生变化，具体取决于源Oracle Database发行版。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>从Oracle Database <span class="italic">11g第</span> 2版（11.2）或更早版本升级：升级后，默认情况下禁用Oracle Database Vault。
                              </p>
                           </li>
                           <li>
                              <p>从Oracle Database 12 <span class="italic">c第</span> 1版（12.1）或更高版本升级：升级后，Oracle Database Vault具有与升级前相同的强制执行状态。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-68B42C38-0B29-49B0-8B9F-8885C450F6DF__GUID-34D55D32-3BAE-47C9-9D6A-17717D4925CB">
                        <p class="titleintable">表5-1常见的Oracle Database Vault升级方案和升级准备任务</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="常见的Oracle Database Vault升级方案和升级准备任务" border="1" summary="Status after upgrades of Oracle Database Vault, depending on release." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d43731e3041">源数据库发布</th>
                                 <th align="left" valign="bottom" id="d43731e3043">目标数据库发布</th>
                                 <th align="left" valign="bottom" id="d43731e3045">您是否需要在升级前禁用Database Vault</th>
                                 <th align="left" valign="bottom" id="d43731e3047">升级后的数据库保管库状态是什么</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d43731e3051" headers="d43731e3041 ">11.2或更早</td>
                                 <td align="left" valign="top" headers="d43731e3051 d43731e3043 ">12.1</td>
                                 <td align="left" valign="top" headers="d43731e3051 d43731e3045 ">是</td>
                                 <td align="left" valign="top" headers="d43731e3051 d43731e3047 ">禁用。您需要在升级后手动启用Database Vault。</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d43731e3060" headers="d43731e3041 ">11.2或更早</td>
                                 <td align="left" valign="top" headers="d43731e3060 d43731e3043 ">12.2,18.1及更高版本</td>
                                 <td align="left" valign="top" headers="d43731e3060 d43731e3045 ">没有</td>
                                 <td align="left" valign="top" headers="d43731e3060 d43731e3047 ">禁用。您需要在升级后手动启用Database Vault。</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d43731e3069" headers="d43731e3041 ">12.1,12.2,18.1及更高版本</td>
                                 <td align="left" valign="top" headers="d43731e3069 d43731e3043 ">12.2,18.1及更高版本</td>
                                 <td align="left" valign="top" headers="d43731e3069 d43731e3045 ">没有</td>
                                 <td align="left" valign="top" headers="d43731e3069 d43731e3047 ">Database Vault具有与升级前相同的强制执行状态。</td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-12B920E9-B2DA-48A0-832C-3E07D172A011" title="根据您的目标数据库版本，可能需要禁用Oracle Database Vault以完成Oracle数据库升级。">升级Oracle数据库后启用Oracle Database Vault</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="UPGRD60157"></a><div class="props_rev_3"><a id="GUID-433E0DB9-026E-4322-A8FF-BA0E108AB28B" name="GUID-433E0DB9-026E-4322-A8FF-BA0E108AB28B"></a><h3 id="UPGRD-GUID-433E0DB9-026E-4322-A8FF-BA0E108AB28B" class="sect3">检查SQLNET.ALLOWED_LOGON_VERSION参数行为</h3>
               <div>
                  <p>从版本10g之前的客户端连接到Oracle数据库失败，错误为<code class="codeph">ORA-28040: No matching authentication protocol</code> 。
                  </p>
                  <p>从Oracle Database 18c开始， <code class="codeph">SQLNET.ALLOWED_LOGON_VERSION</code>参数的默认值从Oracle Database 12c（12.2）中的11更改为Oracle Database 18c及更高版本中的12。不推荐使用此参数。
                  </p>
                  <p><code class="codeph">SQLNET.ALLOWED_LOGON_VERSION</code>现在替换为<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>和<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_CLIENT</code>参数。如果未在已升级的数据库中显式设置<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数，则来自版本10g之前的客户端的连接将失败，并显示错误<code class="codeph">ORA-28040: No matching authentication protocol</code> 。为了更好的安全性，请检查数据库用户的密码验证程序，然后通过设置<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>和<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_CLIENT</code>参数来配置数据库以使用正确的密码验证程序。
                  </p>
                  <p>如果您在现有数据库中具有受密码保护的角色（安全角色），并且使用默认的<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>设置为12升级到Oracle Database 18c及更高版本，因为这些安全角色仅具有版本10g验证程序，则密码必须由管理员重置每个安全角色，以便安全角色在升级后仍可使用。
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-433E0DB9-026E-4322-A8FF-BA0E108AB28B__GUID-102D9143-8E56-4724-A6FA-C0E3399B94B0">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关确保密码安全威胁的信息，请参阅“ <a href="../dbseg/configuring-authentication.html#DBSEG30324" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="../dbseg/configuring-authentication.html#DBSEG3225" target="_blank"><span><cite>“Oracle数据库安全指南</cite></span> <span class="italic">Oracle数据库安全指南”，</span></a>以获取有关设置用户密码版本的信息</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="required-tasks-complete-upgrading-oracle-database.html#GUID-C9102D8A-0BD1-41FF-9AE9-656818267FB9" title="完成升级后，请查看并完成为您的环境指定的所需任务。">升级Oracle数据库后需要完成的任务</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="10332.ALTER-TABLESPACE.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>ALTER TABLESPACE</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ALTER-TABLE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="ALTER-TABLESPACE-SET.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ALTER-TABLE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="ALTER-TABLESPACE-SET.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-ALTER-SYNONYM-to-COMMENT.html" property="item" typeof="WebPage"><span property="name">SQL语句：ALTER SYNONYM to COMMENT</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ALTER TABLESPACE</li>
            </ol>
            <a id="GUID-CA074861-55D3-4768-8995-43D4DA26365D" name="GUID-CA074861-55D3-4768-8995-43D4DA26365D"></a><a id="SQLRF53561"></a><a id="SQLRF53562"></a><a id="SQLRF53563"></a><a id="SQLRF53564"></a><a id="SQLRF53565"></a><a id="SQLRF53566"></a><a id="SQLRF53567"></a><a id="SQLRF53568"></a><a id="SQLRF53569"></a><a id="SQLRF53570"></a><a id="SQLRF53571"></a><a id="SQLRF53572"></a><a id="SQLRF53574"></a><a id="SQLRF53575"></a><a id="SQLRF53576"></a><a id="SQLRF53577"></a><a id="SQLRF53578"></a><a id="SQLRF53579"></a><a id="SQLRF53580"></a><a id="SQLRF53581"></a><a id="SQLRF53582"></a><a id="SQLRF53583"></a><a id="SQLRF53584"></a><a id="SQLRF53585"></a><a id="SQLRF53586"></a><a id="SQLRF53587"></a><a id="SQLRF53588"></a><a id="SQLRF53589"></a><a id="SQLRF53590"></a><a id="SQLRF53591"></a><a id="SQLRF53592"></a><a id="SQLRF53593"></a><a id="SQLRF53594"></a><a id="SQLRF53595"></a><a id="SQLRF53596"></a><a id="SQLRF53597"></a><a id="SQLRF53598"></a><a id="SQLRF53599"></a><a id="SQLRF53600"></a><a id="SQLRF53601"></a><a id="SQLRF53602"></a><a id="SQLRF53603"></a><a id="SQLRF53604"></a><a id="SQLRF53605"></a><a id="SQLRF53606"></a><a id="SQLRF53607"></a><a id="SQLRF53608"></a><a id="SQLRF53609"></a><a id="SQLRF53610"></a><a id="SQLRF53611"></a><a id="SQLRF53612"></a><a id="SQLRF53613"></a><a id="SQLRF53614"></a><a id="SQLRF53615"></a><a id="SQLRF53616"></a><a id="SQLRF53617"></a><a id="SQLRF53618"></a><a id="SQLRF01002"></a>
            
            <h2 id="SQLRF-GUID-CA074861-55D3-4768-8995-43D4DA26365D" class="sect2">ALTER TABLESPACE</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-B0C87D60-F6EA-4F86-BDA7-1DBB3DC7F2C1">目的</p>
                  <p>使用<code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code>语句可以更改现有表空间或其一个或多个数据文件或临时文件。
                  </p>
                  <p>您不能使用此语句将字典管理的表空间转换为本地管理的表空间。为此，请使用<code class="codeph">DBMS_SPACE_ADMIN</code>程序包，该程序包记录在<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ARPLS057" target="_blank"><span class="italic">Oracle Database PL / SQL程序包和类型参考中</span></a> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-5F3B382B-7E56-4B51-8E30-86415AD8398D">
                     <p class="notep1">也可以看看：</p>
                     <p>有关创建表空间的信息，请<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9">参见</a> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADMIN011" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a>和<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9">CREATE TABLESPACE</a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-98474B60-1B8B-4739-8813-A9B91EF21A28">先决条件</p>
                  <p>要更改<code class="codeph">SYSAUX</code>表空间，您必须具有<code class="codeph">SYSDBA</code>系统特权。
                  </p>
                  <p>如果您具有<code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code>系统特权，则可以执行任何<code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code>操作。如果您具有<code class="codeph">MANAGE</code> <code class="codeph">TABLESPACE</code>系统特权，则只能执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在线或离线获取表空间</p>
                     </li>
                     <li>
                        <p>开始或结束备份</p>
                     </li>
                     <li>
                        <p>使表空间只读或读写</p>
                     </li>
                     <li>
                        <p>将表空间的状态更改为<code class="codeph">PERMANENT</code>或<code class="codeph">TEMPORARY</code></p>
                     </li>
                     <li>
                        <p>将表空间的默认日志记录模式设置为<code class="codeph">LOGGING</code>或<code class="codeph">NOLOGGING</code></p>
                     </li>
                     <li>
                        <p>将表空间置于强制日志记录模式或将其从强制日志记录模式中取出</p>
                     </li>
                     <li>
                        <p>重命名表空间或表空间数据文件</p>
                     </li>
                     <li>
                        <p>为撤消表空间指定<code class="codeph">RETENTION</code> <code class="codeph">GUARANTEE</code>或<code class="codeph">RETENTION</code> <code class="codeph">NOGUARANTEE</code></p>
                     </li>
                     <li>
                        <p>调整表空间的数据文件大小</p>
                     </li>
                     <li>
                        <p>启用或禁用表空间的数据文件的自动扩展</p>
                     </li>
                     <li>
                        <p>缩小临时表空间或临时文件占用的空间量</p>
                     </li>
                  </ul>
                  <p>在使表空间只读之前，必须满足以下条件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>表空间必须在线。</p>
                     </li>
                     <li>
                        <p>表空间不得包含任何活动的回滚段。因此， <code class="codeph">SYSTEM</code>表空间永远不能只读，因为它包含<code class="codeph">SYSTEM</code>回滚段。此外，由于无法访问只读表空间的回滚段，因此Oracle建议您在将表空间设置为只读之前删除回滚段。
                        </p>
                     </li>
                     <li>
                        <p>表空间不得涉及开放备份，因为备份结束时会更新表空间中所有数据文件的头文件。</p>
                     </li>
                  </ul>
                  <p>在受限模式下执行此功能可以帮助您满足这些限制，因为只有具有<code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code>系统特权的用户才能登录。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-A02612A7-46F9-42DA-9A51-AF6494FED2D4">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-3CB2A061-9267-4181-9289-D01B0D8C1E0D"><span class="italic">alter_tablespace</span> :: =</p>
                  <div class="figure" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-49384222-CAED-4A9B-A2F3-99C9832EDF9A"><img src="img/alter_tablespace.gif" alt="下面是alter_tablespace.eps的描述" title="下面是alter_tablespace.eps的描述" longdesc="img_text/alter_tablespace.html"><br><a href="img_text/alter_tablespace.html">说明alter_tablespace.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__ALTER_TABLESPACE_ATTRS-54279D1E">alter_tablespace_attrs :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__ALTER_TABLESPACE_ATTRS-54279D1E">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-9097E36A-ED58-492F-88EA-659E7096F7AD"><span class="italic">alter_tablespace_attrs</span> :: =</p>
                  <div class="figure" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__FIG-1356-34B824D5"><img src="img/alter_tablespace_attrs.gif" alt="下面是alter_tablespace_attrs.eps的描述" title="下面是alter_tablespace_attrs.eps的描述" longdesc="img_text/alter_tablespace_attrs.html"><br><a href="img_text/alter_tablespace_attrs.html">说明alter_tablespace_attrs.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__DEFAULT_TABLESPACE_PARAMS-2D02552E">default_tablespace_params :: =</a></span> ， <span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause :: =</a></span> ， <span class="italic"><a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2126146">datafile_tempfile_clauses :: =</a></span> ， <span class="italic"><a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2154490">tablespace_logging_clauses :: =</a></span> ， <span class="italic"><a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2153542">tablespace_group_clause :: =</a></span> ， <span class="italic"><a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2154551">tablespace_state_clauses :: =</a></span> ， <span class="italic"><a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2154658">autoextend_clause :: =</a></span> ， <span class="italic"><a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2154562">flashback_mode_clause :: =</a></span> ， <span class="italic"><a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2158209">tablespace_retention_clause :: =</a></span> ， <span class="italic"><a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__ALTER_TABLESPACE_ENCRYPTION-5AD60DB2">alter_tablespace_encryption :: =</a></span> ， <span class="italic"><a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__CLEAR_FREE_SPACE_CLAUSE-961036E0">lost_write_protection :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__DEFAULT_TABLESPACE_PARAMS-2D02552E">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-CB1C8E7F-82D2-4B10-9B08-B600F30A943D"><span class="italic">default_tablespace_params</span> :: =</p>
                  <div class="figure" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-400ED370-8489-41C2-B7CA-63312A5DE14A"><img src="img/default_tablespace_params.gif" alt="下面是default_tablespace_params.eps的描述" title="下面是default_tablespace_params.eps的描述" longdesc="img_text/default_tablespace_params.html"><br><a href="img_text/default_tablespace_params.html">说明default_tablespace_params.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_TABLE_COMPRESSION-5AD66540">default_table_compression :: =</a></span>的双组分<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_INDEX_COMPRESSION-5AD66895">default_index_compression :: =</a></span>的双组分<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code> ， <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGCADBG">inmemory_clause :: =</a></span>的双组分<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code> ， <span class="italic"><a href="ALTER-TABLE.html#GUID-552E7373-BF93-477D-9DA3-B2C9386F2877__CJAJEHJB">ilm_clause :: =</a></span>的双组分<code class="codeph">ALTER</code> <code class="codeph">TABLE</code> ， <span class="italic"><a href="storage_clause.html#GUID-C5A67610-3160-41E9-8D48-03206BD5ED15__CJACEJGB">storage_clause :: =</a></span> ）</p>
                  <div class="infoboxnote" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-6D69904F-0DBE-4626-9B1E-F523B4927CAE">
                     <p class="notep1">注意：</p>
                     <p>如果指定<code class="codeph">DEFAULT</code>子句，则必须至少指定一个子句<span class="italic"><code class="codeph">default_table_compression</code></span> ， <span class="italic"><code class="codeph">default_index_compression</code></span> ， <span class="italic"><code class="codeph">inmemory_clause</code></span> ， <span class="italic"><code class="codeph">ilm_clause</code></span>或<span class="italic"><code class="codeph">storage_clause</code></span> 。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2126146">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-AB59A3CE-E26E-4E57-90B1-3954F1AC7CF7"><span class="italic">datafile_tempfile_clauses</span> :: =</p>
                  <div class="figure" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-23768267-B667-49B7-B16F-5361A17BB063"><img src="img/datafile_tempfile_clauses.gif" alt="下面是datafile_tempfile_clauses.eps的描述" title="下面是datafile_tempfile_clauses.eps的描述" longdesc="img_text/datafile_tempfile_clauses.html"><br><a href="img_text/datafile_tempfile_clauses.html">插图datafile_tempfile_clauses.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__CJADEBBF">file_specification :: =</a></span> ）。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2154490">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-344055E0-F99F-435A-A029-DF5C1B54370D"><span class="italic">tablespace_logging_clauses</span> :: =</p>
                  <div class="figure" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-CB2C81A5-6479-44FF-A324-E32819C896A6"><img src="img/tablespace_logging_clauses.gif" alt="下面是tablespace_logging_clauses.eps的描述" title="下面是tablespace_logging_clauses.eps的描述" longdesc="img_text/tablespace_logging_clauses.html"><br><a href="img_text/tablespace_logging_clauses.html">说明tablespace_logging_clauses.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E__CJAHABGF">logging_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2153542">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-5C878654-6607-415B-A312-4C38FFE38BA4"><span class="italic">tablespace_group_clause</span> :: =</p>
                  <div class="figure" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-9EE4BC04-332A-4E16-8AFE-863770CABAD9"><img src="img/tablespace_group_clause.gif" alt="下面是tablespace_group_clause.eps的描述" title="下面是tablespace_group_clause.eps的描述" longdesc="img_text/tablespace_group_clause.html"><br><a href="img_text/tablespace_group_clause.html">说明tablespace_group_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2154551">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-FF94578B-3657-4027-A2F2-EE294E98B002"><span class="italic">tablespace_state_clauses</span> :: =</p>
                  <div class="figure" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-6E508EC6-F24B-495C-9EAE-BC35C8F3E872"><img src="img/tablespace_state_clauses.gif" alt="下面是tablespace_state_clauses.eps的说明" title="下面是tablespace_state_clauses.eps的说明" longdesc="img_text/tablespace_state_clauses.html"><br><a href="img_text/tablespace_state_clauses.html">说明tablespace_state_clauses.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2154658">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-FADCEF70-0AF9-4884-8334-C4BE6CDD7A74"><span class="italic">autoextend_clause</span> :: =</p>
                  <div class="figure" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-F359370B-D78B-4627-AAFA-499B20EB4C34"><img src="img/autoextend_clause.gif" alt="autoextend_clause.eps的描述如下" title="autoextend_clause.eps的描述如下" longdesc="img_text/autoextend_clause.html"><br><a href="img_text/autoextend_clause.html">autoextend_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-95A58E13-E863-4843-92EA-CE42758BF50F"><span class="italic">maxsize_clause</span> :: =</p>
                  <div class="figure" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-F02E0073-F687-47B6-8EDD-76CE1974A141"><img src="img/maxsize_clause.gif" alt="下面是maxsize_clause.eps的描述" title="下面是maxsize_clause.eps的描述" longdesc="img_text/maxsize_clause.html"><br><a href="img_text/maxsize_clause.html">插图说明maxsize_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2154562">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-DB338EB5-8941-4860-BEAC-E39068F186A4"><span class="italic">flashback_mode_clause</span> :: =</p>
                  <div class="figure" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-299FFD34-24BE-4A05-96EA-4106539C1E3A"><img src="img/flashback_mode_clause.gif" alt="下面是flashback_mode_clause.eps的说明" title="下面是flashback_mode_clause.eps的说明" longdesc="img_text/flashback_mode_clause.html"><br><a href="img_text/flashback_mode_clause.html">说明flashback_mode_clause.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2158209">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-1666A28E-1AE9-4CE4-AD01-C6E98AC96631"><span class="italic">tablespace_retention_clause</span> :: =</p>
                  <div class="figure" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-488FA060-51E3-4D72-B72E-1C3E13FBF943"><img src="img/tablespace_retention_clause.gif" alt="下面是tablespace_retention_clause.eps的描述" title="下面是tablespace_retention_clause.eps的描述" longdesc="img_text/tablespace_retention_clause.html"><br><a href="img_text/tablespace_retention_clause.html">tablespace_retention_clause.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__ALTER_TABLESPACE_ENCRYPTION-5AD60DB2">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-4F5D3CDA-49FC-440D-B291-D91A846405ED"><span class="italic">alter_tablespace_encryption</span> :: =</p>
                  <div class="figure" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-6777F510-62C0-4B05-9783-BDE51C1F6FF3"><img src="img/alter_tablespace_encryption.gif" alt="alter_tablespace_encryption.eps的描述如下" title="alter_tablespace_encryption.eps的描述如下" longdesc="img_text/alter_tablespace_encryption.html"><br><a href="img_text/alter_tablespace_encryption.html">说明alter_tablespace_encryption.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__TABLESPACE_ENCRYPTION_SPEC-5AD7225F">tablespace_encryption_spec :: =</a></span> ， <span class="italic"><a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__TS_FILE_NAME_CONVERT-5AD72585">ts_file_name_convert :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__TABLESPACE_ENCRYPTION_SPEC-5AD7225F">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-78C9C293-91F1-4D4D-8237-21442EECFC19"><span class="italic">tablespace_encryption_spec</span> :: =</p>
                  <div class="figure" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-6CEF2825-9F20-43B8-86BB-C0FDD1CFE0F9"><img src="img/tablespace_encryption_spec.gif" alt="下面是tablespace_encryption_spec.eps的说明" title="下面是tablespace_encryption_spec.eps的说明" longdesc="img_text/tablespace_encryption_spec.html"><br><a href="img_text/tablespace_encryption_spec.html">说明tablespace_encryption_spec.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__TS_FILE_NAME_CONVERT-5AD72585">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-FE666BB2-8BDA-4412-80F2-EC3769E25586"><span class="italic">ts_file_name_convert</span> :: =</p>
                  <div class="figure" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-A51405BB-4829-463A-A1EF-DB7AE07FC72F"><img src="img/ts_file_name_convert.gif" alt="下面是ts_file_name_convert.eps的描述" title="下面是ts_file_name_convert.eps的描述" longdesc="img_text/ts_file_name_convert.html"><br><a href="img_text/ts_file_name_convert.html">说明ts_file_name_convert.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__CLEAR_FREE_SPACE_CLAUSE-961036E0">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-D3C548E0-B249-4788-9CD3-DF50678CA674"><span class="italic">lost_write_protection</span> :: =</p>
                  <div class="figure" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-B87C2699-523E-4456-A8C1-1D47FEE091B9"><img src="img/lost_write_protection.gif" alt="lost_write_protection.eps的描述如下" title="lost_write_protection.eps的描述如下" longdesc="img_text/lost_write_protection.html"><br><a href="img_text/lost_write_protection.html">说明lost_write_protection.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-44A853B2-EB05-4509-8930-B12D099576C3">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-4DFA18BC-6A53-4E92-A1A2-32DEF88E8787"><span class="italic">表空间</span></p>
                  <p>指定要更改的表空间的名称。</p>
                  <p><span class="bold">改变表空间的限制</span><a id="d283107e680" class="indexterm-anchor"></a><a id="d283107e684" class="indexterm-anchor"></a><a id="d283107e690" class="indexterm-anchor"></a><a id="d283107e696" class="indexterm-anchor"></a></p>
                  <p>更改表空间受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果<span class="italic"><code class="codeph">tablespace</code></span>是一个undo表空间，那么你可以在这个语句中指定的唯一其他子句是<code class="codeph">ADD</code> <code class="codeph">DATAFILE</code> ， <code class="codeph">RENAME</code> <code class="codeph">DATAFILE</code> ， <code class="codeph">RENAME</code> <code class="codeph">TO</code> （重命名表空间）， <code class="codeph">DATAFILE</code> ......<code class="codeph">ONLINE</code> ， <code class="codeph">DATAFILE</code> ......<code class="codeph">OFFLINE</code> ， <code class="codeph">BEGIN</code> <code class="codeph">BACKUP</code>和<code class="codeph">END</code> <code class="codeph">BACKUP</code> 。</p>
                     </li>
                     <li>
                        <p>您不能将<code class="codeph">SYSTEM</code>表空间设置为只读或临时，也不能使其脱机。
                        </p>
                     </li>
                     <li>
                        <p>对于本地管理的临时表空间，您可以在此语句中指定的唯一子句是<code class="codeph">ADD</code>子句。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-7B406ABC-BA95-49BE-B931-59AB3F1F71ED">
                     <p class="notep1">也可以看看：</p>
                     <p>有关自动撤消管理和撤消表空间的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADMIN013" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__ALTER_TABLESPACE_ATTRS-44D47A2E">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-70B1073D-C7E2-4759-9354-92BB9ED98D55"><span class="italic">alter_tablespace_attrs</span></p>
                  <p>使用<span class="italic"><code class="codeph">alter_tablespace_attrs</code></span>子句更改表空间的属性。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__DEFAULT_TABLESPACE_PARAMS-5B8795BC">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-D6047572-8594-4379-8EC1-1063231C4586"><span class="italic">default_tablespace_params</span></p>
                  <p>此子句允许您为表空间指定新的默认参数。新的默认参数适用于随后在表空间中创建的对象。</p>
                  <p>在<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>和<code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> ，子句<span class="italic"><code class="codeph">default_table_compression</code></span> ， <span class="italic"><code class="codeph">default_index_compression</code></span> ， <span class="italic"><code class="codeph">inmemory_clause</code></span> ， <span class="italic"><code class="codeph">ilm_clause</code></span>和<span class="italic"><code class="codeph">storage_clause</code></span>具有相同的语义。有关这些子句的完整信息，请参阅<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>文档中的<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_TABLESPACE_PARAMS-2D0A685E">default_tablespace_params</a>子句。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-0A1B7012-9509-4692-9169-F9A40E6A7FD2">MINIMUM EXTENT</p>
                  <p><a id="d283107e839" class="indexterm-anchor"></a><a id="d283107e843" class="indexterm-anchor"></a>此子句仅对永久字典管理的表空间有效。<code class="codeph">MINIMUM</code> <code class="codeph">EXTENT</code>子句允许您通过确保表空间中的每个已用或可用空间至少与<span class="italic"><code class="codeph">size_clause</code></span>指定的值一样大，并且是其倍数来控制表空间中的空闲空间碎片。
                  </p>
                  <p><span class="bold">对MINIMUM EXTENT的限制</span></p>
                  <p>您不能为本地管理的表空间或字典管理的临时表空间指定此子句。</p>
                  <div class="infoboxnotealso" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-2EC2E07D-FE8A-4F5B-93B5-A13CA99465AE">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517">size_clause</a></span>有关该子句<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADMIN011" target="_blank"><span class="italic">的</span></a>信息，有关使用<code class="codeph">MINIMUM</code> <code class="codeph">EXTENT</code>控制空间碎片的更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADMIN011" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> 。</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-40B2676F-AC90-4BC7-BA8B-1503888BF4BB">调整条款</p>
                  <p><a id="d283107e884" class="indexterm-anchor"></a>此子句仅对bigfile表空间有效，包括存储丢失的写保护跟踪数据的影子表空间。它允许您将单个数据文件的大小增加或减少到绝对大小。使用<code class="codeph">K</code> ， <code class="codeph">M</code> ， <code class="codeph">G</code>或<code class="codeph">T</code>分别指定大小，以千字节，兆字节，千兆字节或太字节为单位。
                  </p>
                  <p>要在smallfile表空间中更改新添加的数据文件或临时文件的大小，请使用<code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> ... <span class="italic"><code class="codeph">autoextend_clause</code></span> （请参阅<span class="italic"><a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__I2078824">database_file_clauses</a></span> ）。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-981DE312-A796-4516-BFAD-0478884143A3">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2194039">BIGFILE |有关bigfile</a>表空间的信息，请使用<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2194039">SMALLFILE</a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-D0E17508-9852-48EC-A4A4-D8BD5BA49193">合并</p>
                  <p><a id="d283107e928" class="indexterm-anchor"></a><a id="d283107e932" class="indexterm-anchor"></a>对于表空间中的每个数据文件，此子句将所有连续的空闲扩展区组合成更大的连续扩展区。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-A6ABC82B-F0FA-49A4-BC1E-DF9E943EF697">收缩空间条款</p>
                  <p><a id="d283107e941" class="indexterm-anchor"></a>该子句仅对临时表空间有效。它可以减少表空间占用的空间量。在可选的<code class="codeph">KEEP</code>子句中， <span class="italic"><code class="codeph">size_clause</code></span>定义了表空间可以缩小到的下限。对于可自动扩展的表空间，它与<code class="codeph">MAXSIZE</code>相反。如果省略<code class="codeph">KEEP</code>子句，则只要满足其他表空间存储属性，数据库就会尝试尽可能地缩小表空间。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-400CDAE0-2A65-4F62-B5C9-B06870A41751">重命名条款</p>
                  <p><a id="d283107e965" class="indexterm-anchor"></a><a id="d283107e969" class="indexterm-anchor"></a>使用此子句重命名<span class="italic"><code class="codeph">tablespace</code></span> 。仅当<span class="italic"><code class="codeph">tablespace</code></span>及其所有数据文件处于联机且<code class="codeph">COMPATIBLE</code>参数设置为10.0.0或更高时，此子句才有效。您可以重命名永久和临时表空间。
                  </p>
                  <p>如果<span class="italic"><code class="codeph">tablespace</code></span>是只读的，则Oracle数据库不会更新数据文件头以反映新名称。警报日志将指示数据文件头尚未更新。
                  </p>
                  <div class="infoboxnote" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-A0F7EC30-B7D2-432D-A35E-2D5773D7F1F8">
                     <p class="notep1">注意：</p>
                     <p>如果重新创建控制文件，并且Oracle数据库为此目的使用的数据文件是其标题反映旧表空间名称的还原备份，则重新创建的控制文件也将反映旧的表空间名称。但是，在数据库完全恢复后，控制文件将反映新名称。</p>
                  </div>
                  <p>如果已将<span class="italic"><code class="codeph">tablespace</code></span>指定为Oracle Real Application Clusters（Oracle RAC）环境中任何实例的撤消表空间，并且如果使用服务器参数文件启动数据库，则Oracle数据库会更改<code class="codeph">UNDO_TABLESPACE</code>参数的值服务器参数文件（ <code class="codeph">SPFILE</code> ）中的实例，以反映新的表空间名称。如果单实例数据库使用参数文件（pfile）而不是spfile，则数据库会在警报日志中放入一条消息，通知数据库管理员在pfile中手动更改值。
                  </p>
                  <div class="infoboxnote" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-53959904-E9B0-40A4-870B-E88ADF45DA3C">
                     <p class="notep1">注意：</p>
                     <p><code class="codeph">RENAME</code>子句不会更改正在运行的实例中的<code class="codeph">UNDO_TABLESPACE</code>参数的值。虽然这不会影响撤消表空间的功能，但Oracle建议您在实例的持续时间内发出以下语句以手动将<code class="codeph">UNDO_TABLESPACE</code>的值<code class="codeph">UNDO_TABLESPACE</code>为新的表空间名称：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET UNDO_TABLESPACE = <span class="italic">new_tablespace_name</span> SCOPE = MEMORY;</pre><p>您只需要发出一次此声明。如果<code class="codeph">UNDO_TABLESPACE</code>参数设置为pfile或spfile中的新表空间名称，则下次重新启动实例时将正确设置该参数。
                     </p>
                  </div>
                  <p><span class="bold">重命名表空间的限制</span></p>
                  <p>您无法重命名<code class="codeph">SYSTEM</code>或<code class="codeph">SYSAUX</code>表空间。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-6D2E2949-194D-48A8-8AA3-E5F91BE6580C">备份条款</p>
                  <p>使用这些子句将表空间中的所有数据文件移入或移出联机（有时称为热）备份模式。</p>
                  <div class="infoboxnotealso" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-C05E1EBD-D2FD-4BC4-9A5C-54419938AF2E">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADMIN004" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> ，了解有关在没有介质恢复的情况下重新启动数据库</p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <span class="q">“ <a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__I2150230">BACKUP子句</a> ”，</span>用于将数据库中的所有数据文件移入和移出在线备份模式的信息</p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <span class="italic"><a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__I2150231">alter_datafile_clause</a></span>有关将个人数据文件从在线备份模式中取出的信息</p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">开始备份</span> <a id="d283107e1081" class="indexterm-anchor"></a><a id="d283107e1085" class="indexterm-anchor"></a><a id="d283107e1089" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">BEGIN</code> <code class="codeph">BACKUP</code>以指示要对构成此表空间的数据文件执行打开备份。此子句不会阻止用户访问表空间。在开始打开备份之前，必须使用此子句。
                  </p>
                  <p><span class="bold">开始表空间备份的限制</span></p>
                  <p>开始表空间备份受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能为只读表空间或临时本地管理的表空间指定此子句。</p>
                     </li>
                     <li>
                        <p>备份正在进行时，您无法正常使表空间脱机，关闭实例或开始表空间的其他备份。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-64DD593C-3373-4E26-A181-85DE217971B8">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2158282">备份表空间：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold">结束备份</span> <a id="d283107e1122" class="indexterm-anchor"></a><a id="d283107e1126" class="indexterm-anchor"></a><a id="d283107e1130" class="indexterm-anchor"></a><a id="d283107e1134" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">END</code> <code class="codeph">BACKUP</code>以指示表空间的联机备份已完成。完成在线备份后，请尽快使用此子句。否则，如果发生实例故障或<code class="codeph">SHUTDOWN</code> <code class="codeph">ABORT</code> ，则Oracle数据库假定在下次实例启动时需要进行介质恢复（可能需要归档重做日志）。
                  </p>
                  <p><span class="bold">结束表空间备份的限制</span></p>
                  <p>您不能在只读表空间上使用此子句。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-71B0D66F-0A0B-41B1-8F59-33FFDDB5F567"><span class="italic">datafile_tempfile_clauses</span></p>
                  <p>表空间文件子句允许您添加或修改数据文件或临时文件。</p>
                  <p><span class="bold">ADD条款</span></p>
                  <p>指定<code class="codeph">ADD</code>以将由<span class="italic"><code class="codeph">file_specification</code></span>指定的数据文件或临时文件添加到表空间。使用<span class="italic"><code class="codeph">file_specification</code></span>的<span class="italic"><code class="codeph">datafile_tempfile_spec</code></span>形式（请参阅<span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688">file_specification</a></span> ）列出操作系统文件系统中的常规数据文件和临时文件，或列出Oracle自动存储管理磁盘组文件。
                  </p>
                  <p>对于本地管理的临时表空间，这是您可以随时指定的唯一子句。</p>
                  <p>如果省略<span class="italic"><code class="codeph">file_specification</code></span> ，则Oracle数据库会创建一个100M的Oracle托管文件，并启用<code class="codeph">AUTOEXTEND</code> 。
                  </p>
                  <p>您可以将数据文件或临时文件添加到联机的本地托管表空间，也可以添加到联机或脱机的字典托管表空间。确保该文件未被其他数据库使用。</p>
                  <p><span class="bold">添加数据文件和临时文件的限制</span></p>
                  <p>您不能为bigfile（单文件）表空间指定此子句，因为这样的表空间只有一个数据文件或临时文件。</p>
                  <div class="infoboxnote" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-CF4CFDC1-AD64-44C7-A25A-CCE919025380">
                     <p class="notep1">注意：</p>
                     <p>在某些操作系统上，在实际访问临时文件块之前，Oracle不会为临时文件分配空间。空间分配的这种延迟导致更快地创建和调整临时文件的大小，但是当稍后使用临时文件时，它需要足够的磁盘空间。为避免潜在问题，在创建临时文件或调整其大小之前，请确保可用磁盘空间超过新临时文件的大小或调整大小的临时文件的大小。多余的空间应该允许不相关的操作预期增加磁盘空间的使用。然后继续创建或调整大小操作。</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-F55A0E98-AC69-4598-9953-401A013B9539">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688">file_specification</a></span> ， <span class="q">“ <a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2133310">添加和删除数据文件和临时文件：示例</a> ”</span>和<span class="q">“ <a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2133323">添加Oracle管理的数据文件：示例</a> ”</span></p>
                  </div>
                  <p id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__CIHBAGCD"><span class="bold">DROP条款</span> <a id="d283107e1227" class="indexterm-anchor"></a><a id="d283107e1231" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">DROP</code>从表空间中删除由<span class="italic"><code class="codeph">filename</code></span>或<span class="italic"><code class="codeph">file_number</code></span>指定的空数据文件或临时文件。此子句使数据文件或临时文件从数据字典中删除并从操作系统中删除。必须在指定此子句时打开数据库。
                  </p>
                  <p><code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> ......<code class="codeph">DROP</code> <code class="codeph">TEMPFILE</code>语句相当于指定<code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">TEMPFILE</code> ...<code class="codeph">DROP</code> <code class="codeph">INCLUDING</code> <code class="codeph">DATAFILES</code> 。</p>
                  <p><span class="bold">删除文件的限制</span></p>
                  <p>要删除数据文件或临时文件，数据文件或临时文件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>必须是空的。</p>
                     </li>
                     <li>
                        <p>不能是表空间中创建的第一个文件。在这种情况下，请删除表空间。</p>
                     </li>
                     <li>
                        <p>不能位于从管理到本地管理的字典迁移的只读表空间中。支持从所有其他只读表空间中删除数据文件。</p>
                     </li>
                     <li>
                        <p>无法离线。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-F11491FB-AC53-4CF2-91B0-8BE90CE6C38F">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <span class="italic"><a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__I2162868">alter_tempfile_clause</a></span>有关删除临时文件的其他信息</p>
                        </li>
                        <li>
                           <p>有关数据文件编号和管理数据文件<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADMIN012" target="_blank"><span class="italic">指南</span></a>的信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADMIN012" target="_blank"><span class="italic">参见“Oracle数据库管理员指南”</span></a></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2133310">添加和删除数据文件和临时文件：示例</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">SHRINK TEMPFILE条款</span> <a id="d283107e1330" class="indexterm-anchor"></a><a id="d283107e1336" class="indexterm-anchor"></a></p>
                  <p>该子句仅在更改临时表空间时有效。它可以减少指定临时文件占用的空间量。在可选的<code class="codeph">KEEP</code>子句中， <span class="italic"><code class="codeph">size_clause</code></span>定义临时文件可以缩小到的下限。对于可自动扩展的表空间，它与<code class="codeph">MAXSIZE</code>相反。如果省略<code class="codeph">KEEP</code>子句，则只要满足其他存储属性，数据库就会尝试尽可能地收缩临时文件。
                  </p>
                  <p><span class="bold">重命名数据文件条款</span></p>
                  <p>指定<code class="codeph">RENAME</code> <code class="codeph">DATAFILE</code>以重命名一个或多个表空间数据文件。数据库必须是打开的，您必须在重命名之前使表空间脱机。每个<span class="italic"><code class="codeph">filename</code></span>必须使用操作系统上的文件名约定完全指定数据文件。
                  </p>
                  <p>该子句仅将表空间与新文件相关联，而不是旧文件。此子句实际上不会更改操作系统文件的名称。您必须通过操作系统更改文件的名称。</p>
                  <div class="infoboxnotealso" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-9FB82323-8D96-407F-B36C-FC6090783FD5">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2133299">移动和重命名表空间：示例</a> ”</span></p>
                  </div>
                  <p><span class="bold">在线|离线条款</span></p>
                  <p>使用这些子句可以使表空间中的所有数据文件或临时文件脱机或将它们联机。这些子句对表空间本身的<code class="codeph">ONLINE</code>或<code class="codeph">OFFLINE</code>状态没有影响。
                  </p>
                  <p>必须安装数据库。如果<span class="italic"><code class="codeph">tablespace</code></span>是<code class="codeph">SYSTEM</code> ，或撤消表空间或默认临时表空间，则不能打开数据库。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-4A172E2D-0717-457D-9451-6904CCC4077F"><span class="italic">tablespace_logging_clauses</span></p>
                  <p>使用这些子句设置或更改表空间的日志记录特征。</p>
                  <p><span class="bold"><span class="italic">logging_clause</span></span></p>
                  <p>如果要记录表空间中的所有表，索引和分区，请指定<code class="codeph">LOGGING</code> 。表空间级日志记录属性可以通过记录表，索引和分区级别的规范来覆盖。
                  </p>
                  <p>当<code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code>语句更改现有表空间日志记录属性时，在语句<span class="italic">之后</span>创建的所有表，索引和分区将具有新的默认日志记录属性（您仍可以随后覆盖该属性）。现有对象的日志记录属性不会更改。
                  </p>
                  <p>如果表空间处于<code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>模式，则可以在此语句中指定<code class="codeph">NOLOGGING</code>以将表空间的默认日志记录模式设置为<code class="codeph">NOLOGGING</code> ，但这不会使表空间退出<code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>模式。
                  </p>
                  <p><span class="bold">[NO]强制记录</span><a id="d283107e1448" class="indexterm-anchor"></a><a id="d283107e1452" class="indexterm-anchor"></a><a id="d283107e1456" class="indexterm-anchor"></a></p>
                  <p>使用此子句将表空间置于强制日志记录模式或将其从强制日志记录模式中取出。数据库必须处于打开状态且处于<code class="codeph">READ</code> <code class="codeph">WRITE</code>模式。这些设置都不会更改表空间的默认<code class="codeph">LOGGING</code>或<code class="codeph">NOLOGGING</code>模式。
                  </p>
                  <p><span class="bold">对强制记录模式的限制</span></p>
                  <p>您不能为撤消或临时表空间指定<code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-0F5DBC27-60EC-4BBD-8F81-2EE1603994C5">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADMIN002" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a> ，了解何时使用<code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>模式和<span class="q">“ <a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2133334">更改表空间日志记录属性：示例</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-BD16C0CA-F99A-48F9-9FDC-299EAD1C04F3"><span class="italic">tablespace_group_clause</span></p>
                  <p>此子句仅对本地管理的临时表空间有效。使用此子句将<span class="italic"><code class="codeph">tablespace</code></span>添加到<span class="italic"><code class="codeph">tablespace_group_name</code></span>表空间组或从<span class="italic"><code class="codeph">tablespace_group_name</code></span>表空间组中删除它。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定组名称以指示<span class="italic"><code class="codeph">tablespace</code></span>是此表空间组的成员。如果<span class="italic"><code class="codeph">tablespace_group_name</code></span>尚不存在，则当您将表空间更改为其成员时，Oracle数据库会隐式创建它。
                        </p>
                     </li>
                     <li>
                        <p>指定一个空串（”“）除去<span class="italic"><code class="codeph">tablespace</code></span>从<span class="italic"><code class="codeph">tablespace_group_name</code></span>表空间组。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">对表空间组的限制</span></p>
                  <p>您不能为永久表空间或字典管理的临时表空间指定表空间组。</p>
                  <div class="infoboxnotealso" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-0E646D61-0CF8-4DCE-95EE-3A3C7CFF83ED">
                     <p class="notep1">也可以看看：</p>
                     <p>有关表空间组和<span class="q">“ <a href="ALTER-USER.html#GUID-9FCD038D-8193-4241-85CD-2F4723B27D44__I2147599">分配表空间组：示例</a> ”的</span>更多信息，请参见<span class="q">“</span> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADMIN01103" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a> <span class="q">”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-632F2145-C952-4C78-BFFC-949B188300E7"><span class="italic">tablespace_state_clauses</span></p>
                  <p>使用这些子句设置或更改表空间的状态。</p>
                  <p><span class="bold">在线|离线</span> <a id="d283107e1563" class="indexterm-anchor"></a><a id="d283107e1567" class="indexterm-anchor"></a><a id="d283107e1571" class="indexterm-anchor"></a><a id="d283107e1575" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">ONLINE</code>以使表空间联机。指定<code class="codeph">OFFLINE</code>以使表空间脱机并阻止进一步访问其段。当表空间脱机时，其所有数据文件也都处于脱机状态。
                  </p>
                  <div class="infoboxnote" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-9C421B85-3142-422C-A01A-D381B98BE8F7">
                     <p class="notep1">注意：</p>
                     <p>在将表空间脱机很长时间之前，请考虑将已分配表空间的任何用户的表空间分配更改为默认或临时表空间。当表空间处于脱机状态时，此类用户无法为表空间中的对象或排序区域分配空间。有关为用户分配表空间配额的详细信息，请参阅<a href="ALTER-USER.html#GUID-9FCD038D-8193-4241-85CD-2F4723B27D44">ALTER USER</a> 。
                     </p>
                  </div>
                  <p><span class="bold">使表空间脱机的限制</span></p>
                  <p>您无法使临时表空间脱机。</p>
                  <p><span class="bold">离线正常</span></p>
                  <p>指定<code class="codeph">NORMAL</code>以刷新表空间中所有数据文件中的所有块，超出系统全局区域（SGA）。在将表空间重新联机之前，无需在此表空间上执行介质恢复。这是默认值。
                  </p>
                  <p><span class="bold">离线临时</span></p>
                  <p>如果指定<code class="codeph">TEMPORARY</code> ，则Oracle数据库会对表空间中的所有联机数据文件执行检查点，但不能确保可以写入所有文件。发出此语句时脱机的文件可能需要在将表空间重新联机之前进行介质恢复。
                  </p>
                  <p><span class="bold">离线即时</span></p>
                  <p>如果指定<code class="codeph">IMMEDIATE</code> ，则Oracle数据库不确保表空间文件可用且不执行检查点。您必须先在表空间上执行介质恢复，然后再将其恢复为联机状态。
                  </p>
                  <div class="infoboxnote" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-34DC2BEF-41BA-4331-BB16-F70F6D9B655C">
                     <p class="notep1">注意：</p>
                     <p><code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code>的<code class="codeph">FOR</code> <code class="codeph">RECOVER</code>设置...<code class="codeph">OFFLINE</code>已被弃用。支持语法以实现向后兼容。但是，Oracle建议您使用可传输表空间功能进行表空间恢复。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-EB26A09D-C129-4B21-9586-A8A736B5B7EF">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=BRADV228" target="_blank"><span class="italic">“Oracle数据库备份和恢复用户指南”</span></a> ，了解有关使用可传输表空间执行介质恢复的信息</p>
                  </div>
                  <p><span class="bold">只读|读写</span> <a id="d283107e1652" class="indexterm-anchor"></a><a id="d283107e1656" class="indexterm-anchor"></a><a id="d283107e1660" class="indexterm-anchor"></a><a id="d283107e1664" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">READ</code> <code class="codeph">ONLY</code>以将表空间置于<span class="bold">转换只读模式</span> 。在此状态下，现有事务可以完成（提交或回滚），但除了回滚先前在表空间中修改块的现有事务之外，不允许对表空间执行进一步的DML操作。您不能<code class="codeph">ONLY</code> <code class="codeph">READ</code> <code class="codeph">SYSAUX</code> ， <code class="codeph">SYSTEM</code>或临时表空间。</p>
                  <p>如果只读表空间，则可以将其文件复制到只读介质。然后，必须使用SQL语句<code class="codeph">ALTER</code> <code class="codeph">DATABASE</code>将控制文件中的数据文件重命名为指向新位置...<code class="codeph">RENAME</code> 。</p>
                  <div class="infoboxnotealso" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-F5966E0E-14D2-45EE-978C-AC7F9E8BBE5C">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关只读表空间的更多信息，请<a href="../cncpt/introduction-to-oracle-database.html#CNCPT003" target="_blank"><span class="italic">参见Oracle数据库概念</span></a></p>
                        </li>
                        <li>
                           <p><a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986">ALTER DATABASE</a></p>
                        </li>
                     </ul>
                  </div>
                  <p>指定<code class="codeph">READ</code> <code class="codeph">WRITE</code>以指示在先前只读的表空间上允许写入操作。
                  </p>
                  <p><span class="bold">永久|临时</span> <a id="d283107e1728" class="indexterm-anchor"></a><a id="d283107e1732" class="indexterm-anchor"></a><a id="d283107e1738" class="indexterm-anchor"></a><a id="d283107e1742" class="indexterm-anchor"></a></p>
                  <p>指定<code class="codeph">PERMANENT</code>以指示要将表空间从临时表空间转换为永久表空间。永久表空间是可以存储永久数据库对象的表空间。这是创建表空间时的默认值。
                  </p>
                  <p>指定<code class="codeph">TEMPORARY</code>以指示要将表空间从永久表空间转换为临时表空间。临时表空间是指不能存储永久数据库对象的表空间。临时表空间中的对象仅在会话期间保持不变。
                  </p>
                  <p><span class="bold">临时表空间的限制</span></p>
                  <p>临时表空间受以下限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能为<code class="codeph">SYSAUX</code>表空间指定<code class="codeph">TEMPORARY</code> 。
                        </p>
                     </li>
                     <li>
                        <p>如果未使用标准块大小创建<span class="italic"><code class="codeph">tablespace</code></span> ，则无法将其从永久更改为临时。
                        </p>
                     </li>
                     <li>
                        <p>您不能在<code class="codeph">FORCE</code> <code class="codeph">LOGGING</code>模式下为表空间指定<code class="codeph">TEMPORARY</code> 。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-7E90085E-0207-460F-8B62-9FE3F1A1D107"><span class="italic">autoextend_clause</span></p>
                  <p>该子句仅对bigfile（单文件）表空间有效。使用此子句可以启用或禁用表空间中单个数据文件的自动扩展。要在smallfile表空间中启用或禁用新添加的数据文件或临时文件的<span class="italic"><code class="codeph">autoextend_clause</code></span> ，请使用<code class="codeph">ALTER</code> <code class="codeph">DATABASE</code>语句中<span class="italic"><a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986__I2078824">database_file_clauses</a></span>的<span class="italic"><code class="codeph">autoextend_clause</code></span> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-54B7A0AF-B4AE-437C-B84A-727364FF9C69">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关bigfile（单文件）表空间的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADMIN01102" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </li>
                        <li>
                           <p><span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688">file_specification</a></span>以获取有关<span class="italic"><code class="codeph">autoextend_clause</code></span>更多信息</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-4DDDF8C5-7CD3-445B-B857-20CBA26CF2A4"><span class="italic">flashback_mode_clause</span></p>
                  <p>使用此子句指定此表空间是否应参与任何后续<code class="codeph">FLASHBACK</code> <code class="codeph">DATABASE</code>操作。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>要打开<code class="codeph">FLASHBACK</code>模式，必须装入和关闭数据库。
                        </p>
                     </li>
                     <li>
                        <p>要关闭<code class="codeph">FLASHBACK</code>模式，必须安装数据库，打开<code class="codeph">READ</code> <code class="codeph">WRITE</code>或关闭。
                        </p>
                     </li>
                  </ul>
                  <p>该子句对临时表空间无效。</p>
                  <p>有关此子句的更多完整信息，请参阅<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9">CREATE TABLESPACE</a> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-5BCAB861-7041-4F5C-86DD-B536B252CE3B">
                     <p class="notep1">也可以看看：</p>
                     <p>有关闪回数据库的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=BRADV595" target="_blank"><span class="italic">“Oracle数据库备份和恢复用户指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-767CB4AF-B69A-4A92-8E05-BC3A038F1E1F"><span class="italic">tablespace_retention_clause</span></p>
                  <p>该子句在<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>和<code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code>语句中具有相同的语义。请参阅<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>文档中的<span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2209531">tablespace_retention_clause</a></span> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__ALTER_TABLESPACE_ENCRYPTION-5B87ACA7">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-B4D00908-B7F4-4FF3-A350-2CD10B0DE0B5"><span class="italic">alter_tablespace_encryption</span></p>
                  <p>这些子句允许您加密，解密或重新密钥表空间。</p>
                  <p><span class="bold">离线</span></p>
                  <p>此子句允许您使用脱机转换加密或解密表空间。表空间必须脱机或必须装入数据库，但不能打开。离线转换方法不使用辅助磁盘空间或文件;它直接在现有数据文件上运行。因此，您应该在脱机转换表空间之前执行完整备份。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">ENCRYPT</code>以加密表空间。您可以使用<code class="codeph">AES128</code> ， <code class="codeph">AES192</code>或<code class="codeph">AES256</code>算法加密表空间。表空间必须是未解决的。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">DECRYPT</code>以解密表空间。必须先使用脱机转换（ <code class="codeph">OFFLINE</code> <code class="codeph">ENCRYPT</code> ）对表空间进行加密。
                        </p>
                     </li>
                  </ul>
                  <p>如果脱机转换操作中断，则可以重新发出脱机转换命令以完成操作。</p>
                  <p id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__ONLINE-2C0A6FC3"><span class="bold">线上</span></p>
                  <p>此子句允许您使用联机转换对表空间进行加密，解密或重新密钥。表空间必须在线。联机转换方法为表空间中的每个数据文件创建一个新的数据文件。因此，在使用此子句之前，请确保可用磁盘空间量大于或等于表空间当前使用的磁盘空间量。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">ENCRYPT</code>以加密表空间。表空间必须是未解决的。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">REKEY</code>以使用不同的加密算法加密加密的表空间。表空间在创建或使用在线转换（ <code class="codeph">ONLINE</code> <code class="codeph">ENCRYPT</code> ）加密时必须已加密。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">DECRYPT</code>以解密表空间。表空间在创建或使用在线转换（ <code class="codeph">ONLINE</code> <code class="codeph">ENCRYPT</code> ）加密时必须已加密。
                        </p>
                     </li>
                  </ul>
                  <p>如果在线转换操作中断，则可以发出<code class="codeph">FINISH</code>子句以完成操作。请参阅<a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__FINISH-2C0A6627">FINISH</a>条款。
                  </p>
                  <p><span class="bold"><span class="italic">tablespace_encryption_spec</span></span></p>
                  <p>使用此子句指定加密或重新键入表空间时要使用的加密算法。如果省略此子句，则将使用<code class="codeph">AES128</code>算法对数据文件进行加密。有关此子句的完整语义，请参阅<code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>文档中的<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_ENCRYPTION_SPEC-2C08191C">tablespace_encryption_spec</a> 。
                  </p>
                  <p><span class="bold"><span class="italic">ts_file_name_convert</span></span></p>
                  <p>使用此子句可确定数据库如何生成在线转换期间创建的新数据文件的名称。</p>
                  <p>如果省略<code class="codeph">FILE_NAME_CONVERT</code> ，Oracle将在内部为辅助文件选择一个名称，稍后将其重命名为原始名称。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于<span class="italic"><code class="codeph">filename_pattern</code></span> ，请指定在现有数据文件名中找到的字符串。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">replacement_filename_pattern</code></span> ，请指定替换字符串。在命名新数据文件时，Oracle数据库将用<span class="italic"><code class="codeph">replacement_filename_pattern</code></span>替换<span class="italic"><code class="codeph">filename_pattern</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">KEEP</code>以在表空间转换完成后保留原始文件。如果省略此子句，则转换完成后将删除原始文件。
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__FINISH-2C0A6627"><span class="bold">完</span></p>
                  <p>此子句允许您完成先前中断的在线转换操作。该<code class="codeph">ENCRYPT</code> ， <code class="codeph">DECRYPT</code> ， <code class="codeph">REKEY</code>和<span class="italic"><code class="codeph">ts_file_name_convert</code></span>子句具有相同的语义在这里，因为他们有对<code class="codeph">ONLINE</code>子句。有关完整信息，请参阅<a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D__ONLINE-2C0A6FC3">ONLINE</a>子句。
                  </p>
                  <p><span class="bold">对</span> <span class="bold"><span class="italic">alter_tablespace_encryption</span></span> <span class="bold">子句的</span> <span class="bold">限制</span></p>
                  <p>您无法在临时表空间上执行脱机或联机转换。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-F4B4591B-210B-4CCB-A207-2630EA3F86F9"><span class="italic">lost_write_protection</span></p>
                  <p>指定此子句可为影子表空间启用，删除或挂起丢失的写保护，其中存储了丢失的写保护跟踪数据。</p>
                  <p><span class="bold">为影子表空间启用丢失写保护：示例</span></p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE &lt;shadow_tablespace_name&gt; ENABLE LOST WRITE PROTECTION</pre><p><span class="bold">删除影子表空间的丢失写保护：示例</span></p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE &lt;shadow_tablespace_name&gt;删除丢失的写保护</pre><p><span class="bold">暂停对阴影表空间的丢失写保护：示例</span></p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE &lt;shadow_tablespace_name&gt; SUSPEND LOST WRITE PROTECTION</pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__GUID-E371FDAF-55AF-436C-9856-C11759B40ADB">例子</p>
                  <p id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2158282"><span class="bold">备份表空间：示例</span></p>
                  <p>以下语句向数据库发出备份即将开始的信号：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE tbs_01 BEGIN BACKUP;</pre><p>以下语句向数据库发出备份完成的信号：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE tbs_01 END BACKUP;</pre><p id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2133299"><span class="bold">移动和重命名表空间：示例</span></p>
                  <p>此示例移动并重命名与<code class="codeph">tbs_02</code>表空间关联的数据文件，该数据文件在<span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153424">为表空间启用自动扩展：示例</a> ”中创建</span> ，从<code class="codeph">diskb:tbs_f5.dbf</code>到<code class="codeph">diska:tbs_f5.dbf</code> ：</p>
                  <ol>
                     <li>
                        <p>使用带有<code class="codeph">OFFLINE</code>子句的<code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code>语句使表空间脱机：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE tbs_02 OFFLINE NORMAL;</pre></li>
                     <li>
                        <p>使用操作系统命令将文件从<code class="codeph">diskb:tbs_f5.dbf</code>到<code class="codeph">diska:tbs_f5.dbf</code> 。
                        </p>
                     </li>
                     <li>
                        <p>使用带有<code class="codeph">RENAME</code> <code class="codeph">DATAFILE</code>子句的<code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code>语句重命名数据文件：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE tbs_02重命名数据文件'diskb：tbs_f5.dbf'TO'diska：tbs_f5.dbf';</pre></li>
                     <li>
                        <p>使用带有<code class="codeph">ONLINE</code>子句的<code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code>语句使表空间重新联机：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE tbs_02 ONLINE;</pre></li>
                  </ol>
                  <p id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2133310"><span class="bold">添加和删除数据文件和临时文件：示例</span></p>
                  <p>以下语句将数据文件添加到表空间。当需要更多空间时，将添加新的10千字节范围，最大为100千字节：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE tbs_03添加数据文件'tbs_f04.dbf'尺寸100K AUTOEXTEND，下一个10K MAXSIZE 100K;</pre><p>以下语句删除空数据文件：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE tbs_03 DROP DATAFILE'tbs_f04.dbf';</pre><p>以下语句将临时表文件添加到<span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2204579">创建临时表空间：示例</a> ”中<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2204579">创建的临时表空间</a></span> ，然后删除临时文件：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE temp_demo ADD TEMPFILE'temp05.dbf'SIZE 5 AUTOEXTEND ON; ALTER TABLESPACE temp_demo DROP TEMPFILE'temp05.dbf';</pre><p><span class="bold">管理临时表空间中的空间：示例</span></p>
                  <p>以下语句使用<code class="codeph">SHRINK</code> <code class="codeph">SPACE</code>子句管理在<span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2204579">创建临时表空间：示例</a> ”中<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2204579">创建的临时表空间中</a></span>的<code class="codeph">SPACE</code> 。省略了<code class="codeph">KEEP</code>子句，因此只要满足其他表空间存储属性，数据库就会尝试尽可能地缩小表空间。
                  </p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE temp_demo SHRINK SPACE;</pre><p id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2133323"><span class="bold">添加Oracle管理的数据文件：示例</span></p>
                  <p>以下示例将Oracle管理的数据文件添加到<code class="codeph">omf_ts1</code>表空间（请参阅<span class="q">“ <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2082522">创建Oracle托管文件：示例</a> ”</span>以创建此表空间）。新数据文件为100M，可自动扩展，最大大小不限：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE omf_ts1添加数据文件;</pre><p id="GUID-CA074861-55D3-4768-8995-43D4DA26365D__I2133334"><span class="bold">更改表空间日志记录属性：示例</span></p>
                  <p>以下示例将表空间的默认日志记录属性更改为<code class="codeph">NOLOGGING</code> ：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE tbs_03 NOLOGGING;</pre><p>更改表空间日志记录属性不会影响表空间中现有模式对象的日志记录属性。表空间级日志记录属性可以通过记录表，索引和分区级别的规范来覆盖。</p>
                  <p><span class="bold">更改撤消数据保留：示例</span></p>
                  <p>以下语句将tablespace <code class="codeph">undots1</code>的撤消数据保留更改为正常的撤消数据行为：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE undots1 RETENTION NOGUARANTEE;</pre><p>以下语句将表空间<code class="codeph">undots1</code>的撤消数据保留更改为保留未到期撤消数据的行为：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE undots1保留保证;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id="01024.DBMS_GOLDENGATE_ADM.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_GOLDENGATE_ADM package provides subprograms to configure and manage Oracle GoldenGate conflict detection and resolution."></meta>
      <meta name="description" content="The DBMS_GOLDENGATE_ADM package provides subprograms to configure and manage Oracle GoldenGate conflict detection and resolution."></meta>
      <title>DBMS_GOLDENGATE_ADM</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_GOLDENGATE_ADM package provides subprograms to configure and manage Oracle GoldenGate conflict detection and resolution."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_FS.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_GOLDENGATE_AUTH.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_FS.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_GOLDENGATE_AUTH.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_GOLDENGATE_ADM</li>
            </ol>
            <a id="GUID-3E279F5A-1D73-4952-93FE-336C32523EEB" name="GUID-3E279F5A-1D73-4952-93FE-336C32523EEB"></a>
            
            <h2 id="ARPLS-GUID-3E279F5A-1D73-4952-93FE-336C32523EEB" class="sect2"><span class="enumeration_chapter">73</span> DBMS_GOLDENGATE_ADM</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_GOLDENGATE_ADM</code>包提供子程序来配置和管理Oracle GoldenGate冲突检测和解决方案。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_GOLDENGATE_ADM.html#GUID-B30DB455-F8EA-4D3A-A065-82CA8A7E3E68" title="DBMS_GOLDENGATE_ADM程序包提供了用于在Oracle GoldenGate配置中配置自动冲突检测和解决的接口，该配置可在Oracle数据库之间复制表。可以通过将此程序包上的EXECUTE授予选定的用户或角色，或者通过向所选用户或角色授予EXECUTE_CATALOG_ROLE来控制此程序包的安全性。">使用DBMS_GOLDENGATE_ADM</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_GOLDENGATE_ADM.html#GUID-990B66F6-51A1-4C50-9EE3-69B1EE24D998" title="此过程为表格配置Oracle GoldenGate自动冲突检测和解决方案。此过程将列组添加到为Oracle GoldenGate自动冲突检测和解决配置的表中。此过程为列配置Oracle GoldenGate自动冲突检测和增量分辨率。此过程会更改表的Oracle GoldenGate自动冲突检测和解决方案。此过程会更改Oracle GoldenGate自动冲突检测和解决的列组。此过程从Oracle GoldenGate过程复制的排除列表中删除数据库对象。如果启用了Oracle GoldenGate过程复制，则此函数返回1，如果禁用，则返回0。此过程将数据库对象插入到Oracle GoldenGate过程复制的排除列表中。此过程将清除在逻辑删除表中指定时间戳之前删除的行。此过程将删除表的Oracle GoldenGate自动冲突检测和解决方案。此过程将删除为Oracle GoldenGate自动冲突检测和解决配置的列组。此过程将删除该列的Oracle GoldenGate自动冲突检测和增量分辨率。">DBMS_GOLDENGATE_ADM子程序摘要</a></p>
                  </li>
               </ul>
            </div>
            <div class="props_rev_3"><a id="GUID-B30DB455-F8EA-4D3A-A065-82CA8A7E3E68" name="GUID-B30DB455-F8EA-4D3A-A065-82CA8A7E3E68"></a><h3 id="ARPLS-GUID-B30DB455-F8EA-4D3A-A065-82CA8A7E3E68" class="sect3"><span class="enumeration_section">73.1</span>使用DBMS_GOLDENGATE_ADM</h3>
               <div>
                  <div class="section">
                     <p>本节包含与使用<code class="codeph">DBMS_GOLDENGATE_ADM</code>程序包相关的主题。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBMS_GOLDENGATE_ADM.html#GUID-C19286F6-152C-4FFA-8FC7-74378799F97F" title="DBMS_GOLDENGATE_ADM程序包提供了用于在Oracle GoldenGate配置中配置自动冲突检测和解决的接口，该配置可在Oracle数据库之间复制表。">DBMS_GOLDENGATE_ADM概述</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_GOLDENGATE_ADM.html#GUID-E80D7BC2-DBAB-4AFD-B1BE-D525154CD544" title="可以通过将此程序包上的EXECUTE授予选定的用户或角色，或者通过向所选用户或角色授予EXECUTE_CATALOG_ROLE来控制此程序包的安全性。">DBMS_GOLDENGATE_ADM安全模型</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div class="props_rev_3"><a id="GUID-C19286F6-152C-4FFA-8FC7-74378799F97F" name="GUID-C19286F6-152C-4FFA-8FC7-74378799F97F"></a><h4 id="ARPLS-GUID-C19286F6-152C-4FFA-8FC7-74378799F97F" class="sect4"><span class="enumeration_section">73.1.1</span> DBMS_GOLDENGATE_ADM概述</h4>
                  <div>
                     <p><code class="codeph">DBMS_GOLDENGATE_ADM</code>程序包提供了用于在Oracle GoldenGate配置中配置自动冲突检测和解决的接口，该配置可在Oracle数据库之间复制表。
                     </p>
                     <div class="section">
                        <p>当表的多个副本允许对表进行更改时，几乎同时对两个不同数据库中的同一行进行更改时可能会发生冲突。Oracle GoldenGate使用行逻辑更改记录（LCR）复制更改。它通过将行LCR中的旧值与由键列标识的相应表行的当前值进行比较来检测冲突。如果任何列值不匹配，则存在冲突。检测到冲突后，Oracle GoldenGate可以通过使用行LCR中的某些值覆盖行中的值，忽略行LCR中的值或计算增量来更新行值来解决冲突。</p>
                        <p>XStream入站服务器和出站服务器可用于多租户容器数据库（CDB）中的XStream配置。CDB是Oracle数据库，包括零个，一个或多个用户创建的可插拔数据库（PDB）。</p>
                        <div class="infoboxnote" id="GUID-C19286F6-152C-4FFA-8FC7-74378799F97F__GUID-08A629A6-7AE0-4A57-BF7B-56EAEC197B93">
                           <p class="notep1">注意：</p>
                           <p>使用XStream需要购买Oracle GoldenGate产品的许可证。</p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-C19286F6-152C-4FFA-8FC7-74378799F97F__GUID-FED082AF-2F3A-4D59-995C-DCB1D99EEC6C">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../xstrm/gg_auto_cdr.html#XSTRM-GUID-F0C097D4-C197-4BC8-ACD0-B005325B78F8" target="_blank"><span class="italic">Oracle数据库XStream指南</span></a></p>
                              </li>
                              <li>
                                 <p>有关CDB和PDB的更多信息，请参见<a href="../multi/multitenant-architecture.html#CNCPT89233" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-E80D7BC2-DBAB-4AFD-B1BE-D525154CD544" name="GUID-E80D7BC2-DBAB-4AFD-B1BE-D525154CD544"></a><h4 id="ARPLS-GUID-E80D7BC2-DBAB-4AFD-B1BE-D525154CD544" class="sect4"><span class="enumeration_section">73.1.2</span> DBMS_GOLDENGATE_ADM安全模型</h4>
                  <div>
                     <p>可以通过将此程序包上的<code class="codeph">EXECUTE</code>授予选定的用户或角色，或者通过向所选用户或角色授予<code class="codeph">EXECUTE_CATALOG_ROLE</code>来控制此程序包的安全性。
                     </p>
                     <div class="section">
                        <p>如果程序包中的子程序是从存储过程中运行的，则必须直接为程序包授予运行子程序的用户<code class="codeph">EXECUTE</code>特权。它不能通过角色授予。
                        </p>
                        <p>必须在表的复制环境中的每个Oracle数据库上配置Oracle GoldenGate管理员，并且必须配置Oracle GoldenGate以在每个Oracle数据库中复制该表。您可以使用配置的Oracle GoldenGate管理员<code class="codeph">GRANT_ADMIN_PRIVILEGE</code>在程序<code class="codeph">DBMS_GOLDENGATE_ADM</code>包。
                        </p>
                        <div class="infoboxnotealso" id="GUID-E80D7BC2-DBAB-4AFD-B1BE-D525154CD544__GUID-756F3E91-EB26-4471-9B56-09318500304C">
                           <p class="notep1">也可以看看：</p>
                           <p>有关Oracle GoldenGate复制和配置Oracle GoldenGate管理员的更多信息，请参阅Oracle GoldenGate文档</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-990B66F6-51A1-4C50-9EE3-69B1EE24D998" name="GUID-990B66F6-51A1-4C50-9EE3-69B1EE24D998"></a><h3 id="ARPLS-GUID-990B66F6-51A1-4C50-9EE3-69B1EE24D998" class="sect3"><span class="enumeration_section">73.2</span> DBMS_GOLDENGATE_ADM子程序摘要</h3>
               <div>
                  <div class="tblformal" id="GUID-990B66F6-51A1-4C50-9EE3-69B1EE24D998__GUID-46C5D7EA-9359-424D-863F-FAA10BBD6D0A">
                     <p class="titleintable">表73-1 DBMS_GOLDENGATE_ADM包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_GOLDENGATE_ADM包子程序" width="100%" border="1" summary="This table lists the DBMS_GOLDENGATE_ADM subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="47%" id="d443716e534">子程序</th>
                              <th align="left" valign="bottom" width="53%" id="d443716e537">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d443716e542" headers="d443716e534 ">
                                 <p><a href="DBMS_GOLDENGATE_ADM.html#GUID-4427BCC2-4D84-4F6C-A057-0E2706F3CCF4" title="此过程为表格配置Oracle GoldenGate自动冲突检测和解决方案。">ADD_AUTO_CDR程序</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d443716e542 d443716e537 ">
                                 <p>为表格配置Oracle GoldenGate自动冲突检测和解决方案</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d443716e553" headers="d443716e534 ">
                                 <p><a href="DBMS_GOLDENGATE_ADM.html#GUID-3528D170-850E-41A0-9808-6CFF158F664D" title="此过程将列组添加到为Oracle GoldenGate自动冲突检测和解决配置的表中。">ADD_AUTO_CDR_COLUMN_GROUP过程</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d443716e553 d443716e537 ">
                                 <p>添加列组并为列组配置Oracle GoldenGate自动冲突检测和解决方案</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d443716e564" headers="d443716e534 ">
                                 <p><a href="DBMS_GOLDENGATE_ADM.html#GUID-92653241-FEDE-4C2C-808A-ECF798695B88" title="此过程为列配置Oracle GoldenGate自动冲突检测和增量分辨率。">ADD_AUTO_CDR_DELTA_RES过程</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d443716e564 d443716e537 ">
                                 <p>为列配置Oracle GoldenGate自动冲突检测和增量分辨率</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d443716e575" headers="d443716e534 ">
                                 <p><a href="DBMS_GOLDENGATE_ADM.html#GUID-6EA35135-322C-4D1A-B9B0-74744971E65B" title="此过程会更改表的Oracle GoldenGate自动冲突检测和解决方案。">ALTER_AUTO_CDR程序</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d443716e575 d443716e537 ">
                                 <p>更改表格的Oracle GoldenGate自动冲突检测和解决方案</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d443716e586" headers="d443716e534 ">
                                 <p><a href="DBMS_GOLDENGATE_ADM.html#GUID-8FD016B8-5CEA-46EE-9664-65D2F6CF850D" title="此过程会更改Oracle GoldenGate自动冲突检测和解决的列组。">ALTER_AUTO_CDR_COLUMN_GROUP过程</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d443716e586 d443716e537 ">
                                 <p>更改Oracle GoldenGate自动冲突检测和解决的列组</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d443716e597" headers="d443716e534 ">
                                 <p><a href="DBMS_GOLDENGATE_ADM.html#GUID-F603D51C-C38B-4C7B-8B26-FD3DA11D0AA1" title="此过程从Oracle GoldenGate过程复制的排除列表中删除数据库对象。">DELETE_PROCREP_EXCLUSION_OBJ程序</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d443716e597 d443716e537 ">
                                 <p>从Oracle GoldenGate过程复制的排除列表中删除数据库对象</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d443716e608" headers="d443716e534 ">
                                 <p><a href="DBMS_GOLDENGATE_ADM.html#GUID-872B95A8-0BF8-4538-9354-4FFD6FE179AF" title="如果启用了Oracle GoldenGate过程复制，则此函数返回1，如果禁用，则返回0。">GG_PROCEDURE_REPLICATION_ON功能</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d443716e608 d443716e537 ">
                                 <p>如果启用了Oracle GoldenGate过程复制，则返回1，如果禁用，则返回0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d443716e619" headers="d443716e534 ">
                                 <p><a href="DBMS_GOLDENGATE_ADM.html#GUID-31E365E2-FAC7-4903-B628-70DC91BB4814" title="此过程将数据库对象插入到Oracle GoldenGate过程复制的排除列表中。">INSERT_PROCREP_EXCLUSION_OBJ过程</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d443716e619 d443716e537 ">
                                 <p>将数据库对象插入Oracle GoldenGate过程复制的排除列表中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d443716e630" headers="d443716e534 ">
                                 <p><a href="DBMS_GOLDENGATE_ADM.html#GUID-6A63DAF2-C4E6-4D26-80D1-2BEF80EE3067" title="此过程将清除在逻辑删除表中指定时间戳之前删除的行。">PURGE_TOMSTSTES程序</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d443716e630 d443716e537 ">
                                 <p>清除在逻辑删除表中指定时间戳之前删除的行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d443716e641" headers="d443716e534 ">
                                 <p><a href="DBMS_GOLDENGATE_ADM.html#GUID-F2E5FD41-C915-42E7-804A-8A36D8D0EA34" title="此过程将删除表的Oracle GoldenGate自动冲突检测和解决方案。">REMOVE_AUTO_CDR程序</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d443716e641 d443716e537 ">
                                 <p>删除表格的Oracle GoldenGate自动冲突检测和解决方案</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d443716e652" headers="d443716e534 ">
                                 <p><a href="DBMS_GOLDENGATE_ADM.html#GUID-CB06E80B-0324-4ADD-BA8B-1A6BBDA978F1" title="此过程将删除为Oracle GoldenGate自动冲突检测和解决配置的列组。">REMOVE_AUTO_CDR_COLUMN_GROUP过程</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d443716e652 d443716e537 ">
                                 <p>删除为Oracle GoldenGate自动冲突检测和解决配置的列组</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d443716e664" headers="d443716e534 ">
                                 <p><a href="DBMS_GOLDENGATE_ADM.html#GUID-5A672C4D-FD51-4315-A96E-548DC41624E3" title="此过程将删除该列的Oracle GoldenGate自动冲突检测和增量分辨率。">REMOVE_AUTO_CDR_DELTA_RES过程</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d443716e664 d443716e537 ">
                                 <p>删除该列的Oracle GoldenGate自动冲突检测和增量分辨率</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-990B66F6-51A1-4C50-9EE3-69B1EE24D998__GUID-CC176850-78AE-4958-8862-E1FE334A1A51">
                        <p class="notep1">注意：</p>
                        <p>除非另有说明，否则所有程</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div class="props_rev_3"><a id="GUID-4427BCC2-4D84-4F6C-A057-0E2706F3CCF4" name="GUID-4427BCC2-4D84-4F6C-A057-0E2706F3CCF4"></a><h4 id="ARPLS-GUID-4427BCC2-4D84-4F6C-A057-0E2706F3CCF4" class="sect4"><span class="enumeration_section">73.2.1</span> ADD_AUTO_CDR程序</h4>
                  <div>
                     <p>此过程为表格配置Oracle GoldenGate自动冲突检测和解决方案。</p>
                     <div class="section">
                        <p>此过程配置的冲突检测和解决方案基于更改的时间戳。该过程将一个或多个<code class="codeph">TIMESTAMP</code>类型的隐藏列添加到表中，并且每个隐藏列的计数与每个表的1,000列的限制相对应。
                        </p>
                        <p>该过程自动将表中的列放入默认列组和无条件补充日志组（不包括非标量列）。要创建包含表中列的子集的列组，请使用此包中的<code class="codeph">ADD_AUTO_CDR_COLUMN_GROUP</code>过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4427BCC2-4D84-4F6C-A057-0E2706F3CCF4__GUID-FC5FC6E3-4884-465D-88E7-A09CCED0F12D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_GOLDENGATE_ADM.ADD_AUTO_CDR（schema_name IN VARCHAR2，table_name IN VARCHAR2，resolution_granularity IN VARCHAR2 DEFAULT'ROW'，existing_data_timestamp IN TIMESTAMP WITH TIME ZONE DEFAULT NULL，tombstone_deletes IN BOOLEAN DEFAULT TRUE，fetchcols IN BOOLEAN DEFAULT TRUE，record_conflicts IN BOOLEAN DEFAULT FALSE，use_custom_handlers IN BINARY_INTEGER默认0）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4427BCC2-4D84-4F6C-A057-0E2706F3CCF4__GUID-E7CEA713-F83D-4866-AA5C-7005AA78B8F0">参数</p>
                        <div class="tblformal" id="GUID-4427BCC2-4D84-4F6C-A057-0E2706F3CCF4__GUID-6C9D113B-EC57-40CF-85DC-57FD76717A5D">
                           <p class="titleintable">表73-2 ADD_AUTO_CDR过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADD_AUTO_CDR过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_GOLDENGATE_ADM.ADD_AUTO_CDR." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d443716e795">参数</th>
                                    <th align="left" valign="bottom" width="64%" id="d443716e798">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e803" headers="d443716e795 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e803 d443716e798 ">
                                       <p>表格模式的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e811" headers="d443716e795 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e811 d443716e798 ">
                                       <p>表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e819" headers="d443716e795 ">
                                       <p><code class="codeph">resolution_granularity</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e819 d443716e798 ">
                                       <p><code class="codeph">ROW</code> ，默认，增加了一个隐藏<code class="codeph">TIMESTAMP</code>的行列，一个隐藏<code class="codeph">TIMESTAMP</code>每个LOB列列。
                                       </p>
                                       <p><code class="codeph">COLUMN</code>为表中的每列添加一个隐藏的<code class="codeph">TIMESTAMP</code>列。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e842" headers="d443716e795 ">
                                       <p><code class="codeph">existing_data_timestamp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e842 d443716e798 ">
                                       <p>分配给现有行的时间戳。</p>
                                       <p>如果为<code class="codeph">NULL</code> ，则使用当前系统时间戳。如果指定了时间，并且操作系统时区不是有效的Oracle时区，则Oracle使用UTC作为默认值。
                                       </p> 
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e856" headers="d443716e795 ">
                                       <p><code class="codeph">tombstone_deletes</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e856 d443716e798 ">
                                       <p>默认情况下， <code class="codeph">TRUE</code>跟踪逻辑删除表中已删除的行。可能需要跟踪已删除的行来检测和解决某些冲突，但跟踪已删除的行需要额外的数据库资源。
                                       </p>
                                       <p><code class="codeph">FALSE</code>不跟踪逻辑删除表中已删除的行。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e870" headers="d443716e795 ">
                                       <p><code class="codeph">fetchcols</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e870 d443716e798 ">
                                       <p><code class="codeph">TRUE</code> ，默认值，在冲突检测和解决期间获取LOB的值。获取LOB可能是一项昂贵的操作。
                                       </p>
                                       <p>在冲突检测和解决期间， <code class="codeph">FALSE</code>不会获取LOB的值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e884" headers="d443716e795 ">
                                       <p><code class="codeph">record_conflicts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e884 d443716e798 ">
                                       <p><code class="codeph">TRUE</code>在<code class="codeph">DBA_APPLY_ERROR</code>和<code class="codeph">DBA_APPLY_ERROR_MESSAGES</code>视图中记录冲突。
                                       </p>
                                       <p><code class="codeph">FALSE</code> （默认值）不记录冲突。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e904" headers="d443716e795 ">
                                       <p><code class="codeph">use_custom_handlers</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e904 d443716e798 ">
                                       <p><code class="codeph">0</code> ，默认值，表示使用自动冲突处理程序。
                                       </p>
                                       <p><code class="codeph">1</code>表示不使用自动冲突处理程序，并且必须使用<code class="codeph">DBMS_APPLY_ADM</code>程序包中的<code class="codeph">SET_DML_HANDLER</code>过程指定自定义错误处理程序。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-3528D170-850E-41A0-9808-6CFF158F664D" name="GUID-3528D170-850E-41A0-9808-6CFF158F664D"></a><h4 id="ARPLS-GUID-3528D170-850E-41A0-9808-6CFF158F664D" class="sect4"><span class="enumeration_section">73.2.2</span> ADD_AUTO_CDR_COLUMN_GROUP过程</h4>
                  <div>
                     <p>此过程将列组添加到为Oracle GoldenGate自动冲突检测和解决配置的表中。</p>
                     <div class="section">
                        <p>对于已配置用于时间戳冲突检测和解决的表，此过程将添加一个列组，该列组包含表中指定的列子集。表中不属于列组的任何列都保留在表的默认列组中。</p>
                        <p>将列组添加到表时，将对列组中的列执行冲突检测和解析，与表中的其他列分开。列组使不同的数据库几乎同时更新同一行中的不同列，而不会导致冲突。</p>
                        <p>例如，包含员工信息的复制表可能具有工资列和奖励列以及标识员工的其他列和员工办公室编号的位置列。假设公司中的一个部门更新其数据库以更改员工的工资，而另一个部门更新其数据库以更改员工的位置。如果salary和bonus列位于列组中，则这些更改将应用于每个数据库中的复制表，而不需要解决冲突。</p>
                        <p>该过程自动将列组中的列放入无条件的补充日志组，不包括非标量列。</p>
                        <p>在可以在表上运行此过程之前，必须在表中运行<code class="codeph">DBMS_GOLDENGATE_ADM.ADD_AUTO_CDR</code>过程，并为<code class="codeph">resolution_granularity</code>参数指定<code class="codeph">ROW</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3528D170-850E-41A0-9808-6CFF158F664D__GUID-FC5FC6E3-4884-465D-88E7-A09CCED0F12D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_GOLDENGATE_ADM.ADD_AUTO_CDR_COLUMN_GROUP（schema_name IN VARCHAR2，table_name IN VARCHAR2，column_list IN VARCHAR2，column_group_name IN VARCHAR2 DEFAULT NULL，existing_data_timestamp IN TIMESTAMP WITH TIME ZONE DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3528D170-850E-41A0-9808-6CFF158F664D__GUID-E7CEA713-F83D-4866-AA5C-7005AA78B8F0">参数</p>
                        <div class="tblformal" id="GUID-3528D170-850E-41A0-9808-6CFF158F664D__GUID-6C9D113B-EC57-40CF-85DC-57FD76717A5D">
                           <p class="titleintable">表73-3 ADD_AUTO_CDR_COLUMN_GROUP过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADD_AUTO_CDR_COLUMN_GROUP过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_GOLDENGATE_ADM.ADD_AUTO_CDR_COLUMN_GROUP." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d443716e1049">参数</th>
                                    <th align="left" valign="bottom" width="64%" id="d443716e1052">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1057" headers="d443716e1049 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1057 d443716e1052 ">
                                       <p>表格模式的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1065" headers="d443716e1049 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1065 d443716e1052 ">
                                       <p>表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1073" headers="d443716e1049 ">
                                       <p><code class="codeph">column_list中</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1073 d443716e1052 ">
                                       <p>为其配置冲突检测和解决方案的列组。</p>
                                       <p>以逗号分隔的列表指定列。</p>
                                       <p>同一列不能位于多个列组中。此外，同一列不能位于列组中并以增量分辨率指定。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1085" headers="d443716e1049 ">
                                       <p><code class="codeph">column_group_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1085 d443716e1052 ">
                                       <p>列组的名称。</p>
                                       <p>如果为<code class="codeph">NULL</code> ，则列组名称是系统生成的。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1098" headers="d443716e1049 ">
                                       <p><code class="codeph">existing_data_timestamp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1098 d443716e1052 ">
                                       <p>现有表数据的已添加<code class="codeph">TIMESTAMP</code>列的时间值。
                                       </p> 
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-92653241-FEDE-4C2C-808A-ECF798695B88" name="GUID-92653241-FEDE-4C2C-808A-ECF798695B88"></a><h4 id="ARPLS-GUID-92653241-FEDE-4C2C-808A-ECF798695B88" class="sect4"><span class="enumeration_section">73.2.3</span> ADD_AUTO_CDR_DELTA_RES过程</h4>
                  <div>
                     <p>此过程为列配置Oracle GoldenGate自动冲突检测和增量分辨率。</p>
                     <div class="section">
                        <p>分辨率方法不依赖于时间戳或额外的分辨率列。使用delta冲突解决方案，可以通过将LCR中新旧值之间的差异添加到表中的值来解决冲突。例如，如果同时在两个站点更新银行余额，则融合值会计入所有借方和贷方。此解决方法通常用于财务数据，例如帐户余额。</p>
                        <p>该过程自动将列放入无条件的补充日志组。</p>
                        <p>在可以在表上运行此过程之前，必须在表中运行<code class="codeph">DBMS_GOLDENGATE_ADM.ADD_AUTO_CDR</code>过程，并为<code class="codeph">resolution_granularity</code>参数指定<code class="codeph">ROW</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-92653241-FEDE-4C2C-808A-ECF798695B88__GUID-FC5FC6E3-4884-465D-88E7-A09CCED0F12D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_GOLDENGATE_ADM.ADD_AUTO_CDR_DELTA_RES（schema_name IN VARCHAR2，table_name IN VARCHAR2，column_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-92653241-FEDE-4C2C-808A-ECF798695B88__GUID-E7CEA713-F83D-4866-AA5C-7005AA78B8F0">参数</p>
                        <div class="tblformal" id="GUID-92653241-FEDE-4C2C-808A-ECF798695B88__GUID-6C9D113B-EC57-40CF-85DC-57FD76717A5D">
                           <p class="titleintable">表73-4 ADD_AUTO_CDR_DELTA_RES过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADD_AUTO_CDR_DELTA_RES过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_GOLDENGATE_ADM.ADD_AUTO_CDR_DELTA_RES." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d443716e1232">参数</th>
                                    <th align="left" valign="bottom" width="64%" id="d443716e1235">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1240" headers="d443716e1232 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1240 d443716e1235 ">
                                       <p>表格模式的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1248" headers="d443716e1232 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1248 d443716e1235 ">
                                       <p>表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1256" headers="d443716e1232 ">
                                       <p><code class="codeph">列名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1256 d443716e1235 ">
                                       <p>列的名称。</p>
                                       <p>指定的列必须是<code class="codeph">NUMBER</code>或<code class="codeph">FLOAT</code>数据类型列。
                                       </p>
                                       <p>同一列不能位于列组中。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6EA35135-322C-4D1A-B9B0-74744971E65B" name="GUID-6EA35135-322C-4D1A-B9B0-74744971E65B"></a><h4 id="ARPLS-GUID-6EA35135-322C-4D1A-B9B0-74744971E65B" class="sect4"><span class="enumeration_section">73.2.4</span> ALTER_AUTO_CDR程序</h4>
                  <div>
                     <p>此过程会更改表的Oracle GoldenGate自动冲突检测和解决方案。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6EA35135-322C-4D1A-B9B0-74744971E65B__GUID-FC5FC6E3-4884-465D-88E7-A09CCED0F12D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_GOLDENGATE_ADM.ALTER_AUTO_CDR（schema_name IN VARCHAR2，table_name IN VARCHAR2，tombstone_deletes IN BOOLEAN DEFAULT NULL，fetchcols IN BOOLEAN DEFAULT NULL，record_conflicts IN BOOLEAN DEFAULT NULL，use_custom_handlers IN BINARY_INTEGER DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6EA35135-322C-4D1A-B9B0-74744971E65B__GUID-E7CEA713-F83D-4866-AA5C-7005AA78B8F0">参数</p>
                        <div class="tblformal" id="GUID-6EA35135-322C-4D1A-B9B0-74744971E65B__GUID-6C9D113B-EC57-40CF-85DC-57FD76717A5D">
                           <p class="titleintable">表73-5 ALTER_AUTO_CDR过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ALTER_AUTO_CDR过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_GOLDENGATE_ADM.ALTER_AUTO_CDR." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d443716e1379">参数</th>
                                    <th align="left" valign="bottom" width="64%" id="d443716e1382">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1387" headers="d443716e1379 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1387 d443716e1382 ">
                                       <p>表格模式的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1395" headers="d443716e1379 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1395 d443716e1382 ">
                                       <p>表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1403" headers="d443716e1379 ">
                                       <p><code class="codeph">tombstone_deletes</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1403 d443716e1382 ">
                                       <p><code class="codeph">TRUE</code>跟踪逻辑删除表中已删除的行。可能需要跟踪已删除的行来检测和解决某些冲突，但跟踪已删除的行需要额外的数据库资源。
                                       </p>
                                       <p><code class="codeph">FALSE</code>不跟踪逻辑删除表中已删除的行。
                                       </p>
                                       <p><code class="codeph">NULL</code>保留参数的当前设置。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1421" headers="d443716e1379 ">
                                       <p><code class="codeph">fetchcols</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1421 d443716e1382 ">
                                       <p><code class="codeph">TRUE</code>在冲突检测和解决期间获取非标量列的值。
                                       </p>
                                       <p>在冲突检测和解决期间， <code class="codeph">FALSE</code>不会获取非标量列的值。
                                       </p>
                                       <p><code class="codeph">NULL</code>保留参数的当前设置。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1439" headers="d443716e1379 ">
                                       <p><code class="codeph">record_conflicts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1439 d443716e1382 ">
                                       <p><code class="codeph">TRUE</code>记录冲突。
                                       </p>
                                       <p><code class="codeph">FALSE</code>不记录冲突。
                                       </p>
                                       <p><code class="codeph">NULL</code>保留参数的当前设置。
                                       </p> 
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1458" headers="d443716e1379 ">
                                       <p><code class="codeph">use_custom_handlers</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1458 d443716e1382 ">
                                       <p><code class="codeph">0</code>表示使用自动冲突处理程序。
                                       </p>
                                       <p><code class="codeph">1</code>表示不使用自动冲突处理程序，并且必须使用<code class="codeph">DBMS_APPLY_ADM</code>程序包中的<code class="codeph">SET_DML_HANDLER</code>过程指定自定义错误处理程序。
                                       </p>
                                       <p><code class="codeph">NULL</code> （默认值）保留参数的当前设置。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-8FD016B8-5CEA-46EE-9664-65D2F6CF850D" name="GUID-8FD016B8-5CEA-46EE-9664-65D2F6CF850D"></a><h4 id="ARPLS-GUID-8FD016B8-5CEA-46EE-9664-65D2F6CF850D" class="sect4"><span class="enumeration_section">73.2.5</span> ALTER_AUTO_CDR_COLUMN_GROUP过程</h4>
                  <div>
                     <p>此过程会更改Oracle GoldenGate自动冲突检测和解决的列组。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8FD016B8-5CEA-46EE-9664-65D2F6CF850D__GUID-FC5FC6E3-4884-465D-88E7-A09CCED0F12D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_GOLDENGATE_ADM.ALTER_AUTO_CDR_COLUMN_GROUP（schema_name IN VARCHAR2，table_name IN VARCHAR2，column_group_name IN VARCHAR2，add_column_list IN VARCHAR2，remove_column_list IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8FD016B8-5CEA-46EE-9664-65D2F6CF850D__GUID-E7CEA713-F83D-4866-AA5C-7005AA78B8F0">参数</p>
                        <div class="tblformal" id="GUID-8FD016B8-5CEA-46EE-9664-65D2F6CF850D__GUID-6C9D113B-EC57-40CF-85DC-57FD76717A5D">
                           <p class="titleintable">表73-6 ALTER_AUTO_CDR_COLUMN_GROUP过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ALTER_AUTO_CDR_COLUMN_GROUP过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_GOLDENGATE_ADM.ALTER_AUTO_CDR_COLUMN_GROUP." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d443716e1587">参数</th>
                                    <th align="left" valign="bottom" width="64%" id="d443716e1590">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1595" headers="d443716e1587 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1595 d443716e1590 ">
                                       <p>表格模式的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1603" headers="d443716e1587 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1603 d443716e1590 ">
                                       <p>表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1611" headers="d443716e1587 ">
                                       <p><code class="codeph">column_group_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1611 d443716e1590 ">
                                       <p>列组的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1619" headers="d443716e1587 ">
                                       <p><code class="codeph">add_column_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1619 d443716e1590 ">
                                       <p>要添加到列组的以逗号分隔的列列表。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1627" headers="d443716e1587 ">
                                       <p><code class="codeph">remove_column_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1627 d443716e1590 ">
                                       <p>要从列组中删除的以逗号分隔的列列表。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-F603D51C-C38B-4C7B-8B26-FD3DA11D0AA1" name="GUID-F603D51C-C38B-4C7B-8B26-FD3DA11D0AA1"></a><h4 id="ARPLS-GUID-F603D51C-C38B-4C7B-8B26-FD3DA11D0AA1" class="sect4"><span class="enumeration_section">73.2.6</span> DELETE_PROCREP_EXCLUSION_OBJ过程</h4>
                  <div>
                     <p>此过程从Oracle GoldenGate过程复制的排除列表中删除数据库对象。</p>
                     <div class="section">
                        <p>当数据库对象位于Oracle GoldenGate过程复制的排除列表中时，如果子程序对排除的对象进行操作，则不会复制程序包中子程序的执行。例如，如果<code class="codeph">hr.employees</code>是用于排除的数据库对象<code class="codeph">DBMS_REDEFINITION</code>包，则的执行<code class="codeph">DBMS_REDEFINITION.START_REDEF_TABLE</code>上的程序<code class="codeph">hr.employees</code>表没有被复制。
                        </p>
                        <div class="infoboxnote" id="GUID-F603D51C-C38B-4C7B-8B26-FD3DA11D0AA1__GUID-817433DF-2494-42AF-82FC-78C11E243059">
                           <p class="notep1">警告：</p>仅在Oracle Support的指导下运行<code class="codeph">DELETE_PROCREP_EXCLUSION_OBJ</code>过程。
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F603D51C-C38B-4C7B-8B26-FD3DA11D0AA1__GUID-FC5FC6E3-4884-465D-88E7-A09CCED0F12D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_GOLDENGATE_ADM.DELETE_PROCREP_EXCLUSION_OBJ（package_owner IN VARCHAR2 DEFAULT NULL，package_name IN VARCHAR2 DEFAULT NULL，object_owner IN VARCHAR2 DEFAULT NULL，object_name IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F603D51C-C38B-4C7B-8B26-FD3DA11D0AA1__GUID-E7CEA713-F83D-4866-AA5C-7005AA78B8F0">参数</p>
                        <div class="tblformal" id="GUID-F603D51C-C38B-4C7B-8B26-FD3DA11D0AA1__GUID-6C9D113B-EC57-40CF-85DC-57FD76717A5D">
                           <p class="titleintable">表73-7 DELETE_PROCREP_EXCLUSION_OBJ过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_PROCREP_EXCLUSION_OBJ过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_GOLDENGATE_ADM.DELETE_PROCREP_EXCLUSION_OBJ." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d443716e1761">参数</th>
                                    <th align="left" valign="bottom" width="64%" id="d443716e1764">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1769" headers="d443716e1761 ">
                                       <p><code class="codeph">package_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1769 d443716e1764 ">
                                       <p>包的所有者。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1777" headers="d443716e1761 ">
                                       <p><code class="codeph">包裹名字</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1777 d443716e1764 ">
                                       <p>包的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1785" headers="d443716e1761 ">
                                       <p><code class="codeph">OBJECT_OWNER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1785 d443716e1764 ">
                                       <p>对象的所有者。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e1793" headers="d443716e1761 ">
                                       <p><code class="codeph">OBJECT_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e1793 d443716e1764 ">
                                       <p>对象的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-872B95A8-0BF8-4538-9354-4FFD6FE179AF" name="GUID-872B95A8-0BF8-4538-9354-4FFD6FE179AF"></a><h4 id="ARPLS-GUID-872B95A8-0BF8-4538-9354-4FFD6FE179AF" class="sect4"><span class="enumeration_section">73.2.7</span> GG_PROCEDURE_REPLICATION_ON功能</h4>
                  <div>
                     <p>如果启用了Oracle GoldenGate过程复制，则此函数返回1，如果禁用，则返回0。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-872B95A8-0BF8-4538-9354-4FFD6FE179AF__GUID-C16083F0-7550-49C2-B665-1E58803465BA">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_GOLDENGATE_ADM.GG_PROCEDURE_REPLICATION_ON返回号码;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-31E365E2-FAC7-4903-B628-70DC91BB4814" name="GUID-31E365E2-FAC7-4903-B628-70DC91BB4814"></a><h4 id="ARPLS-GUID-31E365E2-FAC7-4903-B628-70DC91BB4814" class="sect4"><span class="enumeration_section">73.2.8</span> INSERT_PROCREP_EXCLUSION_OBJ过程</h4>
                  <div>
                     <p>此过程将数据库对象插入到Oracle GoldenGate过程复制的排除列表中。</p>
                     <div class="section">
                        <p>当数据库对象位于Oracle GoldenGate过程复制的排除列表中时，如果子程序对排除的对象进行操作，则不会复制程序包中子程序的执行。例如，如果<code class="codeph">hr.employees</code>是用于排除的数据库对象<code class="codeph">DBMS_REDEFINITION</code>包，则的执行<code class="codeph">DBMS_REDEFINITION.START_REDEF_TABLE</code>上的程序<code class="codeph">hr.employees</code>表没有被复制。
                        </p>
                        <div class="infoboxnote" id="GUID-31E365E2-FAC7-4903-B628-70DC91BB4814__GUID-23CE1630-BD6B-48E2-9C49-6DA024009C3C">
                           <p class="notep1">警告：</p>仅在Oracle Support的指导下运行<code class="codeph">INSERT_PROCREP_EXCLUSION_OBJ</code>过程。
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-31E365E2-FAC7-4903-B628-70DC91BB4814__GUID-FC5FC6E3-4884-465D-88E7-A09CCED0F12D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_GOLDENGATE_ADM.INSERT_PROCREP_EXCLUSION_OBJ（package_owner IN VARCHAR2 DEFAULT NULL，package_name IN VARCHAR2 DEFAULT NULL，object_owner IN VARCHAR2 DEFAULT NULL，object_name IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-31E365E2-FAC7-4903-B628-70DC91BB4814__GUID-E7CEA713-F83D-4866-AA5C-7005AA78B8F0">参数</p>
                        <div class="tblformal" id="GUID-31E365E2-FAC7-4903-B628-70DC91BB4814__GUID-6C9D113B-EC57-40CF-85DC-57FD76717A5D">
                           <p class="titleintable">表73-8 INSERT_PROCREP_EXCLUSION_OBJ过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="INSERT_PROCREP_EXCLUSION_OBJ过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_GOLDENGATE_ADM.INSERT_PROCREP_EXCLUSION_OBJ." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d443716e2019">参数</th>
                                    <th align="left" valign="bottom" width="64%" id="d443716e2022">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e2027" headers="d443716e2019 ">
                                       <p><code class="codeph">package_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e2027 d443716e2022 ">
                                       <p>包的所有者。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e2035" headers="d443716e2019 ">
                                       <p><code class="codeph">包裹名字</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e2035 d443716e2022 ">
                                       <p>包的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e2043" headers="d443716e2019 ">
                                       <p><code class="codeph">OBJECT_OWNER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e2043 d443716e2022 ">
                                       <p>对象的所有者。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e2051" headers="d443716e2019 ">
                                       <p><code class="codeph">OBJECT_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e2051 d443716e2022 ">
                                       <p>对象的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6A63DAF2-C4E6-4D26-80D1-2BEF80EE3067" name="GUID-6A63DAF2-C4E6-4D26-80D1-2BEF80EE3067"></a><h4 id="ARPLS-GUID-6A63DAF2-C4E6-4D26-80D1-2BEF80EE3067" class="sect4"><span class="enumeration_section">73.2.9</span> PURGE_TOMSTSTES程序</h4>
                  <div>
                     <p>此过程将清除在逻辑删除表中指定时间戳之前删除的行。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6A63DAF2-C4E6-4D26-80D1-2BEF80EE3067__GUID-FC5FC6E3-4884-465D-88E7-A09CCED0F12D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_GOLDENGATE_ADM.PURGE_TOMBSTONES（带时区的TIMESTAMP中的purge_timestamp）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6A63DAF2-C4E6-4D26-80D1-2BEF80EE3067__GUID-E7CEA713-F83D-4866-AA5C-7005AA78B8F0">参数</p>
                        <div class="tblformal" id="GUID-6A63DAF2-C4E6-4D26-80D1-2BEF80EE3067__GUID-6C9D113B-EC57-40CF-85DC-57FD76717A5D">
                           <p class="titleintable">表73-9 PURGE_TOMBSTONES过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PURGE_TOMBSTONES过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_GOLDENGATE_ADM.PURGE_TOMBSTONES." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d443716e2165">参数</th>
                                    <th align="left" valign="bottom" width="64%" id="d443716e2168">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e2173" headers="d443716e2165 ">
                                       <p><code class="codeph">purge_timestamp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e2173 d443716e2168 ">
                                       <p>清除记录之前的时间戳。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-F2E5FD41-C915-42E7-804A-8A36D8D0EA34" name="GUID-F2E5FD41-C915-42E7-804A-8A36D8D0EA34"></a><h4 id="ARPLS-GUID-F2E5FD41-C915-42E7-804A-8A36D8D0EA34" class="sect4"><span class="enumeration_section">73.2.10</span> REMOVE_AUTO_CDR程序</h4>
                  <div>
                     <p>此过程将删除表的Oracle GoldenGate自动冲突检测和解决方案。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F2E5FD41-C915-42E7-804A-8A36D8D0EA34__GUID-FC5FC6E3-4884-465D-88E7-A09CCED0F12D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_GOLDENGATE_ADM.REMOVE_AUTO_CDR（schema_name IN VARCHAR2，table_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F2E5FD41-C915-42E7-804A-8A36D8D0EA34__GUID-E7CEA713-F83D-4866-AA5C-7005AA78B8F0">参数</p>
                        <div class="tblformal" id="GUID-F2E5FD41-C915-42E7-804A-8A36D8D0EA34__GUID-6C9D113B-EC57-40CF-85DC-57FD76717A5D">
                           <p class="titleintable">表73-10 REMOVE_AUTO_CDR过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REMOVE_AUTO_CDR过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_GOLDENGATE_ADM.REMOVE_AUTO_CDR." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d443716e2286">参数</th>
                                    <th align="left" valign="bottom" width="64%" id="d443716e2289">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e2294" headers="d443716e2286 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e2294 d443716e2289 ">
                                       <p>表格模式的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e2302" headers="d443716e2286 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e2302 d443716e2289 ">
                                       <p>表的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-CB06E80B-0324-4ADD-BA8B-1A6BBDA978F1" name="GUID-CB06E80B-0324-4ADD-BA8B-1A6BBDA978F1"></a><h4 id="ARPLS-GUID-CB06E80B-0324-4ADD-BA8B-1A6BBDA978F1" class="sect4"><span class="enumeration_section">73.2.11</span> REMOVE_AUTO_CDR_COLUMN_GROUP过程</h4>
                  <div>
                     <p>此过程将删除为Oracle GoldenGate自动冲突检测和解决配置的列组。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CB06E80B-0324-4ADD-BA8B-1A6BBDA978F1__GUID-FC5FC6E3-4884-465D-88E7-A09CCED0F12D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_GOLDENGATE_ADM.REMOVE_AUTO_CDR_COLUMN_GROUP（schema_name IN VARCHAR2，table_name IN VARCHAR2，column_group_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CB06E80B-0324-4ADD-BA8B-1A6BBDA978F1__GUID-E7CEA713-F83D-4866-AA5C-7005AA78B8F0">参数</p>
                        <div class="tblformal" id="GUID-CB06E80B-0324-4ADD-BA8B-1A6BBDA978F1__GUID-6C9D113B-EC57-40CF-85DC-57FD76717A5D">
                           <p class="titleintable">表73-11 REMOVE_AUTO_CDR_COLUMN_GROUP过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REMOVE_AUTO_CDR_COLUMN_GROUP过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_GOLDENGATE_ADM.REMOVE_AUTO_CDR_COLUMN_GROUP." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d443716e2415">参数</th>
                                    <th align="left" valign="bottom" width="64%" id="d443716e2418">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e2423" headers="d443716e2415 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e2423 d443716e2418 ">
                                       <p>表格模式的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e2431" headers="d443716e2415 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e2431 d443716e2418 ">
                                       <p>表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e2439" headers="d443716e2415 ">
                                       <p><code class="codeph">column_group_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e2439 d443716e2418 ">
                                       <p>列组的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-5A672C4D-FD51-4315-A96E-548DC41624E3" name="GUID-5A672C4D-FD51-4315-A96E-548DC41624E3"></a><h4 id="ARPLS-GUID-5A672C4D-FD51-4315-A96E-548DC41624E3" class="sect4"><span class="enumeration_section">73.2.12</span> REMOVE_AUTO_CDR_DELTA_RES过程</h4>
                  <div>
                     <p>此过程将删除该列的Oracle GoldenGate自动冲突检测和增量分辨率。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5A672C4D-FD51-4315-A96E-548DC41624E3__GUID-FC5FC6E3-4884-465D-88E7-A09CCED0F12D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_GOLDENGATE_ADM.REMOVE_AUTO_CDR_DELTA_RES（schema_name IN VARCHAR2，table_name IN VARCHAR2，column_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5A672C4D-FD51-4315-A96E-548DC41624E3__GUID-E7CEA713-F83D-4866-AA5C-7005AA78B8F0">参数</p>
                        <div class="tblformal" id="GUID-5A672C4D-FD51-4315-A96E-548DC41624E3__GUID-6C9D113B-EC57-40CF-85DC-57FD76717A5D">
                           <p class="titleintable">表73-12 REMOVE_AUTO_CDR_DELTA_RES过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REMOVE_AUTO_CDR_DELTA_RES过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_GOLDENGATE_ADM.REMOVE_AUTO_CDR_DELTA_RES." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d443716e2553">参数</th>
                                    <th align="left" valign="bottom" width="64%" id="d443716e2556">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e2561" headers="d443716e2553 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e2561 d443716e2556 ">
                                       <p>表格模式的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e2569" headers="d443716e2553 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e2569 d443716e2556 ">
                                       <p>表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d443716e2577" headers="d443716e2553 ">
                                       <p><code class="codeph">列名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d443716e2577 d443716e2556 ">
                                       <p>列的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>